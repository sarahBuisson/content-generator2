var Kle=Object.defineProperty;var Yle=(e,t,i)=>t in e?Kle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Qle=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var gi=(e,t,i)=>(Yle(e,typeof t!="symbol"?t+"":t,i),i);var MPe=Qle((tk,hS)=>{function Xle(e,t){for(var i=0;i<t.length;i++){const a=t[i];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const h=Object.getOwnPropertyDescriptor(a,l);h&&Object.defineProperty(e,l,h.get?h:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var Hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var s6={exports:{}},pb={},u6={exports:{}},ur={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv=Symbol.for("react.element"),Jle=Symbol.for("react.portal"),qle=Symbol.for("react.fragment"),Zle=Symbol.for("react.strict_mode"),ede=Symbol.for("react.profiler"),tde=Symbol.for("react.provider"),rde=Symbol.for("react.context"),nde=Symbol.for("react.forward_ref"),ide=Symbol.for("react.suspense"),ode=Symbol.for("react.memo"),ade=Symbol.for("react.lazy"),O4=Symbol.iterator;function sde(e){return e===null||typeof e!="object"?null:(e=O4&&e[O4]||e["@@iterator"],typeof e=="function"?e:null)}var c6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l6=Object.assign,d6={};function Ah(e,t,i){this.props=e,this.context=t,this.refs=d6,this.updater=i||c6}Ah.prototype.isReactComponent={};Ah.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ah.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function f6(){}f6.prototype=Ah.prototype;function rk(e,t,i){this.props=e,this.context=t,this.refs=d6,this.updater=i||c6}var nk=rk.prototype=new f6;nk.constructor=rk;l6(nk,Ah.prototype);nk.isPureReactComponent=!0;var N4=Array.isArray,h6=Object.prototype.hasOwnProperty,ik={current:null},p6={key:!0,ref:!0,__self:!0,__source:!0};function g6(e,t,i){var a,l={},h=null,g=null;if(t!=null)for(a in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(h=""+t.key),t)h6.call(t,a)&&!p6.hasOwnProperty(a)&&(l[a]=t[a]);var v=arguments.length-2;if(v===1)l.children=i;else if(1<v){for(var T=Array(v),C=0;C<v;C++)T[C]=arguments[C+2];l.children=T}if(e&&e.defaultProps)for(a in v=e.defaultProps,v)l[a]===void 0&&(l[a]=v[a]);return{$$typeof:lv,type:e,key:h,ref:g,props:l,_owner:ik.current}}function ude(e,t){return{$$typeof:lv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ok(e){return typeof e=="object"&&e!==null&&e.$$typeof===lv}function cde(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var M4=/\/+/g;function QE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cde(""+e.key):t.toString(36)}function Ry(e,t,i,a,l){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(h){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case lv:case Jle:g=!0}}if(g)return g=e,l=l(g),e=a===""?"."+QE(g,0):a,N4(l)?(i="",e!=null&&(i=e.replace(M4,"$&/")+"/"),Ry(l,t,i,"",function(C){return C})):l!=null&&(ok(l)&&(l=ude(l,i+(!l.key||g&&g.key===l.key?"":(""+l.key).replace(M4,"$&/")+"/")+e)),t.push(l)),1;if(g=0,a=a===""?".":a+":",N4(e))for(var v=0;v<e.length;v++){h=e[v];var T=a+QE(h,v);g+=Ry(h,t,i,T,l)}else if(T=sde(e),typeof T=="function")for(e=T.call(e),v=0;!(h=e.next()).done;)h=h.value,T=a+QE(h,v++),g+=Ry(h,t,i,T,l);else if(h==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function Q0(e,t,i){if(e==null)return e;var a=[],l=0;return Ry(e,a,"","",function(h){return t.call(i,h,l++)}),a}function lde(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var to={current:null},Fy={transition:null},dde={ReactCurrentDispatcher:to,ReactCurrentBatchConfig:Fy,ReactCurrentOwner:ik};function m6(){throw Error("act(...) is not supported in production builds of React.")}ur.Children={map:Q0,forEach:function(e,t,i){Q0(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return Q0(e,function(){t++}),t},toArray:function(e){return Q0(e,function(t){return t})||[]},only:function(e){if(!ok(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ur.Component=Ah;ur.Fragment=qle;ur.Profiler=ede;ur.PureComponent=rk;ur.StrictMode=Zle;ur.Suspense=ide;ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dde;ur.act=m6;ur.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=l6({},e.props),l=e.key,h=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(h=t.ref,g=ik.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var v=e.type.defaultProps;for(T in t)h6.call(t,T)&&!p6.hasOwnProperty(T)&&(a[T]=t[T]===void 0&&v!==void 0?v[T]:t[T])}var T=arguments.length-2;if(T===1)a.children=i;else if(1<T){v=Array(T);for(var C=0;C<T;C++)v[C]=arguments[C+2];a.children=v}return{$$typeof:lv,type:e.type,key:l,ref:h,props:a,_owner:g}};ur.createContext=function(e){return e={$$typeof:rde,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tde,_context:e},e.Consumer=e};ur.createElement=g6;ur.createFactory=function(e){var t=g6.bind(null,e);return t.type=e,t};ur.createRef=function(){return{current:null}};ur.forwardRef=function(e){return{$$typeof:nde,render:e}};ur.isValidElement=ok;ur.lazy=function(e){return{$$typeof:ade,_payload:{_status:-1,_result:e},_init:lde}};ur.memo=function(e,t){return{$$typeof:ode,type:e,compare:t===void 0?null:t}};ur.startTransition=function(e){var t=Fy.transition;Fy.transition={};try{e()}finally{Fy.transition=t}};ur.unstable_act=m6;ur.useCallback=function(e,t){return to.current.useCallback(e,t)};ur.useContext=function(e){return to.current.useContext(e)};ur.useDebugValue=function(){};ur.useDeferredValue=function(e){return to.current.useDeferredValue(e)};ur.useEffect=function(e,t){return to.current.useEffect(e,t)};ur.useId=function(){return to.current.useId()};ur.useImperativeHandle=function(e,t,i){return to.current.useImperativeHandle(e,t,i)};ur.useInsertionEffect=function(e,t){return to.current.useInsertionEffect(e,t)};ur.useLayoutEffect=function(e,t){return to.current.useLayoutEffect(e,t)};ur.useMemo=function(e,t){return to.current.useMemo(e,t)};ur.useReducer=function(e,t,i){return to.current.useReducer(e,t,i)};ur.useRef=function(e){return to.current.useRef(e)};ur.useState=function(e){return to.current.useState(e)};ur.useSyncExternalStore=function(e,t,i){return to.current.useSyncExternalStore(e,t,i)};ur.useTransition=function(){return to.current.useTransition()};ur.version="18.3.1";u6.exports=ur;var ye=u6.exports;const yi=xh(ye),L4=Xle({__proto__:null,default:yi},[ye]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fde=ye,hde=Symbol.for("react.element"),pde=Symbol.for("react.fragment"),gde=Object.prototype.hasOwnProperty,mde=fde.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vde={key:!0,ref:!0,__self:!0,__source:!0};function v6(e,t,i){var a,l={},h=null,g=null;i!==void 0&&(h=""+i),t.key!==void 0&&(h=""+t.key),t.ref!==void 0&&(g=t.ref);for(a in t)gde.call(t,a)&&!vde.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)l[a]===void 0&&(l[a]=t[a]);return{$$typeof:hde,type:e,key:h,ref:g,props:l,_owner:mde.current}}pb.Fragment=pde;pb.jsx=v6;pb.jsxs=v6;s6.exports=pb;var Ee=s6.exports,iA={},_6={exports:{}},Qo={},y6={exports:{}},S6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Re,Me){var Ae=Re.length;Re.push(Me);e:for(;0<Ae;){var Je=Ae-1>>>1,He=Re[Je];if(0<l(He,Me))Re[Je]=Me,Re[Ae]=He,Ae=Je;else break e}}function i(Re){return Re.length===0?null:Re[0]}function a(Re){if(Re.length===0)return null;var Me=Re[0],Ae=Re.pop();if(Ae!==Me){Re[0]=Ae;e:for(var Je=0,He=Re.length,Ge=He>>>1;Je<Ge;){var nt=2*(Je+1)-1,pe=Re[nt],oe=nt+1,me=Re[oe];if(0>l(pe,Ae))oe<He&&0>l(me,pe)?(Re[Je]=me,Re[oe]=Ae,Je=oe):(Re[Je]=pe,Re[nt]=Ae,Je=nt);else if(oe<He&&0>l(me,Ae))Re[Je]=me,Re[oe]=Ae,Je=oe;else break e}}return Me}function l(Re,Me){var Ae=Re.sortIndex-Me.sortIndex;return Ae!==0?Ae:Re.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var g=Date,v=g.now();e.unstable_now=function(){return g.now()-v}}var T=[],C=[],E=1,A=null,D=3,M=!1,w=!1,O=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(Re){for(var Me=i(C);Me!==null;){if(Me.callback===null)a(C);else if(Me.startTime<=Re)a(C),Me.sortIndex=Me.expirationTime,t(T,Me);else break;Me=i(C)}}function K(Re){if(O=!1,W(Re),!w)if(i(T)!==null)w=!0,je(de);else{var Me=i(C);Me!==null&&Ze(K,Me.startTime-Re)}}function de(Re,Me){w=!1,O&&(O=!1,k(ce),ce=-1),M=!0;var Ae=D;try{for(W(Me),A=i(T);A!==null&&(!(A.expirationTime>Me)||Re&&!fe());){var Je=A.callback;if(typeof Je=="function"){A.callback=null,D=A.priorityLevel;var He=Je(A.expirationTime<=Me);Me=e.unstable_now(),typeof He=="function"?A.callback=He:A===i(T)&&a(T),W(Me)}else a(T);A=i(T)}if(A!==null)var Ge=!0;else{var nt=i(C);nt!==null&&Ze(K,nt.startTime-Me),Ge=!1}return Ge}finally{A=null,D=Ae,M=!1}}var ee=!1,X=null,ce=-1,he=5,le=-1;function fe(){return!(e.unstable_now()-le<he)}function _e(){if(X!==null){var Re=e.unstable_now();le=Re;var Me=!0;try{Me=X(!0,Re)}finally{Me?xe():(ee=!1,X=null)}}else ee=!1}var xe;if(typeof R=="function")xe=function(){R(_e)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Ne=De.port2;De.port1.onmessage=_e,xe=function(){Ne.postMessage(null)}}else xe=function(){N(_e,0)};function je(Re){X=Re,ee||(ee=!0,xe())}function Ze(Re,Me){ce=N(function(){Re(e.unstable_now())},Me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Re){Re.callback=null},e.unstable_continueExecution=function(){w||M||(w=!0,je(de))},e.unstable_forceFrameRate=function(Re){0>Re||125<Re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<Re?Math.floor(1e3/Re):5},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return i(T)},e.unstable_next=function(Re){switch(D){case 1:case 2:case 3:var Me=3;break;default:Me=D}var Ae=D;D=Me;try{return Re()}finally{D=Ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Re,Me){switch(Re){case 1:case 2:case 3:case 4:case 5:break;default:Re=3}var Ae=D;D=Re;try{return Me()}finally{D=Ae}},e.unstable_scheduleCallback=function(Re,Me,Ae){var Je=e.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?Je+Ae:Je):Ae=Je,Re){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=Ae+He,Re={id:E++,callback:Me,priorityLevel:Re,startTime:Ae,expirationTime:He,sortIndex:-1},Ae>Je?(Re.sortIndex=Ae,t(C,Re),i(T)===null&&Re===i(C)&&(O?(k(ce),ce=-1):O=!0,Ze(K,Ae-Je))):(Re.sortIndex=He,t(T,Re),w||M||(w=!0,je(de))),Re},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(Re){var Me=D;return function(){var Ae=D;D=Me;try{return Re.apply(this,arguments)}finally{D=Ae}}}})(S6);y6.exports=S6;var _de=y6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yde=ye,Ko=_de;function dt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b6=new Set,Pm={};function sd(e,t){fh(e,t),fh(e+"Capture",t)}function fh(e,t){for(Pm[e]=t,e=0;e<t.length;e++)b6.add(t[e])}var Du=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oA=Object.prototype.hasOwnProperty,Sde=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W4={},B4={};function bde(e){return oA.call(B4,e)?!0:oA.call(W4,e)?!1:Sde.test(e)?B4[e]=!0:(W4[e]=!0,!1)}function Tde(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Cde(e,t,i,a){if(t===null||typeof t>"u"||Tde(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ro(e,t,i,a,l,h,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=l,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=g}var Ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ti[e]=new ro(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ti[t]=new ro(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ti[e]=new ro(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ti[e]=new ro(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ti[e]=new ro(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ti[e]=new ro(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ti[e]=new ro(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ti[e]=new ro(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ti[e]=new ro(e,5,!1,e.toLowerCase(),null,!1,!1)});var ak=/[\-:]([a-z])/g;function sk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ak,sk);Ti[t]=new ro(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ak,sk);Ti[t]=new ro(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ak,sk);Ti[t]=new ro(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ti[e]=new ro(e,1,!1,e.toLowerCase(),null,!1,!1)});Ti.xlinkHref=new ro("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ti[e]=new ro(e,1,!1,e.toLowerCase(),null,!0,!0)});function uk(e,t,i,a){var l=Ti.hasOwnProperty(t)?Ti[t]:null;(l!==null?l.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Cde(t,i,l,a)&&(i=null),a||l===null?bde(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):l.mustUseProperty?e[l.propertyName]=i===null?l.type===3?!1:"":i:(t=l.attributeName,a=l.attributeNamespace,i===null?e.removeAttribute(t):(l=l.type,i=l===3||l===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var Lu=yde.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X0=Symbol.for("react.element"),Rf=Symbol.for("react.portal"),Ff=Symbol.for("react.fragment"),ck=Symbol.for("react.strict_mode"),aA=Symbol.for("react.profiler"),T6=Symbol.for("react.provider"),C6=Symbol.for("react.context"),lk=Symbol.for("react.forward_ref"),sA=Symbol.for("react.suspense"),uA=Symbol.for("react.suspense_list"),dk=Symbol.for("react.memo"),Ac=Symbol.for("react.lazy"),I6=Symbol.for("react.offscreen"),U4=Symbol.iterator;function Ag(e){return e===null||typeof e!="object"?null:(e=U4&&e[U4]||e["@@iterator"],typeof e=="function"?e:null)}var mn=Object.assign,XE;function $g(e){if(XE===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);XE=t&&t[1]||""}return`
`+XE+e}var JE=!1;function qE(e,t){if(!e||JE)return"";JE=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(C){var a=C}Reflect.construct(e,[],t)}else{try{t.call()}catch(C){a=C}e.call(t.prototype)}else{try{throw Error()}catch(C){a=C}e()}}catch(C){if(C&&a&&typeof C.stack=="string"){for(var l=C.stack.split(`
`),h=a.stack.split(`
`),g=l.length-1,v=h.length-1;1<=g&&0<=v&&l[g]!==h[v];)v--;for(;1<=g&&0<=v;g--,v--)if(l[g]!==h[v]){if(g!==1||v!==1)do if(g--,v--,0>v||l[g]!==h[v]){var T=`
`+l[g].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=g&&0<=v);break}}}finally{JE=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?$g(e):""}function Ide(e){switch(e.tag){case 5:return $g(e.type);case 16:return $g("Lazy");case 13:return $g("Suspense");case 19:return $g("SuspenseList");case 0:case 2:case 15:return e=qE(e.type,!1),e;case 11:return e=qE(e.type.render,!1),e;case 1:return e=qE(e.type,!0),e;default:return""}}function cA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ff:return"Fragment";case Rf:return"Portal";case aA:return"Profiler";case ck:return"StrictMode";case sA:return"Suspense";case uA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C6:return(e.displayName||"Context")+".Consumer";case T6:return(e._context.displayName||"Context")+".Provider";case lk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dk:return t=e.displayName||null,t!==null?t:cA(e.type)||"Memo";case Ac:t=e._payload,e=e._init;try{return cA(e(t))}catch{}}return null}function wde(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cA(t);case 8:return t===ck?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function w6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ede(e){var t=w6(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,h=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function J0(e){e._valueTracker||(e._valueTracker=Ede(e))}function E6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=w6(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function pS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lA(e,t){var i=t.checked;return mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function V4(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=Qc(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function x6(e,t){t=t.checked,t!=null&&uk(e,"checked",t,!1)}function dA(e,t){x6(e,t);var i=Qc(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fA(e,t.type,i):t.hasOwnProperty("defaultValue")&&fA(e,t.type,Qc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function j4(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function fA(e,t,i){(t!=="number"||pS(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Kg=Array.isArray;function Zf(e,t,i,a){if(e=e.options,t){t={};for(var l=0;l<i.length;l++)t["$"+i[l]]=!0;for(i=0;i<e.length;i++)l=t.hasOwnProperty("$"+e[i].value),e[i].selected!==l&&(e[i].selected=l),l&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Qc(i),t=null,l=0;l<e.length;l++){if(e[l].value===i){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function hA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(dt(91));return mn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G4(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(dt(92));if(Kg(i)){if(1<i.length)throw Error(dt(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Qc(i)}}function A6(e,t){var i=Qc(t.value),a=Qc(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function z4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function P6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?P6(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var q0,k6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,l){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(q0=q0||document.createElement("div"),q0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=q0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function km(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var nm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xde=["Webkit","ms","Moz","O"];Object.keys(nm).forEach(function(e){xde.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nm[t]=nm[e]})});function D6(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||nm.hasOwnProperty(e)&&nm[e]?(""+t).trim():t+"px"}function R6(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,l=D6(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,l):e[i]=l}}var Ade=mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gA(e,t){if(t){if(Ade[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(dt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(dt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(dt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(dt(62))}}function mA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vA=null;function fk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _A=null,eh=null,th=null;function H4(e){if(e=hv(e)){if(typeof _A!="function")throw Error(dt(280));var t=e.stateNode;t&&(t=yb(t),_A(e.stateNode,e.type,t))}}function F6(e){eh?th?th.push(e):th=[e]:eh=e}function O6(){if(eh){var e=eh,t=th;if(th=eh=null,H4(e),t)for(e=0;e<t.length;e++)H4(t[e])}}function N6(e,t){return e(t)}function M6(){}var ZE=!1;function L6(e,t,i){if(ZE)return e(t,i);ZE=!0;try{return N6(e,t,i)}finally{ZE=!1,(eh!==null||th!==null)&&(M6(),O6())}}function Dm(e,t){var i=e.stateNode;if(i===null)return null;var a=yb(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(dt(231,t,typeof i));return i}var yA=!1;if(Du)try{var Pg={};Object.defineProperty(Pg,"passive",{get:function(){yA=!0}}),window.addEventListener("test",Pg,Pg),window.removeEventListener("test",Pg,Pg)}catch{yA=!1}function Pde(e,t,i,a,l,h,g,v,T){var C=Array.prototype.slice.call(arguments,3);try{t.apply(i,C)}catch(E){this.onError(E)}}var im=!1,gS=null,mS=!1,SA=null,kde={onError:function(e){im=!0,gS=e}};function Dde(e,t,i,a,l,h,g,v,T){im=!1,gS=null,Pde.apply(kde,arguments)}function Rde(e,t,i,a,l,h,g,v,T){if(Dde.apply(this,arguments),im){if(im){var C=gS;im=!1,gS=null}else throw Error(dt(198));mS||(mS=!0,SA=C)}}function ud(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function W6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $4(e){if(ud(e)!==e)throw Error(dt(188))}function Fde(e){var t=e.alternate;if(!t){if(t=ud(e),t===null)throw Error(dt(188));return t!==e?null:e}for(var i=e,a=t;;){var l=i.return;if(l===null)break;var h=l.alternate;if(h===null){if(a=l.return,a!==null){i=a;continue}break}if(l.child===h.child){for(h=l.child;h;){if(h===i)return $4(l),e;if(h===a)return $4(l),t;h=h.sibling}throw Error(dt(188))}if(i.return!==a.return)i=l,a=h;else{for(var g=!1,v=l.child;v;){if(v===i){g=!0,i=l,a=h;break}if(v===a){g=!0,a=l,i=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===i){g=!0,i=h,a=l;break}if(v===a){g=!0,a=h,i=l;break}v=v.sibling}if(!g)throw Error(dt(189))}}if(i.alternate!==a)throw Error(dt(190))}if(i.tag!==3)throw Error(dt(188));return i.stateNode.current===i?e:t}function B6(e){return e=Fde(e),e!==null?U6(e):null}function U6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=U6(e);if(t!==null)return t;e=e.sibling}return null}var V6=Ko.unstable_scheduleCallback,K4=Ko.unstable_cancelCallback,Ode=Ko.unstable_shouldYield,Nde=Ko.unstable_requestPaint,Rn=Ko.unstable_now,Mde=Ko.unstable_getCurrentPriorityLevel,hk=Ko.unstable_ImmediatePriority,j6=Ko.unstable_UserBlockingPriority,vS=Ko.unstable_NormalPriority,Lde=Ko.unstable_LowPriority,G6=Ko.unstable_IdlePriority,gb=null,zs=null;function Wde(e){if(zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(gb,e,void 0,(e.current.flags&128)===128)}catch{}}var rs=Math.clz32?Math.clz32:Vde,Bde=Math.log,Ude=Math.LN2;function Vde(e){return e>>>=0,e===0?32:31-(Bde(e)/Ude|0)|0}var Z0=64,ey=4194304;function Yg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _S(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,l=e.suspendedLanes,h=e.pingedLanes,g=i&268435455;if(g!==0){var v=g&~l;v!==0?a=Yg(v):(h&=g,h!==0&&(a=Yg(h)))}else g=i&~l,g!==0?a=Yg(g):h!==0&&(a=Yg(h));if(a===0)return 0;if(t!==0&&t!==a&&!(t&l)&&(l=a&-a,h=t&-t,l>=h||l===16&&(h&4194240)!==0))return t;if(a&4&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-rs(t),l=1<<i,a|=e[i],t&=~l;return a}function jde(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gde(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,h=e.pendingLanes;0<h;){var g=31-rs(h),v=1<<g,T=l[g];T===-1?(!(v&i)||v&a)&&(l[g]=jde(v,t)):T<=t&&(e.expiredLanes|=v),h&=~v}}function bA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function z6(){var e=Z0;return Z0<<=1,!(Z0&4194240)&&(Z0=64),e}function ex(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function dv(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rs(t),e[t]=i}function zde(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var l=31-rs(i),h=1<<l;t[l]=0,a[l]=-1,e[l]=-1,i&=~h}}function pk(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-rs(i),l=1<<a;l&t|e[a]&t&&(e[a]|=t),i&=~l}}var Dr=0;function H6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $6,gk,K6,Y6,Q6,TA=!1,ty=[],Uc=null,Vc=null,jc=null,Rm=new Map,Fm=new Map,Rc=[],Hde="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y4(e,t){switch(e){case"focusin":case"focusout":Uc=null;break;case"dragenter":case"dragleave":Vc=null;break;case"mouseover":case"mouseout":jc=null;break;case"pointerover":case"pointerout":Rm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fm.delete(t.pointerId)}}function kg(e,t,i,a,l,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:h,targetContainers:[l]},t!==null&&(t=hv(t),t!==null&&gk(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function $de(e,t,i,a,l){switch(t){case"focusin":return Uc=kg(Uc,e,t,i,a,l),!0;case"dragenter":return Vc=kg(Vc,e,t,i,a,l),!0;case"mouseover":return jc=kg(jc,e,t,i,a,l),!0;case"pointerover":var h=l.pointerId;return Rm.set(h,kg(Rm.get(h)||null,e,t,i,a,l)),!0;case"gotpointercapture":return h=l.pointerId,Fm.set(h,kg(Fm.get(h)||null,e,t,i,a,l)),!0}return!1}function X6(e){var t=Gl(e.target);if(t!==null){var i=ud(t);if(i!==null){if(t=i.tag,t===13){if(t=W6(i),t!==null){e.blockedOn=t,Q6(e.priority,function(){K6(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=CA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);vA=a,i.target.dispatchEvent(a),vA=null}else return t=hv(i),t!==null&&gk(t),e.blockedOn=i,!1;t.shift()}return!0}function Q4(e,t,i){Oy(e)&&i.delete(t)}function Kde(){TA=!1,Uc!==null&&Oy(Uc)&&(Uc=null),Vc!==null&&Oy(Vc)&&(Vc=null),jc!==null&&Oy(jc)&&(jc=null),Rm.forEach(Q4),Fm.forEach(Q4)}function Dg(e,t){e.blockedOn===t&&(e.blockedOn=null,TA||(TA=!0,Ko.unstable_scheduleCallback(Ko.unstable_NormalPriority,Kde)))}function Om(e){function t(l){return Dg(l,e)}if(0<ty.length){Dg(ty[0],e);for(var i=1;i<ty.length;i++){var a=ty[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Uc!==null&&Dg(Uc,e),Vc!==null&&Dg(Vc,e),jc!==null&&Dg(jc,e),Rm.forEach(t),Fm.forEach(t),i=0;i<Rc.length;i++)a=Rc[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Rc.length&&(i=Rc[0],i.blockedOn===null);)X6(i),i.blockedOn===null&&Rc.shift()}var rh=Lu.ReactCurrentBatchConfig,yS=!0;function Yde(e,t,i,a){var l=Dr,h=rh.transition;rh.transition=null;try{Dr=1,mk(e,t,i,a)}finally{Dr=l,rh.transition=h}}function Qde(e,t,i,a){var l=Dr,h=rh.transition;rh.transition=null;try{Dr=4,mk(e,t,i,a)}finally{Dr=l,rh.transition=h}}function mk(e,t,i,a){if(yS){var l=CA(e,t,i,a);if(l===null)lx(e,t,a,SS,i),Y4(e,a);else if($de(l,e,t,i,a))a.stopPropagation();else if(Y4(e,a),t&4&&-1<Hde.indexOf(e)){for(;l!==null;){var h=hv(l);if(h!==null&&$6(h),h=CA(e,t,i,a),h===null&&lx(e,t,a,SS,i),h===l)break;l=h}l!==null&&a.stopPropagation()}else lx(e,t,a,null,i)}}var SS=null;function CA(e,t,i,a){if(SS=null,e=fk(a),e=Gl(e),e!==null)if(t=ud(e),t===null)e=null;else if(i=t.tag,i===13){if(e=W6(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return SS=e,null}function J6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mde()){case hk:return 1;case j6:return 4;case vS:case Lde:return 16;case G6:return 536870912;default:return 16}default:return 16}}var Mc=null,vk=null,Ny=null;function q6(){if(Ny)return Ny;var e,t=vk,i=t.length,a,l="value"in Mc?Mc.value:Mc.textContent,h=l.length;for(e=0;e<i&&t[e]===l[e];e++);var g=i-e;for(a=1;a<=g&&t[i-a]===l[h-a];a++);return Ny=l.slice(e,1<a?1-a:void 0)}function My(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ry(){return!0}function X4(){return!1}function Xo(e){function t(i,a,l,h,g){this._reactName=i,this._targetInst=l,this.type=a,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ry:X4,this.isPropagationStopped=X4,this}return mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ry)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ry)},persist:function(){},isPersistent:ry}),t}var Ph={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_k=Xo(Ph),fv=mn({},Ph,{view:0,detail:0}),Xde=Xo(fv),tx,rx,Rg,mb=mn({},fv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rg&&(Rg&&e.type==="mousemove"?(tx=e.screenX-Rg.screenX,rx=e.screenY-Rg.screenY):rx=tx=0,Rg=e),tx)},movementY:function(e){return"movementY"in e?e.movementY:rx}}),J4=Xo(mb),Jde=mn({},mb,{dataTransfer:0}),qde=Xo(Jde),Zde=mn({},fv,{relatedTarget:0}),nx=Xo(Zde),efe=mn({},Ph,{animationName:0,elapsedTime:0,pseudoElement:0}),tfe=Xo(efe),rfe=mn({},Ph,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nfe=Xo(rfe),ife=mn({},Ph,{data:0}),q4=Xo(ife),ofe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},afe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sfe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ufe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sfe[e])?!!t[e]:!1}function yk(){return ufe}var cfe=mn({},fv,{key:function(e){if(e.key){var t=ofe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=My(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?afe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yk,charCode:function(e){return e.type==="keypress"?My(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?My(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lfe=Xo(cfe),dfe=mn({},mb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z4=Xo(dfe),ffe=mn({},fv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yk}),hfe=Xo(ffe),pfe=mn({},Ph,{propertyName:0,elapsedTime:0,pseudoElement:0}),gfe=Xo(pfe),mfe=mn({},mb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vfe=Xo(mfe),_fe=[9,13,27,32],Sk=Du&&"CompositionEvent"in window,om=null;Du&&"documentMode"in document&&(om=document.documentMode);var yfe=Du&&"TextEvent"in window&&!om,Z6=Du&&(!Sk||om&&8<om&&11>=om),e3=String.fromCharCode(32),t3=!1;function eG(e,t){switch(e){case"keyup":return _fe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tG(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Of=!1;function Sfe(e,t){switch(e){case"compositionend":return tG(t);case"keypress":return t.which!==32?null:(t3=!0,e3);case"textInput":return e=t.data,e===e3&&t3?null:e;default:return null}}function bfe(e,t){if(Of)return e==="compositionend"||!Sk&&eG(e,t)?(e=q6(),Ny=vk=Mc=null,Of=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Z6&&t.locale!=="ko"?null:t.data;default:return null}}var Tfe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tfe[e.type]:t==="textarea"}function rG(e,t,i,a){F6(a),t=bS(t,"onChange"),0<t.length&&(i=new _k("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var am=null,Nm=null;function Cfe(e){hG(e,0)}function vb(e){var t=Lf(e);if(E6(t))return e}function Ife(e,t){if(e==="change")return t}var nG=!1;if(Du){var ix;if(Du){var ox="oninput"in document;if(!ox){var n3=document.createElement("div");n3.setAttribute("oninput","return;"),ox=typeof n3.oninput=="function"}ix=ox}else ix=!1;nG=ix&&(!document.documentMode||9<document.documentMode)}function i3(){am&&(am.detachEvent("onpropertychange",iG),Nm=am=null)}function iG(e){if(e.propertyName==="value"&&vb(Nm)){var t=[];rG(t,Nm,e,fk(e)),L6(Cfe,t)}}function wfe(e,t,i){e==="focusin"?(i3(),am=t,Nm=i,am.attachEvent("onpropertychange",iG)):e==="focusout"&&i3()}function Efe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vb(Nm)}function xfe(e,t){if(e==="click")return vb(t)}function Afe(e,t){if(e==="input"||e==="change")return vb(t)}function Pfe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ss=typeof Object.is=="function"?Object.is:Pfe;function Mm(e,t){if(ss(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var l=i[a];if(!oA.call(t,l)||!ss(e[l],t[l]))return!1}return!0}function o3(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function a3(e,t){var i=o3(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=o3(i)}}function oG(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oG(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function aG(){for(var e=window,t=pS();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=pS(e.document)}return t}function bk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kfe(e){var t=aG(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&oG(i.ownerDocument.documentElement,i)){if(a!==null&&bk(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=i.textContent.length,h=Math.min(a.start,l);a=a.end===void 0?h:Math.min(a.end,l),!e.extend&&h>a&&(l=a,a=h,h=l),l=a3(i,h);var g=a3(i,a);l&&g&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),h>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dfe=Du&&"documentMode"in document&&11>=document.documentMode,Nf=null,IA=null,sm=null,wA=!1;function s3(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;wA||Nf==null||Nf!==pS(a)||(a=Nf,"selectionStart"in a&&bk(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),sm&&Mm(sm,a)||(sm=a,a=bS(IA,"onSelect"),0<a.length&&(t=new _k("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Nf)))}function ny(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Mf={animationend:ny("Animation","AnimationEnd"),animationiteration:ny("Animation","AnimationIteration"),animationstart:ny("Animation","AnimationStart"),transitionend:ny("Transition","TransitionEnd")},ax={},sG={};Du&&(sG=document.createElement("div").style,"AnimationEvent"in window||(delete Mf.animationend.animation,delete Mf.animationiteration.animation,delete Mf.animationstart.animation),"TransitionEvent"in window||delete Mf.transitionend.transition);function _b(e){if(ax[e])return ax[e];if(!Mf[e])return e;var t=Mf[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in sG)return ax[e]=t[i];return e}var uG=_b("animationend"),cG=_b("animationiteration"),lG=_b("animationstart"),dG=_b("transitionend"),fG=new Map,u3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qc(e,t){fG.set(e,t),sd(t,[e])}for(var sx=0;sx<u3.length;sx++){var ux=u3[sx],Rfe=ux.toLowerCase(),Ffe=ux[0].toUpperCase()+ux.slice(1);qc(Rfe,"on"+Ffe)}qc(uG,"onAnimationEnd");qc(cG,"onAnimationIteration");qc(lG,"onAnimationStart");qc("dblclick","onDoubleClick");qc("focusin","onFocus");qc("focusout","onBlur");qc(dG,"onTransitionEnd");fh("onMouseEnter",["mouseout","mouseover"]);fh("onMouseLeave",["mouseout","mouseover"]);fh("onPointerEnter",["pointerout","pointerover"]);fh("onPointerLeave",["pointerout","pointerover"]);sd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sd("onBeforeInput",["compositionend","keypress","textInput","paste"]);sd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ofe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qg));function c3(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,Rde(a,t,void 0,e),e.currentTarget=null}function hG(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],l=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var g=a.length-1;0<=g;g--){var v=a[g],T=v.instance,C=v.currentTarget;if(v=v.listener,T!==h&&l.isPropagationStopped())break e;c3(l,v,C),h=T}else for(g=0;g<a.length;g++){if(v=a[g],T=v.instance,C=v.currentTarget,v=v.listener,T!==h&&l.isPropagationStopped())break e;c3(l,v,C),h=T}}}if(mS)throw e=SA,mS=!1,SA=null,e}function Hr(e,t){var i=t[kA];i===void 0&&(i=t[kA]=new Set);var a=e+"__bubble";i.has(a)||(pG(t,e,2,!1),i.add(a))}function cx(e,t,i){var a=0;t&&(a|=4),pG(i,e,a,t)}var iy="_reactListening"+Math.random().toString(36).slice(2);function Lm(e){if(!e[iy]){e[iy]=!0,b6.forEach(function(i){i!=="selectionchange"&&(Ofe.has(i)||cx(i,!1,e),cx(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[iy]||(t[iy]=!0,cx("selectionchange",!1,t))}}function pG(e,t,i,a){switch(J6(t)){case 1:var l=Yde;break;case 4:l=Qde;break;default:l=mk}i=l.bind(null,t,i,e),l=void 0,!yA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,i,{capture:!0,passive:l}):e.addEventListener(t,i,!0):l!==void 0?e.addEventListener(t,i,{passive:l}):e.addEventListener(t,i,!1)}function lx(e,t,i,a,l){var h=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var v=a.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(g===4)for(g=a.return;g!==null;){var T=g.tag;if((T===3||T===4)&&(T=g.stateNode.containerInfo,T===l||T.nodeType===8&&T.parentNode===l))return;g=g.return}for(;v!==null;){if(g=Gl(v),g===null)return;if(T=g.tag,T===5||T===6){a=h=g;continue e}v=v.parentNode}}a=a.return}L6(function(){var C=h,E=fk(i),A=[];e:{var D=fG.get(e);if(D!==void 0){var M=_k,w=e;switch(e){case"keypress":if(My(i)===0)break e;case"keydown":case"keyup":M=lfe;break;case"focusin":w="focus",M=nx;break;case"focusout":w="blur",M=nx;break;case"beforeblur":case"afterblur":M=nx;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=J4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=qde;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=hfe;break;case uG:case cG:case lG:M=tfe;break;case dG:M=gfe;break;case"scroll":M=Xde;break;case"wheel":M=vfe;break;case"copy":case"cut":case"paste":M=nfe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Z4}var O=(t&4)!==0,N=!O&&e==="scroll",k=O?D!==null?D+"Capture":null:D;O=[];for(var R=C,W;R!==null;){W=R;var K=W.stateNode;if(W.tag===5&&K!==null&&(W=K,k!==null&&(K=Dm(R,k),K!=null&&O.push(Wm(R,K,W)))),N)break;R=R.return}0<O.length&&(D=new M(D,w,null,i,E),A.push({event:D,listeners:O}))}}if(!(t&7)){e:{if(D=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",D&&i!==vA&&(w=i.relatedTarget||i.fromElement)&&(Gl(w)||w[Ru]))break e;if((M||D)&&(D=E.window===E?E:(D=E.ownerDocument)?D.defaultView||D.parentWindow:window,M?(w=i.relatedTarget||i.toElement,M=C,w=w?Gl(w):null,w!==null&&(N=ud(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(M=null,w=C),M!==w)){if(O=J4,K="onMouseLeave",k="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(O=Z4,K="onPointerLeave",k="onPointerEnter",R="pointer"),N=M==null?D:Lf(M),W=w==null?D:Lf(w),D=new O(K,R+"leave",M,i,E),D.target=N,D.relatedTarget=W,K=null,Gl(E)===C&&(O=new O(k,R+"enter",w,i,E),O.target=W,O.relatedTarget=N,K=O),N=K,M&&w)t:{for(O=M,k=w,R=0,W=O;W;W=Af(W))R++;for(W=0,K=k;K;K=Af(K))W++;for(;0<R-W;)O=Af(O),R--;for(;0<W-R;)k=Af(k),W--;for(;R--;){if(O===k||k!==null&&O===k.alternate)break t;O=Af(O),k=Af(k)}O=null}else O=null;M!==null&&l3(A,D,M,O,!1),w!==null&&N!==null&&l3(A,N,w,O,!0)}}e:{if(D=C?Lf(C):window,M=D.nodeName&&D.nodeName.toLowerCase(),M==="select"||M==="input"&&D.type==="file")var de=Ife;else if(r3(D))if(nG)de=Afe;else{de=Efe;var ee=wfe}else(M=D.nodeName)&&M.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(de=xfe);if(de&&(de=de(e,C))){rG(A,de,i,E);break e}ee&&ee(e,D,C),e==="focusout"&&(ee=D._wrapperState)&&ee.controlled&&D.type==="number"&&fA(D,"number",D.value)}switch(ee=C?Lf(C):window,e){case"focusin":(r3(ee)||ee.contentEditable==="true")&&(Nf=ee,IA=C,sm=null);break;case"focusout":sm=IA=Nf=null;break;case"mousedown":wA=!0;break;case"contextmenu":case"mouseup":case"dragend":wA=!1,s3(A,i,E);break;case"selectionchange":if(Dfe)break;case"keydown":case"keyup":s3(A,i,E)}var X;if(Sk)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Of?eG(e,i)&&(ce="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ce="onCompositionStart");ce&&(Z6&&i.locale!=="ko"&&(Of||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Of&&(X=q6()):(Mc=E,vk="value"in Mc?Mc.value:Mc.textContent,Of=!0)),ee=bS(C,ce),0<ee.length&&(ce=new q4(ce,e,null,i,E),A.push({event:ce,listeners:ee}),X?ce.data=X:(X=tG(i),X!==null&&(ce.data=X)))),(X=yfe?Sfe(e,i):bfe(e,i))&&(C=bS(C,"onBeforeInput"),0<C.length&&(E=new q4("onBeforeInput","beforeinput",null,i,E),A.push({event:E,listeners:C}),E.data=X))}hG(A,t)})}function Wm(e,t,i){return{instance:e,listener:t,currentTarget:i}}function bS(e,t){for(var i=t+"Capture",a=[];e!==null;){var l=e,h=l.stateNode;l.tag===5&&h!==null&&(l=h,h=Dm(e,i),h!=null&&a.unshift(Wm(e,h,l)),h=Dm(e,t),h!=null&&a.push(Wm(e,h,l))),e=e.return}return a}function Af(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function l3(e,t,i,a,l){for(var h=t._reactName,g=[];i!==null&&i!==a;){var v=i,T=v.alternate,C=v.stateNode;if(T!==null&&T===a)break;v.tag===5&&C!==null&&(v=C,l?(T=Dm(i,h),T!=null&&g.unshift(Wm(i,T,v))):l||(T=Dm(i,h),T!=null&&g.push(Wm(i,T,v)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Nfe=/\r\n?/g,Mfe=/\u0000|\uFFFD/g;function d3(e){return(typeof e=="string"?e:""+e).replace(Nfe,`
`).replace(Mfe,"")}function oy(e,t,i){if(t=d3(t),d3(e)!==t&&i)throw Error(dt(425))}function TS(){}var EA=null,xA=null;function AA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var PA=typeof setTimeout=="function"?setTimeout:void 0,Lfe=typeof clearTimeout=="function"?clearTimeout:void 0,f3=typeof Promise=="function"?Promise:void 0,Wfe=typeof queueMicrotask=="function"?queueMicrotask:typeof f3<"u"?function(e){return f3.resolve(null).then(e).catch(Bfe)}:PA;function Bfe(e){setTimeout(function(){throw e})}function dx(e,t){var i=t,a=0;do{var l=i.nextSibling;if(e.removeChild(i),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(a===0){e.removeChild(l),Om(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=l}while(i);Om(t)}function Gc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function h3(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var kh=Math.random().toString(36).slice(2),Us="__reactFiber$"+kh,Bm="__reactProps$"+kh,Ru="__reactContainer$"+kh,kA="__reactEvents$"+kh,Ufe="__reactListeners$"+kh,Vfe="__reactHandles$"+kh;function Gl(e){var t=e[Us];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Ru]||i[Us]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=h3(e);e!==null;){if(i=e[Us])return i;e=h3(e)}return t}e=i,i=e.parentNode}return null}function hv(e){return e=e[Us]||e[Ru],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(dt(33))}function yb(e){return e[Bm]||null}var DA=[],Wf=-1;function Zc(e){return{current:e}}function Kr(e){0>Wf||(e.current=DA[Wf],DA[Wf]=null,Wf--)}function jr(e,t){Wf++,DA[Wf]=e.current,e.current=t}var Xc={},Fi=Zc(Xc),To=Zc(!1),ed=Xc;function hh(e,t){var i=e.type.contextTypes;if(!i)return Xc;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var l={},h;for(h in i)l[h]=t[h];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Co(e){return e=e.childContextTypes,e!=null}function CS(){Kr(To),Kr(Fi)}function p3(e,t,i){if(Fi.current!==Xc)throw Error(dt(168));jr(Fi,t),jr(To,i)}function gG(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var l in a)if(!(l in t))throw Error(dt(108,wde(e)||"Unknown",l));return mn({},i,a)}function IS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xc,ed=Fi.current,jr(Fi,e),jr(To,To.current),!0}function g3(e,t,i){var a=e.stateNode;if(!a)throw Error(dt(169));i?(e=gG(e,t,ed),a.__reactInternalMemoizedMergedChildContext=e,Kr(To),Kr(Fi),jr(Fi,e)):Kr(To),jr(To,i)}var Su=null,Sb=!1,fx=!1;function mG(e){Su===null?Su=[e]:Su.push(e)}function jfe(e){Sb=!0,mG(e)}function el(){if(!fx&&Su!==null){fx=!0;var e=0,t=Dr;try{var i=Su;for(Dr=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Su=null,Sb=!1}catch(l){throw Su!==null&&(Su=Su.slice(e+1)),V6(hk,el),l}finally{Dr=t,fx=!1}}return null}var Bf=[],Uf=0,wS=null,ES=0,ma=[],va=0,td=null,wu=1,Eu="";function Wl(e,t){Bf[Uf++]=ES,Bf[Uf++]=wS,wS=e,ES=t}function vG(e,t,i){ma[va++]=wu,ma[va++]=Eu,ma[va++]=td,td=e;var a=wu;e=Eu;var l=32-rs(a)-1;a&=~(1<<l),i+=1;var h=32-rs(t)+l;if(30<h){var g=l-l%5;h=(a&(1<<g)-1).toString(32),a>>=g,l-=g,wu=1<<32-rs(t)+l|i<<l|a,Eu=h+e}else wu=1<<h|i<<l|a,Eu=e}function Tk(e){e.return!==null&&(Wl(e,1),vG(e,1,0))}function Ck(e){for(;e===wS;)wS=Bf[--Uf],Bf[Uf]=null,ES=Bf[--Uf],Bf[Uf]=null;for(;e===td;)td=ma[--va],ma[va]=null,Eu=ma[--va],ma[va]=null,wu=ma[--va],ma[va]=null}var Go=null,jo=null,nn=!1,qa=null;function _G(e,t){var i=ya(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function m3(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Go=e,jo=Gc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Go=e,jo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=td!==null?{id:wu,overflow:Eu}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=ya(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Go=e,jo=null,!0):!1;default:return!1}}function RA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function FA(e){if(nn){var t=jo;if(t){var i=t;if(!m3(e,t)){if(RA(e))throw Error(dt(418));t=Gc(i.nextSibling);var a=Go;t&&m3(e,t)?_G(a,i):(e.flags=e.flags&-4097|2,nn=!1,Go=e)}}else{if(RA(e))throw Error(dt(418));e.flags=e.flags&-4097|2,nn=!1,Go=e}}}function v3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Go=e}function ay(e){if(e!==Go)return!1;if(!nn)return v3(e),nn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!AA(e.type,e.memoizedProps)),t&&(t=jo)){if(RA(e))throw yG(),Error(dt(418));for(;t;)_G(e,t),t=Gc(t.nextSibling)}if(v3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(dt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){jo=Gc(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}jo=null}}else jo=Go?Gc(e.stateNode.nextSibling):null;return!0}function yG(){for(var e=jo;e;)e=Gc(e.nextSibling)}function ph(){jo=Go=null,nn=!1}function Ik(e){qa===null?qa=[e]:qa.push(e)}var Gfe=Lu.ReactCurrentBatchConfig;function Fg(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(dt(309));var a=i.stateNode}if(!a)throw Error(dt(147,e));var l=a,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(g){var v=l.refs;g===null?delete v[h]:v[h]=g},t._stringRef=h,t)}if(typeof e!="string")throw Error(dt(284));if(!i._owner)throw Error(dt(290,e))}return e}function sy(e,t){throw e=Object.prototype.toString.call(t),Error(dt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _3(e){var t=e._init;return t(e._payload)}function SG(e){function t(k,R){if(e){var W=k.deletions;W===null?(k.deletions=[R],k.flags|=16):W.push(R)}}function i(k,R){if(!e)return null;for(;R!==null;)t(k,R),R=R.sibling;return null}function a(k,R){for(k=new Map;R!==null;)R.key!==null?k.set(R.key,R):k.set(R.index,R),R=R.sibling;return k}function l(k,R){return k=Kc(k,R),k.index=0,k.sibling=null,k}function h(k,R,W){return k.index=W,e?(W=k.alternate,W!==null?(W=W.index,W<R?(k.flags|=2,R):W):(k.flags|=2,R)):(k.flags|=1048576,R)}function g(k){return e&&k.alternate===null&&(k.flags|=2),k}function v(k,R,W,K){return R===null||R.tag!==6?(R=yx(W,k.mode,K),R.return=k,R):(R=l(R,W),R.return=k,R)}function T(k,R,W,K){var de=W.type;return de===Ff?E(k,R,W.props.children,K,W.key):R!==null&&(R.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ac&&_3(de)===R.type)?(K=l(R,W.props),K.ref=Fg(k,R,W),K.return=k,K):(K=Gy(W.type,W.key,W.props,null,k.mode,K),K.ref=Fg(k,R,W),K.return=k,K)}function C(k,R,W,K){return R===null||R.tag!==4||R.stateNode.containerInfo!==W.containerInfo||R.stateNode.implementation!==W.implementation?(R=Sx(W,k.mode,K),R.return=k,R):(R=l(R,W.children||[]),R.return=k,R)}function E(k,R,W,K,de){return R===null||R.tag!==7?(R=Xl(W,k.mode,K,de),R.return=k,R):(R=l(R,W),R.return=k,R)}function A(k,R,W){if(typeof R=="string"&&R!==""||typeof R=="number")return R=yx(""+R,k.mode,W),R.return=k,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case X0:return W=Gy(R.type,R.key,R.props,null,k.mode,W),W.ref=Fg(k,null,R),W.return=k,W;case Rf:return R=Sx(R,k.mode,W),R.return=k,R;case Ac:var K=R._init;return A(k,K(R._payload),W)}if(Kg(R)||Ag(R))return R=Xl(R,k.mode,W,null),R.return=k,R;sy(k,R)}return null}function D(k,R,W,K){var de=R!==null?R.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return de!==null?null:v(k,R,""+W,K);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case X0:return W.key===de?T(k,R,W,K):null;case Rf:return W.key===de?C(k,R,W,K):null;case Ac:return de=W._init,D(k,R,de(W._payload),K)}if(Kg(W)||Ag(W))return de!==null?null:E(k,R,W,K,null);sy(k,W)}return null}function M(k,R,W,K,de){if(typeof K=="string"&&K!==""||typeof K=="number")return k=k.get(W)||null,v(R,k,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case X0:return k=k.get(K.key===null?W:K.key)||null,T(R,k,K,de);case Rf:return k=k.get(K.key===null?W:K.key)||null,C(R,k,K,de);case Ac:var ee=K._init;return M(k,R,W,ee(K._payload),de)}if(Kg(K)||Ag(K))return k=k.get(W)||null,E(R,k,K,de,null);sy(R,K)}return null}function w(k,R,W,K){for(var de=null,ee=null,X=R,ce=R=0,he=null;X!==null&&ce<W.length;ce++){X.index>ce?(he=X,X=null):he=X.sibling;var le=D(k,X,W[ce],K);if(le===null){X===null&&(X=he);break}e&&X&&le.alternate===null&&t(k,X),R=h(le,R,ce),ee===null?de=le:ee.sibling=le,ee=le,X=he}if(ce===W.length)return i(k,X),nn&&Wl(k,ce),de;if(X===null){for(;ce<W.length;ce++)X=A(k,W[ce],K),X!==null&&(R=h(X,R,ce),ee===null?de=X:ee.sibling=X,ee=X);return nn&&Wl(k,ce),de}for(X=a(k,X);ce<W.length;ce++)he=M(X,k,ce,W[ce],K),he!==null&&(e&&he.alternate!==null&&X.delete(he.key===null?ce:he.key),R=h(he,R,ce),ee===null?de=he:ee.sibling=he,ee=he);return e&&X.forEach(function(fe){return t(k,fe)}),nn&&Wl(k,ce),de}function O(k,R,W,K){var de=Ag(W);if(typeof de!="function")throw Error(dt(150));if(W=de.call(W),W==null)throw Error(dt(151));for(var ee=de=null,X=R,ce=R=0,he=null,le=W.next();X!==null&&!le.done;ce++,le=W.next()){X.index>ce?(he=X,X=null):he=X.sibling;var fe=D(k,X,le.value,K);if(fe===null){X===null&&(X=he);break}e&&X&&fe.alternate===null&&t(k,X),R=h(fe,R,ce),ee===null?de=fe:ee.sibling=fe,ee=fe,X=he}if(le.done)return i(k,X),nn&&Wl(k,ce),de;if(X===null){for(;!le.done;ce++,le=W.next())le=A(k,le.value,K),le!==null&&(R=h(le,R,ce),ee===null?de=le:ee.sibling=le,ee=le);return nn&&Wl(k,ce),de}for(X=a(k,X);!le.done;ce++,le=W.next())le=M(X,k,ce,le.value,K),le!==null&&(e&&le.alternate!==null&&X.delete(le.key===null?ce:le.key),R=h(le,R,ce),ee===null?de=le:ee.sibling=le,ee=le);return e&&X.forEach(function(_e){return t(k,_e)}),nn&&Wl(k,ce),de}function N(k,R,W,K){if(typeof W=="object"&&W!==null&&W.type===Ff&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case X0:e:{for(var de=W.key,ee=R;ee!==null;){if(ee.key===de){if(de=W.type,de===Ff){if(ee.tag===7){i(k,ee.sibling),R=l(ee,W.props.children),R.return=k,k=R;break e}}else if(ee.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ac&&_3(de)===ee.type){i(k,ee.sibling),R=l(ee,W.props),R.ref=Fg(k,ee,W),R.return=k,k=R;break e}i(k,ee);break}else t(k,ee);ee=ee.sibling}W.type===Ff?(R=Xl(W.props.children,k.mode,K,W.key),R.return=k,k=R):(K=Gy(W.type,W.key,W.props,null,k.mode,K),K.ref=Fg(k,R,W),K.return=k,k=K)}return g(k);case Rf:e:{for(ee=W.key;R!==null;){if(R.key===ee)if(R.tag===4&&R.stateNode.containerInfo===W.containerInfo&&R.stateNode.implementation===W.implementation){i(k,R.sibling),R=l(R,W.children||[]),R.return=k,k=R;break e}else{i(k,R);break}else t(k,R);R=R.sibling}R=Sx(W,k.mode,K),R.return=k,k=R}return g(k);case Ac:return ee=W._init,N(k,R,ee(W._payload),K)}if(Kg(W))return w(k,R,W,K);if(Ag(W))return O(k,R,W,K);sy(k,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,R!==null&&R.tag===6?(i(k,R.sibling),R=l(R,W),R.return=k,k=R):(i(k,R),R=yx(W,k.mode,K),R.return=k,k=R),g(k)):i(k,R)}return N}var gh=SG(!0),bG=SG(!1),xS=Zc(null),AS=null,Vf=null,wk=null;function Ek(){wk=Vf=AS=null}function xk(e){var t=xS.current;Kr(xS),e._currentValue=t}function OA(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function nh(e,t){AS=e,wk=Vf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bo=!0),e.firstContext=null)}function ba(e){var t=e._currentValue;if(wk!==e)if(e={context:e,memoizedValue:t,next:null},Vf===null){if(AS===null)throw Error(dt(308));Vf=e,AS.dependencies={lanes:0,firstContext:e}}else Vf=Vf.next=e;return t}var zl=null;function Ak(e){zl===null?zl=[e]:zl.push(e)}function TG(e,t,i,a){var l=t.interleaved;return l===null?(i.next=i,Ak(t)):(i.next=l.next,l.next=i),t.interleaved=i,Fu(e,a)}function Fu(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Pc=!1;function Pk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CG(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zc(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,_r&2){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,Fu(e,i)}return l=a.interleaved,l===null?(t.next=t,Ak(a)):(t.next=l.next,l.next=t),a.interleaved=t,Fu(e,i)}function Ly(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,pk(e,i)}}function y3(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var l=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};h===null?l=h=g:h=h.next=g,i=i.next}while(i!==null);h===null?l=h=t:h=h.next=t}else l=h=t;i={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:h,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function PS(e,t,i,a){var l=e.updateQueue;Pc=!1;var h=l.firstBaseUpdate,g=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var T=v,C=T.next;T.next=null,g===null?h=C:g.next=C,g=T;var E=e.alternate;E!==null&&(E=E.updateQueue,v=E.lastBaseUpdate,v!==g&&(v===null?E.firstBaseUpdate=C:v.next=C,E.lastBaseUpdate=T))}if(h!==null){var A=l.baseState;g=0,E=C=T=null,v=h;do{var D=v.lane,M=v.eventTime;if((a&D)===D){E!==null&&(E=E.next={eventTime:M,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var w=e,O=v;switch(D=t,M=i,O.tag){case 1:if(w=O.payload,typeof w=="function"){A=w.call(M,A,D);break e}A=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=O.payload,D=typeof w=="function"?w.call(M,A,D):w,D==null)break e;A=mn({},A,D);break e;case 2:Pc=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,D=l.effects,D===null?l.effects=[v]:D.push(v))}else M={eventTime:M,lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},E===null?(C=E=M,T=A):E=E.next=M,g|=D;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;D=v,v=D.next,D.next=null,l.lastBaseUpdate=D,l.shared.pending=null}}while(1);if(E===null&&(T=A),l.baseState=T,l.firstBaseUpdate=C,l.lastBaseUpdate=E,t=l.shared.interleaved,t!==null){l=t;do g|=l.lane,l=l.next;while(l!==t)}else h===null&&(l.shared.lanes=0);nd|=g,e.lanes=g,e.memoizedState=A}}function S3(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],l=a.callback;if(l!==null){if(a.callback=null,a=i,typeof l!="function")throw Error(dt(191,l));l.call(a)}}}var pv={},Hs=Zc(pv),Um=Zc(pv),Vm=Zc(pv);function Hl(e){if(e===pv)throw Error(dt(174));return e}function kk(e,t){switch(jr(Vm,t),jr(Um,e),jr(Hs,pv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pA(t,e)}Kr(Hs),jr(Hs,t)}function mh(){Kr(Hs),Kr(Um),Kr(Vm)}function IG(e){Hl(Vm.current);var t=Hl(Hs.current),i=pA(t,e.type);t!==i&&(jr(Um,e),jr(Hs,i))}function Dk(e){Um.current===e&&(Kr(Hs),Kr(Um))}var pn=Zc(0);function kS(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hx=[];function Rk(){for(var e=0;e<hx.length;e++)hx[e]._workInProgressVersionPrimary=null;hx.length=0}var Wy=Lu.ReactCurrentDispatcher,px=Lu.ReactCurrentBatchConfig,rd=0,gn=null,Kn=null,ti=null,DS=!1,um=!1,jm=0,zfe=0;function Pi(){throw Error(dt(321))}function Fk(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!ss(e[i],t[i]))return!1;return!0}function Ok(e,t,i,a,l,h){if(rd=h,gn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wy.current=e===null||e.memoizedState===null?Yfe:Qfe,e=i(a,l),um){h=0;do{if(um=!1,jm=0,25<=h)throw Error(dt(301));h+=1,ti=Kn=null,t.updateQueue=null,Wy.current=Xfe,e=i(a,l)}while(um)}if(Wy.current=RS,t=Kn!==null&&Kn.next!==null,rd=0,ti=Kn=gn=null,DS=!1,t)throw Error(dt(300));return e}function Nk(){var e=jm!==0;return jm=0,e}function Ns(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?gn.memoizedState=ti=e:ti=ti.next=e,ti}function Ta(){if(Kn===null){var e=gn.alternate;e=e!==null?e.memoizedState:null}else e=Kn.next;var t=ti===null?gn.memoizedState:ti.next;if(t!==null)ti=t,Kn=e;else{if(e===null)throw Error(dt(310));Kn=e,e={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},ti===null?gn.memoizedState=ti=e:ti=ti.next=e}return ti}function Gm(e,t){return typeof t=="function"?t(e):t}function gx(e){var t=Ta(),i=t.queue;if(i===null)throw Error(dt(311));i.lastRenderedReducer=e;var a=Kn,l=a.baseQueue,h=i.pending;if(h!==null){if(l!==null){var g=l.next;l.next=h.next,h.next=g}a.baseQueue=l=h,i.pending=null}if(l!==null){h=l.next,a=a.baseState;var v=g=null,T=null,C=h;do{var E=C.lane;if((rd&E)===E)T!==null&&(T=T.next={lane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),a=C.hasEagerState?C.eagerState:e(a,C.action);else{var A={lane:E,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null};T===null?(v=T=A,g=a):T=T.next=A,gn.lanes|=E,nd|=E}C=C.next}while(C!==null&&C!==h);T===null?g=a:T.next=v,ss(a,t.memoizedState)||(bo=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=T,i.lastRenderedState=a}if(e=i.interleaved,e!==null){l=e;do h=l.lane,gn.lanes|=h,nd|=h,l=l.next;while(l!==e)}else l===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function mx(e){var t=Ta(),i=t.queue;if(i===null)throw Error(dt(311));i.lastRenderedReducer=e;var a=i.dispatch,l=i.pending,h=t.memoizedState;if(l!==null){i.pending=null;var g=l=l.next;do h=e(h,g.action),g=g.next;while(g!==l);ss(h,t.memoizedState)||(bo=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,a]}function wG(){}function EG(e,t){var i=gn,a=Ta(),l=t(),h=!ss(a.memoizedState,l);if(h&&(a.memoizedState=l,bo=!0),a=a.queue,Mk(PG.bind(null,i,a,e),[e]),a.getSnapshot!==t||h||ti!==null&&ti.memoizedState.tag&1){if(i.flags|=2048,zm(9,AG.bind(null,i,a,l,t),void 0,null),ri===null)throw Error(dt(349));rd&30||xG(i,t,l)}return l}function xG(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=gn.updateQueue,t===null?(t={lastEffect:null,stores:null},gn.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function AG(e,t,i,a){t.value=i,t.getSnapshot=a,kG(t)&&DG(e)}function PG(e,t,i){return i(function(){kG(t)&&DG(e)})}function kG(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!ss(e,i)}catch{return!0}}function DG(e){var t=Fu(e,1);t!==null&&ns(t,e,1,-1)}function b3(e){var t=Ns();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gm,lastRenderedState:e},t.queue=e,e=e.dispatch=Kfe.bind(null,gn,e),[t.memoizedState,e]}function zm(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=gn.updateQueue,t===null?(t={lastEffect:null,stores:null},gn.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function RG(){return Ta().memoizedState}function By(e,t,i,a){var l=Ns();gn.flags|=e,l.memoizedState=zm(1|t,i,void 0,a===void 0?null:a)}function bb(e,t,i,a){var l=Ta();a=a===void 0?null:a;var h=void 0;if(Kn!==null){var g=Kn.memoizedState;if(h=g.destroy,a!==null&&Fk(a,g.deps)){l.memoizedState=zm(t,i,h,a);return}}gn.flags|=e,l.memoizedState=zm(1|t,i,h,a)}function T3(e,t){return By(8390656,8,e,t)}function Mk(e,t){return bb(2048,8,e,t)}function FG(e,t){return bb(4,2,e,t)}function OG(e,t){return bb(4,4,e,t)}function NG(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MG(e,t,i){return i=i!=null?i.concat([e]):null,bb(4,4,NG.bind(null,t,e),i)}function Lk(){}function LG(e,t){var i=Ta();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&Fk(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function WG(e,t){var i=Ta();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&Fk(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function BG(e,t,i){return rd&21?(ss(i,t)||(i=z6(),gn.lanes|=i,nd|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=i)}function Hfe(e,t){var i=Dr;Dr=i!==0&&4>i?i:4,e(!0);var a=px.transition;px.transition={};try{e(!1),t()}finally{Dr=i,px.transition=a}}function UG(){return Ta().memoizedState}function $fe(e,t,i){var a=$c(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},VG(e))jG(t,i);else if(i=TG(e,t,i,a),i!==null){var l=Zi();ns(i,e,a,l),GG(i,t,a)}}function Kfe(e,t,i){var a=$c(e),l={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(VG(e))jG(t,l);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,v=h(g,i);if(l.hasEagerState=!0,l.eagerState=v,ss(v,g)){var T=t.interleaved;T===null?(l.next=l,Ak(t)):(l.next=T.next,T.next=l),t.interleaved=l;return}}catch{}finally{}i=TG(e,t,l,a),i!==null&&(l=Zi(),ns(i,e,a,l),GG(i,t,a))}}function VG(e){var t=e.alternate;return e===gn||t!==null&&t===gn}function jG(e,t){um=DS=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function GG(e,t,i){if(i&4194240){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,pk(e,i)}}var RS={readContext:ba,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useInsertionEffect:Pi,useLayoutEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useMutableSource:Pi,useSyncExternalStore:Pi,useId:Pi,unstable_isNewReconciler:!1},Yfe={readContext:ba,useCallback:function(e,t){return Ns().memoizedState=[e,t===void 0?null:t],e},useContext:ba,useEffect:T3,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,By(4194308,4,NG.bind(null,t,e),i)},useLayoutEffect:function(e,t){return By(4194308,4,e,t)},useInsertionEffect:function(e,t){return By(4,2,e,t)},useMemo:function(e,t){var i=Ns();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=Ns();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=$fe.bind(null,gn,e),[a.memoizedState,e]},useRef:function(e){var t=Ns();return e={current:e},t.memoizedState=e},useState:b3,useDebugValue:Lk,useDeferredValue:function(e){return Ns().memoizedState=e},useTransition:function(){var e=b3(!1),t=e[0];return e=Hfe.bind(null,e[1]),Ns().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=gn,l=Ns();if(nn){if(i===void 0)throw Error(dt(407));i=i()}else{if(i=t(),ri===null)throw Error(dt(349));rd&30||xG(a,t,i)}l.memoizedState=i;var h={value:i,getSnapshot:t};return l.queue=h,T3(PG.bind(null,a,h,e),[e]),a.flags|=2048,zm(9,AG.bind(null,a,h,i,t),void 0,null),i},useId:function(){var e=Ns(),t=ri.identifierPrefix;if(nn){var i=Eu,a=wu;i=(a&~(1<<32-rs(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=jm++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=zfe++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qfe={readContext:ba,useCallback:LG,useContext:ba,useEffect:Mk,useImperativeHandle:MG,useInsertionEffect:FG,useLayoutEffect:OG,useMemo:WG,useReducer:gx,useRef:RG,useState:function(){return gx(Gm)},useDebugValue:Lk,useDeferredValue:function(e){var t=Ta();return BG(t,Kn.memoizedState,e)},useTransition:function(){var e=gx(Gm)[0],t=Ta().memoizedState;return[e,t]},useMutableSource:wG,useSyncExternalStore:EG,useId:UG,unstable_isNewReconciler:!1},Xfe={readContext:ba,useCallback:LG,useContext:ba,useEffect:Mk,useImperativeHandle:MG,useInsertionEffect:FG,useLayoutEffect:OG,useMemo:WG,useReducer:mx,useRef:RG,useState:function(){return mx(Gm)},useDebugValue:Lk,useDeferredValue:function(e){var t=Ta();return Kn===null?t.memoizedState=e:BG(t,Kn.memoizedState,e)},useTransition:function(){var e=mx(Gm)[0],t=Ta().memoizedState;return[e,t]},useMutableSource:wG,useSyncExternalStore:EG,useId:UG,unstable_isNewReconciler:!1};function Xa(e,t){if(e&&e.defaultProps){t=mn({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function NA(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:mn({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Tb={isMounted:function(e){return(e=e._reactInternals)?ud(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Zi(),l=$c(e),h=Pu(a,l);h.payload=t,i!=null&&(h.callback=i),t=zc(e,h,l),t!==null&&(ns(t,e,l,a),Ly(t,e,l))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Zi(),l=$c(e),h=Pu(a,l);h.tag=1,h.payload=t,i!=null&&(h.callback=i),t=zc(e,h,l),t!==null&&(ns(t,e,l,a),Ly(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Zi(),a=$c(e),l=Pu(i,a);l.tag=2,t!=null&&(l.callback=t),t=zc(e,l,a),t!==null&&(ns(t,e,a,i),Ly(t,e,a))}};function C3(e,t,i,a,l,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,g):t.prototype&&t.prototype.isPureReactComponent?!Mm(i,a)||!Mm(l,h):!0}function zG(e,t,i){var a=!1,l=Xc,h=t.contextType;return typeof h=="object"&&h!==null?h=ba(h):(l=Co(t)?ed:Fi.current,a=t.contextTypes,h=(a=a!=null)?hh(e,l):Xc),t=new t(i,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tb,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=h),t}function I3(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Tb.enqueueReplaceState(t,t.state,null)}function MA(e,t,i,a){var l=e.stateNode;l.props=i,l.state=e.memoizedState,l.refs={},Pk(e);var h=t.contextType;typeof h=="object"&&h!==null?l.context=ba(h):(h=Co(t)?ed:Fi.current,l.context=hh(e,h)),l.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(NA(e,t,h,i),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Tb.enqueueReplaceState(l,l.state,null),PS(e,i,l,a),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function vh(e,t){try{var i="",a=t;do i+=Ide(a),a=a.return;while(a);var l=i}catch(h){l=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:l,digest:null}}function vx(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function LA(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Jfe=typeof WeakMap=="function"?WeakMap:Map;function HG(e,t,i){i=Pu(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){OS||(OS=!0,KA=a),LA(e,t)},i}function $G(e,t,i){i=Pu(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var l=t.value;i.payload=function(){return a(l)},i.callback=function(){LA(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(i.callback=function(){LA(e,t),typeof a!="function"&&(Hc===null?Hc=new Set([this]):Hc.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function w3(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Jfe;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(i)||(l.add(i),e=dhe.bind(null,e,t,i),t.then(e,e))}function E3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function x3(e,t,i,a,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Pu(-1,1),t.tag=2,zc(i,t,1))),i.lanes|=1),e)}var qfe=Lu.ReactCurrentOwner,bo=!1;function Xi(e,t,i,a){t.child=e===null?bG(t,null,i,a):gh(t,e.child,i,a)}function A3(e,t,i,a,l){i=i.render;var h=t.ref;return nh(t,l),a=Ok(e,t,i,a,h,l),i=Nk(),e!==null&&!bo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ou(e,t,l)):(nn&&i&&Tk(t),t.flags|=1,Xi(e,t,a,l),t.child)}function P3(e,t,i,a,l){if(e===null){var h=i.type;return typeof h=="function"&&!Hk(h)&&h.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=h,KG(e,t,h,a,l)):(e=Gy(i.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!(e.lanes&l)){var g=h.memoizedProps;if(i=i.compare,i=i!==null?i:Mm,i(g,a)&&e.ref===t.ref)return Ou(e,t,l)}return t.flags|=1,e=Kc(h,a),e.ref=t.ref,e.return=t,t.child=e}function KG(e,t,i,a,l){if(e!==null){var h=e.memoizedProps;if(Mm(h,a)&&e.ref===t.ref)if(bo=!1,t.pendingProps=a=h,(e.lanes&l)!==0)e.flags&131072&&(bo=!0);else return t.lanes=e.lanes,Ou(e,t,l)}return WA(e,t,i,a,l)}function YG(e,t,i){var a=t.pendingProps,l=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jr(Gf,Vo),Vo|=i;else{if(!(i&1073741824))return e=h!==null?h.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,jr(Gf,Vo),Vo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:i,jr(Gf,Vo),Vo|=a}else h!==null?(a=h.baseLanes|i,t.memoizedState=null):a=i,jr(Gf,Vo),Vo|=a;return Xi(e,t,l,i),t.child}function QG(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function WA(e,t,i,a,l){var h=Co(i)?ed:Fi.current;return h=hh(t,h),nh(t,l),i=Ok(e,t,i,a,h,l),a=Nk(),e!==null&&!bo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ou(e,t,l)):(nn&&a&&Tk(t),t.flags|=1,Xi(e,t,i,l),t.child)}function k3(e,t,i,a,l){if(Co(i)){var h=!0;IS(t)}else h=!1;if(nh(t,l),t.stateNode===null)Uy(e,t),zG(t,i,a),MA(t,i,a,l),a=!0;else if(e===null){var g=t.stateNode,v=t.memoizedProps;g.props=v;var T=g.context,C=i.contextType;typeof C=="object"&&C!==null?C=ba(C):(C=Co(i)?ed:Fi.current,C=hh(t,C));var E=i.getDerivedStateFromProps,A=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function";A||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==a||T!==C)&&I3(t,g,a,C),Pc=!1;var D=t.memoizedState;g.state=D,PS(t,a,g,l),T=t.memoizedState,v!==a||D!==T||To.current||Pc?(typeof E=="function"&&(NA(t,i,E,a),T=t.memoizedState),(v=Pc||C3(t,i,v,a,D,T,C))?(A||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=T),g.props=a,g.state=T,g.context=C,a=v):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,CG(e,t),v=t.memoizedProps,C=t.type===t.elementType?v:Xa(t.type,v),g.props=C,A=t.pendingProps,D=g.context,T=i.contextType,typeof T=="object"&&T!==null?T=ba(T):(T=Co(i)?ed:Fi.current,T=hh(t,T));var M=i.getDerivedStateFromProps;(E=typeof M=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==A||D!==T)&&I3(t,g,a,T),Pc=!1,D=t.memoizedState,g.state=D,PS(t,a,g,l);var w=t.memoizedState;v!==A||D!==w||To.current||Pc?(typeof M=="function"&&(NA(t,i,M,a),w=t.memoizedState),(C=Pc||C3(t,i,C,a,D,w,T)||!1)?(E||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,w,T),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,w,T)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=w),g.props=a,g.state=w,g.context=T,a=C):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),a=!1)}return BA(e,t,i,a,h,l)}function BA(e,t,i,a,l,h){QG(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return l&&g3(t,i,!1),Ou(e,t,h);a=t.stateNode,qfe.current=t;var v=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=gh(t,e.child,null,h),t.child=gh(t,null,v,h)):Xi(e,t,v,h),t.memoizedState=a.state,l&&g3(t,i,!0),t.child}function XG(e){var t=e.stateNode;t.pendingContext?p3(e,t.pendingContext,t.pendingContext!==t.context):t.context&&p3(e,t.context,!1),kk(e,t.containerInfo)}function D3(e,t,i,a,l){return ph(),Ik(l),t.flags|=256,Xi(e,t,i,a),t.child}var UA={dehydrated:null,treeContext:null,retryLane:0};function VA(e){return{baseLanes:e,cachePool:null,transitions:null}}function JG(e,t,i){var a=t.pendingProps,l=pn.current,h=!1,g=(t.flags&128)!==0,v;if((v=g)||(v=e!==null&&e.memoizedState===null?!1:(l&2)!==0),v?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),jr(pn,l&1),e===null)return FA(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=a.children,e=a.fallback,h?(a=t.mode,h=t.child,g={mode:"hidden",children:g},!(a&1)&&h!==null?(h.childLanes=0,h.pendingProps=g):h=wb(g,a,0,null),e=Xl(e,a,i,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=VA(i),t.memoizedState=UA,e):Wk(t,g));if(l=e.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return Zfe(e,t,g,a,v,l,i);if(h){h=a.fallback,g=t.mode,l=e.child,v=l.sibling;var T={mode:"hidden",children:a.children};return!(g&1)&&t.child!==l?(a=t.child,a.childLanes=0,a.pendingProps=T,t.deletions=null):(a=Kc(l,T),a.subtreeFlags=l.subtreeFlags&14680064),v!==null?h=Kc(v,h):(h=Xl(h,g,i,null),h.flags|=2),h.return=t,a.return=t,a.sibling=h,t.child=a,a=h,h=t.child,g=e.child.memoizedState,g=g===null?VA(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=e.childLanes&~i,t.memoizedState=UA,a}return h=e.child,e=h.sibling,a=Kc(h,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function Wk(e,t){return t=wb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uy(e,t,i,a){return a!==null&&Ik(a),gh(t,e.child,null,i),e=Wk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zfe(e,t,i,a,l,h,g){if(i)return t.flags&256?(t.flags&=-257,a=vx(Error(dt(422))),uy(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=a.fallback,l=t.mode,a=wb({mode:"visible",children:a.children},l,0,null),h=Xl(h,l,g,null),h.flags|=2,a.return=t,h.return=t,a.sibling=h,t.child=a,t.mode&1&&gh(t,e.child,null,g),t.child.memoizedState=VA(g),t.memoizedState=UA,h);if(!(t.mode&1))return uy(e,t,g,null);if(l.data==="$!"){if(a=l.nextSibling&&l.nextSibling.dataset,a)var v=a.dgst;return a=v,h=Error(dt(419)),a=vx(h,a,void 0),uy(e,t,g,a)}if(v=(g&e.childLanes)!==0,bo||v){if(a=ri,a!==null){switch(g&-g){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(a.suspendedLanes|g)?0:l,l!==0&&l!==h.retryLane&&(h.retryLane=l,Fu(e,l),ns(a,e,l,-1))}return zk(),a=vx(Error(dt(421))),uy(e,t,g,a)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=fhe.bind(null,e),l._reactRetry=t,null):(e=h.treeContext,jo=Gc(l.nextSibling),Go=t,nn=!0,qa=null,e!==null&&(ma[va++]=wu,ma[va++]=Eu,ma[va++]=td,wu=e.id,Eu=e.overflow,td=t),t=Wk(t,a.children),t.flags|=4096,t)}function R3(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),OA(e.return,t,i)}function _x(e,t,i,a,l){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:l}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=i,h.tailMode=l)}function qG(e,t,i){var a=t.pendingProps,l=a.revealOrder,h=a.tail;if(Xi(e,t,a.children,i),a=pn.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&R3(e,i,t);else if(e.tag===19)R3(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(jr(pn,a),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(i=t.child,l=null;i!==null;)e=i.alternate,e!==null&&kS(e)===null&&(l=i),i=i.sibling;i=l,i===null?(l=t.child,t.child=null):(l=i.sibling,i.sibling=null),_x(t,!1,l,i,h);break;case"backwards":for(i=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&kS(e)===null){t.child=l;break}e=l.sibling,l.sibling=i,i=l,l=e}_x(t,!0,i,null,h);break;case"together":_x(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ou(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),nd|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(dt(153));if(t.child!==null){for(e=t.child,i=Kc(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Kc(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function ehe(e,t,i){switch(t.tag){case 3:XG(t),ph();break;case 5:IG(t);break;case 1:Co(t.type)&&IS(t);break;case 4:kk(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,l=t.memoizedProps.value;jr(xS,a._currentValue),a._currentValue=l;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(jr(pn,pn.current&1),t.flags|=128,null):i&t.child.childLanes?JG(e,t,i):(jr(pn,pn.current&1),e=Ou(e,t,i),e!==null?e.sibling:null);jr(pn,pn.current&1);break;case 19:if(a=(i&t.childLanes)!==0,e.flags&128){if(a)return qG(e,t,i);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),jr(pn,pn.current),a)break;return null;case 22:case 23:return t.lanes=0,YG(e,t,i)}return Ou(e,t,i)}var ZG,jA,ez,tz;ZG=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};jA=function(){};ez=function(e,t,i,a){var l=e.memoizedProps;if(l!==a){e=t.stateNode,Hl(Hs.current);var h=null;switch(i){case"input":l=lA(e,l),a=lA(e,a),h=[];break;case"select":l=mn({},l,{value:void 0}),a=mn({},a,{value:void 0}),h=[];break;case"textarea":l=hA(e,l),a=hA(e,a),h=[];break;default:typeof l.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=TS)}gA(i,a);var g;i=null;for(C in l)if(!a.hasOwnProperty(C)&&l.hasOwnProperty(C)&&l[C]!=null)if(C==="style"){var v=l[C];for(g in v)v.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(Pm.hasOwnProperty(C)?h||(h=[]):(h=h||[]).push(C,null));for(C in a){var T=a[C];if(v=l!=null?l[C]:void 0,a.hasOwnProperty(C)&&T!==v&&(T!=null||v!=null))if(C==="style")if(v){for(g in v)!v.hasOwnProperty(g)||T&&T.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in T)T.hasOwnProperty(g)&&v[g]!==T[g]&&(i||(i={}),i[g]=T[g])}else i||(h||(h=[]),h.push(C,i)),i=T;else C==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,v=v?v.__html:void 0,T!=null&&v!==T&&(h=h||[]).push(C,T)):C==="children"?typeof T!="string"&&typeof T!="number"||(h=h||[]).push(C,""+T):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(Pm.hasOwnProperty(C)?(T!=null&&C==="onScroll"&&Hr("scroll",e),h||v===T||(h=[])):(h=h||[]).push(C,T))}i&&(h=h||[]).push("style",i);var C=h;(t.updateQueue=C)&&(t.flags|=4)}};tz=function(e,t,i,a){i!==a&&(t.flags|=4)};function Og(e,t){if(!nn)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ki(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var l=e.child;l!==null;)i|=l.lanes|l.childLanes,a|=l.subtreeFlags&14680064,a|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)i|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function the(e,t,i){var a=t.pendingProps;switch(Ck(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ki(t),null;case 1:return Co(t.type)&&CS(),ki(t),null;case 3:return a=t.stateNode,mh(),Kr(To),Kr(Fi),Rk(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ay(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qa!==null&&(XA(qa),qa=null))),jA(e,t),ki(t),null;case 5:Dk(t);var l=Hl(Vm.current);if(i=t.type,e!==null&&t.stateNode!=null)ez(e,t,i,a,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(dt(166));return ki(t),null}if(e=Hl(Hs.current),ay(t)){a=t.stateNode,i=t.type;var h=t.memoizedProps;switch(a[Us]=t,a[Bm]=h,e=(t.mode&1)!==0,i){case"dialog":Hr("cancel",a),Hr("close",a);break;case"iframe":case"object":case"embed":Hr("load",a);break;case"video":case"audio":for(l=0;l<Qg.length;l++)Hr(Qg[l],a);break;case"source":Hr("error",a);break;case"img":case"image":case"link":Hr("error",a),Hr("load",a);break;case"details":Hr("toggle",a);break;case"input":V4(a,h),Hr("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},Hr("invalid",a);break;case"textarea":G4(a,h),Hr("invalid",a)}gA(i,h),l=null;for(var g in h)if(h.hasOwnProperty(g)){var v=h[g];g==="children"?typeof v=="string"?a.textContent!==v&&(h.suppressHydrationWarning!==!0&&oy(a.textContent,v,e),l=["children",v]):typeof v=="number"&&a.textContent!==""+v&&(h.suppressHydrationWarning!==!0&&oy(a.textContent,v,e),l=["children",""+v]):Pm.hasOwnProperty(g)&&v!=null&&g==="onScroll"&&Hr("scroll",a)}switch(i){case"input":J0(a),j4(a,h,!0);break;case"textarea":J0(a),z4(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=TS)}a=l,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=P6(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[Us]=t,e[Bm]=a,ZG(e,t,!1,!1),t.stateNode=e;e:{switch(g=mA(i,a),i){case"dialog":Hr("cancel",e),Hr("close",e),l=a;break;case"iframe":case"object":case"embed":Hr("load",e),l=a;break;case"video":case"audio":for(l=0;l<Qg.length;l++)Hr(Qg[l],e);l=a;break;case"source":Hr("error",e),l=a;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),l=a;break;case"details":Hr("toggle",e),l=a;break;case"input":V4(e,a),l=lA(e,a),Hr("invalid",e);break;case"option":l=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},l=mn({},a,{value:void 0}),Hr("invalid",e);break;case"textarea":G4(e,a),l=hA(e,a),Hr("invalid",e);break;default:l=a}gA(i,l),v=l;for(h in v)if(v.hasOwnProperty(h)){var T=v[h];h==="style"?R6(e,T):h==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&k6(e,T)):h==="children"?typeof T=="string"?(i!=="textarea"||T!=="")&&km(e,T):typeof T=="number"&&km(e,""+T):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Pm.hasOwnProperty(h)?T!=null&&h==="onScroll"&&Hr("scroll",e):T!=null&&uk(e,h,T,g))}switch(i){case"input":J0(e),j4(e,a,!1);break;case"textarea":J0(e),z4(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Qc(a.value));break;case"select":e.multiple=!!a.multiple,h=a.value,h!=null?Zf(e,!!a.multiple,h,!1):a.defaultValue!=null&&Zf(e,!!a.multiple,a.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=TS)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ki(t),null;case 6:if(e&&t.stateNode!=null)tz(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(dt(166));if(i=Hl(Vm.current),Hl(Hs.current),ay(t)){if(a=t.stateNode,i=t.memoizedProps,a[Us]=t,(h=a.nodeValue!==i)&&(e=Go,e!==null))switch(e.tag){case 3:oy(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oy(a.nodeValue,i,(e.mode&1)!==0)}h&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Us]=t,t.stateNode=a}return ki(t),null;case 13:if(Kr(pn),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nn&&jo!==null&&t.mode&1&&!(t.flags&128))yG(),ph(),t.flags|=98560,h=!1;else if(h=ay(t),a!==null&&a.dehydrated!==null){if(e===null){if(!h)throw Error(dt(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(dt(317));h[Us]=t}else ph(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ki(t),h=!1}else qa!==null&&(XA(qa),qa=null),h=!0;if(!h)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||pn.current&1?Yn===0&&(Yn=3):zk())),t.updateQueue!==null&&(t.flags|=4),ki(t),null);case 4:return mh(),jA(e,t),e===null&&Lm(t.stateNode.containerInfo),ki(t),null;case 10:return xk(t.type._context),ki(t),null;case 17:return Co(t.type)&&CS(),ki(t),null;case 19:if(Kr(pn),h=t.memoizedState,h===null)return ki(t),null;if(a=(t.flags&128)!==0,g=h.rendering,g===null)if(a)Og(h,!1);else{if(Yn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=kS(e),g!==null){for(t.flags|=128,Og(h,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)h=i,e=a,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,e=g.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return jr(pn,pn.current&1|2),t.child}e=e.sibling}h.tail!==null&&Rn()>_h&&(t.flags|=128,a=!0,Og(h,!1),t.lanes=4194304)}else{if(!a)if(e=kS(g),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Og(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!nn)return ki(t),null}else 2*Rn()-h.renderingStartTime>_h&&i!==1073741824&&(t.flags|=128,a=!0,Og(h,!1),t.lanes=4194304);h.isBackwards?(g.sibling=t.child,t.child=g):(i=h.last,i!==null?i.sibling=g:t.child=g,h.last=g)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Rn(),t.sibling=null,i=pn.current,jr(pn,a?i&1|2:i&1),t):(ki(t),null);case 22:case 23:return Gk(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Vo&1073741824&&(ki(t),t.subtreeFlags&6&&(t.flags|=8192)):ki(t),null;case 24:return null;case 25:return null}throw Error(dt(156,t.tag))}function rhe(e,t){switch(Ck(t),t.tag){case 1:return Co(t.type)&&CS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mh(),Kr(To),Kr(Fi),Rk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dk(t),null;case 13:if(Kr(pn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(dt(340));ph()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kr(pn),null;case 4:return mh(),null;case 10:return xk(t.type._context),null;case 22:case 23:return Gk(),null;case 24:return null;default:return null}}var cy=!1,Ri=!1,nhe=typeof WeakSet=="function"?WeakSet:Set,It=null;function jf(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Cn(e,t,a)}else i.current=null}function GA(e,t,i){try{i()}catch(a){Cn(e,t,a)}}var F3=!1;function ihe(e,t){if(EA=yS,e=aG(),bk(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var l=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var g=0,v=-1,T=-1,C=0,E=0,A=e,D=null;t:for(;;){for(var M;A!==i||l!==0&&A.nodeType!==3||(v=g+l),A!==h||a!==0&&A.nodeType!==3||(T=g+a),A.nodeType===3&&(g+=A.nodeValue.length),(M=A.firstChild)!==null;)D=A,A=M;for(;;){if(A===e)break t;if(D===i&&++C===l&&(v=g),D===h&&++E===a&&(T=g),(M=A.nextSibling)!==null)break;A=D,D=A.parentNode}A=M}i=v===-1||T===-1?null:{start:v,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(xA={focusedElem:e,selectionRange:i},yS=!1,It=t;It!==null;)if(t=It,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,It=e;else for(;It!==null;){t=It;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var O=w.memoizedProps,N=w.memoizedState,k=t.stateNode,R=k.getSnapshotBeforeUpdate(t.elementType===t.type?O:Xa(t.type,O),N);k.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var W=t.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(dt(163))}}catch(K){Cn(t,t.return,K)}if(e=t.sibling,e!==null){e.return=t.return,It=e;break}It=t.return}return w=F3,F3=!1,w}function cm(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&e)===e){var h=l.destroy;l.destroy=void 0,h!==void 0&&GA(t,i,h)}l=l.next}while(l!==a)}}function Cb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function zA(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function rz(e){var t=e.alternate;t!==null&&(e.alternate=null,rz(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Us],delete t[Bm],delete t[kA],delete t[Ufe],delete t[Vfe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nz(e){return e.tag===5||e.tag===3||e.tag===4}function O3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nz(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function HA(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=TS));else if(a!==4&&(e=e.child,e!==null))for(HA(e,t,i),e=e.sibling;e!==null;)HA(e,t,i),e=e.sibling}function $A(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for($A(e,t,i),e=e.sibling;e!==null;)$A(e,t,i),e=e.sibling}var _i=null,Ja=!1;function bc(e,t,i){for(i=i.child;i!==null;)iz(e,t,i),i=i.sibling}function iz(e,t,i){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(gb,i)}catch{}switch(i.tag){case 5:Ri||jf(i,t);case 6:var a=_i,l=Ja;_i=null,bc(e,t,i),_i=a,Ja=l,_i!==null&&(Ja?(e=_i,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):_i.removeChild(i.stateNode));break;case 18:_i!==null&&(Ja?(e=_i,i=i.stateNode,e.nodeType===8?dx(e.parentNode,i):e.nodeType===1&&dx(e,i),Om(e)):dx(_i,i.stateNode));break;case 4:a=_i,l=Ja,_i=i.stateNode.containerInfo,Ja=!0,bc(e,t,i),_i=a,Ja=l;break;case 0:case 11:case 14:case 15:if(!Ri&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){l=a=a.next;do{var h=l,g=h.destroy;h=h.tag,g!==void 0&&(h&2||h&4)&&GA(i,t,g),l=l.next}while(l!==a)}bc(e,t,i);break;case 1:if(!Ri&&(jf(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(v){Cn(i,t,v)}bc(e,t,i);break;case 21:bc(e,t,i);break;case 22:i.mode&1?(Ri=(a=Ri)||i.memoizedState!==null,bc(e,t,i),Ri=a):bc(e,t,i);break;default:bc(e,t,i)}}function N3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new nhe),t.forEach(function(a){var l=hhe.bind(null,e,a);i.has(a)||(i.add(a),a.then(l,l))})}}function $a(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];try{var h=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 5:_i=v.stateNode,Ja=!1;break e;case 3:_i=v.stateNode.containerInfo,Ja=!0;break e;case 4:_i=v.stateNode.containerInfo,Ja=!0;break e}v=v.return}if(_i===null)throw Error(dt(160));iz(h,g,l),_i=null,Ja=!1;var T=l.alternate;T!==null&&(T.return=null),l.return=null}catch(C){Cn(l,t,C)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oz(t,e),t=t.sibling}function oz(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($a(t,e),Rs(e),a&4){try{cm(3,e,e.return),Cb(3,e)}catch(O){Cn(e,e.return,O)}try{cm(5,e,e.return)}catch(O){Cn(e,e.return,O)}}break;case 1:$a(t,e),Rs(e),a&512&&i!==null&&jf(i,i.return);break;case 5:if($a(t,e),Rs(e),a&512&&i!==null&&jf(i,i.return),e.flags&32){var l=e.stateNode;try{km(l,"")}catch(O){Cn(e,e.return,O)}}if(a&4&&(l=e.stateNode,l!=null)){var h=e.memoizedProps,g=i!==null?i.memoizedProps:h,v=e.type,T=e.updateQueue;if(e.updateQueue=null,T!==null)try{v==="input"&&h.type==="radio"&&h.name!=null&&x6(l,h),mA(v,g);var C=mA(v,h);for(g=0;g<T.length;g+=2){var E=T[g],A=T[g+1];E==="style"?R6(l,A):E==="dangerouslySetInnerHTML"?k6(l,A):E==="children"?km(l,A):uk(l,E,A,C)}switch(v){case"input":dA(l,h);break;case"textarea":A6(l,h);break;case"select":var D=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!h.multiple;var M=h.value;M!=null?Zf(l,!!h.multiple,M,!1):D!==!!h.multiple&&(h.defaultValue!=null?Zf(l,!!h.multiple,h.defaultValue,!0):Zf(l,!!h.multiple,h.multiple?[]:"",!1))}l[Bm]=h}catch(O){Cn(e,e.return,O)}}break;case 6:if($a(t,e),Rs(e),a&4){if(e.stateNode===null)throw Error(dt(162));l=e.stateNode,h=e.memoizedProps;try{l.nodeValue=h}catch(O){Cn(e,e.return,O)}}break;case 3:if($a(t,e),Rs(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Om(t.containerInfo)}catch(O){Cn(e,e.return,O)}break;case 4:$a(t,e),Rs(e);break;case 13:$a(t,e),Rs(e),l=e.child,l.flags&8192&&(h=l.memoizedState!==null,l.stateNode.isHidden=h,!h||l.alternate!==null&&l.alternate.memoizedState!==null||(Vk=Rn())),a&4&&N3(e);break;case 22:if(E=i!==null&&i.memoizedState!==null,e.mode&1?(Ri=(C=Ri)||E,$a(t,e),Ri=C):$a(t,e),Rs(e),a&8192){if(C=e.memoizedState!==null,(e.stateNode.isHidden=C)&&!E&&e.mode&1)for(It=e,E=e.child;E!==null;){for(A=It=E;It!==null;){switch(D=It,M=D.child,D.tag){case 0:case 11:case 14:case 15:cm(4,D,D.return);break;case 1:jf(D,D.return);var w=D.stateNode;if(typeof w.componentWillUnmount=="function"){a=D,i=D.return;try{t=a,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(O){Cn(a,i,O)}}break;case 5:jf(D,D.return);break;case 22:if(D.memoizedState!==null){L3(A);continue}}M!==null?(M.return=D,It=M):L3(A)}E=E.sibling}e:for(E=null,A=e;;){if(A.tag===5){if(E===null){E=A;try{l=A.stateNode,C?(h=l.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(v=A.stateNode,T=A.memoizedProps.style,g=T!=null&&T.hasOwnProperty("display")?T.display:null,v.style.display=D6("display",g))}catch(O){Cn(e,e.return,O)}}}else if(A.tag===6){if(E===null)try{A.stateNode.nodeValue=C?"":A.memoizedProps}catch(O){Cn(e,e.return,O)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;E===A&&(E=null),A=A.return}E===A&&(E=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:$a(t,e),Rs(e),a&4&&N3(e);break;case 21:break;default:$a(t,e),Rs(e)}}function Rs(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(nz(i)){var a=i;break e}i=i.return}throw Error(dt(160))}switch(a.tag){case 5:var l=a.stateNode;a.flags&32&&(km(l,""),a.flags&=-33);var h=O3(e);$A(e,h,l);break;case 3:case 4:var g=a.stateNode.containerInfo,v=O3(e);HA(e,v,g);break;default:throw Error(dt(161))}}catch(T){Cn(e,e.return,T)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ohe(e,t,i){It=e,az(e)}function az(e,t,i){for(var a=(e.mode&1)!==0;It!==null;){var l=It,h=l.child;if(l.tag===22&&a){var g=l.memoizedState!==null||cy;if(!g){var v=l.alternate,T=v!==null&&v.memoizedState!==null||Ri;v=cy;var C=Ri;if(cy=g,(Ri=T)&&!C)for(It=l;It!==null;)g=It,T=g.child,g.tag===22&&g.memoizedState!==null?W3(l):T!==null?(T.return=g,It=T):W3(l);for(;h!==null;)It=h,az(h),h=h.sibling;It=l,cy=v,Ri=C}M3(e)}else l.subtreeFlags&8772&&h!==null?(h.return=l,It=h):M3(e)}}function M3(e){for(;It!==null;){var t=It;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ri||Cb(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Ri)if(i===null)a.componentDidMount();else{var l=t.elementType===t.type?i.memoizedProps:Xa(t.type,i.memoizedProps);a.componentDidUpdate(l,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&S3(t,h,a);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}S3(t,g,i)}break;case 5:var v=t.stateNode;if(i===null&&t.flags&4){i=v;var T=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&i.focus();break;case"img":T.src&&(i.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var C=t.alternate;if(C!==null){var E=C.memoizedState;if(E!==null){var A=E.dehydrated;A!==null&&Om(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(dt(163))}Ri||t.flags&512&&zA(t)}catch(D){Cn(t,t.return,D)}}if(t===e){It=null;break}if(i=t.sibling,i!==null){i.return=t.return,It=i;break}It=t.return}}function L3(e){for(;It!==null;){var t=It;if(t===e){It=null;break}var i=t.sibling;if(i!==null){i.return=t.return,It=i;break}It=t.return}}function W3(e){for(;It!==null;){var t=It;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Cb(4,t)}catch(T){Cn(t,i,T)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var l=t.return;try{a.componentDidMount()}catch(T){Cn(t,l,T)}}var h=t.return;try{zA(t)}catch(T){Cn(t,h,T)}break;case 5:var g=t.return;try{zA(t)}catch(T){Cn(t,g,T)}}}catch(T){Cn(t,t.return,T)}if(t===e){It=null;break}var v=t.sibling;if(v!==null){v.return=t.return,It=v;break}It=t.return}}var ahe=Math.ceil,FS=Lu.ReactCurrentDispatcher,Bk=Lu.ReactCurrentOwner,Sa=Lu.ReactCurrentBatchConfig,_r=0,ri=null,Wn=null,bi=0,Vo=0,Gf=Zc(0),Yn=0,Hm=null,nd=0,Ib=0,Uk=0,lm=null,yo=null,Vk=0,_h=1/0,_u=null,OS=!1,KA=null,Hc=null,ly=!1,Lc=null,NS=0,dm=0,YA=null,Vy=-1,jy=0;function Zi(){return _r&6?Rn():Vy!==-1?Vy:Vy=Rn()}function $c(e){return e.mode&1?_r&2&&bi!==0?bi&-bi:Gfe.transition!==null?(jy===0&&(jy=z6()),jy):(e=Dr,e!==0||(e=window.event,e=e===void 0?16:J6(e.type)),e):1}function ns(e,t,i,a){if(50<dm)throw dm=0,YA=null,Error(dt(185));dv(e,i,a),(!(_r&2)||e!==ri)&&(e===ri&&(!(_r&2)&&(Ib|=i),Yn===4&&Fc(e,bi)),Io(e,a),i===1&&_r===0&&!(t.mode&1)&&(_h=Rn()+500,Sb&&el()))}function Io(e,t){var i=e.callbackNode;Gde(e,t);var a=_S(e,e===ri?bi:0);if(a===0)i!==null&&K4(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&K4(i),t===1)e.tag===0?jfe(B3.bind(null,e)):mG(B3.bind(null,e)),Wfe(function(){!(_r&6)&&el()}),i=null;else{switch(H6(a)){case 1:i=hk;break;case 4:i=j6;break;case 16:i=vS;break;case 536870912:i=G6;break;default:i=vS}i=pz(i,sz.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function sz(e,t){if(Vy=-1,jy=0,_r&6)throw Error(dt(327));var i=e.callbackNode;if(ih()&&e.callbackNode!==i)return null;var a=_S(e,e===ri?bi:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=MS(e,a);else{t=a;var l=_r;_r|=2;var h=cz();(ri!==e||bi!==t)&&(_u=null,_h=Rn()+500,Ql(e,t));do try{che();break}catch(v){uz(e,v)}while(1);Ek(),FS.current=h,_r=l,Wn!==null?t=0:(ri=null,bi=0,t=Yn)}if(t!==0){if(t===2&&(l=bA(e),l!==0&&(a=l,t=QA(e,l))),t===1)throw i=Hm,Ql(e,0),Fc(e,a),Io(e,Rn()),i;if(t===6)Fc(e,a);else{if(l=e.current.alternate,!(a&30)&&!she(l)&&(t=MS(e,a),t===2&&(h=bA(e),h!==0&&(a=h,t=QA(e,h))),t===1))throw i=Hm,Ql(e,0),Fc(e,a),Io(e,Rn()),i;switch(e.finishedWork=l,e.finishedLanes=a,t){case 0:case 1:throw Error(dt(345));case 2:Bl(e,yo,_u);break;case 3:if(Fc(e,a),(a&130023424)===a&&(t=Vk+500-Rn(),10<t)){if(_S(e,0)!==0)break;if(l=e.suspendedLanes,(l&a)!==a){Zi(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=PA(Bl.bind(null,e,yo,_u),t);break}Bl(e,yo,_u);break;case 4:if(Fc(e,a),(a&4194240)===a)break;for(t=e.eventTimes,l=-1;0<a;){var g=31-rs(a);h=1<<g,g=t[g],g>l&&(l=g),a&=~h}if(a=l,a=Rn()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*ahe(a/1960))-a,10<a){e.timeoutHandle=PA(Bl.bind(null,e,yo,_u),a);break}Bl(e,yo,_u);break;case 5:Bl(e,yo,_u);break;default:throw Error(dt(329))}}}return Io(e,Rn()),e.callbackNode===i?sz.bind(null,e):null}function QA(e,t){var i=lm;return e.current.memoizedState.isDehydrated&&(Ql(e,t).flags|=256),e=MS(e,t),e!==2&&(t=yo,yo=i,t!==null&&XA(t)),e}function XA(e){yo===null?yo=e:yo.push.apply(yo,e)}function she(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var l=i[a],h=l.getSnapshot;l=l.value;try{if(!ss(h(),l))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fc(e,t){for(t&=~Uk,t&=~Ib,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-rs(t),a=1<<i;e[i]=-1,t&=~a}}function B3(e){if(_r&6)throw Error(dt(327));ih();var t=_S(e,0);if(!(t&1))return Io(e,Rn()),null;var i=MS(e,t);if(e.tag!==0&&i===2){var a=bA(e);a!==0&&(t=a,i=QA(e,a))}if(i===1)throw i=Hm,Ql(e,0),Fc(e,t),Io(e,Rn()),i;if(i===6)throw Error(dt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bl(e,yo,_u),Io(e,Rn()),null}function jk(e,t){var i=_r;_r|=1;try{return e(t)}finally{_r=i,_r===0&&(_h=Rn()+500,Sb&&el())}}function id(e){Lc!==null&&Lc.tag===0&&!(_r&6)&&ih();var t=_r;_r|=1;var i=Sa.transition,a=Dr;try{if(Sa.transition=null,Dr=1,e)return e()}finally{Dr=a,Sa.transition=i,_r=t,!(_r&6)&&el()}}function Gk(){Vo=Gf.current,Kr(Gf)}function Ql(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Lfe(i)),Wn!==null)for(i=Wn.return;i!==null;){var a=i;switch(Ck(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&CS();break;case 3:mh(),Kr(To),Kr(Fi),Rk();break;case 5:Dk(a);break;case 4:mh();break;case 13:Kr(pn);break;case 19:Kr(pn);break;case 10:xk(a.type._context);break;case 22:case 23:Gk()}i=i.return}if(ri=e,Wn=e=Kc(e.current,null),bi=Vo=t,Yn=0,Hm=null,Uk=Ib=nd=0,yo=lm=null,zl!==null){for(t=0;t<zl.length;t++)if(i=zl[t],a=i.interleaved,a!==null){i.interleaved=null;var l=a.next,h=i.pending;if(h!==null){var g=h.next;h.next=l,a.next=g}i.pending=a}zl=null}return e}function uz(e,t){do{var i=Wn;try{if(Ek(),Wy.current=RS,DS){for(var a=gn.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}DS=!1}if(rd=0,ti=Kn=gn=null,um=!1,jm=0,Bk.current=null,i===null||i.return===null){Yn=1,Hm=t,Wn=null;break}e:{var h=e,g=i.return,v=i,T=t;if(t=bi,v.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var C=T,E=v,A=E.tag;if(!(E.mode&1)&&(A===0||A===11||A===15)){var D=E.alternate;D?(E.updateQueue=D.updateQueue,E.memoizedState=D.memoizedState,E.lanes=D.lanes):(E.updateQueue=null,E.memoizedState=null)}var M=E3(g);if(M!==null){M.flags&=-257,x3(M,g,v,h,t),M.mode&1&&w3(h,C,t),t=M,T=C;var w=t.updateQueue;if(w===null){var O=new Set;O.add(T),t.updateQueue=O}else w.add(T);break e}else{if(!(t&1)){w3(h,C,t),zk();break e}T=Error(dt(426))}}else if(nn&&v.mode&1){var N=E3(g);if(N!==null){!(N.flags&65536)&&(N.flags|=256),x3(N,g,v,h,t),Ik(vh(T,v));break e}}h=T=vh(T,v),Yn!==4&&(Yn=2),lm===null?lm=[h]:lm.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var k=HG(h,T,t);y3(h,k);break e;case 1:v=T;var R=h.type,W=h.stateNode;if(!(h.flags&128)&&(typeof R.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Hc===null||!Hc.has(W)))){h.flags|=65536,t&=-t,h.lanes|=t;var K=$G(h,v,t);y3(h,K);break e}}h=h.return}while(h!==null)}dz(i)}catch(de){t=de,Wn===i&&i!==null&&(Wn=i=i.return);continue}break}while(1)}function cz(){var e=FS.current;return FS.current=RS,e===null?RS:e}function zk(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),ri===null||!(nd&268435455)&&!(Ib&268435455)||Fc(ri,bi)}function MS(e,t){var i=_r;_r|=2;var a=cz();(ri!==e||bi!==t)&&(_u=null,Ql(e,t));do try{uhe();break}catch(l){uz(e,l)}while(1);if(Ek(),_r=i,FS.current=a,Wn!==null)throw Error(dt(261));return ri=null,bi=0,Yn}function uhe(){for(;Wn!==null;)lz(Wn)}function che(){for(;Wn!==null&&!Ode();)lz(Wn)}function lz(e){var t=hz(e.alternate,e,Vo);e.memoizedProps=e.pendingProps,t===null?dz(e):Wn=t,Bk.current=null}function dz(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=rhe(i,t),i!==null){i.flags&=32767,Wn=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yn=6,Wn=null;return}}else if(i=the(i,t,Vo),i!==null){Wn=i;return}if(t=t.sibling,t!==null){Wn=t;return}Wn=t=e}while(t!==null);Yn===0&&(Yn=5)}function Bl(e,t,i){var a=Dr,l=Sa.transition;try{Sa.transition=null,Dr=1,lhe(e,t,i,a)}finally{Sa.transition=l,Dr=a}return null}function lhe(e,t,i,a){do ih();while(Lc!==null);if(_r&6)throw Error(dt(327));i=e.finishedWork;var l=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(dt(177));e.callbackNode=null,e.callbackPriority=0;var h=i.lanes|i.childLanes;if(zde(e,h),e===ri&&(Wn=ri=null,bi=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||ly||(ly=!0,pz(vS,function(){return ih(),null})),h=(i.flags&15990)!==0,i.subtreeFlags&15990||h){h=Sa.transition,Sa.transition=null;var g=Dr;Dr=1;var v=_r;_r|=4,Bk.current=null,ihe(e,i),oz(i,e),kfe(xA),yS=!!EA,xA=EA=null,e.current=i,ohe(i),Nde(),_r=v,Dr=g,Sa.transition=h}else e.current=i;if(ly&&(ly=!1,Lc=e,NS=l),h=e.pendingLanes,h===0&&(Hc=null),Wde(i.stateNode),Io(e,Rn()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)l=t[i],a(l.value,{componentStack:l.stack,digest:l.digest});if(OS)throw OS=!1,e=KA,KA=null,e;return NS&1&&e.tag!==0&&ih(),h=e.pendingLanes,h&1?e===YA?dm++:(dm=0,YA=e):dm=0,el(),null}function ih(){if(Lc!==null){var e=H6(NS),t=Sa.transition,i=Dr;try{if(Sa.transition=null,Dr=16>e?16:e,Lc===null)var a=!1;else{if(e=Lc,Lc=null,NS=0,_r&6)throw Error(dt(331));var l=_r;for(_r|=4,It=e.current;It!==null;){var h=It,g=h.child;if(It.flags&16){var v=h.deletions;if(v!==null){for(var T=0;T<v.length;T++){var C=v[T];for(It=C;It!==null;){var E=It;switch(E.tag){case 0:case 11:case 15:cm(8,E,h)}var A=E.child;if(A!==null)A.return=E,It=A;else for(;It!==null;){E=It;var D=E.sibling,M=E.return;if(rz(E),E===C){It=null;break}if(D!==null){D.return=M,It=D;break}It=M}}}var w=h.alternate;if(w!==null){var O=w.child;if(O!==null){w.child=null;do{var N=O.sibling;O.sibling=null,O=N}while(O!==null)}}It=h}}if(h.subtreeFlags&2064&&g!==null)g.return=h,It=g;else e:for(;It!==null;){if(h=It,h.flags&2048)switch(h.tag){case 0:case 11:case 15:cm(9,h,h.return)}var k=h.sibling;if(k!==null){k.return=h.return,It=k;break e}It=h.return}}var R=e.current;for(It=R;It!==null;){g=It;var W=g.child;if(g.subtreeFlags&2064&&W!==null)W.return=g,It=W;else e:for(g=R;It!==null;){if(v=It,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:Cb(9,v)}}catch(de){Cn(v,v.return,de)}if(v===g){It=null;break e}var K=v.sibling;if(K!==null){K.return=v.return,It=K;break e}It=v.return}}if(_r=l,el(),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(gb,e)}catch{}a=!0}return a}finally{Dr=i,Sa.transition=t}}return!1}function U3(e,t,i){t=vh(i,t),t=HG(e,t,1),e=zc(e,t,1),t=Zi(),e!==null&&(dv(e,1,t),Io(e,t))}function Cn(e,t,i){if(e.tag===3)U3(e,e,i);else for(;t!==null;){if(t.tag===3){U3(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Hc===null||!Hc.has(a))){e=vh(i,e),e=$G(t,e,1),t=zc(t,e,1),e=Zi(),t!==null&&(dv(t,1,e),Io(t,e));break}}t=t.return}}function dhe(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=Zi(),e.pingedLanes|=e.suspendedLanes&i,ri===e&&(bi&i)===i&&(Yn===4||Yn===3&&(bi&130023424)===bi&&500>Rn()-Vk?Ql(e,0):Uk|=i),Io(e,t)}function fz(e,t){t===0&&(e.mode&1?(t=ey,ey<<=1,!(ey&130023424)&&(ey=4194304)):t=1);var i=Zi();e=Fu(e,t),e!==null&&(dv(e,t,i),Io(e,i))}function fhe(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),fz(e,i)}function hhe(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(i=l.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(dt(314))}a!==null&&a.delete(t),fz(e,i)}var hz;hz=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||To.current)bo=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return bo=!1,ehe(e,t,i);bo=!!(e.flags&131072)}else bo=!1,nn&&t.flags&1048576&&vG(t,ES,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Uy(e,t),e=t.pendingProps;var l=hh(t,Fi.current);nh(t,i),l=Ok(null,t,a,e,l,i);var h=Nk();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Co(a)?(h=!0,IS(t)):h=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Pk(t),l.updater=Tb,t.stateNode=l,l._reactInternals=t,MA(t,a,e,i),t=BA(null,t,a,!0,h,i)):(t.tag=0,nn&&h&&Tk(t),Xi(null,t,l,i),t=t.child),t;case 16:a=t.elementType;e:{switch(Uy(e,t),e=t.pendingProps,l=a._init,a=l(a._payload),t.type=a,l=t.tag=ghe(a),e=Xa(a,e),l){case 0:t=WA(null,t,a,e,i);break e;case 1:t=k3(null,t,a,e,i);break e;case 11:t=A3(null,t,a,e,i);break e;case 14:t=P3(null,t,a,Xa(a.type,e),i);break e}throw Error(dt(306,a,""))}return t;case 0:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Xa(a,l),WA(e,t,a,l,i);case 1:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Xa(a,l),k3(e,t,a,l,i);case 3:e:{if(XG(t),e===null)throw Error(dt(387));a=t.pendingProps,h=t.memoizedState,l=h.element,CG(e,t),PS(t,a,null,i);var g=t.memoizedState;if(a=g.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){l=vh(Error(dt(423)),t),t=D3(e,t,a,i,l);break e}else if(a!==l){l=vh(Error(dt(424)),t),t=D3(e,t,a,i,l);break e}else for(jo=Gc(t.stateNode.containerInfo.firstChild),Go=t,nn=!0,qa=null,i=bG(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ph(),a===l){t=Ou(e,t,i);break e}Xi(e,t,a,i)}t=t.child}return t;case 5:return IG(t),e===null&&FA(t),a=t.type,l=t.pendingProps,h=e!==null?e.memoizedProps:null,g=l.children,AA(a,l)?g=null:h!==null&&AA(a,h)&&(t.flags|=32),QG(e,t),Xi(e,t,g,i),t.child;case 6:return e===null&&FA(t),null;case 13:return JG(e,t,i);case 4:return kk(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=gh(t,null,a,i):Xi(e,t,a,i),t.child;case 11:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Xa(a,l),A3(e,t,a,l,i);case 7:return Xi(e,t,t.pendingProps,i),t.child;case 8:return Xi(e,t,t.pendingProps.children,i),t.child;case 12:return Xi(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,l=t.pendingProps,h=t.memoizedProps,g=l.value,jr(xS,a._currentValue),a._currentValue=g,h!==null)if(ss(h.value,g)){if(h.children===l.children&&!To.current){t=Ou(e,t,i);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var v=h.dependencies;if(v!==null){g=h.child;for(var T=v.firstContext;T!==null;){if(T.context===a){if(h.tag===1){T=Pu(-1,i&-i),T.tag=2;var C=h.updateQueue;if(C!==null){C=C.shared;var E=C.pending;E===null?T.next=T:(T.next=E.next,E.next=T),C.pending=T}}h.lanes|=i,T=h.alternate,T!==null&&(T.lanes|=i),OA(h.return,i,t),v.lanes|=i;break}T=T.next}}else if(h.tag===10)g=h.type===t.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(dt(341));g.lanes|=i,v=g.alternate,v!==null&&(v.lanes|=i),OA(g,i,t),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}Xi(e,t,l.children,i),t=t.child}return t;case 9:return l=t.type,a=t.pendingProps.children,nh(t,i),l=ba(l),a=a(l),t.flags|=1,Xi(e,t,a,i),t.child;case 14:return a=t.type,l=Xa(a,t.pendingProps),l=Xa(a.type,l),P3(e,t,a,l,i);case 15:return KG(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Xa(a,l),Uy(e,t),t.tag=1,Co(a)?(e=!0,IS(t)):e=!1,nh(t,i),zG(t,a,l),MA(t,a,l,i),BA(null,t,a,!0,e,i);case 19:return qG(e,t,i);case 22:return YG(e,t,i)}throw Error(dt(156,t.tag))};function pz(e,t){return V6(e,t)}function phe(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ya(e,t,i,a){return new phe(e,t,i,a)}function Hk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ghe(e){if(typeof e=="function")return Hk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lk)return 11;if(e===dk)return 14}return 2}function Kc(e,t){var i=e.alternate;return i===null?(i=ya(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Gy(e,t,i,a,l,h){var g=2;if(a=e,typeof e=="function")Hk(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Ff:return Xl(i.children,l,h,t);case ck:g=8,l|=8;break;case aA:return e=ya(12,i,t,l|2),e.elementType=aA,e.lanes=h,e;case sA:return e=ya(13,i,t,l),e.elementType=sA,e.lanes=h,e;case uA:return e=ya(19,i,t,l),e.elementType=uA,e.lanes=h,e;case I6:return wb(i,l,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T6:g=10;break e;case C6:g=9;break e;case lk:g=11;break e;case dk:g=14;break e;case Ac:g=16,a=null;break e}throw Error(dt(130,e==null?e:typeof e,""))}return t=ya(g,i,t,l),t.elementType=e,t.type=a,t.lanes=h,t}function Xl(e,t,i,a){return e=ya(7,e,a,t),e.lanes=i,e}function wb(e,t,i,a){return e=ya(22,e,a,t),e.elementType=I6,e.lanes=i,e.stateNode={isHidden:!1},e}function yx(e,t,i){return e=ya(6,e,null,t),e.lanes=i,e}function Sx(e,t,i){return t=ya(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mhe(e,t,i,a,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ex(0),this.expirationTimes=ex(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ex(0),this.identifierPrefix=a,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function $k(e,t,i,a,l,h,g,v,T){return e=new mhe(e,t,i,v,T),t===1?(t=1,h===!0&&(t|=8)):t=0,h=ya(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pk(h),e}function vhe(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rf,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function gz(e){if(!e)return Xc;e=e._reactInternals;e:{if(ud(e)!==e||e.tag!==1)throw Error(dt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Co(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(dt(171))}if(e.tag===1){var i=e.type;if(Co(i))return gG(e,i,t)}return t}function mz(e,t,i,a,l,h,g,v,T){return e=$k(i,a,!0,e,l,h,g,v,T),e.context=gz(null),i=e.current,a=Zi(),l=$c(i),h=Pu(a,l),h.callback=t??null,zc(i,h,l),e.current.lanes=l,dv(e,l,a),Io(e,a),e}function Eb(e,t,i,a){var l=t.current,h=Zi(),g=$c(l);return i=gz(i),t.context===null?t.context=i:t.pendingContext=i,t=Pu(h,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=zc(l,t,g),e!==null&&(ns(e,l,g,h),Ly(e,l,g)),g}function LS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function V3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Kk(e,t){V3(e,t),(e=e.alternate)&&V3(e,t)}function _he(){return null}var vz=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yk(e){this._internalRoot=e}xb.prototype.render=Yk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(dt(409));Eb(e,t,null,null)};xb.prototype.unmount=Yk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;id(function(){Eb(null,e,null,null)}),t[Ru]=null}};function xb(e){this._internalRoot=e}xb.prototype.unstable_scheduleHydration=function(e){if(e){var t=Y6();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Rc.length&&t!==0&&t<Rc[i].priority;i++);Rc.splice(i,0,e),i===0&&X6(e)}};function Qk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ab(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function j3(){}function yhe(e,t,i,a,l){if(l){if(typeof a=="function"){var h=a;a=function(){var C=LS(g);h.call(C)}}var g=mz(t,a,e,0,null,!1,!1,"",j3);return e._reactRootContainer=g,e[Ru]=g.current,Lm(e.nodeType===8?e.parentNode:e),id(),g}for(;l=e.lastChild;)e.removeChild(l);if(typeof a=="function"){var v=a;a=function(){var C=LS(T);v.call(C)}}var T=$k(e,0,!1,null,null,!1,!1,"",j3);return e._reactRootContainer=T,e[Ru]=T.current,Lm(e.nodeType===8?e.parentNode:e),id(function(){Eb(t,T,i,a)}),T}function Pb(e,t,i,a,l){var h=i._reactRootContainer;if(h){var g=h;if(typeof l=="function"){var v=l;l=function(){var T=LS(g);v.call(T)}}Eb(t,g,e,l)}else g=yhe(i,t,e,l,a);return LS(g)}$6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Yg(t.pendingLanes);i!==0&&(pk(t,i|1),Io(t,Rn()),!(_r&6)&&(_h=Rn()+500,el()))}break;case 13:id(function(){var a=Fu(e,1);if(a!==null){var l=Zi();ns(a,e,1,l)}}),Kk(e,1)}};gk=function(e){if(e.tag===13){var t=Fu(e,134217728);if(t!==null){var i=Zi();ns(t,e,134217728,i)}Kk(e,134217728)}};K6=function(e){if(e.tag===13){var t=$c(e),i=Fu(e,t);if(i!==null){var a=Zi();ns(i,e,t,a)}Kk(e,t)}};Y6=function(){return Dr};Q6=function(e,t){var i=Dr;try{return Dr=e,t()}finally{Dr=i}};_A=function(e,t,i){switch(t){case"input":if(dA(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var l=yb(a);if(!l)throw Error(dt(90));E6(a),dA(a,l)}}}break;case"textarea":A6(e,i);break;case"select":t=i.value,t!=null&&Zf(e,!!i.multiple,t,!1)}};N6=jk;M6=id;var She={usingClientEntryPoint:!1,Events:[hv,Lf,yb,F6,O6,jk]},Ng={findFiberByHostInstance:Gl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bhe={bundleType:Ng.bundleType,version:Ng.version,rendererPackageName:Ng.rendererPackageName,rendererConfig:Ng.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=B6(e),e===null?null:e.stateNode},findFiberByHostInstance:Ng.findFiberByHostInstance||_he,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dy.isDisabled&&dy.supportsFiber)try{gb=dy.inject(bhe),zs=dy}catch{}}Qo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=She;Qo.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qk(t))throw Error(dt(200));return vhe(e,t,null,i)};Qo.createRoot=function(e,t){if(!Qk(e))throw Error(dt(299));var i=!1,a="",l=vz;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=$k(e,1,!1,null,null,i,!1,a,l),e[Ru]=t.current,Lm(e.nodeType===8?e.parentNode:e),new Yk(t)};Qo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(dt(188)):(e=Object.keys(e).join(","),Error(dt(268,e)));return e=B6(t),e=e===null?null:e.stateNode,e};Qo.flushSync=function(e){return id(e)};Qo.hydrate=function(e,t,i){if(!Ab(t))throw Error(dt(200));return Pb(null,e,t,!0,i)};Qo.hydrateRoot=function(e,t,i){if(!Qk(e))throw Error(dt(405));var a=i!=null&&i.hydratedSources||null,l=!1,h="",g=vz;if(i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=mz(t,null,e,1,i??null,l,!1,h,g),e[Ru]=t.current,Lm(e),a)for(e=0;e<a.length;e++)i=a[e],l=i._getVersion,l=l(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,l]:t.mutableSourceEagerHydrationData.push(i,l);return new xb(t)};Qo.render=function(e,t,i){if(!Ab(t))throw Error(dt(200));return Pb(null,e,t,!1,i)};Qo.unmountComponentAtNode=function(e){if(!Ab(e))throw Error(dt(40));return e._reactRootContainer?(id(function(){Pb(null,null,e,!1,function(){e._reactRootContainer=null,e[Ru]=null})}),!0):!1};Qo.unstable_batchedUpdates=jk;Qo.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!Ab(i))throw Error(dt(200));if(e==null||e._reactInternals===void 0)throw Error(dt(38));return Pb(e,t,i,!1,a)};Qo.version="18.3.1-next-f1338f8080-20240426";function _z(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_z)}catch(e){console.error(e)}}_z(),_6.exports=Qo;var Xk=_6.exports,G3=Xk;iA.createRoot=G3.createRoot,iA.hydrateRoot=G3.hydrateRoot;function The(){return!!(globalThis!=null&&globalThis.document)}function Che(e,...t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const i={...e};for(const a of t)if(a!=null)for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&(l in i&&delete i[l],i[l]=a[l]);return i}const z3=e=>e?"":void 0;function Ihe(e){return Array.isArray(e)}function is(e){const t=typeof e;return e!=null&&(t==="object"||t==="function")&&!Ihe(e)}function whe(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}function Ehe(e){const t=parseFloat(e.toString()),i=e.toString().replace(String(t),"");return{unitless:!i,value:t,unit:i}}function JA(e){if(e==null)return e;const{unitless:t}=Ehe(e);return t||typeof e=="number"?`${e}px`:e}const yz=(e,t)=>parseInt(e[1],10)>parseInt(t[1],10)?1:-1,Jk=e=>Object.fromEntries(Object.entries(e).sort(yz));function H3(e){const t=Jk(e);return Object.assign(Object.values(t),t)}function xhe(e){const t=Object.keys(Jk(e));return new Set(t)}function $3(e){if(!e)return e;e=JA(e)??e;const t=-.02;return typeof e=="number"?`${e+t}`:e.replace(/(\d+\.?\d*)/u,i=>`${parseFloat(i)+t}`)}function Xg(e,t){const i=["@media screen"];return e&&i.push("and",`(min-width: ${JA(e)})`),t&&i.push("and",`(max-width: ${JA(t)})`),i.join(" ")}function Ahe(e){if(!e)return null;e.base=e.base??"0px";const t=H3(e),i=Object.entries(e).sort(yz).map(([h,g],v,T)=>{let[,C]=T[v+1]??[];return C=parseFloat(C)>0?$3(C):void 0,{_minW:$3(g),breakpoint:h,minW:g,maxW:C,maxWQuery:Xg(null,C),minWQuery:Xg(g),minMaxQuery:Xg(g,C)}}),a=xhe(e),l=Array.from(a.values());return{keys:a,normalized:t,isResponsive(h){const g=Object.keys(h);return g.length>0&&g.every(v=>a.has(v))},asObject:Jk(e),asArray:H3(e),details:i,get(h){return i.find(g=>g.breakpoint===h)},media:[null,...t.map(h=>Xg(h)).slice(1)],toArrayValue(h){if(!is(h))throw new Error("toArrayValue: value must be an object");const g=l.map(v=>h[v]??null);for(;whe(g)===null;)g.pop();return g},toObjectValue(h){if(!Array.isArray(h))throw new Error("toObjectValue: value must be an array");return h.reduce((g,v,T)=>{const C=l[T];return C!=null&&v!=null&&(g[C]=v),g},{})}}}function qk(e){const t=Object.assign({},e);for(let i in t)t[i]===void 0&&delete t[i];return t}function Phe(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function cd(e={}){const{name:t,strict:i=!0,hookName:a="useContext",providerName:l="Provider",errorMessage:h,defaultValue:g}=e,v=ye.createContext(g);v.displayName=t;function T(){var E;const C=ye.useContext(v);if(!C&&i){const A=new Error(h??Phe(a,l));throw A.name="ContextError",(E=Error.captureStackTrace)==null||E.call(Error,A,T),A}return C}return[v.Provider,T,v]}const us=(...e)=>e.filter(Boolean).join(" ");function khe(e,t,i,a){const l=typeof t=="string"?t.split("."):[t];for(a=0;a<l.length&&e;a+=1)e=e[l[a]];return e===void 0?i:e}const Dhe=e=>{const t=new WeakMap;return(a,l,h,g)=>{if(typeof a>"u")return e(a,l,h);t.has(a)||t.set(a,new Map);const v=t.get(a);if(v.has(l))return v.get(l);const T=e(a,l,h,g);return v.set(l,T),T}},Sz=Dhe(khe),Rhe=e=>e.default||e;function bz(e,t=[]){const i=Object.assign({},e);for(const a of t)a in i&&delete i[a];return i}function Fhe(e,t){const i={};for(const a of t)a in e&&(i[a]=e[a]);return i}const Ohe=e=>typeof e=="function";function Vs(e,...t){return Ohe(e)?e(...t):e}function Nhe(e,...t){const i=Object.getOwnPropertyDescriptors(e),a=Object.keys(i),l=g=>{const v={};for(let T=0;T<g.length;T++){const C=g[T];i[C]&&(Object.defineProperty(v,C,i[C]),delete i[C])}return v},h=g=>l(Array.isArray(g)?g:a.filter(g));return t.map(h).concat(l(a))}function K3(e,t,i={}){const{stop:a,getKey:l}=i;function h(g,v=[]){if(is(g)||Array.isArray(g)){const T={};for(const[C,E]of Object.entries(g)){const A=(l==null?void 0:l(C))??C,D=[...v,A];if(a!=null&&a(g,D))return t(g,v);T[A]=h(E,D)}return T}return t(g,v)}return h(e)}var WS={exports:{}};WS.exports;(function(e,t){var i=200,a="__lodash_hash_undefined__",l=800,h=16,g=9007199254740991,v="[object Arguments]",T="[object Array]",C="[object AsyncFunction]",E="[object Boolean]",A="[object Date]",D="[object Error]",M="[object Function]",w="[object GeneratorFunction]",O="[object Map]",N="[object Number]",k="[object Null]",R="[object Object]",W="[object Proxy]",K="[object RegExp]",de="[object Set]",ee="[object String]",X="[object Undefined]",ce="[object WeakMap]",he="[object ArrayBuffer]",le="[object DataView]",fe="[object Float32Array]",_e="[object Float64Array]",xe="[object Int8Array]",De="[object Int16Array]",Ne="[object Int32Array]",je="[object Uint8Array]",Ze="[object Uint8ClampedArray]",Re="[object Uint16Array]",Me="[object Uint32Array]",Ae=/[\\^$.*+?()[\]{}|]/g,Je=/^\[object .+?Constructor\]$/,He=/^(?:0|[1-9]\d*)$/,Ge={};Ge[fe]=Ge[_e]=Ge[xe]=Ge[De]=Ge[Ne]=Ge[je]=Ge[Ze]=Ge[Re]=Ge[Me]=!0,Ge[v]=Ge[T]=Ge[he]=Ge[E]=Ge[le]=Ge[A]=Ge[D]=Ge[M]=Ge[O]=Ge[N]=Ge[R]=Ge[K]=Ge[de]=Ge[ee]=Ge[ce]=!1;var nt=typeof Hg=="object"&&Hg&&Hg.Object===Object&&Hg,pe=typeof self=="object"&&self&&self.Object===Object&&self,oe=nt||pe||Function("return this")(),me=t&&!t.nodeType&&t,Se=me&&!0&&e&&!e.nodeType&&e,et=Se&&Se.exports===me,Ke=et&&nt.process,mt=function(){try{var p=Se&&Se.require&&Se.require("util").types;return p||Ke&&Ke.binding&&Ke.binding("util")}catch{}}(),vt=mt&&mt.isTypedArray;function Vt(p,Ce,Ue){switch(Ue.length){case 0:return p.call(Ce);case 1:return p.call(Ce,Ue[0]);case 2:return p.call(Ce,Ue[0],Ue[1]);case 3:return p.call(Ce,Ue[0],Ue[1],Ue[2])}return p.apply(Ce,Ue)}function Nt(p,Ce){for(var Ue=-1,bt=Array(p);++Ue<p;)bt[Ue]=Ce(Ue);return bt}function xt(p){return function(Ce){return p(Ce)}}function nr(p,Ce){return p==null?void 0:p[Ce]}function jt(p,Ce){return function(Ue){return p(Ce(Ue))}}var xr=Array.prototype,Yr=Function.prototype,cr=Object.prototype,Un=oe["__core-js_shared__"],Jt=Yr.toString,ir=cr.hasOwnProperty,Tt=function(){var p=/[^.]+$/.exec(Un&&Un.keys&&Un.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),hr=cr.toString,qo=Jt.call(Object),Ca=RegExp("^"+Jt.call(ir).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pr=et?oe.Buffer:void 0,ue=oe.Symbol,Pr=oe.Uint8Array,ke=pr?pr.allocUnsafe:void 0,We=jt(Object.getPrototypeOf,Object),it=Object.create,ot=cr.propertyIsEnumerable,St=xr.splice,Dt=ue?ue.toStringTag:void 0,zt=function(){try{var p=Gh(Object,"defineProperty");return p({},"",{}),p}catch{}}(),Sr=pr?pr.isBuffer:void 0,Fr=Math.max,Qr=Date.now,no=Gh(oe,"Map"),oi=Gh(Object,"create"),tl=function(){function p(){}return function(Ce){if(!qs(Ce))return{};if(it)return it(Ce);p.prototype=Ce;var Ue=new p;return p.prototype=void 0,Ue}}();function Oi(p){var Ce=-1,Ue=p==null?0:p.length;for(this.clear();++Ce<Ue;){var bt=p[Ce];this.set(bt[0],bt[1])}}function ls(){this.__data__=oi?oi(null):{},this.size=0}function Lh(p){var Ce=this.has(p)&&delete this.__data__[p];return this.size-=Ce?1:0,Ce}function rl(p){var Ce=this.__data__;if(oi){var Ue=Ce[p];return Ue===a?void 0:Ue}return ir.call(Ce,p)?Ce[p]:void 0}function Ev(p){var Ce=this.__data__;return oi?Ce[p]!==void 0:ir.call(Ce,p)}function Wh(p,Ce){var Ue=this.__data__;return this.size+=this.has(p)?0:1,Ue[p]=oi&&Ce===void 0?a:Ce,this}Oi.prototype.clear=ls,Oi.prototype.delete=Lh,Oi.prototype.get=rl,Oi.prototype.has=Ev,Oi.prototype.set=Wh;function Ia(p){var Ce=-1,Ue=p==null?0:p.length;for(this.clear();++Ce<Ue;){var bt=p[Ce];this.set(bt[0],bt[1])}}function d1(){this.__data__=[],this.size=0}function xv(p){var Ce=this.__data__,Ue=hd(Ce,p);if(Ue<0)return!1;var bt=Ce.length-1;return Ue==bt?Ce.pop():St.call(Ce,Ue,1),--this.size,!0}function nl(p){var Ce=this.__data__,Ue=hd(Ce,p);return Ue<0?void 0:Ce[Ue][1]}function Lr(p){return hd(this.__data__,p)>-1}function f1(p,Ce){var Ue=this.__data__,bt=hd(Ue,p);return bt<0?(++this.size,Ue.push([p,Ce])):Ue[bt][1]=Ce,this}Ia.prototype.clear=d1,Ia.prototype.delete=xv,Ia.prototype.get=nl,Ia.prototype.has=Lr,Ia.prototype.set=f1;function Wu(p){var Ce=-1,Ue=p==null?0:p.length;for(this.clear();++Ce<Ue;){var bt=p[Ce];this.set(bt[0],bt[1])}}function fd(){this.size=0,this.__data__={hash:new Oi,map:new(no||Ia),string:new Oi}}function h1(p){var Ce=md(this,p).delete(p);return this.size-=Ce?1:0,Ce}function p1(p){return md(this,p).get(p)}function Bh(p){return md(this,p).has(p)}function il(p,Ce){var Ue=md(this,p),bt=Ue.size;return Ue.set(p,Ce),this.size+=Ue.size==bt?0:1,this}Wu.prototype.clear=fd,Wu.prototype.delete=h1,Wu.prototype.get=p1,Wu.prototype.has=Bh,Wu.prototype.set=il;function Bu(p){var Ce=this.__data__=new Ia(p);this.size=Ce.size}function Av(){this.__data__=new Ia,this.size=0}function g1(p){var Ce=this.__data__,Ue=Ce.delete(p);return this.size=Ce.size,Ue}function m1(p){return this.__data__.get(p)}function v1(p){return this.__data__.has(p)}function _1(p,Ce){var Ue=this.__data__;if(Ue instanceof Ia){var bt=Ue.__data__;if(!no||bt.length<i-1)return bt.push([p,Ce]),this.size=++Ue.size,this;Ue=this.__data__=new Wu(bt)}return Ue.set(p,Ce),this.size=Ue.size,this}Bu.prototype.clear=Av,Bu.prototype.delete=g1,Bu.prototype.get=m1,Bu.prototype.has=v1,Bu.prototype.set=_1;function Pv(p,Ce){var Ue=$h(p),bt=!Ue&&ol(p),U=!Ue&&!bt&&Kh(p),Wt=!Ue&&!bt&&!U&&Wv(p),ut=Ue||bt||U||Wt,tr=ut?Nt(p.length,String):[],Ut=tr.length;for(var io in p)(Ce||ir.call(p,io))&&!(ut&&(io=="length"||U&&(io=="offset"||io=="parent")||Wt&&(io=="buffer"||io=="byteLength"||io=="byteOffset")||Ov(io,Ut)))&&tr.push(io);return tr}function ds(p,Ce,Ue){(Ue!==void 0&&!wa(p[Ce],Ue)||Ue===void 0&&!(Ce in p))&&pd(p,Ce,Ue)}function y1(p,Ce,Ue){var bt=p[Ce];(!(ir.call(p,Ce)&&wa(bt,Ue))||Ue===void 0&&!(Ce in p))&&pd(p,Ce,Ue)}function hd(p,Ce){for(var Ue=p.length;Ue--;)if(wa(p[Ue][0],Ce))return Ue;return-1}function pd(p,Ce,Ue){Ce=="__proto__"&&zt?zt(p,Ce,{configurable:!0,enumerable:!0,value:Ue,writable:!0}):p[Ce]=Ue}var Uu=x1();function gd(p){return p==null?p===void 0?X:k:Dt&&Dt in Object(p)?zh(p):D1(p)}function kv(p){return ju(p)&&gd(p)==v}function Uh(p){if(!qs(p)||P1(p))return!1;var Ce=Yh(p)?Ca:Je;return Ce.test(F1(p))}function Dv(p){return ju(p)&&yd(p.length)&&!!Ge[gd(p)]}function Vh(p){if(!qs(p))return k1(p);var Ce=Nv(p),Ue=[];for(var bt in p)bt=="constructor"&&(Ce||!ir.call(p,bt))||Ue.push(bt);return Ue}function Rv(p,Ce,Ue,bt,U){p!==Ce&&Uu(Ce,function(Wt,ut){if(U||(U=new Bu),qs(Wt))jh(p,Ce,ut,Ue,Rv,bt,U);else{var tr=bt?bt(_d(p,ut),Wt,ut+"",p,Ce,U):void 0;tr===void 0&&(tr=Wt),ds(p,ut,tr)}},Bv)}function jh(p,Ce,Ue,bt,U,Wt,ut){var tr=_d(p,Ue),Ut=_d(Ce,Ue),io=ut.get(Ut);if(io){ds(p,Ue,io);return}var Ni=Wt?Wt(tr,Ut,Ue+"",p,Ce,ut):void 0,sl=Ni===void 0;if(sl){var Ea=$h(Ut),Xh=!Ea&&Kh(Ut),Sd=!Ea&&!Xh&&Wv(Ut);Ni=Ut,Ea||Xh||Sd?$h(tr)?Ni=tr:O1(tr)?Ni=I1(tr):Xh?(sl=!1,Ni=Fv(Ut,!0)):Sd?(sl=!1,Ni=C1(Ut,!0)):Ni=[]:Lv(Ut)||ol(Ut)?(Ni=tr,ol(tr)?Ni=N1(tr):(!qs(tr)||Yh(tr))&&(Ni=Hh(Ut))):sl=!1}sl&&(ut.set(Ut,Ni),U(Ni,Ut,bt,Wt,ut),ut.delete(Ut)),ds(p,Ue,Ni)}function S1(p,Ce){return Mv(R1(p,Ce,Qh),p+"")}var b1=zt?function(p,Ce){return zt(p,"toString",{configurable:!0,enumerable:!1,value:fs(Ce),writable:!0})}:Qh;function Fv(p,Ce){if(Ce)return p.slice();var Ue=p.length,bt=ke?ke(Ue):new p.constructor(Ue);return p.copy(bt),bt}function T1(p){var Ce=new p.constructor(p.byteLength);return new Pr(Ce).set(new Pr(p)),Ce}function C1(p,Ce){var Ue=Ce?T1(p.buffer):p.buffer;return new p.constructor(Ue,p.byteOffset,p.length)}function I1(p,Ce){var Ue=-1,bt=p.length;for(Ce||(Ce=Array(bt));++Ue<bt;)Ce[Ue]=p[Ue];return Ce}function w1(p,Ce,Ue,bt){var U=!Ue;Ue||(Ue={});for(var Wt=-1,ut=Ce.length;++Wt<ut;){var tr=Ce[Wt],Ut=bt?bt(Ue[tr],p[tr],tr,Ue,p):void 0;Ut===void 0&&(Ut=p[tr]),U?pd(Ue,tr,Ut):y1(Ue,tr,Ut)}return Ue}function E1(p){return S1(function(Ce,Ue){var bt=-1,U=Ue.length,Wt=U>1?Ue[U-1]:void 0,ut=U>2?Ue[2]:void 0;for(Wt=p.length>3&&typeof Wt=="function"?(U--,Wt):void 0,ut&&vd(Ue[0],Ue[1],ut)&&(Wt=U<3?void 0:Wt,U=1),Ce=Object(Ce);++bt<U;){var tr=Ue[bt];tr&&p(Ce,tr,bt,Wt)}return Ce})}function x1(p){return function(Ce,Ue,bt){for(var U=-1,Wt=Object(Ce),ut=bt(Ce),tr=ut.length;tr--;){var Ut=ut[p?tr:++U];if(Ue(Wt[Ut],Ut,Wt)===!1)break}return Ce}}function md(p,Ce){var Ue=p.__data__;return A1(Ce)?Ue[typeof Ce=="string"?"string":"hash"]:Ue.map}function Gh(p,Ce){var Ue=nr(p,Ce);return Uh(Ue)?Ue:void 0}function zh(p){var Ce=ir.call(p,Dt),Ue=p[Dt];try{p[Dt]=void 0;var bt=!0}catch{}var U=hr.call(p);return bt&&(Ce?p[Dt]=Ue:delete p[Dt]),U}function Hh(p){return typeof p.constructor=="function"&&!Nv(p)?tl(We(p)):{}}function Ov(p,Ce){var Ue=typeof p;return Ce=Ce??g,!!Ce&&(Ue=="number"||Ue!="symbol"&&He.test(p))&&p>-1&&p%1==0&&p<Ce}function vd(p,Ce,Ue){if(!qs(Ue))return!1;var bt=typeof Ce;return(bt=="number"?al(Ue)&&Ov(Ce,Ue.length):bt=="string"&&Ce in Ue)?wa(Ue[Ce],p):!1}function A1(p){var Ce=typeof p;return Ce=="string"||Ce=="number"||Ce=="symbol"||Ce=="boolean"?p!=="__proto__":p===null}function P1(p){return!!Tt&&Tt in p}function Nv(p){var Ce=p&&p.constructor,Ue=typeof Ce=="function"&&Ce.prototype||cr;return p===Ue}function k1(p){var Ce=[];if(p!=null)for(var Ue in Object(p))Ce.push(Ue);return Ce}function D1(p){return hr.call(p)}function R1(p,Ce,Ue){return Ce=Fr(Ce===void 0?p.length-1:Ce,0),function(){for(var bt=arguments,U=-1,Wt=Fr(bt.length-Ce,0),ut=Array(Wt);++U<Wt;)ut[U]=bt[Ce+U];U=-1;for(var tr=Array(Ce+1);++U<Ce;)tr[U]=bt[U];return tr[Ce]=Ue(ut),Vt(p,this,tr)}}function _d(p,Ce){if(!(Ce==="constructor"&&typeof p[Ce]=="function")&&Ce!="__proto__")return p[Ce]}var Mv=Vu(b1);function Vu(p){var Ce=0,Ue=0;return function(){var bt=Qr(),U=h-(bt-Ue);if(Ue=bt,U>0){if(++Ce>=l)return arguments[0]}else Ce=0;return p.apply(void 0,arguments)}}function F1(p){if(p!=null){try{return Jt.call(p)}catch{}try{return p+""}catch{}}return""}function wa(p,Ce){return p===Ce||p!==p&&Ce!==Ce}var ol=kv(function(){return arguments}())?kv:function(p){return ju(p)&&ir.call(p,"callee")&&!ot.call(p,"callee")},$h=Array.isArray;function al(p){return p!=null&&yd(p.length)&&!Yh(p)}function O1(p){return ju(p)&&al(p)}var Kh=Sr||M1;function Yh(p){if(!qs(p))return!1;var Ce=gd(p);return Ce==M||Ce==w||Ce==C||Ce==W}function yd(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=g}function qs(p){var Ce=typeof p;return p!=null&&(Ce=="object"||Ce=="function")}function ju(p){return p!=null&&typeof p=="object"}function Lv(p){if(!ju(p)||gd(p)!=R)return!1;var Ce=We(p);if(Ce===null)return!0;var Ue=ir.call(Ce,"constructor")&&Ce.constructor;return typeof Ue=="function"&&Ue instanceof Ue&&Jt.call(Ue)==qo}var Wv=vt?xt(vt):Dv;function N1(p){return w1(p,Bv(p))}function Bv(p){return al(p)?Pv(p,!0):Vh(p)}var j=E1(function(p,Ce,Ue,bt){Rv(p,Ce,Ue,bt)});function fs(p){return function(){return p}}function Qh(p){return p}function M1(){return!1}e.exports=j})(WS,WS.exports);var Mhe=WS.exports;const js=xh(Mhe);function Lhe(e,t=[]){const i=ye.useRef(e);return ye.useEffect(()=>{i.current=e}),ye.useCallback((...a)=>{var l;return(l=i.current)==null?void 0:l.call(i,...a)},t)}const qA=globalThis!=null&&globalThis.document?ye.useLayoutEffect:ye.useEffect,Y3=(e,t)=>{const i=ye.useRef(!1),a=ye.useRef(!1);ye.useEffect(()=>{if(i.current&&a.current)return e();a.current=!0},t),ye.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[])};function Whe(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function Bhe(...e){return t=>{e.forEach(i=>{Whe(i,t)})}}function Uhe(...e){return ye.useMemo(()=>Bhe(...e),e)}function Vhe(e,t){const i=Lhe(e);ye.useEffect(()=>{if(t==null)return;let a=null;return a=window.setTimeout(()=>{i()},t),()=>{a&&window.clearTimeout(a)}},[t,i])}const Tz=1/60*1e3,jhe=typeof performance<"u"?()=>performance.now():()=>Date.now(),Cz=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(jhe()),Tz);function Ghe(e){let t=[],i=[],a=0,l=!1,h=!1;const g=new WeakSet,v={schedule:(T,C=!1,E=!1)=>{const A=E&&l,D=A?t:i;return C&&g.add(T),D.indexOf(T)===-1&&(D.push(T),A&&l&&(a=t.length)),T},cancel:T=>{const C=i.indexOf(T);C!==-1&&i.splice(C,1),g.delete(T)},process:T=>{if(l){h=!0;return}if(l=!0,[t,i]=[i,t],i.length=0,a=t.length,a)for(let C=0;C<a;C++){const E=t[C];E(T),g.has(E)&&(v.schedule(E),e())}l=!1,h&&(h=!1,v.process(T))}};return v}const zhe=40;let ZA=!0,$m=!1,eP=!1;const oh={delta:0,timestamp:0},gv=["read","update","preRender","render","postRender"],kb=gv.reduce((e,t)=>(e[t]=Ghe(()=>$m=!0),e),{}),os=gv.reduce((e,t)=>{const i=kb[t];return e[t]=(a,l=!1,h=!1)=>($m||$he(),i.schedule(a,l,h)),e},{}),yh=gv.reduce((e,t)=>(e[t]=kb[t].cancel,e),{}),bx=gv.reduce((e,t)=>(e[t]=()=>kb[t].process(oh),e),{}),Hhe=e=>kb[e].process(oh),Iz=e=>{$m=!1,oh.delta=ZA?Tz:Math.max(Math.min(e-oh.timestamp,zhe),1),oh.timestamp=e,eP=!0,gv.forEach(Hhe),eP=!1,$m&&(ZA=!1,Cz(Iz))},$he=()=>{$m=!0,ZA=!0,eP||Cz(Iz)},BS=()=>oh,$n={open:(e,t)=>`${e}[data-open], ${e}[open], ${e}[data-state=open] ${t}`,closed:(e,t)=>`${e}[data-closed], ${e}[data-state=closed] ${t}`,hover:(e,t)=>`${e}:hover ${t}, ${e}[data-hover] ${t}`,focus:(e,t)=>`${e}:focus ${t}, ${e}[data-focus] ${t}`,focusVisible:(e,t)=>`${e}:focus-visible ${t}`,focusWithin:(e,t)=>`${e}:focus-within ${t}`,active:(e,t)=>`${e}:active ${t}, ${e}[data-active] ${t}`,disabled:(e,t)=>`${e}:disabled ${t}, ${e}[data-disabled] ${t}`,invalid:(e,t)=>`${e}:invalid ${t}, ${e}[data-invalid] ${t}`,checked:(e,t)=>`${e}:checked ${t}, ${e}[data-checked] ${t}`,indeterminate:(e,t)=>`${e}:indeterminate ${t}, ${e}[aria-checked=mixed] ${t}, ${e}[data-indeterminate] ${t}`,readOnly:(e,t)=>`${e}:read-only ${t}, ${e}[readonly] ${t}, ${e}[data-read-only] ${t}`,expanded:(e,t)=>`${e}:read-only ${t}, ${e}[aria-expanded=true] ${t}, ${e}[data-expanded] ${t}`,placeholderShown:(e,t)=>`${e}:placeholder-shown ${t}`},Fs=e=>wz(t=>e(t,"&"),"[role=group]","[data-group]",".group"),mu=e=>wz(t=>e(t,"~ &"),"[data-peer]",".peer"),wz=(e,...t)=>t.map(e).join(", "),Khe={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:Fs($n.open),_groupClosed:Fs($n.closed),_groupHover:Fs($n.hover),_peerHover:mu($n.hover),_groupFocus:Fs($n.focus),_peerFocus:mu($n.focus),_groupFocusVisible:Fs($n.focusVisible),_peerFocusVisible:mu($n.focusVisible),_groupActive:Fs($n.active),_peerActive:mu($n.active),_groupDisabled:Fs($n.disabled),_peerDisabled:mu($n.disabled),_groupInvalid:Fs($n.invalid),_peerInvalid:mu($n.invalid),_groupChecked:Fs($n.checked),_peerChecked:mu($n.checked),_groupFocusWithin:Fs($n.focusWithin),_peerFocusWithin:mu($n.focusWithin),_peerPlaceholderShown:mu($n.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"};function Db(e){const t=e.conditions??{},i=Object.fromEntries(Object.entries(t).map(([a,l])=>[`_${a}`,l]));return{...Khe,...i}}function Ez(e){return Object.keys(Db(e))}const Yhe=e=>/!(important)?$/.test(e),Q3=e=>typeof e=="string"?e.replace(/!(important)?$/,"").trim():e,Qhe=(e,t)=>i=>{const a=String(t),l=Yhe(a),h=Q3(a),g=e?`${e}.${h}`:h;let v=is(i.__cssMap)&&g in i.__cssMap?i.__cssMap[g].varRef:t;return v=Q3(v),l?`${v} !important`:v};function Zk(e){const{scale:t,transform:i,compose:a}=e;return(h,g)=>{const v=Qhe(t,h)(g);let T=(i==null?void 0:i(v,g))??v;return a&&(T=a(T,g)),T}}const fy=(...e)=>t=>e.reduce((i,a)=>a(i),t);function pa(e,t){return i=>{const a={property:i,scale:e};return a.transform=Zk({scale:e,transform:t}),a}}const Xhe=({rtl:e,ltr:t})=>i=>i.direction==="rtl"?e:t;function Jhe(e){const{property:t,scale:i,transform:a}=e;return{scale:i,property:Xhe(t),transform:i?Zk({scale:i,compose:a}):a}}const xz=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function qhe(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...xz].join(" ")}function Zhe(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...xz].join(" ")}const epe={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},tpe={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function rpe(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const npe={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},tP={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},ipe=new Set(Object.values(tP)),rP=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),ope=e=>e.trim();function ape(e,t){if(e==null||rP.has(e))return e;if(!(nP(e)||rP.has(e)))return`url('${e}')`;const l=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),h=l==null?void 0:l[1],g=l==null?void 0:l[2];if(!h||!g)return e;const v=h.includes("-gradient")?h:`${h}-gradient`,[T,...C]=g.split(",").map(ope).filter(Boolean);if((C==null?void 0:C.length)===0)return e;const E=T in tP?tP[T]:T;C.unshift(E);const A=C.map(D=>{if(ipe.has(D))return D;const M=D.indexOf(" "),[w,O]=M!==-1?[D.substr(0,M),D.substr(M+1)]:[D],N=nP(O)?O:O&&O.split(" "),k=`colors.${w}`,R=k in t.__cssMap?t.__cssMap[k].varRef:w;return N?[R,...Array.isArray(N)?N:[N]].join(" "):R});return`${v}(${A.join(", ")})`}const nP=e=>typeof e=="string"&&e.includes("(")&&e.includes(")"),spe=(e,t)=>ape(e,t??{});function upe(e){return/^var\(--.+\)$/.test(e)}const cpe=e=>{const t=parseFloat(e.toString()),i=e.toString().replace(String(t),"");return{unitless:!i,value:t,unit:i}},Os=e=>t=>`${e}(${t})`,fr={filter(e){return e!=="auto"?e:epe},backdropFilter(e){return e!=="auto"?e:tpe},ring(e){return rpe(fr.px(e))},bgClip(e){return e==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform(e){return e==="auto"?qhe():e==="auto-gpu"?Zhe():e},vh(e){return e==="$100vh"?"var(--chakra-vh)":e},px(e){if(e==null)return e;const{unitless:t}=cpe(e);return t||typeof e=="number"?`${e}px`:e},fraction(e){return typeof e!="number"||e>1?e:`${e*100}%`},float(e,t){const i={left:"right",right:"left"};return t.direction==="rtl"?i[e]:e},degree(e){if(upe(e)||e==null)return e;const t=typeof e=="string"&&!e.endsWith("deg");return typeof e=="number"||t?`${e}deg`:e},gradient:spe,blur:Os("blur"),opacity:Os("opacity"),brightness:Os("brightness"),contrast:Os("contrast"),dropShadow:Os("drop-shadow"),grayscale:Os("grayscale"),hueRotate:e=>Os("hue-rotate")(fr.degree(e)),invert:Os("invert"),saturate:Os("saturate"),sepia:Os("sepia"),bgImage(e){return e==null||nP(e)||rP.has(e)?e:`url(${e})`},outline(e){const t=String(e)==="0"||String(e)==="none";return e!==null&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){const{space:t,divide:i}=npe[e]??{},a={flexDirection:e};return t&&(a[t]=1),i&&(a[i]=1),a}},we={borderWidths:pa("borderWidths"),borderStyles:pa("borderStyles"),colors:pa("colors"),borders:pa("borders"),gradients:pa("gradients",fr.gradient),radii:pa("radii",fr.px),space:pa("space",fy(fr.vh,fr.px)),spaceT:pa("space",fy(fr.vh,fr.px)),degreeT(e){return{property:e,transform:fr.degree}},prop(e,t,i){return{property:e,scale:t,...t&&{transform:Zk({scale:t,transform:i})}}},propT(e,t){return{property:e,transform:t}},sizes:pa("sizes",fy(fr.vh,fr.px)),sizesT:pa("sizes",fy(fr.vh,fr.fraction)),shadows:pa("shadows"),logical:Jhe,blur:pa("blur",fr.blur)},zy={background:we.colors("background"),backgroundColor:we.colors("backgroundColor"),backgroundImage:we.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:fr.bgClip},bgSize:we.prop("backgroundSize"),bgPosition:we.prop("backgroundPosition"),bg:we.colors("background"),bgColor:we.colors("backgroundColor"),bgPos:we.prop("backgroundPosition"),bgRepeat:we.prop("backgroundRepeat"),bgAttachment:we.prop("backgroundAttachment"),bgGradient:we.gradients("backgroundImage"),bgClip:{transform:fr.bgClip}};Object.assign(zy,{bgImage:zy.backgroundImage,bgImg:zy.backgroundImage});const Tr={border:we.borders("border"),borderWidth:we.borderWidths("borderWidth"),borderStyle:we.borderStyles("borderStyle"),borderColor:we.colors("borderColor"),borderRadius:we.radii("borderRadius"),borderTop:we.borders("borderTop"),borderBlockStart:we.borders("borderBlockStart"),borderTopLeftRadius:we.radii("borderTopLeftRadius"),borderStartStartRadius:we.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:we.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:we.radii("borderTopRightRadius"),borderStartEndRadius:we.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:we.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:we.borders("borderRight"),borderInlineEnd:we.borders("borderInlineEnd"),borderBottom:we.borders("borderBottom"),borderBlockEnd:we.borders("borderBlockEnd"),borderBottomLeftRadius:we.radii("borderBottomLeftRadius"),borderBottomRightRadius:we.radii("borderBottomRightRadius"),borderLeft:we.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:we.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:we.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:we.borders(["borderLeft","borderRight"]),borderInline:we.borders("borderInline"),borderY:we.borders(["borderTop","borderBottom"]),borderBlock:we.borders("borderBlock"),borderTopWidth:we.borderWidths("borderTopWidth"),borderBlockStartWidth:we.borderWidths("borderBlockStartWidth"),borderTopColor:we.colors("borderTopColor"),borderBlockStartColor:we.colors("borderBlockStartColor"),borderTopStyle:we.borderStyles("borderTopStyle"),borderBlockStartStyle:we.borderStyles("borderBlockStartStyle"),borderBottomWidth:we.borderWidths("borderBottomWidth"),borderBlockEndWidth:we.borderWidths("borderBlockEndWidth"),borderBottomColor:we.colors("borderBottomColor"),borderBlockEndColor:we.colors("borderBlockEndColor"),borderBottomStyle:we.borderStyles("borderBottomStyle"),borderBlockEndStyle:we.borderStyles("borderBlockEndStyle"),borderLeftWidth:we.borderWidths("borderLeftWidth"),borderInlineStartWidth:we.borderWidths("borderInlineStartWidth"),borderLeftColor:we.colors("borderLeftColor"),borderInlineStartColor:we.colors("borderInlineStartColor"),borderLeftStyle:we.borderStyles("borderLeftStyle"),borderInlineStartStyle:we.borderStyles("borderInlineStartStyle"),borderRightWidth:we.borderWidths("borderRightWidth"),borderInlineEndWidth:we.borderWidths("borderInlineEndWidth"),borderRightColor:we.colors("borderRightColor"),borderInlineEndColor:we.colors("borderInlineEndColor"),borderRightStyle:we.borderStyles("borderRightStyle"),borderInlineEndStyle:we.borderStyles("borderInlineEndStyle"),borderTopRadius:we.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:we.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:we.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:we.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Tr,{rounded:Tr.borderRadius,roundedTop:Tr.borderTopRadius,roundedTopLeft:Tr.borderTopLeftRadius,roundedTopRight:Tr.borderTopRightRadius,roundedTopStart:Tr.borderStartStartRadius,roundedTopEnd:Tr.borderStartEndRadius,roundedBottom:Tr.borderBottomRadius,roundedBottomLeft:Tr.borderBottomLeftRadius,roundedBottomRight:Tr.borderBottomRightRadius,roundedBottomStart:Tr.borderEndStartRadius,roundedBottomEnd:Tr.borderEndEndRadius,roundedLeft:Tr.borderLeftRadius,roundedRight:Tr.borderRightRadius,roundedStart:Tr.borderInlineStartRadius,roundedEnd:Tr.borderInlineEndRadius,borderStart:Tr.borderInlineStart,borderEnd:Tr.borderInlineEnd,borderTopStartRadius:Tr.borderStartStartRadius,borderTopEndRadius:Tr.borderStartEndRadius,borderBottomStartRadius:Tr.borderEndStartRadius,borderBottomEndRadius:Tr.borderEndEndRadius,borderStartRadius:Tr.borderInlineStartRadius,borderEndRadius:Tr.borderInlineEndRadius,borderStartWidth:Tr.borderInlineStartWidth,borderEndWidth:Tr.borderInlineEndWidth,borderStartColor:Tr.borderInlineStartColor,borderEndColor:Tr.borderInlineEndColor,borderStartStyle:Tr.borderInlineStartStyle,borderEndStyle:Tr.borderInlineEndStyle});const lpe={color:we.colors("color"),textColor:we.colors("color"),fill:we.colors("fill"),stroke:we.colors("stroke"),accentColor:we.colors("accentColor"),textFillColor:we.colors("textFillColor")},US={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:fr.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:we.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:we.space("gap"),rowGap:we.space("rowGap"),columnGap:we.space("columnGap")};Object.assign(US,{flexDir:US.flexDirection});const ga={width:we.sizesT("width"),inlineSize:we.sizesT("inlineSize"),height:we.sizes("height"),blockSize:we.sizes("blockSize"),boxSize:we.sizes(["width","height"]),minWidth:we.sizes("minWidth"),minInlineSize:we.sizes("minInlineSize"),minHeight:we.sizes("minHeight"),minBlockSize:we.sizes("minBlockSize"),maxWidth:we.sizes("maxWidth"),maxInlineSize:we.sizes("maxInlineSize"),maxHeight:we.sizes("maxHeight"),maxBlockSize:we.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var l,h;return{[`@media screen and (min-width: ${((h=(l=t.__breakpoints)==null?void 0:l.get(e))==null?void 0:h.minW)??e})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var l,h;return{[`@media screen and (max-width: ${((h=(l=t.__breakpoints)==null?void 0:l.get(e))==null?void 0:h._minW)??e})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:we.propT("float",fr.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(ga,{w:ga.width,h:ga.height,minW:ga.minWidth,maxW:ga.maxWidth,minH:ga.minHeight,maxH:ga.maxHeight,overscroll:ga.overscrollBehavior,overscrollX:ga.overscrollBehaviorX,overscrollY:ga.overscrollBehaviorY});const dpe={filter:{transform:fr.filter},blur:we.blur("--chakra-blur"),brightness:we.propT("--chakra-brightness",fr.brightness),contrast:we.propT("--chakra-contrast",fr.contrast),hueRotate:we.propT("--chakra-hue-rotate",fr.hueRotate),invert:we.propT("--chakra-invert",fr.invert),saturate:we.propT("--chakra-saturate",fr.saturate),dropShadow:we.propT("--chakra-drop-shadow",fr.dropShadow),backdropFilter:{transform:fr.backdropFilter},backdropBlur:we.blur("--chakra-backdrop-blur"),backdropBrightness:we.propT("--chakra-backdrop-brightness",fr.brightness),backdropContrast:we.propT("--chakra-backdrop-contrast",fr.contrast),backdropHueRotate:we.propT("--chakra-backdrop-hue-rotate",fr.hueRotate),backdropInvert:we.propT("--chakra-backdrop-invert",fr.invert),backdropSaturate:we.propT("--chakra-backdrop-saturate",fr.saturate)},fpe={ring:{transform:fr.ring},ringColor:we.colors("--chakra-ring-color"),ringOffset:we.prop("--chakra-ring-offset-width"),ringOffsetColor:we.colors("--chakra-ring-offset-color"),ringInset:we.prop("--chakra-ring-inset")},hpe={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:fr.outline},outlineOffset:!0,outlineColor:we.colors("outlineColor")},Az={gridGap:we.space("gridGap"),gridColumnGap:we.space("gridColumnGap"),gridRowGap:we.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function ppe(e,t,i,a){const l=typeof t=="string"?t.split("."):[t];for(a=0;a<l.length&&e;a+=1)e=e[l[a]];return e===void 0?i:e}const gpe=e=>{const t=new WeakMap;return(a,l,h,g)=>{if(typeof a>"u")return e(a,l,h);t.has(a)||t.set(a,new Map);const v=t.get(a);if(v.has(l))return v.get(l);const T=e(a,l,h,g);return v.set(l,T),T}},mpe=gpe(ppe),vpe={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},_pe={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},Tx=(e,t,i)=>{const a={},l=mpe(e,t,{});for(const h in l)h in i&&i[h]!=null||(a[h]=l[h]);return a},ype={srOnly:{transform(e){return e===!0?vpe:e==="focusable"?_pe:{}}},layerStyle:{processResult:!0,transform:(e,t,i)=>Tx(t,`layerStyles.${e}`,i)},textStyle:{processResult:!0,transform:(e,t,i)=>Tx(t,`textStyles.${e}`,i)},apply:{processResult:!0,transform:(e,t,i)=>Tx(t,e,i)}},fm={position:!0,pos:we.prop("position"),zIndex:we.prop("zIndex","zIndices"),inset:we.spaceT("inset"),insetX:we.spaceT(["left","right"]),insetInline:we.spaceT("insetInline"),insetY:we.spaceT(["top","bottom"]),insetBlock:we.spaceT("insetBlock"),top:we.spaceT("top"),insetBlockStart:we.spaceT("insetBlockStart"),bottom:we.spaceT("bottom"),insetBlockEnd:we.spaceT("insetBlockEnd"),left:we.spaceT("left"),insetInlineStart:we.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:we.spaceT("right"),insetInlineEnd:we.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(fm,{insetStart:fm.insetInlineStart,insetEnd:fm.insetInlineEnd});const iP={boxShadow:we.shadows("boxShadow"),mixBlendMode:!0,blendMode:we.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:we.prop("backgroundBlendMode"),opacity:!0};Object.assign(iP,{shadow:iP.boxShadow});const $r={margin:we.spaceT("margin"),marginTop:we.spaceT("marginTop"),marginBlockStart:we.spaceT("marginBlockStart"),marginRight:we.spaceT("marginRight"),marginInlineEnd:we.spaceT("marginInlineEnd"),marginBottom:we.spaceT("marginBottom"),marginBlockEnd:we.spaceT("marginBlockEnd"),marginLeft:we.spaceT("marginLeft"),marginInlineStart:we.spaceT("marginInlineStart"),marginX:we.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:we.spaceT("marginInline"),marginY:we.spaceT(["marginTop","marginBottom"]),marginBlock:we.spaceT("marginBlock"),padding:we.space("padding"),paddingTop:we.space("paddingTop"),paddingBlockStart:we.space("paddingBlockStart"),paddingRight:we.space("paddingRight"),paddingBottom:we.space("paddingBottom"),paddingBlockEnd:we.space("paddingBlockEnd"),paddingLeft:we.space("paddingLeft"),paddingInlineStart:we.space("paddingInlineStart"),paddingInlineEnd:we.space("paddingInlineEnd"),paddingX:we.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:we.space("paddingInline"),paddingY:we.space(["paddingTop","paddingBottom"]),paddingBlock:we.space("paddingBlock")};Object.assign($r,{m:$r.margin,mt:$r.marginTop,mr:$r.marginRight,me:$r.marginInlineEnd,marginEnd:$r.marginInlineEnd,mb:$r.marginBottom,ml:$r.marginLeft,ms:$r.marginInlineStart,marginStart:$r.marginInlineStart,mx:$r.marginX,my:$r.marginY,p:$r.padding,pt:$r.paddingTop,py:$r.paddingY,px:$r.paddingX,pb:$r.paddingBottom,pl:$r.paddingLeft,ps:$r.paddingInlineStart,paddingStart:$r.paddingInlineStart,pr:$r.paddingRight,pe:$r.paddingInlineEnd,paddingEnd:$r.paddingInlineEnd});const Spe={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:we.spaceT("scrollMargin"),scrollMarginTop:we.spaceT("scrollMarginTop"),scrollMarginBottom:we.spaceT("scrollMarginBottom"),scrollMarginLeft:we.spaceT("scrollMarginLeft"),scrollMarginRight:we.spaceT("scrollMarginRight"),scrollMarginX:we.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:we.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:we.spaceT("scrollPadding"),scrollPaddingTop:we.spaceT("scrollPaddingTop"),scrollPaddingBottom:we.spaceT("scrollPaddingBottom"),scrollPaddingLeft:we.spaceT("scrollPaddingLeft"),scrollPaddingRight:we.spaceT("scrollPaddingRight"),scrollPaddingX:we.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:we.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},bpe={fontFamily:we.prop("fontFamily","fonts"),fontSize:we.prop("fontSize","fontSizes",fr.px),fontWeight:we.prop("fontWeight","fontWeights"),lineHeight:we.prop("lineHeight","lineHeights"),letterSpacing:we.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(e===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},Tpe={textDecorationColor:we.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:we.shadows("textShadow")},Cpe={clipPath:!0,transform:we.propT("transform",fr.transform),transformOrigin:!0,translateX:we.spaceT("--chakra-translate-x"),translateY:we.spaceT("--chakra-translate-y"),skewX:we.degreeT("--chakra-skew-x"),skewY:we.degreeT("--chakra-skew-y"),scaleX:we.prop("--chakra-scale-x"),scaleY:we.prop("--chakra-scale-y"),scale:we.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:we.degreeT("--chakra-rotate")},Ipe={listStyleType:!0,listStylePosition:!0,listStylePos:we.prop("listStylePosition"),listStyleImage:!0,listStyleImg:we.prop("listStyleImage")},wpe={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:we.prop("transitionDuration","transition.duration"),transitionProperty:we.prop("transitionProperty","transition.property"),transitionTimingFunction:we.prop("transitionTimingFunction","transition.easing")},eD=js({},zy,Tr,lpe,US,ga,dpe,fpe,hpe,Az,ype,fm,iP,$r,Spe,bpe,Tpe,Cpe,Ipe,wpe);Object.assign({},$r,ga,US,Az,fm);const Epe=e=>[...Object.keys(eD),...Ez(e)],xpe=e=>{const t=Db(e),i={...eD,...t};return a=>Object.hasOwnProperty.call(i,a)},Ape=e=>t=>{if(!t.__breakpoints)return e;const{isResponsive:i,toArrayValue:a,media:l}=t.__breakpoints,h={};for(const g in e){let v=Vs(e[g],t);if(v==null)continue;if(v=is(v)&&i(v)?a(v):v,!Array.isArray(v)){h[g]=v;continue}const T=v.slice(0,l.length).length;for(let C=0;C<T;C+=1){const E=l==null?void 0:l[C];if(!E){h[g]=v[C];continue}h[E]=h[E]||{},v[C]!=null&&(h[E][g]=v[C])}}return h};function Ppe(e){const t=[];let i="",a=!1;for(let l=0;l<e.length;l++){const h=e[l];h==="("?(a=!0,i+=h):h===")"?(a=!1,i+=h):h===","&&!a?(t.push(i),i=""):i+=h}return i=i.trim(),i&&t.push(i),t}function kpe(e){return/^var\(--.+\)$/.test(e)}const Dpe=(e,t)=>e.startsWith("--")&&typeof t=="string"&&!kpe(t),Rpe=(e,t)=>{if(t==null)return t;const i=g=>{var v,T;return(T=(v=e.__cssMap)==null?void 0:v[g])==null?void 0:T.varRef},a=g=>i(g)??g,[l,h]=Ppe(t);return t=i(l)??a(h)??a(t),t};function Fpe(e){const{configs:t={},pseudos:i={},theme:a}=e,l=(h,g=!1)=>{var E;const v=Vs(h,a),T=Ape(v)(a);let C={};for(let A in T){const D=T[A];let M=Vs(D,a);A in i&&(A=i[A]),Dpe(A,M)&&(M=Rpe(a,M));let w=t[A];if(w===!0&&(w={property:A}),is(M)){C[A]=C[A]??{},C[A]=js({},C[A],l(M,!0));continue}let O=((E=w==null?void 0:w.transform)==null?void 0:E.call(w,M,a,v))??M;O=w!=null&&w.processResult?l(O,!0):O;const N=Vs(w==null?void 0:w.property,a);if(!g&&(w!=null&&w.static)){const k=Vs(w.static,a);C=js({},C,k)}if(N&&Array.isArray(N)){for(const k of N)C[k]=O;continue}if(N){N==="&"&&is(O)?C=js({},C,O):C[N]=O;continue}if(is(O)){C=js({},C,O);continue}C[A]=O}return C};return l}const Pz=e=>t=>Fpe({theme:t,pseudos:Db(t),configs:eD})(e);function Gr(e){return{definePartsStyle(t){return t},defineMultiStyleConfig(t){return{parts:e,...t}}}}function Ope(e,t){if(Array.isArray(e))return e;if(is(e))return t(e);if(e!=null)return[e]}function Npe(e,t){for(let i=t+1;i<e.length;i++)if(e[i]!=null)return i;return-1}function Mpe(e){const t=e.__breakpoints;return function(a,l,h,g){var D,M;if(!t)return;const v={},T=Ope(h,t.toArrayValue);if(!T)return v;const C=T.length,E=C===1,A=!!a.parts;for(let w=0;w<C;w++){const O=t.details[w],N=t.details[Npe(T,w)],k=Xg(O.minW,N==null?void 0:N._minW),R=Vs((D=a[l])==null?void 0:D[T[w]],g);if(R){if(A){(M=a.parts)==null||M.forEach(W=>{js(v,{[W]:E?R[W]:{[k]:R[W]}})});continue}if(!A){E?js(v,R):v[k]=R;continue}v[k]=R}}return v}}function Lpe(e){return t=>{const{variant:i,size:a,theme:l}=t,h=Mpe(l);return js({},Vs(e.baseStyle??{},t),h(e,"sizes",a,t),h(e,"variants",i,t))}}function Dh(e){return bz(e,["styleConfig","size","variant","colorScheme"])}function kz(e){return is(e)&&e.reference?e.reference:String(e)}const Rb=(e,...t)=>t.map(kz).join(` ${e} `).replace(/calc/g,""),X3=(...e)=>`calc(${Rb("+",...e)})`,J3=(...e)=>`calc(${Rb("-",...e)})`,oP=(...e)=>`calc(${Rb("*",...e)})`,q3=(...e)=>`calc(${Rb("/",...e)})`,Z3=e=>{const t=kz(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:oP(t,-1)},bu=Object.assign(e=>({add:(...t)=>bu(X3(e,...t)),subtract:(...t)=>bu(J3(e,...t)),multiply:(...t)=>bu(oP(e,...t)),divide:(...t)=>bu(q3(e,...t)),negate:()=>bu(Z3(e)),toString:()=>e.toString()}),{add:X3,subtract:J3,multiply:oP,divide:q3,negate:Z3});function Wpe(e,t="-"){return e.replace(/\s+/g,t)}function Bpe(e){const t=Wpe(e.toString());return Vpe(Upe(t))}function Upe(e){return e.includes("\\.")?e:!Number.isInteger(parseFloat(e.toString()))?e.replace(".","\\."):e}function Vpe(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function jpe(e,t=""){return[t,e].filter(Boolean).join("-")}function Gpe(e,t){return`var(${e}${t?`, ${t}`:""})`}function zpe(e,t=""){return Bpe(`--${jpe(e,t)}`)}function Ft(e,t,i){const a=zpe(e,i);return{variable:a,reference:Gpe(a,t)}}function Hpe(e,t){const i={};for(const a of t){if(Array.isArray(a)){const[l,h]=a;i[l]=Ft(`${e}-${l}`,h);continue}i[a]=Ft(`${e}-${a}`)}return i}const $pe=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function Kpe(e){return Fhe(e,$pe)}function Ype(e){return e.semanticTokens}function Qpe(e){const{__cssMap:t,__cssVars:i,__breakpoints:a,...l}=e;return l}function Xpe(e){const t=Kpe(e),i=Ype(e),a=Ez(e),l=g=>a.includes(g)||g==="default",h={};return K3(t,(g,v)=>{g!=null&&(h[v.join(".")]={isSemantic:!1,value:g})}),K3(i,(g,v)=>{g!=null&&(h[v.join(".")]={isSemantic:!0,value:g})},{stop:g=>Object.keys(g).every(l)}),h}function e5(e,t){return Ft(String(e).replace(/\./g,"-"),void 0,t)}function Jpe(e){var v;const t=Xpe(e),i=(v=e.config)==null?void 0:v.cssVarPrefix,a=Db(e);let l={};const h={};function g(T,C){const A=[String(T).split(".")[0],C].join(".");if(!t[A])return C;const{reference:M}=e5(A,i);return M}for(const[T,C]of Object.entries(t)){const{isSemantic:E,value:A}=C,{variable:D,reference:M}=e5(T,i);if(!E){if(T.startsWith("space")){const O=T.split("."),[N,...k]=O,R=`${N}.-${k.join(".")}`,W=bu.negate(A),K=bu.negate(M);h[R]={value:W,var:D,varRef:K}}l[D]=A,h[T]={value:A,var:D,varRef:M};continue}const w=is(A)?A:{default:A};l=js(l,Object.entries(w).reduce((O,[N,k])=>{if(!k)return O;const R=g(T,`${k}`);if(N==="default")return O[D]=R,O;const W=(a==null?void 0:a[N])??N;return O[W]={[D]:R},O},{})),h[T]={value:M,var:D,varRef:M}}return{cssVars:l,cssMap:h}}function qpe(e){const t=Qpe(e),{cssMap:i,cssVars:a}=Jpe(t),l={"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},h=xpe(t);return Object.assign(t,{__cssVars:{...l,...a},__cssMap:i,__breakpoints:Ahe(t.breakpoints),__isStyleProp:h}),t}function Er(e,t={}){let i=!1;function a(){if(!i){i=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function l(...E){a();for(const A of E)t[A]=T(A);return Er(e,t)}function h(...E){for(const A of E)A in t||(t[A]=T(A));return Er(e,t)}function g(){return Object.fromEntries(Object.entries(t).map(([A,D])=>[A,D.selector]))}function v(){return Object.fromEntries(Object.entries(t).map(([A,D])=>[A,D.className]))}function T(E){const M=`chakra-${(["container","root"].includes(E??"")?[e]:[e,E]).filter(Boolean).join("__")}`;return{className:M,selector:`.${M}`,toString:()=>E}}return{parts:l,toPart:T,extend:h,selectors:g,classnames:v,get keys(){return Object.keys(t)},__type:{}}}const Zpe=Er("accordion").parts("root","container","button","panel","icon"),ege=Er("alert").parts("title","description","container","icon","spinner"),tge=Er("avatar").parts("label","badge","container","excessLabel","group"),rge=Er("breadcrumb").parts("link","item","container","separator");Er("button").parts();const nge=Er("checkbox").parts("control","icon","container","label");Er("progress").parts("track","filledTrack","label");const ige=Er("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),oge=Er("editable").parts("preview","input","textarea"),age=Er("form").parts("container","requiredIndicator","helperText"),sge=Er("formError").parts("text","icon"),uge=Er("input").parts("addon","field","element","group"),cge=Er("list").parts("container","item","icon"),lge=Er("menu").parts("button","list","item","groupTitle","icon","command","divider"),dge=Er("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),fge=Er("numberinput").parts("root","field","stepperGroup","stepper");Er("pininput").parts("field");const hge=Er("popover").parts("content","header","body","footer","popper","arrow","closeButton"),pge=Er("progress").parts("label","filledTrack","track"),gge=Er("radio").parts("container","control","label"),mge=Er("select").parts("field","icon"),vge=Er("slider").parts("container","track","thumb","filledTrack","mark"),_ge=Er("stat").parts("container","label","helpText","number","icon"),yge=Er("switch").parts("container","track","thumb","label"),Sge=Er("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),bge=Er("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),Tge=Er("tag").parts("container","label","closeButton"),Cge=Er("card").parts("container","header","body","footer");Er("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:Ige,defineMultiStyleConfig:wge}=Gr(Zpe.keys),Ege={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},xge={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},Age={pt:"2",px:"4",pb:"5"},Pge={fontSize:"1.25em"},kge=Ige({container:Ege,button:xge,panel:Age,icon:Pge}),Dge=wge({baseStyle:kge});function $l(e,t,i){return Math.min(Math.max(e,i),t)}class Rge extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Jg=Rge;function tD(e){if(typeof e!="string")throw new Jg(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=Uge.test(e)?Nge(e):e;const i=Mge.exec(t);if(i){const g=Array.from(i).slice(1);return[...g.slice(0,3).map(v=>parseInt(Km(v,2),16)),parseInt(Km(g[3]||"f",2),16)/255]}const a=Lge.exec(t);if(a){const g=Array.from(a).slice(1);return[...g.slice(0,3).map(v=>parseInt(v,16)),parseInt(g[3]||"ff",16)/255]}const l=Wge.exec(t);if(l){const g=Array.from(l).slice(1);return[...g.slice(0,3).map(v=>parseInt(v,10)),parseFloat(g[3]||"1")]}const h=Bge.exec(t);if(h){const[g,v,T,C]=Array.from(h).slice(1).map(parseFloat);if($l(0,100,v)!==v)throw new Jg(e);if($l(0,100,T)!==T)throw new Jg(e);return[...Vge(g,v,T),Number.isNaN(C)?1:C]}throw new Jg(e)}function Fge(e){let t=5381,i=e.length;for(;i;)t=t*33^e.charCodeAt(--i);return(t>>>0)%2341}const t5=e=>parseInt(e.replace(/_/g,""),36),Oge="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const i=t5(t.substring(0,3)),a=t5(t.substring(3)).toString(16);let l="";for(let h=0;h<6-a.length;h++)l+="0";return e[i]=`${l}${a}`,e},{});function Nge(e){const t=e.toLowerCase().trim(),i=Oge[Fge(t)];if(!i)throw new Jg(e);return`#${i}`}const Km=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),Mge=new RegExp(`^#${Km("([a-f0-9])",3)}([a-f0-9])?$`,"i"),Lge=new RegExp(`^#${Km("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Wge=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Km(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),Bge=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,Uge=/^[a-z]+$/i,r5=e=>Math.round(e*255),Vge=(e,t,i)=>{let a=i/100;if(t===0)return[a,a,a].map(r5);const l=(e%360+360)%360/60,h=(1-Math.abs(2*a-1))*(t/100),g=h*(1-Math.abs(l%2-1));let v=0,T=0,C=0;l>=0&&l<1?(v=h,T=g):l>=1&&l<2?(v=g,T=h):l>=2&&l<3?(T=h,C=g):l>=3&&l<4?(T=g,C=h):l>=4&&l<5?(v=g,C=h):l>=5&&l<6&&(v=h,C=g);const E=a-h/2,A=v+E,D=T+E,M=C+E;return[A,D,M].map(r5)};function jge(e,t,i,a){return`rgba(${$l(0,255,e).toFixed()}, ${$l(0,255,t).toFixed()}, ${$l(0,255,i).toFixed()}, ${parseFloat($l(0,1,a).toFixed(3))})`}function Gge(e,t){const[i,a,l,h]=tD(e);return jge(i,a,l,h-t)}function zge(e){const[t,i,a,l]=tD(e);let h=g=>{const v=$l(0,255,g).toString(16);return v.length===1?`0${v}`:v};return`#${h(t)}${h(i)}${h(a)}${l<1?h(Math.round(l*255)):""}`}const Hge=e=>Object.keys(e).length===0;function $ge(e,t,i,a,l){for(t=t.split?t.split("."):t,a=0;a<t.length;a++)e=e?e[t[a]]:l;return e===l?i:e}const qi=(e,t,i)=>{const a=$ge(e,`colors.${t}`,t);try{return zge(a),a}catch{return i??"#000000"}},Kge=e=>{const[t,i,a]=tD(e);return(t*299+i*587+a*114)/1e3},Yge=e=>t=>{const i=qi(t,e);return Kge(i)<128?"dark":"light"},Qge=e=>t=>Yge(e)(t)==="dark",Sh=(e,t)=>i=>{const a=qi(i,e);return Gge(a,1-t)};function n5(e="1rem",t="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${t} 25%,
    transparent 25%,
    transparent 50%,
    ${t} 50%,
    ${t} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${e} ${e}`}}const Xge=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function Jge(e){const t=Xge();return!e||Hge(e)?t:e.string&&e.colors?Zge(e.string,e.colors):e.string&&!e.colors?qge(e.string):e.colors&&!e.string?eme(e.colors):t}function qge(e){let t=0;if(e.length===0)return t.toString();for(let a=0;a<e.length;a+=1)t=e.charCodeAt(a)+((t<<5)-t),t=t&t;let i="#";for(let a=0;a<3;a+=1){const l=t>>a*8&255;i+=`00${l.toString(16)}`.substr(-2)}return i}function Zge(e,t){let i=0;if(e.length===0)return t[0];for(let a=0;a<e.length;a+=1)i=e.charCodeAt(a)+((i<<5)-i),i=i&i;return i=(i%t.length+t.length)%t.length,t[i]}function eme(e){return e[Math.floor(Math.random()*e.length)]}function Rt(e,t){return i=>i.colorMode==="dark"?t:e}function rD(e){const{orientation:t,vertical:i,horizontal:a}=e;return t?t==="vertical"?i:a:{}}function Dz(e){return is(e)&&e.reference?e.reference:String(e)}const Fb=(e,...t)=>t.map(Dz).join(` ${e} `).replace(/calc/g,""),i5=(...e)=>`calc(${Fb("+",...e)})`,o5=(...e)=>`calc(${Fb("-",...e)})`,aP=(...e)=>`calc(${Fb("*",...e)})`,a5=(...e)=>`calc(${Fb("/",...e)})`,s5=e=>{const t=Dz(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:aP(t,-1)},Tu=Object.assign(e=>({add:(...t)=>Tu(i5(e,...t)),subtract:(...t)=>Tu(o5(e,...t)),multiply:(...t)=>Tu(aP(e,...t)),divide:(...t)=>Tu(a5(e,...t)),negate:()=>Tu(s5(e)),toString:()=>e.toString()}),{add:i5,subtract:o5,multiply:aP,divide:a5,negate:s5});function tme(e){return!Number.isInteger(parseFloat(e.toString()))}function rme(e,t="-"){return e.replace(/\s+/g,t)}function Rz(e){const t=rme(e.toString());return t.includes("\\.")?e:tme(e)?t.replace(".","\\."):e}function nme(e,t=""){return[t,Rz(e)].filter(Boolean).join("-")}function ime(e,t){return`var(${Rz(e)}${t?`, ${t}`:""})`}function ome(e,t=""){return`--${nme(e,t)}`}function Qn(e,t){const i=ome(e,t==null?void 0:t.prefix);return{variable:i,reference:ime(i,ame(t==null?void 0:t.fallback))}}function ame(e){return typeof e=="string"?e:e==null?void 0:e.reference}const{definePartsStyle:mv,defineMultiStyleConfig:sme}=Gr(ege.keys),zo=Ft("alert-fg"),Nu=Ft("alert-bg"),ume=mv({container:{bg:Nu.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:zo.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:zo.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function nD(e){const{theme:t,colorScheme:i}=e,a=Sh(`${i}.200`,.16)(t);return{light:`colors.${i}.100`,dark:a}}const cme=mv(e=>{const{colorScheme:t}=e,i=nD(e);return{container:{[zo.variable]:`colors.${t}.600`,[Nu.variable]:i.light,_dark:{[zo.variable]:`colors.${t}.200`,[Nu.variable]:i.dark}}}}),lme=mv(e=>{const{colorScheme:t}=e,i=nD(e);return{container:{[zo.variable]:`colors.${t}.600`,[Nu.variable]:i.light,_dark:{[zo.variable]:`colors.${t}.200`,[Nu.variable]:i.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:zo.reference}}}),dme=mv(e=>{const{colorScheme:t}=e,i=nD(e);return{container:{[zo.variable]:`colors.${t}.600`,[Nu.variable]:i.light,_dark:{[zo.variable]:`colors.${t}.200`,[Nu.variable]:i.dark},pt:"2",borderTopWidth:"4px",borderTopColor:zo.reference}}}),fme=mv(e=>{const{colorScheme:t}=e;return{container:{[zo.variable]:"colors.white",[Nu.variable]:`colors.${t}.600`,_dark:{[zo.variable]:"colors.gray.900",[Nu.variable]:`colors.${t}.200`},color:zo.reference}}}),hme={subtle:cme,"left-accent":lme,"top-accent":dme,solid:fme},pme=sme({baseStyle:ume,variants:hme,defaultProps:{variant:"subtle",colorScheme:"blue"}}),Fz={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},gme={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},mme={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},Oz={...Fz,...gme,container:mme},vme=e=>typeof e=="function";function eo(e,...t){return vme(e)?e(...t):e}const{definePartsStyle:Nz,defineMultiStyleConfig:_me}=Gr(tge.keys),ah=Ft("avatar-border-color"),hm=Ft("avatar-bg"),Ym=Ft("avatar-font-size"),bh=Ft("avatar-size"),yme={borderRadius:"full",border:"0.2em solid",borderColor:ah.reference,[ah.variable]:"white",_dark:{[ah.variable]:"colors.gray.800"}},Sme={bg:hm.reference,fontSize:Ym.reference,width:bh.reference,height:bh.reference,lineHeight:"1",[hm.variable]:"colors.gray.200",_dark:{[hm.variable]:"colors.whiteAlpha.400"}},bme=e=>{const{name:t,theme:i}=e,a=t?Jge({string:t}):"colors.gray.400",l=Qge(a)(i);let h="white";return l||(h="gray.800"),{bg:hm.reference,fontSize:Ym.reference,color:h,borderColor:ah.reference,verticalAlign:"top",width:bh.reference,height:bh.reference,"&:not([data-loaded])":{[hm.variable]:a},[ah.variable]:"colors.white",_dark:{[ah.variable]:"colors.gray.800"}}},Tme={fontSize:Ym.reference,lineHeight:"1"},Cme=Nz(e=>({badge:eo(yme,e),excessLabel:eo(Sme,e),container:eo(bme,e),label:Tme}));function Tc(e){const t=e!=="100%"?Oz[e]:void 0;return Nz({container:{[bh.variable]:t??e,[Ym.variable]:`calc(${t??e} / 2.5)`},excessLabel:{[bh.variable]:t??e,[Ym.variable]:`calc(${t??e} / 2.5)`}})}const Ime={"2xs":Tc(4),xs:Tc(6),sm:Tc(8),md:Tc(12),lg:Tc(16),xl:Tc(24),"2xl":Tc(32),full:Tc("100%")},wme=_me({baseStyle:Cme,sizes:Ime,defaultProps:{size:"md"}}),Fn=Hpe("badge",["bg","color","shadow"]),Eme={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Fn.bg.reference,color:Fn.color.reference,boxShadow:Fn.shadow.reference},xme=e=>{const{colorScheme:t,theme:i}=e,a=Sh(`${t}.500`,.6)(i);return{[Fn.bg.variable]:`colors.${t}.500`,[Fn.color.variable]:"colors.white",_dark:{[Fn.bg.variable]:a,[Fn.color.variable]:"colors.whiteAlpha.800"}}},Ame=e=>{const{colorScheme:t,theme:i}=e,a=Sh(`${t}.200`,.16)(i);return{[Fn.bg.variable]:`colors.${t}.100`,[Fn.color.variable]:`colors.${t}.800`,_dark:{[Fn.bg.variable]:a,[Fn.color.variable]:`colors.${t}.200`}}},Pme=e=>{const{colorScheme:t,theme:i}=e,a=Sh(`${t}.200`,.8)(i);return{[Fn.color.variable]:`colors.${t}.500`,_dark:{[Fn.color.variable]:a},[Fn.shadow.variable]:`inset 0 0 0px 1px ${Fn.color.reference}`}},kme={solid:xme,subtle:Ame,outline:Pme},pm={baseStyle:Eme,variants:kme,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:Dme,definePartsStyle:Rme}=Gr(rge.keys),Cx=Ft("breadcrumb-link-decor"),Fme={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:Cx.reference,[Cx.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[Cx.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},Ome=Rme({link:Fme}),Nme=Dme({baseStyle:Ome}),Mme={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},Mz=e=>{const{colorScheme:t,theme:i}=e;if(t==="gray")return{color:Rt("gray.800","whiteAlpha.900")(e),_hover:{bg:Rt("gray.100","whiteAlpha.200")(e)},_active:{bg:Rt("gray.200","whiteAlpha.300")(e)}};const a=Sh(`${t}.200`,.12)(i),l=Sh(`${t}.200`,.24)(i);return{color:Rt(`${t}.600`,`${t}.200`)(e),bg:"transparent",_hover:{bg:Rt(`${t}.50`,a)(e)},_active:{bg:Rt(`${t}.100`,l)(e)}}},Lme=e=>{const{colorScheme:t}=e,i=Rt("gray.200","whiteAlpha.300")(e);return{border:"1px solid",borderColor:t==="gray"?i:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...eo(Mz,e)}},Wme={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},Bme=e=>{const{colorScheme:t}=e;if(t==="gray"){const v=Rt("gray.100","whiteAlpha.200")(e);return{bg:v,color:Rt("gray.800","whiteAlpha.900")(e),_hover:{bg:Rt("gray.200","whiteAlpha.300")(e),_disabled:{bg:v}},_active:{bg:Rt("gray.300","whiteAlpha.400")(e)}}}const{bg:i=`${t}.500`,color:a="white",hoverBg:l=`${t}.600`,activeBg:h=`${t}.700`}=Wme[t]??{},g=Rt(i,`${t}.200`)(e);return{bg:g,color:Rt(a,"gray.800")(e),_hover:{bg:Rt(l,`${t}.300`)(e),_disabled:{bg:g}},_active:{bg:Rt(h,`${t}.400`)(e)}}},Ume=e=>{const{colorScheme:t}=e;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Rt(`${t}.500`,`${t}.200`)(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Rt(`${t}.700`,`${t}.500`)(e)}}},Vme={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},jme={ghost:Mz,outline:Lme,solid:Bme,link:Ume,unstyled:Vme},Gme={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},zme={baseStyle:Mme,variants:jme,sizes:Gme,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Jl,defineMultiStyleConfig:Hme}=Gr(Cge.keys),VS=Ft("card-bg"),ku=Ft("card-padding"),Lz=Ft("card-shadow"),Hy=Ft("card-radius"),Wz=Ft("card-border-width","0"),Bz=Ft("card-border-color"),$me=Jl({container:{[VS.variable]:"colors.chakra-body-bg",backgroundColor:VS.reference,boxShadow:Lz.reference,borderRadius:Hy.reference,color:"chakra-body-text",borderWidth:Wz.reference,borderColor:Bz.reference},body:{padding:ku.reference,flex:"1 1 0%"},header:{padding:ku.reference},footer:{padding:ku.reference}}),Kme={sm:Jl({container:{[Hy.variable]:"radii.base",[ku.variable]:"space.3"}}),md:Jl({container:{[Hy.variable]:"radii.md",[ku.variable]:"space.5"}}),lg:Jl({container:{[Hy.variable]:"radii.xl",[ku.variable]:"space.7"}})},Yme={elevated:Jl({container:{[Lz.variable]:"shadows.base",_dark:{[VS.variable]:"colors.gray.700"}}}),outline:Jl({container:{[Wz.variable]:"1px",[Bz.variable]:"colors.chakra-border-color"}}),filled:Jl({container:{[VS.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[ku.variable]:0},header:{[ku.variable]:0},footer:{[ku.variable]:0}}},Qme=Hme({baseStyle:$me,variants:Yme,sizes:Kme,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:$y,defineMultiStyleConfig:Xme}=Gr(nge.keys),gm=Ft("checkbox-size"),Jme=e=>{const{colorScheme:t}=e;return{w:gm.reference,h:gm.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Rt(`${t}.500`,`${t}.200`)(e),borderColor:Rt(`${t}.500`,`${t}.200`)(e),color:Rt("white","gray.900")(e),_hover:{bg:Rt(`${t}.600`,`${t}.300`)(e),borderColor:Rt(`${t}.600`,`${t}.300`)(e)},_disabled:{borderColor:Rt("gray.200","transparent")(e),bg:Rt("gray.200","whiteAlpha.300")(e),color:Rt("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:Rt(`${t}.500`,`${t}.200`)(e),borderColor:Rt(`${t}.500`,`${t}.200`)(e),color:Rt("white","gray.900")(e)},_disabled:{bg:Rt("gray.100","whiteAlpha.100")(e),borderColor:Rt("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Rt("red.500","red.300")(e)}}},qme={_disabled:{cursor:"not-allowed"}},Zme={userSelect:"none",_disabled:{opacity:.4}},eve={transitionProperty:"transform",transitionDuration:"normal"},tve=$y(e=>({icon:eve,container:qme,control:eo(Jme,e),label:Zme})),rve={sm:$y({control:{[gm.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:$y({control:{[gm.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:$y({control:{[gm.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},kc=Xme({baseStyle:tve,sizes:rve,defaultProps:{size:"md",colorScheme:"blue"}}),mm=Qn("close-button-size"),Mg=Qn("close-button-bg"),nve={w:[mm.reference],h:[mm.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[Mg.variable]:"colors.blackAlpha.100",_dark:{[Mg.variable]:"colors.whiteAlpha.100"}},_active:{[Mg.variable]:"colors.blackAlpha.200",_dark:{[Mg.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:Mg.reference},ive={lg:{[mm.variable]:"sizes.10",fontSize:"md"},md:{[mm.variable]:"sizes.8",fontSize:"xs"},sm:{[mm.variable]:"sizes.6",fontSize:"2xs"}},ove={baseStyle:nve,sizes:ive,defaultProps:{size:"md"}},{variants:ave,defaultProps:sve}=pm,uve={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Fn.bg.reference,color:Fn.color.reference,boxShadow:Fn.shadow.reference},cve={baseStyle:uve,variants:ave,defaultProps:sve},lve={w:"100%",mx:"auto",maxW:"prose",px:"4"},dve={baseStyle:lve},fve={opacity:.6,borderColor:"inherit"},hve={borderStyle:"solid"},pve={borderStyle:"dashed"},gve={solid:hve,dashed:pve},mve={baseStyle:fve,variants:gve,defaultProps:{variant:"solid"}},{definePartsStyle:sP,defineMultiStyleConfig:vve}=Gr(ige.keys),Ix=Ft("drawer-bg"),wx=Ft("drawer-box-shadow");function Pf(e){return sP(e==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}const _ve={bg:"blackAlpha.600",zIndex:"modal"},yve={display:"flex",zIndex:"modal",justifyContent:"center"},Sve=e=>{const{isFullHeight:t}=e;return{...t&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[Ix.variable]:"colors.white",[wx.variable]:"shadows.lg",_dark:{[Ix.variable]:"colors.gray.700",[wx.variable]:"shadows.dark-lg"},bg:Ix.reference,boxShadow:wx.reference}},bve={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Tve={position:"absolute",top:"2",insetEnd:"3"},Cve={px:"6",py:"2",flex:"1",overflow:"auto"},Ive={px:"6",py:"4"},wve=sP(e=>({overlay:_ve,dialogContainer:yve,dialog:eo(Sve,e),header:bve,closeButton:Tve,body:Cve,footer:Ive})),Eve={xs:Pf("xs"),sm:Pf("md"),md:Pf("lg"),lg:Pf("2xl"),xl:Pf("4xl"),full:Pf("full")},xve=vve({baseStyle:wve,sizes:Eve,defaultProps:{size:"xs"}}),{definePartsStyle:Ave,defineMultiStyleConfig:Pve}=Gr(oge.keys),kve={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},Dve={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},Rve={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},Fve=Ave({preview:kve,input:Dve,textarea:Rve}),Ove=Pve({baseStyle:Fve}),{definePartsStyle:Nve,defineMultiStyleConfig:Mve}=Gr(age.keys),sh=Ft("form-control-color"),Lve={marginStart:"1",[sh.variable]:"colors.red.500",_dark:{[sh.variable]:"colors.red.300"},color:sh.reference},Wve={mt:"2",[sh.variable]:"colors.gray.600",_dark:{[sh.variable]:"colors.whiteAlpha.600"},color:sh.reference,lineHeight:"normal",fontSize:"sm"},Bve=Nve({container:{width:"100%",position:"relative"},requiredIndicator:Lve,helperText:Wve}),Uve=Mve({baseStyle:Bve}),{definePartsStyle:Vve,defineMultiStyleConfig:jve}=Gr(sge.keys),uh=Ft("form-error-color"),Gve={[uh.variable]:"colors.red.500",_dark:{[uh.variable]:"colors.red.300"},color:uh.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},zve={marginEnd:"0.5em",[uh.variable]:"colors.red.500",_dark:{[uh.variable]:"colors.red.300"},color:uh.reference},Hve=Vve({text:Gve,icon:zve}),$ve=jve({baseStyle:Hve}),Kve={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},Yve={baseStyle:Kve},Qve={fontFamily:"heading",fontWeight:"bold"},Xve={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},Jve={baseStyle:Qve,sizes:Xve,defaultProps:{size:"xl"}},{definePartsStyle:xu,defineMultiStyleConfig:qve}=Gr(uge.keys),zf=Ft("input-height"),Hf=Ft("input-font-size"),$f=Ft("input-padding"),Kf=Ft("input-border-radius"),Zve=xu({addon:{height:zf.reference,fontSize:Hf.reference,px:$f.reference,borderRadius:Kf.reference},field:{width:"100%",height:zf.reference,fontSize:Hf.reference,px:$f.reference,borderRadius:Kf.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),Cc={lg:{[Hf.variable]:"fontSizes.lg",[$f.variable]:"space.4",[Kf.variable]:"radii.md",[zf.variable]:"sizes.12"},md:{[Hf.variable]:"fontSizes.md",[$f.variable]:"space.4",[Kf.variable]:"radii.md",[zf.variable]:"sizes.10"},sm:{[Hf.variable]:"fontSizes.sm",[$f.variable]:"space.3",[Kf.variable]:"radii.sm",[zf.variable]:"sizes.8"},xs:{[Hf.variable]:"fontSizes.xs",[$f.variable]:"space.2",[Kf.variable]:"radii.sm",[zf.variable]:"sizes.6"}},e_e={lg:xu({field:Cc.lg,group:Cc.lg}),md:xu({field:Cc.md,group:Cc.md}),sm:xu({field:Cc.sm,group:Cc.sm}),xs:xu({field:Cc.xs,group:Cc.xs})};function iD(e){const{focusBorderColor:t,errorBorderColor:i}=e;return{focusBorderColor:t||Rt("blue.500","blue.300")(e),errorBorderColor:i||Rt("red.500","red.300")(e)}}const t_e=xu(e=>{const{theme:t}=e,{focusBorderColor:i,errorBorderColor:a}=iD(e);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Rt("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:qi(t,a),boxShadow:`0 0 0 1px ${qi(t,a)}`},_focusVisible:{zIndex:1,borderColor:qi(t,i),boxShadow:`0 0 0 1px ${qi(t,i)}`}},addon:{border:"1px solid",borderColor:Rt("inherit","whiteAlpha.50")(e),bg:Rt("gray.100","whiteAlpha.300")(e)}}}),r_e=xu(e=>{const{theme:t}=e,{focusBorderColor:i,errorBorderColor:a}=iD(e);return{field:{border:"2px solid",borderColor:"transparent",bg:Rt("gray.100","whiteAlpha.50")(e),_hover:{bg:Rt("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:qi(t,a)},_focusVisible:{bg:"transparent",borderColor:qi(t,i)}},addon:{border:"2px solid",borderColor:"transparent",bg:Rt("gray.100","whiteAlpha.50")(e)}}}),n_e=xu(e=>{const{theme:t}=e,{focusBorderColor:i,errorBorderColor:a}=iD(e);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:qi(t,a),boxShadow:`0px 1px 0px 0px ${qi(t,a)}`},_focusVisible:{borderColor:qi(t,i),boxShadow:`0px 1px 0px 0px ${qi(t,i)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),i_e=xu({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),o_e={outline:t_e,filled:r_e,flushed:n_e,unstyled:i_e},wr=qve({baseStyle:Zve,sizes:e_e,variants:o_e,defaultProps:{size:"md",variant:"outline"}}),Ex=Ft("kbd-bg"),a_e={[Ex.variable]:"colors.gray.100",_dark:{[Ex.variable]:"colors.whiteAlpha.100"},bg:Ex.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},s_e={baseStyle:a_e},u_e={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},c_e={baseStyle:u_e},{defineMultiStyleConfig:l_e,definePartsStyle:d_e}=Gr(cge.keys),f_e={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},h_e=d_e({icon:f_e}),p_e=l_e({baseStyle:h_e}),{defineMultiStyleConfig:g_e,definePartsStyle:m_e}=Gr(lge.keys),Ls=Ft("menu-bg"),xx=Ft("menu-shadow"),v_e={[Ls.variable]:"#fff",[xx.variable]:"shadows.sm",_dark:{[Ls.variable]:"colors.gray.700",[xx.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:Ls.reference,boxShadow:xx.reference},__e={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Ls.variable]:"colors.gray.100",_dark:{[Ls.variable]:"colors.whiteAlpha.100"}},_active:{[Ls.variable]:"colors.gray.200",_dark:{[Ls.variable]:"colors.whiteAlpha.200"}},_expanded:{[Ls.variable]:"colors.gray.100",_dark:{[Ls.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Ls.reference},y_e={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},S_e={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},b_e={opacity:.6},T_e={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},C_e={transitionProperty:"common",transitionDuration:"normal"},I_e=m_e({button:C_e,list:v_e,item:__e,groupTitle:y_e,icon:S_e,command:b_e,divider:T_e}),w_e=g_e({baseStyle:I_e}),{defineMultiStyleConfig:E_e,definePartsStyle:uP}=Gr(dge.keys),Ax=Ft("modal-bg"),Px=Ft("modal-shadow"),x_e={bg:"blackAlpha.600",zIndex:"modal"},A_e=e=>{const{isCentered:t,scrollBehavior:i}=e;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:t?"center":"flex-start",overflow:i==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},P_e=e=>{const{isCentered:t,scrollBehavior:i}=e;return{borderRadius:"md",color:"inherit",my:t?"auto":"16",mx:t?"auto":void 0,zIndex:"modal",maxH:i==="inside"?"calc(100% - 7.5rem)":void 0,[Ax.variable]:"colors.white",[Px.variable]:"shadows.lg",_dark:{[Ax.variable]:"colors.gray.700",[Px.variable]:"shadows.dark-lg"},bg:Ax.reference,boxShadow:Px.reference}},k_e={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},D_e={position:"absolute",top:"2",insetEnd:"3"},R_e=e=>{const{scrollBehavior:t}=e;return{px:"6",py:"2",flex:"1",overflow:t==="inside"?"auto":void 0}},F_e={px:"6",py:"4"},O_e=uP(e=>({overlay:x_e,dialogContainer:eo(A_e,e),dialog:eo(P_e,e),header:k_e,closeButton:D_e,body:eo(R_e,e),footer:F_e}));function Ka(e){return uP(e==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}const N_e={xs:Ka("xs"),sm:Ka("sm"),md:Ka("md"),lg:Ka("lg"),xl:Ka("xl"),"2xl":Ka("2xl"),"3xl":Ka("3xl"),"4xl":Ka("4xl"),"5xl":Ka("5xl"),"6xl":Ka("6xl"),full:Ka("full")},M_e=E_e({baseStyle:O_e,sizes:N_e,defaultProps:{size:"md"}}),Uz={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:L_e,definePartsStyle:Vz}=Gr(fge.keys),oD=Qn("number-input-stepper-width"),jz=Qn("number-input-input-padding"),W_e=Tu(oD).add("0.5rem").toString(),kx=Qn("number-input-bg"),Dx=Qn("number-input-color"),Rx=Qn("number-input-border-color"),B_e={[oD.variable]:"sizes.6",[jz.variable]:W_e},U_e=e=>{var t;return((t=eo(wr.baseStyle,e))==null?void 0:t.field)??{}},V_e={width:oD.reference},j_e={borderStart:"1px solid",borderStartColor:Rx.reference,color:Dx.reference,bg:kx.reference,[Dx.variable]:"colors.chakra-body-text",[Rx.variable]:"colors.chakra-border-color",_dark:{[Dx.variable]:"colors.whiteAlpha.800",[Rx.variable]:"colors.whiteAlpha.300"},_active:{[kx.variable]:"colors.gray.200",_dark:{[kx.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},G_e=Vz(e=>({root:B_e,field:eo(U_e,e)??{},stepperGroup:V_e,stepper:j_e}));function hy(e){var h,g;const t=(h=wr.sizes)==null?void 0:h[e],i={lg:"md",md:"md",sm:"sm",xs:"sm"},a=((g=t.field)==null?void 0:g.fontSize)??"md",l=Uz.fontSizes[a];return Vz({field:{...t.field,paddingInlineEnd:jz.reference,verticalAlign:"top"},stepper:{fontSize:Tu(l).multiply(.75).toString(),_first:{borderTopEndRadius:i[e]},_last:{borderBottomEndRadius:i[e],mt:"-1px",borderTopWidth:1}}})}const z_e={xs:hy("xs"),sm:hy("sm"),md:hy("md"),lg:hy("lg")},H_e=L_e({baseStyle:G_e,sizes:z_e,variants:wr.variants,defaultProps:wr.defaultProps});var zj;const $_e={...(zj=wr.baseStyle)==null?void 0:zj.field,textAlign:"center"},K_e={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var Hj;const Y_e={outline:e=>{var t,i;return((i=eo((t=wr.variants)==null?void 0:t.outline,e))==null?void 0:i.field)??{}},flushed:e=>{var t,i;return((i=eo((t=wr.variants)==null?void 0:t.flushed,e))==null?void 0:i.field)??{}},filled:e=>{var t,i;return((i=eo((t=wr.variants)==null?void 0:t.filled,e))==null?void 0:i.field)??{}},unstyled:((Hj=wr.variants)==null?void 0:Hj.unstyled.field)??{}},Q_e={baseStyle:$_e,sizes:K_e,variants:Y_e,defaultProps:wr.defaultProps},{defineMultiStyleConfig:X_e,definePartsStyle:J_e}=Gr(hge.keys),py=Qn("popper-bg"),q_e=Qn("popper-arrow-bg"),u5=Qn("popper-arrow-shadow-color"),Z_e={zIndex:"popover"},e0e={[py.variable]:"colors.white",bg:py.reference,[q_e.variable]:py.reference,[u5.variable]:"colors.gray.200",_dark:{[py.variable]:"colors.gray.700",[u5.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},t0e={px:3,py:2,borderBottomWidth:"1px"},r0e={px:3,py:2},n0e={px:3,py:2,borderTopWidth:"1px"},i0e={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},o0e=J_e({popper:Z_e,content:e0e,header:t0e,body:r0e,footer:n0e,closeButton:i0e}),a0e=X_e({baseStyle:o0e}),{defineMultiStyleConfig:s0e,definePartsStyle:qg}=Gr(pge.keys),u0e=e=>{const{colorScheme:t,theme:i,isIndeterminate:a,hasStripe:l}=e,h=Rt(n5(),n5("1rem","rgba(0,0,0,0.1)"))(e),g=Rt(`${t}.500`,`${t}.200`)(e),v=`linear-gradient(
    to right,
    transparent 0%,
    ${qi(i,g)} 50%,
    transparent 100%
  )`;return{...!a&&l&&h,...a?{bgImage:v}:{bgColor:g}}},c0e={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},l0e=e=>({bg:Rt("gray.100","whiteAlpha.300")(e)}),d0e=e=>({transitionProperty:"common",transitionDuration:"slow",...u0e(e)}),f0e=qg(e=>({label:c0e,filledTrack:d0e(e),track:l0e(e)})),h0e={xs:qg({track:{h:"1"}}),sm:qg({track:{h:"2"}}),md:qg({track:{h:"3"}}),lg:qg({track:{h:"4"}})},p0e=s0e({sizes:h0e,baseStyle:f0e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:g0e,definePartsStyle:Ky}=Gr(gge.keys),m0e=e=>{var i;const t=(i=eo(kc.baseStyle,e))==null?void 0:i.control;return{...t,borderRadius:"full",_checked:{...t==null?void 0:t._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},v0e=Ky(e=>{var t,i;return{label:(t=kc.baseStyle)==null?void 0:t.call(kc,e).label,container:(i=kc.baseStyle)==null?void 0:i.call(kc,e).container,control:m0e(e)}}),_0e={md:Ky({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Ky({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Ky({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},y0e=g0e({baseStyle:v0e,sizes:_0e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:S0e,definePartsStyle:b0e}=Gr(mge.keys),gy=Ft("select-bg");var $j;const T0e={...($j=wr.baseStyle)==null?void 0:$j.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:gy.reference,[gy.variable]:"colors.white",_dark:{[gy.variable]:"colors.gray.700"},"> option, > optgroup":{bg:gy.reference}},C0e={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},I0e=b0e({field:T0e,icon:C0e}),my={paddingInlineEnd:"8"};var Kj,Yj,Qj,Xj,Jj,qj,Zj,e6;const w0e={lg:{...(Kj=wr.sizes)==null?void 0:Kj.lg,field:{...(Yj=wr.sizes)==null?void 0:Yj.lg.field,...my}},md:{...(Qj=wr.sizes)==null?void 0:Qj.md,field:{...(Xj=wr.sizes)==null?void 0:Xj.md.field,...my}},sm:{...(Jj=wr.sizes)==null?void 0:Jj.sm,field:{...(qj=wr.sizes)==null?void 0:qj.sm.field,...my}},xs:{...(Zj=wr.sizes)==null?void 0:Zj.xs,field:{...(e6=wr.sizes)==null?void 0:e6.xs.field,...my},icon:{insetEnd:"1"}}},E0e=S0e({baseStyle:I0e,sizes:w0e,variants:wr.variants,defaultProps:wr.defaultProps}),Fx=Ft("skeleton-start-color"),Ox=Ft("skeleton-end-color"),x0e={[Fx.variable]:"colors.gray.100",[Ox.variable]:"colors.gray.400",_dark:{[Fx.variable]:"colors.gray.800",[Ox.variable]:"colors.gray.600"},background:Fx.reference,borderColor:Ox.reference,opacity:.7,borderRadius:"sm"},A0e={baseStyle:x0e},Nx=Ft("skip-link-bg"),P0e={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[Nx.variable]:"colors.white",_dark:{[Nx.variable]:"colors.gray.700"},bg:Nx.reference}},k0e={baseStyle:P0e},{defineMultiStyleConfig:D0e,definePartsStyle:Ob}=Gr(vge.keys),od=Ft("slider-thumb-size"),Qm=Ft("slider-track-size"),Oc=Ft("slider-bg"),R0e=e=>{const{orientation:t}=e;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...rD({orientation:t,vertical:{h:"100%",px:bu(od.reference).divide(2).toString()},horizontal:{w:"100%",py:bu(od.reference).divide(2).toString()}})}},F0e=e=>({...rD({orientation:e.orientation,horizontal:{h:Qm.reference},vertical:{w:Qm.reference}}),overflow:"hidden",borderRadius:"sm",[Oc.variable]:"colors.gray.200",_dark:{[Oc.variable]:"colors.whiteAlpha.200"},_disabled:{[Oc.variable]:"colors.gray.300",_dark:{[Oc.variable]:"colors.whiteAlpha.300"}},bg:Oc.reference}),O0e=e=>{const{orientation:t}=e;return{...rD({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:od.reference,h:od.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},N0e=e=>{const{colorScheme:t}=e;return{width:"inherit",height:"inherit",[Oc.variable]:`colors.${t}.500`,_dark:{[Oc.variable]:`colors.${t}.200`},bg:Oc.reference}},M0e=Ob(e=>({container:R0e(e),track:F0e(e),thumb:O0e(e),filledTrack:N0e(e)})),L0e=Ob({container:{[od.variable]:"sizes.4",[Qm.variable]:"sizes.1"}}),W0e=Ob({container:{[od.variable]:"sizes.3.5",[Qm.variable]:"sizes.1"}}),B0e=Ob({container:{[od.variable]:"sizes.2.5",[Qm.variable]:"sizes.0.5"}}),U0e={lg:L0e,md:W0e,sm:B0e},V0e=D0e({baseStyle:M0e,sizes:U0e,defaultProps:{size:"md",colorScheme:"blue"}}),Ul=Qn("spinner-size"),j0e={width:[Ul.reference],height:[Ul.reference]},G0e={xs:{[Ul.variable]:"sizes.3"},sm:{[Ul.variable]:"sizes.4"},md:{[Ul.variable]:"sizes.6"},lg:{[Ul.variable]:"sizes.8"},xl:{[Ul.variable]:"sizes.12"}},z0e={baseStyle:j0e,sizes:G0e,defaultProps:{size:"md"}},{defineMultiStyleConfig:H0e,definePartsStyle:Gz}=Gr(_ge.keys),$0e={fontWeight:"medium"},K0e={opacity:.8,marginBottom:"2"},Y0e={verticalAlign:"baseline",fontWeight:"semibold"},Q0e={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},X0e=Gz({container:{},label:$0e,helpText:K0e,number:Y0e,icon:Q0e}),J0e={md:Gz({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},q0e=H0e({baseStyle:X0e,sizes:J0e,defaultProps:{size:"md"}}),{defineMultiStyleConfig:Z0e,definePartsStyle:Zg}=Gr(["stepper","step","title","description","indicator","separator","icon","number"]),Cu=Ft("stepper-indicator-size"),Yf=Ft("stepper-icon-size"),Qf=Ft("stepper-title-font-size"),em=Ft("stepper-description-font-size"),Lg=Ft("stepper-accent-color"),eye=Zg(({colorScheme:e})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Lg.variable]:`colors.${e}.500`,_dark:{[Lg.variable]:`colors.${e}.200`}},title:{fontSize:Qf.reference,fontWeight:"medium"},description:{fontSize:em.reference,color:"chakra-subtle-text"},number:{fontSize:Qf.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Yf.reference,height:Yf.reference},indicator:{flexShrink:0,borderRadius:"full",width:Cu.reference,height:Cu.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Lg.reference},"&[data-status=complete]":{bg:Lg.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Lg.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${Cu.reference} - 8px)`,top:`calc(${Cu.reference} + 4px)`,insetStart:`calc(${Cu.reference} / 2 - 1px)`}}})),tye=Z0e({baseStyle:eye,sizes:{xs:Zg({stepper:{[Cu.variable]:"sizes.4",[Yf.variable]:"sizes.3",[Qf.variable]:"fontSizes.xs",[em.variable]:"fontSizes.xs"}}),sm:Zg({stepper:{[Cu.variable]:"sizes.6",[Yf.variable]:"sizes.4",[Qf.variable]:"fontSizes.sm",[em.variable]:"fontSizes.xs"}}),md:Zg({stepper:{[Cu.variable]:"sizes.8",[Yf.variable]:"sizes.5",[Qf.variable]:"fontSizes.md",[em.variable]:"fontSizes.sm"}}),lg:Zg({stepper:{[Cu.variable]:"sizes.10",[Yf.variable]:"sizes.6",[Qf.variable]:"fontSizes.lg",[em.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:rye,definePartsStyle:Yy}=Gr(yge.keys),vm=Qn("switch-track-width"),ql=Qn("switch-track-height"),Mx=Qn("switch-track-diff"),nye=Tu.subtract(vm,ql),cP=Qn("switch-thumb-x"),Wg=Qn("switch-bg"),iye=e=>{const{colorScheme:t}=e;return{borderRadius:"full",p:"0.5",width:[vm.reference],height:[ql.reference],transitionProperty:"common",transitionDuration:"fast",[Wg.variable]:"colors.gray.300",_dark:{[Wg.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Wg.variable]:`colors.${t}.500`,_dark:{[Wg.variable]:`colors.${t}.200`}},bg:Wg.reference}},oye={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[ql.reference],height:[ql.reference],_checked:{transform:`translateX(${cP.reference})`}},aye=Yy(e=>({container:{[Mx.variable]:nye,[cP.variable]:Mx.reference,_rtl:{[cP.variable]:Tu(Mx).negate().toString()}},track:iye(e),thumb:oye})),sye={sm:Yy({container:{[vm.variable]:"1.375rem",[ql.variable]:"sizes.3"}}),md:Yy({container:{[vm.variable]:"1.875rem",[ql.variable]:"sizes.4"}}),lg:Yy({container:{[vm.variable]:"2.875rem",[ql.variable]:"sizes.6"}})},uye=rye({baseStyle:aye,sizes:sye,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:cye,definePartsStyle:ch}=Gr(Sge.keys),lye=ch({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),jS={"&[data-is-numeric=true]":{textAlign:"end"}},dye=ch(e=>{const{colorScheme:t}=e;return{th:{color:Rt("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e),...jS},td:{borderBottom:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e),...jS},caption:{color:Rt("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),fye=ch(e=>{const{colorScheme:t}=e;return{th:{color:Rt("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e),...jS},td:{borderBottom:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e),...jS},caption:{color:Rt("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e)},td:{background:Rt(`${t}.100`,`${t}.700`)(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),hye={simple:dye,striped:fye,unstyled:{}},pye={sm:ch({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:ch({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:ch({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},gye=cye({baseStyle:lye,variants:hye,sizes:pye,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),So=Ft("tabs-color"),Za=Ft("tabs-bg"),vy=Ft("tabs-border-color"),{defineMultiStyleConfig:mye,definePartsStyle:$s}=Gr(bge.keys),vye=e=>{const{orientation:t}=e;return{display:t==="vertical"?"flex":"block"}},_ye=e=>{const{isFitted:t}=e;return{flex:t?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},yye=e=>{const{align:t="start",orientation:i}=e;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[t],flexDirection:i==="vertical"?"column":"row"}},Sye={p:4},bye=$s(e=>({root:vye(e),tab:_ye(e),tablist:yye(e),tabpanel:Sye})),Tye={sm:$s({tab:{py:1,px:4,fontSize:"sm"}}),md:$s({tab:{fontSize:"md",py:2,px:4}}),lg:$s({tab:{fontSize:"lg",py:3,px:4}})},Cye=$s(e=>{const{colorScheme:t,orientation:i}=e,a=i==="vertical",l=a?"borderStart":"borderBottom",h=a?"marginStart":"marginBottom";return{tablist:{[l]:"2px solid",borderColor:"inherit"},tab:{[l]:"2px solid",borderColor:"transparent",[h]:"-2px",_selected:{[So.variable]:`colors.${t}.600`,_dark:{[So.variable]:`colors.${t}.300`},borderColor:"currentColor"},_active:{[Za.variable]:"colors.gray.200",_dark:{[Za.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:So.reference,bg:Za.reference}}}),Iye=$s(e=>{const{colorScheme:t}=e;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[vy.variable]:"transparent",_selected:{[So.variable]:`colors.${t}.600`,[vy.variable]:"colors.white",_dark:{[So.variable]:`colors.${t}.300`,[vy.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:vy.reference},color:So.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),wye=$s(e=>{const{colorScheme:t}=e;return{tab:{border:"1px solid",borderColor:"inherit",[Za.variable]:"colors.gray.50",_dark:{[Za.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Za.variable]:"colors.white",[So.variable]:`colors.${t}.600`,_dark:{[Za.variable]:"colors.gray.800",[So.variable]:`colors.${t}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:So.reference,bg:Za.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),Eye=$s(e=>{const{colorScheme:t,theme:i}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:qi(i,`${t}.700`),bg:qi(i,`${t}.100`)}}}}),xye=$s(e=>{const{colorScheme:t}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",[So.variable]:"colors.gray.600",_dark:{[So.variable]:"inherit"},_selected:{[So.variable]:"colors.white",[Za.variable]:`colors.${t}.600`,_dark:{[So.variable]:"colors.gray.800",[Za.variable]:`colors.${t}.300`}},color:So.reference,bg:Za.reference}}}),Aye=$s({}),Pye={line:Cye,enclosed:Iye,"enclosed-colored":wye,"soft-rounded":Eye,"solid-rounded":xye,unstyled:Aye},kye=mye({baseStyle:bye,sizes:Tye,variants:Pye,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:Dye,definePartsStyle:Zl}=Gr(Tge.keys),c5=Ft("tag-bg"),l5=Ft("tag-color"),Lx=Ft("tag-shadow"),Qy=Ft("tag-min-height"),Xy=Ft("tag-min-width"),Jy=Ft("tag-font-size"),qy=Ft("tag-padding-inline"),Rye={fontWeight:"medium",lineHeight:1.2,outline:0,[l5.variable]:Fn.color.reference,[c5.variable]:Fn.bg.reference,[Lx.variable]:Fn.shadow.reference,color:l5.reference,bg:c5.reference,boxShadow:Lx.reference,borderRadius:"md",minH:Qy.reference,minW:Xy.reference,fontSize:Jy.reference,px:qy.reference,_focusVisible:{[Lx.variable]:"shadows.outline"}},Fye={lineHeight:1.2,overflow:"visible"},Oye={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},Nye=Zl({container:Rye,label:Fye,closeButton:Oye}),Mye={sm:Zl({container:{[Qy.variable]:"sizes.5",[Xy.variable]:"sizes.5",[Jy.variable]:"fontSizes.xs",[qy.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Zl({container:{[Qy.variable]:"sizes.6",[Xy.variable]:"sizes.6",[Jy.variable]:"fontSizes.sm",[qy.variable]:"space.2"}}),lg:Zl({container:{[Qy.variable]:"sizes.8",[Xy.variable]:"sizes.8",[Jy.variable]:"fontSizes.md",[qy.variable]:"space.3"}})},Lye={subtle:Zl(e=>{var t;return{container:(t=pm.variants)==null?void 0:t.subtle(e)}}),solid:Zl(e=>{var t;return{container:(t=pm.variants)==null?void 0:t.solid(e)}}),outline:Zl(e=>{var t;return{container:(t=pm.variants)==null?void 0:t.outline(e)}})},Wye=Dye({variants:Lye,baseStyle:Nye,sizes:Mye,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var t6;const Bye={...(t6=wr.baseStyle)==null?void 0:t6.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var r6;const Uye={outline:e=>{var t;return((t=wr.variants)==null?void 0:t.outline(e).field)??{}},flushed:e=>{var t;return((t=wr.variants)==null?void 0:t.flushed(e).field)??{}},filled:e=>{var t;return((t=wr.variants)==null?void 0:t.filled(e).field)??{}},unstyled:((r6=wr.variants)==null?void 0:r6.unstyled.field)??{}};var n6,i6,o6,a6;const Vye={xs:((n6=wr.sizes)==null?void 0:n6.xs.field)??{},sm:((i6=wr.sizes)==null?void 0:i6.sm.field)??{},md:((o6=wr.sizes)==null?void 0:o6.md.field)??{},lg:((a6=wr.sizes)==null?void 0:a6.lg.field)??{}},jye={baseStyle:Bye,sizes:Vye,variants:Uye,defaultProps:{size:"md",variant:"outline"}},_y=Qn("tooltip-bg"),Wx=Qn("tooltip-fg"),Gye=Qn("popper-arrow-bg"),zye={bg:_y.reference,color:Wx.reference,[_y.variable]:"colors.gray.700",[Wx.variable]:"colors.whiteAlpha.900",_dark:{[_y.variable]:"colors.gray.300",[Wx.variable]:"colors.gray.900"},[Gye.variable]:_y.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},Hye={baseStyle:zye},$ye={Accordion:Dge,Alert:pme,Avatar:wme,Badge:pm,Breadcrumb:Nme,Button:zme,Checkbox:kc,CloseButton:ove,Code:cve,Container:dve,Divider:mve,Drawer:xve,Editable:Ove,Form:Uve,FormError:$ve,FormLabel:Yve,Heading:Jve,Input:wr,Kbd:s_e,Link:c_e,List:p_e,Menu:w_e,Modal:M_e,NumberInput:H_e,PinInput:Q_e,Popover:a0e,Progress:p0e,Radio:y0e,Select:E0e,Skeleton:A0e,SkipLink:k0e,Slider:V0e,Spinner:z0e,Stat:q0e,Switch:uye,Table:gye,Tabs:kye,Tag:Wye,Textarea:jye,Tooltip:Hye,Card:Qme,Stepper:tye},Kye={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},Yye={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},Qye={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},Xye={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},Jye={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},qye={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},Zye={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},eSe={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},tSe={property:qye,easing:Zye,duration:eSe},rSe={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},nSe={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},iSe={breakpoints:Yye,zIndices:rSe,radii:Xye,blur:nSe,colors:Qye,...Uz,sizes:Oz,shadows:Jye,space:Fz,borders:Kye,transition:tSe},oSe={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},aSe={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},sSe="ltr",uSe={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},cSe={semanticTokens:oSe,direction:sSe,...iSe,components:$ye,styles:aSe,config:uSe};var lSe=!1;function dSe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function fSe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var hSe=function(){function e(i){var a=this;this._insertTag=function(l){var h;a.tags.length===0?a.insertionPoint?h=a.insertionPoint.nextSibling:a.prepend?h=a.container.firstChild:h=a.before:h=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(l,h),a.tags.push(l)},this.isSpeedy=i.speedy===void 0?!lSe:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(a){a.forEach(this._insertTag)},t.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(fSe(this));var l=this.tags[this.tags.length-1];if(this.isSpeedy){var h=dSe(l);try{h.insertRule(a,h.cssRules.length)}catch{}}else l.appendChild(document.createTextNode(a));this.ctr++},t.flush=function(){this.tags.forEach(function(a){var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),this.tags=[],this.ctr=0},e}(),Di="-ms-",GS="-moz-",Cr="-webkit-",zz="comm",aD="rule",sD="decl",pSe="@import",Hz="@keyframes",gSe="@layer",mSe=Math.abs,Nb=String.fromCharCode,vSe=Object.assign;function _Se(e,t){return Si(e,0)^45?(((t<<2^Si(e,0))<<2^Si(e,1))<<2^Si(e,2))<<2^Si(e,3):0}function $z(e){return e.trim()}function ySe(e,t){return(e=t.exec(e))?e[0]:e}function Ir(e,t,i){return e.replace(t,i)}function lP(e,t){return e.indexOf(t)}function Si(e,t){return e.charCodeAt(t)|0}function Xm(e,t,i){return e.slice(t,i)}function Ws(e){return e.length}function uD(e){return e.length}function yy(e,t){return t.push(e),e}function SSe(e,t){return e.map(t).join("")}var Mb=1,Th=1,Kz=0,Eo=0,Ln=0,Rh="";function Lb(e,t,i,a,l,h,g){return{value:e,root:t,parent:i,type:a,props:l,children:h,line:Mb,column:Th,length:g,return:""}}function Bg(e,t){return vSe(Lb("",null,null,"",null,null,0),e,{length:-e.length},t)}function bSe(){return Ln}function TSe(){return Ln=Eo>0?Si(Rh,--Eo):0,Th--,Ln===10&&(Th=1,Mb--),Ln}function Ho(){return Ln=Eo<Kz?Si(Rh,Eo++):0,Th++,Ln===10&&(Th=1,Mb++),Ln}function Ks(){return Si(Rh,Eo)}function Zy(){return Eo}function vv(e,t){return Xm(Rh,e,t)}function Jm(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Yz(e){return Mb=Th=1,Kz=Ws(Rh=e),Eo=0,[]}function Qz(e){return Rh="",e}function eS(e){return $z(vv(Eo-1,dP(e===91?e+2:e===40?e+1:e)))}function CSe(e){for(;(Ln=Ks())&&Ln<33;)Ho();return Jm(e)>2||Jm(Ln)>3?"":" "}function ISe(e,t){for(;--t&&Ho()&&!(Ln<48||Ln>102||Ln>57&&Ln<65||Ln>70&&Ln<97););return vv(e,Zy()+(t<6&&Ks()==32&&Ho()==32))}function dP(e){for(;Ho();)switch(Ln){case e:return Eo;case 34:case 39:e!==34&&e!==39&&dP(Ln);break;case 40:e===41&&dP(e);break;case 92:Ho();break}return Eo}function wSe(e,t){for(;Ho()&&e+Ln!==47+10;)if(e+Ln===42+42&&Ks()===47)break;return"/*"+vv(t,Eo-1)+"*"+Nb(e===47?e:Ho())}function ESe(e){for(;!Jm(Ks());)Ho();return vv(e,Eo)}function xSe(e){return Qz(tS("",null,null,null,[""],e=Yz(e),0,[0],e))}function tS(e,t,i,a,l,h,g,v,T){for(var C=0,E=0,A=g,D=0,M=0,w=0,O=1,N=1,k=1,R=0,W="",K=l,de=h,ee=a,X=W;N;)switch(w=R,R=Ho()){case 40:if(w!=108&&Si(X,A-1)==58){lP(X+=Ir(eS(R),"&","&\f"),"&\f")!=-1&&(k=-1);break}case 34:case 39:case 91:X+=eS(R);break;case 9:case 10:case 13:case 32:X+=CSe(w);break;case 92:X+=ISe(Zy()-1,7);continue;case 47:switch(Ks()){case 42:case 47:yy(ASe(wSe(Ho(),Zy()),t,i),T);break;default:X+="/"}break;case 123*O:v[C++]=Ws(X)*k;case 125*O:case 59:case 0:switch(R){case 0:case 125:N=0;case 59+E:k==-1&&(X=Ir(X,/\f/g,"")),M>0&&Ws(X)-A&&yy(M>32?f5(X+";",a,i,A-1):f5(Ir(X," ","")+";",a,i,A-2),T);break;case 59:X+=";";default:if(yy(ee=d5(X,t,i,C,E,l,v,W,K=[],de=[],A),h),R===123)if(E===0)tS(X,t,ee,ee,K,h,A,v,de);else switch(D===99&&Si(X,3)===110?100:D){case 100:case 108:case 109:case 115:tS(e,ee,ee,a&&yy(d5(e,ee,ee,0,0,l,v,W,l,K=[],A),de),l,de,A,v,a?K:de);break;default:tS(X,ee,ee,ee,[""],de,0,v,de)}}C=E=M=0,O=k=1,W=X="",A=g;break;case 58:A=1+Ws(X),M=w;default:if(O<1){if(R==123)--O;else if(R==125&&O++==0&&TSe()==125)continue}switch(X+=Nb(R),R*O){case 38:k=E>0?1:(X+="\f",-1);break;case 44:v[C++]=(Ws(X)-1)*k,k=1;break;case 64:Ks()===45&&(X+=eS(Ho())),D=Ks(),E=A=Ws(W=X+=ESe(Zy())),R++;break;case 45:w===45&&Ws(X)==2&&(O=0)}}return h}function d5(e,t,i,a,l,h,g,v,T,C,E){for(var A=l-1,D=l===0?h:[""],M=uD(D),w=0,O=0,N=0;w<a;++w)for(var k=0,R=Xm(e,A+1,A=mSe(O=g[w])),W=e;k<M;++k)(W=$z(O>0?D[k]+" "+R:Ir(R,/&\f/g,D[k])))&&(T[N++]=W);return Lb(e,t,i,l===0?aD:v,T,C,E)}function ASe(e,t,i){return Lb(e,t,i,zz,Nb(bSe()),Xm(e,2,-2),0)}function f5(e,t,i,a){return Lb(e,t,i,sD,Xm(e,0,a),Xm(e,a+1,-1),a)}function lh(e,t){for(var i="",a=uD(e),l=0;l<a;l++)i+=t(e[l],l,e,t)||"";return i}function PSe(e,t,i,a){switch(e.type){case gSe:if(e.children.length)break;case pSe:case sD:return e.return=e.return||e.value;case zz:return"";case Hz:return e.return=e.value+"{"+lh(e.children,a)+"}";case aD:e.value=e.props.join(",")}return Ws(i=lh(e.children,a))?e.return=e.value+"{"+i+"}":""}function kSe(e){var t=uD(e);return function(i,a,l,h){for(var g="",v=0;v<t;v++)g+=e[v](i,a,l,h)||"";return g}}function DSe(e){return function(t){t.root||(t=t.return)&&e(t)}}var h5=function(t){var i=new WeakMap;return function(a){if(i.has(a))return i.get(a);var l=t(a);return i.set(a,l),l}};function Xz(e){var t=Object.create(null);return function(i){return t[i]===void 0&&(t[i]=e(i)),t[i]}}var RSe=function(t,i,a){for(var l=0,h=0;l=h,h=Ks(),l===38&&h===12&&(i[a]=1),!Jm(h);)Ho();return vv(t,Eo)},FSe=function(t,i){var a=-1,l=44;do switch(Jm(l)){case 0:l===38&&Ks()===12&&(i[a]=1),t[a]+=RSe(Eo-1,i,a);break;case 2:t[a]+=eS(l);break;case 4:if(l===44){t[++a]=Ks()===58?"&\f":"",i[a]=t[a].length;break}default:t[a]+=Nb(l)}while(l=Ho());return t},OSe=function(t,i){return Qz(FSe(Yz(t),i))},p5=new WeakMap,NSe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var i=t.value,a=t.parent,l=t.column===a.column&&t.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(t.props.length===1&&i.charCodeAt(0)!==58&&!p5.get(a))&&!l){p5.set(t,!0);for(var h=[],g=OSe(i,h),v=a.props,T=0,C=0;T<g.length;T++)for(var E=0;E<v.length;E++,C++)t.props[C]=h[T]?g[T].replace(/&\f/g,v[E]):v[E]+" "+g[T]}}},MSe=function(t){if(t.type==="decl"){var i=t.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(t.return="",t.value="")}};function Jz(e,t){switch(_Se(e,t)){case 5103:return Cr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Cr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Cr+e+GS+e+Di+e+e;case 6828:case 4268:return Cr+e+Di+e+e;case 6165:return Cr+e+Di+"flex-"+e+e;case 5187:return Cr+e+Ir(e,/(\w+).+(:[^]+)/,Cr+"box-$1$2"+Di+"flex-$1$2")+e;case 5443:return Cr+e+Di+"flex-item-"+Ir(e,/flex-|-self/,"")+e;case 4675:return Cr+e+Di+"flex-line-pack"+Ir(e,/align-content|flex-|-self/,"")+e;case 5548:return Cr+e+Di+Ir(e,"shrink","negative")+e;case 5292:return Cr+e+Di+Ir(e,"basis","preferred-size")+e;case 6060:return Cr+"box-"+Ir(e,"-grow","")+Cr+e+Di+Ir(e,"grow","positive")+e;case 4554:return Cr+Ir(e,/([^-])(transform)/g,"$1"+Cr+"$2")+e;case 6187:return Ir(Ir(Ir(e,/(zoom-|grab)/,Cr+"$1"),/(image-set)/,Cr+"$1"),e,"")+e;case 5495:case 3959:return Ir(e,/(image-set\([^]*)/,Cr+"$1$`$1");case 4968:return Ir(Ir(e,/(.+:)(flex-)?(.*)/,Cr+"box-pack:$3"+Di+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Cr+e+e;case 4095:case 3583:case 4068:case 2532:return Ir(e,/(.+)-inline(.+)/,Cr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ws(e)-1-t>6)switch(Si(e,t+1)){case 109:if(Si(e,t+4)!==45)break;case 102:return Ir(e,/(.+:)(.+)-([^]+)/,"$1"+Cr+"$2-$3$1"+GS+(Si(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~lP(e,"stretch")?Jz(Ir(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Si(e,t+1)!==115)break;case 6444:switch(Si(e,Ws(e)-3-(~lP(e,"!important")&&10))){case 107:return Ir(e,":",":"+Cr)+e;case 101:return Ir(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Cr+(Si(e,14)===45?"inline-":"")+"box$3$1"+Cr+"$2$3$1"+Di+"$2box$3")+e}break;case 5936:switch(Si(e,t+11)){case 114:return Cr+e+Di+Ir(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Cr+e+Di+Ir(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Cr+e+Di+Ir(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Cr+e+Di+e+e}return e}var LSe=function(t,i,a,l){if(t.length>-1&&!t.return)switch(t.type){case sD:t.return=Jz(t.value,t.length);break;case Hz:return lh([Bg(t,{value:Ir(t.value,"@","@"+Cr)})],l);case aD:if(t.length)return SSe(t.props,function(h){switch(ySe(h,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lh([Bg(t,{props:[Ir(h,/:(read-\w+)/,":"+GS+"$1")]})],l);case"::placeholder":return lh([Bg(t,{props:[Ir(h,/:(plac\w+)/,":"+Cr+"input-$1")]}),Bg(t,{props:[Ir(h,/:(plac\w+)/,":"+GS+"$1")]}),Bg(t,{props:[Ir(h,/:(plac\w+)/,Di+"input-$1")]})],l)}return""})}},WSe=[LSe],BSe=function(t){var i=t.key;if(i==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(O){var N=O.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(O),O.setAttribute("data-s",""))})}var l=t.stylisPlugins||WSe,h={},g,v=[];g=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(O){for(var N=O.getAttribute("data-emotion").split(" "),k=1;k<N.length;k++)h[N[k]]=!0;v.push(O)});var T,C=[NSe,MSe];{var E,A=[PSe,DSe(function(O){E.insert(O)})],D=kSe(C.concat(l,A)),M=function(N){return lh(xSe(N),D)};T=function(N,k,R,W){E=R,M(N?N+"{"+k.styles+"}":k.styles),W&&(w.inserted[k.name]=!0)}}var w={key:i,sheet:new hSe({key:i,container:g,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:h,registered:{},insert:T};return w.sheet.hydrate(v),w};function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)({}).hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},zS.apply(null,arguments)}var qz={exports:{}},Rr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ii=typeof Symbol=="function"&&Symbol.for,cD=ii?Symbol.for("react.element"):60103,lD=ii?Symbol.for("react.portal"):60106,Wb=ii?Symbol.for("react.fragment"):60107,Bb=ii?Symbol.for("react.strict_mode"):60108,Ub=ii?Symbol.for("react.profiler"):60114,Vb=ii?Symbol.for("react.provider"):60109,jb=ii?Symbol.for("react.context"):60110,dD=ii?Symbol.for("react.async_mode"):60111,Gb=ii?Symbol.for("react.concurrent_mode"):60111,zb=ii?Symbol.for("react.forward_ref"):60112,Hb=ii?Symbol.for("react.suspense"):60113,USe=ii?Symbol.for("react.suspense_list"):60120,$b=ii?Symbol.for("react.memo"):60115,Kb=ii?Symbol.for("react.lazy"):60116,VSe=ii?Symbol.for("react.block"):60121,jSe=ii?Symbol.for("react.fundamental"):60117,GSe=ii?Symbol.for("react.responder"):60118,zSe=ii?Symbol.for("react.scope"):60119;function Jo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case cD:switch(e=e.type,e){case dD:case Gb:case Wb:case Ub:case Bb:case Hb:return e;default:switch(e=e&&e.$$typeof,e){case jb:case zb:case Kb:case $b:case Vb:return e;default:return t}}case lD:return t}}}function Zz(e){return Jo(e)===Gb}Rr.AsyncMode=dD;Rr.ConcurrentMode=Gb;Rr.ContextConsumer=jb;Rr.ContextProvider=Vb;Rr.Element=cD;Rr.ForwardRef=zb;Rr.Fragment=Wb;Rr.Lazy=Kb;Rr.Memo=$b;Rr.Portal=lD;Rr.Profiler=Ub;Rr.StrictMode=Bb;Rr.Suspense=Hb;Rr.isAsyncMode=function(e){return Zz(e)||Jo(e)===dD};Rr.isConcurrentMode=Zz;Rr.isContextConsumer=function(e){return Jo(e)===jb};Rr.isContextProvider=function(e){return Jo(e)===Vb};Rr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===cD};Rr.isForwardRef=function(e){return Jo(e)===zb};Rr.isFragment=function(e){return Jo(e)===Wb};Rr.isLazy=function(e){return Jo(e)===Kb};Rr.isMemo=function(e){return Jo(e)===$b};Rr.isPortal=function(e){return Jo(e)===lD};Rr.isProfiler=function(e){return Jo(e)===Ub};Rr.isStrictMode=function(e){return Jo(e)===Bb};Rr.isSuspense=function(e){return Jo(e)===Hb};Rr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Wb||e===Gb||e===Ub||e===Bb||e===Hb||e===USe||typeof e=="object"&&e!==null&&(e.$$typeof===Kb||e.$$typeof===$b||e.$$typeof===Vb||e.$$typeof===jb||e.$$typeof===zb||e.$$typeof===jSe||e.$$typeof===GSe||e.$$typeof===zSe||e.$$typeof===VSe)};Rr.typeOf=Jo;qz.exports=Rr;var fD=qz.exports,hD=fD,HSe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$Se={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},KSe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},eH={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pD={};pD[hD.ForwardRef]=KSe;pD[hD.Memo]=eH;function g5(e){return hD.isMemo(e)?eH:pD[e.$$typeof]||HSe}var YSe=Object.defineProperty,QSe=Object.getOwnPropertyNames,m5=Object.getOwnPropertySymbols,XSe=Object.getOwnPropertyDescriptor,JSe=Object.getPrototypeOf,v5=Object.prototype;function tH(e,t,i){if(typeof t!="string"){if(v5){var a=JSe(t);a&&a!==v5&&tH(e,a,i)}var l=QSe(t);m5&&(l=l.concat(m5(t)));for(var h=g5(e),g=g5(t),v=0;v<l.length;++v){var T=l[v];if(!$Se[T]&&!(i&&i[T])&&!(g&&g[T])&&!(h&&h[T])){var C=XSe(t,T);try{YSe(e,T,C)}catch{}}}}return e}var qSe=tH;const ZSe=xh(qSe);var ebe=!0;function tbe(e,t,i){var a="";return i.split(" ").forEach(function(l){e[l]!==void 0?t.push(e[l]+";"):l&&(a+=l+" ")}),a}var rH=function(t,i,a){var l=t.key+"-"+i.name;(a===!1||ebe===!1)&&t.registered[l]===void 0&&(t.registered[l]=i.styles)},nH=function(t,i,a){rH(t,i,a);var l=t.key+"-"+i.name;if(t.inserted[i.name]===void 0){var h=i;do t.insert(i===h?"."+l:"",h,t.sheet,!0),h=h.next;while(h!==void 0)}};function rbe(e){for(var t=0,i,a=0,l=e.length;l>=4;++a,l-=4)i=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,t=(i&65535)*1540483477+((i>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(l){case 3:t^=(e.charCodeAt(a+2)&255)<<16;case 2:t^=(e.charCodeAt(a+1)&255)<<8;case 1:t^=e.charCodeAt(a)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var nbe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ibe=!1,obe=/[A-Z]|^ms/g,abe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,iH=function(t){return t.charCodeAt(1)===45},_5=function(t){return t!=null&&typeof t!="boolean"},Bx=Xz(function(e){return iH(e)?e:e.replace(obe,"-$&").toLowerCase()}),y5=function(t,i){switch(t){case"animation":case"animationName":if(typeof i=="string")return i.replace(abe,function(a,l,h){return Bs={name:l,styles:h,next:Bs},l})}return nbe[t]!==1&&!iH(t)&&typeof i=="number"&&i!==0?i+"px":i},sbe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function qm(e,t,i){if(i==null)return"";var a=i;if(a.__emotion_styles!==void 0)return a;switch(typeof i){case"boolean":return"";case"object":{var l=i;if(l.anim===1)return Bs={name:l.name,styles:l.styles,next:Bs},l.name;var h=i;if(h.styles!==void 0){var g=h.next;if(g!==void 0)for(;g!==void 0;)Bs={name:g.name,styles:g.styles,next:Bs},g=g.next;var v=h.styles+";";return v}return ube(e,t,i)}case"function":{if(e!==void 0){var T=Bs,C=i(e);return Bs=T,qm(e,t,C)}break}}var E=i;if(t==null)return E;var A=t[E];return A!==void 0?A:E}function ube(e,t,i){var a="";if(Array.isArray(i))for(var l=0;l<i.length;l++)a+=qm(e,t,i[l])+";";else for(var h in i){var g=i[h];if(typeof g!="object"){var v=g;t!=null&&t[v]!==void 0?a+=h+"{"+t[v]+"}":_5(v)&&(a+=Bx(h)+":"+y5(h,v)+";")}else{if(h==="NO_COMPONENT_SELECTOR"&&ibe)throw new Error(sbe);if(Array.isArray(g)&&typeof g[0]=="string"&&(t==null||t[g[0]]===void 0))for(var T=0;T<g.length;T++)_5(g[T])&&(a+=Bx(h)+":"+y5(h,g[T])+";");else{var C=qm(e,t,g);switch(h){case"animation":case"animationName":{a+=Bx(h)+":"+C+";";break}default:a+=h+"{"+C+"}"}}}}return a}var S5=/label:\s*([^\s;{]+)\s*(;|$)/g,Bs;function gD(e,t,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var a=!0,l="";Bs=void 0;var h=e[0];if(h==null||h.raw===void 0)a=!1,l+=qm(i,t,h);else{var g=h;l+=g[0]}for(var v=1;v<e.length;v++)if(l+=qm(i,t,e[v]),a){var T=h;l+=T[v]}S5.lastIndex=0;for(var C="",E;(E=S5.exec(l))!==null;)C+="-"+E[1];var A=rbe(l)+C;return{name:A,styles:l,next:Bs}}var cbe=function(t){return t()},oH=L4["useInsertionEffect"]?L4["useInsertionEffect"]:!1,lbe=oH||cbe,b5=oH||ye.useLayoutEffect,aH=ye.createContext(typeof HTMLElement<"u"?BSe({key:"css"}):null);aH.Provider;var mD=function(t){return ye.forwardRef(function(i,a){var l=ye.useContext(aH);return t(i,l,a)})},Zm=ye.createContext({}),dbe=function(t,i){if(typeof i=="function"){var a=i(t);return a}return zS({},t,i)},fbe=h5(function(e){return h5(function(t){return dbe(e,t)})}),hbe=function(t){var i=ye.useContext(Zm);return t.theme!==i&&(i=fbe(i)(t.theme)),ye.createElement(Zm.Provider,{value:i},t.children)},Yb=mD(function(e,t){var i=e.styles,a=gD([i],void 0,ye.useContext(Zm)),l=ye.useRef();return b5(function(){var h=t.key+"-global",g=new t.sheet.constructor({key:h,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),v=!1,T=document.querySelector('style[data-emotion="'+h+" "+a.name+'"]');return t.sheet.tags.length&&(g.before=t.sheet.tags[0]),T!==null&&(v=!0,T.setAttribute("data-emotion",h),g.hydrate([T])),l.current=[g,v],function(){g.flush()}},[t]),b5(function(){var h=l.current,g=h[0],v=h[1];if(v){h[1]=!1;return}if(a.next!==void 0&&nH(t,a.next,!0),g.tags.length){var T=g.tags[g.tags.length-1].nextElementSibling;g.before=T,g.flush()}t.insert("",a,g,!1)},[t,a.name]),null});function pbe(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return gD(t)}var gbe=function(){var t=pbe.apply(void 0,arguments),i="animation-"+t.name;return{name:i,styles:"@keyframes "+i+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const vD=ye.createContext({});vD.displayName="ColorModeContext";function _D(){const e=ye.useContext(vD);if(e===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return e}const Sy={light:"chakra-ui-light",dark:"chakra-ui-dark"};function mbe(e={}){const{preventTransition:t=!0,nonce:i}=e,a={setDataset:l=>{const h=t?a.preventTransition():void 0;document.documentElement.dataset.theme=l,document.documentElement.style.colorScheme=l,h==null||h()},setClassName(l){document.body.classList.add(l?Sy.dark:Sy.light),document.body.classList.remove(l?Sy.light:Sy.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(l){return a.query().matches??l==="dark"?"dark":"light"},addListener(l){const h=a.query(),g=v=>{l(v.matches?"dark":"light")};return typeof h.addListener=="function"?h.addListener(g):h.addEventListener("change",g),()=>{typeof h.removeListener=="function"?h.removeListener(g):h.removeEventListener("change",g)}},preventTransition(){const l=document.createElement("style");return l.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),i!==void 0&&(l.nonce=i),document.head.appendChild(l),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(l)})})}}};return a}const vbe="chakra-ui-color-mode";function _be(e){return{ssr:!1,type:"localStorage",get(t){if(!(globalThis!=null&&globalThis.document))return t;let i;try{i=localStorage.getItem(e)||t}catch{}return i||t},set(t){try{localStorage.setItem(e,t)}catch{}}}}const ybe=_be(vbe),T5=()=>{},Sbe=The()?ye.useLayoutEffect:ye.useEffect;function C5(e,t){return e.type==="cookie"&&e.ssr?e.get(t):t}const sH=mD(function(t,i){const{value:a,children:l,options:{useSystemColorMode:h,initialColorMode:g,disableTransitionOnChange:v}={},colorModeManager:T=ybe}=t,C=g==="dark"?"dark":"light",[E,A]=ye.useState(()=>C5(T,C)),[D,M]=ye.useState(()=>C5(T)),{getSystemTheme:w,setClassName:O,setDataset:N,addListener:k}=ye.useMemo(()=>mbe({preventTransition:v,nonce:i==null?void 0:i.nonce}),[v,i==null?void 0:i.nonce]),R=g==="system"&&!E?D:E,W=ye.useCallback(ee=>{const X=ee==="system"?w():ee;A(X),O(X==="dark"),N(X),T.set(X)},[T,w,O,N]);Sbe(()=>{g==="system"&&M(w())},[]),ye.useEffect(()=>{const ee=T.get();if(ee){W(ee);return}if(g==="system"){W("system");return}W(C)},[T,C,g,W]);const K=ye.useCallback(()=>{W(R==="dark"?"light":"dark")},[R,W]);ye.useEffect(()=>{if(h)return k(W)},[h,k,W]);const de=ye.useMemo(()=>({colorMode:a??R,toggleColorMode:a?T5:K,setColorMode:a?T5:W,forced:a!==void 0}),[R,K,W,a]);return Ee.jsx(vD.Provider,{value:de,children:l})});sH.displayName="ColorModeProvider";const uH=String.raw,cH=uH`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,bbe=()=>Ee.jsx(Yb,{styles:cH}),Tbe=({scope:e=""})=>Ee.jsx(Yb,{styles:uH`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${e} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${e} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${e} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${e} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${e} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${e} :where(b, strong) {
        font-weight: bold;
      }

      ${e} small {
        font-size: 80%;
      }

      ${e} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${e} sub {
        bottom: -0.25em;
      }

      ${e} sup {
        top: -0.5em;
      }

      ${e} img {
        border-style: none;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${e} :where(button, input) {
        overflow: visible;
      }

      ${e} :where(button, select) {
        text-transform: none;
      }

      ${e} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${e} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${e} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${e} progress {
        vertical-align: baseline;
      }

      ${e} textarea {
        overflow: auto;
      }

      ${e} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${e} input[type="number"]::-webkit-inner-spin-button,
      ${e} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${e} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${e} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${e} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${e} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${e} details {
        display: block;
      }

      ${e} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${e} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${e} button {
        background: transparent;
        padding: 0;
      }

      ${e} fieldset {
        margin: 0;
        padding: 0;
      }

      ${e} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${e} textarea {
        resize: vertical;
      }

      ${e} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${e} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${e} table {
        border-collapse: collapse;
      }

      ${e} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${e} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${e} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${e} select::-ms-expand {
        display: none;
      }

      ${cH}
    `});function Cbe(e){const{cssVarsRoot:t,theme:i,children:a}=e,l=ye.useMemo(()=>qpe(i),[i]);return Ee.jsxs(hbe,{theme:l,children:[Ee.jsx(Ibe,{root:t}),a]})}function Ibe({root:e=":host, :root"}){const t=[e,"[data-theme]"].join(",");return Ee.jsx(Yb,{styles:i=>({[t]:i.__cssVars})})}cd({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function wbe(){const{colorMode:e}=_D();return Ee.jsx(Yb,{styles:t=>{const i=Sz(t,"styles.global"),a=Vs(i,{theme:t,colorMode:e});return a?Pz(a)(t):void 0}})}const[Ebe,xbe]=cd({strict:!1,name:"PortalManagerContext"});function lH(e){const{children:t,zIndex:i}=e;return Ee.jsx(Ebe,{value:{zIndex:i},children:t})}lH.displayName="PortalManager";const dH=ye.createContext({getDocument(){return document},getWindow(){return window}});dH.displayName="EnvironmentContext";function fH(e){const{children:t,environment:i,disabled:a}=e,l=ye.useRef(null),h=ye.useMemo(()=>i||{getDocument:()=>{var v;return((v=l.current)==null?void 0:v.ownerDocument)??document},getWindow:()=>{var v;return((v=l.current)==null?void 0:v.ownerDocument.defaultView)??window}},[i]),g=!a||!i;return Ee.jsxs(dH.Provider,{value:h,children:[t,g&&Ee.jsx("span",{id:"__chakra_env",hidden:!0,ref:l})]})}fH.displayName="EnvironmentProvider";const Abe=e=>{const{children:t,colorModeManager:i,portalZIndex:a,resetScope:l,resetCSS:h=!0,theme:g={},environment:v,cssVarsRoot:T,disableEnvironment:C,disableGlobalStyle:E}=e,A=Ee.jsx(fH,{environment:v,disabled:C,children:t});return Ee.jsx(Cbe,{theme:g,cssVarsRoot:T,children:Ee.jsxs(sH,{colorModeManager:i,options:g.config,children:[h?Ee.jsx(Tbe,{scope:l}):Ee.jsx(bbe,{}),!E&&Ee.jsx(wbe,{}),a?Ee.jsx(lH,{zIndex:a,children:A}):A]})})},yD=ye.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Qb=ye.createContext({});function Pbe(){return ye.useContext(Qb).visualElement}const Fh=ye.createContext(null),ld=typeof document<"u",HS=ld?ye.useLayoutEffect:ye.useEffect,hH=ye.createContext({strict:!1});function kbe(e,t,i,a){const l=Pbe(),h=ye.useContext(hH),g=ye.useContext(Fh),v=ye.useContext(yD).reducedMotion,T=ye.useRef(void 0);a=a||h.renderer,!T.current&&a&&(T.current=a(e,{visualState:t,parent:l,props:i,presenceId:g?g.id:void 0,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:v}));const C=T.current;return HS(()=>{C&&C.syncRender()}),ye.useEffect(()=>{C&&C.animationState&&C.animationState.animateChanges()}),HS(()=>()=>C&&C.notifyUnmount(),[]),C}function Xf(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Dbe(e,t,i){return ye.useCallback(a=>{a&&e.mount&&e.mount(a),t&&(a?t.mount(a):t.unmount()),i&&(typeof i=="function"?i(a):Xf(i)&&(i.current=a))},[t])}function ev(e){return typeof e=="string"||Array.isArray(e)}function Xb(e){return typeof e=="object"&&typeof e.start=="function"}const Rbe=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function Jb(e){return Xb(e.animate)||Rbe.some(t=>ev(e[t]))}function pH(e){return!!(Jb(e)||e.variants)}function Fbe(e,t){if(Jb(e)){const{initial:i,animate:a}=e;return{initial:i===!1||ev(i)?i:void 0,animate:ev(a)?a:void 0}}return e.inherit!==!1?t:{}}function Obe(e){const{initial:t,animate:i}=Fbe(e,ye.useContext(Qb));return ye.useMemo(()=>({initial:t,animate:i}),[I5(t),I5(i)])}function I5(e){return Array.isArray(e)?e.join(" "):e}const vu=e=>({isEnabled:t=>e.some(i=>!!t[i])}),tv={measureLayout:vu(["layout","layoutId","drag"]),animation:vu(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:vu(["exit"]),drag:vu(["drag","dragControls"]),focus:vu(["whileFocus"]),hover:vu(["whileHover","onHoverStart","onHoverEnd"]),tap:vu(["whileTap","onTap","onTapStart","onTapCancel"]),pan:vu(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:vu(["whileInView","onViewportEnter","onViewportLeave"])};function Nbe(e){for(const t in e)t==="projectionNodeConstructor"?tv.projectionNodeConstructor=e[t]:tv[t].Component=e[t]}function qb(e){const t=ye.useRef(null);return t.current===null&&(t.current=e()),t.current}const _m={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Mbe=1;function Lbe(){return qb(()=>{if(_m.hasEverUpdated)return Mbe++})}const SD=ye.createContext({});class Wbe extends yi.Component{getSnapshotBeforeUpdate(){const{visualElement:t,props:i}=this.props;return t&&t.setProps(i),null}componentDidUpdate(){}render(){return this.props.children}}const gH=ye.createContext({});function Bbe({preloadedFeatures:e,createVisualElement:t,projectionNodeConstructor:i,useRender:a,useVisualState:l,Component:h}){e&&Nbe(e);function g(v,T){const C={...ye.useContext(yD),...v,layoutId:Ube(v)},{isStatic:E}=C;let A=null;const D=Obe(v),M=E?void 0:Lbe(),w=l(v,E);if(!E&&ld){D.visualElement=kbe(h,w,C,t);const O=ye.useContext(hH).strict,N=ye.useContext(gH);D.visualElement&&(A=D.visualElement.loadFeatures(v,O,e,M,i||tv.projectionNodeConstructor,N))}return ye.createElement(Wbe,{visualElement:D.visualElement,props:C},A,ye.createElement(Qb.Provider,{value:D},a(h,v,M,Dbe(w,D.visualElement,T),w,E,D.visualElement)))}return ye.forwardRef(g)}function Ube({layoutId:e}){const t=ye.useContext(SD).id;return t&&e!==void 0?t+"-"+e:e}function Vbe(e){function t(a,l={}){return Bbe(e(a,l))}if(typeof Proxy>"u")return t;const i=new Map;return new Proxy(t,{get:(a,l)=>(i.has(l)||i.set(l,t(l)),i.get(l))})}const jbe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function bD(e){return typeof e!="string"||e.includes("-")?!1:!!(jbe.indexOf(e)>-1||/[A-Z]/.test(e))}const $S={};function Gbe(e){Object.assign($S,e)}const KS=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","skew","skewX","skewY"],_v=new Set(KS);function mH(e,{layout:t,layoutId:i}){return _v.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!$S[e]||e==="opacity")}const Qs=e=>e===void 0?!1:!!e.getVelocity,zbe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hbe=(e,t)=>KS.indexOf(e)-KS.indexOf(t);function $be({transform:e,transformKeys:t},{enableHardwareAcceleration:i=!0,allowTransformNone:a=!0},l,h){let g="";t.sort(Hbe);for(const v of t)g+=`${zbe[v]||v}(${e[v]}) `;return i&&!e.z&&(g+="translateZ(0)"),g=g.trim(),h?g=h(e,l?"":g):a&&l&&(g="none"),g}function vH(e){return e.startsWith("--")}const Kbe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,_H=(e,t)=>i=>Math.max(Math.min(i,t),e),ym=e=>e%1?Number(e.toFixed(5)):e,rv=/(-)?([\d]*\.?[\d])+/g,fP=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ybe=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function yv(e){return typeof e=="string"}const dd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Sm=Object.assign(Object.assign({},dd),{transform:_H(0,1)}),by=Object.assign(Object.assign({},dd),{default:1}),Sv=e=>({test:t=>yv(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ec=Sv("deg"),Ys=Sv("%"),Lt=Sv("px"),Qbe=Sv("vh"),Xbe=Sv("vw"),w5=Object.assign(Object.assign({},Ys),{parse:e=>Ys.parse(e)/100,transform:e=>Ys.transform(e*100)}),TD=(e,t)=>i=>!!(yv(i)&&Ybe.test(i)&&i.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(i,t)),yH=(e,t,i)=>a=>{if(!yv(a))return a;const[l,h,g,v]=a.match(rv);return{[e]:parseFloat(l),[t]:parseFloat(h),[i]:parseFloat(g),alpha:v!==void 0?parseFloat(v):1}},Kl={test:TD("hsl","hue"),parse:yH("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:a=1})=>"hsla("+Math.round(e)+", "+Ys.transform(ym(t))+", "+Ys.transform(ym(i))+", "+ym(Sm.transform(a))+")"},Jbe=_H(0,255),Ux=Object.assign(Object.assign({},dd),{transform:e=>Math.round(Jbe(e))}),Wc={test:TD("rgb","red"),parse:yH("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:a=1})=>"rgba("+Ux.transform(e)+", "+Ux.transform(t)+", "+Ux.transform(i)+", "+ym(Sm.transform(a))+")"};function qbe(e){let t="",i="",a="",l="";return e.length>5?(t=e.substr(1,2),i=e.substr(3,2),a=e.substr(5,2),l=e.substr(7,2)):(t=e.substr(1,1),i=e.substr(2,1),a=e.substr(3,1),l=e.substr(4,1),t+=t,i+=i,a+=a,l+=l),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(a,16),alpha:l?parseInt(l,16)/255:1}}const hP={test:TD("#"),parse:qbe,transform:Wc.transform},Qi={test:e=>Wc.test(e)||hP.test(e)||Kl.test(e),parse:e=>Wc.test(e)?Wc.parse(e):Kl.test(e)?Kl.parse(e):hP.parse(e),transform:e=>yv(e)?e:e.hasOwnProperty("red")?Wc.transform(e):Kl.transform(e)},SH="${c}",bH="${n}";function Zbe(e){var t,i,a,l;return isNaN(e)&&yv(e)&&((i=(t=e.match(rv))===null||t===void 0?void 0:t.length)!==null&&i!==void 0?i:0)+((l=(a=e.match(fP))===null||a===void 0?void 0:a.length)!==null&&l!==void 0?l:0)>0}function TH(e){typeof e=="number"&&(e=`${e}`);const t=[];let i=0;const a=e.match(fP);a&&(i=a.length,e=e.replace(fP,SH),t.push(...a.map(Qi.parse)));const l=e.match(rv);return l&&(e=e.replace(rv,bH),t.push(...l.map(dd.parse))),{values:t,numColors:i,tokenised:e}}function CH(e){return TH(e).values}function IH(e){const{values:t,numColors:i,tokenised:a}=TH(e),l=t.length;return h=>{let g=a;for(let v=0;v<l;v++)g=g.replace(v<i?SH:bH,v<i?Qi.transform(h[v]):ym(h[v]));return g}}const e1e=e=>typeof e=="number"?0:e;function t1e(e){const t=CH(e);return IH(e)(t.map(e1e))}const Mu={test:Zbe,parse:CH,createTransformer:IH,getAnimatableNone:t1e},r1e=new Set(["brightness","contrast","saturate","opacity"]);function n1e(e){let[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=i.match(rv)||[];if(!a)return e;const l=i.replace(a,"");let h=r1e.has(t)?1:0;return a!==i&&(h*=100),t+"("+h+l+")"}const i1e=/([a-z-]*)\(.*?\)/g,pP=Object.assign(Object.assign({},Mu),{getAnimatableNone:e=>{const t=e.match(i1e);return t?t.map(n1e).join(" "):e}}),E5={...dd,transform:Math.round},wH={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,radius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,size:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,rotate:Ec,rotateX:Ec,rotateY:Ec,rotateZ:Ec,scale:by,scaleX:by,scaleY:by,scaleZ:by,skew:Ec,skewX:Ec,skewY:Ec,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:Sm,originX:w5,originY:w5,originZ:Lt,zIndex:E5,fillOpacity:Sm,strokeOpacity:Sm,numOctaves:E5};function CD(e,t,i,a){const{style:l,vars:h,transform:g,transformKeys:v,transformOrigin:T}=e;v.length=0;let C=!1,E=!1,A=!0;for(const D in t){const M=t[D];if(vH(D)){h[D]=M;continue}const w=wH[D],O=Kbe(M,w);if(_v.has(D)){if(C=!0,g[D]=O,v.push(D),!A)continue;M!==(w.default||0)&&(A=!1)}else D.startsWith("origin")?(E=!0,T[D]=O):l[D]=O}if(C||a?l.transform=$be(e,i,A,a):!t.transform&&l.transform&&(l.transform="none"),E){const{originX:D="50%",originY:M="50%",originZ:w=0}=T;l.transformOrigin=`${D} ${M} ${w}`}}const ID=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function EH(e,t,i){for(const a in t)!Qs(t[a])&&!mH(a,i)&&(e[a]=t[a])}function o1e({transformTemplate:e},t,i){return ye.useMemo(()=>{const a=ID();return CD(a,t,{enableHardwareAcceleration:!i},e),Object.assign({},a.vars,a.style)},[t])}function a1e(e,t,i){const a=e.style||{},l={};return EH(l,a,e),Object.assign(l,o1e(e,t,i)),e.transformValues?e.transformValues(l):l}function s1e(e,t,i){const a={},l=a1e(e,t,i);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),a.style=l,a}const u1e=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],c1e=["whileTap","onTap","onTapStart","onTapCancel"],l1e=["onPan","onPanStart","onPanSessionStart","onPanEnd"],d1e=["whileInView","onViewportEnter","onViewportLeave","viewport"],f1e=new Set(["initial","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...d1e,...c1e,...u1e,...l1e]);function YS(e){return f1e.has(e)}let xH=e=>!YS(e);function h1e(e){e&&(xH=t=>t.startsWith("on")?!YS(t):e(t))}try{h1e(require("@emotion/is-prop-valid").default)}catch{}function p1e(e,t,i){const a={};for(const l in e)(xH(l)||i===!0&&YS(l)||!t&&!YS(l)||e.draggable&&l.startsWith("onDrag"))&&(a[l]=e[l]);return a}function x5(e,t,i){return typeof e=="string"?e:Lt.transform(t+i*e)}function g1e(e,t,i){const a=x5(t,e.x,e.width),l=x5(i,e.y,e.height);return`${a} ${l}`}const m1e={offset:"stroke-dashoffset",array:"stroke-dasharray"},v1e={offset:"strokeDashoffset",array:"strokeDasharray"};function _1e(e,t,i=1,a=0,l=!0){e.pathLength=1;const h=l?m1e:v1e;e[h.offset]=Lt.transform(-a);const g=Lt.transform(t),v=Lt.transform(i);e[h.array]=`${g} ${v}`}function wD(e,{attrX:t,attrY:i,originX:a,originY:l,pathLength:h,pathSpacing:g=1,pathOffset:v=0,...T},C,E){CD(e,T,C,E),e.attrs=e.style,e.style={};const{attrs:A,style:D,dimensions:M}=e;A.transform&&(M&&(D.transform=A.transform),delete A.transform),M&&(a!==void 0||l!==void 0||D.transform)&&(D.transformOrigin=g1e(M,a!==void 0?a:.5,l!==void 0?l:.5)),t!==void 0&&(A.x=t),i!==void 0&&(A.y=i),h!==void 0&&_1e(A,h,g,v,!1)}const AH=()=>({...ID(),attrs:{}});function y1e(e,t){const i=ye.useMemo(()=>{const a=AH();return wD(a,t,{enableHardwareAcceleration:!1},e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};EH(a,e.style,e),i.style={...a,...i.style}}return i}function S1e(e=!1){return(i,a,l,h,{latestValues:g},v)=>{const C=(bD(i)?y1e:s1e)(a,g,v),A={...p1e(a,typeof i=="string",e),...C,ref:h};return l&&(A["data-projection-id"]=l),ye.createElement(i,A)}}const PH=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function kH(e,{style:t,vars:i},a,l){Object.assign(e.style,t,l&&l.getProjectionStyles(a));for(const h in i)e.style.setProperty(h,i[h])}const DH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function RH(e,t,i,a){kH(e,t,void 0,a);for(const l in t.attrs)e.setAttribute(DH.has(l)?l:PH(l),t.attrs[l])}function ED(e){const{style:t}=e,i={};for(const a in t)(Qs(t[a])||mH(a,e))&&(i[a]=t[a]);return i}function FH(e){const t=ED(e);for(const i in e)if(Qs(e[i])){const a=i==="x"||i==="y"?"attr"+i.toUpperCase():i;t[a]=e[i]}return t}function OH(e,t,i,a={},l={}){return typeof t=="function"&&(t=t(i!==void 0?i:e.custom,a,l)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(i!==void 0?i:e.custom,a,l)),t}const nv=e=>Array.isArray(e),b1e=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),NH=e=>nv(e)?e[e.length-1]||0:e;function rS(e){const t=Qs(e)?e.get():e;return b1e(t)?t.toValue():t}function T1e({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:i},a,l,h){const g={latestValues:C1e(a,l,h,e),renderState:t()};return i&&(g.mount=v=>i(a,v,g)),g}const MH=e=>(t,i)=>{const a=ye.useContext(Qb),l=ye.useContext(Fh),h=()=>T1e(e,t,a,l);return i?h():qb(h)};function C1e(e,t,i,a){const l={},h=a(e);for(const D in h)l[D]=rS(h[D]);let{initial:g,animate:v}=e;const T=Jb(e),C=pH(e);t&&C&&!T&&e.inherit!==!1&&(g===void 0&&(g=t.initial),v===void 0&&(v=t.animate));let E=i?i.initial===!1:!1;E=E||g===!1;const A=E?v:g;return A&&typeof A!="boolean"&&!Xb(A)&&(Array.isArray(A)?A:[A]).forEach(M=>{const w=OH(e,M);if(!w)return;const{transitionEnd:O,transition:N,...k}=w;for(const R in k){let W=k[R];if(Array.isArray(W)){const K=E?W.length-1:0;W=W[K]}W!==null&&(l[R]=W)}for(const R in O)l[R]=O[R]}),l}const I1e={useVisualState:MH({scrapeMotionValuesFromProps:FH,createRenderState:AH,onMount:(e,t,{renderState:i,latestValues:a})=>{try{i.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}wD(i,a,{enableHardwareAcceleration:!1},e.transformTemplate),RH(t,i)}})},w1e={useVisualState:MH({scrapeMotionValuesFromProps:ED,createRenderState:ID})};function E1e(e,{forwardMotionProps:t=!1},i,a,l){return{...bD(e)?I1e:w1e,preloadedFeatures:i,useRender:S1e(t),createVisualElement:a,projectionNodeConstructor:l,Component:e}}var Vr;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(Vr||(Vr={}));function Zb(e,t,i,a={passive:!0}){return e.addEventListener(t,i,a),()=>e.removeEventListener(t,i)}function gP(e,t,i,a){ye.useEffect(()=>{const l=e.current;if(i&&l)return Zb(l,t,i,a)},[e,t,i,a])}function x1e({whileFocus:e,visualElement:t}){const{animationState:i}=t,a=()=>{i&&i.setActive(Vr.Focus,!0)},l=()=>{i&&i.setActive(Vr.Focus,!1)};gP(t,"focus",e?a:void 0),gP(t,"blur",e?l:void 0)}function LH(e){return typeof PointerEvent<"u"&&e instanceof PointerEvent?e.pointerType==="mouse":e instanceof MouseEvent}function WH(e){return!!e.touches}function A1e(e){return t=>{const i=t instanceof MouseEvent;(!i||i&&t.button===0)&&e(t)}}const P1e={pageX:0,pageY:0};function k1e(e,t="page"){const a=e.touches[0]||e.changedTouches[0]||P1e;return{x:a[t+"X"],y:a[t+"Y"]}}function D1e(e,t="page"){return{x:e[t+"X"],y:e[t+"Y"]}}function xD(e,t="page"){return{point:WH(e)?k1e(e,t):D1e(e,t)}}const BH=(e,t=!1)=>{const i=a=>e(a,xD(a));return t?A1e(i):i},R1e=()=>ld&&window.onpointerdown===null,F1e=()=>ld&&window.ontouchstart===null,O1e=()=>ld&&window.onmousedown===null,N1e={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},M1e={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function UH(e){return R1e()?e:F1e()?M1e[e]:O1e()?N1e[e]:e}function dh(e,t,i,a){return Zb(e,UH(t),BH(i,t==="pointerdown"),a)}function QS(e,t,i,a){return gP(e,UH(t),i&&BH(i,t==="pointerdown"),a)}function VH(e){let t=null;return()=>{const i=()=>{t=null};return t===null?(t=e,i):!1}}const A5=VH("dragHorizontal"),P5=VH("dragVertical");function jH(e){let t=!1;if(e==="y")t=P5();else if(e==="x")t=A5();else{const i=A5(),a=P5();i&&a?t=()=>{i(),a()}:(i&&i(),a&&a())}return t}function GH(){const e=jH(!0);return e?(e(),!1):!0}function k5(e,t,i){return(a,l)=>{!LH(a)||GH()||(e.animationState&&e.animationState.setActive(Vr.Hover,t),i&&i(a,l))}}function L1e({onHoverStart:e,onHoverEnd:t,whileHover:i,visualElement:a}){QS(a,"pointerenter",e||i?k5(a,!0,e):void 0,{passive:!e}),QS(a,"pointerleave",t||i?k5(a,!1,t):void 0,{passive:!t})}const zH=(e,t)=>t?e===t?!0:zH(e,t.parentElement):!1;function AD(e){return ye.useEffect(()=>()=>e(),[])}function HH(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i}var W1e=function(){},XS=function(){};const JS=(e,t,i)=>Math.min(Math.max(i,e),t),Vx=.001,B1e=.01,D5=10,U1e=.05,V1e=1;function j1e({duration:e=800,bounce:t=.25,velocity:i=0,mass:a=1}){let l,h;W1e(e<=D5*1e3);let g=1-t;g=JS(U1e,V1e,g),e=JS(B1e,D5,e/1e3),g<1?(l=C=>{const E=C*g,A=E*e,D=E-i,M=mP(C,g),w=Math.exp(-A);return Vx-D/M*w},h=C=>{const A=C*g*e,D=A*i+i,M=Math.pow(g,2)*Math.pow(C,2)*e,w=Math.exp(-A),O=mP(Math.pow(C,2),g);return(-l(C)+Vx>0?-1:1)*((D-M)*w)/O}):(l=C=>{const E=Math.exp(-C*e),A=(C-i)*e+1;return-Vx+E*A},h=C=>{const E=Math.exp(-C*e),A=(i-C)*(e*e);return E*A});const v=5/e,T=z1e(l,h,v);if(e=e*1e3,isNaN(T))return{stiffness:100,damping:10,duration:e};{const C=Math.pow(T,2)*a;return{stiffness:C,damping:g*2*Math.sqrt(a*C),duration:e}}}const G1e=12;function z1e(e,t,i){let a=i;for(let l=1;l<G1e;l++)a=a-e(a)/t(a);return a}function mP(e,t){return e*Math.sqrt(1-t*t)}const H1e=["duration","bounce"],$1e=["stiffness","damping","mass"];function R5(e,t){return t.some(i=>e[i]!==void 0)}function K1e(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!R5(e,$1e)&&R5(e,H1e)){const i=j1e(e);t=Object.assign(Object.assign(Object.assign({},t),i),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function PD(e){var{from:t=0,to:i=1,restSpeed:a=2,restDelta:l}=e,h=HH(e,["from","to","restSpeed","restDelta"]);const g={done:!1,value:t};let{stiffness:v,damping:T,mass:C,velocity:E,duration:A,isResolvedFromDuration:D}=K1e(h),M=F5,w=F5;function O(){const N=E?-(E/1e3):0,k=i-t,R=T/(2*Math.sqrt(v*C)),W=Math.sqrt(v/C)/1e3;if(l===void 0&&(l=Math.min(Math.abs(i-t)/100,.4)),R<1){const K=mP(W,R);M=de=>{const ee=Math.exp(-R*W*de);return i-ee*((N+R*W*k)/K*Math.sin(K*de)+k*Math.cos(K*de))},w=de=>{const ee=Math.exp(-R*W*de);return R*W*ee*(Math.sin(K*de)*(N+R*W*k)/K+k*Math.cos(K*de))-ee*(Math.cos(K*de)*(N+R*W*k)-K*k*Math.sin(K*de))}}else if(R===1)M=K=>i-Math.exp(-W*K)*(k+(N+W*k)*K);else{const K=W*Math.sqrt(R*R-1);M=de=>{const ee=Math.exp(-R*W*de),X=Math.min(K*de,300);return i-ee*((N+R*W*k)*Math.sinh(X)+K*k*Math.cosh(X))/K}}}return O(),{next:N=>{const k=M(N);if(D)g.done=N>=A;else{const R=w(N)*1e3,W=Math.abs(R)<=a,K=Math.abs(i-k)<=l;g.done=W&&K}return g.value=g.done?i:k,g},flipTarget:()=>{E=-E,[t,i]=[i,t],O()}}}PD.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const F5=e=>0,iv=(e,t,i)=>{const a=t-e;return a===0?1:(i-e)/a},In=(e,t,i)=>-i*e+i*t+e;function jx(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function O5({hue:e,saturation:t,lightness:i,alpha:a}){e/=360,t/=100,i/=100;let l=0,h=0,g=0;if(!t)l=h=g=i;else{const v=i<.5?i*(1+t):i+t-i*t,T=2*i-v;l=jx(T,v,e+1/3),h=jx(T,v,e),g=jx(T,v,e-1/3)}return{red:Math.round(l*255),green:Math.round(h*255),blue:Math.round(g*255),alpha:a}}const Y1e=(e,t,i)=>{const a=e*e,l=t*t;return Math.sqrt(Math.max(0,i*(l-a)+a))},Q1e=[hP,Wc,Kl],N5=e=>Q1e.find(t=>t.test(e)),$H=(e,t)=>{let i=N5(e),a=N5(t),l=i.parse(e),h=a.parse(t);i===Kl&&(l=O5(l),i=Wc),a===Kl&&(h=O5(h),a=Wc);const g=Object.assign({},l);return v=>{for(const T in g)T!=="alpha"&&(g[T]=Y1e(l[T],h[T],v));return g.alpha=In(l.alpha,h.alpha,v),i.transform(g)}},vP=e=>typeof e=="number",X1e=(e,t)=>i=>t(e(i)),e1=(...e)=>e.reduce(X1e);function KH(e,t){return vP(e)?i=>In(e,t,i):Qi.test(e)?$H(e,t):QH(e,t)}const YH=(e,t)=>{const i=[...e],a=i.length,l=e.map((h,g)=>KH(h,t[g]));return h=>{for(let g=0;g<a;g++)i[g]=l[g](h);return i}},J1e=(e,t)=>{const i=Object.assign(Object.assign({},e),t),a={};for(const l in i)e[l]!==void 0&&t[l]!==void 0&&(a[l]=KH(e[l],t[l]));return l=>{for(const h in a)i[h]=a[h](l);return i}};function M5(e){const t=Mu.parse(e),i=t.length;let a=0,l=0,h=0;for(let g=0;g<i;g++)a||typeof t[g]=="number"?a++:t[g].hue!==void 0?h++:l++;return{parsed:t,numNumbers:a,numRGB:l,numHSL:h}}const QH=(e,t)=>{const i=Mu.createTransformer(t),a=M5(e),l=M5(t);return a.numHSL===l.numHSL&&a.numRGB===l.numRGB&&a.numNumbers>=l.numNumbers?e1(YH(a.parsed,l.parsed),i):g=>`${g>0?t:e}`},q1e=(e,t)=>i=>In(e,t,i);function Z1e(e){if(typeof e=="number")return q1e;if(typeof e=="string")return Qi.test(e)?$H:QH;if(Array.isArray(e))return YH;if(typeof e=="object")return J1e}function eTe(e,t,i){const a=[],l=i||Z1e(e[0]),h=e.length-1;for(let g=0;g<h;g++){let v=l(e[g],e[g+1]);if(t){const T=Array.isArray(t)?t[g]:t;v=e1(T,v)}a.push(v)}return a}function tTe([e,t],[i]){return a=>i(iv(e,t,a))}function rTe(e,t){const i=e.length,a=i-1;return l=>{let h=0,g=!1;if(l<=e[0]?g=!0:l>=e[a]&&(h=a-1,g=!0),!g){let T=1;for(;T<i&&!(e[T]>l||T===a);T++);h=T-1}const v=iv(e[h],e[h+1],l);return t[h](v)}}function XH(e,t,{clamp:i=!0,ease:a,mixer:l}={}){const h=e.length;XS(h===t.length),XS(!a||!Array.isArray(a)||a.length===h-1),e[0]>e[h-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const g=eTe(t,a,l),v=h===2?tTe(e,g):rTe(e,g);return i?T=>v(JS(e[0],e[h-1],T)):v}const t1=e=>t=>1-e(1-t),kD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nTe=e=>t=>Math.pow(t,e),JH=e=>t=>t*t*((e+1)*t-e),iTe=e=>{const t=JH(e);return i=>(i*=2)<1?.5*t(i):.5*(2-Math.pow(2,-10*(i-1)))},qH=1.525,oTe=4/11,aTe=8/11,sTe=9/10,DD=e=>e,RD=nTe(2),uTe=t1(RD),ZH=kD(RD),e8=e=>1-Math.sin(Math.acos(e)),FD=t1(e8),cTe=kD(FD),OD=JH(qH),lTe=t1(OD),dTe=kD(OD),fTe=iTe(qH),hTe=4356/361,pTe=35442/1805,gTe=16061/1805,qS=e=>{if(e===1||e===0)return e;const t=e*e;return e<oTe?7.5625*t:e<aTe?9.075*t-9.9*e+3.4:e<sTe?hTe*t-pTe*e+gTe:10.8*e*e-20.52*e+10.72},mTe=t1(qS),vTe=e=>e<.5?.5*(1-qS(1-e*2)):.5*qS(e*2-1)+.5;function _Te(e,t){return e.map(()=>t||ZH).splice(0,e.length-1)}function yTe(e){const t=e.length;return e.map((i,a)=>a!==0?a/(t-1):0)}function STe(e,t){return e.map(i=>i*t)}function nS({from:e=0,to:t=1,ease:i,offset:a,duration:l=300}){const h={done:!1,value:e},g=Array.isArray(t)?t:[e,t],v=STe(a&&a.length===g.length?a:yTe(g),l);function T(){return XH(v,g,{ease:Array.isArray(i)?i:_Te(g,i)})}let C=T();return{next:E=>(h.value=C(E),h.done=E>=l,h),flipTarget:()=>{g.reverse(),C=T()}}}function bTe({velocity:e=0,from:t=0,power:i=.8,timeConstant:a=350,restDelta:l=.5,modifyTarget:h}){const g={done:!1,value:t};let v=i*e;const T=t+v,C=h===void 0?T:h(T);return C!==T&&(v=C-t),{next:E=>{const A=-v*Math.exp(-E/a);return g.done=!(A>l||A<-l),g.value=g.done?C:C+A,g},flipTarget:()=>{}}}const L5={keyframes:nS,spring:PD,decay:bTe};function TTe(e){if(Array.isArray(e.to))return nS;if(L5[e.type])return L5[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?nS:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?PD:nS}function t8(e,t,i=0){return e-t-i}function CTe(e,t,i=0,a=!0){return a?t8(t+-e,t,i):t-(e-t)+i}function ITe(e,t,i,a){return a?e>=t+i:e<=-i}const wTe=e=>{const t=({delta:i})=>e(i);return{start:()=>os.update(t,!0),stop:()=>yh.update(t)}};function r8(e){var t,i,{from:a,autoplay:l=!0,driver:h=wTe,elapsed:g=0,repeat:v=0,repeatType:T="loop",repeatDelay:C=0,onPlay:E,onStop:A,onComplete:D,onRepeat:M,onUpdate:w}=e,O=HH(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:N}=O,k,R=0,W=O.duration,K,de=!1,ee=!0,X;const ce=TTe(O);!((i=(t=ce).needsInterpolation)===null||i===void 0)&&i.call(t,a,N)&&(X=XH([0,100],[a,N],{clamp:!1}),a=0,N=100);const he=ce(Object.assign(Object.assign({},O),{from:a,to:N}));function le(){R++,T==="reverse"?(ee=R%2===0,g=CTe(g,W,C,ee)):(g=t8(g,W,C),T==="mirror"&&he.flipTarget()),de=!1,M&&M()}function fe(){k.stop(),D&&D()}function _e(De){if(ee||(De=-De),g+=De,!de){const Ne=he.next(Math.max(0,g));K=Ne.value,X&&(K=X(K)),de=ee?Ne.done:g<=0}w==null||w(K),de&&(R===0&&(W??(W=g)),R<v?ITe(g,W,C,ee)&&le():fe())}function xe(){E==null||E(),k=h(_e),k.start()}return l&&xe(),{stop:()=>{A==null||A(),k.stop()}}}function n8(e,t){return t?e*(1e3/t):0}function ETe({from:e=0,velocity:t=0,min:i,max:a,power:l=.8,timeConstant:h=750,bounceStiffness:g=500,bounceDamping:v=10,restDelta:T=1,modifyTarget:C,driver:E,onUpdate:A,onComplete:D,onStop:M}){let w;function O(W){return i!==void 0&&W<i||a!==void 0&&W>a}function N(W){return i===void 0?a:a===void 0||Math.abs(i-W)<Math.abs(a-W)?i:a}function k(W){w==null||w.stop(),w=r8(Object.assign(Object.assign({},W),{driver:E,onUpdate:K=>{var de;A==null||A(K),(de=W.onUpdate)===null||de===void 0||de.call(W,K)},onComplete:D,onStop:M}))}function R(W){k(Object.assign({type:"spring",stiffness:g,damping:v,restDelta:T},W))}if(O(e))R({from:e,velocity:t,to:N(e)});else{let W=l*t+e;typeof C<"u"&&(W=C(W));const K=N(W),de=K===i?-1:1;let ee,X;const ce=he=>{ee=X,X=he,t=n8(he-ee,BS().delta),(de===1&&he>K||de===-1&&he<K)&&R({from:he,to:K,velocity:t})};k({type:"decay",from:e,velocity:t,timeConstant:h,power:l,restDelta:T,modifyTarget:C,onUpdate:O(W)?ce:void 0})}return{stop:()=>w==null?void 0:w.stop()}}const _P=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),W5=e=>_P(e)&&e.hasOwnProperty("z"),Ty=(e,t)=>Math.abs(e-t);function ND(e,t){if(vP(e)&&vP(t))return Ty(e,t);if(_P(e)&&_P(t)){const i=Ty(e.x,t.x),a=Ty(e.y,t.y),l=W5(e)&&W5(t)?Ty(e.z,t.z):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2)+Math.pow(l,2))}}const i8=(e,t)=>1-3*t+3*e,o8=(e,t)=>3*t-6*e,a8=e=>3*e,ZS=(e,t,i)=>((i8(t,i)*e+o8(t,i))*e+a8(t))*e,s8=(e,t,i)=>3*i8(t,i)*e*e+2*o8(t,i)*e+a8(t),xTe=1e-7,ATe=10;function PTe(e,t,i,a,l){let h,g,v=0;do g=t+(i-t)/2,h=ZS(g,a,l)-e,h>0?i=g:t=g;while(Math.abs(h)>xTe&&++v<ATe);return g}const kTe=8,DTe=.001;function RTe(e,t,i,a){for(let l=0;l<kTe;++l){const h=s8(t,i,a);if(h===0)return t;const g=ZS(t,i,a)-e;t-=g/h}return t}const iS=11,Cy=1/(iS-1);function FTe(e,t,i,a){if(e===t&&i===a)return DD;const l=new Float32Array(iS);for(let g=0;g<iS;++g)l[g]=ZS(g*Cy,e,i);function h(g){let v=0,T=1;const C=iS-1;for(;T!==C&&l[T]<=g;++T)v+=Cy;--T;const E=(g-l[T])/(l[T+1]-l[T]),A=v+E*Cy,D=s8(A,e,i);return D>=DTe?RTe(g,A,e,i):D===0?A:PTe(g,v,v+Cy,e,i)}return g=>g===0||g===1?g:ZS(h(g),t,a)}function OTe({onTap:e,onTapStart:t,onTapCancel:i,whileTap:a,visualElement:l}){const h=e||t||i||a,g=ye.useRef(!1),v=ye.useRef(null),T={passive:!(t||e||i||M)};function C(){v.current&&v.current(),v.current=null}function E(){return C(),g.current=!1,l.animationState&&l.animationState.setActive(Vr.Tap,!1),!GH()}function A(w,O){E()&&(zH(l.getInstance(),w.target)?e&&e(w,O):i&&i(w,O))}function D(w,O){E()&&i&&i(w,O)}function M(w,O){C(),!g.current&&(g.current=!0,v.current=e1(dh(window,"pointerup",A,T),dh(window,"pointercancel",D,T)),l.animationState&&l.animationState.setActive(Vr.Tap,!0),t&&t(w,O))}QS(l,"pointerdown",h?M:void 0,T),AD(C)}const NTe="production",u8=typeof process>"u"||process.env===void 0?NTe:"production",B5=new Set;function c8(e,t,i){e||B5.has(t)||(console.warn(t),i&&console.warn(i),B5.add(t))}const yP=new WeakMap,Gx=new WeakMap,MTe=e=>{const t=yP.get(e.target);t&&t(e)},LTe=e=>{e.forEach(MTe)};function WTe({root:e,...t}){const i=e||document;Gx.has(i)||Gx.set(i,{});const a=Gx.get(i),l=JSON.stringify(t);return a[l]||(a[l]=new IntersectionObserver(LTe,{root:e,...t})),a[l]}function BTe(e,t,i){const a=WTe(t);return yP.set(e,i),a.observe(e),()=>{yP.delete(e),a.unobserve(e)}}function UTe({visualElement:e,whileInView:t,onViewportEnter:i,onViewportLeave:a,viewport:l={}}){const h=ye.useRef({hasEnteredView:!1,isInView:!1});let g=!!(t||i||a);l.once&&h.current.hasEnteredView&&(g=!1),(typeof IntersectionObserver>"u"?GTe:jTe)(g,h.current,e,l)}const VTe={some:0,all:1};function jTe(e,t,i,{root:a,margin:l,amount:h="some",once:g}){ye.useEffect(()=>{if(!e)return;const v={root:a==null?void 0:a.current,rootMargin:l,threshold:typeof h=="number"?h:VTe[h]},T=C=>{const{isIntersecting:E}=C;if(t.isInView===E||(t.isInView=E,g&&!E&&t.hasEnteredView))return;E&&(t.hasEnteredView=!0),i.animationState&&i.animationState.setActive(Vr.InView,E);const A=i.getProps(),D=E?A.onViewportEnter:A.onViewportLeave;D&&D(C)};return BTe(i.getInstance(),v,T)},[e,a,l,h])}function GTe(e,t,i,{fallback:a=!0}){ye.useEffect(()=>{!e||!a||(u8!=="production"&&c8(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{t.hasEnteredView=!0;const{onViewportEnter:l}=i.getProps();l&&l(null),i.animationState&&i.animationState.setActive(Vr.InView,!0)}))},[e])}const Bc=e=>t=>(e(t),null),zTe={inView:Bc(UTe),tap:Bc(OTe),focus:Bc(x1e),hover:Bc(L1e)};function l8(){const e=ye.useContext(Fh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:a}=e,l=ye.useId();return ye.useEffect(()=>a(l),[]),!t&&i?[!1,()=>i&&i(l)]:[!0]}function HTe(){return $Te(ye.useContext(Fh))}function $Te(e){return e===null?!0:e.isPresent}function d8(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let a=0;a<i;a++)if(t[a]!==e[a])return!1;return!0}const eb=e=>e*1e3,KTe={linear:DD,easeIn:RD,easeInOut:ZH,easeOut:uTe,circIn:e8,circInOut:cTe,circOut:FD,backIn:OD,backInOut:dTe,backOut:lTe,anticipate:fTe,bounceIn:mTe,bounceInOut:vTe,bounceOut:qS},U5=e=>{if(Array.isArray(e)){XS(e.length===4);const[t,i,a,l]=e;return FTe(t,i,a,l)}else if(typeof e=="string")return KTe[e];return e},YTe=e=>Array.isArray(e)&&typeof e[0]!="number",V5=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Mu.test(t)&&!t.startsWith("url(")),Ml=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),Iy=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),zx=()=>({type:"keyframes",ease:"linear",duration:.3}),QTe=e=>({type:"keyframes",duration:.8,values:e}),j5={x:Ml,y:Ml,z:Ml,rotate:Ml,rotateX:Ml,rotateY:Ml,rotateZ:Ml,scaleX:Iy,scaleY:Iy,scale:Iy,opacity:zx,backgroundColor:zx,color:zx,default:Iy},XTe=(e,t)=>{let i;return nv(t)?i=QTe:i=j5[e]||j5.default,{to:t,...i(t)}},JTe={...wH,color:Qi,backgroundColor:Qi,outlineColor:Qi,fill:Qi,stroke:Qi,borderColor:Qi,borderTopColor:Qi,borderRightColor:Qi,borderBottomColor:Qi,borderLeftColor:Qi,filter:pP,WebkitFilter:pP},MD=e=>JTe[e];function LD(e,t){var i;let a=MD(e);return a!==pP&&(a=Mu),(i=a.getAnimatableNone)===null||i===void 0?void 0:i.call(a,t)}function qTe({when:e,delay:t,delayChildren:i,staggerChildren:a,staggerDirection:l,repeat:h,repeatType:g,repeatDelay:v,from:T,...C}){return!!Object.keys(C).length}function ZTe({ease:e,times:t,yoyo:i,flip:a,loop:l,...h}){const g={...h};return t&&(g.offset=t),h.duration&&(g.duration=eb(h.duration)),h.repeatDelay&&(g.repeatDelay=eb(h.repeatDelay)),e&&(g.ease=YTe(e)?e.map(U5):U5(e)),h.type==="tween"&&(g.type="keyframes"),(i||l||a)&&(i?g.repeatType="reverse":l?g.repeatType="loop":a&&(g.repeatType="mirror"),g.repeat=l||i||a||h.repeat),h.type!=="spring"&&(g.type="keyframes"),g}function eCe(e,t){var i,a;return(a=(i=(WD(e,t)||{}).delay)!==null&&i!==void 0?i:e.delay)!==null&&a!==void 0?a:0}function tCe(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=[...e.to],e.to[0]=e.from),e}function rCe(e,t,i){return Array.isArray(t.to)&&e.duration===void 0&&(e.duration=.8),tCe(t),qTe(e)||(e={...e,...XTe(i,t.to)}),{...t,...ZTe(e)}}function nCe(e,t,i,a,l){const h=WD(a,e)||{};let g=h.from!==void 0?h.from:t.get();const v=V5(e,i);g==="none"&&v&&typeof i=="string"?g=LD(e,i):G5(g)&&typeof i=="string"?g=z5(i):!Array.isArray(i)&&G5(i)&&typeof g=="string"&&(i=z5(g));const T=V5(e,g);function C(){const A={from:g,to:i,velocity:t.getVelocity(),onComplete:l,onUpdate:D=>t.set(D)};return h.type==="inertia"||h.type==="decay"?ETe({...A,...h}):r8({...rCe(h,A,e),onUpdate:D=>{A.onUpdate(D),h.onUpdate&&h.onUpdate(D)},onComplete:()=>{A.onComplete(),h.onComplete&&h.onComplete()}})}function E(){const A=NH(i);return t.set(A),l(),h.onUpdate&&h.onUpdate(A),h.onComplete&&h.onComplete(),{stop:()=>{}}}return!T||!v||h.type===!1?E:C}function G5(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function z5(e){return typeof e=="number"?0:LD("",e)}function WD(e,t){return e[t]||e.default||e}function BD(e,t,i,a={}){return t.start(l=>{let h,g;const v=nCe(e,t,i,a,l),T=eCe(a,e),C=()=>g=v();return T?h=window.setTimeout(C,eb(T)):C(),()=>{clearTimeout(h),g&&g.stop()}})}const iCe=e=>/^\-?\d*\.?\d+$/.test(e),oCe=e=>/^0[^.\s]+$/.test(e);function UD(e,t){e.indexOf(t)===-1&&e.push(t)}function VD(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class bm{constructor(){this.subscriptions=[]}add(t){return UD(this.subscriptions,t),()=>VD(this.subscriptions,t)}notify(t,i,a){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,i,a);else for(let h=0;h<l;h++){const g=this.subscriptions[h];g&&g(t,i,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const aCe=e=>!isNaN(parseFloat(e));class sCe{constructor(t){this.version="7.3.0",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new bm,this.velocityUpdateSubscribers=new bm,this.renderSubscribers=new bm,this.canTrackVelocity=!1,this.updateAndNotify=(i,a=!0)=>{this.prev=this.current,this.current=i;const{delta:l,timestamp:h}=BS();this.lastUpdated!==h&&(this.timeDelta=l,this.lastUpdated=h,os.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),a&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>os.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=aCe(this.current)}onChange(t){return this.updateSubscribers.add(t)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(t){return t(this.get()),this.renderSubscribers.add(t)}attach(t){this.passiveEffect=t}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?n8(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.stopAnimation=t(i)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function Ch(e){return new sCe(e)}const f8=e=>t=>t.test(e),uCe={test:e=>e==="auto",parse:e=>e},h8=[dd,Lt,Ys,Ec,Xbe,Qbe,uCe],Ug=e=>h8.find(f8(e)),cCe=[...h8,Qi,Mu],lCe=e=>cCe.find(f8(e));function dCe(e){const t={};return e.forEachValue((i,a)=>t[a]=i.get()),t}function fCe(e){const t={};return e.forEachValue((i,a)=>t[a]=i.getVelocity()),t}function r1(e,t,i){const a=e.getProps();return OH(a,t,i!==void 0?i:a.custom,dCe(e),fCe(e))}function hCe(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,Ch(i))}function pCe(e,t){const i=r1(e,t);let{transitionEnd:a={},transition:l={},...h}=i?e.makeTargetAnimatable(i,!1):{};h={...h,...a};for(const g in h){const v=NH(h[g]);hCe(e,g,v)}}function gCe(e,t,i){var a,l;const h=Object.keys(t).filter(v=>!e.hasValue(v)),g=h.length;if(g)for(let v=0;v<g;v++){const T=h[v],C=t[T];let E=null;Array.isArray(C)&&(E=C[0]),E===null&&(E=(l=(a=i[T])!==null&&a!==void 0?a:e.readValue(T))!==null&&l!==void 0?l:t[T]),E!=null&&(typeof E=="string"&&(iCe(E)||oCe(E))?E=parseFloat(E):!lCe(E)&&Mu.test(C)&&(E=LD(T,C)),e.addValue(T,Ch(E)),i[T]===void 0&&(i[T]=E),e.setBaseTarget(T,E))}}function mCe(e,t){return t?(t[e]||t.default||t).from:void 0}function vCe(e,t,i){var a;const l={};for(const h in e){const g=mCe(h,t);l[h]=g!==void 0?g:(a=i.getValue(h))===null||a===void 0?void 0:a.get()}return l}function tb(e){return!!(Qs(e)&&e.add)}function _Ce(e,t,i={}){e.notifyAnimationStart(t);let a;if(Array.isArray(t)){const l=t.map(h=>SP(e,h,i));a=Promise.all(l)}else if(typeof t=="string")a=SP(e,t,i);else{const l=typeof t=="function"?r1(e,t,i.custom):t;a=p8(e,l,i)}return a.then(()=>e.notifyAnimationComplete(t))}function SP(e,t,i={}){var a;const l=r1(e,t,i.custom);let{transition:h=e.getDefaultTransition()||{}}=l||{};i.transitionOverride&&(h=i.transitionOverride);const g=l?()=>p8(e,l,i):()=>Promise.resolve(),v=!((a=e.variantChildren)===null||a===void 0)&&a.size?(C=0)=>{const{delayChildren:E=0,staggerChildren:A,staggerDirection:D}=h;return yCe(e,t,E+C,A,D,i)}:()=>Promise.resolve(),{when:T}=h;if(T){const[C,E]=T==="beforeChildren"?[g,v]:[v,g];return C().then(E)}else return Promise.all([g(),v(i.delay)])}function p8(e,t,{delay:i=0,transitionOverride:a,type:l}={}){var h;let{transition:g=e.getDefaultTransition(),transitionEnd:v,...T}=e.makeTargetAnimatable(t);const C=e.getValue("willChange");a&&(g=a);const E=[],A=l&&((h=e.animationState)===null||h===void 0?void 0:h.getState()[l]);for(const D in T){const M=e.getValue(D),w=T[D];if(!M||w===void 0||A&&bCe(A,D))continue;let O={delay:i,...g};e.shouldReduceMotion&&_v.has(D)&&(O={...O,type:!1,delay:0});let N=BD(D,M,w,O);tb(C)&&(C.add(D),N=N.then(()=>C.remove(D))),E.push(N)}return Promise.all(E).then(()=>{v&&pCe(e,v)})}function yCe(e,t,i=0,a=0,l=1,h){const g=[],v=(e.variantChildren.size-1)*a,T=l===1?(C=0)=>C*a:(C=0)=>v-C*a;return Array.from(e.variantChildren).sort(SCe).forEach((C,E)=>{g.push(SP(C,t,{...h,delay:i+T(E)}).then(()=>C.notifyAnimationComplete(t)))}),Promise.all(g)}function SCe(e,t){return e.sortNodePosition(t)}function bCe({protectedKeys:e,needsAnimating:t},i){const a=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,a}const jD=[Vr.Animate,Vr.InView,Vr.Focus,Vr.Hover,Vr.Tap,Vr.Drag,Vr.Exit],TCe=[...jD].reverse(),CCe=jD.length;function ICe(e){return t=>Promise.all(t.map(({animation:i,options:a})=>_Ce(e,i,a)))}function wCe(e){let t=ICe(e);const i=xCe();let a=!0;const l=(T,C)=>{const E=r1(e,C);if(E){const{transition:A,transitionEnd:D,...M}=E;T={...T,...M,...D}}return T};function h(T){t=T(e)}function g(T,C){var E;const A=e.getProps(),D=e.getVariantContext(!0)||{},M=[],w=new Set;let O={},N=1/0;for(let R=0;R<CCe;R++){const W=TCe[R],K=i[W],de=(E=A[W])!==null&&E!==void 0?E:D[W],ee=ev(de),X=W===C?K.isActive:null;X===!1&&(N=R);let ce=de===D[W]&&de!==A[W]&&ee;if(ce&&a&&e.manuallyAnimateOnMount&&(ce=!1),K.protectedKeys={...O},!K.isActive&&X===null||!de&&!K.prevProp||Xb(de)||typeof de=="boolean")continue;const he=ECe(K.prevProp,de);let le=he||W===C&&K.isActive&&!ce&&ee||R>N&&ee;const fe=Array.isArray(de)?de:[de];let _e=fe.reduce(l,{});X===!1&&(_e={});const{prevResolvedValues:xe={}}=K,De={...xe,..._e},Ne=je=>{le=!0,w.delete(je),K.needsAnimating[je]=!0};for(const je in De){const Ze=_e[je],Re=xe[je];O.hasOwnProperty(je)||(Ze!==Re?nv(Ze)&&nv(Re)?!d8(Ze,Re)||he?Ne(je):K.protectedKeys[je]=!0:Ze!==void 0?Ne(je):w.add(je):Ze!==void 0&&w.has(je)?Ne(je):K.protectedKeys[je]=!0)}K.prevProp=de,K.prevResolvedValues=_e,K.isActive&&(O={...O,..._e}),a&&e.blockInitialAnimation&&(le=!1),le&&!ce&&M.push(...fe.map(je=>({animation:je,options:{type:W,...T}})))}if(w.size){const R={};w.forEach(W=>{const K=e.getBaseTarget(W);K!==void 0&&(R[W]=K)}),M.push({animation:R})}let k=!!M.length;return a&&A.initial===!1&&!e.manuallyAnimateOnMount&&(k=!1),a=!1,k?t(M):Promise.resolve()}function v(T,C,E){var A;if(i[T].isActive===C)return Promise.resolve();(A=e.variantChildren)===null||A===void 0||A.forEach(M=>{var w;return(w=M.animationState)===null||w===void 0?void 0:w.setActive(T,C)}),i[T].isActive=C;const D=g(E,T);for(const M in i)i[M].protectedKeys={};return D}return{animateChanges:g,setActive:v,setAnimateFunction:h,getState:()=>i}}function ECe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!d8(t,e):!1}function Ll(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xCe(){return{[Vr.Animate]:Ll(!0),[Vr.InView]:Ll(),[Vr.Hover]:Ll(),[Vr.Tap]:Ll(),[Vr.Drag]:Ll(),[Vr.Focus]:Ll(),[Vr.Exit]:Ll()}}const ACe={animation:Bc(({visualElement:e,animate:t})=>{e.animationState||(e.animationState=wCe(e)),Xb(t)&&ye.useEffect(()=>t.subscribe(e),[t])}),exit:Bc(e=>{const{custom:t,visualElement:i}=e,[a,l]=l8(),h=ye.useContext(Fh);ye.useEffect(()=>{i.isPresent=a;const g=i.animationState&&i.animationState.setActive(Vr.Exit,!a,{custom:h&&h.custom||t});g&&!a&&g.then(l)},[a])})};class g8{constructor(t,i,{transformPagePoint:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=$x(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=ND(C.offset,{x:0,y:0})>=3;if(!E&&!A)return;const{point:D}=C,{timestamp:M}=BS();this.history.push({...D,timestamp:M});const{onStart:w,onMove:O}=this.handlers;E||(w&&w(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,C)},this.handlePointerMove=(C,E)=>{if(this.lastMoveEvent=C,this.lastMoveEventInfo=Hx(E,this.transformPagePoint),LH(C)&&C.buttons===0){this.handlePointerUp(C,E);return}os.update(this.updatePoint,!0)},this.handlePointerUp=(C,E)=>{this.end();const{onEnd:A,onSessionEnd:D}=this.handlers,M=$x(Hx(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(C,M),D&&D(C,M)},WH(t)&&t.touches.length>1)return;this.handlers=i,this.transformPagePoint=a;const l=xD(t),h=Hx(l,this.transformPagePoint),{point:g}=h,{timestamp:v}=BS();this.history=[{...g,timestamp:v}];const{onSessionStart:T}=i;T&&T(t,$x(h,this.history)),this.removeListeners=e1(dh(window,"pointermove",this.handlePointerMove),dh(window,"pointerup",this.handlePointerUp),dh(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),yh.update(this.updatePoint)}}function Hx(e,t){return t?{point:t(e.point)}:e}function H5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $x({point:e},t){return{point:e,delta:H5(e,m8(t)),offset:H5(e,PCe(t)),velocity:kCe(t,.1)}}function PCe(e){return e[0]}function m8(e){return e[e.length-1]}function kCe(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,a=null;const l=m8(e);for(;i>=0&&(a=e[i],!(l.timestamp-a.timestamp>eb(t)));)i--;if(!a)return{x:0,y:0};const h=(l.timestamp-a.timestamp)/1e3;if(h===0)return{x:0,y:0};const g={x:(l.x-a.x)/h,y:(l.y-a.y)/h};return g.x===1/0&&(g.x=0),g.y===1/0&&(g.y=0),g}function Yo(e){return e.max-e.min}function $5(e,t=0,i=.01){return ND(e,t)<i}function K5(e,t,i,a=.5){e.origin=a,e.originPoint=In(t.min,t.max,e.origin),e.scale=Yo(i)/Yo(t),($5(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=In(i.min,i.max,e.origin)-e.originPoint,($5(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Tm(e,t,i,a){K5(e.x,t.x,i.x,a==null?void 0:a.originX),K5(e.y,t.y,i.y,a==null?void 0:a.originY)}function Y5(e,t,i){e.min=i.min+t.min,e.max=e.min+Yo(t)}function DCe(e,t,i){Y5(e.x,t.x,i.x),Y5(e.y,t.y,i.y)}function Q5(e,t,i){e.min=t.min-i.min,e.max=e.min+Yo(t)}function Cm(e,t,i){Q5(e.x,t.x,i.x),Q5(e.y,t.y,i.y)}function RCe(e,{min:t,max:i},a){return t!==void 0&&e<t?e=a?In(t,e,a.min):Math.max(e,t):i!==void 0&&e>i&&(e=a?In(i,e,a.max):Math.min(e,i)),e}function X5(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function FCe(e,{top:t,left:i,bottom:a,right:l}){return{x:X5(e.x,i,l),y:X5(e.y,t,a)}}function J5(e,t){let i=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,a]=[a,i]),{min:i,max:a}}function OCe(e,t){return{x:J5(e.x,t.x),y:J5(e.y,t.y)}}function NCe(e,t){let i=.5;const a=Yo(e),l=Yo(t);return l>a?i=iv(t.min,t.max-a,e.min):a>l&&(i=iv(e.min,e.max-l,t.min)),JS(0,1,i)}function MCe(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const bP=.35;function LCe(e=bP){return e===!1?e=0:e===!0&&(e=bP),{x:q5(e,"left","right"),y:q5(e,"top","bottom")}}function q5(e,t,i){return{min:Z5(e,t),max:Z5(e,i)}}function Z5(e,t){var i;return typeof e=="number"?e:(i=e[t])!==null&&i!==void 0?i:0}const eV=()=>({translate:0,scale:1,origin:0,originPoint:0}),Im=()=>({x:eV(),y:eV()}),tV=()=>({min:0,max:0}),mi=()=>({x:tV(),y:tV()});function Ms(e){return[e("x"),e("y")]}function v8({top:e,left:t,right:i,bottom:a}){return{x:{min:t,max:i},y:{min:e,max:a}}}function WCe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function BCe(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:a.y,right:a.x}}function Kx(e){return e===void 0||e===1}function _8({scale:e,scaleX:t,scaleY:i}){return!Kx(e)||!Kx(t)||!Kx(i)}function xc(e){return _8(e)||rV(e.x)||rV(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function rV(e){return e&&e!=="0%"}function rb(e,t,i){const a=e-i,l=t*a;return i+l}function nV(e,t,i,a,l){return l!==void 0&&(e=rb(e,l,a)),rb(e,i,a)+t}function TP(e,t=0,i=1,a,l){e.min=nV(e.min,t,i,a,l),e.max=nV(e.max,t,i,a,l)}function y8(e,{x:t,y:i}){TP(e.x,t.translate,t.scale,t.originPoint),TP(e.y,i.translate,i.scale,i.originPoint)}function UCe(e,t,i,a=!1){var l,h;const g=i.length;if(!g)return;t.x=t.y=1;let v,T;for(let C=0;C<g;C++)v=i[C],T=v.projectionDelta,((h=(l=v.instance)===null||l===void 0?void 0:l.style)===null||h===void 0?void 0:h.display)!=="contents"&&(a&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Jf(e,{x:-v.scroll.x,y:-v.scroll.y}),T&&(t.x*=T.x.scale,t.y*=T.y.scale,y8(e,T)),a&&xc(v.latestValues)&&Jf(e,v.latestValues))}function Dc(e,t){e.min=e.min+t,e.max=e.max+t}function iV(e,t,[i,a,l]){const h=t[l]!==void 0?t[l]:.5,g=In(e.min,e.max,h);TP(e,t[i],t[a],g,t.scale)}const VCe=["x","scaleX","originX"],jCe=["y","scaleY","originY"];function Jf(e,t){iV(e.x,t,VCe),iV(e.y,t,jCe)}function S8(e,t){return v8(BCe(e.getBoundingClientRect(),t))}function GCe(e,t,i){const a=S8(e,i),{scroll:l}=t;return l&&(Dc(a.x,l.x),Dc(a.y,l.y)),a}const zCe=new WeakMap;class HCe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mi(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){if(this.visualElement.isPresent===!1)return;const a=v=>{this.stopAnimation(),i&&this.snapToCursor(xD(v,"page").point)},l=(v,T)=>{var C;const{drag:E,dragPropagation:A,onDragStart:D}=this.getProps();E&&!A&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=jH(E),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ms(M=>{var w,O;let N=this.getAxisMotionValue(M).get()||0;if(Ys.test(N)){const k=(O=(w=this.visualElement.projection)===null||w===void 0?void 0:w.layout)===null||O===void 0?void 0:O.actual[M];k&&(N=Yo(k)*(parseFloat(N)/100))}this.originPoint[M]=N}),D==null||D(v,T),(C=this.visualElement.animationState)===null||C===void 0||C.setActive(Vr.Drag,!0))},h=(v,T)=>{const{dragPropagation:C,dragDirectionLock:E,onDirectionLock:A,onDrag:D}=this.getProps();if(!C&&!this.openGlobalLock)return;const{offset:M}=T;if(E&&this.currentDirection===null){this.currentDirection=$Ce(M),this.currentDirection!==null&&(A==null||A(this.currentDirection));return}this.updateAxis("x",T.point,M),this.updateAxis("y",T.point,M),this.visualElement.syncRender(),D==null||D(v,T)},g=(v,T)=>this.stop(v,T);this.panSession=new g8(t,{onSessionStart:a,onStart:l,onMove:h,onSessionEnd:g},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,i){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:h}=this.getProps();h==null||h(t,i)}cancel(){var t,i;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(i=this.visualElement.animationState)===null||i===void 0||i.setActive(Vr.Drag,!1)}updateAxis(t,i,a){const{drag:l}=this.getProps();if(!a||!wy(t,l,this.currentDirection))return;const h=this.getAxisMotionValue(t);let g=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(g=RCe(g,this.constraints[t],this.elastic[t])),h.set(g)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),{layout:a}=this.visualElement.projection||{},l=this.constraints;t&&Xf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=FCe(a.actual,t):this.constraints=!1,this.elastic=LCe(i),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ms(h=>{this.getAxisMotionValue(h)&&(this.constraints[h]=MCe(a.actual[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Xf(t))return!1;const a=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const h=GCe(a,l.root,this.visualElement.getTransformPagePoint());let g=OCe(l.layout.actual,h);if(i){const v=i(WCe(g));this.hasMutatedConstraints=!!v,v&&(g=v8(v))}return g}startAnimation(t){const{drag:i,dragMomentum:a,dragElastic:l,dragTransition:h,dragSnapToOrigin:g,onDragTransitionEnd:v}=this.getProps(),T=this.constraints||{},C=Ms(E=>{var A;if(!wy(E,i,this.currentDirection))return;let D=(A=T==null?void 0:T[E])!==null&&A!==void 0?A:{};g&&(D={min:0,max:0});const M=l?200:1e6,w=l?40:1e7,O={type:"inertia",velocity:a?t[E]:0,bounceStiffness:M,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...h,...D};return this.startAxisValueAnimation(E,O)});return Promise.all(C).then(v)}startAxisValueAnimation(t,i){const a=this.getAxisMotionValue(t);return BD(t,a,0,i)}stopAnimation(){Ms(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){var i,a;const l="_drag"+t.toUpperCase(),h=this.visualElement.getProps()[l];return h||this.visualElement.getValue(t,(a=(i=this.visualElement.getProps().initial)===null||i===void 0?void 0:i[t])!==null&&a!==void 0?a:0)}snapToCursor(t){Ms(i=>{const{drag:a}=this.getProps();if(!wy(i,a,this.currentDirection))return;const{projection:l}=this.visualElement,h=this.getAxisMotionValue(i);if(l&&l.layout){const{min:g,max:v}=l.layout.actual[i];h.set(t[i]-In(g,v,.5))}})}scalePositionWithinConstraints(){var t;const{drag:i,dragConstraints:a}=this.getProps(),{projection:l}=this.visualElement;if(!Xf(a)||!l||!this.constraints)return;this.stopAnimation();const h={x:0,y:0};Ms(v=>{const T=this.getAxisMotionValue(v);if(T){const C=T.get();h[v]=NCe({min:C,max:C},this.constraints[v])}});const{transformTemplate:g}=this.visualElement.getProps();this.visualElement.getInstance().style.transform=g?g({},""):"none",(t=l.root)===null||t===void 0||t.updateScroll(),l.updateLayout(),this.resolveConstraints(),Ms(v=>{if(!wy(v,i,null))return;const T=this.getAxisMotionValue(v),{min:C,max:E}=this.constraints[v];T.set(In(C,E,h[v]))})}addListeners(){var t;zCe.set(this.visualElement,this);const i=this.visualElement.getInstance(),a=dh(i,"pointerdown",C=>{const{drag:E,dragListener:A=!0}=this.getProps();E&&A&&this.start(C)}),l=()=>{const{dragConstraints:C}=this.getProps();Xf(C)&&(this.constraints=this.resolveRefConstraints())},{projection:h}=this.visualElement,g=h.addEventListener("measure",l);h&&!h.layout&&((t=h.root)===null||t===void 0||t.updateScroll(),h.updateLayout()),l();const v=Zb(window,"resize",()=>this.scalePositionWithinConstraints()),T=h.addEventListener("didUpdate",({delta:C,hasLayoutChanged:E})=>{this.isDragging&&E&&(Ms(A=>{const D=this.getAxisMotionValue(A);D&&(this.originPoint[A]+=C[A].translate,D.set(D.get()+C[A].translate))}),this.visualElement.syncRender())});return()=>{v(),a(),g(),T==null||T()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:a=!1,dragPropagation:l=!1,dragConstraints:h=!1,dragElastic:g=bP,dragMomentum:v=!0}=t;return{...t,drag:i,dragDirectionLock:a,dragPropagation:l,dragConstraints:h,dragElastic:g,dragMomentum:v}}}function wy(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function $Ce(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}function KCe(e){const{dragControls:t,visualElement:i}=e,a=qb(()=>new HCe(i));ye.useEffect(()=>t&&t.subscribe(a),[a,t]),ye.useEffect(()=>a.addListeners(),[a])}function YCe({onPan:e,onPanStart:t,onPanEnd:i,onPanSessionStart:a,visualElement:l}){const h=e||t||i||a,g=ye.useRef(null),{transformPagePoint:v}=ye.useContext(yD),T={onSessionStart:a,onStart:t,onMove:e,onEnd:(E,A)=>{g.current=null,i&&i(E,A)}};ye.useEffect(()=>{g.current!==null&&g.current.updateHandlers(T)});function C(E){g.current=new g8(E,T,{transformPagePoint:v})}QS(l,"pointerdown",h&&C),AD(()=>g.current&&g.current.end())}const QCe={pan:Bc(YCe),drag:Bc(KCe)},CP={current:null},b8={current:!1};function XCe(){if(b8.current=!0,!!ld)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>CP.current=e.matches;e.addListener(t),t()}else CP.current=!1}const Ey=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function JCe(){const e=Ey.map(()=>new bm),t={},i={clearAllListeners:()=>e.forEach(a=>a.clear()),updatePropListeners:a=>{Ey.forEach(l=>{var h;const g="on"+l,v=a[g];(h=t[l])===null||h===void 0||h.call(t),v&&(t[l]=i[g](v))})}};return e.forEach((a,l)=>{i["on"+Ey[l]]=h=>a.add(h),i["notify"+Ey[l]]=(...h)=>a.notify(...h)}),i}function qCe(e,t,i){const{willChange:a}=t;for(const l in t){const h=t[l],g=i[l];if(Qs(h))e.addValue(l,h),tb(a)&&a.add(l);else if(Qs(g))e.addValue(l,Ch(h)),tb(a)&&a.remove(l);else if(g!==h)if(e.hasValue(l)){const v=e.getValue(l);!v.hasAnimated&&v.set(h)}else{const v=e.getStaticValue(l);e.addValue(l,Ch(v!==void 0?v:h))}}for(const l in i)t[l]===void 0&&e.removeValue(l);return t}const T8=Object.keys(tv),ZCe=T8.length,C8=({treeType:e="",build:t,getBaseTarget:i,makeTargetAnimatable:a,measureViewportBox:l,render:h,readValueFromInstance:g,removeValueFromRenderState:v,sortNodePosition:T,scrapeMotionValuesFromProps:C})=>({parent:E,props:A,presenceId:D,blockInitialAnimation:M,visualState:w,reducedMotionConfig:O},N={})=>{let k=!1;const{latestValues:R,renderState:W}=w;let K;const de=JCe(),ee=new Map,X=new Map;let ce={};const he={...R};let le;function fe(){!K||!k||(_e(),h(K,W,A.style,Me.projection))}function _e(){t(Me,W,R,N,A)}function xe(){de.notifyUpdate(R)}function De(Ae,Je){const He=Je.onChange(nt=>{R[Ae]=nt,A.onUpdate&&os.update(xe,!1,!0)}),Ge=Je.onRenderRequest(Me.scheduleRender);X.set(Ae,()=>{He(),Ge()})}const{willChange:Ne,...je}=C(A);for(const Ae in je){const Je=je[Ae];R[Ae]!==void 0&&Qs(Je)&&(Je.set(R[Ae],!1),tb(Ne)&&Ne.add(Ae))}const Ze=Jb(A),Re=pH(A),Me={treeType:e,current:null,depth:E?E.depth+1:0,parent:E,children:new Set,presenceId:D,shouldReduceMotion:null,variantChildren:Re?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!(E!=null&&E.isMounted()),blockInitialAnimation:M,isMounted:()=>!!K,mount(Ae){k=!0,K=Me.current=Ae,Me.projection&&Me.projection.mount(Ae),Re&&E&&!Ze&&(le=E==null?void 0:E.addVariantChild(Me)),ee.forEach((Je,He)=>De(He,Je)),b8.current||XCe(),Me.shouldReduceMotion=O==="never"?!1:O==="always"?!0:CP.current,E==null||E.children.add(Me),Me.setProps(A)},unmount(){var Ae;(Ae=Me.projection)===null||Ae===void 0||Ae.unmount(),yh.update(xe),yh.render(fe),X.forEach(Je=>Je()),le==null||le(),E==null||E.children.delete(Me),de.clearAllListeners(),K=void 0,k=!1},loadFeatures(Ae,Je,He,Ge,nt,pe){const oe=[];for(let me=0;me<ZCe;me++){const Se=T8[me],{isEnabled:et,Component:Ke}=tv[Se];et(A)&&Ke&&oe.push(ye.createElement(Ke,{key:Se,...Ae,visualElement:Me}))}if(!Me.projection&&nt){Me.projection=new nt(Ge,Me.getLatestValues(),E&&E.projection);const{layoutId:me,layout:Se,drag:et,dragConstraints:Ke,layoutScroll:mt}=Ae;Me.projection.setOptions({layoutId:me,layout:Se,alwaysMeasureLayout:!!et||Ke&&Xf(Ke),visualElement:Me,scheduleRender:()=>Me.scheduleRender(),animationType:typeof Se=="string"?Se:"both",initialPromotionConfig:pe,layoutScroll:mt})}return oe},addVariantChild(Ae){var Je;const He=Me.getClosestVariantNode();if(He)return(Je=He.variantChildren)===null||Je===void 0||Je.add(Ae),()=>He.variantChildren.delete(Ae)},sortNodePosition(Ae){return!T||e!==Ae.treeType?0:T(Me.getInstance(),Ae.getInstance())},getClosestVariantNode:()=>Re?Me:E==null?void 0:E.getClosestVariantNode(),getLayoutId:()=>A.layoutId,getInstance:()=>K,getStaticValue:Ae=>R[Ae],setStaticValue:(Ae,Je)=>R[Ae]=Je,getLatestValues:()=>R,setVisibility(Ae){Me.isVisible!==Ae&&(Me.isVisible=Ae,Me.scheduleRender())},makeTargetAnimatable(Ae,Je=!0){return a(Me,Ae,A,Je)},measureViewportBox(){return l(K,A)},addValue(Ae,Je){Me.hasValue(Ae)&&Me.removeValue(Ae),ee.set(Ae,Je),R[Ae]=Je.get(),De(Ae,Je)},removeValue(Ae){var Je;ee.delete(Ae),(Je=X.get(Ae))===null||Je===void 0||Je(),X.delete(Ae),delete R[Ae],v(Ae,W)},hasValue:Ae=>ee.has(Ae),getValue(Ae,Je){let He=ee.get(Ae);return He===void 0&&Je!==void 0&&(He=Ch(Je),Me.addValue(Ae,He)),He},forEachValue:Ae=>ee.forEach(Ae),readValue:Ae=>R[Ae]!==void 0?R[Ae]:g(K,Ae,N),setBaseTarget(Ae,Je){he[Ae]=Je},getBaseTarget(Ae){if(i){const Je=i(A,Ae);if(Je!==void 0&&!Qs(Je))return Je}return he[Ae]},...de,build(){return _e(),W},scheduleRender(){os.render(fe,!1,!0)},syncRender:fe,setProps(Ae){(Ae.transformTemplate||A.transformTemplate)&&Me.scheduleRender(),A=Ae,de.updatePropListeners(Ae),ce=qCe(Me,C(A),ce)},getProps:()=>A,getVariant:Ae=>{var Je;return(Je=A.variants)===null||Je===void 0?void 0:Je[Ae]},getDefaultTransition:()=>A.transition,getTransformPagePoint:()=>A.transformPagePoint,getVariantContext(Ae=!1){if(Ae)return E==null?void 0:E.getVariantContext();if(!Ze){const He=(E==null?void 0:E.getVariantContext())||{};return A.initial!==void 0&&(He.initial=A.initial),He}const Je={};for(let He=0;He<eIe;He++){const Ge=I8[He],nt=A[Ge];(ev(nt)||nt===!1)&&(Je[Ge]=nt)}return Je}};return Me},I8=["initial",...jD],eIe=I8.length;function IP(e){return typeof e=="string"&&e.startsWith("var(--")}const w8=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function tIe(e){const t=w8.exec(e);if(!t)return[,];const[,i,a]=t;return[i,a]}function wP(e,t,i=1){const[a,l]=tIe(e);if(!a)return;const h=window.getComputedStyle(t).getPropertyValue(a);return h?h.trim():IP(l)?wP(l,t,i+1):l}function rIe(e,{...t},i){const a=e.getInstance();if(!(a instanceof Element))return{target:t,transitionEnd:i};i&&(i={...i}),e.forEachValue(l=>{const h=l.get();if(!IP(h))return;const g=wP(h,a);g&&l.set(g)});for(const l in t){const h=t[l];if(!IP(h))continue;const g=wP(h,a);g&&(t[l]=g,i&&i[l]===void 0&&(i[l]=h))}return{target:t,transitionEnd:i}}const nIe=new Set(["width","height","top","left","right","bottom","x","y"]),E8=e=>nIe.has(e),iIe=e=>Object.keys(e).some(E8),x8=(e,t)=>{e.set(t,!1),e.set(t)},oV=e=>e===dd||e===Lt;var aV;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(aV||(aV={}));const sV=(e,t)=>parseFloat(e.split(", ")[t]),uV=(e,t)=>(i,{transform:a})=>{if(a==="none"||!a)return 0;const l=a.match(/^matrix3d\((.+)\)$/);if(l)return sV(l[1],t);{const h=a.match(/^matrix\((.+)\)$/);return h?sV(h[1],e):0}},oIe=new Set(["x","y","z"]),aIe=KS.filter(e=>!oIe.has(e));function sIe(e){const t=[];return aIe.forEach(i=>{const a=e.getValue(i);a!==void 0&&(t.push([i,a.get()]),a.set(i.startsWith("scale")?1:0))}),t.length&&e.syncRender(),t}const cV={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:uV(4,13),y:uV(5,14)},uIe=(e,t,i)=>{const a=t.measureViewportBox(),l=t.getInstance(),h=getComputedStyle(l),{display:g}=h,v={};g==="none"&&t.setStaticValue("display",e.display||"block"),i.forEach(C=>{v[C]=cV[C](a,h)}),t.syncRender();const T=t.measureViewportBox();return i.forEach(C=>{const E=t.getValue(C);x8(E,v[C]),e[C]=cV[C](T,h)}),e},cIe=(e,t,i={},a={})=>{t={...t},a={...a};const l=Object.keys(t).filter(E8);let h=[],g=!1;const v=[];if(l.forEach(T=>{const C=e.getValue(T);if(!e.hasValue(T))return;let E=i[T],A=Ug(E);const D=t[T];let M;if(nv(D)){const w=D.length,O=D[0]===null?1:0;E=D[O],A=Ug(E);for(let N=O;N<w;N++)M?XS(Ug(D[N])===M):M=Ug(D[N])}else M=Ug(D);if(A!==M)if(oV(A)&&oV(M)){const w=C.get();typeof w=="string"&&C.set(parseFloat(w)),typeof D=="string"?t[T]=parseFloat(D):Array.isArray(D)&&M===Lt&&(t[T]=D.map(parseFloat))}else A!=null&&A.transform&&(M!=null&&M.transform)&&(E===0||D===0)?E===0?C.set(M.transform(E)):t[T]=A.transform(D):(g||(h=sIe(e),g=!0),v.push(T),a[T]=a[T]!==void 0?a[T]:t[T],x8(C,D))}),v.length){const T=v.indexOf("height")>=0?window.pageYOffset:null,C=uIe(t,e,v);return h.length&&h.forEach(([E,A])=>{e.getValue(E).set(A)}),e.syncRender(),ld&&T!==null&&window.scrollTo({top:T}),{target:C,transitionEnd:a}}else return{target:t,transitionEnd:a}};function lIe(e,t,i,a){return iIe(t)?cIe(e,t,i,a):{target:t,transitionEnd:a}}const dIe=(e,t,i,a)=>{const l=rIe(e,t,a);return t=l.target,a=l.transitionEnd,lIe(e,t,i,a)};function fIe(e){return window.getComputedStyle(e)}const A8={treeType:"dom",readValueFromInstance(e,t){if(_v.has(t)){const i=MD(t);return i&&i.default||0}else{const i=fIe(e),a=(vH(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}},sortNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1},getBaseTarget(e,t){var i;return(i=e.style)===null||i===void 0?void 0:i[t]},measureViewportBox(e,{transformPagePoint:t}){return S8(e,t)},resetTransform(e,t,i){const{transformTemplate:a}=i;t.style.transform=a?a({},""):"none",e.scheduleRender()},restoreTransform(e,t){e.style.transform=t.style.transform},removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]},makeTargetAnimatable(e,{transition:t,transitionEnd:i,...a},{transformValues:l},h=!0){let g=vCe(a,t||{},e);if(l&&(i&&(i=l(i)),a&&(a=l(a)),g&&(g=l(g))),h){gCe(e,a,g);const v=dIe(e,a,g,i);i=v.transitionEnd,a=v.target}return{transition:t,transitionEnd:i,...a}},scrapeMotionValuesFromProps:ED,build(e,t,i,a,l){e.isVisible!==void 0&&(t.style.visibility=e.isVisible?"visible":"hidden"),CD(t,i,a,l.transformTemplate)},render:kH},hIe=C8(A8),pIe=C8({...A8,getBaseTarget(e,t){return e[t]},readValueFromInstance(e,t){var i;return _v.has(t)?((i=MD(t))===null||i===void 0?void 0:i.default)||0:(t=DH.has(t)?t:PH(t),e.getAttribute(t))},scrapeMotionValuesFromProps:FH,build(e,t,i,a,l){wD(t,i,a,l.transformTemplate)},render:RH}),gIe=(e,t)=>bD(e)?pIe(t,{enableHardwareAcceleration:!1}):hIe(t,{enableHardwareAcceleration:!0});function lV(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Lt.test(e))e=parseFloat(e);else return e;const i=lV(e,t.target.x),a=lV(e,t.target.y);return`${i}% ${a}%`}},dV="_$css",mIe={correct:(e,{treeScale:t,projectionDelta:i})=>{const a=e,l=e.includes("var("),h=[];l&&(e=e.replace(w8,M=>(h.push(M),dV)));const g=Mu.parse(e);if(g.length>5)return a;const v=Mu.createTransformer(e),T=typeof g[0]!="number"?1:0,C=i.x.scale*t.x,E=i.y.scale*t.y;g[0+T]/=C,g[1+T]/=E;const A=In(C,E,.5);typeof g[2+T]=="number"&&(g[2+T]/=A),typeof g[3+T]=="number"&&(g[3+T]/=A);let D=v(g);if(l){let M=0;D=D.replace(dV,()=>{const w=h[M];return M++,w})}return D}};class vIe extends yi.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:a,layoutId:l}=this.props,{projection:h}=t;Gbe(yIe),h&&(i.group&&i.group.add(h),a&&a.register&&l&&a.register(h),h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),_m.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:a,drag:l,isPresent:h}=this.props,g=a.projection;return g&&(g.isPresent=h,l||t.layoutDependency!==i||i===void 0?g.willUpdate():this.safeToRemove(),t.isPresent!==h&&(h?g.promote():g.relegate()||os.postRender(()=>{var v;!((v=g.getStack())===null||v===void 0)&&v.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:a}=this.props,{projection:l}=t;l&&(l.scheduleCheckAfterUnmount(),i!=null&&i.group&&i.group.remove(l),a!=null&&a.deregister&&a.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t==null||t()}render(){return null}}function _Ie(e){const[t,i]=l8(),a=ye.useContext(SD);return yi.createElement(vIe,{...e,layoutGroup:a,switchLayoutGroup:ye.useContext(gH),isPresent:t,safeToRemove:i})}const yIe={borderRadius:{...Vg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vg,borderTopRightRadius:Vg,borderBottomLeftRadius:Vg,borderBottomRightRadius:Vg,boxShadow:mIe},SIe={measureLayout:_Ie};function bIe(e,t,i={}){const a=Qs(e)?e:Ch(e);return BD("",a,t,i),{stop:()=>a.stop(),isAnimating:()=>a.isAnimating()}}const P8=["TopLeft","TopRight","BottomLeft","BottomRight"],TIe=P8.length,fV=e=>typeof e=="string"?parseFloat(e):e,hV=e=>typeof e=="number"||Lt.test(e);function CIe(e,t,i,a,l,h){var g,v,T,C;l?(e.opacity=In(0,(g=i.opacity)!==null&&g!==void 0?g:1,IIe(a)),e.opacityExit=In((v=t.opacity)!==null&&v!==void 0?v:1,0,wIe(a))):h&&(e.opacity=In((T=t.opacity)!==null&&T!==void 0?T:1,(C=i.opacity)!==null&&C!==void 0?C:1,a));for(let E=0;E<TIe;E++){const A=`border${P8[E]}Radius`;let D=pV(t,A),M=pV(i,A);if(D===void 0&&M===void 0)continue;D||(D=0),M||(M=0),D===0||M===0||hV(D)===hV(M)?(e[A]=Math.max(In(fV(D),fV(M),a),0),(Ys.test(M)||Ys.test(D))&&(e[A]+="%")):e[A]=M}(t.rotate||i.rotate)&&(e.rotate=In(t.rotate||0,i.rotate||0,a))}function pV(e,t){var i;return(i=e[t])!==null&&i!==void 0?i:e.borderRadius}const IIe=k8(0,.5,FD),wIe=k8(.5,.95,DD);function k8(e,t,i){return a=>a<e?0:a>t?1:i(iv(e,t,a))}function gV(e,t){e.min=t.min,e.max=t.max}function Ya(e,t){gV(e.x,t.x),gV(e.y,t.y)}function mV(e,t,i,a,l){return e-=t,e=rb(e,1/i,a),l!==void 0&&(e=rb(e,1/l,a)),e}function EIe(e,t=0,i=1,a=.5,l,h=e,g=e){if(Ys.test(t)&&(t=parseFloat(t),t=In(g.min,g.max,t/100)-g.min),typeof t!="number")return;let v=In(h.min,h.max,a);e===h&&(v-=t),e.min=mV(e.min,t,i,v,l),e.max=mV(e.max,t,i,v,l)}function vV(e,t,[i,a,l],h,g){EIe(e,t[i],t[a],t[l],t.scale,h,g)}const xIe=["x","scaleX","originX"],AIe=["y","scaleY","originY"];function _V(e,t,i,a){vV(e.x,t,xIe,i==null?void 0:i.x,a==null?void 0:a.x),vV(e.y,t,AIe,i==null?void 0:i.y,a==null?void 0:a.y)}function yV(e){return e.translate===0&&e.scale===1}function D8(e){return yV(e.x)&&yV(e.y)}function R8(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function SV(e){return Yo(e.x)/Yo(e.y)}function PIe(e,t,i=.01){return ND(e,t)<=i}class kIe{constructor(){this.members=[]}add(t){UD(this.members,t),t.scheduleRender()}remove(t){if(VD(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(l=>t===l);if(i===0)return!1;let a;for(let l=i;l>=0;l--){const h=this.members[l];if(h.isPresent!==!1){a=h;break}}return a?(this.promote(a),!0):!1}promote(t,i){var a;const l=this.lead;if(t!==l&&(this.prevLead=l,this.lead=t,t.show(),l)){l.instance&&l.scheduleRender(),t.scheduleRender(),t.resumeFrom=l,i&&(t.resumeFrom.preserveOpacity=!0),l.snapshot&&(t.snapshot=l.snapshot,t.snapshot.latestValues=l.animationValues||l.latestValues,t.snapshot.isShared=!0),!((a=t.root)===null||a===void 0)&&a.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:h}=t.options;h===!1&&l.hide()}}exitAnimationComplete(){this.members.forEach(t=>{var i,a,l,h,g;(a=(i=t.options).onExitComplete)===null||a===void 0||a.call(i),(g=(l=t.resumingFrom)===null||l===void 0?void 0:(h=l.options).onExitComplete)===null||g===void 0||g.call(h)})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const DIe="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function bV(e,t,i){const a=e.x.translate/t.x,l=e.y.translate/t.y;let h=`translate3d(${a}px, ${l}px, 0) `;if(h+=`scale(${1/t.x}, ${1/t.y}) `,i){const{rotate:T,rotateX:C,rotateY:E}=i;T&&(h+=`rotate(${T}deg) `),C&&(h+=`rotateX(${C}deg) `),E&&(h+=`rotateY(${E}deg) `)}const g=e.x.scale*t.x,v=e.y.scale*t.y;return h+=`scale(${g}, ${v})`,h===DIe?"none":h}const RIe=(e,t)=>e.depth-t.depth;class FIe{constructor(){this.children=[],this.isDirty=!1}add(t){UD(this.children,t),this.isDirty=!0}remove(t){VD(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(RIe),this.isDirty=!1,this.children.forEach(t)}}const TV=["","X","Y","Z"],CV=1e3;function F8({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:a,resetTransform:l}){return class{constructor(g,v={},T=t==null?void 0:t()){this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(BIe),this.nodes.forEach(UIe)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=g,this.latestValues=v,this.root=T?T.root||T:this,this.path=T?[...T.path,T]:[],this.parent=T,this.depth=T?T.depth+1:0,g&&this.root.registerPotentialNode(g,this);for(let C=0;C<this.path.length;C++)this.path[C].shouldResetTransform=!0;this.root===this&&(this.nodes=new FIe)}addEventListener(g,v){return this.eventHandlers.has(g)||this.eventHandlers.set(g,new bm),this.eventHandlers.get(g).add(v)}notifyListeners(g,...v){const T=this.eventHandlers.get(g);T==null||T.notify(...v)}hasListeners(g){return this.eventHandlers.has(g)}registerPotentialNode(g,v){this.potentialNodes.set(g,v)}mount(g,v=!1){var T;if(this.instance)return;this.isSVG=g instanceof SVGElement&&g.tagName!=="svg",this.instance=g;const{layoutId:C,layout:E,visualElement:A}=this.options;if(A&&!A.getInstance()&&A.mount(g),this.root.nodes.add(this),(T=this.parent)===null||T===void 0||T.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),v&&(E||C)&&(this.isLayoutDirty=!0),e){let D;const M=()=>this.root.updateBlockedByResize=!1;e(g,()=>{this.root.updateBlockedByResize=!0,clearTimeout(D),D=window.setTimeout(M,250),_m.hasAnimatedSinceResize&&(_m.hasAnimatedSinceResize=!1,this.nodes.forEach(WIe))})}C&&this.root.registerSharedNode(C,this),this.options.animate!==!1&&A&&(C||E)&&this.addEventListener("didUpdate",({delta:D,hasLayoutChanged:M,hasRelativeTargetChanged:w,layout:O})=>{var N,k,R,W,K;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const de=(k=(N=this.options.transition)!==null&&N!==void 0?N:A.getDefaultTransition())!==null&&k!==void 0?k:HIe,{onLayoutAnimationStart:ee,onLayoutAnimationComplete:X}=A.getProps(),ce=!this.targetLayout||!R8(this.targetLayout,O)||w,he=!M&&w;if(!((R=this.resumeFrom)===null||R===void 0)&&R.instance||he||M&&(ce||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(D,he);const le={...WD(de,"layout"),onPlay:ee,onComplete:X};A.shouldReduceMotion&&(le.delay=0,le.type=!1),this.startAnimation(le)}else!M&&this.animationProgress===0&&this.finishAnimation(),this.isLead()&&((K=(W=this.options).onExitComplete)===null||K===void 0||K.call(W));this.targetLayout=O})}unmount(){var g,v;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(g=this.getStack())===null||g===void 0||g.remove(this),(v=this.parent)===null||v===void 0||v.children.delete(this),this.instance=void 0,yh.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var g;return this.isAnimationBlocked||((g=this.parent)===null||g===void 0?void 0:g.isTreeAnimationBlocked())||!1}startUpdate(){var g;this.isUpdateBlocked()||(this.isUpdating=!0,(g=this.nodes)===null||g===void 0||g.forEach(VIe))}willUpdate(g=!0){var v,T,C;if(this.root.isUpdateBlocked()){(T=(v=this.options).onExitComplete)===null||T===void 0||T.call(v);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let M=0;M<this.path.length;M++){const w=this.path[M];w.shouldResetTransform=!0,w.updateScroll()}const{layoutId:E,layout:A}=this.options;if(E===void 0&&!A)return;const D=(C=this.options.visualElement)===null||C===void 0?void 0:C.getProps().transformTemplate;this.prevTransformTemplateValue=D==null?void 0:D(this.latestValues,""),this.updateSnapshot(),g&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IV);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach($Ie),this.potentialNodes.clear()),this.nodes.forEach(LIe),this.nodes.forEach(OIe),this.nodes.forEach(NIe),this.clearAllSnapshots(),bx.update(),bx.preRender(),bx.render())}clearAllSnapshots(){this.nodes.forEach(MIe),this.sharedNodes.forEach(jIe)}scheduleUpdateProjection(){os.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){os.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){if(this.snapshot||!this.instance)return;const g=this.measure(),v=this.removeTransform(this.removeElementScroll(g));AV(v),this.snapshot={measured:g,layout:v,latestValues:{}}}updateLayout(){var g;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let C=0;C<this.path.length;C++)this.path[C].updateScroll();const v=this.measure();AV(v);const T=this.layout;this.layout={measured:v,actual:this.removeElementScroll(v)},this.layoutCorrected=mi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(g=this.options.visualElement)===null||g===void 0||g.notifyLayoutMeasure(this.layout.actual,T==null?void 0:T.actual)}updateScroll(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=a(this.instance),this.scroll=i(this.instance))}resetTransform(){var g;if(!l)return;const v=this.isLayoutDirty||this.shouldResetTransform,T=this.projectionDelta&&!D8(this.projectionDelta),C=(g=this.options.visualElement)===null||g===void 0?void 0:g.getProps().transformTemplate,E=C==null?void 0:C(this.latestValues,""),A=E!==this.prevTransformTemplateValue;v&&(T||xc(this.latestValues)||A)&&(l(this.instance,E),this.shouldResetTransform=!1,this.scheduleRender())}measure(){const{visualElement:g}=this.options;if(!g)return mi();const v=g.measureViewportBox(),{scroll:T}=this.root;return T&&(Dc(v.x,T.x),Dc(v.y,T.y)),v}removeElementScroll(g){const v=mi();Ya(v,g);for(let T=0;T<this.path.length;T++){const C=this.path[T],{scroll:E,options:A,isScrollRoot:D}=C;if(C!==this.root&&E&&A.layoutScroll){if(D){Ya(v,g);const{scroll:M}=this.root;M&&(Dc(v.x,-M.x),Dc(v.y,-M.y))}Dc(v.x,E.x),Dc(v.y,E.y)}}return v}applyTransform(g,v=!1){const T=mi();Ya(T,g);for(let C=0;C<this.path.length;C++){const E=this.path[C];!v&&E.options.layoutScroll&&E.scroll&&E!==E.root&&Jf(T,{x:-E.scroll.x,y:-E.scroll.y}),xc(E.latestValues)&&Jf(T,E.latestValues)}return xc(this.latestValues)&&Jf(T,this.latestValues),T}removeTransform(g){var v;const T=mi();Ya(T,g);for(let C=0;C<this.path.length;C++){const E=this.path[C];if(!E.instance||!xc(E.latestValues))continue;_8(E.latestValues)&&E.updateSnapshot();const A=mi(),D=E.measure();Ya(A,D),_V(T,E.latestValues,(v=E.snapshot)===null||v===void 0?void 0:v.layout,A)}return xc(this.latestValues)&&_V(T,this.latestValues),T}setTargetDelta(g){this.targetDelta=g,this.root.scheduleUpdateProjection()}setOptions(g){this.options={...this.options,...g,crossfade:g.crossfade!==void 0?g.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var g;const{layout:v,layoutId:T}=this.options;!this.layout||!(v||T)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=mi(),this.relativeTargetOrigin=mi(),Cm(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),Ya(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mi(),this.targetWithTransforms=mi()),this.relativeTarget&&this.relativeTargetOrigin&&(!((g=this.relativeParent)===null||g===void 0)&&g.target)?DCe(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):Ya(this.target,this.layout.actual),y8(this.target,this.targetDelta)):Ya(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=mi(),this.relativeTargetOrigin=mi(),Cm(this.relativeTargetOrigin,this.target,this.relativeParent.target),Ya(this.relativeTarget,this.relativeTargetOrigin)))))}getClosestProjectingParent(){if(!(!this.parent||xc(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var g;const{layout:v,layoutId:T}=this.options;if(this.isTreeAnimating=!!(!((g=this.parent)===null||g===void 0)&&g.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||T))return;const C=this.getLead();Ya(this.layoutCorrected,this.layout.actual),UCe(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==C);const{target:E}=C;if(!E)return;this.projectionDelta||(this.projectionDelta=Im(),this.projectionDeltaWithTransform=Im());const A=this.treeScale.x,D=this.treeScale.y,M=this.projectionTransform;Tm(this.projectionDelta,this.layoutCorrected,E,this.latestValues),this.projectionTransform=bV(this.projectionDelta,this.treeScale),(this.projectionTransform!==M||this.treeScale.x!==A||this.treeScale.y!==D)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(g=!0){var v,T,C;(T=(v=this.options).scheduleRender)===null||T===void 0||T.call(v),g&&((C=this.getStack())===null||C===void 0||C.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(g,v=!1){var T;const C=this.snapshot,E=(C==null?void 0:C.latestValues)||{},A={...this.latestValues},D=Im();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!v;const M=mi(),w=C==null?void 0:C.isShared,O=(((T=this.getStack())===null||T===void 0?void 0:T.members.length)||0)<=1,N=!!(w&&!O&&this.options.crossfade===!0&&!this.path.some(zIe));this.animationProgress=0,this.mixTargetDelta=k=>{var R;const W=k/1e3;wV(D.x,g.x,W),wV(D.y,g.y,W),this.setTargetDelta(D),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((R=this.relativeParent)===null||R===void 0)&&R.layout)&&(Cm(M,this.layout.actual,this.relativeParent.layout.actual),GIe(this.relativeTarget,this.relativeTargetOrigin,M,W)),w&&(this.animationValues=A,CIe(A,E,this.latestValues,W,N,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(0)}startAnimation(g){var v,T;this.notifyListeners("animationStart"),(v=this.currentAnimation)===null||v===void 0||v.stop(),this.resumingFrom&&((T=this.resumingFrom.currentAnimation)===null||T===void 0||T.stop()),this.pendingAnimation&&(yh.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=os.update(()=>{_m.hasAnimatedSinceResize=!0,this.currentAnimation=bIe(0,CV,{...g,onUpdate:C=>{var E;this.mixTargetDelta(C),(E=g.onUpdate)===null||E===void 0||E.call(g,C)},onComplete:()=>{var C;(C=g.onComplete)===null||C===void 0||C.call(g),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var g;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(g=this.getStack())===null||g===void 0||g.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var g;this.currentAnimation&&((g=this.mixTargetDelta)===null||g===void 0||g.call(this,CV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const g=this.getLead();let{targetWithTransforms:v,target:T,layout:C,latestValues:E}=g;if(!(!v||!T||!C)){if(this!==g&&this.layout&&C&&O8(this.options.animationType,this.layout.actual,C.actual)){T=this.target||mi();const A=Yo(this.layout.actual.x);T.x.min=g.target.x.min,T.x.max=T.x.min+A;const D=Yo(this.layout.actual.y);T.y.min=g.target.y.min,T.y.max=T.y.min+D}Ya(v,T),Jf(v,E),Tm(this.projectionDeltaWithTransform,this.layoutCorrected,v,E)}}registerSharedNode(g,v){var T,C,E;this.sharedNodes.has(g)||this.sharedNodes.set(g,new kIe),this.sharedNodes.get(g).add(v),v.promote({transition:(T=v.options.initialPromotionConfig)===null||T===void 0?void 0:T.transition,preserveFollowOpacity:(E=(C=v.options.initialPromotionConfig)===null||C===void 0?void 0:C.shouldPreserveFollowOpacity)===null||E===void 0?void 0:E.call(C,v)})}isLead(){const g=this.getStack();return g?g.lead===this:!0}getLead(){var g;const{layoutId:v}=this.options;return v?((g=this.getStack())===null||g===void 0?void 0:g.lead)||this:this}getPrevLead(){var g;const{layoutId:v}=this.options;return v?(g=this.getStack())===null||g===void 0?void 0:g.prevLead:void 0}getStack(){const{layoutId:g}=this.options;if(g)return this.root.sharedNodes.get(g)}promote({needsReset:g,transition:v,preserveFollowOpacity:T}={}){const C=this.getStack();C&&C.promote(this,T),g&&(this.projectionDelta=void 0,this.needsReset=!0),v&&this.setOptions({transition:v})}relegate(){const g=this.getStack();return g?g.relegate(this):!1}resetRotation(){const{visualElement:g}=this.options;if(!g)return;let v=!1;const T={};for(let C=0;C<TV.length;C++){const A="rotate"+TV[C];g.getStaticValue(A)&&(v=!0,T[A]=g.getStaticValue(A),g.setStaticValue(A,0))}if(v){g==null||g.syncRender();for(const C in T)g.setStaticValue(C,T[C]);g.scheduleRender()}}getProjectionStyles(g={}){var v,T,C;const E={};if(!this.instance||this.isSVG)return E;if(this.isVisible)E.visibility="";else return{visibility:"hidden"};const A=(v=this.options.visualElement)===null||v===void 0?void 0:v.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,E.opacity="",E.pointerEvents=rS(g.pointerEvents)||"",E.transform=A?A(this.latestValues,""):"none",E;const D=this.getLead();if(!this.projectionDelta||!this.layout||!D.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=rS(g.pointerEvents)||""),this.hasProjected&&!xc(this.latestValues)&&(N.transform=A?A({},""):"none",this.hasProjected=!1),N}const M=D.animationValues||D.latestValues;this.applyTransformsToTarget(),E.transform=bV(this.projectionDeltaWithTransform,this.treeScale,M),A&&(E.transform=A(M,E.transform));const{x:w,y:O}=this.projectionDelta;E.transformOrigin=`${w.origin*100}% ${O.origin*100}% 0`,D.animationValues?E.opacity=D===this?(C=(T=M.opacity)!==null&&T!==void 0?T:this.latestValues.opacity)!==null&&C!==void 0?C:1:this.preserveOpacity?this.latestValues.opacity:M.opacityExit:E.opacity=D===this?M.opacity!==void 0?M.opacity:"":M.opacityExit!==void 0?M.opacityExit:0;for(const N in $S){if(M[N]===void 0)continue;const{correct:k,applyTo:R}=$S[N],W=k(M[N],D);if(R){const K=R.length;for(let de=0;de<K;de++)E[R[de]]=W}else E[N]=W}return this.options.layoutId&&(E.pointerEvents=D===this?rS(g.pointerEvents)||"":"none"),E}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(g=>{var v;return(v=g.currentAnimation)===null||v===void 0?void 0:v.stop()}),this.root.nodes.forEach(IV),this.root.sharedNodes.clear()}}}function OIe(e){e.updateLayout()}function NIe(e){var t,i,a;const l=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&l&&e.hasListeners("didUpdate")){const{actual:h,measured:g}=e.layout,{animationType:v}=e.options;v==="size"?Ms(D=>{const M=l.isShared?l.measured[D]:l.layout[D],w=Yo(M);M.min=h[D].min,M.max=M.min+w}):O8(v,l.layout,h)&&Ms(D=>{const M=l.isShared?l.measured[D]:l.layout[D],w=Yo(h[D]);M.max=M.min+w});const T=Im();Tm(T,h,l.layout);const C=Im();l.isShared?Tm(C,e.applyTransform(g,!0),l.measured):Tm(C,h,l.layout);const E=!D8(T);let A=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){const{snapshot:D,layout:M}=e.relativeParent;if(D&&M){const w=mi();Cm(w,l.layout,D.layout);const O=mi();Cm(O,h,M.actual),R8(w,O)||(A=!0)}}e.notifyListeners("didUpdate",{layout:h,snapshot:l,delta:C,layoutDelta:T,hasLayoutChanged:E,hasRelativeTargetChanged:A})}else e.isLead()&&((a=(i=e.options).onExitComplete)===null||a===void 0||a.call(i));e.options.transition=void 0}function MIe(e){e.clearSnapshot()}function IV(e){e.clearMeasurements()}function LIe(e){const{visualElement:t}=e.options;t!=null&&t.getProps().onBeforeLayoutMeasure&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function WIe(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function BIe(e){e.resolveTargetDelta()}function UIe(e){e.calcProjection()}function VIe(e){e.resetRotation()}function jIe(e){e.removeLeadSnapshot()}function wV(e,t,i){e.translate=In(t.translate,0,i),e.scale=In(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function EV(e,t,i,a){e.min=In(t.min,i.min,a),e.max=In(t.max,i.max,a)}function GIe(e,t,i,a){EV(e.x,t.x,i.x,a),EV(e.y,t.y,i.y,a)}function zIe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const HIe={duration:.45,ease:[.4,0,.1,1]};function $Ie(e,t){let i=e.root;for(let h=e.path.length-1;h>=0;h--)if(e.path[h].instance){i=e.path[h];break}const l=(i&&i!==e.root?i.instance:document).querySelector(`[data-projection-id="${t}"]`);l&&e.mount(l,!0)}function xV(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function AV(e){xV(e.x),xV(e.y)}function O8(e,t,i){return e==="position"||e==="preserve-aspect"&&!PIe(SV(t),SV(i))}const KIe=F8({attachResizeListener:(e,t)=>Zb(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yx={current:void 0},YIe=F8({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yx.current){const e=new KIe(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Yx.current=e}return Yx.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),QIe={...ACe,...zTe,...QCe,...SIe},XIe=Vbe((e,t)=>E1e(e,t,QIe,gIe,YIe));function N8(){const e=ye.useRef(!1);return HS(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function JIe(){const e=N8(),[t,i]=ye.useState(0),a=ye.useCallback(()=>{e.current&&i(t+1)},[t]);return[ye.useCallback(()=>os.postRender(a),[a]),t]}class qIe extends ye.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=i.offsetHeight||0,a.width=i.offsetWidth||0,a.top=i.offsetTop,a.left=i.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ZIe({children:e,isPresent:t}){const i=ye.useId(),a=ye.useRef(null),l=ye.useRef({width:0,height:0,top:0,left:0});return ye.useInsertionEffect(()=>{const{width:h,height:g,top:v,left:T}=l.current;if(t||!a.current||!h||!g)return;a.current.dataset.motionPopId=i;const C=document.createElement("style");return document.head.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${g}px !important;
            top: ${v}px !important;
            left: ${T}px !important;
          }
        `),()=>{document.head.removeChild(C)}},[t]),ye.createElement(qIe,{isPresent:t,childRef:a,sizeRef:l},ye.cloneElement(e,{ref:a}))}const Qx=({children:e,initial:t,isPresent:i,onExitComplete:a,custom:l,presenceAffectsLayout:h,mode:g})=>{const v=qb(ewe),T=ye.useId(),C=ye.useMemo(()=>({id:T,initial:t,isPresent:i,custom:l,onExitComplete:E=>{v.set(E,!0);for(const A of v.values())if(!A)return;a&&a()},register:E=>(v.set(E,!1),()=>v.delete(E))}),h?void 0:[i]);return ye.useMemo(()=>{v.forEach((E,A)=>v.set(A,!1))},[i]),ye.useEffect(()=>{!i&&!v.size&&a&&a()},[i]),g==="popLayout"&&(e=ye.createElement(ZIe,{isPresent:i},e)),ye.createElement(Fh.Provider,{value:C},e)};function ewe(){return new Map}const kf=e=>e.key||"";function twe(e,t){e.forEach(i=>{const a=kf(i);t.set(a,i)})}function rwe(e){const t=[];return ye.Children.forEach(e,i=>{ye.isValidElement(i)&&t.push(i)}),t}const nwe=({children:e,custom:t,initial:i=!0,onExitComplete:a,exitBeforeEnter:l,presenceAffectsLayout:h=!0,mode:g="sync"})=>{l&&(g="wait",c8(!1,"Replace exitBeforeEnter with mode='wait'"));let[v]=JIe();const T=ye.useContext(SD).forceRender;T&&(v=T);const C=N8(),E=rwe(e);let A=E;const D=new Set,M=ye.useRef(A),w=ye.useRef(new Map).current,O=ye.useRef(!0);if(HS(()=>{O.current=!1,twe(E,w),M.current=A}),AD(()=>{O.current=!0,w.clear(),D.clear()}),O.current)return ye.createElement(ye.Fragment,null,A.map(W=>ye.createElement(Qx,{key:kf(W),isPresent:!0,initial:i?void 0:!1,presenceAffectsLayout:h,mode:g},W)));A=[...A];const N=M.current.map(kf),k=E.map(kf),R=N.length;for(let W=0;W<R;W++){const K=N[W];k.indexOf(K)===-1&&D.add(K)}return g==="wait"&&D.size&&(A=[]),D.forEach(W=>{if(k.indexOf(W)!==-1)return;const K=w.get(W);if(!K)return;const de=N.indexOf(W),ee=()=>{w.delete(W),D.delete(W);const X=M.current.findIndex(ce=>ce.key===W);if(M.current.splice(X,1),!D.size){if(M.current=E,C.current===!1)return;v(),a&&a()}};A.splice(de,0,ye.createElement(Qx,{key:kf(K),isPresent:!1,onExitComplete:ee,custom:t,presenceAffectsLayout:h,mode:g},K))}),A=A.map(W=>{const K=W.key;return D.has(K)?W:ye.createElement(Qx,{key:kf(W),isPresent:!0,presenceAffectsLayout:h,mode:g},W)}),u8!=="production"&&g==="wait"&&A.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),ye.createElement(ye.Fragment,null,D.size?A:A.map(W=>ye.cloneElement(W)))};var EP=function(e,t){return EP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},EP(e,t)};function iwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");EP(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var vi=function(){return vi=Object.assign||function(t){for(var i,a=1,l=arguments.length;a<l;a++){i=arguments[a];for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&(t[h]=i[h])}return t},vi.apply(this,arguments)};const owe=(e,t)=>e.find(i=>i.id===t);function PV(e,t){const i=M8(e,t),a=i?e[i].findIndex(l=>l.id===t):-1;return{position:i,index:a}}function M8(e,t){for(const[i,a]of Object.entries(e))if(owe(a,t))return i}function awe(e){const t=e.includes("right"),i=e.includes("left");let a="center";return t&&(a="flex-end"),i&&(a="flex-start"),{display:"flex",flexDirection:"column",alignItems:a}}function swe(e){const i=e==="top"||e==="bottom"?"0 auto":void 0,a=e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,l=e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,h=e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",g=e.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:i,top:a,bottom:l,right:h,left:g}}var uwe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,xP=Xz(function(e){return uwe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),cwe=xP,lwe=function(t){return t!=="theme"},kV=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?cwe:lwe},DV=function(t,i,a){var l;if(i){var h=i.shouldForwardProp;l=t.__emotion_forwardProp&&h?function(g){return t.__emotion_forwardProp(g)&&h(g)}:h}return typeof l!="function"&&a&&(l=t.__emotion_forwardProp),l},dwe=!1,fwe=function(t){var i=t.cache,a=t.serialized,l=t.isStringTag;return rH(i,a,l),lbe(function(){return nH(i,a,l)}),null},hwe=function e(t,i){var a=t.__emotion_real===t,l=a&&t.__emotion_base||t,h,g;i!==void 0&&(h=i.label,g=i.target);var v=DV(t,i,a),T=v||kV(l),C=!T("as");return function(){var E=arguments,A=a&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(h!==void 0&&A.push("label:"+h+";"),E[0]==null||E[0].raw===void 0)A.push.apply(A,E);else{A.push(E[0][0]);for(var D=E.length,M=1;M<D;M++)A.push(E[M],E[0][M])}var w=mD(function(O,N,k){var R=C&&O.as||l,W="",K=[],de=O;if(O.theme==null){de={};for(var ee in O)de[ee]=O[ee];de.theme=ye.useContext(Zm)}typeof O.className=="string"?W=tbe(N.registered,K,O.className):O.className!=null&&(W=O.className+" ");var X=gD(A.concat(K),N.registered,de);W+=N.key+"-"+X.name,g!==void 0&&(W+=" "+g);var ce=C&&v===void 0?kV(R):T,he={};for(var le in O)C&&le==="as"||ce(le)&&(he[le]=O[le]);return he.className=W,k&&(he.ref=k),ye.createElement(ye.Fragment,null,ye.createElement(fwe,{cache:N,serialized:X,isStringTag:typeof R=="string"}),ye.createElement(R,he))});return w.displayName=h!==void 0?h:"Styled("+(typeof l=="string"?l:l.displayName||l.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=l,w.__emotion_styles=A,w.__emotion_forwardProp=v,Object.defineProperty(w,"toString",{value:function(){return g===void 0&&dwe?"NO_COMPONENT_SELECTOR":"."+g}}),w.withComponent=function(O,N){return e(O,zS({},i,N,{shouldForwardProp:DV(w,N,!0)})).apply(void 0,A)},w}},pwe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],AP=hwe.bind();pwe.forEach(function(e){AP[e]=AP(e)});const gwe=new Set([...Epe({}),"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),mwe=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function vwe(e){return(mwe.has(e)||!gwe.has(e))&&e[0]!=="_"}const _we=Rhe(AP),ywe=({baseStyle:e})=>t=>{const{theme:i,css:a,__css:l,sx:h,...g}=t,[v]=Nhe(g,i.__isStyleProp),T=Vs(e,t),C=Che({},l,T,qk(v),h),E=Pz(C)(t.theme);return a?[E,a]:E};function Xx(e,t){const{baseStyle:i,...a}=t??{};a.shouldForwardProp||(a.shouldForwardProp=vwe);const l=ywe({baseStyle:i}),h=_we(e,a)(l);return ye.forwardRef(function(T,C){const{children:E,...A}=T,{colorMode:D,forced:M}=_D(),w=M?D:void 0;return ye.createElement(h,{ref:C,"data-theme":w,...A},E)})}function Swe(){const e=new Map;return new Proxy(Xx,{apply(t,i,a){return Xx(...a)},get(t,i){return e.has(i)||e.set(i,Xx(i)),e.get(i)}})}const ni=Swe(),bwe={initial:e=>{const{position:t}=e,i=["top","bottom"].includes(t)?"y":"x";let a=["top-right","bottom-right"].includes(t)?1:-1;return t==="bottom"&&(a=1),{opacity:0,[i]:a*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},L8=ye.memo(e=>{const{id:t,message:i,onCloseComplete:a,onRequestRemove:l,requestClose:h=!1,position:g="bottom",duration:v=5e3,containerStyle:T,motionVariants:C=bwe,toastSpacing:E="0.5rem"}=e,[A,D]=ye.useState(v),M=HTe();Y3(()=>{M||a==null||a()},[M]),Y3(()=>{D(v)},[v]);const w=()=>D(null),O=()=>D(v),N=()=>{M&&l()};ye.useEffect(()=>{M&&h&&l()},[M,h,l]),Vhe(N,A);const k=ye.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:E,...T}),[T,E]),R=ye.useMemo(()=>awe(g),[g]);return Ee.jsx(XIe.div,{layout:!0,className:"chakra-toast",variants:C,initial:"initial",animate:"animate",exit:"exit",onHoverStart:w,onHoverEnd:O,custom:{position:g},style:R,children:Ee.jsx(ni.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:k,children:Vs(i,{id:t,onClose:N})})})});L8.displayName="ToastComponent";function Js(e){return ye.forwardRef(e)}var Twe=typeof Element<"u",Cwe=typeof Map=="function",Iwe=typeof Set=="function",wwe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function oS(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,a,l;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(a=i;a--!==0;)if(!oS(e[a],t[a]))return!1;return!0}var h;if(Cwe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(h=e.entries();!(a=h.next()).done;)if(!t.has(a.value[0]))return!1;for(h=e.entries();!(a=h.next()).done;)if(!oS(a.value[1],t.get(a.value[0])))return!1;return!0}if(Iwe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(h=e.entries();!(a=h.next()).done;)if(!t.has(a.value[0]))return!1;return!0}if(wwe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(i=e.length,i!=t.length)return!1;for(a=i;a--!==0;)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(l=Object.keys(e),i=l.length,i!==Object.keys(t).length)return!1;for(a=i;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[a]))return!1;if(Twe&&e instanceof Element)return!1;for(a=i;a--!==0;)if(!((l[a]==="_owner"||l[a]==="__v"||l[a]==="__o")&&e.$$typeof)&&!oS(e[l[a]],t[l[a]]))return!1;return!0}return e!==e&&t!==t}var Ewe=function(t,i){try{return oS(t,i)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const xwe=xh(Ewe);function Awe(){const e=ye.useContext(Zm);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}function Pwe(){const e=_D(),t=Awe();return{...e,theme:t}}function W8(e,t={}){const{styleConfig:i,...a}=t,{theme:l,colorMode:h}=Pwe(),g=e?Sz(l,`components.${e}`):void 0,v=i||g,T=js({theme:l,colorMode:h},(v==null?void 0:v.defaultProps)??{},qk(bz(a,["children"])),(E,A)=>E?void 0:A),C=ye.useRef({});if(v){const A=Lpe(v)(T);xwe(C.current,A)||(C.current=A)}return C.current}function Oh(e,t={}){return W8(e,t)}function kwe(e,t={}){return W8(e,t)}const RV={path:Ee.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[Ee.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),Ee.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),Ee.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},bv=Js((e,t)=>{const{as:i,viewBox:a,color:l="currentColor",focusable:h=!1,children:g,className:v,__css:T,...C}=e,E=us("chakra-icon",v),A=Oh("Icon",e),D={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:l,...T,...A},M={ref:t,focusable:h,className:E,__css:D},w=a??RV.viewBox;if(i&&typeof i!="string")return Ee.jsx(ni.svg,{as:i,...M,...C});const O=g??RV.path;return Ee.jsx(ni.svg,{verticalAlign:"middle",viewBox:w,...M,...C,children:O})});bv.displayName="Icon";function Dwe(e){return Ee.jsx(bv,{viewBox:"0 0 24 24",...e,children:Ee.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function Rwe(e){return Ee.jsx(bv,{viewBox:"0 0 24 24",...e,children:Ee.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function FV(e){return Ee.jsx(bv,{viewBox:"0 0 24 24",...e,children:Ee.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const Fwe=gbe({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),GD=Js((e,t)=>{const i=Oh("Spinner",e),{label:a="Loading...",thickness:l="2px",speed:h="0.45s",emptyColor:g="transparent",className:v,...T}=Dh(e),C=us("chakra-spinner",v),E={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:l,borderBottomColor:g,borderLeftColor:g,animation:`${Fwe} ${h} linear infinite`,...i};return Ee.jsx(ni.div,{ref:t,__css:E,className:C,...T,children:a&&Ee.jsx(ni.span,{srOnly:!0,children:a})})});GD.displayName="Spinner";const[Owe,zD]=cd({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[Nwe,HD]=cd({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),B8={info:{icon:Rwe,colorScheme:"blue"},warning:{icon:FV,colorScheme:"orange"},success:{icon:Dwe,colorScheme:"green"},error:{icon:FV,colorScheme:"red"},loading:{icon:GD,colorScheme:"blue"}};function Mwe(e){return B8[e].colorScheme}function Lwe(e){return B8[e].icon}const U8=Js(function(t,i){const{status:a="info",addRole:l=!0,...h}=Dh(t),g=t.colorScheme??Mwe(a),v=kwe("Alert",{...t,colorScheme:g}),T={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...v.container};return Ee.jsx(Owe,{value:{status:a},children:Ee.jsx(Nwe,{value:v,children:Ee.jsx(ni.div,{"data-status":a,role:l?"alert":void 0,ref:i,...h,className:us("chakra-alert",t.className),__css:T})})})});U8.displayName="Alert";function V8(e){const{status:t}=zD(),i=Lwe(t),a=HD(),l=t==="loading"?a.spinner:a.icon;return Ee.jsx(ni.span,{display:"inherit","data-status":t,...e,className:us("chakra-alert__icon",e.className),__css:l,children:e.children||Ee.jsx(i,{h:"100%",w:"100%"})})}V8.displayName="AlertIcon";const j8=Js(function(t,i){const a=HD(),{status:l}=zD();return Ee.jsx(ni.div,{ref:i,"data-status":l,...t,className:us("chakra-alert__title",t.className),__css:a.title})});j8.displayName="AlertTitle";const G8=Js(function(t,i){const{status:a}=zD(),l=HD(),h={display:"inline",...l.description};return Ee.jsx(ni.div,{ref:i,"data-status":a,...t,className:us("chakra-alert__desc",t.className),__css:h})});G8.displayName="AlertDescription";function Wwe(e){return Ee.jsx(bv,{focusable:"false","aria-hidden":!0,...e,children:Ee.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const z8=Js(function(t,i){const a=Oh("CloseButton",t),{children:l,isDisabled:h,__css:g,...v}=Dh(t),T={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return Ee.jsx(ni.button,{type:"button","aria-label":"Close",ref:i,disabled:h,__css:{...T,...a,...g},...v,children:l||Ee.jsx(Wwe,{width:"1em",height:"1em"})})});z8.displayName="CloseButton";const Bwe=e=>{const{status:t,variant:i="solid",id:a,title:l,isClosable:h,onClose:g,description:v,colorScheme:T,icon:C}=e,E=a?{root:`toast-${a}`,title:`toast-${a}-title`,description:`toast-${a}-description`}:void 0;return Ee.jsxs(U8,{addRole:!1,status:t,variant:i,id:E==null?void 0:E.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:T,children:[Ee.jsx(V8,{children:C}),Ee.jsxs(ni.div,{flex:"1",maxWidth:"100%",children:[l&&Ee.jsx(j8,{id:E==null?void 0:E.title,children:l}),v&&Ee.jsx(G8,{id:E==null?void 0:E.description,display:"block",children:v})]}),h&&Ee.jsx(z8,{size:"sm",onClick:g,position:"absolute",insetEnd:1,top:1})]})};function Uwe(e={}){const{render:t,toastComponent:i=Bwe}=e;return l=>typeof t=="function"?t({...l,...e}):Ee.jsx(i,{...l,...e})}const Vwe={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},wm=jwe(Vwe);function jwe(e){let t=e;const i=new Set,a=l=>{t=l(t),i.forEach(h=>h())};return{getState:()=>t,subscribe:l=>(i.add(l),()=>{a(()=>e),i.delete(l)}),removeToast:(l,h)=>{a(g=>({...g,[h]:g[h].filter(v=>v.id!=l)}))},notify:(l,h)=>{const g=Gwe(l,h),{position:v,id:T}=g;return a(C=>{const A=v.includes("top")?[g,...C[v]??[]]:[...C[v]??[],g];return{...C,[v]:A}}),T},update:(l,h)=>{l&&a(g=>{const v={...g},{position:T,index:C}=PV(v,l);return T&&C!==-1&&(v[T][C]={...v[T][C],...h,message:Uwe(h)}),v})},closeAll:({positions:l}={})=>{a(h=>(l??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((T,C)=>(T[C]=h[C].map(E=>({...E,requestClose:!0})),T),{...h}))},close:l=>{a(h=>{const g=M8(h,l);return g?{...h,[g]:h[g].map(v=>v.id==l?{...v,requestClose:!0}:v)}:h})},isActive:l=>!!PV(wm.getState(),l).position}}let OV=0;function Gwe(e,t={}){OV+=1;const i=t.id??OV,a=t.position??"bottom";return{id:i,message:e,position:a,duration:t.duration,onCloseComplete:t.onCloseComplete,onRequestRemove:()=>wm.removeToast(String(i),a),status:t.status,requestClose:!1,containerStyle:t.containerStyle}}const[H8,zwe]=cd({strict:!1,name:"PortalContext"}),$D="chakra-portal",Hwe=".chakra-portal",$we=e=>Ee.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children}),Kwe=e=>{const{appendToParentPortal:t,children:i}=e,[a,l]=ye.useState(null),h=ye.useRef(null),[,g]=ye.useState({});ye.useEffect(()=>g({}),[]);const v=zwe(),T=xbe();qA(()=>{if(!a)return;const E=a.ownerDocument,A=t?v??E.body:E.body;if(!A)return;h.current=E.createElement("div"),h.current.className=$D,A.appendChild(h.current),g({});const D=h.current;return()=>{A.contains(D)&&A.removeChild(D)}},[a]);const C=T!=null&&T.zIndex?Ee.jsx($we,{zIndex:T==null?void 0:T.zIndex,children:i}):i;return h.current?Xk.createPortal(Ee.jsx(H8,{value:h.current,children:C}),h.current):Ee.jsx("span",{ref:E=>{E&&l(E)}})},Ywe=e=>{const{children:t,containerRef:i,appendToParentPortal:a}=e,l=i.current,h=l??(typeof window<"u"?document.body:void 0),g=ye.useMemo(()=>{const T=l==null?void 0:l.ownerDocument.createElement("div");return T&&(T.className=$D),T},[l]),[,v]=ye.useState({});return qA(()=>v({}),[]),qA(()=>{if(!(!g||!h))return h.appendChild(g),()=>{h.removeChild(g)}},[g,h]),h&&g?Xk.createPortal(Ee.jsx(H8,{value:a?g:null,children:t}),g):null};function n1(e){const t={appendToParentPortal:!0,...e},{containerRef:i,...a}=t;return i?Ee.jsx(Ywe,{containerRef:i,...a}):Ee.jsx(Kwe,{...a})}n1.className=$D;n1.selector=Hwe;n1.displayName="Portal";const[Qwe,BPe]=cd({name:"ToastOptionsContext",strict:!1}),Xwe=e=>{const t=ye.useSyncExternalStore(wm.subscribe,wm.getState,wm.getState),{motionVariants:i,component:a=L8,portalProps:l,animatePresenceProps:h}=e,v=Object.keys(t).map(T=>{const C=t[T];return Ee.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${T}`,id:`chakra-toast-manager-${T}`,style:swe(T),children:Ee.jsx(nwe,{...h,initial:!1,children:C.map(E=>Ee.jsx(a,{motionVariants:i,...E},E.id))})},T)});return Ee.jsx(n1,{...l,children:v})},Jwe=e=>function({children:i,theme:a=e,toastOptions:l,...h}){return Ee.jsxs(Abe,{theme:a,...h,children:[Ee.jsx(Qwe,{value:l==null?void 0:l.defaultOptions,children:i}),Ee.jsx(Xwe,{...l})]})},qwe=Jwe(cSe),[UPe,Zwe]=cd({strict:!1,name:"ButtonGroupContext"});function tm(e){const{children:t,className:i,...a}=e,l=ye.isValidElement(t)?ye.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,h=us("chakra-button__icon",i);return Ee.jsx(ni.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...a,className:h,children:l})}tm.displayName="ButtonIcon";function PP(e){const{label:t,placement:i,spacing:a="0.5rem",children:l=Ee.jsx(GD,{color:"currentColor",width:"1em",height:"1em"}),className:h,__css:g,...v}=e,T=us("chakra-button__spinner",h),C=i==="start"?"marginEnd":"marginStart",E=ye.useMemo(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[C]:t?a:0,fontSize:"1em",lineHeight:"normal",...g}),[g,t,C,a]);return Ee.jsx(ni.div,{className:T,...v,__css:E,children:l})}PP.displayName="ButtonSpinner";function eEe(e){const[t,i]=ye.useState(!e);return{ref:ye.useCallback(h=>{h&&i(h.tagName==="BUTTON")},[]),type:t?"button":void 0}}const _a=Js((e,t)=>{const i=Zwe(),a=Oh("Button",{...i,...e}),{isDisabled:l=i==null?void 0:i.isDisabled,isLoading:h,isActive:g,children:v,leftIcon:T,rightIcon:C,loadingText:E,iconSpacing:A="0.5rem",type:D,spinner:M,spinnerPlacement:w="start",className:O,as:N,shouldWrapChildren:k,...R}=Dh(e),W=ye.useMemo(()=>{const X={...a==null?void 0:a._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...a,...!!i&&{_focus:X}}},[a,i]),{ref:K,type:de}=eEe(N),ee={rightIcon:C,leftIcon:T,iconSpacing:A,children:v,shouldWrapChildren:k};return Ee.jsxs(ni.button,{disabled:l||h,ref:Uhe(t,K),as:N,type:D??de,"data-active":z3(g),"data-loading":z3(h),__css:W,className:us("chakra-button",O),...R,children:[h&&w==="start"&&Ee.jsx(PP,{className:"chakra-button__spinner--start",label:E,placement:"start",spacing:A,children:M}),h?E||Ee.jsx(ni.span,{opacity:0,children:Ee.jsx(NV,{...ee})}):Ee.jsx(NV,{...ee}),h&&w==="end"&&Ee.jsx(PP,{className:"chakra-button__spinner--end",label:E,placement:"end",spacing:A,children:M})]})});_a.displayName="Button";function NV(e){const{leftIcon:t,rightIcon:i,children:a,iconSpacing:l,shouldWrapChildren:h}=e;return h?Ee.jsxs("span",{style:{display:"contents"},children:[t&&Ee.jsx(tm,{marginEnd:l,children:t}),a,i&&Ee.jsx(tm,{marginStart:l,children:i})]}):Ee.jsxs(Ee.Fragment,{children:[t&&Ee.jsx(tm,{marginEnd:l,children:t}),a,i&&Ee.jsx(tm,{marginStart:l,children:i})]})}const ts=Js(function(t,i){const{direction:a,align:l,justify:h,wrap:g,basis:v,grow:T,shrink:C,...E}=t,A={display:"flex",flexDirection:a,alignItems:l,justifyContent:h,flexWrap:g,flexBasis:v,flexGrow:T,flexShrink:C};return Ee.jsx(ni.div,{ref:i,__css:A,...E})});ts.displayName="Flex";const $8=Js(function(t,i){const a=Oh("Link",t),{className:l,isExternal:h,...g}=Dh(t);return Ee.jsx(ni.a,{target:h?"_blank":void 0,rel:h?"noopener":void 0,ref:i,className:us("chakra-link",l),...g,__css:a})});$8.displayName="Link";const Df=Js(function(t,i){const a=Oh("Text",t),{className:l,align:h,decoration:g,casing:v,...T}=Dh(t),C=qk({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return Ee.jsx(ni.p,{ref:i,className:us("chakra-text",t.className),...C,...T,__css:a})});Df.displayName="Text";function K8(e,t){return function(){return e.apply(t,arguments)}}const{toString:tEe}=Object.prototype,{getPrototypeOf:KD}=Object,i1=(e=>t=>{const i=tEe.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),cs=e=>(e=e.toLowerCase(),t=>i1(t)===e),o1=e=>t=>typeof t===e,{isArray:Nh}=Array,ov=o1("undefined");function rEe(e){return e!==null&&!ov(e)&&e.constructor!==null&&!ov(e.constructor)&&$o(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Y8=cs("ArrayBuffer");function nEe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Y8(e.buffer),t}const iEe=o1("string"),$o=o1("function"),Q8=o1("number"),a1=e=>e!==null&&typeof e=="object",oEe=e=>e===!0||e===!1,aS=e=>{if(i1(e)!=="object")return!1;const t=KD(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},aEe=cs("Date"),sEe=cs("File"),uEe=cs("Blob"),cEe=cs("FileList"),lEe=e=>a1(e)&&$o(e.pipe),dEe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||$o(e.append)&&((t=i1(e))==="formdata"||t==="object"&&$o(e.toString)&&e.toString()==="[object FormData]"))},fEe=cs("URLSearchParams"),[hEe,pEe,gEe,mEe]=["ReadableStream","Request","Response","Headers"].map(cs),vEe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tv(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let a,l;if(typeof e!="object"&&(e=[e]),Nh(e))for(a=0,l=e.length;a<l;a++)t.call(null,e[a],a,e);else{const h=i?Object.getOwnPropertyNames(e):Object.keys(e),g=h.length;let v;for(a=0;a<g;a++)v=h[a],t.call(null,e[v],v,e)}}function X8(e,t){t=t.toLowerCase();const i=Object.keys(e);let a=i.length,l;for(;a-- >0;)if(l=i[a],t===l.toLowerCase())return l;return null}const Yl=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),J8=e=>!ov(e)&&e!==Yl;function kP(){const{caseless:e}=J8(this)&&this||{},t={},i=(a,l)=>{const h=e&&X8(t,l)||l;aS(t[h])&&aS(a)?t[h]=kP(t[h],a):aS(a)?t[h]=kP({},a):Nh(a)?t[h]=a.slice():t[h]=a};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Tv(arguments[a],i);return t}const _Ee=(e,t,i,{allOwnKeys:a}={})=>(Tv(t,(l,h)=>{i&&$o(l)?e[h]=K8(l,i):e[h]=l},{allOwnKeys:a}),e),yEe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),SEe=(e,t,i,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},bEe=(e,t,i,a)=>{let l,h,g;const v={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),h=l.length;h-- >0;)g=l[h],(!a||a(g,e,t))&&!v[g]&&(t[g]=e[g],v[g]=!0);e=i!==!1&&KD(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},TEe=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const a=e.indexOf(t,i);return a!==-1&&a===i},CEe=e=>{if(!e)return null;if(Nh(e))return e;let t=e.length;if(!Q8(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},IEe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&KD(Uint8Array)),wEe=(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let l;for(;(l=a.next())&&!l.done;){const h=l.value;t.call(e,h[0],h[1])}},EEe=(e,t)=>{let i;const a=[];for(;(i=e.exec(t))!==null;)a.push(i);return a},xEe=cs("HTMLFormElement"),AEe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,a,l){return a.toUpperCase()+l}),MV=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),PEe=cs("RegExp"),q8=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),a={};Tv(i,(l,h)=>{let g;(g=t(l,h,e))!==!1&&(a[h]=g||l)}),Object.defineProperties(e,a)},kEe=e=>{q8(e,(t,i)=>{if($o(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const a=e[i];if($o(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},DEe=(e,t)=>{const i={},a=l=>{l.forEach(h=>{i[h]=!0})};return Nh(e)?a(e):a(String(e).split(t)),i},REe=()=>{},FEe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Jx="abcdefghijklmnopqrstuvwxyz",LV="0123456789",Z8={DIGIT:LV,ALPHA:Jx,ALPHA_DIGIT:Jx+Jx.toUpperCase()+LV},OEe=(e=16,t=Z8.ALPHA_DIGIT)=>{let i="";const{length:a}=t;for(;e--;)i+=t[Math.random()*a|0];return i};function NEe(e){return!!(e&&$o(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const MEe=e=>{const t=new Array(10),i=(a,l)=>{if(a1(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[l]=a;const h=Nh(a)?[]:{};return Tv(a,(g,v)=>{const T=i(g,l+1);!ov(T)&&(h[v]=T)}),t[l]=void 0,h}}return a};return i(e,0)},LEe=cs("AsyncFunction"),WEe=e=>e&&(a1(e)||$o(e))&&$o(e.then)&&$o(e.catch),e7=((e,t)=>e?setImmediate:t?((i,a)=>(Yl.addEventListener("message",({source:l,data:h})=>{l===Yl&&h===i&&a.length&&a.shift()()},!1),l=>{a.push(l),Yl.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",$o(Yl.postMessage)),BEe=typeof queueMicrotask<"u"?queueMicrotask.bind(Yl):typeof process<"u"&&process.nextTick||e7,$e={isArray:Nh,isArrayBuffer:Y8,isBuffer:rEe,isFormData:dEe,isArrayBufferView:nEe,isString:iEe,isNumber:Q8,isBoolean:oEe,isObject:a1,isPlainObject:aS,isReadableStream:hEe,isRequest:pEe,isResponse:gEe,isHeaders:mEe,isUndefined:ov,isDate:aEe,isFile:sEe,isBlob:uEe,isRegExp:PEe,isFunction:$o,isStream:lEe,isURLSearchParams:fEe,isTypedArray:IEe,isFileList:cEe,forEach:Tv,merge:kP,extend:_Ee,trim:vEe,stripBOM:yEe,inherits:SEe,toFlatObject:bEe,kindOf:i1,kindOfTest:cs,endsWith:TEe,toArray:CEe,forEachEntry:wEe,matchAll:EEe,isHTMLForm:xEe,hasOwnProperty:MV,hasOwnProp:MV,reduceDescriptors:q8,freezeMethods:kEe,toObjectSet:DEe,toCamelCase:AEe,noop:REe,toFiniteNumber:FEe,findKey:X8,global:Yl,isContextDefined:J8,ALPHABET:Z8,generateString:OEe,isSpecCompliantForm:NEe,toJSONObject:MEe,isAsyncFn:LEe,isThenable:WEe,setImmediate:e7,asap:BEe};function Yt(e,t,i,a,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),a&&(this.request=a),l&&(this.response=l,this.status=l.status?l.status:null)}$e.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$e.toJSONObject(this.config),code:this.code,status:this.status}}});const t7=Yt.prototype,r7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{r7[e]={value:e}});Object.defineProperties(Yt,r7);Object.defineProperty(t7,"isAxiosError",{value:!0});Yt.from=(e,t,i,a,l,h)=>{const g=Object.create(t7);return $e.toFlatObject(e,g,function(T){return T!==Error.prototype},v=>v!=="isAxiosError"),Yt.call(g,e.message,t,i,a,l),g.cause=e,g.name=e.name,h&&Object.assign(g,h),g};const UEe=null;function DP(e){return $e.isPlainObject(e)||$e.isArray(e)}function n7(e){return $e.endsWith(e,"[]")?e.slice(0,-2):e}function WV(e,t,i){return e?e.concat(t).map(function(l,h){return l=n7(l),!i&&h?"["+l+"]":l}).join(i?".":""):t}function VEe(e){return $e.isArray(e)&&!e.some(DP)}const jEe=$e.toFlatObject($e,{},null,function(t){return/^is[A-Z]/.test(t)});function s1(e,t,i){if(!$e.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=$e.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,N){return!$e.isUndefined(N[O])});const a=i.metaTokens,l=i.visitor||E,h=i.dots,g=i.indexes,T=(i.Blob||typeof Blob<"u"&&Blob)&&$e.isSpecCompliantForm(t);if(!$e.isFunction(l))throw new TypeError("visitor must be a function");function C(w){if(w===null)return"";if($e.isDate(w))return w.toISOString();if(!T&&$e.isBlob(w))throw new Yt("Blob is not supported. Use a Buffer instead.");return $e.isArrayBuffer(w)||$e.isTypedArray(w)?T&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function E(w,O,N){let k=w;if(w&&!N&&typeof w=="object"){if($e.endsWith(O,"{}"))O=a?O:O.slice(0,-2),w=JSON.stringify(w);else if($e.isArray(w)&&VEe(w)||($e.isFileList(w)||$e.endsWith(O,"[]"))&&(k=$e.toArray(w)))return O=n7(O),k.forEach(function(W,K){!($e.isUndefined(W)||W===null)&&t.append(g===!0?WV([O],K,h):g===null?O:O+"[]",C(W))}),!1}return DP(w)?!0:(t.append(WV(N,O,h),C(w)),!1)}const A=[],D=Object.assign(jEe,{defaultVisitor:E,convertValue:C,isVisitable:DP});function M(w,O){if(!$e.isUndefined(w)){if(A.indexOf(w)!==-1)throw Error("Circular reference detected in "+O.join("."));A.push(w),$e.forEach(w,function(k,R){(!($e.isUndefined(k)||k===null)&&l.call(t,k,$e.isString(R)?R.trim():R,O,D))===!0&&M(k,O?O.concat(R):[R])}),A.pop()}}if(!$e.isObject(e))throw new TypeError("data must be an object");return M(e),t}function BV(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function YD(e,t){this._pairs=[],e&&s1(e,this,t)}const i7=YD.prototype;i7.append=function(t,i){this._pairs.push([t,i])};i7.toString=function(t){const i=t?function(a){return t.call(this,a,BV)}:BV;return this._pairs.map(function(l){return i(l[0])+"="+i(l[1])},"").join("&")};function GEe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function o7(e,t,i){if(!t)return e;const a=i&&i.encode||GEe,l=i&&i.serialize;let h;if(l?h=l(t,i):h=$e.isURLSearchParams(t)?t.toString():new YD(t,i).toString(a),h){const g=e.indexOf("#");g!==-1&&(e=e.slice(0,g)),e+=(e.indexOf("?")===-1?"?":"&")+h}return e}class zEe{constructor(){this.handlers=[]}use(t,i,a){return this.handlers.push({fulfilled:t,rejected:i,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$e.forEach(this.handlers,function(a){a!==null&&t(a)})}}const UV=zEe,a7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HEe=typeof URLSearchParams<"u"?URLSearchParams:YD,$Ee=typeof FormData<"u"?FormData:null,KEe=typeof Blob<"u"?Blob:null,YEe={isBrowser:!0,classes:{URLSearchParams:HEe,FormData:$Ee,Blob:KEe},protocols:["http","https","file","blob","url","data"]},QD=typeof window<"u"&&typeof document<"u",RP=typeof navigator=="object"&&navigator||void 0,QEe=QD&&(!RP||["ReactNative","NativeScript","NS"].indexOf(RP.product)<0),XEe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),JEe=QD&&window.location.href||"http://localhost",qEe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:QD,hasStandardBrowserEnv:QEe,hasStandardBrowserWebWorkerEnv:XEe,navigator:RP,origin:JEe},Symbol.toStringTag,{value:"Module"})),wo={...qEe,...YEe};function ZEe(e,t){return s1(e,new wo.classes.URLSearchParams,Object.assign({visitor:function(i,a,l,h){return wo.isNode&&$e.isBuffer(i)?(this.append(a,i.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},t))}function exe(e){return $e.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function txe(e){const t={},i=Object.keys(e);let a;const l=i.length;let h;for(a=0;a<l;a++)h=i[a],t[h]=e[h];return t}function s7(e){function t(i,a,l,h){let g=i[h++];if(g==="__proto__")return!0;const v=Number.isFinite(+g),T=h>=i.length;return g=!g&&$e.isArray(l)?l.length:g,T?($e.hasOwnProp(l,g)?l[g]=[l[g],a]:l[g]=a,!v):((!l[g]||!$e.isObject(l[g]))&&(l[g]=[]),t(i,a,l[g],h)&&$e.isArray(l[g])&&(l[g]=txe(l[g])),!v)}if($e.isFormData(e)&&$e.isFunction(e.entries)){const i={};return $e.forEachEntry(e,(a,l)=>{t(exe(a),l,i,0)}),i}return null}function rxe(e,t,i){if($e.isString(e))try{return(t||JSON.parse)(e),$e.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(i||JSON.stringify)(e)}const XD={transitional:a7,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const a=i.getContentType()||"",l=a.indexOf("application/json")>-1,h=$e.isObject(t);if(h&&$e.isHTMLForm(t)&&(t=new FormData(t)),$e.isFormData(t))return l?JSON.stringify(s7(t)):t;if($e.isArrayBuffer(t)||$e.isBuffer(t)||$e.isStream(t)||$e.isFile(t)||$e.isBlob(t)||$e.isReadableStream(t))return t;if($e.isArrayBufferView(t))return t.buffer;if($e.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let v;if(h){if(a.indexOf("application/x-www-form-urlencoded")>-1)return ZEe(t,this.formSerializer).toString();if((v=$e.isFileList(t))||a.indexOf("multipart/form-data")>-1){const T=this.env&&this.env.FormData;return s1(v?{"files[]":t}:t,T&&new T,this.formSerializer)}}return h||l?(i.setContentType("application/json",!1),rxe(t)):t}],transformResponse:[function(t){const i=this.transitional||XD.transitional,a=i&&i.forcedJSONParsing,l=this.responseType==="json";if($e.isResponse(t)||$e.isReadableStream(t))return t;if(t&&$e.isString(t)&&(a&&!this.responseType||l)){const g=!(i&&i.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(v){if(g)throw v.name==="SyntaxError"?Yt.from(v,Yt.ERR_BAD_RESPONSE,this,null,this.response):v}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wo.classes.FormData,Blob:wo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$e.forEach(["delete","get","head","post","put","patch"],e=>{XD.headers[e]={}});const JD=XD,nxe=$e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ixe=e=>{const t={};let i,a,l;return e&&e.split(`
`).forEach(function(g){l=g.indexOf(":"),i=g.substring(0,l).trim().toLowerCase(),a=g.substring(l+1).trim(),!(!i||t[i]&&nxe[i])&&(i==="set-cookie"?t[i]?t[i].push(a):t[i]=[a]:t[i]=t[i]?t[i]+", "+a:a)}),t},VV=Symbol("internals");function jg(e){return e&&String(e).trim().toLowerCase()}function sS(e){return e===!1||e==null?e:$e.isArray(e)?e.map(sS):String(e)}function oxe(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=i.exec(e);)t[a[1]]=a[2];return t}const axe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function qx(e,t,i,a,l){if($e.isFunction(a))return a.call(this,t,i);if(l&&(t=i),!!$e.isString(t)){if($e.isString(a))return t.indexOf(a)!==-1;if($e.isRegExp(a))return a.test(t)}}function sxe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,a)=>i.toUpperCase()+a)}function uxe(e,t){const i=$e.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+i,{value:function(l,h,g){return this[a].call(this,t,l,h,g)},configurable:!0})})}class u1{constructor(t){t&&this.set(t)}set(t,i,a){const l=this;function h(v,T,C){const E=jg(T);if(!E)throw new Error("header name must be a non-empty string");const A=$e.findKey(l,E);(!A||l[A]===void 0||C===!0||C===void 0&&l[A]!==!1)&&(l[A||T]=sS(v))}const g=(v,T)=>$e.forEach(v,(C,E)=>h(C,E,T));if($e.isPlainObject(t)||t instanceof this.constructor)g(t,i);else if($e.isString(t)&&(t=t.trim())&&!axe(t))g(ixe(t),i);else if($e.isHeaders(t))for(const[v,T]of t.entries())h(T,v,a);else t!=null&&h(i,t,a);return this}get(t,i){if(t=jg(t),t){const a=$e.findKey(this,t);if(a){const l=this[a];if(!i)return l;if(i===!0)return oxe(l);if($e.isFunction(i))return i.call(this,l,a);if($e.isRegExp(i))return i.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=jg(t),t){const a=$e.findKey(this,t);return!!(a&&this[a]!==void 0&&(!i||qx(this,this[a],a,i)))}return!1}delete(t,i){const a=this;let l=!1;function h(g){if(g=jg(g),g){const v=$e.findKey(a,g);v&&(!i||qx(a,a[v],v,i))&&(delete a[v],l=!0)}}return $e.isArray(t)?t.forEach(h):h(t),l}clear(t){const i=Object.keys(this);let a=i.length,l=!1;for(;a--;){const h=i[a];(!t||qx(this,this[h],h,t,!0))&&(delete this[h],l=!0)}return l}normalize(t){const i=this,a={};return $e.forEach(this,(l,h)=>{const g=$e.findKey(a,h);if(g){i[g]=sS(l),delete i[h];return}const v=t?sxe(h):String(h).trim();v!==h&&delete i[h],i[v]=sS(l),a[v]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return $e.forEach(this,(a,l)=>{a!=null&&a!==!1&&(i[l]=t&&$e.isArray(a)?a.join(", "):a)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const a=new this(t);return i.forEach(l=>a.set(l)),a}static accessor(t){const a=(this[VV]=this[VV]={accessors:{}}).accessors,l=this.prototype;function h(g){const v=jg(g);a[v]||(uxe(l,g),a[v]=!0)}return $e.isArray(t)?t.forEach(h):h(t),this}}u1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$e.reduceDescriptors(u1.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[i]=a}}});$e.freezeMethods(u1);const as=u1;function Zx(e,t){const i=this||JD,a=t||i,l=as.from(a.headers);let h=a.data;return $e.forEach(e,function(v){h=v.call(i,h,l.normalize(),t?t.status:void 0)}),l.normalize(),h}function u7(e){return!!(e&&e.__CANCEL__)}function Mh(e,t,i){Yt.call(this,e??"canceled",Yt.ERR_CANCELED,t,i),this.name="CanceledError"}$e.inherits(Mh,Yt,{__CANCEL__:!0});function c7(e,t,i){const a=i.config.validateStatus;!i.status||!a||a(i.status)?e(i):t(new Yt("Request failed with status code "+i.status,[Yt.ERR_BAD_REQUEST,Yt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function cxe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lxe(e,t){e=e||10;const i=new Array(e),a=new Array(e);let l=0,h=0,g;return t=t!==void 0?t:1e3,function(T){const C=Date.now(),E=a[h];g||(g=C),i[l]=T,a[l]=C;let A=h,D=0;for(;A!==l;)D+=i[A++],A=A%e;if(l=(l+1)%e,l===h&&(h=(h+1)%e),C-g<t)return;const M=E&&C-E;return M?Math.round(D*1e3/M):void 0}}function dxe(e,t){let i=0,a=1e3/t,l,h;const g=(C,E=Date.now())=>{i=E,l=null,h&&(clearTimeout(h),h=null),e.apply(null,C)};return[(...C)=>{const E=Date.now(),A=E-i;A>=a?g(C,E):(l=C,h||(h=setTimeout(()=>{h=null,g(l)},a-A)))},()=>l&&g(l)]}const nb=(e,t,i=3)=>{let a=0;const l=lxe(50,250);return dxe(h=>{const g=h.loaded,v=h.lengthComputable?h.total:void 0,T=g-a,C=l(T),E=g<=v;a=g;const A={loaded:g,total:v,progress:v?g/v:void 0,bytes:T,rate:C||void 0,estimated:C&&v&&E?(v-g)/C:void 0,event:h,lengthComputable:v!=null,[t?"download":"upload"]:!0};e(A)},i)},jV=(e,t)=>{const i=e!=null;return[a=>t[0]({lengthComputable:i,total:e,loaded:a}),t[1]]},GV=e=>(...t)=>$e.asap(()=>e(...t)),fxe=wo.hasStandardBrowserEnv?function(){const t=wo.navigator&&/(msie|trident)/i.test(wo.navigator.userAgent),i=document.createElement("a");let a;function l(h){let g=h;return t&&(i.setAttribute("href",g),g=i.href),i.setAttribute("href",g),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return a=l(window.location.href),function(g){const v=$e.isString(g)?l(g):g;return v.protocol===a.protocol&&v.host===a.host}}():function(){return function(){return!0}}(),hxe=wo.hasStandardBrowserEnv?{write(e,t,i,a,l,h){const g=[e+"="+encodeURIComponent(t)];$e.isNumber(i)&&g.push("expires="+new Date(i).toGMTString()),$e.isString(a)&&g.push("path="+a),$e.isString(l)&&g.push("domain="+l),h===!0&&g.push("secure"),document.cookie=g.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pxe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function gxe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function l7(e,t){return e&&!pxe(t)?gxe(e,t):t}const zV=e=>e instanceof as?{...e}:e;function ad(e,t){t=t||{};const i={};function a(C,E,A){return $e.isPlainObject(C)&&$e.isPlainObject(E)?$e.merge.call({caseless:A},C,E):$e.isPlainObject(E)?$e.merge({},E):$e.isArray(E)?E.slice():E}function l(C,E,A){if($e.isUndefined(E)){if(!$e.isUndefined(C))return a(void 0,C,A)}else return a(C,E,A)}function h(C,E){if(!$e.isUndefined(E))return a(void 0,E)}function g(C,E){if($e.isUndefined(E)){if(!$e.isUndefined(C))return a(void 0,C)}else return a(void 0,E)}function v(C,E,A){if(A in t)return a(C,E);if(A in e)return a(void 0,C)}const T={url:h,method:h,data:h,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:v,headers:(C,E)=>l(zV(C),zV(E),!0)};return $e.forEach(Object.keys(Object.assign({},e,t)),function(E){const A=T[E]||l,D=A(e[E],t[E],E);$e.isUndefined(D)&&A!==v||(i[E]=D)}),i}const d7=e=>{const t=ad({},e);let{data:i,withXSRFToken:a,xsrfHeaderName:l,xsrfCookieName:h,headers:g,auth:v}=t;t.headers=g=as.from(g),t.url=o7(l7(t.baseURL,t.url),e.params,e.paramsSerializer),v&&g.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):"")));let T;if($e.isFormData(i)){if(wo.hasStandardBrowserEnv||wo.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if((T=g.getContentType())!==!1){const[C,...E]=T?T.split(";").map(A=>A.trim()).filter(Boolean):[];g.setContentType([C||"multipart/form-data",...E].join("; "))}}if(wo.hasStandardBrowserEnv&&(a&&$e.isFunction(a)&&(a=a(t)),a||a!==!1&&fxe(t.url))){const C=l&&h&&hxe.read(h);C&&g.set(l,C)}return t},mxe=typeof XMLHttpRequest<"u",vxe=mxe&&function(e){return new Promise(function(i,a){const l=d7(e);let h=l.data;const g=as.from(l.headers).normalize();let{responseType:v,onUploadProgress:T,onDownloadProgress:C}=l,E,A,D,M,w;function O(){M&&M(),w&&w(),l.cancelToken&&l.cancelToken.unsubscribe(E),l.signal&&l.signal.removeEventListener("abort",E)}let N=new XMLHttpRequest;N.open(l.method.toUpperCase(),l.url,!0),N.timeout=l.timeout;function k(){if(!N)return;const W=as.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),de={data:!v||v==="text"||v==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:W,config:e,request:N};c7(function(X){i(X),O()},function(X){a(X),O()},de),N=null}"onloadend"in N?N.onloadend=k:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(k)},N.onabort=function(){N&&(a(new Yt("Request aborted",Yt.ECONNABORTED,e,N)),N=null)},N.onerror=function(){a(new Yt("Network Error",Yt.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let K=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const de=l.transitional||a7;l.timeoutErrorMessage&&(K=l.timeoutErrorMessage),a(new Yt(K,de.clarifyTimeoutError?Yt.ETIMEDOUT:Yt.ECONNABORTED,e,N)),N=null},h===void 0&&g.setContentType(null),"setRequestHeader"in N&&$e.forEach(g.toJSON(),function(K,de){N.setRequestHeader(de,K)}),$e.isUndefined(l.withCredentials)||(N.withCredentials=!!l.withCredentials),v&&v!=="json"&&(N.responseType=l.responseType),C&&([D,w]=nb(C,!0),N.addEventListener("progress",D)),T&&N.upload&&([A,M]=nb(T),N.upload.addEventListener("progress",A),N.upload.addEventListener("loadend",M)),(l.cancelToken||l.signal)&&(E=W=>{N&&(a(!W||W.type?new Mh(null,e,N):W),N.abort(),N=null)},l.cancelToken&&l.cancelToken.subscribe(E),l.signal&&(l.signal.aborted?E():l.signal.addEventListener("abort",E)));const R=cxe(l.url);if(R&&wo.protocols.indexOf(R)===-1){a(new Yt("Unsupported protocol "+R+":",Yt.ERR_BAD_REQUEST,e));return}N.send(h||null)})},_xe=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let a=new AbortController,l;const h=function(C){if(!l){l=!0,v();const E=C instanceof Error?C:this.reason;a.abort(E instanceof Yt?E:new Mh(E instanceof Error?E.message:E))}};let g=t&&setTimeout(()=>{g=null,h(new Yt(`timeout ${t} of ms exceeded`,Yt.ETIMEDOUT))},t);const v=()=>{e&&(g&&clearTimeout(g),g=null,e.forEach(C=>{C.unsubscribe?C.unsubscribe(h):C.removeEventListener("abort",h)}),e=null)};e.forEach(C=>C.addEventListener("abort",h));const{signal:T}=a;return T.unsubscribe=()=>$e.asap(v),T}},yxe=_xe,Sxe=function*(e,t){let i=e.byteLength;if(!t||i<t){yield e;return}let a=0,l;for(;a<i;)l=a+t,yield e.slice(a,l),a=l},bxe=async function*(e,t){for await(const i of Txe(e))yield*Sxe(i,t)},Txe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:a}=await t.read();if(i)break;yield a}}finally{await t.cancel()}},HV=(e,t,i,a)=>{const l=bxe(e,t);let h=0,g,v=T=>{g||(g=!0,a&&a(T))};return new ReadableStream({async pull(T){try{const{done:C,value:E}=await l.next();if(C){v(),T.close();return}let A=E.byteLength;if(i){let D=h+=A;i(D)}T.enqueue(new Uint8Array(E))}catch(C){throw v(C),C}},cancel(T){return v(T),l.return()}},{highWaterMark:2})},c1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",f7=c1&&typeof ReadableStream=="function",Cxe=c1&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),h7=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ixe=f7&&h7(()=>{let e=!1;const t=new Request(wo.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),$V=64*1024,FP=f7&&h7(()=>$e.isReadableStream(new Response("").body)),ib={stream:FP&&(e=>e.body)};c1&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ib[t]&&(ib[t]=$e.isFunction(e[t])?i=>i[t]():(i,a)=>{throw new Yt(`Response type '${t}' is not supported`,Yt.ERR_NOT_SUPPORT,a)})})})(new Response);const wxe=async e=>{if(e==null)return 0;if($e.isBlob(e))return e.size;if($e.isSpecCompliantForm(e))return(await new Request(wo.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if($e.isArrayBufferView(e)||$e.isArrayBuffer(e))return e.byteLength;if($e.isURLSearchParams(e)&&(e=e+""),$e.isString(e))return(await Cxe(e)).byteLength},Exe=async(e,t)=>{const i=$e.toFiniteNumber(e.getContentLength());return i??wxe(t)},xxe=c1&&(async e=>{let{url:t,method:i,data:a,signal:l,cancelToken:h,timeout:g,onDownloadProgress:v,onUploadProgress:T,responseType:C,headers:E,withCredentials:A="same-origin",fetchOptions:D}=d7(e);C=C?(C+"").toLowerCase():"text";let M=yxe([l,h&&h.toAbortSignal()],g),w;const O=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let N;try{if(T&&Ixe&&i!=="get"&&i!=="head"&&(N=await Exe(E,a))!==0){let de=new Request(t,{method:"POST",body:a,duplex:"half"}),ee;if($e.isFormData(a)&&(ee=de.headers.get("content-type"))&&E.setContentType(ee),de.body){const[X,ce]=jV(N,nb(GV(T)));a=HV(de.body,$V,X,ce)}}$e.isString(A)||(A=A?"include":"omit");const k="credentials"in Request.prototype;w=new Request(t,{...D,signal:M,method:i.toUpperCase(),headers:E.normalize().toJSON(),body:a,duplex:"half",credentials:k?A:void 0});let R=await fetch(w);const W=FP&&(C==="stream"||C==="response");if(FP&&(v||W&&O)){const de={};["status","statusText","headers"].forEach(he=>{de[he]=R[he]});const ee=$e.toFiniteNumber(R.headers.get("content-length")),[X,ce]=v&&jV(ee,nb(GV(v),!0))||[];R=new Response(HV(R.body,$V,X,()=>{ce&&ce(),O&&O()}),de)}C=C||"text";let K=await ib[$e.findKey(ib,C)||"text"](R,e);return!W&&O&&O(),await new Promise((de,ee)=>{c7(de,ee,{data:K,headers:as.from(R.headers),status:R.status,statusText:R.statusText,config:e,request:w})})}catch(k){throw O&&O(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new Yt("Network Error",Yt.ERR_NETWORK,e,w),{cause:k.cause||k}):Yt.from(k,k&&k.code,e,w)}}),OP={http:UEe,xhr:vxe,fetch:xxe};$e.forEach(OP,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const KV=e=>`- ${e}`,Axe=e=>$e.isFunction(e)||e===null||e===!1,p7={getAdapter:e=>{e=$e.isArray(e)?e:[e];const{length:t}=e;let i,a;const l={};for(let h=0;h<t;h++){i=e[h];let g;if(a=i,!Axe(i)&&(a=OP[(g=String(i)).toLowerCase()],a===void 0))throw new Yt(`Unknown adapter '${g}'`);if(a)break;l[g||"#"+h]=a}if(!a){const h=Object.entries(l).map(([v,T])=>`adapter ${v} `+(T===!1?"is not supported by the environment":"is not available in the build"));let g=t?h.length>1?`since :
`+h.map(KV).join(`
`):" "+KV(h[0]):"as no adapter specified";throw new Yt("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return a},adapters:OP};function eA(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mh(null,e)}function YV(e){return eA(e),e.headers=as.from(e.headers),e.data=Zx.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),p7.getAdapter(e.adapter||JD.adapter)(e).then(function(a){return eA(e),a.data=Zx.call(e,e.transformResponse,a),a.headers=as.from(a.headers),a},function(a){return u7(a)||(eA(e),a&&a.response&&(a.response.data=Zx.call(e,e.transformResponse,a.response),a.response.headers=as.from(a.response.headers))),Promise.reject(a)})}const g7="1.7.7",qD={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qD[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const QV={};qD.transitional=function(t,i,a){function l(h,g){return"[Axios v"+g7+"] Transitional option '"+h+"'"+g+(a?". "+a:"")}return(h,g,v)=>{if(t===!1)throw new Yt(l(g," has been removed"+(i?" in "+i:"")),Yt.ERR_DEPRECATED);return i&&!QV[g]&&(QV[g]=!0,console.warn(l(g," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(h,g,v):!0}};function Pxe(e,t,i){if(typeof e!="object")throw new Yt("options must be an object",Yt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let l=a.length;for(;l-- >0;){const h=a[l],g=t[h];if(g){const v=e[h],T=v===void 0||g(v,h,e);if(T!==!0)throw new Yt("option "+h+" must be "+T,Yt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Yt("Unknown option "+h,Yt.ERR_BAD_OPTION)}}const NP={assertOptions:Pxe,validators:qD},Ic=NP.validators;class ob{constructor(t){this.defaults=t,this.interceptors={request:new UV,response:new UV}}async request(t,i){try{return await this._request(t,i)}catch(a){if(a instanceof Error){let l;Error.captureStackTrace?Error.captureStackTrace(l={}):l=new Error;const h=l.stack?l.stack.replace(/^.+\n/,""):"";try{a.stack?h&&!String(a.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+h):a.stack=h}catch{}}throw a}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=ad(this.defaults,i);const{transitional:a,paramsSerializer:l,headers:h}=i;a!==void 0&&NP.assertOptions(a,{silentJSONParsing:Ic.transitional(Ic.boolean),forcedJSONParsing:Ic.transitional(Ic.boolean),clarifyTimeoutError:Ic.transitional(Ic.boolean)},!1),l!=null&&($e.isFunction(l)?i.paramsSerializer={serialize:l}:NP.assertOptions(l,{encode:Ic.function,serialize:Ic.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let g=h&&$e.merge(h.common,h[i.method]);h&&$e.forEach(["delete","get","head","post","put","patch","common"],w=>{delete h[w]}),i.headers=as.concat(g,h);const v=[];let T=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(i)===!1||(T=T&&O.synchronous,v.unshift(O.fulfilled,O.rejected))});const C=[];this.interceptors.response.forEach(function(O){C.push(O.fulfilled,O.rejected)});let E,A=0,D;if(!T){const w=[YV.bind(this),void 0];for(w.unshift.apply(w,v),w.push.apply(w,C),D=w.length,E=Promise.resolve(i);A<D;)E=E.then(w[A++],w[A++]);return E}D=v.length;let M=i;for(A=0;A<D;){const w=v[A++],O=v[A++];try{M=w(M)}catch(N){O.call(this,N);break}}try{E=YV.call(this,M)}catch(w){return Promise.reject(w)}for(A=0,D=C.length;A<D;)E=E.then(C[A++],C[A++]);return E}getUri(t){t=ad(this.defaults,t);const i=l7(t.baseURL,t.url);return o7(i,t.params,t.paramsSerializer)}}$e.forEach(["delete","get","head","options"],function(t){ob.prototype[t]=function(i,a){return this.request(ad(a||{},{method:t,url:i,data:(a||{}).data}))}});$e.forEach(["post","put","patch"],function(t){function i(a){return function(h,g,v){return this.request(ad(v||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:h,data:g}))}}ob.prototype[t]=i(),ob.prototype[t+"Form"]=i(!0)});const uS=ob;class ZD{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(h){i=h});const a=this;this.promise.then(l=>{if(!a._listeners)return;let h=a._listeners.length;for(;h-- >0;)a._listeners[h](l);a._listeners=null}),this.promise.then=l=>{let h;const g=new Promise(v=>{a.subscribe(v),h=v}).then(l);return g.cancel=function(){a.unsubscribe(h)},g},t(function(h,g,v){a.reason||(a.reason=new Mh(h,g,v),i(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=a=>{t.abort(a)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new ZD(function(l){t=l}),cancel:t}}}const kxe=ZD;function Dxe(e){return function(i){return e.apply(null,i)}}function Rxe(e){return $e.isObject(e)&&e.isAxiosError===!0}const MP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(MP).forEach(([e,t])=>{MP[t]=e});const Fxe=MP;function m7(e){const t=new uS(e),i=K8(uS.prototype.request,t);return $e.extend(i,uS.prototype,t,{allOwnKeys:!0}),$e.extend(i,t,null,{allOwnKeys:!0}),i.create=function(l){return m7(ad(e,l))},i}const Bn=m7(JD);Bn.Axios=uS;Bn.CanceledError=Mh;Bn.CancelToken=kxe;Bn.isCancel=u7;Bn.VERSION=g7;Bn.toFormData=s1;Bn.AxiosError=Yt;Bn.Cancel=Bn.CanceledError;Bn.all=function(t){return Promise.all(t)};Bn.spread=Dxe;Bn.isAxiosError=Rxe;Bn.mergeConfig=ad;Bn.AxiosHeaders=as;Bn.formToJSON=e=>s7($e.isHTMLForm(e)?new FormData(e):e);Bn.getAdapter=p7.getAdapter;Bn.HttpStatusCode=Fxe;Bn.default=Bn;const LP=Bn,Oxe="Iv23liZzMuid1Me3knW8",Nxe="806e26a9145804211bf7d255fc871e06f4f24235",Mxe=({onHandleImage:e})=>{const t=ye.useRef(null),i=ye.useRef(null),a=async()=>{const h=await navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"environment"}}});t.current&&(t.current.srcObject=h)},l=()=>{if(i.current&&t.current){const h=i.current.getContext("2d");h&&(h.drawImage(t.current,0,0,i.current.width,i.current.height),i.current.toBlob(g=>{if(g){const v=new File([g],"photo.jpg",{type:"image/jpeg"});e(v)}},"image/jpeg"))}};return Ee.jsxs("div",{children:[Ee.jsx("video",{ref:t,autoPlay:!0,width:"300",height:"200"}),Ee.jsx("button",{onClick:a,children:"Start Camera"}),Ee.jsx("button",{onClick:l,children:"Take Photo"}),Ee.jsx("canvas",{ref:i,style:{display:"none"},width:"300",height:"200"})]})},Lxe=({onHandleImage:e})=>{const t=i=>{var l;const a=(l=i.target.files)==null?void 0:l[0];a&&e(a)};return Ee.jsx("div",{children:Ee.jsx("input",{type:"file",accept:"image/*",onChange:t})})},Wxe=({onHandleImage:e})=>{const[t,i]=yi.useState(""),a=async()=>{const h=await(await fetch(t)).blob(),g=new File([h],"image.jpg",{type:"image/jpeg"});e(g)};return Ee.jsxs("div",{children:[Ee.jsx("input",{type:"text",value:t,onChange:l=>i(l.target.value),placeholder:"Enter image URL"}),Ee.jsx("button",{onClick:a,children:"Import Image"})]})};function XV(e,t,i){return new Promise((a,l)=>{const h=new FileReader;h.onload=g=>{var T;const v=new Image;v.onload=()=>{const C=document.createElement("canvas");let E=v.width,A=v.height;console.log("ww"),E>A?E>t&&(A*=t/E,E=t):A>i&&(E*=i/A,A=i),C.width=E,C.height=A;const D=C.getContext("2d");if(D){D.drawImage(v,0,0,E,A);const M=D.getImageData(0,0,E,A);a(M)}else l(new Error("Could not get canvas context"))},v.onerror=C=>l(C),v.src=(T=g.target)==null?void 0:T.result},h.onerror=g=>l(g),h.readAsDataURL(e)})}var JV;(function(e){function t(i){return`RgbColor(${i.r},${i.g},${i.b})`}e.toString=t})(JV||(JV={}));const yu=class yu{constructor(t=0,i=0,a=0,l=255){gi(this,"r");gi(this,"g");gi(this,"b");gi(this,"a");this.r=t,this.g=i,this.b=a,this.a=l}static fromRgbColorData(t){return new yu(t.r,t.g,t.b,t.a??255)}static createRandomColor(){const t=new yu;return t.randomize(),t}static fromPixelArray(t,i,a=!0){const l=new yu;return l.setFromPixelArray(t,i,a),l}static fromHex(t){var a;const i=(a=t.substring(1).match(/.{1,2}/g))==null?void 0:a.map(l=>parseInt(l,16));return yu.fromPixelArray(i,0,i.length>3)}static buildColorAverage(t){const i=Math.floor(t.r/t.n),a=Math.floor(t.g/t.n),l=Math.floor(t.b/t.n),h=Math.floor(t.a/t.n);return new yu(i,a,l,h)}isInvisible(){return this.a<yu.MINIMUM_A}hasOpacity(){return this.a<255}setFromColorCounts(t){this.r=Math.floor(t.r/t.n),this.g=Math.floor(t.g/t.n),this.b=Math.floor(t.b/t.n),this.a=Math.floor(t.a/t.n)}randomize(){this.r=Math.floor(Math.random()*256),this.g=Math.floor(Math.random()*256),this.b=Math.floor(Math.random()*256),this.a=Math.floor(Math.random()*128)+128}setFromPixelArray(t,i,a=!0){const h=i*(a?4:3);this.r=t[h+0],this.g=t[h+1],this.b=t[h+2],this.a=a?t[h+3]:255}get[Symbol.toStringTag](){return`RgbaColor(${this.r},${this.g},${this.b},${this.a})`}calculateDistanceToPixelInArray(t,i,a=!0){const l=a?t[i+3]:255;return Math.abs(this.r-t[i])+Math.abs(this.g-t[i+1])+Math.abs(this.b-t[i+2])+Math.abs(this.a-l)}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===(t.a??255)}toCssColor(){return this.hasOpacity()?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toCssColorHex(){let i=this.toInt32().toString(16);const a=(this.hasOpacity()?8:6)-i.length;return a>0&&(i="0".repeat(a)+i),"#"+i.toUpperCase()}toInt32(){return this.hasOpacity()?(this.r<<24|this.g<<16|this.b<<8|this.a)>>>0:(this.r<<16|this.g<<8|this.b)>>>0}};gi(yu,"MINIMUM_A",13);let Xs=yu;var av;(function(e){e.OFF="off",e.ON="on",e.REASONABLE="reasonable"})(av||(av={}));class Bxe{constructor(t,i,a){gi(this,"rows");gi(this,"palette");gi(this,"options");gi(this,"verbose");this.options=i,this.verbose=i.verbose??!1,this.palette=this.buildPalette(t,a),this.verbose&&console.time(" - Color Quantization"),this.rows=this.buildColorData(t,this.palette),this.verbose&&console.timeEnd(" - Color Quantization")}buildPalette(t,i){const a=Math.max(this.options.numberOfColors,2),l=i(t,a);return this.options.verbose&&console.log(`Created palette with ${l.length} colors.`),l.map(h=>h instanceof Xs?h:Xs.fromRgbColorData(h))}buildColorData(t,i){let a;const l=Math.max(this.options.colorClusteringCycles,1);for(let h=1;h<=l;h++){const g=h===l,v=this.runClusteringCycle(t,i,g),T=g||a&&this.colorIndexesEqual(a,v);if(a=v,T){this.options.verbose&&console.log(`Ran ${h} clustering cycles`);break}}return a}runClusteringCycle(t,i,a){const l=this.buildImageColorIndex(t,i),h=this.buildColorCounts(t,l,i.length),g=t.width*t.height;return this.adjustPaletteToColorAverages(i,h,g,a),l}colorIndexesEqual(t,i){if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++){const l=t[a],h=i[a];if(l.length!==h.length)return!1;for(let g=0;g<l.length;g++)if(l[g]!==h[g])return!1}return!0}adjustPaletteToColorAverages(t,i,a,l){for(let h=0;h<t.length;h++){const g=i[h];this.options.minColorQuota>0&&g.n/a<this.options.minColorQuota&&!l?t[h].randomize():g.n>0&&t[h].setFromColorCounts(g)}}buildImageColorIndex(t,i){const a=this.options.colorDistanceBuffering;return a===av.ON||a===av.REASONABLE&&i.length>=32?this.buildImageColorIndexBuffered(t,i):this.buildImageColorIndexUnbuffered(t,i)}buildImageColorIndexUnbuffered(t,i){const a=this.initColorIndexArray(t.width,t.height);for(let l=0;l<t.height;l++)for(let h=0;h<t.width;h++){const g=(l*t.width+h)*4,v=this.findClosestPaletteColorIx(t,g,i);a[l+1][h+1]=v}return a}buildImageColorIndexBuffered(t,i){const a=this.initColorIndexArray(t.width,t.height),l=[];let h=0,g=0;for(let v=0;v<t.height;v++)for(let T=0;T<t.width;T++){const C=(v*t.width+T)*4,E=this.getPixelColorId(t,C);l[E]!==void 0?h++:(l[E]=this.findClosestPaletteColorIx(t,C,i),g++),a[v+1][T+1]=l[E]}return this.verbose&&console.log(`Buffered ${g} colors to skip ${h} comparisons (`,Math.round(100*h/(h+g)),"%)"),a}getPixelColorId(t,i){return(t.data[i]<<24|t.data[i+1]<<16|t.data[i+2]<<8|t.data[i+3])>>>0}initColorIndexArray(t,i){const a=[];for(let l=0;l<i+2;l++)a[l]=new Array(t+2).fill(-1);return a}buildColorCounts(t,i,a){const l=this.initColorCounts(a);for(let h=0;h<t.height;h++)for(let g=0;g<t.width;g++){const v=i[h+1][g+1],T=l[v],C=(h*t.width+g)*4;T.r+=t.data[C],T.g+=t.data[C+1],T.b+=t.data[C+2],T.a+=t.data[C+3],T.n++}return l}initColorCounts(t){const i=[];for(let a=0;a<t;a++)i[a]={r:0,g:0,b:0,a:0,n:0};return i}findClosestPaletteColorIx(t,i,a){let l=0,h=1024;for(let g=0;g<a.length;g++){const T=a[g].calculateDistanceToPixelInArray(t.data,i);T>=h||(h=T,l=g)}return l}}var Qa;(function(e){e[e.RIGHT=0]="RIGHT",e[e.DOWN_RIGHT=1]="DOWN_RIGHT",e[e.DOWN=2]="DOWN",e[e.DOWN_LEFT=3]="DOWN_LEFT",e[e.LEFT=4]="LEFT",e[e.UP_LEFT=5]="UP_LEFT",e[e.UP=6]="UP",e[e.UP_RIGHT=7]="UP_RIGHT",e[e.NONE=0]="NONE"})(Qa||(Qa={}));var sv;(function(e){e.OFF="off",e.INTERPOLATE="interpolate"})(sv||(sv={}));class qV{interpolate(t,i,a){const l=[];for(const h of i){const v={points:this.interpolatePointsUsingMode(t,h.points,a),boundingBox:h.boundingBox,childHoles:h.childHoles,isHole:h.isHole};l.push(v)}return l}interpolatePointsUsingMode(t,i,a){switch(t){case sv.OFF:return i.map((l,h)=>this.trajectoryPointFromEdgePoint(i,h));default:case sv.INTERPOLATE:return this.buildInterpolatedPoints(i,a)}}trajectoryPointFromEdgePoint(t,i){const a=t[i],l=(i+1)%t.length,h=t[l];return{x:a.x,y:a.y,data:this.geTrajectory(a.x,a.y,h.x,h.y)}}buildInterpolatedPoints(t,i){const a=[];for(let l=0;l<t.length;l++){if(i&&this.isRightAngle(t,l)){const g=this.buildCornerPoint(t,l);this.updateLastPointTrajectory(a,t[l]),a.push(g)}const h=this.interpolateNextTwoPoints(t,l);a.push(h)}return a}updateLastPointTrajectory(t,i){if(t.length===0)return;const a=t.length-1,l=t[a];l.data=this.geTrajectory(l.x,l.y,i.x,i.y)}interpolateNextTwoPoints(t,i){const a=t.length,l=(i+1)%a,h=(i+2)%a,g=t[i],v=t[l],T=t[h],C=(g.x+v.x)/2,E=(g.y+v.y)/2,A=(v.x+T.x)/2,D=(v.y+T.y)/2;return{x:C,y:E,data:this.geTrajectory(C,E,A,D)}}isRightAngle(t,i){const a=t.length,l=t[i],h=(i+1)%a,g=(i+2)%a,v=(i-1+a)%a,T=(i-2+a)%a;return l.x===t[T].x&&l.x===t[v].x&&l.y===t[h].y&&l.y===t[g].y||l.y===t[T].y&&l.y===t[v].y&&l.x===t[h].x&&l.x===t[g].x}buildCornerPoint(t,i){const a=(i+1)%t.length,l=t[i],h=t[a],g=(l.x+h.x)/2,v=(l.y+h.y)/2,T=this.geTrajectory(l.x,l.y,g,v);return{x:l.x,y:l.y,data:T}}geTrajectory(t,i,a,l){return t<a?i<l?Qa.DOWN_RIGHT:i>l?Qa.UP_RIGHT:Qa.RIGHT:t>a?i<l?Qa.DOWN_LEFT:i>l?Qa.UP_LEFT:Qa.LEFT:i<l?Qa.DOWN:i>l?Qa.UP:Qa.NONE}}var uv;(function(e){e.OFF="off",e.KEEP_RATIO="ratio",e.ALL="all"})(uv||(uv={}));var Nc;(function(e){e.FILL="fill",e.STROKE="stroke",e.STROKE_FILL="stroke+fill"})(Nc||(Nc={}));const v7={strokeWidth:1,lineFilter:!1,scale:1,decimalPlaces:1,viewBox:!0,desc:!1,segmentEndpointRadius:0,curveControlPointRadius:0,fillStyle:Nc.STROKE_FILL,trim:uv.OFF};var Ji;(function(e){e.GENERATE="generate",e.SAMPLE="sample",e.SCAN="scan",e.PALETTE="palette"})(Ji||(Ji={}));var ab;(function(e){e[e.SEQUENTIAL=1]="SEQUENTIAL",e[e.PARALLEL=2]="PARALLEL"})(ab||(ab={}));var sb;(function(e){function t(l){return Object.assign({},i,l??{})}e.buildFrom=t;const i=Object.assign(v7,{lineErrorMargin:1,curveErrorMargin:1,minShapeOutline:8,enhanceRightAngles:!0,colorSamplingMode:Ji.SCAN,palette:null,numberOfColors:16,minColorQuota:0,colorClusteringCycles:3,colorDistanceBuffering:av.REASONABLE,layeringMode:ab.PARALLEL,interpolation:sv.INTERPOLATE,blurRadius:0,blurDelta:20,sharpen:!1,sharpenThreshold:20}),a=l=>l;e.Presets=a({default:i,posterized1:{colorSamplingMode:Ji.GENERATE,numberOfColors:2},posterized2:{numberOfColors:4,blurRadius:5},curvy:{lineErrorMargin:.01,lineFilter:!0,enhanceRightAngles:!1},sharp:{curveErrorMargin:.01,lineFilter:!1},detailed:{minShapeOutline:0,decimalPlaces:2,lineErrorMargin:.5,curveErrorMargin:.5,numberOfColors:64},smoothed:{blurRadius:5,blurDelta:64},grayscale:{colorSamplingMode:Ji.GENERATE,colorClusteringCycles:1,numberOfColors:7},fixedpalette:{colorSamplingMode:Ji.GENERATE,colorClusteringCycles:1,numberOfColors:27},randomsampling1:{colorSamplingMode:Ji.SAMPLE,numberOfColors:8},randomsampling2:{colorSamplingMode:Ji.SAMPLE,numberOfColors:64},artistic1:{colorSamplingMode:Ji.GENERATE,colorClusteringCycles:1,minShapeOutline:0,blurRadius:5,blurDelta:64,lineErrorMargin:.01,lineFilter:!0,numberOfColors:16,strokeWidth:2},artistic2:{curveErrorMargin:.01,colorSamplingMode:Ji.GENERATE,colorClusteringCycles:1,numberOfColors:4,strokeWidth:0},artistic3:{curveErrorMargin:10,lineErrorMargin:10,numberOfColors:8},artistic4:{curveErrorMargin:10,lineErrorMargin:10,numberOfColors:64,blurRadius:5,blurDelta:256,strokeWidth:2},posterized3:{lineErrorMargin:1,curveErrorMargin:1,minShapeOutline:20,enhanceRightAngles:!0,colorSamplingMode:Ji.GENERATE,numberOfColors:3,minColorQuota:0,colorClusteringCycles:3,blurRadius:3,blurDelta:20,strokeWidth:0,lineFilter:!1,decimalPlaces:1,palette:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}})})(sb||(sb={}));const Uxe=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}];class Vxe{drawLayersToDiv(t,i,a){i=i||1;var l,h,g,v,T,C;a?(C=document.getElementById(a),C||(C=document.createElement("div"),C.id=a,document.body.appendChild(C))):(C=document.createElement("div"),document.body.appendChild(C));for(T in t){if(!t.hasOwnProperty(T))continue;l=t[T][0].length,h=t[T].length;const E=document.createElement("canvas");E.width=l*i,E.height=h*i;const A=this.getCanvasContext(E),D=Uxe;for(v=0;v<h;v++)for(g=0;g<l;g++){const M=t[T][v][g]%D.length,w=D[M];A.fillStyle=this.toRgbaLiteral(w),A.fillRect(g*i,v*i,i,i)}C.appendChild(E)}}toRgbaLiteral(t){return"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"}getCanvasContext(t){const i=t.getContext("2d");if(!i)throw new Error("Could not read canvas");return i}}class ZV{static buildForColors(t){const i=t.rows,a=i.length,l=i[0].length,h=[];for(let w=0;w<t.palette.length;w++){h[w]=[];for(let O=0;O<a;O++)h[w][O]=new Array(l).fill(0)}let g,v,T,C,E,A,D,M;for(let w=1;w<a-1;w++)for(let O=1;O<l-1;O++){const N=i[w][O];g=i[w-1][O-1]===N?1:0,v=i[w-1][O]===N?1:0,T=i[w-1][O+1]===N?1:0,C=i[w][O-1]===N?1:0,E=i[w][O+1]===N?1:0,A=i[w+1][O-1]===N?1:0,D=i[w+1][O]===N?1:0,M=i[w+1][O+1]===N?1:0;const k=h[N];k[w+1][O+1]=1+E*2+M*4+D*8,C||(k[w+1][O]=0+2+D*4+A*8),v||(k[w][O+1]=0+T*2+E*4+8),g||(k[w][O]=0+v*2+4+C*8)}return h}static buildForColor(t,i){const a=t.rows,l=a.length,h=a[0].length,g=[];for(let v=0;v<l;v++)g[v]=new Array(h).fill(0);for(let v=1;v<l;v++)for(let T=1;T<h;T++)g[v][T]=(a[v-1][T-1]===i?1:0)+(a[v-1][T]===i?2:0)+(a[v][T-1]===i?8:0)+(a[v][T]===i?4:0);return g}}const jxe=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]];class ej{scan(t,i){const a=t[0].length,l=t.length,h=[];let g=0;for(let v=0;v<l;v++)for(let T=0;T<a;T++){const C=t[v][T];if(C!==4&&C!==11)continue;let E=T,A=v;const D={points:[],boundingBox:[E,A,E,A],childHoles:[],isHole:C===11};h[g]=D;let M=!1,w=1;for(;!M;){const O=t[A][E];this.addPointToArea(D,E-1,A-1,O);const N=jxe[O][w];if(t[A][E]=N[0],w=N[1],E+=N[2],A+=N[3],E-1===D.points[0].x&&A-1===D.points[0].y){if(M=!0,D.points.length<i){h.pop();continue}if(D.isHole){const k=this.findParentId(D,h,g,a,l);h[k].childHoles.push(g)}g++}}}return h}addPointToArea(t,i,a,l){const h={x:i,y:a,data:l};return i<t.boundingBox[0]&&(t.boundingBox[0]=i),a<t.boundingBox[1]&&(t.boundingBox[1]=a),i>t.boundingBox[2]&&(t.boundingBox[2]=i),a>t.boundingBox[3]&&(t.boundingBox[3]=a),t.points.push(h)}findParentId(t,i,a,l,h){let g=0,v=[-1,-1,l+1,h+1];for(let T=0;T<a;T++){const C=i[T];!C.isHole&&this.boundingBoxIncludes(C.boundingBox,t.boundingBox)&&this.boundingBoxIncludes(v,C.boundingBox)&&this.pointInPolygon(t.points[0],C.points)&&(g=T,v=C.boundingBox)}return g}boundingBoxIncludes(t,i){return t[0]<i[0]&&t[1]<i[1]&&t[2]>i[2]&&t[3]>i[3]}pointInPolygon(t,i){let a=!1;for(let l=0,h=i.length-1;l<i.length;h=l++)a=i[l].y>t.y!=i[h].y>t.y&&t.x<(i[h].x-i[l].x)*(t.y-i[l].y)/(i[h].y-i[l].y)+i[l].x?!a:a;return a}}var WP;(function(e){function t(i){const a=`${i.type} ${i.x1} ${i.y1} ${i.x2} ${i.y2}`;return i.type==="L"?a:a+` ${i.x3} ${i.y3}`}e.toString=t})(WP||(WP={}));class tj{trace(t,i,a){const l=[],h=[].concat(t.points);h.push(h[0]);for(let g=0;g<h.length-1;){const v=this.findNextSequenceStartIx(h,g),T=this.getPathCommandsOfSequence(h,i,a,g,v);l.push(...T),g=v}return{lineAttributes:l,boundingBox:t.boundingBox,childHoles:t.childHoles,isHole:t.isHole}}findNextSequenceStartIx(t,i){const a=t[i].data;let l=i+1,h=t[l],g=null;for(;(h.data===a||h.data===g||g===null)&&l<t.length-1;)h.data!==a&&g===null&&(g=h.data),l++,h=t[l];return l===t.length-2?l+1:l}getPathCommandsOfSequence(t,i,a,l,h){if(h>t.length||h<0)return[];const g=this.checkSequenceFitsLine(t,i,l,h);if(typeof g=="object")return[g];const v=this.checkSequenceFitsCurve(t,a,l,h,g);if(typeof v=="object")return[v];const T=g,C=this.getPathCommandsOfSequence(t,i,a,l,T),E=this.getPathCommandsOfSequence(t,i,a,T,h);return C.concat(E)}checkSequenceFitsLine(t,i,a,l){const h=l-a,g=t[a],v=t[l],T=(v.x-g.x)/h,C=(v.y-g.y)/h;let E=!0,A=a,D=0;for(let M=a+1;M<l;M++){const w=M-a,O=g.x+w*T,N=g.y+w*C,k=t[M],R=(k.x-O)*(k.x-O)+(k.y-N)*(k.y-N);R>i&&(E=!1),R>D&&(A=M,D=R)}return E?{type:"L",x1:g.x,y1:g.y,x2:v.x,y2:v.y}:A}checkSequenceFitsCurve(t,i,a,l,h){const g=l-a,v=t[a],T=t[l];let C=!0,E=0,A=a,D=h-a,M=D/g,w=(1-M)*(1-M),O=2*(1-M)*M,N=M*M;const k=(w*v.x+N*T.x-t[h].x)/-O,R=(w*v.y+N*T.y-t[h].y)/-O;for(let W=a+1;W!=l;W=(W+1)%t.length){D=W-a,M=D/g,w=(1-M)*(1-M),O=2*(1-M)*M,N=M*M;const K=w*v.x+O*k+N*T.x,de=w*v.y+O*R+N*T.y,ee=t[W],X=(ee.x-K)*(ee.x-K)+(ee.y-de)*(ee.y-de);X>i&&(C=!1),X>E&&(A=W,E=X)}return C?{type:"Q",x1:v.x,y1:v.y,x2:k,y2:R,x3:T.x,y3:T.y}:A}}var BP;(function(e){function t(h,g,v,T=!1){const C=i(h,g);v&&a(C,h),!(C.minX===0&&C.maxX===h.width&&C.minY===0&&C.maxY===h.height)&&(T&&console.log(`Trimming x[${C.minX}|${C.maxX}]/${h.width}, y[${C.minY}|${C.maxY}]/${h.height}`),l(h,C))}e.trim=t;function i(h,g){let v=h.width,T=h.height,C=0,E=0;for(let D=0;D<h.areasByColor.length;D++){if(h.colors[D].a===0)continue;const w=h.areasByColor[D];for(const O of w)for(const N of O.lineAttributes){const k=N.type==="Q";v=Math.min(v,N.x1,N.x2,k?N.x3:v),C=Math.max(C,N.x1,N.x2,k?N.x3:0),T=Math.min(T,N.y1,N.y2,k?N.y3:T),E=Math.max(E,N.y1,N.y2,k?N.y3:0)}}const A=Math.floor(g/2);return v-=A,T-=A,C+=A,E+=A,{minX:v,maxX:C,minY:T,maxY:E}}function a(h,g){const v=h.maxX-h.minX,T=h.maxY-h.minY,C=g.width,E=g.height,A=Math.ceil(T*C/E);if(v===A)return;if(A>v){const w=(A-v)/2;h.minX-=Math.ceil(w),h.maxX+=Math.floor(w);return}const M=(Math.ceil(v*E/C)-T)/2;h.minY-=Math.ceil(M),h.maxY+=Math.floor(M)}function l(h,g){const{minX:v,maxX:T,minY:C,maxY:E}=g;for(const A of h.areasByColor)for(const D of A)for(const M of D.lineAttributes)M.x1-=v,M.x2-=v,M.y1-=C,M.y2-=C,M.type==="Q"&&(M.x3-=v,M.y3-=C);h.height=E-C,h.width=T-v}})(BP||(BP={}));class rj{constructor(t){gi(this,"options");gi(this,"useStroke");gi(this,"useFill");this.options=Object.assign({},v7,t),this.useFill=[Nc.FILL,Nc.STROKE_FILL].includes(this.options.fillStyle),this.useStroke=[Nc.STROKE,Nc.STROKE_FILL].includes(this.options.fillStyle)}fixValue(t){return this.options.scale!==1&&(t*=this.options.scale),this.options.decimalPlaces===-1?t:+t.toFixed(this.options.decimalPlaces)}draw(t){this.init(t);const i=[];for(let a=0;a<t.areasByColor.length;a++)for(let l=0;l<t.areasByColor[a].length;l++)t.areasByColor[a][l].isHole||i.push(...this.buildSegmentTags(t,a,l));return this.options.verbose&&console.log(`Adding ${i.length} <path> tags to SVG.`),this.buildSvgTag(t,i)}init(t){if(this.options.trim!==uv.OFF){const i=this.options.fillStyle===Nc.FILL?0:this.options.strokeWidth,a=this.options.trim===uv.KEEP_RATIO;BP.trim(t,i,a,this.options.verbose)}}buildSegmentTags(t,i,a){const l=t.areasByColor[i],h=l[a],g=t.colors[i];if(!this.isValidLine(g,h.lineAttributes))return[];const v=[],T=this.options.desc?this.getDescriptionAttribute(t,i,a):"",C=this.buildPathTag(h,l,g,T);if(v.push(C),this.options.segmentEndpointRadius||this.options.curveControlPointRadius){const E=this.drawControlOutput(h,l);v.push(...E)}return v}isValidLine(t,i){const a=!this.options.lineFilter||i.length>=3;return!t.isInvisible()&&a}getDescriptionAttribute(t,i,a){const h=t.areasByColor[i][a].isHole?1:0,g=t.colors[i],v=`r:${g.r} g:${g.g} b:${g.b}`;return this.options.desc?`desc="colorId:${i} segment:${a} ${v} isHole:${h}" `:""}buildPath(t,i){const a=t.lineAttributes,l=[];l.push("M",this.fixValue(a[0].x1),this.fixValue(a[0].y1));for(const h of a)l.push(h.type,this.fixValue(h.x2),this.fixValue(h.y2)),"x3"in h&&l.push(this.fixValue(h.x3),this.fixValue(h.y3));l.push("Z");for(const h of t.childHoles){const g=i[h],v=g.lineAttributes[g.lineAttributes.length-1];l.push("M"),v.type==="Q"?l.push(this.fixValue(v.x3),this.fixValue(v.y3)):l.push(this.fixValue(v.x2),this.fixValue(v.y2));for(const T of g.lineAttributes.reverse())l.push(T.type),T.type==="Q"&&l.push(this.fixValue(T.x2),this.fixValue(T.y2)),l.push(this.fixValue(T.x1),this.fixValue(T.y1));l.push("Z")}return l.join(" ")}drawControlOutput(t,i){const a=this.drawControlPoint(t);for(let l of t.childHoles){const h=i[l],g=this.drawControlPoint(h);a.push(...g)}return a}drawControlPoint(t){const i=[];for(const a of t.lineAttributes){const l="x3"in a;if(this.options.segmentEndpointRadius){const h=l?a.x3:a.x2,g=l?a.y3:a.y2,v=this.buildCircleTag(h,g,this.options.segmentEndpointRadius,"white");i.push(v)}if(l&&this.options.curveControlPointRadius){const h="cyan",g=this.options.curveControlPointRadius*.2;i.push(this.buildCircleTag(a.x2,a.y2,this.options.curveControlPointRadius,h),this.buildLineTag(a.x1,a.y1,a.x2,a.y2,h,g),this.buildLineTag(a.x2,a.y2,a.x3,a.y3,h,g))}}return i}buildSvgTag(t,i){const a=Math.ceil(t.width*this.options.scale),l=Math.ceil(t.height*this.options.scale),h=this.options.viewBox?`viewBox="0 0 ${a} ${l}"`:`width="${a}" height="${l}"`,g=i.join(`
 `);return`<svg ${h} version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer-ts 1.0.2" >
 ${g}
</svg>`}buildPathTag(t,i,a,l=""){const h=this.buildPath(t,i),g=this.buildColorAttributes(a,t);return`<path ${l}${g}d="${h}" />`}buildCircleTag(t,i,a,l){const h=this.fixValue(t),g=this.fixValue(i),v=a*.2;return`<circle cx="${h}" cy="${g}" r="${a}" fill="${l}" stroke-width="${v}" stroke="black" />`}buildLineTag(t,i,a,l,h,g){const v=this.fixValue(t),T=this.fixValue(i),C=this.fixValue(a),E=this.fixValue(l);return`<line x1="${v}" y1="${T}" x2="${C}" y2="${E}" stroke-width="${g}" stroke="${h}" />`}buildColorAttributes(t,i){const a=this.colorToRgbString(t);let h=`fill="${this.useFill?a:"none"}" `;this.useStroke&&(h+=`stroke="${a}" stroke-width="${this.options.strokeWidth}" `);const g=(t.a/255).toPrecision(1);return g!=="1"&&(h+=`opacity="${g}" `),h}colorToRgbString(t){return`rgb(${t.r},${t.g},${t.b})`}}function Gxe(e,t=null){switch(e){case Ji.GENERATE:return(i,a)=>zxe(a);case Ji.SAMPLE:return Kxe;case Ji.PALETTE:if(!t||t.length===0)throw new Error("No color palette in options but mode is set to palette");return(i,a)=>t.map(Xs.fromRgbColorData);case Ji.SCAN:default:return Yxe}}function zxe(e){return e<8?$xe(e):Hxe(e)}function Hxe(e){const t=[],i=Math.floor(Math.pow(e,.3333333333333333)),a=Math.floor(255/(i-1));for(let h=0,g=0;h<i;h++,g+=a)for(let v=0,T=0;v<i;v++,T+=a)for(let C=0,E=0;C<i;C++,E+=a)t.push(new Xs(g,T,E));const l=e-t.length;for(let h=0;h<l;h++)t.push(Xs.createRandomColor());return t}function $xe(e){const t=[],i=Math.floor(255/(e-1));for(let a=0;a<e;a++){const l=a*i,h=new Xs(l,l,l);t.push(h)}return t}function Kxe(e,t){const i=[],a=e.data.length/4;for(let l=4*t;l>0;l--){const h=Math.floor(Math.random()*a),g=Xs.fromPixelArray(e.data,h);if(!i.some(v=>v.equals(g))&&(i.push(g),i.length===t))break}return i}function Yxe(e,t){const i=[],a=Math.ceil(Math.sqrt(t)),l=e.width/(a+1),h=e.height/(a+1);for(let g=1;g<=a;g++){const v=g*h*e.width;for(let T=1;T<=a;T++){const C=Math.floor(v+T*l),E=Xs.fromPixelArray(e.data,C);if(!i.some(A=>E.equals(A))&&(i.push(E),i.length===t))break}}return i}var UP;(function(e){function t(a,l=!1){if(i(a))return a;l&&console.log("Transforming image data from RGB to RGBA");const h=a.width*a.height,g=h*4,v=new Uint8ClampedArray(g);for(let T=0;T<h;T++){const C=T*3,E=T*4;v[E+0]=a.data[C+0],v[E+1]=a.data[C+1],v[E+2]=a.data[C+2],v[E+3]=255}return{width:a.width,height:a.height,colorSpace:a.colorSpace,data:v}}e.process=t;function i(a){const h=a.width*a.height*4;return a.data.length>=h}})(UP||(UP={}));const Qxe=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]];class Em{static blur(t,i,a){if(i=Math.floor(i),i<1)return t;i>5&&(i=5),a=Math.abs(a),a>1024&&(a=1024);const l=Qxe[i-1],h={width:t.width,height:t.height,colorSpace:t.colorSpace,data:new Uint8ClampedArray(t.width*t.height*4)};return Em.blurHorizontally(t,i,l,h.data),Em.blurVertically(h,i,l),Em.checkDelta(t,h.data,a),h}static blurHorizontally(t,i,a,l){for(let h=0;h<t.height;h++)for(let g=0;g<t.width;g++){const v=h*t.width+g;let T=0,C=0,E=0,A=0,D=0;for(let w=-i;w<=i;w++){if(g+w<0||g+w>=t.width)continue;const O=(v+w)*4,N=a[w+i];T+=t.data[O+0]*N,C+=t.data[O+1]*N,E+=t.data[O+2]*N,A+=t.data[O+3]*N,D+=N}const M=v*4;l[M+0]=Math.floor(T/D),l[M+1]=Math.floor(C/D),l[M+2]=Math.floor(E/D),l[M+3]=Math.floor(A/D),l[M+0]}}static blurVertically(t,i,a){const l=new Uint8ClampedArray(t.data);for(let h=0;h<t.height;h++)for(let g=0;g<t.width;g++){let v=0,T=0,C=0,E=0,A=0;for(let M=-i;M<=i;M++){const w=h+M;if(w<0||w>=t.height)continue;const O=(w*t.width+g)*4,N=a[M+i];v+=l[O+0]*N,T+=l[O+1]*N,C+=l[O+2]*N,E+=l[O+3]*N,A+=N}const D=(h*t.width+g)*4;t.data[D+0]=Math.floor(v/A),t.data[D+1]=Math.floor(T/A),t.data[D+2]=Math.floor(C/A),t.data[D+3]=Math.floor(E/A)}}static checkDelta(t,i,a){for(let l=0;l<t.height;l++)for(let h=0;h<t.width;h++){const g=(l*t.width+h)*4;Math.abs(i[g+0]-t.data[g+0])+Math.abs(i[g+1]-t.data[g+1])+Math.abs(i[g+2]-t.data[g+2])+Math.abs(i[g+3]-t.data[g+3])>a&&(i[g+0]=t.data[g],i[g+1]=t.data[g+1],i[g+2]=t.data[g+2],i[g+3]=t.data[g+3])}}}const Xxe=[[0,-1,0],[-1,5,-1],[0,-1,0]];function Jxe(e,t){return new qxe(Xxe).apply(e,t)}class qxe{constructor(t){gi(this,"kernel");gi(this,"kernelWeight");this.kernel=t,this.kernelWeight=t.flat().reduce((i,a)=>i+a,0)}apply(t,i){const a=new Uint8ClampedArray(4*t.width*t.height);for(let l=0;l<t.height;l++)for(let h=0;h<t.width;h++)this.applyKernelToPixel(t,h,l,a);return this.applyThreshold(t,a,i),{width:t.width,height:t.height,colorSpace:t.colorSpace,data:a}}applyKernelToPixel(t,i,a,l){const h=Math.floor(this.kernel.length/2),g=(a*t.width+i)*4;for(let v=0;v<4;v++){let T=0,C=0;for(let E=-h;E<=h;E++)if(!(a+E<0||a+E>=t.height))for(let A=-h;A<=h;A++){if(i+A<0||i+A>=t.width)continue;const D=((a+E)*t.width+(i+A))*4+v,M=this.kernel[E+h][A+h];T+=t.data[D]*M,C+=M}C!==this.kernelWeight&&(T*=this.kernelWeight===0?0:C/this.kernelWeight),l[g+v]=T}}applyThreshold(t,i,a){if(!(a<=0||a===1||a>=1024)){a=a<1?1024*a:a;for(let l=0;l<t.data.length;l+=4){let h=0;for(let g=l;g<l+4;g++)h+=Math.abs(t.data[g]-i[g]);if(!(h<=a))for(let g=l;g<l+4;g++)i[g]=t.data[g]}}}}var nj;(function(e){function t(i){const a=[];for(let l=0;l<i.areasByColor.length;l++){const h=i.areasByColor[l];if(h.length!==0){a.push(i.colors[l].toString());for(const g of h){const v=g.lineAttributes.map(T=>WP.toString(T)).join(" ");a.push(v)}}}return a.join(`
`)}e.toString=t})(nj||(nj={}));class Zxe{constructor(t=null){gi(this,"options");gi(this,"colorQuantizeFunction");this.options=sb.buildFrom(t),this.colorQuantizeFunction=Gxe(this.options.colorSamplingMode,this.options.palette)}setColorQuantizeFunction(t){return this.colorQuantizeFunction=t,this}traceImageToSvg(t){const i=new rj(this.options);return this.traceImage(t,i)}traceImage(t,i=null){i||(i=new rj(this.options));const a=this.isVerbose();a&&console.time(" - Preprocessing time"),t=this.preProcessImage(t),a&&console.timeEnd(" - Preprocessing time"),a&&console.time(" - Color indexing time");const l=new Bxe(t,this.options,this.colorQuantizeFunction);a&&console.timeEnd(" - Color indexing time"),a&&console.time(" - Trace time");const h=this.imageDataToTraceData(t,l);a&&console.timeEnd(" - Trace time"),a&&console.time(" - Draw time");const g=i.draw(h);return a&&console.timeEnd(" - Draw time"),g}isVerbose(){return this.options.verbose??!1}preProcessImage(t){return t=UP.process(t,this.isVerbose()),this.options.blurRadius>0&&(t=Em.blur(t,this.options.blurRadius,this.options.blurDelta)),this.options.sharpen&&(t=Jxe(t,this.options.sharpenThreshold)),t}imageDataToTraceData(t,i){return this.options.layeringMode===ab.SEQUENTIAL?this.imageDataToTraceDataWithSequentialLayering(t,i):this.imageDataToTraceDataWithParallelLayering(t,i)}imageDataToTraceDataWithSequentialLayering(t,i){const a=[],l=new ej,h=new qV,g=new tj;for(let v=0;v<i.palette.length;v++){const T=ZV.buildForColor(i,v),C=l.scan(T,this.options.minShapeOutline),A=h.interpolate(this.options.interpolation,C,this.options.enhanceRightAngles).map(D=>g.trace(D,this.options.lineErrorMargin,this.options.curveErrorMargin));a.push(A)}return{areasByColor:a,colors:i.palette,width:i.rows[0].length-2,height:i.rows.length-2}}imageDataToTraceDataWithParallelLayering(t,i){const a=ZV.buildForColors(i);this.options.layerContainerId&&new Vxe().drawLayersToDiv(a,this.options.scale,this.options.layerContainerId);const l=new ej,h=a.map(M=>l.scan(M,this.options.minShapeOutline)),g=new qV,v=this.options.interpolation,T=this.options.enhanceRightAngles,C=h.map(M=>g.interpolate(v,M,T)),E=new tj,A=M=>E.trace(M,this.options.lineErrorMargin,this.options.curveErrorMargin);return{areasByColor:C.map(M=>M.map(A)),colors:i.palette,width:t.width,height:t.height}}}function eAe(){const e=()=>{const t="Iv23liZzMuid1Me3knW8",i="https://sarahbuisson.github.io/content-generator2/";window.location.href=`https://github.com/login/oauth/authorize?client_id=${t}&redirect_uri=${i}`};return Ee.jsx("button",{onClick:e,children:"Login with GitHub"})}function tAe(e){function t(He,Ge,nt,pe,oe){for(var me=0,Se=0,et=0,Ke=0,mt,vt,Vt=0,Nt=0,xt,nr=xt=mt=0,jt=0,xr=0,Yr=0,cr=0,Un=nt.length,Jt=Un-1,ir,Tt="",hr="",qo="",Ca="",pr;jt<Un;){if(vt=nt.charCodeAt(jt),jt===Jt&&Se+Ke+et+me!==0&&(Se!==0&&(vt=Se===47?10:47),Ke=et=me=0,Un++,Jt++),Se+Ke+et+me===0){if(jt===Jt&&(0<xr&&(Tt=Tt.replace(D,"")),0<Tt.trim().length)){switch(vt){case 32:case 9:case 59:case 13:case 10:break;default:Tt+=nt.charAt(jt)}vt=59}switch(vt){case 123:for(Tt=Tt.trim(),mt=Tt.charCodeAt(0),xt=1,cr=++jt;jt<Un;){switch(vt=nt.charCodeAt(jt)){case 123:xt++;break;case 125:xt--;break;case 47:switch(vt=nt.charCodeAt(jt+1)){case 42:case 47:e:{for(nr=jt+1;nr<Jt;++nr)switch(nt.charCodeAt(nr)){case 47:if(vt===42&&nt.charCodeAt(nr-1)===42&&jt+2!==nr){jt=nr+1;break e}break;case 10:if(vt===47){jt=nr+1;break e}}jt=nr}}break;case 91:vt++;case 40:vt++;case 34:case 39:for(;jt++<Jt&&nt.charCodeAt(jt)!==vt;);}if(xt===0)break;jt++}switch(xt=nt.substring(cr,jt),mt===0&&(mt=(Tt=Tt.replace(A,"").trim()).charCodeAt(0)),mt){case 64:switch(0<xr&&(Tt=Tt.replace(D,"")),vt=Tt.charCodeAt(1),vt){case 100:case 109:case 115:case 45:xr=Ge;break;default:xr=je}if(xt=t(Ge,xr,xt,vt,oe+1),cr=xt.length,0<Re&&(xr=i(je,Tt,Yr),pr=v(3,xt,xr,Ge,xe,_e,cr,vt,oe,pe),Tt=xr.join(""),pr!==void 0&&(cr=(xt=pr.trim()).length)===0&&(vt=0,xt="")),0<cr)switch(vt){case 115:Tt=Tt.replace(ee,g);case 100:case 109:case 45:xt=Tt+"{"+xt+"}";break;case 107:Tt=Tt.replace(R,"$1 $2"),xt=Tt+"{"+xt+"}",xt=Ne===1||Ne===2&&h("@"+xt,3)?"@-webkit-"+xt+"@"+xt:"@"+xt;break;default:xt=Tt+xt,pe===112&&(xt=(hr+=xt,""))}else xt="";break;default:xt=t(Ge,i(Ge,Tt,Yr),xt,pe,oe+1)}qo+=xt,xt=Yr=xr=nr=mt=0,Tt="",vt=nt.charCodeAt(++jt);break;case 125:case 59:if(Tt=(0<xr?Tt.replace(D,""):Tt).trim(),1<(cr=Tt.length))switch(nr===0&&(mt=Tt.charCodeAt(0),mt===45||96<mt&&123>mt)&&(cr=(Tt=Tt.replace(" ",":")).length),0<Re&&(pr=v(1,Tt,Ge,He,xe,_e,hr.length,pe,oe,pe))!==void 0&&(cr=(Tt=pr.trim()).length)===0&&(Tt="\0\0"),mt=Tt.charCodeAt(0),vt=Tt.charCodeAt(1),mt){case 0:break;case 64:if(vt===105||vt===99){Ca+=Tt+nt.charAt(jt);break}default:Tt.charCodeAt(cr-1)!==58&&(hr+=l(Tt,mt,vt,Tt.charCodeAt(2)))}Yr=xr=nr=mt=0,Tt="",vt=nt.charCodeAt(++jt)}}switch(vt){case 13:case 10:Se===47?Se=0:1+mt===0&&pe!==107&&0<Tt.length&&(xr=1,Tt+="\0"),0<Re*Ae&&v(0,Tt,Ge,He,xe,_e,hr.length,pe,oe,pe),_e=1,xe++;break;case 59:case 125:if(Se+Ke+et+me===0){_e++;break}default:switch(_e++,ir=nt.charAt(jt),vt){case 9:case 32:if(Ke+me+Se===0)switch(Vt){case 44:case 58:case 9:case 32:ir="";break;default:vt!==32&&(ir=" ")}break;case 0:ir="\\0";break;case 12:ir="\\f";break;case 11:ir="\\v";break;case 38:Ke+Se+me===0&&(xr=Yr=1,ir="\f"+ir);break;case 108:if(Ke+Se+me+De===0&&0<nr)switch(jt-nr){case 2:Vt===112&&nt.charCodeAt(jt-3)===58&&(De=Vt);case 8:Nt===111&&(De=Nt)}break;case 58:Ke+Se+me===0&&(nr=jt);break;case 44:Se+et+Ke+me===0&&(xr=1,ir+="\r");break;case 34:case 39:Se===0&&(Ke=Ke===vt?0:Ke===0?vt:Ke);break;case 91:Ke+Se+et===0&&me++;break;case 93:Ke+Se+et===0&&me--;break;case 41:Ke+Se+me===0&&et--;break;case 40:if(Ke+Se+me===0){if(mt===0)switch(2*Vt+3*Nt){case 533:break;default:mt=1}et++}break;case 64:Se+et+Ke+me+nr+xt===0&&(xt=1);break;case 42:case 47:if(!(0<Ke+me+et))switch(Se){case 0:switch(2*vt+3*nt.charCodeAt(jt+1)){case 235:Se=47;break;case 220:cr=jt,Se=42}break;case 42:vt===47&&Vt===42&&cr+2!==jt&&(nt.charCodeAt(cr+2)===33&&(hr+=nt.substring(cr,jt+1)),ir="",Se=0)}}Se===0&&(Tt+=ir)}Nt=Vt,Vt=vt,jt++}if(cr=hr.length,0<cr){if(xr=Ge,0<Re&&(pr=v(2,hr,xr,He,xe,_e,cr,pe,oe,pe),pr!==void 0&&(hr=pr).length===0))return Ca+hr+qo;if(hr=xr.join(",")+"{"+hr+"}",Ne*De!==0){switch(Ne!==2||h(hr,2)||(De=0),De){case 111:hr=hr.replace(K,":-moz-$1")+hr;break;case 112:hr=hr.replace(W,"::-webkit-input-$1")+hr.replace(W,"::-moz-$1")+hr.replace(W,":-ms-input-$1")+hr}De=0}}return Ca+hr+qo}function i(He,Ge,nt){var pe=Ge.trim().split(N);Ge=pe;var oe=pe.length,me=He.length;switch(me){case 0:case 1:var Se=0;for(He=me===0?"":He[0]+" ";Se<oe;++Se)Ge[Se]=a(He,Ge[Se],nt).trim();break;default:var et=Se=0;for(Ge=[];Se<oe;++Se)for(var Ke=0;Ke<me;++Ke)Ge[et++]=a(He[Ke]+" ",pe[Se],nt).trim()}return Ge}function a(He,Ge,nt){var pe=Ge.charCodeAt(0);switch(33>pe&&(pe=(Ge=Ge.trim()).charCodeAt(0)),pe){case 38:return Ge.replace(k,"$1"+He.trim());case 58:return He.trim()+Ge.replace(k,"$1"+He.trim());default:if(0<1*nt&&0<Ge.indexOf("\f"))return Ge.replace(k,(He.charCodeAt(0)===58?"":"$1")+He.trim())}return He+Ge}function l(He,Ge,nt,pe){var oe=He+";",me=2*Ge+3*nt+4*pe;if(me===944){He=oe.indexOf(":",9)+1;var Se=oe.substring(He,oe.length-1).trim();return Se=oe.substring(0,He).trim()+Se+";",Ne===1||Ne===2&&h(Se,1)?"-webkit-"+Se+Se:Se}if(Ne===0||Ne===2&&!h(oe,1))return oe;switch(me){case 1015:return oe.charCodeAt(10)===97?"-webkit-"+oe+oe:oe;case 951:return oe.charCodeAt(3)===116?"-webkit-"+oe+oe:oe;case 963:return oe.charCodeAt(5)===110?"-webkit-"+oe+oe:oe;case 1009:if(oe.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+oe+oe;case 978:return"-webkit-"+oe+"-moz-"+oe+oe;case 1019:case 983:return"-webkit-"+oe+"-moz-"+oe+"-ms-"+oe+oe;case 883:if(oe.charCodeAt(8)===45)return"-webkit-"+oe+oe;if(0<oe.indexOf("image-set(",11))return oe.replace(fe,"$1-webkit-$2")+oe;break;case 932:if(oe.charCodeAt(4)===45)switch(oe.charCodeAt(5)){case 103:return"-webkit-box-"+oe.replace("-grow","")+"-webkit-"+oe+"-ms-"+oe.replace("grow","positive")+oe;case 115:return"-webkit-"+oe+"-ms-"+oe.replace("shrink","negative")+oe;case 98:return"-webkit-"+oe+"-ms-"+oe.replace("basis","preferred-size")+oe}return"-webkit-"+oe+"-ms-"+oe+oe;case 964:return"-webkit-"+oe+"-ms-flex-"+oe+oe;case 1023:if(oe.charCodeAt(8)!==99)break;return Se=oe.substring(oe.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Se+"-webkit-"+oe+"-ms-flex-pack"+Se+oe;case 1005:return w.test(oe)?oe.replace(M,":-webkit-")+oe.replace(M,":-moz-")+oe:oe;case 1e3:switch(Se=oe.substring(13).trim(),Ge=Se.indexOf("-")+1,Se.charCodeAt(0)+Se.charCodeAt(Ge)){case 226:Se=oe.replace(de,"tb");break;case 232:Se=oe.replace(de,"tb-rl");break;case 220:Se=oe.replace(de,"lr");break;default:return oe}return"-webkit-"+oe+"-ms-"+Se+oe;case 1017:if(oe.indexOf("sticky",9)===-1)break;case 975:switch(Ge=(oe=He).length-10,Se=(oe.charCodeAt(Ge)===33?oe.substring(0,Ge):oe).substring(He.indexOf(":",7)+1).trim(),me=Se.charCodeAt(0)+(Se.charCodeAt(7)|0)){case 203:if(111>Se.charCodeAt(8))break;case 115:oe=oe.replace(Se,"-webkit-"+Se)+";"+oe;break;case 207:case 102:oe=oe.replace(Se,"-webkit-"+(102<me?"inline-":"")+"box")+";"+oe.replace(Se,"-webkit-"+Se)+";"+oe.replace(Se,"-ms-"+Se+"box")+";"+oe}return oe+";";case 938:if(oe.charCodeAt(5)===45)switch(oe.charCodeAt(6)){case 105:return Se=oe.replace("-items",""),"-webkit-"+oe+"-webkit-box-"+Se+"-ms-flex-"+Se+oe;case 115:return"-webkit-"+oe+"-ms-flex-item-"+oe.replace(ce,"")+oe;default:return"-webkit-"+oe+"-ms-flex-line-pack"+oe.replace("align-content","").replace(ce,"")+oe}break;case 973:case 989:if(oe.charCodeAt(3)!==45||oe.charCodeAt(4)===122)break;case 931:case 953:if(le.test(He)===!0)return(Se=He.substring(He.indexOf(":")+1)).charCodeAt(0)===115?l(He.replace("stretch","fill-available"),Ge,nt,pe).replace(":fill-available",":stretch"):oe.replace(Se,"-webkit-"+Se)+oe.replace(Se,"-moz-"+Se.replace("fill-",""))+oe;break;case 962:if(oe="-webkit-"+oe+(oe.charCodeAt(5)===102?"-ms-"+oe:"")+oe,nt+pe===211&&oe.charCodeAt(13)===105&&0<oe.indexOf("transform",10))return oe.substring(0,oe.indexOf(";",27)+1).replace(O,"$1-webkit-$2")+oe}return oe}function h(He,Ge){var nt=He.indexOf(Ge===1?":":"{"),pe=He.substring(0,Ge!==3?nt:10);return nt=He.substring(nt+1,He.length-1),Me(Ge!==2?pe:pe.replace(he,"$1"),nt,Ge)}function g(He,Ge){var nt=l(Ge,Ge.charCodeAt(0),Ge.charCodeAt(1),Ge.charCodeAt(2));return nt!==Ge+";"?nt.replace(X," or ($1)").substring(4):"("+Ge+")"}function v(He,Ge,nt,pe,oe,me,Se,et,Ke,mt){for(var vt=0,Vt=Ge,Nt;vt<Re;++vt)switch(Nt=Ze[vt].call(E,He,Vt,nt,pe,oe,me,Se,et,Ke,mt)){case void 0:case!1:case!0:case null:break;default:Vt=Nt}if(Vt!==Ge)return Vt}function T(He){switch(He){case void 0:case null:Re=Ze.length=0;break;default:if(typeof He=="function")Ze[Re++]=He;else if(typeof He=="object")for(var Ge=0,nt=He.length;Ge<nt;++Ge)T(He[Ge]);else Ae=!!He|0}return T}function C(He){return He=He.prefix,He!==void 0&&(Me=null,He?typeof He!="function"?Ne=1:(Ne=2,Me=He):Ne=0),C}function E(He,Ge){var nt=He;if(33>nt.charCodeAt(0)&&(nt=nt.trim()),Je=nt,nt=[Je],0<Re){var pe=v(-1,Ge,nt,nt,xe,_e,0,0,0,0);pe!==void 0&&typeof pe=="string"&&(Ge=pe)}var oe=t(je,nt,Ge,0,0);return 0<Re&&(pe=v(-2,oe,nt,nt,xe,_e,oe.length,0,0,0),pe!==void 0&&(oe=pe)),Je="",De=0,_e=xe=1,oe}var A=/^\0+/g,D=/[\0\r\f]/g,M=/: */g,w=/zoo|gra/,O=/([,: ])(transform)/g,N=/,\r+?/g,k=/([\t\r\n ])*\f?&/g,R=/@(k\w+)\s*(\S*)\s*/,W=/::(place)/g,K=/:(read-only)/g,de=/[svh]\w+-[tblr]{2}/,ee=/\(\s*(.*)\s*\)/g,X=/([\s\S]*?);/g,ce=/-self|flex-/g,he=/[^]*?(:[rp][el]a[\w-]+)[^]*/,le=/stretch|:\s*\w+\-(?:conte|avail)/,fe=/([^-])(image-set\()/,_e=1,xe=1,De=0,Ne=1,je=[],Ze=[],Re=0,Me=null,Ae=0,Je="";return E.use=T,E.set=C,e!==void 0&&C(e),E}var rAe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Au(){return(Au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e}).apply(this,arguments)}var ij=function(e,t){for(var i=[e[0]],a=0,l=t.length;a<l;a+=1)i.push(t[a],e[a+1]);return i},VP=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!fD.typeOf(e)},ub=Object.freeze([]),Yc=Object.freeze({});function cv(e){return typeof e=="function"}function oj(e){return e.displayName||e.name||"Component"}function eR(e){return e&&typeof e.styledComponentId=="string"}var Ih=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",tR=typeof window<"u"&&"HTMLElement"in window,nAe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY));function Cv(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(i.length>0?" Args: "+i.join(", "):""))}var iAe=function(){function e(i){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=i}var t=e.prototype;return t.indexOfGroup=function(i){for(var a=0,l=0;l<i;l++)a+=this.groupSizes[l];return a},t.insertRules=function(i,a){if(i>=this.groupSizes.length){for(var l=this.groupSizes,h=l.length,g=h;i>=g;)(g<<=1)<0&&Cv(16,""+i);this.groupSizes=new Uint32Array(g),this.groupSizes.set(l),this.length=g;for(var v=h;v<g;v++)this.groupSizes[v]=0}for(var T=this.indexOfGroup(i+1),C=0,E=a.length;C<E;C++)this.tag.insertRule(T,a[C])&&(this.groupSizes[i]++,T++)},t.clearGroup=function(i){if(i<this.length){var a=this.groupSizes[i],l=this.indexOfGroup(i),h=l+a;this.groupSizes[i]=0;for(var g=l;g<h;g++)this.tag.deleteRule(l)}},t.getGroup=function(i){var a="";if(i>=this.length||this.groupSizes[i]===0)return a;for(var l=this.groupSizes[i],h=this.indexOfGroup(i),g=h+l,v=h;v<g;v++)a+=this.tag.getRule(v)+`/*!sc*/
`;return a},e}(),cS=new Map,cb=new Map,xm=1,xy=function(e){if(cS.has(e))return cS.get(e);for(;cb.has(xm);)xm++;var t=xm++;return cS.set(e,t),cb.set(t,e),t},oAe=function(e){return cb.get(e)},aAe=function(e,t){t>=xm&&(xm=t+1),cS.set(e,t),cb.set(t,e)},sAe="style["+Ih+'][data-styled-version="5.3.11"]',uAe=new RegExp("^"+Ih+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),cAe=function(e,t,i){for(var a,l=i.split(","),h=0,g=l.length;h<g;h++)(a=l[h])&&e.registerName(t,a)},lAe=function(e,t){for(var i=(t.textContent||"").split(`/*!sc*/
`),a=[],l=0,h=i.length;l<h;l++){var g=i[l].trim();if(g){var v=g.match(uAe);if(v){var T=0|parseInt(v[1],10),C=v[2];T!==0&&(aAe(C,T),cAe(e,C,v[3]),e.getTag().insertRules(T,a)),a.length=0}else a.push(g)}}},dAe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},_7=function(e){var t=document.head,i=e||t,a=document.createElement("style"),l=function(v){for(var T=v.childNodes,C=T.length;C>=0;C--){var E=T[C];if(E&&E.nodeType===1&&E.hasAttribute(Ih))return E}}(i),h=l!==void 0?l.nextSibling:null;a.setAttribute(Ih,"active"),a.setAttribute("data-styled-version","5.3.11");var g=dAe();return g&&a.setAttribute("nonce",g),i.insertBefore(a,h),a},fAe=function(){function e(i){var a=this.element=_7(i);a.appendChild(document.createTextNode("")),this.sheet=function(l){if(l.sheet)return l.sheet;for(var h=document.styleSheets,g=0,v=h.length;g<v;g++){var T=h[g];if(T.ownerNode===l)return T}Cv(17)}(a),this.length=0}var t=e.prototype;return t.insertRule=function(i,a){try{return this.sheet.insertRule(a,i),this.length++,!0}catch{return!1}},t.deleteRule=function(i){this.sheet.deleteRule(i),this.length--},t.getRule=function(i){var a=this.sheet.cssRules[i];return a!==void 0&&typeof a.cssText=="string"?a.cssText:""},e}(),hAe=function(){function e(i){var a=this.element=_7(i);this.nodes=a.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(i,a){if(i<=this.length&&i>=0){var l=document.createTextNode(a),h=this.nodes[i];return this.element.insertBefore(l,h||null),this.length++,!0}return!1},t.deleteRule=function(i){this.element.removeChild(this.nodes[i]),this.length--},t.getRule=function(i){return i<this.length?this.nodes[i].textContent:""},e}(),pAe=function(){function e(i){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(i,a){return i<=this.length&&(this.rules.splice(i,0,a),this.length++,!0)},t.deleteRule=function(i){this.rules.splice(i,1),this.length--},t.getRule=function(i){return i<this.length?this.rules[i]:""},e}(),aj=tR,gAe={isServer:!tR,useCSSOMInjection:!nAe},y7=function(){function e(i,a,l){i===void 0&&(i=Yc),a===void 0&&(a={}),this.options=Au({},gAe,{},i),this.gs=a,this.names=new Map(l),this.server=!!i.isServer,!this.server&&tR&&aj&&(aj=!1,function(h){for(var g=document.querySelectorAll(sAe),v=0,T=g.length;v<T;v++){var C=g[v];C&&C.getAttribute(Ih)!=="active"&&(lAe(h,C),C.parentNode&&C.parentNode.removeChild(C))}}(this))}e.registerId=function(i){return xy(i)};var t=e.prototype;return t.reconstructWithOptions=function(i,a){return a===void 0&&(a=!0),new e(Au({},this.options,{},i),this.gs,a&&this.names||void 0)},t.allocateGSInstance=function(i){return this.gs[i]=(this.gs[i]||0)+1},t.getTag=function(){return this.tag||(this.tag=(l=(a=this.options).isServer,h=a.useCSSOMInjection,g=a.target,i=l?new pAe(g):h?new fAe(g):new hAe(g),new iAe(i)));var i,a,l,h,g},t.hasNameForId=function(i,a){return this.names.has(i)&&this.names.get(i).has(a)},t.registerName=function(i,a){if(xy(i),this.names.has(i))this.names.get(i).add(a);else{var l=new Set;l.add(a),this.names.set(i,l)}},t.insertRules=function(i,a,l){this.registerName(i,a),this.getTag().insertRules(xy(i),l)},t.clearNames=function(i){this.names.has(i)&&this.names.get(i).clear()},t.clearRules=function(i){this.getTag().clearGroup(xy(i)),this.clearNames(i)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(i){for(var a=i.getTag(),l=a.length,h="",g=0;g<l;g++){var v=oAe(g);if(v!==void 0){var T=i.names.get(v),C=a.getGroup(g);if(T&&C&&T.size){var E=Ih+".g"+g+'[id="'+v+'"]',A="";T!==void 0&&T.forEach(function(D){D.length>0&&(A+=D+",")}),h+=""+C+E+'{content:"'+A+`"}/*!sc*/
`}}}return h}(this)},e}(),mAe=/(a)(d)/gi,sj=function(e){return String.fromCharCode(e+(e>25?39:97))};function jP(e){var t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=sj(t%52)+i;return(sj(t%52)+i).replace(mAe,"$1-$2")}var qf=function(e,t){for(var i=t.length;i;)e=33*e^t.charCodeAt(--i);return e},S7=function(e){return qf(5381,e)};function vAe(e){for(var t=0;t<e.length;t+=1){var i=e[t];if(cv(i)&&!eR(i))return!1}return!0}var _Ae=S7("5.3.11"),yAe=function(){function e(t,i,a){this.rules=t,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&vAe(t),this.componentId=i,this.baseHash=qf(_Ae,i),this.baseStyle=a,y7.registerId(i)}return e.prototype.generateAndInjectStyles=function(t,i,a){var l=this.componentId,h=[];if(this.baseStyle&&h.push(this.baseStyle.generateAndInjectStyles(t,i,a)),this.isStatic&&!a.hash)if(this.staticRulesId&&i.hasNameForId(l,this.staticRulesId))h.push(this.staticRulesId);else{var g=wh(this.rules,t,i,a).join(""),v=jP(qf(this.baseHash,g)>>>0);if(!i.hasNameForId(l,v)){var T=a(g,"."+v,void 0,l);i.insertRules(l,v,T)}h.push(v),this.staticRulesId=v}else{for(var C=this.rules.length,E=qf(this.baseHash,a.hash),A="",D=0;D<C;D++){var M=this.rules[D];if(typeof M=="string")A+=M;else if(M){var w=wh(M,t,i,a),O=Array.isArray(w)?w.join(""):w;E=qf(E,O+D),A+=O}}if(A){var N=jP(E>>>0);if(!i.hasNameForId(l,N)){var k=a(A,"."+N,void 0,l);i.insertRules(l,N,k)}h.push(N)}}return h.join(" ")},e}(),SAe=/^\s*\/\/.*$/gm,bAe=[":","[",".","#"];function TAe(e){var t,i,a,l,h=e===void 0?Yc:e,g=h.options,v=g===void 0?Yc:g,T=h.plugins,C=T===void 0?ub:T,E=new tAe(v),A=[],D=function(O){function N(k){if(k)try{O(k+"}")}catch{}}return function(k,R,W,K,de,ee,X,ce,he,le){switch(k){case 1:if(he===0&&R.charCodeAt(0)===64)return O(R+";"),"";break;case 2:if(ce===0)return R+"/*|*/";break;case 3:switch(ce){case 102:case 112:return O(W[0]+R),"";default:return R+(le===0?"/*|*/":"")}case-2:R.split("/*|*/}").forEach(N)}}}(function(O){A.push(O)}),M=function(O,N,k){return N===0&&bAe.indexOf(k[i.length])!==-1||k.match(l)?O:"."+t};function w(O,N,k,R){R===void 0&&(R="&");var W=O.replace(SAe,""),K=N&&k?k+" "+N+" { "+W+" }":W;return t=R,i=N,a=new RegExp("\\"+i+"\\b","g"),l=new RegExp("(\\"+i+"\\b){2,}"),E(k||!N?"":N,K)}return E.use([].concat(C,[function(O,N,k){O===2&&k.length&&k[0].lastIndexOf(i)>0&&(k[0]=k[0].replace(a,M))},D,function(O){if(O===-2){var N=A;return A=[],N}}])),w.hash=C.length?C.reduce(function(O,N){return N.name||Cv(15),qf(O,N.name)},5381).toString():"",w}var b7=yi.createContext();b7.Consumer;var T7=yi.createContext(),CAe=(T7.Consumer,new y7),GP=TAe();function IAe(){return ye.useContext(b7)||CAe}function wAe(){return ye.useContext(T7)||GP}var EAe=function(){function e(t,i){var a=this;this.inject=function(l,h){h===void 0&&(h=GP);var g=a.name+h.hash;l.hasNameForId(a.id,g)||l.insertRules(a.id,g,h(a.rules,g,"@keyframes"))},this.toString=function(){return Cv(12,String(a.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=i}return e.prototype.getName=function(t){return t===void 0&&(t=GP),this.name+t.hash},e}(),xAe=/([A-Z])/,AAe=/([A-Z])/g,PAe=/^ms-/,kAe=function(e){return"-"+e.toLowerCase()};function uj(e){return xAe.test(e)?e.replace(AAe,kAe).replace(PAe,"-ms-"):e}var cj=function(e){return e==null||e===!1||e===""};function wh(e,t,i,a){if(Array.isArray(e)){for(var l,h=[],g=0,v=e.length;g<v;g+=1)(l=wh(e[g],t,i,a))!==""&&(Array.isArray(l)?h.push.apply(h,l):h.push(l));return h}if(cj(e))return"";if(eR(e))return"."+e.styledComponentId;if(cv(e)){if(typeof(C=e)!="function"||C.prototype&&C.prototype.isReactComponent||!t)return e;var T=e(t);return wh(T,t,i,a)}var C;return e instanceof EAe?i?(e.inject(i,a),e.getName(a)):e:VP(e)?function E(A,D){var M,w,O=[];for(var N in A)A.hasOwnProperty(N)&&!cj(A[N])&&(Array.isArray(A[N])&&A[N].isCss||cv(A[N])?O.push(uj(N)+":",A[N],";"):VP(A[N])?O.push.apply(O,E(A[N],N)):O.push(uj(N)+": "+(M=N,(w=A[N])==null||typeof w=="boolean"||w===""?"":typeof w!="number"||w===0||M in rAe||M.startsWith("--")?String(w).trim():w+"px")+";"));return D?[D+" {"].concat(O,["}"]):O}(e):e.toString()}var lj=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function DAe(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return cv(e)||VP(e)?lj(wh(ij(ub,[e].concat(i)))):i.length===0&&e.length===1&&typeof e[0]=="string"?e:lj(wh(ij(e,i)))}var RAe=function(e,t,i){return i===void 0&&(i=Yc),e.theme!==i.theme&&e.theme||t||i.theme},FAe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,OAe=/(^-|-$)/g;function tA(e){return e.replace(FAe,"-").replace(OAe,"")}var NAe=function(e){return jP(S7(e)>>>0)};function Ay(e){return typeof e=="string"&&!0}var zP=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},MAe=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function LAe(e,t,i){var a=e[i];zP(t)&&zP(a)?C7(a,t):e[i]=t}function C7(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];for(var l=0,h=i;l<h.length;l++){var g=h[l];if(zP(g))for(var v in g)MAe(v)&&LAe(e,g[v],v)}return e}var I7=yi.createContext();I7.Consumer;var rA={};function w7(e,t,i){var a=eR(e),l=!Ay(e),h=t.attrs,g=h===void 0?ub:h,v=t.componentId,T=v===void 0?function(R,W){var K=typeof R!="string"?"sc":tA(R);rA[K]=(rA[K]||0)+1;var de=K+"-"+NAe("5.3.11"+K+rA[K]);return W?W+"-"+de:de}(t.displayName,t.parentComponentId):v,C=t.displayName,E=C===void 0?function(R){return Ay(R)?"styled."+R:"Styled("+oj(R)+")"}(e):C,A=t.displayName&&t.componentId?tA(t.displayName)+"-"+t.componentId:t.componentId||T,D=a&&e.attrs?Array.prototype.concat(e.attrs,g).filter(Boolean):g,M=t.shouldForwardProp;a&&e.shouldForwardProp&&(M=t.shouldForwardProp?function(R,W,K){return e.shouldForwardProp(R,W,K)&&t.shouldForwardProp(R,W,K)}:e.shouldForwardProp);var w,O=new yAe(i,A,a?e.componentStyle:void 0),N=O.isStatic&&g.length===0,k=function(R,W){return function(K,de,ee,X){var ce=K.attrs,he=K.componentStyle,le=K.defaultProps,fe=K.foldedComponentIds,_e=K.shouldForwardProp,xe=K.styledComponentId,De=K.target,Ne=function(pe,oe,me){pe===void 0&&(pe=Yc);var Se=Au({},oe,{theme:pe}),et={};return me.forEach(function(Ke){var mt,vt,Vt,Nt=Ke;for(mt in cv(Nt)&&(Nt=Nt(Se)),Nt)Se[mt]=et[mt]=mt==="className"?(vt=et[mt],Vt=Nt[mt],vt&&Vt?vt+" "+Vt:vt||Vt):Nt[mt]}),[Se,et]}(RAe(de,ye.useContext(I7),le)||Yc,de,ce),je=Ne[0],Ze=Ne[1],Re=function(pe,oe,me,Se){var et=IAe(),Ke=wAe(),mt=oe?pe.generateAndInjectStyles(Yc,et,Ke):pe.generateAndInjectStyles(me,et,Ke);return mt}(he,X,je),Me=ee,Ae=Ze.$as||de.$as||Ze.as||de.as||De,Je=Ay(Ae),He=Ze!==de?Au({},de,{},Ze):de,Ge={};for(var nt in He)nt[0]!=="$"&&nt!=="as"&&(nt==="forwardedAs"?Ge.as=He[nt]:(_e?_e(nt,xP,Ae):!Je||xP(nt))&&(Ge[nt]=He[nt]));return de.style&&Ze.style!==de.style&&(Ge.style=Au({},de.style,{},Ze.style)),Ge.className=Array.prototype.concat(fe,xe,Re!==xe?Re:null,de.className,Ze.className).filter(Boolean).join(" "),Ge.ref=Me,ye.createElement(Ae,Ge)}(w,R,W,N)};return k.displayName=E,(w=yi.forwardRef(k)).attrs=D,w.componentStyle=O,w.displayName=E,w.shouldForwardProp=M,w.foldedComponentIds=a?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ub,w.styledComponentId=A,w.target=a?e.target:e,w.withComponent=function(R){var W=t.componentId,K=function(ee,X){if(ee==null)return{};var ce,he,le={},fe=Object.keys(ee);for(he=0;he<fe.length;he++)ce=fe[he],X.indexOf(ce)>=0||(le[ce]=ee[ce]);return le}(t,["componentId"]),de=W&&W+"-"+(Ay(R)?R:tA(oj(R)));return w7(R,Au({},K,{attrs:D,componentId:de}),i)},Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(R){this._foldedDefaultProps=a?C7({},e.defaultProps,R):R}}),Object.defineProperty(w,"toString",{value:function(){return"."+w.styledComponentId}}),l&&ZSe(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),w}var HP=function(e){return function t(i,a,l){if(l===void 0&&(l=Yc),!fD.isValidElementType(a))return Cv(1,String(a));var h=function(){return i(a,l,DAe.apply(void 0,arguments))};return h.withConfig=function(g){return t(i,a,Au({},l,{},g))},h.attrs=function(g){return t(i,a,Au({},l,{attrs:Array.prototype.concat(l.attrs,g).filter(Boolean)}))},h}(w7,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){HP[e]=HP(e)});const Iv=HP;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function lb(e,t,i,a){return new(i||(i=Promise))(function(l,h){function g(C){try{T(a.next(C))}catch(E){h(E)}}function v(C){try{T(a.throw(C))}catch(E){h(E)}}function T(C){C.done?l(C.value):new i(function(E){E(C.value)}).then(g,v)}T((a=a.apply(e,t||[])).next())})}function db(e,t){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,l,h,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(C){return function(E){return T([C,E])}}function T(C){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,l&&(h=C[0]&2?l.return:C[0]?l.throw||((h=l.return)&&h.call(l),0):l.next)&&!(h=h.call(l,C[1])).done)return h;switch(l=0,h&&(C=[C[0]&2,h.value]),C[0]){case 0:case 1:h=C;break;case 4:return i.label++,{value:C[1],done:!1};case 5:i.label++,l=C[1],C=[0];continue;case 7:C=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(C[0]===6||C[0]===2)){i=0;continue}if(C[0]===3&&(!h||C[1]>h[0]&&C[1]<h[3])){i.label=C[1];break}if(C[0]===6&&i.label<h[1]){i.label=h[1],h=C;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(C);break}h[2]&&i.ops.pop(),i.trys.pop();continue}C=t.call(e,i)}catch(E){C=[6,E],l=0}finally{a=h=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}}function wv(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var WAe=Iv.div(fj||(fj=wv([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`],[`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),BAe=Iv.div(hj||(hj=wv([`
  width: 100%;
  `,`
`],[`
  width: 100%;
  `,`
`])),function(e){var t=e.aspectRatio;return t==="cover"?`
    position: absolute;
    bottom: 0;
    top: 0;
    left: 0;
    right: 0;`:`
    position: relative;
    padding-bottom: `+100/t+"%;"}),dj=Iv.div(pj||(pj=wv([`
  padding: 40px;
`],[`
  padding: 40px;
`]))),UAe=Iv.video(gj||(gj=wv([`
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
  transform: rotateY(`,`);
`],[`
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
  transform: rotateY(`,`);
`])),function(e){var t=e.mirrored;return t?"180deg":"0deg"}),VAe=Iv.canvas(mj||(mj=wv([`
  display: none;
`],[`
  display: none;
`]))),fj,hj,pj,gj,mj,E7=yi.forwardRef(function(e,t){var i=e.facingMode,a=i===void 0?"user":i,l=e.aspectRatio,h=l===void 0?"cover":l,g=e.numberOfCamerasCallback,v=g===void 0?function(){return null}:g,T=e.videoSourceDeviceId,C=T===void 0?void 0:T,E=e.errorMessages,A=E===void 0?{noCameraAccessible:"No camera device accessible. Please connect your camera or try a different browser.",permissionDenied:"Permission denied. Please refresh and give camera permission.",switchCamera:"It is not possible to switch camera to different one because there is only one video device accessible.",canvas:"Canvas is not supported."}:E,D=e.videoReadyCallback,M=D===void 0?function(){return null}:D,w=ye.useRef(null),O=ye.useRef(null),N=ye.useRef(null),k=ye.useRef(null),R=ye.useState(0),W=R[0],K=R[1],de=ye.useState(null),ee=de[0],X=de[1],ce=ye.useState(a),he=ce[0],le=ce[1],fe=ye.useState(!1),_e=fe[0],xe=fe[1],De=ye.useState(!1),Ne=De[0],je=De[1],Ze=ye.useState(!1),Re=Ze[0],Me=Ze[1],Ae=ye.useState(!1),Je=Ae[0],He=Ae[1],Ge=ye.useRef(!1);ye.useEffect(function(){return Ge.current=!0,function(){Ge.current=!1}},[]),ye.useEffect(function(){v(W)},[W]);var nt=function(pe){return pe===void 0&&(pe=!1),lb(void 0,void 0,void 0,function(){var oe,me;return db(this,function(Se){switch(Se.label){case 0:if(!(ee&&(navigator!=null&&navigator.mediaDevices)&&Ge.current))return[3,4];if(oe=navigator.mediaDevices.getSupportedConstraints(),me=ee.getTracks()[0],!(oe&&"torch"in oe&&me))return[3,4];Se.label=1;case 1:return Se.trys.push([1,3,,4]),[4,me.applyConstraints({advanced:[{torch:pe}]})];case 2:return Se.sent(),[2,!0];case 3:return Se.sent(),[2,!1];case 4:return[2,!1]}})})};return ye.useEffect(function(){nt(Je)},[Je]),ye.useImperativeHandle(t,function(){return{takePhoto:function(pe){var oe,me,Se,et,Ke;if(W<1)throw new Error(A.noCameraAccessible);if(O!=null&&O.current){var mt=((oe=w==null?void 0:w.current)===null||oe===void 0?void 0:oe.videoWidth)||1280,vt=((me=w==null?void 0:w.current)===null||me===void 0?void 0:me.videoHeight)||720,Vt=mt/vt,Nt=((Se=k==null?void 0:k.current)===null||Se===void 0?void 0:Se.offsetWidth)||1280,xt=((et=k==null?void 0:k.current)===null||et===void 0?void 0:et.offsetHeight)||1280,nr=Nt/xt,jt=void 0,xr=void 0,Yr=void 0,cr=void 0,Un=void 0;switch(Vt>nr?(cr=vt,Yr=vt*nr,jt=(mt-Yr)/2,xr=0):(Yr=mt,cr=mt/nr,jt=0,xr=(vt-cr)/2),O.current.width=Yr,O.current.height=cr,N.current||(N.current=O.current.getContext("2d",{willReadFrequently:!0})),N.current&&(w!=null&&w.current)&&N.current.drawImage(w.current,jt,xr,Yr,cr,0,0,Yr,cr),pe){case"imgData":Un=(Ke=N.current)===null||Ke===void 0?void 0:Ke.getImageData(0,0,Yr,cr);break;default:Un=O.current.toDataURL("image/jpeg");break}return Un}else throw new Error(A.canvas)},switchCamera:function(){if(W<1)throw new Error(A.noCameraAccessible);W<2&&console.error("Error: Unable to switch camera. Only one device is accessible.");var pe=he==="user"?"environment":"user";return le(pe),pe},getNumberOfCameras:function(){return W},toggleTorch:function(){var pe=!Je;return He(pe),pe},torchSupported:Re}}),ye.useEffect(function(){GAe(ee,X,he,C,K,xe,je,!!Ge.current)},[he,C]),ye.useEffect(function(){return nt(!1).then(function(pe){return Me(pe)}),ee&&w&&w.current&&(w.current.srcObject=ee),function(){ee&&ee.getTracks().forEach(function(pe){pe.stop()})}},[ee]),yi.createElement(BAe,{ref:k,aspectRatio:h},yi.createElement(WAe,null,_e?yi.createElement(dj,null,A.noCameraAccessible):null,Ne?yi.createElement(dj,null,A.permissionDenied):null,yi.createElement(UAe,{ref:w,id:"video",muted:!0,autoPlay:!0,playsInline:!0,mirrored:he==="user",onLoadedData:function(){M()}}),yi.createElement(VAe,{ref:O})))});E7.displayName="Camera";var jAe=function(e){return lb(void 0,void 0,void 0,function(){var t;return db(this,function(i){switch(i.label){case 0:return t=[],e!=="environment"?[3,2]:[4,navigator.mediaDevices.enumerateDevices().then(function(a){var l=a.filter(function(h){return h.kind=="videoinput"});l.forEach(function(h){var g=h.getCapabilities();g.facingMode&&g.facingMode.indexOf("environment")>=0&&g.deviceId&&t.push(g.deviceId)})})];case 1:i.sent(),i.label=2;case 2:return t.length>1?[2,t.pop()]:[2,void 0]}})})},GAe=function(e,t,i,a,l,h,g,v){return lb(void 0,void 0,void 0,function(){var T,C,E,A,D;return db(this,function(M){switch(M.label){case 0:return e&&e.getTracks().forEach(function(w){w.stop()}),[4,jAe(i)];case 1:return C=M.sent(),C?T=C:T=a?{exact:a}:void 0,E={audio:!1,video:{deviceId:T,facingMode:i}},!((D=navigator==null?void 0:navigator.mediaDevices)===null||D===void 0)&&D.getUserMedia?navigator.mediaDevices.getUserMedia(E).then(function(w){v&&t(vj(w,l))}).catch(function(w){_j(w,h,g)}):(A=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,A?A(E,function(w){return lb(void 0,void 0,void 0,function(){return db(this,function(O){return v&&t(vj(w,l)),[2]})})},function(w){_j(w,h,g)}):h(!0)),[2]}})})},vj=function(e,t){return navigator.mediaDevices.enumerateDevices().then(function(i){return t(i.filter(function(a){return a.kind==="videoinput"}).length)}),e},_j=function(e,t,i){console.error(e),e.name==="PermissionDeniedError"?i(!0):t(!0)};const zAe=({onHandleImage:e})=>{const[t,i]=ye.useState(0),[a,l]=ye.useState("some.jpg"),h=ye.useRef(null),g=ye.useRef(null),v=ye.useRef(null),T=[{action:()=>{h.current&&h.current.switchCamera()},label:"Switch"},{action:()=>{h.current&&h.current.toggleTorch()},label:"Torch"}];function C(){var E,A;if(h.current){const D=h.current.takePhoto();l(D);const M=(E=g==null?void 0:g.current)==null?void 0:E.getContext("2d");M&&(g!=null&&g.current)&&(M.drawImage(v==null?void 0:v.current,0,0,g.current.width,g.current.height),(A=g==null?void 0:g.current)==null||A.toBlob(w=>{if(w){const O=new File([w],"photo.jpg",{type:"image/jpeg"});e(O)}},"image/jpeg"))}}return a?Ee.jsxs(Ee.Fragment,{children:[Ee.jsx("div",{className:"absolute top-10 w-full flex justify-between",children:Ee.jsx("button",{className:"w-16 h-16 bg-white rounded-full",onClick:()=>l(null),children:"clear"})}),Ee.jsx("img",{style:{objectFit:"cover",width:"100px"},src:a}),Ee.jsx("div",{className:"absolute bottom-10",children:Ee.jsx("button",{children:"Simpan"})})]}):Ee.jsxs(Ee.Fragment,{children:[" ",Ee.jsx("button",{onClick:()=>{C()},children:"takePicture2"}),Ee.jsxs("div",{className:" top-10 left-5 z-10",children:[" captureMenu",T.map(E=>Ee.jsxs("button",{className:"w-16 h-16 bg-white rounded-full basis-1/3",disabled:E.label==="Switch"&&t<=1,onClick:E.action,children:["switch",E.label]},E.label)),Ee.jsx("button",{onClick:()=>{C()},children:"takePicture2"})]}),Ee.jsx("button",{onClick:()=>{C()},children:"takePicture2"}),Ee.jsx(ts,{children:Ee.jsx(E7,{ref:h,facingMode:"environment",numberOfCamerasCallback:E=>i(E),errorMessages:{noCameraAccessible:"No camera device accessible. Please connect your camera or try a different browser.",permissionDenied:"Permission denied. Please refresh and give camera permission.",switchCamera:"It is not possible to switch camera to different one because there is only one video device accessible.",canvas:"Canvas is not supported."},videoReadyCallback:()=>{console.log("Video feed ready.")}})}),Ee.jsxs("div",{className:" bottom-10 flex w-full justify-center",children:["BUU  ",Ee.jsx("button",{className:"w-16 h-16 bg-white rounded-full",onClick:()=>{C()},children:"takePicture"}),a&&Ee.jsx("img",{src:a,alt:"Captured",ref:v}),Ee.jsx("canvas",{ref:g,style:{display:"none"},width:"30px",height:"20px"})]}),Ee.jsx("button",{onClick:()=>{C()},children:"takePicture2"})]})};/*!
 * Dynamsoft JavaScript Library
 * @product Dynamsoft Core JS Edition
 * @website https://www.dynamsoft.com
 * @copyright Copyright 2024, Dynamsoft Corporation
 * @author Dynamsoft
 * @version 3.4.21
 * @fileoverview Dynamsoft JavaScript Library for Core
 * More info on Dynamsoft Core JS: https://www.dynamsoft.com/capture-vision/docs/web/programming/javascript/api-reference/core/core-module.html
 */var yj,Sj,bj;typeof SuppressedError=="function"&&SuppressedError,function(e){e[e.BOPM_BLOCK=0]="BOPM_BLOCK",e[e.BOPM_UPDATE=1]="BOPM_UPDATE"}(yj||(yj={})),function(e){e[e.CCUT_AUTO=0]="CCUT_AUTO",e[e.CCUT_FULL_CHANNEL=1]="CCUT_FULL_CHANNEL",e[e.CCUT_Y_CHANNEL_ONLY=2]="CCUT_Y_CHANNEL_ONLY",e[e.CCUT_RGB_R_CHANNEL_ONLY=3]="CCUT_RGB_R_CHANNEL_ONLY",e[e.CCUT_RGB_G_CHANNEL_ONLY=4]="CCUT_RGB_G_CHANNEL_ONLY",e[e.CCUT_RGB_B_CHANNEL_ONLY=5]="CCUT_RGB_B_CHANNEL_ONLY"}(Sj||(Sj={})),function(e){e[e.IPF_BINARY=0]="IPF_BINARY",e[e.IPF_BINARYINVERTED=1]="IPF_BINARYINVERTED",e[e.IPF_GRAYSCALED=2]="IPF_GRAYSCALED",e[e.IPF_NV21=3]="IPF_NV21",e[e.IPF_RGB_565=4]="IPF_RGB_565",e[e.IPF_RGB_555=5]="IPF_RGB_555",e[e.IPF_RGB_888=6]="IPF_RGB_888",e[e.IPF_ARGB_8888=7]="IPF_ARGB_8888",e[e.IPF_RGB_161616=8]="IPF_RGB_161616",e[e.IPF_ARGB_16161616=9]="IPF_ARGB_16161616",e[e.IPF_ABGR_8888=10]="IPF_ABGR_8888",e[e.IPF_ABGR_16161616=11]="IPF_ABGR_16161616",e[e.IPF_BGR_888=12]="IPF_BGR_888",e[e.IPF_BINARY_8=13]="IPF_BINARY_8",e[e.IPF_NV12=14]="IPF_NV12",e[e.IPF_BINARY_8_INVERTED=15]="IPF_BINARY_8_INVERTED"}(bj||(bj={}));const fb=typeof self>"u",Tj=(()=>{if(!fb&&document.currentScript){let e=document.currentScript.src,t=e.indexOf("?");if(t!=-1)e=e.substring(0,t);else{let i=e.indexOf("#");i!=-1&&(e=e.substring(0,i))}return e.substring(0,e.lastIndexOf("/")+1)}return"./"})(),x7=e=>{if(e==null&&(e="./"),!fb){let t=document.createElement("a");t.href=e,e=t.href}return e.endsWith("/")||(e+="/"),e},HAe=(e,t)=>{const i={};for(let a in t){const l=a;let h=e[l];h&&typeof h!="string"&&h.path&&(h=h.path),e.rootDirectory&&!e.rootDirectory.endsWith("/")&&(e.rootDirectory=e.rootDirectory+"/"),h===void 0?e.rootDirectory?h=`${e.rootDirectory}${$Ae[l]}@${t[l].version}/dist/`:(h=t[l].path,h||(h=t[l])):h.startsWith("@engineRootDirectory/")&&(h=h.replace("@engineRootDirectory/",e.rootDirectory)),i[l]=x7(h)}return i},$Ae={std:"dynamsoft-capture-vision-std",dip:"dynamsoft-image-processing",core:"dynamsoft-core",dnn:"dynamsoft-capture-vision-dnn",license:"dynamsoft-license",utility:"dynamsoft-utility",cvr:"dynamsoft-capture-vision-router",dbr:"dynamsoft-barcode-reader",dlr:"dynamsoft-label-recognizer",ddn:"dynamsoft-document-normalizer",dcp:"dynamsoft-code-parser",dcpd:"dynamsoft-code-parser",dlrData:"dynamsoft-label-recognizer-data",dce:"dynamsoft-camera-enhancer"},Cj=e=>e&&typeof e=="object"&&typeof e.then=="function";class rR extends Promise{get status(){return this._s}get isPending(){return this._s==="pending"}get isFulfilled(){return this._s==="fulfilled"}get isRejected(){return this._s==="rejected"}get task(){return this._task}set task(t){let i;this._task=t,Cj(t)?i=t:typeof t=="function"&&(i=new Promise(t)),i&&(async()=>{try{const a=await i;t===this._task&&this.resolve(a)}catch(a){t===this._task&&this.reject(a)}})()}get isEmpty(){return this._task==null}constructor(t){let i,a;super((l,h)=>{i=l,a=h}),this._s="pending",this.resolve=l=>{this.isPending&&(Cj(l)?this.task=l:(this._s="fulfilled",i(l)))},this.reject=l=>{this.isPending&&(this._s="rejected",a(l))},this.task=t}}let Gg,Iu,Py,hb,_o;typeof navigator<"u"&&(Gg=navigator,Iu=Gg.userAgent,Py=Gg.platform,hb=Gg.mediaDevices),function(){if(!fb){const e={Edge:{search:"Edg",verSearch:"Edg"},OPR:null,Chrome:null,Safari:{str:Gg.vendor,search:"Apple",verSearch:["Version","iPhone OS","CPU OS"]},Firefox:null,Explorer:{search:"MSIE",verSearch:"MSIE"}},t={HarmonyOS:null,Android:null,iPhone:null,iPad:null,Windows:{str:Py,search:"Win"},Mac:{str:Py},Linux:{str:Py}};let i="unknownBrowser",a=0,l="unknownOS";for(let h in e){const g=e[h]||{};let v=g.str||Iu,T=g.search||h,C=g.verStr||Iu,E=g.verSearch||h;if(E instanceof Array||(E=[E]),v.indexOf(T)!=-1){i=h;for(let A of E){let D=C.indexOf(A);if(D!=-1){a=parseFloat(C.substring(D+A.length+1));break}}break}}for(let h in t){const g=t[h]||{};let v=g.str||Iu,T=g.search||h;if(v.indexOf(T)!=-1){l=h;break}}l=="Linux"&&Iu.indexOf("Windows NT")!=-1&&(l="HarmonyOS"),_o={browser:i,version:a,OS:l}}fb&&(_o={browser:"ssr",version:0,OS:"ssr"})}();const KAe=typeof WebAssembly<"u"&&Iu&&!(/Safari/.test(Iu)&&!/Chrome/.test(Iu)&&/\(.+\s11_2_([2-6]).*\)/.test(Iu)),YAe=!(typeof Worker>"u"),A7=!(!hb||!hb.getUserMedia),QAe=async()=>{let e=!1;if(A7)try{(await hb.getUserMedia({video:!0})).getTracks().forEach(t=>{t.stop()}),e=!0}catch{}return e};_o.browser==="Chrome"&&_o.version>66||_o.browser==="Safari"&&_o.version>13||_o.browser==="OPR"&&_o.version>43||_o.browser==="Edge"&&_o.version;const Jc={},Ij=async e=>{let t=typeof e=="string"?[e]:e,i=[];for(let a of t)i.push(Jc[a]=Jc[a]||new rR);await Promise.all(i)},XAe=async(e,t)=>{let i,a=typeof e=="string"?[e]:e,l=[];for(let h of a){let g;l.push(g=Jc[h]=Jc[h]||new rR(i=i||t())),g.isEmpty&&(g.task=i=i||t())}await Promise.all(l)};let Gs,P7=0;const wj=()=>P7++,Vl={};let Am;const JAe=e=>{Am=e,Gs&&Gs.postMessage({type:"setBLog",body:{value:!!e}})};let nR=!1;const qAe=e=>{nR=e,Gs&&Gs.postMessage({type:"setBDebug",body:{value:!!e}})},rm={},ZAe={},ePe={std:{version:"1.4.10",path:x7(Tj+"../../dynamsoft-capture-vision-std@1.4.10/dist/")},core:{version:"3.4.21",path:Tj}},nA={dip:{wasm:!0}},$P={},tPe=async e=>{let t;e instanceof Array||(e=e?[e]:[]);let i=Jc.core;t=!i||i.isEmpty;let a=new Map;const l=v=>{if((v=v.toLowerCase())=="std"||v=="core")return;if(!nA[v])throw Error("The '"+v+"' module cannot be found.");let T=nA[v].deps;if(T!=null&&T.length)for(let E of T)l(E);let C=Jc[v];a.has(v)||a.set(v,!C||C.isEmpty)};for(let v of e)l(v);let h=[];t&&h.push("core"),h.push(...a.keys());const g=[...a.entries()].filter(v=>!v[1]).map(v=>v[0]);await XAe(h,async()=>{const v=[...a.entries()].filter(M=>M[1]).map(M=>M[0]);await Ij(g);const T=HAe($P,ePe),C={};for(let M of v)C[M]=nA[M];const E={engineResourcePaths:T,autoResources:C,names:v};let A=new rR;if(t){E.needLoadCore=!0;let M=T.core+es._workerName;M.startsWith(location.origin)||(M=await fetch(M).then(w=>w.blob()).then(w=>URL.createObjectURL(w))),Gs=new Worker(M),Gs.onerror=w=>{let O=new Error(w.message);A.reject(O)},Gs.addEventListener("message",w=>{let O=w.data?w.data:w,N=O.type,k=O.id,R=O.body;switch(N){case"log":Am&&Am(O.message);break;case"task":try{Vl[k](R),delete Vl[k]}catch(W){throw delete Vl[k],W}break;case"event":try{Vl[k](R)}catch(W){throw W}break;default:console.log(w)}}),E.bLog=!!Am,E.bd=nR,E.dm=location.origin.startsWith("http")?location.origin:"https://localhost"}else await Ij("core");let D=P7++;Vl[D]=M=>{if(M.success)Object.assign(rm,M.versions),JSON.stringify(M.versions)!=="{}"&&(es._versions=M.versions),A.resolve(void 0);else{const w=Error(M.message);M.stack&&(w.stack=M.stack),A.reject(w)}},Gs.postMessage({type:"loadWasm",body:E,id:D}),await A})};class es{static get engineResourcePaths(){return $P}static set engineResourcePaths(t){Object.assign($P,t)}static get bSupportDce4Module(){return this._bSupportDce4Module}static get bSupportIRTModule(){return this._bSupportIRTModule}static get versions(){return this._versions}static get _onLog(){return Am}static set _onLog(t){JAe(t)}static get _bDebug(){return nR}static set _bDebug(t){qAe(t)}static isModuleLoaded(t){return t=(t=t||"core").toLowerCase(),!!Jc[t]&&Jc[t].isFulfilled}static async loadWasm(t){return await tPe(t)}static async detectEnvironment(){return await(async()=>({wasm:KAe,worker:YAe,getUserMedia:A7,camera:await QAe(),browser:_o.browser,version:_o.version,OS:_o.OS}))()}static async getModuleVersion(){return await new Promise((t,i)=>{let a=wj();Vl[a]=async l=>{if(l.success)return t(l.versions);{let h=new Error(l.message);return h.stack=l.stack+`
`+h.stack,i(h)}},Gs.postMessage({type:"getModuleVersion",id:a})})}static getVersion(){const t=rm.core&&rm.core.worker,i=rm.core&&rm.core.wasm;return`3.4.21(Worker: ${t||"Not Loaded"}, Wasm: ${i||"Not Loaded"})`}static enableLogging(){es._onLog=console.log}static disableLogging(){es._onLog=null}static async cfd(t){return await new Promise((i,a)=>{let l=wj();Vl[l]=async h=>{if(h.success)return i();{let g=new Error(h.message);return g.stack=h.stack+`
`+g.stack,a(g)}},Gs.postMessage({type:"cfd",id:l,body:{count:t}})})}}var Ej,xj,Aj,Pj,kj,Dj,Rj,Fj;es._bSupportDce4Module=-1,es._bSupportIRTModule=-1,es._versions=null,es._workerName="core.worker.js",es.browserInfo=_o,function(e){e[e.CRIT_ORIGINAL_IMAGE=1]="CRIT_ORIGINAL_IMAGE",e[e.CRIT_BARCODE=2]="CRIT_BARCODE",e[e.CRIT_TEXT_LINE=4]="CRIT_TEXT_LINE",e[e.CRIT_DETECTED_QUAD=8]="CRIT_DETECTED_QUAD",e[e.CRIT_NORMALIZED_IMAGE=16]="CRIT_NORMALIZED_IMAGE",e[e.CRIT_PARSED_RESULT=32]="CRIT_PARSED_RESULT"}(Ej||(Ej={})),function(e){e[e.CT_NORMAL_INTERSECTED=0]="CT_NORMAL_INTERSECTED",e[e.CT_T_INTERSECTED=1]="CT_T_INTERSECTED",e[e.CT_CROSS_INTERSECTED=2]="CT_CROSS_INTERSECTED",e[e.CT_NOT_INTERSECTED=3]="CT_NOT_INTERSECTED"}(xj||(xj={})),function(e){e[e.EC_OK=0]="EC_OK",e[e.EC_UNKNOWN=-1e4]="EC_UNKNOWN",e[e.EC_NO_MEMORY=-10001]="EC_NO_MEMORY",e[e.EC_NULL_POINTER=-10002]="EC_NULL_POINTER",e[e.EC_LICENSE_INVALID=-10003]="EC_LICENSE_INVALID",e[e.EC_LICENSE_EXPIRED=-10004]="EC_LICENSE_EXPIRED",e[e.EC_FILE_NOT_FOUND=-10005]="EC_FILE_NOT_FOUND",e[e.EC_FILE_TYPE_NOT_SUPPORTED=-10006]="EC_FILE_TYPE_NOT_SUPPORTED",e[e.EC_BPP_NOT_SUPPORTED=-10007]="EC_BPP_NOT_SUPPORTED",e[e.EC_INDEX_INVALID=-10008]="EC_INDEX_INVALID",e[e.EC_CUSTOM_REGION_INVALID=-10010]="EC_CUSTOM_REGION_INVALID",e[e.EC_IMAGE_READ_FAILED=-10012]="EC_IMAGE_READ_FAILED",e[e.EC_TIFF_READ_FAILED=-10013]="EC_TIFF_READ_FAILED",e[e.EC_DIB_BUFFER_INVALID=-10018]="EC_DIB_BUFFER_INVALID",e[e.EC_PDF_READ_FAILED=-10021]="EC_PDF_READ_FAILED",e[e.EC_PDF_DLL_MISSING=-10022]="EC_PDF_DLL_MISSING",e[e.EC_PAGE_NUMBER_INVALID=-10023]="EC_PAGE_NUMBER_INVALID",e[e.EC_CUSTOM_SIZE_INVALID=-10024]="EC_CUSTOM_SIZE_INVALID",e[e.EC_TIMEOUT=-10026]="EC_TIMEOUT",e[e.EC_JSON_PARSE_FAILED=-10030]="EC_JSON_PARSE_FAILED",e[e.EC_JSON_TYPE_INVALID=-10031]="EC_JSON_TYPE_INVALID",e[e.EC_JSON_KEY_INVALID=-10032]="EC_JSON_KEY_INVALID",e[e.EC_JSON_VALUE_INVALID=-10033]="EC_JSON_VALUE_INVALID",e[e.EC_JSON_NAME_KEY_MISSING=-10034]="EC_JSON_NAME_KEY_MISSING",e[e.EC_JSON_NAME_VALUE_DUPLICATED=-10035]="EC_JSON_NAME_VALUE_DUPLICATED",e[e.EC_TEMPLATE_NAME_INVALID=-10036]="EC_TEMPLATE_NAME_INVALID",e[e.EC_JSON_NAME_REFERENCE_INVALID=-10037]="EC_JSON_NAME_REFERENCE_INVALID",e[e.EC_PARAMETER_VALUE_INVALID=-10038]="EC_PARAMETER_VALUE_INVALID",e[e.EC_DOMAIN_NOT_MATCH=-10039]="EC_DOMAIN_NOT_MATCH",e[e.EC_RESERVED_INFO_NOT_MATCH=-10040]="EC_RESERVED_INFO_NOT_MATCH",e[e.EC_LICENSE_KEY_NOT_MATCH=-10043]="EC_LICENSE_KEY_NOT_MATCH",e[e.EC_REQUEST_FAILED=-10044]="EC_REQUEST_FAILED",e[e.EC_LICENSE_INIT_FAILED=-10045]="EC_LICENSE_INIT_FAILED",e[e.EC_SET_MODE_ARGUMENT_ERROR=-10051]="EC_SET_MODE_ARGUMENT_ERROR",e[e.EC_LICENSE_CONTENT_INVALID=-10052]="EC_LICENSE_CONTENT_INVALID",e[e.EC_LICENSE_KEY_INVALID=-10053]="EC_LICENSE_KEY_INVALID",e[e.EC_LICENSE_DEVICE_RUNS_OUT=-10054]="EC_LICENSE_DEVICE_RUNS_OUT",e[e.EC_GET_MODE_ARGUMENT_ERROR=-10055]="EC_GET_MODE_ARGUMENT_ERROR",e[e.EC_IRT_LICENSE_INVALID=-10056]="EC_IRT_LICENSE_INVALID",e[e.EC_FILE_SAVE_FAILED=-10058]="EC_FILE_SAVE_FAILED",e[e.EC_STAGE_TYPE_INVALID=-10059]="EC_STAGE_TYPE_INVALID",e[e.EC_IMAGE_ORIENTATION_INVALID=-10060]="EC_IMAGE_ORIENTATION_INVALID",e[e.EC_CONVERT_COMPLEX_TEMPLATE_ERROR=-10061]="EC_CONVERT_COMPLEX_TEMPLATE_ERROR",e[e.EC_CALL_REJECTED_WHEN_CAPTURING=-10062]="EC_CALL_REJECTED_WHEN_CAPTURING",e[e.EC_NO_IMAGE_SOURCE=-10063]="EC_NO_IMAGE_SOURCE",e[e.EC_READ_DIRECTORY_FAILED=-10064]="EC_READ_DIRECTORY_FAILED",e[e.EC_MODULE_NOT_FOUND=-10065]="EC_MODULE_NOT_FOUND",e[e.EC_MULTI_PAGES_NOT_SUPPORTED=-10066]="EC_MULTI_PAGES_NOT_SUPPORTED",e[e.EC_FILE_ALREADY_EXISTS=-10067]="EC_FILE_ALREADY_EXISTS",e[e.EC_CREATE_FILE_FAILED=-10068]="EC_CREATE_FILE_FAILED",e[e.EC_IMGAE_DATA_INVALID=-10069]="EC_IMGAE_DATA_INVALID",e[e.EC_IMAGE_SIZE_NOT_MATCH=-10070]="EC_IMAGE_SIZE_NOT_MATCH",e[e.EC_IMAGE_PIXEL_FORMAT_NOT_MATCH=-10071]="EC_IMAGE_PIXEL_FORMAT_NOT_MATCH",e[e.EC_SECTION_LEVEL_RESULT_IRREPLACEABLE=-10072]="EC_SECTION_LEVEL_RESULT_IRREPLACEABLE",e[e.EC_AXIS_DEFINITION_INCORRECT=-10073]="EC_AXIS_DEFINITION_INCORRECT",e[e.EC_RESULT_TYPE_MISMATCH_IRREPLACEABLE=-10074]="EC_RESULT_TYPE_MISMATCH_IRREPLACEABLE",e[e.EC_PDF_LIBRARY_LOAD_FAILED=-10075]="EC_PDF_LIBRARY_LOAD_FAILED",e[e.EC_NO_LICENSE=-2e4]="EC_NO_LICENSE",e[e.EC_HANDSHAKE_CODE_INVALID=-20001]="EC_HANDSHAKE_CODE_INVALID",e[e.EC_LICENSE_BUFFER_FAILED=-20002]="EC_LICENSE_BUFFER_FAILED",e[e.EC_LICENSE_SYNC_FAILED=-20003]="EC_LICENSE_SYNC_FAILED",e[e.EC_DEVICE_NOT_MATCH=-20004]="EC_DEVICE_NOT_MATCH",e[e.EC_BIND_DEVICE_FAILED=-20005]="EC_BIND_DEVICE_FAILED",e[e.EC_INSTANCE_COUNT_OVER_LIMIT=-20008]="EC_INSTANCE_COUNT_OVER_LIMIT",e[e.EC_LICENSE_INIT_SEQUENCE_FAILED=-20009]="EC_LICENSE_INIT_SEQUENCE_FAILED",e[e.EC_TRIAL_LICENSE=-20010]="EC_TRIAL_LICENSE",e[e.EC_FAILED_TO_REACH_DLS=-20200]="EC_FAILED_TO_REACH_DLS",e[e.EC_LICENSE_CACHE_USED=-20012]="EC_LICENSE_CACHE_USED",e[e.EC_BARCODE_FORMAT_INVALID=-30009]="EC_BARCODE_FORMAT_INVALID",e[e.EC_QR_LICENSE_INVALID=-30016]="EC_QR_LICENSE_INVALID",e[e.EC_1D_LICENSE_INVALID=-30017]="EC_1D_LICENSE_INVALID",e[e.EC_PDF417_LICENSE_INVALID=-30019]="EC_PDF417_LICENSE_INVALID",e[e.EC_DATAMATRIX_LICENSE_INVALID=-30020]="EC_DATAMATRIX_LICENSE_INVALID",e[e.EC_CUSTOM_MODULESIZE_INVALID=-30025]="EC_CUSTOM_MODULESIZE_INVALID",e[e.EC_AZTEC_LICENSE_INVALID=-30041]="EC_AZTEC_LICENSE_INVALID",e[e.EC_PATCHCODE_LICENSE_INVALID=-30046]="EC_PATCHCODE_LICENSE_INVALID",e[e.EC_POSTALCODE_LICENSE_INVALID=-30047]="EC_POSTALCODE_LICENSE_INVALID",e[e.EC_DPM_LICENSE_INVALID=-30048]="EC_DPM_LICENSE_INVALID",e[e.EC_FRAME_DECODING_THREAD_EXISTS=-30049]="EC_FRAME_DECODING_THREAD_EXISTS",e[e.EC_STOP_DECODING_THREAD_FAILED=-30050]="EC_STOP_DECODING_THREAD_FAILED",e[e.EC_MAXICODE_LICENSE_INVALID=-30057]="EC_MAXICODE_LICENSE_INVALID",e[e.EC_GS1_DATABAR_LICENSE_INVALID=-30058]="EC_GS1_DATABAR_LICENSE_INVALID",e[e.EC_GS1_COMPOSITE_LICENSE_INVALID=-30059]="EC_GS1_COMPOSITE_LICENSE_INVALID",e[e.EC_DOTCODE_LICENSE_INVALID=-30061]="EC_DOTCODE_LICENSE_INVALID",e[e.EC_PHARMACODE_LICENSE_INVALID=-30062]="EC_PHARMACODE_LICENSE_INVALID",e[e.EC_CHARACTER_MODEL_FILE_NOT_FOUND=-40100]="EC_CHARACTER_MODEL_FILE_NOT_FOUND",e[e.EC_TEXT_LINE_GROUP_LAYOUT_CONFLICT=-40101]="EC_TEXT_LINE_GROUP_LAYOUT_CONFLICT",e[e.EC_TEXT_LINE_GROUP_REGEX_CONFLICT=-40102]="EC_TEXT_LINE_GROUP_REGEX_CONFLICT",e[e.EC_QUADRILATERAL_INVALID=-50057]="EC_QUADRILATERAL_INVALID",e[e.EC_PANORAMA_LICENSE_INVALID=-70060]="EC_PANORAMA_LICENSE_INVALID",e[e.EC_RESOURCE_PATH_NOT_EXIST=-90001]="EC_RESOURCE_PATH_NOT_EXIST",e[e.EC_RESOURCE_LOAD_FAILED=-90002]="EC_RESOURCE_LOAD_FAILED",e[e.EC_CODE_SPECIFICATION_NOT_FOUND=-90003]="EC_CODE_SPECIFICATION_NOT_FOUND",e[e.EC_FULL_CODE_EMPTY=-90004]="EC_FULL_CODE_EMPTY",e[e.EC_FULL_CODE_PREPROCESS_FAILED=-90005]="EC_FULL_CODE_PREPROCESS_FAILED",e[e.EC_ZA_DL_LICENSE_INVALID=-90006]="EC_ZA_DL_LICENSE_INVALID",e[e.EC_AAMVA_DL_ID_LICENSE_INVALID=-90007]="EC_AAMVA_DL_ID_LICENSE_INVALID",e[e.EC_AADHAAR_LICENSE_INVALID=-90008]="EC_AADHAAR_LICENSE_INVALID",e[e.EC_MRTD_LICENSE_INVALID=-90009]="EC_MRTD_LICENSE_INVALID",e[e.EC_VIN_LICENSE_INVALID=-90010]="EC_VIN_LICENSE_INVALID",e[e.EC_CUSTOMIZED_CODE_TYPE_LICENSE_INVALID=-90011]="EC_CUSTOMIZED_CODE_TYPE_LICENSE_INVALID",e[e.EC_LICENSE_WARNING=-10076]="EC_LICENSE_WARNING",e[e.EC_BARCODE_READER_LICENSE_NOT_FOUND=-30063]="EC_BARCODE_READER_LICENSE_NOT_FOUND",e[e.EC_LABEL_RECOGNIZER_LICENSE_NOT_FOUND=-40103]="EC_LABEL_RECOGNIZER_LICENSE_NOT_FOUND",e[e.EC_DOCUMENT_NORMALIZER_LICENSE_NOT_FOUND=-50058]="EC_DOCUMENT_NORMALIZER_LICENSE_NOT_FOUND",e[e.EC_CODE_PARSER_LICENSE_NOT_FOUND=-90012]="EC_CODE_PARSER_LICENSE_NOT_FOUND"}(Aj||(Aj={})),function(e){e[e.GEM_SKIP=0]="GEM_SKIP",e[e.GEM_AUTO=1]="GEM_AUTO",e[e.GEM_GENERAL=2]="GEM_GENERAL",e[e.GEM_GRAY_EQUALIZE=4]="GEM_GRAY_EQUALIZE",e[e.GEM_GRAY_SMOOTH=8]="GEM_GRAY_SMOOTH",e[e.GEM_SHARPEN_SMOOTH=16]="GEM_SHARPEN_SMOOTH",e[e.GEM_REV=-2147483648]="GEM_REV"}(Pj||(Pj={})),function(e){e[e.GTM_SKIP=0]="GTM_SKIP",e[e.GTM_INVERTED=1]="GTM_INVERTED",e[e.GTM_ORIGINAL=2]="GTM_ORIGINAL",e[e.GTM_AUTO=4]="GTM_AUTO",e[e.GTM_REV=-2147483648]="GTM_REV"}(kj||(kj={})),function(e){e[e.ITT_FILE_IMAGE=0]="ITT_FILE_IMAGE",e[e.ITT_VIDEO_FRAME=1]="ITT_VIDEO_FRAME"}(Dj||(Dj={})),function(e){e[e.PDFRM_VECTOR=1]="PDFRM_VECTOR",e[e.PDFRM_RASTER=2]="PDFRM_RASTER",e[e.PDFRM_REV=-2147483648]="PDFRM_REV"}(Rj||(Rj={})),function(e){e[e.RDS_RASTERIZED_PAGES=0]="RDS_RASTERIZED_PAGES",e[e.RDS_EXTRACTED_IMAGES=1]="RDS_EXTRACTED_IMAGES"}(Fj||(Fj={}));BigInt(0),BigInt(1),BigInt(2),BigInt(4),BigInt(8),BigInt(16),BigInt(32),BigInt(64),BigInt(128),BigInt(256),BigInt(512),BigInt(1024),BigInt(2048),BigInt(4096),BigInt(8192),BigInt(16384),BigInt(32768),BigInt(65536),BigInt(1<<17),BigInt(1<<18),BigInt(1<<19),BigInt(1<<20),BigInt(1<<21),BigInt(1<<22),BigInt(1<<23),BigInt(1<<24),BigInt(1<<25),BigInt(1<<26),BigInt(1<<27),BigInt(1<<28),BigInt("0xFFFFFFFFFFFFFFFF");var Oj,Nj;(function(e){e[e.ROET_PREDETECTED_REGION=0]="ROET_PREDETECTED_REGION",e[e.ROET_LOCALIZED_BARCODE=1]="ROET_LOCALIZED_BARCODE",e[e.ROET_DECODED_BARCODE=2]="ROET_DECODED_BARCODE",e[e.ROET_LOCALIZED_TEXT_LINE=3]="ROET_LOCALIZED_TEXT_LINE",e[e.ROET_RECOGNIZED_TEXT_LINE=4]="ROET_RECOGNIZED_TEXT_LINE",e[e.ROET_DETECTED_QUAD=5]="ROET_DETECTED_QUAD",e[e.ROET_NORMALIZED_IMAGE=6]="ROET_NORMALIZED_IMAGE",e[e.ROET_SOURCE_IMAGE=7]="ROET_SOURCE_IMAGE",e[e.ROET_TARGET_ROI=8]="ROET_TARGET_ROI"})(Oj||(Oj={})),function(e){e[e.ST_NULL=0]="ST_NULL",e[e.ST_REGION_PREDETECTION=1]="ST_REGION_PREDETECTION",e[e.ST_BARCODE_LOCALIZATION=2]="ST_BARCODE_LOCALIZATION",e[e.ST_BARCODE_DECODING=3]="ST_BARCODE_DECODING",e[e.ST_TEXT_LINE_LOCALIZATION=4]="ST_TEXT_LINE_LOCALIZATION",e[e.ST_TEXT_LINE_RECOGNITION=5]="ST_TEXT_LINE_RECOGNITION",e[e.ST_DOCUMENT_DETECTION=6]="ST_DOCUMENT_DETECTION",e[e.ST_DOCUMENT_NORMALIZATION=7]="ST_DOCUMENT_NORMALIZATION"}(Nj||(Nj={}));/*! 20241010102903 - 20230504
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
* Version: 18.5.1
*/var Yi=self||window||{},Y=Yi.Dynamsoft||{};(function(e){e.DWT||(e.DWT={}),e.DWT.LTS||(e.DWT.LTS={}),e.Lib||(e.Lib={}),e.Lib.UI||(e.Lib.UI={}),e.Lib.html5||(e.Lib.html5={}),Yi.Dynamsoft=e})(Y);(function(e){if(!e.WeakSet){let T=function(C){this.name="__st"+(1e9*Math.random()>>>0)+(t+++"__"),C&&C.forEach&&C.forEach(this.add,this)};var g=T;e.WeakSet=T;var t=Date.now()%1e9,i=T.prototype;i.add=function(C){var E=this.name;return C[E]||Object.defineProperty(C,E,{value:!0,writable:!0}),this},i.delete=function(C){return C[this.name]?(C[this.name]=void 0,!0):!1},i.has=function(C){return!!C[this.name]}}if(!e.WeakMap){let T=function(C){return Object(C)===C};var v=T,a=Object.prototype.hasOwnProperty,l=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),h=function(C,E,A){l?Object.defineProperty(C,E,{configurable:!0,writable:!0,value:A}):C[E]=A};e.WeakMap=function(){function C(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(h(this,"_id",A("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}h(C.prototype,"delete",function(M){if(E(this,"delete"),!T(M))return!1;var w=M[this._id];return w&&w[0]===M?(delete M[this._id],!0):!1}),h(C.prototype,"get",function(M){if(E(this,"get"),!!T(M)){var w=M[this._id];if(w&&w[0]===M)return w[1]}}),h(C.prototype,"has",function(M){if(E(this,"has"),!T(M))return!1;var w=M[this._id];return!!(w&&w[0]===M)}),h(C.prototype,"set",function(M,w){if(E(this,"set"),!T(M))throw new TypeError("Invalid value used as weak map key");var O=M[this._id];return O&&O[0]===M?(O[1]=w,this):(h(M,this._id,[M,w]),this)});function E(M,w){if(!T(M)||!a.call(M,"_id"))throw new TypeError(w+" method called on incompatible receiver "+typeof M)}function A(M){return M+"_"+D()+"."+D()}function D(){return Math.random().toString().substring(2)}return h(C,"_polyfill",!0),C}()}})(typeof Yi<"u"?Yi:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:globalThis);if(!Y.Lib.jsinited){if(Y.Lib.jsinited=1,function(e){if(typeof tk=="object")hS.exports=e();else if(typeof define=="function"&&define.amd)define(e);else{var t;try{t=window}catch{t=self}t.SparkMD5=e()}}(function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(O,N){var k=O[0],R=O[1],W=O[2],K=O[3];k+=(R&W|~R&K)+N[0]-680876936|0,k=(k<<7|k>>>25)+R|0,K+=(k&R|~k&W)+N[1]-389564586|0,K=(K<<12|K>>>20)+k|0,W+=(K&k|~K&R)+N[2]+606105819|0,W=(W<<17|W>>>15)+K|0,R+=(W&K|~W&k)+N[3]-1044525330|0,R=(R<<22|R>>>10)+W|0,k+=(R&W|~R&K)+N[4]-176418897|0,k=(k<<7|k>>>25)+R|0,K+=(k&R|~k&W)+N[5]+1200080426|0,K=(K<<12|K>>>20)+k|0,W+=(K&k|~K&R)+N[6]-1473231341|0,W=(W<<17|W>>>15)+K|0,R+=(W&K|~W&k)+N[7]-45705983|0,R=(R<<22|R>>>10)+W|0,k+=(R&W|~R&K)+N[8]+1770035416|0,k=(k<<7|k>>>25)+R|0,K+=(k&R|~k&W)+N[9]-1958414417|0,K=(K<<12|K>>>20)+k|0,W+=(K&k|~K&R)+N[10]-42063|0,W=(W<<17|W>>>15)+K|0,R+=(W&K|~W&k)+N[11]-1990404162|0,R=(R<<22|R>>>10)+W|0,k+=(R&W|~R&K)+N[12]+1804603682|0,k=(k<<7|k>>>25)+R|0,K+=(k&R|~k&W)+N[13]-40341101|0,K=(K<<12|K>>>20)+k|0,W+=(K&k|~K&R)+N[14]-1502002290|0,W=(W<<17|W>>>15)+K|0,R+=(W&K|~W&k)+N[15]+1236535329|0,R=(R<<22|R>>>10)+W|0,k+=(R&K|W&~K)+N[1]-165796510|0,k=(k<<5|k>>>27)+R|0,K+=(k&W|R&~W)+N[6]-1069501632|0,K=(K<<9|K>>>23)+k|0,W+=(K&R|k&~R)+N[11]+643717713|0,W=(W<<14|W>>>18)+K|0,R+=(W&k|K&~k)+N[0]-373897302|0,R=(R<<20|R>>>12)+W|0,k+=(R&K|W&~K)+N[5]-701558691|0,k=(k<<5|k>>>27)+R|0,K+=(k&W|R&~W)+N[10]+38016083|0,K=(K<<9|K>>>23)+k|0,W+=(K&R|k&~R)+N[15]-660478335|0,W=(W<<14|W>>>18)+K|0,R+=(W&k|K&~k)+N[4]-405537848|0,R=(R<<20|R>>>12)+W|0,k+=(R&K|W&~K)+N[9]+568446438|0,k=(k<<5|k>>>27)+R|0,K+=(k&W|R&~W)+N[14]-1019803690|0,K=(K<<9|K>>>23)+k|0,W+=(K&R|k&~R)+N[3]-187363961|0,W=(W<<14|W>>>18)+K|0,R+=(W&k|K&~k)+N[8]+1163531501|0,R=(R<<20|R>>>12)+W|0,k+=(R&K|W&~K)+N[13]-1444681467|0,k=(k<<5|k>>>27)+R|0,K+=(k&W|R&~W)+N[2]-51403784|0,K=(K<<9|K>>>23)+k|0,W+=(K&R|k&~R)+N[7]+1735328473|0,W=(W<<14|W>>>18)+K|0,R+=(W&k|K&~k)+N[12]-1926607734|0,R=(R<<20|R>>>12)+W|0,k+=(R^W^K)+N[5]-378558|0,k=(k<<4|k>>>28)+R|0,K+=(k^R^W)+N[8]-2022574463|0,K=(K<<11|K>>>21)+k|0,W+=(K^k^R)+N[11]+1839030562|0,W=(W<<16|W>>>16)+K|0,R+=(W^K^k)+N[14]-35309556|0,R=(R<<23|R>>>9)+W|0,k+=(R^W^K)+N[1]-1530992060|0,k=(k<<4|k>>>28)+R|0,K+=(k^R^W)+N[4]+1272893353|0,K=(K<<11|K>>>21)+k|0,W+=(K^k^R)+N[7]-155497632|0,W=(W<<16|W>>>16)+K|0,R+=(W^K^k)+N[10]-1094730640|0,R=(R<<23|R>>>9)+W|0,k+=(R^W^K)+N[13]+681279174|0,k=(k<<4|k>>>28)+R|0,K+=(k^R^W)+N[0]-358537222|0,K=(K<<11|K>>>21)+k|0,W+=(K^k^R)+N[3]-722521979|0,W=(W<<16|W>>>16)+K|0,R+=(W^K^k)+N[6]+76029189|0,R=(R<<23|R>>>9)+W|0,k+=(R^W^K)+N[9]-640364487|0,k=(k<<4|k>>>28)+R|0,K+=(k^R^W)+N[12]-421815835|0,K=(K<<11|K>>>21)+k|0,W+=(K^k^R)+N[15]+530742520|0,W=(W<<16|W>>>16)+K|0,R+=(W^K^k)+N[2]-995338651|0,R=(R<<23|R>>>9)+W|0,k+=(W^(R|~K))+N[0]-198630844|0,k=(k<<6|k>>>26)+R|0,K+=(R^(k|~W))+N[7]+1126891415|0,K=(K<<10|K>>>22)+k|0,W+=(k^(K|~R))+N[14]-1416354905|0,W=(W<<15|W>>>17)+K|0,R+=(K^(W|~k))+N[5]-57434055|0,R=(R<<21|R>>>11)+W|0,k+=(W^(R|~K))+N[12]+1700485571|0,k=(k<<6|k>>>26)+R|0,K+=(R^(k|~W))+N[3]-1894986606|0,K=(K<<10|K>>>22)+k|0,W+=(k^(K|~R))+N[10]-1051523|0,W=(W<<15|W>>>17)+K|0,R+=(K^(W|~k))+N[1]-2054922799|0,R=(R<<21|R>>>11)+W|0,k+=(W^(R|~K))+N[8]+1873313359|0,k=(k<<6|k>>>26)+R|0,K+=(R^(k|~W))+N[15]-30611744|0,K=(K<<10|K>>>22)+k|0,W+=(k^(K|~R))+N[6]-1560198380|0,W=(W<<15|W>>>17)+K|0,R+=(K^(W|~k))+N[13]+1309151649|0,R=(R<<21|R>>>11)+W|0,k+=(W^(R|~K))+N[4]-145523070|0,k=(k<<6|k>>>26)+R|0,K+=(R^(k|~W))+N[11]-1120210379|0,K=(K<<10|K>>>22)+k|0,W+=(k^(K|~R))+N[2]+718787259|0,W=(W<<15|W>>>17)+K|0,R+=(K^(W|~k))+N[9]-343485551|0,R=(R<<21|R>>>11)+W|0,O[0]=k+O[0]|0,O[1]=R+O[1]|0,O[2]=W+O[2]|0,O[3]=K+O[3]|0}function a(O){var N=[],k;for(k=0;k<64;k+=4)N[k>>2]=O.charCodeAt(k)+(O.charCodeAt(k+1)<<8)+(O.charCodeAt(k+2)<<16)+(O.charCodeAt(k+3)<<24);return N}function l(O){var N=[],k;for(k=0;k<64;k+=4)N[k>>2]=O[k]+(O[k+1]<<8)+(O[k+2]<<16)+(O[k+3]<<24);return N}function h(O){var N=O.length,k=[1732584193,-271733879,-1732584194,271733878],R,W,K,de,ee,X;for(R=64;R<=N;R+=64)i(k,a(O.substring(R-64,R)));for(O=O.substring(R-64),W=O.length,K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=0;R<W;R+=1)K[R>>2]|=O.charCodeAt(R)<<(R%4<<3);if(K[R>>2]|=128<<(R%4<<3),R>55)for(i(k,K),R=0;R<16;R+=1)K[R]=0;return de=N*8,de=de.toString(16).match(/(.*?)(.{0,8})$/),ee=parseInt(de[2],16),X=parseInt(de[1],16)||0,K[14]=ee,K[15]=X,i(k,K),k}function g(O){var N=O.length,k=[1732584193,-271733879,-1732584194,271733878],R,W,K,de,ee,X;for(R=64;R<=N;R+=64)i(k,l(O.subarray(R-64,R)));for(O=R-64<N?O.subarray(R-64):new Uint8Array(0),W=O.length,K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=0;R<W;R+=1)K[R>>2]|=O[R]<<(R%4<<3);if(K[R>>2]|=128<<(R%4<<3),R>55)for(i(k,K),R=0;R<16;R+=1)K[R]=0;return de=N*8,de=de.toString(16).match(/(.*?)(.{0,8})$/),ee=parseInt(de[2],16),X=parseInt(de[1],16)||0,K[14]=ee,K[15]=X,i(k,K),k}function v(O){var N="",k;for(k=0;k<4;k+=1)N+=t[O>>k*8+4&15]+t[O>>k*8&15];return N}function T(O){var N;for(N=0;N<O.length;N+=1)O[N]=v(O[N]);return O.join("")}T(h("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function O(N,k){return N=N|0||0,N<0?Math.max(N+k,0):Math.min(N,k)}ArrayBuffer.prototype.slice=function(N,k){var R=this.byteLength,W=O(N,R),K=R,de,ee,X,ce;return k!==e&&(K=O(k,R)),W>K?new ArrayBuffer(0):(de=K-W,ee=new ArrayBuffer(de),X=new Uint8Array(ee),ce=new Uint8Array(this,W,de),X.set(ce),ee)}}();function C(O){return/[\u0080-\uFFFF]/.test(O)&&(O=unescape(encodeURIComponent(O))),O}function E(O,N){var k=O.length,R=new ArrayBuffer(k),W=new Uint8Array(R),K;for(K=0;K<k;K+=1)W[K]=O.charCodeAt(K);return N?W:R}function A(O){return String.fromCharCode.apply(null,new Uint8Array(O))}function D(O,N,k){var R=new Uint8Array(O.byteLength+N.byteLength);return R.set(new Uint8Array(O)),R.set(new Uint8Array(N),O.byteLength),k?R:R.buffer}function M(O){var N=[],k=O.length,R;for(R=0;R<k-1;R+=2)N.push(parseInt(O.substr(R,2),16));return String.fromCharCode.apply(String,N)}function w(){this.reset()}return w.prototype.append=function(O){return this.appendBinary(C(O)),this},w.prototype.appendBinary=function(O){this._buff+=O,this._length+=O.length;var N=this._buff.length,k;for(k=64;k<=N;k+=64)i(this._hash,a(this._buff.substring(k-64,k)));return this._buff=this._buff.substring(k-64),this},w.prototype.end=function(O){var N=this._buff,k=N.length,R,W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],K;for(R=0;R<k;R+=1)W[R>>2]|=N.charCodeAt(R)<<(R%4<<3);return this._finish(W,k),K=T(this._hash),O&&(K=M(K)),this.reset(),K},w.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},w.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},w.prototype.setState=function(O){return this._buff=O.buff,this._length=O.length,this._hash=O.hash,this},w.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},w.prototype._finish=function(O,N){var k=N,R,W,K;if(O[k>>2]|=128<<(k%4<<3),k>55)for(i(this._hash,O),k=0;k<16;k+=1)O[k]=0;R=this._length*8,R=R.toString(16).match(/(.*?)(.{0,8})$/),W=parseInt(R[2],16),K=parseInt(R[1],16)||0,O[14]=W,O[15]=K,i(this._hash,O)},w.hash=function(O,N){return w.hashBinary(C(O),N)},w.hashBinary=function(O,N){var k=h(O),R=T(k);return N?M(R):R},w.ArrayBuffer=function(){this.reset()},w.ArrayBuffer.prototype.append=function(O){var N=D(this._buff.buffer,O,!0),k=N.length,R;for(this._length+=O.byteLength,R=64;R<=k;R+=64)i(this._hash,l(N.subarray(R-64,R)));return this._buff=R-64<k?new Uint8Array(N.buffer.slice(R-64)):new Uint8Array(0),this},w.ArrayBuffer.prototype.end=function(O){var N=this._buff,k=N.length,R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],W,K;for(W=0;W<k;W+=1)R[W>>2]|=N[W]<<(W%4<<3);return this._finish(R,k),K=T(this._hash),O&&(K=M(K)),this.reset(),K},w.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},w.ArrayBuffer.prototype.getState=function(){var O=w.prototype.getState.call(this);return O.buff=A(O.buff),O},w.ArrayBuffer.prototype.setState=function(O){return O.buff=E(O.buff,!0),w.prototype.setState.call(this,O)},w.ArrayBuffer.prototype.destroy=w.prototype.destroy,w.ArrayBuffer.prototype._finish=w.prototype._finish,w.ArrayBuffer.hash=function(O,N){var k=g(new Uint8Array(O)),R=T(k);return N?M(R):R},w}),window&&!window.Promise){/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(e){if(typeof tk=="object"&&typeof hS<"u")hS.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"&&(t=self),t.Promise=e()}})(function(){return function e(t,i,a){function l(v,T){if(!i[v]){if(!t[v]){var C=typeof _dereq_=="function"&&_dereq_;if(!T&&C)return C(v,!0);if(h)return h(v,!0);var E=new Error("Cannot find module '"+v+"'");throw E.code="MODULE_NOT_FOUND",E}var A=i[v]={exports:{}};t[v][0].call(A.exports,function(D){var M=t[v][1][D];return l(M||D)},A,A.exports,e,t,i,a)}return i[v].exports}for(var h=typeof _dereq_=="function"&&_dereq_,g=0;g<a.length;g++)l(a[g]);return l}({1:[function(e,t,i){t.exports=function(a){function l(g){var v=new h(g),T=v.promise();return v.setHowMany(1),v.setUnwrap(),v.init(),T}var h=a._SomePromiseArray;a.any=function(g){return l(g)},a.prototype.any=function(){return l(this)}}},{}],2:[function(e,t,i){function a(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new A(16),this._normalQueue=new A(16),this._haveDrainedQueues=!1;var D=this;this.drainQueues=function(){D._drainQueues()},this._schedule=E}function l(D,M,w){this._lateQueue.push(D,M,w),this._queueTick()}function h(D,M,w){this._normalQueue.push(D,M,w),this._queueTick()}function g(D){this._normalQueue._pushOne(D),this._queueTick()}function v(D){for(;D.length()>0;)T(D)}function T(D){var M=D.shift();if(typeof M!="function")M._settlePromises();else{var w=D.shift(),O=D.shift();M.call(w,O)}}var C;try{throw new Error}catch(D){C=D}var E=e("./schedule"),A=e("./queue");a.prototype.setScheduler=function(D){var M=this._schedule;return this._schedule=D,this._customScheduler=!0,M},a.prototype.hasCustomScheduler=function(){return this._customScheduler},a.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},a.prototype.fatalError=function(D,M){M?(process.stderr.write("Fatal "+(D instanceof Error?D.stack:D)+`
`),process.exit(2)):this.throwLater(D)},a.prototype.throwLater=function(D,M){if(arguments.length===1&&(M=D,D=function(){throw M}),typeof setTimeout<"u")setTimeout(function(){D(M)},0);else try{this._schedule(function(){D(M)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},a.prototype.invokeLater=l,a.prototype.invoke=h,a.prototype.settlePromises=g,a.prototype._drainQueues=function(){v(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,v(this._lateQueue)},a.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},a.prototype._reset=function(){this._isTickUsed=!1},t.exports=a,t.exports.firstLineError=C},{"./queue":26,"./schedule":29}],3:[function(e,t,i){t.exports=function(a,l,h,g){var v=!1,T=function(D,M){this._reject(M)},C=function(D,M){M.promiseRejectionQueued=!0,M.bindingPromise._then(T,T,null,this,D)},E=function(D,M){!(50397184&this._bitField)&&this._resolveCallback(M.target)},A=function(D,M){M.promiseRejectionQueued||this._reject(D)};a.prototype.bind=function(D){v||(v=!0,a.prototype._propagateFrom=g.propagateFromFunction(),a.prototype._boundValue=g.boundValueFunction());var M=h(D),w=new a(l);w._propagateFrom(this,1);var O=this._target();if(w._setBoundTo(M),M instanceof a){var N={promiseRejectionQueued:!1,promise:w,target:O,bindingPromise:M};O._then(l,C,void 0,w,N),M._then(E,A,void 0,w,N),w._setOnCancel(M)}else w._resolveCallback(O);return w},a.prototype._setBoundTo=function(D){D!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=D):this._bitField=-2097153&this._bitField},a.prototype._isBound=function(){return(2097152&this._bitField)===2097152},a.bind=function(D,M){return a.resolve(M).bind(D)}}},{}],4:[function(e,t,i){function a(){try{Promise===h&&(Promise=l)}catch{}return h}var l;typeof Promise<"u"&&(l=Promise);var h=e("./promise")();h.noConflict=a,t.exports=h},{"./promise":22}],5:[function(e,t,i){var a=Object.create;if(a){var l=a(null),h=a(null);l[" size"]=h[" size"]=0}t.exports=function(g){function v(w,O){var N;if(w!=null&&(N=w[O]),typeof N!="function"){var k="Object "+D.classString(w)+" has no method '"+D.toString(O)+"'";throw new g.TypeError(k)}return N}function T(w){var O=this.pop(),N=v(w,O);return N.apply(w,this)}function C(w){return w[this]}function E(w){var O=+this;return 0>O&&(O=Math.max(0,O+w.length)),w[O]}var A,D=e("./util"),M=D.canEvaluate;D.isIdentifier,g.prototype.call=function(w){var O=[].slice.call(arguments,1);return O.push(w),this._then(T,void 0,void 0,O,void 0)},g.prototype.get=function(w){var O,N=typeof w=="number";if(N)O=E;else if(M){var k=A(w);O=k!==null?k:C}else O=C;return this._then(O,void 0,void 0,w,void 0)}}},{"./util":36}],6:[function(e,t,i){t.exports=function(a,l,h,g){var v=e("./util"),T=v.tryCatch,C=v.errorObj,E=a._async;a.prototype.break=a.prototype.cancel=function(){if(!g.cancellation())return this._warn("cancellation is disabled");for(var A=this,D=A;A._isCancellable();){if(!A._cancelBy(D)){D._isFollowing()?D._followee().cancel():D._cancelBranched();break}var M=A._cancellationParent;if(M==null||!M._isCancellable()){A._isFollowing()?A._followee().cancel():A._cancelBranched();break}A._isFollowing()&&A._followee().cancel(),A._setWillBeCancelled(),D=A,A=M}},a.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},a.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},a.prototype._cancelBy=function(A){return A===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},a.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},a.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),E.invoke(this._cancelPromises,this,void 0))},a.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},a.prototype._unsetOnCancel=function(){this._onCancelField=void 0},a.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},a.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},a.prototype._doInvokeOnCancel=function(A,D){if(v.isArray(A))for(var M=0;M<A.length;++M)this._doInvokeOnCancel(A[M],D);else if(A!==void 0)if(typeof A=="function"){if(!D){var w=T(A).call(this._boundValue());w===C&&(this._attachExtraTrace(w.e),E.throwLater(w.e))}}else A._resultCancelled(this)},a.prototype._invokeOnCancel=function(){var A=this._onCancel();this._unsetOnCancel(),E.invoke(this._doInvokeOnCancel,this,A)},a.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},a.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,i){t.exports=function(a){function l(C,E,A){return function(D){var M=A._boundValue();e:for(var w=0;w<C.length;++w){var O=C[w];if(O===Error||O!=null&&O.prototype instanceof Error){if(D instanceof O)return v(E).call(M,D)}else if(typeof O=="function"){var N=v(O).call(M,D);if(N===T)return N;if(N)return v(E).call(M,D)}else if(h.isObject(D)){for(var k=g(O),R=0;R<k.length;++R){var W=k[R];if(O[W]!=D[W])continue e}return v(E).call(M,D)}}return a}}var h=e("./util"),g=e("./es5").keys,v=h.tryCatch,T=h.errorObj;return l}},{"./es5":13,"./util":36}],8:[function(e,t,i){t.exports=function(a){function l(){this._trace=new l.CapturedTrace(g())}function h(){return v?new l:void 0}function g(){var C=T.length-1;return C>=0?T[C]:void 0}var v=!1,T=[];return a.prototype._promiseCreated=function(){},a.prototype._pushContext=function(){},a.prototype._popContext=function(){return null},a._peekContext=a.prototype._peekContext=function(){},l.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,T.push(this._trace))},l.prototype._popContext=function(){if(this._trace!==void 0){var C=T.pop(),E=C._promiseCreated;return C._promiseCreated=null,E}return null},l.CapturedTrace=null,l.create=h,l.deactivateLongStackTraces=function(){},l.activateLongStackTraces=function(){var C=a.prototype._pushContext,E=a.prototype._popContext,A=a._peekContext,D=a.prototype._peekContext,M=a.prototype._promiseCreated;l.deactivateLongStackTraces=function(){a.prototype._pushContext=C,a.prototype._popContext=E,a._peekContext=A,a.prototype._peekContext=D,a.prototype._promiseCreated=M,v=!1},v=!0,a.prototype._pushContext=l.prototype._pushContext,a.prototype._popContext=l.prototype._popContext,a._peekContext=a.prototype._peekContext=g,a.prototype._promiseCreated=function(){var w=this._peekContext();w&&w._promiseCreated==null&&(w._promiseCreated=this)}},l}},{}],9:[function(e,t,i){t.exports=function(a,l,h,g){function v(ke,We){return{promise:We}}function T(){return!1}function C(ke,We,it){var ot=this;try{ke(We,it,function(St){if(typeof St!="function")throw new TypeError("onCancel must be a function, got: "+me.toString(St));ot._attachCancellationCallback(St)})}catch(St){return St}}function E(ke){if(!this._isCancellable())return this;var We=this._onCancel();We!==void 0?me.isArray(We)?We.push(ke):this._setOnCancel([We,ke]):this._setOnCancel(ke)}function A(){return this._onCancelField}function D(ke){this._onCancelField=ke}function M(){this._cancellationParent=void 0,this._onCancelField=void 0}function w(ke,We){if(1&We){this._cancellationParent=ke;var it=ke._branchesRemainingToCancel;it===void 0&&(it=0),ke._branchesRemainingToCancel=it+1}2&We&&ke._isBound()&&this._setBoundTo(ke._boundTo)}function O(ke,We){2&We&&ke._isBound()&&this._setBoundTo(ke._boundTo)}function N(){var ke=this._boundTo;return ke!==void 0&&ke instanceof a?ke.isFulfilled()?ke.value():void 0:ke}function k(){this._trace=new Ae(this._peekContext())}function R(ke,We){if(et(ke)){var it=this._trace;if(it!==void 0&&We&&(it=it._parent),it!==void 0)it.attachExtraTrace(ke);else if(!ke.__stackCleaned__){var ot=_e(ke);me.notEnumerableProp(ke,"stack",ot.message+`
`+ot.stack.join(`
`)),me.notEnumerableProp(ke,"__stackCleaned__",!0)}}}function W(){this._trace=void 0}function K(ke,We,it,ot,St){if(ke===void 0&&We!==null&&Yr){if(St!==void 0&&St._returnedNonUndefined()||!(65535&ot._bitField))return;it&&(it+=" ");var Dt="",zt="";if(We._trace){for(var Sr=We._trace.stack.split(`
`),Fr=le(Sr),Qr=Fr.length-1;Qr>=0;--Qr){var no=Fr[Qr];if(!mt.test(no)){var oi=no.match(vt);oi&&(Dt="at "+oi[1]+":"+oi[2]+":"+oi[3]+" ");break}}if(Fr.length>0){for(var tl=Fr[0],Qr=0;Qr<Sr.length;++Qr)if(Sr[Qr]===tl){Qr>0&&(zt=`
`+Sr[Qr-1]);break}}}var Oi="a promise was created in a "+it+"handler "+Dt+"but was not returned from it, see http://goo.gl/rRqMUw"+zt;ot._warn(Oi,!0,We)}}function de(ke,We){var it=ke+" is deprecated and will be removed in a future version.";return We&&(it+=" Use "+We+" instead."),ee(it)}function ee(ke,We,it){if(Pr.warnings){var ot,St=new oe(ke);if(We)it._attachExtraTrace(St);else if(Pr.longStackTraces&&(ot=a._peekContext()))ot.attachExtraTrace(St);else{var Dt=_e(St);St.stack=Dt.message+`
`+Dt.stack.join(`
`)}hr("warning",St)||xe(St,"",!0)}}function X(ke,We){for(var it=0;it<We.length-1;++it)We[it].push("From previous event:"),We[it]=We[it].join(`
`);return it<We.length&&(We[it]=We[it].join(`
`)),ke+`
`+We.join(`
`)}function ce(ke){for(var We=0;We<ke.length;++We)(ke[We].length===0||We+1<ke.length&&ke[We][0]===ke[We+1][0])&&(ke.splice(We,1),We--)}function he(ke){for(var We=ke[0],it=1;it<ke.length;++it){for(var ot=ke[it],St=We.length-1,Dt=We[St],zt=-1,Sr=ot.length-1;Sr>=0;--Sr)if(ot[Sr]===Dt){zt=Sr;break}for(var Sr=zt;Sr>=0;--Sr){var Fr=ot[Sr];if(We[St]!==Fr)break;We.pop(),St--}We=ot}}function le(ke){for(var We=[],it=0;it<ke.length;++it){var ot=ke[it],St=ot==="    (No stack trace)"||Vt.test(ot),Dt=St&&Ca(ot);St&&!Dt&&(xt&&ot.charAt(0)!==" "&&(ot="    "+ot),We.push(ot))}return We}function fe(ke){for(var We=ke.stack.replace(/\s+$/g,"").split(`
`),it=0;it<We.length;++it){var ot=We[it];if(ot==="    (No stack trace)"||Vt.test(ot))break}return it>0&&ke.name!="SyntaxError"&&(We=We.slice(it)),We}function _e(ke){var We=ke.stack,it=ke.toString();return We=typeof We=="string"&&We.length>0?fe(ke):["    (No stack trace)"],{message:it,stack:ke.name=="SyntaxError"?We:le(We)}}function xe(ke,We,it){if(typeof console<"u"){var ot;if(me.isObject(ke)){var St=ke.stack;ot=We+Nt(St,ke)}else ot=We+String(ke);typeof Ge=="function"?Ge(ot,it):(typeof console.log=="function"||typeof console.log=="object")&&console.log(ot)}}function De(ke,We,it,ot){var St=!1;try{typeof We=="function"&&(St=!0,ke==="rejectionHandled"?We(ot):We(it,ot))}catch(Dt){pe.throwLater(Dt)}ke==="unhandledRejection"?hr(ke,it,ot)||St||xe(it,"Unhandled rejection "):hr(ke,ot)}function Ne(ke){var We;if(typeof ke=="function")We="[function "+(ke.name||"anonymous")+"]";else{We=ke&&typeof ke.toString=="function"?ke.toString():me.toString(ke);var it=/\[object [a-zA-Z0-9$_]+\]/;if(it.test(We))try{var ot=JSON.stringify(ke);We=ot}catch{}We.length===0&&(We="(empty array)")}return"(<"+je(We)+">, no stack trace)"}function je(ke){var We=41;return ke.length<We?ke:ke.substr(0,We-3)+"..."}function Ze(){return typeof ue=="function"}function Re(ke){var We=ke.match(pr);return We?{fileName:We[1],line:parseInt(We[2],10)}:void 0}function Me(ke,We){if(Ze()){for(var it,ot,St=(ke.stack||"").split(`
`),Dt=(We.stack||"").split(`
`),zt=-1,Sr=-1,Fr=0;Fr<St.length;++Fr){var Qr=Re(St[Fr]);if(Qr){it=Qr.fileName,zt=Qr.line;break}}for(var Fr=0;Fr<Dt.length;++Fr){var Qr=Re(Dt[Fr]);if(Qr){ot=Qr.fileName,Sr=Qr.line;break}}0>zt||0>Sr||!it||!ot||it!==ot||zt>=Sr||(Ca=function(no){if(Ke.test(no))return!0;var oi=Re(no);return!!(oi&&oi.fileName===it&&zt<=oi.line&&oi.line<=Sr)})}}function Ae(ke){this._parent=ke,this._promisesCreated=0;var We=this._length=1+(ke===void 0?0:ke._length);ue(this,Ae),We>32&&this.uncycle()}var Je,He,Ge,nt,pe=a._async,oe=e("./errors").Warning,me=e("./util"),Se=e("./es5"),et=me.canAttachTrace,Ke=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,mt=/\((?:timers\.js):\d+:\d+\)/,vt=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,Vt=null,Nt=null,xt=!1,nr=!(me.env("BLUEBIRD_DEBUG")==0||!me.env("BLUEBIRD_DEBUG")&&me.env("NODE_ENV")!=="development"),jt=!(me.env("BLUEBIRD_WARNINGS")==0||!nr&&!me.env("BLUEBIRD_WARNINGS")),xr=!(me.env("BLUEBIRD_LONG_STACK_TRACES")==0||!nr&&!me.env("BLUEBIRD_LONG_STACK_TRACES")),Yr=me.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(jt||!!me.env("BLUEBIRD_W_FORGOTTEN_RETURN"));(function(){function ke(){for(var ot=0;ot<it.length;++ot)it[ot]._notifyUnhandledRejection();We()}function We(){it.length=0}var it=[];nt=function(ot){it.push(ot),setTimeout(ke,1)},Se.defineProperty(a,"_unhandledRejectionCheck",{value:ke}),Se.defineProperty(a,"_unhandledRejectionClear",{value:We})})(),a.prototype.suppressUnhandledRejections=function(){var ke=this._target();ke._bitField=-1048577&ke._bitField|524288},a.prototype._ensurePossibleRejectionHandled=function(){!(524288&this._bitField)&&(this._setRejectionIsUnhandled(),nt(this))},a.prototype._notifyUnhandledRejectionIsHandled=function(){De("rejectionHandled",Je,void 0,this)},a.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},a.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!==0},a.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ke=this._settledValue();this._setUnhandledRejectionIsNotified(),De("unhandledRejection",He,ke,this)}},a.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},a.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},a.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},a.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},a.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},a.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},a.prototype._warn=function(ke,We,it){return ee(ke,We,it||this)},a.onPossiblyUnhandledRejection=function(ke){var We=a._getContext();He=me.contextBind(We,ke)},a.onUnhandledRejectionHandled=function(ke){var We=a._getContext();Je=me.contextBind(We,ke)};var cr=function(){};a.longStackTraces=function(){if(pe.haveItemsQueued()&&!Pr.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!Pr.longStackTraces&&Ze()){var ke=a.prototype._captureStackTrace,We=a.prototype._attachExtraTrace,it=a.prototype._dereferenceTrace;Pr.longStackTraces=!0,cr=function(){if(pe.haveItemsQueued()&&!Pr.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);a.prototype._captureStackTrace=ke,a.prototype._attachExtraTrace=We,a.prototype._dereferenceTrace=it,l.deactivateLongStackTraces(),Pr.longStackTraces=!1},a.prototype._captureStackTrace=k,a.prototype._attachExtraTrace=R,a.prototype._dereferenceTrace=W,l.activateLongStackTraces()}},a.hasLongStackTraces=function(){return Pr.longStackTraces&&Ze()};var Un={unhandledrejection:{before:function(){var ke=me.global.onunhandledrejection;return me.global.onunhandledrejection=null,ke},after:function(ke){me.global.onunhandledrejection=ke}},rejectionhandled:{before:function(){var ke=me.global.onrejectionhandled;return me.global.onrejectionhandled=null,ke},after:function(ke){me.global.onrejectionhandled=ke}}},Jt=function(){var ke=function(it,ot){if(!it)return!me.global.dispatchEvent(ot);var St;try{return St=it.before(),!me.global.dispatchEvent(ot)}finally{it.after(St)}};try{if(typeof CustomEvent=="function"){var We=new CustomEvent("CustomEvent");return me.global.dispatchEvent(We),function(ot,St){ot=ot.toLowerCase();var Dt={detail:St,cancelable:!0},zt=new CustomEvent(ot,Dt);return Se.defineProperty(zt,"promise",{value:St.promise}),Se.defineProperty(zt,"reason",{value:St.reason}),ke(Un[ot],zt)}}if(typeof Event=="function"){var We=new Event("CustomEvent");return me.global.dispatchEvent(We),function(ot,St){ot=ot.toLowerCase();var Dt=new Event(ot,{cancelable:!0});return Dt.detail=St,Se.defineProperty(Dt,"promise",{value:St.promise}),Se.defineProperty(Dt,"reason",{value:St.reason}),ke(Un[ot],Dt)}}var We=document.createEvent("CustomEvent");return We.initCustomEvent("testingtheevent",!1,!0,{}),me.global.dispatchEvent(We),function(it,ot){it=it.toLowerCase();var St=document.createEvent("CustomEvent");return St.initCustomEvent(it,!1,!0,ot),ke(Un[it],St)}}catch{}return function(){return!1}}(),ir=function(){return me.isNode?function(){return process.emit.apply(process,arguments)}:me.global?function(ke){var We="on"+ke.toLowerCase(),it=me.global[We];return it?(it.apply(me.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}(),Tt={promiseCreated:v,promiseFulfilled:v,promiseRejected:v,promiseResolved:v,promiseCancelled:v,promiseChained:function(ke,We,it){return{promise:We,child:it}},warning:function(ke,We){return{warning:We}},unhandledRejection:function(ke,We,it){return{reason:We,promise:it}},rejectionHandled:v},hr=function(ke){var We=!1;try{We=ir.apply(null,arguments)}catch(ot){pe.throwLater(ot),We=!0}var it=!1;try{it=Jt(ke,Tt[ke].apply(null,arguments))}catch(ot){pe.throwLater(ot),it=!0}return it||We};a.config=function(ke){if(ke=Object(ke),"longStackTraces"in ke&&(ke.longStackTraces?a.longStackTraces():!ke.longStackTraces&&a.hasLongStackTraces()&&cr()),"warnings"in ke){var We=ke.warnings;Pr.warnings=!!We,Yr=Pr.warnings,me.isObject(We)&&"wForgottenReturn"in We&&(Yr=!!We.wForgottenReturn)}if("cancellation"in ke&&ke.cancellation&&!Pr.cancellation){if(pe.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");a.prototype._clearCancellationData=M,a.prototype._propagateFrom=w,a.prototype._onCancel=A,a.prototype._setOnCancel=D,a.prototype._attachCancellationCallback=E,a.prototype._execute=C,qo=w,Pr.cancellation=!0}if("monitoring"in ke&&(ke.monitoring&&!Pr.monitoring?(Pr.monitoring=!0,a.prototype._fireEvent=hr):!ke.monitoring&&Pr.monitoring&&(Pr.monitoring=!1,a.prototype._fireEvent=T)),"asyncHooks"in ke&&me.nodeSupportsAsyncResource){var it=Pr.asyncHooks,ot=!!ke.asyncHooks;it!==ot&&(Pr.asyncHooks=ot,ot?h():g())}return a},a.prototype._fireEvent=T,a.prototype._execute=function(ke,We,it){try{ke(We,it)}catch(ot){return ot}},a.prototype._onCancel=function(){},a.prototype._setOnCancel=function(ke){},a.prototype._attachCancellationCallback=function(ke){},a.prototype._captureStackTrace=function(){},a.prototype._attachExtraTrace=function(){},a.prototype._dereferenceTrace=function(){},a.prototype._clearCancellationData=function(){},a.prototype._propagateFrom=function(ke,We){};var qo=O,Ca=function(){return!1},pr=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;me.inherits(Ae,Error),l.CapturedTrace=Ae,Ae.prototype.uncycle=function(){var ke=this._length;if(!(2>ke)){for(var We=[],it={},ot=0,St=this;St!==void 0;++ot)We.push(St),St=St._parent;ke=this._length=ot;for(var ot=ke-1;ot>=0;--ot){var Dt=We[ot].stack;it[Dt]===void 0&&(it[Dt]=ot)}for(var ot=0;ke>ot;++ot){var zt=We[ot].stack,Sr=it[zt];if(Sr!==void 0&&Sr!==ot){Sr>0&&(We[Sr-1]._parent=void 0,We[Sr-1]._length=1),We[ot]._parent=void 0,We[ot]._length=1;var Fr=ot>0?We[ot-1]:this;ke-1>Sr?(Fr._parent=We[Sr+1],Fr._parent.uncycle(),Fr._length=Fr._parent._length+1):(Fr._parent=void 0,Fr._length=1);for(var Qr=Fr._length+1,no=ot-2;no>=0;--no)We[no]._length=Qr,Qr++;return}}}},Ae.prototype.attachExtraTrace=function(ke){if(!ke.__stackCleaned__){this.uncycle();for(var We=_e(ke),it=We.message,ot=[We.stack],St=this;St!==void 0;)ot.push(le(St.stack.split(`
`))),St=St._parent;he(ot),ce(ot),me.notEnumerableProp(ke,"stack",X(it,ot)),me.notEnumerableProp(ke,"__stackCleaned__",!0)}};var ue=function(){var ke=/^\s*at\s*/,We=function(Dt,zt){return typeof Dt=="string"?Dt:zt.name!==void 0&&zt.message!==void 0?zt.toString():Ne(zt)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,Vt=ke,Nt=We;var it=Error.captureStackTrace;return Ca=function(Dt){return Ke.test(Dt)},function(Dt,zt){Error.stackTraceLimit+=6,it(Dt,zt),Error.stackTraceLimit-=6}}var ot=new Error;if(typeof ot.stack=="string"&&ot.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return Vt=/@/,Nt=We,xt=!0,function(Dt){Dt.stack=new Error().stack};var St;try{throw new Error}catch(Dt){St="stack"in Dt}return"stack"in ot||!St||typeof Error.stackTraceLimit!="number"?(Nt=function(Dt,zt){return typeof Dt=="string"?Dt:typeof zt!="object"&&typeof zt!="function"||zt.name===void 0||zt.message===void 0?Ne(zt):zt.toString()},null):(Vt=ke,Nt=We,function(Dt){Error.stackTraceLimit+=6;try{throw new Error}catch(zt){Dt.stack=zt.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&typeof console.warn<"u"&&(Ge=function(ke){console.warn(ke)},me.isNode&&process.stderr.isTTY?Ge=function(ke,We){var it=We?"\x1B[33m":"\x1B[31m";console.warn(it+ke+`\x1B[0m
`)}:me.isNode||typeof new Error().stack!="string"||(Ge=function(ke,We){console.warn("%c"+ke,We?"color: darkorange":"color: red")}));var Pr={warnings:jt,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return xr&&a.longStackTraces(),{asyncHooks:function(){return Pr.asyncHooks},longStackTraces:function(){return Pr.longStackTraces},warnings:function(){return Pr.warnings},cancellation:function(){return Pr.cancellation},monitoring:function(){return Pr.monitoring},propagateFromFunction:function(){return qo},boundValueFunction:function(){return N},checkForgottenReturns:K,setBounds:Me,warn:ee,deprecated:de,CapturedTrace:Ae,fireDomEvent:Jt,fireGlobalEvent:ir}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,t,i){t.exports=function(a){function l(){return this.value}function h(){throw this.reason}a.prototype.return=a.prototype.thenReturn=function(g){return g instanceof a&&g.suppressUnhandledRejections(),this._then(l,void 0,void 0,{value:g},void 0)},a.prototype.throw=a.prototype.thenThrow=function(g){return this._then(h,void 0,void 0,{reason:g},void 0)},a.prototype.catchThrow=function(g){if(arguments.length<=1)return this._then(void 0,h,void 0,{reason:g},void 0);var v=arguments[1],T=function(){throw v};return this.caught(g,T)},a.prototype.catchReturn=function(g){if(arguments.length<=1)return g instanceof a&&g.suppressUnhandledRejections(),this._then(void 0,l,void 0,{value:g},void 0);var v=arguments[1];v instanceof a&&v.suppressUnhandledRejections();var T=function(){return v};return this.caught(g,T)}}},{}],11:[function(e,t,i){t.exports=function(a,l){function h(){return T(this)}function g(C,E){return v(C,E,l,l)}var v=a.reduce,T=a.all;a.prototype.each=function(C){return v(this,C,l,0)._then(h,void 0,void 0,this,void 0)},a.prototype.mapSeries=function(C){return v(this,C,l,l)},a.each=function(C,E){return v(C,E,l,0)._then(h,void 0,void 0,C,void 0)},a.mapSeries=g}},{}],12:[function(e,t,i){function a(K,de){function ee(X){return this instanceof ee?(A(this,"message",typeof X=="string"?X:de),A(this,"name",K),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new ee(X)}return E(ee,Error),ee}function l(K){return this instanceof l?(A(this,"name","OperationalError"),A(this,"message",K),this.cause=K,this.isOperational=!0,void(K instanceof Error?(A(this,"message",K.message),A(this,"stack",K.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new l(K)}var h,g,v=e("./es5"),T=v.freeze,C=e("./util"),E=C.inherits,A=C.notEnumerableProp,D=a("Warning","warning"),M=a("CancellationError","cancellation error"),w=a("TimeoutError","timeout error"),O=a("AggregateError","aggregate error");try{h=TypeError,g=RangeError}catch{h=a("TypeError","type error"),g=a("RangeError","range error")}for(var N="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),k=0;k<N.length;++k)typeof Array.prototype[N[k]]=="function"&&(O.prototype[N[k]]=Array.prototype[N[k]]);v.defineProperty(O.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),O.prototype.isOperational=!0;var R=0;O.prototype.toString=function(){var K=Array(4*R+1).join(" "),de=`
`+K+`AggregateError of:
`;R++,K=Array(4*R+1).join(" ");for(var ee=0;ee<this.length;++ee){for(var X=this[ee]===this?"[Circular AggregateError]":this[ee]+"",ce=X.split(`
`),he=0;he<ce.length;++he)ce[he]=K+ce[he];X=ce.join(`
`),de+=X+`
`}return R--,de},E(l,Error);var W=Error.__BluebirdErrorTypes__;W||(W=T({CancellationError:M,TimeoutError:w,OperationalError:l,RejectionError:l,AggregateError:O}),v.defineProperty(Error,"__BluebirdErrorTypes__",{value:W,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error,TypeError:h,RangeError:g,CancellationError:W.CancellationError,OperationalError:W.OperationalError,TimeoutError:W.TimeoutError,AggregateError:W.AggregateError,Warning:D}},{"./es5":13,"./util":36}],13:[function(e,t,i){var a=function(){return this===void 0}();if(a)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:a,propertyIsWritable:function(M,w){var O=Object.getOwnPropertyDescriptor(M,w);return!(O&&!O.writable&&!O.set)}};else{var l={}.hasOwnProperty,h={}.toString,g={}.constructor.prototype,v=function(M){var w=[];for(var O in M)l.call(M,O)&&w.push(O);return w},T=function(M,w){return{value:M[w]}},C=function(M,w,O){return M[w]=O.value,M},E=function(M){return M},A=function(M){try{return Object(M).constructor.prototype}catch{return g}},D=function(M){try{return h.call(M)==="[object Array]"}catch{return!1}};t.exports={isArray:D,keys:v,names:v,defineProperty:C,getDescriptor:T,freeze:E,getPrototypeOf:A,isES5:a,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,i){t.exports=function(a,l){var h=a.map;a.prototype.filter=function(g,v){return h(this,g,v,l)},a.filter=function(g,v,T){return h(g,v,T,l)}}},{}],15:[function(e,t,i){t.exports=function(a,l,h){function g(N,k,R){this.promise=N,this.type=k,this.handler=R,this.called=!1,this.cancelPromise=null}function v(N){this.finallyHandler=N}function T(N,k){return N.cancelPromise!=null?(arguments.length>1?N.cancelPromise._reject(k):N.cancelPromise._cancel(),N.cancelPromise=null,!0):!1}function C(){return A.call(this,this.promise._target()._settledValue())}function E(N){return T(this,N)?void 0:(w.e=N,w)}function A(N){var k=this.promise,R=this.handler;if(!this.called){this.called=!0;var W=this.isFinallyHandler()?R.call(k._boundValue()):R.call(k._boundValue(),N);if(W===h)return W;if(W!==void 0){k._setReturnedNonUndefined();var K=l(W,k);if(K instanceof a){if(this.cancelPromise!=null){if(K._isCancelled()){var de=new M("late cancellation observer");return k._attachExtraTrace(de),w.e=de,w}K.isPending()&&K._attachCancellationCallback(new v(this))}return K._then(C,E,void 0,this,void 0)}}}return k.isRejected()?(T(this),w.e=N,w):(T(this),N)}var D=e("./util"),M=a.CancellationError,w=D.errorObj,O=e("./catch_filter")(h);return g.prototype.isFinallyHandler=function(){return this.type===0},v.prototype._resultCancelled=function(){T(this.finallyHandler)},a.prototype._passThrough=function(N,k,R,W){return typeof N!="function"?this.then():this._then(R,W,void 0,new g(this,k,N),void 0)},a.prototype.lastly=a.prototype.finally=function(N){return this._passThrough(N,0,A,A)},a.prototype.tap=function(N){return this._passThrough(N,1,A)},a.prototype.tapCatch=function(N){var k=arguments.length;if(k===1)return this._passThrough(N,1,void 0,A);var R,W=new Array(k-1),K=0;for(R=0;k-1>R;++R){var de=arguments[R];if(!D.isObject(de))return a.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+D.classString(de)));W[K++]=de}W.length=K;var ee=arguments[R];return this._passThrough(O(W,ee,this),1,void 0,A)},g}},{"./catch_filter":7,"./util":36}],16:[function(e,t,i){t.exports=function(a,l,h,g,v,T){function C(k,R,W){for(var K=0;K<R.length;++K){W._pushContext();var de=O(R[K])(k);if(W._popContext(),de===w){W._pushContext();var ee=a.reject(w.e);return W._popContext(),ee}var X=g(de,W);if(X instanceof a)return X}return null}function E(k,R,W,K){if(T.cancellation()){var de=new a(h),ee=this._finallyPromise=new a(h);this._promise=de.lastly(function(){return ee}),de._captureStackTrace(),de._setOnCancel(this)}else{var X=this._promise=new a(h);X._captureStackTrace()}this._stack=K,this._generatorFunction=k,this._receiver=R,this._generator=void 0,this._yieldHandlers=typeof W=="function"?[W].concat(N):N,this._yieldedPromise=null,this._cancellationPhase=!1}var A=e("./errors"),D=A.TypeError,M=e("./util"),w=M.errorObj,O=M.tryCatch,N=[];M.inherits(E,v),E.prototype._isResolved=function(){return this._promise===null},E.prototype._cleanup=function(){this._promise=this._generator=null,T.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},E.prototype._promiseCancelled=function(){if(!this._isResolved()){var k,R=typeof this._generator.return<"u";if(R)this._promise._pushContext(),k=O(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var W=new a.CancellationError("generator .return() sentinel");a.coroutine.returnSentinel=W,this._promise._attachExtraTrace(W),this._promise._pushContext(),k=O(this._generator.throw).call(this._generator,W),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(k)}},E.prototype._promiseFulfilled=function(k){this._yieldedPromise=null,this._promise._pushContext();var R=O(this._generator.next).call(this._generator,k);this._promise._popContext(),this._continue(R)},E.prototype._promiseRejected=function(k){this._yieldedPromise=null,this._promise._attachExtraTrace(k),this._promise._pushContext();var R=O(this._generator.throw).call(this._generator,k);this._promise._popContext(),this._continue(R)},E.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof a){var k=this._yieldedPromise;this._yieldedPromise=null,k.cancel()}},E.prototype.promise=function(){return this._promise},E.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},E.prototype._continue=function(k){var R=this._promise;if(k===w)return this._cleanup(),this._cancellationPhase?R.cancel():R._rejectCallback(k.e,!1);var W=k.value;if(k.done===!0)return this._cleanup(),this._cancellationPhase?R.cancel():R._resolveCallback(W);var K=g(W,this._promise);if(!(K instanceof a)&&(K=C(K,this._yieldHandlers,this._promise),K===null))return void this._promiseRejected(new D(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(W))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));K=K._target();var de=K._bitField;50397184&de?33554432&de?a._async.invoke(this._promiseFulfilled,this,K._value()):16777216&de?a._async.invoke(this._promiseRejected,this,K._reason()):this._promiseCancelled():(this._yieldedPromise=K,K._proxy(this,null))},a.coroutine=function(k,R){if(typeof k!="function")throw new D(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var W=Object(R).yieldHandler,K=E,de=new Error().stack;return function(){var ee=k.apply(this,arguments),X=new K(void 0,void 0,W,de),ce=X.promise();return X._generator=ee,X._promiseFulfilled(void 0),ce}},a.coroutine.addYieldHandler=function(k){if(typeof k!="function")throw new D("expecting a function but got "+M.classString(k));N.push(k)},a.spawn=function(k){if(T.deprecated("Promise.spawn()","Promise.coroutine()"),typeof k!="function")return l(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var R=new E(k,this),W=R.promise();return R._run(a.spawn),W}}},{"./errors":12,"./util":36}],17:[function(e,t,i){t.exports=function(a,l,h,g,v){var T=e("./util");T.canEvaluate,T.tryCatch,T.errorObj,a.join=function(){var C,E=arguments.length-1;if(E>0&&typeof arguments[E]=="function"){C=arguments[E];var D}var A=[].slice.call(arguments);C&&A.pop();var D=new l(A).promise();return C!==void 0?D.spread(C):D}}},{"./util":36}],18:[function(e,t,i){t.exports=function(a,l,h,g,v,T){function C(O,N,k,R){this.constructor$(O),this._promise._captureStackTrace();var W=a._getContext();if(this._callback=A.contextBind(W,N),this._preservedValues=R===v?new Array(this.length()):null,this._limit=k,this._inFlight=0,this._queue=[],w.invoke(this._asyncInit,this,void 0),A.isArray(O))for(var K=0;K<O.length;++K){var de=O[K];de instanceof a&&de.suppressUnhandledRejections()}}function E(O,N,k,R){if(typeof N!="function")return h("expecting a function but got "+A.classString(N));var W=0;if(k!==void 0){if(typeof k!="object"||k===null)return a.reject(new TypeError("options argument must be an object but it is "+A.classString(k)));if(typeof k.concurrency!="number")return a.reject(new TypeError("'concurrency' must be a number but it is "+A.classString(k.concurrency)));W=k.concurrency}return W=typeof W=="number"&&isFinite(W)&&W>=1?W:0,new C(O,N,W,R).promise()}var A=e("./util"),D=A.tryCatch,M=A.errorObj,w=a._async;A.inherits(C,l),C.prototype._asyncInit=function(){this._init$(void 0,-2)},C.prototype._init=function(){},C.prototype._promiseFulfilled=function(O,N){var k=this._values,R=this.length(),W=this._preservedValues,K=this._limit;if(0>N){if(N=-1*N-1,k[N]=O,K>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(K>=1&&this._inFlight>=K)return k[N]=O,this._queue.push(N),!1;W!==null&&(W[N]=O);var de=this._promise,ee=this._callback,X=de._boundValue();de._pushContext();var ce=D(ee).call(X,O,N,R),he=de._popContext();if(T.checkForgottenReturns(ce,he,W!==null?"Promise.filter":"Promise.map",de),ce===M)return this._reject(ce.e),!0;var le=g(ce,this._promise);if(le instanceof a){le=le._target();var fe=le._bitField;if(!(50397184&fe))return K>=1&&this._inFlight++,k[N]=le,le._proxy(this,-1*(N+1)),!1;if(!(33554432&fe))return 16777216&fe?(this._reject(le._reason()),!0):(this._cancel(),!0);ce=le._value()}k[N]=ce}var _e=++this._totalResolved;return _e>=R?(W!==null?this._filter(k,W):this._resolve(k),!0):!1},C.prototype._drainQueue=function(){for(var O=this._queue,N=this._limit,k=this._values;O.length>0&&this._inFlight<N;){if(this._isResolved())return;var R=O.pop();this._promiseFulfilled(k[R],R)}},C.prototype._filter=function(O,N){for(var k=N.length,R=new Array(k),W=0,K=0;k>K;++K)O[K]&&(R[W++]=N[K]);R.length=W,this._resolve(R)},C.prototype.preservedValues=function(){return this._preservedValues},a.prototype.map=function(O,N){return E(this,O,N,null)},a.map=function(O,N,k,R){return E(O,N,k,R)}}},{"./util":36}],19:[function(e,t,i){t.exports=function(a,l,h,g,v){var T=e("./util"),C=T.tryCatch;a.method=function(E){if(typeof E!="function")throw new a.TypeError("expecting a function but got "+T.classString(E));return function(){var A=new a(l);A._captureStackTrace(),A._pushContext();var D=C(E).apply(this,arguments),M=A._popContext();return v.checkForgottenReturns(D,M,"Promise.method",A),A._resolveFromSyncValue(D),A}},a.attempt=a.try=function(E){if(typeof E!="function")return g("expecting a function but got "+T.classString(E));var A=new a(l);A._captureStackTrace(),A._pushContext();var D;if(arguments.length>1){v.deprecated("calling Promise.try with more than 1 argument");var M=arguments[1],w=arguments[2];D=T.isArray(M)?C(E).apply(w,M):C(E).call(w,M)}else D=C(E)();var O=A._popContext();return v.checkForgottenReturns(D,O,"Promise.try",A),A._resolveFromSyncValue(D),A},a.prototype._resolveFromSyncValue=function(E){E===T.errorObj?this._rejectCallback(E.e,!1):this._resolveCallback(E,!0)}}},{"./util":36}],20:[function(e,t,i){function a(D){return D instanceof Error&&E.getPrototypeOf(D)===Error.prototype}function l(D){var M;if(a(D)){M=new C(D),M.name=D.name,M.message=D.message,M.stack=D.stack;for(var w=E.keys(D),O=0;O<w.length;++O){var N=w[O];A.test(N)||(M[N]=D[N])}return M}return g.markAsOriginatingFromRejection(D),D}function h(D,M){return function(w,O){if(D!==null){if(w){var N=l(v(w));D._attachExtraTrace(N),D._reject(N)}else if(M){var k=[].slice.call(arguments,1);D._fulfill(k)}else D._fulfill(O);D=null}}}var g=e("./util"),v=g.maybeWrapAsError,T=e("./errors"),C=T.OperationalError,E=e("./es5"),A=/^(?:name|message|stack|cause)$/;t.exports=h},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,i){t.exports=function(a){function l(A,D){var M=this;if(!v.isArray(A))return h.call(M,A,D);var w=C(D).apply(M._boundValue(),[null].concat(A));w===E&&T.throwLater(w.e)}function h(A,D){var M=this,w=M._boundValue(),O=A===void 0?C(D).call(w,null):C(D).call(w,null,A);O===E&&T.throwLater(O.e)}function g(A,D){var M=this;if(!A){var w=new Error(A+"");w.cause=A,A=w}var O=C(D).call(M._boundValue(),A);O===E&&T.throwLater(O.e)}var v=e("./util"),T=a._async,C=v.tryCatch,E=v.errorObj;a.prototype.asCallback=a.prototype.nodeify=function(A,D){if(typeof A=="function"){var M=h;D!==void 0&&Object(D).spread&&(M=l),this._then(M,g,void 0,this,A)}return this}}},{"./util":36}],22:[function(e,t,i){t.exports=function(){function a(){}function l(pe,oe){if(pe==null||pe.constructor!==h&&typeof Promise<"u"&&pe.constructor!==Promise)throw new le(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof oe!="function")throw new le("expecting a function but got "+M.classString(oe))}function h(pe){pe!==_e&&l(this,pe),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(pe),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function g(pe){this.promise._resolveCallback(pe)}function v(pe){this.promise._rejectCallback(pe,!1)}function T(pe){var oe=new h(_e);oe._fulfillmentHandler0=pe,oe._rejectionHandler0=pe,oe._promise0=pe,oe._receiver0=pe}var C=function(){return new le(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},E=function(){return new h.PromiseInspection(this._target())},A=function(pe){return h.reject(new le(pe))},D={},M=e("./util");M.setReflectHandler(E);var w=function(){var pe=process.domain;return pe===void 0?null:pe},O=function(){return null},N=function(){return{domain:w(),async:null}},k=M.isNode&&M.nodeSupportsAsyncResource?e("async_hooks").AsyncResource:null,R=function(){return{domain:w(),async:new k("Bluebird::Promise")}},W=M.isNode?N:O;M.notEnumerableProp(h,"_getContext",W);var K=function(){W=R,M.notEnumerableProp(h,"_getContext",R)},de=function(){W=N,M.notEnumerableProp(h,"_getContext",N)},ee=e("./es5"),X=e("./async"),ce=new X;ee.defineProperty(h,"_async",{value:ce});var he=e("./errors"),le=h.TypeError=he.TypeError;h.RangeError=he.RangeError;var fe=h.CancellationError=he.CancellationError;h.TimeoutError=he.TimeoutError,h.OperationalError=he.OperationalError,h.RejectionError=he.OperationalError,h.AggregateError=he.AggregateError;var _e=function(){},xe={},De={},Ne=e("./thenables")(h,_e),je=e("./promise_array")(h,_e,Ne,A,a),Ze=e("./context")(h),Re=Ze.create,Me=e("./debuggability")(h,Ze,K,de),Ae=(Me.CapturedTrace,e("./finally")(h,Ne,De)),Je=e("./catch_filter")(De),He=e("./nodeback"),Ge=M.errorObj,nt=M.tryCatch;return h.prototype.toString=function(){return"[object Promise]"},h.prototype.caught=h.prototype.catch=function(pe){var oe=arguments.length;if(oe>1){var me,Se=new Array(oe-1),et=0;for(me=0;oe-1>me;++me){var Ke=arguments[me];if(!M.isObject(Ke))return A("Catch statement predicate: expecting an object but got "+M.classString(Ke));Se[et++]=Ke}if(Se.length=et,pe=arguments[me],typeof pe!="function")throw new le("The last argument to .catch() must be a function, got "+M.toString(pe));return this.then(void 0,Je(Se,pe,this))}return this.then(void 0,pe)},h.prototype.reflect=function(){return this._then(E,E,void 0,this,void 0)},h.prototype.then=function(pe,oe){if(Me.warnings()&&arguments.length>0&&typeof pe!="function"&&typeof oe!="function"){var me=".then() only accepts functions but was passed: "+M.classString(pe);arguments.length>1&&(me+=", "+M.classString(oe)),this._warn(me)}return this._then(pe,oe,void 0,void 0,void 0)},h.prototype.done=function(pe,oe){var me=this._then(pe,oe,void 0,void 0,void 0);me._setIsFinal()},h.prototype.spread=function(pe){return typeof pe!="function"?A("expecting a function but got "+M.classString(pe)):this.all()._then(pe,void 0,void 0,xe,void 0)},h.prototype.toJSON=function(){var pe={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(pe.fulfillmentValue=this.value(),pe.isFulfilled=!0):this.isRejected()&&(pe.rejectionReason=this.reason(),pe.isRejected=!0),pe},h.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new je(this).promise()},h.prototype.error=function(pe){return this.caught(M.originatesFromRejection,pe)},h.getNewLibraryCopy=t.exports,h.is=function(pe){return pe instanceof h},h.fromNode=h.fromCallback=function(pe){var oe=new h(_e);oe._captureStackTrace();var me=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,Se=nt(pe)(He(oe,me));return Se===Ge&&oe._rejectCallback(Se.e,!0),oe._isFateSealed()||oe._setAsyncGuaranteed(),oe},h.all=function(pe){return new je(pe).promise()},h.cast=function(pe){var oe=Ne(pe);return oe instanceof h||(oe=new h(_e),oe._captureStackTrace(),oe._setFulfilled(),oe._rejectionHandler0=pe),oe},h.resolve=h.fulfilled=h.cast,h.reject=h.rejected=function(pe){var oe=new h(_e);return oe._captureStackTrace(),oe._rejectCallback(pe,!0),oe},h.setScheduler=function(pe){if(typeof pe!="function")throw new le("expecting a function but got "+M.classString(pe));return ce.setScheduler(pe)},h.prototype._then=function(pe,oe,me,Se,et){var Ke=et!==void 0,mt=Ke?et:new h(_e),vt=this._target(),Vt=vt._bitField;Ke||(mt._propagateFrom(this,3),mt._captureStackTrace(),Se===void 0&&2097152&this._bitField&&(Se=50397184&Vt?this._boundValue():vt===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,mt));var Nt=W();if(50397184&Vt){var xt,nr,jt=vt._settlePromiseCtx;33554432&Vt?(nr=vt._rejectionHandler0,xt=pe):16777216&Vt?(nr=vt._fulfillmentHandler0,xt=oe,vt._unsetRejectionIsUnhandled()):(jt=vt._settlePromiseLateCancellationObserver,nr=new fe("late cancellation observer"),vt._attachExtraTrace(nr),xt=oe),ce.invoke(jt,vt,{handler:M.contextBind(Nt,xt),promise:mt,receiver:Se,value:nr})}else vt._addCallbacks(pe,oe,mt,Se,Nt);return mt},h.prototype._length=function(){return 65535&this._bitField},h.prototype._isFateSealed=function(){return(117506048&this._bitField)!==0},h.prototype._isFollowing=function(){return(67108864&this._bitField)===67108864},h.prototype._setLength=function(pe){this._bitField=-65536&this._bitField|65535&pe},h.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},h.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},h.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},h.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},h.prototype._isFinal=function(){return(4194304&this._bitField)>0},h.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},h.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},h.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},h.prototype._setAsyncGuaranteed=function(){if(!ce.hasCustomScheduler()){var pe=this._bitField;this._bitField=pe|(536870912&pe)>>2^134217728}},h.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},h.prototype._receiverAt=function(pe){var oe=pe===0?this._receiver0:this[4*pe-4+3];return oe===D?void 0:oe===void 0&&this._isBound()?this._boundValue():oe},h.prototype._promiseAt=function(pe){return this[4*pe-4+2]},h.prototype._fulfillmentHandlerAt=function(pe){return this[4*pe-4+0]},h.prototype._rejectionHandlerAt=function(pe){return this[4*pe-4+1]},h.prototype._boundValue=function(){},h.prototype._migrateCallback0=function(pe){var oe=(pe._bitField,pe._fulfillmentHandler0),me=pe._rejectionHandler0,Se=pe._promise0,et=pe._receiverAt(0);et===void 0&&(et=D),this._addCallbacks(oe,me,Se,et,null)},h.prototype._migrateCallbackAt=function(pe,oe){var me=pe._fulfillmentHandlerAt(oe),Se=pe._rejectionHandlerAt(oe),et=pe._promiseAt(oe),Ke=pe._receiverAt(oe);Ke===void 0&&(Ke=D),this._addCallbacks(me,Se,et,Ke,null)},h.prototype._addCallbacks=function(pe,oe,me,Se,et){var Ke=this._length();if(Ke>=65531&&(Ke=0,this._setLength(0)),Ke===0)this._promise0=me,this._receiver0=Se,typeof pe=="function"&&(this._fulfillmentHandler0=M.contextBind(et,pe)),typeof oe=="function"&&(this._rejectionHandler0=M.contextBind(et,oe));else{var mt=4*Ke-4;this[mt+2]=me,this[mt+3]=Se,typeof pe=="function"&&(this[mt+0]=M.contextBind(et,pe)),typeof oe=="function"&&(this[mt+1]=M.contextBind(et,oe))}return this._setLength(Ke+1),Ke},h.prototype._proxy=function(pe,oe){this._addCallbacks(void 0,void 0,oe,pe,null)},h.prototype._resolveCallback=function(pe,oe){if(!(117506048&this._bitField)){if(pe===this)return this._rejectCallback(C(),!1);var me=Ne(pe,this);if(!(me instanceof h))return this._fulfill(pe);oe&&this._propagateFrom(me,2);var Se=me._target();if(Se===this)return void this._reject(C());var et=Se._bitField;if(50397184&et)if(33554432&et)this._fulfill(Se._value());else if(16777216&et)this._reject(Se._reason());else{var vt=new fe("late cancellation observer");Se._attachExtraTrace(vt),this._reject(vt)}else{var Ke=this._length();Ke>0&&Se._migrateCallback0(this);for(var mt=1;Ke>mt;++mt)Se._migrateCallbackAt(this,mt);this._setFollowing(),this._setLength(0),this._setFollowee(me)}}},h.prototype._rejectCallback=function(pe,oe,me){var Se=M.ensureErrorObject(pe),et=Se===pe;if(!et&&!me&&Me.warnings()){var Ke="a promise was rejected with a non-error: "+M.classString(pe);this._warn(Ke,!0)}this._attachExtraTrace(Se,oe?et:!1),this._reject(pe)},h.prototype._resolveFromExecutor=function(pe){if(pe!==_e){var oe=this;this._captureStackTrace(),this._pushContext();var me=!0,Se=this._execute(pe,function(et){oe._resolveCallback(et)},function(et){oe._rejectCallback(et,me)});me=!1,this._popContext(),Se!==void 0&&oe._rejectCallback(Se,!0)}},h.prototype._settlePromiseFromHandler=function(pe,oe,me,Se){var et=Se._bitField;if(!(65536&et)){Se._pushContext();var Ke;oe===xe?me&&typeof me.length=="number"?Ke=nt(pe).apply(this._boundValue(),me):(Ke=Ge,Ke.e=new le("cannot .spread() a non-array: "+M.classString(me))):Ke=nt(pe).call(oe,me);var mt=Se._popContext();et=Se._bitField,!(65536&et)&&(Ke===De?Se._reject(me):Ke===Ge?Se._rejectCallback(Ke.e,!1):(Me.checkForgottenReturns(Ke,mt,"",Se,this),Se._resolveCallback(Ke)))}},h.prototype._target=function(){for(var pe=this;pe._isFollowing();)pe=pe._followee();return pe},h.prototype._followee=function(){return this._rejectionHandler0},h.prototype._setFollowee=function(pe){this._rejectionHandler0=pe},h.prototype._settlePromise=function(pe,oe,me,Se){var et=pe instanceof h,Ke=this._bitField,mt=(134217728&Ke)!==0;65536&Ke?(et&&pe._invokeInternalOnCancel(),me instanceof Ae&&me.isFinallyHandler()?(me.cancelPromise=pe,nt(oe).call(me,Se)===Ge&&pe._reject(Ge.e)):oe===E?pe._fulfill(E.call(me)):me instanceof a?me._promiseCancelled(pe):et||pe instanceof je?pe._cancel():me.cancel()):typeof oe=="function"?et?(mt&&pe._setAsyncGuaranteed(),this._settlePromiseFromHandler(oe,me,Se,pe)):oe.call(me,Se,pe):me instanceof a?me._isResolved()||(33554432&Ke?me._promiseFulfilled(Se,pe):me._promiseRejected(Se,pe)):et&&(mt&&pe._setAsyncGuaranteed(),33554432&Ke?pe._fulfill(Se):pe._reject(Se))},h.prototype._settlePromiseLateCancellationObserver=function(pe){var oe=pe.handler,me=pe.promise,Se=pe.receiver,et=pe.value;typeof oe=="function"?me instanceof h?this._settlePromiseFromHandler(oe,Se,et,me):oe.call(Se,et,me):me instanceof h&&me._reject(et)},h.prototype._settlePromiseCtx=function(pe){this._settlePromise(pe.promise,pe.handler,pe.receiver,pe.value)},h.prototype._settlePromise0=function(pe,oe,me){var Se=this._promise0,et=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(Se,pe,et,oe)},h.prototype._clearCallbackDataAtIndex=function(pe){var oe=4*pe-4;this[oe+2]=this[oe+3]=this[oe+0]=this[oe+1]=void 0},h.prototype._fulfill=function(pe){var oe=this._bitField;if(!((117506048&oe)>>>16)){if(pe===this){var me=C();return this._attachExtraTrace(me),this._reject(me)}this._setFulfilled(),this._rejectionHandler0=pe,(65535&oe)>0&&(134217728&oe?this._settlePromises():ce.settlePromises(this),this._dereferenceTrace())}},h.prototype._reject=function(pe){var oe=this._bitField;if(!((117506048&oe)>>>16))return this._setRejected(),this._fulfillmentHandler0=pe,this._isFinal()?ce.fatalError(pe,M.isNode):void((65535&oe)>0?ce.settlePromises(this):this._ensurePossibleRejectionHandled())},h.prototype._fulfillPromises=function(pe,oe){for(var me=1;pe>me;me++){var Se=this._fulfillmentHandlerAt(me),et=this._promiseAt(me),Ke=this._receiverAt(me);this._clearCallbackDataAtIndex(me),this._settlePromise(et,Se,Ke,oe)}},h.prototype._rejectPromises=function(pe,oe){for(var me=1;pe>me;me++){var Se=this._rejectionHandlerAt(me),et=this._promiseAt(me),Ke=this._receiverAt(me);this._clearCallbackDataAtIndex(me),this._settlePromise(et,Se,Ke,oe)}},h.prototype._settlePromises=function(){var pe=this._bitField,oe=65535&pe;if(oe>0){if(16842752&pe){var me=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,me,pe),this._rejectPromises(oe,me)}else{var Se=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,Se,pe),this._fulfillPromises(oe,Se)}this._setLength(0)}this._clearCancellationData()},h.prototype._settledValue=function(){var pe=this._bitField;return 33554432&pe?this._rejectionHandler0:16777216&pe?this._fulfillmentHandler0:void 0},typeof Symbol<"u"&&Symbol.toStringTag&&ee.defineProperty(h.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),h.defer=h.pending=function(){Me.deprecated("Promise.defer","new Promise");var pe=new h(_e);return{promise:pe,resolve:g,reject:v}},M.notEnumerableProp(h,"_makeSelfResolutionError",C),e("./method")(h,_e,Ne,A,Me),e("./bind")(h,_e,Ne,Me),e("./cancel")(h,je,A,Me),e("./direct_resolve")(h),e("./synchronous_inspection")(h),e("./join")(h,je,Ne,_e,ce),h.Promise=h,h.version="3.7.2",e("./call_get.js")(h),e("./generators.js")(h,A,_e,Ne,a,Me),e("./map.js")(h,je,A,Ne,_e,Me),e("./nodeify.js")(h),e("./promisify.js")(h,_e),e("./props.js")(h,je,Ne,A),e("./race.js")(h,_e,Ne,A),e("./reduce.js")(h,je,A,Ne,_e,Me),e("./settle.js")(h,je,Me),e("./some.js")(h,je,A),e("./timers.js")(h,_e,Me),e("./using.js")(h,A,Ne,Re,_e,Me),e("./any.js")(h),e("./each.js")(h,_e),e("./filter.js")(h,_e),M.toFastProperties(h),M.toFastProperties(h.prototype),T({a:1}),T({b:2}),T({c:3}),T(1),T(function(){}),T(void 0),T(!1),T(new h(_e)),Me.setBounds(X.firstLineError,M.lastLineError),h}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(e,t,i){t.exports=function(a,l,h,g,v){function T(A){switch(A){case-2:return[];case-3:return{};case-6:return new Map}}function C(A){var D=this._promise=new a(l);A instanceof a&&(D._propagateFrom(A,3),A.suppressUnhandledRejections()),D._setOnCancel(this),this._values=A,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var E=e("./util");return E.isArray,E.inherits(C,v),C.prototype.length=function(){return this._length},C.prototype.promise=function(){return this._promise},C.prototype._init=function A(D,M){var w=h(this._values,this._promise);if(w instanceof a){w=w._target();var O=w._bitField;if(this._values=w,(50397184&O)===0)return this._promise._setAsyncGuaranteed(),w._then(A,this._reject,void 0,this,M);if(!(33554432&O))return 16777216&O?this._reject(w._reason()):this._cancel();w=w._value()}if(w=E.asArray(w),w===null){var N=g("expecting an array or an iterable object but got "+E.classString(w)).reason();return void this._promise._rejectCallback(N,!1)}return w.length===0?void(M===-5?this._resolveEmptyArray():this._resolve(T(M))):void this._iterate(w)},C.prototype._iterate=function(A){var D=this.getActualLength(A.length);this._length=D,this._values=this.shouldCopyValues()?new Array(D):this._values;for(var M=this._promise,w=!1,O=null,N=0;D>N;++N){var k=h(A[N],M);k instanceof a?(k=k._target(),O=k._bitField):O=null,w?O!==null&&k.suppressUnhandledRejections():O!==null?50397184&O?w=33554432&O?this._promiseFulfilled(k._value(),N):16777216&O?this._promiseRejected(k._reason(),N):this._promiseCancelled(N):(k._proxy(this,N),this._values[N]=k):w=this._promiseFulfilled(k,N)}w||M._setAsyncGuaranteed()},C.prototype._isResolved=function(){return this._values===null},C.prototype._resolve=function(A){this._values=null,this._promise._fulfill(A)},C.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},C.prototype._reject=function(A){this._values=null,this._promise._rejectCallback(A,!1)},C.prototype._promiseFulfilled=function(A,D){this._values[D]=A;var M=++this._totalResolved;return M>=this._length?(this._resolve(this._values),!0):!1},C.prototype._promiseCancelled=function(){return this._cancel(),!0},C.prototype._promiseRejected=function(A){return this._totalResolved++,this._reject(A),!0},C.prototype._resultCancelled=function(){if(!this._isResolved()){var A=this._values;if(this._cancel(),A instanceof a)A.cancel();else for(var D=0;D<A.length;++D)A[D]instanceof a&&A[D].cancel()}},C.prototype.shouldCopyValues=function(){return!0},C.prototype.getActualLength=function(A){return A},C}},{"./util":36}],24:[function(e,t,i){t.exports=function(a,l){function h(_e){return!ce.test(_e)}function g(_e){try{return _e.__isPromisified__===!0}catch{return!1}}function v(_e,xe,De){var Ne=O.getDataPropertyOrDefault(_e,xe+De,ee);return Ne?g(Ne):!1}function T(_e,xe,De){for(var Ne=0;Ne<_e.length;Ne+=2){var je=_e[Ne];if(De.test(je)){for(var Ze=je.replace(De,""),Re=0;Re<_e.length;Re+=2)if(_e[Re]===Ze)throw new K(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",xe))}}}function C(_e,xe,De,Ne){for(var je=O.inheritedDataKeys(_e),Ze=[],Re=0;Re<je.length;++Re){var Me=je[Re],Ae=_e[Me],Je=Ne===he?!0:he(Me);typeof Ae!="function"||g(Ae)||v(_e,Me,xe)||!Ne(Me,Ae,_e,Je)||Ze.push(Me,Ae)}return T(Ze,xe,De),Ze}function E(_e,xe,De,Ne,je,Ze){function Re(){var Je=xe;xe===w&&(Je=this);var He=new a(l);He._captureStackTrace();var Ge=typeof Ae=="string"&&this!==Me?this[Ae]:_e,nt=N(He,Ze);try{Ge.apply(Je,k(arguments,nt))}catch(pe){He._rejectCallback(R(pe),!0,!0)}return He._isFateSealed()||He._setAsyncGuaranteed(),He}var Me=function(){return this}(),Ae=_e;return typeof Ae=="string"&&(_e=Ne),O.notEnumerableProp(Re,"__isPromisified__",!0),Re}function A(_e,xe,De,Ne,je){for(var Ze=new RegExp(le(xe)+"$"),Re=C(_e,xe,Ze,De),Me=0,Ae=Re.length;Ae>Me;Me+=2){var Je=Re[Me],He=Re[Me+1],Ge=Je+xe;if(Ne===fe)_e[Ge]=fe(Je,w,Je,He,xe,je);else{var nt=Ne(He,function(){return fe(Je,w,Je,He,xe,je)});O.notEnumerableProp(nt,"__isPromisified__",!0),_e[Ge]=nt}}return O.toFastProperties(_e),_e}function D(_e,xe,De){return fe(_e,xe,void 0,_e,null,De)}var M,w={},O=e("./util"),N=e("./nodeback"),k=O.withAppended,R=O.maybeWrapAsError,W=O.canEvaluate,K=e("./errors").TypeError,de="Async",ee={__isPromisified__:!0},X=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],ce=new RegExp("^(?:"+X.join("|")+")$"),he=function(_e){return O.isIdentifier(_e)&&_e.charAt(0)!=="_"&&_e!=="constructor"},le=function(_e){return _e.replace(new RegExp(/\$/,"g"),"\\$")},fe=W?M:E;a.promisify=function(_e,xe){if(typeof _e!="function")throw new K("expecting a function but got "+O.classString(_e));if(g(_e))return _e;xe=Object(xe);var De=xe.context===void 0?w:xe.context,Ne=!!xe.multiArgs,je=D(_e,De,Ne);return O.copyDescriptors(_e,je,h),je},a.promisifyAll=function(_e,xe){if(typeof _e!="function"&&typeof _e!="object")throw new K(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);xe=Object(xe);var De=!!xe.multiArgs,Ne=xe.suffix;typeof Ne!="string"&&(Ne=de);var je=xe.filter;typeof je!="function"&&(je=he);var Ze=xe.promisifier;if(typeof Ze!="function"&&(Ze=fe),!O.isIdentifier(Ne))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var Re=O.inheritedDataKeys(_e),Me=0;Me<Re.length;++Me){var Ae=_e[Re[Me]];Re[Me]!=="constructor"&&O.isClass(Ae)&&(A(Ae.prototype,Ne,je,Ze,De),A(Ae,Ne,je,Ze,De))}return A(_e,Ne,je,Ze,De)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,i){t.exports=function(a,l,h,g){function v(O){var N,k=!1;if(C!==void 0&&O instanceof C)N=M(O),k=!0;else{var R=D.keys(O),W=R.length;N=new Array(2*W);for(var K=0;W>K;++K){var de=R[K];N[K]=O[de],N[K+W]=de}}this.constructor$(N),this._isMap=k,this._init$(void 0,k?-6:-3)}function T(O){var N,k=h(O);return A(k)?(N=k instanceof a?k._then(a.props,void 0,void 0,void 0,void 0):new v(k).promise(),k instanceof a&&N._propagateFrom(k,2),N):g(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}var C,E=e("./util"),A=E.isObject,D=e("./es5");typeof Map=="function"&&(C=Map);var M=function(){function O(R,W){this[N]=R,this[N+k]=W,N++}var N=0,k=0;return function(R){k=R.size,N=0;var W=new Array(2*R.size);return R.forEach(O,W),W}}(),w=function(O){for(var N=new C,k=O.length/2|0,R=0;k>R;++R){var W=O[k+R],K=O[R];N.set(W,K)}return N};E.inherits(v,l),v.prototype._init=function(){},v.prototype._promiseFulfilled=function(O,N){this._values[N]=O;var k=++this._totalResolved;if(k>=this._length){var R;if(this._isMap)R=w(this._values);else{R={};for(var W=this.length(),K=0,de=this.length();de>K;++K)R[this._values[K+W]]=this._values[K]}return this._resolve(R),!0}return!1},v.prototype.shouldCopyValues=function(){return!1},v.prototype.getActualLength=function(O){return O>>1},a.prototype.props=function(){return T(this)},a.props=function(O){return T(O)}}},{"./es5":13,"./util":36}],26:[function(e,t,i){function a(h,g,v,T,C){for(var E=0;C>E;++E)v[E+T]=h[E+g],h[E+g]=void 0}function l(h){this._capacity=h,this._length=0,this._front=0}l.prototype._willBeOverCapacity=function(h){return this._capacity<h},l.prototype._pushOne=function(h){var g=this.length();this._checkCapacity(g+1);var v=this._front+g&this._capacity-1;this[v]=h,this._length=g+1},l.prototype.push=function(h,g,v){var T=this.length()+3;if(this._willBeOverCapacity(T))return this._pushOne(h),this._pushOne(g),void this._pushOne(v);var C=this._front+T-3;this._checkCapacity(T);var E=this._capacity-1;this[C+0&E]=h,this[C+1&E]=g,this[C+2&E]=v,this._length=T},l.prototype.shift=function(){var h=this._front,g=this[h];return this[h]=void 0,this._front=h+1&this._capacity-1,this._length--,g},l.prototype.length=function(){return this._length},l.prototype._checkCapacity=function(h){this._capacity<h&&this._resizeTo(this._capacity<<1)},l.prototype._resizeTo=function(h){var g=this._capacity;this._capacity=h;var v=this._front,T=this._length,C=v+T&g-1;a(this,0,this,g,C)},t.exports=l},{}],27:[function(e,t,i){t.exports=function(a,l,h,g){function v(E,A){var D=h(E);if(D instanceof a)return C(D);if(E=T.asArray(E),E===null)return g("expecting an array or an iterable object but got "+T.classString(E));var M=new a(l);A!==void 0&&M._propagateFrom(A,3);for(var w=M._fulfill,O=M._reject,N=0,k=E.length;k>N;++N){var R=E[N];(R!==void 0||N in E)&&a.cast(R)._then(w,O,void 0,M,null)}return M}var T=e("./util"),C=function(E){return E.then(function(A){return v(A,E)})};a.race=function(E){return v(E,void 0)},a.prototype.race=function(){return v(this,void 0)}}},{"./util":36}],28:[function(e,t,i){t.exports=function(a,l,h,g,v,T){function C(N,k,R,W){this.constructor$(N);var K=a._getContext();this._fn=w.contextBind(K,k),R!==void 0&&(R=a.resolve(R),R._attachCancellationCallback(this)),this._initialValue=R,this._currentCancellable=null,W===v?this._eachValues=Array(this._length):W===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function E(N,k){this.isFulfilled()?k._resolve(N):k._reject(N)}function A(N,k,R,W){if(typeof k!="function")return h("expecting a function but got "+w.classString(k));var K=new C(N,k,R,W);return K.promise()}function D(N){this.accum=N,this.array._gotAccum(N);var k=g(this.value,this.array._promise);return k instanceof a?(this.array._currentCancellable=k,k._then(M,void 0,void 0,this,void 0)):M.call(this,k)}function M(N){var k=this.array,R=k._promise,W=O(k._fn);R._pushContext();var K;K=k._eachValues!==void 0?W.call(R._boundValue(),N,this.index,this.length):W.call(R._boundValue(),this.accum,N,this.index,this.length),K instanceof a&&(k._currentCancellable=K);var de=R._popContext();return T.checkForgottenReturns(K,de,k._eachValues!==void 0?"Promise.each":"Promise.reduce",R),K}var w=e("./util"),O=w.tryCatch;w.inherits(C,l),C.prototype._gotAccum=function(N){this._eachValues!==void 0&&this._eachValues!==null&&N!==v&&this._eachValues.push(N)},C.prototype._eachComplete=function(N){return this._eachValues!==null&&this._eachValues.push(N),this._eachValues},C.prototype._init=function(){},C.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},C.prototype.shouldCopyValues=function(){return!1},C.prototype._resolve=function(N){this._promise._resolveCallback(N),this._values=null},C.prototype._resultCancelled=function(N){return N===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof a&&this._currentCancellable.cancel(),this._initialValue instanceof a&&this._initialValue.cancel()))},C.prototype._iterate=function(N){this._values=N;var k,R,W=N.length;this._initialValue!==void 0?(k=this._initialValue,R=0):(k=a.resolve(N[0]),R=1),this._currentCancellable=k;for(var K=R;W>K;++K){var de=N[K];de instanceof a&&de.suppressUnhandledRejections()}if(!k.isRejected())for(;W>R;++R){var ee={accum:null,value:N[R],index:R,length:W,array:this};k=k._then(D,void 0,void 0,ee,void 0),!(127&R)&&k._setNoAsyncGuarantee()}this._eachValues!==void 0&&(k=k._then(this._eachComplete,void 0,void 0,this,void 0)),k._then(E,E,void 0,k,this)},a.prototype.reduce=function(N,k){return A(this,N,k,null)},a.reduce=function(N,k,R,W){return A(N,k,R,W)}}},{"./util":36}],29:[function(e,t,i){var a,l=e("./util"),h=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},g=l.getNativePromise();if(l.isNode&&typeof MutationObserver>"u"){var v=global.setImmediate,T=process.nextTick;a=l.isRecentNode?function(E){v.call(global,E)}:function(E){T.call(process,E)}}else if(typeof g=="function"&&typeof g.resolve=="function"){var C=g.resolve();a=function(E){C.then(E)}}else a=typeof MutationObserver<"u"&&(typeof window>"u"||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var E=document.createElement("div"),A={attributes:!0},D=!1,M=document.createElement("div"),w=new MutationObserver(function(){E.classList.toggle("foo"),D=!1});w.observe(M,A);var O=function(){D||(D=!0,M.classList.toggle("foo"))};return function(N){var k=new MutationObserver(function(){k.disconnect(),N()});k.observe(E,A),O()}}():typeof setImmediate<"u"?function(E){setImmediate(E)}:typeof setTimeout<"u"?function(E){setTimeout(E,0)}:h;t.exports=a},{"./util":36}],30:[function(e,t,i){t.exports=function(a,l,h){function g(C){this.constructor$(C)}var v=a.PromiseInspection,T=e("./util");T.inherits(g,l),g.prototype._promiseResolved=function(C,E){this._values[C]=E;var A=++this._totalResolved;return A>=this._length?(this._resolve(this._values),!0):!1},g.prototype._promiseFulfilled=function(C,E){var A=new v;return A._bitField=33554432,A._settledValueField=C,this._promiseResolved(E,A)},g.prototype._promiseRejected=function(C,E){var A=new v;return A._bitField=16777216,A._settledValueField=C,this._promiseResolved(E,A)},a.settle=function(C){return h.deprecated(".settle()",".reflect()"),new g(C).promise()},a.allSettled=function(C){return new g(C).promise()},a.prototype.settle=function(){return a.settle(this)}}},{"./util":36}],31:[function(e,t,i){t.exports=function(a,l,h){function g(M){this.constructor$(M),this._howMany=0,this._unwrap=!1,this._initialized=!1}function v(M,w){if((0|w)!==w||0>w)return h(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var O=new g(M),N=O.promise();return O.setHowMany(w),O.init(),N}var T=e("./util"),C=e("./errors").RangeError,E=e("./errors").AggregateError,A=T.isArray,D={};T.inherits(g,l),g.prototype._init=function(){if(this._initialized){if(this._howMany===0)return void this._resolve([]);this._init$(void 0,-5);var M=A(this._values);!this._isResolved()&&M&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},g.prototype.init=function(){this._initialized=!0,this._init()},g.prototype.setUnwrap=function(){this._unwrap=!0},g.prototype.howMany=function(){return this._howMany},g.prototype.setHowMany=function(M){this._howMany=M},g.prototype._promiseFulfilled=function(M){return this._addFulfilled(M),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},g.prototype._promiseRejected=function(M){return this._addRejected(M),this._checkOutcome()},g.prototype._promiseCancelled=function(){return this._values instanceof a||this._values==null?this._cancel():(this._addRejected(D),this._checkOutcome())},g.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var M=new E,w=this.length();w<this._values.length;++w)this._values[w]!==D&&M.push(this._values[w]);return M.length>0?this._reject(M):this._cancel(),!0}return!1},g.prototype._fulfilled=function(){return this._totalResolved},g.prototype._rejected=function(){return this._values.length-this.length()},g.prototype._addRejected=function(M){this._values.push(M)},g.prototype._addFulfilled=function(M){this._values[this._totalResolved++]=M},g.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},g.prototype._getRangeError=function(M){var w="Input array must contain at least "+this._howMany+" items but contains only "+M+" items";return new C(w)},g.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},a.some=function(M,w){return v(M,w)},a.prototype.some=function(M){return v(this,M)},a._SomePromiseArray=g}},{"./errors":12,"./util":36}],32:[function(e,t,i){t.exports=function(a){function l(A){A!==void 0?(A=A._target(),this._bitField=A._bitField,this._settledValueField=A._isFateSealed()?A._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}l.prototype._settledValue=function(){return this._settledValueField};var h=l.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},g=l.prototype.error=l.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},v=l.prototype.isFulfilled=function(){return(33554432&this._bitField)!==0},T=l.prototype.isRejected=function(){return(16777216&this._bitField)!==0},C=l.prototype.isPending=function(){return(50397184&this._bitField)===0},E=l.prototype.isResolved=function(){return(50331648&this._bitField)!==0};l.prototype.isCancelled=function(){return(8454144&this._bitField)!==0},a.prototype.__isCancelled=function(){return(65536&this._bitField)===65536},a.prototype._isCancelled=function(){return this._target().__isCancelled()},a.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!==0},a.prototype.isPending=function(){return C.call(this._target())},a.prototype.isRejected=function(){return T.call(this._target())},a.prototype.isFulfilled=function(){return v.call(this._target())},a.prototype.isResolved=function(){return E.call(this._target())},a.prototype.value=function(){return h.call(this._target())},a.prototype.reason=function(){var A=this._target();return A._unsetRejectionIsUnhandled(),g.call(A)},a.prototype._value=function(){return this._settledValue()},a.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},a.PromiseInspection=l}},{}],33:[function(e,t,i){t.exports=function(a,l){function h(w,O){if(D(w)){if(w instanceof a)return w;var N=v(w);if(N===A){O&&O._pushContext();var k=a.reject(N.e);return O&&O._popContext(),k}if(typeof N=="function"){if(T(w)){var k=new a(l);return w._then(k._fulfill,k._reject,void 0,k,null),k}return C(w,N,O)}}return w}function g(w){return w.then}function v(w){try{return g(w)}catch(O){return A.e=O,A}}function T(w){try{return M.call(w,"_promise0")}catch{return!1}}function C(w,O,N){function k(X){W&&(W._resolveCallback(X),W=null)}function R(X){W&&(W._rejectCallback(X,de,!0),W=null)}var W=new a(l),K=W;N&&N._pushContext(),W._captureStackTrace(),N&&N._popContext();var de=!0,ee=E.tryCatch(O).call(w,k,R);return de=!1,W&&ee===A&&(W._rejectCallback(ee.e,!0,!0),W=null),K}var E=e("./util"),A=E.errorObj,D=E.isObject,M={}.hasOwnProperty;return h}},{"./util":36}],34:[function(e,t,i){t.exports=function(a,l,h){function g(w){this.handle=w}function v(w){return clearTimeout(this.handle),w}function T(w){throw clearTimeout(this.handle),w}var C=e("./util"),E=a.TimeoutError;g.prototype._resultCancelled=function(){clearTimeout(this.handle)};var A=function(w){return D(+this).thenReturn(w)},D=a.delay=function(w,O){var N,k;return O!==void 0?(N=a.resolve(O)._then(A,null,null,w,void 0),h.cancellation()&&O instanceof a&&N._setOnCancel(O)):(N=new a(l),k=setTimeout(function(){N._fulfill()},+w),h.cancellation()&&N._setOnCancel(new g(k)),N._captureStackTrace()),N._setAsyncGuaranteed(),N};a.prototype.delay=function(w){return D(w,this)};var M=function(w,O,N){var k;k=typeof O!="string"?O instanceof Error?O:new E("operation timed out"):new E(O),C.markAsOriginatingFromRejection(k),w._attachExtraTrace(k),w._reject(k),N!=null&&N.cancel()};a.prototype.timeout=function(w,O){w=+w;var N,k,R=new g(setTimeout(function(){N.isPending()&&M(N,O,k)},w));return h.cancellation()?(k=this.then(),N=k._then(v,T,void 0,R,void 0),N._setOnCancel(R)):N=this._then(v,T,void 0,R,void 0),N}}},{"./util":36}],35:[function(e,t,i){t.exports=function(a,l,h,g,v,T){function C(ee){setTimeout(function(){throw ee},0)}function E(ee){var X=h(ee);return X!==ee&&typeof ee._isDisposable=="function"&&typeof ee._getDisposer=="function"&&ee._isDisposable()&&X._setDisposable(ee._getDisposer()),X}function A(ee,X){function ce(){if(he>=le)return fe._fulfill();var _e=E(ee[he++]);if(_e instanceof a&&_e._isDisposable()){try{_e=h(_e._getDisposer().tryDispose(X),ee.promise)}catch(xe){return C(xe)}if(_e instanceof a)return _e._then(ce,C,null,null,null)}ce()}var he=0,le=ee.length,fe=new a(v);return ce(),fe}function D(ee,X,ce){this._data=ee,this._promise=X,this._context=ce}function M(ee,X,ce){this.constructor$(ee,X,ce)}function w(ee){return D.isDisposer(ee)?(this.resources[this.index]._setDisposable(ee),ee.promise()):ee}function O(ee){this.length=ee,this.promise=null,this[ee-1]=null}var N=e("./util"),k=e("./errors").TypeError,R=e("./util").inherits,W=N.errorObj,K=N.tryCatch,de={};D.prototype.data=function(){return this._data},D.prototype.promise=function(){return this._promise},D.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():de},D.prototype.tryDispose=function(ee){var X=this.resource(),ce=this._context;ce!==void 0&&ce._pushContext();var he=X!==de?this.doDispose(X,ee):null;return ce!==void 0&&ce._popContext(),this._promise._unsetDisposable(),this._data=null,he},D.isDisposer=function(ee){return ee!=null&&typeof ee.resource=="function"&&typeof ee.tryDispose=="function"},R(M,D),M.prototype.doDispose=function(ee,X){var ce=this.data();return ce.call(ee,ee,X)},O.prototype._resultCancelled=function(){for(var ee=this.length,X=0;ee>X;++X){var ce=this[X];ce instanceof a&&ce.cancel()}},a.using=function(){var ee=arguments.length;if(2>ee)return l("you must pass at least 2 arguments to Promise.using");var X=arguments[ee-1];if(typeof X!="function")return l("expecting a function but got "+N.classString(X));var ce,he=!0;ee===2&&Array.isArray(arguments[0])?(ce=arguments[0],ee=ce.length,he=!1):(ce=arguments,ee--);for(var le=new O(ee),fe=0;ee>fe;++fe){var _e=ce[fe];if(D.isDisposer(_e)){var xe=_e;_e=_e.promise(),_e._setDisposable(xe)}else{var De=h(_e);De instanceof a&&(_e=De._then(w,null,null,{resources:le,index:fe},void 0))}le[fe]=_e}for(var Ne=new Array(le.length),fe=0;fe<Ne.length;++fe)Ne[fe]=a.resolve(le[fe]).reflect();var je=a.all(Ne).then(function(Re){for(var Me=0;Me<Re.length;++Me){var Ae=Re[Me];if(Ae.isRejected())return W.e=Ae.error(),W;if(!Ae.isFulfilled())return void je.cancel();Re[Me]=Ae.value()}Ze._pushContext(),X=K(X);var Je=he?X.apply(void 0,Re):X(Re),He=Ze._popContext();return T.checkForgottenReturns(Je,He,"Promise.using",Ze),Je}),Ze=je.lastly(function(){var Re=new a.PromiseInspection(je);return A(le,Re)});return le.promise=Ze,Ze._setOnCancel(le),Ze},a.prototype._setDisposable=function(ee){this._bitField=131072|this._bitField,this._disposer=ee},a.prototype._isDisposable=function(){return(131072&this._bitField)>0},a.prototype._getDisposer=function(){return this._disposer},a.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},a.prototype.disposer=function(ee){if(typeof ee=="function")return new M(ee,this,g());throw new k}}},{"./errors":12,"./util":36}],36:[function(e,t,i){function a(){try{var oe=xe;return xe=null,oe.apply(this,arguments)}catch(me){return _e.e=me,_e}}function l(oe){return xe=oe,a}function h(oe){return oe==null||oe===!0||oe===!1||typeof oe=="string"||typeof oe=="number"}function g(oe){return typeof oe=="function"||typeof oe=="object"&&oe!==null}function v(oe){return h(oe)?new Error(N(oe)):oe}function T(oe,me){var Se,et=oe.length,Ke=new Array(et+1);for(Se=0;et>Se;++Se)Ke[Se]=oe[Se];return Ke[Se]=me,Ke}function C(oe,me,Se){if(!le.isES5)return{}.hasOwnProperty.call(oe,me)?oe[me]:void 0;var et=Object.getOwnPropertyDescriptor(oe,me);return et!=null?et.get==null&&et.set==null?et.value:Se:void 0}function E(oe,me,Se){if(h(oe))return oe;var et={value:Se,configurable:!0,enumerable:!1,writable:!0};return le.defineProperty(oe,me,et),oe}function A(oe){throw oe}function D(oe){try{if(typeof oe=="function"){var me=le.names(oe.prototype),Se=le.isES5&&me.length>1,et=me.length>0&&!(me.length===1&&me[0]==="constructor"),Ke=Ze.test(oe+"")&&le.names(oe).length>0;if(Se||et||Ke)return!0}return!1}catch{return!1}}function M(oe){function me(){}function Se(){return typeof et.foo}me.prototype=oe;var et=new me;return Se(),Se(),oe}function w(oe){return Re.test(oe)}function O(oe,me,Se){for(var et=new Array(oe),Ke=0;oe>Ke;++Ke)et[Ke]=me+Ke+Se;return et}function N(oe){try{return oe+""}catch{return"[no string representation]"}}function k(oe){return oe instanceof Error||oe!==null&&typeof oe=="object"&&typeof oe.message=="string"&&typeof oe.name=="string"}function R(oe){try{E(oe,"isOperational",!0)}catch{}}function W(oe){return oe==null?!1:oe instanceof Error.__BluebirdErrorTypes__.OperationalError||oe.isOperational===!0}function K(oe){return k(oe)&&le.propertyIsWritable(oe,"stack")}function de(oe){return{}.toString.call(oe)}function ee(oe,me,Se){for(var et=le.names(oe),Ke=0;Ke<et.length;++Ke){var mt=et[Ke];if(Se(mt))try{le.defineProperty(me,mt,le.getDescriptor(oe,mt))}catch{}}}function X(oe){return Ge?process.env[oe]:void 0}function ce(){if(typeof Promise=="function")try{var oe=new Promise(function(){});if(de(oe)==="[object Promise]")return Promise}catch{}}function he(oe,me){if(oe===null||typeof me!="function"||me===nt)return me;oe.domain!==null&&(me=oe.domain.bind(me));var Se=oe.async;if(Se!==null){var et=me;me=function(){var Ke=new Array(2).concat([].slice.call(arguments));return Ke[0]=et,Ke[1]=this,Se.runInAsyncScope.apply(Se,Ke)}}return me}var le=e("./es5"),fe=typeof navigator>"u",_e={e:{}},xe,De=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:this!==void 0?this:null,Ne=function(oe,me){function Se(){this.constructor=oe,this.constructor$=me;for(var Ke in me.prototype)et.call(me.prototype,Ke)&&Ke.charAt(Ke.length-1)!=="$"&&(this[Ke+"$"]=me.prototype[Ke])}var et={}.hasOwnProperty;return Se.prototype=me.prototype,oe.prototype=new Se,oe.prototype},je=function(){var oe=[Array.prototype,Object.prototype,Function.prototype],me=function(Ke){for(var mt=0;mt<oe.length;++mt)if(oe[mt]===Ke)return!0;return!1};if(le.isES5){var Se=Object.getOwnPropertyNames;return function(Ke){for(var mt=[],vt=Object.create(null);Ke!=null&&!me(Ke);){var Vt;try{Vt=Se(Ke)}catch{return mt}for(var Nt=0;Nt<Vt.length;++Nt){var xt=Vt[Nt];if(!vt[xt]){vt[xt]=!0;var nr=Object.getOwnPropertyDescriptor(Ke,xt);nr!=null&&nr.get==null&&nr.set==null&&mt.push(xt)}}Ke=le.getPrototypeOf(Ke)}return mt}}var et={}.hasOwnProperty;return function(Ke){if(me(Ke))return[];var mt=[];e:for(var vt in Ke)if(et.call(Ke,vt))mt.push(vt);else{for(var Vt=0;Vt<oe.length;++Vt)if(et.call(oe[Vt],vt))continue e;mt.push(vt)}return mt}}(),Ze=/this\s*\.\s*\S+\s*=/,Re=/^[a-z$_][a-z$_0-9]*$/i,Me=function(){return"stack"in new Error?function(oe){return K(oe)?oe:new Error(N(oe))}:function(oe){if(K(oe))return oe;try{throw new Error(N(oe))}catch(me){return me}}}(),Ae=function(oe){return le.isArray(oe)?oe:null};if(typeof Symbol<"u"&&Symbol.iterator){var Je=typeof Array.from=="function"?function(oe){return Array.from(oe)}:function(oe){for(var me,Se=[],et=oe[Symbol.iterator]();!(me=et.next()).done;)Se.push(me.value);return Se};Ae=function(oe){return le.isArray(oe)?oe:oe!=null&&typeof oe[Symbol.iterator]=="function"?Je(oe):null}}var He=typeof process<"u"&&de(process).toLowerCase()==="[object process]",Ge=typeof process<"u"&&typeof process.env<"u",nt,pe={setReflectHandler:function(oe){nt=oe},isClass:D,isIdentifier:w,inheritedDataKeys:je,getDataPropertyOrDefault:C,thrower:A,isArray:le.isArray,asArray:Ae,notEnumerableProp:E,isPrimitive:h,isObject:g,isError:k,canEvaluate:fe,errorObj:_e,tryCatch:l,inherits:Ne,withAppended:T,maybeWrapAsError:v,toFastProperties:M,filledRange:O,toString:N,canAttachTrace:K,ensureErrorObject:Me,originatesFromRejection:W,markAsOriginatingFromRejection:R,classString:de,copyDescriptors:ee,isNode:He,hasEnvVariables:Ge,env:X,global:De,getNativePromise:ce,contextBind:he};pe.isRecentNode=pe.isNode&&function(){var oe;return process.versions&&process.versions.node?oe=process.versions.node.split(".").map(Number):process.version&&(oe=process.version.split(".").map(Number)),oe[0]===0&&oe[1]>10||oe[0]>0}(),pe.nodeSupportsAsyncResource=pe.isNode&&function(){var oe=!1;try{var me=e("async_hooks").AsyncResource;oe=typeof me.prototype.runInAsyncScope=="function"}catch{oe=!1}return oe}(),pe.isNode&&pe.toFastProperties(process);try{throw new Error}catch(oe){pe.lastLineError=oe}t.exports=pe},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}(function(e){function t(r,n){(n==null||n>r.length)&&(n=r.length);for(var o=0,s=Array(n);o<n;o++)s[o]=r[o];return s}function i(r,n,o,s,u,d,c){try{var f=r[d](c),m=f.value}catch(_){return void o(_)}f.done?n(m):Promise.resolve(m).then(s,u)}function a(r){return function(){var n=this,o=arguments;return new Promise(function(s,u){var d=r.apply(n,o);function c(m){i(d,s,u,c,f,"next",m)}function f(m){i(d,s,u,c,f,"throw",m)}c(void 0)})}}function l(r,n,o){return n=A(n),function(s,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(s)}(r,M()?Reflect.construct(n,o||[],A(r).constructor):n.apply(r,o))}function h(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function g(r,n){for(var o=0;o<n.length;o++){var s=n[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,k(s.key),s)}}function v(r,n,o){return n&&g(r.prototype,n),o&&g(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r}function T(r,n){var o=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!o){if(Array.isArray(r)||(o=W(r))||n&&r&&typeof r.length=="number"){o&&(r=o);var s=0,u=function(){};return{s:u,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(m){throw m},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d,c=!0,f=!1;return{s:function(){o=o.call(r)},n:function(){var m=o.next();return c=m.done,m},e:function(m){f=!0,d=m},f:function(){try{c||o.return==null||o.return()}finally{if(f)throw d}}}}function C(r,n,o){return(n=k(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function E(){return E=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,n,o){var s=function(d,c){for(;!{}.hasOwnProperty.call(d,c)&&(d=A(d))!==null;);return d}(r,n);if(s){var u=Object.getOwnPropertyDescriptor(s,n);return u.get?u.get.call(arguments.length<3?r:o):u.value}},E.apply(null,arguments)}function A(r){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A(r)}function D(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&O(r,n)}function M(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M=function(){return!!r})()}function w(){w=function(){return n};var r,n={},o=Object.prototype,s=o.hasOwnProperty,u=Object.defineProperty||function(ne,ae,be){ne[ae]=be.value},d=typeof Symbol=="function"?Symbol:{},c=d.iterator||"@@iterator",f=d.asyncIterator||"@@asyncIterator",m=d.toStringTag||"@@toStringTag";function _(ne,ae,be){return Object.defineProperty(ne,ae,{value:be,enumerable:!0,configurable:!0,writable:!0}),ne[ae]}try{_({},"")}catch{_=function(ae,be,ge){return ae[be]=ge}}function S(ne,ae,be,ge){var ve=ae&&ae.prototype instanceof $?ae:$,Le=Object.create(ve.prototype),Qe=new ie(ge||[]);return u(Le,"_invoke",{value:V(ne,be,Qe)}),Le}function y(ne,ae,be){try{return{type:"normal",arg:ne.call(ae,be)}}catch(ge){return{type:"throw",arg:ge}}}n.wrap=S;var b="suspendedStart",I="suspendedYield",x="executing",P="completed",L={};function $(){}function te(){}function q(){}var Q={};_(Q,c,function(){return this});var J=Object.getPrototypeOf,re=J&&J(J(se([])));re&&re!==o&&s.call(re,c)&&(Q=re);var H=q.prototype=$.prototype=Object.create(Q);function F(ne){["next","throw","return"].forEach(function(ae){_(ne,ae,function(be){return this._invoke(ae,be)})})}function B(ne,ae){function be(ve,Le,Qe,ze){var yt=y(ne[ve],ne,Le);if(yt.type!=="throw"){var at=yt.arg,gt=at.value;return gt&&typeof gt=="object"&&s.call(gt,"__await")?ae.resolve(gt.__await).then(function(Ct){be("next",Ct,Qe,ze)},function(Ct){be("throw",Ct,Qe,ze)}):ae.resolve(gt).then(function(Ct){at.value=Ct,Qe(at)},function(Ct){return be("throw",Ct,Qe,ze)})}ze(yt.arg)}var ge;u(this,"_invoke",{value:function(ve,Le){function Qe(){return new ae(function(ze,yt){be(ve,Le,ze,yt)})}return ge=ge?ge.then(Qe,Qe):Qe()}})}function V(ne,ae,be){var ge=b;return function(ve,Le){if(ge===x)throw Error("Generator is already running");if(ge===P){if(ve==="throw")throw Le;return{value:r,done:!0}}for(be.method=ve,be.arg=Le;;){var Qe=be.delegate;if(Qe){var ze=G(Qe,be);if(ze){if(ze===L)continue;return ze}}if(be.method==="next")be.sent=be._sent=be.arg;else if(be.method==="throw"){if(ge===b)throw ge=P,be.arg;be.dispatchException(be.arg)}else be.method==="return"&&be.abrupt("return",be.arg);ge=x;var yt=y(ne,ae,be);if(yt.type==="normal"){if(ge=be.done?P:I,yt.arg===L)continue;return{value:yt.arg,done:be.done}}yt.type==="throw"&&(ge=P,be.method="throw",be.arg=yt.arg)}}}function G(ne,ae){var be=ae.method,ge=ne.iterator[be];if(ge===r)return ae.delegate=null,be==="throw"&&ne.iterator.return&&(ae.method="return",ae.arg=r,G(ne,ae),ae.method==="throw")||be!=="return"&&(ae.method="throw",ae.arg=new TypeError("The iterator does not provide a '"+be+"' method")),L;var ve=y(ge,ne.iterator,ae.arg);if(ve.type==="throw")return ae.method="throw",ae.arg=ve.arg,ae.delegate=null,L;var Le=ve.arg;return Le?Le.done?(ae[ne.resultName]=Le.value,ae.next=ne.nextLoc,ae.method!=="return"&&(ae.method="next",ae.arg=r),ae.delegate=null,L):Le:(ae.method="throw",ae.arg=new TypeError("iterator result is not an object"),ae.delegate=null,L)}function z(ne){var ae={tryLoc:ne[0]};1 in ne&&(ae.catchLoc=ne[1]),2 in ne&&(ae.finallyLoc=ne[2],ae.afterLoc=ne[3]),this.tryEntries.push(ae)}function Z(ne){var ae=ne.completion||{};ae.type="normal",delete ae.arg,ne.completion=ae}function ie(ne){this.tryEntries=[{tryLoc:"root"}],ne.forEach(z,this),this.reset(!0)}function se(ne){if(ne||ne===""){var ae=ne[c];if(ae)return ae.call(ne);if(typeof ne.next=="function")return ne;if(!isNaN(ne.length)){var be=-1,ge=function ve(){for(;++be<ne.length;)if(s.call(ne,be))return ve.value=ne[be],ve.done=!1,ve;return ve.value=r,ve.done=!0,ve};return ge.next=ge}}throw new TypeError(typeof ne+" is not iterable")}return te.prototype=q,u(H,"constructor",{value:q,configurable:!0}),u(q,"constructor",{value:te,configurable:!0}),te.displayName=_(q,m,"GeneratorFunction"),n.isGeneratorFunction=function(ne){var ae=typeof ne=="function"&&ne.constructor;return!!ae&&(ae===te||(ae.displayName||ae.name)==="GeneratorFunction")},n.mark=function(ne){return Object.setPrototypeOf?Object.setPrototypeOf(ne,q):(ne.__proto__=q,_(ne,m,"GeneratorFunction")),ne.prototype=Object.create(H),ne},n.awrap=function(ne){return{__await:ne}},F(B.prototype),_(B.prototype,f,function(){return this}),n.AsyncIterator=B,n.async=function(ne,ae,be,ge,ve){ve===void 0&&(ve=Promise);var Le=new B(S(ne,ae,be,ge),ve);return n.isGeneratorFunction(ae)?Le:Le.next().then(function(Qe){return Qe.done?Qe.value:Le.next()})},F(H),_(H,m,"Generator"),_(H,c,function(){return this}),_(H,"toString",function(){return"[object Generator]"}),n.keys=function(ne){var ae=Object(ne),be=[];for(var ge in ae)be.push(ge);return be.reverse(),function ve(){for(;be.length;){var Le=be.pop();if(Le in ae)return ve.value=Le,ve.done=!1,ve}return ve.done=!0,ve}},n.values=se,ie.prototype={constructor:ie,reset:function(ne){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!ne)for(var ae in this)ae.charAt(0)==="t"&&s.call(this,ae)&&!isNaN(+ae.slice(1))&&(this[ae]=r)},stop:function(){this.done=!0;var ne=this.tryEntries[0].completion;if(ne.type==="throw")throw ne.arg;return this.rval},dispatchException:function(ne){if(this.done)throw ne;var ae=this;function be(yt,at){return Le.type="throw",Le.arg=ne,ae.next=yt,at&&(ae.method="next",ae.arg=r),!!at}for(var ge=this.tryEntries.length-1;ge>=0;--ge){var ve=this.tryEntries[ge],Le=ve.completion;if(ve.tryLoc==="root")return be("end");if(ve.tryLoc<=this.prev){var Qe=s.call(ve,"catchLoc"),ze=s.call(ve,"finallyLoc");if(Qe&&ze){if(this.prev<ve.catchLoc)return be(ve.catchLoc,!0);if(this.prev<ve.finallyLoc)return be(ve.finallyLoc)}else if(Qe){if(this.prev<ve.catchLoc)return be(ve.catchLoc,!0)}else{if(!ze)throw Error("try statement without catch or finally");if(this.prev<ve.finallyLoc)return be(ve.finallyLoc)}}}},abrupt:function(ne,ae){for(var be=this.tryEntries.length-1;be>=0;--be){var ge=this.tryEntries[be];if(ge.tryLoc<=this.prev&&s.call(ge,"finallyLoc")&&this.prev<ge.finallyLoc){var ve=ge;break}}ve&&(ne==="break"||ne==="continue")&&ve.tryLoc<=ae&&ae<=ve.finallyLoc&&(ve=null);var Le=ve?ve.completion:{};return Le.type=ne,Le.arg=ae,ve?(this.method="next",this.next=ve.finallyLoc,L):this.complete(Le)},complete:function(ne,ae){if(ne.type==="throw")throw ne.arg;return ne.type==="break"||ne.type==="continue"?this.next=ne.arg:ne.type==="return"?(this.rval=this.arg=ne.arg,this.method="return",this.next="end"):ne.type==="normal"&&ae&&(this.next=ae),L},finish:function(ne){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var be=this.tryEntries[ae];if(be.finallyLoc===ne)return this.complete(be.completion,be.afterLoc),Z(be),L}},catch:function(ne){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var be=this.tryEntries[ae];if(be.tryLoc===ne){var ge=be.completion;if(ge.type==="throw"){var ve=ge.arg;Z(be)}return ve}}throw Error("illegal catch attempt")},delegateYield:function(ne,ae,be){return this.delegate={iterator:se(ne),resultName:ae,nextLoc:be},this.method==="next"&&(this.arg=r),L}},n}function O(r,n){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,s){return o.__proto__=s,o},O(r,n)}function N(r,n){return function(o){if(Array.isArray(o))return o}(r)||function(o,s){var u=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(u!=null){var d,c,f,m,_=[],S=!0,y=!1;try{if(f=(u=u.call(o)).next,s===0){if(Object(u)!==u)return;S=!1}else for(;!(S=(d=f.call(u)).done)&&(_.push(d.value),_.length!==s);S=!0);}catch(b){y=!0,c=b}finally{try{if(!S&&u.return!=null&&(m=u.return(),Object(m)!==m))return}finally{if(y)throw c}}return _}}(r,n)||W(r,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(r){var n=function(o,s){if(typeof o!="object"||!o)return o;var u=o[Symbol.toPrimitive];if(u!==void 0){var d=u.call(o,s||"default");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}(r,"string");return typeof n=="symbol"?n:n+""}function R(r){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},R(r)}function W(r,n){if(r){if(typeof r=="string")return t(r,n);var o={}.toString.call(r).slice(8,-1);return o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set"?Array.from(r):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(r,n):void 0}}var K;function de(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function ee(r){return ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ee(r)}function X(r){var n=function(o,s){if(ee(o)!="object"||!o)return o;var u=o[Symbol.toPrimitive];if(u!==void 0){var d=u.call(o,s||"default");if(ee(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}(r,"string");return ee(n)=="symbol"?n:n+""}function ce(r,n){for(var o=0;o<n.length;o++){var s=n[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,X(s.key),s)}}function he(r,n,o){return n&&ce(r.prototype,n),o&&ce(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r}var le=typeof Yi<"u"?Yi:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var _e={exports:{}},xe={exports:{}};(function(r){function n(o){return r.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r.exports.__esModule=!0,r.exports.default=r.exports,n(o)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports})(xe);var De=xe.exports;(function(r){var n=De.default;function o(){r.exports=o=function(){return u},r.exports.__esModule=!0,r.exports.default=r.exports;var s,u={},d=Object.prototype,c=d.hasOwnProperty,f=Object.defineProperty||function(ge,ve,Le){ge[ve]=Le.value},m=typeof Symbol=="function"?Symbol:{},_=m.iterator||"@@iterator",S=m.asyncIterator||"@@asyncIterator",y=m.toStringTag||"@@toStringTag";function b(ge,ve,Le){return Object.defineProperty(ge,ve,{value:Le,enumerable:!0,configurable:!0,writable:!0}),ge[ve]}try{b({},"")}catch{b=function(ve,Le,Qe){return ve[Le]=Qe}}function I(ge,ve,Le,Qe){var ze=ve&&ve.prototype instanceof Q?ve:Q,yt=Object.create(ze.prototype),at=new ae(Qe||[]);return f(yt,"_invoke",{value:Z(ge,Le,at)}),yt}function x(ge,ve,Le){try{return{type:"normal",arg:ge.call(ve,Le)}}catch(Qe){return{type:"throw",arg:Qe}}}u.wrap=I;var P="suspendedStart",L="suspendedYield",$="executing",te="completed",q={};function Q(){}function J(){}function re(){}var H={};b(H,_,function(){return this});var F=Object.getPrototypeOf,B=F&&F(F(be([])));B&&B!==d&&c.call(B,_)&&(H=B);var V=re.prototype=Q.prototype=Object.create(H);function G(ge){["next","throw","return"].forEach(function(ve){b(ge,ve,function(Le){return this._invoke(ve,Le)})})}function z(ge,ve){function Le(ze,yt,at,gt){var Ct=x(ge[ze],ge,yt);if(Ct.type!=="throw"){var Be=Ct.arg,Oe=Be.value;return Oe&&n(Oe)=="object"&&c.call(Oe,"__await")?ve.resolve(Oe.__await).then(function(tt){Le("next",tt,at,gt)},function(tt){Le("throw",tt,at,gt)}):ve.resolve(Oe).then(function(tt){Be.value=tt,at(Be)},function(tt){return Le("throw",tt,at,gt)})}gt(Ct.arg)}var Qe;f(this,"_invoke",{value:function(ze,yt){function at(){return new ve(function(gt,Ct){Le(ze,yt,gt,Ct)})}return Qe=Qe?Qe.then(at,at):at()}})}function Z(ge,ve,Le){var Qe=P;return function(ze,yt){if(Qe===$)throw Error("Generator is already running");if(Qe===te){if(ze==="throw")throw yt;return{value:s,done:!0}}for(Le.method=ze,Le.arg=yt;;){var at=Le.delegate;if(at){var gt=ie(at,Le);if(gt){if(gt===q)continue;return gt}}if(Le.method==="next")Le.sent=Le._sent=Le.arg;else if(Le.method==="throw"){if(Qe===P)throw Qe=te,Le.arg;Le.dispatchException(Le.arg)}else Le.method==="return"&&Le.abrupt("return",Le.arg);Qe=$;var Ct=x(ge,ve,Le);if(Ct.type==="normal"){if(Qe=Le.done?te:L,Ct.arg===q)continue;return{value:Ct.arg,done:Le.done}}Ct.type==="throw"&&(Qe=te,Le.method="throw",Le.arg=Ct.arg)}}}function ie(ge,ve){var Le=ve.method,Qe=ge.iterator[Le];if(Qe===s)return ve.delegate=null,Le==="throw"&&ge.iterator.return&&(ve.method="return",ve.arg=s,ie(ge,ve),ve.method==="throw")||Le!=="return"&&(ve.method="throw",ve.arg=new TypeError("The iterator does not provide a '"+Le+"' method")),q;var ze=x(Qe,ge.iterator,ve.arg);if(ze.type==="throw")return ve.method="throw",ve.arg=ze.arg,ve.delegate=null,q;var yt=ze.arg;return yt?yt.done?(ve[ge.resultName]=yt.value,ve.next=ge.nextLoc,ve.method!=="return"&&(ve.method="next",ve.arg=s),ve.delegate=null,q):yt:(ve.method="throw",ve.arg=new TypeError("iterator result is not an object"),ve.delegate=null,q)}function se(ge){var ve={tryLoc:ge[0]};1 in ge&&(ve.catchLoc=ge[1]),2 in ge&&(ve.finallyLoc=ge[2],ve.afterLoc=ge[3]),this.tryEntries.push(ve)}function ne(ge){var ve=ge.completion||{};ve.type="normal",delete ve.arg,ge.completion=ve}function ae(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(se,this),this.reset(!0)}function be(ge){if(ge||ge===""){var ve=ge[_];if(ve)return ve.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Le=-1,Qe=function ze(){for(;++Le<ge.length;)if(c.call(ge,Le))return ze.value=ge[Le],ze.done=!1,ze;return ze.value=s,ze.done=!0,ze};return Qe.next=Qe}}throw new TypeError(n(ge)+" is not iterable")}return J.prototype=re,f(V,"constructor",{value:re,configurable:!0}),f(re,"constructor",{value:J,configurable:!0}),J.displayName=b(re,y,"GeneratorFunction"),u.isGeneratorFunction=function(ge){var ve=typeof ge=="function"&&ge.constructor;return!!ve&&(ve===J||(ve.displayName||ve.name)==="GeneratorFunction")},u.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,re):(ge.__proto__=re,b(ge,y,"GeneratorFunction")),ge.prototype=Object.create(V),ge},u.awrap=function(ge){return{__await:ge}},G(z.prototype),b(z.prototype,S,function(){return this}),u.AsyncIterator=z,u.async=function(ge,ve,Le,Qe,ze){ze===void 0&&(ze=Promise);var yt=new z(I(ge,ve,Le,Qe),ze);return u.isGeneratorFunction(ve)?yt:yt.next().then(function(at){return at.done?at.value:yt.next()})},G(V),b(V,y,"Generator"),b(V,_,function(){return this}),b(V,"toString",function(){return"[object Generator]"}),u.keys=function(ge){var ve=Object(ge),Le=[];for(var Qe in ve)Le.push(Qe);return Le.reverse(),function ze(){for(;Le.length;){var yt=Le.pop();if(yt in ve)return ze.value=yt,ze.done=!1,ze}return ze.done=!0,ze}},u.values=be,ae.prototype={constructor:ae,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(ne),!ge)for(var ve in this)ve.charAt(0)==="t"&&c.call(this,ve)&&!isNaN(+ve.slice(1))&&(this[ve]=s)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var ve=this;function Le(Ct,Be){return yt.type="throw",yt.arg=ge,ve.next=Ct,Be&&(ve.method="next",ve.arg=s),!!Be}for(var Qe=this.tryEntries.length-1;Qe>=0;--Qe){var ze=this.tryEntries[Qe],yt=ze.completion;if(ze.tryLoc==="root")return Le("end");if(ze.tryLoc<=this.prev){var at=c.call(ze,"catchLoc"),gt=c.call(ze,"finallyLoc");if(at&&gt){if(this.prev<ze.catchLoc)return Le(ze.catchLoc,!0);if(this.prev<ze.finallyLoc)return Le(ze.finallyLoc)}else if(at){if(this.prev<ze.catchLoc)return Le(ze.catchLoc,!0)}else{if(!gt)throw Error("try statement without catch or finally");if(this.prev<ze.finallyLoc)return Le(ze.finallyLoc)}}}},abrupt:function(ge,ve){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var Qe=this.tryEntries[Le];if(Qe.tryLoc<=this.prev&&c.call(Qe,"finallyLoc")&&this.prev<Qe.finallyLoc){var ze=Qe;break}}ze&&(ge==="break"||ge==="continue")&&ze.tryLoc<=ve&&ve<=ze.finallyLoc&&(ze=null);var yt=ze?ze.completion:{};return yt.type=ge,yt.arg=ve,ze?(this.method="next",this.next=ze.finallyLoc,q):this.complete(yt)},complete:function(ge,ve){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&ve&&(this.next=ve),q},finish:function(ge){for(var ve=this.tryEntries.length-1;ve>=0;--ve){var Le=this.tryEntries[ve];if(Le.finallyLoc===ge)return this.complete(Le.completion,Le.afterLoc),ne(Le),q}},catch:function(ge){for(var ve=this.tryEntries.length-1;ve>=0;--ve){var Le=this.tryEntries[ve];if(Le.tryLoc===ge){var Qe=Le.completion;if(Qe.type==="throw"){var ze=Qe.arg;ne(Le)}return ze}}throw Error("illegal catch attempt")},delegateYield:function(ge,ve,Le){return this.delegate={iterator:be(ge),resultName:ve,nextLoc:Le},this.method==="next"&&(this.arg=s),q}},u}r.exports=o,r.exports.__esModule=!0,r.exports.default=r.exports})(_e);var Ne=(0,_e.exports)(),je=Ne;try{regeneratorRuntime=Ne}catch{(typeof Yi>"u"?"undefined":R(Yi))==="object"?Yi.regeneratorRuntime=Ne:Function("r","regeneratorRuntime = r")(Ne)}var Ze,Re,Me=fe(je);function Ae(r){var n=r?new Date(r):new Date,o="yyyy-MM-dd HH:mm:ss.SSSZ",s={"M+":n.getUTCMonth()+1,"d+":n.getUTCDate(),"H+":n.getUTCHours(),"h+":n.getUTCHours()%12||12,"m+":n.getUTCMinutes(),"s+":n.getUTCSeconds(),"q+":Math.floor((n.getUTCMonth()+3)/3),"S+":n.getUTCMilliseconds()};for(var u in/(y+)/.test(o)&&(o=o.replace(RegExp.$1,(n.getUTCFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+u+")").test(o)&&(o=o.replace(RegExp.$1,RegExp.$1.length==1?s[u]:("000"+s[u]).substr(("000"+s[u]).length-RegExp.$1.length)));return o}function Je(r){return r===Re}function He(r){return r!==Re}function Ge(r){return r===null}Ze=(typeof window>"u"?"undefined":ee(window))==="object"?window:{};var nt={"[object Function]":"function","[object AsyncFunction]":"function","[object String]":"string","[object Object]":"object","[object Boolean]":"boolean","[object Number]":"number","[object Array]":"array"};function pe(r){return Ge(r)||Je(r)?String(r):nt[{}.toString.call(r)]||"object"}function oe(r){return pe(r)==="function"}function me(r){return pe(r)==="string"}function Se(r){return pe(r)==="object"}function et(r){return pe(r)==="boolean"}function Ke(r){return pe(r)==="number"}function mt(r){return Array.isArray?Array.isArray(r):pe(r)==="array"}function vt(r){if(r==null)return[];if(mt(r))return r;var n=ee(r.length),o=ee(r);if(n!=="number"||r.alert||o==="string"||o==="function"&&(!("item"in r)||n!=="number"))return[r];for(var s=[],u=0,d=r.length;u<d;u++)s[u]=r[u];return s}var Vt,Nt,xt={debug:!1,showConsoleError:!1};function nr(){return Vt}function jt(r){Vt=r}function xr(r,n,o,s){if(xt.debug&&Nt&&oe(Nt.log)){var u=Ae(new Date().getTime()),d=vt(arguments);Nt.log(["[",u,"] ",d].join(""))}}function Yr(r,n,o,s){if((xt.debug||xt.showConsoleError)&&Nt&&oe(Nt.error)){var u=Ae(new Date().getTime()),d=vt(arguments);Nt.error(["[",u,"] ",d].join(""))}}function cr(r,n,o,s){if(xt.debug&&Nt&&oe(Nt.warn)){var u=Ae(new Date().getTime()),d=vt(arguments);Nt.warn(["[",u,"] ",d].join(""))}}function Un(r,n,o,s){if(xt.debug&&Nt&&oe(Nt.info)){var u=Ae(new Date().getTime()),d=vt(arguments);Nt.info(["[",u,"] ",d].join(""))}}Ze&&He(Ze.console)&&(oe((Nt=Ze.console).log)&&oe(Nt.error)?Vt={log:xr,error:Yr,info:Un,warn:cr,debug:function(r,n,o,s){if(xt.debug&&Nt&&oe(Nt.debug)){var u=Ae(new Date().getTime()),d=vt(arguments);Nt.debug(["[",u,"] ",d].join(""))}}}:(Nt=!1,Vt=!1));var Jt={queue:[],doNextStarted:!1,timer:null,pushToDo:function(r,n,o){Jt.queue.push({obj:r,method:n,args:o})},doNext:function(){if(Jt.doNextStarted)if(Jt.queue.length!=0){var r=Jt.queue[0],n=r.obj,o=r.method,s=r.args;if(Jt.queue.splice(0,1),n&&oe(n[o])){var u=!1;if(s.length>2){var d=s[s.length-2],c=s[s.length-1];oe(d)&&oe(c)&&(s[s.length-2]=function(){try{d.apply(n,arguments)}catch{}Jt.timer=setTimeout(Jt.doNext,0)},s[s.length-1]=function(){try{c.apply(n,arguments)}catch{}Jt.timer=setTimeout(Jt.doNext,0)},u=!0)}try{n[o].apply(n,s)}catch{}u||(Jt.timer=setTimeout(Jt.doNext,0))}else if(n===null&&oe(o)){try{o.apply(null,s)}catch{}Jt.timer=setTimeout(Jt.doNext,0)}else xr("not invoke a function: "+o),Jt.timer=setTimeout(Jt.doNext,0)}else Jt.stop();else Jt.stop()},start:function(){Jt.doNextStarted||(Jt.doNextStarted=!0,Jt.timer=setTimeout(Jt.doNext,0))},stop:function(){clearTimeout(Jt.timer),Jt.timer=null,Jt.doNextStarted=!1,Jt.queue=[]}},ir=!0,Tt=!1;function hr(r,n,o){if(r){var s,u,d,c=0,f=r.length;if(o=o||null,Je(f)||oe(r))for(d=Object.keys(r);c<d.length&&(s=d[c],n.call(o,r[s],s,r)!==Tt);c++);else for(u=r[0];c<f&&n.call(o,u,c,r)!==Tt;u=r[++c]);}return r}var qo,Ca={fire:function(r){var n,o=this;o.exec=o.exec||{},r=r.toLowerCase(),n=Array.prototype.slice.call(arguments,1),hr(o.exec[r]||[],function(s){var u=s.f,d=s.c||o;try{u.apply(d,n)}catch(c){xr(c)}})},on:function(r,n,o){var s=this;s.exec=s.exec||{},r=r.toLowerCase(),s.exec[r]=s.exec[r]||[],s.exec[r].push({f:n,c:o})},off:function(r,n,o){var s=this.exec;if(s)if(r)if(r=r.toLowerCase(),n)for(var u=s[r]||[],d=u.length-1;d>=0;d--)u[d]===n&&u.splice(d,1);else s[r]=null;else this.exec=null}},pr="",ue,Pr,ke,We,it=navigator,ot=!0;if("userAgentData"in it){var St=it.userAgentData,Dt=[];St.platform&&St.platform!=""&&("brands"in St&&Array.isArray(St.brands)&&St.brands.length>0?Dt=St.brands:"uaList"in St&&Array.isArray(St.uaList)&&St.uaList.length>0&&(Dt=St.uaList),Dt.length>0&&(ot=!1,Pr=St.platform.toLowerCase(),ue=function(r,n,o){var s,u,d,c,f,m,_,S,y,b=!1,I=!1,x=!1,P=r.mobile,L=!1,$=pr,te=navigator.maxTouchPoints||0;for(u=n.length,s=0;s<u;s++){var q=n[s].brand.toLowerCase();if(q.indexOf("chrome")>=0){x=!0,$=n[s].version;break}if(q.indexOf("edge")>=0){b=!0,$=n[s].version;break}if(q.indexOf("opera")>=0){I=!0,$=n[s].version;break}}return x||b||I||(x=!0,$="100"),d=/windows/g.test(o),c=/mac/g.test(o),f=/linux/g.test(o),m=/android/g.test(o),_=/harmony/g.test(o),S=/(chromeos|chrome\sos)/g.test(o),y=/iphone/g.test(o),d||m||f||y||(L=/macintel/g.test(o)&&te>1),(m||_||y||L)&&(P=!0),{bUseUserAgent:!1,bWin:d,bMac:c,bLinux:f,bAndroid:m,bHarmonyOS:_,bChromeOS:S,bIE:!1,bEdge:b,bUC:!1,bPlaybook:!1,bBlackBerry:!1,bHuaWeiBrowser:!1,bOpera:I,bFirefox:!1,bChrome:x,bJSDom:!1,biPhone:y,biPad:L,bPad:m&&!r.mobile,bSafari:!1,bMobile:P,strBrowserVersion:$,bHTML5Edition:!0,IEVersion:0,IEMode:0}}(St,Dt,Pr)))}ot&&(ke||(ke=it.userAgent.toLowerCase()),We||(We=it.platform.toLowerCase()),ue=function(r,n){var o,s=r.toLowerCase(),u=n.toLowerCase(),d=/harmonyos/g.test(s);u=="linux"&&s.indexOf("windows nt")>=0&&(u="harmonyos",d=!0);var c=!d&&/cros/.test(s),f=!d&&/android/g.test(s)||/android/g.test(u),m=/iphone/g.test(s)||/iphone/g.test(u),_=/macintosh/.test(s),S=navigator.maxTouchPoints||0,y=/ipad/g.test(s)||(_||u=="macintel")&&S>1,b=/ucweb|ucbrowser/g.test(s),I=!b&&/nexus/g.test(s)&&/version\/[\d.]+.*safari\//g.test(s),x=/playbook/g.test(s),P=/hp-tablet/g.test(s),L=/blackberry|bb10/g.test(s),$=/symbian/g.test(s),te=/windows phone/g.test(s),q=/mobile/g.test(s),Q=/arm64|aarch64/g.test(s),J=/mips64/g.test(s),re=/huaweibrowser/g.test(s),H=/jsdom/g.test(s),F=x||y||P,B=!F&&!c&&(m||I||L||$||te||f||d||q),V=!B&&!F&&!c,G=V&&/win32|win64|windows/.test(u),z=G&&/win64|x64/.test(s),Z=V&&/mac68k|macppc|macintosh|macintel/.test(s),ie=V&&/linux/.test(u),se=u=="win64"||/wow64|x86_64|win64|x64/.test(s)||Q||J,ne=/wow64/g.test(s),ae=Tt,be=/opera|opr/g.test(s),ge=/360se/g.test(s),ve=/maxthon/g.test(s),Le=/tencenttraveler|qqbrowser/g.test(s),Qe=/the world/g.test(s),ze=/metasr/g.test(s),yt=/avant/g.test(s),at=/firefox|fxios/g.test(s),gt=/gecko/g.test(s),Ct=!(at||re)&&/edge\/|edga\/|edgios\/|edg\//g.test(s),Be=!(L||x||b||be||Ct||re||H)&&/chrome|crios/g.test(s),Oe=!1,tt=pr,pt=0,lt=0,Xe=pr;if(G&&!Ct&&!at&&!Be){var dr=s.indexOf("msie "),fn=s.indexOf("trident"),Gt=s.indexOf("rv:");Oe=dr!=-1||fn!=-1||Gt!=-1}if(!(Z||m||y||G||L||x||I)||b||be||Ct||Oe||at||(o=s.match(/version\/([\d.]+).*safari\//))&&(L||x||I||(ae=ir,Be=Tt),Xe=o[1]),Ct){var Zt=s.indexOf("edge/");Zt>-1?Zt+=5:(Zt=s.indexOf("edg/"))>-1?Zt+=4:(Zt=s.indexOf("edga/"))>-1?Zt+=5:(Zt=s.indexOf("edgios/"))>-1&&(Zt+=7),Zt>-1&&(o=(Xe=s.slice(Zt)).indexOf(" "))>-1&&(Xe=Xe.slice(0,o))}else if(at)if((o=s.indexOf("firefox/"))>-1){var Ar=(o=s.slice(o+8)).indexOf(" ");Ar>-1&&(o=o.slice(0,Ar)),Xe=o,(Ar=o.indexOf("."))>-1&&(o=Xe.slice(0,Ar))}else(m||y)&&(o=s.indexOf("fxios/"))>-1&&(Xe=o=(o=s.slice(o+6)).slice(0,o.indexOf(" ")));else if(Oe){var xi=s.indexOf("msie "),pi=s.indexOf("trident"),Ai=s.indexOf("rv:");xi!=-1?tt=o=(o=s.slice(xi+5)).slice(0,o.indexOf(";")):Ai!=-1?tt=o=(o=(o=s.slice(Ai+3)).slice(0,o.indexOf(";"))).slice(0,o.indexOf(")")):pi!=-1&&(tt=o=(o=s.slice(pi+7)).slice(0,o.indexOf(";"))),Xe=o}else if(ae)(o=Xe.indexOf("."))>-1&&(o=Xe.slice(0,o));else if(b)(o=s.indexOf("ucweb"))>-1?Xe=s.slice(o+5):(o=s.indexOf("ucbrowser/"))>-1&&(o=(Xe=s.slice(o+10)).indexOf(" "))>-1&&(Xe=Xe.slice(0,o));else if(be)(o=s.indexOf("version/"))>-1?Xe=s.slice(o+8):(o=s.indexOf("opr/"))>-1&&(Xe=s.slice(o+4));else if($)(o=s.indexOf("browserng/"))>-1&&(Xe=s.slice(o+10));else if(te)(o=s.indexOf("iemobile/"))>-1&&(Xe=s.slice(o+9));else if(Be){var qn=s.indexOf("chrome/");qn>-1?(o=(Xe=s.slice(qn+7)).indexOf(" "))>-1&&(Xe=Xe.slice(0,o)):(qn=s.indexOf("crios/"))>-1&&(o=(Xe=s.slice(qn+6)).indexOf(" "))>-1&&(Xe=Xe.slice(0,o)),(o=Xe.indexOf("."))>-1&&(o=Xe.slice(0,o))}else if(re){var da=s.indexOf("huaweibrowser");da>-1&&(o=(Xe=s.slice(da+14)).indexOf(" "))>-1&&(Xe=Xe.slice(0,o))}else if(H){var Tn=s.indexOf("jsdom");Tn>-1&&(o=(Xe=s.slice(Tn+6)).indexOf(" "))>-1&&(Xe=Xe.slice(0,o))}if(Ct||Oe){var Zn=window.document;Zn&&Zn.documentMode?pt=Zn.documentMode:(pt=5,Zn.compatMode&&Zn.compatMode=="CSS1Compat"&&(pt=7)),Oe&&(lt=parseInt(Xe))}(Z||ie)&&(se=!0,Z&&(o=s.match(/mac os x (\d+)(_|\.)(\d+)/))&&o.length>3&&(o[1]==10&&o[3]<14||o[1]<10)&&(se=!1)),G||Z||ie||Q||J||(B=!0);var tn=!0;if(Oe)if(tt===""||parseInt(tt)>=10){var fa=Ze.Dynamsoft;fa&&fa.DWT&&fa.DWT.IfUseActiveXForIE10Plus&&(tn=Tt)}else tn=Tt;return{bUseUserAgent:!0,bWin:G,bMac:Z,bLinux:ie,bMobile:B,bPad:F,bChromeOS:c,bHarmonyOS:d,bArm64:Q,bMips64:J,bEmbed:Q||J,bAndroid:f,biPhone:m,biPad:y,bWin64:z,bWOW64:ne,bOSx64:se,bIE:Oe,bEdge:Ct,bChrome:Be,bFirefox:at,bSafari:ae,bOpera:be,bNexus:I,bUC:b,b360SE:ge,bMaxthon:ve,bTencentTraveler:Le,bTheWorld:Qe,bMetaSr:ze,bAvant:yt,bHuaWeiBrowser:re,bJSDom:H,bGecko:gt,bHTML5Edition:tn,strBrowserVersion:Xe,IEVersion:lt,IEMode:pt}}(ke,We));var zt=(qo=document==null?void 0:document.location)===null||qo===void 0?void 0:qo.protocol;function Sr(r){return ue.bGecko&&r==="mousewheel"?"DOMMouseScroll":r}function Fr(r,n,o){var s=Sr(n);r&&r.addEventListener(s,o,!1)}function Qr(r,n,o){var s=Sr(n);r&&r.removeEventListener(s,o,!1)}function no(r){var n=r||Ze.event;n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.returnValue=!1,n.cancelBubble=!0}function oi(r,n){var o=Ze.document.createEvent("HTMLEvents");o.initEvent(r,ir,ir),n.dispatchEvent&&n.dispatchEvent(o)}zt||(zt="https:"),ue.protocol=zt,ue.bSSL=zt==="https:",ue.bFileSystem=zt!=="https:"&&zt!=="http:";var tl,Oi,ls,Lh,rl=Ze.document,Ev=[],Wh=Ev.push,Ia=Ev.slice,d1=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xv=function(){Oi()};function nl(r,n,o,s){var u,d,c,f=n&&n.ownerDocument,m=n?n.nodeType:9;if(o=o||[],typeof r!="string"||!r||m!==1&&m!==9&&m!==11)return o;if(!s&&((n?n.ownerDocument||n:rl)!==ls&&Oi(n),n=n||ls,m!==11&&(c=d1.exec(r))))if(u=c[1]){if(m===9){if(!(d=n.getElementById(u)))return o;if(d.id===u)return o.push(d),o}else if(f&&(d=f.getElementById(u))&&Lh(n,d)&&d.id===u)return o.push(d),o}else{if(c[2])return Wh.apply(o,n.getElementsByTagName(r)),o;if((u=c[3])&&n.getElementsByClassName)return Wh.apply(o,n.getElementsByClassName(u)),o}return o}Wh.apply(Ia.call(rl.childNodes),rl.childNodes),Oi=nl.setDocument=function(r){var n,o=r?r.ownerDocument||r:rl;return o!==ls&&o.nodeType===9&&o.documentElement&&(rl!==(ls=o)&&(n=ls.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xv,!1):n.attachEvent&&n.attachEvent("onunload",xv)),Lh=function(s,u){if(u){for(;u=u.parentNode;)if(u===s)return!0}return!1}),ls},nl.contains=function(r,n){return(r.ownerDocument||r)!==ls&&Oi(r),Lh(r,n)},nl.error=function(r){throw new Error("Syntax error: "+r)},tl=nl.getText=function(r){var n,o="",s=0,u=r.nodeType;if(u){if(u===1||u===9||u===11){if(typeof r.textContent=="string")return r.textContent;for(r=r.firstChild;r;r=r.nextSibling)o+=tl(r)}else if(u===3||u===4)return r.nodeValue}else for(;n=r[s++];)o+=tl(n);return o},Oi();var Lr={encodeChars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeChars:[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1]},f1={UTF16ToUTF8:function(r){for(var n,o,s=[],u=r.length,d=0;d<u;d++){var c=r.charCodeAt(d);if(c>0&&c<=127)s.push(r.charAt(d));else if(c>=128&&c<=2047)n=192|c>>6&31,o=128|63&c,s.push(String.fromCharCode(n),String.fromCharCode(o));else if(c>=2048&&c<=65535){n=224|c>>12&15,o=128|c>>6&63;var f=128|63&c;s.push(String.fromCharCode(n),String.fromCharCode(o),String.fromCharCode(f))}}return s.join("")},UTF8ToUTF16:function(r){var n,o,s,u,d=[],c=r.length;for(n=0;n<c;n++)(o=r.charCodeAt(n))>>7&255?(o>>5&255)==6?(u=(31&o)<<6|63&(s=r.charCodeAt(++n)),d.push(String.fromCharCode(u))):(o>>4&255)==14&&(u=(255&(o<<4|(s=r.charCodeAt(++n))>>2&15))<<8|((3&s)<<6|63&r.charCodeAt(++n)),d.push(String.fromCharCode(u))):d.push(r.charAt(n));return d.join("")},encode:function(r){for(var n,o,s,u=this.UTF16ToUTF8(r),d=[],c=0,f=u.length;c<f;){if(n=255&u.charCodeAt(c++),c==f){d.push(Lr.encodeChars.charAt(n>>2)),d.push(Lr.encodeChars.charAt((3&n)<<4)),d.push("==");break}if(o=u.charCodeAt(c++),c==f){d.push(Lr.encodeChars.charAt(n>>2)),d.push(Lr.encodeChars.charAt((3&n)<<4|(240&o)>>4)),d.push(Lr.encodeChars.charAt((15&o)<<2)),d.push("=");break}s=u.charCodeAt(c++),d.push(Lr.encodeChars.charAt(n>>2)),d.push(Lr.encodeChars.charAt((3&n)<<4|(240&o)>>4)),d.push(Lr.encodeChars.charAt((15&o)<<2|(192&s)>>6)),d.push(Lr.encodeChars.charAt(63&s))}return d.join("")},encodeArray:function(r){for(var n,o,s,u=[],d=0,c=r.length;d<c;){if(n=255&r[d++],d==c){u.push(Lr.encodeChars.charAt(n>>2)),u.push(Lr.encodeChars.charAt((3&n)<<4)),u.push("==");break}if(o=255&r[d++],d==c){u.push(Lr.encodeChars.charAt(n>>2)),u.push(Lr.encodeChars.charAt((3&n)<<4|(240&o)>>4)),u.push(Lr.encodeChars.charAt((15&o)<<2)),u.push("=");break}s=255&r[d++],u.push(Lr.encodeChars.charAt(n>>2)),u.push(Lr.encodeChars.charAt((3&n)<<4|(240&o)>>4)),u.push(Lr.encodeChars.charAt((15&o)<<2|(192&s)>>6)),u.push(Lr.encodeChars.charAt(63&s))}return u.join("")},decode:function(r,n){for(var o,s,u,d,c=this,f=[],m=0,_=r.length;m<_;){do o=Lr.decodeChars[255&r.charCodeAt(m++)];while(m<_&&o==-1);if(o==-1)break;do s=Lr.decodeChars[255&r.charCodeAt(m++)];while(m<_&&s==-1);if(s==-1)break;n?f.push(o<<2|(48&s)>>4):f.push(String.fromCharCode(o<<2|(48&s)>>4));do{if((u=255&r.charCodeAt(m++))==61)return n?f:c.UTF8ToUTF16(f.join(""));u=Lr.decodeChars[u]}while(m<_&&u==-1);if(u==-1)break;n?f.push((15&s)<<4|(60&u)>>2):f.push(String.fromCharCode((15&s)<<4|(60&u)>>2));do{if((d=255&r.charCodeAt(m++))==61)return n?f:c.UTF8ToUTF16(f.join(""));d=Lr.decodeChars[d]}while(m<_&&d==-1);if(d==-1)break;n?f.push((3&u)<<6|d):f.push(String.fromCharCode((3&u)<<6|d))}return n?f:c.UTF8ToUTF16(f.join(""))}},Wu={fromUTF16:function(r){for(var n,o=[],s=0,u=r.length;s<u;)(n=r.charCodeAt(s))>=1&&n<=127?o.push(r.charAt(s)):n>2047?(o.push(String.fromCharCode(224|n>>12&15)),o.push(String.fromCharCode(128|n>>6&63)),o.push(String.fromCharCode(128|63&n))):(o.push(String.fromCharCode(192|n>>6&31)),o.push(String.fromCharCode(128|63&n))),s++;return o.join("")},toUTF16:function(r){for(var n,o,s,u=[],d=0,c=r.length;d<c;)switch((n=r.charCodeAt(d++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u.push(r.charAt(d-1));break;case 12:case 13:o=r.charCodeAt(d++),u.push(String.fromCharCode((31&n)<<6|63&o));break;case 14:o=r.charCodeAt(d++),s=r.charCodeAt(d++),u.push(String.fromCharCode((15&n)<<12|(63&o)<<6|63&s))}return u.join("")}},fd=typeof self<"u"?self:global,h1=fd.btoa?function(r){return fd.btoa(r)}:function(r){for(var n,o,s=String(r),u=0,d=Lr.encodeChars,c="";s.charAt(0|u)||(d="=",u%1);c+=d.charAt(63&n>>8-u%1*8)){if((o=s.charCodeAt(u+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|o}return c},p1=fd.atob?function(r){return fd.atob(r)}:function(r){var n=String(r).replace(/[=]+$/,"");if(n.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,s,u=0,d=0,c="";s=n.charAt(d++);~s&&(o=u%4?64*o+s:s,u++%4)?c+=String.fromCharCode(255&o>>(-2*u&6)):0)s=Lr.encodeChars.indexOf(s);return c};function Bh(r){if(r==null||ee(r)!="object")return r;var n,o,s;if(r instanceof Date)return(n=new Date).setTime(r.getTime()),n;if(r instanceof Array){for(n=[],s=r.length,o=0;o<s;o++)n[o]=Bh(r[o]);return n}if(r instanceof Object){for(o in n={},r)r.hasOwnProperty(o)&&(n[o]=Bh(r[o]));return n}return 0}function il(r){return Math.random().toString(16).substring(2,2+r)}function Bu(r){var n=[il(8),"-",il(4),"-",il(4),"-",il(4),"-",il(8)];return r&&n.unshift(r),n.join("")}var Av=Date.now||function(){return+new Date},g1=function(){return""+Av()};function m1(){for(var r,n=Av()%1e4,o=[],s=0;s<5;s++)r=Math.floor(10*Math.random()),s!=0||r!=0?o.push(r):s=-1;return n<10?o.push("000"):n<100?o.push("00"):n<1e3&&o.push("0"),o.push(n),o.join("")}function v1(r,n){var o;for(o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);return r}function _1(r,n,o,s){return new(o||(o=Promise))(function(u,d){function c(_){try{m(s.next(_))}catch(S){d(S)}}function f(_){try{m(s.throw(_))}catch(S){d(S)}}function m(_){var S;_.done?u(_.value):(S=_.value,S instanceof o?S:new o(function(y){y(S)})).then(c,f)}m((s=s.apply(r,n||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;var Pv=!1;"wakeLock"in navigator&&(Pv=!0);var ds=null;function y1(){Pv&&(ds==null?function(){_1(this,void 0,void 0,Me.mark(function r(){return Me.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.wakeLock.request("screen");case 3:ds=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),ds=null;case 9:case"end":return n.stop()}},r,null,[[0,6]])}))}():ds.release().then(function(){ds=null}))}function hd(){return ds}var pd=Array.prototype;function Uu(r,n,o){return pd.filter.call(r,n,o||this)}function gd(r,n){return pd.indexOf.call(n,r)}function kv(r){var n,o,s=[],u=r.length;for(n=0;n<u;n++){for(o=n+1;o<u;o++)r[n]===r[o]&&(o=++n);s.push(r[n])}return s}var Uh=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/;function Dv(r,n){var o,s=[];for(o=0;o<r.length;o++){var u=r[o];u&&u!=="."&&(u===".."?s.length&&s[s.length-1]!==".."?s.pop():n&&s.push(".."):s.push(u))}return s}function Vh(r){var n=r.charAt(0)==="/",o=r.slice(-1)==="/";return(r=Dv(Uu(r.split("/"),function(s){return!!s}),!n).join("/"))||n||(r="."),r&&o&&(r+="/"),(n?"/":"")+r}var Rv=function(){return he(function r(){de(this,r)},[{key:"resolve",value:function(){var r,n,o="",s=arguments,u=!1;for(r=s.length-1;r>=0&&!u;r--)me(n=s[r])&&n&&(o=n+"/"+o,u=n.charAt(0)==="/");return(u?"/":"")+Dv(Uu(o.split("/"),function(d){return!!d}),!u).join("/")||"."}},{key:"join",value:function(){return Vh(Uu(vt(arguments),function(r){return r&&me(r)}).join("/"))}},{key:"relative",value:function(r,n){r=Vh(r),n=Vh(n);var o,s,u=Uu(r.split("/"),function(m){return!!m}),d=[],c=Uu(n.split("/"),function(m){return!!m}),f=Math.min(u.length,c.length);for(o=0;o<f&&u[o]===c[o];o++);for(s=o;o<u.length;)d.push(".."),o++;return(d=d.concat(c.slice(s))).join("/")}},{key:"basename",value:function(r,n){var o;return o=(r.match(Uh)||[])[3]||"",n&&o&&o.slice(-1*n.length)===n&&(o=o.slice(0,-1*n.length)),o}},{key:"dirname",value:function(r){var n=r.match(Uh)||[],o=n[1]||"",s=n[2]||"";return o||s?(s&&(s=s.substring(0,s.length-1)),o+s):"."}},{key:"extname",value:function(r){return(r.match(Uh)||[])[4]||""}}])}(),jh={}.hasOwnProperty;function S1(r){if(!r||pe(r)!=="object"||r.nodeType||r.window==r)return Tt;var n,o;try{if((o=r.constructor)&&!jh(r,"constructor")&&!jh(o.prototype,"isPrototypeOf"))return Tt}catch{return Tt}for(n in r);return Je(n)||jh(r,n)}var b1=(typeof HTMLElement>"u"?"undefined":ee(HTMLElement))==="object";function Fv(r){return b1?r instanceof HTMLElement:r&&ee(r)==="object"&&(r.nodeType===1||r.nodeType===9)&&typeof r.nodeName=="string"}function T1(r){var n=r;if(Fv(r))for(;!n&&n!=document.body;)n=n.parentNode;else n=0;return!!n}function C1(r,n){return r.lastIndexOf(n,0)===0}function I1(r,n){var o=r.length-n.length;return o>=0&&r.indexOf(n,o)===o}function w1(r){return r==null?pr:String.prototype.trim.call(r)}function E1(r){var n;if(r){for(n in r)if(!Je(n))return!1}return!0}function x1(r){return me(r)?r.replace(/[^\x20-\x7E]/g,""):r}function md(r,n,o){return r.replace(new RegExp(n,"gi"),o)}function Gh(r){return r.charAt(0).toUpperCase()+r.substr(1)}var zh,Hh="none",Ov={getOffset:function(r,n,o){var s,u;r=r||Ze.event;for(var d,c,f=o||r.target,m=0,_=0,S=0,y=0,b=!1,I=Ze.document;f&&!isNaN(f.offsetLeft)&&!isNaN(f.offsetTop);)c=f.scrollLeft,d=f.scrollTop,f.tagName==="BODY"?b?(c=0,d=0):(c|=(s=I.documentElement)===null||s===void 0?void 0:s.scrollLeft,d|=(u=I.documentElement)===null||u===void 0?void 0:u.scrollTop):f.style.position==="fixed"&&(b=!0),m+=f.offsetLeft-c,_+=f.offsetTop-d,f=f.offsetParent;return n&&(S=n.Left,y=n.Top),{x:m=r.clientX-m-S,y:_=r.clientY-_-y}},getElDimensions:function(r,n){var o,s;return r?(o=r.style.display,r.style.display="",s=n?{offsetTop:r.offsetTop,offsetLeft:r.offsetLeft,offsetWidth:r.offsetWidth,offsetHeight:r.offsetHeight}:{clientTop:r.clientTop,clientLeft:r.clientLeft,clientWidth:r.clientWidth?r.clientWidth:parseInt(r.style.width)?parseInt(r.style.width):0,clientHeight:r.clientHeight?r.clientHeight:parseInt(r.style.height)?parseInt(r.style.height):0},r.style.display=o,s):{offsetTop:0,offsetLeft:0,offsetWidth:0,offsetHeight:0}}};function vd(r){return document.getElementById(r)}function A1(r){var n=me(r)?vd(r):r;n&&(n.length>0&&(n=n[0]),n.style.display=Hh)}function P1(r){var n=me(r)?vd(r):r;n&&(n.length>0&&(n=n[0]),n.style.display=pr)}function Nv(r){var n=me(r)?vd(r):r;n&&(n.length>0&&(n=n[0]),n.style.display===Hh?n.style.display=pr:n.style.display=Hh)}function k1(r){if(r)for(;r.firstChild;)r.removeChild(r.firstChild)}function D1(r){return encodeURIComponent(String(r))}function R1(r){return decodeURIComponent(r.replace(/\+/g," "))}if(window.trustedTypes)try{zh=window.trustedTypes.createPolicy("d-create-script",{createScriptURL:function(r){return r}})}catch{}function _d(r){return zh?zh.createScriptURL(r):r}var Mv=!0,Vu=document,F1=Vu&&Vu.documentElement,wa=Vu.getElementsByTagName("head")[0]||F1,ol=Vu.createElement("script").readyState?function(r,n){var o=r.onreadystatechange;r.onreadystatechange=function(){var s=r.readyState;s==="loaded"||s==="complete"?(r.onreadystatechange=null,o&&o(),n.call(this,{type:"load",path:[r]})):s==="loading"||n.call(this,{type:"error",path:[r]})}}:function(r,n){r.addEventListener("load",n,Tt),r.addEventListener("error",n,Tt)};function $h(r,n,o){return al(r,n,!1,o)}function al(r,n,o,s){var u,d,c=s;if(oe(c)||(c=function(){}),me(r)&&r!=pr)return u=Vu.createElement("script"),d=["",r].join(pr),u.src=_d(d),n&&(u.async=Mv),u.charset="utf-8",ol(u,c),o?wa.appendChild(u):wa.insertBefore(u,wa.firstChild),u;c()}function O1(r,n,o){return Kh(r,n,!1,o)}function Kh(r,n,o,s){var u=s;if(oe(u)||(u=function(){}),ue.bJSDom)u("ok");else if(mt(r)){var d=r.length,c=function(f){f&&f.type=="load"?d--:(f&&f.type=="error"&&Yr(["Failed to load resource: ",f.target.src,"."].join("")),u()),d<=0&&u("ok")};d<=0?u("ok"):hr(r,function(f){al(f,n,o,c)})}else u()}function Yh(r,n){return yd(r,!1,n)}function yd(r,n,o){var s,u=o;if(oe(u)||(u=!1),me(r)&&r!=pr){if(!ue.bJSDom)return(s=Vu.createElement("link")).href=_d(r),s.rel="stylesheet",s.async=Mv,u&&ol(s,u),n?wa.appendChild(s):wa.insertBefore(s,wa.firstChild),s;u&&u()}else u&&u()}function qs(r,n){return ju(r,!1,n)}function ju(r,n,o){if(ue.bJSDom)o&&o("ok");else if(mt(r)){var s=r.length,u=function(d){d&&d.type=="load"&&s--,d&&d.type!="load"&&(d&&d.type=="error"&&Yr(["Failed to load resource: ",d.target.href,"."].join("")),o()),s<=0&&o("ok")};hr(r,function(d){yd(d,n,u)})}else o&&o()}function Lv(r){var n,o;if(!ue.bJSDom){var s=document;if(s&&me(o=r.body)&&o!=pr){(n=s.createElement("script")).charset="utf-8",ue.bIE?n.text=o:n.appendChild(s.createTextNode(o)),r.language?n.language=r.language:n.language="javascript",r.type?n.type=r.type:n.type="text/javascript";var u=s&&s.documentElement,d=s.getElementsByTagName("head")[0]||u;d.insertBefore(n,d.firstChild)}}}function Wv(r){Lv({body:r})}function N1(r){Lv({body:r,language:"vbscript",type:"text/vbscript"})}function Bv(r){return r!=null&&r==r.window}var j,fs,Qh,M1=function(){return he(function r(){de(this,r),this.nil=void 0,this.bNode=!1,this.noop=function(){},this.mix=v1,this.clone=Bh,this.keys=Object.keys,this.now=g1,this.getFormatedNow=Ae,this.getRandom=m1,this.guid=Bu,this.get=vd,this.show=P1,this.hide=A1,this.toggle=Nv,this.empty=k1,this.stringify=Ze.JSON.stringify,this.parse=Ze.JSON.parse,this.isDef=He,this.isUndef=Je,this.isUndefined=Je,this.isNull=Ge,this.isNaN=isNaN,this.isFunction=oe,this.isString=me,this.isObject=Se,this.isBoolean=et,this.isNumber=Ke,this.isArray=mt,this.type=pe,this.isPlainObject=S1,this.isDOM=Fv,this.isDOMInBody=T1,this.each=hr,this.getLogger=nr,this.setLogger=jt,this.log=xr,this.error=Yr,this.warn=cr,this.info=Un,this.filter=Uu,this.indexOf=gd,this.uniq=kv,this.startsWith=C1,this.endsWith=I1,this.replaceAll=md,this.upperCaseFirst=Gh,this.removeNonPrintableChar=x1,this.trim=w1,this.makeArray=vt,this.isEmptyObject=E1,this.Path=new Rv,this.DOM=Ov,this.isWindow=Bv,this.obj={customEvent:Ca},this.addEventListener=Fr,this.removeEventListener=Qr,this.stopPropagation=no,this.fireEvent=oi,this.base64=f1,this.utf8=Wu,this.btoa=h1,this.atob=p1,this.asyncQueue=Jt,this.sizzle=nl,this.toggleWakeLock=y1,this.getWakeLock=hd,this.urlEncode=D1,this.urlDecode=R1,this.scriptOnload=ol,this.addAllCss=ju,this.getAllCss=qs,this.addCss=yd,this.getCss=Yh,this.addScripts=Kh,this.getScripts=O1,this.addScript=al,this.getScript=$h,this.addJS=Wv,this.addVBS=N1},[{key:"debug",get:function(){return xt.debug},set:function(r){xt.debug=r}},{key:"showConsoleError",get:function(){return xt.debug},set:function(r){xt.showConsoleError=r}}])}(),p=new M1,Ce=20230515,Ue=!!((typeof global>"u"?"undefined":R(global))=="object"&&global.process&&global.process.release&&global.process.release.name&&typeof HTMLCanvasElement>"u"),bt=Ue?global:self||{},U=bt.Dynamsoft;function Wt(r){return Math.floor(r)}function ut(r,n,o){return(n=X(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function tr(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function Ut(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}function io(r){var n,o,s="0x";if(/^(rgb|RGB)/.test(r)){var u=r.replace(/[^\d,.]/g,"").split(",");for(o=0;o<3;++o)(n=Number(u[o]).toString(16)).length==1&&(n="0"+n),s+=n;u.length==4?((n=Math.round(255*Number(u[o])).toString(16)).length==1&&(n="0"+n),s+=n):s+="ff"}else if(r=="transparent")s+="00000000";else if(/^#[0-9a-fA-F]{6}$/.test(r))s+=r.replace(/#/,"")+"ff";else if(/^#[0-9a-fA-F]{3}$/.test(r)){for(o=0;o<3;++o)s+=r[o]+r[o];s+="ff"}else s="-1";return Number(s)}function Ni(r){if(r>4294967295||r<0)return null;var n;if(ue.bHTML5Edition)n="rgba("+Math.floor(r/16777216)+","+Math.floor(r/65536)%256+","+Math.floor(r/256)%256+","+r%256/255+")";else if(r%256==0)n="transparent";else{for(n=Math.floor(r/256).toString(16);n.length!=6;)n="0"+n;n="#"+n}return n}function sl(r){var n,o=(r=r||window.event).wheelDelta,s=r.detail;return o&&(n=o/120),s&&(n=-(s%3==0?s/3:s)),n}U?U.Lib||(U.Lib={}):(U={Lib:{},DWT:{}},bt&&(bt.Dynamsoft=U)),U.navInfoSync=ue,j=p.mix(U.Lib,p),(fs=U).DWT||(fs.DWT={}),fs.DWT.LTS||(fs.DWT.LTS={}),fs.Lib.UI||(fs.Lib.UI={}),fs.Lib.html5||(fs.Lib.html5={}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pr)}),Qh={registedClass:[],registedObjs:[]};var Ea={LEFT:0,MIDDLE:1,RIGHT:2};function Xh(r){var n=r||window.event;return n.which==null?n.button<2?Ea.LEFT:n.button==4?Ea.MIDDLE:Ea.RIGHT:n.which<2?Ea.LEFT:n.which==2?Ea.MIDDLE:Ea.RIGHT}var Sd,L1,W7=/[\-#$\^*()+\[\]{}|\\,.?\s]/g,W1={"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},B1={};function B7(r){return r.replace(/\\u([a-f\d]{4})/gi,function(n,o){return String.fromCharCode(parseInt(o,16))})}function U7(r){return(r+"").replace(function(){if(Sd)return Sd;var n=pr;return p.each(W1,function(o){n+=o+"|"}),n=n.slice(0,-1),Sd=new RegExp(n,"g")}(),function(n){return B1[n]})}function V7(r){return r.replace(W7,"\\$&")}function iR(r){return r.replace(function(){if(L1)return L1;var n=pr;return p.each(B1,function(o){n+=o+"|"}),n+="&#(\\d{1,5});",L1=new RegExp(n,"g")}(),function(n,o){return W1[n]||String.fromCharCode(+o)})}p.each(W1,function(r,n){B1[r]=n});var U1,Uv,bd=window;bd&&p.isFunction(bd.__zone_symbol__Promise)&&(Uv=bd.__zone_symbol__Promise);var j7=he(function r(){de(this,r)});function G7(r){return(r=r||window.event).which==null?r.which=r.button<2?1:r.button==4?2:3:r.which=r.which<2?1:r.which==2?2:3,r}function z7(r,n){return r.currentStyle?r.currentStyle[n]:window.getComputedStyle?document.defaultView.getComputedStyle(r,null)[n]:null}U1=self&&self.Promise?self.Promise:bd&&bd.Promise?bd.Promise:j7,Uv||(Uv=U1);function oR(r){var n=ee(r);return r==null||n!=="object"&&n!=="function"}function H7(r,n,o,s){n=n||"&",o=o||"=",p.isUndefined(s)&&(s=ir);var u=[];return p.each(r,function(d,c){var f=p.urlEncode(c);oR(d)?(u.push(f),p.isDef(d)&&u.push(o,p.urlEncode(d+pr)),u.push(n)):p.isArray(d)&&d.length&&p.each(d,function(m){oR(m)&&(u.push(f,s?p.urlEncode("[]"):pr),p.isDef(m)&&u.push(o,p.urlEncode(m+pr)),u.push(n))})}),u.pop(),u.join(pr)}function $7(r,n,o){if(!p.isString(r)||!(r=p.trim(r)))return{};n=n||"&",o=o||"=";for(var s,u,d,c={},f=p.urlDecode,m=r.split(n),_=0,S=m.length;_<S;++_){if((s=p.indexOf(o,m[_]))===-1)u=f(m[_]),d=void 0;else{u=f(m[_].substring(0,s)),d=m[_].substring(s+1);try{d=f(d)}catch(y){p.error("decodeURIComponent error : "+d),p.error(y)}p.endsWith(u,"[]")&&(u=u.substring(0,u.length-2))}u in c?p.isArray(c[u])?c[u].push(d):c[u]=[c[u],d]:c[u]=d}return c}p.each({"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},function(r,n){});var or,aR=he(function r(n){de(this,r),ut(this,"tagName",void 0),ut(this,"attr",void 0),ut(this,"childNodes",void 0),this.tagName=n,this.attr={},this.childNodes=[]}),V1=he(function r(n){de(this,r),ut(this,"value",void 0),this.value=n||""}),Td=new WeakSet,K7=function(){return he(function r(){de(this,r),tr(this,Td),ut(this,"stack",void 0),ut(this,"stacks",void 0),this.stack=[],this.stacks=[]},[{key:"getStacks",value:function(){return this.stacks}},{key:"receiveInput",value:function(r){var n=this.stack;if(r.type==="startTag")n.push(new aR(r.value));else if(r.type==="attr"){var o,s,u=r.value,d=u.indexOf("=");d>-1&&(o=u.substring(0,d),s=u.charAt(d+1)==='"'||u.charAt(d+1)==="'"?u.substring(d+2,u.length-1):u.substring(d+1),n[n.length-1].attr[o]=s)}else if(r.type==="text")n.length?n[n.length-1].childNodes.push(new V1(r.value)):this.stacks.push(new V1(r.value));else if(r.type==="endTag"){var c=n.pop();n.length?n[n.length-1].childNodes.push(c):this.stacks.push(c)}}},{key:"getOutPutHtml",value:function(){var r,n=document.createDocumentFragment(),o=this.stacks;for(r=0;r<o.length;r++){var s=o[r],u=Ut(Td,this,sR).call(this,s);u&&n.appendChild(u)}return n}}])}();function Y7(r){return r.replace(/-([a-z])/g,function(n,o){return o.toUpperCase()})}function Q7(r){var n={};if(!r)return n;var o,s=r.split(";");for(o=0;o<s.length;o++){var u=s[o].split(":");if(u.length===2){var d=u[0].trim(),c=u[1].trim();c!==""&&(n[d=Ut(Td,this,Y7).call(this,d)]=c)}}return n}function X7(r,n){var o=Ut(Td,this,Q7).call(this,n);for(var s in o)r.style[s]=o[s]}function sR(r){if(r instanceof aR){var n=document.createElement(r.tagName);for(var o in r.attr)o!==""&&r.attr[o]!==""&&(o==="style"?Ut(Td,this,X7).call(this,n,r.attr[o]):n.setAttribute(o,r.attr[o]));if(r.childNodes.length)for(var s=0;s<r.childNodes.length;s++){var u=r.childNodes[s];n.appendChild(Ut(Td,this,sR).call(this,u))}return n}if(r instanceof V1)return document.createTextNode(iR(r.value))}(function(r){r[r.None=0]="None",r[r.AttrKey=1]="AttrKey",r[r.AttrKeyQuoteStart=2]="AttrKeyQuoteStart",r[r.AttrKeyQuoteEnd=3]="AttrKeyQuoteEnd",r[r.AttrValueQuoteStart=4]="AttrValueQuoteStart",r[r.AttrSpace=5]="AttrSpace",r[r.AttrSplite=6]="AttrSplite"})(or||(or={}));var j1,J7=he(function r(n,o){de(this,r),ut(this,"allChars",void 0),ut(this,"curIndex",void 0),ut(this,"state",void 0),ut(this,"attrStatus",void 0),ut(this,"attrQuoteChar",void 0),this.allChars=n,this.curIndex=0,this.state=o,this.attrStatus=or.None,this.attrQuoteChar=""}),ai=new WeakSet,q7=function(){return he(function r(n,o){de(this,r),tr(this,ai),ut(this,"token",void 0),ut(this,"tokens",void 0),ut(this,"htmlString",void 0),ut(this,"tokenHandler",void 0),ut(this,"thisStartTagName",void 0),ut(this,"attrStatus",void 0),this.token=[],this.tokens=[],this.attrStatus=or.None,this.thisStartTagName=null,p.isString(n)?this.htmlString=n:n&&(this.htmlString=n.toString()),this.tokenHandler=o},[{key:"start",value:function(r){var n=r.allChars[r.curIndex];return n==="<"?(this.token.push(n),r.state=this.tagState,r):this.textState(r)}},{key:"textState",value:function(r){var n=r.allChars[r.curIndex];return n==="<"?(Ut(ai,this,xo).call(this,"text",this.token.join("")),this.token=[],this.start(r)):(this.token.push(n),r.state=this.textState,r)}},{key:"tagState",value:function(r){var n=r.allChars[r.curIndex];return this.token.push(n),n==="/"?(r.state=this.endTagState,r):(r.state=this.startTagState,r)}},{key:"startTagState",value:function(r){var n=r.curIndex,o=r.allChars,s=o[n];if(s.match(/[a-zA-Z]/))return this.token.push(s),r.state=this.startTagState,r;if(s===" "){if(this.thisStartTagName=this.token.join("").substring(1),Ut(ai,this,xo).call(this,"startTag",this.thisStartTagName.toLowerCase()),this.token=[],n<o.length-2){var u=o[n+1],d=o[n+2];if(u==="/"&&d===">")return Ut(ai,this,xo).call(this,"endTag",this.thisStartTagName),this.token=[],r.state=this.start,r.curIndex+=2,r}return r.attrQuoteChar="",r.attrStatus=or.None,r.state=this.attrState,r}return s===">"?(this.thisStartTagName=this.token.join("").substring(1),Ut(ai,this,xo).call(this,"startTag",this.thisStartTagName.toLowerCase()),this.token=[],r.state=this.start,Ut(ai,this,G1).call(this)&&r.curIndex++,r):void 0}},{key:"attrState",value:function(r){var n=r.curIndex,o=r.allChars,s=o[n],u=!1,d=!1;if(r.attrStatus==or.AttrSplite?s.match(/[0-9|^<&;#]/)&&(u=!0):r.attrStatus!=or.AttrKey&&r.attrStatus!=or.AttrKeyQuoteStart||(s.match(/[0-9]/)||s==="."||s==="-")&&(d=!0),s.match(/[:|a-z|A-Z|_]/)||u||d){if(r.attrStatus==or.None||r.attrStatus==or.AttrKey||r.attrStatus==or.AttrKeyQuoteStart)return this.token.push(s),r.state=this.attrState,r.attrStatus==or.None&&(r.attrStatus=or.AttrKey),r;if(r.attrStatus==or.AttrSpace)return this.token=[s],r.state=this.attrState,r.attrStatus=or.AttrKey,r;var c;if(r.attrStatus==or.AttrSplite){for(c=n;c<o.length;c++)if(this.token.push(o[c]),c+1<o.length){var f=o[c+1],m=!1,_=!1;if(f===" "||f===">"?m=!0:f==="/"&&c+2<o.length&&o[c+2]===">"&&(m=!0,_=!0),m)return r.curIndex=c,r.attrStatus=or.None,r.attrQuoteChar="",Ut(ai,this,xo).call(this,"attr",this.token.join("")),this.token=[],r.state=this.attrState,f===">"&&Ut(ai,this,G1).call(this)&&(this.token=[],r.curIndex++,r.state=this.start),_&&(Ut(ai,this,xo).call(this,"endTag",this.thisStartTagName),this.token=[],r.curIndex+=2,r.state=this.start),r}}}if(s==="="&&(r.attrStatus==or.AttrKey||r.attrStatus==or.AttrKeyQuoteEnd||r.attrStatus==or.AttrSpace))return this.token.push(s),r.state=this.attrState,r.attrStatus=or.AttrSplite,r;if(s.match(/['"]/)){if(r.attrStatus==or.AttrValueQuoteStart||r.attrStatus==or.AttrKeyQuoteStart){if(s===r.attrQuoteChar)return r.attrStatus==or.AttrValueQuoteStart?(this.token.push(s),Ut(ai,this,xo).call(this,"attr",this.token.join("")),this.token=[],r.attrStatus=or.None):r.attrStatus=or.AttrKeyQuoteEnd,r.attrQuoteChar="",r.state=this.attrState,r;this.token.push(s)}else r.attrStatus==or.None?r.attrStatus=or.AttrKeyQuoteStart:r.attrStatus==or.AttrSplite&&(r.attrStatus=or.AttrValueQuoteStart,this.token.push(s)),r.attrQuoteChar=s;return r.state=this.attrState,r}if(r.attrStatus==or.AttrValueQuoteStart){if(this.token.push(s),s==="\\"&&n<o.length-1){var S=o[n+1];this.token.push(S),r.curIndex++}return r.state=this.attrState,r}if(s===" "){if(r.attrStatus==or.AttrKey||r.attrStatus==or.AttrKeyQuoteEnd)return r.attrStatus=or.AttrSpace,r.state=this.attrState,r;if(r.attrStatus==or.None||r.attrStatus==or.AttrSplite||r.attrStatus==or.AttrSpace)return r.state=this.attrState,r}return s==="/"?n<o.length-1&&o[n+1]===">"?(Ut(ai,this,xo).call(this,"attr",this.token.join("")),Ut(ai,this,xo).call(this,"endTag",this.thisStartTagName),this.token=[],r.state=this.start,r.curIndex++,r):(this.token.push(s),r.state=this.attrState,r):s===">"?(Ut(ai,this,xo).call(this,"attr",this.token.join("")),this.token=[],Ut(ai,this,G1).call(this),r.state=this.start,r):(r.state=this.attrState,r)}},{key:"endTagState",value:function(r){var n=r.allChars[r.curIndex];if(n.match(/[a-zA-Z]/))return this.token.push(n.toLowerCase()),r.state=this.endTagState,r;if(n===">"){var o=this.token.join("").toLowerCase();return o=o.replace("</",""),Ut(ai,this,xo).call(this,"endTag",o),this.token=[],r.state=this.start,r}}},{key:"doParse",value:function(){if(this.htmlString){var r=this.htmlString.split(""),n=new J7(r,this.start);do n.state.bind(this)(n),n.curIndex++;while(n.curIndex<r.length)}}},{key:"getTokens",value:function(){return this.tokens}}])}();function xo(r,n){var o={type:r,value:n};r=="attr"&&n===""||(this.tokens.push(o),this.tokenHandler&&this.tokenHandler(o))}function G1(){if(this.thisStartTagName){if(this.thisStartTagName=="img")return Ut(ai,this,xo).call(this,"endTag","img"),!0;if(this.thisStartTagName=="input")return Ut(ai,this,xo).call(this,"endTag","input"),!0}return!1}function z1(r,n){if(document.body)if(ue.bIE)r.innerHTML=n;else{var o=new K7;new q7(n,o.receiveInput.bind(o)).doParse();var s=o.getOutPutHtml();s.children.length>0&&function(u,d){for(;u.firstChild;)u.removeChild(u.firstChild);for(;d.firstChild;){var c=d.firstChild;d.removeChild(c),u.appendChild(c)}}(r,s)}}var uR="ds-dwt-loaderBar",H1="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjAiIHdpZHRoPSIxMDBweCIgaGVpZ2h0PSIxMDBweCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjE2IiBmaWxsPSIjZmU4ZTE0Ii8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iMTQuMzQ0IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSg0NSA2NCA2NCkiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjY0IiByPSIxMi41MzEiIGZpbGw9IiNmZThlMTQiIHRyYW5zZm9ybT0icm90YXRlKDkwIDY0IDY0KSIvPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjEwLjc1IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgxMzUgNjQgNjQpIi8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iMTAuMDYzIiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgNjQgNjQpIi8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iOC4wNjMiIGZpbGw9IiNmZThlMTQiIHRyYW5zZm9ybT0icm90YXRlKDIyNSA2NCA2NCkiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjY0IiByPSI2LjQzOCIgZmlsbD0iI2ZlOGUxNCIgdHJhbnNmb3JtPSJyb3RhdGUoMjcwIDY0IDY0KSIvPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjUuMzc1IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgzMTUgNjQgNjQpIi8+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIHZhbHVlcz0iNDUgNjQgNjQ7OTAgNjQgNjQ7MTM1IDY0IDY0OzE4MCA2NCA2NDsyMjUgNjQgNjQ7MjcwIDY0IDY0OzMxNSA2NCA2NDswIDY0IDY0IiBjYWxjTW9kZT0iZGlzY3JldGUiIGR1cj0iNzIwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+PC9nPjwvc3ZnPg==";function cR(r){var n,o,s,u="",d="230px",c="240px",f="",m="";return r&&(r.background&&(u=";background:"+r.background),r.width&&(d=r.width),r.height&&(c=r.height),r.imageSource&&(n=r.imageSource)),n||(n=H1),s=parseInt(d)/2,p.isNumber(s)&&s>0&&(m=";width:"+s+"px"),o=parseInt(c)/2,p.isNumber(o)&&o>0&&(f=";height:"+o+"px"),['<div align="center" ','class="',uR,'" ','style="margin:0 auto;max-width:',d,";max-height:",c,";line-height:",c,u,'"><img style="user-select:none',f,m,';max-width:230px;max-height:240px;vertical-align:middle" src="',n,'" draggable="false" /></div>'].join("")}var Ao,Jh=window,on=document,lR=5e5;function Z7(r,n){for(var o=0;o<r.length;++o)if(r[o]==n)return ir;return Tt}function e9(r){var n;return Jh.getComputedStyle?n=Jh.getComputedStyle(r):r.currentStyle&&(n=r.currentStyle),n&&n.position!="absolute"||r.style.top!="auto"&&r.style.top!=""||r.style.bottom!="auto"&&r.style.bottom!=""?Tt:!function(o){for(var s=0;s<on.styleSheets.length;++s){var u=on.styleSheets[s],d=void 0,c=void 0,f=void 0,m=void 0;try{d=u.cssRules,c=on.querySelectorAll}catch{}if(d&&c)for(var _=0;_<d.length;++_){f=d[_],m=Tt;try{m=c(f.selectorText)}catch{}if(m&&Z7(m,o)){var S=f.style.getPropertyValue("top"),y=f.style.getPropertyValue("bottom");if(S&&S!="auto"||y&&y!="auto")return ir}}}return Tt}(r)}function dR(r){var n=on.createEvent("MouseEvents");return n==null||n.initMouseEvent(r.type,r.bubbles,r.cancelable,Jh,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget),n}function fR(r){var n;(n=on.body)===null||n===void 0||n.dispatchEvent(dR(r))}function hR(r,n){if(Ao){var o=Ao.style;o.backgroundColor=["rgba(",n,",",n,",",n,",",r,")"].join(""),o.filter=["alpha(opacity=",100*r,")"].join(""),o.opacity=o.MozOpacity=r}}function t9(r,n){Ao===j1?function(o,s){if(Ao=on.createElement("div")){var u=Ao.style;if(u.position="fixed",u.display="block",u.left=u.top=u.margin=u.padding=0,hR(o,s),u.zIndex=lR,u.width=u.height="100%",ue.bIE&&ue.IEVersion<10){var d=on.createElement("iframe");d.style.background="none",d.style.margin="0px auto",d.style.border="0",d.style.width="100%",d.style.height="100%",d.style.position="relative",d.style.zIndex="9999",d.src="javascript:''",Ao.appendChild(d)}on.createEvent&&p.addEventListener(Ao,"click",fR)}}(r,n):hR(r,n),on.body&&!on.body.contains(Ao)&&on.body.appendChild(Ao)}var $1,Ci,Gu={pendingDialogStack:[],pendingDialogTopmostStack:[],opacity:.1,grayHex:128,_updateStacking:function(r){var n,o;(n=this.pendingDialogStack).length!=0?(r!=1&&t9(Gu.opacity,Gu.grayHex),o=lR,p.each(n,function(s){o++,s._dlgInfo.mask&&(s._dlgInfo.mask.style.zIndex=o++),s.style.zIndex=o})):Ao!==j1&&(p.removeEventListener(Ao,"click",fR),on&&on.body&&on.body.removeChild(Ao),Ao=j1)},pushDialog:function(r,n){var o,s,u=this;if(r.getBoundingClientRect(),(s=r.bTopmost?u.pendingDialogTopmostStack:u.pendingDialogStack).length>=1e3)p.error("Too many modal dialogs.");else{if((o=on.createElement("div")).style.zIndex="10000",o.className="dynamsoft-backdrop",n==1?(o.style.left=0,o.style.top=0,o.style.position="absolute"):(o.style.left=0,o.style.top=0,o.style.width="100%",o.style.height="100%",o.style.position="fixed"),on.createEvent&&p.addEventListener(o,"click",function(c){if(r.dispatchEvent){var f=dR(c);r.dispatchEvent(f)}}),r.parentNode.insertBefore(o,r.nextSibling),r._dlgInfo.mask=o,r.bTopmost){var d=501e3;r._dlgInfo.mask&&(r._dlgInfo.mask.style.zIndex=d),r.style.zIndex=501001}s.push(r),u._updateStacking(n)}},removeDialog:function(r){var n,o,s,u=this;s=r.bTopmost?u.pendingDialogTopmostStack:u.pendingDialogStack,(n=p.isArray(s)?p.indexOf(r,s):-1)!=-1&&(s.splice(n,1),(o=r._dlgInfo.mask).parentNode&&o.parentNode.removeChild(o),r._dlgInfo.mask=null,u._updateStacking())}};function pR(r,n){var o,s,u,d,c,f,m=this,_=!0,S=n==1?"absolute":"fixed",y="50%",b="50%",I="",x="",P=null;if(m._dlgInfo&&m._dlgInfo.styleConfig){var L=m._dlgInfo.styleConfig;p.isString(L.position)&&(S=L.position,_=!1),(p.isString(L.left)||p.isNumber(L.left))&&(b=L.left,_=!1),(p.isString(L.top)||p.isNumber(L.top))&&(y=L.top,_=!1),(p.isString(L.width)||p.isNumber(L.width))&&(I=L.width,_=!1),(p.isString(L.height)||p.isNumber(L.height))&&(x=L.height,_=!1),p.isString(L.transform)&&(P=L.transform,_=!1)}m.open?p.error("showDialog called on open dialog."):(m.open=ir,m.removeAttribute("closed"),m.setAttribute("open","open"),_?o=ue.bIE&&S=="fixed"?{display:"block",position:"fixed",top:"35%",margin:"0 auto",left:0,right:0}:{display:"block",position:S,left:"50%",top:"50%",transform:"translate(-50%,-50%)"}:(o={display:"block",position:S,left:b,top:y,width:I,height:x},P&&(o.transform=P)),m.tagName=="DIALOG"?(ue.bIE?o.margin="0 auto":o.margin="0",o.broderRadius="6px",o.boxShadow="2px 2px 0 0 rgba(0,0,0,.05)",o.webkitBoxSizing="border-box",o.boxSizing="border-box"):(o.border="0",ue.bIE?o.margin="0 auto":o.margin="0",o.webkitBoxSizing="border-box",o.boxSizing="border-box"),p.mix(m.style,o),e9(m)&&(s=m,f=(((u=on.body)===null||u===void 0?void 0:u.scrollTop)||((d=on.documentElement)===null||d===void 0?void 0:d.scrollTop)||0)+((Jh.innerHeight?Jh.innerHeight:(c=on.documentElement)===null||c===void 0?void 0:c.clientHeight)-s.offsetHeight)/2,s.style.top=f+"px",s._dlgInfo.isTopOverridden=ir),r&&(m._dlgInfo.modal=ir,Gu.pushDialog(m,n)))}function r9(r){var n=this;return n.open||p.error("closeDialog called on closed dialog."),n.open=Tt,n.removeAttribute("open"),n.setAttribute("closed","closed"),n.style.display="none",r!==void 0&&(n.returnValue=r),n._dlgInfo.isTopOverridden&&(n.style.top="auto"),n._dlgInfo.modal&&Gu.removeDialog(n),n.returnValue}function gR(r){p.isNumber(r.opacity)?Gu.opacity=r.opacity:Gu.opacity=.1,p.isNumber(r.grayHex)?Gu.grayHex=r.grayHex:Gu.grayHex=128}function n9(r){var n,o,s,u;if(!Ci.dlgMask){var d,c,f,m,_=!1;if(r&&(m={},(p.isString(r.top)||p.isNumber(r.top))&&(m.top=r.top),(p.isString(r.left)||p.isNumber(r.left))&&(m.left=r.left),p.isString(r.position)&&(m.position=r.position),r.confined&&(document.getElementsByClassName("dwt-viewer-imageEditor-fullScreen")[0]||(_=r.confined)),(p.isString(r.width)||p.isNumber(r.width))&&(n=r.width),(p.isString(r.height)||p.isNumber(r.height))&&(o=r.height),p.isString(r.background)&&(s=r.background),p.isString(r.imageSource)&&(u=r.imageSource),gR(r),_&&r.wrapperEl&&(c=r.wrapperEl,p.isString(c)&&(c=on.getElementById(c)))),!u){var S;if(window&&window.Dynamsoft){var y=window.Dynamsoft.DWT;y&&y.CustomizableDisplayInfo&&(S=y.CustomizableDisplayInfo)}S?(ue.bIE&&p.isString(S.loaderBarSourceIE)&&S.loaderBarSourceIE!=""&&(u=S.loaderBarSourceIE),!u&&p.isString(S.loaderBarSource)&&S.loaderBarSource!=""&&(u=S.loaderBarSource)):u=H1}if(c&&(f=c.getBoundingClientRect(),c.style.position="relative"),d=on.createElement("div")){var b;d.className="dynamsoft-dialog-wrap",z1(d,cR({width:n,height:o,backgroundColor:s,imageSource:u})),c?(c.appendChild(d),d.style.position="absolute",d.style.top="50%",d.style.left="50%",d.style.transform="translate(-50%, -50%)"):(b=on.body)===null||b===void 0||b.appendChild(d),_&&f&&(window.onresize?Ci.preOnresize=window.onresize:Ci.preOnresize=!1,window.onscroll?Ci.preOnscroll=window.onscroll:Ci.preOnscroll=!1),Ci.dlgMask=d,$1.setup(d,_),m&&(d._dlgInfo.styleConfig=m),c&&(d._dlgInfo.wrapperEl=c),d.showModal()}}}function i9(){var r=Ci.dlgMask;if(r){var n;r.close(),r._dlgInfo&&r._dlgInfo.wrapperEl?(r._dlgInfo.wrapperEl.removeChild(r),r._dlgInfo.wrapperEl=null):(n=on.body)===null||n===void 0||n.removeChild(r),Ci.dlgMask=!1}Ci.preOnresize?window.onresize=Ci.preOnresize:window.onresize=null,Ci.preOnresize=!1,Ci.preOnscroll?window.onscroll=Ci.preOnscroll:window.onscroll=null,Ci.preOnscroll=!1}$1={setup:function(r,n){r.show=pR.bind(r,Tt,n),r.showModal=pR.bind(r,ir,n),r.close=r9.bind(r),r._dlgInfo={}}},Ci={dlgMask:!1,preOnresize:!1,preOnscroll:!1};var o9=function(){return he(function r(n){de(this,r),ut(this,"div",void 0),ut(this,"container",void 0),ut(this,"docElem",void 0),ut(this,"opacity",void 0),ut(this,"cssFloat",void 0),ut(this,"clearCloneStyle",void 0),ut(this,"boxSizing",void 0),ut(this,"pixelPositionVal",void 0),ut(this,"pixelMarginRightVal",void 0),ut(this,"boxSizingReliableVal",void 0),ut(this,"pixelBoxStylesVal",void 0),ut(this,"reliableHiddenOffsetsVal",void 0),ut(this,"reliableMarginRightVal",void 0),ut(this,"reliableMarginLeftVal",void 0),ut(this,"leadingWhitespace",void 0),ut(this,"tbody",void 0),ut(this,"htmlSerialize",void 0);var o=n.createElement("div"),s=n.createElement("div");if(s.style){this.div=s,this.container=o,this.docElem=n.documentElement,s.textContent=" ";var u=document.createElement("link");s.appendChild(u);var d=document.createElement("table");s.appendChild(d);var c=document.createElement("a");c.href="/a",s.appendChild(c);var f=document.createElement("input");for(f.type="checkbox",s.appendChild(f),this.leadingWhitespace=s.firstChild.nodeType===3,this.tbody=!s.getElementsByTagName("tbody").length,this.htmlSerialize=!!s.getElementsByTagName("link").length,s.style.cssText="float:left;opacity:.5",this.opacity=s.style.opacity==="0.5",this.cssFloat=!!s.style.cssFloat,s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",this.clearCloneStyle=s.style.backgroundClip==="content-box",(o=document.createElement("div")).style.cssText="border:0;width:60px;height:0;top:0;left:-11111px;padding:0;margin-top:1px;position:absolute";s.firstChild;)s.removeChild(s.firstChild);o.appendChild(s),this.boxSizing=s.style.boxSizing===""||s.style.MozBoxSizing===""||s.style.WebkitBoxSizing===""}},[{key:"reliableHiddenOffsets",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableHiddenOffsetsVal}},{key:"boxSizingReliable",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.boxSizingReliableVal}},{key:"pixelBoxStyles",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelBoxStylesVal}},{key:"pixelMarginRight",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelMarginRightVal}},{key:"pixelPosition",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelPositionVal}},{key:"reliableMarginRight",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableMarginRightVal}},{key:"reliableMarginLeft",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableMarginLeftVal}},{key:"roundPixelMeasures",value:function(r){return Math.round(parseFloat(r))}},{key:"computeStyleTests",value:function(){var r,n,o=this.div;if(this.docElem&&this.docElem.appendChild(this.container),o.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;overflow:scroll;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:60%",this.pixelPositionVal=this.boxSizingReliableVal=this.reliableMarginLeftVal=this.pixelBoxStylesVal=!1,this.pixelMarginRightVal=this.reliableMarginRightVal=!0,window.getComputedStyle)return n=window.getComputedStyle(o),this.pixelPositionVal=(n||{}).top!=="1%",this.reliableMarginLeftVal=(n||{}).marginLeft==="2px",this.boxSizingReliableVal=(n||{width:"4px"}).width==="4px",o.style.marginRight="50%",this.pixelMarginRightVal=(n||{marginRight:"4px"}).marginRight==="4px",(r=o.appendChild(document.createElement("div"))).style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",o.style.width="1px",this.reliableMarginRightVal=!parseFloat((window.getComputedStyle(r)||{}).marginRight),o.style.right="60%",this.pixelBoxStylesVal=this.roundPixelMeasures(n.right)===36,o&&o.removeChild(r),void(o=null);if(o.style.display="none",this.reliableHiddenOffsetsVal=o.getClientRects().length===0,this.reliableHiddenOffsetsVal){o.style.display="";var s=document.createElement("table"),u=document.createElement("tr"),d=document.createElement("td");u.appendChild(d);var c=document.createElement("td");c.textContent="t",u.appendChild(c),s.appendChild(u),o.appendChild(u),o.childNodes[0].style.borderCollapse="separate",(r=o.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",this.reliableHiddenOffsetsVal=r[0].offsetHeight===0,this.reliableHiddenOffsetsVal&&(r[0].style.display="",r[1].style.display="none",this.reliableHiddenOffsetsVal=r[0].offsetHeight===0)}this.docElem&&this.docElem.removeChild(this.container)}},{key:"createHTMLDocument",get:function(){if(document.implementation){var r=document.implementation.createHTMLDocument("").body;return r.innerHTML="<form></form><form></form>",r.childNodes.length===2}return!1}}])}(),xa=new o9(document),Vv=xa.docElem;p.sizzle;var Cd,jv,a9=/^(top|right|bottom|left)$/,K1=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y1=new RegExp("^("+K1+")(?!px)[a-z%]+$","i"),s9=new RegExp("^("+K1+")(.*)$","i");window.getComputedStyle?Cd=function(r){var n,o;return(o=(n=p.isFunction(r.getEL)?r.getEL():r).ownerDocument.defaultView)&&o.opener||(o=window),o.getComputedStyle(n)}:Vv&&Vv.currentStyle&&(Cd=function(r){return r.currentStyle});var Q1=/^--/,mR="[\\x20\\t\\r\\n\\f]",u9=new RegExp("^"+mR+"+|((?:^|[^\\\\])(?:\\\\.)*)"+mR+"+$","g"),Id=["Top","Right","Bottom","Left"],c9=new RegExp(Id.join("|"),"i");window.getComputedStyle?jv=function(r,n,o){var s,u,d,c,f=Q1.test(n),m=r.style;return(o=o||Cd(r))&&(c=o.getPropertyValue(n)||o[n],f&&c&&(c=c.replace(u9,"$1")||void 0),c!==""||function(_){return Ii.contains(_.ownerDocument,_)}(r)||(c=qh(r,n)),!xa.pixelBoxStyles()&&Y1.test(c)&&c9.test(n)&&(s=m.width,u=m.minWidth,d=m.maxWidth,m.minWidth=m.maxWidth=m.width=c,c=o.width,m.width=s,m.minWidth=u,m.maxWidth=d)),c===void 0?c:c+""}:Vv&&Vv.currentStyle&&(jv=function(r,n,o){var s,u,d,c,f=r.style;return(c=(o=o||Cd(r))?o[n]:void 0)==null&&f&&f[n]&&(c=f[n]),Y1.test(c)&&!a9.test(n)&&(s=f.left,(d=(u=r.runtimeStyle)&&u.left)&&(u.left=r.currentStyle.left),f.left=n==="fontSize"?"1em":c,c=f.pixelLeft+"px",f.left=s,d&&(u.left=d)),c===void 0?c:c+""||"auto"});var Gv,l9=/<([\w:-]+)/,d9=/<|&#?\w+;/,f9=/^-ms-/,h9=/-([\da-z])/gi,p9=/^(none|table(?!-c[ea]).+)/,g9=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,m9={position:"absolute",visibility:"hidden",display:"block"},vR={letterSpacing:"0",fontWeight:"400"},_R={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:xa.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},yR=document.createElement("div");Gv=yR.style,xa.cssFloat=!!yR.style.cssFloat;var v9=function(r,n){return n.toUpperCase()},SR=["Webkit","Moz","ms"],bR={};function TR(r){var n=Ii.cssProps[r]||bR[r];return n||(r in Gv?r:bR[r]=function(o){if(o in Gv)return o;for(var s=o.charAt(0).toUpperCase()+o.slice(1),u=SR.length;u--;)if((o=SR[u]+s)in Gv)return o}(r)||r)}var Ii={cssHooks:{},contains:function(r,n){var o=n&&n.parentNode;return r===o||!(!o||o.nodeType!==1||!(r.contains?r.contains(o):r.compareDocumentPosition&&16&r.compareDocumentPosition(o)))},merge:function(r,n){for(var o=+n.length,s=0,u=r.length;s<o;)r[u++]=n[s++];if(o!=o)for(;n[s]!==void 0;)r[u++]=n[s++];return r.length=u,r},camelCase:function(r){return r.replace(f9,"ms-").replace(h9,v9)},cssProps:{},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0}},_9=["flo","at"].join("");Ii.cssProps[_9]=xa.cssFloat?"cssFloat":"styleFloat";function CR(r,n,o,s,u){for(var d=o===(s?"border":"content")?4:n==="width"?1:0,c=0;d<4;d+=2)o==="margin"&&(c+=Aa(r,o+Id[d],!0,u)),s?(o==="content"&&(c-=Aa(r,"padding"+Id[d],!0,u)),o!=="margin"&&(c-=Aa(r,"border"+Id[d]+"Width",!0,u))):(c+=Aa(r,"padding"+Id[d],!0,u),o!=="padding"&&(c+=Aa(r,"border"+Id[d]+"Width",!0,u)));return c}function IR(r,n,o){var s=!0,u=n==="width"?r.offsetWidth:r.offsetHeight,d=Cd(r),c=xa.boxSizing&&Aa(r,"boxSizing",!1,d)==="border-box";if(u<=0||u==null){if(((u=jv(r,n,d))<0||u==null)&&(u=r.style[n]),Y1.test(u))return u;s=c&&(xa.boxSizingReliable()||u===r.style[n]),u=parseFloat(u)||0}return u+CR(r,n,o||(c?"border":"content"),s,d)}function wR(r){return new RegExp("^(?:([+-])=|)("+K1+")([a-z%]*)$","i").exec(r)}function qh(r,n,o,s){if(r&&r.nodeType!==3&&r.nodeType!==8&&r.style){var u,d,c,f=Ii.camelCase(n),m=Q1.test(n),_=r.style;if(m||(n=TR(f)),c=Ii.cssHooks[n]||Ii.cssHooks[f],o===void 0)return c&&"get"in c&&(u=c.get(r,!1,s))!==void 0?u:_[n];(d=ee(o))==="string"&&(u=wR(o))&&u[1]&&(o=function(S,y,b,I){var x,P=1,L=20,$=I?function(){return I.cur()}:function(){return Aa(S,y,"")},te=$(),q=b&&b[3]||(Ii.cssNumber[y]?"":"px"),Q=(Ii.cssNumber[y]||q!=="px"&&+te)&&wR(Aa(S,y));if(Q&&Q[3]!==q){q=q||Q[3],b=b||[],Q=+te||1;do qh(S,y,(Q/=P=P||".5")+q);while(P!==(P=$()/te)&&P!==1&&--L)}return b&&(Q=+Q||+te||0,x=b[1]?Q+(b[1]+1)*b[2]:+b[2],I&&(I.unit=q,I.start=Q,I.end=x)),x}(r,n,u),d="number"),o!=null&&o==o&&(d!=="number"||m||(o+=u&&u[3]||(Ii.cssNumber[f]?"":"px")),xa.clearCloneStyle||o!==""||n.indexOf("background")!==0||(_[n]="inherit"),c&&"set"in c&&(o=c.set(r,o,s))===void 0||(m?_.setProperty(n,o):_[n]=o))}}function Aa(r,n,o,s){var u,d,c,f=Ii.camelCase(n);return Q1.test(n)||(n=TR(f)),(c=Ii.cssHooks[n]||Ii.cssHooks[f])&&"get"in c&&(u=c.get(r,!0,o)),u===void 0&&(u=jv(r,n,s)),u==="normal"&&n in vR&&(u=vR[n]),o===""||o?(d=parseFloat(u),o===!0||isFinite(d)?d||0:u):u}function zv(r,n){if(!r||typeof r!="string")return[];if(typeof n=="boolean"&&(n=!1),!n)if(xa.createHTMLDocument){var o=(n=document.implementation.createHTMLDocument("")).createElement("base");o.href=document.location.href,n.head.appendChild(o)}else n=document;var s=g9.exec(r);return s?[n.createElement(s[1])]:(s=function(u,d){for(var c,f,m,_,S,y=d.createDocumentFragment(),b=[],I=0,x=u.length;I<x;I++)if((c=u[I])||c===0)if(p.type(c)==="object")Ii.merge(b,c.nodeType?[c]:c);else if(d9.test(c)){for(f=f||y.appendChild(d.createElement("div")),m=(l9.exec(c)||["",""])[1].toLowerCase(),z1(f,(_=_R[m]||_R._default)[1]+c+_[2]),S=_[0];S--;)f=f.lastChild;Ii.merge(b,f.childNodes),(f=y.firstChild).textContent=""}else b.push(d.createTextNode(c));for(y.textContent="",I=0;c=b[I++];)y.appendChild(c);return f=null,y}([r],n),Ii.merge([],s.childNodes))}p.each(["height","width"],function(r,n){Ii.cssHooks[r]={get:function(o,s,u){if(s)return p9.test(Aa(o,"display"))&&o.offsetWidth===0?function(d,c,f,m){var _,S={};return p.each(c,function(y,b){S[b]=d.style[b],d.style[b]=c[b]}),_=f.apply(d,m||[]),p.each(c,function(y,b){d.style[b]=S[b]}),_}(o,m9,function(){return IR(o,r,u)}):IR(o,r,u)},set:function(o,s,u){var d=u&&Cd(o);return function(c,f,m){var _=s9.exec(f);return _?Math.max(0,parseInt(_[1])-(m||0))+(_[2]||"px"):f}(0,s,u?CR(o,r,u,xa.boxSizing&&Aa(o,"boxSizing",!1,d)==="border-box",d):0)}}});var ER,xR=Array.prototype.slice,oo=" ",y9=ue.bIE&&ue.IEMode<10,AR=/[\n\t\r\.]/g,X1=function(){function r(n,o,s){de(this,r),ut(this,"isNodeList",!0),ut(this,"length",0);var u=this;return!n||p.isString(n)?u:p.isArray(n)||n.isNodeList?(Array.prototype.push.apply(u,p.makeArray(n)),u):(u[0]=n,u.length=1,u)}return he(r,[{key:"item",value:function(n){return p.isNumber(n)?n>=this.length?null:new r(this[n]):new r(n)}},{key:"slice",value:function(){return new r(xR.apply(this,arguments))}},{key:"getDOMNodes",value:function(){return xR.call(this)}},{key:"each",value:function(n,o){var s=this;return p.each(s,function(u,d){return u=new r(u),n.call(o||u,u,d,s)}),s}},{key:"getEL",value:function(){return this.length>0?this[0]:void 0}},{key:"all",value:function(n){return this.length>0?eT(n,this):new r}},{key:"one",value:function(n){var o=this.all(n);return o.length?o.slice(0,1):o}},{key:"attr",value:function(n,o){var s=this.getEL();if(s){if(p.isUndefined(o))return n==="readonly"?s.readOnly?"readonly":"":(n!=="style"&&y9?s=s[n]:(s=s.attributes[n])&&(s=s.value),s);n=="class"?s.className=o:s[n]=o}}},{key:"addClass",value:function(n){var o=this.getEL();o&&function(s,u){var d,c,f,m,_=s.className,S=u.length;if(_){for(d=q1(_),c=_,f=0;f<S;f++)m=Z1(u[f]),d.indexOf(oo+m+oo)<0&&(c+=oo+m);c=p.trim(c)}else c=u.join(" ");s.className=c}(o,n.split(oo))}},{key:"removeClass",value:function(n){var o=this.getEL();o&&function(s,u){var d,c,f,m=s.className,_=u.length;if(m&&_){for(d=q1(m),c=0;c<_;c++)for(f=oo+Z1(u[c])+oo;d.indexOf(f)>=0;)d=d.replace(f,oo);s.className=p.trim(d)}}(o,n.split(oo))}},{key:"hasClass",value:function(n){var o=this.getEL();if(o)return function(s,u){var d,c,f,m=s.className,_=u.length;if(m&&_){for(d=q1(m),c=0;c<_;c++)if(f=oo+Z1(u[c])+oo,d.indexOf(f)<0)return Tt;return ir}return Tt}(o,n.split(oo))}},{key:"parent",value:function(){var n=this.getEL();return n&&(n=n.parentNode),new r(n)}},{key:"remove",value:function(){var n=this.getEL();n&&n.parentNode&&n.parentNode.removeChild(n)}},{key:"offset",value:function(){var n=this.getEL();return p.DOM.getElDimensions(n,ir)}},{key:"before",value:function(n){var o=this.getEL(),s=[n];o&&(J1(n)&&(s=zv(n)),p.each(s,function(u){o.insertBefore(u,o.childNodes[0])}))}},{key:"append",value:function(n){var o=this.getEL(),s=[n];o&&(J1(n)&&(s=zv(n)),p.each(s,function(u){o.appendChild(u)}))}},{key:"html",value:function(n){var o=this.getEL();if(o){if(p.isUndefined(n))return function(s){var u=s.innerHTML;if(!document.all)return u;var d=/(\s+\w+)\s*=\s*([^<>"\s]+)(?=[^<>]*\/>)/gi,c=/"'([^'"]*)'"/gi;return(u=u.replace(d,'$1="$2"').replace(c,'"$1"')).replace(/<(\/?)(\w+)([^>]*)>/g,function(f,m,_,S){return m?"</"+_.toLowerCase()+">":("<"+_.toLowerCase()+S+">").replace(/=(("[^"]*?")|('[^']*?')|([\w\-\.]+))([\s>])/g,function(y,b,I,x,P,L,$,te){return P?'="'+P+'"'+L:y})}).replace(/<\/?([^>]+)>/g,function(f){return f})}(o);for(;o.firstChild;)o.removeChild(o.firstChild);p.each(zv(n),function(s){o.appendChild(s)})}}},{key:"style",value:function(n,o){var s=this.getEL();if(s)return qh(s,n,o)}},{key:"css",value:function(n){p.each(this,function(o){p.each(n,function(s,u){qh(o,u,s)})})}},{key:"show",value:function(){p.each(this,function(n){n.style.display=""})}},{key:"hide",value:function(){p.each(this,function(n){n.style.display="none"})}}])}();function J1(r){return p.isString(r)&&(r=p.trim(r))&&r.length>=3&&p.startsWith(r,"<")&&p.endsWith(r,">")}function q1(r){return(oo+r+oo).replace(AR,oo)}function Z1(r){return r.replace(AR,"")}function eT(r,n){var o=n;return o&&o.isNodeList&&(o=o.getEL()),p.isString(r)?(J1(r)&&p.error("Err 4002."),new X1(p.sizzle(r,o))):r.isNodeList?r:new X1(r)}function S9(r,n){var o=eT(r,n);return o.length?o.slice(0,1):o}function b9(r){return r instanceof X1}(ER=self||{}).Map||(ER.Map=function(){this.keys=[],this.data={},this.set=function(r,n){this.data[r]==null&&this.keys.indexOf(r)==-1&&this.keys.push(r),this.data[r]=n},this.get=function(r){return this.data[r]}});var Te=new(he(function r(){de(this,r),ut(this,"__ver",20230516),ut(this,"Events",Qh),ut(this,"EnumMouseButton",Ea),ut(this,"detectButton",Xh),ut(this,"getWheelDelta",sl),ut(this,"fromUnicode",B7),ut(this,"escapeHtml",U7),ut(this,"escapeRegExp",V7),ut(this,"unEscapeHtml",iR),ut(this,"param",H7),ut(this,"unparam",$7),ut(this,"colorStrToInt",io),ut(this,"IntToColorStr",Ni),ut(this,"currentStyle",z7),ut(this,"parseHTML",zv),ut(this,"setHtml",z1),ut(this,"css",Aa),ut(this,"style",qh),ut(this,"support",xa),ut(this,"all",eT),ut(this,"one",S9),ut(this,"isNodeList",b9),ut(this,"Promise",U1),ut(this,"nativePromise",Uv),ut(this,"loaderBarClassName",uR),ut(this,"loaderBarSource",H1),ut(this,"createShowMaskContent",cR),ut(this,"switchEvent",G7),ut(this,"setBackOpacity",gR),ut(this,"showMask",n9),ut(this,"hideMask",i9),ut(this,"dialog",$1),ut(this,"mask",Ci)})),Zo={getHex:function(r){var n=Number(r).toString(16).toUpperCase();return n.length==1&&(n=["0",n].join("")),n},getColor:function(r){var n,o,s;return s=r>>16,o=(65280&r)>>8,n=255&r,["#",Zo.getHex(s),Zo.getHex(o),Zo.getHex(n)].join("")},RGB2BGR:function(r){return(255&r)<<16|65280&r|r>>16}};Zo.BGR2RGB=Zo.RGB2BGR;var Pe=!1,rt=!0,PR=/[#\/\?@]/g,T9=/[#\?]/g,kR={scheme:1,userInfo:2,hostname:3,port:4,path:5},C9=new RegExp("^(?:([\\w\\d+.-]+):)?(?://(?:([^/?#@]*)@)?([\\w\\d\\-\\u0100-\\uffff.+%]*|\\[[^\\]]+\\])(?::([0-9]+))?)?(.+)?$");function tT(r,n){return p.isString(r)&&p.isString(n)?r.toLowerCase()===n.toLowerCase():r===n}function rT(r,n){return encodeURI(r).replace(n,function(o){return"%"+function(s){return s.length===1?"0"+s:s}(o.charCodeAt(0).toString(16))})}var DR,Hv=function(){function r(n){if(h(this,r),C(this,"scheme",""),C(this,"userInfo",""),C(this,"hostname",""),C(this,"port",""),C(this,"path",""),n instanceof r)return p.clone(n);r.getComponents(n,this)}return v(r,[{key:"clone",value:function(){var n=new r,o=this;return p.each(kR,function(s,u){n[u]=o[u]}),n}},{key:"getScheme",value:function(){return this.scheme}},{key:"setScheme",value:function(n){return this.scheme=n,this}},{key:"getHostname",value:function(){return this.hostname}},{key:"setHostname",value:function(n){return this.hostname=n,this}},{key:"setUserInfo",value:function(n){return this.userInfo=n,this}},{key:"getUserInfo",value:function(){return this.userInfo}},{key:"setPort",value:function(n){return this.port=n,this}},{key:"getPort",value:function(){return this.port}},{key:"setPath",value:function(n){return this.path=n,this}},{key:"getPath",value:function(){return this.path}},{key:"isSameOriginAs",value:function(n){var o=this;return tT(o.hostname,n.hostname)&&tT(o.scheme,n.scheme)&&tT(o.port,n.port)}},{key:"toString",value:function(n){var o,s,u,d,c,f=[],m=this;return(o=m.scheme)&&(f.push(rT(o,PR)),f.push(":")),(s=m.hostname)&&(f.push("//"),(c=m.userInfo)&&(f.push(rT(c,PR)),f.push("@")),f.push(encodeURIComponent(s)),(d=m.port)&&(f.push(":"),f.push(d))),(u=m.path)&&(s&&!p.startsWith(u,"/")&&(u="/"+u),f.push(rT(u,T9))),f.join("")}}],[{key:"getComponents",value:function(n,o){var s=(n=n||pr).match(C9)||[],u=o||{};return p.each(kR,function(d,c){u[c]=s[d]}),u}}])}(),$v=p.each,hs=p.error,nT=p.isFunction,iT=p.isString,oT=ue.bIE&&ue.IEVersion<=9,I9=ue.bIE&&ue.IEVersion<=10,zu=window,aT=new Hv(location.href),RR=aT&&/^(?:about|app|app\-storage|.+\-extension|file|widget)$/.test(aT.getScheme()),w9=!1,sT=function(){try{return new zu.XMLHttpRequest}catch{}},FR=function(){try{var r=Pe;return $v(["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.3.0","Msxml3.XMLHTTP"],function(n){try{if(!r)return r=new zu.ActiveXObject(n),Pe}catch(o){hs("new xhr error: "+o.message)}}),r}catch{}},E9=!(RR||!zu.XMLHttpRequest)&&"withCredentials"in(sT()||[]),x9=zu.ActiveXObject?function(r){return oT?FR():!RR&&sT()||FR()}:sT,OR=function(r){return w9},A9=/^(?:GET|HEAD)$/,P9=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,uT={xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},cT=DR;I9&&(cT=p.noop);var k9=function(){function r(){h(this,r),C(this,"url",!1),C(this,"onSuccess",!1),C(this,"onError",!1),C(this,"onComplete",!1),C(this,"method","GET"),C(this,"async",!0),C(this,"xhrFields",!1),C(this,"mimeType",!1),C(this,"username",!1),C(this,"password",!1),C(this,"data",!1),C(this,"dataType","text"),C(this,"headers",!1),C(this,"contentType","application/x-www-form-urlencoded; charset=UTF-8"),C(this,"beforeSend",!1),C(this,"afterSend",!1),C(this,"timeout",0),C(this,"cache",!0),C(this,"crossDomain",!1),C(this,"retry",0)}return v(r,[{key:"setRequestHeader",value:function(n,o){this.headers[n]=o}},{key:"getAllResponseHeaders",value:function(){return this.state===2?this.responseHeadersString:null}},{key:"getNativeXhr",value:function(){return this.nativeXhr}},{key:"getResponseHeader",value:function(n){var o,s;if(n=n.toLowerCase(),this.state===2){if(!(s=this.responseHeaders))for(s=this.responseHeaders={};o=P9.exec(this.responseHeadersString);)s[o[1].toLowerCase()]=o[2];o=s[n]}return o===void 0?null:o}},{key:"overrideMimeType",value:function(n){return this.state||(this.mimeType=n),this}},{key:"abort",value:function(n){return this.state=3,this.status=0,this.statusText=n??"abort",this.nativeXhr&&this.nativeXhr.abort(),this._callback(),this}},{key:"_ioReady",value:function(n,o){var s=!1,u=this;if(this.state!==2&&this.state!==3){this.state===1&&(this.state=2),this.readyState=4,n>=200&&n<300||n===304?n===304?(o="not modified",s=!0):(o="success",s=!0):n<0&&(n=0);try{n>=200&&this.handleResponseData()}catch(d){hs(d,"error"),o=d.message||"parser error"}return(n<200||!s)&&this.retry>0?(this.retry=this.retry-1,void setTimeout(function(){u.sendInternal()},200)):(this.status=n,this.statusText=o,this._callback(s),s)}}},{key:"_callback",value:function(n){var o=this,s=this.timeoutTimer;s&&(clearTimeout(s),this.timeoutTimer=0),$v([n?this.onSuccess:this.onError,this.onComplete],function(u){nT(u)&&u.apply(o.context,[o.responseData,o.statusText,o])}),this.responseData=null}},{key:"handleResponseData",value:function(){var n,o=this.dataType,s=this.nativeXhr;if(o==="blob"||o==="arraybuffer")if(oT){var u,d,c;if("responseBody"in s)u=s.responseBody,d=zu.dsVbsBinGetLength(u),n=new zu.VBArray(zu.dsVbsBinGetBytes(u,0,d)).toArray();else for(n=[],d=(u=s.responseText).length,c=0;c<d;++c)n.push(255&u.charCodeAt(c));u=null}else n=zu.Blob?s.response:"responseBody"in s?s.responseBody:s.responseText;else if(o=="json")n=s.responseType&&s.responseType.toLowerCase()=="json"?s.response:s.responseText?p.parse(s.responseText):p.parse(s.response);else if(o==="user-defined")n=s.response!==void 0?s.response:s.responseText;else{this.responseText=n=s.responseText||"";try{var f=s.responseXML;f&&f.documentElement&&(this.responseXML=f)}catch{}}this.responseData=n}},{key:"sendInternal",value:function(n){var o,s,u,d,c,f,m,_,S,y,b,I=this;if(s=(o=this._setup(n)).method,iT(s)&&(s=s.toUpperCase()),c=o.contentType,u=o.url,d=o.dataType,_=o.mimeType,iT(u)&&(this.nativeXhr=f=x9(o.crossDomain),f)){try{if(this.state=1,o.username?f.open(s,u,o.async,o.username,o.password):f.open(s,u,o.async),(o.async||ue.bIE)&&d&&d!="user-defined"&&"responseType"in f)try{f.responseType=d}catch{}}catch(x){return void(this.state<2?(hs(x,"error"),this._ioReady(-1,"open error: "+(p.isNumber(x.number)?"("+x.number+")":"")+(x.message||""))):hs(x))}"withCredentials"in(m=o.xhrFields||{})&&(E9||delete m.withCredentials),$v(m,function(x,P){try{f[P]=x}catch(L){hs(L)}}),_&&f.overrideMimeType&&f.overrideMimeType(_),(S=o.headers||{})["X-Requested-With"]===!1&&delete S["X-Requested-With"],"setRequestHeader"in f&&(c&&f.setRequestHeader("Content-Type",o.contentType),f.setRequestHeader("Accept",d&&uT[d]?uT[d]+(d==="*"?"":", */*; q=0.01"):uT["*"]),$v(S,function(x,P){f.setRequestHeader(P,x)})),s!="GET"||o.cache||(f.setRequestHeader("If-Modified-Since","0"),f.setRequestHeader("Cache-Control","no-cache")),b=(y=!A9.test(o.method))&&o.data||null,y&&oT&&(b=o.data),o.async&&o.timeout>0&&(o.timeout<300&&(o.timeout=300),this.timeoutTimer=setTimeout(function(){I.abort("timeout")},o.timeout));try{if(this.state=1,nT(this.beforeSend)&&this.beforeSend(f,I)===!1)return void this.abort("cancel");f.send(b),b=null,o.data=null,nT(this.afterSend)&&this.afterSend(I)}catch(x){this.state<2?(hs(x,"error"),this._ioReady(-1,"send error: "+(x.message||""))):hs(x)}if(!o.async||f.readyState===4)return I._xhrCallback();f.onreadystatechange=function(){I._xhrCallback()}}}},{key:"_xhrCallback",value:function(n,o){var s,u=this.nativeXhr;try{if(u.readyState===4||o)if(OR()||(u.onreadystatechange=cT),o)u.readyState!==4&&u.abort();else{OR()||(this.responseHeadersString=u.getAllResponseHeaders());var d,c=u.status;try{d=u.statusText}catch(f){hs("xhr statusText error: "),hs(f),d=""}s=this._ioReady(c,d)}}catch(f){hs(f,"error"),u.onreadystatechange=cT,o||this._ioReady(-1,f.message||"process error")}return s}},{key:"_setup",value:function(n){var o,s,u,d,c;if(n){for(s in this.context=n.context,delete n.context,n instanceof r&&(n=n.config),this.config=n,d=n.url,p.startsWith(d,"//")&&(n.url=d="http:"+d),(p.startsWith(d,"http://")||p.startsWith(d,"https://"))&&(c=new Hv(d)),o=n.dataType?n.dataType.toLowerCase():"text",n.dataType=o,n.method?n.method=n.method.toUpperCase():n.method="GET",c&&!("crossDomain"in n)&&(n.crossDomain=!c.isSameOriginAs(aT)),u=n.headers)u[s]===DR&&delete u[s];p.mix(this,n)}return this.state=1,this}},{key:"dispose",value:function(){this.responseHeaders=null,this.responseHeadersString=null,this.responseData=null,this.responseText=null,this.responseXML=null,this.context=null,this.config=null,this.onSuccess=null,this.onError=null,this.onComplete=null,this.xhrFields=null,this.data=null,this.headers=null,this.beforeSend=null,this.afterSend=null}}])}();function Po(r){if(r&&iT(r.url)){var n=new k9;return r.async?(r.async=!0,n.sendInternal(r),n):(r.async=!1,n.sendInternal(r))}p.log("the url is error.")}var D9="Please make sure the Dynamsoft Service has been installed.",NR="Error: This browser is currently not supported.",R9="Error: Duplicate ContainerId detected while creating a Dynamic Web TWAIN object.",F9="Error: Duplicate WebTwainId detected while creating a Dynamic Web TWAIN object.",O9="Error: The ID of the target DIV for the new DWT object is invalid.",ao="18",Zh="5",ep="1",Hu="0828",lT="5",dT="1",Kv="".concat(ao,",").concat(Zh,",").concat(ep,",").concat(Hu),N9="".concat(ao,",").concat(lT,",").concat(dT,",").concat("0828"),fT=parseInt(ao),hT=parseInt(Zh),pT=parseInt(ep),MR=[fT,hT,pT,Hu],LR=[fT,hT,pT,Hu],WR=[fT,hT,pT,Hu],BR=[1,8,5,Hu],UR=[1,8,5,Hu],VR=[1,8,5,Hu];function jR(){if(!ue.bWin){if(ue.bMac)return LR;if(ue.bLinux)return WR}return MR}function gT(){if(!ue.bWin){if(ue.bMac)return UR;if(ue.bLinux)return VR}return BR}function Yv(){return"dcp/dwasm2_"+wd()}function wd(){return jR().join("")}var GR=ue.bWin,M9=ue.bMac,L9=ue.bLinux,W9=ue.bSafari,B9=ue.bFirefox,U9=ue.bChrome,V9=location.hostname,Pa=location.pathname,mT=0,Qv=ue.bMobile,zR=parseFloat(ue.strBrowserVersion);if(ue.bWin||ue.bMac||ue.bLinux||ue.bChromeOS){if(U.navInfo){var Xv=U.navInfo;Qv=Qv||Xv.bAndroid||Xv.bPad||Xv.biPhone||Xv.biPad}}else Qv=!0;V9===""?GR&&Pa.lastIndexOf("\\")>1?Pa=Pa.substring(1,Pa.lastIndexOf("\\")).replace(/%20/g," "):(mT=1,Pa=Pa.substring(1,Pa.lastIndexOf("/")).replace(/%20/g," ")):(mT=1,Pa=Pa.substring(0,Pa.lastIndexOf("/")));var Wr={bChrome:U9,bFirefox:B9,bSafari:W9,bIE:ue.bIE,bEdge:ue.bEdge,bWin:GR,bMac:M9,bLinux:L9,iPluginLength:0,bFileSystem:ue.bFileSystem,bMobile:Qv,strIEVersion:ue.IEVersion,strChromeVersion:ue.bChrome?zR:"",strFirefoxVersion:ue.bFirefox?zR:"",basePath:Pa,pathType:mT,isDesktopViewer:function(){return ue.bWin||ue.bLinux||ue.bChromeOS||ue.bMac},isPadViewer:function(){return ue.bPad||ue.biPad},isMobileViewer:function(){return ue.bMobile||ue.biPhone||ue.bAndroid||ue.bHarmonyOS},WSVersion:"18.5.0",WSSession:new Date().getTime(),bDiscardBlankImage:Pe};function j9(r){var n=r||{};n.basePath&&(Wr.basePath=n.basePath),n.pathType&&(Wr.pathType=n.pathType),p.isUndefined(n.bDiscardBlankImage)||(Wr.bDiscardBlankImage=n.bDiscardBlankImage),n.msgPrefix&&n.msgPrefix,n.msgSuffix&&n.msgSuffix,n.detectType&&(j.detect.detectType=n.detectType),n.tryTimes&&(j.detect.tryTimes=n.tryTimes);var o=U.DWT.RemoteScanConfig;o||(o={sessionTimeout:300,keepAwake:!0},U.DWT.RemoteScanConfig=o),o.keepAwake===void 0&&(o.keepAwake=!0)}function HR(){return!!p.getWakeLock()}function Jv(r){return $R.apply(this,arguments)}function $R(){return($R=a(w().mark(function r(n){var o;return w().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(o=p.getWakeLock(),!n){s.next=7;break}if(o!=null){s.next=5;break}return s.next=5,p.toggleWakeLock();case 5:s.next=10;break;case 7:if(!o){s.next=10;break}return s.next=10,p.toggleWakeLock();case 10:case"end":return s.stop()}},r)}))).apply(this,arguments)}function G9(){for(var r,n,o,s=["dynamsoft.webtwain.install.js","dynamsoft.webtwain.viewer.js","dynamsoft.lts.js","dynamsoft.webtwain.viewer.css","dynamsoft.webtwain.css"],u=document.head.childNodes,d=u.length-1;d>=0;d--)if((n=u[d]).tagName=="LINK"?o=n.href:n.tagName=="SCRIPT"&&(o=n.src),o)for(r=0;r<s.length;r++)o.indexOf(s[r])>=0&&n.remove();j.detect.cssLoaded=!1}function KR(r){return YR.apply(this,arguments)}function YR(){return(YR=a(w().mark(function r(n){var o;return w().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n&&((o=document.createElement("style")).innerHTML=['@import url("',ps(),"/src/dynamsoft.webtwain.viewer.css",j.timestamp,'")'].join(""),n.appendChild(o));case 1:case"end":return s.stop()}},r)}))).apply(this,arguments)}function QR(r,n){var o;for(o=0;o<r.length;o++)if(r[o]==n)return!0;return!1}function ps(){var r=Ie.refResourcesPath||null;if(!r){var n,o,s;if(e.CoreModule&&e.CoreModule.engineResourcePaths?(n=e.CoreModule.engineResourcePaths.dwt,o=e.CoreModule.engineResourcePaths.rootDirectory):(s=window)!==null&&s!==void 0&&(s=s.Dynamsoft)!==null&&s!==void 0&&(s=s.Core)!==null&&s!==void 0&&(s=s.CoreModule)!==null&&s!==void 0&&(s=s.engineResourcePaths)!==null&&s!==void 0&&s.dwt&&(n=window.Dynamsoft.Core.CoreModule.engineResourcePaths.dwt,window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory&&(o=window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory)),n&&(p.isString(n)?r=n:p.isString(n.resourcesPath)&&(r=n.resourcesPath),p.isString(r))&&!(p.startsWith(r,"https://")||p.startsWith(r,"http://"))){if(o&&p.isString(o)&&o.length>0){var u="";o.charAt(o.length-1)=="/"||(u="/"),r=[o,u,r].join("")}}p.isString(r)||(r=U.DWT.ResourcesPath||""),!ue.bFileSystem&&(r!==void 0&&r!=""||(r=Wr.basePath||""),r.length>0&&r.charAt(r.length-1)=="/"&&(r=r.substr(0,r.length-1)),Ie.refResourcesPath=r)}return r}var $u=function(r){return r.enumUnknown=-1,r.enumChrome=1,r.enumFirefox=2,r.enumEdge=3,r.enumSafari=4,r.enumIE=5,r.enumOpera=6,r.enumHuaWeiBrowser=7,r}({}),Et=function(r){return r.enumUnknown=-1,r.enumWindow=0,r.enumMac=1,r.enumLinux=2,r.enumEmbed=3,r.enumChromeOS=4,r.enumHarmonyOS=5,r.enumAndroid=6,r.enumiOS=7,r}({});function tp(){var r,n,o=Ie.refServiceInstallerLocation||null;if(!o){var s;if(e.CoreModule&&e.CoreModule.engineResourcePaths?(r=e.CoreModule.engineResourcePaths.dwt,n=e.CoreModule.engineResourcePaths.rootDirectory):(s=window)!==null&&s!==void 0&&(s=s.Dynamsoft)!==null&&s!==void 0&&(s=s.Core)!==null&&s!==void 0&&(s=s.CoreModule)!==null&&s!==void 0&&(s=s.engineResourcePaths)!==null&&s!==void 0&&s.dwt&&(r=window.Dynamsoft.Core.CoreModule.engineResourcePaths.dwt,window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory&&(n=window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory)),r&&(p.isString(r)||p.isString(r.serviceInstallerLocation)&&(o=r.serviceInstallerLocation),p.isString(o))&&!(p.startsWith(o,"https://")||p.startsWith(o,"http://"))){if(n&&p.isString(n)&&n.length>0){var u="";n.charAt(n.length-1)=="/"||(u="/"),o=[n,u,o].join("")}}if(p.isString(o)||(o=U.DWT.ServiceInstallerLocation||""),p.isString(o)&&o.length>0)o[o.length-1]!="/"&&(o+="/");else{var d=ps();if(p.isString(d)&&d.length>0){var c="";d.charAt(d.length-1)=="/"||(c="/"),o=[d,c,"dist/"].join("")}else o="Resources/dist/"}Ie.refServiceInstallerLocation=o}return o}var Mi={getDSPath:function(r){var n=tp(),o=r;return o||(o=ue.bWin?".msi":ue.bMac?".pkg":U.navInfo.bArm64?"-arm64.deb":U.navInfo.bMips64?"-mips64el.deb":U.navInfo.bAndroid?".apk":ue.bLinux||ue.bChromeOS||ue.bHarmonyOS?".deb":".msi"),[n,"DynamsoftServiceSetup",o].join("")},getLinuxHTML5DebPath:function(){return Mi.getDSPath(".deb")},getLinuxHTML5RpmPath:function(){return Mi.getDSPath(".rpm")},getEnumPlatform:function(){return ue.bAndroid?Et.enumAndroid:ue.bMac?Et.enumMac:ue.bChromeOS?Et.enumChromeOS:ue.bHarmonyOS?Et.enumHarmonyOS:U.navInfo.bEmbed?Et.enumEmbed:ue.bLinux?Et.enumLinux:ue.biPhone||ue.biPad?Et.enumiOS:Et.enumWindow},getEnumBrowser:function(){return ue.bEdge?$u.enumEdge:ue.bChrome?$u.enumChrome:ue.bFirefox?$u.enumFirefox:ue.bIE?$u.enumIE:ue.bSafari?$u.enumSafari:ue.bHuaWeiBrowser?$u.enumHuaWeiBrowser:ue.bOpera?$u.enumOpera:$u.enumUnknown}},ka=function(r){return r.NONE=0,r.TRACE=1,r.DEBUG=2,r.INFO=4,r.WARN=8,r.ERROR=16,r}({}),rp=p.getLogger(),qv=(K=function(){return v(function r(){h(this,r)},null,[{key:"LogLevel",get:function(){return this._logLevel},set:function(r){this._logLevel=r}},{key:"LogFunc",set:function(r){this._logFunc=r}},{key:"all",value:function(r,n){if((this._logLevel&r)==r)if(this._logFunc)this._logFunc(n,r);else switch(r){case ka.DEBUG:rp.debug(n);break;case ka.ERROR:rp.error(n);break;case ka.INFO:rp.info(n);break;case ka.WARN:rp.warn(n);break;case ka.TRACE:rp.trace(n)}}},{key:"trace",value:function(r){this.all(ka.TRACE,r)}},{key:"debug",value:function(r){this.all(ka.DEBUG,r)}},{key:"info",value:function(r){this.all(ka.INFO,r)}},{key:"warn",value:function(r){this.all(ka.WARN,r)}},{key:"error",value:function(r){this.all(ka.ERROR,r)}}])}(),C(K,"_logLevel",ka.ERROR),C(K,"_logFunc",void 0),K);function vr(r){var n;window.console&&(r instanceof Error||p.isString(r)?(n=r,U.navInfoSync.bIE&&(n=p.stringify(r))):n=p.stringify(r),window.console.error(n))}var XR,np="127.0.0.1";ue.bAndroid&&ue.bSSL&&(np="local.dynamsoft.com"),XR=dT.toLowerCase()=="0"?"Dynamic Web TWAIN "+[ao,lT].join("."):"Dynamic Web TWAIN "+[ao,lT,dT].join(".");var ko={JSVersion:N9,ServerVersionInfo:Kv,ServerLinuxVersionInfo:Kv,ServerMacVersionInfo:Kv,ServerAndroidVersionInfo:Kv,ActiveXVersion:"18,0,0,1025",ActiveXPdfVersion:"11.5.2.0312",PdfVersion:"11.5.2.0312",PdfLinuxVersion:"11.5.2.0312",PdfMacVersion:"11.5.2.0312"},z9={ProductName:XR,Containers:void 0,ContainerMap:{},WebTwainIdMap:{},RemoteScanIdMap:{},Trial:!1,ResourcesPath:"Resources",Debug:!1,IfUpdateService:!1,AutoLoad:!0,ReConnectToService:!0,OnWebTwainReady:!1,OnWebTwainError:function(r){vr(r)},OnWebTwainNotFound:!1,OnWebTwainOldPluginNotAllowed:!1,OnWebTwainNeedUpgrade:!1,OnWebTwainNeedUpgradeWebJavascript:!1,OnWebTwainInitMessage:!1,ViewerJSIntegerited:!0,ActiveXInstallWithCAB:!1,IfUseActiveXForIE10Plus:!1,IfUseEmbeddedDownloadNoticeForActiveX:!1,IfCheckDCP:!1,IfDisableDefaultSettings:!1,OnWebTwainWillInit:!1,IfAddMD5InUploadHeader:!1,IfAlwaysFocusOnPopupWindow:!0,IfConfineMaskWithinTheViewer:!1,fetchOptions:{mode:"cors",credentials:"same-origin"},HideTrialMessage:!1,CheckCertExpired:!0,ConnectWithSocket:!1,SSLPort:18623,Port:18622,showLoadingMsgDialog:!0,licenseServer:void 0,sessionPassword:void 0,organizationID:void 0,handshakeCode:void 0,UseDefaultViewer:!0,Host:np,DeviceFriendlyName:"",LocalHosts:["127.0.0.1","localhost","local.dynamsoftwebtwain.com","local.dynamsoft.com"],IfCheckCORS:!1,IfCheckCert:!0,IfChromeExtension:!1,IfLoadResources:!0,IfResourcesAddTimestamp:!0,IfCheckCssFiles:!0};function si(){var r=U.DWT.Host;return p.isString(r)&&r!=""||(U.DWT.Host=r=np),r}function H9(){var r=300,n=U.DWT.RemoteScanConfig;return n&&p.isNumber(n.sessionTimeout)&&n.sessionTimeout>0&&(r=n.sessionTimeout),r}var vT={URL:"",UpdateDaysBeforeExpired:30},Zv=!0,_T=!1,Ku=ue.bHTML5Edition,yT=0,e_=_T;ue.bIE&&((yT=ue.IEVersion)===""||yT>=10?U.DWT.IfUseActiveXForIE10Plus?(Ku=_T,e_=Zv,ue.bHTML5Edition=Ku):Ku=Zv:(Ku=_T,yT>=9&&(e_=Zv))),e_||Ku||(Ku=Zv);var Pt={SSLPort:18626,Port:18625,bEnhancedMode:!1,oldDWASMVerStr:"dwasm_13000404",oldDWASMVer:[13,0,0,"0404"],wsProtocol:"dwt_command",managerVersion:MR,managerVersionMac:LR,managerVersionLinux:WR,serviceVersion:BR,serviceVersionMac:UR,serviceVersionLinux:VR,detect:{dcpStatus:0,ddmPort:0,dwtPort:0,dwtSSLPort:0,bConnected:!1,connectedResult:"",MaxManagerModuleConnectCount:1,EnumDCP_DetectStatus:{Init:0,Connected:1,CheckingManagerVer:15,CheckingServiceVer:16,NotInstalled:17,CheckedService:5,VerifyingZip:6,VerifiedZip:7,UpdatingService:8,UpdateSucceed:9,UpdateFailed:10,UpdateSkipped:11}},strSID:"",b64bit:!0,objEnhancedPorts:{}},Ie={name:"Dynamic Web TWAIN",bHTML5Edition:Ku,bActiveXEdition:e_,_iImageCaptureDriverType:3,_iBrokerProcessType:1,getChromeEditionPath:Mi.getDSPath,getPKGPath:function(){return tp()+"DynamicWebTWAINMacEdition.pkg"},getMSIPath:function(){return tp()+"DynamicWebTWAINPlugIn.msi"},getActiveXCABx86Path:function(){return tp()+"DynamicWebTWAIN.cab"},getActiveXCABx64Path:function(){return tp()+"DynamicWebTWAINx64.cab"},onlineResources:"https://demo.dynamsoft.com/DWT/Resources/",strMIMEType:"Application/DynamicWebTwain-Plugin",strFullClassID:"E7DA7F8D-27AB-4EE9-8FC0-3FEC9ECFE758",scripts:{},dwtConfigLoaded:!1,dwtConfigLoading:!1,getServerVersionInfo:function(r){var n=ko.ServerVersionInfo;return ue.bWin||(ue.bMac?n=ko.ServerMacVersionInfo:ue.bAndroid?n=ko.ServerAndroidVersionInfo:(ue.bLinux||ue.bChromeOS||ue.bHarmonyOS)&&(n=ko.ServerLinuxVersionInfo)),r?n:p.replaceAll(n,",","")},getDWTPrefix:function(){return U.DWT.CustomMode===!0?"dwtc_":"dwt_"},loadResourcePath:!1,loadingResourcePath:!1,handshakeCode:void 0,organizationID:void 0,licenseServer:void 0,sessionPassword:"",bPublicLTS:!0,refProductKey:void 0,ltsDebug:!1,bDWTLoading:!1,bDWTUnloading:!1,bAndroidConnected:!1,unloadQueue:[],appendBrowserLicenseWhenServiceMode:function(){},bDCPChecked:!1,bDWTChecked:!1,bUseDynamsoftLicenseManager:!1,bChromeEdition:Ku},Or={bFullEdition:!1,getVersionStrForCheck:function(){return"".concat(ao,"000000")},versionInfoFromServer:"",hostForCheckCert:np,RemoteReconnectMaxTimes:200,RemoteReconnectTimeSpan:5e3,LocalReconnectMaxTimes:60,LocaleReconnectTimeSpan:3e3,HttpConnectTimeout:ue.bSSL?3e3:1e3,WebsocketConnectTimeout:ue.bSSL?1e3:600};function ip(){return Ie.HttpConnectTimeout}function ST(){return Ie.WebSocketConnectTimeout}function ui(){return Ie.bUseDynamsoftLicenseManager?p.isString(Ie.refProductKey)&&(p.startsWith(Ie.refProductKey,"DLS2")||Ie.refProductKey===""):p.isString(Ie.handshakeCode)||p.isString(Ie.organizationID)||Ie.bPublicLTS||p.isString(U.DWT.ProductKey)&&p.startsWith(U.DWT.ProductKey,"DLS2")}function so(r){if(r===void 0)return!0;var n;if(r){for(n=0;n<U.DWT.LocalHosts.length;n++)if(r===U.DWT.LocalHosts[n])return!0}return!1}function JR(r){return r.indexOf("text/json")!=-1||r.indexOf("application/json")!=-1}function ul(r){return r==="text/json"||r==="application/json"}var Xn=function(r){return r.LicenseInvalid=-2325,r.LicenseExpired=-2326,r.LicenseParseFailed=-2546,r.LicenseExpiredForDLS=-2808,r.LicenseNoCoreForDLS=-2809,r.LicenseNoCore=-2810,r.LicenseIsFuture=-2396,r.LicenseVersionNotCurrent=-2539,r}({});function Fe(r,n,o){r._errorCode=n,r._errorString=o}function zr(r){var n=U.DWT.licenseException;n.code=r._errorCode,n.message=r._errorString,n.fromLTS=!1}function On(){return U.DWT.IfChromeExtension?"":"Please contact the site administrator."}U.DWT.EnumDWT_LicenseErrorCode=Xn;var bT,op,kt=function(r){return r.UserCancelled=-1032,r.CORSErrorFromService=-2137,r.CommonError=-2201,r.ModuleNotExists=-2371,r.MustUpgrade=-2207,r.RemoteDynamsoftServiceStopped=-2613,r.ResponseDataTypeError=-2801,r.HTSTError=-2817,r.SSLCertExpired=-2818,r.SSLCertInvalid=-2819,r.CORSError=-2820,r.DWTPortNotReady=-2821,r.HTTPRedirected=-2823,r.BboError=-2827,r.HTTPServerError=-2842,r}({});function Ot(r){Fe(r,-1033,"Invalid index.")}function Vn(r){Fe(r,-1034,"Invalid value.")}function Nn(r){Fe(r,-1035,"There is no image.")}function qR(r){Fe(r,-1110,"Unrecognized file extension.")}function ZR(r){Fe(r,-2007,"The system is busy, some operations are not completed. Please try later.")}function Ed(r,n){var o=n?["[",n,"]"].join(""):"your device";Fe(r,kt.MustUpgrade,"The Dynamsoft Service installed on "+o+" is outdated and no longer works with the JavaScript code on the website.")}function ap(r){Fe(r,-2209,"The HTML5 edition does not support this method or property.")}function TT(r){Fe(r,-2300,"Http upload error: the HTTP Server name/ip cannot be empty.")}function t_(r){Fe(r,-2301,"Network error.")}function CT(r){Fe(r,-2302,"The result format is invalid.")}function IT(r,n,o,s){if(n)Ro(r);else if(r._errorCode=-2003,s&&s>0||o){var u=["HTTP process error: "];o&&(o.indexOf("HTTP process error: ")>=0&&(u=[""]),u.push(o)),s&&s>0&&(u.push(" ("+s+")"),s>=300&&(r._errorCode=kt.HTTPServerError));var d=u.toString().lastIndexOf(".");d>=0&&d==u.toString().length-1?r._errorString=u.join(""):r._errorString=u.join("")+"."}else r._errorString="HTTP process error."}function eF(r){Fe(r,-2304,"Http download error: the url is invalid.")}function tF(r,n,o,s){if(n)Fe(r,-2305,"User cancelled the operation.");else if(r._errorCode=-2003,s&&s>0||o){var u=["HTTP put error: "];o&&(o.indexOf("HTTP put error: ")>=0&&(u=[""]),u.push(o)),s&&s>=300&&(r._errorCode=kt.HTTPServerError);var d=u.toString().lastIndexOf(".");d>=0&&d==u.toString().length-1?r._errorString=u.join(""):r._errorString=u.join("")+"."}else r._errorString="HTTP put error."}function wT(r,n,o,s){if(n)Fe(r,-2305,"User cancelled the operation.");else if(r._errorCode=-2003,s&&s>0||o){var u=["HTTP process error: "];o&&(o.indexOf("HTTP process error: ")>=0&&(u=[""]),u.push(o));var d=u.toString().lastIndexOf(".");d>=0&&d==u.toString().length-1?r._errorString=u.join(""):r._errorString=u.join("")+"."}else r._errorString="HTTP process error."}function an(r){Fe(r,-2306,"Upload Error: the upload file cannot be empty.")}function rF(r){Fe(r,-2307,"The width or height you entered is invalid.")}function gs(r){Fe(r,-2313,"The size of the images you are about to upload has exceeded the limit.")}function ci(r){Fe(r,-2314,"The parameter cannot be empty.")}function cl(r){Fe(r,-2320,"Invalid file.")}function Do(r){Fe(r,Xn.LicenseInvalid,ui()?"The license is invalid.":"The current product key is empty or invalid."),zr(r)}function nF(r,n){r._errorCode=Xn.LicenseExpired;var o="";if(n&&n!=""&&(n.indexOf("on")==-1&&(o=" on "+n),r.__licenseInfo&&(r.__licenseInfo.ExpireDate=n)),ui()){var s,u,d,c;s=U.DWT.lgdt(),r._bRemoteMode?u=(d=(c=r._dmService)===null||c===void 0||(c=c.attrs)===null||c===void 0?void 0:c.UUID)!==null&&d!==void 0?d:"":u="",r._errorString="The license has expired"+o+". Please contact the application developer.",U.DWT.lcexp(s,u).then(function(){r._errorString=U.DWT.licenseException.message})}else r._errorString="The current product key has expired"+o+". Please contact the application developer.",zr(r)}function sp(r,n){ui()?n==111?(r._errorCode=Xn.LicenseExpiredForDLS,r._errorString="The license for v"+ao+" Service Core Module has expired."):(r._errorCode=Xn.LicenseNoCoreForDLS,r._errorString="The license for v"+ao+" Service Core Module is not found."):(r._errorCode=Xn.LicenseNoCore,r._errorString="The product key for the current operating system is missing the Service Core license. "+On()),zr(r)}function xd(r){r._errorCode=-2339,ui()?r._errorString="The license for the module pdf rasterizer is not found or has expired.":r._errorString="The current product key does not support pdf rasterizer. "+On(),zr(r)}function Ad(r){Fe(r,-2351,"You cannot upload more than one image when the format is BMP, JPG or PNG")}function iF(r){Fe(r,-2352,"The indices are out of range.")}function $9(r){Fe(r,-2353,"The header name being used is a protected keyword and is not allowed.")}function Pd(r){Fe(r,-2358,"The type of the parameter indices must be an Array.")}function qe(r){Fe(r,-2359,"The index is out of range.")}function oF(r){Fe(r,-2360,"The index is null or undefined.")}function Li(r){Fe(r,-2362,"The image type is not supported.")}function aF(r){Fe(r,-2363,"The data format is not supported.")}function up(r){Fe(r,-2365,"The url is invalid.")}function ET(r){Fe(r,-2376,"The generate url failed.")}function r_(r){Fe(r,-2377,"Failed to set Image Capture Driver Type.")}function sF(r){Fe(r,-2391,"Invalid event name.")}function uF(r){Fe(r,-2393,"Failed to convert the data to blob.")}function cF(r){Fe(r,-2399,"Invalid imageId.")}function $t(r){Fe(r,-2416,"Invalid parameter.")}function K9(r){Fe(r,-2426,"You have used a full license with a trial license which is not permitted. Please check and update Dynamsoft.DWT.ProductKey.")}function lF(r){Fe(r,-2510,"The callback is not a function.")}function dF(r){Fe(r,-2513,"The WebTwain instance has been destroyed and can not be used anymore.")}function xT(r){Fe(r,-2530,"Document name cannot be empty.")}function cp(r){Fe(r,-2531,"Document name is not a string.")}function n_(r){Fe(r,-2548,"You cannot call this function when Dynamsoft.DWT.UseDefaultViewer is set to false.")}function AT(r){Fe(r,-2549,"You cannot call this function when there is no ui binding.")}function sn(r){Fe(r,0,"")}function fF(r){var n=r;return n||(n="[]"),{code:-2601,message:"Failed to connect to the Dynamsoft Service on "+n+". Please make sure Dynamsoft Service is running or the certificate is valid."}}function hF(r){var n;return r._bRemoteMode?fF((n=r._dmService)===null||n===void 0||(n=n.attrs)===null||n===void 0?void 0:n.name).message:"The Dynamsoft Service has been stopped."}function pF(r){Fe(r,-2607,"The device selected was not found under the current service object.")}function PT(r){Fe(r,-2608,"IfShowFileDialog cannot be set to true when Object is created by CreateRemoteScanObjectAsync.")}function ll(r,n){p.isString(n)&&n!=""?Fe(r,kt.RemoteDynamsoftServiceStopped,"The Dynamsoft Service on ["+n+"] has been stopped."):Fe(r,-2308,"The Dynamsoft Service has been stopped.")}function Ro(r){Fe(r,-2615,"User cancelled the operation.")}function Y9(r){Fe(r,-2616,"Invalid image format type.")}function Q9(r){Fe(r,-2618,"Only single index selection is allowed when enumImageType is set to BMP, JPG or PNG.")}function uo(r){Fe(r,-2620,"The RemoteScan object has been disposed.")}function gF(r){Fe(r,-2621,"Dynamsoft.DWT.Containers was not set.")}function mF(r){Fe(r,-2622,'Please do not set enumImageType to "IT_MULTIPAGE_PDF", "IT_MULTIPAGE_TIF" or "IT_ALL".')}function X9(r){Fe(r,-2624,"The element within Dynamsoft.DWT.Containers should be a valid object.")}function lp(r){Fe(r,-2800,D9)}function Wi(r){Fe(r,kt.ResponseDataTypeError,"Invalid response data was returned from the Dynamsoft Service.")}function vF(r){return{code:-2807,message:'Error: The element specified by the id "'+r+`" doesn't exist.`}}function J9(r,n){Fe(r,-2811,n)}function _F(r){Fe(r,-2812,F9)}function yF(r){Fe(r,-2815,R9)}function SF(r,n,o){Fe(r,-2816,["HTTP process error: ",o," (",n,")."].join(""))}function bF(){return{code:kt.HTSTError,message:"The Connection from the insecure (HTTP) web page failed for HTST."}}function kT(){return{code:kt.DWTPortNotReady,message:"The Dynamsoft Service is not ready, please try again later."}}function q9(r){return{code:-2826,message:"Failed to connect the Dynamsoft Service on ["+r+"]."}}function DT(r){Fe(r,-2828,"Invalid PDF Convert Mode Value.")}function Z9(r){Fe(r,-2848,"The capability value is out of range.")}function TF(r){Fe(r,-2854,"The imageId does not exist.")}function e$(r){Fe(r,-2855,"The blob cannot be empty.")}function t$(r){Fe(r,-2857,"Invalid blob value.")}function i_(r){Fe(r,-2901,"Source document does not exist. Please check the document name or create the document before performing this operation.")}function o_(r){Fe(r,-2902,"Target document does not exist. Please check the document name or create the document before performing this operation.")}function RT(r){Fe(r,-2906,"After initialization, the product key cannot be changed.")}var CF=ue.bIE&&ue.IEVersion<=9;bT=self&&self.fetch?self.fetch:window.fetch;var a_=0;function FT(r,n){var o,s=!1;return a_=n,bT?o=function(u,d){var c=!1,f="text",m=!1;if(d&&(d.dataType&&(f=d.dataType),d.fetchRaw&&(m=!0),d.timeout)){var _=d.timeout;_<300&&(_=300);var S=new AbortController;d.signal=S.signal,setTimeout(function(){c||S.abort("timeout")},_)}s=!1;var y=bT(u,d).then(function(b){if(b.ok){var I,x;if(c=!0,!r)return b;if(r.__clickCancel)return r.__clickCancel=!1,r.__cancelBeforObjectCreated=!1,s=!0,b;r.IfShowCancelDialogWhenImageTransfer?(Zs(!0),x=r.on("cancel",function(){s=!0})):Zs(!1);var P=b.headers.get("Content-Length"),L=0;r._onPercent&&a_==n&&r._onPercent({loaded:L,total:P});var $=b==null||(I=b.body)===null||I===void 0?void 0:I.getReader(),te=new ReadableStream({start:function(J){var re=function(){return $.read().then(function(H){if(H.done||s)return s?$.cancel():x&&r.off("cancel",x),J.close(),void(x=null);var F=H.value;L+=F.length,r._onPercent&&a_==n&&r._onPercent({loaded:L,total:P});try{return J.enqueue(F),re()}catch(B){p.error(B)}})};$?setTimeout(re,0):J.close()}}),q=b.headers.get("Content-Type");return q&&q!=""||(q="application/octet-stream"),new Response(te,{headers:{"Content-Type":q}})}if(b.type=="opaqueredirect")throw{code:kt.HTTPRedirected,message:"The http url redirected."};var Q;throw SF(Q={},b.status,b.statusText),{code:Q._errorCode,message:Q._errorString,httpCode:b.status}});return m?y:(y=f=="blob"?y.then(function(b){var I=b.headers.get("content-type");return ul(I)?b.json():ue.bLinux?b.arrayBuffer().then(function(x){return new Blob([x],{type:I})}):b.blob()}):f=="json"?y.then(function(b){return b.json()}):f=="arraybuffer"?y.then(function(b){return ul(b.headers.get("content-type"))?b.json():b.arrayBuffer()}):y.then(function(b){return b.text()})).then(function(b){var I;if(s)throw Ro(I={}),{code:I._errorCode,message:I._errorString};return b})}:(CF&&p.addVBS([`Function dsVbsBinGetAt(strBinary,iOffset)\r
`,` dsVbsBinGetAt=AscB(MidB(strBinary,iOffset+1,1))\r
`,`End Function\r
`,`Function dsVbsBinGetBytes(strBinary,iOffset,iLength)\r
`,` Dim aBytes()\r
`,` ReDim aBytes(iLength-1)\r
`,` For i=0 To iLength-1\r
`,`  aBytes(i)=dsVbsBinGetAt(strBinary,iOffset+i)\r
`,` Next\r
`,` dsVbsBinGetBytes=aBytes\r
`,`End Function\r
`,`Function dsVbsBinGetLength(strBinary)\r
`,` dsVbsBinGetLength=LenB(strBinary)\r
`,"End Function"].join("")),o=function(u,d){return new(j.nativePromise||window.Promise)(function(c,f){var m,_=!1;m={url:u,async:!0,onSuccess:function(y,b,I){var x=!1;if(I.responseHeadersString&&JR(I.responseHeadersString)&&(p.isArray(y)||y instanceof ArrayBuffer)&&(x=!0),x){var P=y;y instanceof ArrayBuffer&&(P=new Uint8Array(y));var L=String.fromCharCode.apply(null,P);c(L)}else c(y)},onError:function(y,b,I){var x;SF(x={},I.status,b),f({code:x._errorCode,message:x._errorString,httpCode:I.status})},dataType:"text",method:op,data:op,headers:op,contentType:op,mimeType:op},d&&(d.method&&(m.method=d.method),d.body&&(m.data=d.body),d.headers&&(m.headers||(m.headers={}),p.each(d.headers,function(y,b){b.toLowerCase()=="content-type"&&(_=!0),m.headers[b]=y})),d.dataType&&(m.dataType=d.dataType),d.contentType&&(m.contentType=d.contentType),p.isNumber(d.timeout)&&d.timeout>0&&(m.timeout=d.timeout)),_&&(m.contentType=!1),m.dataType=="blob"&&CF&&(m.mimeType="text/plain; charset=x-user-defined"),r&&(r._onPercent&&(m.beforeSend=function(y,b,I){y.upload.addEventListener("progress",function(x){r._onPercent&&a_==n&&r._onPercent(x)},!1)}),r.IfShowCancelDialogWhenImageTransfer?Zs(!0):Zs(!1));var S=Po(m);r&&r.IfShowCancelDialogWhenImageTransfer&&r.on("cancel",function(){S.abort()})})}),o}var kd=FT(null,0);function Zs(r){var n=p.sizzle(".dynamsoft-btnCancel");if(n.length>0){var o=n[0];o.style.display=r?"":"none"}}String.prototype.startsWith||(String.prototype.startsWith=function(r){return this.indexOf(r)==0});var IF=function(r){var n,o=r,s=o._license||"",u=JSON.parse(JSON.stringify(o._licenseServer)),d=o._sessionPassword,c=0;if(s.startsWith("t")||s.startsWith("f"))c=0;else if(s.length===0||s.startsWith("P")||s.startsWith("L")||s.startsWith("Y")||s.startsWith("A"))c=1;else{c=2;var f=s.indexOf(":");if(f!=-1&&(s=s.substring(f+1)),s.startsWith("DLS2")){var m;try{var _=s.substring(4);_=Y.Lib.atob(_),m=JSON.parse(_)}catch{throw new Error("Format Error: The license string you specified is invalid, please check to make sure it is correct.")}if(typeof(s=m.handshakeCode?m.handshakeCode:m.organizationID?m.organizationID:"")=="number"&&(s=JSON.stringify(s)),u.length===0){var S=[];m.mainServerURL&&(S[0]=m.mainServerURL),m.standbyServerURL&&(S[1]=m.standbyServerURL),u=function(y){if(y==null)y=[];else{y instanceof Array||(y=[y]);for(var b=0;b<y.length;++b){if(document&&document.createElement){var I=document.createElement("a");I.href=y[b],y[b]=I.href}y[b].lastIndexOf("/")!=y[b].length-1&&(y[b]+="/")}}return y}(S)}!d&&m.sessionPassword&&(d=m.sessionPassword),n=m.remark}s&&s!=="200001"&&!s.startsWith("200001-")||(c=1)}return c===1&&(s=""),{lt:c,l:s,ls:u,sp:d,rmk:n}},dl=v(function r(n,o,s,u,d){h(this,r),this.server=n,this.port=o,this.ssl=s,this.useWS=u,this.protocol=d});function wF(r,n){return(r==null?void 0:r.port)==(n==null?void 0:n.port)&&(r==null?void 0:r.protocol)==(n==null?void 0:n.protocol)&&(r==null?void 0:r.server)==(n==null?void 0:n.server)&&(r==null?void 0:r.ssl)==(n==null?void 0:n.ssl)&&(r==null?void 0:r.useWS)==(n==null?void 0:n.useWS)}var Da=function(r){return r.OK=0,r.Custom=-1,r.NWB=-4200,r.WS_DISCONN=-4201,r.CB=-5e3,r.JSON_REQUIRED=-5001,r.OBJECT_DISPOSED=-5002,r.INVALID_TASK=-5003,r.OBJECT_DISPOSING=-5004,r}({}),dp=function(r){return r.WS_DISCONN="The Web Socket connection failed.",r.JSON_REQUIRED="The input is not a JSON object or JSON styled string.",r.OBJECT_DISPOSED="The object has been disposed.",r.INVALID_TASK="The task is invalid.",r.OBJECT_DISPOSING="The object need to be disposed.",r}({}),OT=function(){return v(function r(){h(this,r)},null,[{key:"message",value:function(r){return this._errorMessage[r]}},{key:"init",value:function(){this._errorMessage[Da.OK]="Successful.",this._errorMessage[Da.WS_DISCONN]=dp.WS_DISCONN,this._errorMessage[Da.JSON_REQUIRED]=dp.JSON_REQUIRED,this._errorMessage[Da.OBJECT_DISPOSED]=dp.OBJECT_DISPOSED,this._errorMessage[Da.INVALID_TASK]=dp.INVALID_TASK,this._errorMessage[Da.OBJECT_DISPOSING]=dp.OBJECT_DISPOSING}}])}();C(OT,"_errorMessage",Object.create(null)),OT.init();var Fo=function(){return v(function r(n,o){h(this,r),C(this,"_code",Da.OK),this.name="DSError",this.message=o??(typeof n=="string"?n:OT.message(n)),this._code=typeof n=="string"?Da.Custom:n},[{key:"code",get:function(){return this._code}}])}();function rr(r){return{code:r._errorCode,message:r._errorString}}function co(r){return"exception"in r&&"description"in r&&r.exception!=0&&r.description!=""}function EF(r){return r==-1416}var Br=function(r){return r.GET_TASKID=0,r.GET_EVENT_TASKID=1,r.ONMESSAGE_PROCESS_DATA=2,r.ONMESSAGE_GET_TASKID=3,r.ONMESSAGE_GET_EVENT_TASKID=4,r.HANDLE_RAW_MESSAGE=5,r.HANDLE_PROCESSED_MESSAGE=6,r}({}),xF=function(){return v(function s(u){h(this,s),C(this,"_serverInfo",void 0),C(this,"_disposed",!1),this._serverInfo=u,this._ref=1},[{key:"serverInfo",get:function(){return this._serverInfo}},{key:"requestSync",value:function(s,u){return qv.error("requestSync should be implemented in child class"),void 0}},{key:"request",value:function(s,u,d,c){return qv.error("request should be implemented in child class"),Promise.resolve(null)}},{key:"send",value:(o=a(w().mark(function s(u,d,c){return w().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:qv.error("reqsenduestSync should be implemented in child class");case 1:case"end":return f.stop()}},s)})),function(s,u,d){return o.apply(this,arguments)})},{key:"testConnection",value:function(s,u,d,c){return qv.error("testConnection should be implemented in child class"),Promise.resolve(null)}},{key:"disposed",get:function(){return this._disposed}},{key:"dispose",value:(n=a(w().mark(function s(){return w().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this._ref--,!(this._ref>0)){u.next=3;break}return u.abrupt("return",!1);case 3:return this._disposed=!0,u.next=6,this._terminate();case 6:case"end":return u.stop()}},s,this)})),function(){return n.apply(this,arguments)})},{key:"_terminate",value:(r=a(w().mark(function s(){return w().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:case"end":return u.stop()}},s)})),function(){return r.apply(this,arguments)})},{key:"addRef",value:function(){this._ref++}}]);var r,n,o}();function r$(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function NT(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var s_,AF=p.getLogger(),u_=new WeakSet,n$=function(r){function n(){var s;h(this,n);for(var u=arguments.length,d=new Array(u),c=0;c<u;c++)d[c]=arguments[c];return r$(s=l(this,n,[].concat(d)),u_),s}return D(n,r),v(n,[{key:"send",value:(o=a(w().mark(function s(u,d,c){return w().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:AF.error("HTTP Client send not supported");case 1:case"end":return f.stop()}},s)})),function(s,u,d){return o.apply(this,arguments)})},{key:"requestSync",value:function(s,u,d){}},{key:"request",value:function(s,u,d,c){return NT(u_,this,PF).call(this,s,u,d,void 0,void 0,c)}},{key:"testConnection",value:function(s,u,d,c){return NT(u_,this,PF).call(this,void 0,void 0,s,u,d,c)}}]);var o}(xF);function i$(r){var n=this.serverInfo,o="";return o=n.ssl?"https://":"http://",o+=n.server,n.port&&(o+=":",o+=n.port),r&&(p.startsWith(r,"/")||p.endsWith(o,"/")||(o+="/"),p.endsWith(r,"/")?o+=r.slice(0,-1):o+=r),o}function PF(r,n,o,s,u,d){return MT.apply(this,arguments)}function MT(){return MT=a(w().mark(function r(n,o,s,u,d,c){var f,m;return w().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.prev=0,f=s??{},n&&(f.body=n),f.method||(f.method="POST"),c&&(f.timeout=c),m=NT(u_,this,i$).call(this,o),AF.debug("HTTP URL: "+m),_.next=9,kd(m,f);case 9:return _.abrupt("return",_.sent);case 12:if(_.prev=12,_.t0=_.catch(0),!(_.t0 instanceof Fo||_.t0&&_.t0.code&&_.t0.message)){_.next=18;break}throw _.t0;case 18:if(!_.t0.message){_.next=20;break}throw new Fo(_.t0.message);case 20:case"end":return _.stop()}},r,this,[[0,12]])})),MT.apply(this,arguments)}function o$(r){try{return R(r)==="object"?r:(r=typeof r!="string"?p.stringify(r):r,p.parse(r))}catch(n){throw n instanceof Fo?n:new Fo(Da.JSON_REQUIRED)}}function fp(r){return Math.random().toString(16).substring(2,2+r)}function a$(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function hp(r,n,o){return(n=function(s){var u=function(d,c){if(R(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var m=f.call(d,c||"default");if(R(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(d)}(s,"string");return R(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function ms(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var c_,kF,li=p.getLogger(),Ra=new WeakSet,LT=function(r){function n(d){var c;return h(this,n),a$(c=l(this,n,[d]),Ra),hp(c,"_defaultRetries",1),hp(c,"_ws",c_),hp(c,"_events",{}),hp(c,"_bHeartBeatStarted",!1),hp(c,"_heartBeatTicks",6e4),c._ws=c_,c.bUseParentWS=!1,c._tasks=Object.create(null),c.bReady=!1,c._blob_callbacks=[],c._processing_blob=!1,c}return D(n,r),v(n,[{key:"ws",get:function(){return this._ws}},{key:"requestSync",value:function(d,c,f){return li.error("WebSocket Client requestSync not supported"),void 0}},{key:"send",value:(u=a(w().mark(function d(c,f,m){var _,S,y,b;return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(_=m.client,I.prev=1,(S=m.taskId)!==void 0){I.next=7;break}return I.next=6,f(c,Br.GET_TASKID,_._requestTaskId,m);case 6:S=I.sent;case 7:if(y=_._tasks[S]){I.next=11;break}throw li.error("invalid task id: "+S),new Fo(Da.INVALID_TASK);case 11:return I.next=13,ms(Ra,_,UT).call(_,!1);case 13:return I.next=15,ms(Ra,_,DF).call(_,c,f,m,y);case 15:li.debug("begin to send data "+S),_.disposed||_._ws.send(c),c=null,li.debug("end to send data "+S),I.next=27;break;case 21:I.prev=21,I.t0=I.catch(1),li.debug("failed to send data."),li.error(I.t0),delete _._tasks[S],(b=y)===null||b===void 0||(b=b.resolver)===null||b===void 0||b.reject(I.t0.message);case 27:case"end":return I.stop()}},d,null,[[1,21]])})),function(d,c,f){return u.apply(this,arguments)})},{key:"request",value:function(d,c,f,m){var _=this._defaultRetries,S=c??ms(Ra,this,l$),y=f??{client:this,userData:this};return ms(Ra,this,d$).call(this,d,S,y,_,!1,void 0,m)}},{key:"connected",get:function(){var d;return((d=this._ws)===null||d===void 0?void 0:d.readyState)==WebSocket.OPEN}},{key:"testConnection",value:function(d,c,f,m){return ms(Ra,this,UT).call(this,!0,c??0,f,m)}},{key:"_terminate",value:(s=a(w().mark(function d(){var c,f;return w().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:for(f in li.debug("terminate WSClient"),this.fireEvent("disposed"),c=!1,this._tasks)this._tasks[f]!==void 0&&this._tasks[f].resolver&&(c=!0);if(this._lic_callback=c_,this._blob_callbacks=[],this._processing_blob=!1,this._ws&&(this._ws.onopen=null,this._ws.onerror=null,this._ws.onmessage=null,this._ws.onclose=null,this._ws.close()),this._ws=c_,this._tasks=Object.create(null),!c){m.next=12;break}throw new Fo(Da.OBJECT_DISPOSING);case 12:case"end":return m.stop()}},d,this)})),function(){return s.apply(this,arguments)})},{key:"setRetry",value:function(d){this._defaultRetries=d??1}},{key:"addEvent",value:function(d,c,f){var m=this._events[d];m||(this._events[d]={},m=this._events[d]),p.isString(c)&&p.isFunction(f)&&(m[c]=f)}},{key:"removeEvent",value:function(d,c){var f=this._events[d];f&&p.isString(c)&&delete f[c]}},{key:"clearEvent",value:function(d){this._events[d]&&(this._events[d]={})}},{key:"fireEvent",value:function(d){var c,f=this._events[d];if(f){var m=Object.keys(f);for(c=0;c<m.length;c++)p.isFunction(f[m[c]])&&f[m[c]]()}}},{key:"getRequestTaskId",value:function(){return this._requestTaskId?this._requestTaskId:0}}],[{key:"_waitForPreBlob",value:(o=a(w().mark(function d(c){return w().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!c._processing_blob){f.next=3;break}return setTimeout(function(){n._waitForPreBlob(c)},500),f.abrupt("return");case 3:n._preBlobResolv&&n._preBlobResolv();case 4:case"end":return f.stop()}},d)})),function(d){return o.apply(this,arguments)})}]);var o,s,u}(xF);function s$(r){var n="";return n=r.ssl?"wss://":"ws://",n+=r.server,r.port&&(n+=":",n+=r.port),n}function u$(r,n,o,s){var u=this;return new j.Promise(function(d,c){try{var f,m,_=c,S=d;if(s&&(m=setTimeout(function(){var x=new Fo("createWebSocket timed out.");li.debug(x.message),_&&(_(x),_=null,S=null),m&&clearTimeout(m),f&&f.close()},s)),r.bUseParentWS){var y=window,b=parent,I=y.WebSocket;try{for(;y!=b&&b&&b.WebSocket;)I=b.WebSocket,y=b.window,b=b.parent}catch{I=window.WebSocket}f=o?new I(n,o):new I(n)}else f=o?new WebSocket(n,o):new WebSocket(n);f.onopen=function(){m&&clearTimeout(m),r._ws=f,S&&(S(f),_=null,S=null)},f.onerror=function(x){f.close(),r.bReady=!1,m&&clearTimeout(m),u.fireEvent("error"),_&&(_(new Fo("websocket error")),_=null,S=null)},f.onmessage=function(x){ms(Ra,r,c$).call(r,r,x.data)},f.onclose=function(x){r.bReady=!1,m&&clearTimeout(m),u.fireEvent("close"),_&&(x&&x.code==1006?_(new Fo("websocket error")):_(x),_=null,S=null)}}catch(x){if(x instanceof Fo||x&&x.code&&x.message)throw x;if(x.message)throw new Fo(x.message)}})}function c$(r,n){return WT.apply(this,arguments)}function WT(){return WT=a(w().mark(function r(n,o){var s,u,d,c,f,m,_,S,y;return w().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(s=n,b.prev=1,c={client:s,userData:void 0},R(o)!=="object"){b.next=17;break}if(!(s._blob_callbacks.length>0)){b.next=17;break}if(!s._processing_blob){b.next=9;break}return b.next=8,new j.Promise(function(I){s_._preBlobResolv=I,s_._waitForPreBlob(s)});case 8:s_._preBlobResolv=null;case 9:return s._processing_blob=!0,f=s._blob_callbacks.shift(),b.next=13,f(o);case 13:return b.sent,s._processing_blob=!1,b.abrupt("return");case 17:if(!(s.bReady&&p.isString(o)&&(o.indexOf("Function not found")>0||o.indexOf("Version not found")>0))){b.next=19;break}return b.abrupt("return");case 19:if(s._cbToGetTaskId){b.next=21;break}return b.abrupt("return");case 21:return b.next=23,s._cbToGetTaskId(o,Br.ONMESSAGE_PROCESS_DATA,s._requestTaskId,c);case 23:return m=b.sent,_=!1,b.next=27,s._cbToGetTaskId(m,Br.ONMESSAGE_GET_TASKID,s._requestTaskId,c);case 27:if(d=b.sent){b.next=36;break}if(!m.Detail||!m.Domain){b.next=32;break}return s._lic_callback&&s._lic_callback(m),b.abrupt("return");case 32:return b.next=34,s._cbToGetTaskId(m,Br.ONMESSAGE_GET_EVENT_TASKID,s._requestTaskId,c);case 34:(d=b.sent)&&(_=!0);case 36:if(u=s._tasks[d]){b.next=46;break}if(!_){b.next=42;break}u={},b.next=44;break;case 42:return d!=""&&li.log("invalid task id: "+d),b.abrupt("return");case 44:b.next=48;break;case 46:if(!u.timedout){b.next=48;break}return b.abrupt("return");case 48:return b.next=50,s._cbToGetTaskId(o,Br.HANDLE_RAW_MESSAGE,s._requestTaskId,u.ctx);case 50:if((S=b.sent)!==void 0){b.next=55;break}return b.next=54,s._cbToGetTaskId(m,Br.HANDLE_PROCESSED_MESSAGE,s._requestTaskId,u.ctx);case 54:S=b.sent;case 55:S&&!_&&(u.tmid&&clearTimeout(u.tmid),delete s._tasks[d],u.resolver&&u.resolver.resolve(S)),b.next=64;break;case 58:b.prev=58,b.t0=b.catch(1),li.debug("failed to handle message."),b.t0 instanceof Error?li.error(b.t0):li.error(p.stringify(b.t0)),delete s._tasks[d],(y=u)===null||y===void 0||(y=y.resolver)===null||y===void 0||y.reject(b.t0.message);case 64:case"end":return b.stop()}},r,null,[[1,58]])})),WT.apply(this,arguments)}function l$(r,n,o){return BT.apply(this,arguments)}function BT(){return BT=a(w().mark(function r(n,o,s){var u,d;return w().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:c.t0=o,c.next=c.t0===Br.GET_TASKID?3:c.t0===Br.HANDLE_RAW_MESSAGE?7:9;break;case 3:return(d=o$(n)).cmdId=(u=d.cmdId)!==null&&u!==void 0?u:(f=void 0,m=void 0,m=[fp(8),"-",fp(4),"-",fp(4),"-",fp(4),"-",fp(8)],f&&m.unshift(f),m.join("")),j.Promise.resolve(["cmdId"]),c.abrupt("break",9);case 7:return j.Promise.resolve(n),c.abrupt("break",9);case 9:case"end":return c.stop()}var f,m},r)})),BT.apply(this,arguments)}function UT(r,n,o,s){return VT.apply(this,arguments)}function VT(){return VT=a(w().mark(function r(n,o,s,u){var d,c,f,m;return w().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!this.connected&&!this.disposed){_.next=2;break}return _.abrupt("return");case 2:if(!(f=this)._connectPromise){_.next=7;break}return _.next=6,f._connectPromise;case 6:return _.abrupt("return");case 7:return o=(d=o)!==null&&d!==void 0?d:this._defaultRetries,s=(c=s)!==null&&c!==void 0?c:100,m=ms(Ra,f,s$).call(f,f.serverInfo),li.debug("WebSocket URL: "+m+", try to create websocket "+o+"/"+s),f._connectPromise=new j.Promise(function(S,y){var b=function(x){ms(Ra,f,u$).call(f,f,m,f.serverInfo.protocol,u).then(function(P){S(P)}).catch(function(P){li.debug("create websocket failed: "+P.message),x<o?I(x):y(P)})};function I(x,P,L){setTimeout(function(){b(++x)},s)}b(0)}),_.prev=12,_.next=15,f._connectPromise;case 15:_.next=20;break;case 17:throw _.prev=17,_.t0=_.catch(12),_.t0;case 20:return _.prev=20,f._connectPromise=null,_.finish(20);case 23:case"end":return _.stop()}},r,this,[[12,17,20,23]])})),VT.apply(this,arguments)}function DF(r,n,o,s){return jT.apply(this,arguments)}function jT(){return jT=a(w().mark(function r(n,o,s,u){var d,c,f,m;return w().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(d=this,c=s.eventTaskId,f=s.lastEventTaskId,c!==void 0){_.next=7;break}return _.next=6,o(n,Br.GET_EVENT_TASKID,d._requestTaskId,s);case 6:c=_.sent;case 7:c&&(d._tasks[c]?s&&s.userData&&s.userData.command&&((m=d._tasks[c]).ctx=s,f&&((m=d._tasks[f]).ctx=s)):(m={id:u.id,resolver:null,ctx:s,timedout:!1},d._tasks[c]=m,f&&(d._tasks[f]=m)));case 8:case"end":return _.stop()}},r,this)})),jT.apply(this,arguments)}function d$(r,n,o,s,u,d,c){return GT.apply(this,arguments)}function GT(){return GT=a(w().mark(function r(n,o,s,u,d,c,f){var m,_,S,y;return w().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return m=this,b.prev=1,s.client=m,b.next=5,ms(Ra,m,UT).call(m,d,u,c,f);case 5:if((_=s.taskId)!="0"){b.next=12;break}return m.disposed||m._ws.send(n),n=null,b.abrupt("return");case 12:if(_!==void 0){b.next=16;break}return b.next=15,o(n,Br.GET_TASKID,null,s);case 15:_=b.sent;case 16:return _===void 0&&li.debug("websocket send: task id is invalid."),(S={}).promise=new j.Promise(function(I,x){S.resolve=I,S.reject=x}),y={id:_,resolver:S,ctx:s,timedout:!1},m._tasks[_]=y,m._requestTaskId=_,b.next=24,ms(Ra,m,DF).call(m,n,o,s,y);case 24:return m._cbToGetTaskId=o,f&&(y.tmid=setTimeout(function(){li.debug("ws request time out."),y.timedout=!0,y.resolver.reject("request timed out.")},f)),m.disposed||m._ws.send(n),li.debug("end to send task "+_),n=null,b.abrupt("return",S.promise);case 32:if(b.prev=32,b.t0=b.catch(1),_&&delete m._tasks[_],!(b.t0 instanceof Fo||b.t0&&b.t0.code&&b.t0.message)){b.next=39;break}throw b.t0;case 39:if(!b.t0.message){b.next=41;break}throw new Fo(b.t0.message);case 41:return b.prev=41,n=null,b.finish(41);case 44:case"end":return b.stop()}},r,this,[[1,32,41,44]])})),GT.apply(this,arguments)}function f$(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function zT(r,n,o){return(n=function(s){var u=function(d,c){if(R(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var m=f.call(d,c||"default");if(R(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(d)}(s,"string");return R(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function RF(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}s_=LT;var HT=new WeakSet,vs=function(){function r(){h(this,r),f$(this,HT),zT(this,"_maxWebSocketCon",10),zT(this,"_wsClients",[])}return v(r,[{key:"removeTerminatedWSClient",value:function(){this._wsClients=this._wsClients.filter(function(o){return!o.disposed})}},{key:"getClient",value:function(o,s){return o.useWS?RF(HT,this,p$).call(this,o,s):new n$(o)}},{key:"closeClient",value:(n=a(w().mark(function o(s){var u,d,c,f;return w().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:u=this._wsClients,d=T(u),m.prev=2,d.s();case 4:if((c=d.n()).done){m.next=12;break}if(!wF((f=c.value).serverInfo,s)){m.next=10;break}if(f.disposed){m.next=10;break}return m.next=10,f.dispose();case 10:m.next=4;break;case 12:m.next=17;break;case 14:m.prev=14,m.t0=m.catch(2),d.e(m.t0);case 17:return m.prev=17,d.f(),m.finish(17);case 20:this.removeTerminatedWSClient();case 21:case"end":return m.stop()}},o,this,[[2,14,17,20]])})),function(o){return n.apply(this,arguments)})},{key:"terminate",value:function(){var o=this._wsClients.slice();this._wsClients=[],o.forEach(function(s){s.dispose()})}}],[{key:"Instance",get:function(){return this._gClientPool||(this._gClientPool=new r),this._gClientPool}}]);var n}();function h$(r){this.removeTerminatedWSClient();var n,o=T(this._wsClients);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(wF(s.serverInfo,r)&&!s.disposed)return s.addRef(),s}}catch(u){o.e(u)}finally{o.f()}return null}function p$(r,n){var o;return n||(o=RF(HT,this,h$).call(this,r)),o||(this._wsClients.length<this._maxWebSocketCon?((o=new LT(r)).addEvent("disposed","1",function(){kF.Instance.removeTerminatedWSClient()}),this._wsClients.push(o),o):null)}kF=vs,zT(vs,"_gClientPool",null);var eu=function(){function r(){h(this,r)}return v(r,null,[{key:"getHttpClientForDcp",value:function(n,o){var s,u=U.dcp,d=j.detect.ssl;if(o||!ue.bSSL?(s=u.Port,d=!1):(s=u.SSLPort,d=!0),p.isString(n)){var c=new dl;return p.startsWith(n,"https://")?(c.ssl=!0,c.server=n.substring(8)):p.startsWith(n,"http://")?(c.ssl=!1,c.server=n.substring(7)):(c.ssl=j.detect.ssl,c.server=n),vs.Instance.getClient(c)}return r.getHttpClient(null,s,d)}},{key:"getHttpClient",value:function(n,o,s){var u=s?"https":"http",d=new dl(n||si(),o,s,!1,u);return vs.Instance.getClient(d)}},{key:"getWsClient",value:function(n,o,s,u){var d=new dl(n||si(),o,s,!0,Pt.wsProtocol);return vs.Instance.getClient(d,u)}},{key:"closeWsClient",value:function(n,o,s){var u=new dl(n||si(),o,s,!0,Pt.wsProtocol);return vs.Instance.closeClient(u)}}])}();j.ClientPool=vs;var g$=parseInt(ao),m$=parseInt(Zh),v$=parseInt(ep),FF="ddm/",tu="ddm_"+[g$,m$,v$,Hu].join("");function OF(){return FF+tu}function _$(r){return NF.apply(this,arguments)}function NF(){return(NF=a(w().mark(function r(n){var o,s,u,d;return w().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=ip(),s=[OF(),"/VersionInfo?","ts=",p.now()].join(""),u=['{"id":"',p.guid(),'","method":"VersionInfo"}'].join(""),d=eu.getHttpClientForDcp(n),c.abrupt("return",d.request(u,s,{dataType:"json"},o));case 4:case"end":return c.stop()}},r)}))).apply(this,arguments)}function Nr(r){p.log(r)}var MF="All scripts and css loaded.",LF="Getting the WebTwain port...",WF="The WebTwain version not compatible.",BF="Decoding the license...",UF="Checking the license...",gr=function(r){return r.CM_RENDERALL=1,r.CM_IMAGEONLY=2,r.CM_AUTO=3,r.CM_RENDERALLWITHANNOTATION=4,r}({});function y$(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function S$(r,n,o){return(n=function(s){var u=function(d,c){if(R(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var m=f.call(d,c||"default");if(R(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(d)}(s,"string");return R(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function lo(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var VF=ao+".",b$=parseInt(ao),T$=0,C$=1,I$=2,w$=3,E$=4,x$=7,A$=8,P$=9,k$=10,D$=50,R$=51,F$=52;function Dd(r){return p.isString(r)?p.trim(r):r}var Bi=new WeakSet,O$=function(){return v(function n(){h(this,n),y$(this,Bi),S$(this,"isLTS",ui)},[{key:"isLongKey",value:function(n){if(p.isString(n)&&n.length>0){var o=n.charAt(0);if(o=="f"||o=="t")return!0;if(p.startsWith(n,"DLS")||p.isNumber(n))return!1;var s=parseInt(n)+"-";return!p.startsWith(n,s)}return!1}},{key:"isLicenseMixed",value:function(n,o){var s,u=!1,d=n||U.DWT.ProductKey;if(U.DWT.lclex(),o&&(Dd(U.DWT.organizationID)||Dd(U.DWT.handshakeCode))&&d&&(u=!0,Fe(s={},-2444,"A license can only be specified once and has already been set using the ProductKey API.")),!u&&p.isString(d)&&(d=p.trim(d),!(p.startsWith(d,"f")||p.startsWith(d,"t")))){if(d!="")if(p.startsWith(d,"DLS2"))try{lo(Bi,this,N$).call(this,d)}catch(f){u=!0,Fe(s={},-2440,""),s._errorString=f.message}else lo(Bi,this,jF).call(this,d).LTS||(u=!0,function(f){Fe(f,Xn.LicenseParseFailed,"The license is invalid.")}(s={}))}if(u&&s){zr(s);var c=U.DWT.licenseException;p.error(c.message)}return u}},{key:"getLicenseFromDynamsoftCore",value:function(){var n,o,s=null;if(e.mapPackageRegister&&e.mapPackageRegister.license)s=(o=e.mapPackageRegister.license.LicenseManager)===null||o===void 0?void 0:o.license;else if((n=window)!==null&&n!==void 0&&(n=n.Dynamsoft)!==null&&n!==void 0&&(n=n.Core)!==null&&n!==void 0&&(n=n.mapPackageRegister)!==null&&n!==void 0&&n.license){var u;s=(u=window.Dynamsoft.Core.mapPackageRegister.license.LicenseManager)===null||u===void 0?void 0:u.license}if(s!==null){if(s==="")return"";if(p.isString(s))return s=p.trim(s)}return null}},{key:"_initAR",value:function(n){var o,s;n&&(n.pk||(o=n.ar,s=n.u,o&&s&&(Ie.bUseDynamsoftLicenseManager=!0,U.DWT.lsdt(U.DWT.EnumInstance.dwt_browser),U.DWT.lsmid(s,""),U.DWT.lsar(o,""))))}},{key:"preParseProductKey",value:(r=a(w().mark(function n(o){var s,u,d,c;return w().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(s=null,u=!1,s=this.getLicenseFromDynamsoftCore(),!p.isString(s)){f.next=32;break}if(s===""||!this.isLongKey(s)){f.next=8;break}return this.isLicenseMixed(s,!1)||(this._innerResetLicense(),Ie.bPublicLTS=!1,Ie.refProductKey=s),f.abrupt("return");case 8:if(!e.mapPackageRegister||!e.mapPackageRegister.license){f.next=14;break}return f.next=11,e.mapPackageRegister.license.getAR();case 11:c=f.sent,f.next=18;break;case 14:if((d=window)===null||d===void 0||(d=d.Dynamsoft)===null||d===void 0||(d=d.Core)===null||d===void 0||(d=d.mapPackageRegister)===null||d===void 0||!d.license){f.next=18;break}return f.next=17,window.Dynamsoft.Core.mapPackageRegister.license.getAR();case 17:c=f.sent;case 18:if(!c){f.next=32;break}if(this._initAR(c),s!==""){f.next=26;break}return this._innerResetLicense(),Ie.refProductKey="",Ie.bPublicLTS=!0,Ie.handshakeCode="200001",f.abrupt("return");case 26:if(!c.pk){f.next=31;break}return this.isLicenseMixed(c.pk,!1)||(this._innerResetLicense(),Ie.bPublicLTS=!1,Ie.refProductKey=c.pk),f.abrupt("return");case 31:Ie.refProductKey!==s&&(u=!0);case 32:!u&&this.isLicenseMixed(null,!0)||this.reparseProductKey(o);case 33:case"end":return f.stop()}},n,this)})),function(n){return r.apply(this,arguments)})},{key:"reparseProductKey",value:function(n){n&&Nr("Parsing Product Key...");var o=this.getLicenseFromDynamsoftCore(),s=!1;if(o===null||o===""){var u=Dd(U.DWT.organizationID),d=Dd(U.DWT.handshakeCode),c=u||d;if(o=p.trim(U.DWT.ProductKey),!c){var f=lo(Bi,this,jF).call(this,o);f.LTS&&(d=Dd(f.handshakeCode),c=(u=Dd(f.organizationID))||d)}if(c)return this._innerResetLicense(),p.isNumber(o)&&(u=o),Ie.handshakeCode=d,Ie.organizationID=u,Ie.licenseServer=U.DWT.licenseServer,Ie.sessionPassword=U.DWT.sessionPassword,void(Ie.bPublicLTS=lo(Bi,this,GF).call(this,Ie.licenseServer,c))}if(Ie.refProductKey!==o&&(this._innerResetLicense(),p.isString(o)&&o.length>0&&(Ie.refProductKey=o,s=!0)),s)if(this.isLongKey(Ie.refProductKey))Ie.bPublicLTS=!1;else{var m,_={_pLoad:{isEmpty:rt},_license:Ie.refProductKey,_licenseServer:[]};try{m=IF(_)}catch(y){p.error(y),m=!1}if(m&&p.isString(m.l)){var S=p.trim(m.l);S==""?(S="200001",Ie.organizationID=S,Ie.handshakeCode=S):(S.indexOf("-")!=-1||(Ie.organizationID=S),Ie.handshakeCode=S),p.isArray(m.ls)&&m.ls.length>0&&(Ie.licenseServer=m.ls),Ie.bPublicLTS=lo(Bi,this,GF).call(this,Ie.licenseServer,S),Ie.sessionPassword=m.sp}else Ie.bPublicLTS=!1,m&&p.isNumber(m.l)&&(Ie.handshakeCode=""+m.l)}}},{key:"_innerResetLicense",value:function(){Ie.refProductKey="",Ie.handshakeCode=void 0,Ie.organizationID=void 0,Ie.licenseServer=void 0,Ie.sessionPassword="",Ie.bPublicLTS=!0}},{key:"checkOSForAllowCore",value:function(n,o,s){if(Ie.bHTML5Edition){if(n)return lo(Bi,this,zF).call(this,o);var u=s._bRemoteMode,d=s.__serverPlatform;return this.isOSOK(o,u,d)}return rt}},{key:"checkLocalPlatformForRemoteService",value:function(n){var o,s,u,d=n.__licenseInfo,c=Mi.getEnumPlatform(),f=!1;for(o=0;o<d.Detail.length&&(s=d.Detail[o],!((u=lo(Bi,this,$T).call(this,s.EnumLicenseType,s.LicenseType)).Core&&p.isString(s.Version)&&s.Version.indexOf(VF)==0&&((f=lo(Bi,this,zF).call(this,s.OS))||(f=this.isOSOK(s.OS,!0,c))||!n._blts&&n._bScanForProxyRemote&&u.RemoteScan)));o++);return f||(c==Et.enumWindow?function(m){Fe(m,-2344,"The current product key does not support Windows OS. "+On()),zr(m)}(n):c==Et.enumLinux?function(m){Fe(m,-2346,"The current product key does not support Linux OS. "+On()),zr(m)}(n):c==Et.enumMac?function(m){Fe(m,-2345,"The current product key does not support MAC OS. "+On()),zr(m)}(n):function(m){Fe(m,-2347,"The current product key does not support your OS. "+On()),zr(m)}(n)),f}},{key:"checkProductKey",value:function(n,o,s){var u,d=U.DWT.licenseException;return!o.Camera&&(n.__licenseInfo||(n.__licenseInfo={}),(u=lo(Bi,this,L$).call(this,n,n.__licenseInfo,Pe,o,s))||(d.code=n._errorCode,d.message=n._getErrorString(),d.fromLTS=!1),u)}},{key:"isBindDomainOK",value:function(n){if(p.isUndefined(n)||n==null||n==""||n=="*"||n=="*.*")return rt;var o=location.hostname,s=Pe;if(o=="")return rt;for(var u=o.toLowerCase().split("."),d=u.length,c=n.toLowerCase().split(";"),f=0;f<c.length;f++){var m=c[f];if(m=="*.*"){s=rt;break}var _=m.split("."),S=_.length;if(S>0&&S-1<=d){for(var y=rt,b=S-1;b>0;b--){if(_[b].indexOf("*")>-1){s=rt;break}if(b+d-S>=0){if(u[b+d-S]!=_[b]){y=Pe;break}}else if(_[b]!="*"){y=Pe;break}}if(y&&(_[0]=="*"||d>=S&&u[d-S]==_[0])){s=rt;break}}}return s}},{key:"isExpiredOrFuture",value:function(n,o){if(n=="")return Pe;if(!o){var s=n.length;if(s>2&&n[s-2]=="/"&&n[s-1]=="0")return Pe}var u=Rd(n),d=new Date().getTime(),c=d+5184e6;return u.getTime()<d||o&&u.getTime()>c?rt:Pe}},{key:"willTrialExpire",value:function(n){if(n=="")return Pe;var o=Rd(n),s=new Date().getTime();return o.getTime()<s+432e6&&o.getTime()>s?rt:Pe}},{key:"isOSOK",value:function(n,o,s){var u=!1,d=!1,c=!1,f=!1,m=!1,_=!1,S=!1,y=!1;return n==""||n=="0"?rt:(o?s==Et.enumWindow?c=!0:s==Et.enumLinux?d=!0:s==Et.enumMac?u=!0:s==Et.enumEmbed?m=!0:s==Et.enumChromeOS?_=!0:s==Et.enumAndroid?S=!0:s==Et.enumHarmonyOS?y=!0:s==Et.enumiOS&&(f=!0):(u=ue.bMac,d=ue.bLinux,c=ue.bWin,f=ue.biPhone||ue.biPad,_=ue.bChromeOS,m=U.navInfo.bEmbed,S=ue.bAndroid,y=ue.bHarmonyOS),(n=n.toLowerCase()).indexOf("windows")>-1&&c||n.indexOf("mac")>-1&&u||n.indexOf("linux")>-1&&(d||_||y)||n.indexOf("android")>-1&&S||n.indexOf("ios")>-1&&f||n.indexOf("embed")>-1&&m?rt:Pe)}},{key:"isBrowserOK",value:function(n){if(p.isString(n)){if(n==""||n=="0")return rt;var o=(n=n.toLowerCase()).split(";"),s=Pe;return p.each(o,function(u){(p.trim(u)=="chrome"&&(ue.bChrome||ue.bSafari||ue.bOpera||ue.bEdge)||p.trim(u)=="ie"&&ue.bIE||p.trim(u)=="firefox"&&ue.bFirefox)&&(s=rt)}),s}return Pe}},{key:"isAllowLicenseType",value:function(n,o){return o.Core?n.Core:o.PDFRasterizer?n.PDFRasterizer:o.Webcam||o.Camera?n.Webcam:o.barcode1D?n.barcode1D:o.QR?n.QR:o.PDF417?n.PDF417:o.DataMatrix?n.DataMatrix:o.OCR?n.OCR:o.OCRPro?n.OCRPro:n.Core}},{key:"setNoAllowedLicenseTypeError",value:function(n,o,s){s.Core?sp(n):s.Webcam||s.Camera?o||s.Camera?function(u){u._errorCode=-2431,ui()?u._errorString="The license for the Camera Addon is not found or has expired.":Fe(u,-2431,"The current product key does not support Camera Addon. "+On()),zr(u)}(n):function(u){u._errorCode=-2338,ui()?u._errorString="The license for the module direct show is not found or has expired.":u._errorString="The current product key does not support Webcam. "+On(),zr(u)}(n):s.PDFRasterizer?o?function(u){u._errorCode=-2370,ui()?u._errorString="The license for the module pdf rasterizer is not found or has expired.":u._errorString="The current product key does not support Pdf Rasterizer Wasm. "+On(),zr(u)}(n):xd(n):s.OCR?function(u){u._errorCode=-2340,ui()?u._errorString="The license for the module ocr is not found or has expired.":u._errorString="The current product key does not support OCR. "+On(),zr(u)}(n):s.OCRPro?function(u){u._errorCode=-2341,ui()?u._errorString="The license for the module ocr pro is not found or has expired.":u._errorString="The current product key does not support OCR pro. "+On(),zr(u)}(n):Do(n)}},{key:"getLicenseDateString",value:function(n){var o,s=n.getFullYear();return[(o=n.getMonth()+1)>=10?""+o:"0"+o,"/",n.getDate()>=10?""+n.getDate():"0"+n.getDate(),"/",s].join("")}},{key:"hasPDFRProductKey",value:function(n){return!!this.checkProductKey(n,{PDFRasterizer:!0},!0)||(n._resetErr(),!1)}},{key:"checkPDFProductKeyWhenNeeds",value:function(n,o){var s;return(o==U.DWT.EnumDWT_ImageType.IT_PDF||o==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF)&&(Ie.bHTML5Edition?n.__addon&&n.__addon.PDF&&(s=n._getConvertMode()):n.Addon&&n.Addon.PDF&&(s=n._getConvertMode()),s==gr.CM_RENDERALL||s==gr.CM_RENDERALLWITHANNOTATION)?this.checkProductKey(n,{PDFRasterizer:!0},!0):rt}},{key:"getPublicLicenseContent",value:function(n){var o=[],s=n;if(!p.isString(s)){if(p.isUndefined(s))return"";s=s instanceof Error||"message"in s?s.message:""+s}var u=s.indexOf("["),d=s.indexOf("]",u),c=s.indexOf("(",d),f=s.indexOf(")",c);if(u==-1||d==-1||c==-1||f==-1)return s;u>0&&o.push(s.substring(0,u));var m=s.substring(u+1,d),_=s.substring(c+1,f);return o.push(['<a href="',_,'" target="_blank" class="dynamsoft-major-color">',m,"</a>"].join("")),o.push(s.substring(f+1)),o.join("")}},{key:"getLTSLicense",value:function(){return Ie.bPublicLTS?"":Ie.handshakeCode||Ie.organizationID}}]);var r}();function jF(r){var n,o,s=r,u=r.indexOf("-"),d=u!=-1;return o={},d&&(s=r.substring(0,u)),n=Number(s),isNaN(n)||String(Number(n))!==s||(d?o.handshakeCode=r:o.organizationID=r,o.LTS=rt),o}function N$(r){IF({_pLoad:{isEmpty:rt},_license:r,_licenseServer:[]})}function GF(r,n){var o=!0;if(p.isArray(r)&&r.length>0){var s=r[0];p.isString(s)&&s!=""&&new Hv(s).getHostname()!=="mlts.dynamsoft.com"&&(o=!1)}return o&&(!n||n==="200001"||p.startsWith(n,"200001-"))}function M$(r,n,o){return this.checkOSForAllowCore(r,n,o)}function L$(r,n,o,s,u){var d,c=!1;if(Ie.bHTML5Edition&&p.isFunction(r._needCheckProxyRemoteScanLicense)&&(c=r._needCheckProxyRemoteScanLicense()),n&&n.LTS){if(!n||!p.isArray(n.Detail)||n.Detail.length==0)return this.isLTS()?sp(r):Do(r),Pe}else if(!n||!p.isArray(n.Detail)||n.Detail.length==0)return this.isLTS()?sp(r):Do(r),Pe;var f,m,_,S,y=0,b=0,I=[],x=[],P=Pe,L=Pe,$=Pe,te=Pe,q=Pe;if(!this.isBindDomainOK(n.Domain))return function(se){Fe(se,-2342,"The domain of your current site does not match the domain bound in the current product key. "+On()),zr(se)}(r),Pe;for(n.Detail.length>0&&(d=(_=n.Detail[0]).Trial!="FALSE"),m=1;m<n.Detail.length;m++)if((_=n.Detail[m]).Trial=="FALSE"&&d||_.Trial=="TRUE"&&!d)return K9(r),Pe;if(n.bTrial=d,s.Core||s.Webcam){var Q=[],J=!1;for(m=0;m<n.Detail.length;m++)if(_=n.Detail[m],S=lo(Bi,this,$T).call(this,_.EnumLicenseType,_.LicenseType),s.Core&&S.Core&&this.checkOSForAllowCore(o,_.OS,r)||s.Core&&S.Core&&Ie.bActiveXEdition&&S.ActiveX||s.Webcam&&S.Webcam&&!o){if(!n.LTS){if(!p.isString(_.Version)||_.Version.indexOf(VF)!=0){Q.push(_);continue}}if(Ie.bHTML5Edition){if(S.ActiveX&&!S.Html5||c&&!S.RemoteScan)continue;x.push(_)}else{if(!S.ActiveX&&S.Html5)continue;x.push(_)}J=!0}if(!J&&Q.length>0)return Q.splice(0),function(se,ne){var ae=On();Fe(se,Xn.LicenseVersionNotCurrent,"The current product key is not for version ".concat(ne,". ").concat(ae)),zr(se)}(r,ep.toString()=="0"?[ao,Zh].join("."):[ao,Zh,ep].join(".")),!1;Q.splice(0)}else x=n.Detail;for(m=0;m<x.length;m++){var re=rt;if(_=x[m],S=lo(Bi,this,$T).call(this,_.EnumLicenseType,_.LicenseType),s.Core&&S.Core||this.isAllowLicenseType(S,s)){f=_.ExpireDate.replace(/-/g,"/");var H=_.Trial!="FALSE";if(this.isExpiredOrFuture(f,H))I.push(f);else if(H&&S.Core&&this.willTrialExpire(f)&&(n.ExpireDate=f),n.LTS||S.Core&&Ie.bHTML5Edition&&parseInt(_.Version)>=b$||S.Core&&Ie.bActiveXEdition||!S.Core){var F=!1;if(S.Core)(this.checkOSForAllowCore(o,_.OS,r)||Ie.bActiveXEdition&&S.ActiveX)&&(F=!0);else{var B=o;s.Camera&&(B=!0),lo(Bi,this,M$).call(this,B,_.OS,r)&&(F=!0)}F?this.isBrowserOK(_.Browser)||u?(y++,re=Pe):L=rt:s.Core?P=rt:s.PDFRasterizer?te=rt:(s.Webcam||s.Camera)&&(q=rt)}else $=rt;re&&b++}}if(y>0)return rt;if(b==0)return this.setNoAllowedLicenseTypeError(r,o,s),Pe;if(I.length>0){var V,G=0,z=1e20,Z="",ie=new Date().getTime();for(f="",m=0;m<I.length;m++)(V=Rd(I[m])).getTime()<ie&&V.getTime()>G?(G=V.getTime(),f=I[m]):V.getTime()>ie&&V.getTime()<z&&(z=V.getTime(),Z=I[m]);return f!=""?(V=Rd(f),nF(r,f=this.getLicenseDateString(V))):Z!=""?(V=Rd(Z),Z=this.getLicenseDateString(V),function(se){Fe(se,Xn.LicenseIsFuture,"The current product key is invalid. "+On()),zr(se)}(r)):nF(r,""),Pe}return $?(function(se){Fe(se,-2348,"The current product key is invalid because it's generated with the licenses of a different major version."),zr(se)}(r),Pe):L?(ue.bEdge?function(se){Fe(se,-2330,"The current product key does not support Edge. "+On()),zr(se)}(r):ue.bChrome?function(se){Fe(se,-2327,"The current product key does not support Chrome. "+On()),zr(se)}(r):ue.bFirefox?function(se){Fe(se,-2328,"The current product key does not support Firefox. "+On()),zr(se)}(r):ue.bIE?function(se){Fe(se,-2329,"The current product key does not support IE. "+On()),zr(se)}(r):ue.bSafari?function(se){Fe(se,-2392,"The current product key does not support Safari. "+On()),zr(se)}(r):function(se){Fe(se,-2343,"The current product key does not support your browser. "+On()),zr(se)}(r),Pe):P?(this.setNoAllowedLicenseTypeError(r,o,{Core:!0}),Pe):te?(this.setNoAllowedLicenseTypeError(r,o,{PDFRasterizer:!0}),Pe):q?(this.setNoAllowedLicenseTypeError(r,o,{Webcam:!0}),Pe):(Do(r),Pe)}function W$(r){var n=Pe,o=Pe,s=Pe,u=Pe,d=Pe,c=Pe,f=Pe,m=Pe,_=Pe;return p.isString(r)&&r!=""&&p.each(r.split(";"),function(S){var y=1*S;y==I$||y==w$||y==T$||y==C$?n=rt:y==E$?o=rt:y==D$?s=rt:y==R$?u=rt:y==F$?d=rt:y==x$?c=rt:y==A$?f=rt:y==P$?m=rt:y==k$&&(_=rt)}),{Core:n,PDFRasterizer:m,Webcam:f,barcode1D:o,QR:s,PDF417:u,DataMatrix:d,OCR:c,OCRPro:_}}function $T(r,n){var o=lo(Bi,this,W$).call(this,r),s=lo(Bi,this,B$).call(this,n);return p.each(["Core","Html5","RemoteScan","LocalScan","ActiveX","PDFRasterizer","Webcam","barcode1D","QR","PDF417","DataMatrix","OCR","OCRPro"],function(u){o[u]=o[u]||s[u]}),o}function B$(r){var n=Pe,o=Pe,s=Pe,u=Pe,d=Pe,c=Pe,f=Pe,m=Pe,_=Pe,S=Pe,y=Pe,b=Pe,I=Pe;return r&&r!=""&&((r=r.toLowerCase()).indexOf("html5")>-1||r=="win=(aph) or mac=(ph) or linux(h)"?(n=rt,r.indexOf("html5;activex;oldie")>-1?u=rt:r.indexOf("html5;activex")>-1?(o=rt,I=rt,u=rt):(o=rt,I=rt),r.indexOf(";remotescan")>-1&&(o=rt,b=rt,r.indexOf(";onlyremote")>-1&&(I=Pe))):r=="1d barcode reader"?s=rt:r=="2d barcode reader(qrcode)"?d=rt:r=="2d barcode reader(pdf417)"?c=rt:r=="2d barcode reader(data matrix)"?f=rt:r=="ocr"?m=rt:r=="webcam"?_=rt:r=="pdf rasterizer"?S=rt:r=="proocr"&&(y=rt)),{Core:n,Html5:o,RemoteScan:b,LocalScan:I,ActiveX:u,PDFRasterizer:S,Webcam:_,barcode1D:s,QR:d,PDF417:c,DataMatrix:f,OCR:m,OCRPro:y}}function zF(r){var n=r.toLowerCase();return n.indexOf("wasm")>-1||n.indexOf("mobile")>-1}var _t=new O$;function HF(r,n){return $F.apply(this,arguments)}function $F(){return($F=a(w().mark(function r(n,o){var s;return w().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(ui()){u.next=2;break}return u.abrupt("return");case 2:if(u.prev=2,U.DWT.li({instanceMode:U.DWT.lgdt()},"")){u.next=17;break}return o&&Nr("Getting Machine ID."),u.prev=6,u.next=9,_$();case 9:return s=u.sent,u.next=12,U$(s);case 12:u.next=17;break;case 14:u.prev=14,u.t0=u.catch(6),p.log(u.t0);case 17:u.next=22;break;case 19:u.prev=19,u.t1=u.catch(2),p.log(u.t1);case 22:case"end":return u.stop()}},r,null,[[2,19],[6,14]])}))).apply(this,arguments)}function U$(r){return KF.apply(this,arguments)}function KF(){return(KF=a(w().mark(function r(n){var o;return w().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!n){s.next=7;break}if(!(p.isArray(n.result)&&n.result.length>3)){s.next=5;break}o=n.result[3],s.next=7;break;case 5:if(!n.description){s.next=7;break}return s.abrupt("return",{code:n.exception,message:n.description});case 7:p.isString(o)&&o!=""&&(U.DWT.lsmid(o,""),U.DWT.lsmid2b(o));case 8:case"end":return s.stop()}},r)}))).apply(this,arguments)}function Rd(r){var n,o=r;return o=o.replace(/-/g,"/"),n=Date.parse(o),isNaN(n)&&(n=0),(n=new Date(n)).setHours(23,59,59,999),n}function YF(r){if(r=="")return 65536;var n=Rd(r),o=new Date().getTime(),s=(n.getTime()-o)/864e5;return n.getTime()<o?0:Math.ceil(s)}U.DWT.isPublicLicense=function(){return Ie.bPublicLTS};var wi,KT=function(){return v(function r(){h(this,r),C(this,"_exec",{})},[{key:"fire",value:function(r,n){var o,s=this;r=r.toLowerCase(),o=Array.prototype.slice.call(arguments,1),p.each(s._exec[r]||[],function(u){var d=u.f,c=u.c||s;try{d.apply(c,o)}catch(f){p.error(f)}})}},{key:"on",value:function(r,n,o){r=r.toLowerCase(),this._exec[r]=this._exec[r]||[],this._exec[r].push({f:n,c:o})}},{key:"off",value:function(r,n,o){if(r&&n){r=r.toLowerCase();for(var s=this._exec[r]||[],u=s.length-1;u>=0;u--)s[u]===n&&s.splice(u,1)}else this._exec={}}}])}();function V$(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function l_(r,n,o){return(n=function(s){var u=function(d,c){if(R(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var m=f.call(d,c||"default");if(R(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(d)}(s,"string");return R(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function _s(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var ea,d_="[bio]: ",QF=window,f_=QF&&QF.FormData,Fa=new WeakSet,ru=function(r){function n(o){var s;return h(this,n),V$(s=l(this,n),Fa),l_(s,"_attrs",{}),p.mix(s._attrs,{action:"",data:{},bChunkedSendData:rt,ajaxConfig:{value:{},type:"post",processData:Pe,cache:Pe,dataType:"text",async:rt,contentType:Pe,retry:0,headers:{"X-Requested-With":Pe}},ajax:"",formData:"",CORS:Pe,bOnlyResponseEmptyIsOK:rt}),p.mix(s._attrs,o),_s(Fa,s,j$).call(s),s}return D(n,r),v(n,[{key:"get",value:function(o){return o in this._attrs?this._attrs[o]:""}},{key:"set",value:function(o,s){o in this._attrs&&(this._attrs[o]=s)}},{key:"uploadFilesToServer",value:function(o){return _s(Fa,this,G$).call(this,o)}},{key:"uploadToServer",value:function(o){var s=this,u=s.get("ajaxConfig");_s(Fa,s,XF).call(s),o&&o.size>0&&(_s(Fa,s,JF).call(s,o),p.isString(o.name)&&o.name!=""?s.name=o.name:s.name=o.fileName,o=null),p.mix(u,{data:s.get(n.PROP.formData),url:s.get(n.PROP.action),beforeSend:function(f,m,_){f.upload.addEventListener("progress",function(S){s.fire(n.event.PROGRESS,{loaded:S.loaded,total:S.total,name:s.name})},!1)}});var d=s.get("async");if(p.mix(u,{method:"POST",async:d,onSuccess:function(f){h_(s.get(n.PROP.data)),h_(s.get(n.PROP.formData));var m=s.get(n.PROP.ajax);p.isFunction(m.dispose)&&m.dispose(),s.set(n.PROP.data,null),s.set(n.PROP.formData,null),s.set(n.PROP.ajax,null);var _=_s(Fa,s,ZF).call(s,f);s.fire(n.event.SUCCESS,_)},onError:function(f,m,_){var S;h_(s.get(n.PROP.data)),h_(s.get(n.PROP.formData));var y,b,I=s.get(n.PROP.ajax);p.isFunction(I.dispose)&&I.dispose(),s.set(n.PROP.data,null),s.set(n.PROP.formData,null),s.set(n.PROP.ajax,null),f&&p.isArray(f)&&f.length>2?(S=f[0],y=f[1],b=f[2]):(S=f,y=m,b=_),_s(Fa,s,qF).call(s,b,y,S)}}),d){var c=Po(u);return s.set(n.PROP.ajax,c),!0}return Po(u)}},{key:"abort",value:function(){var o=this,s=o.get("ajax");return p.isObject(s)?(s.abort(),o.set("ajax",!1),o):(p.log(d_+"abort(), the value of io invalid!"),o)}},{key:"setRequestHeader",value:function(o,s){var u=this.get("ajaxConfig");return u.headers[o]=s,this.set("ajaxConfig",u),u=null,s}}])}(KT);function j$(){this.get("CORS");var r=this.get("ajaxConfig");return p.mix(r,{xhrFields:{withCredentials:!1}}),r}function G$(r){var n=this,o=n.get(wi.PROP.ajaxConfig),s=[];if(_s(Fa,n,XF).call(n),p.each(r,function(c){c&&c.size>0?(_s(Fa,n,JF).call(n,c),p.isString(c.name)&&c.name!=""?s.push(c.name):s.push(c.fileName)):s.push("")}),p.mix(o,{data:n.get(wi.PROP.formData),url:n.get(wi.PROP.action),beforeSend:function(c,f,m){c.upload.addEventListener("progress",function(_){n.fire(wi.event.PROGRESS,{loaded:_.loaded,total:_.total,name:""})},!1)}}),p.mix(o,{method:"POST",async:n.get("async"),onSuccess:function(c){var f="";s=[],c&&(c&&p.isArray(c)&&c.length>1?f=c[0]:p.isString(c)&&(f=c)),f=_s(Fa,n,ZF).call(n,f),n.fire(wi.event.SUCCESS,f)},onError:function(c,f,m){var _,S;s=[],c&&p.isArray(c)&&c.length>2?(_=c[1],S=c[2]):(_=f,S=m),_s(Fa,n,qF).call(n,S,_)}}),n.name="",n.get("async")){var u=Po(o);return n.set(wi.PROP.formData,null),n.set(wi.PROP.ajax,u),!0}var d=Po(o);return n.set(wi.PROP.formData,null),d}function XF(){var r,n=this,o=n.get("data");if(f_)if(o instanceof f_)n.set(wi.PROP.formData,o);else{r=new f_;try{p.each(o,function(s,u){r.append(u,s)}),n.set(wi.PROP.formData,r)}catch{p.log(d_+"something error when reset FormData.")}}else p.log(d_+"the browser does not support ajax.")}function JF(r){if(!p.isObject(r))return p.log(d_+"_addFileData(), file parameter invalid!"),!1;var n=this.get(wi.PROP.formData),o=r.name,s=r.remoteFilename;return s||(s="RemoteFile"),n.append(s,r,o),this.set(wi.PROP.formData,n),r=null,n}function qF(r,n,o){var s=wi.status.ERROR,u={status:s,msg:n,response:!1,name:this.name};r&&(u.httpStatus=r.status,u.response=o||r.responseText),this.fire(s,u)}function ZF(r){var n,o,s,u=!1,d=this.name,c=wi.status.SUCCESS,f=wi.event.ERROR;if(p.log("Response from server: "+r),!this.get("bOnlyResponseEmptyIsOK"))return{status:c,msg:!1,json:!1,response:r,name:d};if(p.isUndefined(r)||r==="")n={status:c,msg:!1,json:!1,response:"",name:d};else if(p.isString(r)){try{for(o=0;o<r.length&&!(o>10);o++){if((s=r[o])=="{"){u=!0;break}if(s!=" "&&s!="\r"&&s!=`
`&&s!="	")break}if(u){var m=p.parse(r);n=m.status==1?{status:c,msg:!1,json:m,response:r,name:d}:{status:f,msg:!1,json:m,response:r,name:d}}}catch(S){u=!1,p.log(S)}if(!u){var _=String(r);n=(_=_.replace(/( |\t|\r|\n)/g,""))==""?{status:c,msg:!1,json:!1,response:r,name:d}:{status:f,msg:!1,json:!1,response:r,name:d}}}else n={status:c,msg:!1,json:!1,response:"",name:d};return n}function h_(r){r&&r instanceof f_&&r.forEach&&r.forEach(function(n,o){o&&r.delete(o)})}function z$(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function eO(r,n,o){return(n=function(s){var u=function(d,c){if(R(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var m=f.call(d,c||"default");if(R(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(d)}(s,"string");return R(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function pp(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}wi=ru,l_(ru,"event",{SUCCESS:"success",ERROR:"error",PROGRESS:"progress"}),l_(ru,"status",{SUCCESS:"success",ERROR:"error"}),l_(ru,"PROP",{action:"action",data:"data",bChunkedSendData:"bChunkedSendData",ajaxConfig:"ajaxConfig",ajax:"ajax",formData:"formData",CORS:"CORS",bOnlyResponseEmptyIsOK:"bOnlyResponseEmptyIsOK"});var Fd=new WeakSet,Yu=function(r){function n(o){var s;return h(this,n),z$(s=l(this,n),Fd),s._attrs={action:"",retry:0,timeout:0,CORS:Pe,async:rt,dataType:"text",fileStatus:"",data:{},bOnlyResponseEmptyIsOK:rt},p.mix(s._attrs,o),pp(Fd,s,$$).call(s),s}return D(n,r),v(n,[{key:"get",value:function(o){return o in this._attrs?this._attrs[o]:""}},{key:"set",value:function(o,s){o in this._attrs&&(this._attrs[o]=s)}},{key:"upload",value:function(o){var s;if(o){if(p.isArray(o))return s=this._uploadType.uploadFilesToServer(o),o=null,s;if(p.isObject(o)){var u=o;return u.size?(u.id||(u.id=p.guid("file-")),u.size&&(u.textSize=pp(Fd,this,H$).call(this,u.size))):u.size=0,s=this._uploadType.uploadToServer(u),u=null,o=null,s}}return s=this._uploadType.uploadToServer(o),o=null,s}},{key:"abort",value:function(o){return this._uploadType&&this._uploadType.abort(),!0}},{key:"setRequestHeader",value:function(o,s){this._uploadType.setRequestHeader(o,s)}}])}(KT);function H$(r){var n=-1;do r/=1024,n++;while(r>99&&n<4);return Math.max(r,.1).toFixed(1)+["KB","MB","GB","TB"][n]}function $$(){var r=this,n={async:r.get(ea.PROP.async),action:r.get(ea.PROP.action),data:r.get(ea.PROP.data),CORS:r.get(ea.PROP.CORS),bOnlyResponseEmptyIsOK:r.get(ea.PROP.bOnlyResponseEmptyIsOK)};this._uploadType=new ru(n);var o=this._uploadType.get(ru.PROP.ajaxConfig);return o&&(o.dataType=r.get(ea.PROP.dataType),o.async=r.get(ea.PROP.async),o.retry=r.get(ea.PROP.retry)),this._uploadType.on(ru.event.SUCCESS,pp(Fd,r,tO),r),this._uploadType.on(ru.event.ERROR,pp(Fd,r,tO),r),this._uploadType.on(ru.event.PROGRESS,pp(Fd,r,K$),r),this._uploadType}function K$(r){this.fire(ea.event.PROGRESS,r)}function tO(r){var n=this,o=r.status,s=r.msg,u=n.get("file");p.mix(r,{file:u}),o==="success"?n.fire(ea.event.SUCCESS,r):(s===!1||(s==="abort"?p.mix(r,{canceled:!0}):s==="timeout"&&p.mix(r,{timeout:!0})),n.fire(ea.event.ERROR,r))}ea=Yu,eO(Yu,"event",{SUCCESS:"success",ERROR:"error",PROGRESS:"progress"}),eO(Yu,"PROP",{action:"action",retry:"retry",timeout:"timeout",CORS:"CORS",async:"async",dataType:"dataType",fileStatus:"fileStatus",data:"data",bOnlyResponseEmptyIsOK:"bOnlyResponseEmptyIsOK"});var br={Loading:"Processing...",LoadingTiff:"Processing tiff...",LoadingPdf:"Processing pdf...",Encoding:"Processing...",ConvertingToBlob:"Converting to blob...",ConvertingToBase64:"Converting to base64...",SavingPdf:"Saving pdf...",SavingTiff:"Saving tiff...",Downloading:"Downloading...",Uploading:"Uploading...",Transfer:"Transferring...",CanvasLoading:"Loading ...",Err_ServiceModeNotSupportMobile:"Service Mode does not support your Operating System. Please contact the site administrator."};function YT(r,n){j.detect.bMaskShow=!0,U.DWT.ScanDirectly||p.isFunction(U.DWT.OnWebTwainPreExecute)&&U.DWT.OnWebTwainPreExecute(r,n)}function QT(){j.detect.bMaskShow=!1,U.DWT.ScanDirectly||p.isFunction(U.DWT.OnWebTwainPostExecute)&&U.DWT.OnWebTwainPostExecute()}var ar={getImageUrl:function(r,n,o,s,u){var d,c=[r];if(p.isNumber(n)&&n<0)return"";if(n!=null&&(c.push("&index="),c.push(n)),c.push("&width="),c.push(o),c.push("&height="),c.push(s),Wr.bMobile&&c.push("&type=1&quality=85"),c.push("&ticks="),u?c.push(u):c.push(Date.now()),d=c.join(""),ue.bFileSystem&&d.indexOf("dwt://")<0){var f=new Image;f.crossOrigin="anonymous",f.src=d,f=null}return d},getUrlByAct:function(r,n,o){var s=[r];return n!=null&&(s.push("&index="),s.push(n)),o&&(s.push("&act="),s.push(o)),s.push("&ticks="),s.push(Date.now()),s.join("")},output:function(r,n){p.debug&&p.log(n)},print:function(r){var n,o=0,s="";for(o=0;o<r.length;o++)s=s+'<div class="image-container"><img src="'+r[o].Url+'" /></div>';var u,d=ps()+"/src/dynamsoft.webtwain.css",c=["alwaysRaised=yes,z-look=yes,top=0,left=0,toolbar=no,menubar=no,location=no,status=no,width=",0,",height=",0].join(""),f=window.open("about:blank","_blank",c);n=["<html>",'<head><link rel="stylesheet" type="text/css" href="',d,'"></head>','<body id="D_body">',s,"</body></html>"].join(""),f&&(f.document.write(n),f.document.close(),f.focus(),(u=f.document.body)?u.onload=function(){f&&f.print(),p.log("print image...ok")}:p.log("cannot find image"))}};j.html5.Funs2=ar;var Y$=p.isString,Q$=p.isArray,X$=p.each;function gp(r,n){if(Y$(n))r.push('"'),r.push(n),r.push('"');else if(Q$(n)){var o=rt;r.push("["),X$(n,function(s){o?o=Pe:r.push(","),gp(r,s)}),r.push("]")}else n===void 0?r.push('""'):r.push(n)}function Ve(){for(var r=[],n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];if(o.length>0)if(o.length===1){var u=o[0];r.push("["),gp(r,u),r.push("]")}else if(o.length===2){var d=o[0],c=o[1];r.push("["),gp(r,d),r.push(","),gp(r,c),r.push("]")}else gp(r,Array.prototype.slice.call(o));return r.join("")}function nu(r){return r instanceof ArrayBuffer||r instanceof Uint8Array||r instanceof Uint16Array||r instanceof Uint32Array||r instanceof Int8Array||r instanceof Int16Array||r instanceof Int32Array||window.Uint8ClampedArray&&r instanceof window.Uint8ClampedArray||r instanceof Float32Array||r instanceof Float64Array}var ht=function(r){return r.TWAINSCANNER=16,r.WIASCANNER=32,r.TWAINX64SCANNER=64,r.ICASCANNER=128,r.SANESCANNER=256,r.ESCLSCANNER=512,r.WIFIDIRECTSCANNER=1024,r.WIATWAINSCANNER=2048,r}(ht||{}),rO=ht.TWAINSCANNER|ht.WIASCANNER|ht.TWAINX64SCANNER|ht.ICASCANNER|ht.SANESCANNER|ht.ESCLSCANNER|ht.WIFIDIRECTSCANNER|ht.WIATWAINSCANNER,mp=ht.TWAINSCANNER|ht.WIASCANNER|ht.TWAINX64SCANNER|ht.ICASCANNER|ht.SANESCANNER,J$=ht.TWAINSCANNER|ht.WIATWAINSCANNER|ht.TWAINX64SCANNER|ht.ICASCANNER|ht.SANESCANNER;ht.TWAINSCANNER,ht.WIASCANNER,ht.WIATWAINSCANNER;var XT=ht.ESCLSCANNER|ht.WIFIDIRECTSCANNER,Od=ht.TWAINSCANNER|ht.WIATWAINSCANNER,q$=1;function vp(){return(++q$).toString()}function nO(){return["dwt_",p.getRandom()].join("")}var ys=0;function Xr(r,n,o){if(p.log("showMask:"+r+"--"+ys),ys==0)if(n){YT(n);var s=j.mask.dlgMask;if(s){s.style.zIndex="10000";var u=p.sizzle(".dynamsoft-backdrop",s.parentNode);u&&u.length>0&&(u[0].style.zIndex="10000")}}else YT(o||{});ys++}function kr(r){p.log("hideMask:"+r+"--"+ys),ys>1?ys--:ys<=1&&(QT(),ys=0)}var iO=function(){return v(function r(n,o){h(this,r),C(this,"m_server",""),C(this,"m_iUsingTime",0),C(this,"m_countMap",{}),C(this,"m_newConsum",!1),C(this,"m_mapSavedToDb",!1),this.clearData(),this.m_enumInstance=n,n==U.DWT.EnumInstance.dwt_desktop?(this.m_deploymentType="desktop",this.m_server=o):n==U.DWT.EnumInstance.dwt_browser?(this.m_deploymentType="browser",this.m_server=o):n==U.DWT.EnumInstance.dbr&&(this.m_deploymentType="browser",this.m_server="")},[{key:"clearData",value:function(){this.m_iUsingTime=0,this.m_jvUsingTime=p.nil,this.m_countMap={},this.m_newConsum=!1,this.m_mapSavedToDb=!1,this.m_minExpiredTime=p.nil,this.m_maxExpiredTime=p.nil,this.m_cu=p.nil,this.m_ar=p.nil,this.m_ltsInstance=p.nil}},{key:"set_cu",value:function(r){this.m_cu=r}},{key:"get_cu",value:function(){return this.m_cu}},{key:"set_ar",value:function(r){this.m_ar=r}},{key:"get_ar",value:function(){return this.m_ar}},{key:"get_ltsInstance",value:function(r){return this.m_ltsInstance||(this.m_ltsInstance=r(this.m_enumInstance)),this.m_ltsInstance}},{key:"inited_ltsInstance",value:function(){return!!this.m_ltsInstance}},{key:"set_maxExpiredTime",value:function(r){this.m_maxExpiredTime=r}},{key:"get_maxExpiredTime",value:function(){return this.m_maxExpiredTime}},{key:"set_minExpiredTime",value:function(r){this.m_minExpiredTime=r}},{key:"get_minExpiredTime",value:function(){return this.m_minExpiredTime}},{key:"get_deploymentType",value:function(){return this.m_deploymentType}},{key:"get_enumDeploymentType",value:function(){return this.m_enumInstance}}])}(),Ye=U.DWT;Ye.LTS=Ye.LTS||{},Ye.licenseException={code:0,message:"",fromLTS:!1},Ye.bLTSOnline=!0,Ye.axInstance=void 0,Ye.lOnUpdateDWObj=[],Ye.EnumInstance={dwt_desktop:0,dwt_browser:1,dbr:2};var iu,Ei=0,Oa={},_p=!1,Nd=!1,Md=!1,JT=!1,yp=!1;function oO(){var r=Ie.handshakeCode;return p.isString(r)||(r=""),r}function aO(){var r=Ie.organizationID;return p.isNumber(r)?r=""+r:p.isString(r)||(r=""),r}function qT(){return p.replaceAll(ko.JSVersion,",",".")}function un(r,n){var o=r;return o===p.nil&&(o=U.DWT.lgdt()),o==Ye.EnumInstance.dbr?(Ye._dbrLicense||(Ye._dbrLicense=new iO(o,"")),Ye._dbrLicense):(Ye._dwtDLicense||(Ye._dwtDLicense=new iO(o,"")),Ye._dwtDLicense)}Ye.lupverfy=function(){un(Ye.lgdt()).get_ltsInstance(Na),un(Ye.EnumInstance.dbr).get_ltsInstance(Na)};var sO=Ye.EnumInstance.dwt_desktop;Ye.lsdt=function(r,n){sO=r},Ye.lgdt=function(r){return sO},Ye.lsmid=function(r,n){un(Ye.lgdt()).set_cu(r)},Ye.lsar=function(r,n){un(Ye.lgdt()).set_ar(r)},Ye.lsmid2b=function(r){un(Ye.lgdt("")).set_cu(r)},Ye.lgar=function(r,n){return un(r).get_ar()},Ye.laddDWTObj=function(r){var n=!1;p.each(Ye.lOnUpdateDWObj,function(o){if(o==r)return n=!0,!1}),n||Ye.lOnUpdateDWObj.push(r)},Ye.lremoveDWTObj=function(r){p.each(Ye.lOnUpdateDWObj,function(n,o){if(n==r)return Ye.lOnUpdateDWObj.splice(o,1),!1})},Ye.lsendUpdateEvt=function(r,n){var o=[];if(p.each(Ye.lOnUpdateDWObj,function(d){r==Ye.EnumInstance.dwt_desktop&&o.push(d)}),o.length==0)return j.Promise.resolve();var s,u=o[0];return u._bAx?(p.each(o,function(d){d.SetLTSInfo(un(r).get_ar(),un(r).get_cu())}),u.GetLicenseInfo().then(function(d){d&&p.isArray(d.Detail)&&d.Detail.length>0&&Ye.lsexp(r,d.Detail[0].ExpireDate,n)})):(s=u.SetLTSLicenseAsync(un(r).get_ar()).then(function(d){d&&p.isArray(d.Detail)&&d.Detail.length>0&&Ye.lsexp(r,d.Detail[0].ExpireDate,n)}),p.each(o,function(d,c){c!=0&&d.SetLTSLicenseAsync(un(r).get_ar())}),s)},Ye.lgcb=function(){var r=[];return ue.bChrome?r.push("Chrome"):ue.bFirefox?r.push("Firefox"):ue.bEdge?r.push("Edge"):ue.bIE?r.push("IE"):ue.bSafari?r.push("Safari"):ue.bOpera?r.push("Opera"):ue.b360SE?r.push("360SE"):ue.bTencentTraveler?r.push("TencentTraveler"):ue.bMaxthon?r.push("Maxthon"):ue.bMetaSr?r.push("MetaSr"):ue.bTheWorld?r.push("TheWorld"):ue.bUC?r.push("UC"):ue.bHuaWeiBrowser&&r.push("HuaWeiBrowser"),r.push(ue.strBrowserVersion),ue.bWin?r.push("Windows"):ue.bMac?r.push("Mac"):ue.bLinux?r.push("Linux"):ue.bAndroid?r.push("Android"):ue.bChromeOS?r.push("ChromeOS"):ue.bHarmonyOS?r.push("HarmonyOS"):Wr.bMobile?r.push("Mobile OS"):U.navInfo.bEmbed&&r.push("Embed OS"),r.join(" ")};var fl={NetworkError:-2440,Timedout:-2441,JsonError:-2442,CorsError:-2443,Expired:-2445,LtsJsLoadError:-2446,UUIDError:-2447};function Na(r){var n,o,s=Ie.licenseServer;if(s&&s.length>0)for(n=0;n<s.length;n++)o=s[n],p.endsWith(o,"/")||(s[n]=o+"/");var u=un(r),d={bd:j.ltsDebug,dm:location.origin?p.startsWith(location.origin,"http")?location.origin:"https://localhost":p.startsWith(location.href,"http")?location.href:"https://localhost",hs:j.product.handshakeCode||"",pd:Ye.lgpd(r),vm:ao,dt:u.get_enumDeploymentType(),btoa:p.btoa,atob:p.atob,fol:Ye.OnFirstOffline,sutlcb:function(){p.isFunction(Ye.lonsend)&&Ye.lonsend()},lf:j.localforage,updl:function(m){u.set_ar(m.ar),u.get_cu()||u.set_cu(m.cu),Ye.lsendUpdateEvt(r,"")},mnet:function(){return u.get_maxExpiredTime()},mxet:function(){return u.get_minExpiredTime()},dwt:!0};if(r==Ye.EnumInstance.dwt_browser||r==Ye.EnumInstance.dbr?d.feab=Ye.lfeab_wasm:d.feab=Ye.lfeab_ax,!ue.bIE&&Ie.ltsDebug&&(d.log=console.log),U.LTS&&U.LTS._)return U.LTS._.createLtsInstance(d);var c={},f=function(){return j.Promise.reject({code:fl.LtsJsLoadError,message:"The dynamsoft.lts.js load failed."})};return c.i=f,c.s=f,c.u=f,c.caret=f,c}Ye.lgpd=function(r){return r==Ye.EnumInstance.dwt_desktop?"dwt|dbr|ddv":"dwt|ddv"};var uO=!1;function p_(r,n){return ZT.apply(this,arguments)}function ZT(){return ZT=a(w().mark(function r(n,o){var s,u,d,c,f,m,_,S,y,b;return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(s=o??"",d=un(n),c=d.get_enumDeploymentType(),Ye.lclex(),!d.get_ar()||!d.get_cu()){I.next=10;break}if(uO){I.next=9;break}return u=d.get_ltsInstance(Na),I.next=8,u.ih();case 8:uO=!0;case 9:return I.abrupt("return",j.Promise.resolve({ar:d.get_ar(),cu:d.get_cu()}));case 10:if((f={pd:Ye.lgpd(n),v:qT(),os:Ye.lgcb(),fn:Ye.DeviceFriendlyName||"",ls:Ie.licenseServer,sp:Ie.sessionPassword,l:_t.getLTSLicense(),mnet:function(){return d.get_maxExpiredTime()},mxet:function(){return d.get_minExpiredTime()},fol:Ye.OnFirstOffline}).dt=d.get_deploymentType(),c!=Ye.EnumInstance.dwt_desktop){I.next=20;break}if(d.get_cu()!=""){I.next=17;break}return Do(m={}),I.abrupt("return",j.Promise.reject({code:m._errorCode,message:m._errorString}));case 17:f.lsu=d.get_cu(),I.next=21;break;case 20:c==Ye.EnumInstance.dbr||(f.dwt=!0,d.get_cu()!=""&&(f.lsu=d.get_cu()),f.updl=function(x){d.set_ar(x.ar),d.get_cu()||d.set_cu(x.cu),Ye.lsendUpdateEvt(c,s)});case 21:return I.prev=21,u=d.get_ltsInstance(Na),I.next=25,u.i(f);case 25:return _=I.sent,d.get_ar()||d.set_ar(_.ar),d.get_cu()||d.set_cu(_.cu),I.abrupt("return",_);case 31:throw I.prev=31,I.t0=I.catch(21),d.clearData(),p.isString(I.t0)?(y=cO(I.t0),Ye.lsetException(y,I.t0,!0),S=Ye.licenseException):(eC(b={},I.t0),S={code:b._errorCode,message:b._errorString}),S;case 36:case"end":return I.stop()}},r,null,[[21,31]])})),ZT.apply(this,arguments)}function Qu(){return Date.now()}function hl(r){var n=r?new Date(r):new Date,o="yyyy-MM-ddTHH:mm:ss.SSSZ",s={"M+":n.getUTCMonth()+1,"d+":n.getUTCDate(),"H+":n.getUTCHours(),"h+":n.getUTCHours()%12||12,"m+":n.getUTCMinutes(),"s+":n.getUTCSeconds(),"q+":Math.floor((n.getUTCMonth()+3)/3),"S+":n.getUTCMilliseconds()};for(var u in/(y+)/.test(o)&&(o=o.replace(RegExp.$1,(n.getUTCFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+u+")").test(o)&&(o=o.replace(RegExp.$1,RegExp.$1.length==1?s[u]:("000"+s[u]).substr(("000"+s[u]).length-RegExp.$1.length)));return o}function cO(r){var n=fl.NetworkError;return r.indexOf("timed out")>-1||r.indexOf("timeout")>-1?n=fl.Timedout:(r.indexOf("access-control-allow-origin")>-1||r.indexOf("cors")>-1)&&(n=fl.CorsError),n}function eC(r,n){if(n){var o=n.code||n.ltsErrorCode,s=n.message;o==111||o==106||o==108?(sp(r,o),r._errorString=s):(r._errorCode=o,r._errorString=s),U.DWT.lsetException(r._errorCode,r._errorString,!0)}}function tC(r,n){r.__licenseInfo=n,function(o){o.__calic||(o.__calic=o.__licenseInfo)}(r)}function g_(r){var n=U.DWT.licenseException;n.code=r.code,n.message=r.message,r&&(rC(r),r instanceof Error?p.error(r):p.error(p.stringify(r)))}function rC(r){p.isFunction(U.DWT.OnWebTwainError)?U.DWT.OnWebTwainError(r):p.isFunction(window.Dynamsoft_OnError)&&window.Dynamsoft_OnError(r)}function m_(r){return r==Xn.LicenseExpiredForDLS||r==Xn.LicenseNoCoreForDLS||r==Xn.LicenseNoCore||r==Xn.LicenseInvalid||r==Xn.LicenseExpired||r==Xn.LicenseParseFailed||r==Xn.LicenseIsFuture||r==Xn.LicenseVersionNotCurrent}function lO(r){return r==Xn.LicenseExpired}function nC(r){var n=0,o=r.message;p.isNumber(r.code)?n=r.code:p.isString(o)&&(n=-1),n!=0&&function(s,u){p.isFunction(U.OnLicenseError)&&U.OnLicenseError(u,s)}(n,o)}function dO(r){nC(rr(r))}Ye.lglic=p_,Ye.lgbuuid=function(){return""},Ye.lshow=function(){return{t:iu,t2:Ei,m:p.stringify(Oa)}},Ye.lgct=function(r){switch(r){case 0:return"3011";case 1:return"3012";case 2:return"3014";case 3:return"3013";case 4:return"3015";case 14:return"3016";case 3001:return"3001";case 3002:return"3002";case 3003:return"3003";case 3004:return"3004";case 3005:return"3005";case 3006:return"3006";case 3007:return"3007";case 3008:return"3008";case 3009:return"3009";case 5001:return"5001";case 4001:return"4001";case 4002:return"4002";case 4003:return"4003"}return""},Ye.lcvrf=function(r){r&&(r._canConsume&&!r._canConsume()||setTimeout(function(){Ye.lcvrf_(r)},1))},Ye.lcvrf_=function(r){var n;n=Ye.lgdt();var o,s=Ye.DeviceFriendlyName||"",u=Ye.lgcb(),d=un(n),c={hs:oO(),og:aO(),cu:d.get_cu(),fn:s,cw:"",os:u,v:qT(),dt:d.get_deploymentType(),ed:"js"},f=function(y,b){var I,x,P=0;if(p.isString(y)&&y!=""&&y!="{}"&&b&&p.isArray(b)&&!(b.length<1)){if(x=un(b[0]),I=p.parse(y),Ye.lclex(),Ei==0){var L=Qu(),$="";Ei=L,iu=hl(L),Oa={},P=0,p.each(I,function(te,q){(q<P||P==0)&&(P=q,$=te)}),P>0&&x.get_ltsInstance(Na).s(Ie.licenseServer,$,P,!0).then(function(){},function(te){})}p.each(I,function(te,q){var Q=!1,J=parseInt(q);J>0&&J!=P&&(J+18e4<Qu()&&(Q=!0),x.get_ltsInstance(Na).s(Ie.licenseServer,te,q,Q).then(function(){},function(re){}))})}};if(c.pd=Ye.lgpd(n),o=p.stringify(c),!r._bAx){var m="GetBuffer",_=Ve(p.replaceAll(o,'"','\\"')),S={cmd:m,cmdId:vp(),sFun:f,fFun:function(){},params:[n]};return r._innerSendByWS(m,_,S,null,!0)}f(r.GetBuffer(o),[n,""])},Ye.lavrf=function(r,n,o,s){var u=1;if(r!=""){n>1&&(u=n);var d=Qu();if(Ei>0&&Ei+18e4<d){Nd?(Oa={},Ye.lavrf__unload()):Ye.lavrf__(!0,o,s);var c=Qu()+1;Ei=c,iu=hl(c),Oa={}}_p=!0,Nd=!1,Oa[r]?Oa[r]+=u:Oa[r]=u,Ei==0&&Ye.lavrf__(!0,o,s)}},Ye.lavrf_=function(r,n,o){if(_p){var s=1;r&&(s=r),setTimeout(function(){Ye.lavrf__(!1,n,o)},s)}},Ye.lavrf__=function(r,n,o){var s,u,d,c=Qu(),f=!1,m=!!r,_=0,S=n;p.isUndefined(S)&&(S=Ye.lgdt()),d=un(S),_p=!1,Ei==0&&(f=!0,Ei=c,iu=hl(c)),s=Ei,u=iu;var y={};y.ut=u;var b={};if(p.each(Oa,function(te,q){b[q]=te,te>0&&_++}),y.cts=b,m||s+18e4<c){m=!0;var I=Qu()+1;if(Ei=I,iu=hl(I),Oa={},Nd=!1,_==0)return}else{if(_==0)return;Nd=!0}y.dur=f?1:180;var x,P=Ye.DeviceFriendlyName||"",L=Ye.lgcb(),$={hs:oO(),og:aO(),cu:d.get_cu(),fn:P,cw:"",os:L,v:qT(),dt:d.get_deploymentType(),ed:"js",rcs:[y]};$.product=Ye.lgpd(n),x=p.stringify($),Ie.ltsDebug&&hl(),Ye.lclex(),d.get_ltsInstance(Na).s(Ie.licenseServer,x,""+s,m).then(function(){},function(te){})},Ye.lavrf__unload=a(w().mark(function r(){var n,o,s,u,d,c,f;return w().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(n=Qu(),o=!0,u=!1,d=un(Ye.lgdt()),c=un(Ye.EnumInstance.dbr),_p=!1,Ei==0&&(Ei=n,iu=hl(n)),s=Ei,f=Qu()+1,Ei=f,iu=hl(f),Oa={},Nd=!1,s+=1,Ye.lclex(),!d.inited_ltsInstance()){m.next=20;break}return m.prev=13,m.next=16,d.get_ltsInstance(Na).s(Ie.licenseServer,u,""+s,o);case 16:m.next=20;break;case 18:m.prev=18,m.t0=m.catch(13);case 20:if(!c.inited_ltsInstance()){m.next=28;break}return m.prev=21,m.next=24,c.get_ltsInstance(Na).s(Ie.licenseServer,u,""+s,o);case 24:m.next=28;break;case 26:m.prev=26,m.t1=m.catch(21);case 28:case"end":return m.stop()}},r,null,[[13,18],[21,26]])})),Ye.lclex=function(){var r=Ye.licenseException;r.code=0,r.message="",r.httpResponse="",r.fromLTS=!1},Ye.li=function(r,n){var o;return r.axInstance&&(Ye.axInstance=r.axInstance,Ye.axInstance)?(o=Ye.axInstance.GetUUID(),Ie.ltsDebug&&p.log("ActiveX cu: "+o),un(r.instanceMode).set_cu(o),o):un(r.instanceMode).get_cu()},Ye.lfeab_ax=function(r){return new j.Promise(function(n,o){var s="";if(Ye.axInstance)try{s=Ye.axInstance.Encrypt(r,0)}catch{}n(s)})},Ye.lfeab_wasm=function(r){return j.Promise.resolve("")},Ye.lwsproc=function(r,n){try{r=p.parse(r)}catch(o){return void(n.fFun&&n.fFun(o))}r.method=="GetBuffer"?n.sFun&&r.result.length>0?n.sFun(r.result[0],n.params):n.sFun("",n.params):n.sFun&&n.sFun(r)},Ye.lsexp=function(r,n,o){var s,u=n;if((s=(u=p.replaceAll(u,"/","-")).split("-")).length==3){var d=s[0],c=s[1],f=s[2];c.length<2&&(c=(c="00"+c).substr(c.length-2)),f.length<2&&(f=(f="00"+f).substr(f.length-2)),u=[d,c,f].join("-")}var m=[u,"T23:59:59.999Z"].join("");un(r).set_minExpiredTime(m),un(r).set_maxExpiredTime(m)},Ye.lunload=a(w().mark(function r(){return w().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ye.lavrf__unload();case 2:Ei=0,iu=p.nil,Oa={},Nd=!1,_p=!1,Md=!1,JT=!1,yp=!1,Ye.lclex(),Ye.bLTSOnline=!0,Ye.axInstance=p.nil,Ye.lOnUpdateDWObj=[];case 14:case"end":return n.stop()}},r)})),Ye.lcexp=function(r,n){return un(r).get_ltsInstance(Na).caret().then(function(){return!1},function(o){var s=Ye.licenseException,u="";return o instanceof Error||"message"in o?u=o.message:p.isString(o)&&(u=o),Ye.lsetException(fl.Expired,u,!1),JT||(JT=!0,p.error(u),U.OnLTSLicenseError&&U.OnLTSLicenseError(_t.getPublicLicenseContent(s.message),s.code)),!0})},Ye.OnLicenseException=function(){var r=Ye.licenseException,n=r.message;if(p.isString(n)&&(n.indexOf("Error Code")>-1?n=p.replaceAll(n,"Error Code","error code"):n.indexOf("Error code")>-1&&(n=p.replaceAll(n,"Error code","error code"))),n.indexOf("(https://www.dynamsoft.com/purchase-center/)")>-1&&(n=n.replace("(https://www.dynamsoft.com/purchase-center/)","(https://www.dynamsoft.com/store/dynamic-web-twain/)"),r.message=n),n.indexOf("error code:")>-1){var o=n.substr(0,n.indexOf("message")),s=n.substr(n.indexOf("message"));o.indexOf("{")>-1&&(o=o.substr(o.indexOf("{")+1)),s.indexOf("}")>-1&&(s=s.substr(0,s.indexOf("}"))),o=p.replaceAll(o,"error code:",""),s=p.replaceAll(s,"message: ",""),Ye.lsetException(parseInt(o),s,!0),p.error(s),U.OnLTSLicenseError&&U.OnLTSLicenseError(_t.getPublicLicenseContent(n),r.code)}else{if(!r.code){var u=cO(n);Ye.lsetException(u,n,!0)}if(p.error(r.message),r.code==fl.LtsJsLoadError)return;U.OnLTSLicenseError&&U.OnLTSLicenseError(_t.getPublicLicenseContent(r.message),r.code)}},Ye.lol=function(){return Ye.bLTSOnline},Ye.OnFirstOffline=function(r){Ye.bLTSOnline=!1},Ye.lpubdlg=function(r,n){if(p.isString(r)&&r!=""){if(r=p.atob(r),console&&console.warn&&!Md&&Ie.bUseDynamsoftLicenseManager,n==1)return Md||Ie.bUseDynamsoftLicenseManager||(Md=!0,U.OnLTSPublicLicenseWarning&&U.OnLTSPublicLicenseWarning(_t.getPublicLicenseContent(r))),!0;n==2&&(Md||(Md=!0))}return!1},Ye.lcheckLic=function(r,n,o){var s=!1;if(n){if(p.isArray(n.Detail)&&n.Detail.length>0){var u=n.Detail[0].ExpireDate;return Ye.lsexp(r,u,o),Ye.lcexp(r,o).then(function(d){var c=!1;d?c=!0:n.Trial!=1&&n.Trial!=2||(c=Ye.lpubdlg(n.Message,n.Trial)),c||Ye.bLTSOnline||yp||(yp=!0,U.OnLTSConnectionWarning&&U.OnLTSConnectionWarning())})}n.Trial!=1&&n.Trial!=2||(s=Ye.lpubdlg(n.Message,n.Trial))}return s||Ye.bLTSOnline||yp||(yp=!0,U.OnLTSConnectionWarning&&U.OnLTSConnectionWarning()),j.Promise.resolve()},Ye.lisValidID=function(r){if(p.isString(r)&&r!="")return!0;var n,o=Ye.licenseException;return Ye.lsetException(fl.UUIDError,"Failed to generate an ID for your device to license it: not enough permission.",!0),p.error(o.message),n=o.message,U.OnLTSLicenseError&&U.OnLTSLicenseError(n,o.code),!1},Ye.lsetException=function(r,n,o){var s=Ye.licenseException;s.code=r,s.message=n,o?s.fromLTS=!0:o in s&&delete s.fromLTS},Ye.lgcuid=function(r){var n=U.DWT.li({instanceMode:r},"");return n?j.Promise.resolve(n):un(r).get_ltsInstance(Na).u().then(function(o){return U.DWT.lsmid(o,""),U.DWT.lsmid2b(o),o})};var iC=v(function r(){h(this,r)});function oC(r){var n=new iC;return n.server=r.server,n.normal=!0,r.attrs&&(n.attrs=p.clone(r.attrs)),n}var Ss=function(r){return r.CONNECTING=0,r.OPEN=1,r.CLOSING=2,r.CLOSED=3,r}({});function aC(r,n,o){if(p.isString(r)&&(r.indexOf("Function not found")>0||r.indexOf("Version not found")>0))n&&n(r);else{var s=r.data;if(R(s)==="object")return s=null,r=null,void(o&&o());var u=s.replace(/\0/g,"");try{n&&n(u)}catch{p.log(s),o&&o()}s=null,r=null}}function sC(r,n){r&&r.readyState!=Ss.CLOSING&&r.readyState!=Ss.CLOSED?r.readyState==Ss.CONNECTING?(r.onerror=function(o){o&&p.log("websocket error: "+o),r._reject&&(r._reject(o),r._reject=null),r.close()},r.onclose=function(o){r.onclose=null,r.onerror=null,r.onmessage=null,r.onopen=null,r._reject=null},r.onopen=function(){r.readyState==Ss.OPEN?(r.onopen=null,r.send(n)):r.readyState==Ss.CONNECTING&&(r.onopen?setTimeout(r.onopen,100):r._reject&&(r._reject(),r._reject=null))}):r.readyState==Ss.OPEN&&(r.onopen=null,r.send(n)):r._reject&&(r._reject({closed:!0}),r._reject=null)}function fO(r,n,o){var s,u=o;return u||(U.DWT.ConnectWithSocket?p.startsWith(r,"wss://")||p.startsWith(r,"ws://")||(u=ue.bSSL?"wss://":"ws://"):p.startsWith(r,"https://")||p.startsWith(r,"http://")||(u=ue.bSSL?"https://":"http://")),n?(p.endsWith(r,"/")&&(r=r.substring(0,r.length-1)),s=":"+n+"/"):p.endsWith(r,"/")||(s="/"),[u,r,s].join("")}var ou=function(){function r(){h(this,r)}return v(r,null,[{key:"postStringDataByWS",value:function(n,o){return new j.Promise(function(s,u){n.onmessage=function(d){aC(d,function(c){s(c),n.close(),n=null},function(){u(),n.close(),n=null})},n._reject=u,sC(n,o)})}},{key:"postStringDataByWSUrl",value:function(n,o){var s=new j.Promise(function(u,d){var c=r.newWebsocket(n,!1);c.onmessage=function(f){aC(f,function(m){u(m),c.close(),c=null},function(m){d(m),c.close(),c=null})},c._reject=d,sC(c,o)});return ue.bEdge&&s.catch(function(){return new j.Promise(function(u,d){var c=r.newWebsocket(n,!0);c.onmessage=function(f){aC(f,function(m){u(m),c.close(),c=null},function(m){d(m),c.close(),c=null})},c._reject=d,sC(c,o)})}),s}},{key:"newWebsocket",value:function(n,o){var s,u=Pt.wsProtocol,d=window.MozWebSocket;if(d!==void 0)s=u?new d(n,u):new d(n);else{var c=window.WebSocket;if(o){var f=window,m=parent;try{for(;f!=m&&m.WebSocket;)c=m.WebSocket,f=m.window,m=m.parent}catch{c=window.WebSocket}}s=u?new c(n,u):new c(n)}return s}},{key:"getWsUrl",value:function(n,o,s){var u=s;return u===void 0&&(u=ue.bSSL),fO(n,o,u?"wss://":"ws://")}},{key:"getDDMUrl",value:function(n,o,s){var u,d,c="/";return p.startsWith(n,"https://")?u=!0:p.startsWith(n,"http://")?u=!1:n=(u=j.detect.ssl)?"https://"+n:"http://"+n,d=u?"18626/":"18625/",p.endsWith(n,"/")&&(c=""),o?[n,c,"ddm/",d,s].join(""):[n,c,s].join("")}},{key:"getModuleUrl",value:function(n){var o;return o=fO(si(),ue.bSSL?U.DWT.SSLPort:U.DWT.Port),n?o+n:o}}])}();U.DWT.NetManager=ou;var Ui=function(r){return r.ST_UNKNOWN=0,r.ST_TWAIN_DIRECT=1,r.ST_DYNAMSOFT_SERVICE=2,r.ST_ESCL=3,r.ST_WIFI_DIRECT=4,r}({}),Z$=function(){return v(function r(n){h(this,r);var o=this;if(o._id=n.id,o._clientId=p.getRandom(),o._uuidForActiveUI=null,o._bReady=Pe,o._destroy=Pe,o._bMustUpgradeService=Pe,o._wsClient=null,o._wsRetry=0,o._wsFailedTimes=0,o._bConnecting=Pe,o._bNoMask=Pe,o._bNotShowMessage=Pe,o.__serverPlatform=Et.enumWindow,o.__productKey="",o.__licenseInfo=null,o._reconnectTimeSpan=Or.RemoteReconnectTimeSpan,o._reconnectShortSpan=300,o._reconnectShortSpanTimes=5,o._bIfShowProgressBar=rt,o.__IfShowCancelDialogWhenImageTransfer=rt,o._bLicenseErrorDispose=!0,n.dmService){var s,u,d,c,f,m,_=oC(n.dmService),S="/",y="";u=_.server;var b=new Hv(n.dmService.server),I=b.scheme;I&&(I=I.toLowerCase()),I=="https"?(s=!0,d=u.substring(8)):I=="http"?(s=!1,d=u.substring(7)):I=="wss"?(s=!0,d=u,u=p.replaceAll(u,"wss://","")):I=="ws"?(s=!1,d=u,u=p.replaceAll(u,"ws://","")):(d=u,u=(s=j.detect.ssl)?"https://"+u:"http://"+u),so(b.hostname||b.scheme)?o._bRemoteMode=Pe:o._bRemoteMode=rt,p.endsWith(u,"/")&&(S="");var x=_.attrs;if(x){var P,L;c=((P=x)===null||P===void 0?void 0:P.UUID)||"";var $=((L=x.modules)===null||L===void 0?void 0:L.length)||0;if(c!=""&&$>0){var te;s?$>1&&$>1+(te=x.modules[1])+2&&(f=x.modules[1+te+2]):$>2&&(f=x.modules[2]),p.endsWith(f,"/")&&(S=""),y=[c,"/",f,"/"].join("")}}else x={UUID:"",service_type:Ui.ST_DYNAMSOFT_SERVICE};m=[u,S,y].join(""),x.url=m,o._serverInfo=new dl([d,S,y].join(""),null,s,!0,Pt.wsProtocol),o._httpUrl=m,o._dmService=_}else{var q,Q=j.detect.ssl,J=n.port,re=n.sslPort;so(q=n.host?n.host:si())?o._bRemoteMode=!1:o._bRemoteMode=!0,J||(J=U.DWT.Port),re||(re=U.DWT.SSLPort),o._serverInfo=new dl(q,Q?re:J,Q,!0,Pt.wsProtocol),o._httpUrl=function(H){var F=H.server;if(F){if(p.startsWith(F,"wss://")||p.startsWith(F,"ws://"))return F}else F=si();return H.ssl?["https://",F,":",H.port,"/"].join(""):["http://",F,":",H.port,"/"].join("")}(o._serverInfo),o._dmService={server:o._httpUrl,attrs:{url:o._httpUrl,UUID:"",service_type:Ui.ST_DYNAMSOFT_SERVICE},normal:!0}}},[{key:"_resetErr",value:function(){this._errorCode=0,this._errorString="";var r=U.DWT.licenseException;r.code=0,r.message=""}},{key:"dispose",value:function(){this._bReady=Pe,this._destroy=rt}},{key:"isDestroy",get:function(){return this._destroy}}])}(),ta=v(function r(){h(this,r)});function hO(r,n){var o,s=[],u=n;if(p.isString(u)&&(u=p.parse(u)),p.isArray(u))for(o=0;o<u.length;o++){var d=tK(u[o]);s.push(d)}for(o=0;o<s.length;o++){var c=s[o],f=c.deviceType;c.name&&(c.name=p.base64.decode(c.name)),f&rO&&c.deviceInfo&&pO(c.deviceInfo),c.serviceInfo=r==null?void 0:r._dmService,uC(c,r==null?void 0:r._dmService),p.isBoolean(c.isSystemDefaultPrinter)||(c.isSystemDefaultPrinter=!1)}return s}function eK(r,n){return function(o,s){var u=s.deviceType;return s.name&&(s.name=p.base64.decode(s.name)),u&rO&&s.deviceInfo&&pO(s.deviceInfo),s.serviceInfo=o==null?void 0:o._dmService,uC(s,o==null?void 0:o._dmService),p.isBoolean(s.isSystemDefaultPrinter)||(s.isSystemDefaultPrinter=!1),s}(r,p.parse(n))}function uC(r,n){var o,s=r.name,u="",d=r.deviceType;d==ht.TWAINSCANNER?o="":d==ht.TWAINX64SCANNER?o="Twain64-":d==ht.WIASCANNER?o="WIA-":d==ht.WIATWAINSCANNER?(s=p.replaceAll(s,"WIA-",""),o="WIATWAIN-"):o=d==ht.ICASCANNER?"ICA-":d==ht.SANESCANNER?"Sane-":d==ht.ESCLSCANNER?"eSCL-":(ht.WIFIDIRECTSCANNER,""),n&&n.attrs&&n.attrs.ty&&(u=" on ["+n.attrs.ty+"]"),r.displayName=[o,s,u].join("")}function pO(r){if(r.ProductName){var n=r.ProductName;r.ProductName=p.base64.decode(n)}if(r.ProductFamily){var o=r.ProductFamily;r.ProductFamily=p.base64.decode(o)}if(r.Manufacturer){var s=r.Manufacturer;r.Manufacturer=p.base64.decode(s)}if(r.Version&&r.Version.Info){var u=r.Version.Info;r.Version.Info=p.base64.decode(u)}}function tK(r){var n=new ta;return n.strDevice=p.stringify(r),r.deviceInfo&&(n.deviceInfo=p.clone(r.deviceInfo)),r.deviceType&&(n.deviceType=p.clone(r.deviceType)),r.displayName&&(n.displayName=p.clone(r.displayName)),r.name&&(n.name=p.clone(r.name)),r.serviceInfo&&(n.serviceInfo=oC(r.serviceInfo)),p.isBoolean(r.isSystemDefaultPrinter)?n.isSystemDefaultPrinter=r.isSystemDefaultPrinter:n.isSystemDefaultPrinter=!1,n}j.removeNonPrintableChar;var Sp=function(r){return r.SMF_NAME=1,r.SMF_TWAINVERSION=2,r.SMF_TWAINPROTOCOL=4,r.SMF_ICAUUID=8,r.SMF_ICAMODULEVERSION=16,r.SMF_ICALOCATIONTYPE=32,r}({}),Qt=function(r){return r.IT_BMP=0,r.IT_JPG=1,r.IT_TIF=2,r.IT_PNG=3,r.IT_PDF=4,r.IT_ALL=5,r.IT_MULTIPAGE_PDF=7,r.IT_MULTIPAGE_TIF=8,r.IT_J2K=14,r}({}),bp=function(r){return r.RGBA=15,r.Auto=16,r}({});function cC(r){var n="application/octet-stream";switch(r){case Qt.IT_BMP:n="image/bmp";break;case Qt.IT_JPG:n="image/jpeg";break;case Qt.IT_TIF:n="image/tiff";break;case Qt.IT_PNG:n="image/png";break;case Qt.IT_PDF:n="application/pdf";break;case Qt.IT_J2K:n="image/jp2"}return n}var ra={isSupportLS:function(){var r=!1;if(!(ue.bEdge&&ue.bFileSystem))try{r=!!window.localStorage}catch{}return r},item:function(r,n,o){var s=null;return this.isSupportLS()?(n?(localStorage.setItem(r,n),s=n):s=localStorage.getItem(r),s===null?o:s):o},removeItem:function(r){return!!this.isSupportLS()&&(localStorage.removeItem(r),!0)}},gO=!0,mO=!1;function rK(r){if(p.isUndefined(r))return mO;var n,o,s,u=r.toString().toLowerCase(),d=(s=u.toLowerCase().replace(Ie.name.toLowerCase()+" ",""),(s=p.replaceAll(s,"[.]",",")).split(","));n=Ie.bActiveXEdition?ko.ActiveXVersion:Ie.getServerVersionInfo(!0),o=(n=p.replaceAll(String(n),"[.]",",")).split(",");for(var c=d.length>o.length?d.length:o.length,f=0;f<c;f++){if(d[f]==null&&(d[f]=0),o[f]==null&&(o[f]=0),parseInt(d[f])<parseInt(o[f]))return mO;if(parseInt(d[f])>parseInt(o[f]))return gO}return gO}function nK(r,n){var o=r.split(","),s=n.split(",");return o.length>1&&p.trim(o[0])==s[0]}function iK(r,n){var o=r.split(","),s=n.split(",");return o.length>3&&p.trim(o[0])==s[0]&&(p.trim(o[1])>s[1]||p.trim(o[1])==s[1]&&p.trim(o[2])>s[2]||p.trim(o[1])==s[1]&&p.trim(o[2])==s[2]&&parseInt(p.trim(o[3]))>=parseInt(s[3]))}function vO(r,n){j.detect.urls.splice(0),j.detect.urls.push({port:r,ssl:ue.bSSL}),j.detect.ports=[{port:r,ssl:ue.bSSL}],j.detect.cUrlIndex=0,Pt.detect.dwtPort=r,Pt.detect.dwtSSLPort=n,U.DWT.Port=r,U.DWT.SSLPort=n}function lC(r,n,o){return _O.apply(this,arguments)}function _O(){return(_O=a(w().mark(function r(n,o,s){var u,d,c;return w().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!Ie.bDCPChecked){f.next=2;break}return f.abrupt("return",{host:n,port:U.DWT.Port,sslPort:U.DWT.SSLPort});case 2:return Nr("Initializing the service..."),f.prev=3,f.next=6,yO(n);case 6:u=f.sent,f.next=13;break;case 9:throw f.prev=9,f.t0=f.catch(3),p.log(f.t0),kT();case 13:if(!Pt.bEnhancedMode){f.next=27;break}if(Nr("Checking the service enhanced module..."),d=j.install._dlgInstall,c=500,d&&d.open||(c=0),!(u.port<=0||u.sslPort<=0)){f.next=25;break}if(!(c>0)){f.next=21;break}return f.next=21,new j.Promise(function(m,_){setTimeout(function(){m()},c)});case 21:return Nr(LF),f.next=24,oK(n);case 24:u=f.sent;case 25:f.next=28;break;case 27:u={host:n,port:o,sslPort:s};case 28:return Ie.bDCPChecked=!0,f.abrupt("return",u);case 30:case"end":return f.stop()}},r,null,[[3,9]])}))).apply(this,arguments)}function oK(r){return dC.apply(this,arguments)}function dC(){return dC=a(w().mark(function r(n){var o,s,u,d;return w().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:s=5,u=1500,d={host:n,port:0,sslPort:0},o=0;case 3:if(!(o<s)){c.next=22;break}return o>2&&(u=3e3),Nr(LF),c.prev=6,c.next=9,aK(n);case 9:d=c.sent,c.next=14;break;case 12:c.prev=12,c.t0=c.catch(6);case 14:if(!(p.isNumber(d.port)&&d.port>0&&p.isNumber(d.sslPort)&&d.sslPort>0)){c.next=17;break}return vO(d.port,d.sslPort),c.abrupt("return",d);case 17:return c.next=19,new j.Promise(function(f,m){setTimeout(function(){f()},u)});case 19:o++,c.next=3;break;case 22:throw j.detect.dcpStatus=3,kT();case 25:case"end":return c.stop()}},r,null,[[6,12]])})),dC.apply(this,arguments)}function aK(r){return fC.apply(this,arguments)}function fC(){return fC=a(w().mark(function r(n){var o,s,u,d,c,f,m,_,S;return w().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return o=Ie.refProductKey,p.startsWith(n,"wss://")||p.startsWith(n,"ws://")?u=n:(d=ue.bSSL?Pt.SSLPort:Pt.Port,u=ou.getWsUrl(n,d,ue.bSSL)),c={id:p.guid(),method:"GetPorts",version:"dwasm2_"+wd(),parameter:[Pt.strSID]},_t.isLongKey(o)&&(c.productKey=o),y.next=6,ou.postStringDataByWSUrl(u,p.stringify(c));case 6:if(f=y.sent,!p.isString(f)){y.next=19;break}if(y.prev=8,(m=p.parse(f))&&"result"in m&&(s=m.result),!(p.isArray(s)&&s.length>1&&s[1])){y.next=15;break}if(!(_=s[1]).dwt){y.next=15;break}return y.abrupt("return",{host:n,port:_.dwt.port,sslPort:_.dwt.sslPort});case 15:y.next=19;break;case 17:y.prev=17,y.t0=y.catch(8);case 19:throw Wi(S={}),rr(S);case 22:case"end":return y.stop()}},r,null,[[8,17]])})),fC.apply(this,arguments)}function yO(r){return SO.apply(this,arguments)}function SO(){return(SO=a(w().mark(function r(n){var o,s;return w().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return Pt.detect.bConnected=!1,u.prev=1,u.next=4,sK(n);case 4:return uK(u.sent),Pt.detect.bConnected=!0,u.abrupt("return",{host:n,port:Pt.detect.dwtPort,sslPort:Pt.detect.dwtSSLPort});case 10:if(u.prev=10,u.t0=u.catch(1),!u.t0){u.next=21;break}if(o=u.t0.code,!p.isNumber(o)){u.next=21;break}if(o!=kt.ResponseDataTypeError&&o!=kt.HTSTError&&o!=kt.CORSError&&o!=kt.CORSErrorFromService&&o!=kt.SSLCertExpired&&o!=kt.SSLCertInvalid){u.next=19;break}throw u.t0;case 19:if(o!=kt.MustUpgrade){u.next=21;break}throw u.t0;case 21:throw Pt.detect.dcpStatus=Pt.detect.EnumDCP_DetectStatus.NotInstalled,U.dcp._sendStatusEvent(),lp(s={}),{code:s._errorCode,message:s._errorString};case 26:case"end":return u.stop()}},r,null,[[1,10]])}))).apply(this,arguments)}function sK(r){return bO.apply(this,arguments)}function bO(){return(bO=a(w().mark(function r(n){var o,s,u,d,c,f,m,_,S;return w().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return o=Ie.refProductKey,p.startsWith(n,"wss://")||p.startsWith(n,"ws://")?u=n:(d=ue.bSSL?Pt.SSLPort:Pt.Port,u=ou.getWsUrl(n,d,ue.bSSL)),c={id:p.guid(),method:"VersionInfo",version:"dwasm2_"+Or.getVersionStrForCheck(),parameter:[]},_t.isLongKey(o)&&(c.productKey=o),y.next=6,ou.postStringDataByWSUrl(u,p.stringify(c));case 6:if(f=y.sent,p.isString(f))try{(m=p.parse(f))&&"result"in m&&(s=m.result)}catch{}if(_={},!(p.isArray(s)&&s.length>0&&s[0])){y.next=21;break}if(S=s[0],!p.isString(S)||S==""){y.next=21;break}if(!nK(S,Ie.getServerVersionInfo(!0))){y.next=18;break}return Pt.detect.dcpStatus=Pt.detect.EnumDCP_DetectStatus.UpdateSkipped,U.dcp._sendStatusEvent(),y.abrupt("return",s);case 18:throw Nr(WF),Ed(_),rr(_);case 21:throw Wi(_),rr(_);case 23:case"end":return y.stop()}},r)}))).apply(this,arguments)}function uK(r){var n="",o=!1,s=!1,u={};if(r.length>4&&(n=p.isString(r[2])?r[2]:"",o=p.isString(r[3])&&r[3]==="true",s=p.isString(r[4])&&r[4]==="64"),r.length>5&&(u=r[5]),Pt.detect.connectedResult=r,Pt.strSID=n,Pt.bEnhancedMode=o,Pt.b64bit=s,Pt.objEnhancedPorts=u,o&&u){if(u.dcp){var d=u.dcp;Pt.SSLPort=d.sslPort,Pt.Port=d.port}if(u.ddm){var c=u.ddm;c?ue.bSSL?Pt.detect.ddmPort=c.sslPort:Pt.detect.ddmPort=c.port:Pt.detect.ddmPort=0}if(U.DWT.Port=0,U.DWT.SSLPort=0,u.dwt){var f=u.dwt;f&&f.port>0&&f.sslPort>0&&vO(f.port,f.sslPort)}}}function cK(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function hC(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}U.DWT.NetManager.checkModuleManager=function(r,n){yO(si()).then(r,n)};var v_=new WeakSet,Vi=function(r){function n(H){var F;return h(this,n),cK(F=l(this,n,[H]),v_),F._acquireDivEL=null,F.__serverId="",F.__bAcquireImageNow=Pe,F._blts=ui(),F._bltsCopyImage=!1,F._b64bit=Pt.b64bit,F._logLevel=0,F._bServerAlwaysFocusOnPopupWindow=rt,F._bPageFocus=rt,F.__bOpenFileNow=Pe,F._bScanForProxyRemote=Pe,F}return D(n,r),v(n,[{key:"_isValid",value:function(){return!this._destroy||(dF(this),!1)}},{key:"_connnect",value:(re=a(w().mark(function H(){var F;return w().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return F=this,B.abrupt("return",new j.Promise(function(V,G){var z,Z;z=F._serverInfo.server,Z=F._serverInfo.port,U.DWT.CheckConnectToTheService(z,Z,V,G)}));case 2:case"end":return B.stop()}},H,this)})),function(){return re.apply(this,arguments)})},{key:"_waitForConnect",value:function(){var H=this;return H._wsRetry=0,H._bReady?j.Promise.resolve():new j.Promise(function(F,B){H._wsCheckResolve=F,H._wsCheckReject=B,IO(H)})}},{key:"_getWSCallback",value:function(){return dK}},{key:"_getWSContextData",value:function(){return{}}},{key:"_additionalWSCallback",value:function(H,F,B,V){H=="ConvertToBlob"&&F._blob_callbacks.push(function(G){return B(G,Br.HANDLE_RAW_MESSAGE,"0",V)})}},{key:"_innerSendBlobByWS",value:function(H,F,B,V,G){var z={cmd:H,cmdId:vp(),sFun:function(Z){p.isFunction(V)&&V(Z)},fFun:G,contextData:{document:B.currentFileName,tag:B.currentTagName,bNeedClearTag:B.bNeedClearCurrentTagName,index:B.index,bNeedRefresh:H=="UpdateImage"},rawData:!0};return this._innerSendByWS(H,F,z,B,!0)}},{key:"_innerSendByWS",value:function(H,F,B,V,G){var z,Z,ie,se,ne=this,ae=this._getWSCallback();B&&B.cmdId?(z=B.cmdId,ie=pC(ne._clientId,z),se=pC(ne._clientId,"")):(z=0,ie=0,se=0);var be=pl(ne._clientId,H,F,z,ne._bScanForProxyRemote),ge=ne._wsClient;Z={client:ge,userData:{stwain:ne,command:B},taskId:z,eventTaskId:ie,lastEventTaskId:se};var ve,Le,Qe,ze,yt,at,gt,Ct,Be=0;if(!G){try{ge.request(be,ae,Z)}catch(tt){p.log(tt)}return Pe}if(Qe=new ArrayBuffer(12),V)if(V instanceof Blob)Be=V.size;else if(V instanceof ArrayBuffer||V instanceof Uint8Array)Be=V.byteLength;else if(V instanceof Array)Be=V.length;else{var Oe=V;Be=Oe.size||Oe.byteLength||Oe.length}for(Le=(ve=(gt=new Blob([be])).size)+Be,ze=new DataView(Qe),at=0;at<8&&Le;at++)ze.setUint8(at,Le%256),Le=Math.floor(Le/256);for(at=0;at<4&&ve;at++)ze.setUint8(8+at,ve%256),ve=Math.floor(ve/256);return yt=new Blob([Qe,gt]),Ct=ge.request(yt,ae,Z),this._additionalWSCallback(H,ge,ae,Z),Be>0&&(Ct=ge.request(V,ae,Z)),Qe=null,gt=null,yt=null,ze=null,V=null,Ct}},{key:"_sendDataConnectWithSocket",value:function(H,F,B,V){var G=this;return new j.Promise(function(z,Z){G._sendData(H,F,!0,function(ie){var se=!1;try{se=p.isString(ie)?p.parse(ie):ie}catch{}if(G._resetErr(),se){if(se instanceof Blob||nu(se))return void z(se);co(se)&&(G._errorCode=se.exception,G._errorString=se.description)}z(V?se:se.result)},function(ie){Z({code:G._errorCode,message:G._getErrorString()})})})}},{key:"_sendDataByHttpAsync",value:function(H,F,B,V,G){var z,Z=this;if(Z._resetErr(),!Z._isValid())return j.Promise.reject({code:Z._errorCode,message:Z._getErrorString()});if(n.isServerInvalid(Z))return G?j.Promise.reject({code:Z._errorCode,message:Z._getErrorString()}):Z._waitForConnect().then(function(){return Z._sendDataByHttpAsync(H,F,B)});if(U.DWT.ConnectWithSocket)return Z._sendDataConnectWithSocket(H,F,B,V);z={method:"post",async:!0,body:pl(Z._clientId,H,F,0,Z._bScanForProxyRemote),dataType:B??"text"};var ie=null,se=p.guid();return Z._bIfShowProgressBar&&(ie=j.progressContext),FT(ie,se)([Z._httpUrl,"fa/",H].join(""),z).then(function(ne){var ae=!1;try{ae=p.isString(ne)?p.parse(ne):ne}catch{}if(ae){if(ae instanceof Blob||nu(ae))return ae;if(!co(ae))return Z._resetErr(),V?ae:ae.result;Z._errorCode=ae.exception,Z._errorString=ae.description}else CT(Z);throw{code:Z._errorCode,message:Z._getErrorString()}},function(ne){if(Z._errorCode=ne.code,Z._errorString=ne.message,!j.page.bUnload)throw ne})}},{key:"_sendData",value:function(H,F,B,V,G){var z=this,Z=null,ie=null,se=!1,ne=!0;if(!z._destroy){if(H=="ActiveUI"?ne=!1:se=n.isServerInvalid(z),se)return z._waitForConnect().then(function(){z._sendData(H,F,B,V,G)}).catch(function(ve){p.isFunction(G)&&G(ve.code,ve.message)});var ae;p.isFunction(V)&&(ie=V),p.isFunction(G)&&(Z=G),ae=H=="ConvertToBlob"||H=="Heartbeat"?0:vp();var be=this._getWSContextData(),ge={cmd:H,cmdId:ae,sFun:ie,fFun:Z,contextData:be,rawData:B!=null&&B};return z._innerSendByWS(H,F,ge,null,ne)}}},{key:"_innerFunV2",value:(J=a(w().mark(function H(F,B,V){var G,z,Z;return w().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(G=this,!(Z=V)&&!p.isUndefined(Z)){ie.next=7;break}return ie.next=4,G._sendDataConnectWithSocket(F,B,"json",!0);case 4:z=ie.sent,ie.next=10;break;case 7:return ie.next=9,G._sendDataByHttpAsync(F,B,"json",!0);case 9:z=ie.sent;case 10:if(!(z&&p.isArray(z)&&z.length>0)){ie.next=12;break}return ie.abrupt("return",z[0]);case 12:if(!(z&&p.isArray(z.result)&&z.result.length>0)){ie.next=14;break}return ie.abrupt("return",z.result[0]);case 14:return ie.abrupt("return",z);case 15:case"end":return ie.stop()}},H,this)})),function(H,F,B){return J.apply(this,arguments)})},{key:"_OnReady",value:(Q=a(w().mark(function H(){var F,B;return w().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if((F=this)._wsRetry=0,F._wsFailedTimes=0,j.detect.starting=!1,F._bRemoteMode||(j.detect.bOK=!0),F._bReady=!0,(B=F._wsClient.ws)!==null){V.next=9;break}return V.abrupt("return");case 9:B.onopen=null,F._wsClient.addEvent("close",F._clientId,function(G){G&&p.log("websocket close: "+G),F.__bAcquireImageNow=!1,F._OnWSClose(G)}),F._wsClient.addEvent("error",F._clientId,function(G){G&&p.log("websocket error: "+G),F.__bAcquireImageNow=!1,F._OnWSError(G)}),F._wsClient.addEvent("timeout",F._clientId,function(G){G&&p.log("websocket timeout: "+G),F._OnWSTimeout(G)});case 13:case"end":return V.stop()}},H,this)})),function(){return Q.apply(this,arguments)})},{key:"getServiceInfo",value:function(){return this._dmService}},{key:"_OnWSClose",value:function(H){var F,B,V,G=this;G._bReady=!1,G._wsRetry=0,G._bRemoteMode&&(F=(B=(V=G.getServiceInfo())===null||V===void 0||(V=V.attrs)===null||V===void 0?void 0:V.name)!==null&&B!==void 0?B:""),ll(G,F),G.__closeRemoteScanUI(!0),G._heartBeatTimer&&(clearTimeout(G._heartBeatTimer),G._heartBeatTimer=null),G._bNoMask||function(ie){p.log("hideMask:"+ie+"--"+ys),QT(),ys=0}("websocket close"),G.__OnWSClose&&G.__OnWSClose();var z=G._bRemoteMode?Or.RemoteReconnectMaxTimes:Or.LocalReconnectMaxTimes;if(G._wsFailedTimes<z){var Z=G._reconnectTimeSpan;G._wsFailedTimes<G._reconnectShortSpanTimes&&(Z=G._reconnectShortSpan),G._heartBeatTimer=setTimeout(function(){n.startDWTReconnect(G)},Z)}}},{key:"_OnWSError",value:function(H){var F=this;F._bReady=!1,F.__OnWSError&&F.__OnWSError()}},{key:"_OnWSTimeout",value:function(H){var F,B,V,G=this;G._bReady=!1,G._wsRetry=0,G._bRemoteMode&&(F=(B=(V=G.getServiceInfo())===null||V===void 0||(V=V.attrs)===null||V===void 0?void 0:V.name)!==null&&B!==void 0?B:""),ll(G,F),G.__closeRemoteScanUI(!0),G._heartBeatTimer&&(clearTimeout(G._heartBeatTimer),G._heartBeatTimer=null);var z=G._bRemoteMode?Or.RemoteReconnectMaxTimes:Or.LocalReconnectMaxTimes;if(G._wsFailedTimes<z){var Z=G._reconnectTimeSpan;G._wsFailedTimes<G._reconnectShortSpanTimes&&(Z=G._reconnectShortSpan),G._heartBeatTimer=setTimeout(function(){n.startDWTReconnect(G)},Z)}}},{key:"__OnRecieveMsg",value:function(H,F){var B=this;if(H.event)return B._handleEvent(H,F.contextData);if(co(H)?(B._errorCode=H.exception,B._errorString=H.description):(B._errorCode=0,B._errorString=""),U.DWT.ConnectWithSocket){var V=H,G=F==null?void 0:F.cmd;return G=="ActiveUI"||G=="VersionInfo"||G=="ConvertToBase64"||G=="SaveSelectedImagesToBase64Binary"||G=="ConvertToBlob"?F.sFun&&p.isArray(H.result)&&H.result.length>0?(F.sFun(H.result),!0):(F.fFun&&F.fFun(H.result),!1):(B._errorCode!=0&&F.fFun&&F.fFun(B._errorString),G=="BeginSaveMem"||G=="CreateLocalStorage"||G=="LocalStorageExist"||G=="SaveToLocalStorage"||G=="LoadFromLocalStorage"||G=="RemoveLocalStorage"?F.sFun&&p.isArray(H.result)&&H.result.length>0?(F.sFun(H.result),!0):(F.fFun&&F.fFun(H.result),!1):(V=F.rawData?H:p.isArray(H.result)&&H.result.length>0?H.result[0]:H.result,F.sFun?F.sFun(V):F.fFun&&F.fFun(V),H=null,!0))}if(B._errorCode==0)return F.sFun&&p.isArray(H.result)&&H.result.length>0?(F.sFun(H.result),!0):(F.fFun(H.result),!0);var z=!1;F.fFun&&(z=F.fFun(B._errorString)),!z&&H.exception&&H.exception<0&&H.exception!=-2115&&p.isFunction(B.__OnPrintMsg)&&B.__OnPrintMsg(B._errorString)}},{key:"_handleOnBitmapChangedEvent",value:function(H,F){try{var B,V,G,z,Z,ie,se,ne,ae,be,ge,ve,Le,Qe,ze,yt,at=H.result[0],gt=H.result[1];if(p.isString(gt)){var Ct=JSON.parse(gt);B=p.isArray(Ct)?Ct:[Ct]}else p.isArray(gt)&&(B=gt);if(p.isArray(B)){for(yt=F||{},Qe=0;Qe<B.length;Qe++)if(ze=B[Qe],p.isArray(ze.images))if(V=ze.consumeType,G=ze.curImageId,z=ze.type,Z=ze.images.length,z!=vn.enumBCAppend&&z!=vn.enumBCInsert||(!yt.document&&ze.document&&(yt.document=ze.document),!yt.tag&&ze.tag&&(yt.tag=ze.tag)),z==vn.enumBCRemove){var Be=[];for(ie=0;ie<Z;ie++)Be.push(ze.images[ie].id);var Oe=[at,Be.join(","),z,G,Z,null,null,null,null,null,null,ne];this._OnBitmapChanged(Oe,H,yt)}else for(ie=0;ie<Z;ie++){se=ze.images[ie].id,be=ze.images[ie].width,ge=ze.images[ie].height,ae=ze.images[ie].depth,ve=ze.images[ie].xdpi,Le=ze.images[ie].ydpi,ne=ze.images[ie].uid;var tt=[at,se.toString(),z,G,Z,be,ge,ae,ve,Le,V,ne];this._OnBitmapChanged(tt,H,yt)}}}catch(pt){vr(pt)}return rt}},{key:"_handleEvent",value:function(H,F){var B=this,V=H.result[0],G=Pe;return H.event=="OnBitmapChanged"?B._handleOnBitmapChangedEvent(H,F):(p.each(fK,function(z,Z){if(H.event===z){var ie=["_",z].join("");return G=rt,p.isFunction(B[ie])&&B[ie](H.result,H),Pe}}),G?(p.log("handled event:"+H.event),p.each(hK,function(z,Z){if(H.event===z)return p.log("sendback event:"+H.event),B._innerSendByWS(H.event,Ve(V),null,null,rt),Pe})):(p.each(j.Addon_Events,function(z,Z){if(H.event===z){var ie=["_",z].join("");return G=rt,p.isFunction(B[ie])&&B[ie](H.result),Pe}}),G&&(p.log("handled addon event:"+H.event),p.each(j.Addon_Sendback_Events,function(z,Z){if(H.event===z)return p.log("sendback addon event:"+H.event),B._innerSendByWS(H.event,Ve(V),null,null,rt),Pe}))),G)}},{key:"_setProductKeyAsync",value:function(H){var F=this,B=H;return F._resetErr(),F._isValid()?Ie.bUseDynamsoftLicenseManager||F._blts?(RT(F),j.Promise.reject({code:F._errorCode,message:F._getErrorString()})):p.isString(B)?_t.isLicenseMixed(B,!1)?j.Promise.reject(U.DWT.licenseException):_t.isLongKey(B)?hC(v_,F,lK).call(F,B).then(function(V){var G=V;if(!G||G.message)throw Do(F),G&&G.message&&(F._errorString=G.message),{code:F._errorCode,message:F._getErrorString()};return tC(F,G),G}):(Do(F),j.Promise.reject({code:F._errorCode,message:F._getErrorString()})):(Do(F),j.Promise.reject({code:F._errorCode,message:F._getErrorString()})):j.Promise.reject({code:F._errorCode,message:F._getErrorString()})}},{key:"_setLTSLic",value:function(H){var F=this,B=H;return F._resetErr(),!!F._isValid()&&(p.isString(B)?F._sendDataByHttpAsync("LTSLicense",Ve(B),null,!0).then(function(V){if(V){if(co(V))throw F._errorCode=V.exception,F._errorString=V.description,{code:F._errorCode,message:F._getErrorString()};return F._innerFunV2("GetLicenseInfo",Ve(0))}throw Do(F),{code:F._errorCode,message:F._getErrorString()}}):(Do(F),j.Promise.reject({code:F._errorCode,message:F._getErrorString()})))}},{key:"_setLTSLicenseAsync",value:function(H){var F=this;return F._resetErr(),F._isValid()?p.isString(H)?F._setLTSLic(H).then(function(B){var V=B;if(!V||V.message)throw Do(F),V&&V.message&&(F._errorString=V.message),{code:F._errorCode,message:F._getErrorString()};return tC(F,V),F.__licenseInfo&&(F.__licenseInfo.LTS=!0),V}):(Do(F),j.Promise.reject({code:F._errorCode,message:F._getErrorString()})):j.Promise.reject({code:F._errorCode,message:F._getErrorString()})}},{key:"_innerActiveUI",value:(q=a(w().mark(function H(F){var B,V,G,z,Z;return w().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return B=this,V=j.detect.ssl,G=H9(),B._bRemoteMode||(G=5),z="",B._blts&&(z=F??""),ie.next=6,new j.Promise(function(se,ne){B._sendData("ActiveUI",Ve(Wr.WSVersion,Wr.WSSession,1,z,V,1,G),!1,se,ne)});case 6:return Z=ie.sent,B=null,ie.abrupt("return",Z);case 9:case"end":return ie.stop()}},H,this)})),function(H){return q.apply(this,arguments)})},{key:"_reconnected",value:(te=a(w().mark(function H(F){var B,V,G,z,Z,ie,se,ne;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return(B=this)._wsFailedTimes=0,ae.next=4,B._innerActiveUI(B._uuidForActiveUI);case 4:if(V=ae.sent,G=!1,V&&(V.length>12?(B.__serverId=V[1],G=V[12]):V.length>8?(B.__serverId=V[1],G=V[8]):V.length>=2&&(B.__serverId=V[1])),B._bReady=!0,B._bRemoteMode||(j.detect.bOK=!0),j.detect.starting=!1,G){try{B._OnActiveUIClearBuffer()}catch{B._resetErr()}Fe(B,-2614,"The Dynamsoft Service has been restarted.")}if(ae.prev=11,!B._blts){ae.next=21;break}return z=B._bRemoteMode&&(Z=(ie=B._dmService)===null||ie===void 0||(ie=ie.attrs)===null||ie===void 0?void 0:ie.UUID)!==null&&Z!==void 0?Z:"",ae.next=16,p_(U.DWT.lgdt(),z);case 16:return se=ae.sent,ae.next=19,B._setLTSLicenseAsync(se.ar);case 19:ae.next=24;break;case 21:return ne=Ie.refProductKey,ae.next=24,B._setProductKeyAsync(ne);case 24:return ae.next=26,B._OnReconnected();case 26:ae.next=32;break;case 28:throw ae.prev=28,ae.t0=ae.catch(11),B._bRemoteMode&&sp(B),{code:B._errorCode,message:B._errorString};case 32:return ae.prev=32,B._bRemoteMode&&n.startHeartBeat(B),ae.finish(32);case 35:case"end":return ae.stop()}},H,this,[[11,28,32,35]])})),function(H){return te.apply(this,arguments)})},{key:"_OnReconnected",value:($=a(w().mark(function H(){return w().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:case"end":return F.stop()}},H)})),function(){return $.apply(this,arguments)})},{key:"_initRemoteDiv",value:function(){if(!this._acquireDivEL){var H=document.createElement("div");H.style.position="fixed",H.style.zIndex="510000",H.style.left="0",H.style.top="0";var F=document.createElement("img");F.className="ds-img-screen",H.appendChild(F),document.body.appendChild(H),this._acquireDivEL=H}}},{key:"getHeartBeatData",value:function(H){var F,B=pl(this._clientId,H.cmd,null,H.cmdId,this._bScanForProxyRemote),V=B.length,G=V,z=new ArrayBuffer(12+G),Z=new DataView(z);for(F=0;F<8&&G;F++)Z.setUint8(F,G%256),G=Math.floor(G/256);for(F=0;F<4&&V;F++)Z.setUint8(8+F,V%256),V=Math.floor(V/256);for(F=0;F<B.length;F++)Z.setUint8(12+F,B.charCodeAt(F));return z}},{key:"__closeRemoteScanUI",value:function(H){var F=this;if(F._acquireDivEL){var B=p.sizzle(".ds-img-screen");F._acquireDivEL.evtFun?(B&&B.length>0&&p.removeEventListener(B[0],"mouseup",F._acquireDivEL.evtFun),F._acquireDivEL.evtFun=null):B&&B.length>0&&p.removeEventListener(B[0],"mouseup"),B&&B.length>0&&(B[0].src=""),H&&(document.body.removeChild(F._acquireDivEL),F._acquireDivEL=null)}}},{key:"_removeImageByIdAsync",value:(L=a(w().mark(function H(F){var B;return w().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if((B=this)._resetErr(),B._isValid()){V.next=4;break}throw{code:B._errorCode,message:B._errorString};case 4:return V.next=6,B._innerFunV2("RemoveAllImages",Ve(F));case 6:return V.abrupt("return",V.sent);case 7:case"end":return V.stop()}},H,this)})),function(H){return L.apply(this,arguments)})},{key:"_removeAllImagesAsync",value:(P=a(w().mark(function H(F,B){var V;return w().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if((V=this)._resetErr(),V._isValid()){G.next=4;break}throw{code:V._errorCode,message:V._getErrorString()};case 4:return G.next=6,V._innerFunV2("RemoveAllImages");case 6:return G.abrupt("return",G.sent);case 7:case"end":return G.stop()}},H,this)})),function(H,F){return P.apply(this,arguments)})},{key:"_LicensePromptExpired",value:function(){}},{key:"_OnActiveUI",value:(x=a(w().mark(function H(F){var B,V,G,z,Z,ie,se,ne,ae,be,ge,ve,Le,Qe,ze,yt,at;return w().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:if(B=this,G=!1,F&&F.length>=6?(F[2],V=F[5],z=!1,Z=!1,ie=0,F.length>12?(F[6],B._b64bit=F[7]=="64",F[8],z=F[9],Z=F[10],ie=F[11],F[12]):F.length>8&&(z=F[6],Z=F[7],ie=F[8]),z?Z&&ie&&(B._bRemoteMode=!0):B._bRemoteMode=!0,p.isString(V)&&(V=="win"?B.__serverPlatform=Et.enumWindow:V=="linux"?B.__serverPlatform=Et.enumLinux:V=="mac"?B.__serverPlatform=Et.enumMac:V=="embed"?B.__serverPlatform=Et.enumEmbed:V=="chromeos"&&(B.__serverPlatform=Et.enumChromeOS))):G=!0,B._bMustUpgradeService=G,G){gt.next=67;break}if(Nr("Activating the WebTwain instance..."),se=!1,!B._blts){gt.next=44;break}return ae=B._bRemoteMode&&(be=(ge=B._dmService)===null||ge===void 0||(ge=ge.attrs)===null||ge===void 0?void 0:ge.UUID)!==null&&be!==void 0?be:"",gt.prev=10,gt.next=13,p_(U.DWT.lgdt(),ae);case 13:ne=gt.sent,gt.next=27;break;case 16:if(gt.prev=16,gt.t0=gt.catch(10),eC(B,gt.t0),ve=lO(B._errorCode),!B._bLicenseErrorDispose){gt.next=25;break}throw B._bRemoteMode||(ve?this._LicensePromptExpired():dO(B)),{code:B._errorCode,message:B._errorString};case 25:ve||p.warn(B._errorString),ne=null;case 27:if(Nr(BF),!ne){gt.next=41;break}return gt.next=31,B._setLTSLicenseAsync(ne.ar);case 31:return Le=gt.sent,U.DWT.laddDWTObj(B),ae="",B._bRemoteMode&&(ae=(Qe=(ze=B._dmService)===null||ze===void 0||(ze=ze.attrs)===null||ze===void 0?void 0:ze.UUID)!==null&&Qe!==void 0?Qe:""),Nr(UF),gt.next=38,U.DWT.lcheckLic(U.DWT.lgdt(),Le,ae);case 38:se=U.DWT.licenseException.code==0,gt.next=42;break;case 41:se=!1;case 42:gt.next=62;break;case 44:return Nr(BF),yt=Ie.refProductKey,gt.prev=46,gt.next=49,B._setProductKeyAsync(yt);case 49:gt.sent&&(se=!0),gt.next=62;break;case 53:if(gt.prev=53,gt.t1=gt.catch(46),!B._bLicenseErrorDispose){gt.next=60;break}throw B._bRemoteMode||m_(gt.t1.code)&&nC(gt.t1),gt.t1;case 60:p.warn(gt.t1.message);case 61:se=!1;case 62:if(se&&(Nr(UF),_t.checkProductKey(B,{Core:!0})||(at={code:B._errorCode,message:B._getErrorString()},B._resetErr(),U.DWT.lclex(),ue.bWin&&_t.checkProductKey(B,{Webcam:!0},!0)||(B._errorCode=at.code,B._errorString=at.message))),B._errorCode==0){gt.next=67;break}if(B._bRemoteMode||(lO(B._errorCode)?this._LicensePromptExpired():dO(B)),!B._bLicenseErrorDispose){gt.next=67;break}throw{code:B._errorCode,message:B._getErrorString()};case 67:B._bRemoteMode&&n.startHeartBeat(B);case 68:case"end":return gt.stop()}},H,this,[[10,16],[46,53]])})),function(H){return x.apply(this,arguments)})},{key:"_innerConvertToArrayBufferAsync",value:(I=a(w().mark(function H(F,B,V,G){var z,Z,ie,se,ne;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return z=this,Z=V,ie=G??"arraybuffer",se=",",p.isString(Z)&&Z!=""||(Z="",se=""),ne=["[",F,',"',B.join(","),'"',se,Z,"]"].join(""),ae.next=6,z._sendDataByHttpAsync("ConvertToBlob",ne,ie,!0);case 6:return ae.abrupt("return",ae.sent);case 7:case"end":return ae.stop()}},H,this)})),function(H,F,B,V){return I.apply(this,arguments)})},{key:"_getImageByServerId",value:(b=a(w().mark(function H(F){var B,V,G;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return B=Qt.IT_PNG,z.next=3,this._innerConvertToArrayBufferAsync(B,[F],void 0,void 0);case 3:return V=z.sent,G=cC(B),z.abrupt("return",new Blob([V],{type:G}));case 6:case"end":return z.stop()}},H,this)})),function(H){return b.apply(this,arguments)})},{key:"_getSourcesAsync",value:(y=a(w().mark(function H(F,B,V){var G,z;return w().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return G=this,Z.next=3,G._innerFunV2("GetSources",Ve(F,B!=null&&B,V!=null&&V));case 3:return z=Z.sent,Z.abrupt("return",hO(this,z));case 5:case"end":return Z.stop()}},H,this)})),function(H,F,B){return y.apply(this,arguments)})},{key:"_getDevices",value:(S=a(w().mark(function H(F,B,V){var G,z,Z,ie,se,ne;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(z=[],Z="getDevices",ie=(G=this)._bRemoteMode?mp:ue.bAndroid?XT:mp,se=F??ie,G._resetErr(),G._isValid()){ae.next=5;break}return ae.abrupt("return",j.Promise.reject({code:G._errorCode,message:G._getErrorString()}));case 5:return G._bNoMask||Xr(Z,G),ae.prev=6,ae.next=9,G._getSourcesAsync(se,B,V);case 9:ne=ae.sent,p.isArray(ne)&&ne.length>0&&(z=z.concat(ne)),ae.next=16;break;case 13:throw ae.prev=13,ae.t0=ae.catch(6),ae.t0;case 16:return ae.prev=16,G._bNoMask||kr(Z),ae.finish(16);case 19:return ae.abrupt("return",z);case 20:case"end":return ae.stop()}},H,this,[[6,13,16,19]])})),function(H,F,B){return S.apply(this,arguments)})},{key:"_innerAcquireImageFromService",value:function(H,F,B){var V,G,z=this;if(G=p.clone(H),!_t.checkProductKey(z,{Core:!0}))return p.isFunction(B)&&B(z._errorCode,z._getErrorString()),!1;var Z=z._bRemoteMode?rt:Pe;G.RemoteScan=Z?1:0,z._bRemoteMode&&(p.isFunction(z.__OnRemoteScanStatusAsync)||(z.__OnRemoteScanStatusAsync=function(){}),p.isFunction(z.__OnSourceUIClose)||(z.__OnSourceUIClose=function(){}));for(var ie=0,se=0;se<__.length;se++){var ne=["__",__[se]].join("");p.isFunction(z[ne])&&(ie|=1<<se)}return G.EnableEvents=ie,Z&&z._isBindViewer()&&z._initRemoteDiv(),z._bRemoteMode||(z._bPageFocus&&U.DWT.IfAlwaysFocusOnPopupWindow?z._bServerAlwaysFocusOnPopupWindow||z._OnPageFocus(!0):z._bServerAlwaysFocusOnPopupWindow&&z._OnPageBlur(!0)),V=["[",p.stringify(G),"]"].join(""),z._sendData("AcquireImage",V,!0,function(ae){F(ae)},function(ae){B(z._errorCode,z._getErrorString())}),!0}},{key:"_canConsume",value:function(){return this._blts&&!this._bltsCopyImage}},{key:"_acquireImageFromServiceAsync",value:function(H){var F=this;return new j.Promise(function(B,V){return F._innerAcquireImageFromService(H,function(){F._canConsume()&&U.DWT.lcvrf(F),B(!0)},function(G,z){V({code:G,message:z})})})}},{key:"_acquireImage",value:(_=a(w().mark(function H(F,B){var V,G,z,Z,ie;return w().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(V=this,G=B?p.clone(B):{},z="acuqireImage",V._resetErr(),V._isValid()){se.next=4;break}throw{code:V._errorCode,message:V._getErrorString()};case 4:if(_t.checkProductKey(V,{Core:!0})&&V._isValid()){se.next=6;break}throw{code:V._errorCode,message:V._getErrorString()};case 6:if(!V.__bAcquireImageNow){se.next=9;break}throw ZR(V),{code:V._errorCode,message:V._getErrorString()};case 9:return V.__bAcquireImageNow=!0,V._bNoMask||Xr(z,V),Z=U.DWT.RemoteScanConfig,ie=HR(),se.prev=12,wO(G),Z&&Jv(Z.keepAwake),F!=null&&(G.Device=F.strDevice,G.DeviceMatchField=Sp.SMF_NAME),se.next=18,V._acquireImageFromServiceAsync(G);case 18:se.next=23;break;case 20:throw se.prev=20,se.t0=se.catch(12),se.t0;case 23:return se.prev=23,V.__bAcquireImageNow=!1,V._bNoMask||kr(z),Jv(ie),se.finish(23);case 28:return se.abrupt("return",!0);case 29:case"end":return se.stop()}},H,this,[[12,20,23,28]])})),function(H,F){return _.apply(this,arguments)})},{key:"_getCapabilities",value:(m=a(w().mark(function H(F,B,V){var G,z,Z,ie,se;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return z=null,hC(v_,G=this,TO).call(G,F),G._initRemoteDiv(),ne.next=5,G._innerSelectDeviceAsync(F);case 5:return p.isArray(V)&&(z=Ve(V)),ne.next=8,G._sendDataByHttpAsync("GetCapabilities",z);case 8:if(Z=ne.sent,ne.prev=9,Z.length>0&&(se=Z[0]),!p.isString(se)){ne.next=22;break}if(se=j.removeNonPrintableChar(se),se=p.replaceAll(se,"\\\\","\\\\"),(ie=JSON.parse(se)).errorCode!=0){ne.next=17;break}return ne.abrupt("return",ie.response);case 17:throw G._errorCode=ie.errorCode,G._errorString=ie.errorString,{code:G._errorCode,message:G._getErrorString()};case 22:throw Wi(G),{code:G._errorCode,message:G._getErrorString()};case 24:ne.next=31;break;case 26:throw ne.prev=26,ne.t0=ne.catch(9),G._errorCode=-2302,G._errorString=ne.t0,{code:G._errorCode,message:G._getErrorString()};case 31:case"end":return ne.stop()}},H,this,[[9,26]])})),function(H,F,B){return m.apply(this,arguments)})},{key:"_setCapabilities",value:(f=a(w().mark(function H(F,B,V){var G,z;return w().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(hC(v_,G=this,TO).call(G,F),p.isObject(B)&&!p.isArray(B)){Z.next=5;break}throw $t(G),{code:G._errorCode,message:G._getErrorString()};case 5:return G._initRemoteDiv(),Z.next=8,G._innerSelectDeviceAsync(F);case 8:return z=["[",p.stringify(B),"]"].join(""),Z.next=11,G._sendDataByHttpAsync("SetCapabilities",z);case 11:return Z.abrupt("return",Z.sent);case 12:case"end":return Z.stop()}},H,this)})),function(H,F,B){return f.apply(this,arguments)})},{key:"_closeSource",value:(c=a(w().mark(function H(){var F;return w().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return F=this,B.next=3,F._innerFunV2("CloseSource");case 3:case"end":return B.stop()}},H,this)})),function(){return c.apply(this,arguments)})},{key:"_innerSelectDeviceAsync",value:(d=a(w().mark(function H(F,B){var V,G,z,Z,ie,se,ne,ae;return w().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(G=this,F&&F instanceof ta){be.next=4;break}throw $t(G),{code:G._errorCode,message:G._errorString};case 4:if(!(z=(V=this._dmService.attrs)===null||V===void 0?void 0:V.UUID)){be.next=17;break}if(((Z=F.serviceInfo.attrs)===null||Z===void 0?void 0:Z.UUID)!=z){be.next=10;break}be.next=17;break;case 10:if(!((se=((ie=F.serviceInfo.attrs)===null||ie===void 0?void 0:ie.url)||F.serviceInfo.server)&&se.indexOf(z)>-1)){be.next=15;break}be.next=17;break;case 15:throw pF(G),{code:G._errorCode,message:G._errorString};case 17:return ne=B??Sp.SMF_NAME,ae=["[",F.strDevice,",",ne,"]"].join(""),be.next=20,G._innerFunV2("SelectSourceEx",ae);case 20:return be.abrupt("return",be.sent);case 21:case"end":return be.stop()}},H,this)})),function(H,F){return d.apply(this,arguments)})},{key:"registerEvent",value:function(H,F){return p.isUndefined(H)?(ci(this),!1):!p.isString(H)||p.isString(H)&&H.trim().length==0||p.isUndefined(F)||!p.isFunction(F)?($t(this),!1):!!this._registerEvent(H,F)}},{key:"unregisterEvent",value:function(H,F){return this._unregisterEvent(H,F)}},{key:"_registerEvent",value:function(H,F){var B=this;return B._resetErr(),!!B._isValid()&&(B[["__",H].join("")]=F,!0)}},{key:"_unregisterEvent",value:function(H,F){var B=this;return B._resetErr(),!!B._isValid()&&(B[["__",H].join("")]=null,rt)}},{key:"_OnPageFocus",value:function(H){var F=this;if(F._bPageFocus=!0,F._bReady&&ue.bWin&&U.DWT.IfAlwaysFocusOnPopupWindow){var B=p.stringify({sequence:0,wnds:0,wnd:"0",type:3,x:0,y:0});if(F.__bAcquireImageNow||H||F.__bOpenFileNow){F._bServerAlwaysFocusOnPopupWindow=!0;try{F._isValid()&&F._sendDataByHttpAsync("SendEventToScannerUI",["[",B,"]"].join(""))}catch{}}}}},{key:"_OnPageBlur",value:function(H){var F=this;if(ue.bWin&&F._bReady){var B=p.stringify({sequence:0,wnds:0,wnd:"0",type:4,x:0,y:0});if((F._bPageFocus!=0||H)&&(F._bPageFocus=!1,F.__bAcquireImageNow||H||F.__bOpenFileNow)){F._bServerAlwaysFocusOnPopupWindow=!1;try{F._isValid()&&F._sendDataByHttpAsync("SendEventToScannerUI",["[",B,"]"].join(""))}catch{}}}}},{key:"_OnRemoteScanStatusAsync",value:function(H){var F,B,V,G,z,Z,ie,se=this;if(H&&H.length>=2){try{var ne=new String(H[1]);F=p.parse(ne)}catch(be){p.error(be.message),p.log("parse json failed: "+H[1])}F||(F={sequence:0,screen:[]})}if(F&&F.sequence)if(F.sequence>0&&F.screen&&F.screen.length>0){if(B=F.screen,G=F.sequence,Z=F.wnds,ie=(V=B[0]).img,p.isString(ie)&&ie!=""&&(z=V.wnd),G&&z){var ae=p.sizzle(".ds-img-screen");ae&&ae.length>0&&se._acquireDivEL&&(se._acquireDivEL.evtFun&&(p.removeEventListener(ae[0],"mouseup",se._acquireDivEL.evtFun),se._acquireDivEL.evtFun=null),ae[0].src=ie,se._acquireDivEL.evtFun=function(be){Z||(Z="0");var ge=p.stringify({sequence:G,wnds:Z,wnd:z+"",type:2,x:be.offsetX,y:be.offsetY});se._sendDataByHttpAsync("SendEventToScannerUI",["[",ge,"]"].join(""))},p.addEventListener(ae[0],"mouseup",se._acquireDivEL.evtFun))}}else se.__closeRemoteScanUI(!1);return p.isFunction(se.__OnRemoteScanStatusAsync)&&se.__OnRemoteScanStatusAsync(F),!0}},{key:"_OnBitmapChanged",value:function(H,F,B){var V=this,G=H[0]=="m1",z=H[0]=="c1",Z=H[0]=="c2",ie=z||Z||G,se=H[2],ne=H[3],ae=-1;if(!ie){if(H.length>10&&(ae=H[10]),ae>-1&&V._canConsume()&&(se==vn.enumBCAppend||se==vn.enumBCInsert)){var be=U.DWT.lgct(ae);p.isFunction(V.__OnLtsverify)&&V.__OnLtsverify(be,1)}if((se==vn.enumBCAppend||se==vn.enumBCInsert)&&p.isFunction(V.__OnBufferChanged)){var ge={action:"add",currentId:ne,imageIds:[],selectedIds:[]};V.__OnBufferChanged(ge)}}}},{key:"_OnPostTransferAsync",value:function(H,F,B){var V,G=this;if(H&&H.length>=2)try{var z=String(H[1]).replace(/\\/g,"\\\\");V=p.parse(z)}catch(ie){p.error(ie)}V||(V={imageId:""});var Z=!1;if(p.isFunction(G.__OnPostTransferAsync))try{Z=G.__OnPostTransferAsync(V)}catch(ie){vr(ie)}if(p.isFunction(G.__OnPostTransferAsync2))try{G.__OnPostTransferAsync2(V)}catch(ie){vr(ie)}return Z}},{key:"_OnCurrentDeviceSelected",value:function(H,F){}},{key:"_getErrorCode",value:function(){return this._errorCode}},{key:"_getErrorString",value:function(){return this._errorCode!=0?this._errorString:"Successful."}},{key:"_isBindViewer",value:function(){return!1}},{key:"_isNoViewer",value:function(){return!0}},{key:"_isMobileMode",value:function(){return!1}},{key:"_needCheckProxyRemoteScanLicense",value:function(){if(!this._blts&&this._bScanForProxyRemote){if(this._strRemoteServiceVer=="")return!0;var H=function(F){var B=F.split(","),V=[18,3];return p.trim(B[0])>V[0]||B.length>1&&p.trim(B[0])==V[0]&&p.trim(B[1])>=V[1]}(this._strRemoteServiceVer);if(H)return!0}return!1}},{key:"_OnActiveUIClearBuffer",value:function(){}}],[{key:"isServerInvalid",value:function(H){var F,B;if(F=!H._bReady||H._wsClient===null,B=H._bMustUpgradeService,F){var V,G,z;H._bRemoteMode&&(V=(G=(z=H._dmService)===null||z===void 0||(z=z.attrs)===null||z===void 0?void 0:z.name)!==null&&G!==void 0?G:""),ll(H,V)}else B?Ed(H):H.isDestroy&&dF(H);return F||B||H._errorCode==-2208||H.isDestroy}},{key:"STwainConnectToServer",value:(u=a(w().mark(function H(F){var B,V;return w().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(B=F._id,!U.DWT.WebTwainIdMap[B]){G.next=5;break}return G.next=4,F._OnReady();case 4:return G.abrupt("return");case 5:if(!F._bReady&&!F._destroy){G.next=7;break}return G.abrupt("return");case 7:return F._bConnecting=!0,(V=vs.Instance.getClient(F._serverInfo)).setRetry(0),F._bNoMask||Xr("",F),G.prev=11,G.next=14,HF(F._bRemoteMode);case 14:return G.next=17,V.testConnection(void 0,0,void 0,1e4);case 17:if(F._wsClient=V,F._wsClient.bReady=!0,j.detect.bFirst&&(pK(),j.detect.bFirst=!1),F._bReady){G.next=24;break}return F._bReady=!0,G.next=24,F._OnReady();case 24:G.next=30;break;case 26:throw G.prev=26,G.t0=G.catch(11),F._bReady=!1,{code:F._errorCode,message:F._getErrorString()};case 30:return G.prev=30,F._bConnecting=!1,F._bNoMask||kr(""),G.finish(30);case 34:case"end":return G.stop()}},H,null,[[11,26,30,34]])})),function(H){return u.apply(this,arguments)})},{key:"_innerSendHeartBeat",value:(s=a(w().mark(function H(F,B){var V,G,z,Z;return w().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(ie.prev=0,!F.__bAcquireImageNow){ie.next=4;break}ie.next=14;break;case 4:if(V={client:null,userData:null,taskId:"0",eventTaskId:"0",lastEventTaskId:"0"},G=vp(),z={cmd:"Heartbeat",cmdId:G,sFun:null,fFun:null,contextData:null,rawData:!0},Z=F.getHeartBeatData(z),!F._wsClient){ie.next=12;break}return F._wsClient.setRetry(0),ie.next=12,F._wsClient.request(Z,null,V);case 12:z=null,Z=null;case 14:ie.next=18;break;case 16:ie.prev=16,ie.t0=ie.catch(0);case 18:F._wsClient&&F._wsClient.connected&&B&&setTimeout(function(){n._innerSendHeartBeat(F,B)},F._wsClient._heartBeatTicks);case 19:case"end":return ie.stop()}},H,null,[[0,16]])})),function(H,F){return s.apply(this,arguments)})},{key:"startDWTReconnect",value:(o=a(w().mark(function H(F){var B,V,G,z,Z;return w().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(ie.prev=0,!F._destroy){ie.next=3;break}return ie.abrupt("return");case 3:if(B=F._serverInfo,!(Pt.bEnhancedMode&&B&&B.port)){ie.next=24;break}return Ie.bDCPChecked=!1,ie.prev=6,ie.next=9,lC(si(),U.DWT.Port,U.DWT.SSLPort);case 9:if(!(V=ie.sent)){ie.next=14;break}F._serverInfo.port=ue.bSSL?V.sslPort:V.port,ie.next=16;break;case 14:throw Wi(F),rr(F);case 16:ie.next=24;break;case 18:return ie.prev=18,ie.t0=ie.catch(6),F._wsFailedTimes++,G=F._bRemoteMode?Or.RemoteReconnectMaxTimes:Or.LocalReconnectMaxTimes,F._wsFailedTimes<G&&(z=F._reconnectTimeSpan,F._wsFailedTimes<F._reconnectShortSpanTimes&&(z=F._reconnectShortSpan),F._heartBeatTimer=setTimeout(function(){n.startDWTReconnect(F)},z)),ie.abrupt("return");case 24:return F._bConnecting=!0,(Z=vs.Instance.getClient(F._serverInfo)).setRetry(0),ie.next=30,Z.testConnection(void 0,0,void 0,3e4);case 30:return F._wsClient=Z,F._wsClient.bReady=!0,F._wsRetry=0,ie.next=35,F._reconnected(Z);case 35:ie.next=40;break;case 37:ie.prev=37,ie.t1=ie.catch(0),F._wsFailedTimes++;case 40:return ie.prev=40,F._bConnecting=!1,ie.finish(40);case 43:case"end":return ie.stop()}},H,null,[[0,37,40,43],[6,18]])})),function(H){return o.apply(this,arguments)})},{key:"startHeartBeat",value:function(H){var F=H._wsClient;F&&F.connected&&!F._bHeartBeatStarted&&(F._bHeartBeatStarted=!0,setTimeout(function(){n._innerSendHeartBeat(H,!0)},F._heartBeatTicks))}},{key:"getServerImageUrlPrefix",value:function(H){var F,B=H._httpUrl;return F=H._bScanForProxyRemote?Or.getVersionStrForCheck():Ie.getServerVersionInfo(),[B,"dwt/",Ie.getDWTPrefix(),F,"/img?id=",H._clientId].join("")}}]);var o,s,u,d,c,f,m,_,S,y,b,I,x,P,L,$,te,q,Q,J,re}(Z$);function lK(r){var n,o=this,s=r;return o._resetErr(),o._isValid()?Ie.bUseDynamsoftLicenseManager||o._blts?(RT(o),j.Promise.reject({code:o._errorCode,message:o._getErrorString()})):(s=p.isString(s)?p.trim(s):"",n=o._sendDataConnectWithSocket("ProductKey",Ve(s),"json",!0),o.__productKey=s,n=n.then(function(u){if(p.isArray(u)&&u.length>0){if(o._errorCode!=0)throw o.__productKey="",{code:o._errorCode,message:o._getErrorString()};return U.DWT.ProductKey=o.__productKey,_t.reparseProductKey(),o._innerFunV2("GetLicenseInfo",Ve(0))}throw Do(o),n.context=null,{code:o._errorCode,message:o._getErrorString()}})):j.Promise.reject({code:o._errorCode,message:o._getErrorString()})}function TO(r){return CO.apply(this,arguments)}function CO(){return(CO=a(w().mark(function r(n){var o;return w().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if((o=this)._resetErr(),o._isValid()){s.next=4;break}return s.abrupt("return",j.Promise.reject({code:o._errorCode,message:o._errorString}));case 4:if(n&&n instanceof ta){s.next=7;break}throw $t(o),{code:o._errorCode,message:o._errorString};case 7:case"end":return s.stop()}},r,this)}))).apply(this,arguments)}function pl(r,n,o,s,u){var d,c=[];return c.push("{"),c.push('"id":"'),c.push(r),c.push('"'),s&&(c.push(',"cmdId":"'),c.push(s),c.push('"')),c.push(',"method":"'),c.push(n),c.push('"'),c.push(',"module":"dwt","version":"'),d=u?[Ie.getDWTPrefix(),Or.getVersionStrForCheck()].join(""):[Ie.getDWTPrefix(),Ie.getServerVersionInfo()].join(""),c.push(d),c.push('"'),o!=null&&(c.push(',"parameter":'),p.isArray(o)?c.push(p.stringify(o)):c.push(o)),c.push("}"),c.join("")}function pC(r,n){return["evt",r,n].join("_")}function IO(r){if(r._bReady)r._wsCheckResolve();else{if(U.DWT.bConnectCanceled)return p.asyncQueue.stop(),Ro(r),void r._wsCheckReject({code:r._errorCode,message:r._getErrorString()});if(r._wsRetry>10)return hF(r),void r._wsCheckReject({code:r._errorCode,message:r._getErrorString()});r._wsRetry++,setTimeout(function(){IO(r)},1100)}}function dK(r,n,o,s){return gC.apply(this,arguments)}function gC(){return gC=a(w().mark(function r(n,o,s,u){var d,c,f,m,_,S,y;return w().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(o!=Br.GET_TASKID){b.next=4;break}return b.abrupt("return",u.taskId);case 4:if(o!=Br.GET_EVENT_TASKID){b.next=8;break}return b.abrupt("return",u.eventTaskId);case 8:if(o!=Br.ONMESSAGE_PROCESS_DATA){b.next=17;break}if(R(n)!=="object"){b.next=11;break}return b.abrupt("return",n);case 11:if(!((m=n).indexOf("Version not found")>=0||m.indexOf("Function not found")>=0)){b.next=14;break}return b.abrupt("return",{cmdId:s??0});case 14:return b.abrupt("return",p.parse(n));case 17:if(o!=Br.ONMESSAGE_GET_TASKID){b.next=25;break}if(!n){b.next=22;break}if(!n.event){b.next=21;break}return b.abrupt("return",0);case 21:return b.abrupt("return",n.cmdId);case 22:return b.abrupt("return",n);case 25:if(o!=Br.ONMESSAGE_GET_EVENT_TASKID){b.next=31;break}if(!n||!n.event){b.next=28;break}return b.abrupt("return",pC(n.id,n.cmdId));case 28:return b.abrupt("return",0);case 31:if(o!=Br.HANDLE_RAW_MESSAGE){b.next=59;break}if(d=u==null?void 0:u.userData){b.next=35;break}return b.abrupt("return",!1);case 35:if(c=d.stwain,f=d.command){b.next=39;break}return b.abrupt("return",!1);case 39:if(c&&p.isFunction(c.__OnWSMessage)&&c.__OnWSMessage(n),R(n)!=="object"){b.next=44;break}if(!U.DWT.ConnectWithSocket){b.next=44;break}return f.cmd!="ConvertToBlob"&&f.cmd!="GetImageByIndex"||f.sFun(n),b.abrupt("return",!0);case 44:if(!((_=n.replace(/\0/g,"")).indexOf('"method" : "Heartbeat"')>=0)){b.next=47;break}return b.abrupt("return",!0);case 47:if(!(_.indexOf('"method" : "EnableBuffer"')>=0||_.indexOf('"method" : "GetBuffer"')>=0)){b.next=50;break}return U.DWT.lwsproc(_,f),b.abrupt("return",!0);case 50:if(!(_.indexOf("Exception:")>=0||_.indexOf("Error")==0)){b.next=57;break}return S=n,y=!1,p.log(S+"@"+f.cmd),f.fFun&&(y=f.fFun(S)),!y&&c&&p.isFunction(c.__OnPrintMsg)&&c.__OnPrintMsg(S),b.abrupt("return",!0);case 57:b.next=70;break;case 59:if(o!=Br.HANDLE_PROCESSED_MESSAGE){b.next=70;break}if(d=u==null?void 0:u.userData){b.next=63;break}return b.abrupt("return",!1);case 63:if(c=d.stwain){b.next=66;break}return b.abrupt("return",!1);case 66:if(f=d.command){b.next=69;break}return b.abrupt("return",!1);case 69:return b.abrupt("return",c.__OnRecieveMsg(n,f));case 70:case"end":return b.stop()}},r)})),gC.apply(this,arguments)}function wO(r){r.Resolution!==void 0&&(r.Resolution=parseInt(r.Resolution)),r.PixelType!==void 0&&(r.PixelType=parseInt(r.PixelType)),r.SelectSourceByIndex!==void 0&&(r.SelectSourceByIndex=parseInt(r.SelectSourceByIndex))}var Tp,__=["OnPreAllTransfers","OnPreTransfer","OnPostTransfer","OnPostTransferAsync"],vn=function(r){return r.enumBCAppend=1,r.enumBCInsert=2,r.enumBCRemove=3,r.enumBCEdit=4,r.enumBCIndexChange=5,r.enumBCUpdate=6,r}({}),fK=["OnPostAllTransfers","OnPostTransfer","OnPostLoad","OnPreTransfer","OnPreAllTransfers","OnResult","OnTransferCancelled","OnTransferError","OnSourceUIClose","OnGetFilePath","OnPercentDone","OnPostTransferAsync","OnPreAllTransfersAsync","OnRemoteScanStatusAsync","OnConsumed","OnDiskExceedLimit","OnCurrentDeviceSelected"],hK=["OnPreAllTransfers","OnPreTransfer","OnPostTransfer","OnGetFilePath","OnPostLoad"],mC=p.each;function pK(){var r,n=ra.item("DWT_port"),o=ra.item("DWT_ssl");if(Pt.bEnhancedMode)return!0;j.detect.urls.splice(0),j.detect.cUrlIndex=0,n!==Tp&&o!==Tp&&(r={port:n,ssl:o=="true"});var s=function(u){return!r||!(!u||u.port==r.port&&u.ssl==r.ssl)};j.detect.detectType===1?(r!==Tp&&r.ssl&&j.detect.urls.push(r),mC(j.detect.ports,function(u){u.ssl&&s(u)&&j.detect.urls.push(u)})):j.detect.detectType===0?(r===Tp||r.ssl||j.detect.urls.push(r),mC(j.detect.ports,function(u){u.ssl===!1&&s(u)&&j.detect.urls.push(u)})):(r!==Tp&&j.detect.urls.push(r),mC(j.detect.ports,function(u){s(u)&&j.detect.urls.push(u)}))}var qt=function(r){return r.TWAIN=0,r.ICA=3,r.SANE=3,r.TWAIN_AND_ICA=4,r.TWAIN_AND_TWAIN64=4,r.TWAIN64=5,r}({}),At={notSupportProperty:function(r){},notSupportMethod:function(r){},refreshImageAfterInvokeFun:function(r,n,o){return o==1},loadHttpBlob:function(r,n,o,s,u,d,c,f){var m,_,S=Pe;if(_={method:n,dataType:"blob"},f&&(_.headers=f),r.HTTPUserName!=""&&(_.username=r.HTTPUserName,_.password=r.HTTPPassword),r.__HTTPPostResponseString="",s){if(n=="get"){var y=p.guid();return j.progressContext&&(j.progressContext._onPercent=c),void FT(j.progressContext,y)(o,_).then(function(P){var L=P.type;if(L=="text/plain"||L=="text/html"||ul(L)){var $=new FileReader;$.readAsText(P),$.onload=function(){r.__HTTPPostResponseString=$.result,u(P)},$.onerror=function(){u(P)}}else u(P)},function(P){P&&P.code?(r._errorCode=P.code,r._errorString=P.message):P&&P.httpCode?wT(r,!1,P.message,P.httpCode):eF(r),p.isFunction(d)&&d({code:r._errorCode,message:r._errorString})})}_.onSuccess=function(P,L,$){var te=$?$.getResponseHeader("content-type"):"";if(te.indexOf("text/")>=0||ul(te)){var q=new FileReader;q.readAsText(P),q.onload=function(){r.__HTTPPostResponseString=q.result,u(P)},q.onerror=function(){u(P)}}else u(P)},p.isFunction(c)&&(_.beforeSend=function(P){P.addEventListener("progress",function(L){!ue.bSafari&&L&&(delete L.totalSize,delete L.position),c(L)},Pe)})}else ue.bIE?(_.dataType="arraybuffer",_.onSuccess=function(P,L,$){var te,q;(te=P||$.responseData)&&(q=new Uint8Array(te)),r.__HTTPPostResponseString=$.responseText,r._errorCode=0,r._errorString="",u(q),q=null,S=rt}):(_.dataType="text",_.contentType="text/plain; charset=x-user-defined",_.mimeType="text/plain; charset=x-user-defined",_.onSuccess=function(P,L,$){var te,q,Q;te=$.responseText,r.__HTTPPostResponseString=te,q=te.length,Q=new Uint8Array(q);for(var J=0;J<q;J++)Q[J]=te.charCodeAt(J);r._errorCode=0,r._errorString="",u(Q),Q=null,S=rt}),_.headers?p.mix(_.headers,{"X-Requested-With":Pe}):_.headers={"X-Requested-With":Pe};if(n=="post"){var b,I=r.httpFormFields;if(I)try{b=new FormData,p.each(I,function(P,L){if(P instanceof Blob){var $=P.name;b.append(L,P,$)}else b.append(L,P)}),p.mix(_,{data:b,processData:Pe,contentType:Pe})}catch{}}m=function(P,L,$){var te,q;P&&p.isArray(P)&&P.length>2?(te=P[1],q=P[2]):(te=L,q=$),q.state!=2&&q.state!=3||q.status!=0?wT(r,Pe,te,q.status):q.statusText==="abort"?wT(r,!0):eF(r),p.isFunction(d)&&d()},_.url=o,_.async=s,_.onError=m,_.onComplete=function(){r._cancelableObj=null};var x=Po(_);if(!s)return S;j.progressContext&&(j.progressContext._onPercent=c,r.IfShowCancelDialogWhenImageTransfer&&j.progressContext.on("cancel",function(){x.abort()}))},combineUrl:function(r,n,o){var s=[],u=n;return u===void 0||o===void 0?void 0:(p.isString(u)||(u=String(n)),u.indexOf("http://")==0?(u=u.replace("http://",""),s.push("http://")):u.indexOf("https://")==0?(u=u.replace("https://",""),s.push("https://")):(u.indexOf("//")==0&&(u=u.replace("//","")),r.IfSSL?s.push("https://"):s.push("http://")),s.push(u),u.indexOf(":")<0&&(r.HTTPPort||(r.HTTPPort=j.detect.ssl?443:80),(!j.detect.ssl&&r.HTTPPort!=80||j.detect.ssl&&r.HTTPPort!=443)&&(s.push(":"),s.push(r.HTTPPort))),o.indexOf("/")!==0&&s.push("/"),s.push(o),s.join(""))},httpPutImage:function(r,n,o,s,u,d,c){var f=rt,m={method:"PUT",url:n,hasContent:rt,processData:Pe,async:s,data:o,onSuccess:u,onError:function(S,y,b){var I,x;f=Pe,S&&p.isArray(S)&&S.length>2?(I=S[1],x=S[2]):(I=y,x=b),x.state!=2&&x.state!=3||x.status!=0?tF(r,Pe,I,x.status):x.statusText==="abort"?tF(r,!0):function(P){Fe(P,-2304,"Http put error: the url is invalid.")}(r),p.isFunction(d)&&d()},onComplete:function(){r._cancelableObj=null},beforeSend:function(S){p.isFunction(c)&&S.upload.addEventListener("progress",function(y){!ue.bSafari&&y&&(delete y.totalSize,delete y.position),c(y)},Pe)}};r.HTTPUserName!=""&&(m.username=r.HTTPUserName,m.password=r.HTTPPassword),s||p.mix(m,{headers:{"X-Requested-With":Pe}});var _=Po(m);return j.progressContext&&(j.progressContext._onPercent=c,j.progressContext._onCancel=function(){_.abort()}),f},GetImageInfo:function(r,n){var o=r._ImgManager.convertClientIndexToServerId(n);return o==-1?(qe(r),!1):r._innerFun("GetImageInfo",Ve(o))},getBlobTypeByImageType:cC,callbacks:[],pushCallback:function(r,n,o){var s={method:r,callback:n,ticks:o};At.callbacks.push(s)},refreshUIRef:0,isServerInvalid:function(r){Vi.isServerInvalid(r)},replaceLocalFilename:function(r){var n;return r===void 0?"":(n=(r=String(r)).replace(/\\/g,"\\\\"),ue.bFileSystem&&(n=decodeURI(n)),n)},getImageType:function(r){if(r===void 0||r.length<4)return-1;var n=r.lastIndexOf(".");if(n===-1)return-1;var o=r.slice(n).toLowerCase();return o===".bmp"||o===".dib"?U.DWT.EnumDWT_ImageType.IT_BMP:o===".jpg"||o===".jpe"||o===".jpeg"||o===".jfif"?U.DWT.EnumDWT_ImageType.IT_JPG:o===".tif"||o===".tiff"?U.DWT.EnumDWT_ImageType.IT_TIF:o===".png"?U.DWT.EnumDWT_ImageType.IT_PNG:o===".pdf"?U.DWT.EnumDWT_ImageType.IT_PDF:o===".jp2"||o===".j2k"||o===".j2c"?U.DWT.EnumDWT_ImageType.IT_J2K:-1},makeParams:Ve,showMask:Xr,hideMask:kr};function y_(r,n,o,s,u){var d=0;return r==qt.TWAIN&&(d=Od),r==qt.TWAIN64?d=ht.TWAINX64SCANNER:r==qt.ICA?o?d=ht.SANESCANNER:s?d=ht.ICASCANNER:(n||u)&&(d=Od):r==qt.TWAIN_AND_TWAIN64&&(o?d=Od|ht.SANESCANNER:s?d=Od|ht.ICASCANNER:n?d=Od|ht.TWAINX64SCANNER:u&&(d=Od)),d}function S_(r,n){for(var o=r.HowManyImagesInBuffer,s=0;s<o;s++)n.push(r._ImgManager.convertClientIndexToServerId(s))}function vC(r,n){return r._ImgManager.count()!=0||(Nn(r),p.isFunction(n)&&n(r._errorCode,r._getErrorString()),!1)}function Xu(r,n,o){return!!vC(r,o)&&(!(isNaN(n)||!p.isNumber(n)||n<0||n>=r._ImgManager.count())||(qe(r),p.isFunction(o)&&o(r._errorCode,r._getErrorString()),!1))}function Ld(r){var n,o,s,u=[];return r._ImgManager.count()<=0||((o=r._ImgManager.getCurrentImageIndex())>=0&&(n=r._ImgManager.convertClientIndexToServerId(o)),s=r._ImgManager.getSelectedClientIndexArray(),p.isArray(s)&&p.each(s,function(d){var c=r._ImgManager.convertClientIndexToServerId(d);c!=-1&&u.push(c)}),n!=-1&&u.length==0&&u.push(n)),u}function EO(r){var n,o=[];return r._ImgManager.count()<=0||(n=r._ImgManager.getCurrentImageIndex(),o=r._ImgManager.getSelectedClientIndexArray(),n!=-1&&o.length==0&&o.push(n)),o}function Mn(r,n,o){return r._resetErr(),!!r._isValid()&&(isNaN(n)?(Ot(r),p.isFunction(o)&&o(r._errorCode,r.ErrorString),Pe):n<0||n>=r._ImgManager.count()?(qe(r),p.isFunction(o)&&o(r._errorCode,r.ErrorString),Pe):rt)}function gK(r){var n,o=[],s=r.HowManyImagesInBuffer;for(n=0;n<s;n++)o.push(n);return r._imageBufferWrapper.convertIndicesToServerIds(o)}function Ju(r,n){return r._imageBufferWrapper.convertIndicesToServerIds(n)}function _n(r,n,o,s,u){try{r(n,o,s,u)}catch{}n=o=s=u=null}function ft(r,n,o){try{r(n._errorCode,n._getErrorString(),o)}catch{}n=o=null}function jn(r,n,o,s,u,d){try{r(n._errorCode,n._getErrorString(),o,s,u,d)}catch{}n=o=s=u=d=null}j.html5.Funs=At;var b_=function(){return v(function r(){h(this,r),C(this,"bIsDirty",!1),C(this,"imageWidth",0),C(this,"imageHeight",0),C(this,"iImageControlWidth",0),C(this,"iImageControlHeight",0),C(this,"imageUrl",""),C(this,"minImageUrl",""),C(this,"uuid",-1),C(this,"serverId",-1),C(this,"uidFromServer",""),C(this,"aryOverlayRectangleData",[]),C(this,"ticks",Date.now())},[{key:"Clear",value:function(){this.imageUrl="",this.minImageUrl="",this.serverId=-1,this.uuid=-1,this.uidFromServer="",this.aryOverlayRectangleData=[]}}])}(),Cp=function(r){return r&&r.Math===Math&&r},Mr=Cp((typeof Yi>"u"?"undefined":R(Yi))=="object"&&Yi)||Cp((typeof window>"u"?"undefined":R(window))=="object"&&window)||Cp((typeof self>"u"?"undefined":R(self))=="object"&&self)||Cp(R(le)=="object"&&le)||Cp(R(le)=="object"&&le)||function(){return this}()||Function("return this")(),mr=function(r){try{return!!r()}catch{return!0}},Ip=!mr(function(){var r=(function(){}).bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),mK=Ip,xO=Function.prototype,AO=xO.apply,PO=xO.call,wp=(typeof Reflect>"u"?"undefined":R(Reflect))=="object"&&Reflect.apply||(mK?PO.bind(AO):function(){return PO.apply(AO,arguments)}),kO=Ip,DO=Function.prototype,_C=DO.call,vK=kO&&DO.bind.bind(_C,_C),yr=kO?vK:function(r){return function(){return _C.apply(r,arguments)}},RO=yr,_K=RO({}.toString),yK=RO("".slice),au=function(r){return yK(_K(r),8,-1)},SK=au,bK=yr,T_=function(r){if(SK(r)==="Function")return bK(r)},yC=(typeof document>"u"?"undefined":R(document))=="object"&&document.all,wn=yC===void 0&&yC!==void 0?function(r){return typeof r=="function"||r===yC}:function(r){return typeof r=="function"},gl={},cn=!mr(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),TK=Ip,C_=Function.prototype.call,En=TK?C_.bind(C_):function(){return C_.apply(C_,arguments)},Ep={},FO={}.propertyIsEnumerable,OO=Object.getOwnPropertyDescriptor,CK=OO&&!FO.call({1:2},1);Ep.f=CK?function(r){var n=OO(this,r);return!!n&&n.enumerable}:FO;var qu,I_,Zu=function(r,n){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:n}},IK=mr,wK=au,SC=Object,EK=yr("".split),bC=IK(function(){return!SC("z").propertyIsEnumerable(0)})?function(r){return wK(r)==="String"?EK(r,""):SC(r)}:SC,Wd=function(r){return r==null},xK=Wd,AK=TypeError,Bd=function(r){if(xK(r))throw new AK("Can't call method on "+r);return r},PK=bC,kK=Bd,Ma=function(r){return PK(kK(r))},DK=wn,yn=function(r){return R(r)=="object"?r!==null:DK(r)},Jr={},TC=Jr,CC=Mr,RK=wn,NO=function(r){return RK(r)?r:void 0},Gn=function(r,n){return arguments.length<2?NO(TC[r])||NO(CC[r]):TC[r]&&TC[r][n]||CC[r]&&CC[r][n]},zn=yr({}.isPrototypeOf),MO=Mr.navigator,LO=MO&&MO.userAgent,xp=LO?String(LO):"",WO=Mr,IC=xp,BO=WO.process,UO=WO.Deno,VO=BO&&BO.versions||UO&&UO.version,jO=VO&&VO.v8;jO&&(I_=(qu=jO.split("."))[0]>0&&qu[0]<4?1:+(qu[0]+qu[1])),!I_&&IC&&(!(qu=IC.match(/Edge\/(\d+)/))||qu[1]>=74)&&(qu=IC.match(/Chrome\/(\d+)/))&&(I_=+qu[1]);var w_=I_,GO=w_,FK=mr,OK=Mr.String,Ud=!!Object.getOwnPropertySymbols&&!FK(function(){var r=Symbol("symbol detection");return!OK(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&GO&&GO<41}),zO=Ud&&!Symbol.sham&&R(Symbol.iterator)=="symbol",NK=Gn,MK=wn,LK=zn,WK=Object,Ap=zO?function(r){return R(r)=="symbol"}:function(r){var n=NK("Symbol");return MK(n)&&LK(n.prototype,WK(r))},BK=String,ml=function(r){try{return BK(r)}catch{return"Object"}},UK=wn,VK=ml,jK=TypeError,Oo=function(r){if(UK(r))return r;throw new jK(VK(r)+" is not a function")},GK=Oo,zK=Wd,wC=function(r,n){var o=r[n];return zK(o)?void 0:GK(o)},EC=En,xC=wn,AC=yn,HK=TypeError,HO={exports:{}},$K=!0,$O=Mr,KK=Object.defineProperty,YK=Mr,QK=function(r,n){try{KK($O,r,{value:n,configurable:!0,writable:!0})}catch{$O[r]=n}return n},KO="__core-js_shared__",YO=HO.exports=YK[KO]||QK(KO,{});(YO.versions||(YO.versions=[])).push({version:"3.38.1",mode:"pure",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"});var PC=HO.exports,QO=PC,Vd=function(r,n){return QO[r]||(QO[r]=n||{})},XK=Bd,JK=Object,La=function(r){return JK(XK(r))},qK=La,ZK=yr({}.hasOwnProperty),xn=Object.hasOwn||function(r,n){return ZK(qK(r),n)},eY=yr,tY=0,rY=Math.random(),nY=eY(1 .toString),E_=function(r){return"Symbol("+(r===void 0?"":r)+")_"+nY(++tY+rY,36)},iY=Vd,XO=xn,oY=E_,aY=Ud,sY=zO,jd=Mr.Symbol,kC=iY("wks"),uY=sY?jd.for||jd:jd&&jd.withoutSetter||oY,Ur=function(r){return XO(kC,r)||(kC[r]=aY&&XO(jd,r)?jd[r]:uY("Symbol."+r)),kC[r]},cY=En,JO=yn,qO=Ap,lY=wC,dY=function(r,n){var o,s;if(n==="string"&&xC(o=r.toString)&&!AC(s=EC(o,r))||xC(o=r.valueOf)&&!AC(s=EC(o,r))||n!=="string"&&xC(o=r.toString)&&!AC(s=EC(o,r)))return s;throw new HK("Can't convert object to primitive value")},fY=TypeError,hY=Ur("toPrimitive"),pY=function(r,n){if(!JO(r)||qO(r))return r;var o,s=lY(r,hY);if(s){if(n===void 0&&(n="default"),o=cY(s,r,n),!JO(o)||qO(o))return o;throw new fY("Can't convert object to primitive value")}return n===void 0&&(n="number"),dY(r,n)},gY=Ap,DC=function(r){var n=pY(r,"string");return gY(n)?n:n+""},ZO=yn,RC=Mr.document,mY=ZO(RC)&&ZO(RC.createElement),FC=function(r){return mY?RC.createElement(r):{}},vY=FC,e2=!cn&&!mr(function(){return Object.defineProperty(vY("div"),"a",{get:function(){return 7}}).a!==7}),_Y=cn,yY=En,SY=Ep,bY=Zu,TY=Ma,CY=DC,IY=xn,wY=e2,t2=Object.getOwnPropertyDescriptor;gl.f=_Y?t2:function(r,n){if(r=TY(r),n=CY(n),wY)try{return t2(r,n)}catch{}if(IY(r,n))return bY(!yY(SY.f,r,n),r[n])};var EY=mr,xY=wn,AY=/#|\.prototype\./,Pp=function(r,n){var o=kY[PY(r)];return o===RY||o!==DY&&(xY(n)?EY(n):!!n)},PY=Pp.normalize=function(r){return String(r).replace(AY,".").toLowerCase()},kY=Pp.data={},DY=Pp.NATIVE="N",RY=Pp.POLYFILL="P",r2=Pp,FY=Oo,OY=Ip,NY=T_(T_.bind),su=function(r,n){return FY(r),n===void 0?r:OY?NY(r,n):function(){return r.apply(n,arguments)}},fo={},n2=cn&&mr(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),MY=yn,LY=String,WY=TypeError,ji=function(r){if(MY(r))return r;throw new WY(LY(r)+" is not an object")},BY=cn,UY=e2,VY=n2,x_=ji,i2=DC,jY=TypeError,OC=Object.defineProperty,GY=Object.getOwnPropertyDescriptor,NC="enumerable",MC="configurable",LC="writable";fo.f=BY?VY?function(r,n,o){if(x_(r),n=i2(n),x_(o),typeof r=="function"&&n==="prototype"&&"value"in o&&LC in o&&!o[LC]){var s=GY(r,n);s&&s[LC]&&(r[n]=o.value,o={configurable:MC in o?o[MC]:s[MC],enumerable:NC in o?o[NC]:s[NC],writable:!1})}return OC(r,n,o)}:OC:function(r,n,o){if(x_(r),n=i2(n),x_(o),UY)try{return OC(r,n,o)}catch{}if("get"in o||"set"in o)throw new jY("Accessors not supported");return"value"in o&&(r[n]=o.value),r};var zY=fo,HY=Zu,ec=cn?function(r,n,o){return zY.f(r,n,HY(1,o))}:function(r,n,o){return r[n]=o,r},kp=Mr,$Y=wp,KY=T_,YY=wn,QY=gl.f,XY=r2,Gd=Jr,JY=su,zd=ec,o2=xn,qY=function(r){var n=function(o,s,u){if(this instanceof n){switch(arguments.length){case 0:return new r;case 1:return new r(o);case 2:return new r(o,s)}return new r(o,s,u)}return $Y(r,this,arguments)};return n.prototype=r.prototype,n},wt=function(r,n){var o,s,u,d,c,f,m,_,S,y=r.target,b=r.global,I=r.stat,x=r.proto,P=b?kp:I?kp[y]:kp[y]&&kp[y].prototype,L=b?Gd:Gd[y]||zd(Gd,y,{})[y],$=L.prototype;for(d in n)s=!(o=XY(b?d:y+(I?".":"#")+d,r.forced))&&P&&o2(P,d),f=L[d],s&&(m=r.dontCallGetSet?(S=QY(P,d))&&S.value:P[d]),c=s&&m?m:n[d],(o||x||R(f)!=R(c))&&(_=r.bind&&s?JY(c,kp):r.wrap&&s?qY(c):x&&YY(c)?KY(c):c,(r.sham||c&&c.sham||f&&f.sham)&&zd(_,"sham",!0),zd(L,d,_),x&&(o2(Gd,u=y+"Prototype")||zd(Gd,u,{}),zd(Gd[u],d,c),r.real&&$&&(o||!$[d])&&zd($,d,c)))},tc=yr([].slice),a2=yr,ZY=Oo,eQ=yn,tQ=xn,s2=tc,rQ=Ip,u2=Function,nQ=a2([].concat),iQ=a2([].join),WC={},c2=rQ?u2.bind:function(r){var n=ZY(this),o=n.prototype,s=s2(arguments,1),u=function(){var d=nQ(s,s2(arguments));return this instanceof u?function(c,f,m){if(!tQ(WC,f)){for(var _=[],S=0;S<f;S++)_[S]="a["+S+"]";WC[f]=u2("C,a","return new C("+iQ(_,",")+")")}return WC[f](c,m)}(n,d.length,d):n.apply(r,d)};return eQ(o)&&(u.prototype=o),u},l2={};l2[Ur("toStringTag")]="z";var BC=String(l2)==="[object z]",oQ=BC,aQ=wn,A_=au,sQ=Ur("toStringTag"),uQ=Object,cQ=A_(function(){return arguments}())==="Arguments",vl=oQ?A_:function(r){var n,o,s;return r===void 0?"Undefined":r===null?"Null":typeof(o=function(u,d){try{return u[d]}catch{}}(n=uQ(r),sQ))=="string"?o:cQ?A_(n):(s=A_(n))==="Object"&&aQ(n.callee)?"Arguments":s},lQ=wn,UC=PC,dQ=yr(Function.toString);lQ(UC.inspectSource)||(UC.inspectSource=function(r){return dQ(r)});var d2=UC.inspectSource,fQ=yr,hQ=mr,f2=wn,pQ=vl,gQ=d2,h2=function(){},p2=Gn("Reflect","construct"),VC=/^\s*(?:class|function)\b/,mQ=fQ(VC.exec),vQ=!VC.test(h2),Dp=function(r){if(!f2(r))return!1;try{return p2(h2,[],r),!0}catch{return!1}},g2=function(r){if(!f2(r))return!1;switch(pQ(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return vQ||!!mQ(VC,gQ(r))}catch{return!0}};g2.sham=!0;var P_=!p2||hQ(function(){var r;return Dp(Dp.call)||!Dp(Object)||!Dp(function(){r=!0})||r})?g2:Dp,_Q=P_,yQ=ml,SQ=TypeError,m2=function(r){if(_Q(r))return r;throw new SQ(yQ(r)+" is not a constructor")},k_={},bQ=Math.ceil,TQ=Math.floor,CQ=Math.trunc||function(r){var n=+r;return(n>0?TQ:bQ)(n)},Rp=function(r){var n=+r;return n!=n||n===0?0:CQ(n)},IQ=Rp,wQ=Math.max,EQ=Math.min,D_=function(r,n){var o=IQ(r);return o<0?wQ(o+n,0):EQ(o,n)},xQ=Rp,AQ=Math.min,PQ=function(r){var n=xQ(r);return n>0?AQ(n,9007199254740991):0},rc=function(r){return PQ(r.length)},kQ=Ma,DQ=D_,RQ=rc,v2=function(r){return function(n,o,s){var u=kQ(n),d=RQ(u);if(d===0)return!r&&-1;var c,f=DQ(s,d);if(r&&o!=o){for(;d>f;)if((c=u[f++])!=c)return!0}else for(;d>f;f++)if((r||f in u)&&u[f]===o)return r||f||0;return!r&&-1}},jC={includes:v2(!0),indexOf:v2(!1)},Fp={},GC=xn,FQ=Ma,OQ=jC.indexOf,NQ=Fp,_2=yr([].push),y2=function(r,n){var o,s=FQ(r),u=0,d=[];for(o in s)!GC(NQ,o)&&GC(s,o)&&_2(d,o);for(;n.length>u;)GC(s,o=n[u++])&&(~OQ(d,o)||_2(d,o));return d},zC=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],MQ=y2,LQ=zC,Op=Object.keys||function(r){return MQ(r,LQ)},WQ=cn,BQ=n2,UQ=fo,VQ=ji,jQ=Ma,GQ=Op;k_.f=WQ&&!BQ?Object.defineProperties:function(r,n){VQ(r);for(var o,s=jQ(n),u=GQ(n),d=u.length,c=0;d>c;)UQ.f(r,o=u[c++],s[o]);return r};var R_,S2=Gn("document","documentElement"),zQ=E_,b2=Vd("keys"),F_=function(r){return b2[r]||(b2[r]=zQ(r))},HQ=ji,$Q=k_,T2=zC,KQ=Fp,YQ=S2,QQ=FC,HC="prototype",$C="script",C2=F_("IE_PROTO"),KC=function(){},I2=function(r){return"<"+$C+">"+r+"</"+$C+">"},w2=function(r){r.write(I2("")),r.close();var n=r.parentWindow.Object;return r=null,n},O_=function(){try{R_=new ActiveXObject("htmlfile")}catch{}var r,n,o;O_=typeof document<"u"?document.domain&&R_?w2(R_):(n=QQ("iframe"),o="java"+$C+":",n.style.display="none",YQ.appendChild(n),n.src=String(o),(r=n.contentWindow.document).open(),r.write(I2("document.F=Object")),r.close(),r.F):w2(R_);for(var s=T2.length;s--;)delete O_[HC][T2[s]];return O_()};KQ[C2]=!0;var nc=Object.create||function(r,n){var o;return r!==null?(KC[HC]=HQ(r),o=new KC,KC[HC]=null,o[C2]=r):o=O_(),n===void 0?o:$Q.f(o,n)},XQ=wt,YC=wp,JQ=c2,E2=m2,qQ=ji,x2=yn,ZQ=nc,A2=mr,QC=Gn("Reflect","construct"),eX=Object.prototype,tX=[].push,P2=A2(function(){function r(){}return!(QC(function(){},[],r)instanceof r)}),k2=!A2(function(){QC(function(){})}),D2=P2||k2;XQ({target:"Reflect",stat:!0,forced:D2,sham:D2},{construct:function(r,n){E2(r),qQ(n);var o=arguments.length<3?r:E2(arguments[2]);if(k2&&!P2)return QC(r,n,o);if(r===o){switch(n.length){case 0:return new r;case 1:return new r(n[0]);case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[1],n[2]);case 4:return new r(n[0],n[1],n[2],n[3])}var s=[null];return YC(tX,s,n),new(YC(JQ,r,s))}var u=o.prototype,d=ZQ(x2(u)?u:eX),c=YC(r,d,n);return x2(c)?c:d}});var N_=fe(Jr.Reflect.construct),rX=vl,nX=String,No=function(r){if(rX(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return nX(r)},Np={},iX=y2,oX=zC.concat("length","prototype");Np.f=Object.getOwnPropertyNames||function(r){return iX(r,oX)};var XC={},aX=au,sX=Ma,R2=Np.f,uX=tc,F2=(typeof window>"u"?"undefined":R(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];XC.f=function(r){return F2&&aX(r)==="Window"?function(n){try{return R2(n)}catch{return uX(F2)}}(r):R2(sX(r))};var Mp={};Mp.f=Object.getOwnPropertySymbols;var cX=ec,ic=function(r,n,o,s){return s&&s.enumerable?r[n]=o:cX(r,n,o),r},lX=fo,Lp=function(r,n,o){return lX.f(r,n,o)},Wp={},dX=Ur;Wp.f=dX;var M_,Bp,L_,O2=Jr,fX=xn,hX=Wp,pX=fo.f,ln=function(r){var n=O2.Symbol||(O2.Symbol={});fX(n,r)||pX(n,r,{value:hX.f(r)})},gX=En,mX=Gn,vX=Ur,_X=ic,N2=function(){var r=mX("Symbol"),n=r&&r.prototype,o=n&&n.valueOf,s=vX("toPrimitive");n&&!n[s]&&_X(n,s,function(u){return gX(o,this)},{arity:1})},yX=vl,SX=BC?{}.toString:function(){return"[object "+yX(this)+"]"},bX=BC,TX=fo.f,CX=ec,IX=xn,wX=SX,M2=Ur("toStringTag"),bs=function(r,n,o,s){var u=o?r:r&&r.prototype;u&&(IX(u,M2)||TX(u,M2,{configurable:!0,value:n}),s&&!bX&&CX(u,"toString",wX))},EX=wn,L2=Mr.WeakMap,xX=EX(L2)&&/native code/.test(String(L2)),W2=Mr,AX=yn,PX=ec,JC=xn,qC=PC,kX=F_,DX=Fp,B2="Object already initialized",ZC=W2.TypeError,RX=W2.WeakMap;if(xX||qC.state){var Ts=qC.state||(qC.state=new RX);Ts.get=Ts.get,Ts.has=Ts.has,Ts.set=Ts.set,M_=function(r,n){if(Ts.has(r))throw new ZC(B2);return n.facade=r,Ts.set(r,n),n},Bp=function(r){return Ts.get(r)||{}},L_=function(r){return Ts.has(r)}}else{var Hd=kX("state");DX[Hd]=!0,M_=function(r,n){if(JC(r,Hd))throw new ZC(B2);return n.facade=r,PX(r,Hd,n),n},Bp=function(r){return JC(r,Hd)?r[Hd]:{}},L_=function(r){return JC(r,Hd)}}var Cs={set:M_,get:Bp,has:L_,enforce:function(r){return L_(r)?Bp(r):M_(r,{})},getterFor:function(r){return function(n){var o;if(!AX(n)||(o=Bp(n)).type!==r)throw new ZC("Incompatible receiver, "+r+" required");return o}}},FX=au,_l=Array.isArray||function(r){return FX(r)==="Array"},U2=_l,OX=P_,NX=yn,MX=Ur("species"),V2=Array,LX=function(r){var n;return U2(r)&&(n=r.constructor,(OX(n)&&(n===V2||U2(n.prototype))||NX(n)&&(n=n[MX])===null)&&(n=void 0)),n===void 0?V2:n},eI=function(r,n){return new(LX(r))(n===0?0:n)},WX=su,BX=bC,UX=La,VX=rc,jX=eI,j2=yr([].push),oc=function(r){var n=r===1,o=r===2,s=r===3,u=r===4,d=r===6,c=r===7,f=r===5||d;return function(m,_,S,y){for(var b,I,x=UX(m),P=BX(x),L=VX(P),$=WX(_,S),te=0,q=y||jX,Q=n?q(m,L):o||c?q(m,0):void 0;L>te;te++)if((f||te in P)&&(I=$(b=P[te],te,x),r))if(n)Q[te]=I;else if(I)switch(r){case 3:return!0;case 5:return b;case 6:return te;case 2:j2(Q,b)}else switch(r){case 4:return!1;case 7:j2(Q,b)}return d?-1:s||u?u:Q}},yl={forEach:oc(0),map:oc(1),filter:oc(2),some:oc(3),every:oc(4),find:oc(5),findIndex:oc(6),filterReject:oc(7)},W_=wt,Up=Mr,tI=En,GX=yr,$d=cn,Kd=Ud,zX=mr,Jn=xn,HX=zn,rI=ji,B_=Ma,nI=DC,$X=No,iI=Zu,Yd=nc,G2=Op,KX=Np,z2=XC,YX=Mp,H2=gl,$2=fo,QX=k_,K2=Ep,Y2=ic,XX=Lp,oI=Vd,Q2=Fp,X2=E_,JX=Ur,qX=Wp,ZX=ln,eJ=N2,tJ=bs,J2=Cs,U_=yl.forEach,ho=F_("hidden"),V_="Symbol",Vp="prototype",rJ=J2.set,q2=J2.getterFor(V_),Wa=Object[Vp],Sl=Up.Symbol,j_=Sl&&Sl[Vp],nJ=Up.RangeError,iJ=Up.TypeError,aI=Up.QObject,Z2=H2.f,bl=$2.f,eN=z2.f,oJ=K2.f,tN=GX([].push),uu=oI("symbols"),jp=oI("op-symbols"),aJ=oI("wks"),sI=!aI||!aI[Vp]||!aI[Vp].findChild,rN=function(r,n,o){var s=Z2(Wa,n);s&&delete Wa[n],bl(r,n,o),s&&r!==Wa&&bl(Wa,n,s)},uI=$d&&zX(function(){return Yd(bl({},"a",{get:function(){return bl(this,"a",{value:7}).a}})).a!==7})?rN:bl,cI=function(r,n){var o=uu[r]=Yd(j_);return rJ(o,{type:V_,tag:r,description:n}),$d||(o.description=n),o},G_=function(r,n,o){r===Wa&&G_(jp,n,o),rI(r);var s=nI(n);return rI(o),Jn(uu,s)?(o.enumerable?(Jn(r,ho)&&r[ho][s]&&(r[ho][s]=!1),o=Yd(o,{enumerable:iI(0,!1)})):(Jn(r,ho)||bl(r,ho,iI(1,Yd(null))),r[ho][s]=!0),uI(r,s,o)):bl(r,s,o)},lI=function(r,n){rI(r);var o=B_(n),s=G2(o).concat(aN(o));return U_(s,function(u){$d&&!tI(nN,o,u)||G_(r,u,o[u])}),r},nN=function(r){var n=nI(r),o=tI(oJ,this,n);return!(this===Wa&&Jn(uu,n)&&!Jn(jp,n))&&(!(o||!Jn(this,n)||!Jn(uu,n)||Jn(this,ho)&&this[ho][n])||o)},iN=function(r,n){var o=B_(r),s=nI(n);if(o!==Wa||!Jn(uu,s)||Jn(jp,s)){var u=Z2(o,s);return!u||!Jn(uu,s)||Jn(o,ho)&&o[ho][s]||(u.enumerable=!0),u}},oN=function(r){var n=eN(B_(r)),o=[];return U_(n,function(s){Jn(uu,s)||Jn(Q2,s)||tN(o,s)}),o},aN=function(r){var n=r===Wa,o=eN(n?jp:B_(r)),s=[];return U_(o,function(u){!Jn(uu,u)||n&&!Jn(Wa,u)||tN(s,uu[u])}),s};Kd||(Sl=function(){if(HX(j_,this))throw new iJ("Symbol is not a constructor");var r=arguments.length&&arguments[0]!==void 0?$X(arguments[0]):void 0,n=X2(r),o=function(s){var u=this===void 0?Up:this;u===Wa&&tI(o,jp,s),Jn(u,ho)&&Jn(u[ho],n)&&(u[ho][n]=!1);var d=iI(1,s);try{uI(u,n,d)}catch(c){if(!(c instanceof nJ))throw c;rN(u,n,d)}};return $d&&sI&&uI(Wa,n,{configurable:!0,set:o}),cI(n,r)},Y2(j_=Sl[Vp],"toString",function(){return q2(this).tag}),Y2(Sl,"withoutSetter",function(r){return cI(X2(r),r)}),K2.f=nN,$2.f=G_,QX.f=lI,H2.f=iN,KX.f=z2.f=oN,YX.f=aN,qX.f=function(r){return cI(JX(r),r)},$d&&XX(j_,"description",{configurable:!0,get:function(){return q2(this).description}})),W_({global:!0,constructor:!0,wrap:!0,forced:!Kd,sham:!Kd},{Symbol:Sl}),U_(G2(aJ),function(r){ZX(r)}),W_({target:V_,stat:!0,forced:!Kd},{useSetter:function(){sI=!0},useSimple:function(){sI=!1}}),W_({target:"Object",stat:!0,forced:!Kd,sham:!$d},{create:function(r,n){return n===void 0?Yd(r):lI(Yd(r),n)},defineProperty:G_,defineProperties:lI,getOwnPropertyDescriptor:iN}),W_({target:"Object",stat:!0,forced:!Kd},{getOwnPropertyNames:oN}),eJ(),tJ(Sl,V_),Q2[ho]=!0;var sN=Ud&&!!Symbol.for&&!!Symbol.keyFor,sJ=wt,uJ=Gn,cJ=xn,lJ=No,uN=Vd,dJ=sN,dI=uN("string-to-symbol-registry"),fJ=uN("symbol-to-string-registry");sJ({target:"Symbol",stat:!0,forced:!dJ},{for:function(r){var n=lJ(r);if(cJ(dI,n))return dI[n];var o=uJ("Symbol")(n);return dI[n]=o,fJ[o]=n,o}});var hJ=wt,pJ=xn,gJ=Ap,mJ=ml,vJ=sN,cN=Vd("symbol-to-string-registry");hJ({target:"Symbol",stat:!0,forced:!vJ},{keyFor:function(r){if(!gJ(r))throw new TypeError(mJ(r)+" is not a symbol");if(pJ(cN,r))return cN[r]}});var lN=_l,_J=wn,dN=au,yJ=No,fN=yr([].push),SJ=wt,hN=Gn,pN=wp,bJ=En,Gp=yr,gN=mr,mN=wn,vN=Ap,_N=tc,TJ=function(r){if(_J(r))return r;if(lN(r)){for(var n=r.length,o=[],s=0;s<n;s++){var u=r[s];typeof u=="string"?fN(o,u):typeof u!="number"&&dN(u)!=="Number"&&dN(u)!=="String"||fN(o,yJ(u))}var d=o.length,c=!0;return function(f,m){if(c)return c=!1,m;if(lN(this))return m;for(var _=0;_<d;_++)if(o[_]===f)return m}}},CJ=Ud,IJ=String,ac=hN("JSON","stringify"),z_=Gp(/./.exec),yN=Gp("".charAt),wJ=Gp("".charCodeAt),EJ=Gp("".replace),xJ=Gp(1 .toString),AJ=/[\uD800-\uDFFF]/g,SN=/^[\uD800-\uDBFF]$/,bN=/^[\uDC00-\uDFFF]$/,TN=!CJ||gN(function(){var r=hN("Symbol")("stringify detection");return ac([r])!=="[null]"||ac({a:r})!=="{}"||ac(Object(r))!=="{}"}),CN=gN(function(){return ac("\uDF06\uD834")!=='"\\udf06\\ud834"'||ac("\uDEAD")!=='"\\udead"'}),PJ=function(r,n){var o=_N(arguments),s=TJ(n);if(mN(s)||r!==void 0&&!vN(r))return o[1]=function(u,d){if(mN(s)&&(d=bJ(s,this,IJ(u),d)),!vN(d))return d},pN(ac,null,o)},kJ=function(r,n,o){var s=yN(o,n-1),u=yN(o,n+1);return z_(SN,r)&&!z_(bN,u)||z_(bN,r)&&!z_(SN,s)?"\\u"+xJ(wJ(r,0),16):r};ac&&SJ({target:"JSON",stat:!0,arity:3,forced:TN||CN},{stringify:function(r,n,o){var s=_N(arguments),u=pN(TN?PJ:ac,null,s);return CN&&typeof u=="string"?EJ(u,AJ,kJ):u}});var IN=Mp,DJ=La;wt({target:"Object",stat:!0,forced:!Ud||mr(function(){IN.f(1)})},{getOwnPropertySymbols:function(r){var n=IN.f;return n?n(DJ(r)):[]}});var wN=fe(Jr.Object.getOwnPropertySymbols),EN={exports:{}},RJ=wt,FJ=mr,OJ=Ma,xN=gl.f,AN=cn;RJ({target:"Object",stat:!0,forced:!AN||FJ(function(){xN(1)}),sham:!AN},{getOwnPropertyDescriptor:function(r,n){return xN(OJ(r),n)}});var PN=Jr.Object,NJ=EN.exports=function(r,n){return PN.getOwnPropertyDescriptor(r,n)};PN.getOwnPropertyDescriptor.sham&&(NJ.sham=!0);var kN=EN.exports,DN=fe(kN),MJ=Gn,LJ=Np,WJ=Mp,BJ=ji,UJ=yr([].concat),RN=MJ("Reflect","ownKeys")||function(r){var n=LJ.f(BJ(r)),o=WJ.f;return o?UJ(n,o(r)):n},VJ=cn,jJ=fo,GJ=Zu,zp=function(r,n,o){VJ?jJ.f(r,n,GJ(0,o)):r[n]=o},zJ=RN,HJ=Ma,$J=gl,KJ=zp;wt({target:"Object",stat:!0,sham:!cn},{getOwnPropertyDescriptors:function(r){for(var n,o,s=HJ(r),u=$J.f,d=zJ(s),c={},f=0;d.length>f;)(o=u(s,n=d[f++]))!==void 0&&KJ(c,n,o);return c}});var FN=fe(Jr.Object.getOwnPropertyDescriptors),ON={exports:{}},YJ=wt,QJ=cn,NN=k_.f;YJ({target:"Object",stat:!0,forced:Object.defineProperties!==NN,sham:!QJ},{defineProperties:NN});var MN=Jr.Object,XJ=ON.exports=function(r,n){return MN.defineProperties(r,n)};MN.defineProperties.sham&&(XJ.sham=!0);var JJ=fe(ON.exports),LN=!mr(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),qJ=xn,ZJ=wn,eq=La,tq=LN,WN=F_("IE_PROTO"),fI=Object,rq=fI.prototype,Qd=tq?fI.getPrototypeOf:function(r){var n=eq(r);if(qJ(n,WN))return n[WN];var o=n.constructor;return ZJ(o)&&n instanceof o?o.prototype:n instanceof fI?rq:null},nq=yr,iq=Oo,oq=yn,aq=function(r){return oq(r)||r===null},sq=String,uq=TypeError,cq=function(r,n,o){try{return nq(iq(Object.getOwnPropertyDescriptor(r,n)[o]))}catch{}},lq=yn,dq=Bd,fq=function(r){if(aq(r))return r;throw new uq("Can't set "+sq(r)+" as a prototype")},BN=Object.setPrototypeOf||("__proto__"in{}?function(){var r,n=!1,o={};try{(r=cq(Object.prototype,"__proto__","set"))(o,[]),n=o instanceof Array}catch{}return function(s,u){return dq(s),fq(u),lq(s)&&(n?r(s,u):s.__proto__=u),s}}():void 0),UN=xn,hq=RN,pq=gl,gq=fo,mq=yn,vq=ec,VN=Error,_q=yr("".replace),yq=String(new VN("zxcasd").stack),jN=/\n\s*at [^:]*:[^\n]*/,Sq=jN.test(yq),bq=Zu,Tq=!mr(function(){var r=new Error("a");return!("stack"in r)||(Object.defineProperty(r,"stack",bq(1,7)),r.stack!==7)}),Cq=ec,Iq=function(r,n){if(Sq&&typeof r=="string"&&!VN.prepareStackTrace)for(;n--;)r=_q(r,jN,"");return r},wq=Tq,GN=Error.captureStackTrace,Xd={},Eq=Xd,xq=Ur("iterator"),Aq=Array.prototype,zN=function(r){return r!==void 0&&(Eq.Array===r||Aq[xq]===r)},Pq=vl,HN=wC,kq=Wd,Dq=Xd,Rq=Ur("iterator"),Hp=function(r){if(!kq(r))return HN(r,Rq)||HN(r,"@@iterator")||Dq[Pq(r)]},Fq=En,Oq=Oo,Nq=ji,Mq=ml,Lq=Hp,Wq=TypeError,hI=function(r,n){var o=arguments.length<2?Lq(r):n;if(Oq(o))return Nq(Fq(o,r));throw new Wq(Mq(r)+" is not iterable")},Bq=En,$N=ji,Uq=wC,H_=function(r,n,o){var s,u;$N(r);try{if(!(s=Uq(r,"return"))){if(n==="throw")throw o;return o}s=Bq(s,r)}catch(d){u=!0,s=d}if(n==="throw")throw o;if(u)throw s;return $N(s),o},Vq=su,jq=En,Gq=ji,zq=ml,Hq=zN,$q=rc,KN=zn,Kq=hI,Yq=Hp,YN=H_,Qq=TypeError,$_=function(r,n){this.stopped=r,this.result=n},QN=$_.prototype,Tl=function(r,n,o){var s,u,d,c,f,m,_,S=o&&o.that,y=!(!o||!o.AS_ENTRIES),b=!(!o||!o.IS_RECORD),I=!(!o||!o.IS_ITERATOR),x=!(!o||!o.INTERRUPTED),P=Vq(n,S),L=function(te){return s&&YN(s,"normal",te),new $_(!0,te)},$=function(te){return y?(Gq(te),x?P(te[0],te[1],L):P(te[0],te[1])):x?P(te,L):P(te)};if(b)s=r.iterator;else if(I)s=r;else{if(!(u=Yq(r)))throw new Qq(zq(r)+" is not iterable");if(Hq(u)){for(d=0,c=$q(r);c>d;d++)if((f=$(r[d]))&&KN(QN,f))return f;return new $_(!1)}s=Kq(r,u)}for(m=b?r.next:s.next;!(_=jq(m,s)).done;){try{f=$(_.value)}catch(te){YN(s,"throw",te)}if(R(f)=="object"&&f&&KN(QN,f))return f}return new $_(!1)},Xq=No,Jq=wt,qq=zn,Zq=Qd,K_=BN,eZ=function(r,n,o){for(var s=hq(n),u=gq.f,d=pq.f,c=0;c<s.length;c++){var f=s[c];UN(r,f)||o&&UN(o,f)||u(r,f,d(n,f))}},XN=nc,pI=ec,gI=Zu,tZ=function(r,n){mq(n)&&"cause"in n&&vq(r,"cause",n.cause)},rZ=function(r,n,o,s){wq&&(GN?GN(r,n):Cq(r,"stack",Iq(o,s)))},nZ=Tl,iZ=function(r,n){return r===void 0?arguments.length<2?"":n:Xq(r)},oZ=Ur("toStringTag"),Y_=Error,aZ=[].push,Jd=function(r,n){var o,s=qq(mI,this);K_?o=K_(new Y_,s?Zq(this):mI):(o=s?this:XN(mI),pI(o,oZ,"Error")),n!==void 0&&pI(o,"message",iZ(n)),rZ(o,Jd,o.stack,1),arguments.length>2&&tZ(o,arguments[2]);var u=[];return nZ(r,aZ,{that:u}),pI(o,"errors",u),o};K_?K_(Jd,Y_):eZ(Jd,Y_,{name:!0});var mI=Jd.prototype=XN(Y_.prototype,{constructor:gI(1,Jd),message:gI(1,""),name:gI(1,"AggregateError")});Jq({global:!0,constructor:!0,arity:2},{AggregateError:Jd});var Cl,JN,qN,vI=cn,sZ=xn,ZN=Function.prototype,uZ=vI&&Object.getOwnPropertyDescriptor,_I=sZ(ZN,"name"),cZ={EXISTS:_I,PROPER:_I&&(function(){}).name==="something",CONFIGURABLE:_I&&(!vI||vI&&uZ(ZN,"name").configurable)},lZ=mr,dZ=wn,fZ=yn,hZ=nc,eM=Qd,pZ=ic,yI=Ur("iterator"),tM=!1;[].keys&&("next"in(qN=[].keys())?(JN=eM(eM(qN)))!==Object.prototype&&(Cl=JN):tM=!0);var gZ=!fZ(Cl)||lZ(function(){var r={};return Cl[yI].call(r)!==r});dZ((Cl=gZ?{}:hZ(Cl))[yI])||pZ(Cl,yI,function(){return this});var rM={IteratorPrototype:Cl,BUGGY_SAFARI_ITERATORS:tM},mZ=rM.IteratorPrototype,vZ=nc,_Z=Zu,yZ=bs,SZ=Xd,bZ=function(){return this},nM=function(r,n,o,s){var u=n+" Iterator";return r.prototype=vZ(mZ,{next:_Z(+!s,o)}),yZ(r,u,!1,!0),SZ[u]=bZ,r},TZ=wt,CZ=En,IZ=nM,wZ=Qd,EZ=bs,iM=ic,oM=Xd,xZ=cZ.PROPER,Q_=rM.BUGGY_SAFARI_ITERATORS,SI=Ur("iterator"),aM="keys",X_="values",sM="entries",AZ=function(){return this},bI=function(r,n,o,s,u,d,c){IZ(o,n,s);var f,m,_,S=function($){if($===u&&P)return P;if(!Q_&&$&&$ in I)return I[$];switch($){case aM:case X_:case sM:return function(){return new o(this,$)}}return function(){return new o(this)}},y=n+" Iterator",b=!1,I=r.prototype,x=I[SI]||I["@@iterator"]||u&&I[u],P=!Q_&&x||S(u),L=n==="Array"&&I.entries||x;if(L&&(f=wZ(L.call(new r)))!==Object.prototype&&f.next&&(EZ(f,y,!0,!0),oM[y]=AZ),xZ&&u===X_&&x&&x.name!==X_&&(b=!0,P=function(){return CZ(x,this)}),u)if(m={values:S(X_),keys:d?P:S(aM),entries:S(sM)},c)for(_ in m)(Q_||b||!(_ in I))&&iM(I,_,m[_]);else TZ({target:n,proto:!0,forced:Q_||b},m);return c&&I[SI]!==P&&iM(I,SI,P,{name:u}),oM[n]=P,m},J_=function(r,n){return{value:r,done:n}},PZ=Ma,uM=Xd,cM=Cs;fo.f;var kZ=bI,q_=J_,lM="Array Iterator",DZ=cM.set,RZ=cM.getterFor(lM);kZ(Array,"Array",function(r,n){DZ(this,{type:lM,target:PZ(r),index:0,kind:n})},function(){var r=RZ(this),n=r.target,o=r.index++;if(!n||o>=n.length)return r.target=null,q_(void 0,!0);switch(r.kind){case"keys":return q_(o,!1);case"values":return q_(n[o],!1)}return q_([o,n[o]],!1)},"values"),uM.Arguments=uM.Array;var $p,qd,dM,TI,Kp=Mr,FZ=xp,OZ=au,Z_=function(r){return FZ.slice(0,r.length)===r},fM=Z_("Bun/")?"BUN":Z_("Cloudflare-Workers")?"CLOUDFLARE":Z_("Deno/")?"DENO":Z_("Node.js/")?"NODE":Kp.Bun&&typeof Bun.version=="string"?"BUN":Kp.Deno&&R(Deno.version)=="object"?"DENO":OZ(Kp.process)==="process"?"NODE":Kp.window&&Kp.document?"BROWSER":"REST",CI=fM==="NODE",NZ=Gn,MZ=Lp,LZ=cn,hM=Ur("species"),pM=function(r){var n=NZ(r);LZ&&n&&!n[hM]&&MZ(n,hM,{configurable:!0,get:function(){return this}})},WZ=zn,BZ=TypeError,Yp=function(r,n){if(WZ(n,r))return r;throw new BZ("Incorrect invocation")},gM=ji,UZ=m2,VZ=Wd,jZ=Ur("species"),mM=function(r,n){var o,s=gM(r).constructor;return s===void 0||VZ(o=gM(s)[jZ])?n:UZ(o)},GZ=TypeError,Qp=function(r,n){if(r<n)throw new GZ("Not enough arguments");return r},vM=/(?:ipad|iphone|ipod).*applewebkit/i.test(xp),Mo=Mr,zZ=wp,HZ=su,_M=wn,$Z=xn,yM=mr,SM=S2,KZ=tc,bM=FC,YZ=Qp,QZ=vM,XZ=CI,II=Mo.setImmediate,wI=Mo.clearImmediate,JZ=Mo.process,EI=Mo.Dispatch,qZ=Mo.Function,TM=Mo.MessageChannel,ZZ=Mo.String,xI=0,Xp={},CM="onreadystatechange";yM(function(){$p=Mo.location});var AI=function(r){if($Z(Xp,r)){var n=Xp[r];delete Xp[r],n()}},PI=function(r){return function(){AI(r)}},IM=function(r){AI(r.data)},wM=function(r){Mo.postMessage(ZZ(r),$p.protocol+"//"+$p.host)};II&&wI||(II=function(r){YZ(arguments.length,1);var n=_M(r)?r:qZ(r),o=KZ(arguments,1);return Xp[++xI]=function(){zZ(n,void 0,o)},qd(xI),xI},wI=function(r){delete Xp[r]},XZ?qd=function(r){JZ.nextTick(PI(r))}:EI&&EI.now?qd=function(r){EI.now(PI(r))}:TM&&!QZ?(TI=(dM=new TM).port2,dM.port1.onmessage=IM,qd=HZ(TI.postMessage,TI)):Mo.addEventListener&&_M(Mo.postMessage)&&!Mo.importScripts&&$p&&$p.protocol!=="file:"&&!yM(wM)?(qd=wM,Mo.addEventListener("message",IM,!1)):qd=CM in bM("script")?function(r){SM.appendChild(bM("script"))[CM]=function(){SM.removeChild(this),AI(r)}}:function(r){setTimeout(PI(r),0)});var EM={set:II,clear:wI},xM=Mr,eee=cn,tee=Object.getOwnPropertyDescriptor,AM=function(r){if(!eee)return xM[r];var n=tee(xM,r);return n&&n.value},PM=function(){this.head=null,this.tail=null};PM.prototype={add:function(r){var n={item:r,next:null},o=this.tail;o?o.next=n:this.head=n,this.tail=n},get:function(){var r=this.head;if(r)return(this.head=r.next)===null&&(this.tail=null),r.item}};var Zd,kI,DI,RI,kM,DM=PM,ree=/ipad|iphone|ipod/i.test(xp)&&typeof Pebble<"u",nee=/web0s(?!.*chrome)/i.test(xp),ef=Mr,iee=AM,RM=su,FI=EM.set,oee=DM,aee=vM,see=ree,uee=nee,OI=CI,FM=ef.MutationObserver||ef.WebKitMutationObserver,OM=ef.document,NM=ef.process,e0=ef.Promise,NI=iee("queueMicrotask");if(!NI){var t0=new oee,r0=function(){var r,n;for(OI&&(r=NM.domain)&&r.exit();n=t0.get();)try{n()}catch(o){throw t0.head&&Zd(),o}r&&r.enter()};aee||OI||uee||!FM||!OM?!see&&e0&&e0.resolve?((RI=e0.resolve(void 0)).constructor=e0,kM=RM(RI.then,RI),Zd=function(){kM(r0)}):OI?Zd=function(){NM.nextTick(r0)}:(FI=RM(FI,ef),Zd=function(){FI(r0)}):(kI=!0,DI=OM.createTextNode(""),new FM(r0).observe(DI,{characterData:!0}),Zd=function(){DI.data=kI=!kI}),NI=function(r){t0.head||Zd(),t0.add(r)}}var cee=NI,tf=function(r){try{return{error:!1,value:r()}}catch(n){return{error:!0,value:n}}},Il=Mr.Promise,lee=Mr,Jp=Il,dee=wn,fee=r2,hee=d2,pee=Ur,MM=fM,MI=w_,LM=Jp&&Jp.prototype,gee=pee("species"),WM=!1,BM=dee(lee.PromiseRejectionEvent),mee=fee("Promise",function(){var r=hee(Jp),n=r!==String(Jp);if(!n&&MI===66||!LM.catch||!LM.finally)return!0;if(!MI||MI<51||!/native code/.test(r)){var o=new Jp(function(u){u(1)}),s=function(u){u(function(){},function(){})};if((o.constructor={})[gee]=s,!(WM=o.then(function(){})instanceof s))return!0}return!(n||MM!=="BROWSER"&&MM!=="DENO"||BM)}),rf={CONSTRUCTOR:mee,REJECTION_EVENT:BM,SUBCLASSING:WM},Is={},UM=Oo,vee=TypeError,_ee=function(r){var n,o;this.promise=new r(function(s,u){if(n!==void 0||o!==void 0)throw new vee("Bad Promise constructor");n=s,o=u}),this.resolve=UM(n),this.reject=UM(o)};Is.f=function(r){return new _ee(r)};var LI,VM,yee=wt,n0=CI,sc=Mr,qp=En,See=ic,bee=bs,Tee=pM,Cee=Oo,WI=wn,Iee=yn,wee=Yp,Eee=mM,jM=EM.set,BI=cee,xee=function(r,n){},Aee=tf,Pee=DM,GM=Cs,UI=Il,zM=Is,i0="Promise",HM=rf.CONSTRUCTOR,kee=rf.REJECTION_EVENT,VI=GM.getterFor(i0),Dee=GM.set,Ree=UI&&UI.prototype,Zp=UI,jI=Ree,$M=sc.TypeError,GI=sc.document,zI=sc.process,HI=zM.f,Fee=HI,Oee=!!(GI&&GI.createEvent&&sc.dispatchEvent),KM="unhandledrejection",YM=function(r){var n;return!(!Iee(r)||!WI(n=r.then))&&n},QM=function(r,n){var o,s,u,d=n.value,c=n.state===1,f=c?r.ok:r.fail,m=r.resolve,_=r.reject,S=r.domain;try{f?(c||(n.rejection===2&&Mee(n),n.rejection=1),f===!0?o=d:(S&&S.enter(),o=f(d),S&&(S.exit(),u=!0)),o===r.promise?_(new $M("Promise-chain cycle")):(s=YM(o))?qp(s,o,m,_):m(o)):_(d)}catch(y){S&&!u&&S.exit(),_(y)}},XM=function(r,n){r.notified||(r.notified=!0,BI(function(){for(var o,s=r.reactions;o=s.get();)QM(o,r);r.notified=!1,n&&!r.rejection&&Nee(r)}))},JM=function(r,n,o){var s,u;Oee?((s=GI.createEvent("Event")).promise=n,s.reason=o,s.initEvent(r,!1,!0),sc.dispatchEvent(s)):s={promise:n,reason:o},!kee&&(u=sc["on"+r])?u(s):r===KM&&xee()},Nee=function(r){qp(jM,sc,function(){var n,o=r.facade,s=r.value;if(qM(r)&&(n=Aee(function(){n0?zI.emit("unhandledRejection",s,o):JM(KM,o,s)}),r.rejection=n0||qM(r)?2:1,n.error))throw n.value})},qM=function(r){return r.rejection!==1&&!r.parent},Mee=function(r){qp(jM,sc,function(){var n=r.facade;n0?zI.emit("rejectionHandled",n):JM("rejectionhandled",n,r.value)})},nf=function(r,n,o){return function(s){r(n,s,o)}},of=function(r,n,o){r.done||(r.done=!0,o&&(r=o),r.value=n,r.state=2,XM(r,!0))},$I=function(r,n,o){if(!r.done){r.done=!0,o&&(r=o);try{if(r.facade===n)throw new $M("Promise can't be resolved itself");var s=YM(n);s?BI(function(){var u={done:!1};try{qp(s,n,nf($I,u,r),nf(of,u,r))}catch(d){of(u,d,r)}}):(r.value=n,r.state=1,XM(r,!1))}catch(u){of({done:!1},u,r)}}};HM&&(jI=(Zp=function(r){wee(this,jI),Cee(r),qp(LI,this);var n=VI(this);try{r(nf($I,n),nf(of,n))}catch(o){of(n,o)}}).prototype,(LI=function(r){Dee(this,{type:i0,done:!1,notified:!1,parent:!1,reactions:new Pee,rejection:!1,state:0,value:null})}).prototype=See(jI,"then",function(r,n){var o=VI(this),s=HI(Eee(this,Zp));return o.parent=!0,s.ok=!WI(r)||r,s.fail=WI(n)&&n,s.domain=n0?zI.domain:void 0,o.state===0?o.reactions.add(s):BI(function(){QM(s,o)}),s.promise}),VM=function(){var r=new LI,n=VI(r);this.promise=r,this.resolve=nf($I,n),this.reject=nf(of,n)},zM.f=HI=function(r){return r===Zp||r===void 0?new VM(r):Fee(r)}),yee({global:!0,constructor:!0,wrap:!0,forced:HM},{Promise:Zp}),bee(Zp,i0,!1,!0),Tee(i0);var ZM=Ur("iterator"),eL=!1;try{var Lee=0,tL={next:function(){return{done:!!Lee++}},return:function(){eL=!0}};tL[ZM]=function(){return this},Array.from(tL,function(){throw 2})}catch{}var rL=function(r,n){try{if(!n&&!eL)return!1}catch{return!1}var o=!1;try{var s={};s[ZM]=function(){return{next:function(){return{done:o=!0}}}},r(s)}catch{}return o},Wee=Il,o0=rf.CONSTRUCTOR||!rL(function(r){Wee.all(r).then(void 0,function(){})}),Bee=En,Uee=Oo,Vee=Is,jee=tf,Gee=Tl;wt({target:"Promise",stat:!0,forced:o0},{all:function(r){var n=this,o=Vee.f(n),s=o.resolve,u=o.reject,d=jee(function(){var c=Uee(n.resolve),f=[],m=0,_=1;Gee(r,function(S){var y=m++,b=!1;_++,Bee(c,n,S).then(function(I){b||(b=!0,f[y]=I,--_||s(f))},u)}),--_||s(f)});return d.error&&u(d.value),o.promise}});var zee=wt,Hee=rf.CONSTRUCTOR;Il&&Il.prototype,zee({target:"Promise",proto:!0,forced:Hee,real:!0},{catch:function(r){return this.then(void 0,r)}});var $ee=En,Kee=Oo,Yee=Is,Qee=tf,Xee=Tl;wt({target:"Promise",stat:!0,forced:o0},{race:function(r){var n=this,o=Yee.f(n),s=o.reject,u=Qee(function(){var d=Kee(n.resolve);Xee(r,function(c){$ee(d,n,c).then(o.resolve,s)})});return u.error&&s(u.value),o.promise}});var Jee=Is;wt({target:"Promise",stat:!0,forced:rf.CONSTRUCTOR},{reject:function(r){var n=Jee.f(this);return(0,n.reject)(r),n.promise}});var qee=ji,Zee=yn,ete=Is,nL=function(r,n){if(qee(r),Zee(n)&&n.constructor===r)return n;var o=ete.f(r);return(0,o.resolve)(n),o.promise},tte=wt,rte=Il,nte=rf.CONSTRUCTOR,ite=nL,ote=Gn("Promise"),ate=!nte;tte({target:"Promise",stat:!0,forced:!0},{resolve:function(r){return ite(ate&&this===ote?rte:this,r)}});var ste=En,ute=Oo,cte=Is,lte=tf,dte=Tl;wt({target:"Promise",stat:!0,forced:o0},{allSettled:function(r){var n=this,o=cte.f(n),s=o.resolve,u=o.reject,d=lte(function(){var c=ute(n.resolve),f=[],m=0,_=1;dte(r,function(S){var y=m++,b=!1;_++,ste(c,n,S).then(function(I){b||(b=!0,f[y]={status:"fulfilled",value:I},--_||s(f))},function(I){b||(b=!0,f[y]={status:"rejected",reason:I},--_||s(f))})}),--_||s(f)});return d.error&&u(d.value),o.promise}});var fte=En,hte=Oo,pte=Gn,gte=Is,mte=tf,vte=Tl,iL="No one promise resolved";wt({target:"Promise",stat:!0,forced:o0},{any:function(r){var n=this,o=pte("AggregateError"),s=gte.f(n),u=s.resolve,d=s.reject,c=mte(function(){var f=hte(n.resolve),m=[],_=0,S=1,y=!1;vte(r,function(b){var I=_++,x=!1;S++,fte(f,n,b).then(function(P){x||y||(y=!0,u(P))},function(P){x||y||(x=!0,m[I]=P,--S||d(new o(m,iL)))})}),--S||d(new o(m,iL))});return c.error&&d(c.value),s.promise}});var _te=Is;wt({target:"Promise",stat:!0},{withResolvers:function(){var r=_te.f(this);return{promise:r.promise,resolve:r.resolve,reject:r.reject}}});var yte=wt,KI=Il,Ste=mr,bte=Gn,Tte=wn,Cte=mM,oL=nL,Ite=KI&&KI.prototype;yte({target:"Promise",proto:!0,real:!0,forced:!!KI&&Ste(function(){Ite.finally.call({then:function(){}},function(){})})},{finally:function(r){var n=Cte(this,bte("Promise")),o=Tte(r);return this.then(o?function(s){return oL(n,r()).then(function(){return s})}:r,o?function(s){return oL(n,r()).then(function(){throw s})}:r)}});var YI=yr,wte=Rp,Ete=No,xte=Bd,Ate=YI("".charAt),aL=YI("".charCodeAt),Pte=YI("".slice),sL=function(r){return function(n,o){var s,u,d=Ete(xte(n)),c=wte(o),f=d.length;return c<0||c>=f?r?"":void 0:(s=aL(d,c))<55296||s>56319||c+1===f||(u=aL(d,c+1))<56320||u>57343?r?Ate(d,c):s:r?Pte(d,c,c+2):u-56320+(s-55296<<10)+65536}},uL={codeAt:sL(!1),charAt:sL(!0)},kte=uL.charAt,Dte=No,cL=Cs,Rte=bI,lL=J_,dL="String Iterator",Fte=cL.set,Ote=cL.getterFor(dL);Rte(String,"String",function(r){Fte(this,{type:dL,string:Dte(r),index:0})},function(){var r,n=Ote(this),o=n.string,s=n.index;return s>=o.length?lL(void 0,!0):(r=kte(o,s),n.index+=r.length,lL(r,!1))});var Nte=Jr.Promise,Mte={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Lte=Mr,Wte=bs,fL=Xd;for(var QI in Mte)Wte(Lte[QI],QI),fL[QI]=fL.Array;var hL=Nte,Bte=wt,Ute=wp,Vte=tc,jte=Is,Gte=Oo,pL=tf,XI=Mr.Promise,gL=!1;Bte({target:"Promise",stat:!0,forced:!XI||!XI.try||pL(function(){XI.try(function(r){gL=r===8},8)}).error||!gL},{try:function(r){var n=arguments.length>1?Vte(arguments,1):[],o=jte.f(this),s=pL(function(){return Ute(Gte(r),void 0,n)});return(s.error?o.reject:o.resolve)(s.value),o.promise}});var mL=hL,vL=fe(mL);function _L(r,n,o,s,u,d,c){try{var f=r[d](c),m=f.value}catch(_){return void o(_)}f.done?n(m):vL.resolve(m).then(s,u)}function yL(r){return function(){var n=this,o=arguments;return new vL(function(s,u){var d=r.apply(n,o);function c(m){_L(d,s,u,c,f,"next",m)}function f(m){_L(d,s,u,c,f,"throw",m)}c(void 0)})}}function qr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var SL=xn,zte=En,Hte=yn,$te=ji,Kte=function(r){return r!==void 0&&(SL(r,"value")||SL(r,"writable"))},Yte=gl,Qte=Qd;wt({target:"Reflect",stat:!0},{get:function r(n,o){var s,u,d=arguments.length<3?n:arguments[2];return $te(n)===d?n[o]:(s=Yte.f(n,o))?Kte(s)?s.value:s.get===void 0?void 0:zte(s.get,d):Hte(u=Qte(n))?r(u,o,d):void 0}});var bL=fe(Jr.Reflect.get),TL=c2;wt({target:"Function",proto:!0,forced:Function.bind!==TL},{bind:TL});var Xte=Mr,Jte=Jr,Gi=function(r,n){var o=Jte[r+"Prototype"],s=o&&o[n];if(s)return s;var u=Xte[r],d=u&&u.prototype;return d&&d[n]},qte=Gi("Function","bind"),Zte=zn,ere=qte,JI=Function.prototype,tre=function(r){var n=r.bind;return r===JI||Zte(JI,r)&&n===JI.bind?ere:n},qI=fe(tre),rre=fe(kN);wt({target:"Object",stat:!0},{setPrototypeOf:BN});var CL=Jr.Object.setPrototypeOf,ZI=fe(CL),nre=La,IL=Qd,ire=LN;wt({target:"Object",stat:!0,forced:mr(function(){IL(1)}),sham:!ire},{getPrototypeOf:function(r){return IL(nre(r))}});var wL=Jr.Object.getPrototypeOf,EL=fe(wL);function af(r){var n;return af=ZI?qI(n=EL).call(n):function(o){return o.__proto__||EL(o)},af(r)}function ew(){var r;return ew=typeof Reflect<"u"&&bL?qI(r=bL).call(r):function(n,o,s){var u=function(c,f){for(;!{}.hasOwnProperty.call(c,f)&&(c=af(c))!==null;);return c}(n,o);if(u){var d=rre(u,o);return d.get?d.get.call(arguments.length<3?n:s):d.value}},ew.apply(null,arguments)}wt({target:"Object",stat:!0,sham:!cn},{create:nc});var ore=Jr.Object,xL=function(r,n){return ore.create(r,n)},are=fe(xL),AL={exports:{}},sre=wt,ure=cn,PL=fo.f;sre({target:"Object",stat:!0,forced:Object.defineProperty!==PL,sham:!ure},{defineProperty:PL});var kL=Jr.Object,cre=AL.exports=function(r,n,o){return kL.defineProperty(r,n,o)};kL.defineProperty.sham&&(cre.sham=!0);var DL=AL.exports,RL=DL,a0=fe(RL);function tw(r,n){var o;return tw=ZI?qI(o=ZI).call(o):function(s,u){return s.__proto__=u,s},tw(r,n)}function s0(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=are(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a0(r,"prototype",{writable:!1}),n&&tw(r,n)}var lre=TypeError,rw=function(r){if(r>9007199254740991)throw lre("Maximum allowed index exceeded");return r},dre=mr,fre=w_,hre=Ur("species"),eg=function(r){return fre>=51||!dre(function(){var n=[];return(n.constructor={})[hre]=function(){return{foo:1}},n[r](Boolean).foo!==1})},pre=wt,gre=mr,mre=_l,vre=yn,_re=La,yre=rc,FL=rw,OL=zp,Sre=eI,bre=eg,Tre=w_,NL=Ur("isConcatSpreadable"),Cre=Tre>=51||!gre(function(){var r=[];return r[NL]=!1,r.concat()[0]!==r}),Ire=function(r){if(!vre(r))return!1;var n=r[NL];return n!==void 0?!!n:mre(r)};pre({target:"Array",proto:!0,arity:1,forced:!Cre||!bre("concat")},{concat:function(r){var n,o,s,u,d,c=_re(this),f=Sre(c,0),m=0;for(n=-1,s=arguments.length;n<s;n++)if(Ire(d=n===-1?c:arguments[n]))for(u=yre(d),FL(m+u),o=0;o<u;o++,m++)o in d&&OL(f,m,d[o]);else FL(m+1),OL(f,m++,d);return f.length=m,f}}),ln("asyncIterator"),ln("hasInstance"),ln("isConcatSpreadable"),ln("iterator"),ln("match"),ln("matchAll"),ln("replace"),ln("search"),ln("species"),ln("split");var wre=N2;ln("toPrimitive"),wre();var Ere=Gn,xre=bs;ln("toStringTag"),xre(Ere("Symbol"),"Symbol"),ln("unscopables"),bs(Mr.JSON,"JSON",!0);var Are=Jr.Symbol,Pre=Ur,kre=fo.f,ML=Pre("metadata"),LL=Function.prototype;LL[ML]===void 0&&kre(LL,ML,{value:null}),ln("asyncDispose"),ln("dispose"),ln("metadata");var Dre=Are,Rre=yr,nw=Gn("Symbol"),Fre=nw.keyFor,Ore=Rre(nw.prototype.valueOf),WL=nw.isRegisteredSymbol||function(r){try{return Fre(Ore(r))!==void 0}catch{return!1}};wt({target:"Symbol",stat:!0},{isRegisteredSymbol:WL});for(var Nre=Vd,BL=Gn,Mre=yr,Lre=Ap,Wre=Ur,u0=BL("Symbol"),UL=u0.isWellKnownSymbol,VL=BL("Object","getOwnPropertyNames"),Bre=Mre(u0.prototype.valueOf),jL=Nre("wks"),iw=0,GL=VL(u0),Ure=GL.length;iw<Ure;iw++)try{var zL=GL[iw];Lre(u0[zL])&&Wre(zL)}catch{}var HL=function(r){if(UL&&UL(r))return!0;try{for(var n=Bre(r),o=0,s=VL(jL),u=s.length;o<u;o++)if(jL[s[o]]==n)return!0}catch{}return!1};wt({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:HL}),ln("customMatcher"),ln("observable"),wt({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:WL}),wt({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:HL}),ln("matcher"),ln("metadataKey"),ln("patternMatch"),ln("replaceAll");var ow=Dre,sf=fe(ow),$L=Wp.f("iterator"),Vre=fe($L);function uf(r){return uf=typeof sf=="function"&&typeof Vre=="symbol"?function(n){return typeof n}:function(n){return n&&typeof sf=="function"&&n.constructor===sf&&n!==sf.prototype?"symbol":typeof n},uf(r)}wt({target:"Array",stat:!0},{isArray:_l});var KL=Jr.Array.isArray,YL=fe(KL),QL=fe(Hp),jre=cn,Gre=_l,zre=TypeError,Hre=Object.getOwnPropertyDescriptor,XL=jre&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(r){return r instanceof TypeError}}()?function(r,n){if(Gre(r)&&!Hre(r,"length").writable)throw new zre("Cannot set read only .length");return r.length=n}:function(r,n){return r.length=n},$re=La,Kre=rc,Yre=XL,Qre=rw;wt({target:"Array",proto:!0,arity:1,forced:mr(function(){return[].push.call({length:4294967296},1)!==4294967297})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(r){return r instanceof TypeError}}()},{push:function(r){var n=$re(this),o=Kre(n),s=arguments.length;Qre(o+s);for(var u=0;u<s;u++)n[o]=arguments[u],o++;return Yre(n,o),o}});var Xre=Gi("Array","push"),Jre=zn,qre=Xre,aw=Array.prototype,Zre=function(r){var n=r.push;return r===aw||Jre(aw,r)&&n===aw.push?qre:n},JL=Zre,ene=fe(JL),tne=wt,qL=_l,rne=P_,nne=yn,ZL=D_,ine=rc,one=Ma,ane=zp,sne=Ur,une=tc,cne=eg("slice"),lne=sne("species"),sw=Array,dne=Math.max;tne({target:"Array",proto:!0,forced:!cne},{slice:function(r,n){var o,s,u,d=one(this),c=ine(d),f=ZL(r,c),m=ZL(n===void 0?c:n,c);if(qL(d)&&(o=d.constructor,(rne(o)&&(o===sw||qL(o.prototype))||nne(o)&&(o=o[lne])===null)&&(o=void 0),o===sw||o===void 0))return une(d,f,m);for(s=new(o===void 0?sw:o)(dne(m-f,0)),u=0;f<m;f++,u++)f in d&&ane(s,u,d[f]);return s.length=u,s}});var fne=Gi("Array","slice"),hne=zn,pne=fne,uw=Array.prototype,gne=function(r){var n=r.slice;return r===uw||hne(uw,r)&&n===uw.slice?pne:n},eW=gne,tW=eW,mne=fe(tW),vne=ji,_ne=H_,yne=su,Sne=En,bne=La,Tne=function(r,n,o,s){try{return s?n(vne(o)[0],o[1]):n(o)}catch(u){_ne(r,"throw",u)}},Cne=zN,Ine=P_,wne=rc,rW=zp,Ene=hI,xne=Hp,nW=Array,iW=function(r){var n=bne(r),o=Ine(this),s=arguments.length,u=s>1?arguments[1]:void 0,d=u!==void 0;d&&(u=yne(u,s>2?arguments[2]:void 0));var c,f,m,_,S,y,b=xne(n),I=0;if(!b||this===nW&&Cne(b))for(c=wne(n),f=o?new this(c):nW(c);c>I;I++)y=d?u(n[I],I):n[I],rW(f,I,y);else for(f=o?new this:[],S=(_=Ene(n,b)).next;!(m=Sne(S,_)).done;I++)y=d?Tne(_,u,[m.value,I],!0):m.value,rW(f,I,y);return f.length=I,f},Ane=iW;wt({target:"Array",stat:!0,forced:!rL(function(r){Array.from(r)})},{from:Ane});var oW=Jr.Array.from,aW=fe(oW);function cw(r,n){(n==null||n>r.length)&&(n=r.length);for(var o=0,s=Array(n);o<n;o++)s[o]=r[o];return s}function sW(r,n){if(r){var o;if(typeof r=="string")return cw(r,n);var s=mne(o={}.toString.call(r)).call(o,8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?aW(r):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?cw(r,n):void 0}}function cf(r,n){return function(o){if(YL(o))return o}(r)||function(o,s){var u=o==null?null:sf!==void 0&&QL(o)||o["@@iterator"];if(u!=null){var d,c,f,m,_=[],S=!0,y=!1;try{if(f=(u=u.call(o)).next,s===0){if(Object(u)!==u)return;S=!1}else for(;!(S=(d=f.call(u)).done)&&(ene(_).call(_,d.value),_.length!==s);S=!0);}catch(b){y=!0,c=b}finally{try{if(!S&&u.return!=null&&(m=u.return(),Object(m)!==m))return}finally{if(y)throw c}}return _}}(r,n)||sW(r,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sn(r){return function(n){if(YL(n))return cw(n)}(r)||function(n){if(sf!==void 0&&QL(n)!=null||n["@@iterator"]!=null)return aW(n)}(r)||sW(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function An(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}var Pne=fe(Wp.f("toPrimitive"));function uW(r){var n=function(o,s){if(uf(o)!="object"||!o)return o;var u=o[Pne];if(u!==void 0){var d=u.call(o,s||"default");if(uf(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}(r,"string");return uf(n)=="symbol"?n:n+""}function cW(r,n){for(var o=0;o<n.length;o++){var s=n[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),a0(r,uW(s.key),s)}}function Pn(r,n,o){return n&&cW(r.prototype,n),o&&cW(r,o),a0(r,"prototype",{writable:!1}),r}function ct(r,n,o){return(n=uW(n))in r?a0(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}var lW={exports:{}},dW={exports:{}};(function(r){var n=ow,o=$L;function s(u){return r.exports=s=typeof n=="function"&&typeof o=="symbol"?function(d){return typeof d}:function(d){return d&&typeof n=="function"&&d.constructor===n&&d!==n.prototype?"symbol":typeof d},r.exports.__esModule=!0,r.exports.default=r.exports,s(u)}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports})(dW);var kne=dW.exports,Dne=mr,fW=function(r,n){var o=[][r];return!!o&&Dne(function(){o.call(null,n||function(){return 1},1)})},Rne=yl.forEach,hW=fW("forEach")?[].forEach:function(r){return Rne(this,r,arguments.length>1?arguments[1]:void 0)};wt({target:"Array",proto:!0,forced:[].forEach!==hW},{forEach:hW});var Fne=Gi("Array","forEach"),One=vl,Nne=xn,Mne=zn,Lne=Fne,lw=Array.prototype,Wne={DOMTokenList:!0,NodeList:!0},pW=function(r){var n=r.forEach;return r===lw||Mne(lw,r)&&n===lw.forEach||Nne(Wne,One(r))?Lne:n},Bne=pW,Une=wt,Vne=_l,jne=yr([].reverse),gW=[1,2];Une({target:"Array",proto:!0,forced:String(gW)===String(gW.reverse())},{reverse:function(){return Vne(this)&&(this.length=this.length),jne(this)}});var Gne=Gi("Array","reverse"),zne=zn,Hne=Gne,dw=Array.prototype,$ne=function(r){var n=r.reverse;return r===dw||zne(dw,r)&&n===dw.reverse?Hne:n},Kne=$ne;(function(r){var n=kne.default,o=RL,s=ow,u=xL,d=wL,c=Bne,f=JL,m=CL,_=mL,S=Kne,y=tW;function b(){r.exports=b=function(){return x},r.exports.__esModule=!0,r.exports.default=r.exports;var I,x={},P=Object.prototype,L=P.hasOwnProperty,$=o||function(Be,Oe,tt){Be[Oe]=tt.value},te=typeof s=="function"?s:{},q=te.iterator||"@@iterator",Q=te.asyncIterator||"@@asyncIterator",J=te.toStringTag||"@@toStringTag";function re(Be,Oe,tt){return o(Be,Oe,{value:tt,enumerable:!0,configurable:!0,writable:!0}),Be[Oe]}try{re({},"")}catch{re=function(Oe,tt,pt){return Oe[tt]=pt}}function H(Be,Oe,tt,pt){var lt=Oe&&Oe.prototype instanceof ie?Oe:ie,Xe=u(lt.prototype),dr=new gt(pt||[]);return $(Xe,"_invoke",{value:Qe(Be,tt,dr)}),Xe}function F(Be,Oe,tt){try{return{type:"normal",arg:Be.call(Oe,tt)}}catch(pt){return{type:"throw",arg:pt}}}x.wrap=H;var B="suspendedStart",V="suspendedYield",G="executing",z="completed",Z={};function ie(){}function se(){}function ne(){}var ae={};re(ae,q,function(){return this});var be=d&&d(d(Ct([])));be&&be!==P&&L.call(be,q)&&(ae=be);var ge=ne.prototype=ie.prototype=u(ae);function ve(Be){var Oe;c(Oe=["next","throw","return"]).call(Oe,function(tt){re(Be,tt,function(pt){return this._invoke(tt,pt)})})}function Le(Be,Oe){function tt(lt,Xe,dr,fn){var Gt=F(Be[lt],Be,Xe);if(Gt.type!=="throw"){var Zt=Gt.arg,Ar=Zt.value;return Ar&&n(Ar)=="object"&&L.call(Ar,"__await")?Oe.resolve(Ar.__await).then(function(xi){tt("next",xi,dr,fn)},function(xi){tt("throw",xi,dr,fn)}):Oe.resolve(Ar).then(function(xi){Zt.value=xi,dr(Zt)},function(xi){return tt("throw",xi,dr,fn)})}fn(Gt.arg)}var pt;$(this,"_invoke",{value:function(lt,Xe){function dr(){return new Oe(function(fn,Gt){tt(lt,Xe,fn,Gt)})}return pt=pt?pt.then(dr,dr):dr()}})}function Qe(Be,Oe,tt){var pt=B;return function(lt,Xe){if(pt===G)throw Error("Generator is already running");if(pt===z){if(lt==="throw")throw Xe;return{value:I,done:!0}}for(tt.method=lt,tt.arg=Xe;;){var dr=tt.delegate;if(dr){var fn=ze(dr,tt);if(fn){if(fn===Z)continue;return fn}}if(tt.method==="next")tt.sent=tt._sent=tt.arg;else if(tt.method==="throw"){if(pt===B)throw pt=z,tt.arg;tt.dispatchException(tt.arg)}else tt.method==="return"&&tt.abrupt("return",tt.arg);pt=G;var Gt=F(Be,Oe,tt);if(Gt.type==="normal"){if(pt=tt.done?z:V,Gt.arg===Z)continue;return{value:Gt.arg,done:tt.done}}Gt.type==="throw"&&(pt=z,tt.method="throw",tt.arg=Gt.arg)}}}function ze(Be,Oe){var tt=Oe.method,pt=Be.iterator[tt];if(pt===I)return Oe.delegate=null,tt==="throw"&&Be.iterator.return&&(Oe.method="return",Oe.arg=I,ze(Be,Oe),Oe.method==="throw")||tt!=="return"&&(Oe.method="throw",Oe.arg=new TypeError("The iterator does not provide a '"+tt+"' method")),Z;var lt=F(pt,Be.iterator,Oe.arg);if(lt.type==="throw")return Oe.method="throw",Oe.arg=lt.arg,Oe.delegate=null,Z;var Xe=lt.arg;return Xe?Xe.done?(Oe[Be.resultName]=Xe.value,Oe.next=Be.nextLoc,Oe.method!=="return"&&(Oe.method="next",Oe.arg=I),Oe.delegate=null,Z):Xe:(Oe.method="throw",Oe.arg=new TypeError("iterator result is not an object"),Oe.delegate=null,Z)}function yt(Be){var Oe,tt={tryLoc:Be[0]};1 in Be&&(tt.catchLoc=Be[1]),2 in Be&&(tt.finallyLoc=Be[2],tt.afterLoc=Be[3]),f(Oe=this.tryEntries).call(Oe,tt)}function at(Be){var Oe=Be.completion||{};Oe.type="normal",delete Oe.arg,Be.completion=Oe}function gt(Be){this.tryEntries=[{tryLoc:"root"}],c(Be).call(Be,yt,this),this.reset(!0)}function Ct(Be){if(Be||Be===""){var Oe=Be[q];if(Oe)return Oe.call(Be);if(typeof Be.next=="function")return Be;if(!isNaN(Be.length)){var tt=-1,pt=function lt(){for(;++tt<Be.length;)if(L.call(Be,tt))return lt.value=Be[tt],lt.done=!1,lt;return lt.value=I,lt.done=!0,lt};return pt.next=pt}}throw new TypeError(n(Be)+" is not iterable")}return se.prototype=ne,$(ge,"constructor",{value:ne,configurable:!0}),$(ne,"constructor",{value:se,configurable:!0}),se.displayName=re(ne,J,"GeneratorFunction"),x.isGeneratorFunction=function(Be){var Oe=typeof Be=="function"&&Be.constructor;return!!Oe&&(Oe===se||(Oe.displayName||Oe.name)==="GeneratorFunction")},x.mark=function(Be){return m?m(Be,ne):(Be.__proto__=ne,re(Be,J,"GeneratorFunction")),Be.prototype=u(ge),Be},x.awrap=function(Be){return{__await:Be}},ve(Le.prototype),re(Le.prototype,Q,function(){return this}),x.AsyncIterator=Le,x.async=function(Be,Oe,tt,pt,lt){lt===void 0&&(lt=_);var Xe=new Le(H(Be,Oe,tt,pt),lt);return x.isGeneratorFunction(Oe)?Xe:Xe.next().then(function(dr){return dr.done?dr.value:Xe.next()})},ve(ge),re(ge,J,"Generator"),re(ge,q,function(){return this}),re(ge,"toString",function(){return"[object Generator]"}),x.keys=function(Be){var Oe=Object(Be),tt=[];for(var pt in Oe)f(tt).call(tt,pt);return S(tt).call(tt),function lt(){for(;tt.length;){var Xe=tt.pop();if(Xe in Oe)return lt.value=Xe,lt.done=!1,lt}return lt.done=!0,lt}},x.values=Ct,gt.prototype={constructor:gt,reset:function(Be){var Oe;if(this.prev=0,this.next=0,this.sent=this._sent=I,this.done=!1,this.delegate=null,this.method="next",this.arg=I,c(Oe=this.tryEntries).call(Oe,at),!Be)for(var tt in this)tt.charAt(0)==="t"&&L.call(this,tt)&&!isNaN(+y(tt).call(tt,1))&&(this[tt]=I)},stop:function(){this.done=!0;var Be=this.tryEntries[0].completion;if(Be.type==="throw")throw Be.arg;return this.rval},dispatchException:function(Be){if(this.done)throw Be;var Oe=this;function tt(Gt,Zt){return Xe.type="throw",Xe.arg=Be,Oe.next=Gt,Zt&&(Oe.method="next",Oe.arg=I),!!Zt}for(var pt=this.tryEntries.length-1;pt>=0;--pt){var lt=this.tryEntries[pt],Xe=lt.completion;if(lt.tryLoc==="root")return tt("end");if(lt.tryLoc<=this.prev){var dr=L.call(lt,"catchLoc"),fn=L.call(lt,"finallyLoc");if(dr&&fn){if(this.prev<lt.catchLoc)return tt(lt.catchLoc,!0);if(this.prev<lt.finallyLoc)return tt(lt.finallyLoc)}else if(dr){if(this.prev<lt.catchLoc)return tt(lt.catchLoc,!0)}else{if(!fn)throw Error("try statement without catch or finally");if(this.prev<lt.finallyLoc)return tt(lt.finallyLoc)}}}},abrupt:function(Be,Oe){for(var tt=this.tryEntries.length-1;tt>=0;--tt){var pt=this.tryEntries[tt];if(pt.tryLoc<=this.prev&&L.call(pt,"finallyLoc")&&this.prev<pt.finallyLoc){var lt=pt;break}}lt&&(Be==="break"||Be==="continue")&&lt.tryLoc<=Oe&&Oe<=lt.finallyLoc&&(lt=null);var Xe=lt?lt.completion:{};return Xe.type=Be,Xe.arg=Oe,lt?(this.method="next",this.next=lt.finallyLoc,Z):this.complete(Xe)},complete:function(Be,Oe){if(Be.type==="throw")throw Be.arg;return Be.type==="break"||Be.type==="continue"?this.next=Be.arg:Be.type==="return"?(this.rval=this.arg=Be.arg,this.method="return",this.next="end"):Be.type==="normal"&&Oe&&(this.next=Oe),Z},finish:function(Be){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var tt=this.tryEntries[Oe];if(tt.finallyLoc===Be)return this.complete(tt.completion,tt.afterLoc),at(tt),Z}},catch:function(Be){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var tt=this.tryEntries[Oe];if(tt.tryLoc===Be){var pt=tt.completion;if(pt.type==="throw"){var lt=pt.arg;at(tt)}return lt}}throw Error("illegal catch attempt")},delegateYield:function(Be,Oe,tt){return this.delegate={iterator:Ct(Be),resultName:Oe,nextLoc:tt},this.method==="next"&&(this.arg=I),Z}},x}r.exports=b,r.exports.__esModule=!0,r.exports.default=r.exports})(lW);var c0=(0,lW.exports)(),Yne=c0;try{regeneratorRuntime=c0}catch{(typeof Yi>"u"?"undefined":R(Yi))==="object"?Yi.regeneratorRuntime=c0:Function("r","regeneratorRuntime = r")(c0)}var l0=fe(Yne),mW=fe(KL),Bt=fe(pW),Qne=La,vW=Op;wt({target:"Object",stat:!0,forced:mr(function(){vW(1)})},{keys:function(r){return vW(Qne(r))}});var d0=fe(Jr.Object.keys);wt({target:"Number",stat:!0},{isNaN:function(r){return r!=r}});var lf=fe(Jr.Number.isNaN),Xne=Gi("Array","concat"),Jne=zn,qne=Xne,fw=Array.prototype,Zne=function(r){var n=r.concat;return r===fw||Jne(fw,r)&&n===fw.concat?qne:n},uc=fe(Zne),eie=wt,tie=yr,rie=D_,nie=RangeError,_W=String.fromCharCode,yW=String.fromCodePoint,iie=tie([].join);eie({target:"String",stat:!0,arity:1,forced:!!yW&&yW.length!==1},{fromCodePoint:function(r){for(var n,o=[],s=arguments.length,u=0;s>u;){if(n=+arguments[u++],rie(n,1114111)!==n)throw new nie(n+" is not a valid code point");o[u]=n<65536?_W(n):_W(55296+((n-=65536)>>10),n%1024+56320)}return iie(o,"")}});var oie=mr,aie=$K,sie=Ur("iterator"),f0=!oie(function(){var r=new URL("b?a=1&b=2&c=3","https://a"),n=r.searchParams,o=new URLSearchParams("a=1&a=2&b=3"),s="";return r.pathname="c%20d",n.forEach(function(u,d){n.delete("b"),s+=d+u}),o.delete("a",2),o.delete("b",void 0),!r.toJSON||!o.has("a",1)||o.has("a",2)||!o.has("a",void 0)||o.has("b")||!n.size&&aie||!n.sort||r.href!=="https://a/c%20d?a=1&c=3"||n.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!n[sie]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://тест").host!=="xn--e1aybc"||new URL("https://a#б").hash!=="#%D0%B1"||s!=="a1c3"||new URL("https://x",void 0).host!=="x"}),uie=ic,SW=function(r,n,o){for(var s in n)o&&o.unsafe&&r[s]?r[s]=n[s]:uie(r,s,n[s],o);return r},bW=tc,cie=Math.floor,hw=function(r,n){var o=r.length;if(o<8)for(var s,u,d=1;d<o;){for(u=d,s=r[d];u&&n(r[u-1],s)>0;)r[u]=r[--u];u!==d++&&(r[u]=s)}else for(var c=cie(o/2),f=hw(bW(r,0,c),n),m=hw(bW(r,c),n),_=f.length,S=m.length,y=0,b=0;y<_||b<S;)r[y+b]=y<_&&b<S?n(f[y],m[b])<=0?f[y++]:m[b++]:y<_?f[y++]:m[b++];return r},pw=wt,TW=Mr,gw=AM,lie=Gn,h0=En,Ba=yr,tg=cn,CW=f0,IW=ic,die=Lp,fie=SW,hie=bs,pie=nM,mw=Cs,wW=Yp,vw=wn,gie=xn,mie=su,vie=vl,_ie=ji,EW=yn,zi=No,yie=nc,xW=Zu,AW=hI,Sie=Hp,p0=J_,df=Qp,bie=hw,Tie=Ur("iterator"),ff="URLSearchParams",PW=ff+"Iterator",kW=mw.set,na=mw.getterFor(ff),Cie=mw.getterFor(PW),DW=gw("fetch"),g0=gw("Request"),rg=gw("Headers"),_w=g0&&g0.prototype,RW=rg&&rg.prototype,Iie=TW.TypeError,wie=TW.encodeURIComponent,Eie=String.fromCharCode,xie=lie("String","fromCodePoint"),Aie=parseInt,m0=Ba("".charAt),FW=Ba([].join),cc=Ba([].push),OW=Ba("".replace),Pie=Ba([].shift),NW=Ba([].splice),MW=Ba("".split),LW=Ba("".slice),kie=Ba(/./.exec),Die=/\+/g,Rie=/^[0-9a-f]+$/i,WW=function(r,n){var o=LW(r,n,n+2);return kie(Rie,o)?Aie(o,16):NaN},Fie=function(r){for(var n=0,o=128;o>0&&r&o;o>>=1)n++;return n},Oie=function(r){var n=null;switch(r.length){case 1:n=r[0];break;case 2:n=(31&r[0])<<6|63&r[1];break;case 3:n=(15&r[0])<<12|(63&r[1])<<6|63&r[2];break;case 4:n=(7&r[0])<<18|(63&r[1])<<12|(63&r[2])<<6|63&r[3]}return n>1114111?null:n},BW=function(r){for(var n=(r=OW(r,Die," ")).length,o="",s=0;s<n;){var u=m0(r,s);if(u==="%"){if(m0(r,s+1)==="%"||s+3>n){o+="%",s++;continue}var d=WW(r,s+1);if(d!=d){o+=u,s++;continue}s+=2;var c=Fie(d);if(c===0)u=Eie(d);else{if(c===1||c>4){o+="�",s++;continue}for(var f=[d],m=1;m<c&&!(++s+3>n||m0(r,s)!=="%");){var _=WW(r,s+1);if(_!=_){s+=3;break}if(_>191||_<128)break;cc(f,_),s+=2,m++}if(f.length!==c){o+="�";continue}var S=Oie(f);S===null?o+="�":u=xie(S)}}o+=u,s++}return o},Nie=/[!'()~]|%20/g,Mie={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Lie=function(r){return Mie[r]},UW=function(r){return OW(wie(r),Nie,Lie)},yw=pie(function(r,n){kW(this,{type:PW,target:na(r).entries,index:0,kind:n})},ff,function(){var r=Cie(this),n=r.target,o=r.index++;if(!n||o>=n.length)return r.target=null,p0(void 0,!0);var s=n[o];switch(r.kind){case"keys":return p0(s.key,!1);case"values":return p0(s.value,!1)}return p0([s.key,s.value],!1)},!0),VW=function(r){this.entries=[],this.url=null,r!==void 0&&(EW(r)?this.parseObject(r):this.parseQuery(typeof r=="string"?m0(r,0)==="?"?LW(r,1):r:zi(r)))};VW.prototype={type:ff,bindURL:function(r){this.url=r,this.update()},parseObject:function(r){var n,o,s,u,d,c,f,m=this.entries,_=Sie(r);if(_)for(o=(n=AW(r,_)).next;!(s=h0(o,n)).done;){if(d=(u=AW(_ie(s.value))).next,(c=h0(d,u)).done||(f=h0(d,u)).done||!h0(d,u).done)throw new Iie("Expected sequence with length 2");cc(m,{key:zi(c.value),value:zi(f.value)})}else for(var S in r)gie(r,S)&&cc(m,{key:S,value:zi(r[S])})},parseQuery:function(r){if(r)for(var n,o,s=this.entries,u=MW(r,"&"),d=0;d<u.length;)(n=u[d++]).length&&(o=MW(n,"="),cc(s,{key:BW(Pie(o)),value:BW(FW(o,"="))}))},serialize:function(){for(var r,n=this.entries,o=[],s=0;s<n.length;)r=n[s++],cc(o,UW(r.key)+"="+UW(r.value));return FW(o,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var v0=function(){wW(this,hf);var r=arguments.length>0?arguments[0]:void 0,n=kW(this,new VW(r));tg||(this.size=n.entries.length)},hf=v0.prototype;if(fie(hf,{append:function(r,n){var o=na(this);df(arguments.length,2),cc(o.entries,{key:zi(r),value:zi(n)}),tg||this.length++,o.updateURL()},delete:function(r){for(var n=na(this),o=df(arguments.length,1),s=n.entries,u=zi(r),d=o<2?void 0:arguments[1],c=d===void 0?d:zi(d),f=0;f<s.length;){var m=s[f];if(m.key!==u||c!==void 0&&m.value!==c)f++;else if(NW(s,f,1),c!==void 0)break}tg||(this.size=s.length),n.updateURL()},get:function(r){var n=na(this).entries;df(arguments.length,1);for(var o=zi(r),s=0;s<n.length;s++)if(n[s].key===o)return n[s].value;return null},getAll:function(r){var n=na(this).entries;df(arguments.length,1);for(var o=zi(r),s=[],u=0;u<n.length;u++)n[u].key===o&&cc(s,n[u].value);return s},has:function(r){for(var n=na(this).entries,o=df(arguments.length,1),s=zi(r),u=o<2?void 0:arguments[1],d=u===void 0?u:zi(u),c=0;c<n.length;){var f=n[c++];if(f.key===s&&(d===void 0||f.value===d))return!0}return!1},set:function(r,n){var o=na(this);df(arguments.length,1);for(var s,u=o.entries,d=!1,c=zi(r),f=zi(n),m=0;m<u.length;m++)(s=u[m]).key===c&&(d?NW(u,m--,1):(d=!0,s.value=f));d||cc(u,{key:c,value:f}),tg||(this.size=u.length),o.updateURL()},sort:function(){var r=na(this);bie(r.entries,function(n,o){return n.key>o.key?1:-1}),r.updateURL()},forEach:function(r){for(var n,o=na(this).entries,s=mie(r,arguments.length>1?arguments[1]:void 0),u=0;u<o.length;)s((n=o[u++]).value,n.key,this)},keys:function(){return new yw(this,"keys")},values:function(){return new yw(this,"values")},entries:function(){return new yw(this,"entries")}},{enumerable:!0}),IW(hf,Tie,hf.entries,{name:"entries"}),IW(hf,"toString",function(){return na(this).serialize()},{enumerable:!0}),tg&&die(hf,"size",{get:function(){return na(this).entries.length},configurable:!0,enumerable:!0}),hie(v0,ff),pw({global:!0,constructor:!0,forced:!CW},{URLSearchParams:v0}),!CW&&vw(rg)){var Wie=Ba(RW.has),Bie=Ba(RW.set),jW=function(r){if(EW(r)){var n,o=r.body;if(vie(o)===ff)return n=r.headers?new rg(r.headers):new rg,Wie(n,"content-type")||Bie(n,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),yie(r,{body:xW(0,zi(o)),headers:xW(0,n)})}return r};if(vw(DW)&&pw({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(r){return DW(r,arguments.length>1?jW(arguments[1]):{})}}),vw(g0)){var Sw=function(r){return wW(this,_w),new g0(r,arguments.length>1?jW(arguments[1]):{})};_w.constructor=Sw,Sw.prototype=_w,pw({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Sw})}}var ia,Uie={URLSearchParams:v0,getState:na},GW=cn,Vie=yr,jie=En,Gie=mr,bw=Op,zie=Mp,Hie=Ep,$ie=La,Kie=bC,pf=Object.assign,zW=Object.defineProperty,Yie=Vie([].concat),Qie=!pf||Gie(function(){if(GW&&pf({b:1},pf(zW({},"a",{enumerable:!0,get:function(){zW(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},n={},o=Symbol("assign detection"),s="abcdefghijklmnopqrst";return r[o]=7,s.split("").forEach(function(u){n[u]=u}),pf({},r)[o]!==7||bw(pf({},n)).join("")!==s})?function(r,n){for(var o=$ie(r),s=arguments.length,u=1,d=zie.f,c=Hie.f;s>u;)for(var f,m=Kie(arguments[u++]),_=d?Yie(bw(m),d(m)):bw(m),S=_.length,y=0;S>y;)f=_[y++],GW&&!jie(c,m,f)||(o[f]=m[f]);return o}:pf,wl=yr,Tw=2147483647,Xie=/[^\0-\u007E]/,HW=/[.\u3002\uFF0E\uFF61]/g,$W="Overflow: input needs wider integers to process",KW=RangeError,Jie=wl(HW.exec),gf=Math.floor,Cw=String.fromCharCode,YW=wl("".charCodeAt),QW=wl([].join),lc=wl([].push),qie=wl("".replace),Zie=wl("".split),eoe=wl("".toLowerCase),XW=function(r){return r+22+75*(r<26)},toe=function(r,n,o){var s=0;for(r=o?gf(r/700):r>>1,r+=gf(r/n);r>455;)r=gf(r/35),s+=36;return gf(s+36*r/(r+38))},roe=function(r){var n=[];r=function($){for(var te=[],q=0,Q=$.length;q<Q;){var J=YW($,q++);if(J>=55296&&J<=56319&&q<Q){var re=YW($,q++);(64512&re)==56320?lc(te,((1023&J)<<10)+(1023&re)+65536):(lc(te,J),q--)}else lc(te,J)}return te}(r);var o,s,u=r.length,d=128,c=0,f=72;for(o=0;o<r.length;o++)(s=r[o])<128&&lc(n,Cw(s));var m=n.length,_=m;for(m&&lc(n,"-");_<u;){var S=Tw;for(o=0;o<r.length;o++)(s=r[o])>=d&&s<S&&(S=s);var y=_+1;if(S-d>gf((Tw-c)/y))throw new KW($W);for(c+=(S-d)*y,d=S,o=0;o<r.length;o++){if((s=r[o])<d&&++c>Tw)throw new KW($W);if(s===d){for(var b=c,I=36;;){var x=I<=f?1:I>=f+26?26:I-f;if(b<x)break;var P=b-x,L=36-x;lc(n,Cw(XW(x+P%L))),b=gf(P/L),I+=36}lc(n,Cw(XW(b))),f=toe(c,y,_===m),c=0,_++}}c++,d++}return QW(n,"")},noe=wt,Iw=cn,ioe=f0,ww=Mr,JW=su,oa=yr,_0=ic,aa=Lp,ooe=Yp,Ew=xn,xw=Qie,mf=iW,Ua=tc,aoe=uL.codeAt,soe=function(r){var n,o,s=[],u=Zie(qie(eoe(r),HW,"."),".");for(n=0;n<u.length;n++)o=u[n],lc(s,Jie(Xie,o)?"xn--"+roe(o):o);return QW(s,".")},cu=No,uoe=bs,coe=Qp,qW=Uie,ZW=Cs,loe=ZW.set,y0=ZW.getterFor("URL"),doe=qW.URLSearchParams,foe=qW.getState,ng=ww.URL,Aw=ww.TypeError,S0=ww.parseInt,hoe=Math.floor,eB=Math.pow,sa=oa("".charAt),Va=oa(/./.exec),ig=oa([].join),poe=oa(1 .toString),goe=oa([].pop),vf=oa([].push),Pw=oa("".replace),moe=oa([].shift),voe=oa("".split),og=oa("".slice),b0=oa("".toLowerCase),_oe=oa([].unshift),kw="Invalid scheme",El="Invalid host",tB="Invalid port",rB=/[a-z]/i,yoe=/[\d+-.a-z]/i,Dw=/\d/,Soe=/^0x/i,boe=/^[0-7]+$/,Toe=/^\d+$/,nB=/^[\da-f]+$/i,Coe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Ioe=/[\0\t\n\r #/:<>?@[\\\]^|]/,woe=/^[\u0000-\u0020]+/,Eoe=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,xoe=/[\t\n\r]/g,ag=function(r){var n,o,s,u;if(typeof r=="number"){for(n=[],o=0;o<4;o++)_oe(n,r%256),r=hoe(r/256);return ig(n,".")}if(R(r)=="object"){for(n="",s=function(d){for(var c=null,f=1,m=null,_=0,S=0;S<8;S++)d[S]!==0?(_>f&&(c=m,f=_),m=null,_=0):(m===null&&(m=S),++_);return _>f?m:c}(r),o=0;o<8;o++)u&&r[o]===0||(u&&(u=!1),s===o?(n+=o?":":"::",u=!0):(n+=poe(r[o],16),o<7&&(n+=":")));return"["+n+"]"}return r},T0={},iB=xw({},T0,{" ":1,'"':1,"<":1,">":1,"`":1}),oB=xw({},iB,{"#":1,"?":1,"{":1,"}":1}),Rw=xw({},oB,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),dc=function(r,n){var o=aoe(r,0);return o>32&&o<127&&!Ew(n,r)?r:encodeURIComponent(r)},C0={ftp:21,file:null,http:80,https:443,ws:80,wss:443},sg=function(r,n){var o;return r.length===2&&Va(rB,sa(r,0))&&((o=sa(r,1))===":"||!n&&o==="|")},aB=function(r){var n;return r.length>1&&sg(og(r,0,2))&&(r.length===2||(n=sa(r,2))==="/"||n==="\\"||n==="?"||n==="#")},Aoe=function(r){return r==="."||b0(r)==="%2e"},Fw={},sB={},Ow={},uB={},cB={},Nw={},lB={},dB={},I0={},w0={},Mw={},Lw={},Ww={},Bw={},fB={},Uw={},_f={},ws={},hB={},xl={},lu={},Vw=function(r,n,o){var s,u,d,c=cu(r);if(n){if(u=this.parse(c))throw new Aw(u);this.searchParams=null}else{if(o!==void 0&&(s=new Vw(o,!0)),u=this.parse(c,null,s))throw new Aw(u);(d=foe(new doe)).bindURL(this),this.searchParams=d}};Vw.prototype={type:"URL",parse:function(r,n,o){var s,u,d,c,f,m=this,_=n||Fw,S=0,y="",b=!1,I=!1,x=!1;for(r=cu(r),n||(m.scheme="",m.username="",m.password="",m.host=null,m.port=null,m.path=[],m.query=null,m.fragment=null,m.cannotBeABaseURL=!1,r=Pw(r,woe,""),r=Pw(r,Eoe,"$1")),r=Pw(r,xoe,""),s=mf(r);S<=s.length;){switch(u=s[S],_){case Fw:if(!u||!Va(rB,u)){if(n)return kw;_=Ow;continue}y+=b0(u),_=sB;break;case sB:if(u&&(Va(yoe,u)||u==="+"||u==="-"||u==="."))y+=b0(u);else{if(u!==":"){if(n)return kw;y="",_=Ow,S=0;continue}if(n&&(m.isSpecial()!==Ew(C0,y)||y==="file"&&(m.includesCredentials()||m.port!==null)||m.scheme==="file"&&!m.host))return;if(m.scheme=y,n)return void(m.isSpecial()&&C0[m.scheme]===m.port&&(m.port=null));y="",m.scheme==="file"?_=Bw:m.isSpecial()&&o&&o.scheme===m.scheme?_=uB:m.isSpecial()?_=dB:s[S+1]==="/"?(_=cB,S++):(m.cannotBeABaseURL=!0,vf(m.path,""),_=hB)}break;case Ow:if(!o||o.cannotBeABaseURL&&u!=="#")return kw;if(o.cannotBeABaseURL&&u==="#"){m.scheme=o.scheme,m.path=Ua(o.path),m.query=o.query,m.fragment="",m.cannotBeABaseURL=!0,_=lu;break}_=o.scheme==="file"?Bw:Nw;continue;case uB:if(u!=="/"||s[S+1]!=="/"){_=Nw;continue}_=I0,S++;break;case cB:if(u==="/"){_=w0;break}_=ws;continue;case Nw:if(m.scheme=o.scheme,u===ia)m.username=o.username,m.password=o.password,m.host=o.host,m.port=o.port,m.path=Ua(o.path),m.query=o.query;else if(u==="/"||u==="\\"&&m.isSpecial())_=lB;else if(u==="?")m.username=o.username,m.password=o.password,m.host=o.host,m.port=o.port,m.path=Ua(o.path),m.query="",_=xl;else{if(u!=="#"){m.username=o.username,m.password=o.password,m.host=o.host,m.port=o.port,m.path=Ua(o.path),m.path.length--,_=ws;continue}m.username=o.username,m.password=o.password,m.host=o.host,m.port=o.port,m.path=Ua(o.path),m.query=o.query,m.fragment="",_=lu}break;case lB:if(!m.isSpecial()||u!=="/"&&u!=="\\"){if(u!=="/"){m.username=o.username,m.password=o.password,m.host=o.host,m.port=o.port,_=ws;continue}_=w0}else _=I0;break;case dB:if(_=I0,u!=="/"||sa(y,S+1)!=="/")continue;S++;break;case I0:if(u!=="/"&&u!=="\\"){_=w0;continue}break;case w0:if(u==="@"){b&&(y="%40"+y),b=!0,d=mf(y);for(var P=0;P<d.length;P++){var L=d[P];if(L!==":"||x){var $=dc(L,Rw);x?m.password+=$:m.username+=$}else x=!0}y=""}else if(u===ia||u==="/"||u==="?"||u==="#"||u==="\\"&&m.isSpecial()){if(b&&y==="")return"Invalid authority";S-=mf(y).length+1,y="",_=Mw}else y+=u;break;case Mw:case Lw:if(n&&m.scheme==="file"){_=Uw;continue}if(u!==":"||I){if(u===ia||u==="/"||u==="?"||u==="#"||u==="\\"&&m.isSpecial()){if(m.isSpecial()&&y==="")return El;if(n&&y===""&&(m.includesCredentials()||m.port!==null))return;if(c=m.parseHost(y))return c;if(y="",_=_f,n)return;continue}u==="["?I=!0:u==="]"&&(I=!1),y+=u}else{if(y==="")return El;if(c=m.parseHost(y))return c;if(y="",_=Ww,n===Lw)return}break;case Ww:if(!Va(Dw,u)){if(u===ia||u==="/"||u==="?"||u==="#"||u==="\\"&&m.isSpecial()||n){if(y!==""){var te=S0(y,10);if(te>65535)return tB;m.port=m.isSpecial()&&te===C0[m.scheme]?null:te,y=""}if(n)return;_=_f;continue}return tB}y+=u;break;case Bw:if(m.scheme="file",u==="/"||u==="\\")_=fB;else{if(!o||o.scheme!=="file"){_=ws;continue}switch(u){case ia:m.host=o.host,m.path=Ua(o.path),m.query=o.query;break;case"?":m.host=o.host,m.path=Ua(o.path),m.query="",_=xl;break;case"#":m.host=o.host,m.path=Ua(o.path),m.query=o.query,m.fragment="",_=lu;break;default:aB(ig(Ua(s,S),""))||(m.host=o.host,m.path=Ua(o.path),m.shortenPath()),_=ws;continue}}break;case fB:if(u==="/"||u==="\\"){_=Uw;break}o&&o.scheme==="file"&&!aB(ig(Ua(s,S),""))&&(sg(o.path[0],!0)?vf(m.path,o.path[0]):m.host=o.host),_=ws;continue;case Uw:if(u===ia||u==="/"||u==="\\"||u==="?"||u==="#"){if(!n&&sg(y))_=ws;else if(y===""){if(m.host="",n)return;_=_f}else{if(c=m.parseHost(y))return c;if(m.host==="localhost"&&(m.host=""),n)return;y="",_=_f}continue}y+=u;break;case _f:if(m.isSpecial()){if(_=ws,u!=="/"&&u!=="\\")continue}else if(n||u!=="?")if(n||u!=="#"){if(u!==ia&&(_=ws,u!=="/"))continue}else m.fragment="",_=lu;else m.query="",_=xl;break;case ws:if(u===ia||u==="/"||u==="\\"&&m.isSpecial()||!n&&(u==="?"||u==="#")){if((f=b0(f=y))===".."||f==="%2e."||f===".%2e"||f==="%2e%2e"?(m.shortenPath(),u==="/"||u==="\\"&&m.isSpecial()||vf(m.path,"")):Aoe(y)?u==="/"||u==="\\"&&m.isSpecial()||vf(m.path,""):(m.scheme==="file"&&!m.path.length&&sg(y)&&(m.host&&(m.host=""),y=sa(y,0)+":"),vf(m.path,y)),y="",m.scheme==="file"&&(u===ia||u==="?"||u==="#"))for(;m.path.length>1&&m.path[0]==="";)moe(m.path);u==="?"?(m.query="",_=xl):u==="#"&&(m.fragment="",_=lu)}else y+=dc(u,oB);break;case hB:u==="?"?(m.query="",_=xl):u==="#"?(m.fragment="",_=lu):u!==ia&&(m.path[0]+=dc(u,T0));break;case xl:n||u!=="#"?u!==ia&&(u==="'"&&m.isSpecial()?m.query+="%27":m.query+=u==="#"?"%23":dc(u,T0)):(m.fragment="",_=lu);break;case lu:u!==ia&&(m.fragment+=dc(u,iB))}S++}},parseHost:function(r){var n,o,s;if(sa(r,0)==="["){if(sa(r,r.length-1)!=="]"||(n=function(u){var d,c,f,m,_,S,y,b=[0,0,0,0,0,0,0,0],I=0,x=null,P=0,L=function(){return sa(u,P)};if(L()===":"){if(sa(u,1)!==":")return;P+=2,x=++I}for(;L();){if(I===8)return;if(L()!==":"){for(d=c=0;c<4&&Va(nB,L());)d=16*d+S0(L(),16),P++,c++;if(L()==="."){if(c===0||(P-=c,I>6))return;for(f=0;L();){if(m=null,f>0){if(!(L()==="."&&f<4))return;P++}if(!Va(Dw,L()))return;for(;Va(Dw,L());){if(_=S0(L(),10),m===null)m=_;else{if(m===0)return;m=10*m+_}if(m>255)return;P++}b[I]=256*b[I]+m,++f!=2&&f!==4||I++}if(f!==4)return;break}if(L()===":"){if(P++,!L())return}else if(L())return;b[I++]=d}else{if(x!==null)return;P++,x=++I}}if(x!==null)for(S=I-x,I=7;I!==0&&S>0;)y=b[I],b[I--]=b[x+S-1],b[x+--S]=y;else if(I!==8)return;return b}(og(r,1,-1)),!n))return El;this.host=n}else if(this.isSpecial()){if(r=soe(r),Va(Coe,r)||(n=function(u){var d,c,f,m,_,S,y,b=voe(u,".");if(b.length&&b[b.length-1]===""&&b.length--,(d=b.length)>4)return u;for(c=[],f=0;f<d;f++){if((m=b[f])==="")return u;if(_=10,m.length>1&&sa(m,0)==="0"&&(_=Va(Soe,m)?16:8,m=og(m,_===8?1:2)),m==="")S=0;else{if(!Va(_===10?Toe:_===8?boe:nB,m))return u;S=S0(m,_)}vf(c,S)}for(f=0;f<d;f++)if(S=c[f],f===d-1){if(S>=eB(256,5-d))return null}else if(S>255)return null;for(y=goe(c),f=0;f<c.length;f++)y+=c[f]*eB(256,3-f);return y}(r),n===null))return El;this.host=n}else{if(Va(Ioe,r))return El;for(n="",o=mf(r),s=0;s<o.length;s++)n+=dc(o[s],T0);this.host=n}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return Ew(C0,this.scheme)},shortenPath:function(){var r=this.path,n=r.length;!n||this.scheme==="file"&&n===1&&sg(r[0],!0)||r.length--},serialize:function(){var r=this,n=r.scheme,o=r.username,s=r.password,u=r.host,d=r.port,c=r.path,f=r.query,m=r.fragment,_=n+":";return u!==null?(_+="//",r.includesCredentials()&&(_+=o+(s?":"+s:"")+"@"),_+=ag(u),d!==null&&(_+=":"+d)):n==="file"&&(_+="//"),_+=r.cannotBeABaseURL?c[0]:c.length?"/"+ig(c,"/"):"",f!==null&&(_+="?"+f),m!==null&&(_+="#"+m),_},setHref:function(r){var n=this.parse(r);if(n)throw new Aw(n);this.searchParams.update()},getOrigin:function(){var r=this.scheme,n=this.port;if(r==="blob")try{return new yf(r.path[0]).origin}catch{return"null"}return r!=="file"&&this.isSpecial()?r+"://"+ag(this.host)+(n!==null?":"+n:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(r){this.parse(cu(r)+":",Fw)},getUsername:function(){return this.username},setUsername:function(r){var n=mf(cu(r));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var o=0;o<n.length;o++)this.username+=dc(n[o],Rw)}},getPassword:function(){return this.password},setPassword:function(r){var n=mf(cu(r));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var o=0;o<n.length;o++)this.password+=dc(n[o],Rw)}},getHost:function(){var r=this.host,n=this.port;return r===null?"":n===null?ag(r):ag(r)+":"+n},setHost:function(r){this.cannotBeABaseURL||this.parse(r,Mw)},getHostname:function(){var r=this.host;return r===null?"":ag(r)},setHostname:function(r){this.cannotBeABaseURL||this.parse(r,Lw)},getPort:function(){var r=this.port;return r===null?"":cu(r)},setPort:function(r){this.cannotHaveUsernamePasswordPort()||((r=cu(r))===""?this.port=null:this.parse(r,Ww))},getPathname:function(){var r=this.path;return this.cannotBeABaseURL?r[0]:r.length?"/"+ig(r,"/"):""},setPathname:function(r){this.cannotBeABaseURL||(this.path=[],this.parse(r,_f))},getSearch:function(){var r=this.query;return r?"?"+r:""},setSearch:function(r){(r=cu(r))===""?this.query=null:(sa(r,0)==="?"&&(r=og(r,1)),this.query="",this.parse(r,xl)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var r=this.fragment;return r?"#"+r:""},setHash:function(r){(r=cu(r))!==""?(sa(r,0)==="#"&&(r=og(r,1)),this.fragment="",this.parse(r,lu)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var yf=function(r){var n=ooe(this,Hi),o=coe(arguments.length,1)>1?arguments[1]:void 0,s=loe(n,new Vw(r,!1,o));Iw||(n.href=s.serialize(),n.origin=s.getOrigin(),n.protocol=s.getProtocol(),n.username=s.getUsername(),n.password=s.getPassword(),n.host=s.getHost(),n.hostname=s.getHostname(),n.port=s.getPort(),n.pathname=s.getPathname(),n.search=s.getSearch(),n.searchParams=s.getSearchParams(),n.hash=s.getHash())},Hi=yf.prototype,ua=function(r,n){return{get:function(){return y0(this)[r]()},set:n&&function(o){return y0(this)[n](o)},configurable:!0,enumerable:!0}};if(Iw&&(aa(Hi,"href",ua("serialize","setHref")),aa(Hi,"origin",ua("getOrigin")),aa(Hi,"protocol",ua("getProtocol","setProtocol")),aa(Hi,"username",ua("getUsername","setUsername")),aa(Hi,"password",ua("getPassword","setPassword")),aa(Hi,"host",ua("getHost","setHost")),aa(Hi,"hostname",ua("getHostname","setHostname")),aa(Hi,"port",ua("getPort","setPort")),aa(Hi,"pathname",ua("getPathname","setPathname")),aa(Hi,"search",ua("getSearch","setSearch")),aa(Hi,"searchParams",ua("getSearchParams")),aa(Hi,"hash",ua("getHash","setHash"))),_0(Hi,"toJSON",function(){return y0(this).serialize()},{enumerable:!0}),_0(Hi,"toString",function(){return y0(this).serialize()},{enumerable:!0}),ng){var pB=ng.createObjectURL,gB=ng.revokeObjectURL;pB&&_0(yf,"createObjectURL",JW(pB,ng)),gB&&_0(yf,"revokeObjectURL",JW(gB,ng))}uoe(yf,"URL"),noe({global:!0,constructor:!0,forced:!ioe,sham:!Iw},{URL:yf});var Poe=wt,mB=mr,koe=Qp,vB=No,Doe=f0,jw=Gn("URL"),Roe=Doe&&mB(function(){jw.canParse()}),Foe=mB(function(){return jw.canParse.length!==1});Poe({target:"URL",stat:!0,forced:!Roe||Foe},{canParse:function(r){var n=koe(arguments.length,1),o=vB(r),s=n<2||arguments[1]===void 0?void 0:vB(arguments[1]);try{return!!new jw(o,s)}catch{return!1}}});var Ooe=wt,Noe=Qp,_B=No,Moe=f0,Loe=Gn("URL");Ooe({target:"URL",stat:!0,forced:!Moe},{parse:function(r){var n=Noe(arguments.length,1),o=_B(r),s=n<2||arguments[1]===void 0?void 0:_B(arguments[1]);try{return new Loe(o,s)}catch{return null}}});var Woe=fe(Jr.URL),fc=fe(eW),Boe=wt,Uoe=jC.indexOf,Voe=fW,Gw=T_([].indexOf),yB=!!Gw&&1/Gw([1],1,-0)<0;Boe({target:"Array",proto:!0,forced:yB||!Voe("indexOf")},{indexOf:function(r){var n=arguments.length>1?arguments[1]:void 0;return yB?Gw(this,r,n)||0:Uoe(this,r,n)}});var joe=Gi("Array","indexOf"),Goe=zn,zoe=joe,zw=Array.prototype,Hoe=function(r){var n=r.indexOf;return r===zw||Goe(zw,r)&&n===zw.indexOf?zoe:n},di=fe(Hoe),SB=ml,$oe=TypeError,Koe=wt,Yoe=La,Qoe=D_,Xoe=Rp,Joe=rc,qoe=XL,Zoe=rw,eae=eI,tae=zp,Hw=function(r,n){if(!delete r[n])throw new $oe("Cannot delete property "+SB(n)+" of "+SB(r))},rae=eg("splice"),nae=Math.max,iae=Math.min;Koe({target:"Array",proto:!0,forced:!rae},{splice:function(r,n){var o,s,u,d,c,f,m=Yoe(this),_=Joe(m),S=Qoe(r,_),y=arguments.length;for(y===0?o=s=0:y===1?(o=0,s=_-S):(o=y-2,s=iae(nae(Xoe(n),0),_-S)),Zoe(_+o-s),u=eae(m,s),d=0;d<s;d++)(c=S+d)in m&&tae(u,d,m[c]);if(u.length=s,o<s){for(d=S;d<_-s;d++)f=d+o,(c=d+s)in m?m[f]=m[c]:Hw(m,f);for(d=_;d>_-s+o;d--)Hw(m,d-1)}else if(o>s)for(d=_-s;d>S;d--)f=d+o-1,(c=d+s-1)in m?m[f]=m[c]:Hw(m,f);for(d=0;d<o;d++)m[d+S]=arguments[d+2];return qoe(m,_-s+o),u}});var oae=Gi("Array","splice"),aae=zn,sae=oae,$w=Array.prototype,uae=function(r){var n=r.splice;return r===$w||aae($w,r)&&n===$w.splice?sae:n},fi=fe(uae),cae=wt,lae=yl.findIndex,bB="findIndex",TB=!0;bB in[]&&Array(1)[bB](function(){TB=!1}),cae({target:"Array",proto:!0,forced:TB},{findIndex:function(r){return lae(this,r,arguments.length>1?arguments[1]:void 0)}});var dae=Gi("Array","findIndex"),fae=zn,hae=dae,Kw=Array.prototype,pae=function(r){var n=r.findIndex;return r===Kw||fae(Kw,r)&&n===Kw.findIndex?hae:n},CB=fe(pae),IB=cn,gae=mr,wB=yr,mae=Qd,vae=Op,_ae=Ma,EB=wB(Ep.f),yae=wB([].push),Sae=IB&&gae(function(){var r=Object.create(null);return r[2]=2,!EB(r,2)}),xB=function(r){return function(n){for(var o,s=_ae(n),u=vae(s),d=Sae&&mae(s)===null,c=u.length,f=0,m=[];c>f;)o=u[f++],IB&&!(d?o in s:EB(s,o))||yae(m,r?[o,s[o]]:s[o]);return m}},bae={entries:xB(!0),values:xB(!1)}.entries;wt({target:"Object",stat:!0},{entries:function(r){return bae(r)}});var E0=fe(Jr.Object.entries),x0=fe(hL),Tae=wt,Cae=yl.find,AB="find",PB=!0;AB in[]&&Array(1)[AB](function(){PB=!1}),Tae({target:"Array",proto:!0,forced:PB},{find:function(r){return Cae(this,r,arguments.length>1?arguments[1]:void 0)}});var Iae=Gi("Array","find"),wae=zn,Eae=Iae,Yw=Array.prototype,xae=function(r){var n=r.find;return r===Yw||wae(Yw,r)&&n===Yw.find?Eae:n},ug=fe(xae),Aae=yl.filter;wt({target:"Array",proto:!0,forced:!eg("filter")},{filter:function(r){return Aae(this,r,arguments.length>1?arguments[1]:void 0)}});var Pae=Gi("Array","filter"),kae=zn,Dae=Pae,Qw=Array.prototype,Rae=function(r){var n=r.filter;return r===Qw||kae(Qw,r)&&n===Qw.filter?Dae:n},kB=fe(Rae),Fae=yl.map;wt({target:"Array",proto:!0,forced:!eg("map")},{map:function(r){return Fae(this,r,arguments.length>1?arguments[1]:void 0)}});var Oae=Gi("Array","map"),Nae=zn,Mae=Oae,Xw=Array.prototype,Lae=function(r){var n=r.map;return r===Xw||Nae(Xw,r)&&n===Xw.map?Mae:n},cg=fe(Lae),Wae=jC.includes;wt({target:"Array",proto:!0,forced:mr(function(){return!Array(1).includes()})},{includes:function(r){return Wae(this,r,arguments.length>1?arguments[1]:void 0)}});var Bae=Gi("Array","includes"),Uae=yn,Vae=au,jae=Ur("match"),Gae=function(r){var n;return Uae(r)&&((n=r[jae])!==void 0?!!n:Vae(r)==="RegExp")},zae=TypeError,Hae=Ur("match"),$ae=wt,Kae=function(r){if(Gae(r))throw new zae("The method doesn't accept regular expressions");return r},Yae=Bd,DB=No,Qae=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[Hae]=!1,"/./"[r](n)}catch{}}return!1},Xae=yr("".indexOf);$ae({target:"String",proto:!0,forced:!Qae("includes")},{includes:function(r){return!!~Xae(DB(Yae(this)),DB(Kae(r)),arguments.length>1?arguments[1]:void 0)}});var Jae=Gi("String","includes"),RB=zn,qae=Bae,Zae=Jae,Jw=Array.prototype,qw=String.prototype,ese=function(r){var n=r.includes;return r===Jw||RB(Jw,r)&&n===Jw.includes?qae:typeof r=="string"||r===qw||RB(qw,r)&&n===qw.includes?Zae:n},tse=fe(ese),FB=`	
\v\f\r                　\u2028\u2029\uFEFF`,rse=Bd,nse=No,Zw=FB,OB=yr("".replace),ise=RegExp("^["+Zw+"]+"),ose=RegExp("(^|[^"+Zw+"])["+Zw+"]+$"),eE=function(r){return function(n){var o=nse(rse(n));return 1&r&&(o=OB(o,ise,"")),2&r&&(o=OB(o,ose,"$1")),o}},ase={start:eE(1),end:eE(2),trim:eE(3)},NB=Mr,sse=mr,use=yr,cse=No,lse=ase.trim,MB=FB,lg=NB.parseInt,LB=NB.Symbol,WB=LB&&LB.iterator,BB=/^[+-]?0x/i,dse=use(BB.exec),UB=lg(MB+"08")!==8||lg(MB+"0x16")!==22||WB&&!sse(function(){lg(Object(WB))})?function(r,n){var o=lse(cse(r));return lg(o,n>>>0||(dse(BB,o)?16:10))}:lg;wt({global:!0,forced:parseInt!==UB},{parseInt:UB});var dg=fe(Jr.parseInt),fse=fe(oW),hse=Gi("Array","keys"),pse=vl,gse=xn,mse=zn,vse=hse,tE=Array.prototype,_se={DOMTokenList:!0,NodeList:!0},yse=function(r){var n=r.keys;return r===tE||mse(tE,r)&&n===tE.keys||gse(_se,pse(r))?vse:n},Sse=fe(yse),VB={exports:{}},bse=mr(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}}),Tse=mr,Cse=yn,Ise=au,jB=bse,A0=Object.isExtensible,wse=Tse(function(){A0(1)})||jB?function(r){return!!Cse(r)&&(!jB||Ise(r)!=="ArrayBuffer")&&(!A0||A0(r))}:A0,Ese=!mr(function(){return Object.isExtensible(Object.preventExtensions({}))}),xse=wt,Ase=yr,Pse=Fp,kse=yn,rE=xn,Dse=fo.f,GB=Np,Rse=XC,nE=wse,Fse=Ese,zB=!1,du=E_("meta"),Ose=0,iE=function(r){Dse(r,du,{value:{objectID:"O"+Ose++,weakData:{}}})},Nse=VB.exports={enable:function(){Nse.enable=function(){},zB=!0;var r=GB.f,n=Ase([].splice),o={};o[du]=1,r(o).length&&(GB.f=function(s){for(var u=r(s),d=0,c=u.length;d<c;d++)if(u[d]===du){n(u,d,1);break}return u},xse({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Rse.f}))},fastKey:function(r,n){if(!kse(r))return R(r)=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!rE(r,du)){if(!nE(r))return"F";if(!n)return"E";iE(r)}return r[du].objectID},getWeakData:function(r,n){if(!rE(r,du)){if(!nE(r))return!0;if(!n)return!1;iE(r)}return r[du].weakData},onFreeze:function(r){return Fse&&zB&&nE(r)&&!rE(r,du)&&iE(r),r}};Pse[du]=!0;var HB=VB.exports,Mse=wt,Lse=Mr,Wse=HB,Bse=mr,Use=ec,Vse=Tl,jse=Yp,Gse=wn,zse=yn,Hse=Wd,$se=bs,Kse=fo.f,Yse=yl.forEach,Qse=cn,Xse=Cs.set,Jse=Cs.getterFor,$B=nc,qse=Lp,KB=SW,Zse=su,eue=Yp,tue=Wd,rue=Tl,nue=bI,YB=J_,iue=pM,fg=cn,QB=HB.fastKey,XB=Cs.set,oE=Cs.getterFor,oue={getConstructor:function(r,n,o,s){var u=r(function(_,S){eue(_,d),XB(_,{type:n,index:$B(null),first:null,last:null,size:0}),fg||(_.size=0),tue(S)||rue(S,_[s],{that:_,AS_ENTRIES:o})}),d=u.prototype,c=oE(n),f=function(_,S,y){var b,I,x=c(_),P=m(_,S);return P?P.value=y:(x.last=P={index:I=QB(S,!0),key:S,value:y,previous:b=x.last,next:null,removed:!1},x.first||(x.first=P),b&&(b.next=P),fg?x.size++:_.size++,I!=="F"&&(x.index[I]=P)),_},m=function(_,S){var y,b=c(_),I=QB(S);if(I!=="F")return b.index[I];for(y=b.first;y;y=y.next)if(y.key===S)return y};return KB(d,{clear:function(){for(var _=c(this),S=_.first;S;)S.removed=!0,S.previous&&(S.previous=S.previous.next=null),S=S.next;_.first=_.last=null,_.index=$B(null),fg?_.size=0:this.size=0},delete:function(_){var S=this,y=c(S),b=m(S,_);if(b){var I=b.next,x=b.previous;delete y.index[b.index],b.removed=!0,x&&(x.next=I),I&&(I.previous=x),y.first===b&&(y.first=I),y.last===b&&(y.last=x),fg?y.size--:S.size--}return!!b},forEach:function(_){for(var S,y=c(this),b=Zse(_,arguments.length>1?arguments[1]:void 0);S=S?S.next:y.first;)for(b(S.value,S.key,this);S&&S.removed;)S=S.previous},has:function(_){return!!m(this,_)}}),KB(d,o?{get:function(_){var S=m(this,_);return S&&S.value},set:function(_,S){return f(this,_===0?0:_,S)}}:{add:function(_){return f(this,_=_===0?0:_,_)}}),fg&&qse(d,"size",{configurable:!0,get:function(){return c(this).size}}),u},setStrong:function(r,n,o){var s=n+" Iterator",u=oE(n),d=oE(s);nue(r,n,function(c,f){XB(this,{type:s,target:c,state:u(c),kind:f,last:null})},function(){for(var c=d(this),f=c.kind,m=c.last;m&&m.removed;)m=m.previous;return c.target&&(c.last=m=m?m.next:c.state.first)?YB(f==="keys"?m.key:f==="values"?m.value:[m.key,m.value],!1):(c.target=null,YB(void 0,!0))},o?"entries":"values",!o,!0),iue(n)}},aue=function(r,n,o){var s,u=r.indexOf("Map")!==-1,d=r.indexOf("Weak")!==-1,c=u?"set":"add",f=Lse[r],m=f&&f.prototype,_={};if(Qse&&Gse(f)&&(d||m.forEach&&!Bse(function(){new f().entries().next()}))){var S=(s=n(function(b,I){Xse(jse(b,S),{type:r,collection:new f}),Hse(I)||Vse(I,b[c],{that:b,AS_ENTRIES:u})})).prototype,y=Jse(r);Yse(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(b){var I=b==="add"||b==="set";!(b in m)||d&&b==="clear"||Use(S,b,function(x,P){var L=y(this).collection;if(!I&&d&&!zse(x))return b==="get"&&void 0;var $=L[b](x===0?0:x,P);return I?this:$})}),d||Kse(S,"size",{configurable:!0,get:function(){return y(this).collection.size}})}else s=o.getConstructor(n,r,u,c),Wse.enable();return $se(s,r,!1,!0),_[r]=s,Mse({global:!0,forced:!0},_),d||o.setStrong(s,r,u),s};aue("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},oue);var sue=ml,uue=TypeError,Al=function(r){if(R(r)=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new uue(sue(r)+" is not a set")},aE=function(r,n){return n===1?function(o,s){return o[r](s)}:function(o,s,u){return o[r](s,u)}},JB=Gn("Set"),cue=JB.prototype,Lo={Set:JB,add:aE("add",1),has:aE("has",1),remove:aE("delete",1),proto:cue},lue=En,Pl=function(r,n,o){for(var s,u,d=o?r:r.iterator,c=r.next;!(s=lue(c,d)).done;)if((u=n(s.value))!==void 0)return u},due=Pl,hg=function(r,n,o){return o?due(r.keys(),n,!0):r.forEach(n)},fue=hg,hue=Lo.Set,pue=Lo.add,sE=function(r){var n=new hue;return fue(r,function(o){pue(n,o)}),n},pg=function(r){return r.size},qB=Oo,ZB=ji,eU=En,gue=Rp,mue=function(r){return{iterator:r,next:r.next,done:!1}},tU="Invalid size",vue=RangeError,_ue=TypeError,yue=Math.max,rU=function(r,n){this.set=r,this.size=yue(n,0),this.has=qB(r.has),this.keys=qB(r.keys)};rU.prototype={getIterator:function(){return mue(ZB(eU(this.keys,this.set)))},includes:function(r){return eU(this.has,this.set,r)}};var kl=function(r){ZB(r);var n=+r.size;if(n!=n)throw new _ue(tU);var o=gue(n);if(o<0)throw new vue(tU);return new rU(r,o)},Sue=Al,bue=sE,Tue=pg,Cue=kl,Iue=hg,wue=Pl,Eue=Lo.has,nU=Lo.remove,Dl=function(){return!1},xue=function(r){var n=Sue(this),o=Cue(r),s=bue(n);return Tue(n)<=o.size?Iue(n,function(u){o.includes(u)&&nU(s,u)}):wue(o.getIterator(),function(u){Eue(n,u)&&nU(s,u)}),s};wt({target:"Set",proto:!0,real:!0,forced:!Dl()},{difference:xue});var Aue=Al,Pue=pg,kue=kl,Due=hg,Rue=Pl,Fue=Lo.Set,iU=Lo.add,Oue=Lo.has,Nue=function(r){var n=Aue(this),o=kue(r),s=new Fue;return Pue(n)>o.size?Rue(o.getIterator(),function(u){Oue(n,u)&&iU(s,u)}):Due(n,function(u){o.includes(u)&&iU(s,u)}),s};wt({target:"Set",proto:!0,real:!0,forced:!Dl()},{intersection:Nue});var Mue=Al,Lue=Lo.has,Wue=pg,Bue=kl,Uue=hg,Vue=Pl,jue=H_,Gue=function(r){var n=Mue(this),o=Bue(r);if(Wue(n)<=o.size)return Uue(n,function(u){if(o.includes(u))return!1},!0)!==!1;var s=o.getIterator();return Vue(s,function(u){if(Lue(n,u))return jue(s,"normal",!1)})!==!1};wt({target:"Set",proto:!0,real:!0,forced:!Dl()},{isDisjointFrom:Gue});var zue=Al,Hue=pg,$ue=hg,Kue=kl,Yue=function(r){var n=zue(this),o=Kue(r);return!(Hue(n)>o.size)&&$ue(n,function(s){if(!o.includes(s))return!1},!0)!==!1};wt({target:"Set",proto:!0,real:!0,forced:!Dl()},{isSubsetOf:Yue});var Que=Al,Xue=Lo.has,Jue=pg,que=kl,Zue=Pl,ece=H_,tce=function(r){var n=Que(this),o=que(r);if(Jue(n)<o.size)return!1;var s=o.getIterator();return Zue(s,function(u){if(!Xue(n,u))return ece(s,"normal",!1)})!==!1};wt({target:"Set",proto:!0,real:!0,forced:!Dl()},{isSupersetOf:tce});var rce=Al,nce=sE,ice=kl,oce=Pl,ace=Lo.add,sce=Lo.has,uce=Lo.remove,cce=function(r){var n=rce(this),o=ice(r).getIterator(),s=nce(n);return oce(o,function(u){sce(n,u)?uce(s,u):ace(s,u)}),s};wt({target:"Set",proto:!0,real:!0,forced:!Dl()},{symmetricDifference:cce});var lce=Al,dce=Lo.add,fce=sE,hce=kl,pce=Pl,gce=function(r){var n=lce(this),o=hce(r).getIterator(),s=fce(n);return pce(o,function(u){dce(s,u)}),s};wt({target:"Set",proto:!0,real:!0,forced:!Dl()},{union:gce});var mce=fe(Jr.Set),oU=fe(DL);function aU(r,n){var o=d0(r);if(wN){var s=wN(r);n&&(s=kB(s).call(s,function(u){return DN(r,u).enumerable})),o.push.apply(o,s)}return o}function Sf(r){for(var n=1;n<arguments.length;n++){var o,s,u=arguments[n]!=null?arguments[n]:{};n%2?Bt(o=aU(Object(u),!0)).call(o,function(d){ct(r,d,u[d])}):FN?JJ(r,FN(u)):Bt(s=aU(Object(u))).call(s,function(d){oU(r,d,DN(u,d))})}return r}function P0(r){var n=function(){if(typeof Reflect>"u"||!N_||N_.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,s=af(r);if(n){var u=af(this).constructor;o=N_(s,arguments,u)}else o=s.apply(this,arguments);return function(d,c){if(c&&(uf(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qr(d)}(this,o)}}var hc=function(r){return mW?mW(r):function(n){return Object.prototype.toString.call(n)}(r)==="[object Array]"},hi=function(r){return r===void 0},sU=function(r,n){var o,s;r=(o=r)!==null&&o!==void 0?o:"yyyy-MM-dd hh:mm:ss";var u=hi(n)?new Date:new Date(n),d={"M+":(u.getMonth()+1).toString(),"d+":u.getDate().toString(),"h+":u.getHours().toString(),"m+":u.getMinutes().toString(),"s+":u.getSeconds().toString(),"q+":Math.floor((u.getMonth()+3)/3).toString(),S:u.getMilliseconds().toString()};return/(y+)/.test(r)&&(r=r.replace(RegExp.$1,"".concat(u.getFullYear()).substring(4-RegExp.$1.length))),Bt(s=d0(d)).call(s,function(c){new RegExp("(".concat(c,")")).test(r)&&(r=r.replace(RegExp.$1,RegExp.$1.length===1?d[c]:"00".concat(d[c]).substring("".concat(d[c]).length)))}),r},Zr=function(r){return typeof r=="string"},Rl=function(r){return typeof r=="number"&&!lf(r)},Fl=function(r){return typeof r=="function"},uU=0,pc=function(){var r;return uU+=1,uc(r="".concat(new Date().getTime().toString(36))).call(r,uU.toString(36))};(function(r,n){for(var o=d0(r),s=0;s<o.length;s++){var u=o[s];if(n.call(null,r[u],u,r)===!1)break}})({"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'"',"&#x27;":"'"},function(r,n){}),function(r,n){for(var o=d0(r),s=0;s<o.length;s++){var u=o[s];if(n.call(null,r[u],u,r)===!1)break}}({"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'"',"&#x27;":"'"},function(r,n){});var k0=function(r){var n=Woe||window.webkitURL;/^blob:/.test(r)&&n.revokeObjectURL(r)},cU=function(){function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";An(this,r),ct(this,"prefix",void 0),ct(this,"postfix",void 0),ct(this,"isDestroyed",!1),ct(this,"uid",pc()),ct(this,"cacheEvents",void 0),ct(this,"events",void 0),ct(this,"isCached",void 0),this.cacheEvents=[],this.events={},this.isCached=!1,this.prefix=n,this.postfix=o}return Pn(r,[{key:"save",value:function(){this.isCached=!0}},{key:"restore",value:function(){var n,o=this;this.isCached=!1,Bt(n=this.cacheEvents).call(n,function(s){var u,d=s.eventName,c=s.param;o.emit.apply(o,uc(u=[d]).call(u,Sn(c)))}),this.cacheEvents.length=0}},{key:"destroy",value:function(){var n=this;if(!this.isDestroyed){for(var o in this.events)if(Object.prototype.hasOwnProperty.call(this.events,o)){var s,u=this.events[o];u&&Bt(s=fc(u).call(u)).call(s,function(d){var c=d.name,f=d.fn,m=d.context,_=d.once;n.off(c,f,m,_)})}this.events={},this.isDestroyed=!0}}},{key:"on",value:function(n,o,s){var u,d=arguments.length>3&&arguments[3]!==void 0&&arguments[3],c=this.events,f={name:n=this.format(n),uid:pc(),context:s,once:d,fn:o};return c[n]||(c[n]=[]),di(u=c[n]).call(u,f)<0&&c[n].push(f),f}},{key:"once",value:function(n,o,s){return this.on(n,o,s,!0)}},{key:"emit",value:function(n){for(var o,s,u=this,d=arguments.length,c=new Array(d>1?d-1:0),f=1;f<d;f++)c[f-1]=arguments[f];if(this.isCached)return this.cacheEvents.push({eventName:n,param:c}),!0;var m=this.events[n=this.format(n)];return!(!m||!m.length||(Bt(o=fc(m).call(m)).call(o,function(_){var S,y=_.fn,b=_.context;y.call.apply(y,uc(S=[b||null]).call(S,c))}),Bt(s=fc(m).call(m)).call(s,function(_){var S=_.fn,y=_.context,b=_.once;b&&u.off(n,S,y,b)}),0))}},{key:"off",value:function(n,o,s,u){var d=this.events[n=this.format(n)];if(!d)return!1;if(!arguments.length)return d.length=0,!0;for(var c=d.length-1;c>=0;c--){var f=d[c];o&&f.fn!==o||s&&f.context!==s||u&&f.once!==u||fi(d).call(d,c,1)}return!0}},{key:"removeAllEventListeners",value:function(n){if(n){var o,s;n=this.format(n);var u=CB(o=this.cacheEvents).call(o,function(d){return d.eventName===n});u>-1&&fi(s=this.cacheEvents).call(s,u,1),this.events[n]&&delete this.events[n]}else this.cacheEvents=[],this.events={}}},{key:"getAllEvents",value:function(){return this.events}},{key:"format",value:function(n){var o,s;return uc(o=uc(s="".concat(this.prefix||"")).call(s,n)).call(o,this.postfix||"")}}],[{key:"create",value:function(n,o){return new r(n,o)}}]),r}(),uE="default",lr=function(){function r(){An(this,r),ct(this,"emitter",new cU)}return Pn(r,[{key:"on",value:function(n){this.emitter.on(uE,n)}},{key:"emit",value:function(){for(var n,o,s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];(n=this.emitter).emit.apply(n,uc(o=[uE]).call(o,u))}},{key:"off",value:function(n){this.emitter.off(uE,n)}}],[{key:"create",value:function(){return new r}}]),r}(),gg=function(){function r(n){An(this,r),ct(this,"uid",void 0),ct(this,"children",void 0),this.uid=n.uid,this.children=n.children||[]}return Pn(r,[{key:"append",value:function(n){var o=this.children;return di(o).call(o,n)<0&&(o.push(n),!0)}},{key:"insert",value:function(n,o){var s=this.children;return!(o<0||(o>s.length&&(o=s.length),fi(s).call(s,o,0,n),0))}},{key:"remove",value:function(n){var o=this.children,s=di(o).call(o,n);return!(s<0||(fi(o).call(o,s,1),0))}},{key:"clear",value:function(){return this.children=[],!0}},{key:"move",value:function(n,o){if(n===o)return!0;var s=this.children,u=cf(fi(s).call(s,n,1),1)[0];return fi(s).call(s,o,0,u),!0}},{key:"switch",value:function(n,o){if(n===o)return!0;var s=this.children,u=s[n];return s[n]=s[o],s[o]=u,!0}},{key:"reorder",value:function(n){var o=this.children,s=n.length,u=[],d=0;if(o.length!==s||s===0)return!1;for(var c=0;c<s;c++)n[c]===c&&(d+=1);if(d===s)return!0;for(var f=0;f<s;f++)u[f]=o[n[f]];for(var m=0;m<s;m++)o[m]=u[m];return!0}}]),r}(),lU=function(){function r(n,o){An(this,r),ct(this,"isDestroyed",!1),ct(this,"data",void 0),ct(this,"table",["database","table","item"]),ct(this,"dbName",void 0),ct(this,"tableName",void 0),this.data={},this.dbName=n,this.tableName=o,this.createDatabase(n,o)}return Pn(r,[{key:"destroy",value:function(){if(!this.isDestroyed){for(var n=0,o=E0(this.data);n<o.length;n++){var s=cf(o[n],2),u=s[0];s[1],this.data[u]=null}this.data=null,this.isDestroyed=!0}}},{key:"createDatabase",value:function(n,o){this.data[n]={},this.data[n][o]={}}},{key:"set",value:function(n,o){var s=this,u=this.dbName,d=this.tableName;return new x0(function(c,f){s.checkId(n)?f(new Error("The ".concat(n," already exists."))):(s.data[u][d][n]=o,c("Save ".concat(n," to database successful.")))})}},{key:"get",value:function(n){var o=this,s=this.dbName,u=this.tableName;return new x0(function(d,c){o.checkId(n)?d(o.data[s][u][n]):c(o.erMsg(2,n))})}},{key:"remove",value:function(n){var o=this,s=this.dbName,u=this.tableName;return new x0(function(d,c){delete o.data[s][u][n],d("Remove ".concat(n," successful."))})}},{key:"update",value:function(n,o){var s=this,u=this.dbName,d=this.tableName;return new x0(function(c,f){s.checkId(n)?(s.data[u][d][n]=o,c("Update ".concat(n," successful."))):f(s.erMsg(2,n))})}},{key:"checkId",value:function(n){var o=this.dbName,s=this.tableName;return this.data[o][s][n]!==void 0}},{key:"erMsg",value:function(n,o){var s;return uc(s="The ".concat(this.table[n]," ")).call(s,o," does not exist.")}}]),r}(),D0=function(){function r(){An(this,r),ct(this,"isDestroyed",!1),ct(this,"data",void 0),this.data={}}return Pn(r,[{key:"destroy",value:function(){if(!this.isDestroyed){for(var n=0,o=E0(this.data);n<o.length;n++){var s,u=cf(o[n],2),d=u[0];u[1],(s=this.data[d])!==null&&s!==void 0&&s.destroy(),this.data[d]=null}this.data=null,this.isDestroyed=!0}}},{key:"set",value:function(n,o){return!this.check(n)&&(this.data[n]=o,!0)}},{key:"get",value:function(n){return this.data[n]}},{key:"remove",value:function(n){return!!this.check(n)&&(delete this.data[n],!0)}},{key:"update",value:function(n,o){return!!this.check(n)&&(this.data[n]=o,!0)}},{key:"check",value:function(n){return this.data[n]!==void 0}}]),r}(),dU=function(r){s0(o,r);var n=P0(o);function o(s){var u;return An(this,o),ct(qr(u=n.call(this,s)),"name",void 0),ct(qr(u),"type",void 0),ct(qr(u),"fileType",void 0),ct(qr(u),"createdDate",void 0),ct(qr(u),"modifiedDate",void 0),ct(qr(u),"parent",void 0),ct(qr(u),"isRoot",!1),u.name=s.name,u.type=s.type,u.fileType=s.fileType,u.parent=s.parent||null,u.isRoot=s.isRoot||!1,u.createdDate=sU(),u.modifiedDate=u.createdDate,u}return Pn(o,[{key:"updateDate",value:function(){this.modifiedDate=sU()}},{key:"setName",value:function(s){this.name=s}},{key:"reorder",value:function(s){var u=this.type;return(u==="file"||u==="default")&&ew(af(o.prototype),"reorder",this).call(this,s)}}]),o}(gg),vce=function(){function r(){An(this,r),ct(this,"root",void 0),ct(this,"currentNode",void 0),ct(this,"selectedUid",void 0),ct(this,"defaultNode",void 0),ct(this,"hooks",{fileChanged:lr.create(),beforeRemoveFile:lr.create(),removeFile:lr.create(),afterRemoveFile:lr.create(),afterRenameFile:lr.create(),destroy:lr.create()}),this.root=new dU({uid:pc(),children:[],name:"root",type:"file",fileType:"folder",parent:void 0,isRoot:!0}),this.defaultNode=this.root,this.currentNode=this.root}return Pn(r,[{key:"appendChildrenToFile",value:function(n,o,s){var u=s,d=fU(this.defaultNode,n);return d||(d=this.createFile(n),this.hooks.fileChanged.emit(this.defaultNode)),Bt(o).call(o,function(c){hi(u)?d.append(c):(d.insert(c,u),u+=1)}),d}},{key:"removeChildFromFile",value:function(n,o){Zr(o)&&(o=[o]);var s=this.getFileByUid(n);s&&Bt(o).call(o,function(u){s.remove(u)})}},{key:"findChild",value:function(n,o){var s;return ug(s=n.children).call(s,function(u){return u.name===o})}},{key:"createFile",value:function(n){var o=this.defaultNode;o||(o=this.root);var s=fU(o,n);return s&&s.type==="file"||(s=new dU({uid:pc(),children:[],name:n,type:"file",fileType:"file",parent:o,isRoot:!1}),this.currentNode.append(s),this.hooks.fileChanged.emit(this.currentNode.children)),s}},{key:"removeFile",value:function(n){for(var o=this.defaultNode.children,s=0;s<o.length;s++){var u=o[s];if(u.name===n)return this.hooks.beforeRemoveFile.emit(u),fi(o).call(o,s,1),this.hooks.afterRemoveFile.emit(u),this.hooks.fileChanged.emit(u),!0}return!1}},{key:"renameFile",value:function(n,o){var s=this.findChild(this.defaultNode,n),u=this.findChild(this.defaultNode,o);return!!s&&!u&&(s.name=o,this.hooks.afterRenameFile.emit(s),this.hooks.fileChanged.emit(this.currentNode.children),!0)}},{key:"getFile",value:function(n){return this.findChild(this.defaultNode,n)}},{key:"getFileByUid",value:function(n){return ug(this).call(this,n,this.root)}},{key:"getCurrentFileList",value:function(){return this.currentNode.children}},{key:"isFileExist",value:function(n){return!!this.findChild(this.defaultNode,n)}},{key:"createFolder",value:function(){}},{key:"find",value:function(n,o){for(var s=o.children,u=s.length,d=0;d<u;d++){if(s[d].uid===n)return s[d];if(s[d].children){var c=ug(this).call(this,n,s[d]);if(c)return c}}return null}}]),r}();function fU(r,n){var o,s=kB(o=r.children).call(o,function(u){return u.name===n});return s.length===0?null:s[0]}var hU,R0,pU=function(r){s0(o,r);var n=P0(o);function o(s){var u;return An(this,o),ct(qr(u=n.call(this,s)),"name",void 0),ct(qr(u),"type","tag"),u.name=s.name,u.uid=s.uid||pc(),u.type="tag",u}return Pn(o)}(gg),_ce=function(){function r(){An(this,r),ct(this,"tags",void 0),ct(this,"defaultName",void 0),ct(this,"defaultUid",void 0),ct(this,"selectedUid",void 0),ct(this,"emptyItem",void 0),ct(this,"hooks",{beforeRemoveTag:lr.create(),afterRenameTag:lr.create(),destroy:lr.create(),load:lr.create()}),this.tags=[],this.defaultName=null,this.defaultUid=null,this.selectedUid=null,this.emptyItem=new pU({name:"defaultTag",children:[]})}return Pn(r,[{key:"appendChildToTag",value:function(n,o){var s=this.createTag(n);Zr(o)&&(o=[o]);var u=!1;return Bt(o).call(o,function(d){s.append(d)&&(u=!0)}),u}},{key:"removeChildFromTag",value:function(n,o){var s=this.getTag(n);return!!s&&(Zr(o)&&(o=[o]),Bt(o).call(o,function(u){s.remove(u)}),!0)}},{key:"createTag",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=this.getTag(n);return s||(s=new pU({name:n,children:o}),this.tags.push(s)),s}},{key:"removeTag",value:function(n){var o,s,u=this.getTag(n);if(!u)return!1;this.hooks.beforeRemoveTag.emit(u);var d=CB(o=this.tags).call(o,function(c){return c.name===n});return n===this.defaultName&&(this.defaultName=null,this.selectedUid=null),fi(s=this.tags).call(s,d,1),!0}},{key:"renameTag",value:function(n,o){if(!Zr(n)||!Zr(o))return!1;var s=this.isTagExisted(o),u=this.getTag(n);return!(!u||s||(u.name=o,this.hooks.afterRenameTag.emit(u),0))}},{key:"getTag",value:function(n){var o;return ug(o=this.tags).call(o,function(s){return s.name===n})}},{key:"getTagByUid",value:function(n){var o;return ug(o=this.tags).call(o,function(s){return s.uid===n})}},{key:"getTagList",value:function(){var n;return fc(n=this.tags).call(n)}},{key:"setDefaultTag",value:function(n){if(!n)return this.defaultName=null,this.defaultUid=null,!0;var o=this.getTag(n);return!!o&&(this.defaultName=n,this.defaultUid=o.uid,!0)}},{key:"getDefaultTag",value:function(){return this.defaultName}},{key:"isTagExisted",value:function(n){return!!this.getTag(n)}}]),r}(),yce=function(){function r(){An(this,r)}return Pn(r,[{key:"apply",value:function(n){var o=n.hooks,s={beforeStatus:null,afterStatus:null,operation:null,docUid:null},u=function(c){s.beforeStatus={uids:c.uids,selectedUids:[],currentUid:"",modifiedUid:c.modifiedUid,removedUids:c.removedUids}},d=function(c){s.afterStatus={uids:c.uids,selectedUids:[],currentUid:"",modifiedUid:c.modifiedUid,removedUids:c.removedUids},s.docUid=c.docUid,s.operation=c.operation,s.docType=c.docType,s.docName=c.docName,n.emit("bufferChanged",Sf({},s)),s={beforeStatus:null,afterStatus:null,operation:null,docUid:null}};o.beforeBufferChanged.on(u),o.afterBufferChanged.on(d),o.destroy.on(function(){o.beforeBufferChanged.off(u),o.afterBufferChanged.off(d)})}}]),r}(),Sce=function(){function r(){An(this,r)}return Pn(r,[{key:"apply",value:function(n){var o=n.hooks;n.customStore=new D0;var s=function(c){var f=c.data;Bt(f).call(f,function(m){var _=m.customData;_||(_={}),n.customStore.set(m.uid,_)})},u=function(c){var f=c.removedUids;Bt(f).call(f,function(m){n.customStore.remove(m)})},d=function(c){var f=c.data.customData;f&&n.customStore.update(c.modifiedUid,f)};o.loadSource.on(s),o.removeSource.on(u),o.updateSource.on(d),o.destroy.on(function(){o.loadSource.off(s),o.removeSource.off(u),o.updateSource.off(d)})}}]),r}(),bce=function(r){s0(o,r);var n=P0(o);function o(){var s;return An(this,o),ct(qr(s=n.call(this,{uid:pc(),children:[]})),"name","dvs-default"),ct(qr(s),"isDestroyed",!1),ct(qr(s),"type",void 0),s}return Pn(o,[{key:"destroy",value:function(){this.isDestroyed||(this.isDestroyed=!0)}}]),o}(gg),Tce=function(){function r(){An(this,r)}return Pn(r,[{key:"apply",value:function(n){n.defaultFile=new bce;var o=n.hooks,s=function(d){var c,f,m,_=d.filename,S=d.index,y=d.data;if(hi(_)){var b=cg(y).call(y,function(x){return x.uid});S===void 0?(c=n.defaultFile.children).push.apply(c,Sn(b)):fi(f=n.defaultFile.children).apply(f,uc(m=[S,0]).call(m,Sn(b)));var I={docUid:n.defaultFile.uid,sourceUids:b,type:"default",index:S};n.hooks.loadToDoc.emit(I)}},u=function(d){var c=d.removedUids,f=[];Bt(c).call(c,function(m){var _=n.statusStore.get(m);_&&_.ownerDefaultFile&&(n.defaultFile.remove(m),f.push(m))}),f.length&&n.hooks.removeFromDoc.emit({docUid:n.defaultFile.uid,sourceUids:c,type:"default"})};o.loadSource.on(s),o.removeSource.on(u),o.destroy.on(function(){o.loadSource.off(s),o.removeSource.off(u)})}}]),r}(),Cce=function(){function r(){An(this,r)}return Pn(r,[{key:"apply",value:function(n){n.dir=new vce,this.listenDirectoryHooks(n),this.listenSpaceHooks(n)}},{key:"listenDirectoryHooks",value:function(n){var o=n.dir.hooks,s=function(d){var c;Bt(c=d.children).call(c,function(f){var m=n.statusStore.get(f);m&&m.ownerFiles.remove(d.uid)}),n.hooks.removeDoc.emit(d)},u=function(d){n.hooks.renameDoc.emit(d)};o.beforeRemoveFile.on(s),o.afterRenameFile.on(u),o.destroy.on(function(){o.beforeRemoveFile.off(s),o.afterRenameFile.off(u)})}},{key:"listenSpaceHooks",value:function(n){var o=n.hooks,s=function(c){var f=c.data,m=c.filename,_=c.index;if(!hi(m)){var S=n.dir.getFile(m);n.hooks.beforeBufferChanged.emit({docType:"file",docUid:S==null?void 0:S.uid,uids:Sn((S==null?void 0:S.children)||[]),operation:"add"});var y=cg(f).call(f,function(x){return x.uid}),b=n.dir.appendChildrenToFile(m,y,_),I={docUid:b.uid,sourceUids:y,type:"file",index:_};n.hooks.loadToDoc.emit(I),n.hooks.afterBufferChanged.emit({docType:"file",docName:m,docUid:b==null?void 0:b.uid,uids:Sn((b==null?void 0:b.children)||[]),operation:"add"})}},u=function(c){var f=c.removedUids,m={};Bt(f).call(f,function(P){var L,$,te=n.statusStore.get(P);te&&Bt(L=fc($=te.ownerFiles.children).call($)).call(L,function(q){m[q]||(m[q]=[]),m[q].push(P)})});for(var _=0,S=E0(m);_<S.length;_++){var y=cf(S[_],2),b=y[0],I=y[1],x=n.dir.getFileByUid(b);x&&(n.hooks.beforeBufferChanged.emit({docUid:b,uids:Sn(x.children),removedUids:Sn(I),operation:"remove"}),n.dir.removeChildFromFile(b,I),n.hooks.afterBufferChanged.emit({docType:"file",docName:x.name,docUid:b,uids:Sn(x.children),removedUids:Sn(I),operation:"remove"})),n.hooks.removeFromDoc.emit({docUid:b,sourceUids:I})}},d=function(c){var f,m,_=n.statusStore.get(c.modifiedUid);_&&Bt(f=fc(m=_.ownerFiles.children).call(m)).call(f,function(S){var y=n.dir.getFileByUid(S);y&&(n.hooks.beforeBufferChanged.emit({uids:Sn(y.children),modifiedUid:c.modifiedUid,operation:"modify"}),n.hooks.afterBufferChanged.emit({docType:"file",docName:y.name,docUid:S,uids:Sn(y.children),modifiedUid:c.modifiedUid,operation:"modify"}))})};o.loadSource.on(s),o.removeSource.on(u),o.updateSource.on(d),o.destroy.on(function(){o.loadSource.off(s),o.removeSource.off(u),o.updateSource.off(d)})}}]),r}(),Ice=function(){function r(){An(this,r)}return Pn(r,[{key:"apply",value:function(n){var o=n.hooks;n.metadataStore=new D0;var s=function(c){var f=c.data;Bt(f).call(f,function(m){var _=m.metadata;_||(_={width:void 0,height:void 0}),n.metadataStore.set(m.uid,_)})},u=function(c){var f=c.removedUids;Bt(f).call(f,function(m){n.metadataStore.remove(m)})},d=function(c){var f=c.data.metadata;f&&n.metadataStore.update(c.modifiedUid,f)};o.loadSource.on(s),o.removeSource.on(u),o.updateSource.on(d),o.destroy.on(function(){o.loadSource.off(s),o.removeSource.off(u),o.updateSource.off(d)})}}]),r}(),wce=function(){function r(n){An(this,r),ct(this,"uid",null),ct(this,"minData",null),ct(this,"oriData",null),ct(this,"customData",{}),ct(this,"activeOri",!1),ct(this,"activeMin",!1),ct(this,"minTask",null),ct(this,"oriTask",null),ct(this,"load",!1),ct(this,"preload",[]),ct(this,"visible",[]),ct(this,"overlays",[]),ct(this,"img",null),ct(this,"minImg",null),ct(this,"imageScale",1),ct(this,"owners",[]),ct(this,"oriType",null),ct(this,"minType",null),ct(this,"metadata",null),ct(this,"realTimeWidth",0),ct(this,"realTimeHeight",0),ct(this,"isFromFile",!1),ct(this,"isCached",!1),ct(this,"isDestroyed",!1),ct(this,"isLoading",!1),ct(this,"isMinLoading",!1),ct(this,"isSaving",!1),ct(this,"annotations",void 0),ct(this,"ownerFiles",new gg({children:[]})),ct(this,"ownerTags",new gg({children:[]})),ct(this,"ownerDefaultFile",void 0),ct(this,"operations",[]),ct(this,"useFillColor",!1),this.uid=n.uid,this.metadata=Sf({},n.metadata),this.setRealTimeSize(this.metadata.width,this.metadata.height)}return Pn(r,[{key:"setRealTimeSize",value:function(n,o){this.realTimeWidth=n,this.realTimeHeight=o}},{key:"destroy",value:function(){this.isDestroyed||(this.customData=null,this.img=null,this.owners=null,this.metadata=null,this.isDestroyed=!0)}},{key:"addOwner",value:function(n){var o=this.owners;di(o).call(o,n)<0&&o.push(n)}},{key:"removeOwner",value:function(n){var o=this.owners,s=di(o).call(o,n);s>-1&&fi(o).call(o,s,1)}},{key:"removeViewer",value:function(n){var o=this.owners,s=di(o).call(o,n);s>-1&&fi(o).call(o,s,1)}},{key:"setVisible",value:function(n){var o;di(o=this.visible).call(o,n)<0&&this.visible.push(n)}},{key:"cancelVisible",value:function(n){var o,s,u=di(o=this.visible).call(o,n);u>-1&&fi(s=this.visible).call(s,u,1)}},{key:"setPreload",value:function(n){var o;di(o=this.preload).call(o,n)<0&&this.preload.push(n)}},{key:"cancelPreload",value:function(n){var o,s,u=di(o=this.preload).call(o,n);u>-1&&fi(s=this.preload).call(s,u,1)}},{key:"reset",value:function(){this.minData=null,this.oriData=null,this.img=null,this.activeOri=!1,this.activeMin=!1,this.minTask=null,this.oriTask=null,this.operations=[]}}]),r}(),Ece=function(){function r(){An(this,r)}return Pn(r,[{key:"apply",value:function(n){var o=n.hooks;n.statusStore=new D0;var s=function(_){var S=_.data;_.filename,_.index,Bt(S).call(S,function(y){var b=new wce(y);n.statusStore.set(y.uid,b)})},u=function(_){var S=_.removedUids;Bt(S).call(S,function(y){var b,I,x=n.statusStore.get(y);x&&(k0(x.minData),k0(x.oriData),x.ownerFiles.clear(),x.ownerTags.clear(),x.ownerDefaultFile=!1,(b=x.img)!==null&&b!==void 0&&b.src&&(x.img.src=""),(I=x.minImg)!==null&&I!==void 0&&I.src&&(x.minImg.src=""),x.img=null,x.minImg=null),n.statusStore.remove(y)})},d=function(_){var S=_.modifiedUid,y=_.data,b=_.revoke,I=n.statusStore.get(S);if(I){I.img=null,I.minImg=null;var x=y.metadata;x&&(I.metadata=Sf({},x),I.setRealTimeSize(x.width,x.height)),b&&(k0(I.oriData),k0(I.minData)),I.reset(),n.statusStore.update(S,I)}},c=function(_){var S;Bt(S=_.children).call(S,function(y){var b=n.statusStore.get(y);b&&(_.type==="file"?b.ownerFiles.remove(_.uid):_.type==="tag"&&b.ownerTags.remove(_.uid))})},f=function(_){var S=_.docUid,y=_.sourceUids,b=_.type;Bt(y).call(y,function(I){var x=n.statusStore.get(I);x&&(b==="file"?x.ownerFiles.append(S):b==="tag"?x.ownerTags.append(S):b==="default"&&(x.ownerDefaultFile=!0))})},m=function(_){var S=_.docUid,y=_.sourceUids,b=_.type;Bt(y).call(y,function(I){var x=n.statusStore.get(I);x&&(b==="file"?x.ownerFiles.remove(S):b==="tag"?x.ownerTags.remove(S):b==="default"&&(x.ownerDefaultFile=!0))})};o.loadSource.on(s),o.afterRemoveSource.on(u),o.updateSource.on(d),o.removeDoc.on(c),o.loadToDoc.on(f),o.removeFromDoc.on(m),o.destroy.on(function(){o.loadSource.off(s),o.afterRemoveSource.off(u),o.updateSource.off(d),o.removeDoc.off(c),o.loadToDoc.off(f),o.removeFromDoc.off(m)})}}]),r}(),xce=function(){function r(){An(this,r)}return Pn(r,[{key:"apply",value:function(n){var o=n.hooks;n.store=new lU("space_db","space_doc");var s=function(c){var f=c.data;f&&Bt(f).call(f,function(m){n.store.set(m.uid,m)})},u=function(c){var f;Bt(f=c.removedUids).call(f,function(m){n.store.remove(m)})},d=function(c){n.store.update(c.modifiedUid,c.data)};o.loadSource.on(s),o.removeSource.on(u),o.updateSource.on(d),o.destroy.on(function(){o.loadSource.off(s),o.removeSource.off(u),o.updateSource.off(d)})}}]),r}(),Ace=function(){function r(){An(this,r)}return Pn(r,[{key:"apply",value:function(n){n.tag=new _ce,this.listenSpaceHooks(n),this.listenTagHooks(n)}},{key:"listenTagHooks",value:function(n){var o=n.tag.hooks,s=function(d){var c;Bt(c=d.children).call(c,function(f){var m=n.statusStore.get(f);m&&m.ownerFiles.remove(d.uid)}),n.hooks.removeDoc.emit(d)},u=function(d){n.hooks.renameDoc.emit(d)};o.beforeRemoveTag.on(s),o.afterRenameTag.on(u),o.destroy.on(function(){o.beforeRemoveTag.off(s),o.afterRenameTag.off(u)})}},{key:"listenSpaceHooks",value:function(n){var o=n.hooks,s=function(S){var y=S.data,b=n.tag.defaultName;Bt(y).call(y,function(I){var x;I.tags||(I.tags=[]),b&&di(x=I.tags).call(x,b)<0&&I.tags.push(b)})},u=function(S){var y=S.data;Bt(y).call(y,function(b){var I;(I=b.tags)===null||I===void 0||Bt(I).call(I,function(x){var P=n.tag.getTag(x);n.hooks.beforeBufferChanged.emit({uids:Sn((P==null?void 0:P.children)||[]),operation:"add"}),n.tag.appendChildToTag(x,b.uid);var L=n.tag.getTag(x),$={docUid:L.uid,sourceUids:[b.uid],type:"tag"};n.hooks.loadToDoc.emit($),n.hooks.afterBufferChanged.emit({docType:"tag",docName:x,docUid:L==null?void 0:L.uid,uids:Sn((L==null?void 0:L.children)||[]),operation:"add"})})})},d=function(S){var y=S.removedUids,b={};Bt(y).call(y,function(q){var Q,J,re=n.statusStore.get(q);re&&Bt(Q=fc(J=re.ownerTags.children).call(J)).call(Q,function(H){b[H]||(b[H]=[]),b[H].push(q)})});for(var I=0,x=E0(b);I<x.length;I++){var P=cf(x[I],2),L=P[0],$=P[1],te=n.tag.getTagByUid(L);te&&(n.hooks.beforeBufferChanged.emit({uids:Sn(te.children),removedUids:Sn($),operation:"remove"}),n.tag.removeChildFromTag(te.name,$),n.hooks.afterBufferChanged.emit({docType:"tag",docName:te.name,docUid:L,uids:Sn(te.children),removedUids:Sn($),operation:"remove"})),n.hooks.removeFromDoc.emit({docUid:L,sourceUids:$,type:"tag"})}},c=function(S){S.type!=="tag"&&d({removedUids:S.children})},f=function(S){var y=S.docUid,b=S.sourceUids;if(S.type==="tag"){var I=n.tag.getTagByUid(y);I&&Bt(b).call(b,function(){var x=yL(l0.mark(function P(L){var $,te;return l0.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.prev=0,q.next=3,n.store.get(L);case 3:if(te=q.sent,q.t0=te&&di($=te.tags).call($,I.name)<0,!q.t0){q.next=9;break}return te.tags.push(I.name),q.next=9,n.store.update(L,te);case 9:q.next=14;break;case 11:q.prev=11,q.t1=q.catch(0);case 14:case"end":return q.stop()}},P,null,[[0,11]])}));return function(P){return x.apply(this,arguments)}}())}},m=function(S){var y=S.docUid,b=S.sourceUids;if(S.type==="tag"){var I=n.tag.getTagByUid(y);I&&Bt(b).call(b,function(){var x=yL(l0.mark(function P(L){var $,te,q,Q;return l0.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.prev=0,J.next=3,n.store.get(L);case 3:if(!($=J.sent)){J.next=9;break}return(Q=di(te=$.tags).call(te,I.name))>-1&&fi(q=$.tags).call(q,Q,1),J.next=9,n.store.update(L,$);case 9:J.next=14;break;case 11:J.prev=11,J.t0=J.catch(0);case 14:case"end":return J.stop()}},P,null,[[0,11]])}));return function(P){return x.apply(this,arguments)}}())}},_=function(S){var y,b,I=n.statusStore.get(S.modifiedUid);I&&Bt(y=fc(b=I.ownerTags.children).call(b)).call(y,function(x){var P=n.tag.getTagByUid(x);P&&(n.hooks.beforeBufferChanged.emit({uids:Sn(P.children),modifiedUid:S.modifiedUid,operation:"modify"}),n.hooks.afterBufferChanged.emit({docType:"tag",docName:P.name,docUid:x,uids:Sn(P.children),modifiedUid:S.modifiedUid,operation:"modify"}))})};o.beforeLoadSource.on(s),o.loadSource.on(u),o.removeSource.on(d),o.removeDoc.on(c),o.loadToDoc.on(f),o.removeFromDoc.on(m),o.updateSource.on(_),o.destroy.on(function(){o.beforeLoadSource.off(s),o.loadSource.off(u),o.removeSource.off(d),o.removeDoc.off(c),o.loadToDoc.off(f),o.removeFromDoc.off(m),o.updateSource.off(_)})}}]),r}(),Pce=function(r){s0(o,r);var n=P0(o);function o(){var s;return An(this,o),ct(qr(s=n.call(this)),"uid",pc()),ct(qr(s),"hooks",{init:lr.create(),destroy:lr.create(),beforeLoadSource:lr.create(),loadSource:lr.create(),afterLoadSource:lr.create(),beforeRemoveSource:lr.create(),removeSource:lr.create(),afterRemoveSource:lr.create(),beforeUpdateSource:lr.create(),updateSource:lr.create(),afterUpdateSource:lr.create(),beforeBufferChanged:lr.create(),afterBufferChanged:lr.create(),directoryChanged:lr.create(),tagChanged:lr.create(),openDoc:lr.create(),loadToDoc:lr.create(),removeFromDoc:lr.create(),removeDoc:lr.create(),renameDoc:lr.create(),move:lr.create(),afterMove:lr.create(),switch:lr.create(),afterSwitch:lr.create(),reorder:lr.create(),afterReorder:lr.create()}),ct(qr(s),"dir",void 0),ct(qr(s),"tag",void 0),ct(qr(s),"store",void 0),ct(qr(s),"customStore",void 0),ct(qr(s),"metadataStore",void 0),ct(qr(s),"statusStore",void 0),ct(qr(s),"defaultFile",void 0),ct(qr(s),"plugins",[]),ct(qr(s),"imageLoader",void 0),s.initPlugins(),s.hooks.init.emit(),s}return Pn(o,[{key:"destroy",value:function(){this.hooks.destroy.emit()}},{key:"initPlugins",value:function(){new xce().apply(this),new Ece().apply(this),new Sce().apply(this),new Ice().apply(this),new yce().apply(this),new Tce().apply(this),new Cce().apply(this),new Ace().apply(this)}},{key:"setImageLoader",value:function(s){this.imageLoader=s}},{key:"getCustomData",value:function(s){return this.customStore.get(s)}},{key:"setCustomData",value:function(s,u){return this.customStore.set(s,u)}},{key:"getMetadata",value:function(s){return this.metadataStore.get(s)}},{key:"setMetadata",value:function(s,u){return this.metadataStore.set(s,u)}},{key:"createStore",value:function(s){var u=s.type,d=u===void 0?"sync":u,c=s.tableName,f=s.dbName;return d==="sync"?new D0:f&&c?new lU(f,c):null}},{key:"loadSource",value:function(s,u){if(hi(s))return[];var d=s.data;if(!hc(d))return[];var c=[];return Bt(d).call(d,function(f){f.uid=pc(),c.push(f.uid)}),Fl(u)&&u(c),this.hooks.beforeLoadSource.emit(s),this.hooks.loadSource.emit(s),this.hooks.afterLoadSource.emit(s),c}},{key:"removeSource",value:function(s){var u=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];Zr(s)&&(s=[s]);var d={removedUids:s,docUid:"",trigger:this.uid,operation:"remove"};return this.hooks.beforeRemoveSource.emit(d),this.hooks.removeSource.emit(d),u&&this.hooks.afterRemoveSource.emit(d),!0}},{key:"updateSource",value:function(s,u){var d={modifiedUid:s,data:u,revoke:!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],operation:"modify"};return this.hooks.beforeUpdateSource.emit(d),this.hooks.updateSource.emit(d),this.hooks.afterUpdateSource.emit(d),!0}},{key:"getSource",value:function(s){return this.store.get(s)}},{key:"openDefault",value:function(s){var u={node:this.defaultFile,type:"default",config:s};this.hooks.openDoc.emit(u)}},{key:"createFile",value:function(s){return this.dir.createFile(s)}},{key:"removeFile",value:function(s){return this.dir.removeFile(s)}},{key:"renameFile",value:function(s,u){return this.dir.renameFile(s,u)}},{key:"openFile",value:function(s,u){var d=this.getFile(s);if(!d)return!1;var c={node:d,type:"file",config:u};return this.hooks.openDoc.emit(c),!0}},{key:"movePagesToFile",value:function(s,u,d,c){var f=this,m=this.getFile(s),_=this.getFile(d);if(!m||!_)return!1;for(var S=0;S<u.length;S++)if(u[S]<0||u[S]>=m.children.length)return!1;if(c<0)return!1;var y=cg(u).call(u,function(x){return m.children[x]});Bt(y).call(y,function(x){var P=f.statusStore.get(x);P&&P.ownerFiles.remove(m.uid)}),this.dir.removeChildFromFile(m.uid,y),this.hooks.removeFromDoc.emit({docUid:m.uid,sourceUids:y}),c>_.children.length&&(c=_.children.length);var b=this.dir.appendChildrenToFile(d,y,c),I={docUid:b.uid,sourceUids:y,type:"file",index:c,isSameDoc:s===d};return Bt(y).call(y,function(x){var P=f.statusStore.get(x);P&&P.ownerFiles.append(b.uid)}),this.hooks.loadToDoc.emit(I),!0}},{key:"getFile",value:function(s){return this.dir.getFile(s)}},{key:"getFileList",value:function(){return this.dir.getCurrentFileList()}},{key:"isFileExisted",value:function(s){return this.dir.isFileExist(s)}},{key:"createTag",value:function(s){return this.tag.createTag(s)}},{key:"removeTag",value:function(s){for(var u=this.getTag(s).children||[],d=0;d<u.length;d++)this.store.get(u[d]).then(function(c){var f,m,_=di(f=(c==null?void 0:c.tags)||[]).call(f,s);_!==-1&&fi(m=c.tags).call(m,_,1)});return this.tag.removeTag(s)}},{key:"renameTag",value:function(s,u){var d=this.getTag(s).children||[],c=this.tag.renameTag(s,u);if(c)for(var f=0;f<d.length;f++)this.store.get(d[f]).then(function(m){var _,S,y=di(_=(m==null?void 0:m.tags)||[]).call(_,s);y!==-1&&fi(S=m.tags).call(S,y,1,u)});return c}},{key:"openTag",value:function(s,u){var d=this.getTag(s);if(!d)return!1;var c={node:d,type:"tag",config:u};return this.hooks.openDoc.emit(c),!0}},{key:"getTag",value:function(s){return this.tag.getTag(s)}},{key:"getTagList",value:function(){return this.tag.getTagList()}},{key:"setDefaultTag",value:function(s){return this.tag.setDefaultTag(s)}},{key:"getDefaultTag",value:function(){return this.tag.getDefaultTag()}},{key:"isTagExisted",value:function(s){return this.tag.isTagExisted(s)}},{key:"addTagToSource",value:function(s,u){if(this.statusStore.get(s)){Zr(u)&&(u=[u]);for(var d=0;d<u.length;d++)if(!this.addSourceToTag(u[d],s))return!1;return!0}return!1}},{key:"removeTagFromSource",value:function(s,u){if(this.statusStore.get(s)){var d;hi(u)?u=cg(d=this.tag.tags).call(d,function(f){return f.name}):Zr(u)&&(u=[u]);for(var c=0;c<u.length;c++)if(!this.removeSourceFromTag(u[c],s))return!1;return!0}return!1}},{key:"addSourceToTag",value:function(s,u){var d=this.tag.getTag(s);if(d&&this.tag.appendChildToTag(s,u)){Zr(u)&&(u=[u]);for(var c=0;c<u.length;c++)this.store.get(u[c]).then(function(m){var _;tse(_=m.tags).call(_,s)||m.tags.push(s)});var f={sourceUids:u,docUid:d.uid,type:"tag"};return this.hooks.loadToDoc.emit(f),!0}return!1}},{key:"removeSourceFromTag",value:function(s,u){var d=this.tag.getTag(s);if(d){this.tag.removeChildFromTag(s,u),Zr(u)&&(u=[u]);for(var c=0;c<u.length;c++)this.store.get(u[c]).then(function(m){var _,S,y=di(_=(m==null?void 0:m.tags)||[]).call(_,s);y!==-1&&fi(S=m.tags).call(S,y,1)});var f={docUid:d.uid,sourceUids:u,type:"tag"};return this.hooks.removeFromDoc.emit(f),!0}return!1}},{key:"getSourceTags",value:function(s){var u,d=this,c=this.statusStore.get(s);return c?cg(u=c.ownerTags.children).call(u,function(f){return d.tag.getTagByUid(f).name}):[]}},{key:"switch",value:function(s){var u=s.one,d=s.other,c=s.type,f=s.docUid,m=s.emit,_=this.getDocNode(f,c);if(_){if(_.switch(u,d),m||hi(m)){var S={one:u,other:d,docUid:f,type:_.type,trigger:this.uid,operation:"shift"};this.hooks.switch.emit(S)}return!0}return!1}},{key:"move",value:function(s){var u=s.from,d=s.to,c=s.type,f=s.docUid,m=s.emit,_=this.getDocNode(f,c);if(_){if(_.move(u,d),m||hi(m)){var S={from:u,to:d,docUid:f,type:_.type,trigger:this.uid,operation:"shift"};this.hooks.move.emit(S)}return!0}return!1}},{key:"reorder",value:function(s){var u=s.indexes,d=s.type,c=s.docUid,f=s.emit,m=this.getDocNode(c,d);if(m&&(m.reorder(u),f||hi(f))){var _={indexes:u,docUid:c,type:m.type,trigger:this.uid,operation:"shift"};this.hooks.move.emit(_)}}},{key:"getDocNode",value:function(s,u){switch(u){case"default":return this.defaultFile;case"file":return this.dir.getFileByUid(s);case"tag":return this.tag.getTagByUid(s);default:return s===this.defaultFile.uid?this.defaultFile:this.tag.getTagByUid(s)||this.dir.getFileByUid(s)||null}}}]),o}(cU),kce={Successful:{errorCode:0,errorString:"Successful."},InvalidIndex:{errorCode:-1033,errorString:"Invalid index."},InvalidValue:{errorCode:-1034,errorString:"Invalid value."},NoImage:{errorCode:-1035,errorString:"There is no image."},UnBindViewer:{errorCode:-2210,errorString:"You cannot call this method on this WebTwain instance because it does not use the default viewer."},AlReadyBindViewer:{errorCode:-2211,errorString:"The element is already bound to the viewer."},ParameterCannotEmpty:{errorCode:-2314,errorString:"The parameter cannot be empty."},IndicesNotArray:{errorCode:-2358,errorString:"The type of the parameter indices must be an Array."},IndexOutOfRange:{errorCode:-2359,errorString:"The index is out of range."},InvalidTagName:{errorCode:-2394,errorString:"Invalid tag name."},InvalidLeftOrTopOrRightOrBottom:{errorCode:-2417,errorString:"The left or top or right or bottom you entered is invalid."},InvalidWidth:{errorCode:-2418,errorString:"The width you entered is invalid."},InvalidHeight:{errorCode:-2419,errorString:"The height you entered is invalid."},WidthOrHeightOutOfImageSize:{errorCode:-2420,errorString:"The width or height is out of image size."},MobileServer_InvalidIndex:{errorCode:-2423,errorString:"The index is invalid."},ImageEditorExist:{errorCode:-2500,errorString:"An ImageEditor already exists."},ThumbnailViewerExist:{errorCode:-2501,errorString:"A ThumbnailViewer already exists."},CustomElementExist:{errorCode:-2502,errorString:"A CustomElement already exists."},ImageEditorDispose:{errorCode:-2504,errorString:"The ImageEditor object has been disposed."},ThumbnailViewerNotExist:{errorCode:-2505,errorString:"This ThumbnailViewer doesn't exist."},ThumbnailViewerDispose:{errorCode:-2506,errorString:"The ThumbnailViewer object has been disposed."},CallbackNotAFunction:{errorCode:-2510,errorString:"The callback is not a function."},ElementRequired:{errorCode:-2511,errorString:"Parameter 'element' is required."},ElementNotExist:{errorCode:-2512,errorString:"Parameter 'element' doesn't instanceof HTMLDivElement."},InvalidPropertyValue:{errorCode:-2514,errorString:"Invalid property value."},CursorInvalidMode:{errorCode:-2519,errorString:"The current mode does not support setting the cursor to zoom."},OldTagNameRequired:{errorCode:-2517,errorString:"Old tag name is required."},NewTagNameRequired:{errorCode:-2518,errorString:"New tag name is required."},FileNameCannotEmpty:{errorCode:-2530,errorString:"Document name cannot be empty."},FileNameNotString:{errorCode:-2531,errorString:"Document name is not a string."},FileNotExist:{errorCode:-2540,errorString:"The document does not exist."},FileExist:{errorCode:-2541,errorString:"The document already exists."},CustomElementDispose:{errorCode:-2508,errorString:"The CustomElement object has been disposed."},CustomElementNotExist:{errorCode:-2507,errorString:"This CustomElement doesn't exist."},ParameterOutRange:{errorCode:80002,errorString:"The parameter is out of range."},TagNotExist:{errorCode:80009,errorString:"Tag does not exist."},TagExist:{errorCode:80010,errorString:"The tag already exists."},OperationError:{errorCode:80022,errorString:"The operation mode is wrong."}};(R0=hU||(hU={}))[R0.Normal=0]="Normal",R0[R0.Balance=1]="Balance";var Dce=function(){function r(n){var o=this;An(this,r),ct(this,"space",void 0),ct(this,"webViewer",void 0),ct(this,"isActiveFile",!1),ct(this,"isActiveTag",!1),ct(this,"currentFileName",""),ct(this,"currentTagName",""),ct(this,"bufferConfig",null),ct(this,"currentSelected",[]),ct(this,"lastCurrentSelected",[]),this.space=new Pce,n&&(this.bufferConfig=n),this.space.on("bufferChanged",function(s,u){var d;if(!o.webViewer&&Fl((d=o.bufferConfig)===null||d===void 0?void 0:d.bufferChanged)){var c,f,m,_,S,y,b=[],I=[],x=o.getCurrentDataSet().children;Bt(c=o.currentSelected).call(c,function(L){x&&x[L]&&b.push(x[L])}),Bt(f=o.lastCurrentSelected).call(f,function(L){x&&x[L]&&I.push(x[L])});var P={afterStatus:{uids:s.afterStatus.uids,selectedUids:b,modifiedUid:(s==null||(m=s.afterStatus)===null||m===void 0?void 0:m.modifiedUid)||"",removedUids:(s==null||(_=s.afterStatus)===null||_===void 0?void 0:_.removedUids)||[],currentUid:s.afterStatus.uids[s.afterStatus.uids.length-1]||""},beforeStatus:{uids:s.beforeStatus.uids,selectedUids:I,removedUids:(s==null||(S=s.beforeStatus)===null||S===void 0?void 0:S.removedUids)||[],modifiedUid:(s==null||(y=s.beforeStatus)===null||y===void 0?void 0:y.modifiedUid)||"",currentUid:s.beforeStatus.uids[s.beforeStatus.uids.length-1]||""},operation:s.operation,docUid:s.docUid,total:s.afterStatus.uids.length,curIndex:s.afterStatus.uids.length-1};o.lastCurrentSelected=Sn(o.currentSelected),o.bufferConfig.bufferChanged(P,u)}})}return Pn(r,[{key:"e",value:function(){this.setError("Successful")}},{key:"IsFileNameExist",value:function(n){var o=this.space.getFileList();if(n==="dynamsoft-default-document")return!0;if(o){for(var s=0;s<o.length;s++)if(o[s].name===n)return!0}return!1}},{key:"getCurrentDataSet",value:function(){if(this.webViewer){var n=this.webViewer.myViewer.getCurrentTab();if(n===void 0)return!1;var o=n.type;this.isActiveFile=o==="file",this.isActiveTag=o==="tag"}if(this.isActiveFile){var s=this.getCurrentFileName(),u=this.space.getFile(s);if(u)return u}if(this.isActiveTag){var d=this.space.getTag(this.currentTagName);if(d)return d}return!1}},{key:"setError",value:function(n){var o;if(n!=="Default"){if(this.webViewer)this.webViewer.setError(n);else if(this.bufferConfig&&this.bufferConfig.viewerError){var s=kce[n],u=s.errorCode,d=s.errorString;this.bufferConfig.viewerError.setError(u,d)}}else this==null||(o=this.webViewer)===null||o===void 0||o.setDefaultError()}},{key:"emitViewerEvent",value:function(){var n,o;this.webViewer&&this.getHowManyImagesInBuffer()===0&&((n=this.webViewer)===null||n===void 0||(o=n.myViewer)===null||o===void 0||o.emit("pageRendered",-1))}},{key:"bindViewer",value:function(n){this.webViewer=n}},{key:"getCurrentTag",value:function(){return this.currentTagName}},{key:"getCurrentDocument",value:function(){return this.currentFileName}},{key:"getCurrentFileName",value:function(){var n=this,o=this.space.getFileList(),s="";return o&&Bt(o).call(o,function(u){u.name===n.currentFileName&&(s=n.currentFileName)}),s}},{key:"getCurrentIndex",value:function(){if(this.webViewer)return this.webViewer.getCurrentIndex();var n=this.getSelectedImagesIndices().length;if(n<=0){var o=this.getCurrentDataSet();return!!o&&o.children.length-1}return this.getSelectedImagesIndices()[n-1]}},{key:"getHowManyImagesInBuffer",value:function(){if(this.webViewer)return this.webViewer.getHowManyImagesInBuffer();var n=this.getCurrentDataSet();return n?n.children.length:0}},{key:"getSelectedImagesIndices",value:function(){return this.webViewer?this.webViewer.getSelectedImagesIndices():this.currentSelected}},{key:"getIndexByUid",value:function(n){if(!Zr(n)||!n)return this.setError("InvalidValue"),!1;if(this.webViewer)return this.webViewer.myViewer.getIndexByUid(n);var o=this.getCurrentDataSet(),s=o.children;return!!(o&&s&&hc(s))&&di(s).call(s,n)}},{key:"getUidByIndex",value:function(n){if(n<0||n>=this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;if(this.webViewer)return this.webViewer.myViewer.getUidByIndex(n);var o=this.getCurrentDataSet().children;return!(o&&o.length<n)&&o[n]}},{key:"getDataByUid",value:function(n){return this.space.getSource(n)}},{key:"updateDataByUid",value:function(n,o){return this.space.store.set(n,o)}},{key:"setCustomDataByUid",value:function(n,o){return Zr(n)&&n!==""?this.space.setCustomData(n,o):(this.setError("InvalidValue"),!1)}},{key:"getCustomDataByUid",value:function(n){return this.space.getCustomData(n)}},{key:"setMetadataByUid",value:function(n,o){return Zr(n)&&n!==""?this.space.setMetadata(n,o):(this.setError("InvalidValue"),!1)}},{key:"getMetadataByUid",value:function(n){return this.space.getMetadata(n)}},{key:"addImage",value:function(n,o,s){var u,d,c={},f=this.currentFileName,m="";!hi(s)&&Zr(s)?(this.IsFileNameExist(s)||this.createDocument(s),m=s):hi(f)||f===""?(this.space.isFileExisted("dynamsoft-default-document")||this.createDocument("dynamsoft-default-document"),this.webViewer&&(this.webViewer.bEmitBufferChanged=!1),this.openDocument("dynamsoft-default-document"),this.webViewer&&(this.webViewer.bEmitBufferChanged=!0),m="dynamsoft-default-document"):m=f,o&&(delete(d=Sf({},o)).oriBlobData,o.oriBlobData&&(u=o.oriBlobData));var _=n.imageUrl,S=n.minImageUrl,y=n.imageId,b=n.serverId,I=n.uidFromServer,x=n.index;u&&(c=Sf({},u)),y&&(c.imageId=y),b&&(c.serverId=b),I&&(c.uidFromServer=I);var P=this.getDocumentContents(m).length;!hi(x)&&Rl(x)?x>=P&&(x=P):x=P,this.isActiveFile&&(this.currentSelected=[x]);var L=this.space.loadSource({data:[{oriData:_,minData:S,metadata:d,customData:c}],filename:m,index:x},function(te){var q=cf(te,1)[0];n.uuid=q}),$=this.getHowManyImagesInBuffer();return this.isActiveTag&&(this.currentSelected=$>0?[$-1]:[]),L}},{key:"insertImage",value:function(n,o,s){var u;if(s&&s>=0)this.currentSelected=[s],u=this.space.loadSource({data:[n],filename:o,index:s});else{u=this.space.loadSource({data:[n],filename:o});var d=this.getHowManyImagesInBuffer();this.currentSelected=d>0?[d-1]:[]}return u[0]}},{key:"updateImage",value:function(n,o){var s=n.imageUrl,u=n.minImageUrl,d=n.imageId,c=n.serverId,f=n.uidFromServer,m=n.uuid,_=Sf({},o);return m&&m!==""&&m!==-1?(this.space.updateSource(m,{oriData:s,minData:u,metadata:_,customData:{imageId:d,serverId:c,uidFromServer:f}}),m):(this.setError("IndexOutOfRange"),!1)}},{key:"removeImageByUid",value:function(n){if(this.e(),this.webViewer){var o=this.webViewer.removePageByUid(n);return this.webViewer.resized(),this.emitViewerEvent(),o}return this.space.removeSource(n)}},{key:"removeImageByIndex",value:function(n){if(this.e(),n<0||n>=this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;var o=this.getCurrentIndex(),s=!1;if(this.currentSelected=n===o&&n===0?this.getHowManyImagesInBuffer()>0?[0]:[]:n<=o?[o-1]:[o],this.webViewer)s=this.webViewer.removePageByIndexes(n),this.webViewer.resized(),this.emitViewerEvent();else{var u=this.getCurrentDataSet();if(!u)return!1;s=this.space.removeSource(u.children[n])}return s||this.setError("Default"),s}},{key:"removeSelectedImages",value:function(n){this.e();var o=this.getSelectedImagesIndices();hc(n)&&n.length>0&&(o=n);var s=!1;if(this.webViewer)s=this.webViewer.removePageByIndexes(o),this.webViewer.resized(),this.emitViewerEvent();else{var u=[],d=this.getCurrentDataSet();if(!d)return!1;Bt(o).call(o,function(f){d.children[f]&&d.children[f]&&u.push(d.children[f])}),s=this.space.removeSource(u)}s||this.setError("Default");var c=this.getHowManyImagesInBuffer();return this.currentSelected=c>0?[c-1]:[],s}},{key:"removeImageByIndexArr",value:function(n){if(this.e(),!hc(n))return!1;var o=this.getCurrentDataSet();if(!o)return!1;var s,u=[];Bt(n).call(n,function(c){var f=o.children[c];f&&u.push(f)}),(s=this.space.removeSource(u))||this.setError("Default"),this.webViewer&&(this.webViewer.resized(),this.emitViewerEvent());var d=this.getHowManyImagesInBuffer();return this.currentSelected=d>0?[d-1]:[],s}},{key:"removeAllImages",value:function(){this.e();var n=!1;if(this.currentSelected=[],this.webViewer)n=this.webViewer.removeAllPages(),this.webViewer.resized(),this.emitViewerEvent();else{var o=this.getCurrentDataSet();o&&(n=this.space.removeSource(Sn(o.children)))}return n||this.setError("Default"),n}},{key:"tagImages",value:function(n,o){this.e();var s=this.getHowManyImagesInBuffer();if(!hc(n))return this.setError("IndicesNotArray"),!1;if(!Zr(o)||o==="")return this.setError("InvalidTagName"),!1;for(var u=0;u<s;u++){var d=n[u];if(lf(d)||d<0||d>=s)return this.setError("IndexOutOfRange"),!1}this.space.createTag(o);for(var c=0;c<n.length;c++){var f=n[c];if(f>=0){var m=this.getUidByIndex(f);m&&m!==""&&dg(m,10)!==-1&&this.space.addTagToSource(m,o)}}return!0}},{key:"removeImageTag",value:function(n,o){if(this.e(),!Rl(n))return this.setError("InvalidValue"),!1;if(n<0||n>this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;var s=this.getUidByIndex(n),u=!1;return s&&s!==""&&s!==-1&&(u=this.space.removeTagFromSource(s,o)),u||this.setError("Default"),u}},{key:"getDefaultTag",value:function(){return this.space.getDefaultTag()}},{key:"setDefaultTag",value:function(n){if(this.e(),!Zr(n))return this.setError("InvalidValue"),!1;if(n==="")return this.space.setDefaultTag(null),!0;var o;return this.space.createTag(n),(o=this.space.setDefaultTag(n))||this.setError("Default"),o}},{key:"removeTag",value:function(n,o){var s=this;if(this.e(),!Zr(n))return this.setError("InvalidValue"),!1;if(!hi(o)&&!hc(o))return this.setError("IndicesNotArray"),!1;if(!this.space.isTagExisted(n))return this.setError("TagNotExist"),!1;var u=this.currentTagName,d=!1,c=!1;if(u&&(d=u===n),hi(o))c=this.space.removeTag(n),d&&this.clearFilter();else{var f=[];Bt(o).call(o,function(_){var S=s.getUidByIndex(_);S!==-1&&f.push(S)});for(var m=0;m<(f==null?void 0:f.length);m++)if(!(c=this.space.removeTagFromSource(f[m],n)))return!1}return c||this.webViewer.setDefaultError(),c}},{key:"renameTag",value:function(n,o){if(this.e(),hi(n)||n==="")return this.setError("OldTagNameRequired"),!1;if(hi(o)||o==="")return this.setError("NewTagNameRequired"),!1;if(!this.space.isTagExisted(n))return this.setError("TagNotExist"),!1;if(this.space.isTagExisted(o))return this.setError("TagExist"),!1;var s;return n===this.currentTagName&&(this.currentTagName=o),(s=this.space.renameTag(n,o))?this.space.setDefaultTag(o):this.setError("Default"),s}},{key:"getTagContents",value:function(n){return this.e(),n&&Zr(n)&&n!==""?this.space.getTag(n).children:[]}},{key:"getTagList",value:function(){var n=this;this.e();var o=this.space.getTagList(),s=[];return o?Bt(o).call(o,function(u){var d,c=[];Bt(d=u.children).call(d,function(f){var m=n.getCustomDataByUid(f);if(m){var _=m.uidFromServer;c.push(_)}}),s.push({name:u.name,imageIds:c})}):s=[],s}},{key:"getTagListByIndex",value:function(n){if(!Rl(n))return!1;var o=this.getUidByIndex(n);return this.space.getSourceTags(o)}},{key:"clearFilter",value:function(){this.e(),this.currentTagName="";var n,o=this.getCurrentFileName();return o===""&&(o="dynamsoft-default-document"),(n=this.openDocument(o))||this.setError("Default"),n}},{key:"filterImagesByTag",value:function(n,o,s){this.e();var u=!1;if(hi(n)||n===null||n===""){this.currentTagName="";var d=this.getCurrentFileName();d===""&&(d="dynamsoft-default-document"),(u=this.openDocument(d))?Fl(o)&&o():(this.setError("Default"),Fl(s)&&s())}else{var c,f;if(!this.space.isTagExisted(n))return this.setError("TagNotExist"),Fl(s)&&s(),!1;if(this.isActiveTag=!0,this.isActiveFile=!1,this.currentTagName=n,this.setDefaultTag(n),u=this.space.openTag(n,this==null||(c=this.webViewer)===null||c===void 0||(f=c.myViewer)===null||f===void 0?void 0:f.uid)){var m=this.space.getTag(n);if(m){var _,S=(m==null||(_=m.children)===null||_===void 0?void 0:_.length)||0;this.currentSelected=S>0?[S-1]:[]}Fl(o)&&o()}else this.setError("Default"),Fl(s)&&s()}return this.webViewer&&this.webViewer.render(),u}},{key:"createDocument",value:function(n){if(this.e(),!n||n===""){var o=Rl(n)?"FileNameNotString":"FileNameCannotEmpty";return this.setError(o),!1}return Zr(n)?this.space.isFileExisted(n)?(this.setError("FileExist"),!1):!!this.space.createFile(n)||(this.setError("Default"),!1):(this.setError("FileNameNotString"),!1)}},{key:"openDocument",value:function(n,o){var s,u;if(this.e(),!n||n===""){var d=Rl(n)?"FileNameNotString":"FileNameCannotEmpty";return this.setError(d),!1}if(!Zr(n))return this.setError("FileNameNotString"),!1;if(!this.space.isFileExisted(n))return this.setError("FileNotExist"),!1;var c=o&&o!==""?o:this==null||(s=this.webViewer)===null||s===void 0||(u=s.myViewer)===null||u===void 0?void 0:u.uid,f=this.space.getFile(n);if(f){var m,_=f==null||(m=f.children)===null||m===void 0?void 0:m.length;this.currentSelected=_>0?[_-1]:[]}return this.space.openFile(n,{viewerUid:c})?(this.currentFileName=n,this.isActiveFile=!0,this.isActiveTag=!1,!0):(this.setError("Default"),!1)}},{key:"getDocumentContents",value:function(n){return this.e(),n&&Zr(n)&&n!==""?this.space.getFile(n).children:[]}},{key:"renameDocument",value:function(n,o){return this.e(),Zr(n)&&Zr(o)?(n&&n!==""&&o&&o!==""||this.setError("FileNameCannotEmpty"),this.space.isFileExisted(n)?this.space.isFileExisted(o)?(this.setError("FileExist"),!1):this.space.renameFile(n,o)?(this.currentFileName===n&&(this.currentFileName=o),!0):(this.setError("Default"),!1):(this.setError("FileNotExist"),!1)):(this.setError("FileNameNotString"),!1)}},{key:"removeDocument",value:function(n){if(this.e(),!n||!Zr(n))return this.setError("FileNameNotString"),!1;if(!this.space.isFileExisted(n))return this.setError("FileNotExist"),!1;var o=this.space.removeFile(n);return o?(o&&this.webViewer&&this.webViewer.resized(),this.currentFileName===n&&(this.currentFileName=""),!0):(this.setError("Default"),!1)}},{key:"getDocumentInfoList",value:function(){var n=this;this.e();var o=this.space.getFileList(),s=[];return o?(Bt(o).call(o,function(u){if(u.children){for(var d=[],c=0;c<u.children.length;c++){var f=u.children[c],m=n.getCustomDataByUid(f);if(m){var _=m.uidFromServer;d.push(_)}}s.push({imageIds:d,name:u.name})}}),s):[]}},{key:"getDocumentInfo",value:function(n){this.e();var o=this.space.getFile(n);if(!o)return{imageIds:[],length:0};for(var s=[],u=0;u<o.children.length;u++){var d=o.children[u],c=this.getCustomDataByUid(d);if(c){var f=c.uidFromServer;s.push(f)}}return{imageIds:s,length:s.length}}},{key:"selectImages",value:function(n){this.e();var o=!0;if(!n||!hc(n))return!1;if(this.webViewer){var s=this.webViewer.getIfAutoScroll();s===!1&&this.webViewer.setIfAutoScroll(!0),o=this.webViewer.selectPages(n),s===!1&&this.webViewer.setIfAutoScroll(!1)}else{for(var u=this.getHowManyImagesInBuffer(),d=0;d<n.length;d++)if(!Rl(n[d])||n[d]<0||n[d]>=u)return this.setError("ParameterOutRange"),!1;o=!0}return o?this.currentSelected=n:this.setError("Default"),o}},{key:"selectAllImages",value:function(){this.e();var n=!0;if(this.webViewer)n=this.webViewer.myViewer.selectAll(),this.currentSelected=this.webViewer.getSelectedImagesIndices();else{var o,s=this.getCurrentDataSet();this.currentSelected=fse(Sse(o=new Array(s.children.length)).call(o))}return n||this.setError("Default"),n}},{key:"moveImage",value:function(n,o){this.e();var s=dg(n,10),u=dg(o,10);if(lf(n)||lf(o))return this.setError("InvalidIndex"),!1;var d=this.getHowManyImagesInBuffer();if(s<0||s>=d||u<0||u>d)return this.setError("IndexOutOfRange"),!1;var c=!1;if(this.webViewer)c=this.webViewer.myViewer.movePage(n,o);else{var f=this.getCurrentDataSet();if(!f)return!1;f.children.length>o&&(this.currentSelected=[o]),c=this.space.move({docUid:f.uid,type:f.type,from:n,to:o})}return c||this.setError("Default"),c}},{key:"switchImage",value:function(n,o){this.e();var s=dg(n,10),u=dg(o,10);if(lf(n)||lf(o))return this.setError("InvalidIndex"),!1;var d=this.getHowManyImagesInBuffer(),c=this.getCurrentIndex();if(s<0||s>=d||u<0||u>d)return this.setError("IndexOutOfRange"),!1;var f=!1;if(this.webViewer)f=this.webViewer.myViewer.switchPage(n,o);else{var m=this.getCurrentDataSet();if(!m)return!1;f=this.space.switch({docUid:m.uid,type:m.type,one:n,other:o})}f||this.setError("Default");var _=c;return s===c?_=u:u===c&&(_=s),this.currentSelected=[_],f}},{key:"moveImageToFile",value:function(n,o,s,u){if(!this.space.isFileExisted(n)||!this.space.isFileExisted(s))return this.setError("FileNotExist"),!1;o=Sn(new mce(o));var d=this.getDocumentInfo(n).length;if(!hc(o)||o.length>d)return this.setError("ParameterOutRange"),!1;var c=this.getDocumentInfo(s).length,f=this.space.movePagesToFile(n,o,s,u);if(!this.webViewer&&this.isActiveFile){var m=this.getHowManyImagesInBuffer();n===this.currentFileName&&(this.currentSelected=m>0?[m-1]:[]),s===this.currentFileName&&(Rl(u)&&u<c&&u>=0?this.currentSelected=[u+o.length-1]:this.currentSelected=m>0?[m-1]:[])}return f}}]),r}();HTMLCanvasElement.prototype.toBlob||oU(HTMLCanvasElement.prototype,"toBlob",{value:function(r,n,o){for(var s=atob(this.toDataURL(n,o).split(",")[1]),u=s.length,d=new Uint8Array(u),c=0;c<u;c++)d[c]=s.charCodeAt(c);r(new Blob([d],{type:n||"image/png"}))}});var bf=function(r){function n(o){var s;if(h(this,n),s=l(this,n),o)s._baseUrl=o._baseUrl,s._buffer=o._buffer,s._serverIdMap=o._serverIdMap,s._uidMap=o._uidMap;else{var u=s,d={bufferChanged:function(c,f){u.fire("bufferChanged",[c,f])},viewerError:{setError:function(c,f){u._error={code:c,message:f},u.fire("error",u._error)}}};s._baseUrl="",s._buffer=new Dce(d),s._serverIdMap={},s._uidMap={}}return s}return D(n,r),v(n,[{key:"getError",value:function(){return this._error}},{key:"BaseUrl",get:function(){return this._baseUrl}},{key:"getImageUrl",value:function(o){var s=this.convertClientIndexToServerId(o),u=Date.now();return ar.getImageUrl(this._baseUrl,s,-1,-1,u)}},{key:"getMinImageUrl",value:function(o,s,u){var d=this.convertClientIndexToServerId(o),c=Date.now();return d&&s&&u?ar.getImageUrl(this._baseUrl,d,parseInt(s),parseInt(u),c):""}},{key:"append",value:function(o,s,u,d,c){var f,m,_,S,y=Date.now(),b=s,I=u;if(f={imageId:b,serverId:s,uidFromServer:I,imageUrl:_=ar.getImageUrl(this._baseUrl,b,-1,-1,y),minImageUrl:m=d&&d.controlWidth&&d.controlWidth>0&&d.controlHeight&&d.controlHeight>0?U.navInfoSync.bMobile?ar.getImageUrl(this._baseUrl,b,Math.round(d.controlWidth*devicePixelRatio),Math.round(d.controlHeight*devicePixelRatio),y):ar.getImageUrl(this._baseUrl,b,parseInt(d.controlWidth),parseInt(d.controlHeight),y):_},S=d.currentFileName.length>0?this._buffer.addImage(f,d,d.currentFileName):this._buffer.addImage(f,d)){var x=N(S,1)[0],P=this._buffer.getCustomDataByUid(x);return P.serverId=b,P.uidFromServer=I,this._innerInsertModel(b,I,x,_,m),x}return!1}},{key:"insertBefore",value:function(o,s,u,d,c){var f,m,_,S=Date.now(),y=u,b=d;f={index:o,imageId:y,serverId:y,uidFromServer:b,imageUrl:_=ar.getImageUrl(this._baseUrl,y,-1,-1,S),minImageUrl:m=c&&c.controlWidth&&c.controlWidth>0&&c.controlHeight&&c.controlHeight>0?U.navInfoSync.bMobile?ar.getImageUrl(this._baseUrl,y,Math.round(c.controlWidth*devicePixelRatio),Math.round(c.controlHeight*devicePixelRatio),S):ar.getImageUrl(this._baseUrl,y,parseInt(c.controlWidth),parseInt(c.controlHeight),S):_};var I=this._buffer.addImage(f);if(I){var x=N(I,1)[0],P=this._buffer.getCustomDataByUid(x);return P.serverId=y,P.uidFromServer=b,this._innerInsertModel(y,b,x,_,m),this._buffer.openDocument(this.getCurrentFileName()),x}return!1}},{key:"_innerInsertModel",value:function(o,s,u,d,c){var f=new b_;f.serverId=o,f.uidFromServer=s,f.uuid=u,f.imageUrl=d,f.minImageUrl=c,this._serverIdMap[o]=f,this._uidMap[s]=f}},{key:"refresh",value:function(o,s,u,d){var c=1*o;if(u){var f=this.count();if(c<0||c>f)return!1;this._setDataImageControl(c,d)}return!0}},{key:"refreshByImageId",value:function(o,s,u){var d=o;return s&&this._setDataImageControl(d,u,!0),!0}},{key:"_setDataImageControl",value:function(o,s,u){var d,c,f,m,_,S,y=this,b=y._baseUrl;if(u)_=o;else if(_=(m=y.getCustomDataByIndex(o)).serverId,S=m.uidFromServer,_<=0)return!1;if((d=y.getImageIdMap(_))||((d=new b_).serverId=_,d.uidFromServer=S,y._serverIdMap[_]=d,y._uidMap[S]=d),b){d!=null&&(d.ticks=Date.now()),c=ar.getImageUrl(b,_,-1,-1,d.ticks),f=s&&s.controlWidth&&s.controlWidth>0&&s.controlHeight&&s.controlHeight>0?U.navInfoSync.bMobile?ar.getImageUrl(b,_,Math.round(s.controlWidth*devicePixelRatio),Math.round(s.controlHeight*devicePixelRatio),d.ticks):ar.getImageUrl(b,_,parseInt(s.controlWidth),parseInt(s.controlHeight),d.ticks):c,d.imageUrl=c,d.minImageUrl=f,s&&(s.height&&(d.height=s.height),s.width&&(d.width=s.width));var I=p.clone(d);I.imageId=_,y._buffer.updateImage(I,s)}return!0}},{key:"convertIndicesToServerIds",value:function(o){var s,u=o.length,d=[];for(s=0;s<u;s++){var c=this.convertClientIndexToServerId(o[s]);c!=-1&&d.push(c)}return d}},{key:"removeImagesByServerId",value:function(o,s){var u=this,d=s??this._buffer.getCurrentDocument(),c=[];return p.each(o,function(f,m){var _=parseInt(f);u._removeMapModelImageControlByServerId(_);var S=-1;return S=u._buffer.isActiveFile?u._convertServerIdToIndexInFile(d,_):u._convertServerIdToIndex(_),!isNaN(S)&&!(S<0||S>=u.count())&&void c.push(S)}),c.length>0&&u._buffer.removeImageByIndexArr(c)}},{key:"removeByServerId",value:function(o,s,u){var d=this,c=u??this._buffer.getCurrentDocument();d._removeMapModelImageControlByServerId(o);var f=-1;return f=this._buffer.isActiveFile?this._convertServerIdToIndexInFile(c,o):s,!isNaN(f)&&!(f<0||f>=d.count())&&d._buffer.removeImageByIndex(f)}},{key:"exists",value:function(o){if(this._serverIdMap[o])return!0;var s=-1;if(this._buffer.isActiveFile){var u=this.getCurrentFileName();s=this._convertServerIdToIndexInFile(u,o)}else s=this._convertServerIdToIndex(o);return s>-1}},{key:"removeImages",value:function(o){var s,u,d;for(d=o.length,s=0;s<d;s++)u=this.convertClientIndexToServerId(o[s]),this._removeMapModelImageControlByServerId(u);return this._buffer.removeSelectedImages(o)}},{key:"clear",value:function(){var o,s,u,d=this;for(u=d.count(),o=0;o<u;o++)s=d.convertClientIndexToServerId(o),this._removeMapModelImageControlByServerId(s);return u==Object.keys(d._serverIdMap).length&&(d._serverIdMap={},d._uidMap={}),d._buffer.removeAllImages()}},{key:"_uidFromServer2index",value:function(o){var s,u,d,c=this;if((d=c._uidMap[o])&&(u=d.uuid),u&&u!=-1)s=c._buffer.getIndexByUid(u);else if(c._buffer.isActiveFile){var f=this.getCurrentFileName();s=this._convertUidFromServerToIndexInFile(f,o)}else s=this._convertUidFromServerToIndex(o);return p.isNumber(s)||(s=-1),s}},{key:"_serverId2uidFromServer",value:function(o){if(o&&o>0){var s,u,d;if((d=this._serverIdMap[o])&&(u=d.uidFromServer))return u;if((s=this.convertServerIdToClientIndex(o))>=0)return this._index2uidFromServer(s)}return-1}},{key:"_uidFromServer2ServerId",value:function(o){if(o){var s,u,d;if((d=this._uidMap[o])&&(u=d.serverId))return u;if((s=this._uidFromServer2index(o))>=0)return this.convertClientIndexToServerId(s)}return-1}},{key:"_index2uidFromServer",value:function(o){var s=this.getCustomDataByIndex(o);return s?s.uidFromServer:-1}},{key:"convertServerIdToClientIndex",value:function(o){var s,u,d,c=this;if((d=c._serverIdMap[o])&&(u=d.uuid),u&&u!=-1)s=c._buffer.getIndexByUid(u);else if(c._buffer.isActiveFile){var f=this.getCurrentFileName();s=this._convertServerIdToIndexInFile(f,o)}else s=this._convertServerIdToIndex(o);return p.isNumber(s)||(s=-1),s}},{key:"getIndexByUid",value:function(o){var s;return(s=this._buffer.getIndexByUid(o))===!1?-1:s}},{key:"getUidByIndex",value:function(o){return this._buffer.getUidByIndex(o)}},{key:"convertClientIndexToServerId",value:function(o){var s=this.getCustomDataByIndex(o);return s?s.serverId:-1}},{key:"getCurrentImageIndex",value:function(){var o=this._buffer.getCurrentIndex();return p.isBoolean(o)?-1:o}},{key:"setCurrentImageIndex",value:function(o){return this._buffer.selectImages([o])}},{key:"getCurrentFileName",value:function(){return this._buffer.getCurrentFileName()}},{key:"setDefaultTag",value:function(o){return this._buffer.setDefaultTag(o)}},{key:"getDefaultTag",value:function(){return this._buffer.getDefaultTag()}},{key:"count",value:function(){return this._buffer.getHowManyImagesInBuffer()}},{key:"getCountByDocumentName",value:function(o){return this._buffer.getDocumentInfo(o).length}},{key:"dispose",value:function(){this.clear()}},{key:"getImageData",value:function(o){var s=this._buffer.getUidByIndex(o);return s?this._buffer.getDataByUid(s):j.Promise.resolve(null)}},{key:"getCustomDataByIndex",value:function(o){return this._buffer.getCustomDataByUid(this._buffer.getUidByIndex(o))}},{key:"getMetadataByIndex",value:function(o){return this._buffer.getMetadataByUid(this._buffer.getUidByIndex(o))}},{key:"setCustomData",value:function(o,s){var u=this._buffer.getUidByIndex(o);return!(!u||!s)&&this._buffer.setCustomDataByUid(u,s)}},{key:"openDocument",value:function(o){return this._buffer.openDocument(o)}},{key:"createDocument",value:function(o){return this._buffer.createDocument(o)}},{key:"getImageIdMap",value:function(o){return this._serverIdMap[o]}},{key:"_removeMapModelImageControlByServerId",value:function(o){var s=this;if(o>0&&s._serverIdMap[o]){var u=s._serverIdMap[o],d=u.uidFromServer;u.Clear(),delete s._serverIdMap[o],delete s._uidMap[d]}}},{key:"_convertServerIdToIndexInFile",value:function(o,s){var u,d,c=-1;for(u=this._buffer.getDocumentContents(o),d=0;d<u.length;d++){var f=u[d];if(f){var m=this._buffer.getCustomDataByUid(f);if(m&&m.serverId==s){c=d;break}}}return c}},{key:"_convertServerIdToIndex",value:function(o){var s,u=-1;for(s=0;s<this.count();s++){var d=this._buffer.getUidByIndex(s);if(d){var c=this._buffer.getCustomDataByUid(d);if(c&&c.serverId==o){u=s;break}}}return u}},{key:"_convertUidFromServerToIndexInFile",value:function(o,s){var u,d,c=-1;for(u=this._buffer.getDocumentContents(o),d=0;d<u.length;d++){var f=u[d];if(f){var m=this._buffer.getCustomDataByUid(f);if(m&&m.uidFromServer==s){c=d;break}}}return c}},{key:"_convertUidFromServerToIndex",value:function(o){var s,u=-1;for(s=0;s<this.count();s++){var d=this._buffer.getUidByIndex(s);if(d){var c=this._buffer.getCustomDataByUid(d);if(c&&c.uidFromServer==o){u=s;break}}}return u}},{key:"convertUUIDToServerId",value:function(o){var s=this._buffer.getCustomDataByUid(o);return s&&s.serverId!=-1?s.serverId:-1}},{key:"UpdateImage",value:function(o,s){return this._buffer.updateImage(o,s),!0}}],[{key:"_setBaseUrl",value:function(o,s){o._baseUrl=s}},{key:"_getBuffer",value:function(o){return o._buffer}}])}(KT),Rce=function(r){function n(u){var d;h(this,n);var c=d=l(this,n,[u]);d.__IfAppendImage=rt,d.__maxImagesInBuffer=32767,d.__insertingIndex=-1,d._aryBitmapCache=[],d._imageBufferWrapper=new bf,d._imageBufferWrapper.on("bufferChanged",function(m){if(p.isFunction(c.__OnBufferChanged)){var _,S=m[0],y=[],b=-1,I=[];S.operation&&(S.action=S.operation);for(var x=0;x<c._imageBufferWrapper.count();x++)(_=c._imageBufferWrapper.getCustomDataByIndex(x))&&_.serverId&&y.push(c._imageBufferWrapper._serverId2uidFromServer(_.serverId));if(S.imageIds=y,S.curIndex>=0&&(_=c._imageBufferWrapper.getCustomDataByIndex(S.curIndex))&&_.serverId&&(b=c._imageBufferWrapper._serverId2uidFromServer(_.serverId)),S.currentId=b,S.operation=="modify"&&S.afterStatus.modifiedUid!=""){var P=c._imageBufferWrapper.getIndexByUid(S.afterStatus.modifiedUid);P>=0&&(_=c._imageBufferWrapper.getCustomDataByIndex(P))&&_.serverId&&(S.modifiedId=c._imageBufferWrapper._serverId2uidFromServer(_.serverId))}if(S.afterStatus.selectedUids)for(var L=0;L<S.afterStatus.selectedUids.length;L++){var $=S.afterStatus.selectedUids[L];if($&&$!=-1){var te=c._imageBufferWrapper.getIndexByUid(S.afterStatus.selectedUids[L]);te>=0&&(_=c._imageBufferWrapper.getCustomDataByIndex(te))&&_.serverId&&I.push(c._imageBufferWrapper._serverId2uidFromServer(_.serverId))}}S.selectedIds=I,p.mix(S,{}),delete S.uids,delete S.currentUid,delete S.selectedUids,delete S.afterStatus,delete S.beforeStatus,delete S.operation,delete S.curIndex,delete S.docUid;try{return c.__OnBufferChanged(S)}catch(q){vr(q)}}}),d._imageBufferWrapper.on("error",function(m){c._errorCode=m.code,c._errorString=m.message});var f=Vi.getServerImageUrlPrefix(d);return bf._setBaseUrl(d._imageBufferWrapper,f),d}return D(n,r),v(n,[{key:"_OnActiveUIClearBuffer",value:function(){var u=this.__OnBufferChanged;this.__OnBufferChanged=null,this._imageBufferWrapper.clear(),this.__OnBufferChanged=u}},{key:"_registerMultiEvent",value:function(u,d){var c=this;if(c._resetErr(),!c._isValid())return!1;var f=["_$",u].join("");c[f]||(c[f]={});var m=c[f],_=p.guid();return m[_]=d,_}},{key:"_unregisterMultiEvent",value:function(u,d){var c=this;if(c._resetErr(),!c._isValid())return!1;var f=["_$",u].join(""),m=c[f];if(d){var _;if(p.isString(d))return delete m[d],rt;if(p.isFunction(d)){for(_=0;_<m.length;_++)if(d==m[_])return m.splice(_,1),rt}}return c[f]=null,rt}},{key:"_getMetadata",value:function(u){return this._imageBufferWrapper.getMetadataByIndex(u)}},{key:"_updateImage",value:function(u,d,c){var f,m,_,S,y=bp.Auto,b=this;return c&&(c.width!=null&&(_=parseInt(c.width)),c.height!=null&&(S=parseInt(c.height)),y=p.isNumber(_)&&p.isNumber(S)&&d.byteLength===_*S*4?bp.RGBA:bp.Auto),f={imageId:u,serverId:u,bufferLen:d.byteLength,imageType:y},c&&y==bp.RGBA&&(f.width=_,f.height=S,c.bitDepth!=null&&(f.bit=c.bitDepth),c.resolutionX!=null&&(f.xres=parseInt(c.resolutionX)),c.resolutionY!=null&&(f.yres=parseInt(c.resolutionY)),c.uid!=null&&(f.uidFromServer=c.uid)),m=p.stringify([p.stringify(f)]),new j.Promise(function(I,x){b._innerSendBlobByWS("UpdateImage",m,d,function(P){p.log("UpdateImage success."),I(P)},function(P){p.log("UpdateImage failed."),p.error(P),x({code:b._errorCode,message:b._errorString})})})}},{key:"_removeImages",value:function(u){return this._imageBufferWrapper.removeImages(u)}},{key:"_getCurrentDocumentName",value:function(){var u="";return this._imageBufferWrapper&&(u=this._imageBufferWrapper.getCurrentFileName()),u}},{key:"_getCurrentDefaultTagName",value:function(){var u="";return this._imageBufferWrapper&&(u=this._imageBufferWrapper.getDefaultTag()||""),u}},{key:"_innerRefreshUI",value:function(u,d,c,f,m){var _=this;return c&&_._imageBufferWrapper.refresh(u,_._imageBufferWrapper.count(),!0,f),p.isFunction(_.__OnRefreshUI)&&_.__OnRefreshUI(_._imageBufferWrapper.getCurrentImageIndex(),_._imageBufferWrapper.count()),!0}},{key:"_innerRefreshUIByImageId",value:function(u,d,c,f){var m=this;return d&&m._imageBufferWrapper.refreshByImageId(u,!0,c),p.isFunction(m.__OnRefreshUI)&&m.__OnRefreshUI(m._imageBufferWrapper.getCurrentImageIndex(),m._imageBufferWrapper.count()),!0}},{key:"_getHowManyImagesInBuffer",value:function(){return this._isValid()?this._imageBufferWrapper.count():0}},{key:"_OnBitmapChanged",value:function(u,d,c){var f,m,_,S=this,y=u[0]=="m1",b=u[0]=="c1",I=u[0]=="c2",x=b||I||y,P=u[1].split(","),L=u[2],$=u[3],te=S.__maxImagesInBuffer,q=-1,Q=!1,J=[];if(c&&(f=c.document,m=c.tag,c.bNeedClearTag&&(_=c.bNeedClearTag)),p.log("_OnBitmapChanged.currentFileName="+f+", tag="+m),f?f!=S._getCurrentDocumentName()&&(Q=!0):f=S._getCurrentDocumentName(),S._imageBufferWrapper&&(m?(S._imageBufferWrapper.setDefaultTag(m),p.log("metaDataObj.currentTag="+m)):_&&(S._imageBufferWrapper.setDefaultTag(""),p.log("metaDataObj.currentTag=''"))),!y)if(I)u.length>5&&(J=u[5]),p.isArray(J)||(J=[]);else{var re={};if(u.length>5&&(re.width=u[5]),u.length>6&&(re.height=u[6]),u.length>7&&(re.bitDepth=u[7]),u.length>8&&(re.resolutionX=u[8]),u.length>9&&(re.resolutionY=u[9]),u.length>10&&(q=u[10]),u.length>11&&p.isString(u[11])&&(re.uidFromServer=u[11]),J.push(re),q>-1&&S._canConsume()&&(L==vn.enumBCAppend||L==vn.enumBCInsert)){var H=U.DWT.lgct(q);p.isFunction(S.__OnLtsverify)&&S.__OnLtsverify(H,1)}}if(p.log("OnBitmapChanged:"+u),L==vn.enumBCInsert||L==vn.enumBCAppend&&!S.__IfAppendImage||c&&L==vn.enumBCAppend&&c.index>=0)p.each(P,function(ie,se){var ne,ae,be=parseInt(ie),ge=S._imageBufferWrapper.getCurrentImageIndex();if(se<J.length&&J[se]?(ne=(ae=J[se]).uidFromServer,delete ae.uidFromServer):ae={},ae.currentFileName=f,isNaN(be)||be<0)return!0;if(x)S._aryBitmapCache.push(be);else for(var ve=0;ve<S._aryBitmapCache.length;ve++)if(S._aryBitmapCache[ve]==be)return S._aryBitmapCache.splice(ve,1),!0;if(S._imageBufferWrapper.exists(be))return!0;S.__insertingIndex>-1&&(ge=S.__insertingIndex),ae.controlWidth=400,ae.controlHeight=400,S._controlWidth&&S._controlWidth>400&&(ae.controlWidth=S._controlWidth),S._controlHeight&&S._controlHeight>400&&(ae.controlHeight=S._controlHeight),ge==-1&&(ge=0),c.index>=0&&(ge=c.index),S._imageBufferWrapper.insertBefore(ge,te,be,ne,ae),S.__insertingIndex>-1&&(S.__insertingIndex=S.__insertingIndex+1),c.index++}),p.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count());else if(L==vn.enumBCAppend&&S.__IfAppendImage)p.each(P,function(ie,se){var ne,ae,be=parseInt(ie);if(isNaN(be)||be<0)return!0;if(se<J.length&&J[se]?(ne=(ae=J[se]).uidFromServer,delete ae.uidFromServer):ae={},ae.currentFileName=f,p.log("metaDataObj.currentFileName="+f),x)S._aryBitmapCache.push(be);else for(var ge=0;ge<S._aryBitmapCache.length;ge++)if(S._aryBitmapCache[ge]==be)return S._aryBitmapCache.splice(ge,1),!0;if(S._imageBufferWrapper.exists(be))return!0;ae.controlWidth=400,ae.controlHeight=400,S._controlWidth&&S._controlWidth>400&&(ae.controlWidth=S._controlWidth),S._controlHeight&&S._controlHeight>400&&(ae.controlHeight=S._controlHeight),Q?S._imageBufferWrapper.append(te,be,ne,ae,f):S._imageBufferWrapper.append(te,be,ne,ae)}),p.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count());else if(L==vn.enumBCRemove&&x){var F=!1;if(P.length==1&&P[0]==-1&&(F=!0),F)S._imageBufferWrapper.clear();else{var B=[];p.each(P,function(ie,se){var ne=parseInt(ie);if(isNaN(ne)||ne<0)return!0;B.push(ne)}),S._imageBufferWrapper.removeImagesByServerId(B,f)}p.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count())}else if(L==vn.enumBCEdit||L==vn.enumBCUpdate)p.each(P,function(ie,se){var ne,ae=parseInt(ie);if(isNaN(ae)||ae<0)return!0;if(se<J.length&&J[se]?delete(ne=J[se]).uidFromServer:ne={},ne.currentFileName=f,ae>=0&&!S.__bLoadingImage){var be=S._imageBufferWrapper.convertServerIdToClientIndex(ae);be>-1?S._innerRefreshUI(be,S._imageBufferWrapper.count(),!0,ne,L):c.bNeedRefresh&&S._innerRefreshUIByImageId(ae,!0,ne,L)}});else if(L==vn.enumBCIndexChange){var V;$>=0&&!S.__bLoadingImage&&((V=0<J.length&&J[0]?J[0]:{}).currentFileName=f,S.__IfAppendImage==0&&S._innerRefreshUI($,S._imageBufferWrapper.count(),!0,V,L),S._imageBufferWrapper.refresh($,S._imageBufferWrapper.count(),!1,V))}if(p.isFunction(S.__OnBitmapChanged)){if(!y){if(x){if(L!=vn.enumBCRemove){if(!ue.bFirefox&&x)return!0}}else if(L==vn.enumBCRemove||ue.bFirefox&&!x)return!0}var G=[];p.each(P,function(ie){var se,ne=parseInt(ie);if(isNaN(ne)||ne<0)return!0;(se=S._imageBufferWrapper.convertServerIdToClientIndex(ne))>-1&&G.push(se)});var z=S._imageBufferWrapper.getCurrentImageIndex(),Z=L;L==vn.enumBCAppend&&(Z=S.__IfAppendImage?vn.enumBCAppend:vn.enumBCInsert),S.__OnBitmapChanged(G,Z,z,S._imageBufferWrapper.count())}}},{key:"_removeImageAsync",value:(s=a(w().mark(function u(d,c){var f,m,_;return w().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(f=this,m=parseInt(c),Mn(f,m)){S.next=4;break}return S.abrupt("return",!1);case 4:return _=f._imageBufferWrapper.convertClientIndexToServerId(m),S.next=7,f._removeImageByIdAsync(_);case 7:return S.abrupt("return",S.sent);case 8:case"end":return S.stop()}},u,this)})),function(u,d){return s.apply(this,arguments)})},{key:"_removeImageByIdAsync",value:(o=a(w().mark(function u(d){var c,f;return w().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(c=this,d!=-1){m.next=4;break}return qe(c),m.abrupt("return",!1);case 4:return m.next=6,c._innerFunV2("RemoveImage",Ve(d));case 6:return((f=m.sent)||c._errorCode==-1033)&&c._OnBitmapChanged(["c1",""+d,3,c._imageBufferWrapper.getCurrentImageIndex(),c._imageBufferWrapper.count()]),m.abrupt("return",f);case 9:case"end":return m.stop()}},u,this)})),function(u){return o.apply(this,arguments)})}]);var o,s}(Vi),ja=function(r){return r.Text=0,r.Blob=1,r.ArrayBuffer=2,r.XML=3,r.JSON=4,r.UserDefined=5,r}({}),Mt=function(r){return r.Other=0,r.HTTPUpload=1,r.HTTPDownload=2,r.FTPUpload=3,r.FTPDownload=4,r.Scan=5,r.LoadImage=6,r.ConvertToBlob=7,r.HTTPPut=8,r}({}),Wo={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function Fce(r,n){if(p.isFunction("_".repeat))return r.repeat(n);for(var o=0,s=[];o<n;o++)s.push(r);return s.join("")}var cE=Object.create?Object.create(null):{};function lE(r,n,o,s){return function(u,d){var c,f,m,_,S,y,b,I,x,P=1,L=u.length,$="";for(f=0;f<L;f++)if(typeof u[f]=="string")$+=u[f];else if(R(u[f])==="object"){if((_=u[f]).keys)for(c=d[P],m=0;m<_.keys.length;m++){if(c==null)throw new Error(lE('[sprintf] Cannot access property "%s" of undefined value "%s"',_.keys[m],_.keys[m-1]));c=c[_.keys[m]]}else c=_.param_no?d[_.param_no]:d[P++];if(Wo.not_type.test(_.type)&&Wo.not_primitive.test(_.type)&&c instanceof Function&&(c=c()),Wo.numeric_arg.test(_.type)&&typeof c!="number"&&isNaN(c))throw new TypeError(lE("[sprintf] expecting number but found %T",c));switch(Wo.number.test(_.type)&&(I=c>=0),_.type){case"b":c=parseInt(c,10).toString(2);break;case"c":c=String.fromCharCode(parseInt(c,10));break;case"d":case"i":c=parseInt(c,10);break;case"j":c=p.stringify(c,null,_.width?parseInt(_.width):0);break;case"e":c=_.precision?parseFloat(c).toExponential(_.precision):parseFloat(c).toExponential();break;case"f":c=_.precision?parseFloat(c).toFixed(_.precision):parseFloat(c);break;case"g":c=_.precision?String(Number(c.toPrecision(_.precision))):parseFloat(c);break;case"o":c=(parseInt(c,10)>>>0).toString(8);break;case"s":c=String(c),c=_.precision?c.substring(0,_.precision):c;break;case"t":c=String(!!c),c=_.precision?c.substring(0,_.precision):c;break;case"T":c=Object.prototype.toString.call(c).slice(8,-1).toLowerCase(),c=_.precision?c.substring(0,_.precision):c;break;case"u":c=parseInt(c,10)>>>0;break;case"v":c=c.valueOf(),c=_.precision?c.substring(0,_.precision):c;break;case"x":c=(parseInt(c,10)>>>0).toString(16);break;case"X":c=(parseInt(c,10)>>>0).toString(16).toUpperCase()}Wo.json.test(_.type)?$+=c:(!Wo.number.test(_.type)||I&&!_.sign?x="":(x=I?"+":"-",c=c.toString().replace(Wo.sign,"")),y=_.pad_char?_.pad_char==="0"?"0":_.pad_char.charAt(1):" ",b=_.width-(x+c).length,S=_.width&&b>0?Fce(y,b):"",$+=_.align?x+c+S:y==="0"?x+S+c:S+x+c)}return $}(function(u){if(cE[u])return cE[u];for(var d,c=u,f=[],m=0;c;){if((d=Wo.text.exec(c))!==null)f.push(d[0]);else if((d=Wo.modulo.exec(c))!==null)f.push("%");else{if((d=Wo.placeholder.exec(c))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(d[2]){m|=1;var _=[],S=d[2],y=[];if((y=Wo.key.exec(S))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(_.push(y[1]);(S=S.substring(y[0].length))!=="";)if((y=Wo.key_access.exec(S))!==null)_.push(y[1]);else{if((y=Wo.index_access.exec(S))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");_.push(y[1])}d[2]=_}else m|=2;if(m===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");f.push({placeholder:d[0],param_no:d[1],keys:d[2],sign:d[3],pad_char:d[4],align:d[5],width:d[6],precision:d[7],type:d[8]})}c=c.substring(d[0].length)}return cE[u]=f,f}(r),arguments)}function po(r,n){if(p.isString(r)){var o,s,u,d,c,f=r.indexOf("<%");if(f==-1||(s=r.substring(0,f),!(f+2<(o=r.indexOf(">",s)))))return r;u=r.substring(f+1,o),d=r.substring(o+1);try{c=lE(u,n)}catch{c=""}return[s,c,d].join("")}return""}function F0(r,n){var o,s=r.substring(r.lastIndexOf(".")).toLowerCase();if(n==U.DWT.EnumDWT_ImageType.IT_BMP){if(s==".bmp"||s==".dib")return r;o=[r,".bmp"].join("")}else if(n==U.DWT.EnumDWT_ImageType.IT_JPG){if(s==".jpg"||s==".jpe"||s==".jpeg"||s==".jfif")return r;o=[r,".jpg"].join("")}else if(n==U.DWT.EnumDWT_ImageType.IT_PNG){if(s==".png")return r;o=[r,".png"].join("")}else if(n==U.DWT.EnumDWT_ImageType.IT_TIF){if(s==".tif"||s==".tiff")return r;o=[r,".tif"].join("")}else if(n==U.DWT.EnumDWT_ImageType.IT_PDF){if(s==".pdf")return r;o=[r,".pdf"].join("")}else if(n==U.DWT.EnumDWT_ImageType.IT_J2K){if(s==".jp2")return r;o=[r,".jp2"].join("")}return o}function gU(r,n,o,s){var u,d,c,f,m=n.url,_=n.headers,S=n.retry,y=n.httpFormData,b=n.bOnlyResponseEmptyIsOK,I=n.bAsync,x=(d=n.responseType)==ja.Text?"text":d==ja.JSON?"json":d==ja.Blob?"blob":d==ja.ArrayBuffer?"arraybuffer":d==ja.XML?"xml":d==5?"user-defined":"text",P=r.IfShowProgressBar,L=r.IfShowCancelDialogWhenImageTransfer,$=r.objUploadStatus;(u=n.content)&&(u.remoteFilename||(u.remoteFilename=n.remoteFilename),u.fileName||(u.fileName=n.fileName||u.name),u.name||(u.name=n.fileName||u.fileName));var te,q=new Yu({action:m,data:y,async:I,retry:S,bOnlyResponseEmptyIsOK:b,dataType:x});if(L&&j.progressContext&&(te=j.progressContext.on("cancel",function(){q.abort(),q=null})),(c=q._uploadType)&&(f=c.get("ajaxConfig"),_&&f&&f.headers&&_&&p.mix(f.headers,_),r.HTTPRequestswithCredentials&&p.mix(f.xhrFields,{withCredentials:!0}),f=null),q.on(Yu.event.SUCCESS,function(H){if(n.content=null,q=null,te&&j.progressContext.off("cancel",te),H?r.HTTPPostResponse=H.response:n.responseType==ja.ArrayBuffer?r.HTTPPostResponse=[]:n.responseType==ja.Blob?r.HTTPPostResponse=new Blob([]):n.responseType==ja.JSON?r.HTTPPostResponse={}:r.HTTPPostResponse="",p.isFunction(r.onHttpUploadStatus)){var F;F={fileName:H.name,percentage:100,statusCode:200,responseString:r.HTTPPostResponse},r.onHttpUploadStatus(F)}p.isFunction(o)&&o(r.HTTPPostResponse)}),q.on(Yu.event.ERROR,function(H){n.content=null,q=null;var F=H&&H.canceled;H&&H.timeout;var B="",V=0;te&&j.progressContext.off("cancel",te),H&&p.isString(H.response)?r.HTTPPostResponse=H.response:r.HTTPPostResponse="",F||(H&&H.msg&&(B=H.msg),H&&H.httpStatus&&(V=H.httpStatus));var G,z={};IT(z,F,B,V),p.isFunction(r.onHttpUploadStatus)&&(G={fileName:H.name,percentage:100,statusCode:V,responseString:r.HTTPPostResponse},r.onHttpUploadStatus(G)),p.isFunction(s)&&s(z._errorCode,z._errorString,r.HTTPPostResponse,V)}),(P||p.isFunction(r.onHttpUploadStatus))&&(q.on(Yu.event.PROGRESS,function(H){!ue.bSafari&&H&&(delete H.totalSize,delete H.position);var F=H.total===0?100:Math.round(100*H.loaded/H.total);if([H.loaded," / ",H.total].join(""),p.isFunction(r.onHttpUploadStatus)){var B;B={fileName:H.name,percentage:F,statusCode:0,responseString:""},r.onHttpUploadStatus(B)}r.onPercent([0,F,"","http",H.name])}),r.onPercent([0,-1,br.Uploading,"http"]),p.isFunction(r.onHttpUploadStatus))){var Q="";p.isArray(u)&&u.length>0||(u&&u.name&&u.name!=""?Q=u.name:u&&u.fileName&&(Q=u.fileName)),!Q&&n.fileName&&(Q=n.fileName),r.onHttpUploadStatus({fileName:Q,percentage:0,statusCode:0,responseString:""})}if($&&$.bCancel){$.st=2;var J={};return Ro(J),n.content=null,p.isFunction(s)&&s(J._errorCode,J._errorString),!1}var re=q.upload(u);return u=null,re}function mU(r,n,o,s){var u,d,c=r.MaxUploadImageSize,f=0,m=n.content;if(!m||!p.isArray(m)||m.length<=0){n.content=null;var _={};return an(_),p.isFunction(s)&&s(_._errorCode,_._errorString),Pe}for(u=0;u<m.length;u++){var S=m[u];if(!S||S.size<=0){var y={};return an(y),p.isFunction(s)&&s(y._errorCode,y._errorString),Pe}var b=S.size,I=S.type;if(f+=b,I===""||I&&I!=n.contentType){var x=S.slice||S.webkitSlice||S.mozSlice,P=S.name,L=x.call(S,0,b,n.contentType);p.isString(P)&&P!=""||(P=S.fileName),L.name=po(P,u+1),m[u]=L}m[u].remoteFilename=po(n.remoteFilename,u+1),S=null}if(f>c&&c!=-1){var $={};return gs($),p.isFunction(s)&&s($._errorCode,$._errorString),Pe}for(j.cancelFrom=Mt.HTTPUpload,d=gU(r,n,o,s),n=null,u=0;u<m.length;u++)m[u]=null;return m=null,d}function fu(r){j.dlgRef<=0||j.dialogShowStatus==0||Zs(r)}j.setBtnCancelVisibleForProgress=Zs;var Es=function(){return v(function r(){h(this,r)},[{key:"_onProgress",value:function(r,n,o){var s=o.total===0?100:Math.round(100*o.loaded/o.total);[o.loaded," / ",o.total].join(""),r.onPercent([0,s,"","http",n])}},{key:"_uploadBlobFragment",value:function(r,n,o,s){var u=n.fileName,d=n.blockSize,c=0;n.method;var f,m,_,S=n.offset,y=this,b=function(te,q){n.content=null,p.isFunction(s)&&s(te,q)};if((f=n.content).size<=0){var I={};return an(I),b(I._errorCode,I._errorString),Pe}if(c=f.size,(m=c-S)>0){var x;if(m>=d&&d>0?(m-=d,_=d):(_=m,m=0),!(x=S==0&&_==c?f:f.slice(S,S+_))){var P={};an(P),b(P._errorCode,P._errorString)}if(!r.IfShowProgressBar||r.IfShowProgressBar&&j.dlgRef>0){x.name=u,fu(r.IfShowCancelDialogWhenImageTransfer),n.headers["Content-Range"]=["bytes ",S,"-",S+x.size-1,"/",c].join(""),y._onProgress(r,u,{total:c,loaded:S});var L=p.clone(n);return L.content=x,L.offset=0,y.httpPostUpload(r,L,function(te){m==0&&(j.needShowTwiceShowDialog=!1),y._onProgress(r,u,{total:c,loaded:S+_}),m==0?(n.content=null,p.isFunction(o)&&_n(o,te)):(n.offset=n.offset+_,setTimeout(function(){y._uploadBlobFragment(r,n,o,b)},100))},b),!0}var $={};return Ro($),b($._errorCode,$._errorString),!1}return j.needShowTwiceShowDialog=!1,n.content=null,p.isFunction(o)&&o(""),!0}},{key:"httpPostUploadFragment",value:function(r,n,o,s){var u;if(!(u=n.content)){var d={};return an(d),p.isFunction(s)&&s(d._errorCode,d._errorString),Pe}if(p.isString(u)){if(u==""){var c={};return an(c),p.isFunction(s)&&s(c._errorCode,c._errorString),Pe}var f=new Blob([u],{type:"text/plain"}),m=n.fileName;f.name=m,n.content=f,f=null}return j.cancelFrom=Mt.HTTPUpload,this._uploadBlobFragment(r,n,o,s)}},{key:"httpPostUpload",value:function(r,n,o,s){var u,d,c=n.bAsync,f=function(J,re,H,F){return n.content=null,n=null,p.isFunction(s)&&s(J,re,H,F),!1};if(!(u=n.content)){var m={};return an(m),f(m._errorCode,m._errorString),!!c&&void 0}if(p.isString(u)){var _,S=n.fileName;if(u==""){var y={};return an(y),f(y._errorCode,y._errorString),!!c&&void 0}if(_=r.MaxUploadImageSize,u.length>_&&_!=-1){var b={};return gs(b),f(b._errorCode,b._errorString),!!c&&void 0}(d=new Blob([u],{type:"text/plain"})).name=S,u=null}else if(u instanceof Blob&&(d=u,u=null,d.size<=0)){var I={};return an(I),f(I._errorCode,I._errorString),!!c&&void 0}if(d){var x,P,L=r.MaxUploadImageSize,$=d.size,te=d.type;if($>L&&L!=-1){var q={};return gs(q),f(q._errorCode,q._errorString),!!c&&void 0}te===""||te&&te!=n.contentType?(x=(d.slice||d.webkitSlice||d.mozSlice).call(d,0,$,n.contentType))instanceof File?(P=x.fileName,x.name=P):x.name=d.name||d.fileName:x=d,d=null,x&&(n.content=x),x=null}fu(r.IfShowCancelDialogWhenImageTransfer),j.cancelFrom=Mt.HTTPUpload;var Q=gU(r,n,function(J){return n.content=null,n=null,p.isFunction(o)&&o(J),J=null,!0},f);return c?void 0:!!Q}}])}(),ca=v(function r(){h(this,r),this.method="",this.httpMethod="POST",this.contentType="application/octet-stream",this.remoteFilename="RemoteFile",this.blockSize=0,this.offset=0,this.retry=0,this.bOnlyResponseEmptyIsOK=!0,this.bAsync=!0,this.responseType=ja.Text}),vU=v(function r(){h(this,r),this.IfShowProgressBar=!1,this.IfShowCancelDialogWhenImageTransfer=!0}),gc=function(r){return r.URL=0,r.Blob=1,r.Base64=2,r}({}),O0=window.SparkMD5,dE=function(){return v(function r(n,o,s,u){h(this,r);var d=this;d._md5=s,d._length=o,d._content=u},[{key:"getLength",value:function(){return this._length}},{key:"getMD5",value:function(){return this._md5}},{key:"getData",value:function(r,n){var o=this,s=n;return p.isNumber(r)&&p.isNumber(n)?r<0||n<=0?"":r==0&&s==o._length?o._content:(r+s>o._length&&(s=o._length-r),o._content.substr(r,s)):""}}])}();j.html5.Base64Result=dE;var _U=function(r){function n(Q){var J;return h(this,n),(J=l(this,n,[Q])).__maxUploadImageSize=-1,J._strHttpContentTypeFieldValue="application/octet-stream",J}return D(n,r),v(n,[{key:"_saveBlob",value:(q=a(w().mark(function Q(J,re){var H,F;return w().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(H=this,!U.navInfo.bIE){B.next=7;break}return B.next=5,H._innerSaveLocal(J,re);case 5:B.next=11;break;case 7:return F=URL.createObjectURL(J),B.next=10,H._innerSaveLocal(F,re);case 10:URL.revokeObjectURL(F);case 11:J=null;case 12:case"end":return B.stop()}},Q,this)})),function(Q,J){return q.apply(this,arguments)})},{key:"_saveImages",value:(te=a(w().mark(function Q(J,re,H,F){var B,V,G,z,Z,ie;return w().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return B=this,V=F0(re,F),G=Ju(B,H),j.cancelFrom=Mt.Other,se.next=5,B._innerConvertToArrayBufferWithUIAsync(J,F,G);case 5:return z=se.sent,Z=At.getBlobTypeByImageType(F),ie=new Blob([z],{type:Z}),se.next=10,B._saveBlob(ie,V);case 10:ie=null;case 11:case"end":return se.stop()}},Q,this)})),function(Q,J,re,H){return te.apply(this,arguments)})},{key:"_innerSaveLocal",value:($=a(w().mark(function Q(J,re){return w().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",new j.Promise(function(F,B){var V=window,G=U.navInfo,z=V.requestFileSystem||V.webkitRequestFileSystem||V.mozRequestFileSystem;if(!G.biPad&&!G.biPhone||z||!(ue.bSafari&&parseFloat(ue.strBrowserVersion)<13)&&ue.bSafari){var Z=document.createElementNS("http://www.w3.org/1999/xhtml","a");if(Z.href=J,Z.download=re,Z.target="_blank",document.body.appendChild(Z),G.bEdge)Z.click(),J=null,Z.href=null;else if(G.bIE){var ie;(ie=window.navigator)&&"msSaveOrOpenBlob"in ie&&ie.msSaveOrOpenBlob(J,re)}else{var se=document.createEvent("MouseEvents");se.initMouseEvent("click",!0,!1),Z.dispatchEvent(se)}setTimeout(function(){document.body.removeChild(Z),Z=null,F()},6e3)}else{var ne=V.open(J,"","",!1);setTimeout(function(){ne.document.title=re,F()},6e3)}}));case 1:case"end":return H.stop()}},Q)})),function(Q,J){return $.apply(this,arguments)})},{key:"_OnPostTransferAsync",value:function(Q,J,re){var H,F=this;if(Q&&Q.length>=2)try{var B=String(Q[1]).replace(/\\/g,"\\\\");H=p.parse(B),!re&&H.imageId&&(H.imageId=F._serverId2uidFromServer(H.imageId))}catch{p.log(Q)}H||(H={imageId:""});var V=!1;if(p.isFunction(F.__OnPostTransferAsync))try{V=F.__OnPostTransferAsync(H)}catch(G){vr(G)}if(p.isFunction(F.__OnPostTransferAsync2))try{F.__OnPostTransferAsync2(H)}catch(G){vr(G)}return V}},{key:"_checkIndices",value:function(Q,J){return SU(Q,!p.isUndefined(J)&&J>=0?J:this._imageBufferWrapper.count(),this)}},{key:"_acquireImageForSendTo",value:(L=a(w().mark(function Q(J,re,H,F){var B,V,G,z,Z,ie,se,ne;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(B=this,V=H?p.clone(H):{},z=G=F,B._resetErr(),B._isValid()){ae.next=4;break}throw{code:B._errorCode,message:B._errorString};case 4:if(p.isString(G._id)){ae.next=6;break}throw{code:-2602,message:'The parameter "SendTo" is invalid.'};case 6:if(!B.__bAcquireImageNow){ae.next=9;break}throw ZR(B),{code:B._errorCode,message:B._getErrorString()};case 9:if(B.__bAcquireImageNow=!0,Xr(J,z),Z=j.Promise.resolve(),ie=U.DWT.RemoteScanConfig,se=HR(),ae.prev=13,wO(V),ie&&Jv(ie.keepAwake),_t.checkProductKey(B,{Core:!0})&&B._isValid()){ae.next=18;break}throw{code:B._errorCode,message:B._errorString};case 18:return Vi._innerSendHeartBeat(G,!1),ne=function(){var be=a(w().mark(function ge(ve){return w().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:Z=Z.then(function(){return new j.Promise(function(Qe,ze){var yt=[B._uidFromServer2ServerId(ve.imageId)],at=U.DWT.EnumDWT_ImageType.IT_PNG;j.cancelFrom=Mt.Scan,B._innerConvertToArrayBufferAsync(at,yt).then(function(gt){G._bltsCopyImage=!0,G.__LoadImageFromBytesV2(gt,at,"",!0,0,0,!1,0,function(){var Ct=a(w().mark(function Be(Oe,tt){var pt;return w().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return pt=B._uidFromServer2ServerId(ve.imageId),tt?(p.log("LoadImageFromBinary success"),G._bltsCopyImage=!1,ve.imageId=G._uidFromServer2ServerId(tt.ids),p.isFunction(G._OnPostTransferAsync)&&G._OnPostTransferAsync([!0,p.stringify(ve)],null,!0)):p.log("LoadImageFromBinary return null."),Qe(),lt.next=5,B._removeImageByIdAsync(pt);case 5:case"end":return lt.stop()}},Be)}));return function(Be,Oe){return Ct.apply(this,arguments)}}(),function(Ct,Be){p.log(Be),G._bltsCopyImage=!1,ze({code:Ct,message:Be})})},function(gt){gt&&gt.message&&p.log(gt.message),ze(gt)})})});case 1:case"end":return Le.stop()}},ge)}));return function(ge){return be.apply(this,arguments)}}(),B._registerEvent("OnPostTransferAsync2",ne),re!=null&&(V.Device=re.strDevice,V.DeviceMatchField=Sp.SMF_NAME),ae.next=24,B._acquireImageFromServiceAsync(V);case 24:ae.next=29;break;case 26:throw ae.prev=26,ae.t0=ae.catch(13),ae.t0;case 29:return ae.prev=29,ae.prev=30,ae.next=33,Z;case 33:ae.next=37;break;case 35:ae.prev=35,ae.t1=ae.catch(30);case 37:return B._unregisterEvent("OnPostTransferAsync2"),B.__bAcquireImageNow=!1,kr(J),Jv(se),ae.finish(29);case 42:case"end":return ae.stop()}},Q,this,[[13,26,29,42],[30,35]])})),function(Q,J,re,H){return L.apply(this,arguments)})},{key:"_uidFromServer2index",value:function(Q){var J,re=this;return re._resetErr(),!!re._isValid()&&(p.isString(Q)?((J=re._imageBufferWrapper._uidFromServer2index(Q))==-1&&TF(re),J):(cF(re),-1))}},{key:"_index2uidFromServer",value:function(Q){var J=this;if(J._resetErr(),!J._isValid())return!1;var re=parseInt(Q);return isNaN(re)?(Ot(J),""):re<0||re>=this._imageBufferWrapper.count()?(qe(J),""):J._imageBufferWrapper._index2uidFromServer(Q)}},{key:"__LoadImageFromBytesV2",value:function(Q,J,re,H,F,B,V,G,z,Z){var ie,se=this,ne=J||3,ae=0,be=Q.name,ge=!0,ve=1;if(Q)if(Q instanceof Blob)ae=Q.size;else if(nu(Q))ae=Q.byteLength;else if(Q instanceof Array)ae=Q.length;else{var Le=Q;ae=Le.size||Le.byteLength||Le.length}!isNaN(F)&&F>=0&&!isNaN(B)&&B>0?ve=0:(F=0,B=0),ie=["[",ae,",",0,",",ne,',"',re,'",',F,",",B,",",G,",",ve,",",V?"true":"false","]"].join("");var Qe=function(){if(se.__bLoadingImage=!1,ge){var ze=se._imageBufferWrapper.getCurrentImageIndex();ze>=0&&se._innerRefreshUI(ze)}return p.isFunction(Z)&&Z(se._errorCode,se._getErrorString(),be),!1};return _t.checkProductKey(se,{Core:!0})||ue.bWin&&_t.checkProductKey(se,{Webcam:!0},!0)?_t.checkPDFProductKeyWhenNeeds(se,J)?ae===0?(Fe(se,-2312,"The file length is empty."),ge=!1,Qe()):this._innerSendBlob("LoadImageFromBytes",ie,Q,H,ve,function(ze){if(se.__bLoadingImage=!1,se._isBindViewer()){var yt=se._imageBufferWrapper.getCurrentImageIndex();H&&yt>=0&&se._innerRefreshUI(yt)}if(p.isFunction(z)){var at=ze;if(p.isArray(at)&&(at=at.length>0?at[0]:{}),H)setTimeout(function(){z(be,at)},30);else try{z(be,at)}catch(gt){p.error(gt.message)}}return se._canConsume()&&U.DWT.lcvrf(se),!0},Qe):(ge=!1,Qe()):(_t.checkProductKey(se,{Core:!0},!1),ge=!1,Qe())}},{key:"_innerSendBlob",value:function(Q,J,re,H,F,B,V){var G=this;if(Vi.isServerInvalid(G))return G._waitForConnect().then(function(){G._innerSendBlob(Q,J,re,H,F,B,V)});if(H)return G._innerSendBlobByWS(Q,J,re,B,V),!0;var z,Z,ie,se;return G._resetErr(),!!G._isValid()&&(Z=[G._httpUrl,"f/",Q].join(""),ie=pl(G._clientId,Q,J,0,G._bScanForProxyRemote),ie+=`\r
\r
`,se={method:"POST",url:Z,processData:!1,data:ie+=p.base64.encodeArray(re),async:!1,onSuccess:function(ne,ae,be){var ge=!1,ve=!1;try{ge=p.isString(ne)&&ul(be.getResponseHeader("content-type"))?p.parse(ne):ne}catch{}if(ge!=null&&(co(ge)?(G._errorCode=ge.exception,G._errorString=ge.description):G._resetErr(),(z=ge.result)&&p.isArray(z)&&z.length>=1))if(F){var Le,Qe=z[0];Qe&&p.isObject(Qe)&&(Le=Qe.imageInfos,G._errorCode==0&&p.isString(Le)&&G._handleOnBitmapChangedEvent({result:["c1",Le]},{document:re.currentFileName,tag:re.currentTagName}),ve=!0)}else{var ze=z.join(",");G._errorCode==0&&ze.length>0&&G._OnBitmapChanged(["c1",ze,1,G._imageBufferWrapper.getCurrentImageIndex(),G._imageBufferWrapper.count()],null,{document:re.currentFileName,tag:re.currentTagName}),ve=!0}ve||(CT(G),z="")},onError:function(){t_(G),z=""}},p.mix(se,{headers:{"X-Requested-With":!1}}),ue.bFileSystem&&(se.crossDomain=!1),Po(se),G._errorCode==0?p.isFunction(B)&&B():p.isFunction(V)&&V(),z)}},{key:"_convertToBase64ByServerIdsWithUI",value:function(Q,J,re,H,F,B,V){this._convertToBase64ByServerIdsWithUIAsync(Q,re,J,H).then(function(G){p.isFunction(B)&&_n(B,G)},function(){p.isFunction(V)&&V()})}},{key:"_OnPercentDone",value:function(Q){var J,re,H,F,B,V=this,G=!1,z=!1,Z=0;p.isArray(Q)&&Q.length>2&&(re=Q[0],Z=Q[1],H=Q[2],Q.length>3&&(F=Q[3]),Q.length>4&&(B=Q[4]),Q.length>5&&Q[5],J=Z,Z<0?J=0:Z>100&&(J=100),J=Math.floor(J),j.cancelFrom!=Mt.HTTPUpload&&j.cancelFrom!=Mt.HTTPDownload&&j.cancelFrom!=Mt.Scan&&j.cancelFrom!=Mt.HTTPPut||(z=B)),(V._bServerPercentDone||re==0)&&((Z>0||Z==0)&&(j.cancelFrom!=Mt.HTTPUpload&&j.cancelFrom!=Mt.HTTPDownload&&j.cancelFrom!=Mt.FTPUpload&&j.cancelFrom!=Mt.FTPDownload&&j.cancelFrom!=Mt.HTTPPut||(G=!0)),V.IfShowProgressBar&&j.progressBarOnPercentDone(Z,H,F,J,z,this._containerElement),G==1&&(p.isFunction(V.__OnInternetTransferPercentage)&&V.__OnInternetTransferPercentage(J,!1),p.isFunction(V.__OnInternetTransferPercentageEx)&&V.__OnInternetTransferPercentageEx(J,!1)),p.isFunction(V.__OnPercentDone)&&V.__OnPercentDone())}},{key:"IfShowProgressBar",get:function(){return this._bIfShowProgressBar},set:function(Q){this._resetErr(),p.isBoolean(Q)?this._bIfShowProgressBar=Q:Vn(this)}},{key:"IfShowCancelDialogWhenImageTransfer",get:function(){return this.__IfShowCancelDialogWhenImageTransfer},set:function(Q){this._resetErr(),p.isBoolean(Q)?this.__IfShowCancelDialogWhenImageTransfer=Q:Vn(this)}},{key:"_getLogLevel",value:function(){return this._logLevel}},{key:"_setLogLevel",value:(P=a(w().mark(function Q(J){return w().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return this._logLevel=J,re.next=3,this._innerFunV2("LogLevel",Ve(J));case 3:case"end":return re.stop()}},Q,this)})),function(Q){return P.apply(this,arguments)})},{key:"MaxUploadImageSize",get:function(){return this.__maxUploadImageSize},set:function(Q){var J=this;J._resetErr();var re=1*Q;!p.isNumber(re)||isNaN(re)?Vn(J):J.__maxUploadImageSize=re}},{key:"HTTPRequestswithCredentials",get:function(){return this._resetErr(),this._bWithCredentials},set:function(Q){this._resetErr(),p.isBoolean(Q)?this._bWithCredentials=Q:Vn(this)}},{key:"cancelableObj",get:function(){return this._cancelableObj},set:function(Q){this._cancelableObj=Q}},{key:"_getProfile",value:(x=a(w().mark(function Q(J){var re,H;return w().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if((re=this)._resetErr(),re._isValid()){F.next=4;break}throw{code:re._errorCode,message:re._errorString};case 4:return J&&(H=p.stringify([J.strDevice])),F.abrupt("return",re._innerFunV2("GetCustomDSDataEx",H));case 6:case"end":return F.stop()}},Q,this)})),function(Q){return x.apply(this,arguments)})},{key:"_setProfile",value:(I=a(w().mark(function Q(J,re){var H,F;return w().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if((H=this)._resetErr(),H._isValid()){B.next=4;break}throw{code:H._errorCode,message:H._errorString};case 4:return F=J?p.stringify([re,J.strDevice]):Ve(re),B.abrupt("return",this._innerFunV2("SetCustomDSDataEx",F));case 6:case"end":return B.stop()}},Q,this)})),function(Q,J){return I.apply(this,arguments)})},{key:"_removeAllImagesAsync",value:(b=a(w().mark(function Q(J,re){var H,F,B,V,G,z;return w().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if((H=this)._resetErr(),H._isValid()){Z.next=4;break}throw{code:H._errorCode,message:H._errorString};case 4:for(B=[],G=H._getHowManyImagesInBuffer(),V=G-1;V>=0;V--)(z=H._imageBufferWrapper.convertClientIndexToServerId(V))>-1&&B.push(z);if(B.length!=0){Z.next=13;break}return Z.next=10,H._innerFunV2("RemoveAllImages");case 10:F=Z.sent,Z.next=23;break;case 13:if(!re){Z.next=19;break}return Z.next=16,H._innerFunV2("RemoveAllImages",Ve(B.join(",")));case 16:F=Z.sent,Z.next=22;break;case 19:return Z.next=21,H._innerFunV2("RemoveAllImages");case 21:F=Z.sent;case 22:(F||H._errorCode==-1033)&&H._OnBitmapChanged(["c1",B.join(","),3,H._imageBufferWrapper.getCurrentImageIndex(),H._imageBufferWrapper.count()]);case 23:return Z.abrupt("return",F);case 24:case"end":return Z.stop()}},Q,this)})),function(Q,J){return b.apply(this,arguments)})},{key:"__OnRecieveMsg",value:function(Q,J){var re=this,H=J==null?void 0:J.cmd;if(Q.event)return E(A(n.prototype),"__OnRecieveMsg",this).call(this,Q,J);if(co(Q)?(re._errorCode=Q.exception,re._errorString=Q.description):H!="StartScan"&&H!="GetAddOnVersion"&&(re._errorCode=0,re._errorString=""),H=="ReadBarcode"||H=="OCRRecognize"||Q.request&&Q.request.method=="OCRProRecognize")return J.sFun?(J.sFun(Q),!0):(J.fFun&&J.fFun(Q),!0);if(H=="SetCapabilities"||H=="GetSkewAngleFromBinary"||H=="UpdateImage")return"exception"in Q&&Q.exception!="0"?(Q.result.errorCode&&Q.result.errorString?(re._errorCode=Q.result.errorCode,re._errorString=Q.result.errorString):(re._errorCode=Q.exception,re._errorString=Q.description),J.fFun&&J.fFun(Q.result),Q=null,!0):(J.sFun&&J.sFun(Q.result),Q=null,!0);if(Q.result&&Q.result.length&&(Q.result[0]=="1"||Q.result[0]==1||Q.result[0]=="ok"))return(J.sFun||J.sFun)&&J.sFun(Q.result),!0;if(!Q.exception)return J.sFun&&J.sFun(Q.result),Q=null,!0;var F=!1;return J.fFun&&(F=J.fFun(re._errorString)),!F&&Q.exception&&Q.exception<0&&Q.exception!=-2115&&p.isFunction(re.__OnPrintMsg)&&re.__OnPrintMsg(re._errorString),!0}},{key:"_convertServerIdToGuid",value:function(Q){return this._serverId2uidFromServer(Q)}},{key:"_convertGuidToServerId",value:function(Q){return this._uidFromServer2ServerId(Q)}},{key:"_serverId2uidFromServer",value:function(Q){return this._imageBufferWrapper._serverId2uidFromServer(Q)}},{key:"_uidFromServer2ServerId",value:function(Q){return this._imageBufferWrapper._uidFromServer2ServerId(Q)}},{key:"_innerConvertToBlobWithUI",value:function(Q,J,re,H,F,B){var V=this,G=arguments,z=function(Z){if(j.needShowTwiceShowDialog=!1,p.isFunction(B)){var ie=[];p.isArray(re)&&p.each(re,function(se){var ne=V._imageBufferWrapper.convertServerIdToClientIndex(se);ne>-1&&ie.push(ne)}),Z&&(V._errorCode=Z.code,V._errorString=Z.message),B(ie)}return!1};V._innerConvertToArrayBufferWithUIAsync(Q,J,re,H).then(function(Z){if(!Z||Z.byteLength<=0)return uF(V),z();var ie=V.__maxUploadImageSize;if(Z.byteLength>ie&&ie!=-1)return gs(V),z();if(j.needShowTwiceShowDialog=!1,p.isFunction(F)){var se=[];p.isArray(re)&&p.each(re,function(be){var ge=V._imageBufferWrapper.convertServerIdToClientIndex(be);ge>-1&&se.push(ge)});var ne=At.getBlobTypeByImageType(J),ae=new Blob([Z],{type:ne});try{F(ae,se,G)}catch{}ae=null}return!0},z)}},{key:"convertToBlob",value:(y=a(w().mark(function Q(J,re,H){var F,B,V,G;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return B=Ju(F=this,re),j.cancelFrom=Mt.ConvertToBlob,z.next=4,F._innerConvertToArrayBufferWithUIAsync("convertToBlob",J,B,H);case 4:return V=z.sent,G=At.getBlobTypeByImageType(J),z.abrupt("return",new Blob([V],{type:G}));case 7:case"end":return z.stop()}},Q,this)})),function(Q,J,re){return y.apply(this,arguments)})},{key:"_innerConvertToArrayBufferWithUIAsync",value:(S=a(w().mark(function Q(J,re,H,F,B){var V,G,z,Z;return w().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return G=this,Z=(V=j.progressContext)===null||V===void 0?void 0:V.IfShowCancelDialogWhenImageTransfer,ie.prev=2,G.IfShowProgressBar?j.showProgress(G,J,!1):j.hideProgress(),G._OnPercentDone([0,-1,br.Encoding]),j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!1),ie.next=8,this._innerConvertToArrayBufferAsync(re,H,F,B);case 8:z=ie.sent;case 9:return ie.prev=9,j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=Z),G.IfShowProgressBar&&j.closeProgress(null,J),ie.finish(9);case 13:return ie.abrupt("return",z);case 14:case"end":return ie.stop()}},Q,this,[[2,,9,13]])})),function(Q,J,re,H,F){return S.apply(this,arguments)})},{key:"_innerConvertToBase64Async",value:(_=a(w().mark(function Q(J,re,H){var F,B,V,G,z,Z,ie,se,ne;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return F=this,B=H,p.isString(B)&&B!=""||(B="{}"),V=["[",J,',"',re.join(","),'",',B,",1]"].join(""),ae.next=5,F._sendDataByHttpAsync("ConvertToBase64",V,"text",!0);case 5:if(G=ae.sent,z=0,Z="",ie="",se=G&&G.result,F._errorCode==0){ae.next=9;break}throw{code:F._errorCode,message:F._errorString};case 9:if(!se||!p.isArray(se)||se.length!=3){ae.next=17;break}return ie=se[0],z=se[1],Z=se[2],ne=new dE(null,z,Z,ie),ae.abrupt("return",ne);case 17:throw Fe(F,-2366,"Converting images to a base64 string failed."),{code:F._errorCode,message:F._errorString};case 19:case"end":return ae.stop()}},Q,this)})),function(Q,J,re){return _.apply(this,arguments)})},{key:"_convertToBase64ByServerIdsWithUIAsync",value:(m=a(w().mark(function Q(J,re,H,F){var B,V,G;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return V=this,G=(B=j.progressContext)===null||B===void 0?void 0:B.IfShowCancelDialogWhenImageTransfer,z.prev=2,V.IfShowProgressBar?j.showProgress(V,J,!1):j.hideProgress(),V._OnPercentDone([0,-1,br.Encoding]),j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=V.IfShowCancelDialogWhenImageTransfer),z.next=8,this._innerConvertToBase64Async(re,H,F);case 8:return z.abrupt("return",z.sent);case 9:return z.prev=9,j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=G),V.IfShowProgressBar&&j.closeProgress(null,J),z.finish(9);case 13:case"end":return z.stop()}},Q,this,[[2,,9,13]])})),function(Q,J,re,H){return m.apply(this,arguments)})},{key:"_convertToBlobForUpload",value:function(Q,J,re,H,F,B,V){var G=this,z=arguments;if(U.DWT.ConnectWithSocket){var Z=re,ie=",";p.isString(Z)&&Z!=""||(Z="",ie="");var se=["[",Q,',"',J.join(","),'"',ie,Z,"]"].join("");return j.cancelFrom=Mt.ConvertToBlob,j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!1),G._sendData("ConvertToBlob",se,!0,function(ne){G._resetErr();var ae=ne;if(ae){if(ae instanceof Blob||nu(ae))return void F(ae,"",z);co(ae)&&(G._errorCode=ae.exception,G._errorString=ae.description)}},function(ne){G._errorCode=ne.code,G._errorString=ne.message,B(ne)}),!0}G._innerConvertToArrayBufferAsync(Q,J,re,"arraybuffer").then(function(ne){var ae=G._strHttpContentTypeFieldValue,be=new Blob([ne],{type:ae});if(U.DWT.IfAddMD5InUploadHeader){var ge=new O0.ArrayBuffer;ge.append(ne),p.isFunction(F)&&F(be,ge.end(),z)}else p.isFunction(F)&&F(be,"",z);be=null},function(ne){B(ne.code,ne.message)})}},{key:"dispose",value:function(){return this.__unload()}},{key:"_innerDisposeWSClient",value:function(){return this._isValid()?this._sendData("dispose",null,!0,function(){},function(){}):j.Promise.reject()}},{key:"__unload",value:(f=a(w().mark(function Q(){var J,re;return w().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(!(J=this)._bReady||j.page.bUnload){H.next=10;break}if(!J._wsClient){H.next=10;break}return H.prev=3,H.next=6,J._innerDisposeWSClient();case 6:H.next=10;break;case 8:H.prev=8,H.t0=H.catch(3);case 10:if(!J._wsClient){H.next=24;break}return J._wsClient.removeEvent("close",J._clientId),J._wsClient.removeEvent("error",J._clientId),J._wsClient.removeEvent("timeout",J._clientId),H.prev=14,H.next=17,J._wsClient.dispose();case 17:H.next=22;break;case 19:H.prev=19,H.t1=H.catch(14),re=H.t1;case 22:delete J._wsClient,J._wsClient=null;case 24:if(this._imageBufferWrapper.dispose(),this._bReady=Pe,this._destroy=rt,!re){H.next=29;break}throw re;case 29:case"end":return H.stop()}},Q,this,[[3,8],[14,19]])})),function(){return f.apply(this,arguments)})},{key:"_getImages",value:(c=a(w().mark(function Q(J,re,H,F){var B,V,G,z;return w().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if((B=this)._checkIndices(re)){Z.next=3;break}throw{code:this._errorCode,message:this._errorString};case 3:if(F!=gc.URL){Z.next=9;break}if(!(re.length>1)){Z.next=7;break}throw Fe(this,-2619,"Only single index selection is allowed when enumImageFormatType is set to url."),{code:this._errorCode,message:this._errorString};case 7:Z.next=13;break;case 9:if(H!=U.DWT.EnumDWT_ImageType.IT_BMP&&H!=U.DWT.EnumDWT_ImageType.IT_JPG&&H!=U.DWT.EnumDWT_ImageType.IT_PNG){Z.next=13;break}if(!(re.length>1)){Z.next=13;break}throw Q9(this),{code:this._errorCode,message:this._errorString};case 13:if(F!=gc.URL){Z.next=17;break}return Z.abrupt("return",this._imageBufferWrapper.getImageUrl(re[0]));case 17:if(j.cancelFrom=Mt.Other,V=Ju(B,re),F!=gc.Blob){Z.next=27;break}return Z.next=22,this._innerConvertToArrayBufferWithUIAsync(J,H,V);case 22:return G=Z.sent,z=At.getBlobTypeByImageType(H),Z.abrupt("return",new Blob([G],{type:z}));case 27:if(F!=gc.Base64){Z.next=31;break}return Z.next=30,this._convertToBase64ByServerIdsWithUIAsync(J,H,V);case 30:return Z.abrupt("return",Z.sent);case 31:throw Y9(this),{code:this._errorCode,message:this._errorString};case 33:case"end":return Z.stop()}},Q,this)})),function(Q,J,re,H){return c.apply(this,arguments)})},{key:"_LicensePromptExpired",value:function(){var Q=this,J=Q.__licenseInfo.bTrial,re="";Q.__licenseInfo&&Q.__licenseInfo.ExpireDate&&(re=Q.__licenseInfo.ExpireDate);var H=YF(re);H<=0&&(J||vr(Q._getErrorString()),p.isFunction(U.OnLicenseExpiredWarning)&&U.OnLicenseExpiredWarning(re,H,J))}},{key:"__saveToViewerAfterUpdate",value:function(Q,J){var re=this,H=this._imageBufferWrapper.getIndexByUid(Q),F=this._imageBufferWrapper.convertClientIndexToServerId(H),B=ar.getUrlByAct(this._imageBufferWrapper.BaseUrl,F,2);return new j.Promise(function(V,G){Po({method:"GET",xhrFields:{withCredentials:!0},url:B,onSuccess:function(z){var Z,ie=re._imageBufferWrapper.getMetadataByIndex(H);ie||(ie={}),ie.width=J.width,ie.height=J.height,Z=U.navInfoSync.bMobile?re._imageBufferWrapper.getMinImageUrl(H,Math.round(ie.controlWidth*devicePixelRatio),Math.round(ie.controlHeight*devicePixelRatio)):re._imageBufferWrapper.getMinImageUrl(H,ie.controlWidth,ie.controlHeight);var se=re._imageBufferWrapper.getImageIdMap(F);if(se){se.ticks=Date.now(),se.imageUrl=re._imageBufferWrapper.getImageUrl(H),se.minImageUrl=Z,se.width=J.width,se.height=J.height;var ne=p.clone(se);ne.imageId=F,re._imageBufferWrapper.UpdateImage(ne,ie)}V()},onError:function(){V(),kr("save")}})})}},{key:"RunCommandAsync",value:(d=a(w().mark(function Q(J){var re,H,F,B,V,G;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(re=this,J&&p.isString(J.command)&&J.parameter){z.next=4;break}throw $t(re),{code:re._errorCode,message:re._errorString};case 4:if(J.command!="Invert"){z.next=6;break}return z.abrupt("return",re._invert(J.parameter.index));case 6:if(H=J.parameter.index,!p.isNumber(H)){z.next=13;break}if(!(isNaN(H)||!p.isNumber(H)||H<0||H>=re._imageBufferWrapper.count())){z.next=11;break}throw qe(re),{code:re._errorCode,message:re._errorString};case 11:F=re._imageBufferWrapper.convertClientIndexToServerId(H),J.parameter.index=F;case 13:return B=["[",p.stringify(J),"]"].join(""),z.next=16,re._innerFunRawV3("runCommand",B);case 16:if(V=z.sent,!ue.bIE){z.next=21;break}if(!p.isString(V)){z.next=20;break}return z.abrupt("return",p.parse(V));case 20:return z.abrupt("return",V);case 21:if(!ul(G=V.headers.get("content-type"))){z.next=28;break}return z.next=25,V.json();case 25:return z.abrupt("return",z.sent);case 28:if(G!="text/plain"&&G!="text/html"){z.next=32;break}return z.next=31,V.text();case 31:return z.abrupt("return",z.sent);case 32:return z.next=34,V.blob();case 34:return z.abrupt("return",z.sent);case 35:case"end":return z.stop()}},Q,this)})),function(Q){return d.apply(this,arguments)})},{key:"_innerFunRawV3",value:(u=a(w().mark(function Q(J,re){var H,F,B;return w().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(B="fa/",(H=this)._resetErr(),H._isValid()){V.next=4;break}throw{code:H._errorCode,message:H._errorString};case 4:if(!Vi.isServerInvalid(H)){V.next=7;break}return V.abrupt("return",H._waitForConnect().then(function(){return H._innerFunRawV3(J,re)}));case 7:return F={method:"post",body:pl(H._clientId,J,re,0,H._bScanForProxyRemote),fetchRaw:!0},V.next=10,kd([H._httpUrl,B,J].join(""),F);case 10:return V.abrupt("return",V.sent);case 11:case"end":return V.stop()}},Q,this)})),function(Q,J){return u.apply(this,arguments)})},{key:"_invert",value:(s=a(w().mark(function Q(J){var re,H,F,B,V;return w().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(re=this,H=parseInt(J),re._resetErr(),re._isValid()){G.next=4;break}throw{code:re._errorCode,message:re._errorString};case 4:if(!isNaN(H)){G.next=7;break}throw Ot(re),{code:re._errorCode,message:re._errorString};case 7:if(!(H<0||H>=re._imageBufferWrapper.count())){G.next=10;break}throw qe(re),{code:re._errorCode,message:re._errorString};case 10:if((F=re._imageBufferWrapper.convertClientIndexToServerId(H))!=-1){G.next=14;break}throw qe(re),{code:re._errorCode,message:re._errorString};case 14:return G.next=16,re._innerFunV2("Invert",Ve(F),!0);case 16:if(B=G.sent,!(V=B==1)){G.next=22;break}At.refreshImageAfterInvokeFun(re,H),G.next=23;break;case 22:throw{code:re._errorCode,message:re._errorString};case 23:return G.abrupt("return",V);case 24:case"end":return G.stop()}},Q,this)})),function(Q){return s.apply(this,arguments)})}],[{key:"create",value:(o=a(w().mark(function Q(J){var re;return w().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return re=new n(J),H.next=3,Vi.STwainConnectToServer(re);case 3:return H.abrupt("return",re);case 4:case"end":return H.stop()}},Q)})),function(Q){return o.apply(this,arguments)})}]);var o,s,u,d,c,f,m,_,S,y,b,I,x,P,L,$,te,q}(Rce);function yU(r){var n=r,o="",s=!1;if(n.__licenseInfo&&(n.__licenseInfo.ExpireDate&&(o=n.__licenseInfo.ExpireDate),s=n.__licenseInfo.bTrial),s&&!U.DWT.HideTrialMessage){var u=YF(o);u<=5&&(p.isFunction(U.OnLicenseExpiredWarning)&&U.OnLicenseExpiredWarning(o,u,!0),U.DWT.HideTrialMessage=!0)}}function SU(r,n,o){var s;if(!p.isArray(r))return Pd(o),!1;if(r.length==0)return Fe(o,-2350,"The indices cannot be empty."),!1;if(U.DWT.ConnectWithSocket)return!0;for(s=0;s<r.length;s++){var u=r[s];if(p.isUndefined(u)||u===null)return oF(o),!1;if(u=parseInt(u),isNaN(u))return Ot(o),!1;if(u<0||u>=n)return iF(o),!1}return!0}var Ga={changeImageUISize:function(r,n,o){var s,u,d,c,f=n,m=o,_=Pe;s=Te.one(r._containerElement),p.isString(n)&&n.indexOf("%")>=0?((d=Te.css(s,"width"))==0&&(s[0].style.width="100%"),d=Te.css(s,"width")*parseInt(n)/100,_=rt):f=[(d=parseInt(n))+2,"px"].join(""),p.isString(o)&&o.indexOf("%")>=0?((c=Te.css(s,"height"))==0&&(s[0].style.height="100%"),c=Te.css(s,"height")*parseInt(o)/100,_=rt):m=[(c=parseInt(o))+2,"px"].join(""),s&&(u=Te.one(".dynamsoft-dwt-container-box",s))&&u.getEL()&&(u.style("width",f),u.style("height",m)),_?(r.__funResize||(r.__funResize=function(){if(r._ImgManager&&r._containerElement){var y=Ga.__innerGetUIViewRealSize(r._containerElement,r._width,r._height);return r._UIView.ChangeSize(y.width,y.height)}return rt}),p.removeEventListener(window,"resize",r.__funResize),p.addEventListener(window,"resize",r.__funResize)):r.__funResize&&(p.removeEventListener(window,"resize",r.__funResize),r.__funResize=Pe);var S=Ga.__innerGetUIViewRealSize(r._containerElement,d,c);return r._ImgManager?r._UIView.ChangeSize(S.width,S.height):rt},__innerGetUIViewRealSize:function(r,n,o){var s,u=-1,d=-1;return s=Te.one(r),p.isString(n)&&n.indexOf("%")>=0&&(u=Te.css(s,"width")*parseInt(n)/100),u<0&&n&&(u=parseInt(n)),p.isString(o)&&o.indexOf("%")>=0&&(d=Te.css(s,"height")*parseInt(o)/100),d<0&&o&&(d=parseInt(o)),{width:u,height:d}},bindUIViewEvents:function(r,n){var o=r;n.onSelected=function(s){if(!o._isNoViewer()){var u,d=s.length;d>0&&(o._ImgManager.SetSelectedImageCount(d),u=s[d-1],p.isFunction(o.__OnRefreshUI)&&o.__OnRefreshUI(u))}},n.onRefreshUI=function(s){o._isNoViewer()||Ga.__innerRefreshFromUIView(o,s)},n.onResetCurrentIndex=function(s){if(!o._isNoViewer()){var u=o._ImgManager.getCurrentImageIndex();if(s>=0&&s<o._ImgManager.count()&&u!=s&&p.isFunction(o.__OnIndexChangeDuringDragDrop))try{o.__OnIndexChangeDuringDragDrop(u,s)}catch(d){vr(d)}}},n.onMouseMove=function(s){if(!o._isNoViewer()){var u=s.index;if(s){var d=s.x,c=s.y;o.__MouseX=d,o.__MouseY=c}if(p.isFunction(o.__OnMouseMove))try{o.__OnMouseMove(u)}catch(f){vr(f)}}},n.onMouseClick=function(s){if(!o._isNoViewer()){var u=s.index;if(s){var d=s.x,c=s.y;o.__MouseX=d,o.__MouseY=c}if(p.isFunction(o.__OnMouseClick))try{o.__OnMouseClick(u)}catch(f){vr(f)}}},n.onMouseDoubleClick=function(s){if(!o._isNoViewer()){var u=s.index;if(p.isFunction(o.__OnMouseDoubleClick))try{o.__OnMouseDoubleClick(u)}catch(d){vr(d)}}},n.onMouseRightClick=function(s){if(!o._isNoViewer()){var u=s.index;if(s){var d=s.x,c=s.y;o.__MouseX=d,o.__MouseY=c}if(p.isFunction(o.__OnMouseRightClick))try{return o.__OnMouseRightClick(u)}catch(f){vr(f)}return rt}},n.onImageAreaSelected=function(s){if(!o._isNoViewer()&&p.isFunction(o.__OnImageAreaSelected))try{o.__OnImageAreaSelected(s.index,s.left,s.top,s.right,s.bottom,s.areaIndex)}catch(u){vr(u)}},n.onImageAreaDeSelected=function(s){if(!o._isNoViewer()&&p.isFunction(o.__OnImageAreaDeSelected))try{o.__OnImageAreaDeSelected(s)}catch(u){vr(u)}},n.onBufferChanged=function(s){if(p.isFunction(o.__OnBufferChanged))try{o.__OnBufferChanged(s)}catch(u){vr(u)}}},__innerRefreshFromUIView:function(r,n){var o=r;p.isFunction(o.__OnRefreshUI)&&o.__OnRefreshUI(n)}};function Xt(r,n,o){n in r||Object.defineProperty(r,n,o)}var Oce=function(){return v(function r(n){h(this,r);var o=this;o._parent=n,Xt(o,"width",{get:function(){return this._parent._width},set:function(s){this.SetSize(s,!1)}}),Xt(o,"height",{get:function(){return this._parent._height},set:function(s){this.SetSize(!1,s)}})},[{key:"SetSize",value:function(r,n){var o,s=this._parent,u=!1,d=!1;return!!s._isBindViewer()&&(p.isString(r)&&r.length>0&&r.charAt(r.length-1)==="%"&&(u=r),!u&&r&&(o=parseInt(r))&&(u=o+"px"),p.isString(n)&&n.length>0&&n.charAt(n.length-1)==="%"&&(d=n),!d&&n&&(o=parseInt(n))&&(d=o+"px"),u&&(s._width=u),d&&(s._height=d),Ga.changeImageUISize(s,u,d))}}])}();function bU(r){var n,o,s,u,d=r._config;j.dlgProgress||j.initProgress(r),d.bNoViewer?r._containerElement=null:(d.container?r._containerElement=d.container:d.containerId&&(r._containerElement=p.get(d.containerId)),r._width=d.width,r._height=d.height,n=Te.one(r._containerElement)),function(c,f){var m={Stwain:c},_=Pe;if(f){var S,y=c._width,b=c._height;S=Te.one(c._containerElement),p.isString(y)&&y.indexOf("%")>=0?(y=Te.css(S,"width")*parseInt(y)/100,_=rt):y=parseInt(y),p.isString(b)&&b.indexOf("%")>=0?(b=Te.css(S,"height")*parseInt(b)/100,_=rt):b=parseInt(b),m={Stwain:c,Container:f,Width:y,Height:b}}Ga.bindUIViewEvents(c,m),c._UIView?c._UIView._Init(m):c._UIView=new j.UI.ImageUIView(c,m),c.Width<=0&&(c.Width=270),c.Height<=0&&(c.Height=350),_&&Ga.changeImageUISize(c,c._width,c._height)}(r,n),r._isBindViewer()&&(o=r,s=r._config,u=s||{},o.__OnImageAreaDeSelected=u.onImageAreaDeSelected||"",o.__OnImageAreaSelected=u.onImageAreaSelected||"",o.__OnMouseClick=u.onMouseClick||"",o.__OnMouseDoubleClick=u.onMouseDoubleClick||"",o.__OnMouseMove=u.onMouseMove||"",o.__OnMouseRightClick=u.onMouseRightClick||"",o.__OnTopImageInTheViewChanged=u.onTopImageInTheViewChanged||"",o.__OnBufferChanged=u.onBufferChanged||"",r.__OnMouseClick=d.onMouseClick||"",r.__OnThumbnailMouseClick="",r.__OnKeyDown=d.onKeyDown||"",r.__OnMouseWheel=d.onMouseWheel||"",r.__OnMouseDoubleClick=d.onMouseDoubleClick||"",r.__OnMouseRightClick=d.onMouseRightClick||"",r.__OnMouseMove=d.onMouseMove||"",r.__OnImageAreaSelected=d.onImageAreaSelected||"",r.__OnImageAreaDeSelected=d.onImageAreaDeSelected||"",r.__OnRefreshUI=d.onRefreshUI||"",r.__OnBufferChanged=d.onBufferChanged||"",r.__MouseX=0,r.__MouseY=0,r.__style=new Oce(r),r.__fSelectionRectAspectRatio=0)}j.install={_divDWTNonInstallContainerID:"dwt-NonInstallContainerID",_divDWTemessageContainer:"",_dlgInstall:!1},j.install._strNonInstallDIV=['<div style="text-align:center;" id="',j.install._divDWTNonInstallContainerID,'"></div>'].join("");var xs=U.DWT;xs.CloseDialog=function(){var r=j.install._dlgInstall;if(r){var n=p.sizzle(".dynamsoft-dialog-close");p.each(n,function(o,s){p.removeEventListener(o,"click",xs.CloseDialog)}),r.open&&r.close(),document.body.removeChild(r),j.install._dlgInstall=!1}},xs.ShowDialog=function(r,n,o,s,u){if(o!==!1){var d,c={width:r,height:n,position:"absolute"};s?(d=['<div class="dynamsoft-dwt-dialog-body">',o,"</div>"].join(""),c.closeButton=!1):d=['<div class="ds-dwt-ui-showdlg">','<div class="dynamsoft-dwt-dialog-body">','<div class="dynamsoft-dwt-dlg-header">',u?"":'<div class="dynamsoft-dialog-close"></div>',"</div>",o,"</div>","</div>"].join(""),u&&(c.closeButton=!1),xs.ShowMessage(d,c)}},xs.ShowMessage=function(r,n){var o,s,u,d,c,f=j.install,m="ds-dwt-ui-dlg",_="ds-dwt-ui-dlg-wrap",S=screen.width,y=!0,b=0,I=!0,x=!0,P=0,L="fixed",$="Error",te=Ie.bActiveXEdition,q=!1,Q=null;if(n&&(o=n.width,s=n.height,n.seconds&&(b=n.seconds),n.headerStyle&&(P=n.headerStyle),n.backgroundStyle==1&&(q=!0),n.closeButton===!1&&(I=!1),n.bAutoClose&&(u=n.bAutoClose,I=!0),n.bReadyClosed==0&&(y=!1),n.position&&(L=n.position),n.caption&&($=n.caption),p.isFunction(n.onClose)&&(Q=n.onClose)),o?!ue.bMobile&&o>S-10&&(o=S-10):o=S>600?600:S-10,s||(s="100%"),P==1?r=['<div class="dynamsoft-dialog">','<div class="dynamsoft-dwt-dialog-body">','<div class="dynamsoft-dwt-dlg-header">',I?'<div class="dynamsoft-dialog-close"></div>':"","</div>",r,"</div></div>"].join(""):P==2&&(r=['<div class="dynamsoft-dialog">','<div class="dynamsoft-dwt-ltsdlg-header"><span style="color:#FFF;line-height:35px;margin-left:15px">',$,"</span>",I?'<div class="dynamsoft-dialog-close"></div>':"","</div>",'<div class="dynamsoft-dwt-ltsdlg-body" style="padding:25px 40px 20px 40px;">',r,"</div></div>"].join("")),p.sizzle("."+m).length==0){var J=document.createElement("div"),re=document.createElement("div"),H=document.createElement("div");if(J.className=m,re.className=_,re.style.margin="auto",re.style.zIndex="9999",re.style.position="relative",re.style.border="0",u&&((d=document.createElement("div")).className="dynamsoft-dialog-close",re.insertBefore(d,re.firstElementChild),(c=document.createElement("div")).className="dynamsoft-dialog-closeTimer",c.style.width="100%",c.style.height="2px",c.style.marginTop="-2px",c.style.backgroundColor="#fe8e14",re.insertBefore(c,re.firstElementChild)),re.appendChild(H),fE(H,r),J.appendChild(re),document.body.appendChild(J),Q){var F=Te.one(".dynamsoft-dialog-close",Te.one(J));F&&((F=F[0]).onClose=function(){p.removeEventListener(F,"click",F.onClose),F.onClose=null,Q()},p.addEventListener(F,"click",F.onClose))}if(q?Te.setBackOpacity({opacity:.4,grayHex:0}):Te.setBackOpacity({}),J.bTopmost=!0,f._dlgInstall=J,Te.dialog.setup(f._dlgInstall,!1),ue.bIE){var B=document.createElement("iframe");B.frameborder="0",B.marginheight="0",B.marginwidth="0",B.style.border="0",B.style.backgroundColor="transparent",B.style.position="absolute",B.style.left=0,B.style.top=0,B.style.width="100%",B.style.height=document.body.clientHeight+"px",B.style.margin="0 auto",B.style.zIndex="10000",B.src=["javas","cript:",'""'].join("");var V=Te.one(".dynamsoft-backdrop");if(V&&V.length>0){for(var G=V[0];G.firstChild;)G.removeChild(G.firstChild);G.style.zIndex="10000",G.appendChild(B)}}}else x=!1;var z=Te.one("."+_);if(z&&z.getEL()&&(z[0].style.width=o+"px",p.isNumber(s)&&s>0?z[0].style.height=s+"px":z[0].style.height="100%",x||p.each(z[0].childNodes,function(se){if(se.tagName=="DIV"&&se.className!="dynamsoft-dialog-close"&&se.className!="dynamsoft-dialog-closeTimer")return fE(se,r),!1})),te){var Z=Te.one(".dynamsoft-dialog");Z&&Z.getEL()&&(Z.getEL().style.border="1px solid #999")}if(f._dlgInstall.open&&f._dlgInstall.close(),f._dlgInstall.showModal({position:L}),f._dlgInstall.bReadyClosed=y,q&&Te.setBackOpacity({}),I){var ie=p.sizzle(".dynamsoft-dialog-close");p.each(ie,function(se,ne){p.addEventListener(se,"click",xs.CloseDialog)}),ie.length>0&&u&&b>0&&setTimeout(j._zdgb_xkz_dhk,100)}},xs.OnWebTwainPreExecute||(xs.OnWebTwainPreExecute=function(r,n){var o,s,u=U.DWT.IfConfineMaskWithinTheViewer;if(u&&(r&&(s=r._containerElement),s||U.DWT.Containers&&U.DWT.Containers.length>0&&U.DWT.Containers[0].ContainerId&&(s=p.get(U.DWT.Containers[0].ContainerId)),s)){o=s.getBoundingClientRect();for(var d=0;d<s.children.length;d++){var c=s.children[d];if(c&&c.className=="dvs-root dvs-web-viewer"){for(c=c.firstElementChild;c;){if(p.isFunction(c.getBoundingClientRect)){o=c.getBoundingClientRect();break}c=c.nextSibling}s=c;break}}}(s===document.body||o==null||U.DWT.Containers&&U.DWT.Containers.length>1||U.DWT.Containers&&U.DWT.Containers.length==1&&(o.width==0||o.height==0))&&(u=!1,s=null);var f=n??{};u&&(f={confined:u,wrapperEl:s}),j.showMask(f)}),xs.OnWebTwainPostExecute||(xs.OnWebTwainPostExecute=function(){Te.hideMask()});function fE(r,n){document.body&&Te.setHtml(r,n)}function Nce(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function mg(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}window.DCP_DWT_OnClickCloseInstall=function(r,n){n||U.DWT.CloseDialog();var o=p.get(j.install._divDWTNonInstallContainerID);if(o&&o.parentNode&&o.parentNode.removeChild(o),r&&p.isDOM(r)&&p.show(r),r&&p.isString(r))p.show(r);else{var s=U.DWT.WebTwainIdMap;if(s){var u,d,c=Object.keys(s);for(u=0;u<c.length;u++)s[d=c[u]]._containerElement&&p.show(s[d]._containerElement)}}j.install._divDWTemessageContainer!=""&&p.show(j.install._divDWTemessageContainer)},j._zdgb_xkz_dhk=function(){var r=j.install._dlgInstall;if(r){var n=p.sizzle(".dynamsoft-dialog-closeTimer",r);if(n.length>0){var o=n[0],s=parseInt(o.style.width);(s-=1)<=0?U.DWT.CloseDialog():(o.style.width=s+"%",setTimeout(j._zdgb_xkz_dhk,100))}}},j.ShowLicenseDialog=U.DWT.ShowMessage,j.createLoadingBarContent=function(){};var Tf=new WeakSet,Mce=function(r){function n(y){var b;return h(this,n),Nce(b=l(this,n,[y]),Tf),b}return D(n,r),v(n,[{key:"_getWSContextData",value:function(){return{document:this._getCurrentDocumentName(),tag:this._getCurrentDefaultTagName(),bNeedClearTag:!1}}},{key:"_getErrorString",value:function(){var y=this;return y._errorCode==-2207&&y._bMustUpgradeService&&Ed(y),y._errorCode!=0?y._errorString:"Successful."}},{key:"_getWebTwainId",value:function(){return this._id}},{key:"_isTwainServiceType",value:function(){return!0}},{key:"_isPC",value:function(){return ue.bWin||ue.bMac||ue.bLinux}},{key:"_serviceSyncMethodNotSupport",value:function(y){var b=this;return Fe(b,-2605,'The synchronized method "'+y+'" is not supported under the current settings.'),{code:b._errorCode,message:b._getErrorString()}}},{key:"_serviceAsyncMethodNotSupport",value:function(y){var b=this;return Fe(b,-2606,'The asynchronized method "'+y+'" is not supported under the current settings.'),{code:b._errorCode,message:b._getErrorString()}}},{key:"_serviceNotSupportAsync",value:function(y){var b=this;return Fe(b,-2397,y+" doesn't work under current settings."),Te.Promise.reject({code:b._errorCode,message:b._getErrorString()})}},{key:"_nouiNotSupport",value:function(y,b){var I=this;return Fe(I,-2210,"You cannot call this method on this WebTwain instance because it does not use the default viewer."),p.isFunction(b)&&b(I._errorCode,I._getErrorString()),!1}},{key:"_innerFunRaw",value:function(y,b,I,x,P,L,$){var te,q,Q,J,re=this,H="f/",F=I;if(F&&(H="fa/"),U.DWT.ConnectWithSocket)this._sendData(y,b,!1,L,$);else{if(re._resetErr(),!re._isValid())return!!F&&void 0;var B=Vi.isServerInvalid(re);if(F&&B)return re._waitForConnect().then(function(){return re._innerFunRaw(y,b,F,x,P,L,$)});if(!F&&B)return hF(re),!1;if(Q={method:"POST",url:te=[re._httpUrl,H,y].join(""),data:q=pl(re._clientId,y,b,0,re._bScanForProxyRemote),async:F,onSuccess:function(G,z,Z){var ie=!1;try{ie=p.isString(G)&&ul(Z.getResponseHeader("content-type"))?p.parse(G):G}catch{}ie?(co(ie)?(re._errorCode=ie.exception,re._errorString=ie.description):re._resetErr(),J=P?ie:ie.result):(CT(re),J=""),p.isFunction(L)&&L(J),F&&(J=null)},onError:function(){t_(re),J="",!j.page.bUnload&&p.isFunction($)&&$()}},!F&&x)ue.bIE?(Q.dataType="arraybuffer",Q.onSuccess=function(G,z,Z){var ie,se,ne,ae=!1;if(Z.responseHeadersString&&JR(Z.responseHeadersString)&&(ae=!0),ie=Z.responseData,re._resetErr(),J=!1,ie&&(se=new Uint8Array(ie),ae?ie=String.fromCharCode.apply(null,se):(J=new Blob([se],{type:re._strHttpContentTypeFieldValue}),(ne=new O0.ArrayBuffer).append(se),J.md5=ne.end())),!ie||ae){var be,ge=!1;if((be=ae?ie:Z.responseText).length>0){if(be.charAt(0)=="{")try{ge=p.parse(be),ae=!0}catch{p.log(be)}ae?co(ge)?(re._errorCode=ge.exception,re._errorString=ge.description,J=!1):J=!0:(se=new Uint8Array(be),J=new Blob([se],{type:re._strHttpContentTypeFieldValue}),(ne=new O0.ArrayBuffer).append(se),J.md5=ne.end())}}p.isFunction(L)&&L(J)}):(F||(Q.dataType="text",Q.contentType="text/plain; charset=x-user-defined",Q.mimeType="text/plain; charset=x-user-defined"),Q.onSuccess=function(G,z,Z){var ie,se,ne;if(re._resetErr(),(se=(ie=Z.responseText).length)>0){var ae,be=!1;if(ie.charAt(0)=="{")try{ae=p.parse(ie),be=!0}catch{p.log(ie)}if(be)co(ae)?(re._errorCode=ae.exception,re._errorString=ae.description,J=!1):J=!0;else{ne=new Uint8Array(se);for(var ge=0;ge<se;ge++)ne[ge]=ie.charCodeAt(ge);J=new Blob([ne],{type:re._strHttpContentTypeFieldValue});var ve=new O0.ArrayBuffer;ve.append(ne),J.md5=ve.end()}}else J="";p.isFunction(L)&&L(J)});else if(F&&x){Q={method:"POST",body:q},ue.bIE?Q.dataType="arraybuffer":Q.fetchRaw=!0;var V=kd(te,Q);return ue.bIE||(V=V.then(function(G){var z=G.headers.get("content-type");return z.indexOf("image/")>=0||z.indexOf("application/octet-stream")>=0?G.arrayBuffer():G.json()})),V=V.then(function(G){if(re._resetErr(),nu(G))return p.isFunction(L)&&L(G),void(G=null);if(p.isObject(G)){var z=G;if(co(z))re._errorCode=z.exception,re._errorString=z.description,p.isFunction($)&&$();else{var Z="";z.result&&(Z=z.result),p.isFunction(L)&&L(Z)}}else t_(re),!j.page.bUnload&&p.isFunction($)&&$()},function(G){t_(re),!j.page.bUnload&&p.isFunction($)&&$()}),!0}if(F||p.mix(Q,{headers:{"X-Requested-With":!1}}),ue.bFileSystem&&(Q.crossDomain=!1),Po(Q),!F)return J}}},{key:"_innerSendCmd",value:function(y,b){this._innerFunRaw(y,b,!0,!1,!0)}},{key:"_innerFun",value:function(y,b){var I;return I=this._innerFunRaw(y,b,!1,!1,!1),p.isArray(I)?I[0]:I}},{key:"__OnRecieveMsg",value:function(y,b){var I=this,x=b==null?void 0:b.cmd;if(y.event)return E(A(n.prototype),"__OnRecieveMsg",this).call(this,y,b);if(U.DWT.ConnectWithSocket)return E(A(n.prototype),"__OnRecieveMsg",this).call(this,y,b);if(co(y)?(I._errorCode=y.exception,I._errorString=y.description):x!="StartScan"&&x!="GetAddOnVersion"&&(I._errorCode=0,I._errorString=""),x=="ReadBarcode"||x=="OCRRecognize"||y.request&&y.request.method=="OCRProRecognize")return b.sFun?b.sFun(y):b.fFun&&b.fFun(y),!0;if(x=="ActiveUI"||x=="VersionInfo"||x=="ConvertToBase64"||x=="SaveSelectedImagesToBase64Binary"||x=="ConvertToBlob"||x=="BeginSaveMem")return b.sFun&&p.isArray(y.result)&&y.result.length>0?b.sFun(y.result):b.fFun&&b.fFun(y.result),!0;if(x=="ShowFileDialog"||x=="SplitTiff"||x=="SplitPDF"||x=="EncodeAsBase64"||x=="ProductKey"||x=="GetSourceNames"||x=="GetSkewAngle"||x=="GetImageInfo"||x=="GetSkewAngleFromBinary")return b.sFun?b.sFun(y.result):b.fFun&&b.fFun(y.result),!0;if(x=="SetCapabilities")return E(A(n.prototype),"__OnRecieveMsg",this).call(this,y,b);if(y.result&&y.result.length&&(y.result[0]=="1"||y.result[0]==1||y.result[0]=="ok"))(b.sFun||b.sFun)&&b.sFun(b.rawData?y:y.result);else{if(!y.exception)return b.sFun&&b.sFun(y.result),y=null,!0;var P=!1;b.fFun&&(P=b.fFun(I._errorString)),!P&&y.exception&&y.exception<0&&y.exception!=-2115&&p.isFunction(I.__OnPrintMsg)&&I.__OnPrintMsg(I._errorString)}return!0}},{key:"OnRefreshUI",value:function(y,b,I,x){return this._innerRefreshUI(y,b,I,x)}},{key:"GetCurrentDocumentName",value:function(){return this._resetErr(),!!this._isValid()&&this._getCurrentDocumentName()}},{key:"RegisterEvent",value:function(y,b){return!!this.registerEvent(y,b)}},{key:"UnregisterEvent",value:function(y,b){return this.unregisterEvent(y,b)}},{key:"onEvent",value:function(y,b){this.registerEvent(y,b)}},{key:"on",value:function(y,b){this.registerEvent(y,b)}},{key:"_OnConsumed",value:function(y){}},{key:"_OnPostLoad",value:function(y,b){var I,x,P,L,$=this;b!==void 0&&b.exception!==void 0&&b.description!==void 0&&($._errorCode=b.exception,$._errorString=b.description),p.log("OnPostLoad Results:"),x=y[1].split(","),I=p.base64.decode(x[0]),P=p.base64.decode(x[1]),p.log(I),p.log(P),p.log(x[2]),IU($,"On PostLoad"),(L=$._ImgManager.getCurrentImageIndex())>=0&&$._innerRefreshUI(L),p.isFunction($.__OnPostLoad)&&$.__OnPostLoad(I,P,x[2])}},{key:"_OnPostTransfer",value:function(y){var b=this;if(p.log("On PostTransfer Results:"+y),IU(b,"On PostTransfer"),p.isFunction(b.__OnPostTransfer))try{b.__OnPostTransfer()}catch(I){vr(I)}}},{key:"_OnPreAllTransfersAsync",value:function(y){var b=this;if(p.isFunction(b.__OnPreAllTransfersAsync)){var I={event:"beforeAcquire",result:{}};try{p.isArray(y)&&y.length>1&&(I=p.parse(y[1]))}catch{}setTimeout(function(){try{b.__OnPreAllTransfersAsync(I)}catch(x){vr(x)}},10)}}},{key:"_OnPostAllTransfers",value:function(y){var b=this;if(y.length>=2&&b._errorCode==0&&(b._errorCode=y[1],b._errorString=y[2]),p.log("On PostAllTransfers Results:"+y),b.__bLoadingImage=!1,b.__bAcquireImageNow=!1,b.__closeRemoteScanUI(!0),p.isFunction(b.__OnPostAllTransfers))try{b.__OnPostAllTransfers()}catch(I){vr(I)}}},{key:"_OnResult",value:function(y){var b=y[1];if(p.isFunction(this.__OnResult))try{this.__OnResult(b)}catch(I){vr(I)}}},{key:"_OnTransferCancelled",value:function(y){var b=this;if(b._ImgManager.getCurrentImageIndex(),b._ImgManager.count(),b.__bLoadingImage=!1,b.__bAcquireImageNow=!1,p.isFunction(b.__OnTransferCancelled))try{b.__OnTransferCancelled()}catch(I){vr(I)}}},{key:"_OnTransferError",value:function(y){if(p.isFunction(this.__OnTransferError))try{this.__OnTransferError()}catch(b){vr(b)}}},{key:"_OnSourceUIClose",value:function(y){var b=this;if(b.__closeRemoteScanUI(!0),p.isFunction(b.__OnSourceUIClose))try{b.__OnSourceUIClose()}catch(I){vr(I)}}},{key:"_OnPreTransfer",value:function(y){if(p.isFunction(this.__OnPreTransfer))try{this.__OnPreTransfer()}catch(b){vr(b)}}},{key:"_OnPreAllTransfers",value:function(y){if(p.isFunction(this.__OnPreAllTransfers))try{this.__OnPreAllTransfers()}catch(b){vr(b)}}},{key:"_OnGetFilePath",value:function(y){var b,I,x,P=this;if(b=y[1].split(","),p.log("On GetFilePath Results:"+y),I=p.base64.decode(b[3]),x=p.base64.decode(b[4]),b[2]=="-1032"&&(b[2]="-1",I=x=""),p.isFunction(P.__OnGetFilePath))try{P.__OnGetFilePath(1*b[0]>0,1*b[1],1*b[2],I,x)}catch(L){vr(L)}P.__bOpenFileNow=!1}},{key:"_OnDiskExceedLimit",value:function(){p.isFunction(this.__OnDiskExceedLimit)&&this.__OnDiskExceedLimit()}},{key:"__GetLoadEventsNum",value:function(){var y=0;return p.isFunction(this.__OnPostLoad)&&(y|=1),p.isFunction(this.__OnGetFilePath)&&(y|=2),y}},{key:"_innerSend",value:function(y,b,I,x,P){var L=this;if(U.DWT.ConnectWithSocket||y!="SaveSelectedImagesToBytes"&&y!="ConvertToBlob")return this._sendData(y,b,I,x,P);var $=vp(),te=pl(L._clientId,y,b,$,L._bScanForProxyRemote);return L._innerFunRaw(y,te,!0,!0,!0,x,P),Te.Promise.resolve(!0)}},{key:"_convertToBlobByIndices",value:function(y,b,I,x,P,L){var $=this,te=!1,q=function(re){p.isFunction(L)&&jn(L,$,re,b,x),re=null};if(p.isFunction(P)&&(te=!0),$._resetErr(),!$._isValid())return q(y),!!te&&void 0;var Q=parseInt(b);if(!_t.checkProductKey($,{Core:!0})||!$._checkIndices(y))return q(y),!!te&&void 0;if(Q==U.DWT.EnumDWT_ImageType.IT_BMP||Q==U.DWT.EnumDWT_ImageType.IT_JPG||Q==U.DWT.EnumDWT_ImageType.IT_PNG||Q==U.DWT.EnumDWT_ImageType.IT_J2K){if(y.length>1)return Fe($,-2372,"You cannot convert more than one image to binary when the format is BMP, JPG or PNG."),q(y),!!te&&void 0}else if(Q!=U.DWT.EnumDWT_ImageType.IT_TIF&&Q!=U.DWT.EnumDWT_ImageType.IT_PDF)return Li($),q(y),!!te&&void 0;var J=Ju($,y);return J.length==0?(Ot($),q(y),!!te&&void 0):te?(j.cancelFrom=Mt.ConvertToBlob,void $._innerConvertToBlobWithUI("ConvertToBlob",Q,J,I,function(re,H){p.isFunction(P)&&_n(P,re,H,b,x),re=H=null},q)):mg(Tf,$,Lce).call($,J,Q,I)}},{key:"_getDefaultDevice",value:function(){var y=this;if(y._resetErr(),!y._isValid())return null;var b="",I=ht.TWAINSCANNER,x=y._innerFun("GetDefaultSourceName");if(x.length>0)try{var P=JSON.parse(x);I=P.type,b=p.base64.decode(P.ProductName)}catch{b=""}var L=new ta;return L.name=b,L.deviceType=I,L.isSystemDefaultPrinter=!1,uC(L),L}},{key:"_OnCurrentDeviceSelected",value:function(y,b){var I,x,P=this;if(y&&y.length>=2)try{x=parseInt(y[0]);var L=String(y[1]);(I=eK(this,L)).strDevice=L,P._curDevice=I}catch(te){p.error(te)}var $=!1;if(p.isFunction(P.__OnCurrentDeviceSelected))try{$=P.__OnCurrentDeviceSelected(I,x)}catch(te){vr(te)}return $}},{key:"_getDefaultDeviceAsync",value:(S=a(w().mark(function y(){var b,I,x,P,L,$;return w().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if((b=this)._resetErr(),b._isValid()){te.next=4;break}return te.abrupt("return",null);case 4:return I="",x=ht.TWAINSCANNER,te.next=8,b._sendDataByHttpAsync("GetDefaultSourceName");case 8:if((P=te.sent).length>0)try{L=JSON.parse(P),x=L.type,I=p.base64.decode(L.ProductName)}catch{I=""}return($=new ta).name=I,$.deviceType=x,$.isSystemDefaultPrinter=!1,x==ht.TWAINX64SCANNER&&I.length>0?$.displayName="Twain64-"+I:x==ht.ICASCANNER&&this.__serverPlatform==Et.enumMac&&I.length>0?$.displayName="ICA-"+I:$.displayName=I,te.abrupt("return",$);case 16:case"end":return te.stop()}},y,this)})),function(){return S.apply(this,arguments)})},{key:"_getSources",value:function(y,b,I){return hO(this,this._innerFun("GetSources",Ve(y,b!=null&&b,I!=null&&I)))}},{key:"_getSourceCountAsync",value:(_=a(w().mark(function y(b){var I,x,P,L,$,te,q;return w().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if((I=this)._resetErr(),I._isValid()){Q.next=4;break}return Q.abrupt("return",Te.Promise.reject({code:I._errorCode,message:I._errorString}));case 4:return mg(Tf,I,TU).call(I),Xr("GetSourceCountAsync",I),x=[],Q.prev=7,b&&(I._driverType=b),P=Pe,L=Pe,$=Pe,te=Pe,I._bRemoteMode?I.__serverPlatform==Et.enumWindow?$=!0:I.__serverPlatform==Et.enumLinux?L=!0:I.__serverPlatform==Et.enumMac?P=!0:I.__serverPlatform==Et.enumAndroid&&(te=!0):(P=ue.bMac,L=ue.bLinux,$=ue.bWin,te=ue.bAndroid),q=y_(I._driverType,$,L,P,te),Q.next=15,this._getDevices(q,!0,void 0);case 15:x=Q.sent,Q.next=21;break;case 18:throw Q.prev=18,Q.t0=Q.catch(7),Q.t0;case 21:return Q.prev=21,kr("GetSourceCountAsync"),Q.finish(21);case 24:return Q.abrupt("return",I._setDevices(x));case 25:case"end":return Q.stop()}},y,this,[[7,18,21,24]])})),function(y){return _.apply(this,arguments)})},{key:"_setDevices",value:function(y){var b,I=this;return I.__devices=y,b=y.length,I.__sourceCount=b,b<=0?(I.__defaultSourceName="",I.__sourceCount=0,0):b}},{key:"_getSourceNameByIndex",value:function(y){var b=this.__devices.length;return y<0||y>=b?"":this.__devices[y].displayName}},{key:"_dwtConvertToBlobSync",value:function(y,b,I,x,P,L){var $=this,te=I,q=",";p.isString(te)&&te!=""||(te="",q="");var Q=["[",y,',"',b.join(","),'"',q,te,"]"].join(""),J=$._innerFunRaw("ConvertToBlob",Q,!1,!0,!1),re="";if($._errorCode==0){J&&"md5"in J&&(re=J.md5);var H=!0;return p.isFunction(x)&&(H=x(J,re,L)),H}return p.isFunction(P)&&ft(P,$),!1}},{key:"_getSourceCountSync",value:function(){var y,b=this,I=Pe,x=Pe,P=Pe,L=Pe;if(b._bRemoteMode?b.__serverPlatform==Et.enumWindow?P=!0:b.__serverPlatform==Et.enumLinux?x=!0:b.__serverPlatform==Et.enumMac?I=!0:b.__serverPlatform==Et.enumAndroid&&(L=!0):(I=ue.bMac,x=ue.bLinux,P=ue.bWin,L=ue.bAndroid),y=y_(this._driverType,P,x,I,L),b._resetErr(),!b._isValid()||!_t.checkProductKey(b,{Core:!0}))return 0;mg(Tf,b,TU).call(b);var $=b._getSources(y,!0,void 0);return b._setDevices($)}},{key:"_OnActiveUI",value:(m=a(w().mark(function y(b){var I;return w().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return I=this,b&&b.length>2&&(I.__strProductName=b[2]),x.next=4,E(A(n.prototype),"_OnActiveUI",this).call(this,b);case 4:return x.next=6,I._setConvertModeAsync(I._pdfConvertMode).catch(function(){});case 6:case"end":return x.stop()}},y,this)})),function(y){return m.apply(this,arguments)})},{key:"_OnReady",value:(f=a(w().mark(function y(){var b,I,x,P,L;return w().wrap(function($){for(;;)switch($.prev=$.next){case 0:return so((b=this)._serverInfo.server)&&(ra.item("DWT_port",b._serverInfo.port),ra.item("DWT_ssl",b._serverInfo.ssl?"true":"false")),b._bNoMask||Xr("OnReady",b),$.prev=3,$.next=6,E(A(n.prototype),"_OnReady",this).call(this);case 6:if(!ui()){$.next=12;break}if(b._uuidForActiveUI){$.next=12;break}return $.next=10,U.DWT.lgcuid(U.DWT.lgdt(),"");case 10:I=$.sent,b._uuidForActiveUI=I;case 12:return $.next=14,b._innerActiveUI(b._uuidForActiveUI);case 14:return x=$.sent,$.next=17,b._OnActiveUI(x);case 17:if(Nr("Changing Map..."),(P=b._id)&&!U.DWT.WebTwainIdMap[P]&&(U.DWT.WebTwainIdMap[P]=b),bU(b),L=!1,b._bRemoteMode||(L=j.attachAddon(b)),U.DWT.IfDisableDefaultSettings){$.next=29;break}return Nr("Configuring the WebTwain instance..."),$.next=27,Wce(b);case 27:$.next=32;break;case 29:if(!L){$.next=32;break}return $.next=32,new Te.Promise(function(te){setTimeout(te,300)});case 32:$.next=39;break;case 34:throw $.prev=34,$.t0=$.catch(3),$.t0&&(b._errorCode=$.t0.code,b._errorString=$.t0.message),b.dispose(),$.t0;case 39:return $.prev=39,b._bNoMask||kr("OnReady"),$.finish(39);case 42:case"end":return $.stop()}},y,this,[[3,34,39,42]])})),function(){return f.apply(this,arguments)})},{key:"_OnWSClose",value:function(y){E(A(n.prototype),"_OnWSClose",this).call(this,y),j.detect.bOK=!1,this.__bAcquireImageNow=!1}},{key:"_OnWSTimeout",value:function(y){E(A(n.prototype),"_OnWSTimeout",this).call(this,y),j.detect.bOK=!1}},{key:"_setConvertModeAsync",value:function(y){var b,I=this,x=1*y;return isNaN(x)?(DT(I),Te.Promise.reject({code:I._errorCode,message:I._errorString})):I._checkConvertModeInner(x)?(b=this._mixSavedPdfReaderOptions({convertMode:x,renderOptions:{renderAnnotations:!!I._pdfOptions.renderOptions.renderAnnotations}}),I._resetPdfOptionsWhenSetConvertMode(b),mg(Tf,I,CU).call(I,b,x)):Te.Promise.reject({code:I._errorCode,message:I._errorString})}},{key:"_OnReconnected",value:(c=a(w().mark(function y(){var b;return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return b=this,I.next=3,mg(Tf,b,CU).call(b,b._pdfOptions);case 3:case"end":return I.stop()}},y,this)})),function(){return c.apply(this,arguments)})},{key:"_getConvertMode",value:function(){return this._pdfConvertMode}},{key:"_setConvertMode",value:function(y){var b,I=this,x=1*y;if(isNaN(x))return DT(I),!1;if(!I._checkConvertModeInner(x))return!1;b=this._mixSavedPdfReaderOptions({convertMode:x,renderOptions:{renderAnnotations:!!I._pdfOptions.renderOptions.renderAnnotations}}),I._resetPdfOptionsWhenSetConvertMode(b);var P=I._setReaderOptions(b,!1);return P&&(I._pdfConvertMode=x,I._pdfOptions.convertMode=b.convertMode,I._pdfOptions.renderOptions.renderAnnotations=b.renderOptions.renderAnnotations,I._pdfOptions.convertMode==gr.CM_IMAGEONLY&&I._pdfConvertMode==gr.CM_RENDERALL||I._pdfOptions.convertMode==gr.CM_IMAGEONLY&&I._pdfConvertMode==gr.CM_RENDERALLWITHANNOTATION)?(I._pdfConvertMode=gr.CM_IMAGEONLY,xd(I),!1):P}},{key:"_checkConvertModeInner",value:function(y){var b=this;return!!_t.checkProductKey(b,{Core:!0})&&(b._resetErr(),!!b._isValid()&&(y==gr.CM_RENDERALL||y==gr.CM_IMAGEONLY||y==gr.CM_AUTO||y==gr.CM_RENDERALLWITHANNOTATION||(DT(b),!1)))}},{key:"_resetPdfOptionsWhenSetConvertMode",value:function(y){var b=y.convertMode;b==gr.CM_IMAGEONLY||_t.hasPDFRProductKey(this)?y.convertMode=b:y.convertMode=gr.CM_IMAGEONLY,y.convertMode==gr.CM_IMAGEONLY||y.convertMode==gr.CM_RENDERALL?y.renderOptions.renderAnnotations=!1:y.convertMode==gr.CM_RENDERALLWITHANNOTATION&&(y.renderOptions.renderAnnotations=!0)}},{key:"_checkPDFPasswordValue",value:function(y){if(!p.isUndefined(y)){if(!p.isString(y))return Fe(this,-2852,"The password is not a string."),!1;if(y.length>32)return function(b){Fe(b,-2851,"The password must not exceed 32 characters in length.")}(this),!1}return!0}},{key:"_mixSavedPdfReaderOptions",value:function(y){var b;return b=p.clone(this._pdfOptions),y||(y={}),y.convertMode&&(b.convertMode=y.convertMode),p.isString(y.password)?b.password=y.password:p.isNumber(y.password)&&(b.password=""+y.password),y.renderOptions&&(b.renderOptions=p.mix(this._pdfOptions.renderOptions,y.renderOptions)),b}},{key:"_setReaderOptions",value:function(y,b){var I,x,P=this,L=-1;if(P._resetErr(),y&&y.renderOptions){var $=y.renderOptions.resolution,te=y.renderOptions.maxWidth,q=y.renderOptions.maxHeight,Q=y.renderOptions.renderGrayscale;if(!p.isUndefined($)&&(!U.Lib.isNumber($)||$<=0))return Fe(P,-2830,"The PDF resolution must be a positive number."),!1;if(!p.isUndefined(te)&&(!U.Lib.isNumber(te)||te<0))return function(B){Fe(B,-2831,"The PDF max width must be a positive number.")}(P),!1;if(!p.isUndefined(q)&&(!U.Lib.isNumber(q)||q<0))return function(B){Fe(B,-2832,"The PDF max height must be a positive number.")}(P),!1;if(!p.isUndefined(Q)&&!U.Lib.isBoolean(Q))return function(B){Fe(B,-2833,"The PDF render grayscale must be a boolean.")}(P),!1}if(b){I={},y||(y={}),y.convertMode?I.convertMode=y.convertMode:I.convertMode=gr.CM_AUTO,L=I.convertMode,p.isString(y.password)?I.password=y.password:p.isNumber(y.password)?I.password=""+y.password:I.password="",I.renderOptions=p.mix({renderAnnotations:!1,resolution:200,maxWidth:0,maxHeight:0,renderGrayscale:!1},y.renderOptions);var J=I.renderOptions.renderAnnotations;p.isBoolean(J)||p.isString(J)&&(I.renderOptions.renderAnnotations=J.toLowerCase()=="true");var re=I.renderOptions.renderGrayscale;if(p.isBoolean(re)||p.isString(re)&&(I.renderOptions.renderGrayscale=re.toLowerCase()=="true"),p.isNumber(I.convertMode)){if(!P._checkConvertModeInner(I.convertMode))return!1;_t.hasPDFRProductKey(P)||(I.convertMode=gr.CM_IMAGEONLY),I.convertMode==gr.CM_IMAGEONLY?I.renderOptions.renderAnnotations=!1:I.convertMode==gr.CM_RENDERALLWITHANNOTATION&&(I.renderOptions.renderAnnotations=!0)}}else{if(p.isUndefined(y))return function(B){Fe(B,-2834,"The PDF reader options is invalid.")}(P),!1;if(I=y,!(p.isString(y.password)||p.isUndefined(y.password))){if(!p.isNumber(y.password))return function(B){Fe(B,-2829,"The type of the PDF password must be a string.")}(P),!1;y.password=""+y.password}}var H=P._getPdfDllname();x=["[",p.stringify(I),',"',H,'"',"]"].join("");var F=P._innerFun("SetPDFReaderOptions",x);return F&&b&&(P._pdfOptions=p.clone(I),p.isNumber(I.convertMode)&&(I.convertMode==gr.CM_RENDERALL&&I.renderOptions.renderAnnotations&&(I.convertMode=gr.CM_RENDERALLWITHANNOTATION),P._pdfConvertMode=I.convertMode,P._pdfOptions.convertMode==gr.CM_IMAGEONLY&&L==gr.CM_RENDERALL||P._pdfOptions.convertMode==gr.CM_IMAGEONLY&&L==gr.CM_RENDERALLWITHANNOTATION))?(P._pdfConvertMode=gr.CM_IMAGEONLY,xd(P),!1):F}},{key:"_getPdfDllname",value:function(){var y=this,b=!1,I=!1;return y._bRemoteMode?y.__serverPlatform==Et.enumWindow||(y.__serverPlatform==Et.enumLinux?I=!0:y.__serverPlatform==Et.enumMac&&(b=!0)):(b=ue.bMac,I=ue.bLinux,ue.bWin),b?y._b64bit?"libDynamicPdfCorex64_"+ko.PdfVersion+".dylib":"libDynamicPdfCore_"+ko.PdfVersion+".dylib":I?"libDynamicPdfCore_"+ko.PdfVersion+".so":y._b64bit?"DynamicPdfCorex64_"+ko.PdfVersion+".dll":"DynamicPdfCore_"+ko.PdfVersion+".dll"}},{key:"_unload_viewer",value:function(){}},{key:"__innerDeleteInMap",value:function(){return this._id,delete U.DWT.WebTwainIdMap[this._id],rt}},{key:"__unload",value:(d=a(w().mark(function y(){var b,I,x,P;return w().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(b=this,I=p.clone(U.DWT.licenseException),b.__closeRemoteScanUI(!0),!b._destroy&&!b._destroying){L.next=5;break}return L.abrupt("return");case 5:if(b._destroying=!0,this.__innerDeleteInMap(),b.__addon&&b.__addon.Camera&&b.__addon.Camera._viewer&&(b.__addon.Camera.getStatus()!=""&&b.__addon.Camera.closeSource().catch(function(){}),b.__addon.Camera._viewer.dispose(),b.__addon.Camera._viewer=null),b._unload_viewer(),b._containerElement=null,b._ImgManager&&b._ImgManager.clear(),!b._bReady||j.page.bUnload){L.next=20;break}if(!b._wsClient){L.next=20;break}return L.prev=13,L.next=16,b._innerDisposeWSClient();case 16:L.next=20;break;case 18:L.prev=18,L.t0=L.catch(13);case 20:if(!b._wsClient){L.next=34;break}return b._wsClient.removeEvent("close",b._clientId),b._wsClient.removeEvent("error",b._clientId),b._wsClient.removeEvent("timeout",b._clientId),L.prev=24,L.next=27,b._wsClient.dispose();case 27:L.next=32;break;case 29:L.prev=29,L.t1=L.catch(24),x=L.t1;case 32:delete b._wsClient,b._wsClient=null;case 34:if(b._bReady=!1,U.DWT.lremoveDWTObj(b),b.__bAcquireImageNow=!1,b._destroying=!1,b._destroy=!0,(P=U.DWT.licenseException).code=I.code,P.message=I.message,P.fromLTS=I.fromLTS,!x){L.next=45;break}throw x;case 45:case"end":return L.stop()}},y,this,[[13,18],[24,29]])})),function(){return d.apply(this,arguments)})},{key:"_setIfShowUI",value:function(y){this._resetErr(),this._isValid()&&(p.isBoolean(y)?this._innerFun("IfShowUI",Ve(y)):Vn(self))}},{key:"_setIfShowFileDialog",value:function(y){this._resetErr(),this._isValid()&&(p.isBoolean(y)?this._innerFun("IfShowFileDialog",Ve(y)):Vn(self))}},{key:"_getDevicesAsync",value:(u=a(w().mark(function y(b,I,x,P){var L,$,te,q,Q;return w().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(L=this,$=[],!I||p.isNumber(I)){J.next=4;break}return $t(L),J.abrupt("return",Te.Promise.reject({code:L._errorCode,message:L._errorString}));case 4:if(te=L._bRemoteMode?mp:ue.bAndroid?XT:mp,q=I??te,L._resetErr(),L._isValid()){J.next=8;break}return J.abrupt("return",Te.Promise.reject({code:L._errorCode,message:L._errorString}));case 8:return Xr(b,L),J.prev=9,J.next=12,L._getDevices(q,x,P);case 12:Q=J.sent,p.isArray(Q)&&Q.length>0&&($=$.concat(Q)),J.next=19;break;case 16:throw J.prev=16,J.t0=J.catch(9),J.t0;case 19:return J.prev=19,kr(b),J.finish(19);case 22:return $.length>0&&this._setDevices($),J.abrupt("return",$);case 24:case"end":return J.stop()}},y,this,[[9,16,19,22]])})),function(y,b,I,x){return u.apply(this,arguments)})},{key:"_openSourceAsync",value:function(y){var b=this;return b._resetErr(),b._isValid()?(b._bRemoteMode&&b._initRemoteDiv(),b._innerFunV2("OpenSource").then(function(I){return b.__closeRemoteScanUI(!0),I},function(I){return b.__closeRemoteScanUI(!0),Te.Promise.reject(I)})):Te.Promise.reject({code:b._errorCode,message:b._errorString})}},{key:"_closeSourceAsync",value:function(y){var b=this;return b._resetErr(),b._isValid()?b._innerFunV2("CloseSource").then(function(){return b._curDevice=null,!0}):Te.Promise.reject({code:b._errorCode,message:b._errorString})}},{key:"_selectSourceAsync",value:function(y,b,I){var x=this;return x._resetErr(),x._isValid()?x._getDevicesAsync(y,b).then(function(P){var L,$,te=document,q=P?P.length:0;Te.dialog.selectsourcedlg&&(Te.dialog.selectsourcedlg.close(),document.body.removeChild(Te.dialog.selectsourcedlg),Te.dialog.selectsourcedlg=!1);var Q,J,re,H,F=-1;for(($=te.createElement("dialog")).className="dynamsoft-dialog-selectsource",ue.bIE&&($.style.width="300px"),$.setAttribute("closed","closed"),(Q=[]).push('<ul id="dynamsoft-dialog-selectsource-sourcelist-ul">'),L=0;L<q;L++){var B="",V=x._getSourceNameByIndex(L);(x.__defaultSourceName==""&&L==0||x.__defaultSourceName==V)&&(B=" dynamsoft-dialog-selectsource-sourcelist-li-selected",F=L),Q.push('<li class="dynamsoft-dialog-selectsource-item'+B+'" sourceindex="'+L+'">'+V+"</li>")}return Q.push("</ul>"),Q=Q.join(""),p.isArray(I)&&I.length>=3?(J=I[0],re=I[1],H=I[2]):(J="Select Source:",re="Select",H="Cancel"),fE($,["<p>",J,"</p>",'<div id="dynamsoft-dialog-selectsource-sourcelist">',Q,"</div>",'<div><input type="button" value="',re,'" class="dynamsoft-dialog-selectsource-button-select" />','<input type="button" value="',H,'" class="dynamsoft-dialog-selectsource-button-cancel" /></div>'].join("")),Te.dialog.selectsourcedlg=$,te.body.appendChild(Te.dialog.selectsourcedlg),p.each(p.sizzle(".dynamsoft-dialog-selectsource-item"),function(G,z){p.addEventListener(G,"click",function(Z){for(var ie=Z.target,se=ie.getAttribute("sourceindex"),ne=ie.parentElement.children,ae=0;ae<ne.length;ae++)ne[ae].className="dynamsoft-dialog-selectsource-item";ie.className="dynamsoft-dialog-selectsource-item dynamsoft-dialog-selectsource-sourcelist-li-selected",p.get("dynamsoft-dialog-selectsource-sourcelist-ul").setAttribute("selectedSourceIndex",se)})}),p.get("dynamsoft-dialog-selectsource-sourcelist-ul").setAttribute("selectedSourceIndex",F.toString()),Te.dialog.setup(Te.dialog.selectsourcedlg),Te.dialog.selectsourcedlg&&Te.dialog.selectsourcedlg.showModal(),te.compatMode=="CSS1Compat"?te.documentElement.scrollTop:te.body.scrollTop,new Te.Promise(function(G,z){p.removeEventListener(Te.one(".dynamsoft-dialog-selectsource-button-select")[0],"click"),p.removeEventListener(Te.one(".dynamsoft-dialog-selectsource-button-cancel")[0],"click"),q>0&&p.addEventListener(Te.one(".dynamsoft-dialog-selectsource-button-select")[0],"click",function(){var Z=parseInt(p.get("dynamsoft-dialog-selectsource-sourcelist-ul").getAttribute("selectedSourceIndex"));Z<0||x._selectSourceByIndexAsync(y,Z).then(function(){Te.dialog.selectsourcedlg&&(Te.dialog.selectsourcedlg.close(),document.body.removeChild(Te.dialog.selectsourcedlg),Te.dialog.selectsourcedlg=!1),G(Z)})}),p.addEventListener(Te.one(".dynamsoft-dialog-selectsource-button-cancel")[0],"click",function(){Te.dialog.selectsourcedlg&&(Te.dialog.selectsourcedlg.close(),document.body.removeChild(Te.dialog.selectsourcedlg),Te.dialog.selectsourcedlg=!1);var Z={};Ro(Z),z({code:Z._errorCode,message:Z._errorString})})})}):Te.Promise.reject({code:x._errorCode,message:x._errorString})}},{key:"_dwtGetCapabilities",value:function(y,b,I){var x=this,P=null,L=function(){p.isFunction(I)&&I(x._errorCode,x._errorString)};if(y){if(!p.isArray(y))return $t(x),void L();if(y.length==0)return void(p.isFunction(b)&&b([]));if(function($,te){var q,Q,J,re;for(re=0;re<te.length;re++){if(q=te[re],Q=!1,J=!1,p.isString(q)){var H=q;q=parseInt(q),(p.isNaN(q)||q!=H)&&(Q=!0)}if(Q==0&&p.isNumber(q)?(q<1||q>65535)&&(J=!0):Q=!0,Q)return $t($),!1;if(J)return Z9($),!1}return!0}(x,y)===!1)return void L();P=Ve(y)}x._sendDataByHttpAsync("GetCapabilities",P).then(function($){try{var te,q;$.length>0&&(q=$[0]),p.isString(q)?(q=j.removeNonPrintableChar(q),q=p.replaceAll(q,"\\\\","\\\\"),(te=JSON.parse(q)).errorCode==0?p.isFunction(b)&&b(te.response):(x._errorCode=te.errorCode,x._errorString=te.errorString,L())):(Wi(x),L())}catch(Q){x._errorCode=-2302,x._errorString=Q,L()}},L)}},{key:"_dwtSetCapabilities",value:function(y,b,I){var x=this;if(!p.isObject(y)||p.isArray(y))return $t(x),p.isFunction(I)&&I(x._errorCode,x._getErrorString()),!1;var P=["[",p.stringify(y),"]"].join("");return x._innerSend("SetCapabilities",P,0,function(L){p.isFunction(b)&&b(L)},I),!0}},{key:"_selectDeviceAsync",value:(s=a(w().mark(function y(b,I,x){var P,L;return w().wrap(function($){for(;;)switch($.prev=$.next){case 0:return P=this,Xr(b,this),$.prev=2,$.next=5,E(A(n.prototype),"_innerSelectDeviceAsync",this).call(this,I,x);case 5:(L=$.sent)&&(P._curDevice=I,P._bSelectedSourceByServer=!1),$.next=12;break;case 9:throw $.prev=9,$.t0=$.catch(2),$.t0;case 12:return $.prev=12,kr(b),$.finish(12);case 15:return $.abrupt("return",L);case 16:case"end":return $.stop()}},y,this,[[2,9,12,15]])})),function(y,b,I){return s.apply(this,arguments)})},{key:"_selectSourceByIndexAsync",value:(o=a(w().mark(function y(b,I){var x,P,L;return w().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(P=1*I,(x=this)._resetErr(),x._isValid()){$.next=4;break}return $.abrupt("return",Te.Promise.reject({code:x._errorCode,message:x._errorString}));case 4:if(!p.isNaN(P)){$.next=7;break}return Ot(x),$.abrupt("return",Te.Promise.reject({code:x._errorCode,message:x._errorString}));case 7:if(x.__devices){$.next=10;break}return $.next=10,x._getDevicesAsync(b,null);case 10:if(!(P<0||P>=x.__devices.length)){$.next=13;break}return qe(x),$.abrupt("return",Te.Promise.reject({code:x._errorCode,message:x._errorString}));case 13:return L=x.__devices[P],$.abrupt("return",x._selectDeviceAsync(b,L));case 15:case"end":return $.stop()}},y,this)})),function(y,b){return o.apply(this,arguments)})},{key:"_removeAllImages",value:function(y){var b=this,I=!0;if(b._resetErr(),!b._isValid())return!1;var x,P=[];for(x=b._getHowManyImagesInBuffer()-1;x>=0;x--){var L=b._imageBufferWrapper.convertClientIndexToServerId(x);L>-1&&P.push(L)}if(P.length>0){if(b._OnBitmapChanged(["c1",P.join(","),3,b._ImgManager.getCurrentImageIndex(),b._ImgManager.count()]),I=b._innerFunRaw("RemoveAllImages",Ve(P.join(",")),!1,!1,!1,function(){},function(){}),p.isArray(I))return I[0]}else I=!0;return I}},{key:"_removeImage",value:function(y,b){var I,x=this,P=parseInt(b);if(!Mn(x,P))return!1;var L=x._ImgManager.convertClientIndexToServerId(P);return L==-1?(qe(x),!1):(((I=x._innerFun("RemoveImage",Ve(L)))||x._errorCode==-1033)&&x._OnBitmapChanged(["c1",""+L,3,x._ImgManager.getCurrentImageIndex(),x._ImgManager.count()]),I)}},{key:"__innerAcquireOrLoadImageAsync",value:function(y,b,I,x){var P=this;return new Te.Promise(function(L,$){var te=y=="LoadImage"||y=="LoadImageEx"||y=="GenerateURLForUploadData",q=te||y=="LoadDibFromClipboard";te?j.showProgress(P,y,!1):Xr(y,P),P._innerSend(y,b,!0,function(Q){if(P.__bLoadingImage=!1,P.__bOpenFileNow=!1,P.__closeRemoteScanUI(!0),te){if(j.closeProgress(null,y),P._isBindViewer()){var J=P._ImgManager.getCurrentImageIndex();J>=0&&P._innerRefreshUI(J)}}else kr(y);q&&P._canConsume()&&U.DWT.lcvrf(P),p.isFunction(L)&&L(Q)},function(Q){te?j.closeProgress(null,""):kr(y),P.__bLoadingImage=!1,P.__bAcquireImageNow=!1,P.__bOpenFileNow=!1,P.__closeRemoteScanUI(!0);var J=P._ImgManager.getCurrentImageIndex();J>=0&&P._innerRefreshUI(J),EF(P._errorCode)&&xd(P),p.isFunction($)&&$({code:P._errorCode,message:P._getErrorString()}),te?j.closeProgress(null,y):kr(y),Q&&p.error(Q)})})}},{key:"_innerLoadImageFromBinary",value:function(y,b,I,x,P,L){var $,te,q=this,Q=b;if(!_t.checkProductKey(q,{Core:!0}))return p.isFunction(L)&&L(q._errorCode,q._getErrorString()),!1;if(!y||y=="")return ci(q),p.isFunction(L)&&L(q._errorCode,q._getErrorString()),!1;if(p.isString(y))return $t(q),p.isFunction(L)&&L(q._errorCode,q._getErrorString()),!1;if(y instanceof Blob)te=y.size;else if(nu(y))te=y.byteLength;else if(y instanceof Array)te=y.length;else{var J=y;te=J.size||J.byteLength||J.length}if(!te||te=="")return $t(q),p.isFunction(L)&&L(q._errorCode,q._getErrorString()),!1;var re=y.currentFileName;re||(re=q._getCurrentDocumentName());var H,F=y.currentTagName;if(F||!p.isUndefined(y.bNeedClearCurrentTagName)&&y.bNeedClearCurrentTagName||(F=q._getCurrentDefaultTagName()),y instanceof FileList){if(y.length==1)return y[0].currentFileName=re,y[0].currentTagName=F,q._innerLoadImageFromBinary(y[0],Q,I,P,L);if(y.length>1){var B;for(p.asyncQueue.stop(),B=0;B<y.length;B++)y[B].currentFileName=re,y[B].currentTagName=F,B==y.length-1?p.asyncQueue.pushToDo(q,"_innerLoadImageFromBinary",[y[B],Q,I,P,L]):p.asyncQueue.pushToDo(q,"_innerLoadImageFromBinary",[y[B],Q,I,null,L]);return p.asyncQueue.start(),!0}return ci(q),p.isFunction(L)&&L(q._errorCode,q._getErrorString()),!1}if(window.ReadableStream&&y instanceof ReadableStream?$=new Response(y):window.Response&&y instanceof Response&&($=y),$)$.arrayBuffer().then(function(se){var ne;(ne=new Blob([se])).currentFileName=y.currentFileName,ne.currentTagName=y.currentTagName;var ae=x,be=0;I&&(be=q.__GetLoadEventsNum()),q.__LoadImageFromBytesV1(ne,-1,"",be,ae,P,L)});else{var V=y;x&&nu(V)&&((V=new Blob([y])).currentFileName=y.currentFileName,V.currentTagName=y.currentTagName);var G=-1,z=x,Z=U.DWT.EnumDWT_ImageType;p.isString(V.type)&&(V.type=="application/pdf"?G=Z.IT_PDF:V.type=="image/png"?G=Z.IT_PNG:V.type=="image/jpeg"||V.type=="image/jpg"?G=Z.IT_JPG:V.type=="image/bmp"?G=Z.IT_BMP:V.type=="image/tiff"||V.type=="image/tif"?G=Z.IT_TIF:V.type=="image/jp2"&&(G=Z.IT_J2K));var ie=0;I&&(ie=q.__GetLoadEventsNum()),H=q.__LoadImageFromBytesV1(V,G,"",ie,z,P,L)}return!!x||H}},{key:"__LoadImageFromBytes",value:function(y,b,I,x,P,L,$,te){var q=this.__LoadImageFromBytesV2(y,b,I,x,$,te,!1,0,P,L);return x?q:this._errorCode==0}},{key:"__LoadImageFromBytesV1",value:function(y,b,I,x,P,L,$){var te=this.__LoadImageFromBytesV2(y,b,I,P,0,0,!1,x,L,$);return P?te:this._errorCode==0}},{key:"_isMobileMode",value:function(){return!1}},{key:"ErrorCode",get:function(){return this._errorCode}},{key:"ErrorString",get:function(){return this._getErrorString()}},{key:"HowManyImagesInBuffer",get:function(){return this._getHowManyImagesInBuffer()}},{key:"_OnActiveUIClearBuffer",value:function(){var y=this.__OnBufferChanged;this.__OnBufferChanged=null,this._ImgManager.clear(),this.__OnBufferChanged=y}}]);var o,s,u,d,c,f,m,_,S}(_U);function Lce(r,n,o){var s=this;return s._dwtConvertToBlobSync(n,r,o,function(u){if(!u||u.size<=0)return uF(s),!1;var d=s.__maxUploadImageSize;return u.size>d&&d!=-1?(gs(s),!1):u},function(u){return!1})}function TU(){this.__defaultSourceName="",this.__sourceCount=0}function CU(r,n){var o=this,s=o._getPdfDllname(),u=["[",p.stringify(r),',"',s,'"',"]"].join("");return o._innerFunV2("SetPDFReaderOptions",u).then(function(){if(p.isNumber(n)&&(o._pdfConvertMode=n),o._pdfOptions.convertMode=r.convertMode,o._pdfOptions.renderOptions.renderAnnotations=r.renderOptions.renderAnnotations,o._pdfOptions.convertMode==gr.CM_IMAGEONLY&&o._pdfConvertMode==gr.CM_RENDERALL||o._pdfOptions.convertMode==gr.CM_IMAGEONLY&&o._pdfConvertMode==gr.CM_RENDERALLWITHANNOTATION)throw o._pdfConvertMode=gr.CM_IMAGEONLY,xd(o),{code:o._errorCode,message:o._errorString};return!0})}var IU=function(r,n){if(Wr.bDiscardBlankImage){var o=r._ImgManager.getCurrentImageIndex();r.IsBlankImage(o)&&r.RemoveImage(o);var s=["Blank Discard (",n,"): ",r.ErrorString].join("");p.isFunction(r.__OnPrintMsg)&&r.__OnPrintMsg(s)}};function Wce(r){return wU.apply(this,arguments)}function wU(){return(wU=a(w().mark(function r(n){var o,s,u,d;return w().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(o=n,!U.DWT.ConnectWithSocket){c.next=6;break}return c.next=4,new Te.Promise(function(f,m){o._sendData("IfDisableSourceAfterAcquire","[1]",!1,f,m)});case 4:c.next=8;break;case 6:return c.next=8,n._innerFunV2("IfDisableSourceAfterAcquire","[1]");case 8:s=qt.TWAIN,u=!1,d=!1,o._bRemoteMode?o.__serverPlatform==Et.enumWindow||(o.__serverPlatform==Et.enumLinux?d=!0:o.__serverPlatform==Et.enumMac&&(u=!0)):(u=ue.bMac,d=ue.bLinux,ue.bWin),u?s=qt.TWAIN_AND_ICA:d&&(s=qt.SANE),n._driverType=s,n._bRemoteMode&&(n._setIfShowUI(!1),n._setIfShowFileDialog(!1));case 13:case"end":return c.stop()}},r)}))).apply(this,arguments)}function Bce(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function Bo(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var go=new WeakSet,Uce=function(r){function n(){var s;h(this,n);for(var u=arguments.length,d=new Array(u),c=0;c<u;c++)d[c]=arguments[c];return Bce(s=l(this,n,[].concat(d)),go),s}return D(n,r),v(n,[{key:"SaveAsGIF",value:function(s,u,d,c){var f=this,m=!1;if(p.isFunction(d)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!(_t.checkProductKey(f,{Core:!0})||ue.bWin&&_t.checkProductKey(f,{Webcam:!0},!0)))return _t.checkProductKey(f,{Core:!0},!1),p.isFunction(c)&&c(f._errorCode,f._getErrorString()),!!m&&void 0;var _,S=At.replaceLocalFilename(s);if(!Xu(f,u,c))return!!m&&void 0;if((_=f._ImgManager.convertClientIndexToServerId(u))==-1)return qe(f),p.isFunction(c)&&ft(c,f),!!m&&void 0;var y=f.__GetLoadEventsNum(),b=f.__innerSaveImage("SaveAsGIF",Ve(S,_,y),d,c);return m?void 0:b}},{key:"SaveSelectedImagesToBase64Binary",value:function(s,u){var d=this,c=!1;if(p.isFunction(s)&&(c=!0),d._resetErr(),!d._isValid())return p.isFunction(u)&&ft(u,d),!!c&&void 0;if(!(_t.checkProductKey(d,{Core:!0})||ue.bWin&&_t.checkProductKey(d,{Webcam:!0},!0)))return _t.checkProductKey(d,{Core:!0},!1),p.isFunction(u)&&u(d._errorCode,d._getErrorString()),!!c&&void 0;var f=Ld(d);return f.length==0?(Nn(d),p.isFunction(u)&&ft(u,d),!!c&&void 0):c?void d._innerSend("SaveSelectedImagesToBase64Binary",Ve(f.join(",")),!0,s,u):d._innerFun("SaveSelectedImagesToBase64Binary",Ve(f.join(",")))}},{key:"ShowFileDialog",value:function(s,u,d,c,f,m,_,S){var y=this;if(y._resetErr(),!y._isValid())return!1;var b,I=At.replaceLocalFilename(f);return b=y.__GetLoadEventsNum(),y._innerSend("ShowFileDialog",Ve(s,u,d,c,I,m,_,S,b),!0),!0}},{key:"FTPDownload",value:function(s,u,d,c){var f=this,m=!1;if(p.isFunction(d)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!s)return $t(f),p.isFunction(c)&&ft(c,f),!!m&&void 0;var _=At.getImageType(u);return Bo(go,f,AU).call(f,"FTPDownload",Ve(s,u),_,d,c)}},{key:"FTPDownloadEx",value:function(s,u,d,c,f){var m=this,_=!1;return p.isFunction(c)&&(_=!0),m._resetErr(),m._isValid()?s?Bo(go,m,AU).call(m,"FTPDownloadEx",Ve(s,u,d),d,c,f):($t(m),p.isFunction(f)&&ft(f,m),!!_&&void 0):(p.isFunction(f)&&ft(f,m),!!_&&void 0)}},{key:"FTPUpload",value:function(s,u,d,c,f){var m=this,_=!1;if(p.isFunction(c)&&(_=!0),m._resetErr(),!m._isValid())return p.isFunction(f)&&ft(f,m),!!_&&void 0;if(!Xu(m,u,f))return!!_&&void 0;var S=m._ImgManager.convertClientIndexToServerId(u);if(S==-1)return qe(m),p.isFunction(f)&&ft(f,m),!!_&&void 0;var y=m.__innerFTPUpload("FTPUpload",Ve(s,S,d),c,f);return _?void 0:y}},{key:"FTPUploadEx",value:function(s,u,d,c,f,m){var _,S=this,y=!1;if(p.isFunction(f)&&(y=!0),S._resetErr(),!S._isValid())return p.isFunction(m)&&ft(m,S),!!y&&void 0;if(!Xu(S,u,m))return!!y&&void 0;if((_=S._ImgManager.convertClientIndexToServerId(u))==-1)return qe(S),p.isFunction(m)&&ft(m,S),!!y&&void 0;var b=S.__innerFTPUpload("FTPUploadEx",Ve(s,_,d,c),f,m);return y?void 0:b}},{key:"FTPUploadAllAsMultiPageTIFF",value:function(s,u,d,c){var f=this,m=!1;if(p.isFunction(d)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;var _=[];S_(f,_);var S=f.__innerFTPUpload("FTPUploadAsMultiPageTIFF",Ve(s,u,_.join(",")),d,c);return m?void 0:S}},{key:"FTPUploadAllAsPDF",value:function(s,u,d,c){var f=this,m=!1;if(p.isFunction(d)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;var _=[];S_(f,_);var S=f.__innerFTPUpload("FTPUploadAsMultiPagePDF",Ve(s,u,_.join(",")),d,c);return m?void 0:S}},{key:"FTPUploadAsMultiPagePDF",value:function(s,u,d,c){var f=this,m=!1;if(p.isFunction(d)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;var _=Ld(f),S=f.__innerFTPUpload("FTPUploadAsMultiPagePDF",Ve(s,u,_.join(",")),d,c);return m?void 0:S}},{key:"FTPUploadAsMultiPageTIFF",value:function(s,u,d,c){var f=this,m=!1;if(p.isFunction(d)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;var _=Ld(f),S=f.__innerFTPUpload("FTPUploadAsMultiPageTIFF",Ve(s,u,_.join(",")),d,c);return m?void 0:S}},{key:"HTTPDownloadDirectly",value:function(s,u,d,c,f){var m,_=this,S=!1;if(p.isFunction(c)&&(S=!0),_._resetErr(),!_._isValid()||!_t.checkProductKey(_,{Core:!0}))return p.isFunction(f)&&ft(f,_),!!S&&void 0;var y,b,I=_._GetHttpHeadersAndClear(),x=At.combineUrl(_,s,u);if(x===void 0)return ci(_),p.isFunction(f)&&ft(f,_),!!S&&void 0;if(!d||d=="")return function(q,Q){Fe(q,-2309,"The LocalFile is empty in the name "+Q+" Function.")}(_,"HTTPDownloadDirectly"),p.isFunction(f)&&ft(f,_),!!S&&void 0;if(y=At.getImageType(d),!_t.checkPDFProductKeyWhenNeeds(_,y))return p.isFunction(f)&&ft(f,_),!!S&&void 0;j.cancelFrom=Mt.HTTPDownload,b=At.replaceLocalFilename(d),_.IfShowProgressBar?j.showProgress(_,"HTTPDownloadDirectly",!1):j.hideProgress();var P=(m=j.progressContext)===null||m===void 0?void 0:m.IfShowCancelDialogWhenImageTransfer,L=function(){return _.IfShowProgressBar&&j.closeProgress(null,"HTTPDownloadDirectly"),p.isFunction(c)&&c(),!0},$=function(){return j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=P),_.IfShowProgressBar&&j.closeProgress(null,"HTTPDownloadDirectly"),p.isFunction(f)&&ft(f,_),!1};_._OnPercentDone([0,-1,br.Downloading,"http"]),j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!0);var te=At.loadHttpBlob(_,"get",x,S,function(q){j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=P),_._OnPercentDone([0,-1,br.Loading]);var Q=_.__GetLoadEventsNum();return _.__LoadImageFromBytesV1(q,3,b,Q,S,L,$)},$,function(q){var Q=q.total===0?100:Math.round(100*q.loaded/q.total);[q.loaded," / ",q.total].join(""),Q>=100&&q.loaded<q.total&&(Q=99),_._OnPercentDone([0,Q,"","http"])},I);return S?void 0:!!te}},{key:"HTTPUploadThroughPostDirectly",value:function(s,u,d,c,f,m){var _=this,S=!1,y=function(){p.isFunction(m)&&ft(m,_,_.__HTTPPostResponseString)};if(p.isFunction(f)&&(S=!0),_._resetErr(),_.__HTTPPostResponseString="",!_._isValid())return y(),!!S&&void 0;var b=At.combineUrl(_,s,d);if(!u)return cl(_),y(),!!S&&void 0;if(!s)return TT(_),y(),!!S&&void 0;var I=this.IfShowProgressBar;return _._innerUploadDirectly(b,u,c,I,!1,0,!0,!1,f,y)}},{key:"_innerUploadDirectly",value:function(s,u,d,c,f,m,_,S,y,b){var I,x,P=this,L=P._GetHttpHeadersAndClear(),$="HTTPUploadThroughPostDirectly",te=!1;if(p.isFunction(y)&&(te=!0),s===void 0||s===!1||s==="")return ci(P),p.isFunction(b)&&ft(b,P),!!te&&void 0;if(!_t.checkProductKey(P,{Core:!0}))return p.isFunction(b)&&ft(b,P),!!te&&void 0;j.cancelFrom=Mt.HTTPUpload;var q=function(Q,J,re){return Q!=0&&J&&(P._errorCode=Q,P._errorString=J),re&&(P.__HTTPPostResponseString=re),j.needShowTwiceShowDialog=!1,c&&j.closeProgress(null,$),p.isFunction(b)&&ft(b,P),!1};return j.needShowTwiceShowDialog=!0,c?j.showProgress(P,$,!1):j.hideProgress(),(I=At.replaceLocalFilename(u))&&I!=""?S&&S.bCancel?(S.st=2,Ro(P),q(P._errorCode,P._errorString),!!te&&void 0):(x=Bo(go,P,EU).call(P,I,te,f,function(Q){if(j.needShowTwiceShowDialog=!1,S&&S.bCancel)return S.st=2,Ro(P),q(P._errorCode,P._errorString),!1;if(Q&&(!c||c&&j.dlgRef>0||te==0)){Q instanceof File?Q.fileName=d:Q.name=d,c&&fu(P.__IfShowCancelDialogWhenImageTransfer);var J=new Es,re=P._createHttpUploaderConfig(),H=new ca;return P.__remoteFilename&&P.__remoteFilename!=""&&(H.remoteFilename=P.__remoteFilename),re.objUploadStatus=S,H.url=s,H.method=$,H.content=Q,Q=null,H.contentType=P._strHttpContentTypeFieldValue,H.headers=L,H.bAsync=te,H.httpFormData=mc(P.httpFormFields),H.retry=m,H.bOnlyResponseEmptyIsOK=_,H.blockSize=P._moduleSize,J.httpPostUpload(re,H,function(F){return c&&j.closeProgress(null,$),p.isFunction(y)&&_n(y,F),!0},q)}return cl(P),q(P._errorCode,P._errorString),!1},q),te?void 0:!!x):(cl(P),q(P._errorCode,P._errorString),!!te&&void 0)}},{key:"_innerUploadFilesDirectly",value:function(s,u,d,c,f,m,_,S,y){var b,I=this,x=I._GetHttpHeadersAndClear(),P="HTTPUploadThroughPostDirectly",L=!1,$=[];if(p.isFunction(S)&&(L=!0),s===!1||s==="")return ci(I),p.isFunction(y)&&y({code:I._errorCode,message:I._getErrorString(),files:u}),!1;if(!_t.checkProductKey(I,{Core:!0}))return p.isFunction(y)&&y({code:I._errorCode,message:I._getErrorString(),files:u}),!1;j.cancelFrom=Mt.HTTPUpload;var te=function(re,H,F){return re!=0&&H&&(I._errorCode=re,I._errorString=H),F&&(I.__HTTPPostResponseString=F),j.needShowTwiceShowDialog=!1,c&&j.closeProgress(null,P),p.isFunction(y)&&y({code:I._errorCode,message:I._errorString,response:F,files:u}),!1};j.needShowTwiceShowDialog=!0,c?j.showProgress(I,P,!1):j.hideProgress(),p.each(u,function(re){var H=At.replaceLocalFilename(re);if(!H||H=="")return cl(I),te(I._errorCode,I._errorString),!1;$.push(H)});var q=[],Q=$.length,J=0;return p.each($,function(re,H){b=Bo(go,I,EU).call(I,re,L,f,function(F){if(j.needShowTwiceShowDialog=!1,!F||c&&!(c&&j.dlgRef>0)&&L!=0)return c&&j.closeProgress(null,P),IT(I),p.isFunction(te)&&te(I._errorCode,I._errorString),!1;var B=po(d,H+1);if(F instanceof File?F.fileName=B:F.name=B,q[H]=F,F=null,++J==Q){c&&fu(I.__IfShowCancelDialogWhenImageTransfer);var V=I._createHttpUploaderConfig(),G=new ca;I.__remoteFilename&&I.__remoteFilename!=""&&(G.remoteFilename=I.__remoteFilename),G.url=s,G.method=P,G.content=q,q=null,G.contentType=I._strHttpContentTypeFieldValue,G.headers=x,G.bAsync=L,G.httpFormData=mc(I.httpFormFields),G.retry=m,G.bOnlyResponseEmptyIsOK=_,G.blockSize=I._moduleSize;var z=mU(V,G,function(Z){return c&&j.closeProgress(null,P),p.isFunction(S)&&_n(S,Z),!0},function(Z,ie,se){return c&&j.closeProgress(null,P),p.isFunction(te)&&te(Z,ie,se),!1});return L?void 0:z}},function(){return c&&j.closeProgress(null,P),p.isFunction(te)&&te(),!1})}),L?void 0:!!b}},{key:"_createHttpUploaderConfig",value:function(){var s=this,u=new vU;return u.IfShowProgressBar=s.IfShowProgressBar,u.IfShowCancelDialogWhenImageTransfer=s.__IfShowCancelDialogWhenImageTransfer,u.MaxUploadImageSize=s.MaxUploadImageSize,u.HTTPRequestswithCredentials=s.HTTPRequestswithCredentials,u.onPercent=function(d){s._OnPercentDone(d)},u.onHttpUploadStatus=function(d){p.isFunction(s.__OnHttpUploadStatus)&&s.__OnHttpUploadStatus(d)},u}},{key:"SetUploadSegment",value:function(s,u){var d=this;return d._resetErr(),!!d._isValid()&&(!p.isNumber(s)||s<0?(Fe(d,-2367,"Invalid value for the parameter segmentUploadThreshold."),!1):!p.isNumber(u)||u<=0?(function(c){Fe(c,-2368,"Invalid value for the parameter moduleSize.")}(d),!1):(d._segementUploadThreshold=1024*s*1024,d._moduleSize=1024*u,!0))}},{key:"ConvertToBase64",value:function(s,u,d,c){var f,m=this,_=arguments,S=!1;if(p.isFunction(d)&&(S=!0),m._resetErr(),!m._isValid())return p.isFunction(c)&&jn(c,m,s,u,_),!!S&&void 0;var y=parseInt(u);if(!_t.checkProductKey(m,{Core:!0})||!m._checkIndices(s))return p.isFunction(c)&&jn(c,m,s,u,_),!!S&&void 0;if(y==U.DWT.EnumDWT_ImageType.IT_BMP||y==U.DWT.EnumDWT_ImageType.IT_JPG||y==U.DWT.EnumDWT_ImageType.IT_PNG){if(s.length>1)return Fe(m,-2361,"You cannot convert more than one image to base64 string when the format is BMP, JPG or PNG."),p.isFunction(c)&&jn(c,m,s,u,_),!!S&&void 0}else if(y!=U.DWT.EnumDWT_ImageType.IT_TIF&&y!=U.DWT.EnumDWT_ImageType.IT_PDF)return Li(m),p.isFunction(c)&&jn(c,m,s,u,_),!!S&&void 0;if((f=Ju(m,s)).length==0)return Ot(m),p.isFunction(c)&&jn(c,m,s,u,_),!!S&&void 0;j.cancelFrom=Mt.ConvertToBlob,m._convertToBase64ByServerIdsWithUI("ConvertToBase64",f,y,!1,3,function(b){var I=[];p.isArray(f)&&p.each(f,function(x){var P=m._ImgManager.convertServerIdToClientIndex(x);P>-1&&I.push(P)}),p.isFunction(d)&&_n(d,b,I,u,_)},function(){var b=[];p.isArray(f)&&p.each(f,function(I){var x=m._ImgManager.convertServerIdToClientIndex(I);x>-1&&b.push(x)}),p.isFunction(c)&&jn(c,m,b,u,_)})}},{key:"ClearAllHTTPFormField",value:function(){var s=this;return s._resetErr(),!!s._isValid()&&(s.httpFormFields={},!0)}},{key:"SetHTTPFormField",value:function(s,u,d){var c=this;if(c._resetErr(),!c._isValid())return!1;var f=s;return p.isString(f)||(f=""+f),u instanceof Blob&&(u.name=d),c.httpFormFields[f]=u,!0}},{key:"HTTPDownloadThroughPost",value:function(s,u,d,c,f,m){var _,S,y=this,b=y._GetHttpHeadersAndClear(),I=At.combineUrl(y,s,u),x=!1;if(p.isFunction(c)&&(x=!0),I===void 0)return ci(y),p.isFunction(f)&&ft(f,y,""),!!x&&void 0;if(!_t.checkProductKey(y,{Core:!0})||!_t.checkPDFProductKeyWhenNeeds(y,d))return p.isFunction(f)&&ft(f,y,""),!!x&&void 0;j.cancelFrom=Mt.HTTPDownload,y.IfShowProgressBar?j.showProgress(y,"HttpDownloadThroughPost",!1):j.hideProgress(),y._OnPercentDone([0,-1,br.Downloading,"http"]);var P=(_=j.progressContext)===null||_===void 0?void 0:_.IfShowCancelDialogWhenImageTransfer,L=function(){return y.IfShowProgressBar&&j.closeProgress(null,"HttpDownloadThroughPost"),p.isFunction(c)&&c(),!0},$=function(){return j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=P),y.IfShowProgressBar&&j.closeProgress(null,"HttpDownloadThroughPost"),p.isFunction(f)&&ft(f,y,y.__HTTPPostResponseString),!1};return j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!0),S=At.loadHttpBlob(y,"post",I,x,function(te){j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=P),y._OnPercentDone([0,-1,br.Loading]);var q=d;q!=U.DWT.EnumDWT_ImageType.IT_BMP&&q!=U.DWT.EnumDWT_ImageType.IT_JPG&&q!=U.DWT.EnumDWT_ImageType.IT_TIF&&q!=U.DWT.EnumDWT_ImageType.IT_PNG&&q!=U.DWT.EnumDWT_ImageType.IT_PDF&&q!=U.DWT.EnumDWT_ImageType.IT_J2K&&(q=-1);var Q=y.__GetLoadEventsNum();return y.__LoadImageFromBytesV1(te,q,"",Q,x,L,$)},$,function(te){var q=te.total===0?100:Math.round(100*te.loaded/te.total);[te.loaded," / ",te.total].join(""),q>=100&&te.loaded<te.total&&(q=99),y._OnPercentDone([0,q,"","http"])},b),x?void 0:!!S}},{key:"HTTPDownloadThroughGet",value:function(s,u,d,c,f){return this._innerHTTPDownloadThroughGet("HTTPDownload",s,u,d,c,f)}},{key:"HTTPUploadThroughPut",value:function(s,u,d,c,f){var m=At.getImageType(d);return this.HTTPUploadThroughPutEx(s,u,d,m,c,f)}},{key:"HTTPUploadThroughPutEx",value:function(s,u,d,c,f,m){var _=this,S=_._GetHttpHeadersAndClear(),y="HTTPUploadThroughPutEx",b=At.combineUrl(_,s,d),I=!1,x=[],P=!1,L=this.IfShowProgressBar;if(p.isFunction(f)&&(I=!0),b===void 0)return ci(_),p.isFunction(m)&&jn(m,_,"",[u],d,c),!!I&&void 0;j.cancelFrom=Mt.HTTPPut;var $,te=function(){j.needShowTwiceShowDialog=!1,L&&j.closeProgress(null,y),p.isFunction(m)&&jn(m,_,_.__HTTPPostResponseString,x,d,c)};switch(j.needShowTwiceShowDialog=!0,L?j.showProgress(_,y,!1):j.hideProgress(),u){case-1:for(var q=0;q<_._ImgManager.count();q++)x.push(q);break;case-2:x=_._ImgManager.getSelectedClientIndexArray();break;default:if(x.push(u),!(u>=0))return qe(_),te(),!!I&&void 0}if(s==="")return TT(_),te(),!!I&&void 0;var Q=[];p.isArray(x)&&p.each(x,function(H){var F=_._ImgManager.convertClientIndexToServerId(H);F!=-1&&Q.push(F)});var J=!1;_._OnPercentDone([0,-1,br.Encoding,"http"]);var re=function(H,F,B){if(U.DWT.IfAddMD5InUploadHeader&&F&&F!=""&&(S["dwt-md5"]=F),j.needShowTwiceShowDialog=!1,H&&(!L||L&&j.dlgRef>0||I==0)){var V=_.__maxUploadImageSize;return H.size>V&&V!=-1?(gs(_),te(),!!I&&void 0):($=function(G){var z=G.total===0?100:Math.round(100*G.loaded/G.total);[G.loaded," / ",G.total].join(""),z>=100&&G.loaded<G.total&&(z=99),_._OnPercentDone([0,z,"","http"])},_._OnPercentDone([0,-1,br.Uploading,"http"]),L&&fu(_.__IfShowCancelDialogWhenImageTransfer),j.cancelFrom=Mt.HTTPPut,P=At.httpPutImage(_,b,H,I,function(G){if(G&&(_.__HTTPPostResponseString=G),L&&j.closeProgress(null,y),p.isFunction(f)){var z=[];p.isArray(Q)&&p.each(Q,function(Z){var ie=_._ImgManager.convertServerIdToClientIndex(Z);ie>-1&&z.push(ie)}),_n(f,_.__HTTPPostResponseString,z,d,c)}return!0},te,$),H=null,I?void 0:!!P)}return H=null,L&&j.closeProgress(null,y),!!I&&void 0};if(!I)return _._dwtConvertToBlobSync(c,Q,J,re,te);_._convertToBlobForUpload(c,Q,J,4,re,te)}},{key:"HTTPUploadAllThroughPutAsMultiPageTIFF",value:function(s,u,d,c){return this.HTTPUploadThroughPutEx(s,-1,u,2,d,c)}},{key:"HTTPUploadThroughPutAsMultiPageTIFF",value:function(s,u,d,c){return this.HTTPUploadThroughPutEx(s,-2,u,2,d,c)}},{key:"HTTPUploadAllThroughPutAsPDF",value:function(s,u,d,c){return this.HTTPUploadThroughPutEx(s,-1,u,4,d,c)}},{key:"HTTPUploadThroughPutAsMultiPagePDF",value:function(s,u,d,c){return this.HTTPUploadThroughPutEx(s,-2,u,4,d,c)}},{key:"GetSelectedImagesSize",value:function(s){var u=this;if(u._resetErr(),!u._isValid())return!1;var d=Ld(u);return u._innerFun("GetSelectedImagesSize",Ve(s,d.join(",")))}},{key:"SetHTTPHeader",value:function(s,u){var d=this;if(d._resetErr(),!d._isValid())return!1;var c,f,m=s;if(d.__httpHeaderMap||(d.__httpHeaderMap={}),!m||!p.isString(m))return p.isUndefined(m)?Fe(d,-2356,"The header name cannot be undefined."):m===""?function(_){Fe(_,-2354,"The header name cannot be empty.")}(d):m===null?function(_){Fe(_,-2355,"The header name cannot be null.")}(d):function(_){Fe(_,-2357,"The header name you entered is invalid.")}(d),!1;for(c=["if-none-match","if-range","range","accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],m=m.toLowerCase(),f=0;f<c.length;f++)if(c[f]==m)return $9(d),!1;return p.isUndefined(u)||u===null||u===""?(s in d.__httpHeaderMap&&delete d.__httpHeaderMap[s],!0):(p.isNumber(u)&&(u=""+u),d.__httpHeaderMap[s]=u,!0)}},{key:"ConvertToBlob",value:function(s,u,d,c,f){var m=arguments;return this._convertToBlobByIndices(s,u,!1,m,d,c)}},{key:"_asyncUploadFilesCmd",value:function(s,u,d,c,f,m,_,S,y,b,I,x){var P=this,L=parseInt(f),$="HTTPUpload",te=s,q=[];P.__HTTPPostResponseString="",j.cancelFrom=Mt.HTTPUpload;var Q=function(B,V,G){var z=[];if(p.isArray(u)&&p.each(u,function(Z){var ie=P._ImgManager.convertServerIdToClientIndex(Z);ie>-1&&z.push(ie)}),B!=0&&V&&(P._errorCode=B,P._errorString=V),G&&(P.__HTTPPostResponseString=G),P._bServerPercentDone=!0,j.needShowTwiceShowDialog=!1,S&&j.closeProgress(null,$),q.slice(0),q=null,p.isFunction(x))try{x({code:P._errorCode,message:P._errorString,response:G,indices:z})}catch{}};j.needShowTwiceShowDialog=!0,S?j.showProgress(P,$,!1):j.hideProgress();var J=u.length,re=0,H=0,F="";P._bServerPercentDone=!1,P._OnPercentDone([0,-1,br.Encoding,"http"]),p.each(u,function(B,V){P._convertToBlobForUpload(L,[B],_,4,function(G,z,Z){if(!G||G.size<=0)return an(P),Q(P._errorCode,P._errorString);var ie=P.__maxUploadImageSize;if(G.size>ie&&ie!=-1)return gs(P),Q(P._errorCode,P._errorString);var se=po(m,V+1);if(H=(re+1)/J*100,F=[re+1,"/",J].join(""),P._OnPercentDone([0,H,F,"http",se]),G.name=se,q.push(G),++re>=J){U.DWT.IfAddMD5InUploadHeader&&z&&z!=""&&(d["dwt-md5"]=z);var ne=P._createHttpUploaderConfig(),ae=new ca;P.__remoteFilename&&P.__remoteFilename!=""&&(ae.remoteFilename=P.__remoteFilename),ae.url=te,ae.method=$,ae.content=q,ae.contentType=P._strHttpContentTypeFieldValue,ae.headers=d,ae.httpFormData=c,ae.retry=y,ae.bOnlyResponseEmptyIsOK=b,ae.blockSize=P._moduleSize,mU(ne,ae,function(be){P.__HTTPPostResponseString=ne.HTTPPostResponse,function(ge){if(P._bServerPercentDone=!0,j.needShowTwiceShowDialog=!1,S&&j.closeProgress(null,$),q.slice(0),q=null,p.isFunction(I)){var ve=[];p.isArray(u)&&p.each(u,function(Le){var Qe=P._ImgManager.convertServerIdToClientIndex(Le);Qe>-1&&ve.push(Qe)}),_n(I,ge,ve)}}(be)},Q)}G=null},Q,[B,V])})}},{key:"_getVersionInfoAsync",value:function(){return Or.versionInfoFromServer?Te.Promise.resolve(Or.versionInfoFromServer):this._innerFunV2("VersionInfo")}},{key:"__innerLoadImage",value:function(s,u,d,c,f,m,_){var S=this,y=!1;if((p.isFunction(m)||U.DWT.ConnectWithSocket)&&(y=!0),!_t.checkProductKey(S,{Core:!0}))return p.isFunction(_)&&_({code:S._errorCode,message:S._getErrorString()}),!!y&&void 0;if(!_t.checkPDFProductKeyWhenNeeds(S,d))return p.isFunction(_)&&_({code:S._errorCode,message:S._getErrorString()}),!!y&&void 0;if(y){if(S._bRemoteMode&&S._getIfShowFileDialog())return PT(S),void(p.isFunction(_)&&_({code:S._errorCode,message:S._getErrorString()}));var b=S.IfShowCancelDialogWhenImageTransfer;return S.IfShowCancelDialogWhenImageTransfer=!1,void S.__innerAcquireOrLoadImageAsync(s,u,c,!0).then(function(){S.IfShowCancelDialogWhenImageTransfer=b,p.isFunction(m)&&m()},function(P){S.IfShowCancelDialogWhenImageTransfer=b,S._errorCode=P.code,S._errorString=P.message,p.isFunction(_)&&_(P)})}if(S._bRemoteMode&&S._getIfShowFileDialog())return PT(S),!1;var I=S._getCurrentDocumentName(),x=S._getCurrentDefaultTagName();return S.__innerLoadImageFun(s,u,f,I,x)}},{key:"__innerLoadImageFun",value:function(s,u,d,c,f){var m,_=this,S=!0;if(m=_._innerFunRaw(s,u,!1,!1,!0),_.__bOpenFileNow=!1,_._errorCode!=0)return!1;if(m&&p.isArray(m.result)&&m.result.length>0){if(d){var y;if(s=="FTPDownload"||s=="FTPDownloadEx")y=JSON.stringify(m.result);else{var b=m.result[0];p.isObject(b)?y=b.imageInfos:b!=-1||s!="LoadImage"&&s!="LoadImageEx"&&s!="LoadImageFromBase64Binary"&&s!="LoadDibFromClipboard"||(S=!1)}p.isString(y)&&_._handleOnBitmapChangedEvent({result:["c1",y]},{document:c,tag:f})}else{var I=m.result.join(",");_._OnBitmapChanged(["c1",I,1,_._ImgManager.getCurrentImageIndex(),_._ImgManager.count()],null,{document:c,tag:f})}if(S)return _._canConsume()&&U.DWT.lcvrf(_),!0}return EF(_._errorCode)&&xd(_),!1}},{key:"__innerSaveImage",value:function(s,u,d,c){var f,m=this,_=!1;if(p.isFunction(d)&&(_=!0),_&&m._OnPercentDone([0,-1,br.Encoding]),m._bRemoteMode||(U.DWT.IfAlwaysFocusOnPopupWindow?m._OnPageFocus(!0):m._OnPageBlur(!0)),_==0)return m._bRemoteMode?m._serviceSyncMethodNotSupport(s):this._innerFun(s,u);if(m._bRemoteMode&&m._getIfShowFileDialog())return PT(m),void(p.isFunction(c)&&c(m._errorCode,m._getErrorString()));var S=(f=j.progressContext)===null||f===void 0?void 0:f.IfShowCancelDialogWhenImageTransfer;m.IfShowProgressBar?j.showProgress(m,s,!1):j.hideProgress(),j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!1),m._innerSend(s,u,!0,function(){j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=S),j.closeProgress(null,s),p.isFunction(d)&&d()},function(y){return j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=S),p.isFunction(c)&&c(m._errorCode,m._getErrorString()),j.closeProgress(null,s),y&&p.error(y),!1})}},{key:"__captureImage",value:function(s,u,d,c){var f=this.__GetLoadEventsNum();return this.__LoadImageFromBytesV2(s,u,"",!0,0,0,!0,f,d,c)}},{key:"_getIfShowFileDialog",value:function(){return this._resetErr(),this._isValid()?this._innerFun("IfShowFileDialog"):Pe}},{key:"SaveAsBMP",value:function(s,u,d,c){var f=this,m=!1;if((p.isFunction(d)||ue.bAndroid)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!(_t.checkProductKey(f,{Core:!0})||ue.bWin&&_t.checkProductKey(f,{Webcam:!0},!0)))return _t.checkProductKey(f,{Core:!0},!1),p.isFunction(c)&&ft(c,f),!!m&&void 0;var _,S=At.replaceLocalFilename(s);if(!Xu(f,u,c))return!!m&&void 0;if(ue.bAndroid){if(f._ImgManager.count()==0)return Nn(f),void(p.isFunction(c)&&ft(c,f));var y=[];return y.push(u),void f._saveImages("SaveAsBMP",S,y,Qt.IT_BMP).then(function(){p.isFunction(d)&&d()}).catch(function(x){p.isFunction(c)&&c(x.code,x.message)})}if((_=f._ImgManager.convertClientIndexToServerId(u))==-1)return qe(f),p.isFunction(c)&&ft(c,f),!!m&&void 0;var b=f.__GetLoadEventsNum(),I=f.__innerSaveImage("SaveAsBMP",Ve(S,_,b),d,c);return m?void 0:I}},{key:"SaveAsJPEG",value:function(s,u,d,c){var f=this,m=!1;if((p.isFunction(d)||ue.bAndroid)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!(_t.checkProductKey(f,{Core:!0})||ue.bWin&&_t.checkProductKey(f,{Webcam:!0},!0)))return _t.checkProductKey(f,{Core:!0},!1),p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!Xu(f,u,c))return!!m&&void 0;var _,S=At.replaceLocalFilename(s);if(ue.bAndroid){if(f._ImgManager.count()==0)return Nn(f),void(p.isFunction(c)&&ft(c,f));var y=[];return y.push(u),void f._saveImages("SaveAsJPEG",S,y,Qt.IT_JPG).then(function(){p.isFunction(d)&&d()}).catch(function(x){p.isFunction(c)&&c(x.code,x.message)})}if((_=f._ImgManager.convertClientIndexToServerId(u))==-1)return qe(f),p.isFunction(c)&&ft(c,f),!!m&&void 0;var b=f.__GetLoadEventsNum(),I=f.__innerSaveImage("SaveAsJPEG",Ve(S,_,b),d,c);return m?void 0:I}},{key:"SaveAsPDF",value:function(s,u,d,c){var f=this,m=!1;if((p.isFunction(d)||ue.bAndroid)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!(_t.checkProductKey(f,{Core:!0})||ue.bWin&&_t.checkProductKey(f,{Webcam:!0},!0)))return _t.checkProductKey(f,{Core:!0},!1),p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!Xu(f,u,c))return!!m&&void 0;var _,S=At.replaceLocalFilename(s);if(ue.bAndroid){if(f._ImgManager.count()==0)return Nn(f),void(p.isFunction(c)&&ft(c,f));var y=[];return y.push(u),void f._saveImages("SaveAsPDF",S,y,Qt.IT_PDF).then(function(){p.isFunction(d)&&d()}).catch(function(x){p.isFunction(c)&&c(x.code,x.message)})}if((_=f._ImgManager.convertClientIndexToServerId(u))==-1)return qe(f),p.isFunction(c)&&ft(c,f),!!m&&void 0;var b=f.__GetLoadEventsNum(),I=f.__innerSaveImage("SaveAsPDF",Ve(S,_,b),d,c);return m?void 0:I}},{key:"SaveAsPNG",value:function(s,u,d,c){var f=this,m=!1;if((p.isFunction(d)||ue.bAndroid)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!(_t.checkProductKey(f,{Core:!0})||ue.bWin&&_t.checkProductKey(f,{Webcam:!0},!0)))return _t.checkProductKey(f,{Core:!0},!1),p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!Xu(f,u,c))return!!m&&void 0;var _,S=At.replaceLocalFilename(s);if(ue.bAndroid){if(f._ImgManager.count()==0)return Nn(f),void(p.isFunction(c)&&ft(c,f));var y=[];return y.push(u),void f._saveImages("SaveAsPNG",S,y,Qt.IT_PNG).then(function(){p.isFunction(d)&&d()}).catch(function(x){p.isFunction(c)&&c(x.code,x.message)})}if((_=f._ImgManager.convertClientIndexToServerId(u))==-1)return qe(f),p.isFunction(c)&&ft(c,f),!!m&&void 0;var b=f.__GetLoadEventsNum(),I=f.__innerSaveImage("SaveAsPNG",Ve(S,_,b),d,c);return m?void 0:I}},{key:"SaveAsTIFF",value:function(s,u,d,c){var f=this,m=!1;if((p.isFunction(d)||ue.bAndroid)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!(_t.checkProductKey(f,{Core:!0})||ue.bWin&&_t.checkProductKey(f,{Webcam:!0},!0)))return _t.checkProductKey(f,{Core:!0},!1),p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!Xu(f,u,c))return!!m&&void 0;var _,S=At.replaceLocalFilename(s);if(ue.bAndroid){if(f._ImgManager.count()==0)return Nn(f),void(p.isFunction(c)&&ft(c,f));var y=[];return y.push(u),void f._saveImages("SaveAsTIFF",S,y,Qt.IT_TIF).then(function(){p.isFunction(d)&&d()}).catch(function(x){p.isFunction(c)&&c(x.code,x.message)})}if((_=f._ImgManager.convertClientIndexToServerId(u))==-1)return qe(f),p.isFunction(c)&&ft(c,f),!!m&&void 0;var b=f.__GetLoadEventsNum(),I=f.__innerSaveImage("SaveAsTIFF",Ve(S,_,b),d,c);return m?void 0:I}},{key:"SaveSelectedImagesAsMultiPagePDF",value:function(s,u,d){var c=this,f=!1;if((p.isFunction(u)||ue.bAndroid)&&(f=!0),c._resetErr(),!c._isValid())return p.isFunction(d)&&ft(d,c),!!f&&void 0;if(!(_t.checkProductKey(c,{Core:!0})||ue.bWin&&_t.checkProductKey(c,{Webcam:!0},!0)))return _t.checkProductKey(c,{Core:!0},!1),p.isFunction(d)&&ft(d,c),!!f&&void 0;var m=At.replaceLocalFilename(s);if(!ue.bAndroid){var _=Ld(c);if(_.length==0)return Nn(c),p.isFunction(d)&&ft(d,c),!!f&&void 0;var S=c.__GetLoadEventsNum(),y=c.__innerSaveImage("SaveSelectedImagesAsMultiPagePDF",Ve(m,_.join(","),S),u,d);return f?void 0:y}if(c._ImgManager.count()==0)return Nn(c),void(p.isFunction(d)&&ft(d,c));var b=EO(c);c._saveImages("SaveSelectedImagesAsMultiPagePDF",m,b,Qt.IT_PDF).then(function(){p.isFunction(u)&&u()}).catch(function(I){p.isFunction(d)&&d(I.code,I.message)})}},{key:"SaveSelectedImagesAsMultiPageTIFF",value:function(s,u,d){var c=this,f=!1;if((p.isFunction(u)||ue.bAndroid)&&(f=!0),c._resetErr(),!c._isValid())return p.isFunction(d)&&ft(d,c),!!f&&void 0;if(!(_t.checkProductKey(c,{Core:!0})||ue.bWin&&_t.checkProductKey(c,{Webcam:!0},!0)))return _t.checkProductKey(c,{Core:!0},!1),p.isFunction(d)&&ft(d,c),!!f&&void 0;var m=At.replaceLocalFilename(s);if(!ue.bAndroid){var _=Ld(c);if(_.length==0)return Nn(c),p.isFunction(d)&&ft(d,c),!!f&&void 0;var S=c.__GetLoadEventsNum(),y=c.__innerSaveImage("SaveSelectedImagesAsMultiPageTIFF",Ve(m,_.join(","),S),u,d);return f?void 0:y}if(c._ImgManager.count()==0)return Nn(c),void(p.isFunction(d)&&ft(d,c));var b=EO(c);c._saveImages("SaveSelectedImagesAsMultiPageTIFF",m,b,Qt.IT_TIF).then(function(){p.isFunction(u)&&u()}).catch(function(I){p.isFunction(d)&&d(I.code,I.message)})}},{key:"SaveAllAsMultiPageTIFF",value:function(s,u,d){var c=this,f=!1;if((p.isFunction(u)||ue.bAndroid)&&(f=!0),c._resetErr(),!c._isValid())return p.isFunction(d)&&ft(d,c),!!f&&void 0;if(!(_t.checkProductKey(c,{Core:!0})||ue.bWin&&_t.checkProductKey(c,{Webcam:!0},!0)))return _t.checkProductKey(c,{Core:!0},!1),p.isFunction(d)&&ft(d,c),!!f&&void 0;if(!vC(c,d))return!!f&&void 0;var m=[],_=At.replaceLocalFilename(s);if(!ue.bAndroid){if(S_(c,m),m.length==0)return Nn(c),p.isFunction(d)&&ft(d,c),!!f&&void 0;var S=c.__GetLoadEventsNum(),y=c.__innerSaveImage("SaveSelectedImagesAsMultiPageTIFF",Ve(_,m.join(","),S),u,d);return f?void 0:y}if(c._ImgManager.count()==0)return Nn(c),void(p.isFunction(d)&&ft(d,c));for(var b=[],I=0;I<this._ImgManager.count();I++)b.push(I);c._saveImages("SaveAllAsMultiPageTIFF",_,b,Qt.IT_TIF).then(function(){p.isFunction(u)&&u()}).catch(function(x){p.isFunction(d)&&d(x.code,x.message)})}},{key:"SaveAllAsPDF",value:function(s,u,d){var c=this,f=!1;if((p.isFunction(u)||ue.bAndroid)&&(f=!0),c._resetErr(),!c._isValid())return p.isFunction(d)&&ft(d,c),!!f&&void 0;if(!(_t.checkProductKey(c,{Core:!0})||ue.bWin&&_t.checkProductKey(c,{Webcam:!0},!0)))return _t.checkProductKey(c,{Core:!0},!1),p.isFunction(d)&&ft(d,c),!!f&&void 0;if(!vC(c,d))return!!f&&void 0;var m=[],_=At.replaceLocalFilename(s);if(!ue.bAndroid){if(S_(c,m),m.length==0)return Nn(c),p.isFunction(d)&&ft(d,c),!!f&&void 0;var S=c.__GetLoadEventsNum(),y=c.__innerSaveImage("SaveSelectedImagesAsMultiPagePDF",Ve(_,m.join(","),S),u,d);return f?void 0:y}if(c._ImgManager.count()==0)return Nn(c),void(p.isFunction(d)&&ft(d,c));for(var b=[],I=0;I<this._ImgManager.count();I++)b.push(I);c._saveImages("SaveAllAsPDF",_,b,Qt.IT_PDF).then(function(){p.isFunction(u)&&u()}).catch(function(x){p.isFunction(d)&&d(x.code,x.message)})}},{key:"HTTPUpload",value:function(s,u,d,c,f,m,_){var S=this,y=f??"RemoteFile",b=S._GetHttpHeadersAndClear(),I=m,x=_;if(S._resetErr(),arguments.length<=3)return I=u,x=d,void this._innerFormFieldHTTPUpload(s,b,I,x);if(p.isFunction(arguments[4])&&p.isFunction(arguments[5])&&(y="RemoteFile",I=arguments[4],arguments.length>5&&(x=arguments[5])),S._isValid()){var P,L=arguments,$=function(q){p.isFunction(x)&&jn(x,S,S.__HTTPPostResponseString,q,L)};if(p.isUndefined(s)||s==="")return ci(S),void($&&$(u));if(!p.isString(s))return up(S),void($&&$(u));if(S._checkIndices(u)){var te=Ju(S,u);if(te.length==0)return Ot(S),void($&&$(u));if(p.isUndefined(d))return Li(S),void($&&$(u));if(d==U.DWT.EnumDWT_ImageType.IT_BMP||d==U.DWT.EnumDWT_ImageType.IT_JPG||d==U.DWT.EnumDWT_ImageType.IT_PNG){if(te.length>1)return Ad(S),void $(u)}else if(d!=U.DWT.EnumDWT_ImageType.IT_TIF&&d!=U.DWT.EnumDWT_ImageType.IT_PDF)return Li(S),void $(u);if(p.isUndefined(c)||c!=U.DWT.EnumDWT_UploadDataFormat.Binary&&c!=U.DWT.EnumDWT_UploadDataFormat.Base64)return aF(S),void $(u);P={method:"HTTPUpload",url:s,serverIds:te,headers:b,formData:mc(S.httpFormFields),enumImageType:d,saveSetup:!1,dataFormat:c,fileName:y,retry:0,bOnlyResponseEmptyIsOK:!0,objUploadFileStatus:!1,asyncSuccessFunc:function(q,Q){p.isFunction(I)&&_n(I,S.__HTTPPostResponseString,Q,L)},asyncFailureFunc:$},this._asyncUploadCmd(P)}else $&&$(u)}else p.isFunction(x)&&ft(x,S,"")}},{key:"_innerFormFieldHTTPUpload",value:function(s,u,d,c){var f,m=this,_="HTTPUpload",S=s,y=m.IfShowProgressBar;if(m._isValid()){if(p.isUndefined(S)||S==="")return ci(m),void(p.isFunction(c)&&ft(c,m,""));if(!p.isString(S))return up(m),void(p.isFunction(c)&&ft(c,m,""));S.indexOf("http://")!=0&&S.indexOf("https://")!=0&&(S=j.detect.ssl?"https://"+S:"http://"+S),m.__HTTPPostResponseString="",j.cancelFrom=Mt.HTTPUpload,f=function(x,P,L){x!=0&&P&&(m._errorCode=x,m._errorString=P),L&&(m.__HTTPPostResponseString=L),j.needShowTwiceShowDialog=!1,j.closeProgress(null,_),p.isFunction(c)&&ft(c,m,m.__HTTPPostResponseString)},y?j.showProgress(m,_,!1):j.hideProgress(),j.needShowTwiceShowDialog=!0,m._OnPercentDone([0,-1,br.Uploading,"http"]);var b=m._createHttpUploaderConfig(),I=new ca;m.__remoteFilename&&m.__remoteFilename!=""&&(I.remoteFilename=m.__remoteFilename),I.url=S,I.method=_,I.content=[],I.headers=u,I.httpFormData=mc(m.httpFormFields),I.blockSize=m._moduleSize,new Es().httpPostUpload(b,I,function(x){j.needShowTwiceShowDialog=!1,j.closeProgress(null,_),p.isFunction(d)&&_n(d,x,s,[s,d,c])},f)}else p.isFunction(c)&&ft(c,m,"")}},{key:"HTTPUploadThroughPost",value:function(s,u,d,c,f,m,_){var S=this,y=!1;if(p.isFunction(f)&&(y=!0),S._resetErr(),!S._isValid())return!!y&&void 0;var b=At.getImageType(c),I=arguments,x=!1,P=function(L){return p.isFunction(m)&&jn(m,S,S.__HTTPPostResponseString,L,I),!1};return p.isString(c)&&c!=""?(f&&p.isFunction(f)&&(x=function(L,$){return _n(f,S.__HTTPPostResponseString,$,I),!0}),PU(S,u,b,P)?Bo(go,S,Cf).call(S,s,u,d,c,b,x,P,_):!!y&&void 0):(an(S),P(),!!y&&void 0)}},{key:"HTTPUploadThroughPostEx",value:function(s,u,d,c,f,m,_,S){var y=this,b=!1;if(p.isFunction(m)&&(b=!0),y._resetErr(),!y._isValid())return p.isFunction(_)&&jn(_,y,""),!!b&&void 0;var I=arguments,x=!1,P=function(L){p.isFunction(_)&&jn(_,y,y.__HTTPPostResponseString,L,I)};return p.isString(c)&&c!=""?(m&&p.isFunction(m)&&(x=function(L,$){_n(m,y.__HTTPPostResponseString,$,I)}),PU(y,u,f,P)?Bo(go,y,Cf).call(y,s,u,d,c,f,x,P,S):!!b&&void 0):(an(y),P(),!!b&&void 0)}},{key:"HTTPUploadAllThroughPostAsMultiPageTIFF",value:function(s,u,d,c,f,m){var _=this,S=!1;if(p.isFunction(c)&&(S=!0),_._resetErr(),!_._isValid())return p.isFunction(f)&&jn(f,_,""),!!S&&void 0;var y=arguments,b=!1,I=function(x){p.isFunction(f)&&jn(f,_,_.__HTTPPostResponseString,x,y)};return p.isString(d)&&d!=""?(S&&(b=function(x,P){_n(c,_.__HTTPPostResponseString,P,y)}),Bo(go,_,Cf).call(_,s,-1,u,d,2,b,I,m)):(an(_),I(),!!S&&void 0)}},{key:"HTTPUploadAllThroughPostAsPDF",value:function(s,u,d,c,f,m){var _=this,S=!1;if(p.isFunction(c)&&(S=!0),_._resetErr(),!_._isValid())return p.isFunction(f)&&ft(f,_,""),!!S&&void 0;var y=arguments,b=!1,I=function(x){return p.isFunction(f)&&jn(f,_,_.__HTTPPostResponseString,x,y),!1};return p.isString(d)&&d!=""?(S&&(b=function(x,P){_n(c,_.__HTTPPostResponseString,P,y)}),Bo(go,_,Cf).call(_,s,-1,u,d,4,b,I,m)):(an(_),I())}},{key:"HTTPUploadThroughPostAsMultiPagePDF",value:function(s,u,d,c,f,m){var _=this,S=!1;if(p.isFunction(c)&&(S=!0),_._resetErr(),!_._isValid())return p.isFunction(f)&&ft(f,_,""),!!S&&void 0;var y=arguments,b=!1,I=function(x){p.isFunction(f)&&jn(f,_,_.__HTTPPostResponseString,x,y)};return p.isString(d)&&d!=""?(S&&(b=function(x,P){_n(c,_.__HTTPPostResponseString,P,y)}),Bo(go,_,Cf).call(_,s,-2,u,d,4,b,I,m)):(an(_),I(),!!S&&void 0)}},{key:"HTTPUploadThroughPostAsMultiPageTIFF",value:function(s,u,d,c,f,m){var _=this,S=!1;if(p.isFunction(c)&&(S=!0),_._resetErr(),!_._isValid())return p.isFunction(f)&&ft(f,_,""),!!S&&void 0;var y=arguments,b=!1,I=function(x){p.isFunction(f)&&jn(f,_,_.__HTTPPostResponseString,x,y)};return p.isString(d)&&d!=""?(S&&(b=function(x,P){_n(c,_.__HTTPPostResponseString,P,y)}),Bo(go,_,Cf).call(_,s,-2,u,d,2,b,I,m)):(an(_),I(),!!S&&void 0)}},{key:"_innerHTTPDownloadThroughGet",value:function(s,u,d,c,f,m){var _,S,y=this,b=y._GetHttpHeadersAndClear(),I=y.IfShowProgressBar,x=At.combineUrl(y,u,d),P=!1;if(p.isFunction(f)&&(P=!0),x===void 0)return ci(y),p.isFunction(m)&&ft(m,y),!!P&&void 0;if(!_t.checkProductKey(y,{Core:!0})||!_t.checkPDFProductKeyWhenNeeds(y,c))return p.isFunction(m)&&ft(m,y),!!P&&void 0;j.cancelFrom=Mt.HTTPDownload;var L=(_=j.progressContext)===null||_===void 0?void 0:_.IfShowCancelDialogWhenImageTransfer,$=y._getCurrentDocumentName(),te=y._getCurrentDefaultTagName();return p.log("_innerHTTPDownloadThroughGet.currentFileName:"+$+", tag="+te),I&&P?(y.__IfShowCancelDialogWhenImageTransfer&&(j.progressContext.__cancelBeforObjectCreated=!0),j.showProgress(y,s,y.__IfShowCancelDialogWhenImageTransfer)):P&&j.hideProgress(),y._OnPercentDone([0,-1,br.Downloading,"http"]),S=At.loadHttpBlob(y,"get",x,P,function(q){j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=L),I&&P&&fu(!1),y._OnPercentDone([0,-1,br.Loading]);var Q=c;Q!=U.DWT.EnumDWT_ImageType.IT_BMP&&Q!=U.DWT.EnumDWT_ImageType.IT_JPG&&Q!=U.DWT.EnumDWT_ImageType.IT_TIF&&Q!=U.DWT.EnumDWT_ImageType.IT_PNG&&Q!=U.DWT.EnumDWT_ImageType.IT_PDF&&Q!=U.DWT.EnumDWT_ImageType.IT_J2K&&(Q=-1),q.currentFileName=$,q.currentTagName=te;var J=y.__GetLoadEventsNum();return y.__LoadImageFromBytesV1(q,Q,"",J,P,function(){return I&&P&&j.closeProgress(null,s),p.isFunction(f)&&f(),!0},function(){return I&&P&&j.closeProgress(null,s),p.isFunction(m)&&ft(m,y),!1})},function(){return j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=L),I&&P&&j.closeProgress(null,s),p.isFunction(m)&&ft(m,y),!1},function(q){var Q=q.total===0?100:Math.round(100*q.loaded/q.total);[q.loaded," / ",q.total].join(""),Q>=100&&q.loaded<q.total&&(Q=99),y._OnPercentDone([0,Q,"","http"])},b),P?void 0:!!S}},{key:"LoadImage",value:function(s,u,d){var c=this,f=!1;if(p.isFunction(u)&&(f=!0),c._resetErr(),!c._isValid())return p.isFunction(d)&&ft(d,c),!!f&&void 0;var m,_,S,y=At.replaceLocalFilename(s),b=At.getImageType(y);u&&p.isFunction(u)&&(_=function(P){u()}),d&&p.isFunction(d)&&(S=function(P){d(P.code,P.message)}),m=c.__GetLoadEventsNum(),y==""&&(c.__bOpenFileNow=!0);var I=c._getCurrentDocumentName(),x=c._getCurrentDefaultTagName();return c.__innerLoadImage("LoadImage",Ve(y,m,1,I,x),b,!0,1,_,S)}},{key:"LoadImageEx",value:function(s,u,d,c){var f=this,m=!1;if(p.isFunction(d)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;var _,S,y,b=At.replaceLocalFilename(s),I=u;if(d&&p.isFunction(d)&&(S=function(te){d()}),c&&p.isFunction(c)&&(y=function(te){c(te.code,te.message)}),!ue.bAndroid){I==U.DWT.EnumDWT_ImageType.IT_ALL&&(I=-1),_=f.__GetLoadEventsNum(),b==""&&(f.__bOpenFileNow=!0);var x=f._getCurrentDocumentName(),P=f._getCurrentDefaultTagName();return f.__innerLoadImage("LoadImageEx",Ve(b,I,_,1,x,P),I,!0,1,S,y)}var L=Te.one(".d-loadImage");if(L.length==0){var $=document.createElement("input");$._stwain=f,$.setAttribute("type","file"),$.setAttribute("multiple","multiple"),$.style.position="absolute",$.style.top="-9999px",$.style.left="-9999px",$.style.width="1px",$.style.height="1px",$.className="d-loadImage",u==U.DWT.EnumDWT_ImageType.IT_BMP?$.setAttribute("accept","image/bmp"):u==U.DWT.EnumDWT_ImageType.IT_JPG?$.setAttribute("accept","image/jpeg"):u==U.DWT.EnumDWT_ImageType.IT_TIF?$.setAttribute("accept","image/tiff"):u==U.DWT.EnumDWT_ImageType.IT_PNG?$.setAttribute("accept","image/png"):u==U.DWT.EnumDWT_ImageType.IT_PDF?$.setAttribute("accept",".pdf"):u==U.DWT.EnumDWT_ImageType.IT_J2K?$.setAttribute("accept",".jp2,.j2k,.j2c"):Wr.bMobile?$.setAttribute("accept","image/jpeg,image/png,image/tiff,image/tif"):$.setAttribute("accept","image/*,.pdf,.jp2,.j2k,.j2c"),$.ondoubleclick=function(){this.files.length>0&&this._stwain.LoadImageFromBinary(this.files,S,y),this.value="",this._stwain=null,$&&$.parentElement.removeChild($)},$.onchange=function(){this.files.length>0&&this._stwain.LoadImageFromBinary(this.files,S,y),this.value="",this._stwain=null,$&&$.parentElement.removeChild($)},document.body.appendChild($),$.click()}else u==U.DWT.EnumDWT_ImageType.IT_BMP?L[0].setAttribute("accept","image/bmp"):u==U.DWT.EnumDWT_ImageType.IT_JPG?L[0].setAttribute("accept","image/jpeg"):u==U.DWT.EnumDWT_ImageType.IT_TIF?L[0].setAttribute("accept","image/tiff"):u==U.DWT.EnumDWT_ImageType.IT_PNG?L[0].setAttribute("accept","image/png"):u==U.DWT.EnumDWT_ImageType.IT_PDF?L[0].setAttribute("accept",".pdf"):u==U.DWT.EnumDWT_ImageType.IT_J2K?L[0].setAttribute("accept",".jp2,.j2k,.j2c"):Wr.bMobile?L[0].setAttribute("accept","image/jpeg,image/png,image/tiff,image/tif"):L[0].setAttribute("accept","image/*,.pdf,.jp2,.j2k,.j2c"),L[0].value="",L[0]._stwain=f,L[0].click()}},{key:"HTTPDownload",value:function(s,u,d,c){var f=this,m=!1;if(p.isFunction(d)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;var _=At.getImageType(u);return f._innerHTTPDownloadThroughGet("HTTPDownload",s,u,_,d,c)}},{key:"HTTPDownloadEx",value:function(s,u,d,c,f){var m=this,_=!1;return p.isFunction(c)&&(_=!0),m._resetErr(),m._isValid()?m._innerHTTPDownloadThroughGet("HTTPDownloadEx",s,u,d,c,f):(p.isFunction(f)&&ft(f,m),!!_&&void 0)}},{key:"getFormateDate",value:function(){var s=new Date,u=s.getFullYear(),d=s.getMonth()+1,c=s.getDate(),f=s.getHours(),m=s.getMinutes(),_=s.getSeconds();return d<=9&&(d="0"+d),c<=9&&(c="0"+c),f<=9&&(f="0"+f),m<=9&&(m="0"+m),_<=9&&(_="0"+_),{currentTime_title:u+"-"+d+"-"+c+" "+f+":"+m+":"+_,currentTime_info:d+"/"+c+"/"+u+" "+f+":"+m+":"+_}}},{key:"__shareImagesInner",value:function(s,u,d,c){var f=navigator;f.canShare&&f.canShare({files:s})&&f.share({files:s,title:u,text:this.getFormateDate().currentTime_info}).then(function(){p.isFunction(d)&&d()}).catch(function(m){p.isFunction(c)&&c(m)})}},{key:"ShareImages",value:(o=a(w().mark(function s(u,d,c){var f,m,_,S,y,b,I,x,P;return w().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(f=this,!ue.bAndroid){L.next=38;break}if(c!=Qt.IT_ALL&&c!=Qt.IT_MULTIPAGE_PDF&&c!=Qt.IT_MULTIPAGE_TIF){L.next=5;break}throw mF(f),{code:f._errorCode,message:f._errorString};case 5:if(m=d.sort(function($,te){return $-te}),!(m.length>0)){L.next=36;break}if(_="IMAGE File",c==Qt.IT_PDF&&(_="PDF File"),S=F0(u,c),p.isUndefined(S)&&(S=u),c!=Qt.IT_PDF&&c!=Qt.IT_TIF){L.next=15;break}return L.abrupt("return",new Te.Promise(function($,te){f.ConvertToBlob(m,c,function(q,Q,J){var re=[new File([q],S,{type:q.type})];f.__shareImagesInner(re,_,function(){$()},function(H){te({code:H.code!=0?H.code:2201,message:H.message})})},function(){te({code:f._errorCode,message:f._errorString})})}));case 15:y=[],b=S,L.t0=c,L.next=L.t0===Qt.IT_BMP?20:L.t0===Qt.IT_JPG?22:L.t0===Qt.IT_PNG?24:26;break;case 20:return I=".bmp",L.abrupt("break",27);case 22:return I=".jpg",L.abrupt("break",27);case 24:return I=".png",L.abrupt("break",27);case 26:I=".jpg";case 27:S&&S.lastIndexOf(".")>0&&(b=S.substring(0,S.lastIndexOf(".")),I=S.substring(S.lastIndexOf("."),S.length)),x=w().mark(function $(te){return w().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,new Te.Promise(function(Q,J){f.ConvertToBlob([m[te]],c,function(re,H,F){te==0?y.push(new File([re],b+I,{type:re.type})):y.push(new File([re],b+te+I,{type:re.type})),Q()},function(){J({code:f._errorCode,message:f._errorString})})});case 2:case"end":return q.stop()}},$)}),P=0;case 30:if(!(P<m.length)){L.next=35;break}return L.delegateYield(x(P),"t1",32);case 32:P++,L.next=30;break;case 35:f.__shareImagesInner(y,_);case 36:L.next=40;break;case 38:throw Fe(f,-2617,"ShareImages is only supported on Android devices."),{code:f._errorCode,message:f._errorString};case 40:case"end":return L.stop()}},s,this)})),function(s,u,d){return o.apply(this,arguments)})},{key:"Addon",get:function(){return this.__addon}},{key:"LoadDibFromClipboard",value:function(s,u){var d,c,f=this,m=!1;if(p.isFunction(s)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(u)&&ft(u,f),!!m&&void 0;if(f._bRemoteMode)return Fe(f,-2609,"LoadDibFromClipboard is not supported when Object is created by CreateRemoteScanObjectAsync."),p.isFunction(u)&&ft(u,f),!!m&&void 0;s&&p.isFunction(s)&&(d=function(S){s()}),u&&p.isFunction(u)&&(c=function(S){u(S.code,S.message)});var _;return _=f.__GetLoadEventsNum(),f.__innerLoadImage("LoadDibFromClipboard",Ve(_,1),-1,!0,1,d,c)}},{key:"__innerGetBarcodeResultAsyncFunction",value:function(s){var u=j.NewBarcodeResult();return s&&(u._errorCode=s.exception,u._errorString=s.description,u._resultlist=s.result,u._Count=s.result.length),u}},{key:"__innerGetOCRResultAsyncFunction",value:function(s){var u=j.NewOCRResult(this);return s&&(u._errorCode=s.exception,u._errorString=s.description,u._resultlist=s.result),u}},{key:"__innerFTPUpload",value:function(s,u,d,c){return j.cancelFrom=Mt.FTPUpload,Bo(go,this,xU).call(this,s,u,!0,d,c)}},{key:"_GetHttpHeadersAndClear",value:function(){var s=this.__httpHeaderMap;return this.__httpHeaderMap={},s||(s={}),s}},{key:"_asyncUploadCmd",value:function(s){var u,d=this,c=s.url,f=s.asyncSuccessFunc,m=s.asyncFailureFunc,_=d.IfShowCancelDialogWhenImageTransfer,S=(u=j.progressContext)===null||u===void 0?void 0:u.IfShowCancelDialogWhenImageTransfer,y=s.method,b=s.serverIds,I=s.headers,x=s.formData,P=s.enumImageType,L=s.dataFormat,$=s.fileName,te=s.saveSetup,q=s.retry,Q=s.bOnlyResponseEmptyIsOK,J=s.objUploadFileStatus,re=function(H,F,B,V){d.IfShowCancelDialogWhenImageTransfer=_,j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=S);var G=[];if(p.isArray(b)&&p.each(b,function(z){var Z=d._ImgManager.convertServerIdToClientIndex(z);Z>-1&&G.push(Z)}),H!=0&&F&&(d._errorCode=H,d._errorString=F),B&&(d.__HTTPPostResponseString=B),p.isFunction(m))try{m(G)}catch{}return!1};return p.isNumber(q)&&q>0||(q=0),d._errorCode!=0?re(d._errorCode,d._errorString,d.__HTTPPostResponseString):(d.__HTTPPostResponseString="",d.IfShowCancelDialogWhenImageTransfer=!0,j.progressContext.IfShowCancelDialogWhenImageTransfer=d.IfShowCancelDialogWhenImageTransfer,n._innerHTTPUpload(d,y,c,I,x,b,P,L,$,te,q,Q,J,function(H){if(d.IfShowCancelDialogWhenImageTransfer=_,j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=S),p.isFunction(f)){var F=[];p.isArray(b)&&p.each(b,function(B){var V=d._ImgManager.convertServerIdToClientIndex(B);V>-1&&F.push(V)});try{_n(f,H,F)}catch{}H=null}return!0},re))}}],[{key:"_innerHTTPUpload",value:function(s,u,d,c,f,m,_,S,y,b,I,x,P,L,$){var te=parseInt(_),q=parseInt(S),Q=y,J=d,re=s._segementUploadThreshold;if(p.isUndefined(_))return Li(s),p.isFunction($)&&$(s._errorCode,s._errorString,""),!1;s._resetErr(),j.cancelFrom=Mt.HTTPUpload;var H,F=function(V,G,z,Z){return V!=0&&G&&(s._errorCode=V,s._errorString=G),z&&(s.__HTTPPostResponseString=z),j.needShowTwiceShowDialog=!1,s.IfShowProgressBar&&j.closeProgress(null,u),p.isFunction($)&&$(s._errorCode,s._errorString,s.__HTTPPostResponseString,Z),!1},B=s._createHttpUploaderConfig();if(B.objUploadStatus=P,Q=F0(Q,te),j.needShowTwiceShowDialog=!0,s.IfShowProgressBar?(j.showProgress(s,u,!1),j.progressContext&&(j.progressContext._onPercent=function(V){var G=0;if(V){var z,Z;z=V.loaded,Z=V.total,(G=Math.floor(z/Z*100))>100&&(G=100)}j.progressBarOnPercentDone(-1,"Transferring...","",G,"")})):j.hideProgress(),q==U.DWT.EnumDWT_UploadDataFormat.Binary){if(P&&P.bCancel)return P.st=2,Ro(s),F(s._errorCode,s._errorString);s._OnPercentDone([0,-1,br.Encoding,"http"]),s._convertToBlobForUpload(te,m,b,4,function(V,G,z){if(H=function(be){return j.needShowTwiceShowDialog=!1,s.IfShowProgressBar&&j.closeProgress(null,u),p.isFunction(L)&&_n(L,be),!0},P&&P.bCancel)return P.st=2,Ro(s),F(s._errorCode,s._errorString);if(!V||V.size<=0)return an(s),F(s._errorCode,s._errorString);var Z=s.__maxUploadImageSize;if(V.size>Z&&Z!=-1)return gs(s),F(s._errorCode,s._errorString);if(s._errorCode!=0)return F(s._errorCode,s._errorString);if(U.DWT.IfAddMD5InUploadHeader&&G&&G!=""&&(c["dwt-md5"]=G),re>0&&V.size>re){s._OnPercentDone([0,-1,br.Uploading,"http",Q]);var ie=new Es,se=new ca;return s.__remoteFilename&&s.__remoteFilename!=""&&(se.remoteFilename=s.__remoteFilename),se.url=J,se.method=u,se.content=V,V=null,se.contentType=s._strHttpContentTypeFieldValue,se.headers=c,se.fileName=Q,se.httpFormData=f,se.retry=I,se.bOnlyResponseEmptyIsOK=x,se.blockSize=s._moduleSize,ie.httpPostUploadFragment(B,se,H,F)}var ne=new Es,ae=new ca;s.__remoteFilename&&s.__remoteFilename!=""&&(ae.remoteFilename=s.__remoteFilename),ae.url=J,ae.method=u,ae.content=V,V=null,ae.contentType=s._strHttpContentTypeFieldValue,ae.headers=c,ae.fileName=Q,ae.httpFormData=f,ae.retry=I,ae.bOnlyResponseEmptyIsOK=x,ae.blockSize=s._moduleSize,B.objUploadStatus=P,ne.httpPostUpload(B,ae,H,F)},F)}else q==U.DWT.EnumDWT_UploadDataFormat.Base64&&s._convertToBase64ByServerIdsWithUI(u,m,te,b,4,function(V){var G;if(!V||V.getLength()<=0)return an(s),F(s._errorCode,s._errorString);if(H=function(){return j.needShowTwiceShowDialog=!1,s.IfShowProgressBar&&j.closeProgress(null,u),p.isFunction(L)&&_n(L,V),!0},re>0&&V.getLength()>re){G=V.getMD5(),U.DWT.IfAddMD5InUploadHeader&&(c["dwt-md5"]=G),s._OnPercentDone([0,-1,br.Uploading,"http"]);var z=new ca;s.__remoteFilename&&s.__remoteFilename!=""&&(z.remoteFilename=s.__remoteFilename),z.url=J,z.method=u,z.content=V.getData(0,V.getLength()),z.headers=c,z.fileName=Q,z.httpFormData=f,z.retry=I,z.bOnlyResponseEmptyIsOK=x,z.blockSize=s._moduleSize,z.offset=0,new Es().httpPostUploadFragment(B,z,H,F)}else{var Z;if(G=V.getMD5(),U.DWT.IfAddMD5InUploadHeader&&(c["dwt-md5"]=G),!(Z=V.getData(0,V.getLength()))||Z=="")return an(s),F(s._errorCode,s._errorString);var ie=new ca;s.__remoteFilename&&s.__remoteFilename!=""&&(ie.remoteFilename=s.__remoteFilename),ie.url=J,ie.method=u,ie.content=Z,ie.headers=c,ie.fileName=Q,ie.httpFormData=f,ie.retry=I,ie.bOnlyResponseEmptyIsOK=x,ie.blockSize=s._moduleSize,new Es().httpPostUpload(B,ie,H,F)}},F)}}]);var o}(Mce);function Cf(r,n,o,s,u,d,c,f){var m,_,S=this,y="HTTPUploadThroughPostEx",b=S._GetHttpHeadersAndClear(),I=At.combineUrl(S,r,o),x=[],P=function(J){p.isFunction(c)&&c(J)},L=!1,$=!1;if(p.isFunction(d)&&($=!0),S.__HTTPPostResponseString="",p.isNumber(n)){if(n<-2)return qe(S),P(n),!!$&&void 0}else if(!p.isArray(n))return qe(S),P(n),!!$&&void 0;if(!p.isString(s)||s=="")return an(S),P(),!!$&&void 0;if(p.isUndefined(u))return Li(S),P(n),!!$&&void 0;if(u==U.DWT.EnumDWT_ImageType.IT_BMP||u==U.DWT.EnumDWT_ImageType.IT_JPG||u==U.DWT.EnumDWT_ImageType.IT_PNG||u==U.DWT.EnumDWT_ImageType.IT_J2K){if(n==-1&&S._ImgManager.count()>1||p.isArray(n)&&n.length>1)return Ad(S),P(n),!!$&&void 0;p.isArray(n)?x.push(n[0]):n==-1?x.push(0):x.push(n)}else{if(u!=U.DWT.EnumDWT_ImageType.IT_TIF&&u!=U.DWT.EnumDWT_ImageType.IT_PDF)return Li(S),P(n),!!$&&void 0;if(n==-1){if(S._ImgManager.count()==0)return Nn(S),P(),!!$&&void 0;for(_=0;_<S._ImgManager.count();_++)x.push(_)}else if(n==-2)x=S._ImgManager.getSelectedClientIndexArray();else if(p.isArray(n))for(_=0;_<n.length;_++)x.push(n[_]);else x.push(n)}if(r==="")return TT(S),P(x),!!$&&void 0;if(p.isUndefined(I)||I==="")return ci(S),P(x),!!$&&void 0;if(!p.isString(I))return up(S),P(x),!!$&&void 0;if(I.indexOf("http://")!=0&&I.indexOf("https://")!=0&&(I=j.detect.ssl?"https://"+I:"http://"+I),!S._checkIndices(x)&&x!=-1)return P(x),!!$&&void 0;var te=[];if(p.isArray(x)&&p.each(x,function(J){var re=S._ImgManager.convertClientIndexToServerId(J);re!=-1&&te.push(re)}),S._resetErr(),!S._isValid())return P(x),!!$&&void 0;if(!$){j.cancelFrom=Mt.HTTPUpload;var q=this.IfShowProgressBar,Q=function(J,re,H){return J!=0&&re&&(S._errorCode=J,S._errorString=re),H&&(S.__HTTPPostResponseString=H),j.needShowTwiceShowDialog=!1,q&&j.closeProgress(null,y),P(x),!1};return j.needShowTwiceShowDialog=!0,q?j.showProgress(S,y,!1):j.hideProgress(),S._OnPercentDone([0,-1,br.Encoding,"http"]),S._dwtConvertToBlobSync(u,te,L,function(J,re){if(j.needShowTwiceShowDialog=!1,J){var H=S.__maxUploadImageSize;if(J.size>H&&H!=-1)return gs(S),Q(S._errorCode,S._errorString),!1;U.DWT.IfAddMD5InUploadHeader&&re&&re!=""&&(b["dwt-md5"]=re),J instanceof File?J.fileName=s:J.name=s,q&&fu(S.__IfShowCancelDialogWhenImageTransfer);var F=S._createHttpUploaderConfig(),B=new ca;return S.__remoteFilename&&S.__remoteFilename!=""&&(B.remoteFilename=S.__remoteFilename),B.url=I,B.method=y,B.content=J,B.contentType=S._strHttpContentTypeFieldValue,B.headers=b,B.bAsync=!1,B.httpFormData=mc(S.httpFormFields),B.blockSize=S._moduleSize,new Es().httpPostUpload(F,B,function(G){return q&&j.closeProgress(null,y),G},Q)}var V={};return IT(V),Q(V._errorCode,V._errorString),!1},Q)}m={method:"HTTPUploadThroughPostEx",url:I,serverIds:te,headers:b,formData:mc(S.httpFormFields),enumImageType:u,saveSetup:L,fileName:s,retry:0,bOnlyResponseEmptyIsOK:!0,objUploadFileStatus:!1,dataFormat:U.DWT.EnumDWT_UploadDataFormat.Binary,asyncSuccessFunc:d,asyncFailureFunc:P},this._asyncUploadCmd(m)}function EU(r,n,o,s,u){var d=this,c=!0;if(n)return d._innerFunRaw("SaveSelectedImagesToBytes",Ve(0,0,r,o),n,c,!0,function(_){if(p.isFunction(s)){var S=new Blob([_],{type:d._strHttpContentTypeFieldValue});s(S),S=null}},u),!0;var f=d._innerFunRaw("SaveSelectedImagesToBytes",Ve(0,0,r,o),n,c,!1);if(d._errorCode==0){var m=s(f);return f=null,m}return f=null,u(),!1}function Vce(){return this._resetErr(),!!this._isValid()&&(this._innerSend("SetCancel",null,!0),!0)}function xU(r,n,o,s,u){var d=this;if(!p.isFunction(s))return this._innerFun(r,n);d.IfShowProgressBar?(j.showProgress(d,r,o),o&&j.progressContext&&j.progressContext.on("cancel",function(){Bo(go,d,Vce).call(d)})):j.hideProgress(),this._innerSend(r,n,!0,function(){j.closeProgress(null,r),p.isFunction(s)&&s()},function(c){p.isFunction(u)&&u(d._errorCode,d._getErrorString()),j.closeProgress(null,r),c&&p.error(c)})}function AU(r,n,o,s,u){var d,c=this,f=!1;if(p.isFunction(s)&&(f=!0),!_t.checkProductKey(c,{Core:!0})||!_t.checkPDFProductKeyWhenNeeds(c,o))return p.isFunction(u)&&ft(u,c),!!f&&void 0;if(j.cancelFrom=Mt.FTPDownload,!f){var m=c._getCurrentDocumentName(),_=c._getCurrentDefaultTagName();(d=c.__innerLoadImageFun(r,n,1,m,_))&&c._canConsume()&&U.DWT.lcvrf(c);var S=c._ImgManager.getCurrentImageIndex();return S>=0&&c._innerRefreshUI(S),d}Bo(go,c,xU).call(c,r,n,!0,function(){var y=c._ImgManager.getCurrentImageIndex();y>=0&&c._innerRefreshUI(y),c._canConsume()&&U.DWT.lcvrf(c),p.isFunction(s)&&s()},u)}function PU(r,n,o,s){if(r._ImgManager.count()==0)return Nn(r),p.isFunction(s)&&s(n),!1;if(p.isNumber(n)){if(isNaN(n)||n<-2||n>=r._ImgManager.count())return qe(r),p.isFunction(s)&&s(n),!1}else{if(!p.isArray(n))return qe(r),p.isFunction(s)&&s(n),!1;var u;for(u=0;u<n.length;u++){var d=n[u];if(isNaN(d)||!p.isNumber(d)||d<0||d>=r._ImgManager.count())return iF(r),p.isFunction(s)&&s(n),!1}}if(o==U.DWT.EnumDWT_ImageType.IT_BMP||o==U.DWT.EnumDWT_ImageType.IT_JPG||o==U.DWT.EnumDWT_ImageType.IT_PNG||o==U.DWT.EnumDWT_ImageType.IT_J2K)(n==-1&&r._ImgManager.count()>1||p.isArray(n)&&n.length>1)&&(Ad(r),p.isFunction(s)&&s(n));else if(o!=U.DWT.EnumDWT_ImageType.IT_TIF&&o!=U.DWT.EnumDWT_ImageType.IT_PDF)return Li(r),p.isFunction(s)&&s(n),!1;return!0}function mc(r){var n;return r&&(n=new FormData,p.each(r,function(o,s){if(o instanceof Blob){var u=o.name;n.append(s,o,u)}else n.append(s,o)})),n}var As=function(r){function n(){return h(this,n),l(this,n,arguments)}return D(n,r),v(n,[{key:"Viewer",get:function(){return this._viewer}},{key:"BindViewer",value:function(c){var f=this,m=c;return U.DWT.UseDefaultViewer?(p.isString(c)&&(m=p.get(c),p.show(m)),f._config.container!=m&&(f._config.container=m,bU(f)),f._UIView.BindView(c)):(Fe(f,-2439,"You cannot call the method bindViewer() when Dynamsoft.DWT.UseDefaultViewer is set to false."),!1)}},{key:"UnbindViewer",value:function(){return this._innerUnbindViewer(!1)}},{key:"AddText",value:function(c,f,m,_,S,y,b,I){var x=this,P=parseInt(c);if(!Mn(x,P))return!1;var L=Zo.RGB2BGR(S),$=Zo.RGB2BGR(y),te=x._ImgManager.convertClientIndexToServerId(P);return te==-1?(qe(x),!1):x._innerFun("AddText",Ve(te,f,m,_,L,$,b,I))}},{key:"CreateTextFont",value:function(c,f,m,_,S,y,b,I,x,P,L,$,te,q){return this._resetErr(),!!this._isValid()&&this._innerFun("CreateTextFont",Ve(c,f,m,_,S,y,b,I,x,P,L,$,te,q))}},{key:"CopyToClipboard",value:function(c){var f=parseInt(c);return!!Mn(this,f)&&vg(this,"CopyToClipboard",f,null,null,!1,!1)}},{key:"CopyToClipboardAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);return isNaN(m)?(Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):m<0||m>=f._ImgManager.count()?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):function(_,S,y){var b=_._ImgManager.convertClientIndexToServerId(y);return b==-1?(qe(_),Te.Promise.reject({code:_._errorCode,message:_._errorString})):_._innerFunV2(S,Ve(b))}(f,"CopyToClipboard",m)}},{key:"getView",value:function(){return this._UIView}},{key:"Erase",value:function(c,f,m,_,S,y,b){var I=this;if(!p.isFunction(y)){var x,P=parseInt(c);if(!Mn(I,P,b))return!1;var L=I._ImgManager.convertClientIndexToServerId(P);return L==-1?(qe(I),p.isFunction(b)&&b(I._errorCode,I._getErrorString()),!1):(I.getView().ClearSelectedAreas(),(x=I._innerFun("Erase",Ve(L,f,m,_,S))==1)?p.isFunction(y)&&y():p.isFunction(b)&&b(I._errorCode,I._getErrorString()),x)}I.EraseAsync(c,f,m,_,S).then(y,function($){I._wrappeAsyncFailed(I,$,b)})}},{key:"EraseAsync",value:function(c,f,m,_,S){var y=this;if(y._resetErr(),!y._isValid())return Te.Promise.reject({code:y._errorCode,message:y._errorString});var b=parseInt(c);if(isNaN(b))return Ot(y),Te.Promise.reject({code:y._errorCode,message:y._errorString});if(b<0||b>=y._ImgManager.count())return qe(y),Te.Promise.reject({code:y._errorCode,message:y._errorString});var I=y._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(y),Te.Promise.reject({code:y._errorCode,message:y._errorString})):(y.getView().ClearSelectedAreas(),y._innerFunV2("Erase",Ve(I,f,m,_,S),!0).then(function(x){if(x!=1)throw{code:y._errorCode,message:y._errorString}}))}},{key:"GetImageBitDepth",value:function(c){var f=this,m=parseInt(c);if(!Mn(f,m))return!1;var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),!1):f._innerFun("GetImageBitDepth",Ve(_))}},{key:"GetImageWidth",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return!1;var m=parseInt(c);if(isNaN(m))return Ot(f),-1;if(m<0||m>=f._ImgManager.count())return qe(f),-1;var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),-1):f._innerFun("GetImageWidth",Ve(_))}},{key:"GetImageHeight",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return!1;var m=parseInt(c);if(isNaN(m))return Ot(f),-1;if(m<0||m>=f._ImgManager.count())return qe(f),-1;var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),-1):f._innerFun("GetImageHeight",Ve(_))}},{key:"GetImageSize",value:function(c,f,m){var _=this;if(_._resetErr(),!_._isValid())return!1;var S=parseInt(c);if(isNaN(S))return Ot(_),-1;if(S<0||S>=_._ImgManager.count())return qe(_),-1;var y=_._ImgManager.convertClientIndexToServerId(S);return y==-1?(qe(_),-1):_._innerFun("GetImageSize",Ve(y,f,m))}},{key:"GetImageSizeWithSpecifiedType",value:function(c,f){var m=this;if(m._resetErr(),!m._isValid())return!1;var _=parseInt(c);if(isNaN(_))return Ot(m),-1;if(_<0||_>=m._ImgManager.count())return qe(m),-1;var S=m._ImgManager.convertClientIndexToServerId(_);return S==-1?(qe(m),-1):m._innerFun("GetImageSizeWithSpecifiedType",Ve(S,f))}},{key:"GetImageXResolution",value:function(c){var f=this,m=parseInt(c);if(!Mn(f,m))return!1;var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),!1):f._innerFun("GetImageXResolution",Ve(_))}},{key:"GetImageYResolution",value:function(c){var f=this,m=parseInt(c);if(!Mn(f,m))return!1;var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),!1):f._innerFun("GetImageYResolution",Ve(_))}},{key:"SelectAllImages",value:function(){var c,f=this,m=f._getHowManyImagesInBuffer(),_=[];if(f._resetErr(),!f._isValid())return!1;for(c=0;c<m;c++)_.push(c);return f._ImgManager.setSelectedClientIndexArray(_),_}},{key:"SelectImages",value:function(c){var f=this;return f._resetErr(),!!f._isValid()&&f._ImgManager.setSelectedClientIndexArray(c)}},{key:"GetSkewAngle",value:function(c,f,m){var _,S=this;if(!p.isFunction(f)){var y=parseInt(c);return!!Mn(S,y,m)&&(_=vg(S,"GetSkewAngle",y,f,m,!0,!1),S._errorCode==0?(At.refreshImageAfterInvokeFun(S,y),_):0)}S.GetSkewAngleAsync(c).then(f,function(b){S._wrappeAsyncFailed(S,b,m)})}},{key:"GetSkewAngleAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("GetSkewAngle",Ve(_),!0).then(function(S){var y=S;return p.isArray(S)&&(y=S.length>0?S[0]:0),At.refreshImageAfterInvokeFun(f,m),y})}},{key:"GetSkewAngleEx",value:function(c,f,m,_,S){var y=this,b=parseInt(c);if(!Mn(y,b))return!1;var I=y._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(y),!1):y._innerFun("GetSkewAngleEx",Ve(I,f,m,_,S))}},{key:"GetSkewAngleFromBinaryAsync",value:function(c,f,m,_){var S=this;if(S._resetErr(),!S._isValid())return Te.Promise.reject({code:S._errorCode,message:S._errorString});var y=this._imageBufferWrapper.getCustomDataByIndex(c),b=this._imageBufferWrapper.getMetadataByIndex(c),I=this._ImgManager.convertClientIndexToServerId(c),x={imageId:I,serverId:I,bufferLen:f.size,imageType:Qt.IT_BMP,width:b.width,height:b.height,bit:b.bitDepth,xres:b.resolutionX,yres:b.resolutionY,uidFromServer:y.uidFromServer},P=p.stringify([p.stringify(x)]);return this._innerSendBlob("GetSkewAngleFromBinary",P,f,!0,!0,m,_)}},{key:"IsBlankImageEx",value:function(c,f,m,_,S,y){var b,I=this;if(!Mn(I,b=parseInt(c)))return!1;var x=I._ImgManager.convertClientIndexToServerId(b);return x==-1?(qe(I),!1):I._innerFun("IsBlankImageEx",Ve(x,f,m,_,S,y))}},{key:"MirrorAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("Mirror",Ve(_),!0).then(function(S){if(S!=1)throw{code:f._errorCode,message:f._errorString};At.refreshImageAfterInvokeFun(f,m),f.getView().ClearSelectedAreas()})}},{key:"Mirror",value:function(c,f,m){var _=this;if(!p.isFunction(f)){var S=parseInt(c);return!!Mn(_,S,m)&&vg(_,"Mirror",S,f,m,!1,!0)}_.MirrorAsync(c).then(f,function(y){_._wrappeAsyncFailed(_,y,m)})}},{key:"RemoveAllImages",value:function(){return this._removeAllImages("RemoveAllImages")}},{key:"RemoveAllImagesAsync",value:function(){return this._removeAllImagesAsync("RemoveAllImagesAsync",!0)}},{key:"RemoveImageAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("RemoveImage",Ve(_),!0).then(function(S){return!(!S&&f._errorCode!=-1033)&&(f._OnBitmapChanged(["c1",""+_,3,f._ImgManager.getCurrentImageIndex(),f._ImgManager.count()]),!0)})}},{key:"Rotate",value:function(c,f,m,_,S){return this.RotateEx(c,f,m,-1,_,S)}},{key:"_wrappeAsyncFailed",value:function(c,f,m){f&&(c._errorCode=f.code,c._errorString=f.message),p.isFunction(m)&&m(c._errorCode,c._getErrorString())}},{key:"RotateEx",value:function(c,f,m,_,S,y){var b=this;if(!p.isFunction(S)){if(b._resetErr(),!b._isValid())return!1;var I,x=parseInt(c);if(isNaN(x))return Ot(b),p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!1;if(x<0||x>=b._ImgManager.count())return qe(b),p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!1;var P=b._ImgManager.convertClientIndexToServerId(x);return P==-1?(qe(b),p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!1):((I=b._innerFun("RotateEx",Ve(P,f,m,_))==1)?(At.refreshImageAfterInvokeFun(b,x),b.getView().ClearSelectedAreas(),p.isFunction(S)&&S()):p.isFunction(y)&&y(b._errorCode,b._getErrorString()),I)}b.RotateExAsync(c,f,m,_).then(S,function(L){b._wrappeAsyncFailed(b,L,y)})}},{key:"RotateLeft",value:function(c,f,m){return this.RotateEx(c,-90,!0,-1,f,m)}},{key:"RotateRight",value:function(c,f,m){return this.RotateEx(c,90,!0,-1,f,m)}},{key:"RotateAsync",value:function(c,f,m){return this.RotateExAsync(c,f,m,-1)}},{key:"RotateExAsync",value:function(c,f,m,_){var S=this;if(S._resetErr(),!S._isValid())return Te.Promise.reject({code:S._errorCode,message:S._errorString});var y=parseInt(c);if(isNaN(y))return Ot(S),Te.Promise.reject({code:S._errorCode,message:S._errorString});if(y<0||y>=S._ImgManager.count())return qe(S),Te.Promise.reject({code:S._errorCode,message:S._errorString});var b=S._ImgManager.convertClientIndexToServerId(y);return b==-1?(qe(S),Te.Promise.reject({code:S._errorCode,message:S._errorString})):S._innerFunV2("RotateEx",Ve(b,f,m,_),!0).then(function(I){if(I!=1&&I!=1)throw{code:S._errorCode,message:S._errorString};At.refreshImageAfterInvokeFun(S,y),S.getView().ClearSelectedAreas()})}},{key:"RotateLeftAsync",value:function(c){return this.RotateExAsync(c,-90,!0,-1)}},{key:"RotateRightAsync",value:function(c){return this.RotateExAsync(c,90,!0,-1)}},{key:"ChangeImageSize",value:function(c,f,m,_,S,y){var b=this;if(!p.isFunction(S)){var I,x=parseInt(c),P=1*f,L=1*m;if(!Mn(b,x,y))return!1;if(P<=0||L<=0)return rF(b),p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!1;var $=b._ImgManager.convertClientIndexToServerId(x);return $==-1?(qe(b),p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!1):((I=b._innerFun("ChangeImageSize",Ve($,P,L,_))==1)?(At.refreshImageAfterInvokeFun(b,x),p.isFunction(S)&&S()):p.isFunction(y)&&y(b._errorCode,b._getErrorString()),I)}b.ChangeImageSizeAsync(c,f,m,_).then(S,function(te){b._wrappeAsyncFailed(b,te,y)})}},{key:"ChangeImageSizeAsync",value:function(c,f,m,_){var S=this,y=parseInt(c),b=1*f,I=1*m;if(S._resetErr(),!S._isValid())return Te.Promise.reject({code:S._errorCode,message:S._errorString});if(isNaN(y))return Ot(S),Te.Promise.reject({code:S._errorCode,message:S._errorString});if(y<0||y>=S._ImgManager.count())return qe(S),Te.Promise.reject({code:S._errorCode,message:S._errorString});if(b<=0||I<=0)return rF(S),Te.Promise.reject({code:S._errorCode,message:S._errorString});var x=S._ImgManager.convertClientIndexToServerId(y);return x==-1?(qe(S),Te.Promise.reject({code:S._errorCode,message:S._errorString})):S._innerFunV2("ChangeImageSize",Ve(x,b,I,_),!0).then(function(P){if(P!=1)throw{code:S._errorCode,message:S._errorString};At.refreshImageAfterInvokeFun(S,y)})}},{key:"Flip",value:function(c,f,m){var _=this;if(!p.isFunction(f)){var S=parseInt(c);return!!Mn(_,S,m)&&vg(_,"Flip",S,f,m,!1,!0)}_.FlipAsync(c).then(f,function(y){_._wrappeAsyncFailed(_,y,m)})}},{key:"FlipAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("Flip",Ve(_),!0).then(function(S){if(S!=1)throw{code:f._errorCode,message:f._errorString};At.refreshImageAfterInvokeFun(f,m),f.getView().ClearSelectedAreas()})}},{key:"OutputSelectedAreaAsync",value:(d=a(w().mark(function c(f,m,_,S){var y,b,I,x,P,L,$,te,q,Q,J,re,H,F;return w().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(I="OutputSelectedArea",(b=this)._resetErr(),b._isValid()){B.next=4;break}throw{code:b._errorCode,message:b._errorString};case 4:if(x=0,P=0,L=0,$=0,!isNaN(f)){B.next=8;break}throw Ot(b),{code:b._errorCode,message:b._errorString};case 8:if(_==Qt.IT_BMP||_==Qt.IT_JPG||_==Qt.IT_TIF||_==Qt.IT_PNG||_==Qt.IT_PDF){B.next=11;break}throw $t(b),{code:b._errorCode,message:b._errorString};case 11:if(S==gc.Blob||S==gc.Base64){B.next=14;break}throw $t(b),{code:b._errorCode,message:b._errorString};case 14:if(!(f<0||f>=b._ImgManager.count())){B.next=17;break}throw qe(b),{code:b._errorCode,message:b._errorString};case 17:if((te=b._ImgManager.convertClientIndexToServerId(f))!=-1){B.next=21;break}throw qe(b),{code:b._errorCode,message:b._errorString};case 21:return q=S==gc.Base64,Q=q?"text":"arraybuffer",m&&(j.isNumber(m.x)&&(x=m.x),j.isNumber(m.y)&&(P=m.y),j.isNumber(m.width)&&(L=m.width),j.isNumber(m.height)&&($=m.height)),re=p.stringify([{index:te,left:x,top:P,width:L,height:$}]),H="["+re+","+_+","+S+"]",F=(y=j.progressContext)===null||y===void 0?void 0:y.IfShowCancelDialogWhenImageTransfer,B.prev=27,b.IfShowProgressBar?j.showProgress(b,I,!1):j.hideProgress(),q?b._OnPercentDone([0,-1,br.ConvertingToBase64]):b._OnPercentDone([0,-1,br.ConvertingToBlob]),j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!1),B.next=33,b._sendDataByHttpAsync(I,H,Q,!0);case 33:J=B.sent;case 34:return B.prev=34,j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=F),b.IfShowProgressBar&&j.closeProgress(null,I),B.finish(34);case 38:if(!q){B.next=51;break}if(!J){B.next=48;break}if(!co(J)){B.next=44;break}return b._errorCode=J.exception,b._errorString=J.description,B.abrupt("return","");case 44:if(!(p.isArray(J.result)&&J.result.length>0&&p.isString(J.result[0]))){B.next=46;break}return B.abrupt("return",J.result[0]);case 46:B.next=49;break;case 48:return B.abrupt("return","");case 49:B.next=52;break;case 51:return B.abrupt("return",new Blob([J],{type:cC(_)}));case 52:case"end":return B.stop()}},c,this,[[27,,34,38]])})),function(c,f,m,_){return d.apply(this,arguments)})},{key:"Crop",value:function(c,f,m,_,S,y,b){var I=this;if(!p.isFunction(y)){var x,P=parseInt(c);if(!Mn(I,P,b))return!1;var L,$,te=I._ImgManager.convertClientIndexToServerId(P);return te==-1?(qe(I),p.isFunction(b)&&b(I._errorCode,I._getErrorString()),!1):(x=I._innerFun("Crop",Ve(te,f,m,_,S))==1,L=I._errorCode,$=I._getErrorString(),I.getView().ClearSelectedAreas(),I._errorCode=L,I._errorString=$,x?(At.refreshImageAfterInvokeFun(I,P),p.isFunction(y)&&y()):p.isFunction(b)&&b(L,$),x)}I.CropAsync(c,f,m,_,S).then(y,function(q){I._wrappeAsyncFailed(I,q,b)})}},{key:"CropAsync",value:function(c,f,m,_,S){var y=this;if(y._resetErr(),!y._isValid())return Te.Promise.reject({code:y._errorCode,message:y._errorString});var b=parseInt(c);if(isNaN(b))return Ot(y),Te.Promise.reject({code:y._errorCode,message:y._errorString});if(b<0||b>=y._ImgManager.count())return qe(y),Te.Promise.reject({code:y._errorCode,message:y._errorString});var I=y._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(y),Te.Promise.reject({code:y._errorCode,message:y._errorString})):y._innerFunV2("Crop",Ve(I,f,m,_,S),!0).then(function(x){var P,L;if(P=y._errorCode,L=y._getErrorString(),y.getView().ClearSelectedAreas(),y._errorCode=P,y._errorString=L,x!=1)throw{code:y._errorCode,message:y._errorString};return At.refreshImageAfterInvokeFun(y,b),!0})}},{key:"CropToClipboard",value:function(c,f,m,_,S){var y,b=this,I=parseInt(c);if(!Mn(b,I))return!1;var x=b._ImgManager.convertClientIndexToServerId(I);return x==-1?(qe(b),!1):(b.getView().ClearSelectedAreas(),(y=b._innerFun("CropToClipboard",Ve(x,f,m,_,S))==1)&&At.refreshImageAfterInvokeFun(b,I),y)}},{key:"CutFrameToClipboard",value:function(c,f,m,_,S){var y,b=this,I=parseInt(c);if(!Mn(b,I))return!1;var x=b._ImgManager.convertClientIndexToServerId(I);return x==-1?(qe(b),!1):(b.getView().ClearSelectedAreas(),(y=b._innerFun("CutFrameToClipboard",Ve(x,f,m,_,S))==1)&&At.refreshImageAfterInvokeFun(b,I),y)}},{key:"CutToClipboard",value:function(c){var f,m=this,_=parseInt(c);if(!Mn(m,_))return!1;var S=m._ImgManager.convertClientIndexToServerId(_);return S==-1?(qe(m),!1):((f=m._innerFun("CutToClipboard",Ve(S))==1)&&m._OnBitmapChanged(["c1",""+S,3,m._ImgManager.getCurrentImageIndex(),m._ImgManager.count()]),f)}},{key:"CutFrameToClipboardAsync",value:function(c,f,m,_,S){var y=this;if(y._resetErr(),!y._isValid())return Te.Promise.reject({code:y._errorCode,message:y._errorString});var b=parseInt(c);if(isNaN(b))return Ot(y),Te.Promise.reject({code:y._errorCode,message:y._errorString});if(b<0||b>=y._ImgManager.count())return qe(y),Te.Promise.reject({code:y._errorCode,message:y._errorString});var I=y._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(y),Te.Promise.reject({code:y._errorCode,message:y._errorString})):y._innerFunV2("CutFrameToClipboard",Ve(I,f,m,_,S)).then(function(x){var P=x==1;if(!P)throw{code:y._errorCode,message:y._errorString};return At.refreshImageAfterInvokeFun(y,b),P})}},{key:"CropToClipboardAsync",value:function(c,f,m,_,S){var y=this;if(y._resetErr(),!y._isValid())return Te.Promise.reject({code:y._errorCode,message:y._errorString});var b=parseInt(c);if(isNaN(b))return Ot(y),Te.Promise.reject({code:y._errorCode,message:y._errorString});if(b<0||b>=y._ImgManager.count())return qe(y),Te.Promise.reject({code:y._errorCode,message:y._errorString});var I=y._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(y),Te.Promise.reject({code:y._errorCode,message:y._errorString})):y._innerFunV2("CropToClipboard",Ve(I,f,m,_,S)).then(function(x){var P=x==1;if(!P)throw{code:y._errorCode,message:y._errorString};return At.refreshImageAfterInvokeFun(y,b),P})}},{key:"CutToClipboardAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("CutToClipboard",Ve(_)).then(function(S){var y=S==1;if(!y)throw{code:f._errorCode,message:f._errorString};return f._OnBitmapChanged(["c1",""+_,3,f._ImgManager.getCurrentImageIndex(),f._ImgManager.count()]),y})}},{key:"SetDPI",value:function(c,f,m,_,S,y,b){var I,x=this,P=!1;p.isFunction(y)&&(P=!0);var L=parseInt(c);if(!Mn(x,L,b))return!!P&&void 0;var $=x._ImgManager.convertClientIndexToServerId(L);return $==-1?(qe(x),p.isFunction(b)&&b(x._errorCode,x._getErrorString()),!!P&&void 0):((I=x._innerFun("SetDPI",Ve($,f,m,_,S))==1)?p.isFunction(y)&&y():p.isFunction(b)&&b(x._errorCode,x._getErrorString()),P?void 0:I)}},{key:"MoveImage",value:function(c,f){var m=this;if(m._resetErr(),!m._isValid())return!1;var _=parseInt(c),S=parseInt(f);return isNaN(_)||isNaN(S)?(Ot(m),!1):_<0||_>=m._ImgManager.count()||S<0||S>=m._ImgManager.count()?(qe(m),!1):m._ImgManager.moveImage(_,S)}},{key:"SwitchImage",value:function(c,f){var m=this;if(m._resetErr(),!m._isValid())return!1;var _=parseInt(c),S=parseInt(f);return isNaN(_)||isNaN(S)?(Ot(m),!1):_<0||_>=m._ImgManager.count()||S<0||S>=m._ImgManager.count()?(qe(m),!1):m._ImgManager.switchImage(_,S)}},{key:"CloseWorkingProcess",value:function(){var c=this;return c._resetErr(),!!c._isValid()&&c._innerFun("CloseWorkerProcess")}},{key:"RemoveAllSelectedImages",value:function(){var c=this;if(c._resetErr(),!c._isValid())return!1;var f=!0,m=c._ImgManager.getCurrentImageIndex(),_=c._ImgManager.getSelectedClientIndexArray(),S=[];if(p.isArray(_)&&p.each(_,function(b){var I=c._ImgManager.convertClientIndexToServerId(b);I!=-1&&S.push(I)}),S.length==0&&m>=0){var y=c._ImgManager.convertClientIndexToServerId(m);S.push(y)}return S.length>0&&(f=c._innerFun("RemoveAllSelectedImages",Ve(S.join(",")))),f&&p.each(S,function(b){c._OnBitmapChanged(["c1",""+b,3,c._ImgManager.getCurrentImageIndex(),c._ImgManager.count()])}),f}},{key:"RemoveAllSelectedImagesAsync",value:function(){var c=this;if(c._resetErr(),!c._isValid())return Te.Promise.reject({code:c._errorCode,message:c._errorString});var f=c._ImgManager.getCurrentImageIndex(),m=c._ImgManager.getSelectedClientIndexArray(),_=[];if(p.isArray(m)&&p.each(m,function(y){var b=c._ImgManager.convertClientIndexToServerId(y);b!=-1&&_.push(b)}),_.length==0&&f>=0){var S=c._ImgManager.convertClientIndexToServerId(f);_.push(S)}return _.length>0?c._innerFunV2("RemoveAllSelectedImages",Ve(_.join(","),!0)).then(function(y){y&&p.each(_,function(b){c._OnBitmapChanged(["c1",""+b,3,c._ImgManager.getCurrentImageIndex(),c._ImgManager.count()])})}):Te.Promise.resolve()}},{key:"TagImages",value:function(c,f){var m=this;if(m._resetErr(),!m._isValid())return!1;var _=!0,S=m._ImgManager.count();return p.isArray(c)?p.isString(f)&&f!=""?(p.each(c,function(y){if(isNaN(y)||y<0||y>=S)return qe(m),_=!1}),_&&m._ImgManager.addImageTag(c,f)):(Fe(m,-2394,"Invalid tag name."),!1):(Pd(m),!1)}},{key:"ClearImageTags",value:function(c){var f=this;return f._resetErr(),!!f._isValid()&&(c==-1||c>=f._getHowManyImagesInBuffer()?(qe(f),!1):f._ImgManager.removeImageTag(c))}},{key:"SetDefaultTag",value:function(c){var f=this;return f._resetErr(),!!f._isValid()&&f._ImgManager.setDefaultTag(c)}},{key:"FilterImagesByTag",value:function(c,f,m){var _,S=this,y=!1;if(p.isFunction(f)&&(y=!0),S._resetErr(),!S._isValid())return!!y&&void 0;p.isFunction(m)&&(_=function(){m({code:S._errorCode,message:S._errorString})});var b=S._ImgManager.showImagesByFilter(c,f,_);return y?void 0:b}},{key:"ClearFilter",value:function(){var c=this;return c._resetErr(),!!c._isValid()&&c._ImgManager.clearFilter()}},{key:"CreateDocument",value:function(c){var f=this;return f._resetErr(),!!f._isValid()&&(c&&c!=""?p.isString(c)?f._ImgManager.CreateFile(c):(cp(f),!1):(p.isNumber(c)?cp(f):xT(f),!1))}},{key:"OpenDocument",value:function(c){var f=this;return f._resetErr(),!!f._isValid()&&(c&&c!=""?p.isString(c)?f._ImgManager.OpenFile(c):(cp(f),!1):(p.isNumber(c)?cp(f):xT(f),!1))}},{key:"RemoveDocument",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return!1;var m=f._ImgManager.GetServerIdsByFileName(c);return m.length>0&&f._innerFun("RemoveAllSelectedImages",Ve(m.join(","))),f._ImgManager.RemoveFile(c)}},{key:"RenameDocument",value:function(c,f){var m=this;return m._resetErr(),!!m._isValid()&&(p.isString(c)&&p.isString(f)?c&&c!=""&&f&&f!=""?m._ImgManager.RenameFile(c,f):(xT(m),!1):(cp(m),!1))}},{key:"GetDocumentInfoList",value:function(){var c=this;return c._resetErr(),!!c._isValid()&&c._ImgManager.GetFileInfoList()}},{key:"MoveToDocumentAsync",value:(u=a(w().mark(function c(f,m,_,S){var y,b,I,x,P,L,$,te,q,Q;return w().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if((y=this)._resetErr(),y._isValid()){J.next=4;break}throw{code:y._errorCode,message:y._errorString};case 4:if(!p.isUndefined(f)&&f.length!=0){J.next=7;break}throw i_(y),{code:y._errorCode,message:y._errorString};case 7:if(!p.isUndefined(m)&&m.length!=0){J.next=10;break}throw o_(y),{code:y._errorCode,message:y._errorString};case 10:b=y._ImgManager.GetFileInfoList(),P=0;case 12:if(!(P<b.length)){J.next=20;break}if(b[P].name!=f){J.next=17;break}return I=b[P],J.abrupt("break",20);case 17:P++,J.next=12;break;case 20:L=0;case 21:if(!(L<b.length)){J.next=29;break}if(b[L].name!=m){J.next=26;break}return x=b[L],J.abrupt("break",29);case 26:L++,J.next=21;break;case 29:if(!p.isUndefined(I)){J.next=32;break}throw i_(y),{code:y._errorCode,message:y._errorString};case 32:if(!p.isUndefined(x)){J.next=35;break}throw o_(y),{code:y._errorCode,message:y._errorString};case 35:if($=[],!p.isUndefined(_)){J.next=40;break}if(I.imageIds.length>0)for(q=0;q<I.imageIds.length;q++)$.push(q);J.next=60;break;case 40:if(!p.isArray(_)){J.next=53;break}if(y._checkIndices(_,I.imageIds.length)){J.next=43;break}throw{code:y._errorCode,message:y._errorString};case 43:if($=_,p.isUndefined(S)){J.next=51;break}if(!p.isNumber(S)){J.next=49;break}S<0?te=0:x.imageIds.length>S&&(te=S),J.next=51;break;case 49:throw $t(y),{code:y._errorCode,message:y._errorString};case 51:J.next=60;break;case 53:if(!p.isNumber(_)){J.next=58;break}if(I.imageIds.length>0)for(Q=0;Q<I.imageIds.length;Q++)$.push(Q);_<0?te=0:x.imageIds.length>_&&(te=_),J.next=60;break;case 58:throw $t(y),{code:y._errorCode,message:y._errorString};case 60:return J.abrupt("return",new Te.Promise(function(re,H){$.length==0||y._ImgManager.MoveImageToFile(f,$,m,te)?re():H({code:y._errorCode,message:y._errorString})}));case 61:case"end":return J.stop()}},c,this)})),function(c,f,m,_){return u.apply(this,arguments)})},{key:"CopyToDocumentAsync",value:(s=a(w().mark(function c(f,m,_,S){var y,b,I,x,P,L,$,te;return w().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if((y=this)._resetErr(),y._isValid()){q.next=4;break}throw{code:y._errorCode,message:y._errorString};case 4:if(!p.isUndefined(f)&&f.length!=0){q.next=7;break}throw i_(y),{code:y._errorCode,message:y._errorString};case 7:if(!p.isUndefined(m)&&m.length!=0){q.next=10;break}throw o_(y),{code:y._errorCode,message:y._errorString};case 10:b=y._ImgManager.GetFileInfoList(),P=0;case 12:if(!(P<b.length)){q.next=20;break}if(b[P].name!=f){q.next=17;break}return I=b[P],q.abrupt("break",20);case 17:P++,q.next=12;break;case 20:L=0;case 21:if(!(L<b.length)){q.next=29;break}if(b[L].name!=m){q.next=26;break}return x=b[L],q.abrupt("break",29);case 26:L++,q.next=21;break;case 29:if(!p.isUndefined(I)){q.next=32;break}throw i_(y),{code:y._errorCode,message:y._errorString};case 32:if(!p.isUndefined(x)){q.next=35;break}throw o_(y),{code:y._errorCode,message:y._errorString};case 35:if($=[],!p.isUndefined(_)){q.next=40;break}I.imageIds.length>0&&p.isArray(I.imageIds)&&p.each(I.imageIds,function(Q){var J=y._uidFromServer2ServerId(Q);J!=-1&&$.push(J)}),q.next=60;break;case 40:if(!p.isArray(_)){q.next=53;break}if(y._checkIndices(_,I.imageIds.length)){q.next=43;break}throw{code:y._errorCode,message:y._errorString};case 43:if(p.each(_,function(Q){var J=y._uidFromServer2ServerId(I.imageIds[Q]);J!=-1&&$.push(J)}),p.isUndefined(S)){q.next=51;break}if(!p.isNumber(S)){q.next=49;break}S<0?te=0:x.imageIds.length>S&&(te=S),q.next=51;break;case 49:throw $t(y),{code:y._errorCode,message:y._errorString};case 51:q.next=60;break;case 53:if(!p.isNumber(_)){q.next=58;break}I.imageIds.length>0&&p.isArray(I.imageIds)&&p.each(I.imageIds,function(Q){var J=y._uidFromServer2ServerId(Q);J!=-1&&$.push(J)}),_<0?te=0:x.imageIds.length>_&&(te=_),q.next=60;break;case 58:throw $t(y),{code:y._errorCode,message:y._errorString};case 60:return q.abrupt("return",new Te.Promise(function(Q,J){var re="copyToDocument";if(x.imageIds.length,$.length==0)Q();else{y.IfShowProgressBar?Zs(!1):j.hideProgress();var H=y.IfShowCancelDialogWhenImageTransfer;j.cancelFrom=Mt.LoadImage,y.IfShowCancelDialogWhenImageTransfer=!1,j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!1),j.cancelFrom=Mt.Other,y._innerConvertToBlobWithUI(re,U.DWT.EnumDWT_ImageType.IT_PDF,$,!1,function(F,B){var V;F.currentFileName=m,F.currentTagName="",F.bNeedClearCurrentTagName=!0,F.index=te,y.IfShowProgressBar?(Zs(!1),j.showProgress(y,re,!1),j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!1)):j.hideProgress(),j.cancelFrom=Mt.LoadImage,y.Addon&&y.Addon.PDF&&(V=y.Addon.PDF.GetReaderOptions(),y.Addon.PDF.SetReaderOptions({convertMode:U.DWT.EnumDWT_ConvertMode.CM_IMAGEONLY})),y._innerLoadImageFromBinary(F,0,!0,!0,function(){y.Addon&&y.Addon.PDF&&V&&y.Addon.PDF.SetReaderOptions(V),y.IfShowCancelDialogWhenImageTransfer=H,y.IfShowProgressBar&&j.closeProgress(null,re),Q()},function(){y.Addon&&y.Addon.PDF&&V&&y.Addon.PDF.SetReaderOptions(V),y.IfShowCancelDialogWhenImageTransfer=H,y.IfShowProgressBar&&j.closeProgress(null,re),J({code:y._errorCode,message:y._errorString})})},function(){y.IfShowCancelDialogWhenImageTransfer=H,J({code:y._errorCode,message:y._errorString})})}}));case 61:case"end":return q.stop()}},c,this)})),function(c,f,m,_){return s.apply(this,arguments)})},{key:"Invert",value:function(c,f,m){var _=this,S=!1;if(p.isFunction(f)&&(S=!0),!S){var y=parseInt(c);return!!Mn(_,y,m)&&vg(_,"Invert",y,f,m,!1,!0)}_.InvertAsync(c).then(f,function(b){_._wrappeAsyncFailed(_,b,m)})}},{key:"InvertAsync",value:function(c){return this._invert(c)}},{key:"RenameTag",value:function(c,f){var m=this;return m._resetErr(),!!m._isValid()&&(p.isUndefined(c)?(ci(m),!1):c.length==0?(Fe(m,-2517,"Old tag name is required."),!1):p.isUndefined(f)||f.length==0?(function(_){Fe(_,-2518,"New tag name is required.")}(m),!1):m._ImgManager.renameTag(c,f))}},{key:"RemoveTag",value:function(c,f){var m=this;return m._resetErr(),!!m._isValid()&&(p.isUndefined(c)||c.length==0?(ci(m),!1):p.isUndefined(f)||p.isArray(f)?m._ImgManager.removeTag(c,f):(Pd(m),!1))}},{key:"GetTagList",value:function(){var c=this;return c._resetErr(),!!c._isValid()&&c._ImgManager.getTagList()}},{key:"GetTagListByIndex",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return[];var m=parseInt(c);return isNaN(m)?(Ot(f),[]):m<0||m>=f._ImgManager.count()||f._ImgManager.convertClientIndexToServerId(m)==-1?(qe(f),[]):f._ImgManager.getTagListByIndex(m)}},{key:"GetImageBitDepthAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("GetImageBitDepth",Ve(_))}},{key:"GetImageWidthAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("GetImageWidth",Ve(_))}},{key:"GetImageHeightAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("GetImageHeight",Ve(_))}},{key:"GetImageSizeAsync",value:function(c,f,m){var _=this;if(_._resetErr(),!_._isValid())return Te.Promise.reject({code:_._errorCode,message:_._errorString});var S=parseInt(c);if(isNaN(S))return Ot(_),Te.Promise.reject({code:_._errorCode,message:_._errorString});if(S<0||S>=_._ImgManager.count())return qe(_),Te.Promise.reject({code:_._errorCode,message:_._errorString});var y=_._ImgManager.convertClientIndexToServerId(S);return y==-1?(qe(_),Te.Promise.reject({code:_._errorCode,message:_._errorString})):_._innerFunV2("GetImageSize",Ve(y,f,m))}},{key:"GetImageSizeWithSpecifiedTypeAsync",value:function(c,f){var m=this;if(m._resetErr(),!m._isValid())return Te.Promise.reject({code:m._errorCode,message:m._errorString});var _=parseInt(c);if(isNaN(_))return Ot(m),Te.Promise.reject({code:m._errorCode,message:m._errorString});if(_<0||_>=m._ImgManager.count())return qe(m),Te.Promise.reject({code:m._errorCode,message:m._errorString});var S=m._ImgManager.convertClientIndexToServerId(_);return S==-1?(qe(m),Te.Promise.reject({code:m._errorCode,message:m._errorString})):m._innerFunV2("GetImageSizeWithSpecifiedType",Ve(S,f))}},{key:"GetImageXResolutionAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("GetImageXResolution",Ve(_))}},{key:"GetImageYResolutionAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("GetImageYResolution",Ve(_))}},{key:"ChangeBrightnessAsync",value:function(c,f){var m=this,_=parseInt(c);if(!m._isValid())return Te.Promise.reject({code:m._errorCode,message:m._errorString});if(f<-1e3||f>1e3)return Vn(m),Te.Promise.reject({code:m._errorCode,message:m._errorString});var S=m._ImgManager.convertClientIndexToServerId(_);return S==-1?(qe(m),Te.Promise.reject({code:m._errorCode,message:m._errorString})):m._innerFunV2("ChangeBrightness",Ve(S,f))}},{key:"ChangeContrastAsnyc",value:function(c,f){var m=this,_=parseInt(c);if(!m._isValid())return Te.Promise.reject({code:m._errorCode,message:m._errorString});if(f<-1e3||f>1e3)return Vn(m),Te.Promise.reject({code:m._errorCode,message:m._errorString});var S=m._ImgManager.convertClientIndexToServerId(_);return S==-1?(qe(m),Te.Promise.reject({code:m._errorCode,message:m._errorString})):m._innerFunV2("ChangeContrast",Ve(S,f))}},{key:"GetImageAsync",value:function(c,f,m,_,S){var y=this;if(y._resetErr(),!y._isValid())return Te.Promise.reject({code:y._errorCode,message:y._errorString});var b=parseInt(c);if(isNaN(b))return Ot(y),Te.Promise.reject({code:y._errorCode,message:y._errorString});if(b<0||b>=y._ImgManager.count())return qe(y),Te.Promise.reject({code:y._errorCode,message:y._errorString});var I,x=y._ImgManager.convertClientIndexToServerId(b);return x==-1?(qe(y),Te.Promise.reject({code:y._errorCode,message:y._errorString})):(p.isNumber(f)?I=Ve(x,f):p.isNumber(m)&&p.isNumber(_)?I=Ve(x,m,_):p.isNumber(S)&&(I=Ve(x,-1,-1,S)),y._sendDataByHttpAsync("GetImageByIndex",I,"blob"))}},{key:"GetImageInfoAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var _=f._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("GetImageInfo",Ve(_)).then(function(S){var y=0,b=0,I=S;if(p.isArray(S)&&S.length==1&&(I=S[0]),p.isString(I)){var x=I.split(",");y=parseInt(x[0]),b=parseInt(x[1])}return{width:y,height:b}})}},{key:"IfShowUI",get:function(){return this._resetErr(),this._isValid()?this._innerFun("IfShowUI"):Pe},set:function(c){this._setIfShowUI(c)}},{key:"IfShowFileDialog",get:function(){return this._getIfShowFileDialog()},set:function(c){this._setIfShowFileDialog(c)}},{key:"checkErrorString",value:function(){var c=this._errorCode;if(c===-2115)return!0;if(c===-2003&&!U.DWT.IfHttpPostErrorNoWindow){var f=window.open("","ErrorMessage","height=500,width=750,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no");f==null||f.document.writeln(this.__HTTPPostResponseString)}return c===0}},{key:"OverlayRectangle",value:function(c,f,m,_,S,y,b){var I,x=this;return x._resetErr(),!!x._isValid()&&(x._isNoViewer()?x._nouiNotSupport("OverlayRectangle"):f>_||m>S||f==_&&m==S?(Fe(x,-2375,"The left or top or right or bottom you entered is invalid."),!1):(I=p.isNumber(y)?Zo.getColor(y):y,x._UIView.OverlayRectangle(c,f,m,_,S,I,b)))}},{key:"SetViewMode",value:function(c,f){var m=this;if(m._resetErr(),!m._isValid())return!1;if(m._isNoViewer())return m._nouiNotSupport("SetViewMode");if(p.isString(c)||p.isString(f)||c<-1&&f<-1)return Vn(m),Pe;var _=Math.floor(c),S=Math.floor(f);return m._UIView.SetViewMode(_,S),!0}},{key:"ShowImageEditor",value:function(c,f,m,_){var S=this;return S._resetErr(),!!S._isValid()&&(S._isNoViewer()?S._nouiNotSupport("ShowImageEditor"):Vi.isServerInvalid(S)?Pe:S._UIView.GetWebViewer().webViewer.imageEditor?S.ShowImageEditorEx(-1,-1,-1,-1,3):c&&f&&m?S.ShowImageEditorEx(-1,-1,f,m,0,!0,c,_):S.ShowImageEditorEx(-1,-1,-1,-1,0,!1))}},{key:"ShowImageEditorEx",value:function(c,f,m,_,S,y,b,I){var x=this;return x._resetErr(),!!x._isValid()&&(x._isNoViewer()?x._nouiNotSupport("ShowImageEditorEx"):x._UIView.ShowImageEditorEx(c,f,m,_,S,y,b,I))}},{key:"SetSelectedImageArea",value:function(c,f,m,_,S){var y=this;if(y._resetErr(),!y._isValid())return!1;if(y._isNoViewer())return y._nouiNotSupport("SetSelectedImageArea");var b=parseInt(c);return isNaN(b)||b<0||b>=y._ImgManager.count()?(qe(y),!1):!Vi.isServerInvalid(y)&&y._UIView.SetSelectedImageArea(f,m,_,S)}},{key:"first",value:function(){var c=this,f=c._ImgManager.count();return c._resetErr(),!!c._isValid()&&(c._isNoViewer()?c._nouiNotSupport("first"):(f>0&&(c._UIView.Go(0),Ga.__innerRefreshFromUIView(c,c._ImgManager.getCurrentImageIndex())),rt))}},{key:"previous",value:function(){var c=this,f=c._ImgManager.count();return c._resetErr(),!!c._isValid()&&(c._isNoViewer()?c._nouiNotSupport("previous"):(f>0&&(c._UIView.__Previous(),Ga.__innerRefreshFromUIView(c,c._ImgManager.getCurrentImageIndex())),rt))}},{key:"next",value:function(){var c=this,f=c._ImgManager.count();return c._resetErr(),!!c._isValid()&&(c._isNoViewer()?c._nouiNotSupport("next"):(f>0&&(c._UIView.__Next(),Ga.__innerRefreshFromUIView(c,c._ImgManager.getCurrentImageIndex())),rt))}},{key:"last",value:function(){var c=this,f=c._ImgManager.count();return c._resetErr(),!!c._isValid()&&(c._isNoViewer()?c._nouiNotSupport("last"):(f>0&&(c._UIView.Go(f-1),Ga.__innerRefreshFromUIView(c,c._ImgManager.getCurrentImageIndex())),rt))}},{key:"_isBindViewer",value:function(){return!(!this._viewer||!this._viewer.webViewer)&&this._viewer.webViewer.bindViewUI}},{key:"_isNoViewer",value:function(){return!this._isBindViewer()}},{key:"_innerUnbindViewer",value:function(c){var f=this;f.__funResize&&(p.removeEventListener(window,"resize",f.__funResize),f.__funResize=Pe),f._viewer&&(c?f._viewer.webViewer.dispose():f._viewer.unbind()),f._config.container=null}},{key:"_unload_viewer",value:function(){var c=this;if(c._isBindViewer())c._innerUnbindViewer(!0);else{var f,m=(f=c._containerElement)===null||f===void 0?void 0:f.id;m&&delete U.DWT.ContainerMap[m]}c._ImgManager&&(c._ImgManager.dispose(),c._ImgManager=null),c._UIView&&(c._UIView.dispose(),c._UIView=null),c._viewer=null}},{key:"_innerRefreshUI",value:function(c,f,m,_,S){var y=this;return S==4&&y._isBindViewer()&&(y._ImgManager.bImageJustChangedInEditor==0?y._ImgManager.bImageChangedInViewer=!0:(y._ImgManager.bImageJustChangedInEditor=!1,y._ImgManager.bImageChangedInViewer=!1)),m&&y._ImgManager.refresh(c,y._ImgManager.count(),!0,_),p.isFunction(y.__OnRefreshUI)&&y.__OnRefreshUI(y._ImgManager.getCurrentImageIndex(),y._ImgManager.count()),!0}},{key:"updateImage",value:(o=a(w().mark(function c(f,m){var _,S,y,b;return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(S=this,bp.Auto,!p.isUndefined(f)&&f.length!=0){I.next=7;break}throw Fe(S,-2853,"The imageId cannot be empty."),{code:S._errorCode,message:S._errorString};case 7:if(p.isString(f)){I.next=10;break}throw cF(S),{code:S._errorCode,message:S._errorString};case 10:if((y=S._uidFromServer2ServerId(f))!=-1){I.next=14;break}throw TF(S),{code:S._errorCode,message:S._errorString};case 14:if(!p.isUndefined(m)){I.next=19;break}throw e$(S),{code:S._errorCode,message:S._errorString};case 19:if(m instanceof Blob){I.next=22;break}throw t$(S),{code:S._errorCode,message:S._errorString};case 22:return I.next=24,kU(m);case 24:return b=I.sent,I.next=27,S._updateImage(y,b);case 27:(_=S._UIView.GetWebViewer())===null||_===void 0||(_=_.webViewer)===null||_===void 0||_.resetImageEditorButton();case 28:case"end":return I.stop()}},c,this)})),function(c,f){return o.apply(this,arguments)})}],[{key:"ProcessGetBlobByQueue",value:function(){if(n._getblob_queue.length>0&&!n._processing_getblob_queue){n._processing_getblob_queue=!0;var c=n._getblob_queue.shift(),f=c[0],m=c[1],_=c[2];f._convertToBlobForUpload(U.DWT.EnumDWT_ImageType.IT_PNG,[m],!1,4,function(S,y,b){var I=b[1][0],x=f._ImgManager.getImageIdMap(I);if(x){var P={imageId:I,serverId:I,uidFromServer:x.uidFromServer,uuid:x.uuid,imageUrl:URL.createObjectURL(S),minImageUrl:URL.createObjectURL(S)};S=null,f._ImgManager.UpdateImage(P,_)}n._processing_getblob_queue=!1,setTimeout(n.ProcessGetBlobByQueue,0)},function(S){n._processing_getblob_queue=!1,setTimeout(n.ProcessGetBlobByQueue,0)})}}},{key:"_getContainer",value:function(c){return c._containerElement}},{key:"_setContainer",value:function(c,f){return c._containerElement=f}},{key:"_closeImageEditorUI",value:function(c){if(p.isFunction(c.__CloseImageEditorUI))try{c.__CloseImageEditorUI()}catch(f){vr(f)}}}]);var o,s,u,d}(Uce);function vg(r,n,o,s,u,d,c){var f,m=r._ImgManager.convertClientIndexToServerId(o);if(m==-1)return qe(r),p.isFunction(u)&&u(r._errorCode,r._errorString),!1;if(f=r._innerFun(n,Ve(m)),d)return f;var _=f==1;return _?(c&&(At.refreshImageAfterInvokeFun(r,o),r.getView().ClearSelectedAreas()),p.isFunction(s)&&s()):p.isFunction(u)&&u(r._errorCode,r._errorString),_}function kU(r){return p.isFunction(r.arrayBuffer)?r.arrayBuffer():new j.Promise(function(n,o){if(U.navInfoSync.bIE||U.navInfoSync.bSafari){var s=new FileReader;s.onload=function(){n(s.result)},s.onerror=function(d){o(d)},s.readAsArrayBuffer(r)}else{var u;Fe(u={},-2856,"Cannot convert blob to array buffer."),o({code:u._errorCode,message:u._errorString})}})}C(As,"_processing_getblob_queue",!1),C(As,"_getblob_queue",[]);var DU=function(r){return r.normal=0,r.balance=1,r}({}),RU="data:image/gif;base64,R0lGODlhZABkAKUAAPyOFPzKjPyuVPzmxPy+dPyeNPzarPz27PzSnPy2ZPymRPzGhPyWJPzu3PzixPzOnPyyZPzChPyiRPzevPz+/PzWrPy6dPyqVPzOlPyyXPzq1PzCfPyiPPzetPz69PzWpPy6bPyqTPyaLPySHPzKlPyuXPzmzPy+fPyePPzatPz29PzSpPy2bPymTPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAxACwAAAAAZABkAAAG/sCYcEgsGo/IpHLJbDqf0Kh0Sq1ar9hslXI4aEwHFUVLLicpjUBrBACMFKTG2Ewne1Khtl4fSnnqgFYUFSJ7hgAiFXOBjE8mDIeHIyaNlUweGZGRGX+WnkYTL5qHIhOfp0MubKN7Iy6oUhQwDSYmDTBPHiyshyydsEwUJgslCiIFCgkPcpcJvIYJv8BJBy4okW8r0kceIM97LIvTRw0Cq5ojBNtGqt9uC08qGisnBA9g4loHAt8jESpKJhT6VqqJMALn3AiYsE7QAneIFCVRkelbiYZFKDhooanAinxWHFyDKABXEhMJ0VFiAkMBqwITQE6hEAGinhRKBg3UlEim/pENzwQcyAKDn00AJ3wKucMxUogKGIsc2DlqhIMsGjgcBRBC6dI0Cla9IaHBKxEHKTWRyGKCqjsUZpeqOFArTFwiK9JGIsDW7TcOd7FU0HuIL5asWwVELfPo2wOiELYuCHzFQ4FnIzRkoYCBsCYGVz3lZZVuMRQNLiGyGOrpQORRClZuHv2tgAPKWNBA0KvgdhkPJzzrYfDBNB0uKwowYDCCQYETMHA78RDB7x6P42J4MFFhhQPWgA4YKJGWAQgHxrObkdXhhAAOHDK4wKd+GgUKHu5Lr8+/v///AAYo4IAEAgODBhNoYFKBdVCgAQkKMDdCcwq40EB6DDoBAwbW/rUhwgMLZlhFA7vxMkICmolIxQEhCLeHUCpK4YEzNvkiIhomOGACDKYNdhQDFWR4wAMCiMKAAA+AZ8QBFR2VgZIBwsACJHswwEKIRAi0FSKmDEjBLtiEYwQFJGzZBgb7eWICabIN4QEBZiKFISxAsRLBkmBumQCU/pXASwZL0rjlagMaNQqgRbwZpzoDnsDLnRmVaSYJaVoygGeTHKHlVgV5mWcvMjG5JQR8/icllcOBgCURKaDqDgM4MXgAAgJAciQCpbopqDs2ZugBDDnaYhwMF7jYxggwxihFAxm4OAIEKSq77AMdIoJBA9JW4UEDLkQ4IYUWzpmtEgcmuOq4/uimq+66/qHhwAQfVDABGOxGodECFyjnBgMoZBAAM/UuAcMJl6HDAQniZiuMVt9AAHDAQ1AwAcPuCIAtxENo0JRNECTs664QjUApxg7EycHFp/x64XpNbjVCAJVS4cAGJQhggR9kaFCtRecCsqmHk2mxgqtbFdAmIw5Y94EWNcUJAKyWeFDnISF4fIQFTrcRZCUw+BmJCNFagXXWWzdSFE9HUzG1mQwYYIkKYx+iQK5RPGAsKyKEVkkK1r2SRdJOh4ByIx48ZEgJdEfhwcYuJ/UJBSu0UIAIEriQuBQVxFnAALBsR68ZBzBuEwExC0hBBzt31LMRKqRAAAEpAESgYgfU2sSB3kscsOueBXqQnDshxOTECocsXeDpokeCImWv7QFBhlxUEIIIEx7LgAgQoBeF13sgeqMJD7gAAgEurPAwFHYb8hjGT4iqB6nsPyELkSWAWHr8+Oev//789+8/u0EAACH5BAkJADEALAAAAABkAGQAAAb+wJhwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+0uPY1JJ+XQeLxob2OhYAAAjNaika5fKYPL6M0HjC4DFHaDUSYofYgAKCaEjUweAomJAmeOlkYOe5J9Iw6Xn0MEm4kEoJ8UCqOICoKmUB4aJiYNrU4UHKp9HLWuSwcBAhwoBQolFZVMFC25fC28vUceFQWSIyEOz0gWzG8W0EoeLm6jIilNmdyeUBQNsg3IXhXjqhyMX5G5lK8uF8IKJ3S8HKDGjQU8JA5wjeKgzkmDEprejECBrYsLbm/KJXOgJ9Gfik5g4EtUwJ4WSBjfLDiIpEGENm8YKIgQ0NaKiKRYVtGgEGP+Ahi2NExIkWKChmy+QKgKUROLA4IYBTQddCCEqpJbBhxKKQCoowMXVC3aokFCSgAsDljycELVhalWUKZ0gTQNBQPzEI2IUJdKBZxiB3xSsQHwm65dPFhlNmKDzkEwXIjowwAC3CxPmbXwCspDCgICLrBYoRYNhRRQPba4bImChwMHPPTVYoLFZEQcInD+tjbFAgglSrAgYeIxb0KvYcA4MPu48+fQo0ufTr269evYs1t3DaOBdxiytXOB8VnBixEiJJwwsFt8lQEl8vJhUEKweyoUKvTcxMFA8/tG5HdbLiJU8B+AQzSwXy4csDYdBTBoAMOBF521gHYutcBBCBv+OCgEDANiVEB70lHgQAs4tRBIEvKcBUcF1x1QgiQllHbEAi6+EcF16HjUkBHb5OiNdRiMgkESSgl5HQmjkJAEji7uxaNhfvxYRItnMQCjdQeM1IcANhoBoosjXodHKn2oOBuUKV2YXQMnhCBBCAAxoWBKDYoHoYQHCshNgQciKER+CybCgYGCRuFAfJLQZ2WiIVVAgAQijPCCBARUQCKktnjQ3XfhcSrqqKSWauqpqBbhqSwTppqMCScoUIAIBRTQAgm0uGqEBw5AQCUcAAWaKAUPpLaJAiClSsEKL2AkwaOknmZsLkyl2oCXGFkgrHb5/aoKAx7aQcG2T3gwY47+ALgAigoYXCBHuFIc4G0urDThGmyhTqHCYm+gYJ8WDqD7RgHhHjABBhFYAEIEGEwQ5hMBJFICuUoYIDAAIpi06wolTFtACSsYF80yej1sRQUXZ3wEOyHIhwgDTAXqAZqImFzFBBcTvOsEhW6CwgSBioIbxUnAcLEEB5loFp7JKqHBVhkhelLP3IAgJrbcXGDzEb3uEUIKIktBAQnzbjLCv0NEIPCOnXqQ7xYN0JwSBM+Mia4Im4JCrMtXPfpA2aOM8IBzB5wAeEYrPENBAhcDkADRaHhAAN+IFBCymCQLvNlzKjygwK8jCJACUnderAC8l7CDweecQKBpXWU1zoFdBiWCYUIFKZgQ22xxN346qR6EdbEAKpQqtMCllDrB4dVMYCoF/LoYAuTVpUD5t+acKnmOJ4QtKAwgMD8CC3mPWvj180WwdakeIICi2S0g4P2o7KwgAE6hr5ArKEEAACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPyeNPzarPy+dPz27PzSnPymRPy2ZPzGhPyWJPzu3PzixPzOnPyiRPzevPzChPz+/PzWrPyqVPy6dPzOlPyyXPzq1PyiPPzetPzCfPz69PzWpPyqTPy6bPyaLPySHPzKlPyuXPzmzPyePPzatPy+fPz29PzSpPymTPy2bPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CweAydRCyVjyUyIbujkwYGQK9jGu23Xtkg1f8AJA17hEYdLSKAdSItHYWPMA0Jin8Jg5CEA4mUdCIlmIQRnH8OoGUvJSUHeVAlm5yepkwTLyMaIrgMCQWrT5KjAJaySh0OK5QiGBmsS4evgCIBjsNHZhrAApdNfZyCVRPTYS/HwAAszEq0JM8iguhNcQYrGiwO71oj5XQMEWURIAIqrLk36wSDPyIWhNsy4Zo+ACgIisngEGG/Lg0OPqxwoFCAZ3a8OAA5StieDhY4aViYxdXDYNreTDDACQJLLC806hPQkdD+A5IAQHiZ8OGhCAkSxZFDmOELBaCAQjR91KCCRhEJ2Hw5oKAcI1AHEKBA8QAPmAkZKowSAaInqAlJtcRhobNOiBYvqOkxY0FAghUCUMTUK/NAhgYp4hJezLix48eQI0ueTLmy5cuYM397kaFEhheKNS+Z4ICDAA0mNAjgYE/0lA4oQigSEQLFTdd8BJTLhrvJCxZQF7HI2zvJBA/B/zBQEVov3OYHILwM5jZyBw8QQkDwcLuIg+l0SklOseBVwhRL8oEfMdmB7D8ELiahCd6A5AkXKD1IigI8APuRTfCAfkkF4B97kkXwnl3yIfEdeOJFdoAE5klQ3REHTPJSAhf+PnZddtt1R8QEKtQ1ynLNUQNOir8lB4AIwxW3RAO6YTOYjEd0YMCCf9QmIo5EFCOBABBoAIEAEjjwI5BF0JJKCaAxKeWUVFZp5ZVYPgHOCy8kluURL5yAAgYkCICBAWWN8VwHHcAFSgoPJGDiiyZIEGUXHTSgAgYmMMCABiBEcKceHZSgITAhULBkFAdcIN1sHyi61wmP6sPAA4s68ducPbaQ4hUlVPRQCB58ikQHfujDSKZXZOgfAARESEUHC0yXqKlwGPgqABiwikQJJoAnAHFgvFCpf7HMKgGyJ4hBAacvcVBFA0X5ZwGuTsy0ax0QYAtDCTy+tBIYB8yxLaz+Nzox0qsMZFqMCi20oIKSS7yg1rkhfDLFusj+SIstDOCSiwYjDFoEjecCkC8VA7jwKgESdUCBqIpowB2GqW4bQrrbHDqdAgR18AC0yu1nSErnjjvFASC8ylw1Jb7kQqlGjOAiMBhYcUK45ZjUpAPBTmdCa0RkQMC5DUrRQcsvMXDBPSnQVx9L2u66gq9INHAsMCx0KEQGPOvjwo0NhF0OAxR4S4ShXmFArBEIbIuAESTejBAKXk/RAAhhi0CABOglwcK2LOT4gNmzWZA3FSkUYEECIYjAQAgfJLlkta9WcKoKR59t4Rd5luCAAyWYxcRS/q1g3AAKBFfBCVi7kbFpfyQ0U0ILkIcQAgH0OODlYhxsK20THXAGZeyhbJt0cS9Q/JAGb8sooN2LmCzlC+a+pED0QJaw9SgQTEVlHB8kJ8IKplv5ggS3zKaBnV/CUOgICiRAAAEJKDBCCcj3NsEBDThMA3qBiSAAACH5BAkJAC8ALAAAAABkAGQAhfyOFPzKjPyuVPzmxPyeNPy+dPzarPz27PzSnPymRPy2ZPzGhPyWJPzu3PzOnPyiRPzChPzixPz+/PzWrPyqVPy6dPzOlPyyXPzq1PyiPPzCfPzevPz69PzWpPyqTPy6bPyaLPySHPzKlPyuXPzmzPyePPy+fPzatPz29PzSpPymTPy2bPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+wJdwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CweEwum4sS1yYg2rgk53gzIgDYQ5SIfI9sJOyAAAkNfIVCEgWBgSZwhnsNKoqAKoSOchh/koIYlnKQmoKVnU4SHByNUoghmoyjTRwRDiwBKSSoUA0PkoOuTC4VBKsAIRkWKFN0gHh6vUouI5ohEAepaiIBbreppdpeHB+gww7dcQ0LCSUFtmERBOEAKtSFB3WADwNgEg7vw5yFKZJWkMPCYQE/ABsMXZAEYuAVDiwOJiwETlEJh1YkpBAGKoSoPScktfpCIsM7AfL4cFgRiMLHLhJEMAAFYgNGMhIiFKgwISX+GBQaOAICkYJDszIHHCQQFmLEBqNHy0g4QGJDhAYHbkbdyrWr169gw4odS7as2bNow3BwgcEF1LRVOJwoQCHBgwQUCpx4C7fJ1BPBopXoqRWuBAwrhEZbgaEw1QEkfH5t4EFxRw8v0TQokAGE5wcFGhR2hKLeQUAjJA9BkcKdJAIpVPfiUMAyvxAF+AopaPvOAt29NoA4zXDiEAkTZr5r0WF0HBQmeh80wZfyacxRG5gkLimDKAknpAcKccK5mQjcoxmXYJD4AvNlEKTXlGLISu4rgFuKOF9RAPsVnfaBfo6I0J8iLBwHAXcQEGgIQAcCUt8h4Z1GHnxkoBfhMMz+CGHdQS5lt92B3hGBXAv8MIchGSgkEqEJkvEWTgi/cSXcgQQYRwRrrikC2zFc0dZfCBUQKMFmnXmWQWgrxnEABfN5IFsRLpAQAQkujPXhQSF44E9fSByW2G2MNSmWBChMUIJtIQyWFZhOyEVXAhngpZeDcCpxAFsuTJnnn4AGKuigUJRyAgsfrLDABG+MUYoLDTTgliMSkGCCcoooEAGQXhyQQgEjJKDCBRA8pVIKI2oCwjQwRTACpoAQ8EFmY3AgAoq3KYBnFBykMFw4GXSIkwOwvhMCdVqcUKwmJdBKUgnpMdAcFgek+s6AZHBgQn8jZHmFBdzVRMYBy3Kp4xT+B0TCHbJiTPCimS+Q0ONp3Y6x4IEe7LrEjdzxIkaA82WgrxIn/Eqcv0uU0kAEKaRw1SlMsHRgCQMn0U56FHjrzAkCCBWCACf4KcS2+FaMhAuZEFeByC808EG5ADAwqxIQ9odtFYhwx0AKGLmggnjwaGxEAxFOAG/LBvOTmp6m8YNSmAvNl8CXVlgANAAgCGuErVffIcJA/BIXgggmKwGdeAwggNGW1zl7NncXCH3FASIkrUwGey1RIXfkJeGCAl2X2EUDJqhQAggElOCBBXIfAVF/LDhIG8x2MHCBs1hMNcAGG5DA6RLf9FekEr2+KkkICYjQeCcoSJzeCiynsYFdBgJkUIIABUzQQNlnCDkfu0yUYoopR4uhT3/jDBqB3fxkTegBUROnAMtwXXxajoQe4sDVISSf/QsQUR5z5N/bd4IKyzKgQt7lE+GpAnXhpUBs7YcJKQYH8F6/IUEAACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPy+dPyeNPzarPz27Py2ZPymRPzSnPzGhPyWJPzu3PzixPzOnPyyZPzChPyiRPzevPz+/Py6dPyqVPzOlPyyXPzq1PzCfPyiPPzetPz69Py6bPyqTPzWrPyaLPySHPzKlPyuXPzmzPy+fPyePPzatPz29Py2bPymTPzSpPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CweEwum5EUynkd7Uwuo0mHTVemTCEAIGRK1f9FFyJ6eiIjUhQdBygBJgQLIA0daoBPFAWEhCeUTm4qDJmFJCAHnJVKBy6hAAwHTwcLeauEDCoNp0yXq5tOLxWDs6EfGbhLI8CFh00HHsHBw6bFRAd4enyuuQHOzirYXB0ZICgN0VEHb3FzTS+y26sMIOVWvgUMLgUt8lBpUC3uzgLUZWmAKRQGb2QObPjn7FaWDghmGdLnxUE7hqFYaMlwMROJF2ZAgMK4SoMWFKpmJSBW5gEykoRUaOEwctVKMw9qwtTjQQv+wWAQEIoRuTPTAi0UTMxiwIJilxIdYYLY0gGCThcBnHbp8KGoHgYgtxx4IGBDAggG6LDwCkCFQKQvSmQoRUdh0RATtErbR5SkiAhv92LpkBOjiApCBWMZqzPY4bCKvxk4sS1EgMSRs1AYKyCECwagQyRoQS6zGAoZULB4AKKEH9OwY8ueTbu27duyOzRAYQJDAgwmxgXGHYVCgxYFQ+ErTbz4BAHuBOS1xM82BQ7JtxWYroTCCwcXTDxw8EJvsRIpGYYo0X0CBmQMMHCH3YHETgzDh6DITqgAB9koNPYPAyggwY4zIUAWGUReITAcBRq4o4F5dWQggVc3FXHACu7+rIBZMRNEpd4ERmSw0DYbsBSZAenB5EJaRZjozgkqKhagVwzAOE0C7iTwIS4heoWXERC6YwKFdGTAY1EZFnFgMAnSB0GD+cGw3ywFFBjbjTDBkwQF7tUU33ymHWAfTCRUKYR3DoygwQjkIVlJCQIiyF4TaciJC5j8BbOdnriBacFLoYhgAZnN4dnAAn0CsBygicKgGwe9/RbcC2pGqummnHbq6aeghlpcnqJa8p0CLWjwwASSkKFbBhmUd8oLCghA6AYBZAApniAgkIAEG6ygwp11NGCVYxY4sOuXDRBA6B6XLUtFA0tWxoG0RVDgQLWzfLTGC2f+E4JDWbxgwT/+BGBrSWEYEZApFC7944IDZrwAHUknDPBQo7OooG4TEzzrTj5YZCCwSgqCQcEDRXnwmhUoHLzKBsSGQUEERXl7RcQYUYyInEllnPAUJUgcSgLkMnFACRMowAIHJfxIBAUjFNXNYiLOAsG7QnTggAonIHOCB3IwEfBOC/DcRAUMiaAREx2MwO8JF7wrI0khaInFT9Hp1UEEJgMAWHcthJ3JzkiBwK8eTSrBsTsi/KdEBueO+A0HXa0iggoD6HVA3v98IDOYOWcyURfe4SHC4gwUwAJdTIDQ4jYvLsFnZSMoTYXPE0xQApJFkjSh5RlU0GcIGCibWQcqwORWEz4HUAFdBhioAMnDkaUQEUkOWpLCCy8coDkgFDBNUgX/mnaMYQGUOgRUGK3n/JqtM+TB8IkesDYhG4wsKpjc2oSo8xSUAMGzIkBQAvabJsIB0CGEcIIKciTf3AHeT69/qUEAACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPy+dPzarPyeNPz27PzSnPy2ZPymRPzGhPyWJPzu3PzixPzOnPyyZPzChPzevPyiRPz+/PzWrPy6dPzOlPyyXPzq1PzCfPzetPyiPPz69PzWpPy6bPyqTPyaLPySHPzKlPyuXPzmzPy+fPzatPyePPz29PzSpPy2bPymTPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj0gk5dDYPBaRx6ZxoCSv2Kx2yx2mThYDYExGfU6prnrN5r5WIbKcHFq92vg8m1ICzf9kLCVWeoWGRnwTgIsACoOHkIYHAoyMAgeRmXgPlZUPmqBdL3GdiyF3oalXDyKliyKfqrJFFBiujBiEs7MvLLeLLKhYFMS6u2olHL+AHCVXFC8lJw8PFQ4NxsdZJSjLfyjOSC8qGKRjDCAB2Npayd5zzUgZAgyvCifZ7EYvCu9yCsKGUHAgphODB/n0CbTlbwyEbIluicCnEAmnhrCMHFjR6haLBqAodMjQoEPCfea8nTIiod4vEQE6ZDrQwqUBFSeLXPSWkVb+gncfI1Fo0fGcBC0HSLy7ZKSDi3cMHERK4VIOiZwCSyj6pcBBvgYNcUIqwQxkFj5+SolwlJCsvxFY1WRgFhDLm5R/6tQl4vbdhbhdOhSUswIwkQMbLCiDZ+EEpiQvGlYwvIWCh6IAGJjtsiSDhCcLpGSogkXwuxBShUrAwGHChwwKKUR4h2HvoRePKw7AaxBhxVkdZv8SYPu3phckMDMyANv4rgYClP/hcNT5sQYmeJ9b8cj6sQ4lIgwGECKBBNLe2RE7kCHDC5Pp48ufT7++/fv48+vfn17kAfj8aQKNBAGY8IEJI2zwAmUBnlWBAE/J4QIJHsjUYB4paFDVHwz+RJDbhWq88FMpdmxxgAMbOFCcfR0Q5YoILViYBAUFgGBACAYIQNF+DWhnymZHdPBAhGQcJCN+wv2iwRUlaBdCOPh10M0yKBxZRAuMtKBfBj4yEkJzRyi1CAn6ObChK1ElwRAgGJR5ZilpIoHlIlrmx6VKYBrRJCBP6ielN1UmISSRY7jwgJX2aeDNks8UIMCNKAhQAIPO9fhLCEBC5oAEKjbYonSAwIgoiFgckACocohQIqlqZPhmkRp8yCoXFKgA4RwuCCDWrHu8sMEIBByY4IK86uEfgMUmq+yyzDbr7LPQRqveqNIicYAEF0SgwQgnZFotER2sFkJRISiAQBr+qXQQzQMqjEZpJiks8CoAqq6jyQEBTDnGPejq08ECpdR2nAWAMDCCrLtsMO8cdULy6SIM7HjMAWt2shIkBFWiAMKqnNDlHw0XQsEIpUA5y8ioAvLQIR0QUEoF2gS3DAj96tEBwZ2oELOiv4DAMRsdBFBKaruMvMxVkLRUiQErItGBA9kucIEE1B5RwcJ/RBDJARBUMkLVR5RQTkciGICByVc00M+LaBfSQFpziGBB00V04IGPIagA9hCsuFKYJhlAkJIBC9BNBAUeLy2xoCuUokCeW//6gQUPOLB33WtrfDkMDVT8R1fvqtFBCshyccItJ2gBTQvjxv1a6No07ndgFw2MgAEIIJCwQHf3UZB5JwqEnsLP9VGwWCkcwH4hJa6Q+S0Mc5YSsrQZpEyGCJBHS8EHpVigPIgvQICqCBAY3mwDFrzJgAXZP39ABQmQUkcFxH/r3wH4l/78/vz3T0QQACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPy+dPzarPyeNPz27PzSnPy2ZPymRPzGhPyWJPzu3PzixPzOnPyyZPzChPzevPz+/PzWrPy6dPyqVPzOlPyyXPzq1PzCfPzetPyiPPz69PzWpPy6bPyqTPyaLPySHPzKlPyuXPzmzPy+fPzatPyePPz29PzSpPy2bPymTPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj8ikcslsOp9QZad08lBOpUN0y+1CDyoMx8UQhVAYldbLbnMnDpAIQK/TRSDJxM3vIzsUDHaDdQwUHX6JfRMUIYSPACEUe4qVXSUKkJAKJZaeUB0EmpoEiJ+nShkuo5AMGahsGRQBEREXFGtLCKyaKrBREx0nJCFlcyIMKCslpkgQvJAQv09wAnOaIgQNlEYc0I8c003CBt8CA9xEjt+DBuMlFA8PHg4pihMn5ewsr0Yo7IPCKZlQYgUHYwwMWDiRjg0cfQBZ5BqCAaAdDEoORBD0SESCbW5SWLBYR0NDFSTp+EJyQBQrCw3cFEhJx0AnIhk4AnSFZML+iGusEjR7I4AmABER0nWoQJKAvSMlvEETcYJNiXU0BcTEKfUbpz8RAIKYGEWFzpQoBhRhhJWVpIZDGoAAaMCBlwVAUzLYYATQ2VaHkmRoy4vBSi4mjN6hcGSCBBZ57YhgoUdJicisRIzwklixiAJJwGBAYcwFBxJqmJT4m3lzlwCYAbqQsOQAFQoeTgx4yiQDRGiGvARSzOGmpRdF2RX30uA3SQxkE/mMDWnFUGAJjIp4ADdRAxbfGKhl44A6Lw5bP00owPpR0jYdVqTc3l1Rhwft62SLzqVBcnYirFBfJcIoEBsHI/DWBhzgfSMCBun9MkEDD5BgAAMJWRBBCQP+vpFBJrwECJI4QkzwQgYllJDBiJUcsAAK1DHAgQodkojKBBksIMAYyITAQQIPsGjjkEO8UIIEJ5wgQQkKEunkk1BGKeWUVFZp5ZVYZvlGCjVq6UcHDrTwAQQftODAdV76QRAGIQBlBgYcpplIBwWYZwiacr5xAmGEhFBAlyUaKWSe30HDQoQ9NbAChgysMKiWEwTAzgg1vlDRRS/kCcMBXZ3X5FoqRCYCjXm+YB4hImSaRAedDWICnleWYJFxR4TySCl5ZmBRPz2ZNYhhgEZpKoCqJvECCYOQUGyaKYAIjQL8EWFiBYxW8EKwUU7QwqSATujAtZrG1SArh4brxXr+fA7iJ6zmjjMcYOy228SabZkBQZzytpFCmBWQ2YIEn+br0AHxCmzwwQgnrPDCDDfs8MMQRywxlPhoAAEGBKQ28R8SyCGZASoU7EYHDaQI7pMdqJDuURFEy0cDC4DAAQcCjCDyJxKsTAcDNltygMf6vUrkBHOxYgCifMTXEaVDnnBqHRFUchUkAiw7jQlP06FAJe8SshyJE1xaGLZO+PqITTaGHR7ZTTiwMghIw8IUNAIlcsB/kkVwsyIUZA0AAZasRgjcRB7gXEd2VUKQAMUwEEICLg/UwAgGiqDACI8qEeooIgjtyb5WMPOGA+PWwYID2HawESQiQBC3lRkUTQhgP1+MwGfnr1fJ6iieO0FyBCxgyIEJZ+b6jyYo8LoxDOVxnvjyzPPy/PKCa8IArRsjN0rV0AtxX34McNe9EAd8gJkIH0QesbYw3oFCC2wzjOMDC0TwQAbxj6///vz3v38QACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPy+dPyeNPzarPz27Py2ZPymRPzSpPzGhPyWJPzu3PzixPzOnPyyZPzChPyiRPzevPz+/Py6dPyqVPzOlPyyXPzq1PzCfPyiPPzetPz69Py6bPyqTPzWpPyaLPySHPzKlPyuXPzmzPy+fPyePPzatPz29Py2bPymTPzGjPyWLPzy5PzWrP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj8ikcslsOp/QqHRKrUI7pcmk1LF6v9ZOxlNgmBmFSqYLbruRjQgDQK/TGZrGe/92YeyAdCIkLnyGYRWBigAVbIePThQXc4uADBcUkJpLDR+Vih96m6NGKJSfdgwopFMUHQcZEw4NBx2ZSx0LqIoLjqxMFA0KAiKpHigut0gHCLuBCAe/TR0vFsWKDBgOSgckzoAk0dJKFAstuxsoykXM33bQTi4vASwKa3wdLNe7IS/rQx0iuKvTawmFEipEFFMoIsEEX14ogDjnbkMJJKYGqsKloMAiBgsKgWmwYiAdBP+EdBoYasmLEJ9EsIDY6sE+dyIyHKEw4ub+JwYjUhJx4REVgwlfOpQ0SccEkg4evnmgSYSCiW8JhEI54NPdCqowXJDoameQyCQulu4ScdFKCaZ1Cpw10kDDKUsmRClxUHTtAy8c4NIpoDOJGBVlzhTwUEJrkZfuFniZIBgA4SYHsmwR5wQFTGcyvWSofGKuoRInvolQ4OXAXZaO2xzwBFovlQ7N4F4YZdOZii8UXrx2xsD2oxS0PxVo60UsUw2x3zhIXamFArBRKPAdKMA4JAoZMAwHcOIF9ikGPu/6wJxVBwUWToQIUWCFBtNggm/YJaDxOCEHDIACCrNEV8VBHpAFQAgRePcfKeAtsMIJBRRwwgcKNGDgg5r+UOBCA7RsyOGIJJZoIoQUiHjiHh5OcMECESwwwgTJrDiKCyYkEMI+IoSQgAn42ejGARf0pUiPF3AmZBsuRAVaBUEuOcUBEJgEj5RhaKBgJSJocJ6JWJiwwgYrmOAAWMGpN1AL/mB5kDeAiNBfSgf8IRgGStpYwn6LWGTEBFuuhdSSDViASndFEFAZHQQsmU+gAIiwwDrUVbYBoQk4s4JtkK6lIikTUGTUNkMsWkeeJaLgziqlmgoAqiSq+g2rQnSKighfjuPAeIGEQKoQfJJGqFqfJGBbIos2KuSjt7KwDqCViTCokA0IcKhxdVaGJ5YDBBvIBgMYkSZc/Xz6y0H+xMQ55xEB2VpWBLmS2IEDJnywwQdmntfOQCrAimUUDSQImgcO/ivFASMYGUiPI/hr8BQuaLBCCKcwEEKZDj9MhYccPMDCAiw8gIy5GkORIsklp6zyyiy37PLLMMcs88wcvvKhC7bQLAV4ERQVQgUToCyFGA3E26EDxNIRggJCR4KCAAVsgEFhHGaQHCAFcPAIBQrcxADV43SgwScCRPlFCgoDgIDRfBxQqSIhTLvHW98WvEkDkL5wCGWBXPZfA7uwZohrgQjA9h4uqBkIA1obUk6cckvTAbKLtHTIASxQUgDTHFIwgeJ1iBDUdwfIckDTQlBwwOkbd7S4CaifW0JlACp4EIB/Oz/9GQMfjJ7yC2+XV4ULE7wAAgpFq7wdICG0pzMuuT1z+MwNZKqIsc83kYEEi0gAdvbLXG2HBRmDL4Q+C7NgPhPOAVL2+kwEzEAxDBAMfzxamH3//vz37///AFxREAAAO2l6MlNnMjJPaEJTY1lvVkpORFI0dmF6ek1tK1ZrditmL1VXWmxseUxSc0NPYk4vVU5kVVRWeThHRmlpUWNqNWQ=",Ps={loaderBarClassName:"ds-dwt-loaderBar",loaderBarBackgroundColor:"",loaderBarSource:ue.bIE?RU:j.loaderBarSource,loaderBarSourceIE:RU,loaderBarWidth:120,loaderBarHeight:120,errorMessages:{limitReachedForZoomIn:"Error: You have reached the limit for zooming in",limitReachedForZoomOut:"Error: You have reached the limit for zooming out",insufficientParas:"Error: Not enough parameters.",invalidAngle:"Error: The angle you entered is invalid.",invalidIndex:"Error: The index you entered is invalid.",invalidHeightOrWidth:"Error: The height or width you entered is invalid.",imageNotChanged:"Error: You have not changed the current image."},generalMessages:{checkingDWTVersion:"Checking WebTwain version ...",updatingDService:"Dynamsoft Service is updating ...",downloadingDWTModule:"Downloading the Dynamic Web TWAIN module.",refreshNeeded:"Please REFRESH your browser.",downloadNeeded:"Please download and install the Dynamic Web TWAIN.",DWTmoduleLoaded:"The Dynamic Web TWAIN module is loaded."},customProgressText:{upload:"Uploading...",download:"Downloading...",load:"Loading...",decode:"Processing...",decodeTIFF:"Processing tiff...",decodePDF:"Processing pdf...",encode:"Processing...",encodeTIFF:"Processing tiff...",encodePDF:"Processing pdf...",transfer:"Transferring...",canvasLoading:"Loading ..."},buttons:{titles:{previous:"Previous Image",next:"Next Image",print:"Print Image",scan:"Acquire new Image(s)",load:"Load local Image(s)",rotateleft:"Rotate Left",rotate:"Rotate",rotateright:"Rotate Right",deskew:"Deskew",crop:"Crop Selected Area",cut:"Cut Selected Area",changeimagesize:"Change Image Size",flip:"Flip Image",mirror:"Mirror Image",zoomin:"Zoom In",originalsize:"Show Original Size",zoomout:"Zoom Out",stretch:"Stretch Mode",fit:"Fit Window",fitw:"Fit Horizontally",fith:"Fit Vertically",hand:"Hand Mode",rectselect:"Select Mode",zoom:"Click to Zoom In",restore:"Restore Original Image",save:"Save Changes",close:"Close the Editor",removeall:"Remove All Images",removeselected:"Remove All Selected Images"},bShowAllButtons:!0,visibility:{scan:!0,load:!0,print:!0,removeall:!0,removeselected:!0,rotateleft:!0,rotate:!0,rotateright:!0,deskew:!0,crop:!0,cut:!0,changeimagesize:!0,flip:!0,mirror:!0,zoomin:!0,originalsize:!0,zoomout:!0,stretch:!0,fit:!0,fitw:!0,fith:!0,hand:!0,rectselect:!0,zoom:!0,restore:!0,save:!0,close:!0}},dialogText:{dlgRotateAnyAngle:["Angle :","Interpolation:","Keep size","  OK  ","Cancel"],dlgChangeImageSize:["New Height :","New Width :","Interpolation:","  OK  ","Cancel"],saveChangedImage:["You have changed the image, do you want to keep the change(s)?","  Yes  ","  No  "],selectSource:["Select Source:","Select","Cancel","There is no source available!"]}},kn=p.mix({},Ps);function FU(){var r;U.DWT&&(r=U.DWT.CustomizableDisplayInfo),r&&(p.isString(r.loaderBarSource)&&r.loaderBarSource!=""?j.loaderBarSource=r.loaderBarSource:ue.bIE?(j.loaderBarSource=Ps.loaderBarSourceIE,j.loaderBarSourceIE=Ps.loaderBarSourceIE):j.loaderBarSource=Ps.loaderBarSource,p.isString(r.loaderBarClassName)&&r.loaderBarClassName!=""?j.loaderBarClassName=r.loaderBarClassName:j.loaderBarClassName=Ps.loaderBarClassName,p.isString(r.loaderBarBackgroundColor)?j.loaderBarBackgroundColor=r.loaderBarBackgroundColor:j.loaderBarBackgroundColor=Ps.loaderBarBackgroundColor,r.loaderBarWidth?j.loaderBarWidth=r.loaderBarWidth:j.loaderBarWidth=Ps.loaderBarWidth,r.loaderBarHeight?j.loaderBarHeight=r.loaderBarHeight:j.loaderBarHeight=Ps.loaderBarHeight)}var OU=!0;function jce(){var r;OU&&(kn=p.mix({},Ps),U.DWT&&(r=U.DWT.CustomizableDisplayInfo),r&&(r.errorMessages&&p.mix(kn.errorMessages,r.errorMessages),r.generalMessages&&p.mix(kn.generalMessages,r.generalMessages),r.customProgressText&&p.mix(kn.customProgressText,r.customProgressText),r.buttons&&(r.buttons.titles&&p.mix(kn.buttons.titles,r.buttons.titles),r.buttons.bShowAllButtons&&p.mix(kn.buttons.bShowAllButtons,r.buttons.bShowAllButtons),r.buttons.visibility&&p.mix(kn.buttons.visibility,r.buttons.visibility)),r.dialogText&&p.mix(kn.dialogText,r.dialogText)),FU(),OU=!1)}function hE(r){var n=r,o=window;if(o.ShadowRoot)for(;n;){if(n instanceof o.ShadowRoot)return n;n=n.parentNode}return null}function pE(r){var n=window;return!!(n.ShadowRoot&&r instanceof n.ShadowRoot)}j._funsAfterConfigLoaded=[],j._safePromptCustomMsg=function(r){r&&r()};var mo=ar;U.DWT;var _g,za={background:"#434246",topMenuBorder:"",innerBorder:"",promptToSaveChange:!0,buttons:kn.buttons,dialogText:kn.dialogText},Gce=function(){return v(function n(o,s){h(this,n);var u=this;u._stwain=o,u._ImgManager=o._ImgManager,u.zoomInStep=1.2,u.zoomOutStep=.8,u.MIN_ZOOM=.02,u.MAX_ZOOM=65,u.MAX_ROWS=128,u.MAX_COLUMNS=128,u.__MousewheelValue=0,this._Init(s)},[{key:"_Init",value:function(n){var o=this;if(o.borderWidth=p.isUndefined(n.borderWidth)?1:n.borderWidth,n.BackgroundColor?o.BackgroundColorByDefault=n.BackgroundColor:o.BackgroundColorByDefault="#FFFFFF",n.BackgroundColor=o.BackgroundColorByDefault,o.BackgroundFillColor=o.BackgroundColorByDefault,n.onTopImageInTheViewChanged=function(u){p.isFunction(o._stwain.__OnTopImageInTheViewChanged)&&o._stwain.__OnTopImageInTheViewChanged(u.index,u.bByScrollBar)},n.onGetImageInfo=function(u){return{width:o._stwain.GetImageWidth(u),height:-1}},!o._stwain._viewer&&U.DWT.UseDefaultViewer){var s={viewerContainer:{},viewerEvents:{topPageChanged:function(u,d){o.__topPageChanged(u,d,o)},click:function(u){o.__click(u,o)},rightclick:function(u){o.__rightclick(u,o)},dblclick:function(u){o.__dblclick(u,o)},mousemove:function(u){o.__mousemove(u,o)},pageAreaSelected:function(u,d){o.__pageAreaSelected(u,d,o)},pageAreaUnselected:function(u){o.__pageAreaUnselected(u,o)},dragdone:function(u){o.__dragdone(u,o)},onDrop:function(u){o.__onDrop(u,o)},pageChange:function(u){o.__pageChange(u,o)},bufferChanged:function(u,d){o.__bufferChanged(o,u,d)},onBind:function(u){o.__onBindViewer(u)},onUnBind:function(u){o.__onUnBindViewer(u)},save:function(u,d,c,f){return o.__save(o,u,d,c,f)}},viewerError:{setError:function(u,d){o.__setError(u,d,o)}},imageEditorEvents:{acquire:function(u){o.__acquire(o,u)},loadImage:function(){o.__loadImage(o)},deskew:function(u,d){o.__deskew(o,u,d)},removeImage:function(){o.__remove(o)},removeAllImage:function(){o.__removeAll(o)},close:function(){o.__close(o)}},imageEditorServerCallback:{rotateRight:function(){o.__rotateRightForServer(o)},rotate:function(u,d,c){o.__rotateForServer(o,u,d,c)},rotateLeft:function(){o.__rotateLeftForServer(o)},deskew:function(u){o.__deskewForServer(o)},crop:function(u){o.__cropForServer(o,u)},erase:function(u){o.__eraseForServer(o,u)},changeImageSize:function(u,d,c){o.__changeImageSizeForServer(o,u,d,c)},flip:function(){o.__flipForServer(o)},mirror:function(){o.__mirrorForServer(o)},restore:function(u){o.__restoreForServer(o,u)},save:function(u){return o.__saveForServer(o,u)}},beforeImageEditorCreated:function(u){o.__beforeImageEditorCreated(u)}};n.Container&&(Te.isNodeList(n.Container)||p.isArray(n.Container)&&n.Container.length>0)&&(s.viewerContainer={container:n.Container[0],width:Wt(n.Width),height:Wt(n.Height)}),o._stwain._viewer=new U.DWTViewer(bf._getBuffer(o._ImgManager),s)}else n.Container&&(Te.isNodeList(n.Container)||p.isArray(n.Container)&&n.Container.length>0)&&o.__onBindViewer(n.Container[0]);o.__InitEvents(n)}},{key:"dispose",value:function(){this._stwain._viewer}},{key:"__InitEvents",value:function(n){var o=this;p.isFunction(n.onTopImageInTheViewChanged)&&(o.onTopImageInTheViewChanged=n.onTopImageInTheViewChanged),p.isFunction(n.onGetImageInfo)&&(o.onGetImageInfo=n.onGetImageInfo),p.isFunction(n.onZoomChanged)&&(o.onZoomChanged=n.onZoomChanged),p.isFunction(n.onMouseMove)&&(o.onMouseMove=n.onMouseMove),p.isFunction(n.onMouseClick)&&(o.onMouseClick=n.onMouseClick),p.isFunction(n.onMouseRightClick)&&(o.onMouseRightClick=n.onMouseRightClick),p.isFunction(n.onMouseDoubleClick)&&(o.onMouseDoubleClick=n.onMouseDoubleClick),p.isFunction(n.onImageAreaDeSelected)&&(o.onImageAreaDeSelected=n.onImageAreaDeSelected),p.isFunction(n.onImageAreaSelected)&&(o.onImageAreaSelected=n.onImageAreaSelected),p.isFunction(n.onBufferChanged)&&(o.onBufferChanged=n.onBufferChanged),p.isFunction(n.onSelected)&&(o.onSelected=n.onSelected),p.isFunction(n.onRefreshUI)&&(o.onRefreshUI=n.onRefreshUI),p.isFunction(n.onResetCurrentIndex)&&(o.onResetCurrentIndex=n.onResetCurrentIndex)}},{key:"GetWebViewer",value:function(){return this._stwain._viewer}},{key:"SetSelectedImageArea",value:function(n,o,s,u){if(this.GetWebViewer()!=null){var d=[],c={};return c.left=n,c.top=o,c.right=s,c.bottom=u,d.push(c),this.GetWebViewer().setSelectedAreas(d)}return!1}},{key:"OverlayRectangle",value:function(n,o,s,u,d,c,f){var m=this;return!!m._stwain._isNoViewer()||m.GetWebViewer()!=null&&m.GetWebViewer().webViewer.overlayRectangle(n,o,s,u,d,c,f)}},{key:"ChangeImageViewSize",value:function(n,o){var s=this;return n>=0&&(s.GetWebViewer().width,s.GetWebViewer().width=n),o>=0&&(s.GetWebViewer().height,s.GetWebViewer().height=o),!0}},{key:"ChangeSize",value:function(n,o){var s=this;return s.GetWidth()!=n&&s.SetWidth(n),s.GetHeight()!=o&&s.SetHeight(o),!0}},{key:"GetWidth",value:function(){return this.GetWebViewer().width}},{key:"SetWidth",value:function(n){var o=n;return this._stwain._isNoViewer()||(this.GetWebViewer().width=o),!0}},{key:"GetHeight",value:function(){return this.GetWebViewer().height}},{key:"SetHeight",value:function(n){var o=n;return this._stwain._isNoViewer()||(this.GetWebViewer().height=o),!0}},{key:"SetViewMode",value:function(n,o){var s=this;return s._stwain._isNoViewer()?s._stwain._nouiNotSupport("SetViewMode"):s.GetWebViewer().setViewMode(n,o)}},{key:"SetIfFitWindowAndType",value:function(n){var o;if(this.GetWebViewer()!=null){switch(n){case 1:o="height";break;case 2:o="width";break;default:o="window"}this.GetWebViewer().fitWindow(o)}return!0}},{key:"GetAllowMultiSelect",value:function(){return!this._stwain._isNoViewer()&&this.GetWebViewer().selectionMode}},{key:"SetAllowMultiSelect",value:function(n){var o=this;return o._stwain._isNoViewer()||(o.GetWebViewer().selectionMode=n?1:0),!0}},{key:"GetFitWindowType",value:function(){return this._stwain._isNoViewer(),0}},{key:"SetSelectionRectAspectRatio",value:function(n){return this.GetWebViewer().selectionRectAspectRatio=n,!0}},{key:"GetSelectionRectAspectRatio",value:function(){return this.GetWebViewer().selectionRectAspectRatio}},{key:"SetFitWindowType",value:function(n){return this._stwain._isNoViewer()||this.SetIfFitWindowAndType(n),!0}},{key:"GetIfFitWindow",value:function(){return this._stwain._isNoViewer(),!0}},{key:"SetIfFitWindow",value:function(n){var o=this;return o._stwain._isNoViewer()||(n?o.GetWebViewer().fitWindow("window"):o.GetWebViewer().zoom=1),!0}},{key:"GetImageMargin",value:function(){return this._stwain._isNoViewer()?0:this.GetWebViewer().pageMargin}},{key:"SetImageMargin",value:function(n){return this._stwain._isNoViewer()||(this.GetWebViewer().pageMargin=n),!0}},{key:"GetSelectionImageBorderColor",value:function(){return this.GetWebViewer().selectedPageBorder}},{key:"SetSelectionImageBorderColor",value:function(n){var o=n;return p.isNumber(o)&&(o=Zo.getColor(o)),o.indexOf("1px solid")==-1&&(o="1px solid "+o),this.GetWebViewer().selectedPageBorder=o,!0}},{key:"GetZoom",value:function(){return this.GetWebViewer().zoom}},{key:"SetZoom",value:function(n,o,s){var u=this;return n<u.MIN_ZOOM&&(n=u.MIN_ZOOM),n>u.MAX_ZOOM&&(n=u.MAX_ZOOM),u.GetWebViewer()!=null&&(u.GetWebViewer().zoom=n),!0}},{key:"ZoomIn",value:function(n,o){var s=this,u=s._ImgManager.getImageIdMap(s._ImgManager.convertClientIndexToServerId(s._ImgManager.getCurrentImageIndex()));if(!u)return!1;var d=s.GetWebViewer().zoom,c=Math.floor(100*d*s.zoomInStep)+1;return 1<c&&c<2501?Wt(u.imageWidth*d)>15e3||Wt(u.imageHeight*d)>15e3?(ar.output(s,kn.errorMessages.limitReachedForZoomIn),alert(kn.errorMessages.limitReachedForZoomIn),!1):(s.SetZoom(c/100,n,o),!0):(ar.output(s,kn.errorMessages.limitReachedForZoomIn),alert(kn.errorMessages.limitReachedForZoomIn),!1)}},{key:"ZoomOut",value:function(){var n=this,o=n.GetWebViewer().zoom,s=Math.floor(100*o*n.zoomOutStep)-1;return 1<s&&s<6501?(n.SetZoom(s/100),!0):(ar.output(n,kn.errorMessages.limitReachedForZoomOut),alert(kn.errorMessages.limitReachedForZoomOut),!1)}},{key:"GetMouseShape",value:function(){return this._stwain._isNoViewer()?0:this.GetWebViewer().cursor!="crosshair"}},{key:"SetMouseShape",value:function(n){var o=this;return o._stwain._isNoViewer()||(o.GetWebViewer().cursor=n?"pointer":"crosshair"),!0}},{key:"GetShowPageNumber",value:function(){return!this._stwain._isNoViewer()&&this.GetWebViewer().showPageNumber}},{key:"SetShowPageNumber",value:function(n){return this._stwain._isNoViewer()||(this.GetWebViewer().showPageNumber=n),!0}},{key:"SetBackgroundFillColor",value:function(n){var o=n;return this.BackgroundFillColor=o,!0}},{key:"GetBackgroundColor",value:function(){return this.GetWebViewer().background}},{key:"SetBackgroundColor",value:function(n){var o=n;return this._stwain._isNoViewer()||(this.GetWebViewer().background=o),!0}},{key:"Go",value:function(n){return this.GetWebViewer().gotoPage(n)}},{key:"__Previous",value:function(){return this.Go(this._ImgManager.getCurrentImageIndex()-1),!0}},{key:"__Next",value:function(){return this.Go(this._ImgManager.getCurrentImageIndex()+1),!0}},{key:"__fireEvent",value:function(n,o){if(p.isFunction(this[n]))try{return this[n](o)}catch(s){vr(s)}return!0}},{key:"GetIfAutoScroll",value:function(){return this.GetWebViewer().ifAutoScroll}},{key:"SetIfAutoScroll",value:function(n){return this.GetWebViewer().ifAutoScroll=n,!0}},{key:"BindView",value:function(n){var o,s=n;return p.isString(n)?s=p.get(n):p.isDOM(s)&&(s.id&&s.id!=""||(s.id=["dwt_",p.getRandom()].join(""))),(o=this.GetWebViewer().bind(s))&&this.GetWebViewer().show(),o}},{key:"GetIfShowVideoContainer",value:function(){var n=this,o=n.GetWebViewer();return p.isUndefined(o)?(U.DWT.UseDefaultViewer?AT(n._stwain):n_(n._stwain),!1):o.webViewer.getIfShowVideoContainer()}},{key:"ShowVideoContainer",value:function(n){var o=this,s=o.GetWebViewer();return p.isUndefined(s)?(U.DWT.UseDefaultViewer?AT(o._stwain):n_(o._stwain),!1):s.webViewer.showVideoContainer(n)}},{key:"UpdateVideoContainer",value:function(n){var o=this,s=o.GetWebViewer();return p.isUndefined(s)?(U.DWT.UseDefaultViewer?AT(o._stwain):n_(o._stwain),!1):s.webViewer.updateVideoImage(n)}},{key:"ClearSelectedAreas",value:function(){var n=this.GetWebViewer();if(n)return n.clearSelectedAreas()}},{key:"OnCloseImageEditor",value:function(){return!!this.GetWebViewer().webViewer.imageEditor&&(this.GetWebViewer().createImageEditor().dispose(),!0)}},{key:"ShowImageEditorEx",value:function(n,o,s,u,d,c,f,m){var _=this;if(this._stwain._isNoViewer())return _._stwain._nouiNotSupport("ShowImageEditorEx");switch(d){case 0:case 1:case 2:break;case 3:if(_.OnCloseImageEditor())return!0}var S,y=document;if(As._getContainer(_._stwain)==f&&(c=!1),f){var b=U.DWT.ContainerMap;if(b){var I,x=Object.keys(b);for(I=0;I<x.length;I++)if(x[I]==f.id){c=!1;break}}}if(c&&f&&(p.isDOM(f)?S=f:pE(f)?(S=document.createElement("div"),f.appendChild(S)):(S=y.getElementById(f))&&S.nodeName!="DIV"&&(c=!1)),c&&f&&p.isDOM(f)){var P=hE(f);if(P){if(U.DWT.IfLoadResources){var L,$,te="";!ue.bFileSystem&&U.DWT.IfResourcesAddTimestamp&&(te=j.timestamp),(L=y.createElement("link")).href=[ps(),"/src/dynamsoft.webtwain.viewer.css",te].join(""),L.rel="stylesheet",L.async=!0,($=y.createElement("link")).href=[ps(),"/src/dynamsoft.webtwain.css",te].join(""),$.rel="stylesheet",$.async=!0,p.scriptOnload(L,function(){p.scriptOnload($,function(){return _.ShowImageEditor(S,c,s,u)}),P.appendChild($)}),P.appendChild(L)}return!0}}return _.ShowImageEditor(S,c,s,u)}},{key:"ShowImageEditor",value:function(n,o,s,u){var d=this;return n&&s&&u?(za.element=n,za.width=s,za.height=u):(za.element=void 0,za.width=void 0,za.height=void 0),za.border=d.GetWebViewer().border,za.selectionRectAspectRatio=d.GetWebViewer().selectionRectAspectRatio,za.workMode=DU.normal,d.GetWebViewer().createImageEditor(za),d._stwain.ErrorCode!=0&&(d.GetWebViewer().webViewer.imageEditor&&d.GetWebViewer().webViewer.imageEditor.dispose(),d.GetWebViewer().createImageEditor(za)),d.GetWebViewer().webViewer.imageEditor&&d.GetWebViewer().webViewer.imageEditor.show(),!0}},{key:"__beforeImageEditorCreated",value:function(n){var o=U.DWT.CustomizableDisplayInfo;if(!p.isUndefined(o)){if(!p.isUndefined(o.buttons)){var s=o.buttons.titles;p.isUndefined(s)||(p.isUndefined(s.previous)||(n.buttons.titles.previous=s.previous),p.isUndefined(s.next)||(n.buttons.titles.next=s.next),p.isUndefined(s.print)||(n.buttons.titles.print=s.print),p.isUndefined(s.scan)||(n.buttons.titles.scan=s.scan),p.isUndefined(s.load)||(n.buttons.titles.load=s.load),p.isUndefined(s.rotateleft)||(n.buttons.titles.rotateleft=s.rotateleft),p.isUndefined(s.rotate)||(n.buttons.titles.rotate=s.rotate),p.isUndefined(s.rotateright)||(n.buttons.titles.rotateright=s.rotateright),p.isUndefined(s.deskew)||(n.buttons.titles.deskew=s.deskew),p.isUndefined(s.crop)||(n.buttons.titles.crop=s.crop),p.isUndefined(s.cut)||(n.buttons.titles.cut=s.cut),p.isUndefined(s.changeimagesize)||(n.buttons.titles.changeimagesize=s.changeimagesize),p.isUndefined(s.flip)||(n.buttons.titles.flip=s.flip),p.isUndefined(s.mirror)||(n.buttons.titles.mirror=s.mirror),p.isUndefined(s.zoomin)||(n.buttons.titles.zoomin=s.zoomin),p.isUndefined(s.originalsize)||(n.buttons.titles.originalsize=s.originalsize),p.isUndefined(s.zoomout)||(n.buttons.titles.zoomout=s.zoomout),p.isUndefined(s.stretch)||(n.buttons.titles.stretch=s.stretch),p.isUndefined(s.fit)||(n.buttons.titles.fit=s.fit),p.isUndefined(s.fitw)||(n.buttons.titles.fitw=s.fitw),p.isUndefined(s.fith)||(n.buttons.titles.fith=s.fith),p.isUndefined(s.hand)||(n.buttons.titles.hand=s.hand),p.isUndefined(s.rectselect)||(n.buttons.titles.rectselect=s.rectselect),p.isUndefined(s.zoom)||(n.buttons.titles.zoom=s.zoom),p.isUndefined(s.restore)||(n.buttons.titles.restore=s.restore),p.isUndefined(s.save)||(n.buttons.titles.save=s.save),p.isUndefined(s.close)||(n.buttons.titles.close=s.close),p.isUndefined(s.removeall)||(n.buttons.titles.removeall=s.removeall),p.isUndefined(s.removeselected)||(n.buttons.titles.removeselected=s.removeselected));var u=o.buttons.bShowAllButtons;p.isUndefined(u)||(n.buttons.bShowAllButtons=u);var d=o.buttons.visibility;p.isUndefined(d)||(p.isUndefined(d.scan)||(n.buttons.visibility.scan=d.scan),p.isUndefined(d.load)||(n.buttons.visibility.load=d.load),p.isUndefined(d.print)||(n.buttons.visibility.print=d.print),p.isUndefined(d.removeall)||(n.buttons.visibility.removeall=d.removeall),p.isUndefined(d.removeselected)||(n.buttons.visibility.removeselected=d.removeselected),p.isUndefined(d.rotateleft)||(n.buttons.visibility.rotateleft=d.rotateleft),p.isUndefined(d.rotate)||(n.buttons.visibility.rotate=d.rotate),p.isUndefined(d.rotateright)||(n.buttons.visibility.rotateright=d.rotateright),p.isUndefined(d.deskew)||(n.buttons.visibility.deskew=d.deskew),p.isUndefined(d.crop)||(n.buttons.visibility.crop=d.crop),p.isUndefined(d.cut)||(n.buttons.visibility.cut=d.cut),p.isUndefined(d.changeimagesize)||(n.buttons.visibility.changeimagesize=d.changeimagesize),p.isUndefined(d.flip)||(n.buttons.visibility.flip=d.flip),p.isUndefined(d.mirror)||(n.buttons.visibility.mirror=d.mirror),p.isUndefined(d.zoomin)||(n.buttons.visibility.zoomin=d.zoomin),p.isUndefined(d.originalsize)||(n.buttons.visibility.originalsize=d.originalsize),p.isUndefined(d.zoomout)||(n.buttons.visibility.zoomout=d.zoomout),p.isUndefined(d.stretch)||(n.buttons.visibility.stretch=d.stretch),p.isUndefined(d.fit)||(n.buttons.visibility.fit=d.fit),p.isUndefined(d.fitw)||(n.buttons.visibility.fitw=d.fitw),p.isUndefined(d.fith)||(n.buttons.visibility.fith=d.fith),p.isUndefined(d.hand)||(n.buttons.visibility.hand=d.hand),p.isUndefined(d.rectselect)||(n.buttons.visibility.rectselect=d.rectselect),p.isUndefined(d.zoom)||(n.buttons.visibility.zoom=d.zoom))}var c=o.dialogText;p.isUndefined(c)||(p.isUndefined(c.dlgRotateAnyAngle)||(n.dialogText.dlgRotateAnyAngle=c.dlgRotateAnyAngle),p.isUndefined(c.dlgChangeImageSize)||(n.dialogText.dlgChangeImageSize=c.dlgChangeImageSize),p.isUndefined(c.saveChangedImage)||(n.dialogText.saveChangedImage=c.saveChangedImage),p.isUndefined(c.selectSource)||(n.dialogText.selectSource=c.selectSource))}}},{key:"__topPageChanged",value:function(n,o,s){s.__fireEvent("onTopImageInTheViewChanged",{index:n,bByScrollBar:o})}},{key:"__click",value:function(n,o){var s=o;s.__fireEvent("onMouseClick",{e:n,x:n.imageX,y:n.imageY,index:s._ImgManager.getCurrentImageIndex()})}},{key:"__rightclick",value:function(n,o){var s=o;s.__fireEvent("onMouseRightClick",{e:n,x:n.imageX,y:n.imageY,index:s._ImgManager.getCurrentImageIndex()})}},{key:"__dblclick",value:function(n,o){var s=o;s.__fireEvent("onMouseDoubleClick",{e:n,x:n.imageX,y:n.imageY,index:s._ImgManager.getCurrentImageIndex()})}},{key:"__mousemove",value:function(n,o){var s=o;s.__fireEvent("onMouseMove",{e:n,x:n.imageX,y:n.imageY,index:s._ImgManager.getCurrentImageIndex()})}},{key:"__pageAreaSelected",value:function(n,o,s){var u=s,d=1;if(o&&o.length>0){var c=o[o.length-1];c.index&&(d=Wt(c.index)+1),u.__fireEvent("onImageAreaSelected",{index:n,left:Wt(c.x),top:Wt(c.y),right:Wt(c.x+c.width),bottom:Wt(c.y+c.height),areaIndex:d})}}},{key:"__pageAreaUnselected",value:function(n,o){o.__fireEvent("onImageAreaDeSelected",n)}},{key:"__dragdone",value:function(n,o){var s=o;p.isFunction(s._stwain.__OnIndexChangeDragDropDone)&&s._stwain.__OnIndexChangeDragDropDone(n)}},{key:"__onDrop",value:function(n,o){var s=o;s.GetWebViewer().webViewer.acceptDrop&&s.__dropEvent(n,s)}},{key:"__dropEvent",value:function(n,o){var s,u,d=o,c=function(b){d._stwain._bIfShowProgressBar&&j.closeProgress(null),b&&ar.output(null,b+" was loaded successfully!")},f=function(b,I,x){d._stwain._bIfShowProgressBar&&j.closeProgress(null),d._stwain._errorCode=b,d._stwain._errorString=I,rC({code:b,message:I}),x&&ar.output(null,x+" failed to load. Error code: "+b+"Error String: "+I)};try{for(var m=n.dataTransfer.files,_=0;_<m.length;_++){if((s=m[_]).type.length==0){var S=void 0,y=s.name.indexOf(".");switch(y>0&&(S=s.name.substring(y+1)),S){case"bmp":u=U.DWT.EnumDWT_ImageType.IT_BMP;break;case"jpg":case"jpeg":u=U.DWT.EnumDWT_ImageType.IT_JPG;break;case"tif":case"tiff":u=U.DWT.EnumDWT_ImageType.IT_TIF;break;case"png":u=U.DWT.EnumDWT_ImageType.IT_PNG;break;case"pdf":u=U.DWT.EnumDWT_ImageType.IT_PDF;break;case"jp2":case"j2k":case"j2c":u=U.DWT.EnumDWT_ImageType.IT_J2K;break;default:ar.output(null,s.name+" failed to load because the file type is not supported!"),u=-1,qR(d._stwain)}}else switch(s.type){case"image/bmp":u=U.DWT.EnumDWT_ImageType.IT_BMP;break;case"image/jpg":case"image/jpeg":u=U.DWT.EnumDWT_ImageType.IT_JPG;break;case"image/tif":case"image/tiff":u=U.DWT.EnumDWT_ImageType.IT_TIF;break;case"image/png":u=U.DWT.EnumDWT_ImageType.IT_PNG;break;case"application/pdf":u=U.DWT.EnumDWT_ImageType.IT_PDF;break;case"image/jp2":u=U.DWT.EnumDWT_ImageType.IT_J2K;break;default:ar.output(null,s.name+" failed to load because the file type is not supported!"),u=-1,qR(d._stwain)}u!=-1&&(d._stwain._bIfShowProgressBar?j.showProgress(d._stwain,"DropLoading",d._stwain.IfShowCancelDialogWhenImageTransfer):j.hideProgress(),d._stwain._OnPercentDone([0,-1,br.Loading]),d._stwain.Addon&&d._stwain.Addon.PDF&&_t.checkProductKey(d._stwain,{PDFRasterizer:!0},!0),function(b){var I=new FileReader;I.readAsDataURL(b),I.onload=function(){var x=d._stwain.__GetLoadEventsNum();d._stwain.__LoadImageFromBytesV2(b,u,"",!0,0,b.size,!1,x,c,f)},I.onerror=function(x){cl(d._stwain),d._stwain._errorString=this.error,f(d._stwain._errorCode,d._stwain._getErrorString())}}(m[_]))}}catch(b){p.error(b.stack||b,"error"),setTimeout(function(){throw b},0)}}},{key:"__pageChange",value:function(n,o){var s,u=o,d=u._ImgManager.count();p.log("OnPagination"),d<=0?Nn(u._stwain):d!=1&&(!/^\d+$/.test(n)||n<=0?alert(kn.errorMessages.invalidIndex):((s=Wt(n)-1)<0?s=0:s>=d&&(s=d-1),s!=u._ImgManager.getCurrentImageIndex()&&u.GetWebViewer().gotoPage(s)))}},{key:"__bufferChanged",value:function(n,o,s){var u,d=n,c=[],f=-1,m=[];o.operation&&(o.action=o.operation);for(var _=0;_<d._ImgManager.count();_++)(u=d._ImgManager.getCustomDataByIndex(_))&&u.serverId&&c.push(this._ImgManager._serverId2uidFromServer(u.serverId));if(o.imageIds=c,o.curIndex>=0&&(u=d._ImgManager.getCustomDataByIndex(o.curIndex))&&u.serverId&&(f=this._ImgManager._serverId2uidFromServer(u.serverId)),o.currentId=f,o.operation=="modify"&&o.afterStatus.modifiedUid!=""){var S=d._ImgManager.getIndexByUid(o.afterStatus.modifiedUid);S>=0&&(u=d._ImgManager.getCustomDataByIndex(S))&&u.serverId&&(o.modifiedId=this._ImgManager._serverId2uidFromServer(u.serverId))}if(o.afterStatus.selectedUids)for(var y=0;y<o.afterStatus.selectedUids.length;y++){var b=o.afterStatus.selectedUids[y];if(b&&b!=-1){var I=d._ImgManager.getIndexByUid(o.afterStatus.selectedUids[y]);I>=0&&(u=d._ImgManager.getCustomDataByIndex(I))&&u.serverId&&m.push(this._ImgManager._serverId2uidFromServer(u.serverId))}}o.selectedIds=m,p.mix(o,{}),delete o.uids,delete o.currentUid,delete o.selectedUids,delete o.afterStatus,delete o.beforeStatus,delete o.operation,delete o.curIndex,delete o.docUid,d.__fireEvent("onBufferChanged",o)}},{key:"__setError",value:function(n,o,s){var u=s;u._stwain._errorCode=n,u._stwain._errorString=o}},{key:"__acquire",value:function(n,o){var s=n;try{var u=!1;U.DWT.IfConfineMaskWithinTheViewer==1&&(U.DWT.IfConfineMaskWithinTheViewer=!1,u=!0);var d;d=p.isArray(o)&&o.length>=3?o:kn.dialogText.selectSource,s._stwain._selectSourceAsync("SelectSourceAsync",null,d).then(function(){return s._stwain.AcquireImageAsync({IfShowUI:!0,IfCloseSourceAfterAcquire:!0})}).then(function(){u&&(U.DWT.IfConfineMaskWithinTheViewer=!0)}).catch(function(c){p.log("User did not select a source"),u&&(U.DWT.IfConfineMaskWithinTheViewer=!0)})}catch{}}},{key:"__loadImage",value:function(n){try{var o=n,s=null;U.DWT.IfConfineMaskWithinTheViewer&&(s=!0,U.DWT.IfConfineMaskWithinTheViewer=!1),o._stwain._containerElement=void 0,o._stwain.IfShowFileDialog=!0,o._stwain.Addon&&o._stwain.Addon.PDF&&_t.checkProductKey(o._stwain,{PDFRasterizer:!0},!0),o._stwain.LoadImageEx("",5,function(){p.log("Loaded an image successfully."),s!=null&&(U.DWT.IfConfineMaskWithinTheViewer=s)},function(u,d){p.log("Loading failed with the error: "+d),s!=null&&(U.DWT.IfConfineMaskWithinTheViewer=s)})}catch{}}},{key:"__print",value:function(n){var o=n;sn(o._stwain),o._ImgManager.getCurrentImageIndex()<0||o._ImgManager.PrintCurrentImage()}},{key:"__save",value:(r=a(w().mark(function n(o,s,u,d,c){var f,m,_,S,y;return w().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(m="save",sn((f=o)._stwain),!(f._ImgManager.count()<=0||f._ImgManager.getCurrentImageIndex()<0)){b.next=4;break}return b.abrupt("return");case 4:return f._stwain._containerElement=void 0,_=f.__getViewerElement(f,c),Xr(m,_),b.prev=7,S=this._ImgManager.getIndexByUid(s),y=this._ImgManager.convertClientIndexToServerId(S),b.next=12,f._stwain._updateImage(y,u,d);case 12:b.sent,b.next=17;break;case 15:b.prev=15,b.t0=b.catch(7);case 17:return b.prev=17,u=null,kr(m),b.finish(17);case 21:return b.abrupt("return",void 0);case 22:case"end":return b.stop()}},n,this,[[7,15,17,21]])})),function(n,o,s,u,d){return r.apply(this,arguments)})},{key:"__getViewerElement",value:function(n,o){var s,u=n;if(o)if(u.GetWebViewer().webViewer.imageEditor){var d=u.GetWebViewer().createImageEditor();s=d.inner.containerElement.className=="dwt-viewer-imageEditor-fullScreen"?{_containerElement:document.body}:{_containerElement:d.inner.containerElement}}else s=u._stwain;else s=u._stwain;return s}},{key:"__deskew",value:function(n,o,s){var u=this,d="deskew";sn(u._stwain);var c=u._ImgManager.getCurrentImageIndex();if(u._ImgManager.count()<=0||c<0)mo.output(u,"No image in Buffer");else{var f=u.__getViewerElement(u,!0);Xr(d,f),u._stwain.GetSkewAngleFromBinaryAsync(c,o,function(m){s(m[0]),kr(d)},function(){kr(d)})}}},{key:"__remove",value:function(n){var o=this;sn(o._stwain),o._ImgManager.count()<=0||o._ImgManager.getCurrentImageIndex()<0?mo.output(o,"No image in Buffer"):o._stwain.RemoveAllSelectedImages()}},{key:"__removeAll",value:function(n){var o=this;sn(o._stwain),o._ImgManager.count()<=0||o._ImgManager.getCurrentImageIndex()<0?mo.output(o,"No image in Buffer"):o._stwain.RemoveAllImages()}},{key:"__onBindViewer",value:function(n){n&&(As._setContainer(this._stwain,n),n.id&&(U.DWT.ContainerMap[n.id]=this._stwain))}},{key:"__onUnBindViewer",value:function(n){if(n){var o=As._getContainer(this._stwain);if(o)for(;o.firstChild;)o.removeChild(o.firstChild);if(As._setContainer(this._stwain,null),n.id){var s=U.DWT.ContainerMap;n.id in s&&delete U.DWT.ContainerMap[n.id]}}}},{key:"__close",value:function(n){sn(this._stwain),As._closeImageEditorUI(this._stwain)}},{key:"__rotateRightForServer",value:function(n){var o=this;sn(o._stwain);var s=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||s<0?mo.output(o,"No image in Buffer"):o._stwain.RotateRight(s)}},{key:"__rotateForServer",value:function(n,o,s,u){var d=this;sn(d._stwain);var c=d._ImgManager.getCurrentImageIndex();d._ImgManager.count()<=0||c<0?mo.output(d,"No image in Buffer"):d._stwain.RotateEx(c,o,u,s)}},{key:"__rotateLeftForServer",value:function(n){var o=this;sn(o._stwain);var s=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||s<0?mo.output(o,"No image in Buffer"):o._stwain.RotateLeft(s)}},{key:"__deskewForServer",value:function(n){var o=this;sn(o._stwain);var s=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||s<0?mo.output(o,"No image in Buffer"):o._stwain.GetSkewAngleAsync(s).then(function(u){o._stwain.RotateEx(s,u,!0,5,function(){},function(){})})}},{key:"__cropForServer",value:function(n,o){var s=this;sn(s._stwain);var u=s._ImgManager.getCurrentImageIndex();if(s._ImgManager.count()<=0||u<0)mo.output(s,"No image in Buffer");else{var d=o.left,c=o.top,f=d+o.width,m=c+o.height;s._stwain.Crop(u,Wt(d),Wt(c),Wt(f),Wt(m))}}},{key:"__eraseForServer",value:function(n,o){var s=this;sn(s._stwain);var u=s._ImgManager.getCurrentImageIndex();if(s._ImgManager.count()<=0||u<0)mo.output(s,"No image in Buffer");else{var d=o.left,c=o.top,f=d+o.width,m=c+o.height;s._stwain.CutFrameToClipboard(u,Wt(d),Wt(c),Wt(f),Wt(m))}}},{key:"__changeImageSizeForServer",value:function(n,o,s,u){var d=this;sn(d._stwain);var c=d._ImgManager.getCurrentImageIndex();d._ImgManager.count()<=0||c<0?mo.output(d,"No image in Buffer"):d._stwain.ChangeImageSize(c,o,s,u)}},{key:"__flipForServer",value:function(n){var o=this;sn(o._stwain);var s=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||s<0?mo.output(o,"No image in Buffer"):o._stwain.Flip(s)}},{key:"__mirrorForServer",value:function(n){var o=this;sn(o._stwain);var s=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||s<0?mo.output(o,"No image in Buffer"):o._stwain.Mirror(s)}},{key:"__restoreForServer",value:function(n,o){var s=n;if(sn(s._stwain),s._ImgManager.count()<=0||s._ImgManager.getCurrentImageIndex()<0)mo.output(s,"No image in Buffer");else{var u=s._ImgManager.getIndexByUid(o);u>=0&&s.__RestoreImageInner(s,u)}}},{key:"__saveForServer",value:function(n,o){var s=n;return new Te.Promise(function(u,d){sn(s._stwain),(s._ImgManager.count()<=0||s._ImgManager.getCurrentImageIndex()<0)&&(mo.output(s,"No image in Buffer"),u());var c=s._ImgManager.getIndexByUid(o);c>=0?s.__SaveImageInner(s,c,!0,function(){u()}):u()})}},{key:"__RestoreImageInner",value:function(n,o,s){var u=n,d=u._ImgManager.getImageIdMap(u._ImgManager.convertClientIndexToServerId(o));d&&u.__OnGetImageFromServerForEdit(d,o,1,function(c,f,m){if(c){p.log("__RestoreImageInner: "+[c.uuid].join(","));var _=p.clone(c);_.imageId=c.serverId,u._ImgManager.UpdateImage(_,m)}if((c&&c.serverId)==-1)return s&&s(),!1;s&&s()})}},{key:"__SaveImageInner",value:function(n,o,s,u){var d=n,c=d._ImgManager.getImageIdMap(d._ImgManager.convertClientIndexToServerId(o));return c&&d.__OnGetImageFromServerForEdit(c,o,2,function(f,m,_){if(f){if(s==1&&(p.log("__SaveImageInner: "+[f.uuid].join(",")),d._ImgManager.getCurrentImageIndex()==m)){var S=p.clone(f);S.imageId=f.serverId,d._ImgManager.UpdateImage(S,_)}if(f.serverId==-1)return u&&u(),!1}return u&&u(),!0}),!0}},{key:"__OnGetImageFromServerForEdit",value:function(n,o,s,u){var d=this;if(u&&d._ImgManager.getBaseUrl){var c=d._ImgManager.convertClientIndexToServerId(o);if(c==-1)return!1;U.DWT.ConnectWithSocket?u():Po({method:"GET",xhrFields:{withCredentials:!0},url:ar.getUrlByAct(d._ImgManager.getBaseUrl,c,s),onSuccess:function(f){var m;n.ticks=Date.now(),m=U.navInfoSync.bMobile?ar.getImageUrl(d._ImgManager.getBaseUrl,c,Math.round(n.iImageControlWidth*devicePixelRatio),Math.round(n.iImageControlHeight*devicePixelRatio),n.ticks):ar.getImageUrl(d._ImgManager.getBaseUrl,c,Wt(n.iImageControlWidth),Wt(n.iImageControlHeight),n.ticks),n.imageUrl=ar.getImageUrl(d._ImgManager.getBaseUrl,c,-1,-1,n.ticks),n.minImageUrl=m;var _=d._ImgManager.GetMetaDataByIndex(o);if(_){var S=d._ImgManager.getImageIdMap(c);S&&S.width?_.width=S.width:_.width=d._stwain.GetImageWidth(o),S&&S.height?_.height=S.height:_.height=d._stwain.GetImageHeight(o)}u(n,o,_)},onError:function(){}})}return!0}}]);var r}(),NU=function(r){function n(o,s){var u;h(this,n);var d=u=l(this,n,[s]);return d._stwain=o,d.bImageJustChangedInEditor=!1,d.bImageChangedInViewer=!1,u}return D(n,r),v(n,[{key:"getUidByIndex",value:function(o){return this._buffer.getUidByIndex(o)}},{key:"dispose",value:function(){return!0}},{key:"append",value:function(o,s,u,d,c){var f,m,_,S,y,b=this;(this._buffer.isActiveFile||!p.isUndefined(c))&&d.currentFileName&&d.currentFileName.length>0?y=m=b.getCountByDocumentName(d.currentFileName):(m=b.count(),y=b.getCountByDocumentName(b.GetCurrentFileName())),_=b.getCurrentImageIndex();for(var I=m-1;I>=o;I--)S=b.convertClientIndexToServerId(I),b.removeByServerId(S,I);return m<o?(f=y,b._updateUIAfterAdd(f,s,u,d,!0)):(f=_>=m-1?0:_+1,S=b.convertClientIndexToServerId(f),b.removeByServerId(S,f),f==o-1?b._updateUIAfterAdd(f,s,u,d,!0):b._updateUIAfterAdd(f,s,u,d,!1))}},{key:"insertBefore",value:function(o,s,u,d,c){var f,m=1*o;return(m<0||m>s)&&(m=-1),m>=(f=this.count())&&(m=f),this._updateUIAfterAdd(m,u,d,c,!1)}},{key:"exists",value:function(o){return!p.isUndefined(this.getImageIdMap(o))}},{key:"insert",value:function(o,s,u,d,c){var f,m=1*o;return(m<0||m>s)&&(m=-1),m>=(f=this.count())&&(m=f),this._updateUIAfterAdd(m,u,d,c,!1)}},{key:"moveImage",value:function(o,s,u){return this._buffer.moveImage(o,s)}},{key:"switchImage",value:function(o,s){return this._buffer.switchImage(o,s)}},{key:"setSelectedClientIndexArray",value:function(o){return this._buffer.selectImages(o)}},{key:"getSelectedClientIndexArray",value:function(o){return this._buffer.getSelectedImagesIndices()}},{key:"showImagesByFilter",value:function(o,s,u){return this._buffer.filterImagesByTag(o,s,u)}},{key:"clearFilter",value:function(){return this._buffer.clearFilter()}},{key:"removeImageTag",value:function(o){return this._buffer.removeImageTag(o)}},{key:"addImageTag",value:function(o,s){return this._buffer.tagImages(o,s)}},{key:"getCurrentTag",value:function(){var o;return(o=this._buffer.getCurrentTag())==0?"":o}},{key:"renameTag",value:function(o,s){return this._buffer.renameTag(o,s)}},{key:"removeTag",value:function(o,s){return this._buffer.removeTag(o,s)}},{key:"getTagList",value:function(){return this._buffer.getTagList()}},{key:"getTagListByIndex",value:function(o){return this._buffer.getTagListByIndex(o)}},{key:"OpenFile",value:function(o){return this._buffer.openDocument(o)}},{key:"CreateFile",value:function(o){return this._buffer.createDocument(o)}},{key:"GetCurrentFileName",value:function(){return this._buffer.getCurrentFileName()}},{key:"RemoveFile",value:function(o){return this._buffer.removeDocument(o)}},{key:"RenameFile",value:function(o,s){return this._buffer.renameDocument(o,s)}},{key:"GetFileInfoList",value:function(){return this._buffer.getDocumentInfoList()}},{key:"MoveImageToFile",value:function(o,s,u,d){return this._buffer.moveImageToFile(o,s,u,d)}},{key:"GetServerIdsByFileName",value:function(o){var s,u=this,d=[];return(s=u.GetFileInfoList())?p.each(s,function(c){if(o==c.name){if(c.imageIds)for(var f=0;f<c.imageIds.length;f++){var m=c.imageIds[f];if(m&&m!=-1){var _=u._stwain._uidFromServer2ServerId(m);_>0&&d.push(_)}}return!1}}):d=[],d}},{key:"insertImage",value:function(o,s,u){this._buffer.insertImage(s,o,u)}},{key:"GetMetaDataByIndex",value:function(o){return this._buffer.getMetadataByUid(this._buffer.getUidByIndex(o))}},{key:"RefreshAllImages",value:function(o,s){for(var u,d,c,f=this,m=0;m<f.count();m++){u=f.convertClientIndexToServerId(m);var _=f.getImageIdMap(u);if(_){c=f.GetMetaDataByIndex(m),d=U.navInfoSync.bMobile?ar.getImageUrl(f._baseUrl,u,Math.round(o*devicePixelRatio),Math.round(s*devicePixelRatio),Date.now()):ar.getImageUrl(f._baseUrl,u,o,s,Date.now());var S=p.clone(_);S.imageId=u,S.minImageUrl=d,f._buffer.updateImage(S,c)}}}},{key:"UpdateData",value:function(o,s){var u=o,d=this.getImageIdMap(u);if(d){var c=p.clone(d);c.imageId=o,this._buffer.updateImage(c,s)}return!0}},{key:"UpdateImage",value:function(o,s){return this._buffer.updateImage(o,s),!0}},{key:"_setDataImageControl",value:function(o,s,u){var d,c,f,m,_=this;if(u)f=o;else if(f=(c=_.getCustomDataByIndex(o)).serverId,m=c.uidFromServer,f<=0)return!1;return(d=_.getImageIdMap(f))||((d=new b_).serverId=f,d.uidFromServer=m,s&&(s.height&&(d.height=s.height),s.width&&(d.width=s.width)),_._serverIdMap[f]=d,_._uidMap[m]=d),s&&(s.height&&(d.height=s.height),s.width&&(d.width=s.width)),d!=null&&(d.bIsDirty=!0),_.__GetImageAndAttach(d,f,!0,!1,!1,o,s),!0}},{key:"__AttachImages",value:function(){var o,s,u,d=this;s=d.count();for(var c=0;c<s;c++)(o=d.convertClientIndexToServerId(c))>=0&&(u=d.getImageIdMap(o))&&d.__GetImageAndAttach(u,o,!0,!1,!1,0)}},{key:"AddImage",value:function(o,s,u,d,c){var f,m=this,_=1*o;return!(s<=0)&&((f=new b_).bIsDirty=!0,f.serverId=s,f.uidFromServer=u,m._serverIdMap[s]=f,m._uidMap[u]=f,s>=0&&m.__GetImageAndAttach(f,s,!1,!0,c,_,d),!0)}},{key:"OnGetImageByURL",value:function(o,s,u,d,c,f,m,_){return s.imageUrl&&s.imageUrl!=""?(s.iImageControlWidth=u,s.iImageControlHeight=d,s.bAddImage=c,s.bAppendImage=f,s.index=m,this._attachImagesForControl(s,_),!0):this.OnGetImageFromServer(o,s,u,d,c,f,m,_)}},{key:"OnGetImageFromServer",value:function(o,s,u,d,c,f,m,_){var S,y,b=this,I=b._baseUrl;if(I){if(o<=0)return!1;s.bIsDirty&&(s.ticks=Date.now()),p.isUndefined(u)&&(u=-1),p.isUndefined(d)&&(d=-1),s.iImageControlWidth=u,s.iImageControlHeight=d,s.bAddImage=c,s.bAppendImage=f,s.index=m,U.DWT.ConnectWithSocket&&b._stwain._isBindViewer()?(b._attachImagesForControl(s,_),As._getblob_queue.push([b._stwain,o,_]),As.ProcessGetBlobByQueue()):(S=ar.getImageUrl(I,o,-1,-1,s.ticks),y=U.navInfoSync.bMobile?ar.getImageUrl(I,o,Math.round(u*devicePixelRatio),Math.round(d*devicePixelRatio),s.ticks):ar.getImageUrl(I,o,u,d,s.ticks),s.imageUrl=S,s.minImageUrl=y,b._attachImagesForControl(s,_))}return!0}},{key:"getBaseUrl",get:function(){return this._baseUrl}},{key:"_attachImagesForControl",value:function(o,s){var u,d,c=this;if((d=p.clone(o)).imageId=d.serverId,d.bAddImage){if(u=s.currentFileName.length>0?c._buffer.addImage(d,s,s.currentFileName):c._buffer.addImage(d,s)){var f=N(u,1)[0],m=this.getImageIdMap(d.serverId);m&&(m.uuid=f);var _=this._buffer.getCustomDataByUid(f);_&&(_.serverId&&d&&d.serverId&&(_.serverId=d.serverId),_.uidFromServer&&(_.uidFromServer=d.uidFromServer))}}else c._buffer.updateImage(d,s);return!0}},{key:"_updateUIAfterAdd",value:function(o,s,u,d,c){return!(s<0)&&this.AddImage(o,s,u,d,c)}},{key:"__GetImageAndAttach",value:function(o,s,u,d,c,f,m){var _,S,y,b=this;b._stwain._isBindViewer()?(y=b._stwain.Viewer.height>=400?b._stwain.Viewer.height:400,S=b._stwain.Viewer.width>=400?b._stwain.Viewer.width:400):(S=-1,y=-1);var I=!1;I=!!u||o.bIsDirty==1;var x=(_=b.getImageIdMap(s))===null||_===void 0?void 0:_.uuid;x&&x!=-1&&o.iImageControlWidth==S&&o.iImageControlHeight==y&&o.bIsDirty==0||b.__SetArrayControlLoadImage(s,o,S,y,I,d,c,f,m)}},{key:"__SetArrayControlLoadImage",value:function(o,s,u,d,c,f,m,_,S){c?this.OnGetImageFromServer(o,s,u,d,f,m,_,S):this.OnGetImageByURL(o,s,u,d,f,m,_,S)}},{key:"GetServerIdList",value:function(){var o,s,u,d=this,c=[];if(o=d._buffer.getDocumentContents(d._buffer.getCurrentDocument()))for(var f=0;f<o.length;f++)(s=o[f])&&s!=-1&&(u=d._buffer.getCustomDataByUid(s))&&c.push(u.serverId);return c}}])}(bf);function gE(){var r=window.Dynamsoft.Lib.Promise;if(_g)return r.resolve(_g);var n,o=navigator;if(o&&"userAgentData"in o){var s=navigator.userAgentData;if(s.platform&&s.platform!=""){var u=[];if("brands"in s&&p.isArray(s.brands)&&s.brands.length>0?u=s.brands:"uaList"in s&&p.isArray(s.uaList)&&s.uaList.length>0&&(u=s.uaList),u.length>0)return(n=function(d){var c=ue,f=d.architecture.toLowerCase(),m=d.bitness=="64",_=f.indexOf("arm")>-1,S=f.indexOf("mips")>-1;return{bUseUserAgent:!1,bWin:c.bWin,bMac:c.bMac,bLinux:c.bLinux,bAndroid:c.bAndroid,bMobile:c.bMobile,bPad:c.bPad,bChromeOS:c.bChromeOS,bHarmonyOS:c.bHarmonyOS,bArm64:_,bMips64:S,bEmbed:_||S,bOSx64:m,bIE:!1,bEdge:c.bEdge,bChrome:c.bChrome,bFirefox:c.bFirefox,bSafari:c.bSafari,bOpera:c.bOpera,bGecko:!0,bHuaWeiBrowser:!1,bHTML5Edition:!0,strBrowserVersion:c.strBrowserVersion,IEMode:0}},navigator.userAgentData.getHighEntropyValues(["platform","platformVersion","architecture","bitness"]).then(n)).then(function(d){return _g=d,d})}}return _g=ue,r.resolve(_g)}var mE=0,vE=[],_E=!(!document||!document.addEventListener),MU="DOMContentLoaded",LU="readystatechange",WU="load",BU="complete",yE=_E?function(r,n,o){r.addEventListener(n,o,!1)}:function(r,n,o){r.attachEvent("on"+n,o)},SE=_E?function(r,n,o){r.removeEventListener(n,o,!1)}:function(r,n,o){r.detachEvent("on"+n,o)};function If(){mE||(mE=1,gE().then(function(){document&&SE(window,WU,If),function(){for(var r=function(){try{vE[n]()}catch(o){p.log(o,"error"),setTimeout(function(){throw o},0)}},n=0;n<vE.length;n++)r()}()}))}function yg(r){if(mE)try{r()}catch(n){p.log(n,"error"),setTimeout(function(){throw n},0)}else vE.push(r);return this}var zce=function(r){var n=r||window.event,o=!0;return p.each(Te.Events.registedObjs,function(s){p.each(Te.Events.registedClass,function(u){if(s instanceof u&&s.bFocus&&s.handlerKeyDown&&!(o=s.handlerKeyDown(n)))return!1})}),o};function bE(r,n){for(var o in n)n.hasOwnProperty(o)&&!p.isUndefined(n[o])&&(r.hasOwnProperty(o)&&!p.isUndefined(r[o])||(r[o]=n[o]));return r}yg(function(){p.addEventListener(document.documentElement,"keydown",zce)}),bE(U.DWT,ko),bE(U.DWT,z9),U.DWT.CertificateConfig?bE(U.DWT.CertificateConfig,vT):U.DWT.CertificateConfig=vT,U.DWT.RegisterEvent=function(r,n){if(p.isUndefined(r))throw{code:-2314,message:"The parameter cannot be empty."};if(!p.isString(r)||p.isString(r)&&r.trim().length==0||p.isUndefined(n)||!p.isFunction(n))throw{code:-2416,message:"Invalid parameter."};return p.isFunction(n)&&(U.DWT[r]=n),!0};var ks=function(r){return r.CAP_NONE=0,r.CAP_XFERCOUNT=1,r.ICAP_COMPRESSION=256,r.ICAP_PIXELTYPE=257,r.ICAP_UNITS=258,r.ICAP_XFERMECH=259,r.CAP_AUTHOR=4096,r.CAP_CAPTION=4097,r.CAP_FEEDERENABLED=4098,r.CAP_FEEDERLOADED=4099,r.CAP_TIMEDATE=4100,r.CAP_SUPPORTEDCAPS=4101,r.CAP_EXTENDEDCAPS=4102,r.CAP_AUTOFEED=4103,r.CAP_CLEARPAGE=4104,r.CAP_FEEDPAGE=4105,r.CAP_REWINDPAGE=4106,r.CAP_INDICATORS=4107,r.CAP_SUPPORTEDCAPSEXT=4108,r.CAP_PAPERDETECTABLE=4109,r.CAP_UICONTROLLABLE=4110,r.CAP_DEVICEONLINE=4111,r.CAP_AUTOSCAN=4112,r.CAP_THUMBNAILSENABLED=4113,r.CAP_DUPLEX=4114,r.CAP_DUPLEXENABLED=4115,r.CAP_ENABLEDSUIONLY=4116,r.CAP_CUSTOMDSDATA=4117,r.CAP_ENDORSER=4118,r.CAP_ALARMS=4120,r.CAP_ALARMVOLUME=4121,r.CAP_AUTOMATICCAPTURE=4122,r.CAP_TIMEBEFOREFIRSTCAPTURE=4123,r.CAP_TIMEBETWEENCAPTURES=4124,r.CAP_CLEARBUFFERS=4125,r.CAP_MAXBATCHBUFFERS=4126,r.CAP_DEVICETIMEDATE=4127,r.CAP_POWERSUPPLY=4128,r.CAP_CAMERAPREVIEWUI=4129,r.CAP_SERIALNUMBER=4132,r.CAP_PRINTER=4134,r.CAP_PRINTERENABLED=4135,r.CAP_PRINTERINDEX=4136,r.CAP_PRINTERMODE=4137,r.CAP_PRINTERSTRING=4138,r.CAP_PRINTERSUFFIX=4139,r.CAP_LANGUAGE=4140,r.CAP_FEEDERALIGNMENT=4141,r.CAP_FEEDERORDER=4142,r.CAP_REACQUIREALLOWED=4144,r.CAP_BATTERYMINUTES=4146,r.CAP_BATTERYPERCENTAGE=4147,r.CAP_CAMERASIDE=4148,r.CAP_SEGMENTED=4149,r.CAP_CAMERAENABLED=4150,r.CAP_CAMERAORDER=4151,r.CAP_MICRENABLED=4152,r.CAP_FEEDERPREP=4153,r.CAP_FEEDERPOCKET=4154,r.CAP_AUTOMATICSENSEMEDIUM=4155,r.CAP_CUSTOMINTERFACEGUID=4156,r.ICAP_AUTOBRIGHT=4352,r.ICAP_BRIGHTNESS=4353,r.ICAP_CONTRAST=4355,r.ICAP_CUSTHALFTONE=4356,r.ICAP_EXPOSURETIME=4357,r.ICAP_FILTER=4358,r.ICAP_FLASHUSED=4359,r.ICAP_GAMMA=4360,r.ICAP_HALFTONES=4361,r.ICAP_HIGHLIGHT=4362,r.ICAP_IMAGEFILEFORMAT=4364,r.ICAP_LAMPSTATE=4365,r.ICAP_LIGHTSOURCE=4366,r.ICAP_ORIENTATION=4368,r.ICAP_PHYSICALWIDTH=4369,r.ICAP_PHYSICALHEIGHT=4370,r.ICAP_SHADOW=4371,r.ICAP_FRAMES=4372,r.ICAP_XNATIVERESOLUTION=4374,r.ICAP_YNATIVERESOLUTION=4375,r.ICAP_XRESOLUTION=4376,r.ICAP_YRESOLUTION=4377,r.ICAP_MAXFRAMES=4378,r.ICAP_TILES=4379,r.ICAP_BITORDER=4380,r.ICAP_CCITTKFACTOR=4381,r.ICAP_LIGHTPATH=4382,r.ICAP_PIXELFLAVOR=4383,r.ICAP_PLANARCHUNKY=4384,r.ICAP_ROTATION=4385,r.ICAP_SUPPORTEDSIZES=4386,r.ICAP_THRESHOLD=4387,r.ICAP_XSCALING=4388,r.ICAP_YSCALING=4389,r.ICAP_BITORDERCODES=4390,r.ICAP_PIXELFLAVORCODES=4391,r.ICAP_JPEGPIXELTYPE=4392,r.ICAP_TIMEFILL=4394,r.ICAP_BITDEPTH=4395,r.ICAP_BITDEPTHREDUCTION=4396,r.ICAP_UNDEFINEDIMAGESIZE=4397,r.ICAP_EXTIMAGEINFO=4399,r.ICAP_MINIMUMHEIGHT=4400,r.ICAP_MINIMUMWIDTH=4401,r.ICAP_AUTODISCARDBLANKPAGES=4404,r.ICAP_FLIPROTATION=4406,r.ICAP_BARCODEDETECTIONENABLED=4407,r.ICAP_SUPPORTEDBARCODETYPES=4408,r.ICAP_BARCODEMAXSEARCHPRIORITIES=4409,r.ICAP_BARCODESEARCHPRIORITIES=4410,r.ICAP_BARCODESEARCHMODE=4411,r.ICAP_BARCODEMAXRETRIES=4412,r.ICAP_BARCODETIMEOUT=4413,r.ICAP_ZOOMFACTOR=4414,r.ICAP_PATCHCODEDETECTIONENABLED=4415,r.ICAP_SUPPORTEDPATCHCODETYPES=4416,r.ICAP_PATCHCODEMAXSEARCHPRIORITIES=4417,r.ICAP_PATCHCODESEARCHPRIORITIES=4418,r.ICAP_PATCHCODESEARCHMODE=4419,r.ICAP_PATCHCODEMAXRETRIES=4420,r.ICAP_PATCHCODETIMEOUT=4421,r.ICAP_FLASHUSED2=4422,r.ICAP_IMAGEFILTER=4423,r.ICAP_NOISEFILTER=4424,r.ICAP_OVERSCAN=4425,r.ICAP_AUTOMATICBORDERDETECTION=4432,r.ICAP_AUTOMATICDESKEW=4433,r.ICAP_AUTOMATICROTATE=4434,r.ICAP_JPEGQUALITY=4435,r.ICAP_FEEDERTYPE=4436,r.ICAP_ICCPROFILE=4437,r.ICAP_AUTOSIZE=4438,r.ICAP_AUTOMATICCROPUSESFRAME=4439,r.ICAP_AUTOMATICLENGTHDETECTION=4440,r.ICAP_AUTOMATICCOLORENABLED=4441,r.ICAP_AUTOMATICCOLORNONCOLORPIXELTYPE=4442,r.ICAP_COLORMANAGEMENTENABLED=4443,r.ICAP_IMAGEMERGE=4444,r.ICAP_IMAGEMERGEHEIGHTTHRESHOLD=4445,r.ICAP_SUPPORTEDEXTIMAGEINFO=4446,r}({}),Hce=function(r){return r.TWLG_DAN=0,r.TWLG_DUT=1,r.TWLG_ENG=2,r.TWLG_FCF=3,r.TWLG_FIN=4,r.TWLG_FRN=5,r.TWLG_GER=6,r.TWLG_ICE=7,r.TWLG_ITN=8,r.TWLG_NOR=9,r.TWLG_POR=10,r.TWLG_SPA=11,r.TWLG_SWE=12,r.TWLG_USA=13,r.TWLG_USERLOCALE=-1,r.TWLG_AFRIKAANS=14,r.TWLG_ALBANIA=15,r.TWLG_ARABIC=16,r.TWLG_ARABIC_ALGERIA=17,r.TWLG_ARABIC_BAHRAIN=18,r.TWLG_ARABIC_EGYPT=19,r.TWLG_ARABIC_IRAQ=20,r.TWLG_ARABIC_JORDAN=21,r.TWLG_ARABIC_KUWAIT=22,r.TWLG_ARABIC_LEBANON=23,r.TWLG_ARABIC_LIBYA=24,r.TWLG_ARABIC_MOROCCO=25,r.TWLG_ARABIC_OMAN=26,r.TWLG_ARABIC_QATAR=27,r.TWLG_ARABIC_SAUDIARABIA=28,r.TWLG_ARABIC_SYRIA=29,r.TWLG_ARABIC_TUNISIA=30,r.TWLG_ARABIC_UAE=31,r.TWLG_ARABIC_YEMEN=32,r.TWLG_BASQUE=33,r.TWLG_BYELORUSSIAN=34,r.TWLG_BULGARIAN=35,r.TWLG_CATALAN=36,r.TWLG_CHINESE=37,r.TWLG_CHINESE_HONGKONG=38,r.TWLG_CHINESE_PRC=39,r.TWLG_CHINESE_SINGAPORE=40,r.TWLG_CHINESE_SIMPLIFIED=41,r.TWLG_CHINESE_TAIWAN=42,r.TWLG_CHINESE_TRADITIONAL=43,r.TWLG_CROATIA=44,r.TWLG_CZECH=45,r.TWLG_DANISH=0,r.TWLG_DUTCH=1,r.TWLG_DUTCH_BELGIAN=46,r.TWLG_ENGLISH=2,r.TWLG_ENGLISH_AUSTRALIAN=47,r.TWLG_ENGLISH_CANADIAN=48,r.TWLG_ENGLISH_IRELAND=49,r.TWLG_ENGLISH_NEWZEALAND=50,r.TWLG_ENGLISH_SOUTHAFRICA=51,r.TWLG_ENGLISH_UK=52,r.TWLG_ENGLISH_USA=13,r.TWLG_ESTONIAN=53,r.TWLG_FAEROESE=54,r.TWLG_FARSI=55,r.TWLG_FINNISH=4,r.TWLG_FRENCH=5,r.TWLG_FRENCH_BELGIAN=56,r.TWLG_FRENCH_CANADIAN=3,r.TWLG_FRENCH_LUXEMBOURG=57,r.TWLG_FRENCH_SWISS=58,r.TWLG_GERMAN=6,r.TWLG_GERMAN_AUSTRIAN=59,r.TWLG_GERMAN_LUXEMBOURG=60,r.TWLG_GERMAN_LIECHTENSTEIN=61,r.TWLG_GERMAN_SWISS=62,r.TWLG_GREEK=63,r.TWLG_HEBREW=64,r.TWLG_HUNGARIAN=65,r.TWLG_ICELANDIC=7,r.TWLG_INDONESIAN=66,r.TWLG_ITALIAN=8,r.TWLG_ITALIAN_SWISS=67,r.TWLG_JAPANESE=68,r.TWLG_KOREAN=69,r.TWLG_KOREAN_JOHAB=70,r.TWLG_LATVIAN=71,r.TWLG_LITHUANIAN=72,r.TWLG_NORWEGIAN=9,r.TWLG_NORWEGIAN_BOKMAL=73,r.TWLG_NORWEGIAN_NYNORSK=74,r.TWLG_POLISH=75,r.TWLG_PORTUGUESE=10,r.TWLG_PORTUGUESE_BRAZIL=76,r.TWLG_ROMANIAN=77,r.TWLG_RUSSIAN=78,r.TWLG_SERBIAN_LATIN=79,r.TWLG_SLOVAK=80,r.TWLG_SLOVENIAN=81,r.TWLG_SPANISH=11,r.TWLG_SPANISH_MEXICAN=82,r.TWLG_SPANISH_MODERN=83,r.TWLG_SWEDISH=12,r.TWLG_THAI=84,r.TWLG_TURKISH=85,r.TWLG_UKRANIAN=86,r.TWLG_ASSAMESE=87,r.TWLG_BENGALI=88,r.TWLG_BIHARI=89,r.TWLG_BODO=90,r.TWLG_DOGRI=91,r.TWLG_GUJARATI=92,r.TWLG_HARYANVI=93,r.TWLG_HINDI=94,r.TWLG_KANNADA=95,r.TWLG_KASHMIRI=96,r.TWLG_MALAYALAM=97,r.TWLG_MARATHI=98,r.TWLG_MARWARI=99,r.TWLG_MEGHALAYAN=100,r.TWLG_MIZO=101,r.TWLG_NAGA=102,r.TWLG_ORISSI=103,r.TWLG_PUNJABI=104,r.TWLG_PUSHTU=105,r.TWLG_SERBIAN_CYRILLIC=106,r.TWLG_SIKKIMI=107,r.TWLG_SWEDISH_FINLAND=108,r.TWLG_TAMIL=109,r.TWLG_TELUGU=110,r.TWLG_TRIPURI=111,r.TWLG_URDU=112,r.TWLG_VIETNAMESE=113,r}({}),$ce=function(r){return r.TWSS_NONE=0,r.TWSS_A4LETTER=1,r.TWSS_B5LETTER=2,r.TWSS_USLETTER=3,r.TWSS_USLEGAL=4,r.TWSS_A5=5,r.TWSS_B4=6,r.TWSS_B6=7,r.TWSS_USLEDGER=9,r.TWSS_USEXECUTIVE=10,r.TWSS_A3=11,r.TWSS_B3=12,r.TWSS_A6=13,r.TWSS_C4=14,r.TWSS_C5=15,r.TWSS_C6=16,r.TWSS_4A0=17,r.TWSS_2A0=18,r.TWSS_A0=19,r.TWSS_A1=20,r.TWSS_A2=21,r.TWSS_A4=1,r.TWSS_A7=22,r.TWSS_A8=23,r.TWSS_A9=24,r.TWSS_A10=25,r.TWSS_ISOB0=26,r.TWSS_ISOB1=27,r.TWSS_ISOB2=28,r.TWSS_ISOB3=12,r.TWSS_ISOB4=6,r.TWSS_ISOB5=29,r.TWSS_ISOB6=7,r.TWSS_ISOB7=30,r.TWSS_ISOB8=31,r.TWSS_ISOB9=32,r.TWSS_ISOB10=33,r.TWSS_JISB0=34,r.TWSS_JISB1=35,r.TWSS_JISB2=36,r.TWSS_JISB3=37,r.TWSS_JISB4=38,r.TWSS_JISB5=2,r.TWSS_JISB6=39,r.TWSS_JISB7=40,r.TWSS_JISB8=41,r.TWSS_JISB9=42,r.TWSS_JISB10=43,r.TWSS_C0=44,r.TWSS_C1=45,r.TWSS_C2=46,r.TWSS_C3=47,r.TWSS_C7=48,r.TWSS_C8=49,r.TWSS_C9=50,r.TWSS_C10=51,r.TWSS_USSTATEMENT=52,r.TWSS_BUSINESSCARD=53,r.TWSS_MAXSIZE=54,r}({}),Kce=function(r){return r.TWON_NONE=0,r.TWON_ARRAY=3,r.TWON_ENUMERATION=4,r.TWON_ONEVALUE=5,r.TWON_RANGE=6,r}({}),Yce=function(r){return r.TWTY_INT8=0,r.TWTY_INT16=1,r.TWTY_INT32=2,r.TWTY_UINT8=3,r.TWTY_UINT16=4,r.TWTY_int=5,r.TWTY_BOOL=6,r.TWTY_FIX32=7,r.TWTY_FRAME=8,r.TWTY_STR32=9,r.TWTY_STR64=10,r.TWTY_STR128=11,r.TWTY_STR255=12,r}({}),Qce=function(r){return r.TWFA_NONE=0,r.TWFA_LEFT=1,r.TWFA_CENTER=2,r.TWFA_RIGHT=3,r}({}),Xce=function(r){return r.TWFO_FIRSTPAGEFIRST=0,r.TWFO_LASTPAGEFIRST=1,r}({}),Jce=function(r){return r.TWPR_IMPRINTERTOPBEFORE=0,r.TWPR_IMPRINTERTOPAFTER=1,r.TWPR_IMPRINTERBOTTOMBEFORE=2,r.TWPR_IMPRINTERBOTTOMAFTER=3,r.TWPR_ENDORSERTOPBEFORE=4,r.TWPR_ENDORSERTOPAFTER=5,r.TWPR_ENDORSERBOTTOMBEFORE=6,r.TWPR_ENDORSERBOTTOMAFTER=7,r}({}),qce=function(r){return r.TWPM_SINGLESTRING=0,r.TWPM_MULTISTRING=1,r.TWPM_COMPOUNDSTRING=2,r}({}),Zce=function(r){return r.TWBR_THRESHOLD=0,r.TWBR_HALFTONE=1,r.TWBR_CUSTHALFTONE=2,r.TWBR_DIFFUSION=3,r}({}),ele=function(r){return r.TWBO_LSBFIRST=0,r.TWBO_MSBFIRST=1,r}({}),tle=function(r){return r.TWFT_RED=0,r.TWFT_GREEN=1,r.TWFT_BLUE=2,r.TWFT_NONE=3,r.TWFT_WHITE=4,r.TWFT_CYAN=5,r.TWFT_MAGENTA=6,r.TWFT_YELLOW=7,r.TWFT_BLACK=8,r}({}),rle=function(r){return r.TWFL_NONE=0,r.TWFL_OFF=1,r.TWFL_ON=2,r.TWFL_AUTO=3,r.TWFL_REDEYE=4,r}({}),nle=function(r){return r.TWFR_BOOK=0,r.TWFR_FANFOLD=1,r}({}),ile=function(r){return r.TWIF_NONE=0,r.TWIF_AUTO=1,r.TWIF_LOWPASS=2,r.TWIF_BANDPASS=3,r.TWIF_HIGHPASS=4,r.TWIF_TEXT=3,r.TWIF_FINELINE=4,r}({}),ole=function(r){return r.TWLP_REFLECTIVE=0,r.TWLP_TRANSMISSIVE=1,r}({}),ale=function(r){return r.TWLS_RED=0,r.TWLS_GREEN=1,r.TWLS_BLUE=2,r.TWLS_NONE=3,r.TWLS_WHITE=4,r.TWLS_UV=5,r.TWLS_IR=6,r}({}),sle=function(r){return r.TWNF_NONE=0,r.TWNF_AUTO=1,r.TWNF_LONEPIXEL=2,r.TWNF_MAJORITYRULE=3,r}({}),ule=function(r){return r.TWOR_ROT0=0,r.TWOR_ROT90=1,r.TWOR_ROT180=2,r.TWOR_ROT270=3,r.TWOR_PORTRAIT=0,r.TWOR_LANDSCAPE=3,r.TWOR_AUTO=4,r.TWOR_AUTOTEXT=5,r.TWOR_AUTOPICTURE=6,r}({}),cle=function(r){return r.TWOV_NONE=0,r.TWOV_AUTO=1,r.TWOV_TOPBOTTOM=2,r.TWOV_LEFTRIGHT=3,r.TWOV_ALL=4,r}({}),lle=function(r){return r.TWPF_CHOCOLATE=0,r.TWPF_VANILLA=1,r}({}),dle=function(r){return r.TWPC_CHUNKY=0,r.TWPC_PLANAR=1,r}({}),Ol=function(r){return r.Info=1,r.Error=2,r.NotInstalledError=3,r}({}),TE=function(r){return r.Binary=0,r.Base64=1,r}({}),UU=function(r){return r.TWPT_BW=0,r.TWPT_GRAY=1,r.TWPT_RGB=2,r.TWPT_PALLETE=3,r.TWPT_CMY=4,r.TWPT_CMYK=5,r.TWPT_YUV=6,r.TWPT_YUVK=7,r.TWPT_CIEXYZ=8,r.TWPT_LAB=9,r.TWPT_SRGB=10,r.TWPT_SCRGB=11,r.TWPT_INFRARED=16,r}(UU||{}),VU=function(r){return r.TWUN_INCHES=0,r.TWUN_CENTIMETERS=1,r.TWUN_PICAS=2,r.TWUN_POINTS=3,r.TWUN_TWIPS=4,r.TWUN_PIXELS=5,r.TWUN_MILLIMETERS=6,r}(VU||{});p.mix(U.DWT,{EnumDWT_DeviceType:ht,EnumDWT_Cap:ks,EnumDWT_CapLanguage:Hce,EnumDWT_CapSupportedSizes:$ce,EnumDWT_CapType:Kce,EnumDWT_CapValueType:Yce,EnumDWT_CapFeederAlignment:Qce,EnumDWT_CapFeederOrder:Xce,EnumDWT_CapPrinter:Jce,EnumDWT_CapPrinterMode:qce,EnumDWT_CapBitdepthReduction:Zce,EnumDWT_CapBitOrder:ele,EnumDWT_CapFilterType:tle,EnumDWT_CapFlash:rle,EnumDWT_CapFlipRotation:nle,EnumDWT_CapImageFilter:ile,EnumDWT_CapLightPath:ole,EnumDWT_CapLightSource:ale,EnumDWT_CapNoiseFilter:sle,EnumDWT_CapORientation:ule,EnumDWT_CapOverscan:cle,EnumDWT_CapPixelFlavor:lle,EnumDWT_CapPlanarChunky:dle,EnumDWT_ImageType:Qt,EnumDWT_ImageFormatType:gc,EnumDWT_ResponseType:ja,EnumDWT_SourceMatchField:Sp,EnumDWT_UploadDataFormat:TE,EnumDWT_WorkMode:DU,EnumDWT_ConvertMode:gr,EnumDWT_PixelType:UU,EnumDWT_UnitType:VU});var en=U.DWT;en.EnumPDF_Page={Page_Default:0,Page_Custom:1,Page_A4:2,Page_A4_Reverse:3,Page_A3:4,Page_A3_Reverse:5,Page_Letter:6,Page_Letter_Reverse:7,Page_Legal:8,Page_Legal_Reverse:9},en.EnumDWT_BorderStyle={TWBS_NONE:0,TWBS_SINGLEFLAT:1,TWBS_SINGLE3D:2},en.EnumDWT_MessageType={TWQC_GET:1,TWQC_SET:2,TWQC_GETDEFAULT:4,TWQC_GETCURRENT:8,TWQC_RESET:16},en.EnumDWT_TransferMode={TWSX_NATIVE:0,TWSX_FILE:1,TWSX_MEMORY:2},en.EnumDWT_FileFormat={TWFF_TIFF:0,TWFF_PICT:1,TWFF_BMP:2,TWFF_XBM:3,TWFF_JFIF:4,TWFF_FPX:5,TWFF_TIFFMULTI:6,TWFF_PNG:7,TWFF_SPIFF:8,TWFF_EXIF:9,TWFF_PDF:10,TWFF_JP2:11,TWFF_JPN:12,TWFF_JPX:13,TWFF_DEJAVU:14,TWFF_PDFA:15,TWFF_PDFA2:16},en.EnumDWT_TIFFCompressionType={TIFF_AUTO:0,TIFF_NONE:1,TIFF_RLE:2,TIFF_FAX3:3,TIFF_T4:3,TIFF_FAX4:4,TIFF_T6:4,TIFF_LZW:5,TIFF_JPEG:7,TIFF_PACKBITS:32773},en.EnumDWT_InterpolationMethod={IM_NEARESTNEIGHBOUR:1,IM_BILINEAR:2,IM_BICUBIC:3,IM_BESTQUALITY:5},en.EnumDWT_PDFCompressionType={PDF_AUTO:0,PDF_FAX3:1,PDF_FAX4:2,PDF_LZW:3,PDF_RLE:4,PDF_JPEG:5,PDF_JP2000:6,PDF_JBIG2:7},en.EnumDWT_ShowMode={SW_ACTIVE:0,SW_MAX:1,SW_MIN:2,SW_CLOSE:3,SW_IFLIVE:4},en.EnumDWT_DUPLEX={TWDX_NONE:0,TWDX_1PASSDUPLEX:1,TWDX_2PASSDUPLEX:2},en.EnumDWT_MagType={TWMD_MICR:0,TWMD_RAW:1,TWMD_INVALID:2},en.EnumDWT_DataSourceStatus={TWDSS_CLOSED:0,TWDSS_OPENED:1,TWDSS_ENABLED:2,TWDSS_ACQUIRING:3};var N0=function(r){return r.enumFitWindow=0,r.enumFitWindowHeight=1,r.enumFitWindowWidth=2,r}(N0||{});en.EnumDWT_FitWindowType={enumFitWindow:N0.enumFitWindow,enumFitWindowHeight:N0.enumFitWindowHeight,enumFitWindowWidth:N0.enumFitWindowWidth},en.EnumDWT_PlatformType={enumUnknown:Et.enumUnknown,enumWindow:Et.enumWindow,enumMac:Et.enumMac,enumLinux:Et.enumLinux,enumEmbed:Et.enumEmbed,enumChromeOS:Et.enumChromeOS,enumHarmonyOS:Et.enumHarmonyOS,enumAndroid:Et.enumAndroid,enumiOS:Et.enumiOS};var Ds=function(r){return r.Default=0,r.Hand=1,r.Crosshair=2,r.Zoom=3,r.NWResize=4,r.EResize=5,r.NResize=6,r.Resize=7,r.Move=8,r}(Ds||{});en.EnumDWT_MouseShape={Default:Ds.Default,Hand:Ds.Hand,Crosshair:Ds.Crosshair,Zoom:Ds.Zoom,NWResize:Ds.NWResize,EResize:Ds.EResize,NResize:Ds.NResize,Resize:Ds.Resize,Move:Ds.Move},en.EnumDWT_Language={English:0,French:1,Arabic:2,Spanish:3,Portuguese:4,German:5,Italian:6,Russian:7,Chinese:8},en.EnumDWT_InitMsg={Info:Ol.Info,Error:Ol.Error,NotInstalledError:Ol.NotInstalledError},en.EnumDWT_Driver={TWAIN:qt.TWAIN,ICA:qt.ICA,SANE:qt.SANE,TWAIN_AND_ICA:qt.TWAIN_AND_ICA,TWAIN_AND_TWAIN64:qt.TWAIN_AND_TWAIN64,TWAIN64:qt.TWAIN64},en.EnumDWT_CompressionType={TWCP_NONE:0,TWCP_PACKBITS:1,TWCP_GROUP31D:2,TWCP_GROUP31DEOL:3,TWCP_GROUP32D:4,TWCP_GROUP4:5,TWCP_JPEG:6,TWCP_LZW:7,TWCP_JBIG:8,TWCP_PNG:9,TWCP_RLE4:10,TWCP_RLE8:11,TWCP_BITFIELDS:12,TWCP_ZIP:13,TWCP_JPEG2000:14};var CE=function(r){return r.Single=0,r.Multiple=1,r}(CE||{});en.EnumDWT_SelectionMode={Single:CE.Single,Multiple:CE.Multiple},en.EnumDWT_ConfirmExitType={Cancel:0,Exit:1,SaveAndExit:2},en.EnumDWT_WebsocketReadyState={CONNECTING:Ss.CONNECTING,OPEN:Ss.OPEN,CLOSING:Ss.CLOSING,CLOSED:Ss.CLOSED};var IE=function(r){return r.TwainService=1,r}(IE||{});en.EnumDWT_ServiceType={TwainService:IE.TwainService};var M0,L0=function(r){return r.default=0,r.standard=1,r.supported=2,r}(L0||{});en.EnumDWT_ExtImageInfo={default:L0.default,standard:L0.standard,supported:L0.supported};var W0=20230506,wE=function(){if(U.dcp){var r=U.dcp.dcpJSVer;if(p.isNumber(r))return r>=W0}return!1};if(wE())wE=M0,W0=M0;else{var dn=Pt.detect,wf={_checkService:function(r,n){dn.dcpStatus=dn.EnumDCP_DetectStatus.CheckingServiceVer,EE(null,"DSVersion").then(r,n)},_checkUpdateFile:function(r,n){EE(null,"CheckUpdateFile").then(r,n)},_updateService:function(r,n){EE(null,"UpdateService").then(r,n)},_getDSUpdateZipUrl:function(){var r,n,o="";return r="Win",ue.bMac?r="Mac":ue.bLinux&&(r="Linux"),n=ue.bFileSystem?"":"?t="+p.now(),ue.bWin&&Pt.b64bit&&(o="_x64"),[ps(),"/dist/serviceupdate/",r,"DSUpdate_",jR().join("."),o,".zip",n].join("")},getPorts:function(r,n){var o="GetPorts",s="dwasm2_"+wd();return jU(r,o,{id:p.guid(),method:o,version:s,parameter:[n]},ip())},_getStatusString:function(r,n){var o,s,u="";return r==dn.EnumDCP_DetectStatus.Init?"Getting manager version":r==dn.EnumDCP_DetectStatus.Connected?(n&&(u=n),"Getting manager version succeeded and the version is "+u):r==dn.EnumDCP_DetectStatus.CheckingManagerVer?"Getting manager version":r==dn.EnumDCP_DetectStatus.CheckingServiceVer?"Getting service version":r==dn.EnumDCP_DetectStatus.NotInstalled?"Dynamsoft Service Not Installed":r==dn.EnumDCP_DetectStatus.UpdateSkipped?"Update skipped":r==dn.EnumDCP_DetectStatus.CheckedService?(n&&(u=n),"Getting service version succeeded and the version is "+u):r==dn.EnumDCP_DetectStatus.VerifyingZip?"Verifying the update package":r==dn.EnumDCP_DetectStatus.VerifiedZip?"Update package verified":r==dn.EnumDCP_DetectStatus.UpdatingService?"Updating the service":r==dn.EnumDCP_DetectStatus.UpdateSucceed?"Update succeeded":r==dn.EnumDCP_DetectStatus.UpdateFailed?(s=".",n&&n.length>0?(n.slice(n.length-1)=="."&&(s=""),o=" with the error: "+n):o="","The update failed"+o+s):""},_sendStatusEvent:function(r,n){var o=!!r,s=window;p.isFunction(s.OnGetServiceUpdateStatus)&&s.OnGetServiceUpdateStatus(o,dn.dcpStatus,wf._getStatusString(dn.dcpStatus,n))},_getErr:function(r){var n,o="";try{p.isString(r)?(n=r.replace(/\0/g,""),n=p.parse(n)):r&&(n=r),"description"in n&&(o=n.description)}catch{}return o},_funShowUpgradeDialogWhenUpdateFailed:function(r,n){return dn.bConnected=!0,dn.dcpStatus=dn.EnumDCP_DetectStatus.UpdateFailed,r&&r(),n&&n(),wf._sendStatusEvent(!0),!0},_funUpdateFailed:function(r,n,o,s){var u,d;return dn.bConnected=!0,dn.dcpStatus=dn.EnumDCP_DetectStatus.UpdateFailed,r&&r(),s==200?(u="The update failed.",d=wf._getStatusString(dn.dcpStatus,wf._getErr(o))):d=u="The update failed. The error code is "+s,n&&n(!0,u),wf._sendStatusEvent(!0,d),!0},getDSPath:function(r,n){return Mi.getDSPath(n)},getLinuxHTML5DebPath:function(){return Mi.getDSPath(".deb")},getLinuxHTML5RpmPath:function(){return Mi.getDSPath(".rpm")},getBinaryFileInfo:function(r,n){var o="GetBinaryFileInfo",s={id:p.guid(),method:o,version:"dwasm2_"+wd(),parameter:[]},u=p.stringify(s),d=function(m,_,S){var y;m&&(y=p.parse(m)),y?r(y):n(m,_,S)};if(U.DWT.ConnectWithSocket&&ue.bHTML5Edition){var c=ou.getWsUrl(U.DWT.Host,ue.bSSL?Pt.SSLPort:Pt.Port);return ou.postStringDataByWSUrl(c,u).then(d,n),!0}var f=[Yv(),"/",o,"?type=1&dsver=",gT().join(""),"&ts=",p.now()].join("");eu.getHttpClientForDcp().request(u,f,{},500).then(d,n)}};p.mix(Pt,wf),U.dcp=Pt,U.dcp.dcpJSVer=W0,wE=M0,W0=M0}function EE(r,n,o,s){var u;return u={id:p.guid(),method:n,version:"dwasm2_"+wd(),parameter:[]},n=="VersionInfo"&&(u.version="dwasm2_"+Or.getVersionStrForCheck()),_t.isLongKey(o)&&(u.productKey=o),jU(r,n,u,ip(),s)}function jU(r,n,o,s,u){return xE.apply(this,arguments)}function xE(){return xE=a(w().mark(function r(n,o,s,u,d){var c,f,m,_,S,y,b,I,x;return w().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return c=p.stringify(s),Pt.detect.bConnected=!1,f=[Yv(),"/",o,"?type=1&dsver=",gT().join(""),"&ts=",p.now()].join(""),_=ue.bSSL,S=_?Pt.SSLPort:Pt.Port,m=eu.getHttpClient(n,S,_),y={},d&&!ue.bSSL&&(y.redirect="manual"),P.prev=8,P.next=11,m.request(c,f,y,u);case 11:b=P.sent,P.next=21;break;case 14:if(P.prev=14,P.t0=P.catch(8),!d||ue.bSSL){P.next=20;break}if((P.t0&&P.t0.code)!=kt.HTTPRedirected){P.next=20;break}throw bF();case 20:throw P.t0;case 21:if(b&&(I=p.parse(b)),!(I&&"exception"in I&&"description"in I)){P.next=24;break}throw{code:I.exception,message:I.description};case 24:if(!I||!("result"in I)){P.next=30;break}if(!Pt.detect.bConnected){P.next=27;break}return P.abrupt("return",I.result);case 27:return Pt.detect.bConnected=!0,Pt.detect.dcpStatus=Pt.detect.EnumDCP_DetectStatus.Connected,P.abrupt("return",I.result);case 30:throw Wi(x={}),rr(x);case 33:case"end":return P.stop()}},r,null,[[8,14]])})),xE.apply(this,arguments)}function GU(r){var n=Date.parse(r+"T00:00:00");return r!=""&&!isNaN(n)&&!!U.DWT.CheckCertExpired&&new Date().getTime()>=n-864e5*U.DWT.CertificateConfig.UpdateDaysBeforeExpired}U.DWT.__innerCheckCertDate=function(r){GU(r)&&(p.isFunction(U.OnCertExpired)&&U.OnCertExpired(r),setTimeout(function(){U.DWT.UpdateCert(U.DWT.CertificateConfig.URL,U.OnUpdateCertSuccess,U.OnUpdateCertFailure)},5e3))},U.DWT.__innerUpdateCert=function(r,n,o,s){var u=[Yv(),"/LoadZipFromBytes?type=",4,"&dsver=",gT().join(""),"&ts=",p.now()].join("");eu.getHttpClientForDcp(null,n).request(r,u,{},3e4).then(o,function(d){p.isFunction(s)&&s(d)})},U.DWT.__innerReboot=function(r,n){var o=[Yv(),"/admin?ts=",p.now()].join(""),s='{"id":"'+new Date().getTime().toString()+'","method":"Reboot","parameter":[],"version":"dwasm2_'+wd()+'"}';eu.getHttpClientForDcp().request(s,o,{},3e4).then(r,n)},U.DWT.UpdateCert=function(r,n,o){p.isString(r)&&r!=""?kd(r,{mode:"cors",dataType:"arraybuffer"}).then(function(s){U.DWT.__innerUpdateCert(s,!1,function(u){var d;try{var c=j.parse(u);c.description&&(d={code:c.exception,message:c.description})}catch{var f;Wi(f={}),f=rr(f)}d?j.isFunction(o)&&o(d):(U.DWT.CheckCertExpired=!1,p.isFunction(n)&&n())},function(u){ue.bSSL?U.DWT.__innerUpdateCert(s,!0,n,o):p.isFunction(o)&&o(u)})},o):p.isFunction(o)&&o()};var AE={Errors:{FilePathSyntaxIncorrect:function(r){r._errorCode=-3123,r._errorString="The filename, directory name, or volume label syntax is incorrect."}},checkFilePath:function(r,n){return p.isString(n)&&n.length!=0?p.startsWith(n,"http://")||p.startsWith(n,"https://")||p.startsWith(n,"ftp://")?(j.File.Errors.FilePathSyntaxIncorrect(r),Pe):rt:(cl(r),Pe)}};AE.checkFolder=AE.checkFilePath,j.File=AE,j.showProgress=function(){},j.closeProgress=function(){};var Sg,fle=document.location.protocol,hle=location.hostname,zU=ue.bSSL,ple={detect:{ssl:zU,dcpStatus:0,dcpCallbackType:0,arySTwains:[],bFirst:rt,bOK:Pe,__dialog:Pe,cssLoaded:Pe,viewerScriptLoaded:Pe,bNoControlEvent:Pe,bNeedUpgradeEvent:Pe,bPromptJSOrServerOutdated:Pe,detectType:zU?1:fle==="http:"||hle===""?0:-1,tryTimes:0,ports:[{port:U.DWT.SSLPort,ssl:rt},{port:U.DWT.Port,ssl:Pe}],cUrlIndex:0,urls:[],onNoControl:Pe,needUpgrade:Pe,OnDetectNext:Pe,OnCreatWS:Pe,bMaskShow:Pe},page:{bUnload:Pe}};function HU(){var r=vT;if(U.DWT.CertificateConfig){var n=U.DWT.CertificateConfig;p.isString(n.URL)||(n.URL=r.URL),(!p.isNumber(n.UpdateDaysBeforeExpired)||n.UpdateDaysBeforeExpired<=0)&&(n.UpdateDaysBeforeExpired=r.UpdateDaysBeforeExpired)}else U.DWT.CertificateConfig=r;jce(),p.isString(U.DWT.ProductKey)&&(U.DWT.ProductKey=p.trim(U.DWT.ProductKey)),U.navInfo&&(ue.bMac||ue.bWin)&&(U.navInfo.bEmbed=!1,U.navInfo.bArm64=!1,U.navInfo.bMips64=!1),U.DWT.Debug&&(p.debug=!0)}function PE(){return PE=a(w().mark(function r(){var n,o,s;return w().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!j.detect.cssLoaded){u.next=2;break}return u.abrupt("return");case 2:if(U.DWT.IfLoadResources){u.next=5;break}return j.detect.cssLoaded=rt,u.abrupt("return");case 5:return n=ps(),o="",!ue.bFileSystem&&U.DWT.IfResourcesAddTimestamp&&(o=j.timestamp),s=[[n,"/src/dynamsoft.webtwain.css",o].join("")],Ie.bHTML5Edition&&U.DWT.UseDefaultViewer&&s.push([n,"/src/dynamsoft.webtwain.viewer.css",o].join("")),j.detect.cssLoaded=rt,u.prev=10,u.next=13,new j.Promise(function(d,c){if(ue.bSafari){var f=!1;p.addAllCss(s,!1,function(m){m||(f=!0)}),f?c({code:-2804,message:"Loading the WebTwain css files failed."}):d()}else p.addAllCss(s,!1,function(m){m?d():c({code:-2804,message:"Loading the WebTwain css files failed."})})});case 13:if(!Ie.bHTML5Edition||ue.bFileSystem||!U.DWT.IfCheckCssFiles){u.next=16;break}return u.next=16,gle(s);case 16:u.next=21;break;case 18:u.prev=18,u.t0=u.catch(10),rC(u.t0);case 21:case"end":return u.stop()}},r,null,[[10,18]])})),PE.apply(this,arguments)}function gle(r){return $U.apply(this,arguments)}function $U(){return($U=a(w().mark(function r(n){var o,s;return w().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:o=!0,u.prev=1,s=0,s=0;case 4:if(!(s<n.length)){u.next=15;break}return u.next=7,j.fetch(n[s]);case 7:if(!(u.sent.indexOf("* Author: Dynamsoft Support Team")>0)){u.next=10;break}return u.abrupt("continue",12);case 10:return o=!1,u.abrupt("break",15);case 12:s++,u.next=4;break;case 15:u.next=20;break;case 17:u.prev=17,u.t0=u.catch(1),o=!1;case 20:if(o){u.next=22;break}throw{code:-2804,message:"Loading the WebTwain css files failed."};case 22:return u.abrupt("return",o);case 23:case"end":return u.stop()}},r,null,[[1,17]])}))).apply(this,arguments)}function KU(){if(Ie.loadResourcePath||!Ie.loadingResourcePath)return Sg&&Sg(),void(Sg=null);setTimeout(KU,100)}function Ef(r){if(Nr("Loading css..."),HU(),Ie.loadResourcePath||Ie.loadingResourcePath)return Ie.loadResourcePath||!Ie.loadingResourcePath?j.Promise.resolve():(Sg=null,new j.Promise(function(f){Sg=f,setTimeout(KU,100)}));Ie.loadingResourcePath=!0,(U.DWT.Port>0||U.DWT.SSLPort>0)&&(j.detect.ports=[{port:U.DWT.Port,ssl:!1},{port:U.DWT.SSLPort,ssl:!0}],ra.removeItem("DWT_port"),ra.removeItem("DWT_ssl")),p.each(j._funsAfterConfigLoaded,function(f){try{p.isFunction(f)&&f()}catch{}});var n=p.sizzle(".dynamsoft_waiting");if(n&&n.length>0){var o=n[0];o.parentNode&&o.parentNode.removeChild(o)}var s=ps(),u="";!ue.bFileSystem&&U.DWT.IfResourcesAddTimestamp&&(u=j.timestamp);var d=rt,c=[];return ue.bSafari&&(d=Pe),c.push([s,"/dynamsoft.webtwain.install.js",u].join("")),U.DWT.bNpm&&(c=[]),Ie.bHTML5Edition&&U.DWT.UseDefaultViewer&&(Nr("Loading the viewer script..."),c.push([s,"/src/dynamsoft.webtwain.viewer.js",u].join(""))),U.DWT.IfLoadResources||(c=[]),function(){PE.apply(this,arguments)}(),c.length==0?(YU(),Ie.loadResourcePath=!0,void(Ie.loadingResourcePath=!1)):new j.Promise(function(f,m){p.addScripts(c,d,!1,function(_){var S=_;if(Ie.bHTML5Edition&&U.DWT.UseDefaultViewer&&!p.isFunction(U.DWTViewer)&&(S=!1),ue.bIE&&Ie.bActiveXEdition&&(p.isFunction(U.DWT._innerLoad)||(S=!1)),!S)return Ie.loadingResourcePath=!1,void m({code:-2803,message:"Loading the WebTwain JavaScript source files failed."});YU(),Ie.loadResourcePath=!0,Ie.loadingResourcePath=!1,U.DWT.OnWebTwainWillInit&&U.DWT.OnWebTwainWillInit(),f()})})}function YU(){if(!(j.bNode||ue.bJSDom)){if(p.isArray(U.aryAddonReadyFun)){for(var r=0,n=function(){var o=U.aryAddonReadyFun[r];if(p.isFunction(o))try{o(j)}catch(s){p.log(s.stack||s,"error"),setTimeout(function(){throw s},0)}};r<U.aryAddonReadyFun.length;r++)n();U.aryAddonReadyFun=[]}}}p.mix(j,ple),j.Addon_Events=[],j.Addon_Sendback_Events=[];var bg=[],Tg=[];function kE(){var r,n=bg.length;for(r=0;r<n;r++)bg[r]();bg.splice(0),Tg.splice(0),Cg=0}function QU(){if(Cg>0&&new Date().getTime()-Cg>DE){var r,n={code:-2802,message:"The file dynamsoft.webtwain.config.js timed out while loading."},o=U.DWT.Containers;o&&o.length!==0||(gF(r={}),n={code:r._errorCode,message:r._errorString}),function(f){var m,_=Tg.length;for(m=0;m<_;m++)Tg[m](f);bg.splice(0),Tg.splice(0),Cg=0}(n)}else if(U.DWT.Containers||U.DWT.ProductKey||U.DWT.licenseServer||U.DWT.organizationID||U.DWT.handshakeCode||U.DWT.bNpm||U.DWT.AutoLoad==0){if(Ie.dwtConfigLoading)return;if(Ie.dwtConfigLoaded)return void kE();Ie.dwtConfigLoading=!0;var s=ps();if(p.isArray(U.DWT.Containers)||(U.DWT.Containers=[]),ue.bIE){var u=ue.IEVersion;if((u===""||u>=10)&&U.DWT.IfUseActiveXForIE10Plus){var d=Pe;ue.bHTML5Edition=d,Ie.bHTML5Edition=d,Ie.bActiveXEdition=!0,Ie.bChromeEdition=Ie.bHTML5Edition}}if(Ie.bActiveXEdition&&U.DWT.IfLoadResources){var c="";!ue.bFileSystem&&U.DWT.IfResourcesAddTimestamp&&(c=j.timestamp),p.addScript([s,"/src/dynamsoft.webtwain.activex.js",c].join(""),!0,!1,function(){Ie.dwtConfigLoaded=!0,Ie.dwtConfigLoading=!1,kE()})}else Ie.dwtConfigLoaded=!0,Ie.dwtConfigLoading=!1,kE()}else setTimeout(QU,100)}var XU,DE=3e3,Cg=0;function B0(r){return Nr("Loading the config script..."),Ie.dwtConfigLoaded?j.Promise.resolve():(r&&(DE=1e3*parseInt(r))<1&&(DE=1),new j.Promise(function(n,o){bg.push(n),Tg.push(o),yg(function(){Cg=new Date().getTime(),setTimeout(QU,100)})}))}function JU(){var r;(r=U.DWT.WebTwainIdMap)&&p.each(r,function(n,o){n&&n._OnPageBlur&&n._OnPageBlur()})}if(Ie.bActiveXEdition){var qU=function(){var r,n,o,s,u;if(U.DWT.lunload(),j.closeAll&&j.closeAll(),s=U.DWT.ContainerMap)for(u=Object.keys(s),r=0;r<u.length;r++)(o=u[r])&&o in s&&(n=s[o])&&(n.__unload(),delete s[o]);if(s=U.DWT.WebTwainIdMap)for(u=Object.keys(s),r=0;r<u.length;r++)(o=u[r])&&o in s&&(n=s[o])&&(n.__unload(),delete s[o]);for(r=0;r<j.product.unloadQueue.length;r++){var d=j.product.unloadQueue[r];j.isFunction(d)&&d()}return j.product.unloadQueue.splice(0),j.detect.arySTwains.splice(0),j.Promise.resolve()},RE=!1;U.DWT.Unload=function(){qU();try{U.DWT.CloseDialog(),j._zdgb_xkz_dhk(),j.closeProgress(null,""),j.hideMask()}catch{}},U.DWT.Load=function(){if(!j.product.bDWTLoading)return j.product.bDWTLoading=!0,j.detect.axAutoLoadDone=!1,B0().then(Ef).then(qU).then(function(){return U.DWT._innerLoad()}).then(function(){j.product.bDWTLoading=!1,j.detect.axAutoLoadDone=!0},function(r){j.product.bDWTLoading=!1,j.detect.axAutoLoadDone=!1,g_(r)})},U.DWT.ConnectToTheService=U.DWT.Load,U.DWT.CheckConnectToTheService=function(r,n,o,s){j.product.bActiveXEdition?j.isFunction(s)&&s():j.isFunction(o)&&o()},U.DWT.CreateDWTObject=function(r,n,o,s,u,d){return j._safePromptCustomMsg(function(){d&&d(NR)}),RE},U.DWT.CreateDWTObjectEx=function(r,n,o){return j._safePromptCustomMsg(function(){o&&o(NR)}),RE},U.DWT.CreateRemoteScanObjectAsync=function(){var r={};return Fe(r,-2433,"The ActiveX edition does not support this method or property."),j.Promise.reject({code:r._errorCode,message:r._errorString})},U.DWT.DeleteDWTObject=function(r){return RE}}function FE(){return!(function(r){if(p.isString(r)){if(r=="localhost"||r=="127.0.0.1")return!0;var n=r.split(".");if(n.length==4&&/^(([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])$/.test(r)){var o=parseInt(n[0]),s=parseInt(n[1]);if(o==127||o==10||o==169&&s==254||o==172&&s>=16&&s<=31||o==192&&s==168)return!0}}return!1}(location.hostname)||ue.bSSL||ue.bFileSystem||!((ue.bChrome||ue.bEdge)&&parseInt(ue.strBrowserVersion)>=94))}function ZU(r,n,o,s){return OE.apply(this,arguments)}function OE(){return OE=a(w().mark(function r(n,o,s,u){var d,c;return w().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(o!=Br.GET_TASKID){f.next=4;break}return f.abrupt("return",u.taskId);case 4:if(o!=Br.ONMESSAGE_PROCESS_DATA){f.next=8;break}return f.abrupt("return",p.parse(n));case 8:if(o!=Br.ONMESSAGE_GET_TASKID){f.next=13;break}if(!u||!u.client){f.next=11;break}return f.abrupt("return",u.client.getRequestTaskId());case 11:f.next=20;break;case 13:if(o!=Br.HANDLE_RAW_MESSAGE){f.next=20;break}if(d=u==null?void 0:u.userData){f.next=17;break}return f.abrupt("return",!1);case 17:return(c=n).indexOf("Version not found")>=0||c.indexOf("Function not found")>=0?p.isFunction(d.fFun)&&d.fFun():p.isFunction(d.sFun)&&d.sFun(c),f.abrupt("return",c);case 20:case"end":return f.stop()}},r)})),OE.apply(this,arguments)}function e4(){Ie.loadResourcePath?(Nr(MF),XU()):setTimeout(e4,100)}function U0(){return Ie.loadResourcePath?(Nr(MF),j.Promise.resolve()):new j.Promise(function(r,n){XU=r,setTimeout(e4,100)})}function t4(r){var n,o,s=r.WebTwainId,u=r.Host,d=r.Port,c=r.SSLPort;return o={},p.isString(s)&&s!==""?o.id=s:o.id=s=nO(),p.isDOM(r.Container)?(n=r.Container,p.isString(n.id)&&n.id!==""||(n.id=["dwt_node_",p.getRandom()].join("")),o.container=n,o.bNoViewer=!1):o.bNoViewer=!0,o.bNoViewer?(o.width=0,o.height=0):(p.isUndefined(r.Width)?n.style.width?o.width=n.style.width:o.width=300:o.width=r.Width,p.isUndefined(r.Height)?n.style.height?o.height=n.style.height:o.height=300:o.height=r.Height),o.dmService=r.dmService,p.isString(u)&&u!=""||(u=si()),o.host=u,d||(d=U.DWT.Port),o.port=d,c||(c=U.DWT.SSLPort),o.sslPort=c,o}function r4(r,n,o){if(r){var s=n??270,u=o??350;s<=0&&(s=270),u<=0&&(u=350),Te.one(r).before(j.install._strNonInstallDIV);var d=p.get(j.install._divDWTNonInstallContainerID);d&&(d.style.width=s,d.style.height=u),p.show(j.install._divDWTNonInstallContainerID)}}function hu(r){var n=Mi.getDSPath();if(j.install._divDWTemessageContainer!=""&&p.hide(j.install._divDWTemessageContainer),ue.bMac)r?p.isFunction(U.OnWebTwainNeedUpgradeCallback)&&U.OnWebTwainNeedUpgradeCallback(Ie.name,{default:n},Ie.bHTML5Edition,Et.enumMac,ue.bIE,ue.bSafari,j.detect.ssl,Wr.strIEVersion):p.isFunction(U.OnWebTwainNotFoundOnMacCallback)&&U.OnWebTwainNotFoundOnMacCallback(Ie.name,n,Ie.bHTML5Edition,ue.bIE,ue.bSafari,j.detect.ssl,Wr.strIEVersion);else if(ue.bLinux||U.navInfo.bEmbed||ue.bChromeOS||Wr.bMobile){var o,s,u=Mi.getEnumPlatform();if(U.navInfo.bEmbed||ue.bAndroid||ue.bChromeOS||ue.bHarmonyOS?o=n:(o=Mi.getLinuxHTML5DebPath(),s=Mi.getLinuxHTML5RpmPath()),r){if(ue.bAndroid)p.isFunction(U.OnWebTwainNeedUpgradeOnAndroidCallback)&&U.OnWebTwainNeedUpgradeOnAndroidCallback(Ie.name,n,j.detect.ssl);else if(p.isFunction(U.OnWebTwainNeedUpgradeCallback)){var d={default:o};ue.bLinux&&(d.deb=o,d.rpm=s),U.OnWebTwainNeedUpgradeCallback(Ie.name,d,Ie.bHTML5Edition,u,ue.bIE,ue.bSafari,j.detect.ssl,Wr.strIEVersion)}}else ue.bAndroid?p.isFunction(U.OnWebTwainNotFoundOnAndroidCallback)&&U.OnWebTwainNotFoundOnAndroidCallback(Ie.name,n,j.detect.ssl,!1):!Or.bFullEdition&&Wr.bMobile?p.isFunction(U.OnMobileNotSupportCallback)&&U.OnMobileNotSupportCallback():p.isFunction(U.OnWebTwainNotFoundOnLinuxCallback)&&U.OnWebTwainNotFoundOnLinuxCallback(Ie.name,o,s,Ie.bHTML5Edition,ue.bIE,ue.bSafari,j.detect.ssl,Wr.strIEVersion,u)}else if(ue.bChrome||ue.bSafari||ue.bFirefox||ue.bOpera||U.DWT.IfUseActiveXForIE10Plus==Tt||!U.DWT.ActiveXInstallWithCAB&&ue.bIE)if(r){if(p.isFunction(U.OnWebTwainNeedUpgradeCallback)){var c={default:n};U.OnWebTwainNeedUpgradeCallback(Ie.name,c,Ie.bHTML5Edition,Et.enumWindow,ue.bIE,ue.bSafari,j.detect.ssl,Wr.strIEVersion)}}else p.isFunction(U.OnWebTwainNotFoundOnWindowsCallback)&&U.OnWebTwainNotFoundOnWindowsCallback(Ie.name,n,Ie.bHTML5Edition,ue.bIE,ue.bSafari,j.detect.ssl,Wr.strIEVersion)}U.DWT.GetWebTwain=U.DWT.GetWebTwainEx=function(r){var n=r,o=U.DWT.WebTwainIdMap;if(!n){var s=Object.keys(o);return s.length>0?o[n=s[0]]:void 0}if(n in o)return o[n];var u=U.DWT.ContainerMap;return n in u?u[n]:void 0},U.DWT.NeedCheckWebTwainBySocket=FE,U.DWT.CheckWebTwainBySocket=function(r,n,o){var s,u,d,c=j.detect.urls;if(c&&c.length>0){var f=c[0];s=f.host||si(),u=f.port,d=f.ssl}else so(s=si())?(d=!(!ue.bSSL||!ue.bSafari),s=Or.hostForCheckCert):d=ue.bSSL,u=d?U.DWT.SSLPort:U.DWT.Port;(function(m,_,S,y){var b,I=p.now(),x=p.guid(),P={id:x,method:"VersionInfo",version:[Ie.getDWTPrefix(),Or.getVersionStrForCheck()].join("")},L=ZU,$={cmdId:x,cmd:null,sFun:_,fFun:S,rawData:!0},te=ST();b={client:m,userData:$,taskId:I},m.setRetry(0),m.request(p.stringify(P),L,b,te).then(function(q){return m.dispose(),q},function(){p.isFunction(y)&&y(),m.dispose()})})(eu.getWsClient(s,u,d,!0),r,n,o)},U.DWT.IsLocalServiceConnected=function(){return new j.Promise(function(r,n){var o,s=si();p.each(j.detect.ports,function(u){ue.bSSL?u.ssl&&(o=u.port):u.ssl||(o=u.port)}),U.DWT.CheckConnectToTheService(s,o,function(u,d,c){r(!0)},function(){n(!1)})})},j.detect.onNoControl=function(r,n,o,s){s&&s._bRemoteMode&&!s._bNotShowMessage?p.isFunction(U.OnRemoteWebTwainNotFoundCallback)&&U.OnRemoteWebTwainNotFoundCallback(Ie.name,s._serverInfo.server,s._serverInfo.port,s._serverInfo.ssl,Wr.bMobile):(r4(r,n,o),hu(!1))};var n4=!1;function mle(r,n){so(r)&&(ra.item("DWT_port",n),ra.item("DWT_ssl",ue.bSSL?"true":"false"))}function NE(r,n,o,s,u){return i4.apply(this,arguments)}function i4(){return(i4=a(w().mark(function r(n,o,s,u,d){var c,f,m,_,S,y,b,I,x,P,L,$,te,q,Q,J,re,H,F,B,V,G,z,Z,ie,se;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(U.DWT.OnWebTwainInitMessage&&U.DWT.OnWebTwainInitMessage("Checking WebTwain version ...",Ol.Info),f=!1,m=!1,_=!1,S=U.DWT.ConnectWithSocket,d&&(d.bRemoteServer&&(_=!0),d.bConnectWithSocket&&(S=!0),d.bCheckCert&&(m=!0)),y=p.now(),b=['{"id":"',p.guid(),'","method":"VersionInfo","version":"',Ie.getDWTPrefix(),Or.getVersionStrForCheck(),'"}'].join(""),I=!S&&!ue.bSSL,ne.prev=6,!S){ne.next=18;break}return P=p.now(),L=ZU,$={client:x,userData:{cmdId:P,cmd:null,sFun:null,fFun:null,rawData:!0},taskId:P},(x=eu.getWsClient(n,o,s)).setRetry(0),ne.next=14,x.request(b,L,$,u);case 14:c=ne.sent,f=!0,ne.next=25;break;case 18:return te="fa/VersionInfo?v=1&ts="+y,q=eu.getHttpClient(n,o,s),Q={},I&&(Q.redirect="manual"),ne.next=24,q.request(b,te,Q,u);case 24:c=ne.sent;case 25:ne.next=42;break;case 27:if(ne.prev=27,ne.t0=ne.catch(6),p.log(["check DWT Version failed",p.stringify(ne.t0)]),!f){ne.next=34;break}ne.next=42;break;case 34:if(!I){ne.next=38;break}if((ne.t0&&ne.t0.code)!=kt.HTTPRedirected){ne.next=38;break}throw bF();case 38:throw lp(J={}),U.DWT.OnWebTwainInitMessage&&U.DWT.OnWebTwainInitMessage(J._errorString,Ol.Error),{code:J._errorCode,message:J._errorString};case 42:if(re="",H="",F={},B=!1,c&&(V=p.parse(c)),!V||!("exception"in V)){ne.next=49;break}co(V)?(F._errorCode=V.exception,F._errorString=V.description):F._errorCode=kt.CommonError,ne.next=91;break;case 49:if(!V||!("result"in V)){ne.next=90;break}if(V=V.result,!(p.isArray(V)&&V.length>0)){ne.next=87;break}if(G=V[0],re=V.length>1?V[1]:"",z=V.length>2?V[2]:0,Z=V.length>3?V[3]:"",H=V.length>4?V[4]:"",re!==""){ne.next=84;break}if(ie="The WebTwain version is: "+G,U.DWT.OnWebTwainInitMessage&&U.DWT.OnWebTwainInitMessage(ie,Ol.Info),z=="32"&&so(n)&&(Pt.b64bit=!1),so(n)&&(U.DWT.li({instanceMode:U.DWT.lgdt()},"")||Z!=""&&(U.DWT.lsmid(Z,""),U.DWT.lsmid2b(Z))),(p.isFunction(U.DWT.OnSSLCertInfo)||p.isFunction(U.OnSSLCertInfo))&&(H!=""&&(se=Date.parse(H+"T00:00:00"),se=isNaN(se)?null:new Date(se)),n4||(p.isFunction(U.DWT.OnSSLCertInfo)?U.DWT.OnSSLCertInfo(se):p.isFunction(U.OnSSLCertInfo)&&U.OnSSLCertInfo(se)),n4=!0),!m){ne.next=71;break}if(H!=""){ne.next=68;break}throw{code:kt.SSLCertInvalid,message:"The Dynamsoft Service SSL certificate is invalid."};case 68:if(!GU(H)){ne.next=71;break}throw{code:kt.SSLCertExpired,message:"The Dynamsoft Service SSL certificate has expired."};case 71:if(!p.isString(G)||G==""){ne.next=81;break}if(Nr("Checking the WebTwain version..."),!_&&!iK(G,Ie.getServerVersionInfo(!0))){ne.next=77;break}return ne.abrupt("return",{host:n,port:o,bSSL:s,version:G,certExpiredDate:se});case 77:Nr(WF),Ed(F);case 79:ne.next=82;break;case 81:B=!0;case 82:ne.next=85;break;case 84:re==="Version not found"?Ed(F):J9(F,re);case 85:ne.next=88;break;case 87:B=!0;case 88:ne.next=91;break;case 90:B=!0;case 91:throw B&&Wi(F),U.DWT.OnWebTwainInitMessage&&U.DWT.OnWebTwainInitMessage(F._errorString,Ol.Error),{code:F._errorCode,message:F._errorString};case 94:case"end":return ne.stop()}},r,null,[[6,27]])}))).apply(this,arguments)}function o4(r,n,o){return ME.apply(this,arguments)}function ME(){return ME=a(w().mark(function r(n,o,s){var u,d,c,f,m,_;return w().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!Ie.bDWTChecked){S.next=2;break}return S.abrupt("return");case 2:return c=ue.bSSL?s:o,u=ue.bSSL?s:o,d=ue.bSSL,S.prev=5,S.next=8,a4(n,u,d,rt);case 8:f=S.sent,S.next=18;break;case 11:if(S.prev=11,S.t0=S.catch(5),S.t0.code!=kt.MustUpgrade){S.next=16;break}throw hu(!0),S.t0;case 16:return S.next=18,_le(n,o,s);case 18:if(!FE()||U.DWT.ConnectWithSocket){S.next=21;break}return S.next=21,yle(n,c);case 21:return m=f.host,_=f.port,j.detect.dcpStatus=2,mle(m,_),S.next=26,HF(!1,!0);case 26:if(!ui()||!so(n)){S.next=30;break}if(U.DWT.li({instanceMode:U.DWT.lgdt()},"")){S.next=30;break}throw{code:-2827,message:"Failed to get Machine ID."};case 30:Ie.bDWTChecked=!0;case 31:case"end":return S.stop()}},r,null,[[5,11]])})),ME.apply(this,arguments)}function a4(r,n,o,s){return s4.apply(this,arguments)}function s4(){return(s4=a(w().mark(function r(n,o,s,u){var d;return w().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return Nr("Checking the WebTwain module..."),o||p.each(j.detect.ports,function(f){ue.bSSL?f.ssl&&(o=f.port):f.ssl||(o=f.port)}),c.prev=2,c.next=5,NE(n,o,s,u?ST():ip(),{bConnectWithSocket:u});case 5:d=c.sent,c.next=12;break;case 8:throw c.prev=8,c.t0=c.catch(2),j.detect.dcpStatus=3,c.t0;case 12:return Nr("Check the WebTwain version successfully."),!Or.versionInfoFromServer&&so(d.host)&&(Or.versionInfoFromServer=d.version),c.abrupt("return",d);case 15:case"end":return c.stop()}},r,null,[[2,8]])}))).apply(this,arguments)}function vle(r,n,o,s,u){u4(r,n,{bRemoteServer:!0,bConnectWithSocket:o},s,u)}function u4(r,n,o,s,u){var d=0,c=r,f=n,m=j.detect.ssl,_=s,S=u;if(p.isFunction(c)&&p.isFunction(f)){for(_=c,S=f,c=si(),d=0;d<j.detect.ports.length;d++)if(ue.bSSL&&j.detect.ports[d].ssl||!ue.bSSL&&!j.detect.ports[d].ssl){f=j.detect.ports[d].port,m=ue.bSSL;break}}c||(c=si()),NE(c,f,m,ip(),o).then(function(y){var b=y.host,I=y.port,x=y.version;p.isFunction(_)&&_(b,I,x)},function(y){p.isFunction(S)&&S(y)})}function _le(r,n,o){return LE.apply(this,arguments)}function LE(){return LE=a(w().mark(function r(n,o,s){var u,d,c,f,m,_,S;return w().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(u=ue.bSSL?s:o,!ue.bSSL||ue.bSafari||ue.bMobile||ue.bAndroid){y.next=45;break}if(y.prev=2,!U.DWT.ConnectWithSocket&&U.DWT.IfCheckCORS==1){y.next=7;break}throw lp(d={}),{code:d._errorCode,message:d._errorString};case 7:return y.next=9,WE(n,u,!1);case 9:y.next=43;break;case 11:if(y.prev=11,y.t0=y.catch(2),(c=y.t0.code)!=kt.CORSErrorFromService&&c!=kt.SSLCertExpired&&c!=kt.SSLCertInvalid){y.next=18;break}throw y.t0;case 18:if(c!=kt.MustUpgrade){y.next=21;break}throw hu(!0),y.t0;case 21:if(y.prev=21,U.DWT.IfCheckCert==1){y.next=26;break}throw lp(f={}),{code:f._errorCode,message:f._errorString};case 26:return y.next=28,NE(np,o,!1,ST(),{bConnectWithSocket:!0,bCheckCert:!0});case 28:y.sent,y.next=43;break;case 31:if(y.prev=31,y.t1=y.catch(21),(m=y.t1.code)!=kt.CORSErrorFromService&&m!=kt.SSLCertExpired&&m!=kt.SSLCertInvalid){y.next=38;break}throw y.t1;case 38:if(m!=kt.MustUpgrade){y.next=41;break}throw hu(!0),y.t1;case 41:throw so(n)?hu(!1):p.isFunction(U.OnRemoteWebTwainNotFoundCallback)&&U.OnRemoteWebTwainNotFoundCallback(Ie.name,n,u,ue.bSSL,Wr.bMobile),y.t1;case 43:case 52:y.next=66;break;case 45:if(y.prev=45,!U.DWT.ConnectWithSocket&&U.DWT.IfCheckCORS!=0){y.next=50;break}throw lp(_={}),{code:_._errorCode,message:_._errorString};case 50:return y.next=52,WE(n,u,!1);case 54:if(y.prev=54,y.t2=y.catch(45),(S=y.t2.code)!=kt.CORSErrorFromService&&S!=kt.SSLCertExpired&&S!=kt.SSLCertInvalid){y.next=61;break}throw y.t2;case 61:if(S!=kt.MustUpgrade){y.next=64;break}throw hu(!0),y.t2;case 64:throw so(n)?hu(!1):p.isFunction(U.OnRemoteWebTwainNotFoundCallback)&&U.OnRemoteWebTwainNotFoundCallback(Ie.name,n,u,ue.bSSL,Wr.bMobile),y.t2;case 66:throw kT();case 67:case"end":return y.stop()}},r,null,[[2,11],[21,31],[45,54]])})),LE.apply(this,arguments)}function yle(r,n){return c4.apply(this,arguments)}function c4(){return(c4=a(w().mark(function r(n,o){return w().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",WE(n,o,!0));case 1:case"end":return s.stop()}},r)}))).apply(this,arguments)}function WE(r,n,o){return l4.apply(this,arguments)}function l4(){return(l4=a(w().mark(function r(n,o,s){var u,d,c;return w().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(f.prev=0,U.DWT.ConnectWithSocket){f.next=5;break}return f.next=4,a4(n,o,ue.bSSL,Pe);case 4:u=f.sent;case 5:f.next=14;break;case 7:throw f.prev=7,f.t0=f.catch(0),d=f.t0,(c=f.t0.code)==kt.ResponseDataTypeError||c==kt.HTSTError||c==kt.CORSError||c==kt.SSLCertExpired||c==kt.SSLCertInvalid||c==kt.MustUpgrade||(c==kt.CORSErrorFromService?p.isFunction(U.OnCorsConfigError)&&U.OnCorsConfigError(f.t0.message):so(n)&&s&&FE()&&(d={code:kt.CORSError,message:'The Connection from the insecure (HTTP) web page to the local "Dynamsoft Service" failed!'},c=d.code)),c==kt.CORSError&&p.isFunction(U.OnHTTPCorsError)&&U.OnHTTPCorsError(d.message),d;case 14:return f.abrupt("return",u);case 15:case"end":return f.stop()}},r,null,[[0,7]])}))).apply(this,arguments)}function Sle(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function vc(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var pu=new WeakSet,ble=function(r){function n(){var _;h(this,n);for(var S=arguments.length,y=new Array(S),b=0;b<S;b++)y[b]=arguments[b];return Sle(_=l(this,n,[].concat(y)),pu),_}return D(n,r),v(n,[{key:"SetCookie",value:function(_){return this._cookie=_,document.cookie=_,rt}},{key:"LoadImageFromBase64Binary",value:function(_,S,y,b){var I=this,x=!1;if(p.isFunction(y)&&(x=!0),I._resetErr(),!I._isValid())return p.isFunction(b)&&ft(b,I),!!x&&void 0;if(!_)return $t(I),p.isFunction(b)&&ft(b,I),!!x&&void 0;var P,L,$,te,q,Q=_,J="LoadImageFromBase64Binary",re=S,H=1;if(Q instanceof dE&&p.isFunction(Q.getLength)&&p.isFunction(Q.getData)&&(Q=Q.getData(0,Q.getLength())),p.isString(Q))if(Q.indexOf("data:image/bmp")!=-1)re=0;else if(Q.indexOf("data:image/jpeg")!=-1)re=1;else if(Q.indexOf("data:image/tif")!=-1)re=2;else if(Q.indexOf("data:image/png")!=-1)re=3;else if(Q.indexOf("data:application/pdf")!=-1)re=4;else if(Q.indexOf("data:image/jp2")!=-1)re=14;else{var F=Q.substr(0,64),B=p.base64.decode(F,!0);$=B,te=U.DWT.EnumDWT_ImageType,q=$,($ instanceof ArrayBuffer||$ instanceof Array)&&(q=new Uint8Array($.slice(0,12))),re=function(z){return z[0]==37&&z[1]==80&&z[2]==68&&z[3]==70}(q)?te.IT_PDF:function(z){return z[0]==73&&z[1]==73&&z[2]==42&&z[3]==0||z[0]==77&&z[1]==77&&z[2]==0&&z[3]==42}(q)?te.IT_TIF:function(z){return z[0]==137&&z[1]==80&&z[2]==78&&z[3]==71}(q)?te.IT_PNG:function(z){return z[0]==255&&z[1]==216}(q)?te.IT_JPG:function(z){return z[0]==66&&z[1]==77}(q)?te.IT_BMP:function(z){return z[0]==0&&z[1]==0&&z[2]==0&&z[3]==12&&z[4]==106&&z[5]==80&&z[6]==32&&z[7]==32||z[0]==255&&z[1]==79&&z[2]==255&&z[3]==81}(q)?te.IT_J2K:te.IT_PNG}if(re!=U.DWT.EnumDWT_ImageType.IT_BMP&&re!=U.DWT.EnumDWT_ImageType.IT_JPG&&re!=U.DWT.EnumDWT_ImageType.IT_TIF&&re!=U.DWT.EnumDWT_ImageType.IT_PNG&&re!=U.DWT.EnumDWT_ImageType.IT_PDF&&re!=U.DWT.EnumDWT_ImageType.IT_J2K&&(re=-1),!_t.checkProductKey(I,{Core:!0})||!_t.checkPDFProductKeyWhenNeeds(I,re))return p.isFunction(b)&&ft(b,I),!!x&&void 0;if(p.isString(Q)&&Q.indexOf("base64,")!=-1&&(Q=Q.substr(Q.indexOf("base64,")+7)),L=I.__GetLoadEventsNum(),!x){var V=I._getCurrentDocumentName(),G=I._getCurrentDefaultTagName();return(P=I.__innerLoadImageFun(J,Ve(Q,re,L,H),H,V,G))&&I._canConsume()&&U.DWT.lcvrf(I),P}j.cancelFrom=Mt.LoadImage,I.IfShowProgressBar?j.showProgress(I,J,I.__IfShowCancelDialogWhenImageTransfer):j.hideProgress(),I.__bLoadingImage=!0,H=0,I._innerSend(J,Ve(Q,re,L,H),!0,function(){if(j.closeProgress(null,J),I.__bLoadingImage=!1,I._isBindViewer()){var z=I._ImgManager.getCurrentImageIndex();z>=0&&I._innerRefreshUI(z)}I._canConsume()&&U.DWT.lcvrf(I),y&&y(Q,S)},function(){j.closeProgress(null,J),I.__bLoadingImage=!1,p.isFunction(b)&&b(I._errorCode,I._getErrorString(),Q,S)})}},{key:"SaveSelectedImagesToBytes",value:function(_,S){return ap(this),Pe}},{key:"LoadImageFromBytes",value:function(_,S,y){return ap(this),Pe}},{key:"SetImageWidth",value:function(_,S,y,b){var I,x=this,P=!1;if(p.isFunction(y)&&(P=!0),x._resetErr(),!x._isValid())return!!P&&void 0;var L=parseInt(_);if(isNaN(L))return Ot(x),p.isFunction(b)&&b(x._errorCode,x._getErrorString()),!!P&&void 0;if(L<0||L>=x._ImgManager.count())return qe(x),p.isFunction(b)&&b(x._errorCode,x._getErrorString()),!!P&&void 0;if(p.isUndefined(S))return $t(x),p.isFunction(b)&&b(x._errorCode,x._getErrorString()),!!P&&void 0;var $=x._ImgManager.convertClientIndexToServerId(L);return $==-1?(qe(x),p.isFunction(b)&&b(x._errorCode,x._getErrorString()),!!P&&void 0):((I=x._innerFun("SetImageWidth",Ve($,S))==1)?p.isFunction(y)&&y():p.isFunction(b)&&b(x._errorCode,x._getErrorString()),P?void 0:I)}},{key:"HTTPDownloadStreamThroughPost",value:function(_,S){return ap(this),Pe}},{key:"HTTPUploadStreamThroughPost",value:function(_,S,y,b,I){return ap(this),Pe}},{key:"HTTPUploadThroughPutDirectly",value:function(_,S,y,b,I){return ap(this),!1}},{key:"SetCustomDSDataEx",value:function(_){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCustomDSDataEx",Ve(_))}},{key:"SetCustomDSData",value:function(_){if(this._resetErr(),!this._isValid())return!1;var S=At.replaceLocalFilename(_);return this._innerFun("SetCustomDSData",Ve(S))}},{key:"GetCustomDSDataEx",value:function(){var _=this;return _._resetErr(),!!_._isValid()&&_._innerFun("GetCustomDSDataEx")}},{key:"GetCustomDSData",value:function(_){var S=this;if(S._resetErr(),!S._isValid())return!1;var y=At.replaceLocalFilename(_);return S._innerFun("GetCustomDSData",Ve(y))}},{key:"on",value:function(_,S){return this.registerEvent(_,S)}},{key:"off",value:function(_,S){return this.unregisterEvent(_,S)}},{key:"ConvertToBW",value:function(_,S,y){var b=this,I=!1;if(p.isFunction(S)&&(I=!0),b._resetErr(),!b._isValid())return!!I&&void 0;if(!_t.checkProductKey(b,{Core:!0}))return p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!!I&&void 0;var x=parseInt(_);if(isNaN(x))return Ot(b),p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!!I&&void 0;if(x<0||x>=b._ImgManager.count())return qe(b),p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!!I&&void 0;var P=b._ImgManager.convertClientIndexToServerId(x);if(P==-1)return qe(b),!1;var L=b._innerFun("ConvertToBW",Ve(P));return L?p.isFunction(S)&&S():p.isFunction(y)&&y(b._errorCode,b._getErrorString()),I?void 0:L}},{key:"LoadImageFromBinary",value:function(_,S,y){var b,I,x=this,P="LoadImageFromBinary",L=!1;p.isFunction(S)&&(L=!0);var $=(b=j.progressContext)===null||b===void 0?void 0:b.IfShowCancelDialogWhenImageTransfer;return L&&(x.IfShowProgressBar?(j.showProgress(x,P,!1),j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!1)):j.hideProgress()),I=x._innerLoadImageFromBinary(_,0,!0,L,function(){j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=$),p.isFunction(S)&&(x.IfShowProgressBar&&j.closeProgress(null,P),S())},function(te,q){j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=$),p.isFunction(S)&&x.IfShowProgressBar&&j.closeProgress(null,P),p.isFunction(y)&&y(te,q)}),L?void 0:I}},{key:"EnableSourceUI",value:function(_,S){var y=this;return y._resetErr(),!!y._isValid()&&(y._innerSend("EnableSourceUI",null,!0,_,S),!0)}},{key:"GetIfShowVideoContainer",value:function(){return this._UIView.GetIfShowVideoContainer()}},{key:"ShowVideoContainer",value:function(_){return this._UIView.ShowVideoContainer(_)}},{key:"UpdateVideoContainer",value:function(_){return this._UIView.UpdateVideoContainer(_)}},{key:"ChangeBitDepth",value:function(_,S,y){var b,I=this;if(I._resetErr(),!I._isValid())return!1;if(b=parseInt(_),isNaN(b))return Ot(I),!1;if(b<0||b>=I._ImgManager.count())return qe(I),!1;var x=I._ImgManager.convertClientIndexToServerId(b);return x==-1?(qe(I),!1):I._innerFun("ChangeBitDepth",Ve(x,S,y))}},{key:"ConvertToGrayScale",value:function(_,S,y){var b,I=this,x=!1;if(p.isFunction(S)&&(x=!0),I._resetErr(),!I._isValid())return!!x&&void 0;var P=parseInt(_);if(isNaN(P))return Ot(I),p.isFunction(y)&&y(I._errorCode,I._getErrorString()),!!x&&void 0;if(P<0||P>=I._ImgManager.count())return qe(I),p.isFunction(y)&&y(I._errorCode,I._getErrorString()),!!x&&void 0;var L=I._ImgManager.convertClientIndexToServerId(P);return L==-1?(qe(I),p.isFunction(y)&&y(I._errorCode,I._getErrorString()),!!x&&void 0):((b=I._innerFun("ConvertToGrayScale",Ve(L))==1)?(At.refreshImageAfterInvokeFun(I,P),p.isFunction(S)&&S()):p.isFunction(y)&&y(I._errorCode,I._getErrorString()),x?void 0:b)}},{key:"ClearTiffCustomTag",value:function(){var _=this;return _._resetErr(),!!_._isValid()&&(_._aryTiffTag.splice(0,_._aryTiffTag.length),_._innerFun("ClearTiffCustomTag"))}},{key:"SetTiffCustomTag",value:function(_,S,y){var b=this;if(b._resetErr(),!b._isValid())return!1;if(p.isUndefined(_)||p.isUndefined(S))return $t(b),!1;var I,x=1*_;if(I=p.isString(S)?p.replaceAll(S,'"','\\"'):S,x<=0||x>2147483647)return Fe(b,-2378,"Invalid value for the tiff tag code."),!1;var P,L=0,$=!1,te=b._aryTiffTag.length;for(L=0;L<te;L++)(P=b._aryTiffTag[L]).tag==x&&(P.Content=S,P.UseBase64Encoding=y,$=!0);return!$&&te>=32?(function(q){Fe(q,-2428,"Tiff tag count has exceeded the limit.")}(b),!1):b._innerFun("SetTiffCustomTag",Ve(x,I,y))}},{key:"IsBlankImage",value:function(_){var S,y=this;if(y._resetErr(),!y._isValid())return!1;if(S=parseInt(_),isNaN(S))return Ot(y),!1;if(S<0||S>=y._ImgManager.count())return qe(y),!1;var b=y._ImgManager.convertClientIndexToServerId(S);return b==-1?(qe(y),!1):y._innerFun("IsBlankImage",Ve(b,Pe))}},{key:"IsBlankImageExpress",value:function(_){var S=this;if(S._resetErr(),!S._isValid())return!1;var y=parseInt(_);if(isNaN(y))return Ot(S),!1;if(y<0||y>=S._ImgManager.count())return qe(S),!1;var b=S._ImgManager.convertClientIndexToServerId(y);return b==-1?(qe(S),!1):S._innerFun("IsBlankImage",Ve(b,rt))}},{key:"SetOpenSourceTimeout",value:function(_){var S=this;return S._resetErr(),!!S._isValid()&&S._innerFun("SetOpenSourceTimeout",Ve(_))}},{key:"GetImageURL",value:function(_,S,y,b,I){var x=this;if(x._resetErr(),!x._isValid())return!1;var P,L,$,te,q=_,Q=parseInt(S),J=parseInt(y);if(b?(P="",L="dwt://"):(P=x._httpUrl,L="dwt/"),te=x._bScanForProxyRemote?Or.getVersionStrForCheck():Ie.getServerVersionInfo(),$=[P,L,Ie.getDWTPrefix(),te,"/img?id=",x._clientId],p.isUndefined(q)||q===null)return oF(x),"";if(I)$.push("&index=-1&width=-1&height=-1&webcam="),$.push(I);else{if(q=parseInt(q),isNaN(q))return Ot(x),"";if(q<-1||q>=x._ImgManager.count())return qe(x),"";var re=x._ImgManager.convertClientIndexToServerId(q);if(re==-1)return"";$.push("&index="),$.push(re),Q>0&&J>0?($.push("&width="),$.push(Q),$.push("&height="),$.push(J)):$.push("&width=-1&height=-1"),Wr.bMobile&&$.push("&type=1&quality=85")}if($.push("&t="),$.push(new Date().getTime()),$=$.join(""),ue.bFileSystem&&$.indexOf("dwt://")<0){var H=new Image;H.crossOrigin="anonymous",H.src=$,H=null}return $}},{key:"GetImagePartURL",value:function(_,S,y){var b=this;if(b._resetErr(),!b._isValid())return!1;var I=parseInt(_);return isNaN(I)?(Ot(b),""):I<0||I>=b._ImgManager.count()?(qe(b),""):this.GetImageURL(I,S,y,!0)}},{key:"SetLanguage",value:function(_){var S=this;return S._resetErr(),!!S._isValid()&&S._innerFun("SetLanguageForSecurity",Ve(_))}},{key:"GetLicenseInfo",value:function(_,S){var y=this;y.__licenseInfo?p.isFunction(_)&&_(y.__licenseInfo):y._innerFunRaw("GetLicenseInfo",Ve(0),rt,Pe,rt,function(b){b?b.exception?p.isFunction(S)&&S(b.exception):(p.isArray(b.result)&&b.result.length>0&&tC(y,b.result[0]),p.isFunction(_)&&_(y.__licenseInfo)):p.isFunction(S)&&S()},S)}},{key:"SetProductKeyAsync",value:function(_){return this._setProductKeyAsync(_)}},{key:"GetVersionInfoAsync",value:function(){return Te.Promise.resolve(Or.versionInfoFromServer)}},{key:"isUsingActiveX",value:function(){return!1}},{key:"SetLTSLicenseAsync",value:function(_){return this._setLTSLicenseAsync(_)}},{key:"Print",value:function(_){var S=this;return S._resetErr(),S._isValid()?S._isNoViewer()?S._nouiNotSupport("Print"):_?(S._innerSend("PrintEx",Ve(!0),!0,function(){},function(){}),!0):(S._ImagePrint.Print(),!0):!1}},{key:"PrintEx",value:function(_){var S=this;return S._resetErr(),!!S._isValid()&&!!S._checkIndices(_)&&(S._isNoViewer()?S._nouiNotSupport("Print"):(S._ImagePrint.PrintEx(_),!0))}},{key:"IsBlankImageAsync",value:(m=a(w().mark(function _(S,y){var b,I,x,P;return w().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(b=this,Mi.getEnumPlatform()==Et.enumWindow){L.next=5;break}throw Fe(b,-2905,"This API is not supported on the current operating system. Please contact your system administrator."),{code:this._errorCode,message:this._getErrorString()};case 5:return x={minBlockHeight:20,maxBlockHeight:30},y&&(p.isNumber(y.minBlockHeight)&&y.minBlockHeight>=0&&(x.minBlockHeight=y.minBlockHeight),p.isNumber(y.maxBlockHeight)&&y.maxBlockHeight>=0&&(x.maxBlockHeight=y.maxBlockHeight)),I={command:"isBlankImage",parameter:{index:S,minHeight:x.minBlockHeight,maxHeight:x.maxBlockHeight}},L.next=10,b.RunCommandAsync(I);case 10:if(!((P=L.sent)&&j.isArray(P.result)&&P.result.length>0)){L.next=13;break}return L.abrupt("return",P.result[0]);case 13:return L.abrupt("return",!1);case 14:case"end":return L.stop()}},_,this)})),function(_,S){return m.apply(this,arguments)})},{key:"httpUploadBlob",value:function(_,S,y,b){var I=this,x="httpUploadBlob",P=S,L=y,$=null,te=null,q=ja.Text;if(I._resetErr(),!I._isValid())return j.Promise.reject({code:I._errorCode,message:I._errorString});if(p.isUndefined(_)||_==="")return ci(I),j.Promise.reject({code:I._errorCode,message:I._errorString});if(!p.isString(_))return up(I),j.Promise.reject({code:I._errorCode,message:I._errorString});if(!(P instanceof Blob))return $t(I),j.Promise.reject({code:I._errorCode,message:I._errorString});var Q=P.type.toLocaleLowerCase();if(Q!="image/jpeg"&&Q!="image/jpg"&&Q!="image/png"&&Q!="image/bmp"&&Q!="application/pdf"&&Q!="image/tiff"&&Q!="image/tif")return Fe(I,-2845,"Only Blob of JPEG, PNG, BMP, TIFF and PDF image types can be uploaded."),j.Promise.reject({code:I._errorCode,message:I._errorString});b&&($=new FormData,p.each(b.formFields,function(F,B){var V=F.name,G=F.value;p.isString(V)&&(G instanceof Blob?$.append(V,G,F.fileName):$.append(V,G))}),te={},p.each(b.headers,function(F,B){p.isString(F.name)&&(te[F.name]=F.value)}),b.responseType&&(q=b.responseType));var J=I._createHttpUploaderConfig(),re=new Es,H=new ca;return H.url=_,H.method=x,H.content=P,P=null,H.contentType=I._strHttpContentTypeFieldValue,H.headers=te,H.fileName=L,H.httpFormData=$,I.__remoteFilename&&I.__remoteFilename!=""&&(H.remoteFilename=I.__remoteFilename),H.retry=1,H.bOnlyResponseEmptyIsOK=!1,H.responseType=q,J.objUploadStatus=void 0,I.IfShowProgressBar&&j.showProgress(I,x,!1),new j.Promise(function(F,B){re.httpPostUpload(J,H,function(V){I.IfShowProgressBar&&j.closeProgress(I,x,!1),F(V)},function(V,G){I.IfShowProgressBar&&j.closeProgress(I,x,!1),B({code:V,message:G})})})}},{key:"saveBlob",value:(f=a(w().mark(function _(S,y){var b,I,x,P,L;return w().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(x=S,(b=this)._resetErr(),b._isValid()){$.next=4;break}throw{code:b._errorCode,message:b._errorString};case 4:if(!p.isString(S)&&S!==null&&S!==void 0){$.next=8;break}$.next=10;break;case 8:case 23:throw $t(b),{code:b._errorCode,message:b._errorString};case 10:if(!(y instanceof Blob)){$.next=23;break}if((L=y.type.toLocaleLowerCase())!="image/jpeg"&&L!="image/jpg"&&L!="image/png"&&L!="image/bmp"&&L!="application/pdf"&&L!="image/tiff"&&L!="image/tif"){$.next=16;break}$.next=18;break;case 16:throw Fe(b,-2844,"Only Blob of JPEG, PNG, BMP, TIFF and PDF image types can be saved."),{code:b._errorCode,message:b._errorString};case 18:return $.next=20,kU(y);case 20:P=$.sent,$.next=25;break;case 25:return x||(x=""),x=At.replaceLocalFilename(x),I=Ve(x),$.next=30,new j.Promise(function(te,q){b._innerSendBlobByWS("SaveBlobToFile",I,P,function(Q){te(Q)},function(Q){q({code:b._errorCode,message:b._errorString})})});case 30:case"end":return $.stop()}},_,this)})),function(_,S){return f.apply(this,arguments)})},{key:"createLocalStorage",value:(c=a(w().mark(function _(S){var y,b,I,x,P;return w().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if((y=this)._resetErr(),y._isValid()){L.next=4;break}throw{code:y._errorCode,message:y._errorString};case 4:if(I="CreateLocalStorage",x=null,!S){L.next=12;break}if(P=S.password,vc(pu,this,V0).call(this,P)!==!1){L.next=9;break}throw{code:y._errorCode,message:y._errorString};case 9:x=JSON.stringify([JSON.stringify(S)]),L.next=13;break;case 12:x='["{}"]';case 13:return L.next=15,new j.Promise(function($,te){y._innerSend(I,x,!1,function(q){if(p.isArray(q)&&q.length>0){var Q=q[0];Q&&p.isString(Q.uid)&&$(Q.uid)}else Wi(y),te({code:y._errorCode,message:y._errorString})},function(){te({code:y._errorCode,message:y._errorString})})});case 15:return b=L.sent,L.abrupt("return",b);case 17:case"end":return L.stop()}},_,this)})),function(_){return c.apply(this,arguments)})},{key:"localStorageExist",value:(d=a(w().mark(function _(S){var y,b,I;return w().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(b="LocalStorageExist",(y=this)._resetErr(),y._isValid()){x.next=4;break}throw{code:y._errorCode,message:y._errorString};case 4:if(vc(pu,y,j0).call(y,S)!=0){x.next=6;break}throw{code:y._errorCode,message:y._errorString};case 6:return x.next=8,new j.Promise(function(P,L){y._innerSend(b,Ve(S),!1,function($){if(p.isArray($)&&$.length>0){var te=$[0];(p.isBoolean(te)||p.isNumber(te))&&P(!!te)}else Wi(y),L({code:y._errorCode,message:y._errorString})},function(){L({code:y._errorCode,message:y._errorString})})});case 8:return I=x.sent,x.abrupt("return",I);case 10:case"end":return x.stop()}},_,this)})),function(_){return d.apply(this,arguments)})},{key:"saveToLocalStorage",value:(u=a(w().mark(function _(S){var y,b,I,x;return w().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(b="SaveToLocalStorage",I=null,(y=this)._resetErr(),y._isValid()){P.next=4;break}throw{code:y._errorCode,message:y._errorString};case 4:if(p.isObject(S)){P.next=7;break}throw $t(y),{code:y._errorCode,message:y._errorString};case 7:if(vc(pu,y,j0).call(y,S.uid)!==!1&&vc(pu,this,V0).call(this,S.password)!==!1){P.next=9;break}throw{code:y._errorCode,message:y._errorString};case 9:if(!p.isUndefined(S.indices)){P.next=13;break}S.indices=gK(y),P.next=20;break;case 13:if(!p.isArray(S.indices)||S.indices.length!=0){P.next=17;break}P.next=20;break;case 17:if(y._checkIndices(S.indices)){P.next=19;break}throw{code:y._errorCode,message:y._errorString};case 19:S.indices=Ju(y,S.indices);case 20:return I=JSON.stringify([JSON.stringify(S)]),P.next=23,new j.Promise(function(L,$){y._innerSend(b,I,!1,function(te){if(p.isArray(te)&&te.length>0){var q=te[0];q&&q.imageIds&&L(q.imageIds)}else Wi(y),$({code:y._errorCode,message:y._errorString})},function(){$({code:y._errorCode,message:y._errorString})})});case 23:return x=P.sent,P.abrupt("return",x);case 25:case"end":return P.stop()}},_,this)})),function(_){return u.apply(this,arguments)})},{key:"loadFromLocalStorage",value:(s=a(w().mark(function _(S){var y,b,I,x,P;return w().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(b="LoadFromLocalStorage",I=null,(y=this)._resetErr(),y._isValid()){L.next=4;break}throw{code:y._errorCode,message:y._errorString};case 4:if(p.isObject(S)){L.next=7;break}throw $t(y),{code:y._errorCode,message:y._errorString};case 7:if(vc(pu,y,j0).call(y,S.uid)!==!1&&vc(pu,this,V0).call(this,S.password)!==!1){L.next=9;break}throw{code:y._errorCode,message:y._errorString};case 9:return(P=p.clone(S)).documentName=y._getCurrentDocumentName(),P.tagName=y._getCurrentDefaultTagName(),I=JSON.stringify([JSON.stringify(P)]),j.showProgress(y,b,!1),j.progressBarOnPercentDone(-1,"Processing...","",0,""),L.next=17,new j.Promise(function($,te){y._innerSend(b,I,!1,function(q){var Q;j.closeProgress(null,b),p.isArray(q)&&q.length>0?(Q=q[0])&&Q.mapImageIds&&$(Q.mapImageIds):(Q===!1&&y._errorCode!=0||Wi(y),te({code:y._errorCode,message:y._errorString}))},function(){j.closeProgress(null,b),te({code:y._errorCode,message:y._errorString})})});case 17:return x=L.sent,L.abrupt("return",x);case 19:case"end":return L.stop()}},_,this)})),function(_){return s.apply(this,arguments)})},{key:"removeLocalStorage",value:(o=a(w().mark(function _(S){var y,b,I,x;return w().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(b="RemoveLocalStorage",I=null,(y=this)._resetErr(),y._isValid()){P.next=4;break}throw{code:y._errorCode,message:y._errorString};case 4:if(p.isObject(S)){P.next=7;break}throw $t(y),{code:y._errorCode,message:y._errorString};case 7:if(vc(pu,y,j0).call(y,S.uid)!==!1&&vc(pu,this,V0).call(this,S.password)!==!1){P.next=9;break}throw{code:y._errorCode,message:y._errorString};case 9:return S&&(I=JSON.stringify([JSON.stringify(S)])),P.next=12,new j.Promise(function(L,$){y._innerSend(b,I,!1,function(te){if(p.isArray(te)&&te.length>0){var q=te[0];(p.isBoolean(q)||p.isNumber(q))&&L(!!q)}else Wi(y),$({code:y._errorCode,message:y._errorString})},function(){$({code:y._errorCode,message:y._errorString})})});case 12:return x=P.sent,P.abrupt("return",x);case 14:case"end":return P.stop()}},_,this)})),function(_){return o.apply(this,arguments)})}]);var o,s,u,d,c,f,m}(As);function V0(r){if(!p.isUndefined(r)){if(!p.isString(r))return Fe(this,-2850,"The password is not a string."),!1;if(r.length>32)return function(n){Fe(n,-2849,"The password must not exceed 32 characters in length.")}(this),!1}return!0}function j0(r){return p.isUndefined(r)||r==""?(Fe(this,-2846,"The uid cannot be empty."),!1):!!p.isString(r)||(function(n){Fe(n,-2847,"The uid is invalid.")}(this),!1)}function Nl(r,n,o,s){var u;o!==0&&o!==1?u=o:(u={},o&&(u.set=s==1?function(d){var c=1*d;return!p.isNumber(c)||isNaN(c)?(Vn(r),Pe):(r._resetErr(),!!r._isValid()&&r._innerFun(n,Ve(c)))}:s==2?function(d){return p.isBoolean(d)?(r._resetErr(),!!r._isValid()&&r._innerFun(n,Ve(d))):(Vn(r),Pe)}:function(d){return p.isString(d)?(r._resetErr(),!!r._isValid()&&r._innerFun(n,Ve(d))):(Vn(r),Pe)})),u.get||(u.get=function(){return r._resetErr(),!!r._isValid()&&r._innerFun(n)}),n in r||Object.defineProperty(r,n,u)}function Tle(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function d4(r,n,o){return(n=function(s){var u=function(d,c){if(R(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var m=f.call(d,c||"default");if(R(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(d)}(s,"string");return R(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function Cle(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var f4=new WeakSet,h4=function(){return v(function o(s,u,d,c){h(this,o),Tle(this,f4),d4(this,"serverUrl",void 0),this.serverUrl=s,this.bLocal=so(s),this.clientId=d??p.guid(),this.bGlobal=u,this.serverName=c,this.bLicenseOK=!1},[{key:"checkSource",value:function(o){if(!o)throw{code:-1003,message:"Source Manager unable to find the specified Source"}}},{key:"parseResultDefault",value:function(o){var s;if(p.isObject(o)&&o.exception&&o.exception!=0)throw{code:o.exception,message:(s=o.description)!==null&&s!==void 0?s:"general error"};if(o&&p.isArray(o.result)&&o.result.length>0){var u=o.result[o.result.length-1];try{return JSON.parse(u)}catch{return u}}throw o}},{key:"_requestAsync",value:(n=a(w().mark(function o(s,u,d){var c,f,m,_,S,y,b,I,x,P;return w().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(!U.DWT.ConnectWithSocket){L.next=12;break}return L.next=3,Cle(f4,this,Ile).call(this);case 3:return c=L.sent,f=0,s&&(f=s.cmdId),m={client:c,userData:{command:s},taskId:f},_=Ele,L.next=9,c.request(p.stringify(s),_,m);case 9:return S=L.sent,p.isString(S)&&(S=p.parse(S)),L.abrupt("return",S);case 12:return y=[OF(),"/",s.method].join(""),u&&(I=u),x=(P=this).serverUrl?ou.getDDMUrl(P.serverUrl,P.bGlobal,[FF,s.method].join("")):ou.getModuleUrl(y),L.prev=16,L.next=19,kd(x,{method:"post",dataType:"json",body:p.stringify(s),fetchRaw:d!=null&&d,timeout:I});case 19:b=L.sent,L.next=25;break;case 22:throw L.prev=22,L.t0=L.catch(16),L.t0;case 25:return L.abrupt("return",b);case 26:case"end":return L.stop()}},o,this,[[16,22]])})),function(o,s,u){return n.apply(this,arguments)})},{key:"_resetLicense",value:(r=a(w().mark(function o(s,u,d){return w().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:case"end":return c.stop()}},o)})),function(o,s,u){return r.apply(this,arguments)})}]);var r,n}();function Ile(){return p4.apply(this,arguments)}function p4(){return(p4=a(w().mark(function r(){var n,o,s,u,d,c,f,m,_;return w().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if((n=this)._wsClient){S.next=10;break}return o=new dl,(s=this.serverUrl)?(u=j.detect.ssl,c="/",d=u?"ddm/18626/":"ddm/18625/",p.endsWith(s,"/")&&(c=""),p.startsWith(s,"https://")||p.startsWith(s,"wss://")?(o.ssl=!0,f=p.startsWith(s,"https://")?p.replaceAll(s,"https://",""):p.replaceAll(s,"wss://",""),s=f+c+d):p.startsWith(s,"http://")||p.startsWith(s,"ws://")?(o.ssl=!1,m=p.startsWith(s,"http://")?p.replaceAll(s,"http://",""):p.replaceAll(s,"ws://",""),s=m+c+d):(o.ssl=j.detect.ssl,o.port=o.ssl?Pt.SSLPort:Pt.Port),o.server=s):(o.ssl=j.detect.ssl,o.server=si(),o.port=o.ssl?Pt.SSLPort:Pt.Port),o.useWS=!0,o.protocol=Pt.wsProtocol,_=vs.Instance.getClient(o),S.next=9,_.testConnection();case 9:n._wsClient=_;case 10:return S.abrupt("return",n._wsClient);case 11:case"end":return S.stop()}},r,this)}))).apply(this,arguments)}d4(h4,"logLevel",-1);var wle=function(r){function n(){var s;h(this,n);for(var u=arguments.length,d=new Array(u),c=0;c<u;c++)d[c]=arguments[c];return C(s=l(this,n,[].concat(d)),"_bInited",!1),s}return D(n,r),v(n,[{key:"getDynamsoftService",value:(o=a(w().mark(function s(u,d,c,f){var m,_,S,y,b,I,x,P,L,$,te,q,Q,J,re;return w().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return c=(m=c)!==null&&m!==void 0&&m,f=(_=f)!==null&&_!==void 0?_:30,S={id:this.clientId,cmdId:p.guid(),method:"SearchScanner",parameter:[1,"_privet._tcp.local.",!1,!0,c,f,u,d],version:tu},H.prev=5,H.next=8,this._requestAsync(S,3e4,!1);case 8:y=H.sent,this._bInited=!0,H.next=19;break;case 12:if(H.prev=12,H.t0=H.catch(5),!this.bLocal){H.next=18;break}throw ll(b={}),{code:b._errorCode,message:b._errorString};case 18:throw{code:-2604,message:"Failed to connect to the Proxy Service. Please make sure the Proxy Service is configured successfully, Dynamsoft Service is running, or the certificate is valid."};case 19:I=[],x=this.parseResultDefault(y),P=T(x),H.prev=22,P.s();case 24:if((L=P.n()).done){H.next=40;break}if(!(($=L.value).service_type&&$.service_type==Ui.ST_UNKNOWN||$.type&&$.type!="dynamsoft_private_cloud_scan"&&$.type!="twaindirect")){H.next=30;break}return H.abrupt("continue",38);case 30:if(!$.service_type){H.next=38;break}H.t1=$.service_type,H.next=H.t1===Ui.ST_DYNAMSOFT_SERVICE?34:38;break;case 34:return(te=$.modules)&&p.isArray(te)&&p.isString(te[0])&&(q=te[0].split(",")).length>=3&&q[0]>=1&&q[1]>=8&&q[2]>0&&($.bGlobalFind=!0,Q=g4(this.serverUrl,$),I.push(Q)),$.bGlobalFind||(re=(J=$==null?void 0:$.ty)!==null&&J!==void 0?J:"",p.warn(["The Dynamsoft Service on [",re,"] is old version."].join(""))),H.abrupt("break",38);case 38:H.next=24;break;case 40:H.next=45;break;case 42:H.prev=42,H.t2=H.catch(22),P.e(H.t2);case 45:return H.prev=45,P.f(),H.finish(45);case 48:return H.abrupt("return",I);case 49:case"end":return H.stop()}},s,this,[[5,12],[22,42,45,48]])})),function(s,u,d,c){return o.apply(this,arguments)})},{key:"dispose",value:function(){var s={id:this.clientId,cmdId:p.guid(),method:"dispose",version:tu};this._requestAsync(s,500)}}]);var o}(h4);function g4(r,n){var o=new iC;return o.server=r,o.attrs=n,o}function Ele(r,n,o,s){return BE.apply(this,arguments)}function BE(){return BE=a(w().mark(function r(n,o,s,u){var d,c;return w().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(o!=Br.GET_TASKID){f.next=4;break}return f.abrupt("return",u.taskId);case 4:if(o!=Br.ONMESSAGE_PROCESS_DATA){f.next=8;break}return f.abrupt("return",p.parse(n));case 8:if(o!=Br.ONMESSAGE_GET_TASKID){f.next=13;break}if(!u||!u.client){f.next=11;break}return f.abrupt("return",u.client.getRequestTaskId());case 11:f.next=20;break;case 13:if(o!=Br.HANDLE_RAW_MESSAGE){f.next=20;break}if(d=u==null?void 0:u.userData){f.next=17;break}return f.abrupt("return",!1);case 17:return(c=n).indexOf("Version not found")>=0||c.indexOf("Function not found")>=0?p.isFunction(d.fFun)&&d.fFun():p.isFunction(d.sFun)&&d.sFun(c),f.abrupt("return",c);case 20:case"end":return f.stop()}},r)})),BE.apply(this,arguments)}function m4(r,n,o){return(n=function(s){var u=function(d,c){if(R(d)!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var m=f.call(d,c||"default");if(R(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(d)}(s,"string");return R(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function xle(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function UE(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}function v4(r){var n,o=Ui.ST_UNKNOWN;return r==ht.ESCLSCANNER?o=Ui.ST_ESCL:r==ht.WIFIDIRECTSCANNER?o=Ui.ST_WIFI_DIRECT:((n=r)==ht.TWAINSCANNER||n==ht.WIATWAINSCANNER||n==ht.TWAINX64SCANNER||n==ht.ICASCANNER||n==ht.SANESCANNER)&&(o=Ui.ST_DYNAMSOFT_SERVICE),o}var G0=new WeakSet,z0=function(r){function n(){var S;h(this,n);for(var y=arguments.length,b=new Array(y),I=0;I<y;I++)b[I]=arguments[I];return xle(S=l(this,n,[].concat(b)),G0),m4(S,"_bInited",!1),m4(S,"_currentDevice",void 0),S}return D(n,r),v(n,[{key:"getSources",value:(_=a(w().mark(function S(y,b,I){var x,P,L,$,te,q,Q,J,re,H,F,B,V,G;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(L="",$=!1,te=[],q=!1,((Q=y??XT)&ht.ESCLSCANNER)==ht.ESCLSCANNER&&(L="_uscan._tcp.local."),(Q&ht.WIFIDIRECTSCANNER)==ht.WIFIDIRECTSCANNER&&($=!0),L.length!=0||$){z.next=9;break}return z.abrupt("return",[]);case 9:return b=(x=b)!==null&&x!==void 0&&x,I=(P=I)!==null&&P!==void 0?P:30,J={id:this.clientId,cmdId:p.guid(),method:"SearchScanner",parameter:[1,L,$,q,b,I],version:tu},z.next=14,this._requestAsync(J,3e4,!1);case 14:if(re=z.sent,this._bInited=!0,H=this.parseResultDefault(re),p.isArray(H)){z.next=19;break}throw{code:-2612,message:"The devices must be an Array."};case 19:F=T(H),z.prev=20,F.s();case 22:if((B=F.n()).done){z.next=48;break}if(!((V=B.value).service_type&&V.service_type==Ui.ST_UNKNOWN||V.type&&V.type!="dynamsoft_private_cloud_scan"&&V.type!="twaindirect")){z.next=28;break}return z.abrupt("continue",46);case 28:if(!V.service_type){z.next=46;break}z.t0=V.service_type,z.next=z.t0===Ui.ST_DYNAMSOFT_SERVICE?32:z.t0===Ui.ST_ESCL||z.t0===Ui.ST_WIFI_DIRECT?33:46;break;case 32:return z.abrupt("break",46);case 33:return(G=new ta).name="",G.displayName="",G.deviceType=0,G.isSystemDefaultPrinter=!1,V.service_type==Ui.ST_ESCL?G.deviceType=ht.ESCLSCANNER:V.service_type==Ui.ST_WIFI_DIRECT&&(G.deviceType=ht.WIFIDIRECTSCANNER),G.name=V.ty,V.hostname&&V.hostname.length>V.ty.length&&(G.name=V.hostname),G.displayName=(V.service_type==Ui.ST_ESCL?"eSCL-":"")+G.name,this.bGlobal||(V.url=this.serverUrl,this.serverName&&(G.displayName=G.displayName+" on ["+this.serverName+"]")),G.serviceInfo=g4(this.serverUrl,V),te.push(G),z.abrupt("break",46);case 46:z.next=22;break;case 48:z.next=53;break;case 50:z.prev=50,z.t1=z.catch(20),F.e(z.t1);case 53:return z.prev=53,F.f(),z.finish(53);case 56:return z.abrupt("return",te);case 57:case"end":return z.stop()}},S,this,[[20,50,53,56]])})),function(S,y,b){return _.apply(this,arguments)})},{key:"getCapabilitiesAsync",value:(m=a(w().mark(function S(y){var b,I,x;return w().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return this.checkSource(y),(y.deviceType&ht.ESCLSCANNER)!=ht.ESCLSCANNER&&(y.deviceType&ht.WIFIDIRECTSCANNER)!=ht.WIFIDIRECTSCANNER||(this._currentDevice=y),b=v4(y.deviceType),I={id:this.clientId,cmdId:p.guid(),method:"SendRequestToScanner",parameter:["getCapabilities",p.stringify({UUID:y.serviceInfo.attrs.UUID,service_type:b,ty:y.name})],version:tu},P.next=6,this._requestAsync(I,0);case 6:return x=P.sent,P.abrupt("return",this.parseResultDefault(x));case 8:case"end":return P.stop()}},S,this)})),function(S){return m.apply(this,arguments)})},{key:"selectSourceAsync",value:(f=a(w().mark(function S(y){var b;return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,this.getCapabilitiesAsync(y);case 2:if(!(b=I.sent)&&b!=""){I.next=5;break}return I.abrupt("return",!0);case 5:case"end":return I.stop()}},S,this)})),function(S){return f.apply(this,arguments)})},{key:"versionInfo",value:(c=a(w().mark(function S(){var y,b;return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return y={id:this.clientId,cmdId:p.guid(),method:"VersionInfo",version:tu},I.next=3,this._requestAsync(y,5e3);case 3:return b=I.sent,this._bInited=!0,I.abrupt("return",b);case 6:case"end":return I.stop()}},S,this)})),function(){return c.apply(this,arguments)})},{key:"getLicenseInfo",value:function(S,y,b){return this._resetLicense(S,y,b)}},{key:"getImageAsArrayBuffer",value:(d=a(w().mark(function S(y,b){return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",UE(G0,this,_4).call(this,y,b));case 1:case"end":return I.stop()}},S,this)})),function(S,y){return d.apply(this,arguments)})},{key:"getImageToDWT",value:(u=a(w().mark(function S(y,b,I){return w().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",UE(G0,this,_4).call(this,y,b,I));case 1:case"end":return x.stop()}},S,this)})),function(S,y,b){return u.apply(this,arguments)})},{key:"acquireImage",value:(s=a(w().mark(function S(y,b,I){var x,P,L,$,te,q,Q,J;return w().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:y=(x=y)!==null&&x!==void 0?x:this._currentDevice,this.checkSource(y),this._currentDevice=y,P=v4(y.deviceType),L=["scan",p.stringify({UUID:y.serviceInfo.attrs.UUID,service_type:P})],$=UE(G0,this,Ale).call(this,b),L[2]=p.stringify($),te={id:this.clientId,cmdId:p.guid(),method:"SendRequestToScanner",parameter:L,version:tu},q=0;case 9:if(!(q<5)){re.next=32;break}return re.prev=10,re.next=13,this._requestAsync(te,0);case 13:return J=re.sent,Q=this.parseResultDefault(J),p.isObject(Q)&&(Q.device=y,Q.scanOptions=$),re.abrupt("break",32);case 19:if(re.prev=19,re.t0=re.catch(10),re.t0.code!=-1004&&re.t0.code!=-1001){re.next=28;break}if(!(q>=4)){re.next=24;break}throw re.t0;case 24:return re.next=26,new j.Promise(function(H,F){setTimeout(H,2e3)});case 26:re.next=29;break;case 28:throw re.t0;case 29:q++,re.next=9;break;case 32:return re.abrupt("return",Q);case 33:case"end":return re.stop()}},S,this,[[10,19]])})),function(S,y,b){return s.apply(this,arguments)})},{key:"_resetLicense",value:(o=a(w().mark(function S(y,b,I){var x,P,L,$;return w().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return this.longKeyOrShortkey=y,this.cu=b,Ple(),x=b??"",P={id:this.clientId,cmdId:p.guid(),method:"GetLicenseInfo",parameter:[y,n.logLevel,x,I],version:tu},te.prev=5,te.next=8,this._requestAsync(P,1e4);case 8:return L=te.sent,this._bInited=!0,te.abrupt("return",this.parseResultDefault(L));case 13:if(te.prev=13,te.t0=te.catch(5),!this.bLocal){te.next=19;break}throw ll($={}),{code:$._errorCode,message:$._errorString};case 19:throw{code:-2604,message:"Failed to connect to the Proxy Service. Please make sure the Proxy Service is configured successfully, Dynamsoft Service is running, or the certificate is valid."};case 20:case"end":return te.stop()}},S,this,[[5,13]])})),function(S,y,b){return o.apply(this,arguments)})}]);var o,s,u,d,c,f,m,_}(wle);function _4(r,n,o){return y4.apply(this,arguments)}function y4(){return(y4=a(w().mark(function r(n,o,s){var u,d,c,f,m,_;return w().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(n!=null&&n.device){S.next=2;break}throw{code:-1011,message:"Operation out of expected sequence"};case 2:return s=(u=s)!==null&&u!==void 0?u:{ver:"",clientId:""},(d=["getImage",p.stringify({UUID:n.device.serviceInfo.attrs.UUID,service_type:o})])[2]=p.stringify(n.scanOptions),d[3]=n.scanJobs,d[4]=n.scanId,d[5]=s._clientId,d[6]=s._ver,c={id:this.clientId,cmdId:p.guid(),method:"SendRequestToScanner",parameter:d,version:tu},S.next=12,this._requestAsync(c,0,!0);case 12:if(f=S.sent,!(f.headers.get("content-type").indexOf("image/")>=0)){S.next=20;break}return S.next=17,f.arrayBuffer();case 17:return S.abrupt("return",S.sent);case 20:return S.next=22,f.json();case 22:if(m=S.sent,typeof(_=this.parseResultDefault(m))!="boolean"){S.next=28;break}return S.abrupt("return",null);case 28:return S.abrupt("return",_);case 29:case"end":return S.stop()}},r,this)}))).apply(this,arguments)}function Ale(r){var n=[];if(r){p.isNumber(r.PixelType)&&(n.push({capability:ks.ICAP_PIXELTYPE,curValue:r.PixelType}),U.DWT.EnumDWT_PixelType.TWPT_BW==r.PixelType&&(n.push({capability:32771,curValue:"application/octet-stream"}),n.push({capability:32772,curValue:"application/octet-stream"})));var o=r.Resolution;o||(o=300),n.push({capability:ks.ICAP_XRESOLUTION,curValue:o}),n.push({capability:ks.ICAP_YRESOLUTION,curValue:o}),r.Brightness!==void 0&&n.push({capability:ks.ICAP_BRIGHTNESS,curValue:r.Brightness}),r.XferCount!==void 0&&n.push({capability:ks.CAP_XFERCOUNT,curValue:r.XferCount}),r.Contrast!==void 0&&n.push({capability:ks.ICAP_CONTRAST,curValue:r.Contrast}),r.TransferMode!==void 0&&n.push({capability:ks.ICAP_XFERMECH,curValue:r.TransferMode}),r.IfFeederEnabled!==void 0&&n.push({capability:ks.CAP_FEEDERENABLED,curValue:r.IfFeederEnabled?1:0}),r.IfDuplexEnabled!==void 0&&n.push({capability:ks.CAP_DUPLEXENABLED,curValue:r.IfDuplexEnabled?1:0})}return n}function Ple(){var r=z0.logLevel;p.isNumber(r)||(z0.logLevel=-1)}j.removeNonPrintableChar;var S4=function(r,n,o){o==2&&p.each(n,function(s,u){Xt(r,s,{get:function(){return r._resetErr(),r._isValid()?rt:Pe},set:function(d){return r._resetErr(),r._isValid()?rt:Pe}})})},b4=function(r,n){p.each(n,function(o,s){Nl(r,o,1,2)})},T4=function(r,n){p.each(n,function(o,s){Nl(r,o,1,1)})},C4=function(r,n){p.each(n,function(o,s){Nl(r,o,0)})},I4=function(r,n){p.each(n,function(o,s){Nl(r,o,1)})};function kle(r){var n=r;n._bRemoteMode||(Xt(n,"ProductKey",{get:function(){return U.DWT.ProductKey},set:function(o){return p.isString(o)?(n._resetErr(),!!n._isValid()&&n._setProductKey(o,!1)):(Vn(n),Pe)}}),Xt(n,"ProductName",{get:function(){return n.__strProductName}}),Xt(n,"VersionInfo",{get:function(){return ko.JSVersion}}),Xt(n,"DefaultSourceName",{get:function(){var o=n._getDefaultDevice();return o?o.displayName:""}}),Xt(n,"ImageCaptureDriverType",{get:function(){return n._resetErr(),n._isValid()?n._driverType:0},set:function(o){var s=!1,u=!1,d=!1;if(n._bRemoteMode?n.__serverPlatform==Et.enumWindow?d=!0:n.__serverPlatform==Et.enumLinux?u=!0:n.__serverPlatform==Et.enumMac&&(s=!0):(s=ue.bMac,u=ue.bLinux,d=ue.bWin),n._resetErr(),!n._isValid())return!1;if(o!==""){var c=1*o,f=!1;if(c<qt.TWAIN||c>qt.TWAIN64)return r_(n),Pe;if(d){if(c===qt.TWAIN_AND_TWAIN64)n._b64bit&&(n._driverType=c);else if(c!=qt.TWAIN&&c!=qt.TWAIN64)return r_(n),Pe;n._b64bit||(c=qt.TWAIN),n._driverType=c,f=!0}else if(u)c=qt.SANE,n._driverType=c,f=!0;else if(s){if(c!==qt.TWAIN_AND_ICA){if(c!=qt.ICA&&c!=qt.TWAIN&&c!=qt.TWAIN64)return r_(n),Pe}n._driverType=c,f=!0}return f&&(n._curDevice=null,n.__devices=null),!0}return r_(n),Pe}}),Xt(n,"HTTPPostResponseString",{get:function(){return n._resetErr(),n._isValid()&&n.__HTTPPostResponseString?n.__HTTPPostResponseString:""}}),Xt(n,"IfAppendImage",{get:function(){return n._resetErr(),!!n._isValid()&&n.__IfAppendImage},set:function(o){return n._resetErr(),!!n._isValid()&&(p.isBoolean(o)?n.__IfAppendImage=o:(Vn(n),Pe))}}),Xt(n,"FTPPort",{get:function(){return n._resetErr(),n._isValid()?n._innerFun("FTPPort"):0},set:function(o){if(n._resetErr(),!n._isValid())return!1;if(o!==""){var s=1*o;return n._innerFun("FTPPort",Ve(s))}}}),Xt(n,"JPEGQuality",{get:function(){return n._resetErr(),n._isValid()?n._innerFun("JPEGQuality"):0},set:function(o){var s=1*o;return s>=100?s=100:s<0&&(s=0),n._resetErr(),!!n._isValid()&&n._innerFun("JPEGQuality",Ve(s))}}),Nl(n,"TIFFCompressionType",1,1),Nl(n,"BufferMemoryLimit",1,1),Xt(n,"LogLevel",{get:function(){return n._resetErr(),n._isValid()?n._innerFun("LogLevel"):0},set:function(o){if(n._resetErr(),!n._isValid())return!1;var s=1*o;return n._logLevel=s,z0.logLevel=n._logLevel,n._innerFun("LogLevel",Ve(s))}}),Xt(n,"HttpContentTypeFieldValue",{get:function(){return n._resetErr(),n._isValid()?n._strHttpContentTypeFieldValue:""},set:function(o){return n._resetErr(),!!n._isValid()&&(n._strHttpContentTypeFieldValue=o,o)}}),Xt(n,"BrokerProcessType",{get:function(){return n._resetErr(),n._isValid()?1:0},set:function(o){return n._resetErr(),!!n._isValid()}}),Xt(n,"BorderStyle",{get:function(){return n._resetErr(),!!n._isValid()&&0},set:function(o){return n._resetErr(),n._isValid(),!1}}),Xt(n,"HttpFieldNameOfUploadedImage",{get:function(){return n._resetErr(),n._isValid()?n.__remoteFilename:""},set:function(o){return n._resetErr(),n._isValid()?n.__remoteFilename=o:""}}),Xt(n,"style",{get:function(){return n._isValid()?n.__style:""}}),Xt(n,"ScaleDownThreshold",{get:function(){return n._resetErr(),n._isValid()?n._scaleDownThreshold:0},set:function(o){var s=1*o;return!p.isNumber(s)||isNaN(s)?(Vn(self),Pe):(n._resetErr(),!!n._isValid()&&(n._scaleDownThreshold=o))}}),Xt(n,"CurrentImageIndexInBuffer",{get:function(){return n._isValid()&&n._ImgManager?n._ImgManager.getCurrentImageIndex():0},set:function(o){var s=1*o;return n._resetErr(),!!n._isValid()&&(s>=0&&s<n._ImgManager.count()&&(n._ImgManager.setSelectedClientIndexArray([s]),n._isBindViewer()&&Ga.__innerRefreshFromUIView(n,n._ImgManager.getCurrentImageIndex())),!0)}}),Xt(n,"SelectedImagesIndices",{get:function(){return n._resetErr(),n._isValid()?n._ImgManager.count()<=0?[]:n._ImgManager.getSelectedClientIndexArray():[]}}),Xt(n,"MaxImagesInBuffer",{get:function(){return n._resetErr(),n._isValid()?n.__maxImagesInBuffer:0},set:function(o){var s=1*o;return n._resetErr(),!!n._isValid()&&(s>0&&s<32768?n.__maxImagesInBuffer=s:Fe(n,-1010,"Data parameter out of supported range."),n.__maxImagesInBuffer)}}),Xt(n,"IfSSL",{get:function(){return n._bSSL},set:function(o){return n._bSSL=o,n._innerFun("IfSSL",Ve(o)),!0}}),Nl(n,"IfAllowLocalCache",1,2),Xt(n,"UseLocalService",{get:function(){return!0}}),Xt(n,"PDFCompressionType",{get:function(){return n._resetErr(),!!n._isValid()&&n._innerFun("PDFCompressionType")},set:function(o){var s=1*o;return s==U.DWT.EnumDWT_PDFCompressionType.PDF_FAX3&&(s=U.DWT.EnumDWT_PDFCompressionType.PDF_FAX4),n._resetErr(),!!n._isValid()&&n._innerFun("PDFCompressionType",Ve(s))}}),n._setProductKey=function(o,s,u,d){var c=!0,f=o,m=function(S){S||(n.__licenseInfo=void 0);var y=!0;return d||(y=_t.checkProductKey(n,{Core:!0})),p.isFunction(u)&&u(),y};if(n._resetErr(),!n._isValid())return!1;if(Ie.bUseDynamsoftLicenseManager||n._blts)return RT(n),!1;if(f=p.isString(f)?p.trim(f):"",U.DWT.ProductKey=f,f=="")c=!1,m();else{_t.reparseProductKey();var _=U.DWT.licenseException;if(_.code!=0)return n.__licenseInfo=void 0,n._errorCode=_.code,n._errorString=_.message,p.isFunction(u)&&u(),!1;n._innerFunRaw("ProductKey",Ve(f),s,!1,!1,function(S){var y=!1;y=p.isArray(S)?S[0]:S,p.isArray(S)&&S.length>=3&&S[1]==="1"&&p.isFunction(U.DWT.ShowMessage)&&U.DWT.ShowMessage(S[2],{width:510,height:272,headerStyle:1,seconds:10}),s||(c=y),n.__licenseInfo=void 0,n.GetLicenseInfo(function(){n._setConvertMode(n._pdfConvertMode),m(!0)},m)},function(){s||(c=!1),m()})}return c},I4(n,["ProxyServer"]),I4(n,["CapValueString","CapDescription","FTPPassword","FTPUserName","PDFAuthor","PDFCreationDate","PDFCreator","PDFKeywords","PDFModifiedDate","PDFProducer","PDFSubject","PDFTitle","PDFVersion"]),C4(n,["Manufacturer","ProductFamily","ImageBitsPerPixel","ImageLength","ImageWidth","ImageXResolution","ImageYResolution"]),C4(n,["BlankImageCurrentStdDev","CapDefaultIndex","CapDefaultValue","DataSourceStatus","Duplex","PendingXfers","ImageLayoutDocumentNumber","ImageLayoutFrameBottom","ImageLayoutFrameLeft","ImageLayoutFrameNumber","ImageLayoutFrameRight","ImageLayoutFrameTop","ImageLayoutPageNumber","ImagePixelType","MagData","MagType","IfFeederLoaded","IfPaperDetectable","IfUIControllable"]),b4(n,["AllowPluginAuthentication","IfModalUI","IfScanInNewThread","_AutoCropMethod","IfSortBySelectionOrder"]),b4(n,["IfDisableSourceAfterAcquire","IfDuplexEnabled","IfFeederEnabled","IfPASVMode","IfAutoBright","IfAutoDiscardBlankpages","IfAutoFeed","IfAutomaticBorderDetection","IfAutomaticDeskew","IfAutoScan","IfShowIndicator","IfUseTwainDSM","IfTiffMultiPage"]),T4(n,["MaxInternetTransferThreads"]),T4(n,["BlankImageMaxStdDev","BlankImageThreshold","BitDepth","Brightness","PageSize","PixelType","Resolution","Capability","CapCurrentIndex","CapCurrentValue","CapMaxValue","CapMinValue","CapNumItems","CapStepSize","CapType","CapValue","CapValueType","Contrast","PixelFlavor","TransferMode","Unit","XferCount"]),S4(n,["AsyncMode","EnableInteractiveZoom","IfThrowException","ImageEditorIfEnableEnumerator","ImageEditorIfReadonly","ImageEditorIfModal","ImageEditorWindowTitle","IfShowPrintUI","VScrollBar"],2),S4(n,["IfOpenImageWithGDIPlus"]))}j.DynamicLoadAddonFuns=[],j.attachAddon=function(r){var n=!1;return p.each(j.DynamicLoadAddonFuns,function(o){p.isFunction(o)&&(o(r),n=!0)}),!Or.bFullEdition&&r.__addon&&delete r.__addon.Camera,n};var w4=v(function r(n,o,s){h(this,r),this.Url=n,this.Width=o,this.Height=s}),Dle=function(){return v(function n(o){h(this,n),this._stwain=o,this._ImgManager=o._ImgManager},[{key:"Print",value:function(){var n=this;if(n.count()<=0)return!1;var o,s=[];for(o=0;o<n.count();o++)s.push(o);return n.PrintEx(s)}},{key:"PrintCurrentImage",value:function(){var n,o,s,u=this;if(!((n=u._ImgManager.getCurrentImageIndex())<0))return(s=u._ImgManager.convertClientIndexToServerId(n))==-1?(qe(u),!1):(o=ar.getImageUrl(u._ImgManager.getBaseUrl,s,-1,-1),u.__PrintInner(o,s,n))}},{key:"PrintEx",value:function(n){var o=this;if(!(o.count()<=0)){var s=[];return U.DWT.ConnectWithSocket?o.__GetPrintUrlforSocket(n,s):o.__GetPrintUrlforHttp(n,s),!0}}},{key:"__PrintInner",value:function(n,o,s){var u=this,d=u._ImgManager.getImageIdMap(o),c=[];if(!d)return!1;var f=p.clone(d),m=f.width;(p.isUndefined(f.width)||f.width<=0)&&(f.width=u.getImageWidthFromServer(s));var _=f.height;(p.isUndefined(f.height)||f.height<=0)&&(f.height=u.getImageHeightFromServer(s));var S=new w4(n,f.width,f.height);return c.push(S),f.width=m,f.height=_,ar.print(c),!0}},{key:"__GetPrintUrl",value:function(n,o,s){var u,d,c=this,f=0,m=0;return(u=c._ImgManager.getImageIdMap(o))&&(!u.width||u.width<=0?u.width=c.getImageWidthFromServer(s):f=u.width,!u.height||u.height<=0?u.height=c.getImageHeightFromServer(s):m=u.height,d=new w4(n,u.width,u.height),u.width=f,u.height=m),d}},{key:"__GetPrintUrlforHttp",value:(r=a(w().mark(function n(o,s){var u,d,c,f,m,_,S,y,b,I;return w().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:u=this,d=0;case 2:if(!(d<o.length)){x.next=23;break}if(c=o[d],(f=u._ImgManager.convertClientIndexToServerId(c))==-1){x.next=20;break}if(m=void 0,!(U.navInfoSync.bMac&&U.navInfoSync.bSafari||U.navInfoSync.bFirefox)){x.next=17;break}if(!(_=u._stwain._ImgManager.getImageIdMap(f))){x.next=17;break}if(!(S=_.uuid)||S==-1){x.next=17;break}return x.next=14,u._stwain.Viewer.webViewer.myDvs.getImageData(S,{type:"blob"});case 14:y=x.sent,b=window.URL||window.webkitURL,m=b.createObjectURL(y);case 17:m||(m=ar.getImageUrl(u._ImgManager.getBaseUrl,f,-1,-1)),I=u.__GetPrintUrl(m,f,c),s.push(I);case 20:d++,x.next=2;break;case 23:ar.print(s);case 24:case"end":return x.stop()}},n,this)})),function(n,o){return r.apply(this,arguments)})},{key:"__GetPrintUrlforSocket",value:function(n,o){var s,u=this,d=Te.Promise.resolve(0),c=0;return p.each(n,function(f){d=d.then(function(){var m=u._ImgManager.convertClientIndexToServerId(f);m!=-1&&u._ImgManager.getImageData(f).then(function(_){if(c++,!_){var S={};return Ot(S),void vr(S._errorString)}s=nu(_.oriData)?URL.createObjectURL(new Blob([_.oriData])):_.oriData instanceof Blob?URL.createObjectURL(_.oriData):_.oriData;var y=u.__GetPrintUrl(s,m,f);o.push(y),n.length==c&&ar.print(o)})})}),!0}},{key:"__GetPrintUrlforMobileEx",value:function(n,o){var s,u=this,d=Te.Promise.resolve(0),c=0;return p.each(n,function(f){d=d.then(function(){var m=u._ImgManager.convertClientIndexToServerId(f);m!=-1&&u._ImgManager.getImageData(f).then(function(_){if(c++,!_){var S={};return Ot(S),void vr(S._errorString)}s=nu(_.oriData)?URL.createObjectURL(new Blob([_.oriData])):_.oriData instanceof Blob?URL.createObjectURL(_.oriData):_.oriData;var y=u.__GetPrintUrl(s,m,f);o.push(y),n.length==c&&ar.print(o)})})}),!0}},{key:"count",value:function(){return this._ImgManager.count()}},{key:"getImageHeightFromServer",value:function(n){var o,s,u,d=this,c=1*n;return o=d.count(),c<0||c>o?0:(u=d._ImgManager.convertClientIndexToServerId(c),(s=d._ImgManager.getImageIdMap(u))&&s.imageHeight?s.imageHeight:d._stwain.GetImageHeight(c))}},{key:"getImageWidthFromServer",value:function(n){var o,s,u,d=this,c=1*n;return o=d.count(),c<0||c>o?0:(u=d._ImgManager.convertClientIndexToServerId(c),(s=d._ImgManager.getImageIdMap(u))&&s.imageWidth?s.imageWidth:d._stwain.GetImageWidth(c))}}]);var r}();function Rle(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function Dn(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}j.detect.viewerScriptLoaded=rt;var bn=new WeakSet,E4=function(r){function n(u){var d,c,f;return h(this,n),Rle(d=l(this,n,[u]),bn),d._ImgManager=new NU(d,d._imageBufferWrapper),d._imageBufferWrapper=d._ImgManager,d._ImagePrint=new Dle(d),c=u||{},d._config=c,d._destroying=Pe,d._iServiceType=IE.TwainService,d.__addon={},d._bNoMask=Pe,d._bNotShowMessage=Pe,d._bSelectedSourceByServer=Pe,d._bKeepAwake=Pe,d._bAx=Pe,c.container&&(d._containerElement=c.container),d.__IfShowCancelDialogWhenImageTransfer=rt,d._errorCode=0,d._errorString="",d.__bLoadingImage=Pe,d.__bAcquireImageNow=Pe,d.__bOpenFileNow=Pe,d.__defaultSourceName="",d.__sourceCount=0,d._bConnecting=Pe,d.__licenseInfo=void 0,d.__strProductName=U.DWT.ProductName,d.__productKey="",d._moduleSize=1048576,d._driverType=qt.TWAIN,d.__maxUploadImageSize=-1,d._bServerPercentDone=rt,d._bSSL=ue.bSSL,d._bRegistedLoad=!1,d._logLevel=0,d._scaleDownThreshold=0,d._pdfWriteSetting={},d.__serverPlatform=Et.enumUnknown,d._reconnectTimeSpan=Or.LocaleReconnectTimeSpan,d._bRemoteMode||(d.httpFormFields={},d.HTTPPassword="",d.HTTPPort=j.detect.ssl?443:80,d.HTTPUserName="",d.__HTTPPostResponseString="",d.__remoteFilename="RemoteFile",d.__httpHeaderMap=Pe,d._b64bit?d._segementUploadThreshold=4294967296:d._segementUploadThreshold=524288e3,d._aryTiffTag=[],d._tiffCompressionType=U.DWT.EnumDWT_TIFFCompressionType.TIFF_AUTO,d._jpgQuality=80,d._pdfConvertMode=3,d._pdfOptions={convertMode:gr.CM_AUTO,password:"",renderOptions:{renderAnnotations:!1,resolution:200,maxWidth:0,maxHeight:0,renderGrayscale:!1}}),kle(d),Xt(f=d,"Width",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("Width"),""):f._UIView.GetWidth():""},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("Width"):f._UIView.SetWidth(m))}}),Xt(f,"Height",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("Height"),""):f._UIView.GetHeight():""},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("Height"):f._UIView.SetHeight(m))}}),Xt(f,"AllowMultiSelect",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?f._nouiNotSupport("AllowMultiSelect"):f._UIView.GetAllowMultiSelect():""},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("AllowMultiSelect"):void f._UIView.SetAllowMultiSelect(m))}}),Xt(f,"BackgroundColor",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("BackgroundColor"),""):f._UIView.GetBackgroundColor():""},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("BackgroundColor"):f._UIView.SetBackgroundColor(m))}}),Xt(f,"BackgroundFillColor",{get:function(){if(f._resetErr(),!f._isValid())return"";if(f._isNoViewer())return f._nouiNotSupport("BackgroundFillColor"),"";var m=f._innerFun("BackgroundFillColor");return Zo.BGR2RGB(m)},set:function(m){if(f._resetErr(),!f._isValid())return!1;if(f._isNoViewer())return f._nouiNotSupport("BackgroundFillColor");var _,S=1*m;return!p.isNumber(S)||p.isNaN(S)?(Vn(f),Pe):(_=Zo.RGB2BGR(S),f._innerFun("BackgroundFillColor",Ve(_)))}}),Xt(f,"FitWindowType",{get:function(){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?(f._nouiNotSupport("FitWindowType"),0):f._UIView.GetFitWindowType())},set:function(m){if(f._resetErr(),!f._isValid())return!1;if(f._isNoViewer())return f._nouiNotSupport("FitWindowType");var _=1*m;return f._UIView.SetFitWindowType(_)}}),Xt(f,"IfFitWindow",{get:function(){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("IfFitWindow"):f._UIView.GetIfFitWindow())},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("IfFitWindow"):m?f._UIView.SetIfFitWindow(!0):f._UIView.SetIfFitWindow(!1))}}),Xt(f,"ImageMargin",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("ImageMargin"),0):f._UIView.GetImageMargin():0},set:function(m){if(f._resetErr(),!f._isValid())return!1;if(f._isNoViewer())return f._nouiNotSupport("ImageMargin");var _=parseInt(m);return!isNaN(_)&&f._UIView.SetImageMargin(_)}}),Xt(f,"MouseX",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("MouseX"),0):f.__MouseX:0}}),Xt(f,"MouseY",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("MouseY"),0):f.__MouseY:0}}),Xt(f,"SelectionImageBorderColor",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("SelectionImageBorderColor"),""):f._UIView.GetSelectionImageBorderColor():""},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("SelectionImageBorderColor"):f._UIView.SetSelectionImageBorderColor(m))}}),Xt(f,"Zoom",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("Zoom"),0):f._UIView.GetZoom():0},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("Zoom"):f._UIView.SetZoom(m))}}),Xt(f,"MouseShape",{get:function(){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("MouseShape"):f._UIView.GetMouseShape())},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("MouseShape"):f._UIView.SetMouseShape(m))}}),Xt(f,"SelectionRectAspectRatio",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("SelectionRectAspectRatio"),0):f._UIView.GetSelectionRectAspectRatio():0},set:function(m){if(f._resetErr(),!f._isValid())return!1;if(f._isNoViewer())return f._nouiNotSupport("SelectionRectAspectRatio");var _=parseFloat(m);return _>=0&&(f._UIView.SetSelectionRectAspectRatio(_),!0)}}),Xt(f,"ShowPageNumber",{get:function(){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("ShowPageNumber"):f._UIView.GetShowPageNumber())},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("ShowPageNumber"):f._UIView.SetShowPageNumber(m))}}),Xt(f,"IfAutoScroll",{get:function(){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("IfAutoScroll"):f._UIView.GetIfAutoScroll())},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("IfAutoScroll"):f._UIView.SetIfAutoScroll(m))}}),d._innerInitEvents(c),d}return D(n,r),v(n,[{key:"GetImageDataAsync",value:function(u){return this._ImgManager.getImageData(u)}},{key:"SetCustomDataAsync",value:function(u,d){return this._ImgManager.setCustomData(u,d)}},{key:"style",get:function(){return this.__style}},{key:"GetSourceNamesAsync",value:(s=a(w().mark(function u(d){var c;return w().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if((c=this)._resetErr(),c._isValid()){f.next=4;break}throw{code:c._errorCode,message:c._errorString};case 4:return Xr("GetSourceNamesAsync",c),f.prev=5,f.next=8,c._getSourceCountAsync(c._driverType);case 8:f.next=13;break;case 10:throw f.prev=10,f.t0=f.catch(5),f.t0;case 13:return f.prev=13,kr("GetSourceNamesAsync"),f.finish(13);case 16:if(!d){f.next=20;break}return f.abrupt("return",Dn(bn,c,x4).call(c));case 20:return f.abrupt("return",Dn(bn,c,A4).call(c));case 21:case"end":return f.stop()}},u,this,[[5,10,13,16]])})),function(u){return s.apply(this,arguments)})},{key:"SelectSourceAsync",value:function(u){var d;return d=kn.dialogText.selectSource,this._selectSourceAsync("SelectSourceAsync",u,d)}},{key:"SelectSourceByIndexAsync",value:function(u){return this._selectSourceByIndexAsync("SelectSourceByIndex",u)}},{key:"OpenSourceAsync",value:function(){return this._openSourceAsync("OpenSourceAsync")}},{key:"CloseSourceAsync",value:function(){return this._closeSourceAsync("CloseSourceAsync")}},{key:"OpenSourceManagerAsync",value:function(){var u=this;return u._resetErr(),u._isValid()?u._innerFunV2("OpenSourceManager"):j.Promise.reject({code:u._errorCode,message:u._errorString})}},{key:"CloseSourceManagerAsync",value:function(){var u=this;return u._resetErr(),u._isValid()?u._innerFunV2("CloseSourceManager"):j.Promise.reject({code:u._errorCode,message:u._errorString})}},{key:"AcquireImage",value:function(u,d,c){var f,m=this,_=null,S=null;return m._resetErr(),!!m._isValid()&&(p.isUndefined(c)&&(p.isFunction(u)&&p.isFunction(d)||p.isFunction(u)&&p.isUndefined(d)||p.isFunction(u)&&d==null||u==null&&p.isFunction(d))?(f={},p.isFunction(u)&&(_=u),p.isFunction(d)&&(S=function(y){y&&y.code&&(m._errorCode=y.code,m._errorString=y.message),d(m._errorCode,m._errorString)})):(f=p.isUndefined(u)||u==null?{}:p.clone(u),p.isFunction(d)&&(_=function(){d(f)}),p.isFunction(c)&&(S=function(y){y&&y.code&&(m._errorCode=y.code,m._errorString=y.message),c(f,m._errorCode,m._errorString)})),_||(_=function(){}),S||(S=function(y){y&&y.code&&(m._errorCode=y.code,m._errorString=y.message)}),m.AcquireImageAsync(f).then(_,S),!Vi.isServerInvalid(m))}},{key:"GetDevicesAsync",value:function(u,d,c){return this._getDevicesAsync("GetDevicesAsync",u,d,c)}},{key:"SelectDeviceAsync",value:function(u,d){var c=this;return c._resetErr(),c._isValid()?this._selectDeviceAsync("SelectDeviceAsync",u,d):j.Promise.reject({code:c._errorCode,message:c._errorString})}},{key:"AcquireImageAsync",value:function(u){return E(A(n.prototype),"_acquireImage",this).call(this,this._curDevice,u)}},{key:"ImageIDToIndex",value:function(u){return this._uidFromServer2index(u)}},{key:"IndexToImageID",value:function(u){return this._index2uidFromServer(u)}},{key:"RemoveImage",value:function(u){return this._removeImage("RemoveImage",u)}},{key:"_innerGetSourceNamesSync",value:function(u){var d=this;return d._getSourceCountSync(),u?Dn(bn,d,x4).call(d):Dn(bn,d,A4).call(d)}},{key:"getCapabilities",value:function(u,d,c){var f,m,_,S=this;return j.isFunction(u)?(m=u,_=d):(f=u,m=d,_=c),!p.isUndefined(f)&&(!p.isArray(f)||p.isArray(f)&&f.indexOf(null)>=0||p.isString(f)&&f.trim().length==0)?($t(S),void(p.isFunction(_)&&_(S._errorCode,S._getErrorString()))):this._dwtGetCapabilities(f,m,_)}},{key:"setCapabilities",value:function(u,d,c){return this._dwtSetCapabilities(u,d,c)}},{key:"CancelAllPendingTransfers",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CancelAllPendingTransfers")}},{key:"CloseSource",value:function(){var u=this;if(u._resetErr(),!u._isValid())return!1;var d=u._innerFun("CloseSource");return d&&(u._curDevice=null),d}},{key:"CloseSourceManager",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("CloseSourceManager")}},{key:"SelectDevice",value:function(u,d){var c,f=this;if(u&&u.deviceType,f._resetErr(),U.DWT.ConnectWithSocket)return Fe(f,-2400,"SelectDevice doesn't work under current settings."),!1;var m,_=(c=this._dmService.attrs)===null||c===void 0?void 0:c.UUID;if(_&&((m=u.serviceInfo.attrs)===null||m===void 0?void 0:m.UUID)!=_){var S,y=((S=u.serviceInfo.attrs)===null||S===void 0?void 0:S.url)||u.serviceInfo.server;if(!(y&&y.indexOf(_)>-1))return pF(f),!1}var b=!1;try{(b=Dn(bn,this,Fle).call(this,u.strDevice,d))&&(this._curDevice=u,this._bSelectedSourceByServer=!1)}catch(I){b=!1,this._errorCode=kt.CommonError,I&&I.message&&(this._errorString=I.message)}return b}},{key:"DisableSource",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("DisableSource")}},{key:"FeedPage",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("FeedPage")}},{key:"GetDeviceType",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("GetDeviceType")}},{key:"GetSourceNameItems",value:function(u){var d=this;return d._resetErr(),!!d._isValid()&&(d.__sourceCount<0&&(d.__sourceCount=0),u<d.__sourceCount&&u>=0?d._getSourceNameByIndex(u):"")}},{key:"SourceNameItems",value:function(u){var d=this;return d._resetErr(),!!d._isValid()&&d.GetSourceNameItems(u)}},{key:"GetSourceNames",value:function(u){return this._innerGetSourceNamesSync(u)}},{key:"getSourceCount",value:function(u){return this._getSourceCountAsync(u)}},{key:"GetSourceCountAsync",value:function(u){return this._getSourceCountAsync(u)}},{key:"GetSourceType",value:function(u){var d=this,c=parseInt(u);if(d._resetErr(),isNaN(c))return $t(d),!1;if(d.__devices==null&&d.GetSourceNames(!1),c>=d.__devices.length||c<0)return qe(d),!1;var f,m,_,S=d.__devices[c];return f=S.deviceType,m=qt.TWAIN,(_=f&J$)==ht.TWAINSCANNER||_==ht.WIATWAINSCANNER||(_==ht.TWAINX64SCANNER?m=qt.TWAIN64:_==ht.ICASCANNER?m=qt.ICA:_==ht.SANESCANNER?m=qt.SANE:(_&ht.TWAINX64SCANNER)==ht.TWAINX64SCANNER?(_&ht.TWAINSCANNER)!=ht.TWAINSCANNER&&(_&ht.WIATWAINSCANNER)!=ht.WIATWAINSCANNER||(m=qt.TWAIN_AND_TWAIN64):(_&ht.ICASCANNER)==ht.ICASCANNER&&((_&ht.TWAINSCANNER)!=ht.TWAINSCANNER&&(_&ht.WIATWAINSCANNER)!=ht.WIATWAINSCANNER||(m=qt.TWAIN_AND_ICA))),m}},{key:"OpenSource",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&(u._bRemoteMode?(Fe(u,-2610,"OpenSource is not supported when Object is created by CreateRemoteScanObjectAsync. Please use OpenSourceAsync instead."),!1):u._innerFun("OpenSource"))}},{key:"OpenSourceManager",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("OpenSourceManager")}},{key:"ResetImageLayout",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("ResetImageLayout")}},{key:"RewindPage",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("RewindPage")}},{key:"SelectSource",value:function(u,d){var c=this,f=!1;if(p.isFunction(u)&&(f=!0),c._resetErr(),!c._isValid())return!!f&&void 0;var m=qt.TWAIN;if(!f){if(c._bRemoteMode)return Fe(c,-2438,"SelectSource cannot be used synchronously when Object is created by CreateRemoteScanObjectAsync. Please use SelectSourceAsync instead."),!1;if(c._driverType==qt.TWAIN_AND_TWAIN64)return function(P){Fe(P,-2429,"The method SelectSource() must be invoked asynchronously (i.e. with callback functions) when ImageCaptureDriverType is set to TWAIN_AND_ICA or TWAIN_AND_TWAIN64.")}(c),!1;c._driverType!=qt.ICA&&c._driverType!=qt.SANE&&c._driverType!=qt.TWAIN64||(m=c._driverType);var _=ue.bMac,S=ue.bLinux,y=y_(m,ue.bWin,S,_,ue.bAndroid);return c._bSelectedSourceByServer=!0,c._curDevice=null,c._innerFun("SelectSource",Ve(y))}c._driverType!=qt.ICA&&c._driverType!=qt.SANE&&c._driverType!=qt.TWAIN64&&c._driverType!=qt.TWAIN_AND_TWAIN64||(m=c._driverType);var b=ue.bMac,I=ue.bLinux,x=y_(m,ue.bWin,I,b,ue.bAndroid);c.SelectSourceAsync(x).then(function(){p.isFunction(u)&&u()},function(P){P&&P.code&&(c._errorCode=P.code,c._errorString=P.message),p.isFunction(d)&&d(c._errorCode,c._getErrorString())})}},{key:"GetSourceTypeAsync",value:function(u){var d=this,c=1*u;return d._resetErr(),d._isValid()?j.Promise.resolve(d.GetSourceType(c)):j.Promise.reject({code:d._errorCode,message:d._errorString})}},{key:"SetFileXferInfo",value:function(u,d){var c,f,m=this;return m._resetErr(),!!m._isValid()&&(c=ue.bFileSystem?u.replace(/<%/g,"<%25"):u,f=At.replaceLocalFilename(c),m._innerFun("SetFileXferInfo",Ve(f,d)))}},{key:"SetImageLayout",value:function(u,d,c,f){var m=this;return m._resetErr(),!!m._isValid()&&m._innerFun("SetImageLayout",Ve(u,d,c,f))}},{key:"CapGet",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGet")}},{key:"CapGetCurrent",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetCurrent")}},{key:"CapGetDefault",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetDefault")}},{key:"CapGetFrameBottom",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameBottom",Ve(u))}},{key:"CapGetFrameLeft",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameLeft",Ve(u))}},{key:"CapGetFrameRight",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameRight",Ve(u))}},{key:"CapGetFrameTop",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameTop",Ve(u))}},{key:"CapGetHelp",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetHelp")}},{key:"CapGetLabel",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetLabel")}},{key:"CapGetLabels",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetLabels")}},{key:"CapIfSupported",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapIfSupported",Ve(u))}},{key:"CapReset",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapReset")}},{key:"CapSet",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapSet")}},{key:"CapSetFrame",value:function(u,d,c,f,m){return this._resetErr(),!!this._isValid()&&this._innerFun("CapSetFrame",Ve(u,d,c,f,m))}},{key:"GetCapItems",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("GetCapItems",Ve(u))}},{key:"GetCapItemsString",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("GetCapItemsString",Ve(u))}},{key:"SetCapItems",value:function(u,d){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCapItems",Ve(u,d))}},{key:"SetCapItemsString",value:function(u,d){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCapItemsString",Ve(u,d))}},{key:"GenerateURLForUploadData",value:function(u,d,c,f,m){var _=this,S=[];if(d==U.DWT.EnumDWT_ImageType.IT_BMP||d==U.DWT.EnumDWT_ImageType.IT_JPG||d==U.DWT.EnumDWT_ImageType.IT_PNG){if(!p.isArray(u))return Pd(_),p.isFunction(f)&&f(_._errorCode,_._getErrorString(),"",u,d),"";if(u.length>1)return Ad(_),p.isFunction(f)&&f(_._errorCode,_._getErrorString(),"",u,d),"";if(!_._checkIndices(u))return f(_._errorCode,_._getErrorString(),"",u,d),!1;var y=_._ImgManager.convertClientIndexToServerId(u[0]);y!=-1&&S.push(y)}else{if(d!=U.DWT.EnumDWT_ImageType.IT_TIF&&d!=U.DWT.EnumDWT_ImageType.IT_PDF)return p.isArray(u)?Li(_):Pd(_),p.isFunction(f)&&f(_._errorCode,_._getErrorString(),_.__HTTPPostResponseString,u,d),"";var b,I;if(p.isArray(u)){if(!_._checkIndices(u))return f(_._errorCode,_._getErrorString(),"",u,d),!1;b=u}else{if(u!=-1)return Pd(_),p.isFunction(f)&&f(_._errorCode,_._getErrorString(),_.__HTTPPostResponseString,u,d),"";for(b=[],I=0;I<_._ImgManager.count();I++)b.push(I)}p.each(b,function(x){var P=_._ImgManager.convertClientIndexToServerId(x);P!=-1&&S.push(P)})}return p.isFunction(c)&&p.isFunction(f)?(_._asyncGenerateURLForUploadData(S,d,m,c,function(x){f(_._errorCode,_._getErrorString(),_.__HTTPPostResponseString,x,d)}),!0):this._syncGenerateURLForUploadData(S,d,m)}},{key:"_syncGenerateURLForUploadData",value:function(u,d,c){var f,m=this,_=!1,S=Pt.managerVersion.join(""),y=c,b=",";p.isString(y)&&y!=""||(y="",b="");var I=["[",'"dcp","dwasm_'+S,'",',d,',"',u.join(","),'"',b,y,"]"].join("");if((f=this._innerFunRaw("GenerateURLForUploadData",I,!1,!1,!0))&&p.isArray(f.result)&&f.result.length>1){var x=f.result[0],P=f.result[1];x==1&&(_=["dcp://dwasm_",S,"/file/",P].join(""))}return p.isArray(u)&&p.each(u,function(L){m._ImgManager.convertServerIdToClientIndex(L)}),_==0?(ET(m),""):_}},{key:"_asyncGenerateURLForUploadData",value:function(u,d,c,f,m){var _=this,S=d,y=function(){if(p.isFunction(m)){var $=[];p.isArray(u)&&p.each(u,function(te){var q=_._ImgManager.convertServerIdToClientIndex(te);q>-1&&$.push(q)}),m($)}return""},b=",";if(S==U.DWT.EnumDWT_ImageType.IT_BMP||S==U.DWT.EnumDWT_ImageType.IT_JPG||S==U.DWT.EnumDWT_ImageType.IT_PNG){if(u.length>1)return Ad(_),y(),""}else if(S!=U.DWT.EnumDWT_ImageType.IT_TIF&&S!=U.DWT.EnumDWT_ImageType.IT_PDF)return Li(_),y(),"";var I=!1,x=Pt.managerVersion.join(""),P=c;p.isString(P)&&P!=""||(P="",b="");var L=["[",'"dcp","dwasm_'+x,'",',S,',"',u.join(","),'"',b,P,"]"].join("");return this._innerFunRaw("GenerateURLForUploadData",L,!0,!1,!0,function($){if($&&p.isArray($.result)&&$.result.length>0)if($.result[0]==1&&$.result.length>1){var te=$.result[1];I=["dcp://dwasm_",x,"/file/",te].join("")}else $.exception!==void 0&&$.description!==void 0?(_._errorCode=$.exception,_._errorString=$.description):ET(_);else ET(_);if(I==0)return y(),"";if(p.isFunction(f)){var q=[];p.isArray(u)&&p.each(u,function(Q){var J=_._ImgManager.convertServerIdToClientIndex(Q);J>-1&&q.push(J)}),f(I,q,d)}return I},y)}},{key:"SelectSourceByIndex",value:function(u){var d=this,c=parseInt(u);if(d._resetErr(),isNaN(c))return $t(d),!1;if(d.__devices==null&&d.GetSourceNames(!1),c>=d.__devices.length||c<0)return qe(d),!1;var f=d.__devices[c];return d.SelectDevice(f)}},{key:"EnableSource",value:function(u,d,c){var f=this;return f._resetErr(),!!f._isValid()&&f.AcquireImage(u,d,c)}},{key:"SourceCount",get:function(){return this._getSourceCountSync()}},{key:"CurrentSourceName",get:function(){return this._curDevice?this._curDevice.displayName:""}},{key:"checkStartScanParams",value:function(u,d){var c=this;if(!u)return Fe(c,-2381,"scanSetup is invalid."),!1;if(!p.isUndefined(d.transferMode)&&u.transferMode!=0&&u.transferMode!=1&&u.transferMode!=2)return function(f){Fe(f,-2382,"Scanner setup error: Invalid Transfer Mode.")}(c),!1;if(u.transferMode==U.DWT.EnumDWT_TransferMode.TWSX_FILE){if(!u.fileXfer)return function(f){Fe(f,-2383,"Scanner setup error: fileXfer is invalid.")}(c),!1;if(!p.isString(u.fileXfer.fileName)||u.fileXfer.fileName=="")return function(f){Fe(f,-2384,"Scanner setup error: Invalid fileName in fileXfer.")}(c),!1;if(!p.isNumber(u.fileXfer.fileFormat)||u.fileXfer.fileFormat<0||u.fileXfer.fileFormat>16)return function(f){Fe(f,-2385,"Scanner setup error: Invalid fileFormat in fileXfer.")}(c),!1}if(d){if(!p.isString(d.type)||d.type=="")return function(f){Fe(f,-2387,"Output setup error: Invalid type in outputSetup.")}(c),!1;if(!d.httpParams)return function(f){Fe(f,-2386,"Output setup error: Invalid httpParams in outputSetup.")}(c),!1;if(u.transferMode!=U.DWT.EnumDWT_TransferMode.TWSX_FILE&&p.isUndefined(d.format))return function(f){Fe(f,-2390,"Output setup error: Invalid format in outputSetup.")}(c),!1;if(!p.isString(d.httpParams.url)||d.httpParams.url=="")return function(f){Fe(f,-2388,"Output setup error: Invalid url in outputSetup.httpParams.")}(c),!1;if(!p.isString(d.httpParams.fileName)||d.httpParams.fileName=="")return function(f){Fe(f,-2389,"Output setup error: Invalid fileName in outputSetup.httpParams.")}(c),!1}return!0}},{key:"startScan",value:function(u){var d,c=this,f=u;if(c._resetErr(),!c._isValid())return!1;if(c._startScanFlag==1)return Fe(d={},-2432,"Operation in progress, please try again when the current operation has finished."),j.Promise.reject({code:d._errorCode,message:d._errorString});c._startScanFlag=!0,p.isObject(f)||(f={});var m,_,S,y=!1,b=!1,I=!0,x=!0,P=!0,L=!1,$=f.onFinally,te=[],q=[],Q=0,J=1,re=[],H={type:"http",format:U.DWT.EnumDWT_ImageType.IT_PDF,reTries:3,useUploader:!1,singlePost:!0,showProgressBar:!0,removeAfterOutput:!0,httpParams:{url:"",headers:{},formFields:{},remoteName:"RemoteFile",fileName:""}},F=p.clone(f),B=f;if(S=F.funcScanStatus,delete F.funcScanStatus,p.isFunction(S)?F.bfuncScanStatus=!0:F.bfuncScanStatus=!1,F.outputSetup){var V={pdfSetup:{},tiffSetup:{}};P4(F.outputSetup,H),_=F.outputSetup,delete F.outputSetup,_.pdfSetup&&(_.format!=U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF&&_.format!=U.DWT.EnumDWT_ImageType.IT_PDF||p.mix(V.pdfSetup,_.pdfSetup)),_.tiffSetup&&(_.format!=U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&_.format!=U.DWT.EnumDWT_ImageType.IT_TIF||p.mix(V.tiffSetup,_.tiffSetup)),_.format!=U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF&&_.format!=U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF||(_.singlePost=!0),_.httpParams&&p.isNumber(_.httpParams.threads)&&(J=_.httpParams.threads),y=p.stringify(V),b=c.checkStartScanParams(F,_)}else(_=H).type="",b=c.checkStartScanParams(F,!1);if(!b)return new j.Promise(function(pt,lt){I&&(lt({code:c._errorCode,message:c._getErrorString(),response:""}),I=!1,c._startScanFlag=!1)});_.funcHttpUploadStatus&&(L=_.funcHttpUploadStatus);var G,z,Z,ie,se,ne,ae=c.__remoteFilename,be=c.MaxUploadImageSize,ge=c.IfShowProgressBar,ve=c.__OnPostTransferAsync,Le=c.__OnPostAllTransfers,Qe=c.__OnHttpUploadStatus,ze=c.__insertingIndex,yt=c.__IfAppendImage,at=c.httpFormFields,gt=c._tiffCompressionType,Ct=!1,Be=_.showProgressBar;if(G=function(pt){var lt=!0;p.each(re,function(Xe,dr){Xe.st==-1&&(lt=!1)}),lt?z(pt):setTimeout(function(){G(pt)},200)},z=function(pt){pt.__OnPostTransferAsync=ve,pt.__OnPostAllTransfers=Le,pt.__OnHttpUploadStatus=Qe,pt.__remoteFilename=ae,pt.__maxUploadImageSize=be,pt.IfShowProgressBar=ge,pt.__insertingIndex=ze,pt.__IfAppendImage=yt,pt.httpFormFields=at,pt._tiffCompressionType=gt,U.FileUploader&&(U.FileUploader.nextLoopTime=600),pt._startScanFlag=!1},Z=function(pt,lt,Xe){x?(lt(Xe),G(pt)):setTimeout(function(){Z(pt,lt,Xe)},200)},ie=function(pt,lt){Ct=!0,I&&(I=!1,x||c._innerSendCmd("CancelAllPendingTransfers"),Z(c,pt,lt))},se=function(pt,lt,Xe,dr){if(p.isFunction(L)){var fn,Gt=lt,Zt=0;p.isNumber(dr)&&dr>0&&(Zt=dr),fn={fileName:Gt,percentage:Xe,statusCode:Zt,responseString:pt.__HTTPPostResponseString},setTimeout(function(){L(fn)},10)}},c.__HTTPPostResponseString="",c.IfShowProgressBar=Be,p.isNumber(F.insertingIndex)&&F.insertingIndex>-1&&(c.__insertingIndex=F.insertingIndex,c.__IfAppendImage=!1),p.isFunction(L)?c.__OnHttpUploadStatus=L:c.__OnHttpUploadStatus=!1,_.useUploader&&!U.FileUploader)return new j.Promise(function(pt,lt){Fe(c,-2380,"Please make sure the Uploader Module has been installed.");var Xe={code:c._errorCode,message:c._getErrorString(),response:""};x=!0,ie(lt,Xe)});if(m=_.reTries,_.useUploader){if(_.httpParams&&(ne=_.httpParams.url),!p.startsWith(ne,"http://")&&!p.startsWith(ne,"https://")){var Oe=window.location.href,tt=Oe.lastIndexOf("/");Oe=Oe.substring(0,tt+1),_.httpParams.url=Oe+ne}}else _.httpParams&&(p.each(_.httpParams.headers,function(pt,lt){c.SetHTTPHeader(lt,pt)}),p.each(_.httpParams.formFields,function(pt,lt){c.SetHTTPFormField(lt,pt)}));return _.httpParams&&_.httpParams.remoteName!==""&&(c.__remoteFilename=_.httpParams.remoteName),new j.Promise(function(pt,lt){_.useUploader?U.FileUploader.Init(0,function(Xe){pt({uploadManager:Xe})},function(Xe,dr){c._errorCode=Xe,c._errorString=dr;var fn={code:Xe,message:dr,response:c.__HTTPPostResponseString};x=!0,ie(lt,fn)}):pt({})}).then(function(pt){return new j.Promise(function(lt,Xe){var dr=function(){(F.transferMode==U.DWT.EnumDWT_TransferMode.TWSX_FILE?Q==q.length:Q==te.length)?(j.closeProgress(null,"Scan Upload"),Ct=!0,lt(B),z(c)):setTimeout(dr,100)};S&&p.isFunction(S)&&(c.__OnPreAllTransfersAsync=function(Gt){S(Gt)}),c.registerEvent("OnPostTransferAsync",function(Gt){var Zt,Ar,xi,pi,Ai,qn,da=_.httpParams&&_.httpParams.url,Tn=c._uidFromServer2ServerId(Gt.imageId),Zn=_.singlePost,tn=F.transferMode==U.DWT.EnumDWT_TransferMode.TWSX_FILE,fa=_.removeAfterOutput,Hn=0;if(P&&(x=!1,P=!1),tn?(Hn=q.length,q.push(Gt.path)):(Hn=te.length,te.push(Tn)),S&&p.isFunction(S)){var Eg={event:"postTransfer",bScanCompleted:!1,result:{currentPageNum:Hn+1}};setTimeout(function(){S(Eg)},10)}if(Ct)return!1;if(_.type=="http")if(_.httpParams&&(Ar=po(_.httpParams.fileName,Hn+1),xi=po(_.httpParams.remoteName,Hn+1)),Zn||_.type!="http")!Zn&&_.type;else if(_.httpParams&&p.isNumber(_.httpParams.maxSizeLimit)&&(c.__maxUploadImageSize=_.httpParams.maxSizeLimit),_.useUploader){Be?(U.FileUploader.nextLoopTime=300,j.showProgress(c,"Scan Upload",c.__IfShowCancelDialogWhenImageTransfer)):j.hideProgress(),pi=function(rn,Kt){return c.__HTTPPostResponseString=Kt,se(c,rn._fileName,100,200),c._OnPercentDone([0,100,"","http",rn._fileName]),Be&&j.closeProgress(null,"Scan Upload"),!tn&&_.removeAfterOutput?setTimeout(function(){c._ImgManager.convertServerIdToClientIndex(Tn)>-1?Dn(bn,c,la).call(c,Tn,function(){Q++},function(){Q++}):Q++},100):Q++,!0};var yc,Ht=pt.uploadManager;if(Ai=function(){if(Be){var rn,Kt=0;for(Kt=tn?q.length:te.length,rn=0;rn<Kt;rn++)j.closeProgress(null,"Scan Upload")}!tn&&_.removeAfterOutput&&setTimeout(function(){c._ImgManager.convertServerIdToClientIndex(Tn)>-1&&Dn(bn,c,la).call(c,Tn)},100),Ht.CancelAllUpload();var ha={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};return ie(Xe,ha),!1},qn=function(rn,Kt,ha,Ha){var sr=303;Kt==xf.TRANS_SERVICE_ERROR_404?sr=404:Kt==xf.TRANS_SERVICE_ERROR_500?sr=500:Kt==xf.TRANS_SERVICE_ERROR_503&&(sr=503),c._errorCode=Kt,c._errorString=ha,c.__HTTPPostResponseString=Ha,se(c,Ar,100,sr),Ai()},yc=function(){c.__HTTPPostResponseString="",se(c,Ar,100,303),Ai()},tn){var ei=Ht.CreateJob(),xg=ei.FormField;_.httpParams&&(p.each(_.httpParams.headers,function(rn,Kt){ei.HttpHeader[Kt]=rn}),p.each(_.httpParams.formFields,function(rn,Kt){xg.Add(Kt,rn)})),ei.ServerUrl=da,ei.bDeleteFile=fa,ei.reTries=m,_.httpParams&&p.isNumber(_.httpParams.maxSizeLimit)&&(ei.maxSizeLimit=_.httpParams.maxSizeLimit),ei._fileName=Ar,ei.SourceValue.Add(Gt.path,Ar,xi),ei.ImageType=F.fileXfer.fileFormat,ei.ThreadNum=J,ei.OnRunSuccess=pi,ei.OnRunFailure=qn,(Be||p.isFunction(L))&&(ei.OnUploadTransferPercentage=function(rn,Kt){Kt>0&&Kt<=100&&(c._OnPercentDone([0,Kt,"","http",rn._fileName]),p.isFunction(L)&&se(c,rn._fileName,Kt,0))},j.cancelFrom=Mt.Scan,Be&&Dn(bn,c,VE).call(c,Ai),c._OnPercentDone([0,-1,br.Uploading,"http",Ar]),se(c,Ar,0,0)),Ht.Run(ei)}else(Zt=_.format)==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?Zt=U.DWT.EnumDWT_ImageType.IT_PDF:Zt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(Zt=U.DWT.EnumDWT_ImageType.IT_TIF),j.cancelFrom=Mt.Scan,Be&&Dn(bn,c,VE).call(c,Ai),c._OnPercentDone([0,-1,br.Encoding,"http",Ar]),c._asyncGenerateURLForUploadData([Tn],Zt,y,function(rn){var Kt=Ht.CreateJob(),ha=Kt.FormField;_.httpParams&&(p.each(_.httpParams.headers,function(Ha,sr){Kt.HttpHeader[sr]=Ha}),p.each(_.httpParams.formFields,function(Ha,sr){ha.Add(sr,Ha)})),Kt.ServerUrl=da,Kt.bDeleteFile=fa,Kt.reTries=m,_.httpParams&&p.isNumber(_.httpParams.maxSizeLimit)&&(Kt.maxSizeLimit=_.httpParams.maxSizeLimit),Kt._fileName=Ar,Kt.SourceValue.Add(rn,Ar,xi),Kt.ImageType=Zt,Kt.ThreadNum=J,Kt.OnRunSuccess=pi,Kt.OnRunFailure=qn,(Be||p.isFunction(L))&&(Kt.OnUploadTransferPercentage=function(Ha,sr){sr>0&&sr<=100&&(c._OnPercentDone([0,sr,"","http",Ha._fileName]),p.isFunction(L)&&se(c,Ha._fileName,sr,0))},c._OnPercentDone([0,-1,br.Uploading,"http",Ar]),se(c,Ar,0,0)),Ht.Run(Kt)},yc)}else{var Uo={id:Tn,st:-1,bCancel:!1};if(re.push(Uo),Hn==0&&(Be?j.showProgress(c,"Scan Upload",c.__IfShowCancelDialogWhenImageTransfer):j.hideProgress()),tn)pi=function(rn){return Uo.st=0,!tn&&_.removeAfterOutput?setTimeout(function(){c._ImgManager.convertServerIdToClientIndex(Tn)>-1?Dn(bn,c,la).call(c,Tn,function(){Q++},function(){Q++}):Q++},100):Q++,!0},Ai=function(){!tn&&_.removeAfterOutput&&setTimeout(function(){c._ImgManager.convertServerIdToClientIndex(Tn)>-1&&Dn(bn,c,la).call(c,Tn)},100);var rn={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};return j.closeProgress(null,"Scan Upload"),Uo.st==2||(Uo.st=1,p.each(re,function(Kt,ha){Kt.st==-1&&(Kt.bCancel=!0)}),ie(Xe,rn)),!1},c._innerUploadDirectly(da,Gt.path,Ar,Be,fa,m,!1,Uo,pi,Ai);else{if(pi=function(rn,Kt){return Uo.st=0,!tn&&_.removeAfterOutput?setTimeout(function(){c._ImgManager.convertServerIdToClientIndex(Tn)>-1?Dn(bn,c,la).call(c,Tn,function(){Q++},function(){Q++}):Q++},100):Q++,!0},Ai=function(rn){!tn&&_.removeAfterOutput&&setTimeout(function(){c._ImgManager.convertServerIdToClientIndex(Tn)>-1&&Dn(bn,c,la).call(c,Tn)},100);var Kt={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};return j.closeProgress(null,"Scan Upload"),Uo.st==2||(Uo.st=1,p.each(re,function(ha,Ha){ha.st==-1&&(ha.bCancel=!0)}),ie(Xe,Kt)),!1},Zt=_.format,p.isUndefined(Zt)){var $0=c._ImgManager.convertServerIdToClientIndex(Tn);return Li(c),Ai([$0]),!1}Zt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?Zt=U.DWT.EnumDWT_ImageType.IT_PDF:Zt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(Zt=U.DWT.EnumDWT_ImageType.IT_TIF);var K0={method:"startScan",url:da,serverIds:[Tn],headers:c._GetHttpHeadersAndClear(),formData:mc(c.httpFormFields),enumImageType:Zt,saveSetup:y,fileName:Ar,dataFormat:TE.Binary,retry:m,bOnlyResponseEmptyIsOK:!1,objUploadFileStatus:Uo,asyncSuccessFunc:pi,asyncFailureFunc:Ai};c._asyncUploadCmd(K0)}}}),c.__OnPostAllTransfers=function(){var Gt,Zt,Ar=-1,xi=TE.Binary,pi=_.httpParams.url,Ai=_.singlePost,qn=F.transferMode==U.DWT.EnumDWT_TransferMode.TWSX_FILE,da=_.removeAfterOutput;if(S&&p.isFunction(S)&&(Ar=qn?q.length:te.length,Zt={event:"postTransfer",bScanCompleted:!0,result:{currentPageNum:Ar}},setTimeout(function(){S(Zt)},10)),Ar==0)return function(sr){Fe(sr,-1029,"Source has nothing to capture.")}(c),void setTimeout(function(){x=!0,$&&p.isFunction($)&&$();var sr={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};ie(Xe,sr)},1e3);if(Ar>0&&c._errorCode==-1029)c._errorCode=0;else if(c._errorCode!=0){x=!0,$&&p.isFunction($)&&$();var Tn={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};return void ie(Xe,Tn)}if(_.type=="http"){if(Ai&&_.type=="http"){var Zn,tn,fa,Hn=te;if(_.httpParams&&p.isNumber(_.httpParams.maxSizeLimit)&&(c.__maxUploadImageSize=_.httpParams.maxSizeLimit),_.useUploader){var Eg,yc=pt.uploadManager,Ht=yc.CreateJob(),ei=Ht.FormField;if(Be?(U.FileUploader.nextLoopTime=300,j.showProgress(c,"Scan Upload",c.__IfShowCancelDialogWhenImageTransfer)):j.hideProgress(),Zn=function(sr,er){var hn=sr._fileName;return hn||(hn=""),c._bServerPercentDone=!0,c.__HTTPPostResponseString=er,se(c,hn,100,200),c._OnPercentDone([0,100,"","http"]),Be&&j.closeProgress(null,"Scan Upload"),!qn&&_.removeAfterOutput?setTimeout(function(){Q=0,p.each(Hn,function($i){c._ImgManager.convertServerIdToClientIndex($i)>-1?Dn(bn,c,la).call(c,$i,function(){Q++},function(){Q++}):Q++}),setTimeout(dr,100)},100):(Ct=!0,lt(B),z(c)),!0},tn=function(){Be&&j.closeProgress(null,"Scan Upload"),yc.CancelAllUpload(),c._bServerPercentDone=!0;var sr={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};return ie(Xe,sr),!qn&&_.removeAfterOutput&&setTimeout(function(){p.each(Hn,function(er){c._ImgManager.convertServerIdToClientIndex(er)>-1&&Dn(bn,c,la).call(c,er)})},100),!1},fa=function(sr,er,hn,$i){var Ki=303;er==xf.TRANS_SERVICE_ERROR_404?Ki=404:er==xf.TRANS_SERVICE_ERROR_500?Ki=500:er==xf.TRANS_SERVICE_ERROR_503&&(Ki=503),c._errorCode=er,c._errorString=hn,c.__HTTPPostResponseString=$i,se(c,"",100,Ki),tn()},Eg=function(){c.__HTTPPostResponseString="",se(c,"",100,303),tn()},Be&&(j.cancelFrom=Mt.Scan,Dn(bn,c,VE).call(c,tn)),qn)_.httpParams&&(p.each(_.httpParams.headers,function(sr,er){Ht.HttpHeader[er]=sr}),p.each(_.httpParams.formFields,function(sr,er){ei.Add(er,sr)})),Ht.ServerUrl=pi,Ht.bDeleteFile=da,Ht.reTries=m,_.httpParams&&p.isNumber(_.httpParams.maxSizeLimit)&&(Ht.maxSizeLimit=_.httpParams.maxSizeLimit),p.each(q,function(sr,er){var hn,$i;_.httpParams&&(hn=po(_.httpParams.fileName,er+1),$i=po(_.httpParams.remoteName,er+1)),Ht.SourceValue.Add(sr,hn,$i)}),Ht.ImageType=F.fileXfer.fileFormat,Ht.ThreadNum=J,Ht.OnRunSuccess=Zn,Ht.OnRunFailure=fa,(Be||p.isFunction(L))&&(Ht.OnUploadTransferPercentage=function(sr,er){er>0&&er<=100&&(c._OnPercentDone([0,er,"","http"]),p.isFunction(L)&&se(c,"",er,0))},c._OnPercentDone([0,-1,br.Uploading,"http"]),se(c,"",0,0)),yc.Run(Ht);else if((Gt=_.format)==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF||Gt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF)Gt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?Gt=U.DWT.EnumDWT_ImageType.IT_PDF:Gt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(Gt=U.DWT.EnumDWT_ImageType.IT_TIF),c._OnPercentDone([0,-1,br.Encoding,"http"]),c._asyncGenerateURLForUploadData(Hn,Gt,y,function(sr){var er,hn;_.httpParams&&(p.each(_.httpParams.headers,function($i,Ki){Ht.HttpHeader[Ki]=$i}),p.each(_.httpParams.formFields,function($i,Ki){ei.Add(Ki,$i)})),Ht.ServerUrl=pi,Ht.bDeleteFile=da,Ht.reTries=m,_.httpParams&&p.isNumber(_.httpParams.maxSizeLimit)&&(Ht.maxSizeLimit=_.httpParams.maxSizeLimit),_.httpParams&&(er=po(_.httpParams.fileName,1),hn=po(_.httpParams.remoteName,1)),Ht._fileName=er,Ht.SourceValue.Add(sr,er,hn),Ht.ImageType=Gt,Ht.ThreadNum=J,Ht.OnRunSuccess=Zn,Ht.OnRunFailure=fa,(Be||p.isFunction(L))&&(Ht.OnUploadTransferPercentage=function($i,Ki){Ki>0&&Ki<=100&&(c._OnPercentDone([0,Ki,"","http",er]),p.isFunction(L)&&se(c,er,Ki,0))},c._OnPercentDone([0,-1,br.Uploading,"http",er])),yc.Run(Ht)},Eg);else{var xg=Hn.length,Uo=0,$0=0,K0="";Be&&(c._bServerPercentDone=!1),c._OnPercentDone([0,-1,br.Encoding,"http"]),p.each(Hn,function(sr,er){var hn,$i;_.httpParams&&(hn=po(_.httpParams.fileName,er+1),$i=po(_.httpParams.remoteName,er+1)),c._asyncGenerateURLForUploadData([sr],Gt,y,function(Ki){$0=(Uo+1)/xg*100,K0=[Uo+1,"/",xg].join(""),c._OnPercentDone([0,$0,K0,"http"]),Ht.SourceValue.Add(Ki,hn,$i),++Uo>=xg&&(Be&&(c._bServerPercentDone=!0),_.httpParams&&(p.each(_.httpParams.headers,function(Y0,Sc){Ht.HttpHeader[Sc]=Y0}),p.each(_.httpParams.formFields,function(Y0,Sc){ei.Add(Sc,Y0)})),Ht.ServerUrl=pi,Ht.bDeleteFile=da,Ht.reTries=m,_.httpParams&&p.isNumber(_.httpParams.maxSizeLimit)&&(Ht.maxSizeLimit=_.httpParams.maxSizeLimit),Ht.ImageType=Gt,Ht.ThreadNum=J,Ht.OnRunSuccess=Zn,Ht.OnRunFailure=fa,(Be||p.isFunction(L))&&(Ht.OnUploadTransferPercentage=function(Y0,Sc){Sc>0&&Sc<=100&&(c._OnPercentDone([0,Sc,"","http"]),p.isFunction(L)&&se(c,"",Sc,0))},c._OnPercentDone([0,-1,br.Uploading,"http"])),yc.Run(Ht))},Eg)})}}else if(qn)Zn=function(sr){return c._bServerPercentDone=!0,!qn&&_.removeAfterOutput?setTimeout(function(){Q=0,p.each(Hn,function(er){c._ImgManager.convertServerIdToClientIndex(er)>-1?Dn(bn,c,la).call(c,er,function(){Q++},function(){Q++}):Q++}),setTimeout(dr,100)},100):(Ct=!0,lt(B),z(c)),!0},tn=function(sr){c._bServerPercentDone=!0;var er={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};return ie(Xe,er),!qn&&_.removeAfterOutput&&setTimeout(function(){p.each(Hn,function(hn){c._ImgManager.convertServerIdToClientIndex(hn)>-1&&Dn(bn,c,la).call(c,hn)})},100),!1},c._innerUploadFilesDirectly(pi,q,_.httpParams&&_.httpParams.fileName,Be,da,m,!1,Zn,tn);else{Zn=function(sr,er){return c._bServerPercentDone=!0,!qn&&_.removeAfterOutput?setTimeout(function(){Q=0,p.each(Hn,function(hn){c._ImgManager.convertServerIdToClientIndex(hn)>-1?Dn(bn,c,la).call(c,hn,function(){Q++},function(){Q++}):Q++}),setTimeout(dr,100)},100):(Ct=!0,lt(B),z(c)),!0},tn=function(sr){c._bServerPercentDone=!0;var er={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};return ie(Xe,er),!qn&&_.removeAfterOutput&&setTimeout(function(){p.each(Hn,function(hn){c._ImgManager.convertServerIdToClientIndex(hn)>-1&&Dn(bn,c,la).call(c,hn)})},100),!1},Gt=_.format;var rn=c._GetHttpHeadersAndClear(),Kt=mc(c.httpFormFields);if(Gt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF||Gt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF){var ha;Gt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?Gt=U.DWT.EnumDWT_ImageType.IT_PDF:Gt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(Gt=U.DWT.EnumDWT_ImageType.IT_TIF),_.httpParams&&(ha=po(_.httpParams.fileName,1),po(_.httpParams.remoteName,1));var Ha={method:"startScan",url:pi,headers:rn,formData:Kt,serverIds:Hn,enumImageType:Gt,saveSetup:y,fileName:ha,dataFormat:xi,retry:m,bOnlyResponseEmptyIsOK:!1,objUploadFileStatus:!1,asyncSuccessFunc:Zn,asyncFailureFunc:tn};c._asyncUploadCmd(Ha)}else Hn.length>0&&c._asyncUploadFilesCmd(pi,Hn,rn,Kt,Gt,_.httpParams&&_.httpParams.fileName,y,Be,m,!1,Zn,tn)}}Ai&&_.type}x=!0,$&&p.isFunction($)&&$()};var fn=function(){if(_.type!="http")return Ct=!0,lt(B),void z(c);_.singlePost?setTimeout(function(){if(!x&&c._startScanFlag)return Ct=!0,lt(B),void z(c)},300):setTimeout(dr,100)};Dn(bn,c,Ole).call(c,F,fn,function(Gt){if(c._errorCode==-1029&&(F.transferMode==U.DWT.EnumDWT_TransferMode.TWSX_FILE?q.length>0:te.length>0))return c._errorCode=0,fn();var Zt={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};ie(Xe,Zt)})})})}},{key:"_innerInitEvents",value:function(u){this.__OnWSReconnect=u.onWSReconnect||null,this.__OnWSClose=u.onWSClose||null,this.__OnWSMessage=u.onWSMessage||null,this.__OnWSError=u.onWSError||null,this.__OnPercentDone=u.onPercentDone||"",this.__OnPrintMsg=u.onPrintMsg||"",this.__OnResult=u.onResult||"",this.__OnAfterOperate=u.onAfterOperate||"",this.__OnBeforeOperate=u.onBeforeOperate||"",this.__OnOperateStatus=u.onOperateStatus||"",this.__OnBitmapChanged=u.onBitmapChanged||"",this.__OnGetFilePath=u.onGetFilePath||"",this.__OnPreAllTransfers=u.onPreAllTransfers||"",this.__OnPreTransfer=u.onPreTransfer||"",this.__OnPostLoad=u.onPostLoad||"",this.__OnPostTransfer=u.onPostTransfer||"",this.__OnPostAllTransfers=u.onPostAllTransfers||"",this.__OnSourceUIClose=u.onSourceUIClose||"",this.__OnTransferCancelled=u.onTransferCancelled||"",this.__OnTransferError=u.onTransferError||"",this.__OnInternetTransferPercentage=u.onInternetTransferPercentage||"",this.__OnInternetTransferPercentageEx=u.onInternetTransferPercentageEx||"",this.__OnRemoteScanStatusAsync=u.onRemoteScanStatusAsync||""}}],[{key:"create",value:(o=a(w().mark(function u(d){var c;return w().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return c=new n(d),f.next=3,Vi.STwainConnectToServer(c);case 3:return f.abrupt("return",c);case 4:case"end":return f.stop()}},u)})),function(u){return o.apply(this,arguments)})}]);var o,s}(ble);function x4(){var r,n,o=[],s=this.__devices.length;for(r=0;r<s;r++){var u=this.__devices[r],d=u.deviceType,c={ProductName:"",DeviceInfo:{},DriverType:"",IsCurrentSource:!1,IsDefaultSource:!1,Manufacturer:"",ProductFamily:"",ProtocolMajor:0,ProtocolMinor:0,SupportedGroups:0,Version:{Country:0,Info:"",Language:0,MajorNum:0,MinorNum:0}},f=void 0,m=p.clone(u.deviceInfo);(n=d)==ht.TWAINSCANNER||n==ht.WIATWAINSCANNER||n==ht.TWAINX64SCANNER?(d==ht.TWAINSCANNER?f="TWAIN":d==ht.WIATWAINSCANNER?f="WIATWAIN":d==ht.TWAINX64SCANNER&&(f="TWAIN64"),c.Manufacturer=m.Manufacturer,c.ProductFamily=m.ProductFamily,c.ProtocolMajor=m.ProtocolMajor,c.ProtocolMinor=m.ProtocolMinor,c.SupportedGroups=m.SupportedGroups,c.Version=m.Version):d==ht.SANESCANNER?(f="SANE",c.DeviceInfo=m):d==ht.ICASCANNER?(f="ICA",c.DeviceInfo=m):d==ht.ESCLSCANNER?(f="eSCL",c.DeviceInfo=m):d==ht.WIFIDIRECTSCANNER?(f="WiFiScanner",c.DeviceInfo=m):d==ht.WIASCANNER&&(f="WIA",c.DeviceInfo=m),c.ProductName=u.displayName,c.DriverType=f,o.push(c)}return o}function A4(){var r,n=this,o=[],s=0;for(n.__devices&&(s=n.__devices.length),r=0;r<s;r++){var u=n.__devices[r];o.push(u.displayName)}return o}function Fle(r,n){var o=["[",r,",",n??Sp.SMF_NAME,"]"].join("");return this._innerFun("SelectSourceEx",o)}function Ole(r,n,o){var s,u,d=this,c=null,f=null;if(u=p.isUndefined(r)||r==null?{}:r,d._resetErr(),!d._isValid())return!1;if(p.isFunction(n)&&(c=function(){n(u)}),p.isFunction(o)&&(f=function(b,I){o(b,I,u)}),!_t.checkProductKey(d,{Core:!0}))return p.isFunction(f)&&f(d._errorCode,d._errorString),!1;for(var m=0,_=0;_<__.length;_++){var S=["__",__[_]].join("");p.isFunction(d[S])&&(m|=1<<_)}if(u.EnableEvents=m,u.scanner){var y=u.scanner;p.isString(y)||p.isString(y.strDevice)&&(u.device=y.strDevice,delete u.scanner)}return s=["[",p.stringify(u),"]"].join(""),d.__bAcquireImageNow=!0,d.__innerAcquireOrLoadImageAsync("StartScan",s,!1,!0).then(c,function(b){d._errorCode=b.code,d._errorString=b.message,p.isFunction(f)&&f(b.code,b.message)}),!0}function la(r,n,o){var s=this;return s._innerFunRaw("RemoveImage",Ve(r),!0,!1,!0,function(){s._OnBitmapChanged(["c1",""+r,3,s._ImgManager.getCurrentImageIndex(),s._ImgManager.count()]),p.isFunction(n)&&n()},o)}function VE(r){var n=this;n.IfShowCancelDialogWhenImageTransfer?(j.progressContext&&j.progressContext.on("cancel",function(){Ro(n),r()}),fu(!0)):fu(!1)}var xf={TRANS_SERVICE_ERROR_404:12,TRANS_SERVICE_ERROR_500:13,TRANS_SERVICE_ERROR_503:14},P4=function(r,n){if(!p.isUndefined(r)&&!p.isUndefined(n)&&r!=null&&n!=null){for(var o in n)r.hasOwnProperty(o)?R(r[o])==="object"&&P4(r[o],n[o]):r[o]=n[o];return r}};function Nle(r){return jE.apply(this,arguments)}function jE(){return jE=a(w().mark(function r(n){var o,s,u,d,c,f,m,_,S;return w().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(d=n.id,c=(o=n.container)===null||o===void 0?void 0:o.id,f=window,!(s=U.DWT.GetWebTwain(d))&&c&&(u=U.DWT.GetWebTwain(c)),!s&&!u){y.next=8;break}throw m={},s?_F(m):yF(m),{code:m._errorCode,message:m._errorString};case 8:return U.DWT.UseDefaultViewer||(n.container=null),((b=n.container)&&!p.isString(b)?rt:Pe)?n.bNoViewer=!1:n.bNoViewer=!0,y.prev=10,y.next=13,E4.create(n);case 13:_=y.sent,y.next=22;break;case 16:throw y.prev=16,y.t0=y.catch(10),(S=y.t0&&y.t0.code)==kt.ResponseDataTypeError||S==kt.HTSTError||S==kt.CORSError||S==kt.CORSErrorFromService||S==kt.SSLCertExpired||S==kt.SSLCertInvalid||(S==kt.MustUpgrade?hu(!0):S==kt.ModuleNotExists&&Lle(_)),_&&_.dispose(),y.t0;case 22:return y.prev=22,f.DCP_DWT_OnClickCloseInstall&&f.DCP_DWT_OnClickCloseInstall(!1,!0),y.finish(22);case 25:return k4(_),y.abrupt("return",_);case 27:case"end":return y.stop()}var b},r,null,[[10,16,22,25]])})),jE.apply(this,arguments)}function Mle(r,n){if(p.isFunction(U.OnWebTwainNeedUpgradeCallback)){var o,s,u={};if(s=Mi.getDSPath(),ue.bWin)o=Et.enumWindow;else if(U.navInfo.bEmbed||ue.bAndroid||ue.bChromeOS||ue.bHarmonyOS||ue.biPhone||ue.biPad)ue.bAndroid?o=Et.enumAndroid:(u.deb=s,o=ue.biPhone||ue.biPad?Et.enumiOS:ue.bChromeOS?Et.enumChromeOS:ue.bHarmonyOS?Et.enumHarmonyOS:Et.enumEmbed);else if(ue.bLinux){var d=Mi.getLinuxHTML5DebPath(),c=Mi.getLinuxHTML5RpmPath();s=d,u.deb=d,u.rpm=c,o=Et.enumLinux}else o=Et.enumMac;u.default=s;var f=Te.one(".dynamsoft-dialog-license");f&&f.getEL()&&(f.getEL().style.display="none"),j.detect.needUpgrade=rt,U.OnWebTwainNeedUpgradeCallback(Ie.name,u,Ie.bHTML5Edition,o,ue.bIE,ue.bSafari,j.detect.ssl,Wr.strIEVersion,j.detect.bPromptJSOrServerOutdated,r,n)}}function k4(r){return D4.apply(this,arguments)}function D4(){return(D4=a(w().mark(function r(n){var o,s,u;return w().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(n&&!n._blts){d.next=2;break}return d.abrupt("return");case 2:if(n.ErrorCode==-2207&&(j.detect.bPromptJSOrServerOutdated=rt,p.isFunction(U.DWT.OnWebTwainNeedUpgradeWebJavascript)&&U.DWT.OnWebTwainNeedUpgradeWebJavascript(n.ErrorString)),!Or.versionInfoFromServer){d.next=7;break}o=Or.versionInfoFromServer,d.next=10;break;case 7:return d.next=9,n._getVersionInfoAsync();case 9:o=d.sent;case 10:if(j.detect.bNeedUpgradeEvent||rK(o)){d.next=19;break}if(j.detect.bNeedUpgradeEvent=rt,!p.isFunction(U.DWT.OnWebTwainNeedUpgrade)){d.next=15;break}if(!U.DWT.OnWebTwainNeedUpgrade()){d.next=15;break}return d.abrupt("return");case 15:if(!n._bRemoteMode){d.next=18;break}return p.isFunction(U.OnRemoteWebTwainNeedUpgradeCallback)&&(s=n._serverInfo.port,U.OnRemoteWebTwainNeedUpgradeCallback(Ie.name,n._serverInfo.server,s,n._serverInfo.ssl)),d.abrupt("return");case 18:(Ie.bHTML5Edition&&n._isBindViewer()||!Ie.bHTML5Edition)&&((u=n._containerElement)&&(Te.one(u).before(j.install._strNonInstallDIV),p.show(j.install._divDWTNonInstallContainerID)),j.install._divDWTemessageContainer!=""&&p.hide(j.install._divDWTemessageContainer),Mle());case 19:case"end":return d.stop()}},r)}))).apply(this,arguments)}function Lle(r){if(!j.detect.bNoControlEvent){var n,o=0,s=0;r&&(o=r._width,s=r._height,n=r._containerElement),r&&r._bRemoteMode?r._bNotShowMessage||p.isFunction(U.OnRemoteWebTwainNotFoundCallback)&&U.OnRemoteWebTwainNotFoundCallback(Ie.name,r._serverInfo.server,r._serverInfo.port,r._serverInfo.ssl,Wr.bMobile):(r4(n,o,s),hu(!1)),j.detect.bNoControlEvent=!0}}var gu=function(r){function n(b){var I;h(this,n),(I=l(this,n,[b]))._bServerPercentDone=!0,I._bScanForProxyRemote=rt;var x=Vi.getServerImageUrlPrefix(I);return bf._setBaseUrl(I._imageBufferWrapper,x),I}return D(n,r),v(n,[{key:"getDevices",value:function(b,I,x){return this._getDevices(b,I,x)}},{key:"_connnect",value:(y=a(w().mark(function b(){var I;return w().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return I=this,x.abrupt("return",new j.Promise(function(P,L){vle(I._serverInfo.server,I._serverInfo.port,void 0,function($,te,q){I._strRemoteServiceVer=q,P()},L)}));case 2:case"end":return x.stop()}},b,this)})),function(){return y.apply(this,arguments)})},{key:"acquireImage",value:function(b,I){return E(A(n.prototype),"_acquireImage",this).call(this,b,I)}},{key:"_acquireImageForSendTo",value:function(b,I,x,P){return E(A(n.prototype),"_acquireImageForSendTo",this).call(this,b,I,x,P)}},{key:"getCapabilities",value:function(b,I,x){return this._getCapabilities(b,I,x)}},{key:"setCapabilities",value:function(b,I,x){return this._setCapabilities(b,I,x)}},{key:"closeSource",value:function(){return this._closeSource()}},{key:"setBufferMemoryLimit",value:(S=a(w().mark(function b(I){var x,P;return w().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(x=this,p.isNumber(I)&&!isNaN(I)){L.next=4;break}throw Vn(x),{code:x._errorCode,message:x._errorString};case 4:if(x._resetErr(),x._isValid()){L.next=7;break}throw{code:x._errorCode,message:x._errorString};case 7:return L.next=9,x._innerFunV2("BufferMemoryLimit",Ve(I));case 9:return P=L.sent,L.abrupt("return",P);case 11:case"end":return L.stop()}},b,this)})),function(b){return S.apply(this,arguments)})},{key:"setIfAllowLocalCache",value:(_=a(w().mark(function b(I){var x,P;return w().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(x=this,p.isBoolean(I)){L.next=4;break}throw Vn(self),{code:x._errorCode,message:x._errorString};case 4:if(x._resetErr(),x._isValid()){L.next=7;break}throw{code:x._errorCode,message:x._errorString};case 7:return L.next=9,x._innerFunV2("IfAllowLocalCache",Ve(I));case 9:return P=L.sent,L.abrupt("return",P);case 11:case"end":return L.stop()}},b,this)})),function(b){return _.apply(this,arguments)})},{key:"howManyImagesInBuffer",get:function(){return this._imageBufferWrapper.count()}},{key:"currentImageIndexInBuffer",get:function(){return this._imageBufferWrapper.getCurrentImageIndex()},set:function(b){this._imageBufferWrapper.setCurrentImageIndex(b)}},{key:"saveImages",value:(m=a(w().mark(function b(I,x,P,L){var $;return w().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if($="saveImages",this._checkIndices(x)){te.next=3;break}throw{code:this._errorCode,message:this._getErrorString()};case 3:return this._containerElement=L,te.next=6,this._saveImages($,I,x,P);case 6:case"end":return te.stop()}},b,this)})),function(b,I,x,P){return m.apply(this,arguments)})},{key:"getImages",value:function(b,I,x,P){if(!this._checkIndices(b))throw{code:this._errorCode,message:this._getErrorString()};return this._containerElement=P,this._getImages("getImages",b,I,x)}},{key:"removeImages",value:(f=a(w().mark(function b(I){var x,P,L,$,te;return w().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(this._checkIndices(I)){q.next=2;break}throw{code:this._errorCode,message:this._getErrorString()};case 2:for(x=I.sort(function(Q,J){return J-Q}),P=[],L=0;L<x.length;L++)$=x[L],(te=this._imageBufferWrapper.convertClientIndexToServerId($))>0&&P.push(te);if(P.length!=0){q.next=7;break}return q.abrupt("return");case 7:return q.next=9,this._innerFunV2("RemoveAllImages",Ve(P.join(",")));case 9:if(!q.sent&&this._errorCode!=-1033){q.next=16;break}if(this._imageBufferWrapper.removeImages(x)){q.next=14;break}throw this._imageBufferWrapper.getError();case 14:q.next=17;break;case 16:throw{code:this._errorCode,message:this._errorString};case 17:case"end":return q.stop()}},b,this)})),function(b){return f.apply(this,arguments)})},{key:"updateImage",value:function(b,I,x){var P=this._imageBufferWrapper.getIndexByUid(b),L=this._imageBufferWrapper.convertClientIndexToServerId(P);return E(A(n.prototype),"_updateImage",this).call(this,L,I,x)}},{key:"getSkewAngleFromBinaryAsync",value:function(b,I,x,P){var L=this;if(L._resetErr(),!L._isValid())return j.Promise.reject({code:L._errorCode,message:L._errorString});var $=this._imageBufferWrapper.getCustomDataByIndex(b),te=this._imageBufferWrapper.getMetadataByIndex(b),q=this._imageBufferWrapper.convertClientIndexToServerId(b),Q={imageId:q,serverId:q,bufferLen:I.size,imageType:Qt.IT_BMP,width:te.width,height:te.height,bit:te.bitDepth,xres:te.resolutionX,yres:te.resolutionY,uidFromServer:$.uidFromServer},J=p.stringify([p.stringify(Q)]);return this._innerSendBlob("GetSkewAngleFromBinary",J,I,!0,!0,x,P)}},{key:"httpUpload",value:(c=a(w().mark(function b(I,x,P,L,$,te,q){var Q,J;return w().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if((Q=this)._resetErr(),Q._isValid()){re.next=4;break}throw{code:Q._errorCode,message:Q._errorString};case 4:if(!p.isUndefined(I)&&I!==""){re.next=9;break}throw ci(Q),{code:Q._errorCode,message:Q._errorString};case 9:if(p.isString(I)){re.next=12;break}throw up(Q),{code:Q._errorCode,message:Q._errorString};case 12:if(Q._checkIndices(x)){re.next=14;break}throw{code:Q._errorCode,message:Q._errorString};case 14:if((J=Ju(Q,x)).length!=0){re.next=18;break}throw Ot(Q),{code:Q._errorCode,message:Q._errorString};case 18:if(!p.isUndefined(P)){re.next=21;break}throw Li(Q),{code:Q._errorCode,message:Q._errorString};case 21:if(P!=U.DWT.EnumDWT_ImageType.IT_BMP&&P!=U.DWT.EnumDWT_ImageType.IT_JPG&&P!=U.DWT.EnumDWT_ImageType.IT_PNG){re.next=27;break}if(!(J.length>1)){re.next=25;break}throw Ad(Q),{code:Q._errorCode,message:Q._errorString};case 25:re.next=33;break;case 27:if(P!=U.DWT.EnumDWT_ImageType.IT_TIF&&P!=U.DWT.EnumDWT_ImageType.IT_PDF){re.next=31;break}re.next=33;break;case 31:throw Li(Q),{code:Q._errorCode,message:Q._errorString};case 33:if(!(p.isUndefined(L)||L!=U.DWT.EnumDWT_UploadDataFormat.Binary&&L!=U.DWT.EnumDWT_UploadDataFormat.Base64)){re.next=36;break}throw aF(Q),{code:Q._errorCode,message:Q._errorString};case 36:return re.next=38,new j.Promise(function(H,F){var B,V,G=parseInt(P),z=parseInt(L);te!=null&&te.formFields&&(B=new FormData,p.each(te==null?void 0:te.formFields,function(Z,ie){var se=Z.name,ne=Z.value;p.isString(se)&&(ne instanceof Blob?B.append(se,ne,Z.fileName):B.append(se,ne))})),te!=null&&te.headers&&(V={},p.each(te==null?void 0:te.headers,function(Z,ie){p.isString(Z.name)&&(V[Z.name]=Z.value)})),Q._containerElement=q,n._innerHTTPUpload(Q,"httpUpload",I,te==null?void 0:te.responseType,V,B,J,G,z,$,void 0,0,!1,void 0,function(Z){if(p.isFunction(H)){var ie=[];p.isArray(J)&&p.each(J,function(se){var ne=Q._imageBufferWrapper.convertServerIdToClientIndex(se);ne>-1&&ie.push(ne)});try{_n(H,Z,ie)}catch{}}return Z=null,!0},function(Z){if(p.isFunction(F))try{F(Z)}catch{}return!1})});case 38:return re.abrupt("return",re.sent);case 39:case"end":return re.stop()}},b,this)})),function(b,I,x,P,L,$,te){return c.apply(this,arguments)})},{key:"getCustomDataByIndex",value:function(b){return this._imageBufferWrapper.getCustomDataByIndex(b)}},{key:"getIndexByUid",value:function(b){return this._imageBufferWrapper.getIndexByUid(b)}},{key:"getProfile",value:function(b){return E(A(n.prototype),"_getProfile",this).call(this,b)}},{key:"setProfile",value:function(b,I){return E(A(n.prototype),"_setProfile",this).call(this,b,I)}},{key:"imageIDToIndex",value:function(b){return this._uidFromServer2index(b)}},{key:"indexToImageID",value:function(b){return this._index2uidFromServer(b)}},{key:"rotate",value:function(b,I,x,P){var L=this;if(L._resetErr(),!L._isValid())return j.Promise.reject({code:L._errorCode,message:L._errorString});var $=parseInt(b);if(isNaN($))return Ot(L),j.Promise.reject({code:L._errorCode,message:L._errorString});if($<0||$>=L.howManyImagesInBuffer)return qe(L),j.Promise.reject({code:L._errorCode,message:L._errorString});var te=L._imageBufferWrapper.convertClientIndexToServerId($);return te==-1?(qe(L),j.Promise.reject({code:L._errorCode,message:L._errorString})):L._innerFunV2("RotateEx",Ve(te,I,x,P),!0).then(function(q){})}},{key:"crop",value:function(b,I){var x=this;if(x._resetErr(),!x._isValid())return j.Promise.reject({code:x._errorCode,message:x._errorString});var P=parseInt(b);if(isNaN(P))return Ot(x),j.Promise.reject({code:x._errorCode,message:x._errorString});if(P<0||P>=x.howManyImagesInBuffer)return qe(x),j.Promise.reject({code:x._errorCode,message:x._errorString});var L=x._imageBufferWrapper.convertClientIndexToServerId(P);if(L==-1)return qe(x),j.Promise.reject({code:x._errorCode,message:x._errorString});var $=I.x,te=I.y,q=I.x+I.width,Q=I.y+I.height;return x._innerFunV2("Crop",Ve(L,$,te,q,Q),!0).then(function(J){})}},{key:"_createHttpUploaderConfig",value:function(){var b=this,I=new vU;return I.IfShowProgressBar=b.IfShowProgressBar,I.IfShowCancelDialogWhenImageTransfer=b.IfShowCancelDialogWhenImageTransfer,I.MaxUploadImageSize=b.MaxUploadImageSize,I.HTTPRequestswithCredentials=b.HTTPRequestswithCredentials,I.onPercent=function(x){b._OnPercentDone(x)},I.onHttpUploadStatus=function(x){},I}},{key:"_OnReady",value:(d=a(w().mark(function b(){var I,x,P;return w().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return so((I=this)._serverInfo.server)&&(ra.item("DWT_port",I._serverInfo.port),ra.item("DWT_ssl",I._serverInfo.ssl?"true":"false")),I._bNoMask||Xr("OnReady",I),L.prev=3,L.next=6,E(A(n.prototype),"_OnReady",this).call(this);case 6:return L.next=8,I._innerActiveUI(I._uuidForActiveUI);case 8:return x=L.sent,L.next=11,I._OnActiveUI(x);case 11:(P=I._id)&&!U.DWT.WebTwainIdMap[P]&&(U.DWT.WebTwainIdMap[P]=I),L.next=20;break;case 15:throw L.prev=15,L.t0=L.catch(3),L.t0&&(I._errorCode=L.t0.code,I._errorString=L.t0.message),I.dispose(),L.t0;case 20:return L.prev=20,I._bNoMask||kr("OnReady"),L.finish(20);case 23:case"end":return L.stop()}},b,this,[[3,15,20,23]])})),function(){return d.apply(this,arguments)})},{key:"_isBindViewer",value:function(){return this._bBindViewer}},{key:"_isNoViewer",value:function(){return!this._isBindViewer()}},{key:"getServiceInfo",value:function(){return E(A(n.prototype),"getServiceInfo",this).call(this)}},{key:"setViewerInfo",value:function(b){this._bBindViewer=b}},{key:"setViewerControlInfo",value:function(b){this._controlWidth=b.width,this._controlHeight=b.height}}],[{key:"create",value:(u=a(w().mark(function b(I){var x;return w().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return x=new n(I),P.next=3,Vi.STwainConnectToServer(x);case 3:return P.abrupt("return",x);case 4:case"end":return P.stop()}},b)})),function(b){return u.apply(this,arguments)})},{key:"_getBuffer",value:function(b){return bf._getBuffer(b._imageBufferWrapper)}},{key:"_setError",value:function(b,I,x){b._errorCode=I,b._errorString=x}},{key:"createByServiceInfo",value:(s=a(w().mark(function b(I,x,P){var L,$,te;return w().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return $={id:p.guid(),dmService:x,bNoViewer:!0,bNoMask:x==null||(L=x.attrs)===null||L===void 0?void 0:L.bNoMask,bNotShowMessage:!0},(te=new n($))._uuidForActiveUI=I,te._bLicenseErrorDispose=!1,P&&(te._containerElement=P),q.next=7,te._connnect();case 7:return q.next=9,Vi.STwainConnectToServer(te);case 9:return q.abrupt("return",te);case 10:case"end":return q.stop()}},b)})),function(b,I,x){return s.apply(this,arguments)})},{key:"checkOnlineByServiceInfo",value:(o=a(w().mark(function b(I){var x,P;return w().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return x={id:p.guid(),dmService:I,bNoViewer:!0,bNoMask:!0,bNotShowMessage:!0},L.prev=1,P=new n(x),L.next=5,P._connnect();case 5:return P._bReady=!0,P._wsClient||(P._wsClient=new LT(null)),P.dispose(),L.abrupt("return",!0);case 11:return L.prev=11,L.t0=L.catch(1),p.warn(L.t0),L.abrupt("return",!1);case 15:case"end":return L.stop()}},b,null,[[1,11]])})),function(b){return o.apply(this,arguments)})},{key:"_isReady",value:function(b){return b._bReady}},{key:"_innerHTTPUpload",value:function(b,I,x,P,L,$,te,q,Q,J,re,H,F,B,V,G){var z=J,Z=x;if(p.isUndefined(q))return Li(b),void(p.isFunction(G)&&G({code:b._errorCode,message:b._errorString}));j.cancelFrom=Mt.HTTPUpload;var ie,se=function(ae,be,ge,ve){j.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&j.closeProgress(null,I),p.isFunction(G)&&G({code:ae,message:be,response:ge,httpCode:ve})},ne=b._createHttpUploaderConfig();if(ne.objUploadStatus=B,z=F0(z,q),j.needShowTwiceShowDialog=!0,b.IfShowProgressBar?(j.showProgress(b,I,!1),j.progressContext&&(j.progressContext._onPercent=function(ae){var be=0;if(ae){var ge,ve;ge=ae.loaded,ve=ae.total,(be=Math.floor(ge/ve*100))>100&&(be=100)}j.progressBarOnPercentDone(-1,"Transferring...","",be,"")})):j.hideProgress(),Q==U.DWT.EnumDWT_UploadDataFormat.Binary){if(B&&B.bCancel)return B.st=2,Ro(b),void se(b._errorCode,b._errorString);ne.onPercent([0,-1,br.Encoding,"http"]),b._convertToBlobForUpload(q,te,re,4,function(ae,be,ge){if(ie=function(ze){return j.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&j.closeProgress(null,I),p.isFunction(V)&&_n(V,ze),ze=null,!0},B&&B.bCancel)return B.st=2,Ro(b),se(b._errorCode,b._errorString);if(!ae||ae.size<=0)return an(b),se(b._errorCode,b._errorString);var ve=b.__maxUploadImageSize;if(ae.size>ve&&ve!=-1)return gs(b),se(b._errorCode,b._errorString);if(b._errorCode!=0)return se(b._errorCode,b._errorString);U.DWT.IfAddMD5InUploadHeader&&be&&be!=""&&(L["dwt-md5"]=be);var Le=new Es,Qe=new ca;Qe.url=Z,Qe.method=I,Qe.content=ae,ae=null,Qe.contentType=b._strHttpContentTypeFieldValue,Qe.headers=L,Qe.fileName=z,Qe.httpFormData=$,Qe.retry=H,Qe.bOnlyResponseEmptyIsOK=F,Qe.responseType=P,ne.objUploadStatus=B,Le.httpPostUpload(ne,Qe,ie,se)},se)}else Q==U.DWT.EnumDWT_UploadDataFormat.Base64&&b._convertToBase64ByServerIdsWithUI(I,te,q,re,4,function(ae){var be,ge;if(!ae||ae.getLength()<=0||(ie=function(Le){return j.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&j.closeProgress(null,I),p.isFunction(V)&&_n(V,Le),!0},be=ae.getMD5(),U.DWT.IfAddMD5InUploadHeader&&(L["dwt-md5"]=be),!(ge=ae.getData(0,ae.getLength()))||ge==""))return an(b),se(b._errorCode,b._errorString);var ve=new ca;ve.url=Z,ve.method=I,ve.content=ge,ge=null,ve.headers=L,ve.fileName=z,ve.httpFormData=$,ve.retry=H,ve.bOnlyResponseEmptyIsOK=F,ve.responseType=P,new Es().httpPostUpload(ne,ve,ie,se)},se)}}]);var o,s,u,d,c,f,m,_,S,y}(_U),GE=ar,Wle=function(){return v(function F(B){var V=this;if(h(this,F),this._serverUrl=B,this._defaultDSScanClient=null,this._dsScanClientsMap={},this._serviceInfos=null,this._id=p.guid(),this.onBufferChanged=null,this.onPostTransferAsync=null,this._errorCode=0,this._errorString="",this._bDispose=!1,this._needSetLogLevel=!1,this._logLevel=-1,this._showProgressBar=!0,this._checkServerUrl(),this._id&&!U.DWT.RemoteScanIdMap[this._id]&&(U.DWT.RemoteScanIdMap[this._id]=this),this._uuidForRemoteScanObject="",j.dlgProgress||j.initProgress(null),U.DWT.UseDefaultViewer){var G={viewerEvents:{bufferChanged:function(z,Z){V.__bufferChanged(V,z,Z)},save:function(z,Z,ie,se){return V.__save(z,Z,ie,se)},rotate:function(z,Z,ie){return V.__rotate(z,Z,ie)},crop:function(z,Z,ie,se,ne){return V.__crop(z,{x:Z,y:ie,width:se,height:ne})}},viewerError:{setError:function(z,Z){V._defaultDSScanClient?gu._setError(V._defaultDSScanClient,z,Z):z==0&&Z==""||(V._errorCode=z,V._errorString=Z)}},imageEditorEvents:{deskew:function(z,Z){V.__deskew(V,z,Z)},removeImage:function(){V.__remove(V)},removeAllImage:function(){V.__removeAll(V)},close:function(){V.__close(V)}},imageEditorUiConfig:{buttons:{visibility:{scan:!1,load:!1}}},beforeImageEditorCreated:function(z){V.__beforeImageEditorCreated(z)}};this._viewer=new U.DWTViewerEx(null,G)}else this._viewer=null},[{key:"Viewer",get:function(){return this._viewer}},{key:"_disposeDSClientByKey",value:(H=a(w().mark(function F(B){var V;return w().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!(V=this._dsScanClientsMap[B])){G.next=10;break}if(V.isDestroy){G.next=9;break}if(!V.__unload){G.next=8;break}return G.next=6,V.__unload();case 6:G.next=9;break;case 8:V.dispose();case 9:delete this._dsScanClientsMap[B];case 10:case"end":return G.stop()}},F,this)})),function(F){return H.apply(this,arguments)})},{key:"_checkServerUrl",value:function(){var F=this._serverUrl;if(F&&p.isString(F)&&p.startsWith(location.href,"https://")&&p.startsWith(F,"http://")){var B={};throw function(G,z,Z){Fe(G,-2436,'Mixed Content: The page at "'+z+'" was loaded over HTTPS, but requested an insecure resource "'+Z+'/ddm/18625/ddm/SearchScanner". This request has been blocked; the content must be served over HTTPS.')}(B,location.href,F),rr(B)}if(!p.isString(F)||F==""){var V={};throw Fe(V,-2545,"The  proxy server URL is invalid."),rr(V)}}},{key:"getDynamsoftService",value:(re=a(w().mark(function F(B){var V,G,z,Z,ie,se,ne,ae,be,ge,ve,Le,Qe,ze,yt,at,gt,Ct,Be;return w().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(!this._bDispose){Oe.next=4;break}throw uo(V={}),rr(V);case 4:if(G=this._serverUrl,this._checkServerUrl(),z=new z0(G,!0),Xr("getDynamsoftService",this.getViewerElement()),Oe.prev=8,!B&&this._serviceInfos){Oe.next=68;break}if(Z=null,ie=this._serviceInfos,this._serviceInfos=[],se="",ne="",!ui()){Oe.next=30;break}return Oe.next=16,this._setRemoteUuid();case 16:return Oe.prev=16,Oe.next=19,p_(U.DWT.lgdt(),"");case 19:(ae=Oe.sent)&&(se=ae.ar,ne=this._uuidForRemoteScanObject),Oe.next=28;break;case 23:throw Oe.prev=23,Oe.t0=Oe.catch(16),eC(be={},Oe.t0),{code:be._errorCode,message:be._errorString};case 28:Oe.next=31;break;case 30:se=Ie.refProductKey;case 31:return Oe.next=33,z.getDynamsoftService(se,ne,B);case 33:if(!(Z=Oe.sent)){Oe.next=68;break}ve=[],ge=0;case 37:if(!(ge<Z.length)){Oe.next=65;break}return ze=oC(Z[ge]),yt=(Le=ze==null||(Qe=ze.attrs)===null||Qe===void 0?void 0:Qe.ty)!==null&&Le!==void 0?Le:"",Oe.next=42,gu.checkOnlineByServiceInfo(ze);case 42:if(!Oe.sent){Oe.next=60;break}if(ze.attrs=ze.attrs||{},ze.attrs.bNoMask=!0,ze.attrs.bNotShowMessage=!0,!ie){Oe.next=57;break}at=void 0,at=0;case 50:if(!(at<ie.length)){Oe.next=57;break}if(!this.isSameService(ze,ie[at])){Oe.next=54;break}return ie.splice(at,1),Oe.abrupt("break",57);case 54:at++,Oe.next=50;break;case 57:this._serviceInfos.push(ze),Oe.next=61;break;case 60:yt+="(x)";case 61:ve.push(yt);case 62:ge++,Oe.next=37;break;case 65:if(p.log("Find Dynamsoft Services:"),p.log(ve.join(", ")),ie)for(gt=0;gt<ie.length;gt++)(Be=(Ct=ie[gt])===null||Ct===void 0||(Ct=Ct.attrs)===null||Ct===void 0?void 0:Ct.UUID)&&this._disposeDSClientByKey(Be);case 68:this._needSetLogLevel&&this._logLevel!=-1&&this.setLogLevel(this._logLevel),Oe.next=74;break;case 71:throw Oe.prev=71,Oe.t1=Oe.catch(8),Oe.t1;case 74:Oe.prev=74,kr("getDynamsoftService");try{z._bInited&&z.dispose()}catch{}return Oe.finish(74);case 78:return Oe.abrupt("return",this._serviceInfos);case 79:case"end":return Oe.stop()}},F,this,[[8,71,74,78],[16,23]])})),function(F){return re.apply(this,arguments)})},{key:"getDefaultDynamsoftService",value:function(){if(this._bDispose){var F={};throw uo(F),rr(F)}return this._defaultDSScanClient?this._defaultDSScanClient.getServiceInfo():null}},{key:"setDefaultDynamsoftService",value:(J=a(w().mark(function F(B){var V,G,z,Z;return w().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(!this._bDispose){ie.next=4;break}throw uo(V={}),rr(V);case 4:if(B!==null){ie.next=7;break}return this._defaultDSScanClient=null,ie.abrupt("return");case 7:if(B&&B instanceof iC){ie.next=11;break}throw $t(G={}),{code:G._errorCode,message:G._errorString};case 11:return z=this.getViewerElement(),ie.next=14,this._createDSClientByServiceInfo(B,!0,z._containerElement);case 14:if(!(Z=ie.sent)){ie.next=18;break}return ie.next=18,this._innerSetDefault(Z);case 18:case"end":return ie.stop()}},F,this)})),function(F){return J.apply(this,arguments)})},{key:"_innerSetDefault",value:(Q=a(w().mark(function F(B){var V,G,z;return w().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!B){Z.next=11;break}if(gu._isReady(B)){Z.next=5;break}throw z=(V=(G=B.getServiceInfo())===null||G===void 0||(G=G.attrs)===null||G===void 0?void 0:G.name)!==null&&V!==void 0?V:"",ll(B,z),{code:B._getErrorCode(),message:B._getErrorString()};case 5:this._defaultDSScanClient=B,this._defaultDSScanClient.IfShowProgressBar=this._showProgressBar,this.Viewer&&this.Viewer.webViewer&&this.Viewer.webViewer.bindViewUI&&this._defaultDSScanClient.setViewerInfo(this.Viewer.webViewer.bindViewUI),this.__setViewerControlInfo(),this._registEventToDefaultDS(),this._viewer&&this._viewer.webViewer.setBufferService(gu._getBuffer(this._defaultDSScanClient));case 11:case"end":return Z.stop()}},F,this)})),function(F){return Q.apply(this,arguments)})},{key:"__setViewerControlInfo",value:function(){this.Viewer.webViewer.bindViewUI&&this.Viewer.width&&this.Viewer.width>0&&this.Viewer.height&&this.Viewer.height>0&&this._defaultDSScanClient.setViewerControlInfo({width:this.Viewer.width,height:this.Viewer.height})}},{key:"__beforeImageEditorCreated",value:function(F){var B=U.DWT.CustomizableDisplayInfo;if(!p.isUndefined(B)){if(!p.isUndefined(B.buttons)){var V=B.buttons.titles;p.isUndefined(V)||(p.isUndefined(V.previous)||(F.buttons.titles.previous=V.previous),p.isUndefined(V.next)||(F.buttons.titles.next=V.next),p.isUndefined(V.print)||(F.buttons.titles.print=V.print),p.isUndefined(V.scan)||(F.buttons.titles.scan=V.scan),p.isUndefined(V.load)||(F.buttons.titles.load=V.load),p.isUndefined(V.rotateleft)||(F.buttons.titles.rotateleft=V.rotateleft),p.isUndefined(V.rotate)||(F.buttons.titles.rotate=V.rotate),p.isUndefined(V.rotateright)||(F.buttons.titles.rotateright=V.rotateright),p.isUndefined(V.deskew)||(F.buttons.titles.deskew=V.deskew),p.isUndefined(V.crop)||(F.buttons.titles.crop=V.crop),p.isUndefined(V.cut)||(F.buttons.titles.cut=V.cut),p.isUndefined(V.changeimagesize)||(F.buttons.titles.changeimagesize=V.changeimagesize),p.isUndefined(V.flip)||(F.buttons.titles.flip=V.flip),p.isUndefined(V.mirror)||(F.buttons.titles.mirror=V.mirror),p.isUndefined(V.zoomin)||(F.buttons.titles.zoomin=V.zoomin),p.isUndefined(V.originalsize)||(F.buttons.titles.originalsize=V.originalsize),p.isUndefined(V.zoomout)||(F.buttons.titles.zoomout=V.zoomout),p.isUndefined(V.stretch)||(F.buttons.titles.stretch=V.stretch),p.isUndefined(V.fit)||(F.buttons.titles.fit=V.fit),p.isUndefined(V.fitw)||(F.buttons.titles.fitw=V.fitw),p.isUndefined(V.fith)||(F.buttons.titles.fith=V.fith),p.isUndefined(V.hand)||(F.buttons.titles.hand=V.hand),p.isUndefined(V.rectselect)||(F.buttons.titles.rectselect=V.rectselect),p.isUndefined(V.zoom)||(F.buttons.titles.zoom=V.zoom),p.isUndefined(V.restore)||(F.buttons.titles.restore=V.restore),p.isUndefined(V.save)||(F.buttons.titles.save=V.save),p.isUndefined(V.close)||(F.buttons.titles.close=V.close),p.isUndefined(V.removeall)||(F.buttons.titles.removeall=V.removeall),p.isUndefined(V.removeselected)||(F.buttons.titles.removeselected=V.removeselected));var G=B.buttons.bShowAllButtons;p.isUndefined(G)||(F.buttons.bShowAllButtons=G);var z=B.buttons.visibility;p.isUndefined(z)||(p.isUndefined(z.scan)||(F.buttons.visibility.scan=z.scan),p.isUndefined(z.load)||(F.buttons.visibility.load=z.load),p.isUndefined(z.print)||(F.buttons.visibility.print=z.print),p.isUndefined(z.removeall)||(F.buttons.visibility.removeall=z.removeall),p.isUndefined(z.removeselected)||(F.buttons.visibility.removeselected=z.removeselected),p.isUndefined(z.rotateleft)||(F.buttons.visibility.rotateleft=z.rotateleft),p.isUndefined(z.rotate)||(F.buttons.visibility.rotate=z.rotate),p.isUndefined(z.rotateright)||(F.buttons.visibility.rotateright=z.rotateright),p.isUndefined(z.deskew)||(F.buttons.visibility.deskew=z.deskew),p.isUndefined(z.crop)||(F.buttons.visibility.crop=z.crop),p.isUndefined(z.cut)||(F.buttons.visibility.cut=z.cut),p.isUndefined(z.changeimagesize)||(F.buttons.visibility.changeimagesize=z.changeimagesize),p.isUndefined(z.flip)||(F.buttons.visibility.flip=z.flip),p.isUndefined(z.mirror)||(F.buttons.visibility.mirror=z.mirror),p.isUndefined(z.zoomin)||(F.buttons.visibility.zoomin=z.zoomin),p.isUndefined(z.originalsize)||(F.buttons.visibility.originalsize=z.originalsize),p.isUndefined(z.zoomout)||(F.buttons.visibility.zoomout=z.zoomout),p.isUndefined(z.stretch)||(F.buttons.visibility.stretch=z.stretch),p.isUndefined(z.fit)||(F.buttons.visibility.fit=z.fit),p.isUndefined(z.fitw)||(F.buttons.visibility.fitw=z.fitw),p.isUndefined(z.fith)||(F.buttons.visibility.fith=z.fith),p.isUndefined(z.hand)||(F.buttons.visibility.hand=z.hand),p.isUndefined(z.rectselect)||(F.buttons.visibility.rectselect=z.rectselect),p.isUndefined(z.zoom)||(F.buttons.visibility.zoom=z.zoom))}var Z=B.dialogText;p.isUndefined(Z)||(p.isUndefined(Z.dlgRotateAnyAngle)||(F.dialogText.dlgRotateAnyAngle=Z.dlgRotateAnyAngle),p.isUndefined(Z.dlgChangeImageSize)||(F.dialogText.dlgChangeImageSize=Z.dlgChangeImageSize),p.isUndefined(Z.saveChangedImage)||(F.dialogText.saveChangedImage=Z.saveChangedImage),p.isUndefined(Z.selectSource)||(F.dialogText.selectSource=Z.selectSource))}}},{key:"__bufferChanged",value:function(F,B,V){var G,z=F,Z=[],ie=-1,se=[];B.operation&&(B.action=B.operation);for(var ne=0;ne<z.howManyImagesInBuffer;ne++)(G=z._defaultDSScanClient.getCustomDataByIndex(ne))&&G.uidFromServer&&Z.push(G.uidFromServer);if(B.imageIds=Z,B.curIndex>=0&&(G=z._defaultDSScanClient.getCustomDataByIndex(B.curIndex))&&G.uidFromServer&&(ie=G.uidFromServer),B.currentId=ie,B.afterStatus.selectedUids)for(var ae=0;ae<B.afterStatus.selectedUids.length;ae++){var be=B.afterStatus.selectedUids[ae];if(be&&be!=-1){var ge=z._defaultDSScanClient.getIndexByUid(B.afterStatus.selectedUids[ae]);ge>=0&&(G=z._defaultDSScanClient.getCustomDataByIndex(ge))&&G.serverId&&se.push(G.uidFromServer)}}B.selectedIds=se,p.mix(B,{}),delete B.uids,delete B.currentUid,delete B.selectedUids,delete B.afterStatus,delete B.beforeStatus,delete B.operation,delete B.curIndex,delete B.docUid,z.__fireEvent("onBufferChanged",B)}},{key:"__acquire",value:function(F,B){var V=F;V._stwain.SelectSource(function(){V._stwain.CloseSource(),V._stwain.OpenSource(),V._stwain.IfShowUI=!0,U.DWT.IfConfineMaskWithinTheViewer==1?(U.DWT.IfConfineMaskWithinTheViewer=!1,V._stwain.AcquireImage({},function(){U.DWT.IfConfineMaskWithinTheViewer=!0},function(){})):V._stwain.AcquireImage()},function(){p.log("User did not select a source")})}},{key:"__remove",value:(q=a(w().mark(function F(B){var V,G;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(V=this,!this._defaultDSScanClient){z.next=10;break}if(sn(this._defaultDSScanClient),!(V.howManyImagesInBuffer<=0||V.currentImageIndexInBuffer<0)){z.next=6;break}return GE.output(V,"No image in Buffer"),z.abrupt("return",!0);case 6:return G=gu._getBuffer(this._defaultDSScanClient),z.next=9,this._defaultDSScanClient.removeImages(G.getSelectedImagesIndices());case 9:return z.abrupt("return",z.sent);case 10:return z.abrupt("return",!1);case 11:case"end":return z.stop()}},F,this)})),function(F){return q.apply(this,arguments)})},{key:"__removeAll",value:(te=a(w().mark(function F(B){return w().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!this._defaultDSScanClient){V.next=4;break}return sn(this._defaultDSScanClient),V.next=4,this._defaultDSScanClient._removeAllImagesAsync("removeAllImages",!0);case 4:return V.abrupt("return",!1);case 5:case"end":return V.stop()}},F,this)})),function(F){return te.apply(this,arguments)})},{key:"__save",value:($=a(w().mark(function F(B,V,G,z){var Z,ie,se;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(ie="save",se=(Z=this).__getViewerElementForViewer(Z,z),Xr(ie,se),ne.prev=3,sn(Z._defaultDSScanClient),!(Z.howManyImagesInBuffer<=0||Z.currentImageIndexInBuffer<0)){ne.next=8;break}return GE.output(Z,"No image in Buffer"),ne.abrupt("return");case 8:return ne.next=10,Z._defaultDSScanClient.updateImage(B,V,G);case 10:return ne.sent,ne.next=13,Z._defaultDSScanClient.__saveToViewerAfterUpdate(B,G);case 13:ne.next=17;break;case 15:ne.prev=15,ne.t0=ne.catch(3);case 17:return ne.prev=17,kr(ie),ne.finish(17);case 20:case"end":return ne.stop()}},F,this,[[3,15,17,20]])})),function(F,B,V,G){return $.apply(this,arguments)})},{key:"__getViewerElementForViewer",value:function(F,B){var V,G=F;if(B)if(G._viewer.webViewer.imageEditor){var z=G._viewer.createImageEditor();V=z.inner.containerElement.className=="dwt-viewer-imageEditor-fullScreen"?{_containerElement:document.body}:{_containerElement:z.inner.containerElement}}else V=G.getViewerElement();else V=G.getViewerElement();return V}},{key:"__close",value:function(F){var B=F;if(p.isFunction(B.__CloseImageEditorUI))try{B.__CloseImageEditorUI()}catch(V){vr(V)}}},{key:"__deskew",value:function(F,B,V){var G=this,z="deskew";if(sn(G._defaultDSScanClient),G.howManyImagesInBuffer<=0||G.currentImageIndexInBuffer<0)GE.output(G,"No image in Buffer");else{var Z=G.__getViewerElementForViewer(G,!0);Xr(z,Z),G._defaultDSScanClient.getSkewAngleFromBinaryAsync(G.currentImageIndexInBuffer,B,function(ie){V(ie[0]),kr(z)},function(){kr(z)})}}},{key:"__rotate",value:(L=a(w().mark(function F(B,V,G){var z;return w().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return sn(this._defaultDSScanClient),Z.next=4,this._makeSureDefaultServiceInfo();case 4:if(this._defaultDSScanClient){Z.next=6;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 6:return Z.next=8,this._defaultDSScanClient.rotate(B,V,G,-1);case 8:return z=Z.sent,Z.abrupt("return",z);case 10:case"end":return Z.stop()}},F,this)})),function(F,B,V){return L.apply(this,arguments)})},{key:"__crop",value:(P=a(w().mark(function F(B,V){var G;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return sn(this._defaultDSScanClient),z.next=4,this._makeSureDefaultServiceInfo();case 4:if(this._defaultDSScanClient){z.next=6;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 6:return z.next=8,this._defaultDSScanClient.crop(B,V);case 8:return G=z.sent,z.abrupt("return",G);case 10:case"end":return z.stop()}},F,this)})),function(F,B){return P.apply(this,arguments)})},{key:"__fireEvent",value:function(F,B){return!p.isFunction(this[F])||this[F](B)}},{key:"getDevices",value:(x=a(w().mark(function F(B){var V,G,z,Z,ie,se,ne,ae,be,ge,ve,Le,Qe,ze,yt,at,gt,Ct,Be,Oe,tt,pt,lt;return w().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:if(!this._bDispose){Xe.next=4;break}throw uo(G={}),rr(G);case 4:if(z=[],Z="getDevices",ie=this.getViewerElement(),se=!1,ae=B==null?void 0:B.serviceInfo,be=(V=B==null?void 0:B.deviceType)!==null&&V!==void 0?V:mp,Xr(Z,ie),Xe.prev=6,ve=!1,Le=[],this._serviceInfos){Xe.next=12;break}return Xe.next=12,this.getDynamsoftService();case 12:if(!ae){Xe.next=25;break}return Xe.next=15,this._createDSClientByServiceInfo(ae,!0);case 15:if(!(ze=Xe.sent)){Xe.next=21;break}Le.push(ze),ve=!1,Xe.next=23;break;case 21:throw q9(ae==null||(yt=ae.attrs)===null||yt===void 0?void 0:yt.ty);case 23:Xe.next=37;break;case 25:if(!this._serviceInfos){Xe.next=37;break}Qe=0;case 27:if(!(Qe<this._serviceInfos.length)){Xe.next=36;break}return at=this._serviceInfos[Qe],Xe.next=31,this._createDSClientByServiceInfo(at);case 31:(gt=Xe.sent)&&Le.push(gt);case 33:Qe++,Xe.next=27;break;case 36:ve=!0;case 37:Qe=0;case 38:if(!(Qe<Le.length)){Xe.next=59;break}return Ct=void 0,Xe.prev=40,Xe.next=43,Le[Qe].getDevices(be,B==null?void 0:B.refresh,se);case 43:if(Ct=Xe.sent,p.isArray(Ct)&&Ct.length>0)for(ne=0;ne<Ct.length;ne++)z.push(Ct[ne]);Xe.next=51;break;case 47:Xe.prev=47,Xe.t0=Xe.catch(40),ge=Xe.t0;case 51:return Xe.prev=51,Be=null,this._defaultDSScanClient&&(Be=(Oe=this._defaultDSScanClient.getServiceInfo())===null||Oe===void 0||(Oe=Oe.attrs)===null||Oe===void 0?void 0:Oe.UUID,this._defaultDSScanClient.isDestroy&&(this._disposeDSClientByKey(Be),this._defaultDSScanClient=null,Be=null)),ve&&(pt=Le[Qe].getServiceInfo(),(lt=pt==null||(tt=pt.attrs)===null||tt===void 0?void 0:tt.UUID)&&lt!=Be&&this._disposeDSClientByKey(lt)),Xe.finish(51);case 56:Qe++,Xe.next=38;break;case 59:Xe.next=64;break;case 61:throw Xe.prev=61,Xe.t1=Xe.catch(6),Xe.t1;case 64:return Xe.prev=64,kr(Z),ge&&U.DWT.lsetException(ge.code,ge.message),Xe.finish(64);case 68:return Xe.abrupt("return",z);case 69:case"end":return Xe.stop()}},F,this,[[6,61,64,68],[40,47,51,56]])})),function(F){return x.apply(this,arguments)})},{key:"acquireImage",value:(I=a(w().mark(function F(B,V){var G,z,Z,ie,se,ne,ae,be,ge,ve,Le,Qe,ze,yt;return w().wrap(function(at){for(;;)switch(at.prev=at.next){case 0:if(!(G=this)._bDispose){at.next=5;break}throw uo(z={}),rr(z);case 5:if(B&&B instanceof ta){at.next=9;break}throw $t(Z={}),{code:Z._errorCode,message:Z._errorString};case 9:return se="acquireImage",ne=G.getViewerElement(),ae=[],Xr(se,ne),at.prev=12,p.isUndefined(V)&&(V={}),p.isUndefined(V.IfShowUI)&&(V.IfShowUI=!1),p.isUndefined(V.IfCloseSourceAfterAcquire)&&(V.IfCloseSourceAfterAcquire=!0),be=B.serviceInfo,at.next=19,this._createDSClientByServiceInfo(be,!0);case 19:if(!(ie=at.sent)){at.next=47;break}if(G._defaultDSScanClient){at.next=24;break}return at.next=24,G._innerSetDefault(ie);case 24:ae.push(ie),ie!=G._defaultDSScanClient&&ae.push(G._defaultDSScanClient),ge=0;case 27:if(!(ge<ae.length)){at.next=36;break}if(ve=ae[ge],gu._isReady(ve)){at.next=33;break}throw ze=(Le=(Qe=ve.getServiceInfo())===null||Qe===void 0||(Qe=Qe.attrs)===null||Qe===void 0?void 0:Qe.name)!==null&&Le!==void 0?Le:"",ll(ve,ze),{code:ve._getErrorCode(),message:ve._getErrorString()};case 33:ge++,at.next=27;break;case 36:if(G.onPostTransferAsync?ie.registerEvent("OnPostTransferAsync",G.onPostTransferAsync):ie.unregisterEvent("OnPostTransferAsync"),this.__setViewerControlInfo(),ie!=G._defaultDSScanClient){at.next=43;break}return at.next=41,ie.acquireImage(B,V);case 41:at.next=45;break;case 43:return at.next=45,ie._acquireImageForSendTo(se,B,V,G._defaultDSScanClient);case 45:at.next=49;break;case 47:throw fF(be==null||(yt=be.attrs)===null||yt===void 0?void 0:yt.name);case 49:at.next=54;break;case 51:throw at.prev=51,at.t0=at.catch(12),at.t0;case 54:return at.prev=54,ie&&ie.__closeRemoteScanUI(!0),kr(se),at.finish(54);case 58:case"end":return at.stop()}},F,this,[[12,51,54,58]])})),function(F,B){return I.apply(this,arguments)})},{key:"_waitForDSValid",value:function(F,B){for(var V=0,G=F.length,z=this;V<G;V++)if(!gu._isReady(F[V]))return void setTimeout(function(){z._waitForDSValid(F,B)},Or.RemoteReconnectTimeSpan);p.isFunction(z[B.command])&&z[B.command].apply(z,B.parmas)}},{key:"getCapabilities",value:(b=a(w().mark(function F(B){var V,G,z,Z,ie,se,ne;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(!this._bDispose){ae.next=4;break}throw uo(V={}),rr(V);case 4:if(B&&B instanceof ta){ae.next=8;break}throw $t(G={}),rr(G);case 8:return Z="getCapabilities",ie=[],se=this.getViewerElement(),Xr(Z,se),ae.prev=10,ne=B.serviceInfo,ae.next=14,this._createDSClientByServiceInfo(ne,!0);case 14:if(z=ae.sent,!(z=this._findDSClientByServiceInfo(ne))){ae.next=20;break}return ae.next=19,z.getCapabilities(B);case 19:ie=ae.sent;case 20:ae.next=25;break;case 22:throw ae.prev=22,ae.t0=ae.catch(10),ae.t0;case 25:return ae.prev=25,z&&z.__closeRemoteScanUI(!0),kr(Z),ae.finish(25);case 29:return ae.abrupt("return",ie);case 30:case"end":return ae.stop()}},F,this,[[10,22,25,29]])})),function(F){return b.apply(this,arguments)})},{key:"setCapabilities",value:(y=a(w().mark(function F(B,V){var G,z,Z,ie,se,ne;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(!this._bDispose){ae.next=4;break}throw uo(G={}),rr(G);case 4:if(B&&B instanceof ta){ae.next=8;break}throw $t(z={}),rr(z);case 8:return ie="setCapabilities",se=this.getViewerElement(),Xr(ie,se),ae.prev=10,ne=B.serviceInfo,ae.next=14,this._createDSClientByServiceInfo(ne,!0);case 14:if(!(Z=ae.sent)){ae.next=18;break}return ae.next=18,Z.setCapabilities(B,V);case 18:ae.next=23;break;case 20:throw ae.prev=20,ae.t0=ae.catch(10),ae.t0;case 23:return ae.prev=23,Z&&Z.__closeRemoteScanUI(!0),kr(ie),ae.finish(23);case 27:case"end":return ae.stop()}},F,this,[[10,20,23,27]])})),function(F,B){return y.apply(this,arguments)})},{key:"closeSource",value:(S=a(w().mark(function F(B){var V,G,z,Z,ie,se;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(!this._bDispose){ne.next=4;break}throw uo(V={}),rr(V);case 4:if(B&&B instanceof ta){ne.next=8;break}throw $t(G={}),rr(G);case 8:return z="closeSource",Z=this.getViewerElement(),Xr(z,Z),ne.prev=10,ie=B.serviceInfo,se=this._findDSClientByServiceInfo(ie),ne.next=15,se.closeSource();case 15:ne.next=20;break;case 17:throw ne.prev=17,ne.t0=ne.catch(10),ne.t0;case 20:return ne.prev=20,kr(z),ne.finish(20);case 23:case"end":return ne.stop()}},F,this,[[10,17,20,23]])})),function(F){return S.apply(this,arguments)})},{key:"_putDSClientToMap",value:function(F,B){var V,G=F==null||(V=F.attrs)===null||V===void 0?void 0:V.UUID;G&&(this._dsScanClientsMap[G]=B)}},{key:"_getDSClientFromMap",value:function(F){var B,V=F==null||(B=F.attrs)===null||B===void 0?void 0:B.UUID;return V?this._dsScanClientsMap[V]:null}},{key:"_createDSClientByServiceInfo",value:(_=a(w().mark(function F(B,V,G){var z,Z,ie,se;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(this._serviceInfos){ne.next=3;break}return ne.next=3,this.getDynamsoftService();case 3:if(z=this._findDSClientByServiceInfo(B)){ne.next=20;break}return ne.next=7,this._setRemoteUuid();case 7:return ne.prev=7,ne.next=10,gu.createByServiceInfo(this._uuidForRemoteScanObject,B,G);case 10:(z=ne.sent)&&this._putDSClientToMap(B,z),ne.next=20;break;case 14:if(ne.prev=14,ne.t0=ne.catch(7),ne.t0.code==kt.MustUpgrade&&(ie=B==null||(Z=B.attrs)===null||Z===void 0?void 0:Z.ty)&&(Ed(se={},ie),ne.t0.message=se._errorString),!V){ne.next=19;break}throw ne.t0;case 19:p.warn(ne.t0);case 20:return ne.abrupt("return",z);case 21:case"end":return ne.stop()}},F,this,[[7,14]])})),function(F,B,V){return _.apply(this,arguments)})},{key:"_makeSureDefaultServiceInfo",value:(m=a(w().mark(function F(){var B;return w().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(this._serviceInfos){V.next=3;break}return V.next=3,this.getDynamsoftService();case 3:if(!(this._serviceInfos&&this._serviceInfos.length>0)){V.next=8;break}return B=this._serviceInfos[0],V.next=7,this._createDSClientByServiceInfo(B);case 7:return V.abrupt("return",V.sent);case 8:return V.abrupt("return",null);case 9:case"end":return V.stop()}},F,this)})),function(){return m.apply(this,arguments)})},{key:"httpUpload",value:(f=a(w().mark(function F(B,V,G,z,Z,ie){var se,ne,ae,be;return w().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(!this._bDispose){ge.next=4;break}return uo(se={}),ge.abrupt("return",j.Promise.reject(rr(se)));case 4:return ae=this.getViewerElement(),be=ae._containerElement,ge.next=7,this._makeSureDefaultServiceInfo();case 7:if(this._defaultDSScanClient){ge.next=9;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 9:return ge.next=11,this._defaultDSScanClient.httpUpload(B,V,G,z,Z,ie,be);case 11:return ne=ge.sent,ge.abrupt("return",ne);case 13:case"end":return ge.stop()}},F,this)})),function(F,B,V,G,z,Z){return f.apply(this,arguments)})},{key:"runCommand",value:function(F){return this._defaultDSScanClient.RunCommandAsync(F)}},{key:"removeImages",value:(c=a(w().mark(function F(B){var V,G,z,Z,ie;return w().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(!this._bDispose){se.next=4;break}return uo(V={}),se.abrupt("return",j.Promise.reject(rr(V)));case 4:return G="removeImages",Z=this.getViewerElement(),Xr(G,Z),se.prev=6,se.next=9,this._makeSureDefaultServiceInfo();case 9:if(this._defaultDSScanClient){se.next=11;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 11:if(!this._defaultDSScanClient){se.next=17;break}return se.next=14,this._defaultDSScanClient.removeImages(B);case 14:z=se.sent,se.next=21;break;case 17:if(this.howManyImagesInBuffer!=0){se.next=21;break}if(ie={},SU(B,this.howManyImagesInBuffer,ie)){se.next=21;break}throw{code:ie._errorCode,message:ie._errorString};case 21:se.next=26;break;case 23:throw se.prev=23,se.t0=se.catch(6),se.t0;case 26:return se.prev=26,kr(G),se.finish(26);case 29:return se.abrupt("return",z);case 30:case"end":return se.stop()}},F,this,[[6,23,26,29]])})),function(F){return c.apply(this,arguments)})},{key:"saveImages",value:(d=a(w().mark(function F(B,V,G){var z,Z,ie,se;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(z={},!this._bDispose){ne.next=4;break}return uo(z),ne.abrupt("return",j.Promise.reject(rr(z)));case 4:if(this.howManyImagesInBuffer!=0){ne.next=7;break}return Nn(z),ne.abrupt("return",j.Promise.reject(rr(z)));case 7:if(p.isNumber(G)){ne.next=10;break}return $t(z),ne.abrupt("return",j.Promise.reject(rr(z)));case 10:if(G!=Qt.IT_BMP&&G!=Qt.IT_JPG&&G!=Qt.IT_PNG){ne.next=16;break}if(!(V.length>1)){ne.next=14;break}return Fe(z,-2623,"Saving multiple images is not allowable when the selected output format is BMP, JPG or PNG."),ne.abrupt("return",j.Promise.reject(rr(z)));case 14:ne.next=27;break;case 16:if(G!=Qt.IT_TIF&&G!=Qt.IT_PDF){ne.next=20;break}ne.next=27;break;case 20:if(G!=Qt.IT_ALL&&G!=Qt.IT_MULTIPAGE_PDF&&G!=Qt.IT_MULTIPAGE_TIF){ne.next=25;break}return mF(z),ne.abrupt("return",j.Promise.reject(rr(z)));case 25:return Li(z),ne.abrupt("return",j.Promise.reject(rr(z)));case 27:return ie=this.getViewerElement(),se=ie._containerElement,ne.next=30,this._makeSureDefaultServiceInfo();case 30:if(this._defaultDSScanClient){ne.next=32;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 32:return ne.next=34,this._defaultDSScanClient.saveImages(B,V,G,se);case 34:return Z=ne.sent,ne.abrupt("return",Z);case 36:case"end":return ne.stop()}},F,this)})),function(F,B,V){return d.apply(this,arguments)})},{key:"getImages",value:(u=a(w().mark(function F(B,V,G){var z,Z,ie,se;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(z={},!this._bDispose){ne.next=4;break}return uo(z),ne.abrupt("return",j.Promise.reject(rr(z)));case 4:if(this.howManyImagesInBuffer!=0){ne.next=7;break}return Nn(z),ne.abrupt("return",j.Promise.reject(rr(z)));case 7:if(p.isNumber(V)&&p.isNumber(G)){ne.next=10;break}return $t(z),ne.abrupt("return",j.Promise.reject(rr(z)));case 10:return ie=this.getViewerElement(),se=ie._containerElement,ne.next=13,this._makeSureDefaultServiceInfo();case 13:if(this._defaultDSScanClient){ne.next=15;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 15:return ne.next=17,this._defaultDSScanClient.getImages(B,V,G,se);case 17:return Z=ne.sent,ne.abrupt("return",Z);case 19:case"end":return ne.stop()}},F,this)})),function(F,B,V){return u.apply(this,arguments)})},{key:"__unload",value:(s=a(w().mark(function F(){var B,V,G,z;return w().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(this._viewer&&this._viewer.unbind(),!this._dsScanClientsMap){Z.next=12;break}V=this._dsScanClientsMap,G=Object.keys(V),B=0;case 5:if(!(B<G.length)){Z.next=12;break}return z=G[B],Z.next=9,this._disposeDSClientByKey(z);case 9:B++,Z.next=5;break;case 12:this._dsScanClientsMap=null,this._bDispose=!0;case 14:case"end":return Z.stop()}},F,this)})),function(){return s.apply(this,arguments)})},{key:"dispose",value:function(){return this.__unload()}},{key:"setLogLevel",value:function(F){var B,V=this._dsScanClientsMap;if(V){var G=Object.keys(V);for(B=0;B<G.length;B++)V[G[B]]._setLogLevel(F);this._needSetLogLevel=!1,this._logLevel=-1}else this._needSetLogLevel=!0,this._logLevel=F;return!0}},{key:"getProfile",value:(o=a(w().mark(function F(B){var V,G,z,Z;return w().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(V="",B&&B instanceof ta){ie.next=5;break}throw $t(G={}),{code:G._errorCode,message:G._errorString};case 5:return ie.prev=5,z=B.serviceInfo,ie.next=9,this._createDSClientByServiceInfo(z,!0);case 9:if(!(Z=ie.sent)){ie.next=14;break}return ie.next=13,Z.getProfile(B);case 13:V=ie.sent;case 14:ie.next=19;break;case 16:throw ie.prev=16,ie.t0=ie.catch(5),ie.t0;case 19:return ie.abrupt("return",V);case 20:case"end":return ie.stop()}},F,this,[[5,16]])})),function(F){return o.apply(this,arguments)})},{key:"setProfile",value:(n=a(w().mark(function F(B,V){var G,z,Z,ie;return w().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(G="",B&&B instanceof ta){se.next=5;break}throw $t(z={}),{code:z._errorCode,message:z._errorString};case 5:return se.prev=5,Z=B.serviceInfo,se.next=9,this._createDSClientByServiceInfo(Z,!0);case 9:if(!(ie=se.sent)){se.next=14;break}return se.next=13,ie.setProfile(B,V);case 13:G=se.sent;case 14:se.next=19;break;case 16:throw se.prev=16,se.t0=se.catch(5),se.t0;case 19:return se.abrupt("return",G);case 20:case"end":return se.stop()}},F,this,[[5,16]])})),function(F,B){return n.apply(this,arguments)})},{key:"imageIDToIndex",value:function(F){return this._defaultDSScanClient?this._defaultDSScanClient.imageIDToIndex(F):0}},{key:"indexToImageID",value:function(F){return this._defaultDSScanClient?this._defaultDSScanClient.indexToImageID(F):""}},{key:"howManyImagesInBuffer",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.howManyImagesInBuffer:0}},{key:"currentImageIndexInBuffer",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.currentImageIndexInBuffer:-1},set:function(F){this._defaultDSScanClient&&(this._defaultDSScanClient.currentImageIndexInBuffer=F)}},{key:"showProgressBar",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.IfShowProgressBar:this._showProgressBar},set:function(F){this._defaultDSScanClient?(this._showProgressBar=F,this._defaultDSScanClient.IfShowProgressBar=F):this._showProgressBar}},{key:"registerEvent",value:function(F,B){if(this._bDispose){var V={};return uo(V),j.Promise.reject(rr(V))}if(!p.isFunction(B)){var G={};return lF(G),j.Promise.reject(rr(G))}if(F=="onBufferChanged"||F=="OnBufferChanged")this.onBufferChanged=B;else{if(F!="onPostTransferAsync"&&F!="OnPostTransferAsync"){var z={};return sF(z),j.Promise.reject(rr(z))}this.onPostTransferAsync=B}return this._registEventToDefaultDS(),!0}},{key:"unregisterEvent",value:function(F,B){if(this._bDispose){var V={};return uo(V),j.Promise.reject(rr(V))}if(F=="onBufferChanged"||F=="OnBufferChanged"){if(this.onBufferChanged=null,this._defaultDSScanClient)return this._defaultDSScanClient.unregisterEvent("OnBufferChanged",B)}else{if(F!="onPostTransferAsync"&&F!="OnPostTransferAsync"){var G={};return sF(G),j.Promise.reject(rr(G))}if(this.onPostTransferAsync=null,this._defaultDSScanClient)return this._defaultDSScanClient.unregisterEvent("OnPostTransferAsync",B)}}},{key:"getViewerElement",value:function(){return this.Viewer&&this.Viewer.webViewer&&this.Viewer.webViewer.containerElement?{_containerElement:this.Viewer.webViewer.containerElement}:{_containerElement:document.body}}},{key:"isSameService",value:function(F,B){return!(!F||!B)&&F.server==B.server&&F.attrs.UUID==B.attrs.UUID&&F.attrs.accessmode==B.attrs.accessmode&&F.attrs.name==B.attrs.name&&F.attrs.os==B.attrs.os&&F.attrs.service_type==B.attrs.service_type&&F.attrs.tags==B.attrs.tags&&F.attrs.ty==B.attrs.ty&&F.attrs.type==B.attrs.type&&F.attrs.txtvers==B.attrs.txtvers}},{key:"_findDSClientByServiceInfo",value:function(F){var B,V=this._serviceInfos;if(V)for(B=0;B<V.length;B++){var G=V[B];if(this.isSameService(F,G)){var z=this._getDSClientFromMap(G);if(z){var Z;if(gu._isReady(z))return z;z.isDestroy||z.dispose();var ie=G==null||(Z=G.attrs)===null||Z===void 0?void 0:Z.UUID;ie&&delete this._dsScanClientsMap[ie]}break}}return null}},{key:"_setRemoteUuid",value:(r=a(w().mark(function F(){var B;return w().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!ui()){V.next=6;break}if(this._uuidForRemoteScanObject){V.next=6;break}return V.next=4,U.DWT.lgcuid(U.DWT.lgdt(),"");case 4:B=V.sent,this._uuidForRemoteScanObject=B;case 6:case"end":return V.stop()}},F,this)})),function(){return r.apply(this,arguments)})},{key:"_registEventToDefaultDS",value:function(){this._defaultDSScanClient&&(this.onBufferChanged&&this._defaultDSScanClient.registerEvent("OnBufferChanged",this.onBufferChanged),this.onPostTransferAsync&&this._defaultDSScanClient.registerEvent("OnPostTransferAsync",this.onPostTransferAsync))}}]);var r,n,o,s,u,d,c,f,m,_,S,y,b,I,x,P,L,$,te,q,Q,J,re,H}(),H0=!1;function zE(r,n){return HE.apply(this,arguments)}function HE(){return HE=a(w().mark(function r(n,o){var s,u;return w().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o&&Nr("Checking Product Key format..."),d.next=3,_t.preParseProductKey(o);case 3:if((s=U.DWT.licenseException).code==0){d.next=7;break}throw n&&nC(s),{code:s.code,message:s.message};case 7:if(H0){d.next=15;break}if(u=!1,ue.bIE&&(u=ue.IEVersion<=7),u||!ui()){d.next=15;break}if(U.DWT.IfLoadResources){d.next=14;break}return H0=!0,d.abrupt("return");case 14:return d.abrupt("return",new j.Promise(function(c,f){var m=ps(),_="";!ue.bFileSystem&&U.DWT.IfResourcesAddTimestamp&&(_=j.timestamp),p.addScript([m,"/src/dynamsoft.lts.js",_].join(""),!0,!1,function(S){if(U.LTS&&U.LTS._)return H0=!0,void c();if(S){if(ue.bIE)return void f({code:-2822,message:"The WebTwain JavaScript lts.js load failed."});if(S.type=="error")return void f({code:-2822,message:"The WebTwain JavaScript lts.js load failed."})}H0=!0,c()})}));case 15:case"end":return d.stop()}},r)})),HE.apply(this,arguments)}function Ble(r,n,o){return $E.apply(this,arguments)}function $E(){return $E=a(w().mark(function r(n,o,s){var u,d,c,f,m,_,S,y,b,I,x;return w().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:u=U.DWT.Containers,d=0;case 2:if(!(d<u.length)){P.next=53;break}if(!(c=p.clone(u[d])).ContainerId){P.next=8;break}if(!U.DWT.ContainerMap[c.ContainerId]){P.next=8;break}return P.abrupt("continue",50);case 8:if(!c.WebTwainId){P.next=12;break}if(!U.DWT.WebTwainIdMap[c.WebTwainId]){P.next=12;break}return P.abrupt("continue",50);case 12:if(c.Host=n,c.SSLPort=s,c.Port=o,!p.isDOM(c.Container)){P.next=19;break}P.next=26;break;case 19:if(!c.ContainerId){P.next=26;break}if(_=c.ContainerId,p.isString(_)){P.next=23;break}throw{code:-2806,message:'Error: The argument passed to the parameter "conatinerId" is not a string.'};case 23:if(c.Container=p.get(_),c.Container){P.next=26;break}throw vF(_);case 26:if(!pE(c.Container)){P.next=33;break}return S=document.createElement("div"),c.Container.appendChild(S),c.Container=S,y=hE(S),P.next=33,KR(y);case 33:return j9(b=t4(c)),I=void 0,P.prev=36,P.next=39,E4.create(b);case 39:I=P.sent,P.next=46;break;case 42:throw P.prev=42,P.t0=P.catch(36),I&&I.dispose(),P.t0;case 46:if((m=U.DWT.licenseException).code===0){P.next=49;break}throw{code:m.code,message:m.message};case 49:f=I;case 50:d++,P.next=2;break;case 53:x=window,f&&(x.DCP_DWT_OnClickCloseInstall&&x.DCP_DWT_OnClickCloseInstall(!1,!0),k4(f),yU(f)),setTimeout(function(){try{p.isFunction(U.DWT.OnWebTwainReady)?U.DWT.OnWebTwainReady():p.isFunction(x.Dynamsoft_OnReady)&&x.Dynamsoft_OnReady()}catch(L){vr(L)}},100);case 56:case"end":return P.stop()}},r,null,[[36,42]])})),$E.apply(this,arguments)}function R4(){return KE.apply(this,arguments)}function KE(){return KE=a(w().mark(function r(){var n,o,s,u,d,c,f,m,_,S,y,b,I,x;return w().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(j.page.bUnload=Pe,Ie.bHTML5Edition){P.next=3;break}return P.abrupt("return",U.DWT._innerLoad());case 3:return P.next=5,zE(!0,!0);case 5:if((n=U.DWT.Containers)&&n.length!==0){P.next=10;break}throw gF(o={}),{code:o._errorCode,message:o._errorString};case 10:d=!1,c=[],f=[],s=0;case 12:if(!(s<n.length)){P.next=37;break}if(!(u=n[s])){P.next=32;break}if(p.isObject(u)){P.next=18;break}return d=!0,P.abrupt("break",37);case 18:if(!p.isString(u.WebTwainId)||u.WebTwainId==""){P.next=24;break}if(!QR(c,u.WebTwainId)){P.next=23;break}throw _F(o={}),{code:o._errorCode,message:o._errorString};case 23:c.push(u.WebTwainId);case 24:if(!p.isString(u.ContainerId)||u.ContainerId==""){P.next=30;break}if(!QR(f,u.ContainerId)){P.next=29;break}throw yF(o={}),{code:o._errorCode,message:o._errorString};case 29:f.push(u.ContainerId);case 30:P.next=34;break;case 32:return d=!0,P.abrupt("break",37);case 34:s++,P.next=12;break;case 37:if(!d){P.next=41;break}throw X9(m={}),{code:m._errorCode,message:m._errorString};case 41:return _=si(),S=U.DWT.Port,y=U.DWT.SSLPort,P.next=44,o4(_,S,y);case 44:if(!U.DWT.IfCheckDCP){P.next=65;break}return b=ue.bSSL?y:S,P.next=48,lC(_,S,y);case 48:if(!(I=P.sent)){P.next=54;break}S=I.port,y=I.sslPort,P.next=57;break;case 54:throw Wi(x={}),rr(x);case 57:if(!U.dcp.bEnhancedMode){P.next=65;break}return P.prev=58,P.next=61,eu.closeWsClient(_,b,ue.bSSL);case 61:P.next=65;break;case 63:P.prev=63,P.t0=P.catch(58);case 65:return Nr("Creating WebTwain from Dynamsoft.DWT.Containers..."),P.next=68,Ble(_,S,y);case 68:case"end":return P.stop()}},r,null,[[58,63]])})),KE.apply(this,arguments)}var Ule=new(function(){return v(function r(){h(this,r)},[{key:"InvalidValue",value:function(r){Vn(r)}},{key:"ParameterCannotEmpty",value:function(r){ci(r)}},{key:"Webcam_InvalidIndex",value:function(r,n){Fe(r,-2315,"The index is out of range.")}},{key:"Webcam_InvalidRemoteFilename",value:function(r){Fe(r,-2316,"The RemoteFile field is empty in the Webcam Download Function.")}},{key:"InvalidDestination",value:function(r){Fe(r,-2318,"Invalid destination file.")}},{key:"InvalidSourceFile",value:function(r){Fe(r,-2319,"Invalid source file.")}},{key:"InvalidFile",value:function(r){cl(r)}},{key:"OCR_InvalidIndex",value:function(r,n){Fe(r,-2321,"The index is out of range.")}},{key:"OCR_InvalidLeftOrTopOrRightOrBottom",value:function(r){Fe(r,-2322,"The left or top or right or bottom you entered is invalid.")}},{key:"OCR_InvalidOutputFormat",value:function(r){Fe(r,-2323,"The OCR output format is not supported.")}},{key:"OCR_InvalidPageSetMode",value:function(r){Fe(r,-2324,"The OCR page set mode is not supported.")}},{key:"IndexOutOfRange",value:function(r){qe(r)}},{key:"OCR_InvalidRemoteFilename",value:function(r){Fe(r,-2379,"The RemoteFile field is empty in the OCR Download Function.")}},{key:"ImageEditorOpenCannotPlayVideo",value:function(r){Fe(r,-2437,"The video can not be played while the Image Editor is open.")}},{key:"EventNotExist",value:function(r){Fe(r,-2509,"The specified event doesn't exist.")}},{key:"CallbackNotAFunction",value:function(r){lF(r)}},{key:"WasmNotLoaded",value:function(r){Fe(r,-2537,"The wasm not loaded.")}},{key:"WasmNotLoaded_UseWasmFalse",value:function(r){Fe(r,-2538,"The wasm not loaded when Dynamsoft.DWT.UseCameraAddonWasm is set to false.")}},{key:"CannotDoWhenNoViewerJS",value:function(r){n_(r)}},{key:"LicenseNoDbr",value:function(r){Fe(r,-2611,"The license for the Barcode module is invalid."),zr(r)}}])}());if(Ie.bHTML5Edition){var Vle=function(){var r=a(w().mark(function n(o){var s,u,d,c,f,m,_,S;return w().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return HU(),y.next=3,zE(!0,!1);case 3:if(U.DWT.UseDefaultViewer||(o.Container=null),!pE(o.Container)){y.next=11;break}return u=document.createElement("div"),o.Container.appendChild(u),o.Container=u,d=hE(u),y.next=11,KR(d);case 11:return s=t4(o),y.next=14,Ef();case 14:return y.next=16,U0();case 16:c=3,f=0;case 18:if(!(f<c)){y.next=35;break}return y.prev=19,y.next=22,o4(s.host,s.port,s.sslPort);case 22:return y.abrupt("break",35);case 25:if(y.prev=25,y.t0=y.catch(19),!(f<c-1&&y.t0.code==kt.DWTPortNotReady)){y.next=31;break}return y.next=30,new j.Promise(function(b,I){setTimeout(function(){b()},300)});case 30:return y.abrupt("continue",32);case 31:throw y.t0;case 32:f++,y.next=18;break;case 35:if(!U.DWT.IfCheckDCP){y.next=47;break}return y.next=38,lC(s.host,s.port,s.sslPort);case 38:if(!(m=y.sent)){y.next=44;break}s.port=m.port,s.sslPort=m.sslPort,y.next=47;break;case 44:throw Wi(_={}),rr(_);case 47:return Nr("Creating a WebTwain instance..."),y.next=50,Nle(s);case 50:return S=y.sent,y.abrupt("return",S);case 52:case"end":return y.stop()}},n,null,[[19,25]])}));return function(n){return r.apply(this,arguments)}}(),jle=window;U.DWT.OnBeforeUnload=function(r){},jle.addEventListener("beforeunload",function(r){if(j.isFunction(U.DWT.OnBeforeUnload))return U.DWT.OnBeforeUnload(r)}),U.DWT.Unload=a(w().mark(function r(){var n;return w().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!Ie.bDWTLoading&&!Ie.bDWTUnloading){o.next=2;break}return o.abrupt("return");case 2:return Ie.bDWTUnloading=!0,o.prev=3,o.next=6,Ig(!1,!0);case 6:o.next=11;break;case 8:o.prev=8,o.t0=o.catch(3),n=o.t0;case 11:try{_c(),U.DWT.CloseDialog(),j._zdgb_xkz_dhk(),j.closeProgress(null,""),j.hideMask(),G9()}catch{}if(Ie.bDWTLoading=!1,Ie.bDWTUnloading=!1,Ie.loadResourcePath=!1,Ie.loadingResourcePath=!1,!n){o.next=18;break}throw n;case 18:case"end":return o.stop()}},r,null,[[3,8]])})),U.DWT.Load=a(w().mark(function r(){var n,o;return w().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!Ie.bDWTLoading){s.next=2;break}return s.abrupt("return");case 2:if(!Ie.bDWTUnloading){s.next=5;break}return setTimeout(U.DWT.Load,500),s.abrupt("return");case 5:return Ie.bDWTLoading=!0,wg(),s.prev=7,s.prev=8,s.next=11,B0();case 11:return s.next=13,Ef();case 13:return s.next=15,U0();case 15:s.next=21;break;case 17:throw s.prev=17,s.t0=s.catch(8),g_(s.t0),s.t0;case 21:return s.prev=21,U.Lib.closeProgress(),s.next=25,Ig(!0,!0);case 25:s.next=31;break;case 27:return s.prev=27,s.t1=s.catch(21),s.next=31,Ig();case 31:s.prev=31,U.DWT.CloseDialog(),n=3,o=0;case 35:if(!(o<n)){s.next=52;break}return s.prev=36,s.next=39,R4();case 39:return s.abrupt("break",52);case 42:if(s.prev=42,s.t2=s.catch(36),!(o<n-1&&s.t2.code==kt.DWTPortNotReady)){s.next=48;break}return s.next=47,new j.Promise(function(u,d){setTimeout(function(){u()},300)});case 47:return s.abrupt("continue",49);case 48:throw s.t2;case 49:o++,s.next=35;break;case 52:s.next=66;break;case 54:return s.prev=54,s.t3=s.catch(31),m_(s.t3.code)||j.detect.bOK||p.asyncQueue.pushToDo(null,U.DWT.Load),g_(s.t3),s.prev=59,s.next=62,Ig();case 62:s.next=66;break;case 64:s.prev=64,s.t4=s.catch(59);case 66:return s.prev=66,Ie.bDWTLoading=!1,_c(),s.finish(66);case 70:case"end":return s.stop()}},r,null,[[7,,66,70],[8,17],[21,27],[31,54],[36,42],[59,64]])})),U.DWT.CheckConnectToTheService=function(r,n,o,s){u4(r,n,null,o,s)},U.DWT.ConnectToTheService=function(){p.asyncQueue.start()},U.DWT.CreateDWTObject=function(r,n,o,s,u,d){var c,f=u,m=d;p.isFunction(n)&&p.isFunction(o)?(f=n,m=o,c={}):c={Host:n,Port:o,SSLPort:s};var _,S=r;if(p.isString(S)&&!(S=p.get(S)))return function(I){Fe(I,-2813,O9)}(_={}),m&&m({code:_._errorCode,message:_._errorString}),Pe;if(p.isDOM(S))c.Container=S;else{if(!p.isString(r)){var y={code:-2806,message:'Error: The argument passed to the parameter "conatinerId" is not a string.'};return p.isFunction(m)&&m(y),Pe}if(!p.get(r)){var b=vF(r);return p.isFunction(m)&&m(b),Pe}}return c.WebTwainId=nO(),U.DWT.CreateDWTObjectEx(c,f,m)},U.DWT.CreateDWTObjectEx=function(r,n,o){var s=arguments,u=!!r.bLoadingDialogOpened;return Ie.loadResourcePath?p.isString(r.WebTwainId)?(u||wg(),delete r.bLoadingDialogOpened,Vle(r).then(function(d){_c(),yU(d),p.isFunction(n)&&n(d)},function(d){if(_c(),!j.detect.bOK){var c=d&&d.code,f=U.DWT.licenseException;(c&&!m_(c)||f.code==0)&&(p.asyncQueue.stop(),p.asyncQueue.pushToDo(null,U.DWT.CreateDWTObjectEx,s))}p.isFunction(o)&&o(d)}),!0):(u&&_c(),o&&o({code:-2805,message:'Error: The "WebTwainId" is not a string.'}),Pe):(u||(wg(),r.bLoadingDialogOpened=!0),void B0().then(Ef).then(function(){setTimeout(function(){U.DWT.CreateDWTObjectEx(r,n,o)},100)},function(d){_c(),o(d)}))},U.DWT.CreateRemoteScanObjectAsync=function(){var r=a(w().mark(function n(o){var s,u;return w().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(s=null,o){d.next=5;break}throw $t(u={}),{code:u._errorCode,message:u._errorString};case 5:return Ie.bDWTLoading=!0,wg(),d.prev=7,d.next=10,Ef();case 10:return d.next=12,U0();case 12:return d.next=14,zE(!1,!1);case 14:s=new Wle(o),Object.preventExtensions(s);case 16:return d.prev=16,Ie.bDWTLoading=!1,_c(),d.finish(16);case 20:return d.abrupt("return",s);case 21:case"end":return d.stop()}},n,null,[[7,,16,20]])}));return function(n){return r.apply(this,arguments)}}(),U.DWT.DeleteDWTObject=function(r){var n,o=r;return Ie.bHTML5Edition&&o?!!(n=p.isString(o)?U.DWT.GetWebTwain(o):o)&&(n.dispose(),!0):Pe}}function Ig(r,n){return YE.apply(this,arguments)}function YE(){return YE=a(w().mark(function r(n,o){var s,u,d,c,f,m,_;return w().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(n&&Nr("Unload..."),!o){S.next=4;break}return S.next=4,U.DWT.lunload();case 4:if(j.dlgProgress=!1,j.detect.bOK=!1,j.detect.bFirst=!0,!(c=U.DWT.WebTwainIdMap)){S.next=32;break}f=Object.keys(c),s=0;case 11:if(!(s<f.length)){S.next=32;break}if(!(d=f[s])||!(d in c)){S.next=29;break}if(!(u=c[d])){S.next=29;break}if(S.prev=16,!u.__unload){S.next=22;break}return S.next=20,u.__unload();case 20:S.next=24;break;case 22:return S.next=24,u.dispose();case 24:S.next=29;break;case 26:S.prev=26,S.t0=S.catch(16),m=S.t0;case 29:s++,S.next=11;break;case 32:if(!(c=U.DWT.ContainerMap)){S.next=57;break}f=Object.keys(c),s=0;case 36:if(!(s<f.length)){S.next=57;break}if(!(d=f[s])||!(d in c)){S.next=54;break}if(!(u=c[d])){S.next=54;break}if(S.prev=41,!u.__unload){S.next=47;break}return S.next=45,u.__unload();case 45:S.next=49;break;case 47:return S.next=49,u.dispose();case 49:S.next=54;break;case 51:S.prev=51,S.t1=S.catch(41),m=S.t1;case 54:s++,S.next=36;break;case 57:if(!(c=U.DWT.RemoteScanIdMap)){S.next=82;break}f=Object.keys(c),s=0;case 61:if(!(s<f.length)){S.next=82;break}if(!(d=f[s])||!(d in c)){S.next=79;break}if(!(u=c[d])){S.next=79;break}if(S.prev=66,!u.__unload){S.next=72;break}return S.next=70,u.__unload();case 70:S.next=74;break;case 72:return S.next=74,u.dispose();case 74:S.next=79;break;case 76:S.prev=76,S.t2=S.catch(66),m=S.t2;case 79:s++,S.next=61;break;case 82:for(s=0;s<Ie.unloadQueue.length;s++)_=Ie.unloadQueue[s],p.isFunction(_)&&_();if(Ie.unloadQueue.splice(0),!m){S.next=86;break}throw m;case 86:case"end":return S.stop()}},r,null,[[16,26],[41,51],[66,76]])})),YE.apply(this,arguments)}function wg(){Ie.bHTML5Edition&&(FU(),Xr("openLoadingMsg",null,{width:j.loaderBarWidth+"px"}))}function _c(){Ie.bHTML5Edition&&kr("closeLoadingMsg:")}function st(r,n){var o,s=this,u=0;(o=p.isString(r)?document.getElementById(r):r).style.backgroundColor="transparent",s.isLoaded=!1,s.displayType=0,s.progress=0,s.progressPosition=0,s.borderWidth={left:0,right:0,top:0,bottom:0},s.orientation=n.orientation||st.Orientation.Horizontal,s.direction=n.direction||st.Direction.LeftToRight,s.creationType=n.creationType||st.CreationType.Replace,s.value=0,s.initialValue=n.value||0,s.minValue=n.minValue||0,s.maxValue=n.maxValue||100,s.showLabel=typeof n.showLabel>"u"||n.showLabel,s.labelText=n.labelText||"",s.width=n.width||"100%",s.height=n.height||20,s.borderRadius=n.borderRadius||10,s.orientation==st.Orientation.Horizontal&&s.borderRadius>s.height/2&&(s.borderRadius=Math.round(s.height/2)),p.isNumber(s.width)&&s.orientation==st.Orientation.Vertical&&s.borderRadius>s.width/2&&(s.borderRadius=Math.round(s.width/2)),s.backColor=n.backColor||"",s.color=n.color||"#50a8e1",s.animationStyle=0,s.animationInterval=n.animationInterval||100;var d=["parent","background","wrapper","left","middle","right","horizontalText","verticalText","marker"];for(s.extraClassName={},u=0;u<d.length;u++)n.extraClassName?typeof n.extraClassName=="string"?s.extraClassName[d[u]]=n.extraClassName:s.extraClassName[d[u]]=n.extraClassName[d[u]]||"":s.extraClassName[d[u]]="";s.onLoad=n.onLoad||null,s.onValueChanged=n.onValueChanged||null,s.onAnimate=n.onAnimate||null,s.creationType==st.CreationType.Replace?s.parentElement=o:(s.parentElement=document.createElement("DIV"),o.appendChild(s.parentElement)),s.finishLoading()}j.Errors=Ule,yg(a(w().mark(function r(){var n,o,s,u;return w().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if((n=window)&&(p.addEventListener(n,"focus",function(){var c;(c=U.DWT.WebTwainIdMap)&&p.each(c,function(f,m){f&&f._OnPageFocus&&f._OnPageFocus()})}),p.addEventListener(n,"blur",function(){ue.bWin&&JU()}),o=n.document,p.addEventListener(o,"visibilitychange",function(){ue.bWin&&o.visibilityState=="hidden"&&JU()})),U.navInfo){d.next=11;break}return d.prev=3,d.next=6,gE();case 6:U.navInfo=d.sent,d.next=11;break;case 9:d.prev=9,d.t0=d.catch(3);case 11:if(U.DWT.AutoLoad!==!1&&!Ie.bDWTLoading){d.next=13;break}return d.abrupt("return");case 13:return d.prev=13,d.next=16,B0();case 16:if(!(U.DWT.Containers&&U.DWT.Containers.length>0&&U.DWT.AutoLoad)||Ie.bDWTLoading){d.next=48;break}return Ie.bDWTLoading=!0,wg(),d.prev=20,d.next=23,Ef();case 23:return d.next=25,U0();case 25:s=3,u=0;case 27:if(!(u<s)){d.next=44;break}return d.prev=28,d.next=31,R4();case 31:return d.abrupt("break",44);case 34:if(d.prev=34,d.t1=d.catch(28),!(u<s-1&&d.t1.code==kt.DWTPortNotReady)){d.next=40;break}return d.next=39,new j.Promise(function(c,f){setTimeout(function(){c()},300)});case 39:return d.abrupt("continue",41);case 40:throw d.t1;case 41:u++,d.next=27;break;case 44:return d.prev=44,Ie.bDWTLoading=!1,_c(),d.finish(44);case 48:d.next=62;break;case 50:return d.prev=50,d.t2=d.catch(13),m_(d.t2.code)||j.detect.bOK||p.asyncQueue.pushToDo(null,U.DWT.Load),g_(d.t2),d.prev=55,d.next=58,Ig();case 58:d.next=62;break;case 60:d.prev=60,d.t3=d.catch(55);case 62:case"end":return d.stop()}},r,null,[[3,9],[13,50],[20,,44,48],[28,34],[55,60]])}))),st.Orientation={Horizontal:0,Vertical:1},st.Direction={LeftToRight:0,RightToLeft:1,TopToBottom:0,BottomToTop:1},st.CreationType={Replace:0,AppendChild:1},st.AnimationStyle={None:0,Static:1,StaticFull:2,Custom:3,CustomFull:4,Flickering1:10,Flickering2:11,Flickering3:12,LeftToRight1:20,LeftToRight2:21,RightToLeft1:22,RightToLeft2:23,TwoWay:24},st.prototype.finishLoading=function(){var r,n=this;n.wrapperElement=null,n.backgroundElement=null,n.valueElement=null,n.leftElement=null,n.middleElement=null,n.rightElement=null,n.backgroundElement=document.createElement("DIV"),n.backgroundElement.className="progressbar_background"+(n.extraClassName.background?" ":"")+n.extraClassName.background,n.backgroundElement.style.cssText=n.backgroundElement.style.cssText+st._createBorderRadiusCss(n.borderRadius),n.parentElement.appendChild(n.backgroundElement);var o=["border-radius","border-bottom-right-radius"],s=0,u="";for(s=0;s<o.length&&!(u=st._elementCurrentStyle(n.backgroundElement,o[s]))&&typeof u!="string";s++);u!=""&&st._parseInt(u)!=n.borderRadius&&(n.borderRadius=st._parseInt(u)),n.orientation==st.Orientation.Horizontal||n.orientation==st.Orientation.Vertical?n.displayType=0:n.displayType=1,n.parentElement.className=(n.parentElement.className!=""?" ":"")+"progressbar_parent dynamsoft-progressBar"+(n.extraClassName.parent?" ":"")+n.extraClassName.parent,n.displayType==0?((r=n.wrapperElement=document.createElement("DIV")).style.border="1px solid #A0A0A0",r.style.cssFloat="left",r.style.display="inline-block",r.style.width=p.isNumber(n.width)?n.width+"px":n.width,r.style.height=n.height+"px",r.style.left="0px",r.style.top=-n.height+"px",r.style.backgroundColor=n.backColor,r.style.backgroundRepeat="no-repeat",r.style.position="relative",r.style.cssText=r.style.cssText+st._createBorderRadiusCss(n.borderRadius),n.parentElement.appendChild(r),n.borderWidth={left:st._parseInt(st._elementCurrentStyle(r,"border-left-width")),right:st._parseInt(st._elementCurrentStyle(r,"border-right-width")),top:st._parseInt(st._elementCurrentStyle(r,"border-top-width")),bottom:st._parseInt(st._elementCurrentStyle(r,"border-bottom-width"))}):n.displayType==1&&(n.orientation==st.Orientation.Horizontal?p.isNumber(n.width)&&n.borderRadius>n.width/2&&(n.borderRadius=n.width):n.orientation==st.Orientation.Vertical&&n.borderRadius>n.height/2&&(n.borderRadius=n.height),n.valueElement=document.createElement("DIV"),n.valueElement.className="",n.leftElement=document.createElement("DIV"),n.middleElement=document.createElement("DIV"),n.rightElement=document.createElement("DIV"),n.leftElement.style.border="1px solid #A0A0A0",n.leftElement.style.cssFloat="left",n.leftElement.style.display="inline-block",n.leftElement.style.backgroundColor=n.backColor,n.leftElement.style.backgroundRepeat="no-repeat",n.leftElement.style.position="relative",n.rightElement.style.border="1px solid #A0A0A0",n.rightElement.style.cssFloat="left",n.rightElement.style.display="inline-block",n.rightElement.style.backgroundColor=n.backColor,n.rightElement.style.backgroundRepeat="no-repeat",n.rightElement.style.position="relative",n.middleElement.style.border="1px solid #A0A0A0",n.middleElement.style.cssFloat="left",n.middleElement.style.display="inline-block",n.middleElement.style.overflow="hidden",n.middleElement.style.position="relative",n.valueElement.style.backgroundColor=n.backColor,n.valueElement.style.position="relative",n.orientation==st.Orientation.Horizontal?(n.leftElement.style.width=n.borderRadius+"px",n.leftElement.style.height=n.height+"px",n.leftElement.style.top=-n.height+"px",n.leftElement.style.left="0px",n.leftElement.style.borderRight="none",n.leftElement.style.cssText=n.leftElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,0,0,n.borderRadius),n.rightElement.style.width=n.borderRadius+"px",n.rightElement.style.height=n.height+"px",n.rightElement.style.top=-n.height+"px",n.rightElement.style.borderLeft="none",n.rightElement.style.cssText=n.rightElement.style.cssText+st._createBorderRadiusCss(0,n.borderRadius,n.borderRadius,0),n.middleElement.style.width=p.isNumber(n.width)?n.width-2*n.borderRadius+"px":n.width,n.middleElement.style.height=n.height+"px",n.middleElement.style.top=-n.height+"px",n.middleElement.style.borderLeft="none",n.middleElement.style.borderRight="none",n.valueElement.style.width="0px",n.valueElement.style.height=n.height+"px"):n.orientation==st.Orientation.Vertical&&(n.leftElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.leftElement.style.height=n.borderRadius+"px",n.leftElement.style.top=-n.height+"px",n.leftElement.style.left="0px",n.leftElement.style.borderBottom="none",n.leftElement.style.cssText=n.leftElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,n.borderRadius,0,0),n.rightElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.rightElement.style.height=n.borderRadius+"px",n.rightElement.style.top=-n.height+"px",n.rightElement.style.left="0px",n.rightElement.style.borderTop="none",n.rightElement.style.cssText=n.rightElement.style.cssText+st._createBorderRadiusCss(0,0,n.borderRadius,n.borderRadius),n.middleElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.middleElement.style.height=n.height-2*n.borderRadius+"px",n.middleElement.style.top=-n.height+"px",n.middleElement.style.left="0px",n.middleElement.style.borderTop="none",n.middleElement.style.borderBottom="none",n.valueElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.valueElement.style.height="0px"),n.middleElement.appendChild(n.valueElement),n.parentElement.appendChild(n.leftElement),n.parentElement.appendChild(n.middleElement),n.parentElement.appendChild(n.rightElement),n.orientation==st.Orientation.Horizontal?n.borderWidth={left:st._parseInt(st._elementCurrentStyle(n.leftElement,"border-left-width")),right:st._parseInt(st._elementCurrentStyle(n.rightElement,"border-right-width")),top:st._parseInt(st._elementCurrentStyle(n.middleElement,"border-top-width")),bottom:st._parseInt(st._elementCurrentStyle(n.middleElement,"border-bottom-width"))}:n.orientation==st.Orientation.Vertical&&(n.borderWidth={left:st._parseInt(st._elementCurrentStyle(n.middleElement,"border-left-width")),right:st._parseInt(st._elementCurrentStyle(n.middleElement,"border-right-width")),top:st._parseInt(st._elementCurrentStyle(n.leftElement,"border-top-width")),bottom:st._parseInt(st._elementCurrentStyle(n.rightElement,"border-bottom-width"))})),p.isNumber(n.width)&&(n.parentElement.style.width=n.width+n.borderWidth.left+n.borderWidth.right+"px"),n.parentElement.style.height=n.height+n.borderWidth.top+n.borderWidth.bottom+"px",n.backgroundElement.style.cssFloat="left",n.backgroundElement.style.display="inline-block",p.isNumber(n.width)&&(n.backgroundElement.style.width=n.width+n.borderWidth.left+n.borderWidth.right+"px"),n.backgroundElement.style.height=n.height+"px",n.backgroundElement.style.backgroundColor="#FFFFFF",n.backgroundElement.style.position="relative",n.displayType==0&&p.isNumber(n.width)&&(n.backgroundElement.style.width=n.width+n.borderWidth.left+n.borderWidth.right+"px"),n.backgroundElement.style.top=n.borderWidth.top+"px",n.markerElement=document.createElement("DIV"),n.markerElement.style.display="inline-block",n.markerElement.style.zoom="1.0",n.markerElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.markerElement.style.height=n.height+"px",n.markerElement.style.top=2*-n.height-n.borderWidth.top+"px",n.markerElement.style.left=n.borderWidth.left+"px",n.markerElement.style.backgroundColor=n.color,n.markerElement.style.lineHeight=n.height+"px",n.markerElement.style.position="relative",n.parentElement.appendChild(n.markerElement),n.isLoaded=!0,n.setValue(n.initialValue),n.onLoad!=null&&n.onLoad()},st.prototype.setValue=function(r){var n=this;if(r!==null&&r<n.minValue&&(r=n.minValue),r!==null&&r>n.maxValue&&(r=n.maxValue),r===null||(n.value=r),n.isLoaded){var o,s=0,u=n.width;if(p.isString(u)){var d=Te.one(".dynamsoft-progressBar");d&&d.getEL()&&(u=d.getEL().offsetWidth)}if(n.orientation==st.Orientation.Horizontal){s=n.value/n.maxValue*u,n.progressPosition=s,n.displayType==0||n.displayType==1&&(n.direction==st.Direction.LeftToRight?s<=n.borderRadius?n.valueElement.style.width="0px":s>=u-n.borderRadius?n.valueElement.style.width=n.middleElement.style.width:n.valueElement.style.width=s-n.borderRadius+"px":s<=n.borderRadius?n.valueElement.style.width="0px":s>=u-n.borderRadius?(n.valueElement.style.left="0px",n.valueElement.style.width=n.middleElement.style.width):(n.valueElement.style.left=u-s-n.borderRadius+"px",n.valueElement.style.width=s-n.borderRadius+"px")),s>0?(n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull?n.markerElement.style.width=s+"px":n.markerElement.style.width=u+"px",n.markerElement.style.visibility="visible"):(n.markerElement.style.width=u+"px",n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull&&(n.markerElement.style.visibility="hidden")),n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull?n.direction==st.Direction.LeftToRight?n.markerElement.style.left=n.borderWidth.left+"px":n.markerElement.style.left=u-s+n.borderWidth.left+"px":n.markerElement.style.left=n.borderWidth.left+"px";var c=2*-n.height-n.borderWidth.top;if(s==0||u==s)n.markerElement.style.top=c+"px",n.markerElement.style.height=n.height+"px",n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius);else if(s<n.borderRadius){var f=n.height-2.25*(n.borderRadius-Math.sqrt(Math.pow(n.borderRadius,2)-Math.pow(n.borderRadius-s,2))),m=c+n.height/2-f/2;n.markerElement.style.top=m+"px",n.markerElement.style.height=f+"px",n.direction==st.Direction.LeftToRight?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,0,0,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(0,n.borderRadius,n.borderRadius,0)}else u-s<n.borderRadius?(o=(2*(n.borderRadius-(u-s))+(n.borderRadius-Math.sqrt(Math.pow(n.borderRadius,2)-Math.pow(n.borderRadius-(u-s),2))))/3,n.direction==st.Direction.LeftToRight?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,o,o,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(o,n.borderRadius,n.borderRadius,o)):(n.markerElement.style.top=c+"px",n.markerElement.style.height=n.height+"px",n.direction==st.Direction.LeftToRight?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,0,0,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(0,n.borderRadius,n.borderRadius,0))}else if(n.orientation==st.Orientation.Vertical){s=n.value/n.maxValue*n.height,n.progressPosition=s,n.displayType==0||n.displayType==1&&(n.direction==st.Direction.TopToBottom?s<=n.borderRadius?n.valueElement.style.height="0px":s>=n.height-n.borderRadius?n.valueElement.style.height=n.middleElement.style.height:n.valueElement.style.height=s-n.borderRadius+"px":s<=n.borderRadius?n.valueElement.style.height="0px":s>=n.height-n.borderRadius?(n.valueElement.style.top="0px",n.valueElement.style.height=n.middleElement.style.height):(n.valueElement.style.top=n.height-s-n.borderRadius+"px",n.valueElement.style.height=s+2*n.borderRadius+"px")),s>0?(n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull?n.markerElement.style.height=s+"px":(n.markerElement.style.height=n.height+"px",n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius)),n.markerElement.style.visibility="visible"):(n.markerElement.style.height="0px",n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull&&(n.markerElement.style.visibility="hidden"));var _=n.borderWidth.left;if(s==0||n.height==s)n.markerElement.style.left=_+"px",n.markerElement.style.width=u+"px",n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius);else if(s<n.borderRadius){var S=2.5*s;S>u&&(S=u);var y=_+u/2-S/2;n.markerElement.style.left=y+"px",n.markerElement.style.width=S+"px",n.direction==st.Direction.BottomToTop?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(0,0,n.borderRadius,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,n.borderRadius,0,0)}else n.height-s<n.borderRadius?(o=(2*(n.borderRadius-(n.height-s))+(n.borderRadius-Math.sqrt(Math.pow(n.borderRadius,2)-Math.pow(n.borderRadius-(n.height-s),2))))/3,n.direction==st.Direction.BottomToTop?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(o,o,n.borderRadius,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,n.borderRadius,o,o)):(n.markerElement.style.left=_+"px",n.markerElement.style.width=u+"px",n.direction==st.Direction.BottomToTop?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(0,0,n.borderRadius,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,n.borderRadius,0,0));n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull?n.direction==st.Direction.TopToBottom?n.markerElement.style.top=2*-n.height-n.borderWidth.top+"px":n.markerElement.style.top=-n.height-s-n.borderWidth.top+"px":n.markerElement.style.top=2*-n.height-n.borderWidth.top+"px"}n.progress=n.value/n.maxValue}n.onValueChanged!=null&&n.onValueChanged()},st._elementCurrentStyle=function(r,n){if(r.currentStyle){var o=0,s="",u=!1;for(o=0;o<n.length;o++)n[o].toString()!="-"?(s+=u?n[o].toString().toUpperCase():n[o].toString(),u=!1):u=!0;return n=s,r.currentStyle[n]}return getComputedStyle(r,null).getPropertyValue(n)},st._parseInt=function(r){var n=parseInt(r);return isNaN(n)&&(n=0),n},st._createBorderRadiusCss=function(r,n,o,s){return r!=null&&n==null&&o==null&&s==null?";-ms-border-radius: "+r+"px;border-radius:"+r+"px;":";-ms-border-radius:"+(r=r||0)+"px "+(n=n||0)+"px "+(o=o||0)+"px "+(s=s||0)+"px;border-radius:"+r+"px "+n+"px "+o+"px "+s+"px;"};var Gle=function(){return v(function r(){h(this,r),C(this,"handlers",{})},[{key:"on",value:function(r,n){var o=p.guid();return this.handlers[r]||(this.handlers[r]=[]),this.handlers[r].push({id:o,handler:n}),o}},{key:"off",value:function(r,n){if(this.handlers[r]){var o,s=this.handlers[r];if(n){for(o=0;o<s.length;o++)if(s[o].id==n){s.splice(o,1);break}}else s.splice(0)}}},{key:"fire",value:function(r){if(this.handlers[r]){var n,o=this.handlers[r];for(n=0;n<o.length;n++)o[n].handler();return o.length}return 0}},{key:"clear",value:function(){this.handlers={}}}])}(),zle=U.DWT;j.ProgressBar=st,j.progressMessage="",j.dialogShowStatus=!1,j.needShowTwiceShowDialog=!1,j.dlgProgress=!1,j.cancelFrom=Mt.Other,j.dlgRef=0,j.initProgress=function(r){var n,o;if(!j.dlgProgress){(o=[]).push('<dialog class="dynamsoft-dwt-dialogProgress" closed="closed" style="top:30%"><div class="ds-dwt-progressWrap">'),o.push('<h3 class="dynamsoft-finalMessage"> </h3>'),o.push('<p class="dynamsoft-desc"></p><p class="dynamsoft-status">0%</p>'),ue.bIE?o.push('<div class="dynamsoft-progressBar" value="" max="100"></div>'):o.push('<progress class="dynamsoft-progressBar" value="" max="100"></progress>'),o.push('<div style="width:100%;text-align:center;margin:5px 0;"><button class="dynamsoft-btnCancel" value="cancel" autofcus>cancel</button></div>'),o.push("</div></dialog>"),(n=Te.one(".dynamsoft-dwt-dialogProgress"))&&n.getEL()&&n.remove();var s=j.parseHTML(o.join(""));if(s&&s.length>0&&document.body.appendChild(s[0]),ue.bIE){var u=Te.one(".dynamsoft-progressBar"),d=u&&u.getEL();d&&(d.objProgressBar=new st(d,{height:20}));var c=Te.one(".ds-dwt-progressWrap").getEL();c&&(c.style.boxSizing="content-box")}(n=Te.one(".dynamsoft-dwt-dialogProgress"))&&n.getEL()&&(j.dlgProgress=n[0],Te.dialog.setup(j.dlgProgress)),j.dlgRef=0,j.dialogShowStatus=!1,j.cancelFrom=Mt.Other}},j.showProgressMsg=function(){};var Hle=function(r){function n(){return h(this,n),l(this,n,arguments)}return D(n,r),v(n)}(Gle);j.progressContext=new Hle;var F4=function(){var r=j.progressContext;if(r){var n,o=r.fire("cancel");if(o>=1)for(n=0;n<o;n++)j.closeProgress(null,"");else r.__cancelBeforObjectCreated&&(j.closeProgress(null,""),r.__clickCancel=!0)}};j.hideProgress=function(){var r=j.progressContext;r&&(r.IfShowProgressBar=!1,r.IfShowCancelDialogWhenImageTransfer=!1,r.off("cancel"),r._onPercent=null)},j.showProgress=function(r,n,o){var s,u=r;if(u.IfShowProgressBar)if(j.progressContext&&(j.progressContext.IfShowProgressBar=!0,j.progressContext.IfShowCancelDialogWhenImageTransfer=u.IfShowCancelDialogWhenImageTransfer),j.dlgRef>0)j.dlgRef++;else{var d;if((s=U.DWT.IfConfineMaskWithinTheViewer)?u._isNoViewer&&u._isNoViewer()?d=document.body:u._containerElement?d=u._containerElement:U.DWT.Containers&&U.DWT.Containers.length>0&&U.DWT.Containers[0].ContainerId&&(d=p.get(U.DWT.Containers[0].ContainerId))||(d=document.body):d=document.body,d&&d!==document.body){var c=!1,f=d.firstElementChild;if(f&&f!==j.dlgProgress&&f.className=="dvs-root dvs-web-viewer"&&(d=f,c=!0),c==0){for(var m=0;m<d.children.length;m++)if((f=d.children[m])&&f!==j.dlgProgress&&f.className=="dvs-root dvs-web-viewer"){d=f;break}}var _=j.progressContext;d.style.position!==""&&d.style.position!=="static"||(d.style.position="relative",_.progressContainer={el:d})}p.log("showProgress:"+n+",bCancel:"+o),j.dlgProgress&&d.appendChild(j.dlgProgress),Zs(o);var S=Te.one(".dynamsoft-btnCancel");if(S&&S.getEL()&&(p.removeEventListener(S[0],"click",F4),p.addEventListener(S[0],"click",F4)),j.dialogShowStatus==0){j.dlgProgress&&(s&&d&&d!==document.body?Te.dialog.setup(j.dlgProgress,!0):Te.dialog.setup(j.dlgProgress),j.dlgProgress.showModal()),j.dialogShowStatus=!0;var y=Te.one(".dynamsoft-finalMessage"),b=Te.one(".dynamsoft-progressBar"),I=b&&b.getEL(),x=Te.one(".dynamsoft-status");y&&y.getEL()&&y.html(""),x&&x.getEL()&&x.html("0%"),I&&(ue.bIE&&I.objProgressBar?I.objProgressBar.setValue(0):I.value=0)}j.dlgRef++}else j.hideProgress()},j.closeProgress=function(r,n){var o=j.progressContext;p.log("closeProgress:"+n),o&&o.IfShowProgressBar?(j.dlgRef--,j.dlgRef<=0&&(j.dlgRef=0)):j.dlgRef=0,j.dlgRef==0&&(o.off("cancel"),o._onPercent=null,j.dialogShowStatus==1&&(j.dlgProgress&&(j.dlgProgress.close(),j.dlgProgress&&document.body.appendChild(j.dlgProgress),o&&o.progressContainer&&o.progressContainer.el&&(o.progressContainer.el.style.position="",o.progressContainer=null)),j.dialogShowStatus=!1),j.cancelFrom=Mt.Other)},zle.RemoveAllAuthorizations=function(){var r=ra.item("DWT_port"),n="http://";return ra.item("DWT_ssl")=="true"&&(n="https://"),Po({method:"GET",xhrFields:{withCredentials:!0},url:[n,si(),":",r,"/dwt/",Ie.getDWTPrefix(),Ie.getServerVersionInfo(),"/RemoveAllAuthorizations?t=",p.now()].join(""),async:!0}),!0};var $le={upload:"Uploading...",download:"Downloading...",load:"Processing...",decode:"Processing...",decodeTIFF:"Processing tiff...",decodePDF:"Processing pdf...",encodeTIFF:"Processing tiff...",encodePDF:"Processing pdf...",encode:"Processing...",transfer:"Transferring..."};j.progressBarOnPercentDone=function(r,n,o,s,u,d){var c,f=Te.one(".dynamsoft-progressBar"),m=Te.one(".dynamsoft-status"),_=Te.one(".dynamsoft-finalMessage"),S=Te.one(".dynamsoft-desc");if(U.DWT.UseDefaultViewer&&U.DWT.IfConfineMaskWithinTheViewer&&d&&(f=Te.one(".dynamsoft-progressBar",d),m=Te.one(".dynamsoft-status",d),_=Te.one(".dynamsoft-finalMessage",d),S=Te.one(".dynamsoft-desc",d)),j.cancelFrom==Mt.FTPUpload||j.cancelFrom==Mt.FTPDownload){var y=o;y==0?j.setBtnCancelVisibleForProgress(!1):y==1&&j.setBtnCancelVisibleForProgress(!0)}else j.cancelFrom==Mt.HTTPUpload||j.cancelFrom==Mt.LoadImage||j.cancelFrom==Mt.HTTPPut?n=="Processing..."&&j.setBtnCancelVisibleForProgress(!1):j.cancelFrom==Mt.ConvertToBlob&&(r==-1||j.setBtnCancelVisibleForProgress(!1),s==100&&(n="",j.progressMessage="Processing..."));if(r<0?(j.progressMessage=n,c=j.progressMessage):c=n!=""&&n!="1/1"?j.progressMessage+"("+n+")":j.progressMessage,_&&_.getEL()){var b="",I="";c.indexOf(" ...")&&(c=c.replace(" ...","...")),c.indexOf("(")!=-1?(b=c.substr(0,c.indexOf("(")),I=c.substr(c.indexOf("("))):b=c,p.each($le,function(P,L){P.indexOf(b)!=-1&&(c=kn.customProgressText[L]+I)}),c==""&&(c="&nbsp;"),_.html(c)}if(u?u==""||p.isUndefined(u)?(u="&nbsp;",S&&S.hide&&S.hide()):(p.isString(u)&&u.length>30&&(u=u.substring(0,30)+"..."),S&&(S.show&&S.show(),S.html(u))):S&&S.hide&&S.hide(),(s||s===0)&&(m&&m.getEL()&&m.html(s+"%"),f&&f.getEL())){var x=s;x>99&&(x=99),ue.bIE?f[0].objProgressBar?f[0].objProgressBar.setValue(x):f[0].value=x:(ue.bEdge&&(f[0].style.display=""),f[0].value=x)}j.dlgRef<=0&&setTimeout(function(){f&&f.getEL()&&(ue.bIE?f[0].objProgressBar?f[0].objProgressBar.setValue(0):f[0].value=0:(ue.bEdge&&(f[0].style.display="none"),f[0].value=0))},1e3)},(j.__ver||0)<Ce&&(p.mix(j,Te),j.__ver=Ce),j.bNode=Ue,j._defaultAgent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",j._defaultPlatform="Win64",j.timestamp="?t=20241010102903",p.mix(j,Zo),j.ajax=Po,j.fetch=kd,j.detect.showMask=YT,j.detect.hideMask=QT,j.env=Wr,j.product=Ie,j.scannerInfo=Or,j.License=_t,j.BIO=Yu,j.UI.ImageUIView=Gce,j.UI.ImageManager=NU,U.MSG=br,j.domReady=yg,function r(){if(!window||document&&document.body){var n=document;if(n.readyState!==BU)if(yE(window,WU,If),_E){var o=function(){SE(n,MU,o),If()};yE(n,MU,o)}else{var s,u,d,c=function(){n.readyState===BU&&(SE(n,LU,c),If())};yE(n,LU,c),u=n&&n.documentElement,d=u&&u.doScroll;try{s=window.frameElement===null}catch{s=!1}if(d&&s){var f=function(){try{d("left"),setTimeout(If,30)}catch{setTimeout(f,40)}};f()}}else If()}else setTimeout(r,100)}(),yg(function(){if(U.DWT.CustomizableDisplayInfo||(U.DWT.CustomizableDisplayInfo=kn),ue.bIE){U.DWT.CustomizableDisplayInfo.loaderBarSourceIE||(U.DWT.CustomizableDisplayInfo.loaderBarSourceIE=Ps.loaderBarSourceIE);try{document.execCommand("BackgroundImageCache",!1,!0)}catch{}}}),U.Ready=function(r){if(!U.navInfo)return gE().then(function(n){U.navInfo=n;try{r()}catch(o){throw p.log(o.stack||o,"error"),o}});try{r()}catch(n){throw p.log(n.stack||n,"error"),n}}})({mapPackageRegister:ZAe,CoreModule:es})}Y.DWT.bNpm=!0;Y.DWT.dbrCanvasMaxWH=4096;Y.aryAddonReadyFun=[];Y.AddonReady=function(e){Y.aryAddonReadyFun.push(e)};/*! 20240828 20230310201709
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: BarcodeReader
* Version: 18.5.1
* 
*/var Y=self.Dynamsoft||{};Y.DWT=Y.DWT||{},Y.DBR=Y.DBR||{},Y.aryAddonReadyFun=Y.aryAddonReadyFun||[],Y.AddonReady=Y.AddonReady||function(e){Y.aryAddonReadyFun.push(e)},function(){Y.BarcodeReaderAddon=Y.BarcodeReaderAddon||{};var e=Y.BarcodeReaderAddon;e.Version="9.6.1.0312",e._decoding=!1,e._decodeQueue=[],e._decodeNext=function(){var t,i;e._decodeQueue.length==0?e._decoding=!1:(t=(i=e._decodeQueue[0]).method,i=i.args,e._decodeQueue.splice(0,1),t.apply(null,i))},e._defaultRuntimeSettingsStr="",e._defaultTemplateStr="",e._activeXInstance=!1,e.BarcodeReaderException=function(){var i=arguments[0],t=Y.DBR.EnumErrorCode.DBR_UNKNOWN,i=typeof i=="number"?(t=i,new Error(arguments[1])):new Error(i);return i.code=t,i},e.RemoveNonPrintableChar=function(t){return Y.Lib.isString(t)?t.replace(/[^\x20-\x7E]|(\\")/g,""):t},e.errors={webcamNotInstalled:"The Webcam add-on not installed.",nonServiceNotSupportWebcamDecode:"The BarcodeReader add-on does not support reading barcodes from video streams.",decodeResultEmpty:"decode result is empty.",ServiceEditionNotSupportDbr:"The BarcodeReader add-on does not support your Operating System.",ServiceEditionNotSupportWasmMode:"You cannot call this method on this WebTwain instance."},e._activeXMaxIEVersion=9,e.logLevel=3,Y.DBR.EnumAccompanyingTextRecognitionMode={ATRM_GENERAL:1,ATRM_SKIP:0},Y.DBR.EnumBarcodeColourMode={BICM_DARK_ON_LIGHT:1,BICM_LIGHT_ON_DARK:2,BICM_DARK_ON_DARK:4,BICM_LIGHT_ON_LIGHT:8,BICM_DARK_LIGHT_MIXED:16,BICM_DARK_ON_LIGHT_DARK_SURROUNDING:32,BICM_SKIP:0},Y.DBR.EnumBarcodeComplementMode={BCM_AUTO:1,BCM_GENERAL:2,BCM_SKIP:0},Y.DBR.EnumBarcodeFormat={BF_ALL:-32505857,BF_ONED:2047,BF_GS1_DATABAR:260096,BF_CODE_39:1,BF_CODE_128:2,BF_CODE_93:4,BF_CODABAR:8,BF_ITF:16,BF_EAN_13:32,BF_EAN_8:64,BF_UPC_A:128,BF_UPC_E:256,BF_INDUSTRIAL_25:512,BF_CODE_39_EXTENDED:1024,BF_GS1_DATABAR_OMNIDIRECTIONAL:2048,BF_GS1_DATABAR_TRUNCATED:4096,BF_GS1_DATABAR_STACKED:8192,BF_GS1_DATABAR_STACKED_OMNIDIRECTIONAL:16384,BF_GS1_DATABAR_EXPANDED:32768,BF_GS1_DATABAR_EXPANDED_STACKED:65536,BF_GS1_DATABAR_LIMITED:131072,BF_PATCHCODE:262144,BF_PDF417:33554432,BF_QR_CODE:67108864,BF_DATAMATRIX:134217728,BF_AZTEC:268435456,BF_MAXICODE:536870912,BF_MICRO_QR:1073741824,BF_MICRO_PDF417:524288,BF_GS1_COMPOSITE:-2147483648,BF_NULL:0},Y.DBR.EnumBarcodeFormat_2={BF2_NULL:0,BF2_POSTALCODE:32505856,BF2_NONSTANDARD_BARCODE:1,BF2_USPSINTELLIGENTMAIL:1048576,BF2_POSTNET:2097152,BF2_PLANET:4194304,BF2_AUSTRALIANPOST:8388608,BF2_RM4SCC:16777216,BF2_DOTCODE:2},Y.DBR.EnumBinarizationMode={BM_AUTO:1,BM_LOCAL_BLOCK:2,BM_SKIP:0},Y.DBR.EnumClarityCalculationMethod={ECCM_CONTRAST:1},Y.DBR.EnumClarityFilterMode={CFM_GENERAL:1},Y.DBR.EnumColourClusteringMode={CCM_AUTO:1,CCM_GENERAL_HSV:2,CCM_SKIP:0},Y.DBR.EnumColourConversionMode={CICM_GENERAL:1,CICM_SKIP:0},Y.DBR.EnumConflictMode={CM_IGNORE:1,CM_OVERWRITE:2},Y.DBR.EnumDeformationResistingMode={DRM_AUTO:1,DRM_GENERAL:2,DRM_SKIP:0},Y.DBR.EnumDPMCodeReadingMode={DPMCRM_AUTO:1,DPMCRM_GENERAL:2,DPMCRM_SKIP:0},Y.DBR.EnumErrorCode={DBR_SYSTEM_EXCEPTION:1,DBR_SUCCESS:0,DBR_UNKNOWN:-1e4,DBR_NO_MEMORY:-10001,DBR_NULL_REFERENCE:-10002,DBR_LICENSE_INVALID:-10003,DBR_LICENSE_EXPIRED:-10004,DBR_FILE_NOT_FOUND:-10005,DBR_FILETYPE_NOT_SUPPORTED:-10006,DBR_BPP_NOT_SUPPORTED:-10007,DBR_INDEX_INVALID:-10008,DBR_BARCODE_FORMAT_INVALID:-10009,DBR_CUSTOM_REGION_INVALID:-10010,DBR_MAX_BARCODE_NUMBER_INVALID:-10011,DBR_IMAGE_READ_FAILED:-10012,DBR_TIFF_READ_FAILED:-10013,DBR_QR_LICENSE_INVALID:-10016,DBR_1D_LICENSE_INVALID:-10017,DBR_DIB_BUFFER_INVALID:-10018,DBR_PDF417_LICENSE_INVALID:-10019,DBR_DATAMATRIX_LICENSE_INVALID:-10020,DBR_PDF_READ_FAILED:-10021,DBR_PDF_DLL_MISSING:-10022,DBR_PAGE_NUMBER_INVALID:-10023,DBR_CUSTOM_SIZE_INVALID:-10024,DBR_CUSTOM_MODULESIZE_INVALID:-10025,DBR_RECOGNITION_TIMEOUT:-10026,DBR_JSON_PARSE_FAILED:-10030,DBR_JSON_TYPE_INVALID:-10031,DBR_JSON_KEY_INVALID:-10032,DBR_JSON_VALUE_INVALID:-10033,DBR_JSON_NAME_KEY_MISSING:-10034,DBR_JSON_NAME_VALUE_DUPLICATED:-10035,DBR_TEMPLATE_NAME_INVALID:-10036,DBR_JSON_NAME_REFERENCE_INVALID:-10037,DBR_PARAMETER_VALUE_INVALID:-10038,DBR_DOMAIN_NOT_MATCHED:-10039,DBR_RESERVEDINFO_NOT_MATCHED:-10040,DBR_AZTEC_LICENSE_INVALID:-10041,DBR_LICENSE_DLL_MISSING:-10042,DBR_LICENSEKEY_NOT_MATCHED:-10043,DBR_REQUESTED_FAILED:-10044,DBR_LICENSE_INIT_FAILED:-10045,DBR_PATCHCODE_LICENSE_INVALID:-10046,DBR_POSTALCODE_LICENSE_INVALID:-10047,DBR_DPM_LICENSE_INVALID:-10048,DBR_FRAME_DECODING_THREAD_EXISTS:-10049,DBR_STOP_DECODING_THREAD_FAILED:-10050,DBR_SET_MODE_ARGUMENT_ERROR:-10051,DBR_LICENSE_CONTENT_INVALID:-10052,DBR_LICENSE_KEY_INVALID:-10053,DBR_LICENSE_DEVICE_RUNS_OUT:-10054,DBR_GET_MODE_ARGUMENT_ERROR:-10055,DBR_IRT_LICENSE_INVALID:-10056,DBR_MAXICODE_LICENSE_INVALID:-10057,DBR_GS1_DATABAR_LICENSE_INVALID:-10058,DBR_GS1_COMPOSITE_LICENSE_INVALID:-10059,DBR_DOTCODE_LICENSE_INVALID:-10061,DMERR_FAILED_TO_REACH_LTS:-20200},Y.DBR.EnumGrayscaleTransformationMode={GTM_INVERTED:1,GTM_ORIGINAL:2,GTM_SKIP:0},Y.DBR.EnumImagePixelFormat={IPF_Binary:0,IPF_BinaryInverted:1,IPF_GrayScaled:2,IPF_NV21:3,IPF_RGB_565:4,IPF_RGB_555:5,IPF_RGB_888:6,IPF_ARGB_8888:7,IPF_RGB_161616:8,IPF_ARGB_16161616:9,IPF_ABGR_8888:10,IPF_ABGR_16161616:11,IPF_BGR_888:12},Y.DBR.EnumImagePreprocessingMode={IPM_AUTO:1,IPM_GENERAL:2,IPM_GRAY_EQUALIZE:4,IPM_GRAY_SMOOTH:8,IPM_SHARPEN_SMOOTH:16,IPM_MORPHOLOGY:32,IPM_SKIP:0},Y.DBR.EnumIMResultDataType={IMRDT_IMAGE:1,IMRDT_CONTOUR:2,IMRDT_LINESEGMENT:4,IMRDT_LOCALIZATIONRESULT:8,IMRDT_REGIONOFINTEREST:16,IMRDT_QUADRILATERAL:32},Y.DBR.EnumIntermediateResultSavingMode={IRSM_MEMORY:1,IRSM_FILESYSTEM:2,IRSM_BOTH:4},Y.DBR.EnumIntermediateResultType={IRT_NO_RESULT:0,IRT_ORIGINAL_IMAGE:1,IRT_COLOUR_CLUSTERED_IMAGE:2,IRT_COLOUR_CONVERTED_GRAYSCALE_IMAGE:4,IRT_TRANSFORMED_GRAYSCALE_IMAGE:8,IRT_PREDETECTED_REGION:16,IRT_PREPROCESSED_IMAGE:32,IRT_BINARIZED_IMAGE:64,IRT_TEXT_ZONE:128,IRT_CONTOUR:256,IRT_LINE_SEGMENT:512,IRT_FORM:1024,IRT_SEGMENTATION_BLOCK:2048,IRT_TYPED_BARCODE_ZONE:4096,IRT_PREDETECTED_QUADRILATERAL:8192},Y.DBR.EnumLocalizationMode={LM_SKIP:0,LM_AUTO:1,LM_CONNECTED_BLOCKS:2,LM_LINES:8,LM_STATISTICS:4,LM_SCAN_DIRECTLY:16,LM_STATISTICS_MARKS:32,LM_STATISTICS_POSTAL_CODE:64},Y.DBR.EnumPDFReadingMode={PDFRM_RASTER:1,PDFRM_AUTO:2,PDFRM_VECTOR:4},Y.DBR.EnumQRCodeErrorCorrectionLevel={QRECL_ERROR_CORRECTION_H:0,QRECL_ERROR_CORRECTION_L:1,QRECL_ERROR_CORRECTION_M:2,QRECL_ERROR_CORRECTION_Q:3},Y.DBR.EnumRegionPredetectionMode={RPM_AUTO:1,RPM_GENERAL:2,RPM_GENERAL_RGB_CONTRAST:4,RPM_GENERAL_GRAY_CONTRAST:8,RPM_GENERAL_HSV_CONTRAST:16,RPM_SKIP:0},Y.DBR.EnumResultCoordinateType={RCT_PIXEL:1,RCT_PERCENTAGE:2},Y.DBR.EnumResultType={RT_STANDARD_TEXT:0,RT_RAW_TEXT:1,RT_CANDIDATE_TEXT:2,RT_PARTIAL_TEXT:3},Y.DBR.EnumScaleUpMode={SUM_AUTO:1,SUM_LINEAR_INTERPOLATION:2,SUM_NEAREST_NEIGHBOUR_INTERPOLATION:4,SUM_SKIP:0},Y.DBR.EnumTerminatePhase={TP_REGION_PREDETECTED:1,TP_IMAGE_PREPROCESSED:2,TP_IMAGE_BINARIZED:4,TP_BARCODE_LOCALIZED:8,TP_BARCODE_TYPE_DETERMINED:16,TP_BARCODE_RECOGNIZED:32},Y.DBR.EnumTextAssistedCorrectionMode={TACM_AUTO:1,TACM_VERIFYING:2,TACM_VERIFYING_PATCHING:4,TACM_SKIP:0},Y.DBR.EnumTextFilterMode={TFM_AUTO:1,TFM_GENERAL_CONTOUR:2,TFM_SKIP:0},Y.DBR.EnumTextResultOrderMode={TROM_CONFIDENCE:1,TROM_POSITION:2,TROM_FORMAT:4,TROM_SKIP:0},Y.DBR.EnumTextureDetectionMode={TDM_AUTO:1,TDM_GENERAL_WIDTH_CONCENTRATION:2,TDM_SKIP:0}}(),Y.AddonReady(function(e,t){var i,a=Y.BarcodeReaderAddon;function l(h){return h&&h instanceof ArrayBuffer}a.Class=function(){function h(v){this._runtimeSettings=null,this._initSettingsContent=null,this._tplContentArr=[],this._stwain=v}var g;return h.prototype._decodeBlob=function(v,T){var C=this;return new e.Promise(function(E){if(!(v instanceof Blob))throw TypeError("'_decodeBlob(blob, templateName)': Type of 'blob' should be 'Blob'.");E()}).then(function(){return C._innerDecode(0,v,T)})},h.prototype._decodeArrayBuffer=function(v,T){var C=this;return new e.Promise(function(E){if(!(v instanceof ArrayBuffer))throw TypeError("'_decodeBlob(arrayBuffer, templateName)': Type of 'arrayBuffer' should be 'ArrayBuffer'.");E()}).then(function(){return C._innerDecode(0,v,T)})},h.prototype._decodeUint8Array=function(v,T){var C=this;return new e.Promise(function(E){if(!(v instanceof Uint8Array||self.Uint8ClampedArray&&v instanceof Uint8ClampedArray))throw TypeError("'_decodeBlob(uint8Array, templateName)': Type of 'uint8Array' should be 'Uint8Array'.");E()}).then(function(){return C._innerDecode(0,v,T)})},h.prototype._decodeImage=function(v,T){var C=this;return new e.Promise(function(E){if(!(v instanceof HTMLImageElement))throw TypeError("'_decodeImage(image, templateName)': Type of 'image' should be 'HTMLImageElement'.");if(v.crossOrigin&&v.crossOrigin!="anonymous")throw"cors";T=T||"",E()}).then(function(){return v.src.substring(0,11)=="data:image/"?C._decodeBase64(v.src,T):C._decodeUrl(v.src,T).catch(function(E){return 3<=a.logLevel&&console&&console.warn&&(console.warn("'_decodeImage(image, templateName)': Image src not available. Use '_decodeCanvas' instead."),console.warn(E)),self.HTMLCanvasElement?((E=document.createElement("canvas")).width=v.naturalWidth,E.height=v.naturalHeight,E.getContext("2d").drawImage(v,0,0),C._decodeCanvas(E,T)):e.Promise.reject(Error("'_decodeImage(image, templateName)': Browser not support HTMLCanvasElement."))})})},h.prototype._decodeCanvas=function(v,T){var C=this;return new e.Promise(function(E){if(!(v instanceof HTMLCanvasElement))throw TypeError("'_decodeCanvas(canvas, templateName)': Type of 'canvas' should be 'HTMLCanvasElement'.");if(v.crossOrigin&&v.crossOrigin!="anonymous")throw"cors";T=T||"",v.toBlob?v.toBlob(function(A){E(A)}):v.msToBlob?v.msToBlob(function(A){E(A)}):E(v.toDataURL())}).then(function(E){return v.toBlob||v.msToBlob?C._decodeBlob(E,T):C._decodeBase64(E,T)})},h.prototype._decodeVideo=function(v){var T,C=this,E=arguments;return new e.Promise(function(A){if(!(v instanceof HTMLVideoElement))throw TypeError("'_decodeVideo(video [ [, sx, sy, sWidth, sHeight], dWidth, dHeight] [, templateName] )': Type of 'video' should be 'HTMLVideoElement'.");if(v.crossOrigin&&v.crossOrigin!="anonymous")throw"cors";E.length<=2?(D=M=0,w=N=v.videoWidth,O=k=v.videoHeight):k=E.length<=4?(D=M=0,w=v.videoWidth,O=v.videoHeight,N=E[1],E[2]):(D=E[1],M=E[2],w=E[3],O=E[4],N=E[5],E[6]),T=typeof E[E.length-1]=="string"?E[E.length-1]:"";var D,M,w,O,N,k,R=document.createElement("canvas");R.width=N,R.height=k,R.getContext("2d").drawImage(v,D,M,w,O,0,0,N,k),A(R)}).then(function(A){return C._decodeCanvas(A,T)})},h.prototype._decodeBase64=h.prototype.decodeBase64String=function(v,T){var C=this;return new e.Promise(function(E){if(!(typeof v=="string"||typeof v=="object"&&v instanceof String))throw TypeError("'decodeBase64(base64Str, templateName)': Type of 'base64Str' should be 'String'.");v.substring(0,11)=="data:image/"&&(v=v.substring(v.indexOf(",")+1)),E()}).then(function(){return C._innerDecode(1,v,T)})},h.prototype._decodeUrl=function(v,T){var C=this;return v&&v.indexOf&&(v.indexOf("dwt://")==0||v.indexOf("dcs://")==0)?C._decodeDynamsoftServiceInnerUrl(v,T):new e.Promise(function(E,A){var D;if(!(typeof v=="string"||typeof v=="object"&&v instanceof String))throw TypeError("'_decodeUrl(url, templateName)': Type of 'url' should be 'String'.");T=T||"",a._activeXInstance?((D=new ActiveXObject("MSXML2.XMLHTTP")).open("GET",v,!0),D.overrideMimeType?D.overrideMimeType("text/plain; charset=x-user-defined"):D.setRequestHeader("Accept-Charset","x-user-defined"),D.onreadystatechange=function(){D.readyState==4&&E(new VBArray(D.responseBody).toArray())},D.send("")):((D=new XMLHttpRequest).open("GET",v,!0),D.responseType="arraybuffer",D.send(),D.onloadend=function(){E(this.response)},D.onerror=function(){A(Error(D.error))})}).then(function(E){return a._activeXInstance?C._activeXDecodeArray(E,T):C._decodeArrayBuffer(E,T)})},h.prototype._decodeDynamsoftServiceInnerUrl=function(v,T){var C=this;return new e.Promise(function(E){if(!(typeof v=="string"||typeof v=="object"&&v instanceof String))throw TypeError("'_decodeUrl(url, templateName)': Type of 'innerUrl' should be 'String'.");if(v.indexOf("dwt://")!=0&&v.indexOf("dcs://")!=0)throw TypeError("'_decodeDynamsoftServiceInnerUrl(innerUrl, templateName)': 'innerUrl' should start with 'dwt://' or 'dcs://'.");E()}).then(function(){return C._innerDecode(4e3,v,T)})},h.prototype._activeXDecodeArray=function(v,T){var C=this;return new e.Promise(function(E,A){if(!(v instanceof Array))throw TypeError("'_activeXDecodeArray(array, templateName)': Type of 'array' should be 'Array'.");T=T||"";try{E(Y.Lib.btoa(String.fromCharCode.apply(String,v)))}catch(D){A(D)}}).then(function(E){return C._decodeBase64(E,T)})},h.prototype._activeXDecodeHandle=function(v,T){var C=this;return new e.Promise(function(E){T=T||"",E()}).then(function(){return C._innerDecode(4001,v,T)})},h.prototype._decode=h.prototype.decode=function(v,T){return a._activeXInstance?typeof v=="string"||v instanceof String?this._activeXDecodeHandle(v,T):e.Promise.reject(TypeError("'_decode(source, templateName)' in activeX: Type of 'source' should be 'String(partUrl)'.")):self.Blob&&v instanceof Blob?this._decodeBlob(v,T):self.ArrayBuffer&&v instanceof ArrayBuffer?this._decodeArrayBuffer(v,T):self.Uint8Array&&v instanceof Uint8Array||self.Uint8ClampedArray&&v instanceof Uint8ClampedArray?this._decodeUint8Array(v,T):v instanceof Array?this._activeXDecodeArray(v,T):self.HTMLImageElement&&v instanceof HTMLImageElement?this._decodeImage(v,T):self.HTMLCanvasElement&&v instanceof HTMLCanvasElement?this._decodeCanvas(v,T):self.HTMLVideoElement&&v instanceof HTMLVideoElement?this._decodeVideo(v,T):isNaN(v)?typeof v=="string"||v instanceof String?v.substring(0,11)=="data:image/"?this._decodeBase64(v,T):this._decodeUrl(v,T):e.Promise.reject(TypeError("'_decode(source, templateName)' in H5: Type of 'source' should be 'Blob', 'ArrayBuffer', 'Uint8Array', 'HTMLImageElement', 'HTMLCanvasElement', 'HTMLVideoElement', 'String(base64 with image mime)' or 'String(url)'.")):this._activeXDecodeHandle(v,T)},h.prototype._innerServiceCmd=function(v,T){var C=this._stwain;return new e.Promise(function(E,A){var D,M={method:"ReadBarcode",parameter:[Y.Lib.product.refProductKey,4002,"",""],updateSettings:v,initSettingsContent:T};a._activeXInstance?E(a._activeXInstance.Process(e.stringify(M),location.protocol+"//"+location.host)):(C._blts?(D="",C&&C._bRemoteMode&&C._dmService&&C._dmService.attrs&&C._dmService.attrs.UUID&&(D=C._dmService.attrs.UUID),Y.DWT.lglic(Y.DWT.EnumInstance.dwt_desktop,D).then(function(w){return M.parameter.push(w.ar),M.parameter.push(w.cu),M.parameter.push(0),M.parameter.push(""),e.stringify(M)})):e.Promise.resolve(e.stringify(M))).then(function(w){return e.fetch(C._dbrUrlRoot+"ReadBarcode",{mode:"cors",method:"post",body:w,dataType:"arrayBuffer"})}).then(function(w){l(w)?E(String.fromCharCode.apply(null,new Uint8Array(w))):E(w)},function(w){var O="Init template & runtimeSettings failed.";w&&(O=[O," Http info: ",w.errorString," (",w.httpCode,")"].join("")),A(O)})})},h.prototype._innerDecode=function(v,T,C,E){var A=this;return A._runtimeSettings&&A._runtimeSettings.expectedBarcodesCount==0&&(A._runtimeSettings.expectedBarcodesCount=512),new e.Promise(function(D,M){function w(W,K,de){try{var ee,X,ce,he,le=g&&g(W);for(le&&le.textResults||M(new a.BarcodeReaderException(le.exception,le.description)),e.product.bHTML5Edition&&de&&de.config.data&&(ee=e.parse(de.config.data),e.isArray(ee.parameter))&&2<ee.parameter.length&&ee.parameter[1]==4e3&&(4<ee.parameter.length&&ee.parameter[4]?le.textResults.imageid=ee.parameter[4]:0<=(he=(ce=ee.parameter[2]).indexOf("&index="))&&(le.textResults.imageid=ce.substring(he+7,ce.indexOf("&t=")))),X=0;X<le.textResults.length;X++){var fe=le.textResults[X];fe.BarcodeText=fe.barcodeText,le.exception!=Y.DBR.EnumErrorCode.DBR_SUCCESS&&(fe.exception=le.exception)}le.exception!=Y.DBR.EnumErrorCode.DBR_SUCCESS&&(le.textResults.exception=le.exception,le.textResults.description=le.description),a._activeXInstance&&le.records&&(Y.Lib.each(le.records,function(_e,xe){Y.DWT.lavrf(xe,_e,Y.DWT.EnumInstance.dwt_desktop)}),Y.DWT.lavrf_(1,Y.DWT.EnumInstance.dwt_desktop)),D(le.textResults)}catch(_e){M(_e)}}var O,N,k={method:"ReadBarcode",parameter:[Y.Lib.product.refProductKey,v,v!=0?T:null,C||""],updateSettings:A._runtimeSettings,conflictMode:A.conflictMode==1?"ignore":"overwrite",initSettingsContent:A._initSettingsContent,tplContent:function(){if(C){for(var W=0;W<A._tplContentArr.length;++W)if(C==A._tplContentArr[W].ImageParameter.Name)return e.stringify(A._tplContentArr[W])}return null}()},R=A._stwain;a._activeXInstance?R._blts?Y.DWT.lglic(Y.DWT.EnumInstance.dwt_desktop,"").then(function(W){k.parameter.push(W.ar),k.parameter.push(W.cu),k.parameter.push(0),k.parameter.push(""),w(a._activeXInstance.Process(e.stringify(k),location.protocol+"//"+location.host))}):w(a._activeXInstance.Process(e.stringify(k),location.protocol+"//"+location.host)):(O=R._dbrUrlRoot+"ReadBarcode",v==0&&(O+="/LoadZipFromBytes?cmd="+encodeURIComponent(e.stringify(k))),(v==0?e.Promise.resolve(T):R._blts?(N="",R&&R._bRemoteMode&&R._dmService&&R._dmService.attrs&&R._dmService.attrs.UUID&&(N=R._dmService.attrs.UUID),Y.DWT.lglic(Y.DWT.EnumInstance.dwt_desktop,N).then(function(W){return k.parameter.push(W.ar),k.parameter.push(W.cu),k.parameter.push(0),k.parameter.push([e.product.getDWTPrefix(),e.product.getServerVersionInfo(),"/verify?id=",E,"&t=",e.getRandom()].join("")),e.stringify(k)})):e.Promise.resolve(e.stringify(k))).then(function(W){return e.fetch(O,{mode:"cors",method:"post",body:W,dataType:"arrayBuffer"})}).then(function(W,K,de){l(W)?w(String.fromCharCode.apply(null,new Uint8Array(W)),0,de):w(W,0,de)},function(W){var K="ReadBarcode request fail.";W&&(K=[K," Http info: ",W.errorString," (",W.httpCode,")"].join("")),M(Error(K))}))})},g=a._handleRetJsonString=function(v){var T;if(typeof v=="string"||typeof v=="object"&&v instanceof String)try{T=e.parse(v)}catch{T=e.parse(a.RemoveNonPrintableChar(v))}else T=v;if(!T)throw a.BarcodeReaderException(Y.DBR.EnumErrorCode.DBR_UNKNOWN,a.errors.decodeResultEmpty);if("textResults"in T&&e.isArray(T.textResults)||T.exception==Y.DBR.EnumErrorCode.DBR_SUCCESS)return T;throw a.BarcodeReaderException(T.exception,T.description)},h.prototype.getAllParameterTemplateNames=function(){for(var v=[],T=0;T<this._tplContentArr.length;++T)v.push(this._tplContentArr[T].ImageParameter.Name);return v},h.prototype.getRuntimeSettings=function(){return this._runtimeSettings||(this._runtimeSettings=e.parse(a._defaultRuntimeSettingsStr)),e.Promise.resolve(this._runtimeSettings)},h.prototype.updateRuntimeSettings=function(v){var T,C=this;if(typeof v=="string"||typeof v=="object"&&v instanceof String){if(v=="speed"||v=="balance"||v=="coverage"||v=="default")return C.initRuntimeSettingsWithString(v=="speed"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":3,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"bestSpeed","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"Mode":"TFM_SKIP"}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':v=="balance"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":5,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_STATISTICS"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"balance","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':v=="coverage"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":9,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"},{"Mode":"GTM_INVERTED"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_SCAN_DIRECTLY","ScanDirection":0,"ScanStride":0},{"Mode":"LM_STATISTICS"},{"Mode":"LM_LINES"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"coverage","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":214748347,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":null,"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":9,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_SCAN_DIRECTLY","ScanDirection":0,"ScanStride":0},{"Mode":"LM_STATISTICS"},{"Mode":"LM_LINES"}],"MaxAlgorithmThreadCount":4,"Name":"default","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}');T=v}else{if(typeof v!="object")throw TypeError("'setTemplateSettings(settings)': Type of 'settings' should be 'String' or 'PlainObject'.");T=e.stringify(v)}return v=e.parse(T),C._runtimeSettings=v,C._initSettingsContent=null,C._innerServiceCmd(C._runtimeSettings,null).then(function(E){return E=a._handleRetJsonString(E),C._runtimeSettings=E.settings,C._runtimeSettings||(C._runtimeSettings=e.parse(a._defaultRuntimeSettingsStr)),E.settings})},h.prototype.resetRuntimeSettings=function(){var v=this;return v._runtimeSettings=e.parse(a._defaultRuntimeSettingsStr),v._initSettingsContent=null,v._innerServiceCmd(v._runtimeSettings,null).then(function(T){return T=a._handleRetJsonString(T),v._runtimeSettings=T.settings,v._runtimeSettings||(v._runtimeSettings=e.parse(a._defaultRuntimeSettingsStr)),T.settings})},h.prototype.outputSettingsToString=function(v){if(!v)return a._defaultTemplateStr;for(var T=0;T<this._tplContentArr.length;++T)if(v==this._tplContentArr[T].ImageParameter.Name)return e.stringify(this._tplContentArr[T])},h.prototype.initRuntimeSettingsWithString=function(v){var T=this;if(e.isString(v))return T._runtimeSettings=null,T._initSettingsContent=e.parse(v),T._innerServiceCmd(null,T._initSettingsContent).then(function(C){return C=a._handleRetJsonString(C),T._runtimeSettings=C.settings,T._runtimeSettings||(T._runtimeSettings=e.parse(a._defaultRuntimeSettingsStr)),C.settings});throw TypeError("'initRuntimeSettingsWithString(settings)': Type of 'settings' should be 'String'.")},h}(),a._dbr_ax=!1,a._dbr=!1,a._initH5=function(h,g,v){return new e.Promise(function(T,C){h._bRemoteMode&&h._dmService&&h._dmService.attrs&&h._dmService.attrs.url&&(h._dbrUrlRoot=h._dmService.attrs.url+"dcp/dbr_"+a.Version.replace(/\./g,"")+"/"),h._dbrUrlRoot||(h._dbrUrlRoot=Y.DWT.NetManager.getModuleUrl("dcp/dbr_"+a.Version.replace(/\./g,"")+"/"));var E=5,A={method:"POST",url:h._dbrUrlRoot+"VersionInfo?t="+e.getRandom(),data:'{"method":"VersionInfo"}',onSuccess:function(){T()},onError:function(){if(--E<=0)return C("Failed to connect to the Barcode Reader Add-on, the library may be missing in the Dynamsoft Service directory.");setTimeout(function(){e.ajax(A)},300)},dataType:"json",async:!0,timeout:800};e.ajax(A)}).then(function(){return a._dbr=new a.Class(h),a._dbr._innerServiceCmd(null,null)}).then(function(T){try{var C=a._handleRetJsonString(T);a._dbr._runtimeSettings=C.settings,a._defaultRuntimeSettingsStr=e.stringify(C.settings),a._defaultTemplateStr=e.stringify(C.outputSettings),g(a._dbr)}catch(E){v(Error("Init template & runtimeSettings failed: "+E.message)||E)}},function(T){v(T)})},a.dbrInitPromiseFun=function(h){return new e.Promise(function(g,v){a.innerDbrInit(h,g,v)})},a.innerDbrInit=function(h,g,v){var T=!1,C=!1,E=(e.product.bHTML5Edition?T=!0:C=!0,Y.BarcodeReaderAddon);if(T){if(E._dbr)return void g(E._dbr)}else if(C&&E._dbr_ax)return void g(E._dbr_ax);if(T&&E._initH5(h,g,v),C){if(T=Y.navInfoSync,C={method:"ReadBarcode",parameter:[Y.Lib.product.refProductKey,4002,"",""]},!T.bIE)return v(Error("The DBR init error."));try{E._activeXInstance=new ActiveXObject("DBRModule.AtlDBR");var A,D=E._activeXInstance.Process(e.stringify(C),location.protocol+"//"+location.host),M=e.parse(D);return M?"settings"in M?(E._dbr_ax=new E.Class(h),E._dbr_ax._runtimeSettings=M.settings,E._defaultRuntimeSettingsStr=e.stringify(M.settings),"outputSettings"in M&&(E._defaultTemplateStr=e.stringify(M.outputSettings)),void g(E._dbr_ax)):(A=M.description||"The DBR init error.",v(Error(A))):v(Error("The DBR init error."))}catch(w){return v(Error("The DBR .dll is missing or not accessible: "+(w.message||w)))}}},e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(h){if(i=h._b64bit?"dbrx64_"+Y.BarcodeReaderAddon.Version+".dll":"dbr_"+Y.BarcodeReaderAddon.Version+".dll",e.product.bHTML5Edition)try{h._innerSend("GetAddOnVersion",e.html5.Funs.makeParams("barcodereader",i),!0,!1,!1).catch(function(){})}catch{}function g(T){return!e.License.checkProductKey(T,{Core:!0})||!!(Y.navInfoSync.bMac||Y.navInfoSync.bLinux||Y.Lib.env.bMobile)&&(T._errorCode=Y.DBR.EnumErrorCode.DBR_UNKNOWN,T._errorString=a.errors.ServiceEditionNotSupportDbr,!0)}var v={BarcodeReader:{decode:function(T){return g(h)?e.Promise.reject(a.BarcodeReaderException(h._errorCode,h._errorString)):!e.isNumber(T)||T<0||T>=h.HowManyImagesInBuffer?(e.Errors.IndexOutOfRange(h),e.Promise.reject(a.BarcodeReaderException(h._errorCode,h._errorString))):new e.Promise(function(C){a._decoding?a._decodeQueue.push({method:C,args:[T]}):(a._decoding=!0,C(T))}).then(function(C){var E;if(e.product.bHTML5Edition){if((E=h._ImgManager.convertClientIndexToServerId(C))==-1)throw e.Errors.IndexOutOfRange(h),setTimeout(a._decodeNext,0),a.BarcodeReaderException(h._errorCode,h._errorString)}else E=C;return new e.Promise(function(A,D){a.dbrInitPromiseFun(h).then(function(M){var w;if(!e.product.bHTML5Edition)return w=E,O=h.GetImagePartURL(w,-1,-1),M._innerDecode(4001,O,"").then(function(N){N.imageid=h.IndexToImageID(w),setTimeout(a._decodeNext,0),A(N)},function(N){setTimeout(a._decodeNext,0),D(N)});w=h._ImgManager.convertServerIdToClientIndex(E);var O=h.GetImagePartURL(w,-1,-1);return M._innerDecode(4e3,O,"",h._clientId).then(function(N){N.imageid=h.IndexToImageID(w),setTimeout(a._decodeNext,0),A(N),h._blts&&Y.DWT.lcvrf(h)},function(N){setTimeout(a._decodeNext,0),D(N)})},function(M){setTimeout(a._decodeNext,0),D(M)})})})},resetRuntimeSettings:function(){return g(h)?e.Promise.reject(a.BarcodeReaderException(h._errorCode,h._errorString)):a.dbrInitPromiseFun(h).then(function(T){return T.resetRuntimeSettings()})},getRuntimeSettings:function(T){return g(h)?e.Promise.reject(a.BarcodeReaderException(h._errorCode,h._errorString)):!e.isString(T)||T!="speed"&&T!="balance"&&T!="coverage"&&T!="default"?a.dbrInitPromiseFun(h).then(function(C){return C.getRuntimeSettings()}):this.updateRuntimeSettings(T)},updateRuntimeSettings:function(T){return g(h)?e.Promise.reject(a.BarcodeReaderException(h._errorCode,h._errorString)):a.dbrInitPromiseFun(h).then(function(C){return C.updateRuntimeSettings(T)})},initRuntimeSettingsWithString:function(T){return g(h)?e.Promise.reject(a.BarcodeReaderException(h._errorCode,h._errorString)):a.dbrInitPromiseFun(h).then(function(C){return C.initRuntimeSettingsWithString(T)})}}};e.product.bHTML5Edition?(h.__addon=h.__addon||{},e.mix(h.__addon,v)):(h.Addon=h.Addon||{},e.mix(h.Addon,v))})});/*! 20241010103231
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: PDF
* Version: 18.5.1
* 
*/var Y=self.Dynamsoft||{};Y.DWT=Y.DWT||{},Y.aryAddonReadyFun=Y.aryAddonReadyFun||[],Y.AddonReady=Y.AddonReady||function(e){Y.aryAddonReadyFun.push(e)},function(){Y.DWT.EnumDWT_ConvertMode={CM_RENDERALL:1,CM_IMAGEONLY:2,CM_AUTO:3,CM_RENDERALLWITHANNOTATION:4},Y.DWT.EnumDWT_PDFCompressionType={PDF_AUTO:0,PDF_FAX3:1,PDF_FAX4:2,PDF_LZW:3,PDF_RLE:4,PDF_JPEG:5,PDF_JP2000:6,PDF_JBIG2:7}}(),Y.AddonReady(function(e,t){var i,a;e.product.bHTML5Edition&&(i={code:-2830,message:"The PDF resolution must be a positive number."},e.DynamicLoadAddonFuns)&&e.DynamicLoadAddonFuns.push(function(l){var h,g=e.html5.Funs;a=l.__serverPlatform==Y.DWT.EnumDWT_PlatformType.enumMac?l._b64bit?"libDynamicPdfCorex64_"+Y.DWT.PdfVersion+".dylib":"libDynamicPdfCore_"+Y.DWT.PdfVersion+".dylib":l.__serverPlatform==Y.DWT.EnumDWT_PlatformType.enumLinux||l.__serverPlatform==Y.DWT.EnumDWT_PlatformType.enumEmbed||l.__serverPlatform==Y.DWT.EnumDWT_PlatformType.enumChromeOS?"libDynamicPdfCore_"+Y.DWT.PdfVersion+".so":l._b64bit?"DynamicPdfCorex64_"+Y.DWT.PdfVersion+".dll":"DynamicPdfCore_"+Y.DWT.PdfVersion+".dll";try{l._innerSend("GetAddOnVersion",g.makeParams("pdf",a),!0,!1,!1).catch(function(){})}catch{}h={PDF:{IsModuleInstalled:function(){var v=l;return v._resetErr(),v._innerFun("GetAddOnVersion",g.makeParams("pdf",a))!=""},IsModuleInstalledAsync:function(){var v=l;return v._resetErr(),v._innerFunV2("GetAddOnVersion",g.makeParams("pdf",a)).then(function(T){return T!=""})},ConvertToImage:function(A,T,C,E){var A=g.replaceLocalFilename(A),D="ConvertPDFToImage",M=l;return M._resetErr(),g.showMask(D),M._innerSend(D,g.makeParams(A,T),!0,function(w){return g.hideMask(D),C&&C(),!0},function(w){return g.hideMask(D),E&&E(),!1}),!0},SetPassword:function(v){var T=l,C=v||"";return T._resetErr(),!!T._checkPDFPasswordValue(C)&&(C=T._mixSavedPdfReaderOptions({password:C}),(C=T._setReaderOptions(C,!1))&&(T._pdfOptions.password=v),C)},SetConvertMode:function(v){return l._setConvertMode(v)},SetConvertModeAsync:function(v){return l._setConvertModeAsync(v)},GetConvertMode:function(){var v=l;return v._resetErr(),v._pdfConvertMode},SetResolution:function(v){var T=l,C=v;return T._resetErr(),C=T._mixSavedPdfReaderOptions({renderOptions:{resolution:C}}),(C=T._setReaderOptions(C,!1))&&(T._pdfOptions.renderOptions.resolution=v),C},SetResolutionAsync:function(v){var T=l;return T._resetErr(),!Y.Lib.isNumber(v)||v<=0?Y.Lib.Promise.reject(i):T._innerFunV2("SetPDFResolution",g.makeParams(v)).then(function(C){C&&(T._pdfOptions.renderOptions.resolution=v)})},SetReaderOptions:function(v){return l._setReaderOptions(v,!0)},GetReaderOptions:function(){var v,T=l;return T._resetErr(),v=l._innerFun("GetPDFReaderOptions"),v=Y.Lib.parse(v),T._pdfOptions=T._mixSavedPdfReaderOptions(v),Y.Lib.clone(T._pdfOptions)},IsTextBasedPDF:function(A,T,C){var E=l,A=(E._resetErr(),g.replaceLocalFilename(A)),A=l._innerFun("IsTextBasedPDF",g.makeParams(A));return E.ErrorCode==0?e.isFunction(T)&&T(A):e.isFunction(C)&&C(E.ErrorCode,E.ErrorString),A},Write:{Setup:function(T){var T=(T=T)||{version:15},C=(2<e.stringify(T).length&&(e.isNumber(T.version)?1<=T.version&&T.version<2&&(T.version=parseInt(10*T.version)):T.version=15),e.isNumber(T.compression)&&T.compression==Y.DWT.EnumDWT_PDFCompressionType.PDF_FAX3&&(T.compression=Y.DWT.EnumDWT_PDFCompressionType.PDF_FAX4),l);return C._resetErr(),!(T.password&&(e.isNumber(T.password)&&(T.password=T.password.toString()),!C._checkPDFPasswordValue(T.password)))&&(T=e.stringify(T),T=e.replaceAll(T,'"','\\"'),C._innerFun("SetPDFSettings",['["',T,'"]'].join("")))}}}},l.__addon=l.__addon||{},e.mix(l.__addon,h)})}),Y.AddonReady(function(e,t){e.product.bActiveXEdition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(i){var a,l,h;if(!i.getSWebTwain()||!i.getSWebTwain().Addon)return!1;Y.navInfoSync.bWin&&(h=!Y.navInfo.bOSx64||Y.navInfo.bWOW64?"DynamicPdfCore_"+Y.DWT.PdfVersion+".dll":"DynamicPdfCorex64_"+Y.DWT.PdfVersion+".dll"),l=i.getSWebTwain(),a={PDF:{IsModuleInstalled:function(){var g=l.GetAddOnVersion("pdf",h);return e.setErrorString(i),g!=""},IsModuleInstalledAsync:function(){var g=l.GetAddOnVersion("pdf",h);return e.setErrorString(i),e.Promise.resolve(g!="")},ConvertToImage:function(g,v,T,C){return g=l.ConvertPDFToImage(g,v),e.wrapperRet(i,g,T,C)},SetPassword:function(g){return g=l.SetPDFPassword(g),e.wrapperRet(i,g)},SetConvertMode:function(g){return i._setConvertMode(g)},SetConvertModeAsync:function(g){return Promise.resolve(i._setConvertMode(g))},GetConvertMode:function(){return i._resetErr(),i._pdfConvertMode},SetResolution:function(g){return g=l.SetPDFResolution(g),e.wrapperRet(i,g)},SetResolutionAsync:function(g){return g=l.SetPDFResolution(g),e.Promise.resolve(e.wrapperRet(i,g))},SetReaderOptions:function(){return!1},GetReaderOptions:function(){return{}},IsTextBasedPDF:function(g){return g=l.IsTextBasedPDF(g),e.wrapperRet(i,g)}}},i.Addon=i.Addon||{},e.mix(i.Addon,a)})});/*! 20241010103231
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: OCR
* Version: 18.5.1
* 
*/var Y=self.Dynamsoft||{};Y.DWT=Y.DWT||{},Y.aryAddonReadyFun=Y.aryAddonReadyFun||[],Y.AddonReady=Y.AddonReady||function(e){Y.aryAddonReadyFun.push(e)},Y.DWT.OCRVerInName="10.0.0.0618",function(){for(var e=[Y.DWT],t=0;t<1;t++){var i=e[t];i.EnumDWT_OCRLanguage={OCRL_ENG:"eng",OCRL_ARA:"ara",OCRL_CHI_SIM:"chi_sim",OCRL_CHI_TRA:"chi_tra",OCRL_HIN:"hin",OCRL_URD:"urd",OCRL_SPA:"spa",OCRL_FRA:"fra",OCRL_MSA:"msa",OCRL_IND:"ind",OCRL_RUS:"rus",OCRL_BEN:"ben",OCRL_POR:"por",OCRL_PAN:"pan",OCRL_DEU:"deu",OCRL_JPN:"jpn",OCRL_FAS:"fas",OCRL_SWA:"swa",OCRL_JAV:"jav",OCRL_TEL:"tel",OCRL_TUR:"tur",OCRL_KOR:"kor",OCRL_MAR:"mar",OCRL_TAM:"tam",OCRL_VIE:"vie",OCRL_ITA:"ita",OCRL_THA:"tha"},i.EnumDWT_OCRPageSetMode={OCRPSM_OSD_ONLY:0,PSM_AUTO_OSD:1,PSM_AUTO_ONLY:2,PSM_AUTO:3,PSM_SINGLE_COLUMN:4,PSM_SINGLE_BLOCK_VERT_TEXT:5,PSM_SINGLE_BLOCK:6,PSM_SINGLE_LINE:7,PSM_SINGLE_WORD:8,PSM_CIRCLE_WORD:9,PSM_SINGLE_CHAR:10},i.EnumDWT_OCROutputFormat={OCROF_TEXT:0,OCROF_PDFPLAINTEXT:1,OCROF_PDFIMAGEOVERTEXT:2,OCROF_PDFPLAINTEXT_PDFX:3,OCROF_PDFIMAGEOVERTEXT_PDFX:4},i.EnumDWT_OCRDownloadType={OCRDT_Dll:0,OCRDT_LANGUAGE:1}}}(),Y.DWT.OCRLanguageData_eng="4113088",Y.DWT.OCRLanguageData_ara="1432056",Y.DWT.OCRLanguageData_chi_sim="2469156",Y.DWT.OCRLanguageData_chi_tra="2366642",Y.DWT.OCRLanguageData_hin="1122751",Y.DWT.OCRLanguageData_urd="1398718",Y.DWT.OCRLanguageData_spa="2294433",Y.DWT.OCRLanguageData_fra="1130365",Y.DWT.OCRLanguageData_msa="1747801",Y.DWT.OCRLanguageData_ind="1122661",Y.DWT.OCRLanguageData_rus="3861738",Y.DWT.OCRLanguageData_ben="855841",Y.DWT.OCRLanguageData_por="1982756",Y.DWT.OCRLanguageData_pan="497721",Y.DWT.OCRLanguageData_deu="1525436",Y.DWT.OCRLanguageData_jpn="2471260",Y.DWT.OCRLanguageData_fas="431500",Y.DWT.OCRLanguageData_swa="2167651",Y.DWT.OCRLanguageData_jav="2982741",Y.DWT.OCRLanguageData_tel="2769654",Y.DWT.OCRLanguageData_tur="4550554",Y.DWT.OCRLanguageData_kor="1677415",Y.DWT.OCRLanguageData_mar="2118233",Y.DWT.OCRLanguageData_tam="3237963",Y.DWT.OCRLanguageData_vie="531275",Y.DWT.OCRLanguageData_ita="2701314",Y.DWT.OCRLanguageData_tha="1072600",Y.DWT.OCRLanguageData={},Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_ENG]=Y.DWT.OCRLanguageData_eng,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_ARA]=Y.DWT.OCRLanguageData_ara,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_CHI_TRA]=Y.DWT.OCRLanguageData_chi_tra,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_CHI_SIM]=Y.DWT.OCRLanguageData_chi_sim,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_HIN]=Y.DWT.OCRLanguageData_hin,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_URD]=Y.DWT.OCRLanguageData_urd,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_SPA]=Y.DWT.OCRLanguageData_spa,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_FRA]=Y.DWT.OCRLanguageData_fra,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_MSA]=Y.DWT.OCRLanguageData_msa,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_IND]=Y.DWT.OCRLanguageData_ind,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_RUS]=Y.DWT.OCRLanguageData_rus,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_BEN]=Y.DWT.OCRLanguageData_ben,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_POR]=Y.DWT.OCRLanguageData_por,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_PAN]=Y.DWT.OCRLanguageData_pan,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_DEU]=Y.DWT.OCRLanguageData_deu,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_JPN]=Y.DWT.OCRLanguageData_jpn,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_FAS]=Y.DWT.OCRLanguageData_fas,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_SWA]=Y.DWT.OCRLanguageData_swa,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_JAV]=Y.DWT.OCRLanguageData_jav,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_TEL]=Y.DWT.OCRLanguageData_tel,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_TUR]=Y.DWT.OCRLanguageData_tur,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_KOR]=Y.DWT.OCRLanguageData_kor,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_MAR]=Y.DWT.OCRLanguageData_mar,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_TAM]=Y.DWT.OCRLanguageData_tam,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_VIE]=Y.DWT.OCRLanguageData_vie,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_ITA]=Y.DWT.OCRLanguageData_ita,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_THA]=Y.DWT.OCRLanguageData_tha,function(e){function t(){var i=this;i._text="",i._fontName="",i._fontSize="",i._left=0,i._top=0,i._right=0,i._bottom=0}t.prototype.GetText=function(){return this._text},t.prototype.GetFontName=function(){return this._fontName},t.prototype.GetFontSize=function(){return this._fontSize},t.prototype.GetWordRect=function(){var i=this;return i._left+","+i._top+","+i._right+","+i._bottom},e.NewWordBasicResult=function(){return new t}}(Y.Lib),function(e){function t(){var i=this;i._count=0,i._left=0,i._top=0,i._right=0,i._bottom=0,i._wordlist=[]}t.prototype.GetWordCount=function(){return this._count},t.prototype.GetLineRect=function(){var i=this;return i._left+","+i._top+","+i._right+","+i._bottom},t.prototype.GetWordContent=function(i){var a=this,l=a._wordlist.length;return a._errorCode<0?"":i==null||l<=i||i<0?(Y.Lib.Errors.OCR_InvalidIndex(a,"GetWordContent"),""):((l=Y.Lib.NewWordBasicResult())._text=a._wordlist[i].text,l._fontName=a._wordlist[i].fontname,l._fontSize=a._wordlist[i].fontsize,l._left=a._wordlist[i].rect[0],l._top=a._wordlist[i].rect[1],l._right=a._wordlist[i].rect[2],l._bottom=a._wordlist[i].rect[3],l)},e.NewLineBasicResult=function(){return new t}}(Y.Lib),function(e){function t(){this._count=0,this._linelist=[]}t.prototype.GetLineCount=function(){return this._count},t.prototype.GetLineContent=function(i){var a=this,l=a._linelist.length;return a._errorCode<0?"":i==null||l<=i||i<0?(Y.Lib.Errors.OCR_InvalidIndex(a,"GetLineContent"),""):((l=Y.Lib.NewLineBasicResult())._count=a._linelist[i].words.length,l._left=a._linelist[i].rect[0],l._top=a._linelist[i].rect[1],l._right=a._linelist[i].rect[2],l._bottom=a._linelist[i].rect[3],l._wordlist=a._linelist[i].words,l)},e.NewPageBasicResult=function(){return new t}}(Y.Lib),function(e){function t(){this._count=0,this._pagelist=[]}t.prototype.GetPageCount=function(){return this._count},t.prototype.GetPageContent=function(i){var a=this,l=a._pagelist.length;return a._errorCode<0?"":i==null||l<=i||i<0?(Y.Lib.Errors.OCR_InvalidIndex(a,"GetPageContent"),""):((l=Y.Lib.NewPageBasicResult())._count=a._pagelist[i].lines.length,l._linelist=a._pagelist[i].lines,l)},e.NewPageSetBasicResult=function(){return new t}}(Y.Lib),function(e){function t(i){var a=this;a._errorCode=0,a._errorString="",a._resultlist=[],a._stwain=i}t.prototype.GetErrorCode=function(){return this._errorCode},t.prototype.GetErrorString=function(){return this._errorString},t.prototype.GetFormat=function(){return this._resultlist[0].format},t.prototype.GetInput=function(){var i=this._resultlist[0].input;if(i){var a=Number(i);if(!isNaN(a))return this._stwain._ImgManager.convertServerIdToClientIndex(a)}return i},t.prototype.GetPageSetCount=function(){return this._resultlist[0].pagesets.length},t.prototype.GetPageSetContent=function(i){var a=this,l=a._resultlist[0].pagesets.length;return a._errorCode<0?"":i==null||l<=i||i<0?(Y.Lib.Errors.OCR_InvalidIndex(a,"GetPageSetContent"),""):((l=Y.Lib.NewPageSetBasicResult())._count=a._resultlist[0].pagesets[i].pages.length,l._pagelist=a._resultlist[0].pagesets[i].pages,l)},t.prototype.Get=function(){return this._stwain._innerFun("GetOCRRestult")},t.prototype.Save=function(i){return i=e.html5.Funs.replaceLocalFilename(i),this._stwain._innerFun("SaveOCRRestult",e.html5.Funs.makeParams(i))},e.NewOCRBasicResult=function(i){return new t(i)}}(Y.Lib),function(e){function t(){var i=this;i.UnicodeFontName="",i.UseDetectedFont=!0,i.MinFontSizeforMoreAccurateResult=0,i.OCRLanguage=Y.DWT.EnumDWT_OCRLanguage.OCRL_ENG,i.PageSetMode=Y.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO,i.OutputFormat=Y.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT}t.prototype.GetUnicodeFontName=function(){return this.UnicodeFontName},t.prototype.SetUnicodeFontName=function(i){return e.isString(i)||(i=""),this.UnicodeFontName=i,!0},t.prototype.GetUseDetectedFont=function(){return!!this.UseDetectedFont},t.prototype.SetUseDetectedFont=function(i){return this.UseDetectedFont=!!i,!0},t.prototype.GetMinFontSizeforMoreAccurateResult=function(){return this.MinFontSizeforMoreAccurateResult},t.prototype.SetMinFontSizeforMoreAccurateResult=function(i){return i=+i,this.MinFontSizeforMoreAccurateResult=i=i<0?0:i,!0},t.prototype.GetOCRLanguage=function(){return this.OCRLanguage},t.prototype.SetOCRLanguage=function(i){return e.isString(i)||(i=""),this.OCRLanguage=i,!0},t.prototype.GetPageSetMode=function(){return this.PageSetMode},t.prototype.SetPageSetMode=function(i){return i=+i,(i<0||i>Y.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_CHAR)&&(i=Y.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO),this.PageSetMode=i,!0},t.prototype.GetOutputFormat=function(){return this.OutputFormat},t.prototype.SetOutputFormat=function(i){return i=+i,(i<0||i>Y.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT_PDFX)&&(i=Y.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT),this.OutputFormat=i,!0},e.NewOptions=function(){return new t}}(Y.Lib),Y.AddonReady(function(e,t){var i;e.product.bHTML5Edition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(a){var l,h,g,v=e.html5.Funs,T=e.NewOptions();h=a,g=e.html5.Funs,i=e.env.bMac?"DynamicOCR_"+Y.DWT.OCRVerInName+".dylib":e.env.bLinux?"DynamicOCR_"+Y.DWT.OCRVerInName+".so":Y.dcp.b64bit?"DynamicOCRx64_"+Y.DWT.OCRVerInName+".dll":"DynamicOCR_"+Y.DWT.OCRVerInName+".dll",h._isMobileMode()||h._innerSend("GetAddOnVersion",g.makeParams("ocr",i),!0,!1,!1),h.__innerOCRBasicReadFunction=function(C,E,A,D,M,w,O,N,k,R,W){return e.isFunction(R)?this.__innerOCRBasicAsyncReadFunction(C,E,A,D,M,w,O,N,k,R,W):this.__innerOCRSyncReadFunction(C,k)},h.__innerGetOCRBasicResultAsyncFunction=function(C){var E=Y.Lib.NewOCRBasicResult(this);return C&&(E._errorCode=C.exception,E._errorString=C.description,E._resultlist=C.result),E},h.__innerOCRBasicAsyncReadFunction=function(C,E,A,D,M,w,O,N,k,R,W){var K=this;return g.showMask(C),K._innerSend(C,k,!0,function(de){var ee;de.exception==0?(e.isFunction(R)&&(E!=-1?(ee=K._convertServerIdToGuid(E),D==1?R(ee,M,w,O,N,K.__innerGetOCRBasicResultAsyncFunction(de)):R(ee,K.__innerGetOCRBasicResultAsyncFunction(de))):A!=""?R(A,K.__innerGetOCRBasicResultAsyncFunction(de)):R(K.__innerGetOCRBasicResultAsyncFunction(de))),e.License.isLTS()&&Y.DWT.lcvrf(h)):e.isFunction(W)&&W(de.exception,de.description),g.hideMask(C)},function(de){g.hideMask(C)}),!0},h.__innerOCRSyncReadFunction=function(C,E){return C=this._innerFunRaw(C,E,!1,!1),E=e.NewOCRBasicResult(),E._errorCode=this._errorCode,E._errorString=this._errorString,C&&e.isArray(C)&&(E._resultlist=C,E._Count=C.length,e.License.isLTS())&&Y.DWT.lcvrf(h),E},h.__IsOCRBasicModuleInstalled=function(){return h._innerFun("GetAddOnVersion",g.makeParams("ocr",i)).split("|")[0]!=""},h.__innerBasicDownload=function(C,E,A,D,M){function w(){return N.IfShowProgressBar&&e.closeProgress(null,"Download"),e.isFunction(D)&&D(),!0}function O(){return N.IfShowProgressBar&&e.closeProgress(null,"Download"),e.isFunction(M)&&M(N.ErrorCode,N.ErrorString),!1}var N=h;if(e.cancelFrome=2,C=C.toString(),!e.License.checkProductKey(N,{Core:!0})||!e.License.checkProductKey(N,{OCR:!0},!0))return O();E!=Y.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll&&N._innerFun("SetOCRLanguage",g.makeParams(A));var k=N._innerFun("GetAddOnVersion",g.makeParams("ocr",i)).split("|");if(E==Y.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll){if(k[0]!="")return w(),!0}else if(A=Y.DWT.OCRLanguageData[A],A&&k[1]==A)return w(),!0;if(!C||C=="")return e.Errors.OCR_InvalidRemoteFilename(N),O(),!1;if(g.isServerInvalid(N))return O(),!1;N.IfShowProgressBar&&e.showProgress(N,"Download",!0);var R=!0;E==Y.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll?N._OnPercentDone([0,-1,"Downloading OCR Module...","http"]):N._OnPercentDone([0,-1,"Downloading OCR Language Data...","http"]),e.isFunction(D)||(R=!1),g.loadHttpBlob(N,"get",C,R,function(W){N._OnPercentDone([0,-1,"Loading..."]);var K=100;E==Y.DWT.EnumDWT_OCRDownloadType.OCRDT_LANGUAGE&&(K=101),N.__LoadImageFromBytes(W,K,"",R,w,O)},function(){N.IfShowProgressBar&&e.closeProgress(null,"Download"),O()},function(W){var K=W.total===0?100:Math.round(100*W.loaded/W.total);[W.loaded," / ",W.total].join(""),N._OnPercentDone([0,K,"","http"])})},l={OCR:{SetUnicodeFontName:function(C){var E=a;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.SetUnicodeFontName"):T.SetUnicodeFontName(C)},GetUnicodeFontName:function(){var C=a;return C._resetErr(),C._isMobileMode()?C._mobileNotSupport("Addon.OCR.GetUnicodeFontName"):T.GetUnicodeFontName()},SetIfUseDetectedFont:function(C){var E=a;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.SetIfUseDetectedFont"):T.SetUseDetectedFont(C)},GetIfUseDetectedFont:function(){var C=a;return C._resetErr(),C._isMobileMode()?C._mobileNotSupport("Addon.OCR.GetIfUseDetectedFont"):T.GetUseDetectedFont()},SetMinFontSizeforMoreAccurateResult:function(C){var E=a;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.SetMinFontSizeforMoreAccurateResult"):T.SetMinFontSizeforMoreAccurateResult(C)},GetMinFontSizeforMoreAccurateResult:function(){var C=a;return C._resetErr(),C._isMobileMode()?C._mobileNotSupport("Addon.OCR.GetMinFontSizeforMoreAccurateResult"):T.GetMinFontSizeforMoreAccurateResult()},SetLanguage:function(C){var E=a;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.SetLanguage"):T.SetOCRLanguage(C)},IsModuleInstalled:function(){var C=a;return C._resetErr(),C._isMobileMode()?C._mobileNotSupport("Addon.OCR.IsModuleInstalled"):C.__IsOCRBasicModuleInstalled()},SetPageSetMode:function(C){var E=a;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.SetPageSetMode"):(C=+C)==Y.DWT.EnumDWT_OCRPageSetMode.OCRPSM_OSD_ONLY||C==Y.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO_OSD||C==Y.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO_ONLY||C==Y.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO||C==Y.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_COLUMN||C==Y.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_BLOCK_VERT_TEXT||C==Y.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_BLOCK||C==Y.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_LINE||C==Y.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_WORD||C==Y.DWT.EnumDWT_OCRPageSetMode.PSM_CIRCLE_WORD||C==Y.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_CHAR?T.SetPageSetMode(C):(Y.Lib.Errors.OCR_InvalidPageSetMode(E),!1)},SetOutputFormat:function(C){var E=a;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.SetOutputFormat"):(C=+C)==Y.DWT.EnumDWT_OCROutputFormat.OCROF_TEXT||C==Y.DWT.EnumDWT_OCROutputFormat.OCROF_PDFPLAINTEXT||C==Y.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT||C==Y.DWT.EnumDWT_OCROutputFormat.OCROF_PDFPLAINTEXT_PDFX||C==Y.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT_PDFX?T.SetOutputFormat(C):(Y.Lib.Errors.OCR_InvalidOutputFormat(E),!1)},Recognize:function(C,E,A){var D=a;return D._resetErr(),D._isMobileMode()?D._mobileNotSupport("Addon.OCR.Recognize"):e.License.checkProductKey(D,{OCR:!0},!0)?(C=D._ImgManager.convertClientIndexToServerId(C),D.__innerOCRBasicReadFunction("OCRRecognize",C,"",0,0,0,0,0,v.makeParams(0,C,"",0,0,0,0,T.GetUnicodeFontName(),T.GetUseDetectedFont(),T.GetMinFontSizeforMoreAccurateResult(),T.GetOCRLanguage(),T.GetPageSetMode(),T.GetOutputFormat(),""),E,A)):(e.isFunction(A)&&A(D._errorCode,D._errorString),!1)},RecognizeRect:function(C,E,A,D,M,w,O){var N,k=a;return k._resetErr(),k._isMobileMode()?k._mobileNotSupport("Addon.OCR.RecognizeRect"):!E&&E!=0||!A&&A!=0||!D&&D!=0||!M&&M!=0?(N=Y.Lib.NewOCRBasicResult(k),Y.Lib.Errors.OCR_InvalidLeftOrTopOrRightOrBottom(N,"RecognizeRect"),void O(N.GetErrorCode(),N.GetErrorString())):e.License.checkProductKey(k,{OCR:!0},!0)?(N=k._ImgManager.convertClientIndexToServerId(C),k.__innerOCRBasicReadFunction("OCRRecognize",N,"",1,E,A,D,M,v.makeParams(0,N,"",E,A,D,M,T.GetUnicodeFontName(),T.GetUseDetectedFont(),T.GetMinFontSizeforMoreAccurateResult(),T.GetOCRLanguage(),T.GetPageSetMode(),T.GetOutputFormat(),""),w,O)):(e.isFunction(O)&&O(k._errorCode,k._errorString),!1)},RecognizeFile:function(C,E,A){var D=a;return D._resetErr(),D._isMobileMode()?D._mobileNotSupport("Addon.OCR.RecognizeFile"):(C=v.replaceLocalFilename(C),e.License.checkProductKey(D,{OCR:!0},!0)?D.__innerOCRBasicReadFunction("OCRRecognize",-1,C,0,0,0,0,0,v.makeParams(1,-1,C,0,0,0,0,T.GetUnicodeFontName(),T.GetUseDetectedFont(),T.GetMinFontSizeforMoreAccurateResult(),T.GetOCRLanguage(),T.GetPageSetMode(),T.GetOutputFormat(),""),E,A):(e.isFunction(A)&&A(D._errorCode,D._errorString),!1))},RecognizeSelectedImages:function(C,E){var A,D,M,w=a;return w._resetErr(),w._isMobileMode()?w._mobileNotSupport("Addon.OCR.RecognizeSelectedImages"):e.License.checkProductKey(w,{OCR:!0},!0)?(M=[],(A=w)._ImgManager.count()<=0||(D=A._ImgManager.getCurrentImageIndex(),A._ImgManager.convertClientIndexToServerId(D),D=A._ImgManager.getSelectedClientIndexArray(),e.isArray(D)&&e.each(D,function(O){O=A._ImgManager.convertClientIndexToServerId(O),M.push(O)})),D=M,w.__innerOCRBasicReadFunction("OCRRecognize",-1,"",0,0,0,0,0,v.makeParams(2,-1,"",0,0,0,0,T.GetUnicodeFontName(),T.GetUseDetectedFont(),T.GetMinFontSizeforMoreAccurateResult(),T.GetOCRLanguage(),T.GetPageSetMode(),T.GetOutputFormat(),D.join(",")),C,E)):(e.isFunction(E)&&E(w._errorCode,w._errorString),!1)}}},a.__addon=a.__addon||{},e.mix(a.__addon,l)})});var Y=self.Dynamsoft||{};Y.DWT=Y.DWT||{};Y.aryAddonReadyFun=Y.aryAddonReadyFun||[];Y.AddonReady=Y.AddonReady||function(e){Y.aryAddonReadyFun.push(e)};Y.ProOCRVerInName="1.2.0.0806";(function(e){function t(){var i=this;i._text="",i._left=0,i._top=0,i._right=0,i._bottom=0}t.prototype.GetText=function(){var i=this;return i._text},t.prototype.GetLetterRect=function(){var i=this;return i._left+","+i._top+","+i._right+","+i._bottom},e.NewLetterResult=function(){return new t}})(Y.Lib);(function(e){function t(){var i=this;i._count=0,i._letterlist=[],i._zoneCount=0,i._zoneWords=[]}t.prototype.GetLettersCount=function(){var i=this;return i._count},t.prototype.GetZoneCount=function(){var i=this;return i._zoneCount},t.prototype.GetLetterContent=function(i){var a=this,l=a._count;if(a._errorCode<0)return"";if(i==null||i>=l||i<0)return Y.Lib.Errors.OCR_InvalidIndex(a,"GetLetterContent"),"";var h=Y.Lib.NewLetterResult();return h._text=a._letterlist[i].letter,h._left=a._letterlist[i].boundary[0],h._top=a._letterlist[i].boundary[1],h._right=a._letterlist[i].boundary[2],h._bottom=a._letterlist[i].boundary[3],h},t.prototype.GetZoneContent=function(i){var a=this,l=a._zoneCount;return a._errorCode<0?"":i==null||i>=l||i<0?(Y.Lib.Errors.OCR_InvalidIndex(a,"GetZoneContent"),""):a._zoneWords[i]},e.NewPageResult=function(){return new t}})(Y.Lib);(function(e){function t(){var i=this;i._input=0,i._message="",i._page=-1}t.prototype.GetInput=function(){var i=this;return i._input},t.prototype.GetMessage=function(){var i=this;return i._message},t.prototype.GetPage=function(){var i=this;return i._page},e.NewErrorInfo=function(){return new t}})(Y.Lib);(function(e){function t(i){var a=this;a._errorCode=0,a._errorString="",a._errorlist=[],a._request="",a._ocrTotalCount=0,a._alreadyOCRCount=0,a._resultlist=[],a._resultZoneDetail=[],a._stwain=i}t.prototype.GetErrorCode=function(){var i=this;return i._errorCode},t.prototype.GetErrorString=function(){var i=this;return i._errorString},t.prototype.GetInput=function(){var i=this;if(i._request&&i._request.input){var a=i._request.input;if(a){var l=Number(a);if(!isNaN(l))return i._stwain._ImgManager.convertServerIdToClientIndex(l)}return a}else return""},t.prototype.GetErrorDetailList=function(){var i=this,a=0;i._errorlist&&(a=i._errorlist.length);for(var l=[],h=0;h<a;h++){var g=Y.Lib.NewErrorInfo();g._input=i._errorlist[h].input,g._message=i._errorlist[h].message,g._page=i._errorlist[h].page,l.push(g)}return l},t.prototype.GetOCRTotalCount=function(){var i=this;return i._ocrTotalCount?i._ocrTotalCount:0},t.prototype.GetAlreadyOCRCount=function(){var i=this;return i._alreadyOCRCount?i._alreadyOCRCount:0},t.prototype.GetPageCount=function(){var i=this;return i._resultlist&&i._resultlist.length?i._resultlist.length:0},t.prototype.GetPageContent=function(i){var a=this,l=0;if(a._resultlist&&(l=a._resultlist.length),i==null||i>=l||i<0)return Y.Lib.Errors.OCR_InvalidIndex(a,"GetPageContent"),"";var h=Y.Lib.NewPageResult();return a._resultlist?(h._count=a._resultlist[i].length,h._letterlist=a._resultlist[i]):h._count=0,a._resultZoneDetail?(h._zoneCount=a._resultZoneDetail[i].length,h._zoneWords=a._resultZoneDetail[i]):h._zoneCount=0,h},t.prototype.Get=function(){var i=this;return i._stwain._innerFun("GetOCRRestult")},t.prototype.Save=function(i){var a=this,l=e.html5.Funs.replaceLocalFilename(i);return a._stwain._innerFun("SaveOCRRestult",e.html5.Funs.makeParams(l))},e.NewOCRProResult=function(i){return new t(i)}})(Y.Lib);(function(e){for(var t=[Y.DWT],i=0;i<1;i++){var a=t[i];a.EnumDWT_OCRProRecognitionModule={OCRPM_AUTO:"AUTO",OCRPM_MOSTACCURATE:"MOSTACCURATE",OCRPM_BALANCED:"BALANCED",OCRPM_FASTEST:"FASTEST"},a.EnumDWT_OCRProOutputFormat={OCRPFT_TXTS:"TXTS",OCRPFT_TXTCSV:"TXTCSV",OCRPFT_TXTF:"TXTF",OCRPFT_XML:"XML",OCRPFT_IOTPDF:"IOTPDF",OCRPFT_IOTPDF_MRC:"IOTPDF_MRC"},a.EnumDWT_OCRProPDFVersion={OCRPPDFV_0:"1.0",OCRPPDFV_1:"1.1",OCRPPDFV_2:"1.2",OCRPPDFV_3:"1.3",OCRPPDFV_4:"1.4",OCRPPDFV_5:"1.5",OCRPPDFV_6:"1.6",OCRPPDFV_7:"1.7"},a.EnumDWT_OCRProPDFAVersion={OCRPPDFAV_1A:"pdf/a-1a",OCRPPDFAV_1B:"pdf/a-1b",OCRPPDFAV_2A:"pdf/a-2a",OCRPPDFAV_2B:"pdf/a-2b",OCRPPDFAV_2U:"pdf/a-2u",OCRPPDFAV_3A:"pdf/a-3a",OCRPPDFAV_3B:"pdf/a-3b",OCRPPDFAV_3U:"pdf/a-3u"},a.EnumDWT_OCRProType={OCRDT_File:0,OCRDT_Index:1},a.EnumDWT_OCRFindTextFlags={OCRFT_WHOLEWORD:1,OCRFT_MATCHCASE:2,OCRFT_FUZZYMATCH:4},a.EnumDWT_OCRFindTextAction={OCRFT_HIGHLIGHT:0,OCRFT_STRIKEOUT:1,OCRFT_MARKFORREDACT:2}}})();(function(e){function t(){var i=this;i.FindText="",i.FindTextFlags=Y.DWT.EnumDWT_OCRFindTextFlags.OCRFT_WHOLEWORD,i.FindTextAction=Y.DWT.EnumDWT_OCRFindTextAction.OCRFT_MARKFORREDACT}e.NewRedaction=function(){return new t}})(Y.Lib);Y.WebTwain={Addon:{OCRPro:{}}};(function(e){function t(){var i=this;i.RecognitionModule="",i.Languages="eng",i.OutputFormat="",i.PDFVersion="",i.PDFAVersion="",i.LicenseChecker="",i.Redaction=Y.Lib.NewRedaction()}e.NewSettings=function(){return new t}})(Y.WebTwain.Addon.OCRPro);(function(){function e(t,i,a,l){var h=this;h.left=t,h.top=i,h.right=a,h.bottom=l}Y.WebTwain.Addon.OCRPro.NewOCRZone=function(t,i,a,l){return new e(t,i,a,l)}})();Y.AddonReady(function(e,t){if(!e.product.bHTML5Edition)return;function i(ee){var X=e.html5.Funs;ee.__innerGetOCRProResultAsyncFunction=function(ce){var he=Y.Lib.NewOCRProResult(this);return ce&&(he._errorCode=ce.code,he._errorString=ce.message,he._request=ce.request,he._errorlist=ce.errorList,he._ocrTotalCount=ce.ocrTotalCount,he._alreadyOCRCount=ce.alreadyOCRCount,he._resultlist=ce.resultDetail,he._resultZoneDetail=ce.resultZoneDetail),he},ee.__innerIsOCRTrial=function(ce,he){var le=this,fe=function(){var _e=!1;if(le.__licenseInfo.Detail)for(var xe=0;xe<le.__licenseInfo.Detail.length;xe++)le.__licenseInfo.Detail[xe].EnumLicenseType=="10"&&le.__licenseInfo.Detail[xe].Trial=="TRUE"&&(_e=!0);return ce(_e)};return le.__licenseInfo&&le.__licenseInfo.Detail?fe():le.GetLicenseInfo(fe,he)},ee.__innerOCRReadFunction=function(ce,he,le,fe,_e,xe,De,Ne){var je=this;return je.__innerOCRAsyncReadFunction(ce,he,le,fe,_e,xe,De,Ne)},ee.__innerOCRAsyncReadFunction=function(ce,he,le,fe,_e,xe,De,Ne){var je=this,Ze=function(Me){Me.code==0?(e.isFunction(De)&&(he!=-1?fe==1?De(he,_e,je.__innerGetOCRProResultAsyncFunction(Me)):De(he,je.__innerGetOCRProResultAsyncFunction(Me)):le!=""?De(le,je.__innerGetOCRProResultAsyncFunction(Me)):De(je.__innerGetOCRProResultAsyncFunction(Me))),e.License.isLTS()&&Y.DWT.lcvrf(ee)):e.isFunction(Ne)&&Ne(Me.code,Me.message,je.__innerGetOCRProResultAsyncFunction(Me)),X.hideMask(ce)},Re=function(Me){X.hideMask(ce)};return X.showMask(ce),je._innerSend(ce,xe,!0,Ze,Re),!0},ee.__innerGetRequestJson=function(ce,he,le,fe,_e){var xe,De="[{";for(De+='"id":"'+ee.clientId+'",',De+='"method":"OCRProRecognize",',De+='"dllName":"'+_e+'",',De+='"productkey":"'+Y.DWT.ProductKey+'",',ce==Y.DWT.EnumDWT_OCRProType.OCRDT_File?De+='"inputType":"file",':De+='"inputType":"index",',De+='"input":[',xe=0;xe<he.length;xe++)ce==Y.DWT.EnumDWT_OCRProType.OCRDT_File?De+='"'+he[xe]+'"':De+=he[xe],xe+1<he.length&&(De+="|");if(De+="],",De+='"settings":{',De+='"recognitionMethod": "Page"',le&&(le.RecognitionModule&&le.RecognitionModule.length>0&&(De+=',"recognitionModule":"'+le.RecognitionModule+'"'),le.Languages&&le.Languages.length>0&&(De+=',"languages":"'+le.Languages+'"'),le.OutputFormat&&le.OutputFormat.length>0&&(De+=',"outputFormat":"'+le.OutputFormat+'"'),le.PDFVersion&&le.PDFVersion.length>0&&(De+=',"pdfVersion":"'+le.PDFVersion+'"'),le.PDFAVersion&&le.PDFAVersion.length>0&&(De+=',"pdfAVersion":"'+le.PDFAVersion+'"'),le.Redaction&&le.Redaction.FindText&&le.Redaction.FindText.length>0)){var Ne=parseInt(le.Redaction.FindTextFlags),je=parseInt(le.Redaction.FindTextAction);if(!isNaN(Ne)&&!isNaN(je)){De+=',"redaction":{';var Ze=le.Redaction.FindText;Ze=Ze.replace(/"/g,'\\"'),De+='"findText":"'+Ze+'"',De+=',"findTextFlags":'+Ne,De+=',"findTextAction":'+je,De+="}"}}for(De+="},",De+='"zones":[',xe=0;xe<fe.length;xe++)De+="["+fe[xe].left+","+fe[xe].top+","+fe[xe].right+","+fe[xe].bottom+"]",xe+1<fe.length&&(De+=",");return De+="],",De+='"outputFile":""',De+="}]",De},ee.__LoadImageFromBytesForDownloadInner=function(ce,he,le,fe,_e,xe,De,Ne,je){var Ze=ee,Re,Me,Ae;ce>=fe?(Re=xe*fe,Ae=he.slice(Re,_e)):(Re=ce*xe,Me=(ce+1)*xe,Ae=he.slice(Re,Me));var Je=function(){Y.Lib.isFunction(je)&&je()},He=function(){if(ce>=fe){Y.Lib.isFunction(Ne)&&Ne();return}ce=ce+1,Ze.__LoadImageFromBytesForDownloadInner(ce,he,le,fe,_e,xe,De,Ne,je)};Ze.__LoadImageFromBytes(Ae,le,"",De,He,Je,Re,_e)},ee.__LoadImageFromBytesForDownload=function(ce,he,le,fe,_e,xe){var De=ee,Ne=2*1e3*1e3,je=ce.size||ce.length,Ze=parseInt(je/Ne),Re=je%Ne;Re==0&&(Ze=Ze-1),De.__LoadImageFromBytesForDownloadInner(0,ce,he,Ze,je,Ne,fe,_e,xe)}}var a=function(ee){var X=[],ce,he;return ee._ImgManager.count()<=0||(ce=ee._ImgManager.getCurrentImageIndex(),ee._ImgManager.convertClientIndexToServerId(ce),he=ee._ImgManager.getSelectedClientIndexArray(),e.isArray(he)&&e.each(he,function(le){var fe=ee._ImgManager.convertClientIndexToServerId(le);X.push(fe)})),X},l=function(ee,X,ce,he){var le=e.NewOCRProResult(ee);le._errorCode=X,le._errorString=ce;var fe=e.NewErrorInfo();return fe.input=he,fe.message=le._errorString,fe.page=0,le._errorlist=[fe],le},h=function(ee){var X=e.html5.Funs,ce,he;e.env.bMac?he="DynamicOCRPro_"+Y.ProOCRVerInName+".dylib":e.env.bLinux?he="DynamicOCRPro_"+Y.ProOCRVerInName+".so":Y.dcp.b64bit?he="DynamicOCRProx64_"+Y.ProOCRVerInName+".dll":he="DynamicOCRPro_"+Y.ProOCRVerInName+".dll",i(ee),ce={OCRPro:{Settings:!1,Recognize:function(le,fe,_e){var xe=[],De,Ne,je=ee;if(je._resetErr(),je._isMobileMode())return je._mobileNotSupport("Addon.OCRPro.Recognize");if(De=parseInt(le),e.isNaN(De)||!e.isNumber(De))return Ne=l(ee,-2201,"Invalid parameter type.",le),e.isFunction(_e)?_e(Ne._errorCode,Ne._errorString,Ne):e.Errors.WebviewerError(ee,Ne._errorString,Ne._errorCode),!1;var Ze=ee._ImgManager.convertClientIndexToServerId(De);if(Ze==-1)return e.isFunction(_e)&&(e.Errors.IndexOutOfRange(ee),Ne=l(ee,ee._errorCode,ee._errorString,le),_e(Ne._errorCode,Ne._errorString,Ne)),!1;if(!e.License.checkProductKey(ee,{OCRPro:!0},!0))return e.isFunction(_e)&&(Ne=l(ee,ee._errorCode,ee._errorString,le),_e(Ne._errorCode,Ne._errorString,Ne)),!1;xe.push(Ze);var Re=[],Me=this.Settings,Ae=ee.__innerGetRequestJson(Y.DWT.EnumDWT_OCRProType.OCRDT_Index,xe,Me,Re,he);return ee.__innerIsOCRTrial(function(Je){return Je||e.License.isLTS()?ee.__innerOCRReadFunction("OCRProRecognize",le,"",0,Re,Ae,fe,_e):T(Me.LicenseChecker,ee,"OCRProRecognize",le,"",0,Re,Ae,fe,_e)},_e)},RecognizeRect:function(le,fe,_e,xe){var De=[],Ne,je,Ze=ee;if(Ze._resetErr(),Ze._isMobileMode())return Ze._mobileNotSupport("Addon.OCRPro.RecognizeRect");if(Ne=parseInt(le),e.isNaN(Ne)||!e.isNumber(Ne))return je=l(ee,-2201,"Invalid parameter type.",le),e.isFunction(xe)?xe(je._errorCode,je._errorString,je):e.Errors.WebviewerError(ee,je._errorString,je._errorCode),!1;var Re=ee._ImgManager.convertClientIndexToServerId(Ne),Me=ee._ImgManager.GetImageWidth(Ne),Ae=ee.GetImageHeight(Ne);if(Re==-1)return e.isFunction(xe)&&(e.Errors.IndexOutOfRange(ee),je=l(ee,ee._errorCode,ee._errorString,le),xe(je._errorCode,je._errorString,je)),!1;if(!e.License.checkProductKey(ee,{OCRPro:!0},!0))return e.isFunction(xe)&&(je=l(ee,ee._errorCode,ee._errorString,le),xe(je._errorCode,je._errorString,je)),!1;if(Me>0&&Ae>0)for(var Je,He,Ge,nt,pe,oe,me=0;me<fe.length;me++)Je=fe[me],He=Je.left,Ge=Je.top,nt=Je.right,pe=Je.bottom,He<0&&(He=0),Ge<0&&(Ge=0),nt<0&&(nt=0),pe<0&&(pe=0),He>nt&&(oe=He,He=nt,nt=oe),Ge>pe&&(oe=Ge,Ge=pe,pe=oe),nt>Me&&(nt=Me),pe>Ae&&(pe=Ae),Je.left=He,Je.top=Ge,Je.right=nt,Je.bottom=pe;De.push(Re);var Se=this.Settings,et=ee.__innerGetRequestJson(Y.DWT.EnumDWT_OCRProType.OCRDT_Index,De,Se,fe,he);return ee.__innerIsOCRTrial(function(Ke){return Ke||e.License.isLTS()?ee.__innerOCRReadFunction("OCRProRecognize",le,"",1,fe,et,_e,xe):T(Se.LicenseChecker,ee,"OCRProRecognize",le,"",1,fe,et,_e,xe)},xe)},RecognizeFile:function(le,fe,_e){var xe=ee;if(xe._resetErr(),xe._isMobileMode())return xe._mobileNotSupport("Addon.OCRPro.RecognizeFile");var De,Ne,je;if(le.length==0)return e.isFunction(_e)&&(De=Y.Lib.NewOCRProResult(ee),De._errorCode=-2201,De._errorString="File name cannot be empty.",je=[],Ne=Y.Lib.NewErrorInfo(),Ne.input=le,Ne.message=De._errorString,Ne.page=0,je.push(Ne),De._errorlist=je,_e(De._errorCode,De._errorString,De)),!1;if(!e.License.checkProductKey(ee,{OCRPro:!0},!0))return e.isFunction(_e)&&(De=Y.Lib.NewOCRProResult(ee),De._errorCode=ee._errorCode,De._errorString=ee._errorString,je=[],Ne=Y.Lib.NewErrorInfo(),Ne.input=le,Ne.message=De._errorString,Ne.page=0,je.push(Ne),De._errorlist=je,_e(De._errorCode,De._errorString,De)),!1;var Ze=X.replaceLocalFilename(le),Re=[];Ze.indexOf("|")>0?Re=Ze.split("|"):Ze.indexOf(";")>0?Re=Ze.split(";"):Ze.indexOf(",")>0&&(Re=Ze.split(","));var Me=[];if(Re.length>0)for(var Ae=0;Ae<Re.length;Ae++)Me.push(Re[Ae]);else Me.push(Ze);var Je=[],He=this.Settings,Ge=ee.__innerGetRequestJson(Y.DWT.EnumDWT_OCRProType.OCRDT_File,Me,He,Je,he);ee.__innerIsOCRTrial(function(nt){return nt||e.License.isLTS()?ee.__innerOCRReadFunction("OCRProRecognize",-1,le,0,Je,Ge,fe,_e):T(He.LicenseChecker,ee,"OCRProRecognize",-1,le,0,Je,Ge,fe,_e)},_e)},RecognizeSelectedImages:function(le,fe){var _e,xe,De,Ne=ee;if(Ne._resetErr(),Ne._isMobileMode())return Ne._mobileNotSupport("Addon.OCRPro.RecognizeSelectedImages");if(!e.License.checkProductKey(ee,{OCRPro:!0},!0)){if(e.isFunction(fe)){var je=Y.Lib.NewOCRProResult(ee);je._errorCode=ee._errorCode,je._errorString=ee._errorString,xe=[],De=Y.Lib.NewErrorInfo(),De.input="",De.message=je._errorString,De.page=0,xe.push(De),je._errorlist=xe,fe(je._errorCode,je._errorString,je)}return!1}var Ze=[],Re=this.Settings,Me=a(ee),Ae=ee.__innerGetRequestJson(Y.DWT.EnumDWT_OCRProType.OCRDT_Index,Me,Re,Ze,he);return ee.__innerIsOCRTrial(function(Je){Je||e.License.isLTS()?_e=ee.__innerOCRReadFunction("OCRProRecognize",-1,"",0,Ze,Ae,le,fe):_e=T(Re.LicenseChecker,ee,"OCRProRecognize",-1,"",0,Ze,Ae,le,fe)},fe),_e},IsModuleInstalled:function(){var le=ee;if(le._resetErr(),le._isMobileMode())return le._mobileNotSupport("Addon.OCRPro.IsModuleInstalled");var fe=le._innerFun("GetAddOnVersion",X.makeParams("proocr",he));return fe!=""}}},ee.__addon=ee.__addon||{},e.mix(ee.__addon,ce)};e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(h);function g(ee,X,ce,he,le,fe,_e,xe,De,Ne){var je=this;je.STWAIN=X,je.AjaxFunctionUrl=ee,je.FunctionName=ce,je.ImageIndex=he,je.FileNames=le,je.Type=fe,je.AryZone=_e,je.JsonString=xe,je.OnSuccess=De,je.OnFailure=Ne}Y.WebTwain.Addon.OCRPro.NewOCRReadPara=function(ee,X,ce,he,le,fe,_e,xe,De,Ne){return new g(ee,X,ce,he,le,fe,_e,xe,De,Ne)};function v(ee,X){var ce="",he=ee.responseText;if(he.length==0){var le=Y.WebTwain.Addon.OCRPro.NewOCRError();Y.Lib.Errors.OCR_LicenseCheckerError(le,X.AjaxFunctionUrl),he=le.responseText}ce=de(he);var fe=ce.split(";");if(fe.length==1)X.OnFailure(-1,he,Y.Lib.NewOCRProResult());else if(fe[0]=="true"){var _e=function(xe,De,Ne){Y.Lib.isUndefined(Ne)?Y.Lib.isUndefined(De)?(X.OnSuccess(xe),C(X.AjaxFunctionUrl,xe.GetPageCount())):(X.OnSuccess(xe,De),C(X.AjaxFunctionUrl,De.GetPageCount())):(X.OnSuccess(xe,De,Ne),C(X.AjaxFunctionUrl,Ne.GetPageCount()))};X.STWAIN.__innerOCRReadFunction(X.FunctionName,X.ImageIndex,X.FileNames,X.Type,X.AryZone,X.JsonString,_e,X.OnFailure)}else X.OnFailure(fe[1],fe[2],Y.Lib.NewOCRProResult())}function T(ee,X,ce,he,le,fe,_e,xe,De,Ne){var je=ee,Ze="DTW_AjaxMethod=CheckLicense&Productkey="+K(Y.DWT.ProductKey),Re=Y.WebTwain.Addon.OCRPro.NewOCRReadPara(ee,X,ce,he,le,fe,_e,xe,De,Ne);return M(je,Ze,v,Re)}function C(ee,X){var ce=ee,he="DTW_AjaxMethod=WriteOCRCount&OCRCount="+K(X+"");M(ce,he,E,null)}function E(ee,X){}function A(){var ee=this;ee.responseText="",ee.errorString=""}Y.WebTwain.Addon.OCRPro.NewOCRError=function(){return new A},Y.Lib.mix(Y.Lib.Errors,{OCR_LicenseCheckerEmpty:function(ee){var X=-2601,ce="LicenseChecker cannot be empty.";ee.errorString=ce,ee.responseText=K("false;"+X+";"+ce+";")},OCR_LicenseCheckerNotConnect:function(ee){var X=-2602,ce="Cannot connect to the LicenseChecker, please check and make sure it's set correctly.";ee.errorString=ce,ee.responseText=K("false;"+X+";"+ce+";")},OCR_AccessDenied:function(ee){var X=-2603,ce="Access denied.";ee.errorString=ce,ee.responseText=K("false;"+X+";"+ce+";")},OCR_LicenseCheckerError:function(ee,X){var ce=-2604,he="Error occured in '"+X+"'.";ee.errorString=he,ee.responseText=K("false;"+ce+";"+he+";")},OCR_HTTPError:function(ee,X){var ce=-2605,he="HTTP Error "+X+".";ee.errorString=he,ee.responseText=K("false;"+ce+";"+he+";")},OCR_LicenseCheckerUnauthorized:function(ee,X){var ce=-2606,he="You do not have permission to view this directory or page using the credentials you supplied (access denied due to Access Control Lists). Ask the Web server's administrator to give you access to '"+X+"'.";ee.errorString=he,ee.responseText=K("false;"+ce+";"+he+";")},__last:!1});function D(){var ee=null,X=window;try{ee=new X.ActiveXObject("Msxml2.XMLHTTP")}catch{try{ee=new X.ActiveXObject("Microsoft.XMLHTTP")}catch{ee=new XMLHttpRequest}}return ee}function M(ee,X,ce,he){var le=Y.WebTwain.Addon.OCRPro.NewOCRError();if(ee=="")return Y.Lib.Errors.OCR_LicenseCheckerEmpty(le),alert(le.errorString),ce(le,he),!1;var fe=D();return fe.open("POST",ee,!0),fe.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),fe.onreadystatechange=function(){if(fe.readyState==4)if(fe.status==200)ce!=null&&typeof ce=="function"&&ce(fe,he);else return fe.status==401?(Y.Lib.Errors.OCR_LicenseCheckerUnauthorized(le,he.AjaxFunctionUrl),ce(le,he),!1):fe.status==404?(Y.Lib.Errors.OCR_LicenseCheckerNotConnect(le),alert(le.errorString),ce(le,he),!1):fe.status==403?(Y.Lib.Errors.OCR_AccessDenied(le),ce(le,he),!1):(Y.Lib.Errors.OCR_HTTPError(le,fe.status),ce(le,he),!1)},fe&&X&&fe.send(X),!0}var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function N(ee){var X,ce,he,le,fe,_e;for(he=ee.length,ce=0,X="";ce<he;){if(le=ee.charCodeAt(ce++)&255,ce==he){X+=w.charAt(le>>2),X+=w.charAt((le&3)<<4),X+="==";break}if(fe=ee.charCodeAt(ce++),ce==he){X+=w.charAt(le>>2),X+=w.charAt((le&3)<<4|(fe&240)>>4),X+=w.charAt((fe&15)<<2),X+="=";break}_e=ee.charCodeAt(ce++),X+=w.charAt(le>>2),X+=w.charAt((le&3)<<4|(fe&240)>>4),X+=w.charAt((fe&15)<<2|(_e&192)>>6),X+=w.charAt(_e&63)}return X}function k(ee){var X,ce,he,le,fe,_e,xe;for(_e=ee.length,fe=0,xe="";fe<_e;){do X=O[ee.charCodeAt(fe++)&255];while(fe<_e&&X==-1);if(X==-1)break;do ce=O[ee.charCodeAt(fe++)&255];while(fe<_e&&ce==-1);if(ce==-1)break;xe+=String.fromCharCode(X<<2|(ce&48)>>4);do{if(he=ee.charCodeAt(fe++)&255,he==61)return xe;he=O[he]}while(fe<_e&&he==-1);if(he==-1)break;xe+=String.fromCharCode((ce&15)<<4|(he&60)>>2);do{if(le=ee.charCodeAt(fe++)&255,le==61)return xe;le=O[le]}while(fe<_e&&le==-1);if(le==-1)break;xe+=String.fromCharCode((he&3)<<6|le)}return xe}function R(ee){var X,ce,he,le;for(X="",he=ee.length,ce=0;ce<he;ce++)le=ee.charCodeAt(ce),le>=1&&le<=127?X+=ee.charAt(ce):le>2047?(X+=String.fromCharCode(224|le>>12&15),X+=String.fromCharCode(128|le>>6&63),X+=String.fromCharCode(128|le>>0&63)):(X+=String.fromCharCode(192|le>>6&31),X+=String.fromCharCode(128|le>>0&63));return X}function W(ee){var X,ce,he,le,fe,_e;for(X="",he=ee.length,ce=0;ce<he;)switch(le=ee.charCodeAt(ce++),le>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:X+=ee.charAt(ce-1);break;case 12:case 13:fe=ee.charCodeAt(ce++),X+=String.fromCharCode((le&31)<<6|fe&63);break;case 14:fe=ee.charCodeAt(ce++),_e=ee.charCodeAt(ce++),X+=String.fromCharCode((le&15)<<12|(fe&63)<<6|(_e&63)<<0);break}return X}function K(ee){return N(R(ee))}function de(ee){return W(k(ee))}});/*! 20241010103231
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: Webcam
* Version: 18.5.1
* 
*/var Y=self.Dynamsoft||{};Y.DWT=Y.DWT||{},Y.aryAddonReadyFun=Y.aryAddonReadyFun||[],Y.AddonReady=Y.AddonReady||function(e){Y.aryAddonReadyFun.push(e)},Y.WebcamVerForActiveX="15.0.0.0625",Y.WebcamVerInName="15.0.0.0625",function(){for(var e=[Y.DWT],t=0;t<1;t++){var i=e[t];i.EnumDWT_VideoRotateMode={VRM_NONE:0,VRM_90_DEGREES_CLOCKWISE:1,VRM_180_DEGREES_CLOCKWISE:2,VRM_270_DEGREES_CLOCKWISE:3,VRM_FLIP_VERTICAL:4,VRM_FLIP_HORIZONTAL:5},i.EnumDWT_VideoProperty={VP_BRIGHTNESS:0,VP_CONTRAST:1,VP_HUE:2,VP_SATURATION:3,VP_SHARPNESS:4,VP_GAMMA:5,VP_COLORENABLE:6,VP_WHITEBALANCE:7,VP_BACKLIGHTCOMPENSATION:8,VP_GAIN:9},i.EnumDWT_CameraControlProperty={CCP_PAN:0,CCP_TILT:1,CCP_ROLL:2,CCP_ZOOM:3,CCP_EXPOSURE:4,CCP_IRIS:5,CCP_FOCUS:6}}}(),function(){Y.Lib.WebcamErrors={InvalidParameter:function(e){e._errorCode=-10001,e._errorString="The parameter is invalid."},VideoNotPlayingWhenCapture:function(e){e._errorCode=-10002,e._errorString="To capture an image, the video must be playing."},VideoNotPlayingWhenGetURL:function(e){e._errorCode=-10003,e._errorString="To get the url for the current frame, the video must be playing."},Success:function(e){e._errorCode=0,e._errorString="Successful."}}}(),function(e){function t(i){var a=this;a._Count=0,a._resultlist=[],a._stwain=i}t.prototype.GetCount=function(){return e.WebcamErrors.Success(this._stwain),this._Count-1},t.prototype.Get=function(i){var a=this;return a._resultlist.length-1<=i||i<0?(Y.Lib.Errors.Webcam_InvalidIndex(a._stwain,"Get"),""):(e.WebcamErrors.Success(a._stwain),a._resultlist[i])},t.prototype.GetCurrent=function(){var i=this,a=i._resultlist.length;return a==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,"GetCurrent"),""):(e.WebcamErrors.Success(i._stwain),i._resultlist[a-1])},e.NewWebcamValue=function(i){return new t(i)}}(Y.Lib),function(e){function t(i){var a=this;a._Count=0,a._resultlist=[],a._stwain=i}t.prototype.GetValue=function(){var i=this;return i._resultlist.length==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),""):(e.WebcamErrors.Success(i._stwain),i._resultlist[0].current)},t.prototype.GetIfAuto=function(){var i=this;return i._resultlist.length==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),!1):(e.WebcamErrors.Success(i._stwain),i._resultlist[0].auto=="true")},e.NewWebcamSetting=function(i){return new t(i)}}(Y.Lib),function(e){function t(i){var a=this;a._Count=0,a._resultlist=[],a._stwain=i}t.prototype.GetMinValue=function(){var i=this;return i._resultlist.length==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),""):i._resultlist[0].min},t.prototype.GetMaxValue=function(){var i=this;return i._resultlist.length==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),""):i._resultlist[0].max},t.prototype.GetSteppingDelta=function(){var i=this;return i._resultlist.length==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),0):i._resultlist[0].step},t.prototype.GetDefaultValue=function(){var i=this;return i._resultlist.length==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),0):i._resultlist[0].defaultValue},t.prototype.GetIfAuto=function(){var i=this;return i._resultlist.length==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),!1):i._resultlist[0].auto=="true"},e.NewWebcamMoreSetting=function(i){return new t(i)}}(Y.Lib),Y.AddonReady(function(e,t){e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(i){i._innerSetWebcamValue=function(a){var l=e.NewWebcamValue(i);return a&&e.isArray(a)&&(l._resultlist=a,l._Count=a.length),l},i._innerSetWebcamSetting=function(a){var l=e.NewWebcamSetting(i);return a&&e.isArray(a)&&(l._resultlist=a,l._Count=a.length),l},i._innerSetWebcamMoreSetting=function(a){var l=e.NewWebcamMoreSetting(i);return a&&e.isArray(a)&&(l._resultlist=a,l._Count=a.length),l}}),e.Addon_Events.push("OnFrameCaptured"),e.Addon_Events.push("OnCaptureSuccess"),e.Addon_Events.push("OnCaptureError")}),Y.AddonReady(function(e,t){e.product.bHTML5Edition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(i){var a,l=e.html5.Funs,h=e.env.bMac?"DynamicWebcam_"+Y.WebcamVerInName+".dylib":e.env.bLinux?"DynamicWebcam_"+Y.WebcamVerInName+".so":i._b64bit?"DynamicWebcamx64_"+Y.WebcamVerInName+".dll":"DynamicWebcam_"+Y.WebcamVerInName+".dll";try{i._innerSend("GetAddOnVersion",l.makeParams("webcam",h),!0,!1,!1)}catch{}(a=i)._innerWebcamValueFunction=function(g,v){return g=this._innerFunRaw(g,v,!1,!1),this._innerSetWebcamValue(g)},a._innerWebcamSettingFunction=function(g,v){return g=this._innerFunRaw(g,v,!1,!1),this._innerSetWebcamSetting(g)},a._innerWebcamMoreSettingFunction=function(g,v){return g=this._innerFunRaw(g,v,!1,!1),this._innerSetWebcamMoreSetting(g)},a._OnCaptureSuccess=function(g){Y.Lib.isFunction(this.__OnCaptureSuccess)&&this.__OnCaptureSuccess()},a._OnCaptureError=function(T){var v=T[1],T=T[2];Y.Lib.isFunction(this.__OnCaptureError)&&this.__OnCaptureError(v,T)},a._OnFrameCaptured=function(g){var v,T=this,C=Y.Lib;T.__videoPause||(v=(v=T.__videoQuality)||60,T.__videoDest&&T.__videoDest.UpdateVideoContainer(T.GetImageURL(-1,-1,-1,0,v))),C.isFunction(T.__OnFrameCaptured)&&T.__OnFrameCaptured(g)},a={Webcam:{IsModuleInstalled:function(){var g=i;return g._resetErr(),g._innerFun("GetAddOnVersion",l.makeParams("webcam",h))!=""},GetSourceList:function(){var g,v=i;return v._resetErr(),e.License.checkProductKey(v,{Webcam:!0},!0)?(g=v._innerFunRaw("GetWebcamSourceList"),v.ErrorCode==0&&g&&1<g.length&&g.splice(g.length-1,1),g):[]},SelectSource:function(g){var v=i;return v._resetErr(),!!e.License.checkProductKey(v,{Webcam:!0},!0)&&v._innerFun("SelectWebcam",l.makeParams(g))},CloseSource:function(){var g=i;return g._resetErr(),this._clear(),g._innerFun("StopCapture")},GetFramePartURL:function(){var g=i;return g._resetErr(),this._isPlaying()?g.GetImageURL(-1,-1,-1,!0,g.__videoQuality):(e.WebcamErrors.VideoNotPlayingWhenGetURL(g),"")},GetFrameURL:function(){var g=i;return g._resetErr(),this._isPlaying()?g.GetImageURL(-1,-1,-1,0,g.__videoQuality):(e.WebcamErrors.VideoNotPlayingWhenGetURL(g),"")},PlayVideo:function(g,v,T,C,E){function A(){return w._clear(),Y.Lib.isFunction(E)&&E(i._errorCode,i._errorString),!1}var D=i,M=(D._resetErr(),60),w=this;return Y.DWT.UseDefaultViewer?g?e.License.checkProductKey(i,{Webcam:!0},!0)?(D.__videoDest=g,D.__videoDest.ShowVideoContainer(!0),Y.Lib.isFunction(T)&&(i.__OnFrameCaptured=T),i.__videoPause?(i.__videoPause=!1,e.isFunction(C)&&C()):(i.__videoPause=!1,i.__videoQuality=v?M=(M=+v)<1?60:M:M,i._innerSend("PlayVideo",l.makeParams(!0),!0,C,A)),!0):A():(Y.Lib.Errors.ParameterCannotEmpty(i),A()):(Y.Lib.Errors.CannotDoWhenNoViewerJS(i),!1)},PauseVideo:function(){var g=i;return g._resetErr(),this._isPlaying()&&(g.__videoPause=!0),!0},_clear:function(){var g=i;g.__videoPause=!1,g.__OnFrameCaptured=!1,g.__videoQuality=60,g.__videoDest&&g.__videoDest.ShowVideoContainer(!1),g.__videoDest=!1},_isPlaying:function(){return i.GetIfShowVideoContainer()},StopVideo:function(){var g=i,v=(g._resetErr(),this._clear(),g._innerFun("PlayVideo",l.makeParams(!1,0)));return g._innerFun("StopCapture"),v},CaptureImage:function(g,v){var T=i;if(T._resetErr(),!e.License.checkProductKey(T,{Webcam:!0},!0))return e.isFunction(v)&&v(T._errorCode,T._errorString),!1;function C(){l.hideMask(E),e.isFunction(v)&&v(T._errorCode,T._errorString)}var E="CaptureImage";l.showMask(E),T.__OnCaptureError=C,T._innerSend(E,l.makeParams(!1),!0,function(){l.hideMask(),T.ErrorCode==0?(l.hideMask(E),e.isFunction(g)&&setTimeout(g,0),e.License.isLTS()&&Y.DWT.lcvrf(i)):C(T.ErrorCode,T.ErrorString)},C)},GetMediaType:function(){var g=i;return g._resetErr(),g._innerWebcamValueFunction("GetMediaType")},SetMediaType:function(g){var v=i;return v._resetErr(),e.isString(g)?v._innerFun("SetMediaType",l.makeParams(g)):(e.Errors.InvalidValue(v),!1)},GetResolution:function(){var g=i,g=(g._resetErr(),g._innerWebcamValueFunction("GetResolution"));if(g&&g._resultlist){var v,T,C=g._resultlist,E=[],A=[];for((T=0<C.length?C[C.length-1]:T)==""&&0<C.length&&(T=C[0]),v=0;v<C.length-1;v++){for(var D,M=(D=C[v]).toLowerCase().split("x"),w=(N=O=w=void 0,{value:D,p1:parseInt(M[0]),p2:parseInt(M[1])}),O=E,N=O.length-1;0<=N&&O[N].p1>=w.p1&&!(O[N].p1==w.p1&&O[N].p2<w.p2);)O[N+1]=O[N],N--;O[N+1]=w}for(v=0;v<E.length;v++)D=E[v].value,A.push(D);T&&A.push(T),g._resultlist=A,A=E=null}return g},SetResolution:function(g){var v=i;return v._resetErr(),e.isNumber(g)||e.isString(g)?v._innerFun("SetResolution",l.makeParams(g)):(e.Errors.InvalidValue(v),!1)},GetFrameRate:function(){var g=i;return g._resetErr(),g._innerWebcamValueFunction("GetFrameRate")},SetFrameRate:function(g){var v=i;return v._resetErr(),e.isNumber(g)?i._innerFun("SetFrameRate",l.makeParams(g)):(e.Errors.InvalidValue(v),!1)},GetVideoPropertySetting:function(g){var v=i;return v._resetErr(),v._innerWebcamSettingFunction("GetWebcamVideoPropertySetting",l.makeParams(g))},GetVideoPropertyMoreSetting:function(g){var v=i;return v._resetErr(),v._innerWebcamMoreSettingFunction("GetWebcamVideoPropertyMoreSetting",l.makeParams(g))},SetVideoPropertySetting:function(g,v,T){var C=i;return C._resetErr(),C._innerFun("SetWebcamVideoPropertySetting",l.makeParams(g,v,T))},SetVideoRotateMode:function(g){var v=i;return v._resetErr(),v._innerFun("SetVideoRotateMode",l.makeParams(g))},GetCameraControlPropertySetting:function(g){var v=i;return v._resetErr(),v._innerWebcamSettingFunction("GetWebcamCameraControlSetting",l.makeParams(g))},GetCameraControlPropertyMoreSetting:function(g){var v=i;return v._resetErr(),v._innerWebcamMoreSettingFunction("GetWebcamCameraControlMoreSetting",l.makeParams(g))},SetCameraControlPropertySetting:function(g,v,T){var C=i;return C._resetErr(),C._innerFun("SetWebcamCameraControlPropertySetting",l.makeParams(g,v,T))}}},i.__addon=i.__addon||{},e.mix(i.__addon,a)})}),Y.AddonReady(function(e,t){var i;e.product.bActiveXEdition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(a){var l,h,g;if(!a.getSWebTwain()||!a.getSWebTwain().Addon)return!1;Y.navInfoSync.bWin&&(g=!Y.navInfo.bOSx64||Y.navInfo.bWOW64,i=g?"DynamicWebcam_"+Y.WebcamVerForActiveX+".dll":"DynamicWebcamx64_"+Y.WebcamVerForActiveX+".dll"),l=a.getSWebTwain();try{l.GetAddOnVersion("webcam",i)}catch{}(g=a)._innerRead=function(v){var T;try{T=Y.Lib.parse(v)}catch{}return T.result},g._innerWebcamValueFunctionPlugin=function(v){return v=this._innerRead(v),this._innerSetWebcamValue(v)},g._innerWebcamSettingFunctionPlugin=function(v){return v=this._innerRead(v),this._innerSetWebcamSetting(v)},g._innerWebcamMoreSettingFunctionPlugin=function(v){return v=this._innerRead(v),this._innerSetWebcamMoreSetting(v)},h={Webcam:{IsModuleInstalled:function(){var v=l.GetAddOnVersion("webcam",i);return e.setErrorString(a),v!=""},GetSourceList:function(){var v,T;return e.License.checkProductKey(a,{Webcam:!0},!0)?(v=l.GetWebcamSourceList(),T=[],e.setErrorString(a),a._errorCode==0&&(T=a._innerRead(v))&&1<T.length&&T.splice(T.length-1,1),T):[]},SelectSource:function(v){return!!e.License.checkProductKey(a,{Webcam:!0},!0)&&(v=l.SelectWebcam(v),e.setErrorString(a),v)},CloseSource:function(){a._playVideoDWT=null;var v=l.StopCapture();return e.setErrorString(a),v},GetFramePartURL:function(){var v;return this._isPlaying()?(v=l.GetDIB(-1),e.setErrorString(a),v):(e.WebcamErrors.VideoNotPlayingWhenGetURL(a),"")},GetFrameURL:function(){return""},PlayVideo:function(v,T,C,E,A){function D(){return a._playVideoDWT=null,Y.Lib.isFunction(A)&&A(a.ErrorCode,a.ErrorString),!1}var M;return v&&v.getSWebTwain()?e.License.checkProductKey(a,{Webcam:!0},!0)?(M=v.getSWebTwain().CurrentHWND)?(a._playVideoDWT=v,setTimeout(function(){var w=l.RunWebcamCmd("PlayVideo",M,null,null,C);e.wrapperRet(a,w,E,D)},0),!0):(e.WebcamErrors.InvalidParameter(a),D()):D():(Y.Lib.WebcamErrors.InvalidParameter(a),D())},PauseVideo:function(){return!0},StopVideo:function(){a._playVideoDWT=null;var v=l.RunWebcamCmd("StopVideo",0,null,null,null);return e.setErrorString(a),l.StopCapture(),v},CaptureImage:function(v,T){function C(){return Y.Lib.isFunction(T)&&T(a.ErrorCode,a.ErrorString),!1}var E;return e.License.checkProductKey(a,{Webcam:!0},!0)?(E=l.RunWebcamCmd("Capture",0,function(){e.isFunction(v)&&setTimeout(v,0),e.License.isLTS()&&Y.DWT.lcvrf(a)},C,null),e.setErrorString(a),E):C()},GetMediaType:function(){var v=a._innerWebcamValueFunctionPlugin(l.GetMediaType());return e.setErrorString(a),v},SetMediaType:function(v){return e.isString(v)?(v=l.SetMediaType(v),e.setErrorString(a),v):(e.Errors.InvalidValue(a),!1)},GetResolution:function(){var v=a._innerWebcamValueFunctionPlugin(l.GetResolution());if(e.setErrorString(a),v&&v._resultlist){var T,C,E=v._resultlist,A=[],D=[];for(0<E.length&&(C=E[E.length-1]),T=0;T<E.length-1;T++){for(var M,w=(M=E[T]).toLowerCase().split("x"),O=(k=N=O=void 0,{value:M,p1:parseInt(w[0]),p2:parseInt(w[1])}),N=A,k=N.length-1;0<=k&&N[k].p1>=O.p1&&!(N[k].p1==O.p1&&N[k].p2<O.p2);)N[k+1]=N[k],k--;N[k+1]=O}for(T=0;T<A.length;T++)M=A[T].value,D.push(M);C&&D.push(C),v._resultlist=D,D=A=null}return v},SetResolution:function(v){return e.isNumber(v)||e.isString(v)?(v=l.SetResolution(v),e.setErrorString(a),v):(e.Errors.InvalidValue(a),!1)},GetFrameRate:function(){var v=a._innerWebcamValueFunctionPlugin(l.GetFrameRate());return e.setErrorString(a),v},SetFrameRate:function(v){return e.isNumber(v)?(v=l.SetFrameRate(v),e.setErrorString(a),v):(e.Errors.InvalidValue(a),!1)},GetVideoPropertySetting:function(v){return v=l.GetWebcamVideoPropertySetting(v),e.setErrorString(a),a._innerWebcamSettingFunctionPlugin(v)},GetVideoPropertyMoreSetting:function(v){return v=l.GetWebcamVideoPropertyMoreSetting(v),e.setErrorString(a),a._innerWebcamMoreSettingFunctionPlugin(v)},SetVideoPropertySetting:function(v,T,C){return v=l.SetWebcamVideoPropertySetting(v,T,C),e.setErrorString(a),v},SetVideoRotateMode:function(v){return v=l.SetVideoRotateMode(v),e.setErrorString(a),v},GetCameraControlPropertySetting:function(v){return v=l.GetWebcamCameraControlSetting(v),e.setErrorString(a),a._innerWebcamSettingFunctionPlugin(v)},GetCameraControlPropertyMoreSetting:function(v){return v=l.GetWebcamCameraControlMoreSetting(v),e.setErrorString(a),a._innerWebcamMoreSettingFunctionPlugin(v)},SetCameraControlPropertySetting:function(v,T,C){return v=l.SetWebcamCameraControlPropertySetting(v,T,C),e.setErrorString(a),v},_isPlaying:function(){return!!a._playVideoDWT}}},a.Addon=a.Addon||{},e.mix(a.Addon,h)})});/*! 20241010103231
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: Upload
* Version: 18.5.1
* 
*/var Y=window.Dynamsoft||{};(function(e){e.DWT||(e.DWT={}),e.Lib||(e.Lib={})})(Y),Y.aryAddonReadyFun=Y.aryAddonReadyFun||[],Y.AddonReady=Y.AddonReady||function(e){Y.aryAddonReadyFun.push(e)},Y.AddonReady(function(e,t){Y.DWT.EnumTransferErrorCode={TRANS_OK:0,TRANS_URL_MALFFORMAT:1,TRANS_FAILED_RESOLVE_PROXY:2,TRANS_FAILED_RESOLVE_HOST:3,TRANS_FAILED_CONNECT:4,TRANS_REMOTE_ACCESS_DENIED:5,TRANS_PARTIAL_FILE:6,TRANS_UPLOAD_FAILED:7,TRANS_READ_FAILED:8,TRANS_OUT_OF_MEMORY:9,TRANS_REMOTE_FULL_DISK:10,TRANS_OPERATION_TIMEOUT:11,TRANS_SERVICE_ERROR_404:12,TRANS_SERVICE_ERROR_500:13,TRANS_SERVICE_ERROR_503:14,TRANS_SERVICE_ERROR:15,TRANS_NOT_SEND:16,TRANS_WAITFOR_SEND:17,TRANS_SENDING:18,TRANS_PAUSE:19,TRANS_FINISHED:20,TRANS_NULL_POINTER:21,TRANS_INVALID_ID:22,TRANS_Failed:23,TRANS_SERVICE_ERROR_MORE_THAN_500:24,TRANS_SERVICE_ERROR_LESS_THAN_200:25,TRANS_SERVICE_ERROR_MORE_THAN_300:26,TRANS_CANNOT_FINDFILE:27,TRANS_ABORT:28,TRANS_NOT_FINISHED:29,TRANS_TASK_PREPARE_INIT:30,TRANS_TASK_INIT:31,TRANS_BEYOND_MAXSIZE:32};var i=Y,a=e.guid(),l=5,h=(Y.dcp,[1,8,4,"0926"]),g="upload_"+h.join(""),v={Version:"1.0",HttpVersion:"1.1",ServerUrl:"",FileName:"",VERIFYPEER:!1,VERIFYHOST:!1,BlockSize:10240,ThreadNum:1,OnUploadTransferPercentage:function(X,ce){},OnRunSuccess:function(X){},OnRunFailure:function(X,ce,he){}},T=0,C="",E=function(){T=-2,C="Upload failed because the url to upload to is invalid."},A=function(X,ce,he){T=-3,X?C="Upload cancelled.":(C=ce&&ce!=""?"Upload failed with error: "+ce:"Upload failed.",ce&&ce!=""&&(C=C+"("+he+")"))},D=function(){T=-4,C="Upload failed because the file to upload has invalid content."},M=function(){T=-5,C="Invalid upload job id."},w=function(){T=-6,C="Cannot create an upload job."},O=function(){T=-7,C="The file name is incorrect in the upload job."},N=function(){T=-8,C="Can not cancel all jobs when at least one job is still being created."},k=function(){T=0,C=""};function R(){}function W(X){this.job=X}function K(X){this.job=X}R.prototype={runWaiting:0,CreateJob:function(){var X={HttpHeader:{},documents:[],formFields:[],bEvent:!1};return e.mix(X,v),X.SourceValue=new W(X),X.FormField=new K(X),X},Run:function(X){var ce,he=this,le='""',fe=X.ServerUrl,_e="";if(!e.isString(fe)||fe=="")return X.id=-1,E(),!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1),!1;if(!X.documents||!e.isArray(X.documents)||X.documents.length<=0)return X.id=-1,D(),!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1),!1;if(!X.ar||!X.cu){Y.Lib.License.isLicenseMixed(null,!0)||Y.Lib.License.reparseProductKey();var De=Y.DWT.licenseException;if(De.code!=0)return X.id=-1,T=De.code,C=De.message,!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1),!1;if(Y.Lib.License.isLTS())return Y.DWT.lglic(Y.DWT.EnumInstance.dwt_desktop,"").then(function(Re){X.ar=Re.ar,X.cu=Re.cu,he.Run(X)}),!0;e.product.refProductKey&&(le='"'+e.product.refProductKey+'"')}for(X.Url=fe,delete X.ServerUrl,ce=0;ce<X.documents;ce++){var xe=X.documents[ce];if(!e.isString(xe.files)||xe.files=="")return X.id=-1,O(),!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1),!1;e.isString(xe.remoteName)&&xe.remoteName!=""||(xe.remoteName="RemoteFile")}var De=X.SourceValue,Ne=(delete X.SourceValue,X.FormField),je=(delete X.FormField,e.stringify(X)),je=e.replaceAll(je,'"',"'");return X.ServerUrl=fe,delete X.Url,X.SourceValue=De,X.FormField=Ne,fe=['{"id":"',a,'","method":"RunUploadFile","version":"',g,'","parameter":[',le,',"',je,'"'],X.ar&&X.cu?(_e=[',"',X.ar,'","',X.cu,'",0]}'].join(""),delete X.ar,delete X.cu,fe.push(_e)):fe.push("]}"),De=fe.join(""),he.runWaiting++,Y.FileUploader._sendCmd("RunUploadFile",De,function(Ze){var Re;he.runWaiting--,Ze&&((Re=Ze.UploadId)&&0<Re?(X.id=Re,i.FileUploader.map[X.id]=X,i.FileUploader.ids.push(Ze.UploadId),X.OnUploadTransferPercentage&&X.OnUploadTransferPercentage(X,0)):(Re=Ze.errorcode,Ze=Ze.errorstring,Re&&Ze?(T=Re,C=Ze):w(),!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1)))},function(Ze,Re,Me){he.runWaiting--,i.FileUploader.parseHttpErrors(Ze,Re,Me),!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1)}),!0},Cancel:function(X){var ce;return!X.id||X.id<0?(M(),!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1),!1):(ce='{"id":"'+a+'","method":"DeleteUploadTask","version":"'+g+'","parameter":["'+X.id+'"]}',Y.FileUploader._sendCmd("DeleteUploadTask",ce,function(he){i.FileUploader.deleteJobById(X.id)},function(he,le,fe){i.FileUploader.parseHttpErrors(he,le,fe),!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1)}),!0)},CancelAllUpload:function(){var X=i.FileUploader.ids,ce='{"id":"'+a+'","method":"DeleteUploadTask","version":"'+g+'","parameter":["'+X.join(",")+'"]}';return 0<this.runWaiting?(N(),!1):(this.runWaiting<0&&(this.runWaiting=0),X.length<=0||Y.FileUploader._sendCmd("DeleteUploadTask",ce,function(he){for(var le=0;le<X.length;le++)i.FileUploader.deleteJobById(X[le]);i.FileUploader.ids=[],i.FileUploader.map=[]},function(he,le,fe){i.FileUploader.parseHttpErrors(he,le,fe)}),!0)},OnUploadTransferPercentage:function(X,ce){},OnRunSuccess:function(X){},OnRunFailure:function(X,ce,he){}},(i.SourceValue=W).prototype.Add=function(X,ce,he){var le=this.job;e.isString(X)&&X!=""?(he=he||"RemoteFile",X=Y.Lib.replaceAll(X,"\\\\","\\\\"),le.documents.push({files:[X],fileName:ce,remoteName:he})):(O(),!le.bEvent&&e.isFunction(le.OnRunFailure)&&(le.bEvent=!0,le.OnRunFailure(le,T,C),le.bEvent=!1))},i.FormField=K,i.FileUploader={ids:[],map:{},port:18625,protocol:"https://",ip:"127.0.0.1",wsUrl:"",running:!(K.prototype.Add=function(X,ce){var he,le,fe=ce,_e=X;if(fe==null&&(fe=""),!e.isString(_e)||_e==""||!e.isString(fe)||(fe=encodeURI(fe),-1<(_e=encodeURI(_e)).indexOf("'")||-1<fe.indexOf("'")))return!1;for(he=0;he<this.job.formFields.length;he++)if((le=this.job.formFields[he]).name==_e)return le.value=fe,!0;return this.job.formFields.push({name:_e,value:fe}),!0}),ws:null,nextLoopTime:600,deleteJobById:function(X){var ce;if(k(),X){for(ce=0;ce<i.FileUploader.ids.length;ce++)if(X==i.FileUploader.ids[ce]){i.FileUploader.ids.splice(ce,1);break}var he=i.FileUploader.map[X];for(he.SourceValue.job=null,delete he.SourceValue,he.FormField.job=null,delete he.FormField,delete i.FileUploader.map[X],ce=he.documents.length-1;0<=ce;ce--)he.documents.splice(ce,1);for(ce=he.formFields.length-1;0<=ce;ce--)he.formFields.splice(ce,1);var le='{"id":"'+a+'","method":"DeleteUploadTask","version":"'+g+'","parameter":["'+X+'"]}';Y.FileUploader._sendCmd("DeleteUploadTask",le)}},_sendCmdByWS:function(X,ce,he){var le=i.FileUploader.ws;return le&&le.readyState!=Y.DWT.EnumDWT_WebsocketReadyState.CLOSING&&le.readyState!=Y.DWT.EnumDWT_WebsocketReadyState.CLOSED||(le=Y.DWT.NetManager.newWebsocket(i.FileUploader.wsUrl),i.FileUploader.ws=le),Y.DWT.NetManager.postStringDataByWS(le,X).then(function(fe){fe=e.parse(fe),fe&&"result"in fe?e.isFunction(ce)&&ce(fe.result):e.isFunction(he)&&he()},he),!0},_sendCmd:function(X,ce,he,le){return Y.DWT.ConnectWithSocket?i.FileUploader._sendCmdByWS(ce,he,le):(X=[i.FileUploader.protocol,i.FileUploader.ip,":",i.FileUploader.port,"/dcp/",g,"/",X,"?type=1&dsver=",h.join(""),"&ts=",e.now()].join(""),e.ajax({url:X,method:"post",dataType:"json",processData:!1,data:ce,onSuccess:he,onError:le}))},parseHttpErrors:function(fe,ce,he){var le,fe=fe&&e.isArray(fe)&&2<fe.length?(le=fe[1],fe[2]):(le=ce,he);fe.state==2&&fe.status==0?fe.statusText==="abort"?A(!0):E():A(!1,le,fe.status)},loadHttpBlob:function(X,ce,he,le,fe,_e,xe){X={method:X,url:ce,dataType:"blob",async:he,onSuccess:le,onError:function(De,Ne,je){i.FileUploader.parseHttpErrors(De,Ne,je),e.isFunction(fe)&&fe()}},e.isFunction(_e)&&(X.beforeSend=function(De){De.addEventListener("progress",function(Ne){delete Ne.totalSize,delete Ne.position,_e(Ne)},!1)}),e.ajax(X)},_OnPercentDone:function(){},Init:function(X,ce,he){if(k(),!Y.Lib.detect.bOK)return--l<=0?(e.isFunction(he)&&he(),void(l=5)):void setTimeout(function(){Y.FileUploader.Init(X,ce,he)},300);function le(){var fe,_e=Y.navInfoSync.bSSL?(fe="https://",Y.dcp.SSLPort):(fe="http://",Y.dcp.Port);i.FileUploader.port=_e,i.FileUploader.protocol=fe,i.FileUploader.ip=Y.DWT.Host,i.FileUploader.wsUrl=Y.DWT.NetManager.getWsUrl(Y.DWT.Host,_e),i.FileUploader.running=!0,e.isFunction(ce)&&ce(new R),setTimeout(i.FileUploader.StatusLoop,500)}Y.dcp.detect.bConnected?le():Y.DWT.NetManager.checkModuleManager(le,function(){--l<=0?(e.isFunction(he)&&he(),l=5):setTimeout(function(){Y.FileUploader.Init(X,ce,he)},500)})},Close:function(){var X;Y.DWT.ConnectWithSocket&&(X=Y.FileUploader.ws)&&(X.readyState!=Y.DWT.EnumDWT_WebsocketReadyState.CLOSED&&X.readyState!=Y.DWT.EnumDWT_WebsocketReadyState.CLOSING&&X.close(),Y.FileUploader.ws=null),Y.FileUploader.running=!1},VersionInfo:function(X,ce){k();var he='{"id":"'+a+'","method":"VersionInfo","version":"'+g+'","parameter":[]}';return Y.FileUploader._sendCmd("VersionInfo",he,X,function(le,fe,_e){i.FileUploader.parseHttpErrors(le,fe,_e),e.isFunction(ce)&&ce(T,C)}),!0},StatusLoop:function(){return k(),i.FileUploader.GetUploadStatus(),i.FileUploader.running&&setTimeout(i.FileUploader.StatusLoop,i.FileUploader.nextLoopTime),!0},GetUploadStatus:function(){var X;return k(),i.FileUploader.ids.length<=0||(X='{"id":"'+a+'","method":"GetUploadStatus","version":"'+g+'","parameter":["'+i.FileUploader.ids.join(",")+'"]}',Y.FileUploader._sendCmd("GetUploadStatus",X,function(ce){if(e.isArray(ce))for(var he=0;he<ce.length;he++){var le=(Ne=ce[he]).id,fe=i.FileUploader.map[le],_e=Ne.percentage,xe=Ne.errorcode,De=Ne.response,Ne=Ne.errorstring;fe&&(xe==Y.DWT.EnumTransferErrorCode.TRANS_FINISHED?(fe.OnUploadTransferPercentage(fe,100,ee(De)),!fe.bEvent&&e.isFunction(fe.OnRunSuccess)&&(fe.bEvent=!0,fe.OnRunSuccess(fe,ee(De)),fe.bEvent=!1),i.FileUploader.deleteJobById(le)):xe==Y.DWT.EnumTransferErrorCode.TRANS_OK||xe==Y.DWT.EnumTransferErrorCode.TRANS_NOT_SEND||xe==Y.DWT.EnumTransferErrorCode.TRANS_WAITFOR_SEND||xe==Y.DWT.EnumTransferErrorCode.TRANS_SENDING||xe==Y.DWT.EnumTransferErrorCode.TRANS_PAUSE||xe==Y.DWT.EnumTransferErrorCode.TRANS_TASK_PREPARE_INIT||xe==Y.DWT.EnumTransferErrorCode.TRANS_TASK_INIT?fe.OnUploadTransferPercentage(fe,_e,ee(De)):(!fe.bEvent&&e.isFunction(fe.OnRunFailure)&&(fe.bEvent=!0,fe.OnRunFailure(fe,xe,Ne,ee(De)),fe.bEvent=!1),i.FileUploader.deleteJobById(le)))}},function(ce,he,le){})),!0}};var de=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function ee(X){for(var ce,he,le,fe,_e=X.length,xe=0,De="";xe<_e;){for(;ce=de[255&X.charCodeAt(xe++)],xe<_e&&ce==-1;);if(ce==-1)break;for(;he=de[255&X.charCodeAt(xe++)],xe<_e&&he==-1;);if(he==-1)break;De+=String.fromCharCode(ce<<2|(48&he)>>4);do if((le=255&X.charCodeAt(xe++))==61)return De;while(le=de[le],xe<_e&&le==-1);if(le==-1)break;De+=String.fromCharCode((15&he)<<4|(60&le)>>2);do if((fe=255&X.charCodeAt(xe++))==61)return De;while(fe=de[fe],xe<_e&&fe==-1);if(fe==-1)break;De+=String.fromCharCode((3&le)<<6|fe)}return De}});/*! 20240828181423453
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
* Version: 18.5.1
*/(function(){var e=620;Y.navInfoSync.bMobile&&screen.width<620&&(e=screen.width-10),Y.OnWebTwainNotFoundOnWindowsCallback=function(i,a,l,h,g,v,T){var C=Y,E={default:a};C._show_install_dialog(i,E,l,Y.DWT.EnumDWT_PlatformType.enumWindow,h,g,v,T,!1)},Y.OnWebTwainNotFoundOnLinuxCallback=function(i,a,l,h,g,v,T,C,E){var A=Y,D={default:a,deb:a,rpm:l};E||(E=Y.DWT.EnumDWT_PlatformType.enumLinux),A._show_install_dialog(i,D,h,E,g,v,T,C,!1)},Y.OnWebTwainNotFoundOnMacCallback=function(i,a,l,h,g,v,T){var C=Y,E={default:a};C._show_install_dialog(i,E,l,Y.DWT.EnumDWT_PlatformType.enumMac,h,g,v,T,!1)},Y.OnWebTwainNotFoundOnAndroidCallback=function(i,a,l,h){var g={default:"https://demo.dynamsoft.com/DWT/Resources/dist/DynamsoftServiceSetup.apk"},v=Math.random(),T=Y.DWT.ServiceInstallerLocation;if(Y.Lib.isString(T)&&T.length>0){var C="";T[T.length-1]!="/"&&(C="/"),g.default=[T,C,"DynamsoftServiceSetup.apk"].join("")}g.openService="intent://dynamsoft.com/#Intent;scheme=http;package=com.dynamsoft.mobilescan;S.timestamp="+v+";end",Y.DWT.Host="local.dynamsoft.com",Y._show_android_install_dialog(g,h)},Y.OnMobileNotSupportCallback=function(){var i=[];Y.DWT?(i.push('<div class="ds-dwt-ui-dlg-android" style="padding-bottom:30px">'),i.push("Service Mode does not support your Operating System, please contact the site administrator."),i.push("</div>"),Y.DWT.ShowMessage(i.join(""),{width:335,headerStyle:1,backgroundStyle:1})):console.log("The Dynamsoft namespace is missing")},Y.OnHTTPCorsError=function(i){var a=["<div>",i,"</div>",'<div style="margin-top:10px">To fix the issue, please update your website to HTTPS or refer to <br /><a target="_blank" href="https://www.dynamsoft.com/web-twain/docs/faq/http-insecure-websites-in-chromium-browser.html?ver=latest">this article</a> for other workarounds.</div>'].join("");Y.DWT.ShowMessage(a,{width:e,headerStyle:2})},Y._show_install_dialog=function(i,a,l,h,g,v,T,C,E){var A=Y,D,M,w,O=Y.DWT.EnumDWT_PlatformType,N=h==O.enumLinux||h==O.enumEmbed||h==O.enumChromeOS||h==O.enumHarmonyOS,k={icn_download:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAABqxJREFUaEPlm01y2zYUxwHJe6cniHMCU7K7tnoCK8uuYp+gzglsn8DOCapuuo1ygsjr2hKz6jLKtpvY61pA/g8ARZDiBwiCnMyYM5omKQnih/fw8L7I2Qu7eNe8o9GvJ/QOKUU0GPBX+s9swrl8ZIzH9Hch5JrzwVrK/59iXF3OKThwFEUHjA1PBgM21WAa0vWSkuDZQgg+Z+z5DvxYmHBXMOAoOnoHuAtMNrKnB4AvkOQjJArJcTV5IdgCcn4Fiat7cQ8WieMnDzDG6yyenAP+Qxzf45n2V2tggE4BeYOJYsL6AsAn/CAhsYCE1k2mCQ2B6g8mUvIzjHmYjskWUj6/b6vy3sBRdAx1ZZf4TQzkN0BexfFy1gSw6l6wQwv2LrCE+PF9s5wzITbXTRcyeY8X8Hh8fIMBMAmF+gSjcxESNL8IKTi7NIv7iMWFtJsvbiNg/eLhn1jtqZnUtRDPt6ENS5nUySByPryFqp+ae66Wy/vrJhrlDKxftvdRGyWSKp+GMiRNJkz3jsdjaNeAtIw0jFSc9raTNXcCJkOClf1MRwxZXSk3Z22NR1PIXTU/muLog73g+zj+Yhi031yga4GNGq00LLvDwJCs22q2hap73ghiTkcZQa9W96O6ZyqBac9CjSFZFhEsBlQW+We6jF1ZaysuZ8vlw3nV/CqBx+Ojj2SgjBpPfhbJFlhxnN3DhYYW75fL5W0ZdCkwYPEQ/0MbqA3BdurjttWaKBqfwWHBCaJ887dx/ADHZ/cqBCanAgbhs36YwRiEcevaQtU9D//gCvdcQiNxTm/eFGlkIfBodEz7lvbrNc45GiToNRodxRQgYL8Z5yXc8Jj7AmNThFY49x1g8o3h1GPvKlU+6GLfQhKSELGYtadE06VItNNIeZR3QXdeiNX/SoGAEOLcx3VzmWCXwPR+MMzA8A7Qf61WD2f2nDLAycbHjd9w44HL5H3u6RqYfAcEHV+1DXqmvbxO5pkBhv7DwWBRl9KlF3cNbEsZW/ODbSu2wPaqdLG3bE3oAzjdy1kPzALW5xgF71DnJBry0djaZ/oA1pp0RHmzfVutt8DY6OSTnnatzn2pdFatU+/LBv5OAUJ+k9eKy+OGviRsGeGt1ipg6+z6AnXOJOE8eGof6Q9YpYi+22d+DrifiKgv4KLto4DTDELWhNeKyvOGPoG1G8sPsVXJ64oNsHa68evEd86vS7/A2rdOgqCXCZxEGH2Fgn1KOAkZE+1VEk7P4PLA2XO7Fj7WL3CSyNBn8ctU6bzYfaSpffHhjSmDVKaDXCWsHQd+UpeYq5pvfruac3jrR+/Ej67wydFmAm/KEZdCuwBnc1T6SHGdi31fGt/rMDGo42EF3pRTKoWuA87CtktE5N9lgKlEubeiYjRcyzc+K5k84wJdBRwSNg155RO2hSrM28EDKu/8deKRdAldBhwS1vYg7VSPDazyQHWJbNeFqJJ0EXBo2Oxxm24LKwGgs5WuNRoX8DLoPHAXsKamrCIlaO0vSfbVTvFsQyn7Bhew6mNhm0HcGjIbuAtYmk+SbqYykR3y5pJ4OusROojIS5oMpF55cZ6WR9pZ4/yip8WEbK0pl6bVJZaqUoWvxG1ojKEtJsKYBDxkDjwtFe0WEwoS8dWlCl9gY0SUYYRkGSTbCax+T3mpqKDUos9ks9kzSew2sNY5/Tegf+9Csnrvbr1GdBVtonypqKSYpg0NkthzHNhvQ4DaY4xG4/+wbf6N45VqSwx16QL+kLoVSktFhcAmEKDOudoCc6jJhhjHLuCXJSNLq3euBeYQEw0xhmsBvxSYJpErMFdGQCEm7TtGVjjVBfxKYNuyNmkN8p24z3N2S5VL1aQW2BgCZP74oUus6zNp32dsyRbVgovGrQXWpl5ZPwvar8/RF6zoObvf0xWWxnECts5Qc1ypf2nc5xgCON/v6aLG9nsbAWtDlvY5Yl+jh5mhlbefLh/dhM6udG+2X79nY2Ct4mmfo1491eDp3cNcJ/mC3mzvfk8v4GRfFzVvSzmYrVb/3NVB1P1/Ul3G9k4gUfqsYKKWFb0nbZvQvYGTCZvmU1IzuKJG3mgMwyTxrQJ927D55Nr6ZD4QOUVcAcBtTzahPuHvtyF6s1sD2+DIS19gT+MbiPyHGurTHUqzqp5makrDf6g719Si1ccd2JfZi4J3fByC7SJmrotWpznBgO0XaV98gKZUTp/xJN3rdXNRksQizAGKBRHzUJD2izsBLiIjjwh7UgX+WmXFoxADk1x/Xvt+tOGwiplbegNuOrGu7v8BEbL8eSr8LDEAAAAASUVORK5CYII=",icn_install:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAAB51JREFUaEPtW91V20gU1sje5yQVhK0AY3iPUwGkgiUVhFQQqCBQQZwKAhXEvIPtrSDeCgLPizX7ffPjGY1lz0iWDQ+rc3zg6Gd0v/s/916JbItHr3d0nOdZj6+QMhuYV70WYnFuinMPPI9zI/4timw6nd7dbIss0ebCvV5vL8s67wDyBBDw2+SQ1wB/nWXzW3BgtslK/rOtAIYkB5DQF/ysFNU7pJR/CyFAtJKckmCWPT0AACWbgUGQfvc1/weT1LN45gTP7PtEQjtG+F1A8maN5vA3ArwMVD5q4iRAFtfApdS17gE+gAk5geNHRohXmhlc++mzZVjddXl/I8BU3TzvfMHjp/ql8hH/X47Hd+dNiIg90+8fYV15ZoHj/2FRzCHx+qpeG3Cvd0iufwP3IQUNtCieLptKMwbWXqfU87wL0BkYrVT/ARL/OJ3eK5NJPWoBBthPeS4uzQtvpJyfNeFyKnFV91G7hOhcguHHvF4UEjTcX6WumQy43z/85lS4+DwejxXw5zr6/T6knX81JjUcj+8/ptASBUxVEqL7U8dO+Qhve1pXjVIIaXIPzQvefUjbhnpP4dDex0xrLWAfLGzmH6jwySYesgmo2DMMbVDxa6j4W4KeTO4O1j2zFrBVYwO2F+NejLhtXdeC6UwJmh58nXqvBOxshGo8H7w0yYbMo6QRKkc6dK32MZWAtW2IH8YLfngpNhvTkBS6lwAbtz/RcXb33thmb1BN2CZpsBmWHILx32OgrWbqOD0/CMPmEuCDg8MhXvQXHriZTO433ADEyHPXdWLRYehb+U7E3CRtAwY6sWNg+A4Mpz4VJcDkLtz8Tx1+5nRSs3SSm98Zhj68/7woCmZQDzYkciMCidGXRPNznfp2f2mTfKKU1WaFRwnwwcER4+0A5y+2lRdXscXTKoJi6JsFIXEBlnaKNd7Gsiudf2dfuOFAqHq/BDiQ7l4KJ5vLtKTKldIA8+FHsp4v2V6vf5rnOdR+WXIhLcZEoKHiFZIlJCR6a7mQ8HNJ10mibG84Lw2wN2S+D5bnq+wzBF0lZQXY6bx8RNBWnnFXh1XnMCJYwDAt4YM1RYV9qOotVJXmt/ZA8gSbp5Sf/qSpGMBaVXbtmUmpBQwnha3eeGipt4B9NJSqlGJIx5qSRpr1lce26yvA1o2HL41xr43rVu2wVslRwsRGsOF37h3yCtp3ZpMLShohBxua9YfVDitMBTi0l9gibV03iT8iQ3qSAxVFBshYnZYUmcLBb9JM84B96DQylWPbAJvigPheZ8sqT0iOJNBgbiz2mbiIVSrVFrCqdXzJpoIFnSztnHO9uqbnY/QAp6nIpoyIgXUpJt8kkCFJxOKMefVeE7DGZMkoMuxCWOfgB+dNQa16PgWsq66EqzTfptqkiqFsZ4DrgNXZlbxEqNyD+s6gxKNN8voA8OEvqosNzNuQbn2waZuEVFp1caA7YeymDasUji47dYE69z03WEurxblVwC8FrHFcSrCw4cMZi19tq/RLAutUGs29Nrw0Nx+mTToAE7H5EKgRyzNmUFVxdtVet46p1Lm3VS8N22D1nz2fpeMlgCVRJcDITdEyEZ9Sc1OLKqxBMTkXQo6KQsx0r1c8hFWTXUvWc1gu8WiaWrokPi0heC6wxmE5wG7zEG9TOOnaunVase85wZJmWy5SmwffZcNTq3JKzCHY/XOqGXhl0+TKY4yG1OtL20PNAV3HTd2F+PtnFdsW3UVNRlgpdJEgra6cCiblvsoCQHgytpAPeFWy72duTf1EjI6U66EwS0U8tidQNnkTW8gCVrlpUEqtSlWbRoIYHSnXAfg384FSEc8Ytq0hRYvwzob1aJLtCPjVRV/CuN9sUFx9OIXYTe/xyrSLCudiw+CCs2pCsaS50nl5JlAJFmxQBTftEPVoAnvM0J69TUGkPq8jQ4eMhnQrCvF1pUwgcHLo6JWL5H52Ve4U7NZhVUlXOVifY16SXdlqrOKua9Eo78w5iw+YrtuHbSOX1tN1qd4/VXqx+5KbaVrKul0K8q+hliB+/VGepgnvZWLCsSJXYI+t18Z1mwVG26V8meZOB8Wz9aMDZc3grKU8xTOYoWLRTcB7FxgO1SrfBojUNYJRjaWW7/8jD5aTwegA558WTeVUbu/yvtQuxto6lteonpl5iZ2qZyrDTAjiXMperLAfLdzZNgUWImjMWLwsSRvJ/jBgow22KGDDPWRhAj3ZZhOsqZKqe58/2Zs6AxIFbIlw4ar+BGtdICn3B5O9S9M6q9ZIBswFgglWhJ05p9NnKQS2dY8Jm6ij2fGmej2xWoB1nHYTrAYERoyerrYdb81GHrU33UFsOtlbG7BNTpCYn+uMTE+n439+AnDRliT9ddgqtWVf8z6MPszPm2hXI8CWGO0hu5hO16MJGniGyqX6/OamqdQpTdS5+c3TCb938kYQb5GrI1VtHik2AuyAq894IHF/JkNvJnBOfZOAdHOk//77aAnWDPtDfbGClHSgr2f8pqI0u8E2J36Q6DN/xhOqr+5A5JQIP8FR3yQ0PVjnxg/M2qxVGr6/FQmvAmVKwEpa7lM8iY25/hCLsZMFey1h+ymehALU+1KlDlP/Axl/TQ2HYDZNAAAAAElFTkSuQmCC",icn_scan:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAACBBJREFUaEPNW7tuG0cU3VkynQHbVdJF/gJTtLsEsIw06SQB7i0XqW1/gekuqSL3AUx/gaUvMAUknUXRboRUpj8gsNQEBkLu5Jx57ItLzswO9ViAEMXdmbln7p37XpFc4NXr3d9O06THJaRMtsxSt4TIf5vgtzP+jt9G/JtlyWQyeX94UWSJdU7c6/U2kqTzACB3AAGfmEseAPxBksyPsAPTmJnKY9cCGJzcAode4GO5qNaQUn4QQoBoxTnFwSSZnQEAOZtgg8D97i1+xyapsRizgzF3y0RCOkb4vATnzRzt4UcBXgQqzzVxEiCzA+BS4hp6YR+wCSmB48ONEDf1ZnDu2XO7YaHz8vlWgCm6adp5geF7elF5ju/74/H7QRsiXGP6/fuYVz6zwPF9mGVzcDxc1IMB93r3uOuvsfvgggaaZbP9ttx0gbX3yfU07QJ0go1Won8Gjj+ZTI7VkfG9ggAD7NM0FftmwUMp58/a7LIvcU3PUbqE6Oxjw7d5P8skaDh+5TunN+B+/97rQoSz5+PxWAG/qqvf74Pb6e/mSA3H4+MnPrQ4AVOUhOi+07ZTnkPb7oWKkQ8hbZ7h8YJ2H/JsQ7wnUGgPXUdrJeAyWJyZzxDhnRgN2QaUawxNG0T8ACL+PUGfnLzfXDVmJWArxgZsz7V7LuIu6r5mTGdC0NTgq8R7KeDijFCM51vXjbP1zSOnYSpH2nQt1zGNgPXZEG+NFty9LmfWJSE+dC8ANmr/RNvZMG1sRItjN1zE2fs4LvmjUIzwn+ewre08NE5kJVPb6flm3WwuAN7cvDcEwY8x4PDk5DgoAKCrCa35zhds03O+2nbVGsBAJbYNDG+AYa/8bAVwQbA6t1RS0xDi7XgQfQRtueUzVruNyQsQ9xv+/szAIRa0dn27n/SRnJHLKljhVQG8uXmf9paEvmzjF8cA5pp0UaFtR+sAXWxkMsLmP1wAXOPuRptzFAuYm2z0QA7aZVeXSZH2vTuQUHETzhIcEh1a5hyO5S4niwMsh1KmQ84jZXYDkvYHvn4npciJ9Tki5WeauKwAFzIvz2G0VUDe5tK2sHsSdobLPvHiqrPZ7JePHycE3+qC84SYnFye3aFOMoD7e2mavm6jmetUYAGEi8nI13YbMzgAURvVuSQ3/sbXr//+dHp6+rkVWgyyGjvLMpi78VABrv/oM7nOSnSZv1JJusu6mORDmuiDrwXp9arMVIAh68r6g+23fZRVNQlwWVCLdbRTIZHqGQ9dq5vEwRc+B6UohHXHmHCDkfbiFiTiE70pBhX0jiCOrXJXLmIX78tb0A/MdSEyUp4Uz6VzbdDLwOIukgW7wmoyTO5le61iYmxMBWcU3mMjIW98RS0cbDECAKYEXTY3q+YrYywB9vOby6YHATd2u0NuK80esusxgKkYIVVPfX39CmDYXxj55IHvblUBZ0Ot3ZMjwEWuyX/X4wBrd9RfKrWPTzpFHGC5zzCSnCUAcrruu8YAWzY2/BhWAGsFZA2zi8C6N2WjKz1OvsK5Zir1Qq9wwLlDNOEZViaJKtuHyib3UdeUElbBpj5zxD4TCpjrWZxrARwLIHR8FOBCxWtf07W4K0AwGQdVC4q9YDdReFtMsocCLnx8FPdilFY9yC9sdCzUYnyT9QgHvCYtvQjYTkwPTAxjYEPz7y0zc1GAQ414IdJyClf0ThmUS9xDNmCV5OEeEoVJz9d3WOJp+bmWWuPpGFOXLQUTZsoOI3BHPMxqovwLZ+9HXRX4Jug8S/nfOXNQ8PH/xFw/sFgmRKpyUuA6shgSiUVdpvU1pRXARfDgLlNYDpUmqDCNGVfsPAn7B5mKR20zmIxdUSj7FeO/tXMuSoe/zS8kAsFD2Ub5hocco8VX7gBYHmFpDqio5G/0ZiAD2aHPG5hBUVEQuKrqRZyLbRN5RCSEnAQmGFhXLsJDEt8mAdB0Hi/rDIfogsYEQP3HkAmvQmmF0NeY4rFJPAYB0Ly3QyZcBhihI8USee4wkdYhptiFLhiERHHLaAbgLyaoKZJ4Wqx1mIivXokAl0gTcFHNC9lCVj1U90404FKaNq+E5AFDyb56p07qMK7TGTYJfZWcaEzEr4PL1wlwE3eJsVZMs3Fjc6nRJZjXBbB3Mc2YKFUuhftwgGB+1wWyqrR01Q6KZwrHYS9k7OKzGelgYqJS/fOZE54givkCPoKjXKodCtVlB1dudevACq2oUqI+hLmeYRoYVmPD9Vz5fq1VY6Hku/aWB71hKXY3DSqm10EJkaEbQPVrQlr8rlYtD3bqWusA+5/yorLf8pf7lGlfMnY/sKnFklpqf5iafglnlv9yYerVyr0lTee2TJMzcWfLFFREAI2OnuvFacPZt6b04ywXOQFXK/LtOlgviuvloh5rY2AI+8lWSqETcF28+X9oB+tFAK519i506yxb0xswJ6h1sLKnit3p3lp0HcCN2UQXrX2nwq8mZtcOAqwVRNHBaiYZwDl45RKlWLCmzosCWjLQc7Xr7A0GbLQim7QRzdAj01VDfOcrAC9jgTWNh1/MPi6Em3mV8g3O66CNdLUCbInSGrKL3ioVVhrgyci8fnPYluu6naLDd57gwCR4Y8YCTY4YdsZYiijABXD1Go+KX8scYked7hDgZoiR/quzkkZS8qwmclVb+j4r/NW+EZY58QFHr/g1nrr46aJaSo6wLUG9k9D2YkcRPtisDB1B61OMa+HwMlDGt1VZzeJVPIlmbh1c0Hba/pDiVTwJfGFvqoRs6v/IOTkNXX2kbQAAAABJRU5ErkJggg=="};if(E?M="Please update your document scanning service":M="Please download and install the Dynamic Web TWAIN service",D=['<div class="dynamsoft-dwt-dlg-title">',M,'</div><div class="dynamsoft-dwt-dlg-title-error" style="display:none"></div>'],A.DWT){var R=Y.navInfoSync.bFirefox;N||R?w="RESTART":w="REFRESH",D.push('<div class="dynamsoft-dwt-installdlg-iconholder"> ');var W="134px";D.push('<div class="dynamsoft-dwt-installdlg-splitline" style="left: '+W+'"></div>'),D.push('<div class="dynamsoft-dwt-installdlg-splitline" style="left: 328px"></div>');var K="133px";if(D.push('<img style="margin: 0px '+K+' 0px 0px" src="'+k.icn_download+'" alt="download" />'),D.push('<img style="margin: 2px '+K+' 2px 0px" src="'+k.icn_install+'" alt="install" />'),D.push('<img src="'+k.icn_scan+'" alt="scan" />'),D.push('<div><span class="dynamsoft-dwt-installdlg-text" style="right: 160px">Download</span>'),D.push('<span class="dynamsoft-dwt-installdlg-text" style="right: 18px">Install</span>'),D.push('<span class="dynamsoft-dwt-installdlg-text" style="left: 140px">Scan</span>'),D.push("</div>"),D.push("</div>"),l&&N){D.push('<div style="margin:10px 0 0 60px;">'),D.push('<div id="dwt-install-url-div">');var de=Y.navInfo.bArm64,ee=Y.navInfo.bMips64,X=Y.navInfoSync.bChromeOS,ce=Y.navInfoSync.bHarmonyOS;de||ee||X||ce||(D.push(`<div><input id="dwt-install-url-deb" name="dwt-install-url" type="radio" onclick="Dynamsoft._dwt_change_install_url('`+a.deb+`')" checked="checked" /><label for="dwt-install-url-deb">64 bit .deb (For Ubuntu/Debian)</label></div>`),D.push(`<div><input id="dwt-install-url-rpm" name="dwt-install-url" type="radio" onclick="Dynamsoft._dwt_change_install_url('`+a.rpm+`')" /><label for="dwt-install-url-rpm">64 bit .rpm (For Fedora)</label></div>`)),D.push("</div></div>")}D.push('<div><a id="dwt-btn-install" target="_blank" href="'),D.push(a.default),D.push('"'),l?D.push(' html5="1"'):D.push(' html5="0"'),D.push(' onclick="Dynamsoft._dcp_dwt_onclickDownloadButton()"><div class="dynamsoft-dwt-dlg-button">Download</div></a></div>'),l?g?(D.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left; padding-left: 80px">'),D.push("If you still see the dialog after installing the Dynamsoft Service, please<br />"),D.push("1. Add the website to the zone of trusted sites.<br />"),D.push("IE | Tools | Internet Options | Security | Trusted Sites.<br />"),D.push("2. Refresh your browser."),D.push("</div>")):N?(D.push('<div class="dynamsoft-dwt-dlg-tail">'),D.push('<div class="dynamsoft-dwt-dlg-red">After the installation, please <strong>'+w+"</strong>  your browser.</div>"),D.push("</div>")):D.push("<div><br /></div>"):(D.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left; padding-left: 80px">'),D.push("After the installation, please<br />"),D.push("1. Restart the browser<br />"),D.push('2. Allow "DynamicWebTWAIN" add-on to run by right clicking on the Information Bar in the browser.'),D.push("</div>")),A.DWT.ShowMessage(D.join(""),{width:e,headerStyle:1})}else console.log("The Dynamsoft namespace is missing");Y.DWT&&Y.DWT.OnWebTwainNotFound&&Y.DWT.OnWebTwainNotFound()},Y._dwt_change_install_url=function(i){var a=document.getElementById("dwt-btn-install");a&&(a.href=i)};var t=0;Y._dcp_dwt_onclickDownloadButton=function(){var i=document.getElementById("dwt-install-url-div");i&&(i.style.display="none");var a=document.getElementById("dwt-btn-install");if(a)if(a.getAttribute("html5")=="1"){var l=a.parentNode,h=document.createElement("div");h.id="dwt-btn-install",h.style.textAlign="center",h.style.paddingBottom="15px",h.style.fontSize="14px",h.innerHTML='Please proceed with the installation. Once done, <a href="javascript:void(0)" onclick="Dynamsoft._dcp_dwt_onclickInstallButton()">click here to verify completion.</a>',h.setAttribute("html5","1"),l.removeChild(a),l.appendChild(h)}else{var l=a.parentNode;l.removeChild(a)}return!0},Y._dcp_dwt_onclickInstallButton=function(){var i=document.getElementById("dwt-install-url-div");i&&(i.style.display="none");var a=Y.Lib.one(".dynamsoft-dwt-dlg-title");a&&a.style("display","");var l=Y.Lib.one(".dynamsoft-dwt-dlg-title-error");l&&l.style("display","none");var h=document.getElementById("dwt-btn-install");return h&&setTimeout(function(){if(h.getAttribute("html5")=="1"){var g=h.parentNode,v=document.createElement("div");v.id="dwt-btn-install",v.style.textAlign="center",v.style.paddingBottom="15px",v.style.fontSize="14px",v.innerHTML="Connecting to the service...",v.setAttribute("html5","1"),g.removeChild(h),g.appendChild(v),t=new Date,setTimeout(Y._dwt_Reconnect,10)}else{var g=h.parentNode;g.removeChild(h)}},10),!0},Y._dwt_Reconnect=function(){var i=Y;if((new Date-t)/1e3>10){var a=document.getElementById("dwt-btn-install");a&&(a.innerHTML='Please make sure your installation is successful. <a href="javascript:void(0)" onclick="Dynamsoft._dcp_dwt_onclickInstallButton()">Click here to try reconnecting</a>.');var l=Y.Lib.one(".dynamsoft-dwt-dlg-title");l&&l.style("display","none");var h=Y.Lib.one(".dynamsoft-dwt-dlg-title-error");h&&(h.html("Failed to connect to the service!"),h.style("display",""));return}if(i.DWT){var g=500;navigator.userAgent.indexOf("Safari")>-1&&(g=2e3),i.DWT.CheckConnectToTheService(function(){Y.DWT.CloseDialog(),Y.DWT.ConnectToTheService()},function(){if(Y.DWT.NeedCheckWebTwainBySocket()){Y.DWT.CheckWebTwainBySocket(function(){Y.OnHTTPCorsError()},function(){setTimeout(Y._dwt_Reconnect,g)},function(){setTimeout(Y._dwt_Reconnect,g)});return}setTimeout(Y._dwt_Reconnect,g)})}else console.log("The Dynamsoft namespace is missing")},Y._show_android_install_dialog=function(i,a){var l;if(Y.DWT.bNpm&&Y.navInfoSync.bFileSystem)return Y._show_online_download_dialog(i,bHTML5,iPlatform);l=[],Y.DWT?(l.push('<div class="ds-dwt-ui-dlg-android">'),l.push("<div>Please download and "),a?l.push("update"):l.push("install"),l.push(" the <strong>DYNAMSOFT SERVICE</strong> app via the </div>"),l.push('<div><a target="_blank" href="'),l.push(i.default),l.push('" onclick="Dynamsoft._dwt_ReconnectForAndroid()">direct APK download link</a>.</div>'),l.push("</div>"),l.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left">'),l.push("If you have "),a?l.push("updated"):l.push("installed"),l.push(" it, please click on the button below to initiate the connection."),l.push('<a target="_blank" href="'),l.push(i.openService),l.push('" onclick="Dynamsoft._dwt_ReconnectForAndroid()"><div class="dynamsoft-dwt-dlg-button-android">Open Service</div></a>'),l.push("</div>"),l.push("</div>"),Y.DWT.ShowMessage(l.join(""),{width:335,headerStyle:1,backgroundStyle:1})):console.log("The Dynamsoft namespace is missing"),Y.DWT&&Y.DWT.OnWebTwainNotFound&&Y.DWT.OnWebTwainNotFound()},Y._dwt_ReconnectForAndroid=function(){Y.DWT.CheckConnectToTheService(function(i){i?(Y.DWT.CloseDialog(),Y.DWT.ConnectToTheService()):setTimeout(Y._dwt_ReconnectForAndroid,500)},function(){setTimeout(Y._dwt_ReconnectForAndroid,500)})},Y.OnWebTwainNeedUpgradeCallback=function(i,a,l,h,g,v,T,C){Y._show_install_dialog(i,a,l,h,g,v,T,C,!0,!0)},Y.OnWebTwainNeedUpgradeOnAndroidCallback=function(i,a,l){Y.OnWebTwainNotFoundOnAndroidCallback(i,a,l,!0)},Y.OnLTSLicenseError=function(i,a){var l="",h;if(a==-2440||a==-2441||a==-2443||a==-2446||i.indexOf("Internet connection")>-1||i.indexOf("Storage")>-1){var g="https://www.dynamsoft.com/customer/license/trialLicense?product=dwt&deploymenttype=js";l='<div>You can register for a free 30-day trial <a href="'+g+'" target="_blank" class="dynamsoft-major-color">here</a>. Make sure to select the product Dynamic Web TWAIN.</div>'}h=[i,l],Y.DWT.ShowMessage(h.join(""),{width:e,headerStyle:2})},Y.OnLTSConnectionWarning=function(){var i=["Warning: You are seeing this dialog because Dynamic Web TWAIN has failed to connect to the License Tracking Server. ","A cached authorization is being used, and you can continue to use the software as usual. ","Please get connected to the network as soon as possible. ",Y.DWT.isPublicLicense()?'<a class="dynamsoft-major-color" href="https://www.dynamsoft.com/company/contact/">Contact Dynamsoft</a> ':"Contact the site administrator ","for more information."].join("");Y.DWT.ShowMessage(i,{width:e,caption:"Warning",headerStyle:2})},Y.OnLTSPublicLicenseWarning=function(i){Y.DWT.ShowMessage(i,{width:e,caption:"Warning",headerStyle:2})},Y.OnLicenseExpiredWarning=function(i,a,l){var h,g,v='<a target="_blank" href="https://www.dynamsoft.com/store/dynamic-web-twain/#DynamicWebTWAIN">online store</a>',T="https://www.dynamsoft.com/customer/license/trialLicense?product=dwt&utm_source=in-product";if(!(a>5||!l)){if(a>0){var C;a<=1?C="1 day":C=parseInt(a)+" days",g="Warning",h=['<div style="padding:0 0 10px 0">Kindly note your trial key is expiring in ',C,". Two quick steps to extend your trial:</div>",'<div style="margin:0 0 0 10px">1. <a target="_blank" href="',T,'">Request a new trial key</a> and follow the instructions to set the new key</div>','<div style="margin:0 0 0 10px">2. Refresh your scan page and try again</div>','<div style="padding:0">If you are ready to purchase a full license, please go to the ',v,".</div>"].join("")}else h=['<div style="padding:0">Sorry. Your product key has expired on ',i,". You can purchase a full license at the ",v,".</div>",'<div style="padding:0">Or, you can try requesting a new product key at <a target="_blank" href="',T,'">this page</a>.</div>'].join("");h&&Y.DWT.ShowMessage(h,{width:e,caption:g,headerStyle:2})}},Y.OnLicenseError=Y.OnLicenseError||function(i,a){Y.DWT.ShowMessage(Y.ProcessLicenseErrorContent(i),{width:e,headerStyle:2})},Y.OnCorsConfigError=function(i){var a=[i," Please contact the Administrator to configure 'Access-Control-Allow-Origin'."].join("");Y.DWT.ShowMessage(a,{width:e,headerStyle:2})},Y.ProcessLicenseErrorContent=function(i){var a=[],l=i;if(typeof l!="string"){if(l===void 0)return"";l instanceof Error||"message"in l?l=l.message:l=""+l}var h=l.indexOf("["),g=l.indexOf("]",h),v=l.indexOf("(",g),T=l.indexOf(")",v);if(h==-1||g==-1||v==-1||T==-1)return l;h>0&&a.push(l.substring(0,h));var C=l.substring(h+1,g),E=l.substring(v+1,T);return a.push(['<a href="',E,'" target="_blank" class="dynamsoft-major-color">',C,"</a>"].join("")),a.push(l.substring(T+1)),a.join("")},Y._show_online_download_dialog=function(i,a,l){var h,g=Y.DWT.JSVersion.split(","),v=g[0]+"."+g[1],T=location.pathname,C,E,A;T=T.substring(0,T.lastIndexOf("/")+1),l==Y.DWT.EnumDWT_PlatformType.enumLinux&&(arm64||mips64)&&(arm64?i.default=getDebPath("arm64"):mips64&&(i.default=getDebPath("mips64el"))),A=i.default.substr(i.default.length-3),C=["https://www.dynamsoft.com/web-twain/install-dynamsoft-service/?productId=1000001","&downloadLink=https://demo.dynamsoft.com/DWT/Resources/dist/DynamsoftServiceSetup_",v,".",A].join(""),E=Y.Lib.Path.normalize([T,i.default].join("")),l==Y.DWT.EnumDWT_PlatformType.enumWindow&&E.indexOf("/")==0&&(E=E.substr(1)),h=['<div class="dynamsoft-dwt-ltsdlg-body" style="padding:0 20px 20px 20px">',"<div>To support document scanning, please complete one-time installation of the DynamsoftServiceSetup.",A," on this machine.</div>","<div>You can download the file via this trust site:</div>",'<div><a id="dwt-btn-install" target="_blank" href="',C,'"><div class="dynamsoft-dwt-dlg-button">Open Site</div></a></div>','<div style="word-break: break-word;">Or, go to <br />',E," if the file exists.</div>","<div>After the installation, please <strong>REFRESH</strong>  your browser.<br /></div>","</div>"],Y.DWT.ShowMessage(h.join(""),{width:e,headerStyle:1,closeButton:!1})}})();Y.DWT.AutoLoad=!1;Y.DWT.IfAddMD5InUploadHeader=!1;Y.DWT.IfConfineMaskWithinTheViewer=!1;const wc=Y;function rPe({onHandleImage:e}){const[t,i]=ye.useState([]),a=ye.useRef(),[l]=ye.useState({cols:2,rows:2}),[h,g]=ye.useState(""),v=E=>{a.current=E,C()},T=async()=>{console.log("not found")},C=()=>{const E=a.current;if(console.log(E),E){const A=E.GetSourceNames(!1);i(A),A.length>0&&g(A[0])}};return Ee.jsxs("div",{children:[Ee.jsx(nPe,{width:"100%",height:"100%",onWebTWAINReady:v,onWebTWAINNotFound:T,viewMode:l,onHandleImage:e}),"Select Scanner:",Ee.jsx("select",{value:h,style:{width:"100%"},children:t.map(E=>Ee.jsx("option",{value:E,children:E},E))})]})}const nPe=e=>{const t="dwtcontrolContainer",i=ye.useRef(null);return ye.useEffect(()=>{if(wc.DWT.RegisterEvent("OnWebTwainReady",()=>{const a=wc.DWT.GetWebTwain(t);a.Viewer.width="100%",a.Viewer.height="100%",e.width&&i.current&&(i.current.style.width=e.width),e.height&&i.current&&(i.current.style.height=e.height),e.onWebTWAINReady&&e.onWebTWAINReady(a),e.viewMode&&a.Viewer.setViewMode(e.viewMode.cols,e.viewMode.rows)}),e.onWebTWAINNotFound){const a=()=>{e.onWebTWAINNotFound&&e.onWebTWAINNotFound()},l=wc;l.OnWebTwainNotFoundOnWindowsCallback=a,l.OnWebTwainNotFoundOnMacCallback=a,l.OnWebTwainNotFoundOnLinuxCallback=a}e.license&&(wc.DWT.ProductKey=e.license),wc.DWT.ResourcesPath="/dwt-resources",wc.DWT.Containers=[{WebTwainId:"dwtObject",ContainerId:t}],wc.DWT.Load()},[]),ye.useEffect(()=>{const a=wc.DWT.GetWebTwain(t);a&&e.viewMode&&a.Viewer.setViewMode(e.viewMode.cols,e.viewMode.rows)},[e.viewMode]),Ee.jsx("div",{ref:i,id:t})};var k7={exports:{}};(function(e,t){(function(a,l){e.exports=l(ye)})(Hg,function(i){return function(a){var l={};function h(g){if(l[g])return l[g].exports;var v=l[g]={i:g,l:!1,exports:{}};return a[g].call(v.exports,v,v.exports,h),v.l=!0,v.exports}return h.m=a,h.c=l,h.d=function(g,v,T){h.o(g,v)||Object.defineProperty(g,v,{enumerable:!0,get:T})},h.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},h.t=function(g,v){if(v&1&&(g=h(g)),v&8||v&4&&typeof g=="object"&&g&&g.__esModule)return g;var T=Object.create(null);if(h.r(T),Object.defineProperty(T,"default",{enumerable:!0,value:g}),v&2&&typeof g!="string")for(var C in g)h.d(T,C,(function(E){return g[E]}).bind(null,C));return T},h.n=function(g){var v=g&&g.__esModule?function(){return g.default}:function(){return g};return h.d(v,"a",v),v},h.o=function(g,v){return Object.prototype.hasOwnProperty.call(g,v)},h.p="",h(h.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(a,l,h){h.r(l);var g=h("react"),v=function(){var D=function(M,w){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,N){O.__proto__=N}||function(O,N){for(var k in N)N.hasOwnProperty(k)&&(O[k]=N[k])},D(M,w)};return function(M,w){D(M,w);function O(){this.constructor=M}M.prototype=w===null?Object.create(w):(O.prototype=w.prototype,new O)}}(),T=function(){return T=Object.assign||function(D){for(var M,w=1,O=arguments.length;w<O;w++){M=arguments[w];for(var N in M)Object.prototype.hasOwnProperty.call(M,N)&&(D[N]=M[N])}return D},T.apply(this,arguments)},C=function(D,M){var w={};for(var O in D)Object.prototype.hasOwnProperty.call(D,O)&&M.indexOf(O)<0&&(w[O]=D[O]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,O=Object.getOwnPropertySymbols(D);N<O.length;N++)M.indexOf(O[N])<0&&Object.prototype.propertyIsEnumerable.call(D,O[N])&&(w[O[N]]=D[O[N]]);return w};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(M){var w=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return w?new Promise(function(O,N){w.call(navigator,M,O,N)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function E(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var A=function(D){v(M,D);function M(w){var O=D.call(this,w)||this;return O.canvas=null,O.ctx=null,O.requestUserMediaId=0,O.unmounted=!1,O.state={hasUserMedia:!1},O}return M.prototype.componentDidMount=function(){var w=this,O=w.state,N=w.props;if(this.unmounted=!1,!E()){N.onUserMediaError("getUserMedia not supported");return}O.hasUserMedia||this.requestUserMedia(),N.children&&typeof N.children!="function"&&console.warn("children must be a function")},M.prototype.componentDidUpdate=function(w){var O=this.props;if(!E()){O.onUserMediaError("getUserMedia not supported");return}var N=JSON.stringify(w.audioConstraints)!==JSON.stringify(O.audioConstraints),k=JSON.stringify(w.videoConstraints)!==JSON.stringify(O.videoConstraints),R=w.minScreenshotWidth!==O.minScreenshotWidth,W=w.minScreenshotHeight!==O.minScreenshotHeight;(k||R||W)&&(this.canvas=null,this.ctx=null),(N||k)&&(this.stopAndCleanup(),this.requestUserMedia())},M.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},M.stopMediaStream=function(w){w&&(w.getVideoTracks&&w.getAudioTracks?(w.getVideoTracks().map(function(O){w.removeTrack(O),O.stop()}),w.getAudioTracks().map(function(O){w.removeTrack(O),O.stop()})):w.stop())},M.prototype.stopAndCleanup=function(){var w=this.state;w.hasUserMedia&&(M.stopMediaStream(this.stream),w.src&&window.URL.revokeObjectURL(w.src))},M.prototype.getScreenshot=function(w){var O=this,N=O.state,k=O.props;if(!N.hasUserMedia)return null;var R=this.getCanvas(w);return R&&R.toDataURL(k.screenshotFormat,k.screenshotQuality)},M.prototype.getCanvas=function(w){var O=this,N=O.state,k=O.props;if(!this.video||!N.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var R=this.video.videoWidth,W=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var K=R/W;R=k.minScreenshotWidth||this.video.clientWidth,W=R/K,k.minScreenshotHeight&&W<k.minScreenshotHeight&&(W=k.minScreenshotHeight,R=W*K)}this.canvas=document.createElement("canvas"),this.canvas.width=(w==null?void 0:w.width)||R,this.canvas.height=(w==null?void 0:w.height)||W,this.ctx=this.canvas.getContext("2d")}var de=this,ee=de.ctx,X=de.canvas;return ee&&X&&(X.width=(w==null?void 0:w.width)||X.width,X.height=(w==null?void 0:w.height)||X.height,k.mirrored&&(ee.translate(X.width,0),ee.scale(-1,1)),ee.imageSmoothingEnabled=k.imageSmoothing,ee.drawImage(this.video,0,0,(w==null?void 0:w.width)||X.width,(w==null?void 0:w.height)||X.height),k.mirrored&&(ee.scale(-1,1),ee.translate(-X.width,0))),X},M.prototype.requestUserMedia=function(){var w=this,O=this.props,N=function(W,K){var de={video:typeof K<"u"?K:!0};O.audio&&(de.audio=typeof W<"u"?W:!0),w.requestUserMediaId++;var ee=w.requestUserMediaId;navigator.mediaDevices.getUserMedia(de).then(function(X){w.unmounted||ee!==w.requestUserMediaId?M.stopMediaStream(X):w.handleUserMedia(null,X)}).catch(function(X){w.handleUserMedia(X)})};if("mediaDevices"in navigator)N(O.audioConstraints,O.videoConstraints);else{var k=function(W){return{optional:[{sourceId:W}]}},R=function(W){var K=W.deviceId;return typeof K=="string"?K:Array.isArray(K)&&K.length>0?K[0]:typeof K=="object"&&K.ideal?K.ideal:null};MediaStreamTrack.getSources(function(W){var K=null,de=null;W.forEach(function(ce){ce.kind==="audio"?K=ce.id:ce.kind==="video"&&(de=ce.id)});var ee=R(O.audioConstraints);ee&&(K=ee);var X=R(O.videoConstraints);X&&(de=X),N(k(K),k(de))})}},M.prototype.handleUserMedia=function(w,O){var N=this.props;if(w||!O){this.setState({hasUserMedia:!1}),N.onUserMediaError(w);return}this.stream=O;try{this.video&&(this.video.srcObject=O),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(O)})}N.onUserMedia(O)},M.prototype.render=function(){var w=this,O=this,N=O.state,k=O.props,R=k.audio;k.forceScreenshotSourceSize;var W=k.disablePictureInPicture;k.onUserMedia,k.onUserMediaError,k.screenshotFormat,k.screenshotQuality,k.minScreenshotWidth,k.minScreenshotHeight,k.audioConstraints,k.videoConstraints,k.imageSmoothing;var K=k.mirrored,de=k.style,ee=de===void 0?{}:de,X=k.children,ce=C(k,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),he=K?T(T({},ee),{transform:(ee.transform||"")+" scaleX(-1)"}):ee,le={getScreenshot:this.getScreenshot.bind(this)};return g.createElement(g.Fragment,null,g.createElement("video",T({autoPlay:!0,disablePictureInPicture:W,src:N.src,muted:!R,playsInline:!0,ref:function(fe){w.video=fe},style:he},ce)),X&&X(le))},M.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},M}(g.Component);l.default=A},react:function(a,l){a.exports=i}}).default})})(k7);var iPe=k7.exports;const oPe=xh(iPe);var Mj=!1,jl,KP,YP,lS,dS,D7,fS,QP,XP,JP,R7,qP,ZP,F7,O7;function vo(){if(!Mj){Mj=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),i=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(qP=/\b(iPhone|iP[ao]d)/.exec(e),ZP=/\b(iP[ao]d)/.exec(e),JP=/Android/i.exec(e),F7=/FBAN\/\w+;/i.exec(e),O7=/Mobile/i.exec(e),R7=!!/Win64/.exec(e),t){jl=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,jl&&document&&document.documentMode&&(jl=document.documentMode);var a=/(?:Trident\/(\d+.\d+))/.exec(e);D7=a?parseFloat(a[1])+4:jl,KP=t[2]?parseFloat(t[2]):NaN,YP=t[3]?parseFloat(t[3]):NaN,lS=t[4]?parseFloat(t[4]):NaN,lS?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),dS=t&&t[1]?parseFloat(t[1]):NaN):dS=NaN}else jl=KP=YP=dS=lS=NaN;if(i){if(i[1]){var l=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);fS=l?parseFloat(l[1].replace("_",".")):!0}else fS=!1;QP=!!i[2],XP=!!i[3]}else fS=QP=XP=!1}}var ek={ie:function(){return vo()||jl},ieCompatibilityMode:function(){return vo()||D7>jl},ie64:function(){return ek.ie()&&R7},firefox:function(){return vo()||KP},opera:function(){return vo()||YP},webkit:function(){return vo()||lS},safari:function(){return ek.webkit()},chrome:function(){return vo()||dS},windows:function(){return vo()||QP},osx:function(){return vo()||fS},linux:function(){return vo()||XP},iphone:function(){return vo()||qP},mobile:function(){return vo()||qP||ZP||JP||O7},nativeApp:function(){return vo()||F7},android:function(){return vo()||JP},ipad:function(){return vo()||ZP}},aPe=ek,ky=!!(typeof window<"u"&&window.document&&window.document.createElement),sPe={canUseDOM:ky,canUseWorkers:typeof Worker<"u",canUseEventListeners:ky&&!!(window.addEventListener||window.attachEvent),canUseViewport:ky&&!!window.screen,isInWorker:!ky},uPe=sPe,N7=uPe,M7;N7.canUseDOM&&(M7=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function cPe(e,t){if(!N7.canUseDOM||t&&!("addEventListener"in document))return!1;var i="on"+e,a=i in document;if(!a){var l=document.createElement("div");l.setAttribute(i,"return;"),a=typeof l[i]=="function"}return!a&&M7&&e==="wheel"&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}var lPe=cPe,dPe=aPe,fPe=lPe,Lj=10,Wj=40,Bj=800;function L7(e){var t=0,i=0,a=0,l=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),a=t*Lj,l=i*Lj,"deltaY"in e&&(l=e.deltaY),"deltaX"in e&&(a=e.deltaX),(a||l)&&e.deltaMode&&(e.deltaMode==1?(a*=Wj,l*=Wj):(a*=Bj,l*=Bj)),a&&!t&&(t=a<1?-1:1),l&&!i&&(i=l<1?-1:1),{spinX:t,spinY:i,pixelX:a,pixelY:l}}L7.getEventType=function(){return dPe.firefox()?"DOMMouseScroll":fPe("wheel")?"wheel":"mousewheel"};var hPe=L7,pPe=hPe;const gPe=xh(pPe);function mPe(e,t,i,a,l,h){h===void 0&&(h=0);var g=Eh(e,t,h),v=g.width,T=g.height,C=Math.min(v,i),E=Math.min(T,a);return C>E*l?{width:E*l,height:E}:{width:C,height:C/l}}function vPe(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function zg(e,t,i,a,l){l===void 0&&(l=0);var h=Eh(t.width,t.height,l),g=h.width,v=h.height;return{x:Uj(e.x,g,i.width,a),y:Uj(e.y,v,i.height,a)}}function Uj(e,t,i,a){var l=t*a/2-i/2;return l1(e,-l,l)}function Vj(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function jj(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function _Pe(e,t,i,a,l,h,g){h===void 0&&(h=0),g===void 0&&(g=!0);var v=g?yPe:SPe,T=Eh(t.width,t.height,h),C=Eh(t.naturalWidth,t.naturalHeight,h),E={x:v(100,((T.width-i.width/l)/2-e.x/l)/T.width*100),y:v(100,((T.height-i.height/l)/2-e.y/l)/T.height*100),width:v(100,i.width/T.width*100/l),height:v(100,i.height/T.height*100/l)},A=Math.round(v(C.width,E.width*C.width/100)),D=Math.round(v(C.height,E.height*C.height/100)),M=C.width>=C.height*a,w=M?{width:Math.round(D*a),height:D}:{width:A,height:Math.round(A/a)},O=vi(vi({},w),{x:Math.round(v(C.width-w.width,E.x*C.width/100)),y:Math.round(v(C.height-w.height,E.y*C.height/100))});return{croppedAreaPercentages:E,croppedAreaPixels:O}}function yPe(e,t){return Math.min(e,Math.max(0,t))}function SPe(e,t){return t}function bPe(e,t,i,a,l,h){var g=Eh(t.width,t.height,i),v=l1(a.width/g.width*(100/e.width),l,h),T={x:v*g.width/2-a.width/2-g.width*v*(e.x/100),y:v*g.height/2-a.height/2-g.height*v*(e.y/100)};return{crop:T,zoom:v}}function TPe(e,t,i){var a=vPe(t);return i.height>i.width?i.height/(e.height*a):i.width/(e.width*a)}function CPe(e,t,i,a,l,h){i===void 0&&(i=0);var g=Eh(t.naturalWidth,t.naturalHeight,i),v=l1(TPe(e,t,a),l,h),T=a.height>a.width?a.height/e.height:a.width/e.width,C={x:((g.width-e.width)/2-e.x)*T,y:((g.height-e.height)/2-e.y)*T};return{crop:C,zoom:v}}function Gj(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function IPe(e){return e*Math.PI/180}function Eh(e,t,i){var a=IPe(i);return{width:Math.abs(Math.cos(a)*e)+Math.abs(Math.sin(a)*t),height:Math.abs(Math.sin(a)*e)+Math.abs(Math.cos(a)*t)}}function l1(e,t,i){return Math.min(Math.max(e,t),i)}function Dy(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(i){return typeof i=="string"&&i.length>0}).join(" ").trim()}var wPe=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,EPe=1,xPe=3,APe=1,PPe=function(e){iwe(t,e);function t(){var i=e!==null&&e.apply(this,arguments)||this;return i.imageRef=ye.createRef(),i.videoRef=ye.createRef(),i.containerPosition={x:0,y:0},i.containerRef=null,i.styleRef=null,i.containerRect=null,i.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},i.dragStartPosition={x:0,y:0},i.dragStartCrop={x:0,y:0},i.gestureZoomStart=0,i.gestureRotationStart=0,i.isTouching=!1,i.lastPinchDistance=0,i.lastPinchRotation=0,i.rafDragTimeout=null,i.rafPinchTimeout=null,i.wheelTimer=null,i.currentDoc=typeof document<"u"?document:null,i.currentWindow=typeof window<"u"?window:null,i.resizeObserver=null,i.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},i.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!i.containerRef)){var a=!0;i.resizeObserver=new window.ResizeObserver(function(l){if(a){a=!1;return}i.computeSizes()}),i.resizeObserver.observe(i.containerRef)}},i.preventZoomSafari=function(a){return a.preventDefault()},i.cleanEvents=function(){i.currentDoc&&(i.currentDoc.removeEventListener("mousemove",i.onMouseMove),i.currentDoc.removeEventListener("mouseup",i.onDragStopped),i.currentDoc.removeEventListener("touchmove",i.onTouchMove),i.currentDoc.removeEventListener("touchend",i.onDragStopped),i.currentDoc.removeEventListener("gesturemove",i.onGestureMove),i.currentDoc.removeEventListener("gestureend",i.onGestureEnd),i.currentDoc.removeEventListener("scroll",i.onScroll))},i.clearScrollEvent=function(){i.containerRef&&i.containerRef.removeEventListener("wheel",i.onWheel),i.wheelTimer&&clearTimeout(i.wheelTimer)},i.onMediaLoad=function(){var a=i.computeSizes();a&&(i.emitCropData(),i.setInitialCrop(a)),i.props.onMediaLoaded&&i.props.onMediaLoaded(i.mediaSize)},i.setInitialCrop=function(a){if(i.props.initialCroppedAreaPercentages){var l=bPe(i.props.initialCroppedAreaPercentages,i.mediaSize,i.props.rotation,a,i.props.minZoom,i.props.maxZoom),h=l.crop,g=l.zoom;i.props.onCropChange(h),i.props.onZoomChange&&i.props.onZoomChange(g)}else if(i.props.initialCroppedAreaPixels){var v=CPe(i.props.initialCroppedAreaPixels,i.mediaSize,i.props.rotation,a,i.props.minZoom,i.props.maxZoom),h=v.crop,g=v.zoom;i.props.onCropChange(h),i.props.onZoomChange&&i.props.onZoomChange(g)}},i.computeSizes=function(){var a,l,h,g,v,T,C=i.imageRef.current||i.videoRef.current;if(C&&i.containerRef){i.containerRect=i.containerRef.getBoundingClientRect(),i.saveContainerPosition();var E=i.containerRect.width/i.containerRect.height,A=((a=i.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((l=i.videoRef.current)===null||l===void 0?void 0:l.videoWidth)||0,D=((h=i.imageRef.current)===null||h===void 0?void 0:h.naturalHeight)||((g=i.videoRef.current)===null||g===void 0?void 0:g.videoHeight)||0,M=C.offsetWidth<A||C.offsetHeight<D,w=A/D,O=void 0;if(M)switch(i.state.mediaObjectFit){default:case"contain":O=E>w?{width:i.containerRect.height*w,height:i.containerRect.height}:{width:i.containerRect.width,height:i.containerRect.width/w};break;case"horizontal-cover":O={width:i.containerRect.width,height:i.containerRect.width/w};break;case"vertical-cover":O={width:i.containerRect.height*w,height:i.containerRect.height};break}else O={width:C.offsetWidth,height:C.offsetHeight};i.mediaSize=vi(vi({},O),{naturalWidth:A,naturalHeight:D}),i.props.setMediaSize&&i.props.setMediaSize(i.mediaSize);var N=i.props.cropSize?i.props.cropSize:mPe(i.mediaSize.width,i.mediaSize.height,i.containerRect.width,i.containerRect.height,i.props.aspect,i.props.rotation);return(((v=i.state.cropSize)===null||v===void 0?void 0:v.height)!==N.height||((T=i.state.cropSize)===null||T===void 0?void 0:T.width)!==N.width)&&i.props.onCropSizeChange&&i.props.onCropSizeChange(N),i.setState({cropSize:N},i.recomputeCropPosition),i.props.setCropSize&&i.props.setCropSize(N),N}},i.saveContainerPosition=function(){if(i.containerRef){var a=i.containerRef.getBoundingClientRect();i.containerPosition={x:a.left,y:a.top}}},i.onMouseDown=function(a){i.currentDoc&&(a.preventDefault(),i.currentDoc.addEventListener("mousemove",i.onMouseMove),i.currentDoc.addEventListener("mouseup",i.onDragStopped),i.saveContainerPosition(),i.onDragStart(t.getMousePoint(a)))},i.onMouseMove=function(a){return i.onDrag(t.getMousePoint(a))},i.onScroll=function(a){i.currentDoc&&(a.preventDefault(),i.saveContainerPosition())},i.onTouchStart=function(a){i.currentDoc&&(i.isTouching=!0,!(i.props.onTouchRequest&&!i.props.onTouchRequest(a))&&(i.currentDoc.addEventListener("touchmove",i.onTouchMove,{passive:!1}),i.currentDoc.addEventListener("touchend",i.onDragStopped),i.saveContainerPosition(),a.touches.length===2?i.onPinchStart(a):a.touches.length===1&&i.onDragStart(t.getTouchPoint(a.touches[0]))))},i.onTouchMove=function(a){a.preventDefault(),a.touches.length===2?i.onPinchMove(a):a.touches.length===1&&i.onDrag(t.getTouchPoint(a.touches[0]))},i.onGestureStart=function(a){i.currentDoc&&(a.preventDefault(),i.currentDoc.addEventListener("gesturechange",i.onGestureMove),i.currentDoc.addEventListener("gestureend",i.onGestureEnd),i.gestureZoomStart=i.props.zoom,i.gestureRotationStart=i.props.rotation)},i.onGestureMove=function(a){if(a.preventDefault(),!i.isTouching){var l=t.getMousePoint(a),h=i.gestureZoomStart-1+a.scale;if(i.setNewZoom(h,l,{shouldUpdatePosition:!0}),i.props.onRotationChange){var g=i.gestureRotationStart+a.rotation;i.props.onRotationChange(g)}}},i.onGestureEnd=function(a){i.cleanEvents()},i.onDragStart=function(a){var l,h,g=a.x,v=a.y;i.dragStartPosition={x:g,y:v},i.dragStartCrop=vi({},i.props.crop),(h=(l=i.props).onInteractionStart)===null||h===void 0||h.call(l)},i.onDrag=function(a){var l=a.x,h=a.y;i.currentWindow&&(i.rafDragTimeout&&i.currentWindow.cancelAnimationFrame(i.rafDragTimeout),i.rafDragTimeout=i.currentWindow.requestAnimationFrame(function(){if(i.state.cropSize&&!(l===void 0||h===void 0)){var g=l-i.dragStartPosition.x,v=h-i.dragStartPosition.y,T={x:i.dragStartCrop.x+g,y:i.dragStartCrop.y+v},C=i.props.restrictPosition?zg(T,i.mediaSize,i.state.cropSize,i.props.zoom,i.props.rotation):T;i.props.onCropChange(C)}}))},i.onDragStopped=function(){var a,l;i.isTouching=!1,i.cleanEvents(),i.emitCropData(),(l=(a=i.props).onInteractionEnd)===null||l===void 0||l.call(a)},i.onWheel=function(a){if(i.currentWindow&&!(i.props.onWheelRequest&&!i.props.onWheelRequest(a))){a.preventDefault();var l=t.getMousePoint(a),h=gPe(a).pixelY,g=i.props.zoom-h*i.props.zoomSpeed/200;i.setNewZoom(g,l,{shouldUpdatePosition:!0}),i.state.hasWheelJustStarted||i.setState({hasWheelJustStarted:!0},function(){var v,T;return(T=(v=i.props).onInteractionStart)===null||T===void 0?void 0:T.call(v)}),i.wheelTimer&&clearTimeout(i.wheelTimer),i.wheelTimer=i.currentWindow.setTimeout(function(){return i.setState({hasWheelJustStarted:!1},function(){var v,T;return(T=(v=i.props).onInteractionEnd)===null||T===void 0?void 0:T.call(v)})},250)}},i.getPointOnContainer=function(a,l){var h=a.x,g=a.y;if(!i.containerRect)throw new Error("The Cropper is not mounted");return{x:i.containerRect.width/2-(h-l.x),y:i.containerRect.height/2-(g-l.y)}},i.getPointOnMedia=function(a){var l=a.x,h=a.y,g=i.props,v=g.crop,T=g.zoom;return{x:(l+v.x)/T,y:(h+v.y)/T}},i.setNewZoom=function(a,l,h){var g=h===void 0?{}:h,v=g.shouldUpdatePosition,T=v===void 0?!0:v;if(!(!i.state.cropSize||!i.props.onZoomChange)){var C=l1(a,i.props.minZoom,i.props.maxZoom);if(T){var E=i.getPointOnContainer(l,i.containerPosition),A=i.getPointOnMedia(E),D={x:A.x*C-E.x,y:A.y*C-E.y},M=i.props.restrictPosition?zg(D,i.mediaSize,i.state.cropSize,C,i.props.rotation):D;i.props.onCropChange(M)}i.props.onZoomChange(C)}},i.getCropData=function(){if(!i.state.cropSize)return null;var a=i.props.restrictPosition?zg(i.props.crop,i.mediaSize,i.state.cropSize,i.props.zoom,i.props.rotation):i.props.crop;return _Pe(a,i.mediaSize,i.state.cropSize,i.getAspect(),i.props.zoom,i.props.rotation,i.props.restrictPosition)},i.emitCropData=function(){var a=i.getCropData();if(a){var l=a.croppedAreaPercentages,h=a.croppedAreaPixels;i.props.onCropComplete&&i.props.onCropComplete(l,h),i.props.onCropAreaChange&&i.props.onCropAreaChange(l,h)}},i.emitCropAreaChange=function(){var a=i.getCropData();if(a){var l=a.croppedAreaPercentages,h=a.croppedAreaPixels;i.props.onCropAreaChange&&i.props.onCropAreaChange(l,h)}},i.recomputeCropPosition=function(){if(i.state.cropSize){var a=i.props.restrictPosition?zg(i.props.crop,i.mediaSize,i.state.cropSize,i.props.zoom,i.props.rotation):i.props.crop;i.props.onCropChange(a),i.emitCropData()}},i.onKeyDown=function(a){var l=i.props,h=l.crop,g=l.onCropChange,v=l.keyboardStep,T=l.zoom,C=l.rotation,E=v;if(i.state.cropSize){var A=vi({},h);switch(a.key){case"ArrowUp":A.y-=E;break;case"ArrowDown":A.y+=E;break;case"ArrowLeft":A.x-=E;break;case"ArrowRight":A.x+=E;break;default:return}i.props.restrictPosition&&(A=zg(A,i.mediaSize,i.state.cropSize,T,C)),g(A)}},i}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=wPe,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},t.prototype.componentWillUnmount=function(){var i,a;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(i=this.resizeObserver)===null||i===void 0||i.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((a=this.styleRef.parentNode)===null||a===void 0||a.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(i){var a,l,h,g,v,T,C,E,A;i.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):i.aspect!==this.props.aspect?this.computeSizes():i.objectFit!==this.props.objectFit?this.computeSizes():i.zoom!==this.props.zoom?this.recomputeCropPosition():((a=i.cropSize)===null||a===void 0?void 0:a.height)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.height)||((h=i.cropSize)===null||h===void 0?void 0:h.width)!==((g=this.props.cropSize)===null||g===void 0?void 0:g.width)?this.computeSizes():(((v=i.crop)===null||v===void 0?void 0:v.x)!==((T=this.props.crop)===null||T===void 0?void 0:T.x)||((C=i.crop)===null||C===void 0?void 0:C.y)!==((E=this.props.crop)===null||E===void 0?void 0:E.y))&&this.emitCropAreaChange(),i.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),i.video!==this.props.video&&((A=this.videoRef.current)===null||A===void 0||A.load());var D=this.getObjectFit();D!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:D},this.computeSizes)},t.prototype.getAspect=function(){var i=this.props,a=i.cropSize,l=i.aspect;return a?a.width/a.height:l},t.prototype.getObjectFit=function(){var i,a,l,h;if(this.props.objectFit==="cover"){var g=this.imageRef.current||this.videoRef.current;if(g&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var v=this.containerRect.width/this.containerRect.height,T=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalWidth)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,C=((l=this.imageRef.current)===null||l===void 0?void 0:l.naturalHeight)||((h=this.videoRef.current)===null||h===void 0?void 0:h.videoHeight)||0,E=T/C;return E<v?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(i){var a=t.getTouchPoint(i.touches[0]),l=t.getTouchPoint(i.touches[1]);this.lastPinchDistance=Vj(a,l),this.lastPinchRotation=jj(a,l),this.onDragStart(Gj(a,l))},t.prototype.onPinchMove=function(i){var a=this;if(!(!this.currentDoc||!this.currentWindow)){var l=t.getTouchPoint(i.touches[0]),h=t.getTouchPoint(i.touches[1]),g=Gj(l,h);this.onDrag(g),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var v=Vj(l,h),T=a.props.zoom*(v/a.lastPinchDistance);a.setNewZoom(T,g,{shouldUpdatePosition:!1}),a.lastPinchDistance=v;var C=jj(l,h),E=a.props.rotation+(C-a.lastPinchRotation);a.props.onRotationChange&&a.props.onRotationChange(E),a.lastPinchRotation=C})}},t.prototype.render=function(){var i=this,a,l=this.props,h=l.image,g=l.video,v=l.mediaProps,T=l.transform,C=l.crop,E=C.x,A=C.y,D=l.rotation,M=l.zoom,w=l.cropShape,O=l.showGrid,N=l.style,k=N.containerStyle,R=N.cropAreaStyle,W=N.mediaStyle,K=l.classes,de=K.containerClassName,ee=K.cropAreaClassName,X=K.mediaClassName,ce=(a=this.state.mediaObjectFit)!==null&&a!==void 0?a:this.getObjectFit();return ye.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(le){return i.containerRef=le},"data-testid":"container",style:k,className:Dy("reactEasyCrop_Container",de)},h?ye.createElement("img",vi({alt:"",className:Dy("reactEasyCrop_Image",ce==="contain"&&"reactEasyCrop_Contain",ce==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ce==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",X)},v,{src:h,ref:this.imageRef,style:vi(vi({},W),{transform:T||"translate(".concat(E,"px, ").concat(A,"px) rotate(").concat(D,"deg) scale(").concat(M,")")}),onLoad:this.onMediaLoad})):g&&ye.createElement("video",vi({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Dy("reactEasyCrop_Video",ce==="contain"&&"reactEasyCrop_Contain",ce==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ce==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",X)},v,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:vi(vi({},W),{transform:T||"translate(".concat(E,"px, ").concat(A,"px) rotate(").concat(D,"deg) scale(").concat(M,")")}),controls:!1}),(Array.isArray(g)?g:[{src:g}]).map(function(he){return ye.createElement("source",vi({key:he.src},he))})),this.state.cropSize&&ye.createElement("div",{style:vi(vi({},R),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,"data-testid":"cropper",className:Dy("reactEasyCrop_CropArea",w==="round"&&"reactEasyCrop_CropAreaRound",O&&"reactEasyCrop_CropAreaGrid",ee)}))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:xPe,minZoom:EPe,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:APe},t.getMousePoint=function(i){return{x:Number(i.clientX),y:Number(i.clientY)}},t.getTouchPoint=function(i){return{x:Number(i.clientX),y:Number(i.clientY)}},t}(ye.Component);const kPe=({onHandleImage:e})=>{const t=ye.useRef(null),[i,a]=ye.useState(null),[l,h]=ye.useState({x:0,y:0}),[g,v]=ye.useState(1),[T,C]=ye.useState(null),E=ye.useCallback(()=>{var O;const w=(O=t.current)==null?void 0:O.getScreenshot();w&&a(w)},[t]),A=ye.useCallback(w=>{C(w)},[]),D=async(w,O)=>{const N=new Image;N.src=w;const k=document.createElement("canvas"),R=k.getContext("2d");if(!R)return null;const W=N.naturalWidth/N.width,K=N.naturalHeight/N.height;return k.width=O.width,k.height=O.height,R.drawImage(N,O.x*W,O.y*K,O.width*W,O.height*K,0,0,O.width,O.height),new Promise(de=>{k.toBlob(ee=>{ee&&de(new File([ee],"cropped_image.png",{type:"image/png"}))},"image/png")})},M=async()=>{if(i&&T){const w=await D(i,T);w&&e(w)}};return Ee.jsx("div",{children:i?Ee.jsxs("div",{children:[Ee.jsx("div",{style:{position:"relative",width:"100%",height:400},children:Ee.jsx(PPe,{image:i,crop:l,zoom:g,aspect:4/3,onCropChange:h,onZoomChange:v,onCropComplete:A})}),Ee.jsx(_a,{onClick:M,children:"Crop"})]}):Ee.jsxs("div",{children:[Ee.jsx(oPe,{audio:!1,ref:t,screenshotFormat:"image/jpeg",width:"100%"}),Ee.jsx(_a,{onClick:E,children:"Capture"})]})})},DPe=function({onSuccess:e,onFailure:t}){const[i,a]=ye.useState(!1),[l,h]=ye.useState(void 0),[g,v]=ye.useState(void 0);return ye.useEffect(()=>{LP.get("https://cors-anywhere.herokuapp.com/www.google.com").then(T=>(a(!0),T)).catch(()=>a(!1))},[void 0]),ye.useEffect(()=>{const T=new URLSearchParams(window.location.search).get("code");T&&i&&(h(T),LP.post("https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token ",{code:T,client_id:Oxe,client_secret:Nxe},{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}}).then(C=>{v(C.data),e(C.data)}).catch(C=>t(C)))},[e,t,i]),Ee.jsxs(ts,{justifyContent:"space-around",children:[i?Ee.jsx(Df,{children:"CorsOk"}):Ee.jsx($8,{href:"https://cors-anywhere.herokuapp.com/corsdemo",children:"CorsAnywere"}),l?Ee.jsx(Df,{children:"Code Git Ok"}):Ee.jsxs(Df,{children:["CodeGit Ko",Ee.jsx(eAe,{})]}),g?Ee.jsx(Df,{children:"Token Git Ok"}):Ee.jsx(Df,{children:"Token Ko"})]})};function RPe({onHandleImage:e}){const[t,i]=ye.useState();return Ee.jsxs(ts,{flexDirection:"column",style:{minHeight:"300px"},children:[Ee.jsxs(ts,{children:[t==="photo"&&Ee.jsx(Mxe,{onHandleImage:e}),t==="photo2"&&Ee.jsx(zAe,{onHandleImage:e}),t==="photo3"&&Ee.jsx(rPe,{onHandleImage:e}),t==="photo4"&&Ee.jsx(kPe,{onHandleImage:e}),t==="file"&&Ee.jsx(Lxe,{onHandleImage:e}),t==="url"&&Ee.jsx(Wxe,{onHandleImage:e})]}),Ee.jsxs(ts,{justifyContent:"space-around",children:[Ee.jsx(_a,{variant:"solid",size:"md",onClick:()=>i("photo"),children:"Photo"}),Ee.jsx(_a,{variant:"solid",size:"md",onClick:()=>i("photo2"),children:"Photo Pro"}),Ee.jsx(_a,{variant:"solid",size:"md",onClick:()=>i("photo3"),children:"dwt"}),Ee.jsx(_a,{variant:"solid",size:"md",onClick:()=>i("photo4"),children:"crop"}),Ee.jsx(_a,{variant:"solid",size:"md",onClick:()=>i("file"),children:"File"}),Ee.jsx(_a,{variant:"solid",size:"md",onClick:()=>i("url"),children:"Url"})]})]})}function FPe({image:e,handleSvg:t}){const i=ye.useRef(null),[a,l]=ye.useState("");ye.useEffect(()=>{XV(e,150,200).then(g=>{const v=i==null?void 0:i.current;if(v){v.width=512,v.height=256;const T=v.getContext("2d");T&&T.putImageData(g,0,0)}})},[e]);function h(){console.log("handleProcess"),XV(e,150,200).then(g=>{console.log("fileToImageData");const v=i.current;if(v){const T=v.getContext("2d");if(T){T.putImageData(g,0,0);const E=new Zxe(sb.Presets.posterized1).traceImage(g);console.log("svgstr",E),l(E),t(E)}}})}return Ee.jsxs(ts,{flexDirection:"column",children:[Ee.jsxs(ts,{children:[Ee.jsx("canvas",{ref:i,style:{width:"50%"},width:"50%",height:"auto"}),a&&Ee.jsx("div",{dangerouslySetInnerHTML:{__html:a},style:{width:"50%"}})]}),Ee.jsxs(ts,{children:[Ee.jsx(_a,{variant:"solid",size:"md",onClick:()=>h(),children:"Process"}),Ee.jsx(_a,{variant:"solid",size:"md",children:"Parametrage"})]}),Ee.jsx(ts,{})]})}function OPe({fileContent:e,token:t}){const[i,a]=ye.useState(null),[l,h]=ye.useState("sarahBuisson"),[g,v]=ye.useState("content-generator2"),[T,C]=ye.useState("src/assets"),[E,A]=ye.useState("svg.svg"),[D,M]=ye.useState(""),w=N=>{N.target.files&&a(N.target.files[0])};async function O(){if(console.log("file",i),!i)return;const N=`https://api.github.com/repos/${l}/${g}/contents/${T}/${E}.svg`;console.log(N);let k=await i.text();console.log(k);try{k=btoa(k),M("Save as "+N)}catch(W){console.error(W),M("error"+W)}const R=await LP.put("https://cors-anywhere.herokuapp.com/"+N,{message:`Add ${i.name}`,content:e},{headers:{Authorization:`token ${t}`}});console.log(R.data)}return Ee.jsx(ts,{children:Ee.jsxs("ul",{children:[Ee.jsx("li",{children:Ee.jsx("input",{type:"hidden",onChange:w})}),Ee.jsxs("li",{children:["user:",Ee.jsx("input",{value:l,onChange:N=>h(N.target.value)})]}),Ee.jsxs("li",{children:["repo:",Ee.jsx("input",{value:g,onChange:N=>v(N.target.value)})]}),Ee.jsxs("li",{children:["path:",Ee.jsx("input",{value:T,onChange:N=>C(N.target.value)})]}),Ee.jsxs("li",{children:["name:",Ee.jsx("input",{value:E,onChange:N=>A(N.target.value)})]}),Ee.jsx(_a,{variant:"solid",size:"md",onClick:O,children:"Save"}),D]})})}function NPe(){const[e,t]=ye.useState(),[i,a]=ye.useState(),[l,h]=ye.useState(),g=v=>{h(v.access_token)};return Ee.jsxs(qwe,{resetCSS:!0,children:[Ee.jsx(DPe,{onFailure:console.error,onSuccess:g}),Ee.jsx(RPe,{onHandleImage:t}),e&&Ee.jsx(FPe,{image:e,handleSvg:a}),Ee.jsx(OPe,{fileContent:i,token:l})]})}iA.createRoot(document.getElementById("root")).render(Ee.jsx(yi.StrictMode,{children:Ee.jsx(NPe,{})}))});export default MPe();
