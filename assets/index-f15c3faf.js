var dle=Object.defineProperty;var fle=(e,t,i)=>t in e?dle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var hle=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var gi=(e,t,i)=>(fle(e,typeof t!="symbol"?t+"":t,i),i);var wxe=hle((NP,rS)=>{function ple(e,t){for(var i=0;i<t.length;i++){const a=t[i];if(typeof a!="string"&&!Array.isArray(a)){for(const d in a)if(d!=="default"&&!(d in e)){const h=Object.getOwnPropertyDescriptor(a,d);h&&Object.defineProperty(e,d,h.get?h:{enumerable:!0,get:()=>a[d]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))a(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function i(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(d){if(d.ep)return;d.ep=!0;const h=i(d);fetch(d.href,h)}})();var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fj={exports:{}},i1={},Oj={exports:{}},ur={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv=Symbol.for("react.element"),gle=Symbol.for("react.portal"),mle=Symbol.for("react.fragment"),vle=Symbol.for("react.strict_mode"),_le=Symbol.for("react.profiler"),yle=Symbol.for("react.provider"),Sle=Symbol.for("react.context"),ble=Symbol.for("react.forward_ref"),Tle=Symbol.for("react.suspense"),Cle=Symbol.for("react.memo"),Ile=Symbol.for("react.lazy"),p4=Symbol.iterator;function wle(e){return e===null||typeof e!="object"?null:(e=p4&&e[p4]||e["@@iterator"],typeof e=="function"?e:null)}var Nj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lj=Object.assign,Mj={};function Th(e,t,i){this.props=e,this.context=t,this.refs=Mj,this.updater=i||Nj}Th.prototype.isReactComponent={};Th.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Th.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wj(){}Wj.prototype=Th.prototype;function LP(e,t,i){this.props=e,this.context=t,this.refs=Mj,this.updater=i||Nj}var MP=LP.prototype=new Wj;MP.constructor=LP;Lj(MP,Th.prototype);MP.isPureReactComponent=!0;var g4=Array.isArray,Bj=Object.prototype.hasOwnProperty,WP={current:null},Uj={key:!0,ref:!0,__self:!0,__source:!0};function Vj(e,t,i){var a,d={},h=null,g=null;if(t!=null)for(a in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(h=""+t.key),t)Bj.call(t,a)&&!Uj.hasOwnProperty(a)&&(d[a]=t[a]);var y=arguments.length-2;if(y===1)d.children=i;else if(1<y){for(var T=Array(y),C=0;C<y;C++)T[C]=arguments[C+2];d.children=T}if(e&&e.defaultProps)for(a in y=e.defaultProps,y)d[a]===void 0&&(d[a]=y[a]);return{$$typeof:rv,type:e,key:h,ref:g,props:d,_owner:WP.current}}function Ele(e,t){return{$$typeof:rv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function BP(e){return typeof e=="object"&&e!==null&&e.$$typeof===rv}function Ale(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var m4=/\/+/g;function WE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ale(""+e.key):t.toString(36)}function Iy(e,t,i,a,d){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(h){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case rv:case gle:g=!0}}if(g)return g=e,d=d(g),e=a===""?"."+WE(g,0):a,g4(d)?(i="",e!=null&&(i=e.replace(m4,"$&/")+"/"),Iy(d,t,i,"",function(C){return C})):d!=null&&(BP(d)&&(d=Ele(d,i+(!d.key||g&&g.key===d.key?"":(""+d.key).replace(m4,"$&/")+"/")+e)),t.push(d)),1;if(g=0,a=a===""?".":a+":",g4(e))for(var y=0;y<e.length;y++){h=e[y];var T=a+WE(h,y);g+=Iy(h,t,i,T,d)}else if(T=wle(e),typeof T=="function")for(e=T.call(e),y=0;!(h=e.next()).done;)h=h.value,T=a+WE(h,y++),g+=Iy(h,t,i,T,d);else if(h==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function j0(e,t,i){if(e==null)return e;var a=[],d=0;return Iy(e,a,"","",function(h){return t.call(i,h,d++)}),a}function xle(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var eo={current:null},wy={transition:null},Ple={ReactCurrentDispatcher:eo,ReactCurrentBatchConfig:wy,ReactCurrentOwner:WP};function jj(){throw Error("act(...) is not supported in production builds of React.")}ur.Children={map:j0,forEach:function(e,t,i){j0(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return j0(e,function(){t++}),t},toArray:function(e){return j0(e,function(t){return t})||[]},only:function(e){if(!BP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ur.Component=Th;ur.Fragment=mle;ur.Profiler=_le;ur.PureComponent=LP;ur.StrictMode=vle;ur.Suspense=Tle;ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ple;ur.act=jj;ur.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Lj({},e.props),d=e.key,h=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(h=t.ref,g=WP.current),t.key!==void 0&&(d=""+t.key),e.type&&e.type.defaultProps)var y=e.type.defaultProps;for(T in t)Bj.call(t,T)&&!Uj.hasOwnProperty(T)&&(a[T]=t[T]===void 0&&y!==void 0?y[T]:t[T])}var T=arguments.length-2;if(T===1)a.children=i;else if(1<T){y=Array(T);for(var C=0;C<T;C++)y[C]=arguments[C+2];a.children=y}return{$$typeof:rv,type:e.type,key:d,ref:h,props:a,_owner:g}};ur.createContext=function(e){return e={$$typeof:Sle,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yle,_context:e},e.Consumer=e};ur.createElement=Vj;ur.createFactory=function(e){var t=Vj.bind(null,e);return t.type=e,t};ur.createRef=function(){return{current:null}};ur.forwardRef=function(e){return{$$typeof:ble,render:e}};ur.isValidElement=BP;ur.lazy=function(e){return{$$typeof:Ile,_payload:{_status:-1,_result:e},_init:xle}};ur.memo=function(e,t){return{$$typeof:Cle,type:e,compare:t===void 0?null:t}};ur.startTransition=function(e){var t=wy.transition;wy.transition={};try{e()}finally{wy.transition=t}};ur.unstable_act=jj;ur.useCallback=function(e,t){return eo.current.useCallback(e,t)};ur.useContext=function(e){return eo.current.useContext(e)};ur.useDebugValue=function(){};ur.useDeferredValue=function(e){return eo.current.useDeferredValue(e)};ur.useEffect=function(e,t){return eo.current.useEffect(e,t)};ur.useId=function(){return eo.current.useId()};ur.useImperativeHandle=function(e,t,i){return eo.current.useImperativeHandle(e,t,i)};ur.useInsertionEffect=function(e,t){return eo.current.useInsertionEffect(e,t)};ur.useLayoutEffect=function(e,t){return eo.current.useLayoutEffect(e,t)};ur.useMemo=function(e,t){return eo.current.useMemo(e,t)};ur.useReducer=function(e,t,i){return eo.current.useReducer(e,t,i)};ur.useRef=function(e){return eo.current.useRef(e)};ur.useState=function(e){return eo.current.useState(e)};ur.useSyncExternalStore=function(e,t,i){return eo.current.useSyncExternalStore(e,t,i)};ur.useTransition=function(){return eo.current.useTransition()};ur.version="18.3.1";Oj.exports=ur;var be=Oj.exports;const _i=n1(be),v4=ple({__proto__:null,default:_i},[be]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kle=be,Dle=Symbol.for("react.element"),Rle=Symbol.for("react.fragment"),Fle=Object.prototype.hasOwnProperty,Ole=kle.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nle={key:!0,ref:!0,__self:!0,__source:!0};function Gj(e,t,i){var a,d={},h=null,g=null;i!==void 0&&(h=""+i),t.key!==void 0&&(h=""+t.key),t.ref!==void 0&&(g=t.ref);for(a in t)Fle.call(t,a)&&!Nle.hasOwnProperty(a)&&(d[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)d[a]===void 0&&(d[a]=t[a]);return{$$typeof:Dle,type:e,key:h,ref:g,props:d,_owner:Ole.current}}i1.Fragment=Rle;i1.jsx=Gj;i1.jsxs=Gj;Fj.exports=i1;var Re=Fj.exports,KA={},zj={exports:{}},Ko={},Hj={exports:{}},$j={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(De,Le){var Ae=De.length;De.push(Le);e:for(;0<Ae;){var Je=Ae-1>>>1,He=De[Je];if(0<d(He,Le))De[Je]=Le,De[Ae]=He,Ae=Je;else break e}}function i(De){return De.length===0?null:De[0]}function a(De){if(De.length===0)return null;var Le=De[0],Ae=De.pop();if(Ae!==Le){De[0]=Ae;e:for(var Je=0,He=De.length,Ge=He>>>1;Je<Ge;){var nt=2*(Je+1)-1,pe=De[nt],oe=nt+1,me=De[oe];if(0>d(pe,Ae))oe<He&&0>d(me,pe)?(De[Je]=me,De[oe]=Ae,Je=oe):(De[Je]=pe,De[nt]=Ae,Je=nt);else if(oe<He&&0>d(me,Ae))De[Je]=me,De[oe]=Ae,Je=oe;else break e}}return Le}function d(De,Le){var Ae=De.sortIndex-Le.sortIndex;return Ae!==0?Ae:De.id-Le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var g=Date,y=g.now();e.unstable_now=function(){return g.now()-y}}var T=[],C=[],w=1,x=null,F=3,N=!1,E=!1,W=!1,O=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(De){for(var Le=i(C);Le!==null;){if(Le.callback===null)a(C);else if(Le.startTime<=De)a(C),Le.sortIndex=Le.expirationTime,t(T,Le);else break;Le=i(C)}}function Y(De){if(W=!1,j(De),!E)if(i(T)!==null)E=!0,je(de);else{var Le=i(C);Le!==null&&Ze(Y,Le.startTime-De)}}function de(De,Le){E=!1,W&&(W=!1,R(ce),ce=-1),N=!0;var Ae=F;try{for(j(Le),x=i(T);x!==null&&(!(x.expirationTime>Le)||De&&!fe());){var Je=x.callback;if(typeof Je=="function"){x.callback=null,F=x.priorityLevel;var He=Je(x.expirationTime<=Le);Le=e.unstable_now(),typeof He=="function"?x.callback=He:x===i(T)&&a(T),j(Le)}else a(T);x=i(T)}if(x!==null)var Ge=!0;else{var nt=i(C);nt!==null&&Ze(Y,nt.startTime-Le),Ge=!1}return Ge}finally{x=null,F=Ae,N=!1}}var ne=!1,X=null,ce=-1,he=5,le=-1;function fe(){return!(e.unstable_now()-le<he)}function _e(){if(X!==null){var De=e.unstable_now();le=De;var Le=!0;try{Le=X(!0,De)}finally{Le?Ee():(ne=!1,X=null)}}else ne=!1}var Ee;if(typeof D=="function")Ee=function(){D(_e)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ne=ke.port2;ke.port1.onmessage=_e,Ee=function(){Ne.postMessage(null)}}else Ee=function(){O(_e,0)};function je(De){X=De,ne||(ne=!0,Ee())}function Ze(De,Le){ce=O(function(){De(e.unstable_now())},Le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(De){De.callback=null},e.unstable_continueExecution=function(){E||N||(E=!0,je(de))},e.unstable_forceFrameRate=function(De){0>De||125<De?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<De?Math.floor(1e3/De):5},e.unstable_getCurrentPriorityLevel=function(){return F},e.unstable_getFirstCallbackNode=function(){return i(T)},e.unstable_next=function(De){switch(F){case 1:case 2:case 3:var Le=3;break;default:Le=F}var Ae=F;F=Le;try{return De()}finally{F=Ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(De,Le){switch(De){case 1:case 2:case 3:case 4:case 5:break;default:De=3}var Ae=F;F=De;try{return Le()}finally{F=Ae}},e.unstable_scheduleCallback=function(De,Le,Ae){var Je=e.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?Je+Ae:Je):Ae=Je,De){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=Ae+He,De={id:w++,callback:Le,priorityLevel:De,startTime:Ae,expirationTime:He,sortIndex:-1},Ae>Je?(De.sortIndex=Ae,t(C,De),i(T)===null&&De===i(C)&&(W?(R(ce),ce=-1):W=!0,Ze(Y,Ae-Je))):(De.sortIndex=He,t(T,De),E||N||(E=!0,je(de))),De},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(De){var Le=F;return function(){var Ae=F;F=Le;try{return De.apply(this,arguments)}finally{F=Ae}}}})($j);Hj.exports=$j;var Lle=Hj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mle=be,Ho=Lle;function dt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kj=new Set,bm={};function nd(e,t){uh(e,t),uh(e+"Capture",t)}function uh(e,t){for(bm[e]=t,e=0;e<t.length;e++)Kj.add(t[e])}var Pu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),YA=Object.prototype.hasOwnProperty,Wle=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_4={},y4={};function Ble(e){return YA.call(y4,e)?!0:YA.call(_4,e)?!1:Wle.test(e)?y4[e]=!0:(_4[e]=!0,!1)}function Ule(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vle(e,t,i,a){if(t===null||typeof t>"u"||Ule(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function to(e,t,i,a,d,h,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=g}var bi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bi[e]=new to(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bi[t]=new to(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bi[e]=new to(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bi[e]=new to(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bi[e]=new to(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bi[e]=new to(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bi[e]=new to(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bi[e]=new to(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bi[e]=new to(e,5,!1,e.toLowerCase(),null,!1,!1)});var UP=/[\-:]([a-z])/g;function VP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(UP,VP);bi[t]=new to(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(UP,VP);bi[t]=new to(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(UP,VP);bi[t]=new to(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bi[e]=new to(e,1,!1,e.toLowerCase(),null,!1,!1)});bi.xlinkHref=new to("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bi[e]=new to(e,1,!1,e.toLowerCase(),null,!0,!0)});function jP(e,t,i,a){var d=bi.hasOwnProperty(t)?bi[t]:null;(d!==null?d.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vle(t,i,d,a)&&(i=null),a||d===null?Ble(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(t=d.attributeName,a=d.attributeNamespace,i===null?e.removeAttribute(t):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var Nu=Mle.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G0=Symbol.for("react.element"),xf=Symbol.for("react.portal"),Pf=Symbol.for("react.fragment"),GP=Symbol.for("react.strict_mode"),QA=Symbol.for("react.profiler"),Yj=Symbol.for("react.provider"),Qj=Symbol.for("react.context"),zP=Symbol.for("react.forward_ref"),XA=Symbol.for("react.suspense"),JA=Symbol.for("react.suspense_list"),HP=Symbol.for("react.memo"),wc=Symbol.for("react.lazy"),Xj=Symbol.for("react.offscreen"),S4=Symbol.iterator;function Tg(e){return e===null||typeof e!="object"?null:(e=S4&&e[S4]||e["@@iterator"],typeof e=="function"?e:null)}var mn=Object.assign,BE;function Wg(e){if(BE===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);BE=t&&t[1]||""}return`
`+BE+e}var UE=!1;function VE(e,t){if(!e||UE)return"";UE=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(C){var a=C}Reflect.construct(e,[],t)}else{try{t.call()}catch(C){a=C}e.call(t.prototype)}else{try{throw Error()}catch(C){a=C}e()}}catch(C){if(C&&a&&typeof C.stack=="string"){for(var d=C.stack.split(`
`),h=a.stack.split(`
`),g=d.length-1,y=h.length-1;1<=g&&0<=y&&d[g]!==h[y];)y--;for(;1<=g&&0<=y;g--,y--)if(d[g]!==h[y]){if(g!==1||y!==1)do if(g--,y--,0>y||d[g]!==h[y]){var T=`
`+d[g].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=g&&0<=y);break}}}finally{UE=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Wg(e):""}function jle(e){switch(e.tag){case 5:return Wg(e.type);case 16:return Wg("Lazy");case 13:return Wg("Suspense");case 19:return Wg("SuspenseList");case 0:case 2:case 15:return e=VE(e.type,!1),e;case 11:return e=VE(e.type.render,!1),e;case 1:return e=VE(e.type,!0),e;default:return""}}function qA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pf:return"Fragment";case xf:return"Portal";case QA:return"Profiler";case GP:return"StrictMode";case XA:return"Suspense";case JA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qj:return(e.displayName||"Context")+".Consumer";case Yj:return(e._context.displayName||"Context")+".Provider";case zP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case HP:return t=e.displayName||null,t!==null?t:qA(e.type)||"Memo";case wc:t=e._payload,e=e._init;try{return qA(e(t))}catch{}}return null}function Gle(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qA(t);case 8:return t===GP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $c(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zle(e){var t=Jj(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,h=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function z0(e){e._valueTracker||(e._valueTracker=zle(e))}function qj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=Jj(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function nS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ZA(e,t){var i=t.checked;return mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function b4(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=$c(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zj(e,t){t=t.checked,t!=null&&jP(e,"checked",t,!1)}function ex(e,t){Zj(e,t);var i=$c(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tx(e,t.type,i):t.hasOwnProperty("defaultValue")&&tx(e,t.type,$c(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function T4(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function tx(e,t,i){(t!=="number"||nS(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Bg=Array.isArray;function Qf(e,t,i,a){if(e=e.options,t){t={};for(var d=0;d<i.length;d++)t["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=t.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&a&&(e[i].defaultSelected=!0)}else{for(i=""+$c(i),t=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,a&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function rx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(dt(91));return mn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function C4(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(dt(92));if(Bg(i)){if(1<i.length)throw Error(dt(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:$c(i)}}function e6(e,t){var i=$c(t.value),a=$c(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function I4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function t6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?t6(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var H0,r6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,d){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,d)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(H0=H0||document.createElement("div"),H0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=H0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tm(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Qg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hle=["Webkit","ms","Moz","O"];Object.keys(Qg).forEach(function(e){Hle.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qg[t]=Qg[e]})});function n6(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Qg.hasOwnProperty(e)&&Qg[e]?(""+t).trim():t+"px"}function i6(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,d=n6(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,d):e[i]=d}}var $le=mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ix(e,t){if(t){if($le[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(dt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(dt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(dt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(dt(62))}}function ox(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ax=null;function $P(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sx=null,Xf=null,Jf=null;function w4(e){if(e=ov(e)){if(typeof sx!="function")throw Error(dt(280));var t=e.stateNode;t&&(t=c1(t),sx(e.stateNode,e.type,t))}}function o6(e){Xf?Jf?Jf.push(e):Jf=[e]:Xf=e}function a6(){if(Xf){var e=Xf,t=Jf;if(Jf=Xf=null,w4(e),t)for(e=0;e<t.length;e++)w4(t[e])}}function s6(e,t){return e(t)}function u6(){}var jE=!1;function c6(e,t,i){if(jE)return e(t,i);jE=!0;try{return s6(e,t,i)}finally{jE=!1,(Xf!==null||Jf!==null)&&(u6(),a6())}}function Cm(e,t){var i=e.stateNode;if(i===null)return null;var a=c1(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(dt(231,t,typeof i));return i}var ux=!1;if(Pu)try{var Cg={};Object.defineProperty(Cg,"passive",{get:function(){ux=!0}}),window.addEventListener("test",Cg,Cg),window.removeEventListener("test",Cg,Cg)}catch{ux=!1}function Kle(e,t,i,a,d,h,g,y,T){var C=Array.prototype.slice.call(arguments,3);try{t.apply(i,C)}catch(w){this.onError(w)}}var Xg=!1,iS=null,oS=!1,cx=null,Yle={onError:function(e){Xg=!0,iS=e}};function Qle(e,t,i,a,d,h,g,y,T){Xg=!1,iS=null,Kle.apply(Yle,arguments)}function Xle(e,t,i,a,d,h,g,y,T){if(Qle.apply(this,arguments),Xg){if(Xg){var C=iS;Xg=!1,iS=null}else throw Error(dt(198));oS||(oS=!0,cx=C)}}function id(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function l6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function E4(e){if(id(e)!==e)throw Error(dt(188))}function Jle(e){var t=e.alternate;if(!t){if(t=id(e),t===null)throw Error(dt(188));return t!==e?null:e}for(var i=e,a=t;;){var d=i.return;if(d===null)break;var h=d.alternate;if(h===null){if(a=d.return,a!==null){i=a;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===i)return E4(d),e;if(h===a)return E4(d),t;h=h.sibling}throw Error(dt(188))}if(i.return!==a.return)i=d,a=h;else{for(var g=!1,y=d.child;y;){if(y===i){g=!0,i=d,a=h;break}if(y===a){g=!0,a=d,i=h;break}y=y.sibling}if(!g){for(y=h.child;y;){if(y===i){g=!0,i=h,a=d;break}if(y===a){g=!0,a=h,i=d;break}y=y.sibling}if(!g)throw Error(dt(189))}}if(i.alternate!==a)throw Error(dt(190))}if(i.tag!==3)throw Error(dt(188));return i.stateNode.current===i?e:t}function d6(e){return e=Jle(e),e!==null?f6(e):null}function f6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=f6(e);if(t!==null)return t;e=e.sibling}return null}var h6=Ho.unstable_scheduleCallback,A4=Ho.unstable_cancelCallback,qle=Ho.unstable_shouldYield,Zle=Ho.unstable_requestPaint,Rn=Ho.unstable_now,ede=Ho.unstable_getCurrentPriorityLevel,KP=Ho.unstable_ImmediatePriority,p6=Ho.unstable_UserBlockingPriority,aS=Ho.unstable_NormalPriority,tde=Ho.unstable_LowPriority,g6=Ho.unstable_IdlePriority,o1=null,Vs=null;function rde(e){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(o1,e,void 0,(e.current.flags&128)===128)}catch{}}var Za=Math.clz32?Math.clz32:ode,nde=Math.log,ide=Math.LN2;function ode(e){return e>>>=0,e===0?32:31-(nde(e)/ide|0)|0}var $0=64,K0=4194304;function Ug(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sS(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,d=e.suspendedLanes,h=e.pingedLanes,g=i&268435455;if(g!==0){var y=g&~d;y!==0?a=Ug(y):(h&=g,h!==0&&(a=Ug(h)))}else g=i&~d,g!==0?a=Ug(g):h!==0&&(a=Ug(h));if(a===0)return 0;if(t!==0&&t!==a&&!(t&d)&&(d=a&-a,h=t&-t,d>=h||d===16&&(h&4194240)!==0))return t;if(a&4&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-Za(t),d=1<<i,a|=e[i],t&=~d;return a}function ade(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sde(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes;0<h;){var g=31-Za(h),y=1<<g,T=d[g];T===-1?(!(y&i)||y&a)&&(d[g]=ade(y,t)):T<=t&&(e.expiredLanes|=y),h&=~y}}function lx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function m6(){var e=$0;return $0<<=1,!($0&4194240)&&($0=64),e}function GE(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function nv(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Za(t),e[t]=i}function ude(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-Za(i),h=1<<d;t[d]=0,a[d]=-1,e[d]=-1,i&=~h}}function YP(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Za(i),d=1<<a;d&t|e[a]&t&&(e[a]|=t),i&=~d}}var Dr=0;function v6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _6,QP,y6,S6,b6,dx=!1,Y0=[],Mc=null,Wc=null,Bc=null,Im=new Map,wm=new Map,Pc=[],cde="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x4(e,t){switch(e){case"focusin":case"focusout":Mc=null;break;case"dragenter":case"dragleave":Wc=null;break;case"mouseover":case"mouseout":Bc=null;break;case"pointerover":case"pointerout":Im.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wm.delete(t.pointerId)}}function Ig(e,t,i,a,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:h,targetContainers:[d]},t!==null&&(t=ov(t),t!==null&&QP(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function lde(e,t,i,a,d){switch(t){case"focusin":return Mc=Ig(Mc,e,t,i,a,d),!0;case"dragenter":return Wc=Ig(Wc,e,t,i,a,d),!0;case"mouseover":return Bc=Ig(Bc,e,t,i,a,d),!0;case"pointerover":var h=d.pointerId;return Im.set(h,Ig(Im.get(h)||null,e,t,i,a,d)),!0;case"gotpointercapture":return h=d.pointerId,wm.set(h,Ig(wm.get(h)||null,e,t,i,a,d)),!0}return!1}function T6(e){var t=Bl(e.target);if(t!==null){var i=id(t);if(i!==null){if(t=i.tag,t===13){if(t=l6(i),t!==null){e.blockedOn=t,b6(e.priority,function(){y6(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ey(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=fx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);ax=a,i.target.dispatchEvent(a),ax=null}else return t=ov(i),t!==null&&QP(t),e.blockedOn=i,!1;t.shift()}return!0}function P4(e,t,i){Ey(e)&&i.delete(t)}function dde(){dx=!1,Mc!==null&&Ey(Mc)&&(Mc=null),Wc!==null&&Ey(Wc)&&(Wc=null),Bc!==null&&Ey(Bc)&&(Bc=null),Im.forEach(P4),wm.forEach(P4)}function wg(e,t){e.blockedOn===t&&(e.blockedOn=null,dx||(dx=!0,Ho.unstable_scheduleCallback(Ho.unstable_NormalPriority,dde)))}function Em(e){function t(d){return wg(d,e)}if(0<Y0.length){wg(Y0[0],e);for(var i=1;i<Y0.length;i++){var a=Y0[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Mc!==null&&wg(Mc,e),Wc!==null&&wg(Wc,e),Bc!==null&&wg(Bc,e),Im.forEach(t),wm.forEach(t),i=0;i<Pc.length;i++)a=Pc[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Pc.length&&(i=Pc[0],i.blockedOn===null);)T6(i),i.blockedOn===null&&Pc.shift()}var qf=Nu.ReactCurrentBatchConfig,uS=!0;function fde(e,t,i,a){var d=Dr,h=qf.transition;qf.transition=null;try{Dr=1,XP(e,t,i,a)}finally{Dr=d,qf.transition=h}}function hde(e,t,i,a){var d=Dr,h=qf.transition;qf.transition=null;try{Dr=4,XP(e,t,i,a)}finally{Dr=d,qf.transition=h}}function XP(e,t,i,a){if(uS){var d=fx(e,t,i,a);if(d===null)ZE(e,t,a,cS,i),x4(e,a);else if(lde(d,e,t,i,a))a.stopPropagation();else if(x4(e,a),t&4&&-1<cde.indexOf(e)){for(;d!==null;){var h=ov(d);if(h!==null&&_6(h),h=fx(e,t,i,a),h===null&&ZE(e,t,a,cS,i),h===d)break;d=h}d!==null&&a.stopPropagation()}else ZE(e,t,a,null,i)}}var cS=null;function fx(e,t,i,a){if(cS=null,e=$P(a),e=Bl(e),e!==null)if(t=id(e),t===null)e=null;else if(i=t.tag,i===13){if(e=l6(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cS=e,null}function C6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ede()){case KP:return 1;case p6:return 4;case aS:case tde:return 16;case g6:return 536870912;default:return 16}default:return 16}}var Fc=null,JP=null,Ay=null;function I6(){if(Ay)return Ay;var e,t=JP,i=t.length,a,d="value"in Fc?Fc.value:Fc.textContent,h=d.length;for(e=0;e<i&&t[e]===d[e];e++);var g=i-e;for(a=1;a<=g&&t[i-a]===d[h-a];a++);return Ay=d.slice(e,1<a?1-a:void 0)}function xy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Q0(){return!0}function k4(){return!1}function Yo(e){function t(i,a,d,h,g){this._reactName=i,this._targetInst=d,this.type=a,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Q0:k4,this.isPropagationStopped=k4,this}return mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Q0)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Q0)},persist:function(){},isPersistent:Q0}),t}var Ch={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qP=Yo(Ch),iv=mn({},Ch,{view:0,detail:0}),pde=Yo(iv),zE,HE,Eg,a1=mn({},iv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ZP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Eg&&(Eg&&e.type==="mousemove"?(zE=e.screenX-Eg.screenX,HE=e.screenY-Eg.screenY):HE=zE=0,Eg=e),zE)},movementY:function(e){return"movementY"in e?e.movementY:HE}}),D4=Yo(a1),gde=mn({},a1,{dataTransfer:0}),mde=Yo(gde),vde=mn({},iv,{relatedTarget:0}),$E=Yo(vde),_de=mn({},Ch,{animationName:0,elapsedTime:0,pseudoElement:0}),yde=Yo(_de),Sde=mn({},Ch,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bde=Yo(Sde),Tde=mn({},Ch,{data:0}),R4=Yo(Tde),Cde={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ide={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wde={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ede(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wde[e])?!!t[e]:!1}function ZP(){return Ede}var Ade=mn({},iv,{key:function(e){if(e.key){var t=Cde[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ide[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ZP,charCode:function(e){return e.type==="keypress"?xy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xde=Yo(Ade),Pde=mn({},a1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F4=Yo(Pde),kde=mn({},iv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ZP}),Dde=Yo(kde),Rde=mn({},Ch,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fde=Yo(Rde),Ode=mn({},a1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nde=Yo(Ode),Lde=[9,13,27,32],ek=Pu&&"CompositionEvent"in window,Jg=null;Pu&&"documentMode"in document&&(Jg=document.documentMode);var Mde=Pu&&"TextEvent"in window&&!Jg,w6=Pu&&(!ek||Jg&&8<Jg&&11>=Jg),O4=String.fromCharCode(32),N4=!1;function E6(e,t){switch(e){case"keyup":return Lde.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kf=!1;function Wde(e,t){switch(e){case"compositionend":return A6(t);case"keypress":return t.which!==32?null:(N4=!0,O4);case"textInput":return e=t.data,e===O4&&N4?null:e;default:return null}}function Bde(e,t){if(kf)return e==="compositionend"||!ek&&E6(e,t)?(e=I6(),Ay=JP=Fc=null,kf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return w6&&t.locale!=="ko"?null:t.data;default:return null}}var Ude={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ude[e.type]:t==="textarea"}function x6(e,t,i,a){o6(a),t=lS(t,"onChange"),0<t.length&&(i=new qP("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var qg=null,Am=null;function Vde(e){B6(e,0)}function s1(e){var t=Ff(e);if(qj(t))return e}function jde(e,t){if(e==="change")return t}var P6=!1;if(Pu){var KE;if(Pu){var YE="oninput"in document;if(!YE){var M4=document.createElement("div");M4.setAttribute("oninput","return;"),YE=typeof M4.oninput=="function"}KE=YE}else KE=!1;P6=KE&&(!document.documentMode||9<document.documentMode)}function W4(){qg&&(qg.detachEvent("onpropertychange",k6),Am=qg=null)}function k6(e){if(e.propertyName==="value"&&s1(Am)){var t=[];x6(t,Am,e,$P(e)),c6(Vde,t)}}function Gde(e,t,i){e==="focusin"?(W4(),qg=t,Am=i,qg.attachEvent("onpropertychange",k6)):e==="focusout"&&W4()}function zde(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return s1(Am)}function Hde(e,t){if(e==="click")return s1(t)}function $de(e,t){if(e==="input"||e==="change")return s1(t)}function Kde(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var is=typeof Object.is=="function"?Object.is:Kde;function xm(e,t){if(is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var d=i[a];if(!YA.call(t,d)||!is(e[d],t[d]))return!1}return!0}function B4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function U4(e,t){var i=B4(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=B4(i)}}function D6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?D6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function R6(){for(var e=window,t=nS();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=nS(e.document)}return t}function tk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yde(e){var t=R6(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&D6(i.ownerDocument.documentElement,i)){if(a!==null&&tk(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,h=Math.min(a.start,d);a=a.end===void 0?h:Math.min(a.end,d),!e.extend&&h>a&&(d=a,a=h,h=d),d=U4(i,h);var g=U4(i,a);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),h>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qde=Pu&&"documentMode"in document&&11>=document.documentMode,Df=null,hx=null,Zg=null,px=!1;function V4(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;px||Df==null||Df!==nS(a)||(a=Df,"selectionStart"in a&&tk(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Zg&&xm(Zg,a)||(Zg=a,a=lS(hx,"onSelect"),0<a.length&&(t=new qP("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Df)))}function X0(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Rf={animationend:X0("Animation","AnimationEnd"),animationiteration:X0("Animation","AnimationIteration"),animationstart:X0("Animation","AnimationStart"),transitionend:X0("Transition","TransitionEnd")},QE={},F6={};Pu&&(F6=document.createElement("div").style,"AnimationEvent"in window||(delete Rf.animationend.animation,delete Rf.animationiteration.animation,delete Rf.animationstart.animation),"TransitionEvent"in window||delete Rf.transitionend.transition);function u1(e){if(QE[e])return QE[e];if(!Rf[e])return e;var t=Rf[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in F6)return QE[e]=t[i];return e}var O6=u1("animationend"),N6=u1("animationiteration"),L6=u1("animationstart"),M6=u1("transitionend"),W6=new Map,j4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qc(e,t){W6.set(e,t),nd(t,[e])}for(var XE=0;XE<j4.length;XE++){var JE=j4[XE],Xde=JE.toLowerCase(),Jde=JE[0].toUpperCase()+JE.slice(1);Qc(Xde,"on"+Jde)}Qc(O6,"onAnimationEnd");Qc(N6,"onAnimationIteration");Qc(L6,"onAnimationStart");Qc("dblclick","onDoubleClick");Qc("focusin","onFocus");Qc("focusout","onBlur");Qc(M6,"onTransitionEnd");uh("onMouseEnter",["mouseout","mouseover"]);uh("onMouseLeave",["mouseout","mouseover"]);uh("onPointerEnter",["pointerout","pointerover"]);uh("onPointerLeave",["pointerout","pointerover"]);nd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nd("onBeforeInput",["compositionend","keypress","textInput","paste"]);nd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qde=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vg));function G4(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,Xle(a,t,void 0,e),e.currentTarget=null}function B6(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],d=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var g=a.length-1;0<=g;g--){var y=a[g],T=y.instance,C=y.currentTarget;if(y=y.listener,T!==h&&d.isPropagationStopped())break e;G4(d,y,C),h=T}else for(g=0;g<a.length;g++){if(y=a[g],T=y.instance,C=y.currentTarget,y=y.listener,T!==h&&d.isPropagationStopped())break e;G4(d,y,C),h=T}}}if(oS)throw e=cx,oS=!1,cx=null,e}function Hr(e,t){var i=t[yx];i===void 0&&(i=t[yx]=new Set);var a=e+"__bubble";i.has(a)||(U6(t,e,2,!1),i.add(a))}function qE(e,t,i){var a=0;t&&(a|=4),U6(i,e,a,t)}var J0="_reactListening"+Math.random().toString(36).slice(2);function Pm(e){if(!e[J0]){e[J0]=!0,Kj.forEach(function(i){i!=="selectionchange"&&(qde.has(i)||qE(i,!1,e),qE(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[J0]||(t[J0]=!0,qE("selectionchange",!1,t))}}function U6(e,t,i,a){switch(C6(t)){case 1:var d=fde;break;case 4:d=hde;break;default:d=XP}i=d.bind(null,t,i,e),d=void 0,!ux||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),a?d!==void 0?e.addEventListener(t,i,{capture:!0,passive:d}):e.addEventListener(t,i,!0):d!==void 0?e.addEventListener(t,i,{passive:d}):e.addEventListener(t,i,!1)}function ZE(e,t,i,a,d){var h=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var y=a.stateNode.containerInfo;if(y===d||y.nodeType===8&&y.parentNode===d)break;if(g===4)for(g=a.return;g!==null;){var T=g.tag;if((T===3||T===4)&&(T=g.stateNode.containerInfo,T===d||T.nodeType===8&&T.parentNode===d))return;g=g.return}for(;y!==null;){if(g=Bl(y),g===null)return;if(T=g.tag,T===5||T===6){a=h=g;continue e}y=y.parentNode}}a=a.return}c6(function(){var C=h,w=$P(i),x=[];e:{var F=W6.get(e);if(F!==void 0){var N=qP,E=e;switch(e){case"keypress":if(xy(i)===0)break e;case"keydown":case"keyup":N=xde;break;case"focusin":E="focus",N=$E;break;case"focusout":E="blur",N=$E;break;case"beforeblur":case"afterblur":N=$E;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=D4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=mde;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Dde;break;case O6:case N6:case L6:N=yde;break;case M6:N=Fde;break;case"scroll":N=pde;break;case"wheel":N=Nde;break;case"copy":case"cut":case"paste":N=bde;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=F4}var W=(t&4)!==0,O=!W&&e==="scroll",R=W?F!==null?F+"Capture":null:F;W=[];for(var D=C,j;D!==null;){j=D;var Y=j.stateNode;if(j.tag===5&&Y!==null&&(j=Y,R!==null&&(Y=Cm(D,R),Y!=null&&W.push(km(D,Y,j)))),O)break;D=D.return}0<W.length&&(F=new N(F,E,null,i,w),x.push({event:F,listeners:W}))}}if(!(t&7)){e:{if(F=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",F&&i!==ax&&(E=i.relatedTarget||i.fromElement)&&(Bl(E)||E[ku]))break e;if((N||F)&&(F=w.window===w?w:(F=w.ownerDocument)?F.defaultView||F.parentWindow:window,N?(E=i.relatedTarget||i.toElement,N=C,E=E?Bl(E):null,E!==null&&(O=id(E),E!==O||E.tag!==5&&E.tag!==6)&&(E=null)):(N=null,E=C),N!==E)){if(W=D4,Y="onMouseLeave",R="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(W=F4,Y="onPointerLeave",R="onPointerEnter",D="pointer"),O=N==null?F:Ff(N),j=E==null?F:Ff(E),F=new W(Y,D+"leave",N,i,w),F.target=O,F.relatedTarget=j,Y=null,Bl(w)===C&&(W=new W(R,D+"enter",E,i,w),W.target=j,W.relatedTarget=O,Y=W),O=Y,N&&E)t:{for(W=N,R=E,D=0,j=W;j;j=If(j))D++;for(j=0,Y=R;Y;Y=If(Y))j++;for(;0<D-j;)W=If(W),D--;for(;0<j-D;)R=If(R),j--;for(;D--;){if(W===R||R!==null&&W===R.alternate)break t;W=If(W),R=If(R)}W=null}else W=null;N!==null&&z4(x,F,N,W,!1),E!==null&&O!==null&&z4(x,O,E,W,!0)}}e:{if(F=C?Ff(C):window,N=F.nodeName&&F.nodeName.toLowerCase(),N==="select"||N==="input"&&F.type==="file")var de=jde;else if(L4(F))if(P6)de=$de;else{de=zde;var ne=Gde}else(N=F.nodeName)&&N.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(de=Hde);if(de&&(de=de(e,C))){x6(x,de,i,w);break e}ne&&ne(e,F,C),e==="focusout"&&(ne=F._wrapperState)&&ne.controlled&&F.type==="number"&&tx(F,"number",F.value)}switch(ne=C?Ff(C):window,e){case"focusin":(L4(ne)||ne.contentEditable==="true")&&(Df=ne,hx=C,Zg=null);break;case"focusout":Zg=hx=Df=null;break;case"mousedown":px=!0;break;case"contextmenu":case"mouseup":case"dragend":px=!1,V4(x,i,w);break;case"selectionchange":if(Qde)break;case"keydown":case"keyup":V4(x,i,w)}var X;if(ek)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else kf?E6(e,i)&&(ce="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ce="onCompositionStart");ce&&(w6&&i.locale!=="ko"&&(kf||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&kf&&(X=I6()):(Fc=w,JP="value"in Fc?Fc.value:Fc.textContent,kf=!0)),ne=lS(C,ce),0<ne.length&&(ce=new R4(ce,e,null,i,w),x.push({event:ce,listeners:ne}),X?ce.data=X:(X=A6(i),X!==null&&(ce.data=X)))),(X=Mde?Wde(e,i):Bde(e,i))&&(C=lS(C,"onBeforeInput"),0<C.length&&(w=new R4("onBeforeInput","beforeinput",null,i,w),x.push({event:w,listeners:C}),w.data=X))}B6(x,t)})}function km(e,t,i){return{instance:e,listener:t,currentTarget:i}}function lS(e,t){for(var i=t+"Capture",a=[];e!==null;){var d=e,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=Cm(e,i),h!=null&&a.unshift(km(e,h,d)),h=Cm(e,t),h!=null&&a.push(km(e,h,d))),e=e.return}return a}function If(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function z4(e,t,i,a,d){for(var h=t._reactName,g=[];i!==null&&i!==a;){var y=i,T=y.alternate,C=y.stateNode;if(T!==null&&T===a)break;y.tag===5&&C!==null&&(y=C,d?(T=Cm(i,h),T!=null&&g.unshift(km(i,T,y))):d||(T=Cm(i,h),T!=null&&g.push(km(i,T,y)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Zde=/\r\n?/g,efe=/\u0000|\uFFFD/g;function H4(e){return(typeof e=="string"?e:""+e).replace(Zde,`
`).replace(efe,"")}function q0(e,t,i){if(t=H4(t),H4(e)!==t&&i)throw Error(dt(425))}function dS(){}var gx=null,mx=null;function vx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _x=typeof setTimeout=="function"?setTimeout:void 0,tfe=typeof clearTimeout=="function"?clearTimeout:void 0,$4=typeof Promise=="function"?Promise:void 0,rfe=typeof queueMicrotask=="function"?queueMicrotask:typeof $4<"u"?function(e){return $4.resolve(null).then(e).catch(nfe)}:_x;function nfe(e){setTimeout(function(){throw e})}function eA(e,t){var i=t,a=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(a===0){e.removeChild(d),Em(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=d}while(i);Em(t)}function Uc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function K4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Ih=Math.random().toString(36).slice(2),Ms="__reactFiber$"+Ih,Dm="__reactProps$"+Ih,ku="__reactContainer$"+Ih,yx="__reactEvents$"+Ih,ife="__reactListeners$"+Ih,ofe="__reactHandles$"+Ih;function Bl(e){var t=e[Ms];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ku]||i[Ms]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=K4(e);e!==null;){if(i=e[Ms])return i;e=K4(e)}return t}e=i,i=e.parentNode}return null}function ov(e){return e=e[Ms]||e[ku],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ff(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(dt(33))}function c1(e){return e[Dm]||null}var Sx=[],Of=-1;function Xc(e){return{current:e}}function Kr(e){0>Of||(e.current=Sx[Of],Sx[Of]=null,Of--)}function jr(e,t){Of++,Sx[Of]=e.current,e.current=t}var Kc={},Ri=Xc(Kc),So=Xc(!1),Xl=Kc;function ch(e,t){var i=e.type.contextTypes;if(!i)return Kc;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in i)d[h]=t[h];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function bo(e){return e=e.childContextTypes,e!=null}function fS(){Kr(So),Kr(Ri)}function Y4(e,t,i){if(Ri.current!==Kc)throw Error(dt(168));jr(Ri,t),jr(So,i)}function V6(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var d in a)if(!(d in t))throw Error(dt(108,Gle(e)||"Unknown",d));return mn({},i,a)}function hS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kc,Xl=Ri.current,jr(Ri,e),jr(So,So.current),!0}function Q4(e,t,i){var a=e.stateNode;if(!a)throw Error(dt(169));i?(e=V6(e,t,Xl),a.__reactInternalMemoizedMergedChildContext=e,Kr(So),Kr(Ri),jr(Ri,e)):Kr(So),jr(So,i)}var vu=null,l1=!1,tA=!1;function j6(e){vu===null?vu=[e]:vu.push(e)}function afe(e){l1=!0,j6(e)}function Jc(){if(!tA&&vu!==null){tA=!0;var e=0,t=Dr;try{var i=vu;for(Dr=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}vu=null,l1=!1}catch(d){throw vu!==null&&(vu=vu.slice(e+1)),h6(KP,Jc),d}finally{Dr=t,tA=!1}}return null}var Nf=[],Lf=0,pS=null,gS=0,pa=[],ga=0,Jl=null,Cu=1,Iu="";function Nl(e,t){Nf[Lf++]=gS,Nf[Lf++]=pS,pS=e,gS=t}function G6(e,t,i){pa[ga++]=Cu,pa[ga++]=Iu,pa[ga++]=Jl,Jl=e;var a=Cu;e=Iu;var d=32-Za(a)-1;a&=~(1<<d),i+=1;var h=32-Za(t)+d;if(30<h){var g=d-d%5;h=(a&(1<<g)-1).toString(32),a>>=g,d-=g,Cu=1<<32-Za(t)+d|i<<d|a,Iu=h+e}else Cu=1<<h|i<<d|a,Iu=e}function rk(e){e.return!==null&&(Nl(e,1),G6(e,1,0))}function nk(e){for(;e===pS;)pS=Nf[--Lf],Nf[Lf]=null,gS=Nf[--Lf],Nf[Lf]=null;for(;e===Jl;)Jl=pa[--ga],pa[ga]=null,Iu=pa[--ga],pa[ga]=null,Cu=pa[--ga],pa[ga]=null}var Vo=null,Uo=null,nn=!1,Qa=null;function z6(e,t){var i=ma(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function X4(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vo=e,Uo=Uc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vo=e,Uo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Jl!==null?{id:Cu,overflow:Iu}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=ma(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Vo=e,Uo=null,!0):!1;default:return!1}}function bx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tx(e){if(nn){var t=Uo;if(t){var i=t;if(!X4(e,t)){if(bx(e))throw Error(dt(418));t=Uc(i.nextSibling);var a=Vo;t&&X4(e,t)?z6(a,i):(e.flags=e.flags&-4097|2,nn=!1,Vo=e)}}else{if(bx(e))throw Error(dt(418));e.flags=e.flags&-4097|2,nn=!1,Vo=e}}}function J4(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vo=e}function Z0(e){if(e!==Vo)return!1;if(!nn)return J4(e),nn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vx(e.type,e.memoizedProps)),t&&(t=Uo)){if(bx(e))throw H6(),Error(dt(418));for(;t;)z6(e,t),t=Uc(t.nextSibling)}if(J4(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(dt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Uo=Uc(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Uo=null}}else Uo=Vo?Uc(e.stateNode.nextSibling):null;return!0}function H6(){for(var e=Uo;e;)e=Uc(e.nextSibling)}function lh(){Uo=Vo=null,nn=!1}function ik(e){Qa===null?Qa=[e]:Qa.push(e)}var sfe=Nu.ReactCurrentBatchConfig;function Ag(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(dt(309));var a=i.stateNode}if(!a)throw Error(dt(147,e));var d=a,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(g){var y=d.refs;g===null?delete y[h]:y[h]=g},t._stringRef=h,t)}if(typeof e!="string")throw Error(dt(284));if(!i._owner)throw Error(dt(290,e))}return e}function ey(e,t){throw e=Object.prototype.toString.call(t),Error(dt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function q4(e){var t=e._init;return t(e._payload)}function $6(e){function t(R,D){if(e){var j=R.deletions;j===null?(R.deletions=[D],R.flags|=16):j.push(D)}}function i(R,D){if(!e)return null;for(;D!==null;)t(R,D),D=D.sibling;return null}function a(R,D){for(R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function d(R,D){return R=zc(R,D),R.index=0,R.sibling=null,R}function h(R,D,j){return R.index=j,e?(j=R.alternate,j!==null?(j=j.index,j<D?(R.flags|=2,D):j):(R.flags|=2,D)):(R.flags|=1048576,D)}function g(R){return e&&R.alternate===null&&(R.flags|=2),R}function y(R,D,j,Y){return D===null||D.tag!==6?(D=uA(j,R.mode,Y),D.return=R,D):(D=d(D,j),D.return=R,D)}function T(R,D,j,Y){var de=j.type;return de===Pf?w(R,D,j.props.children,Y,j.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===wc&&q4(de)===D.type)?(Y=d(D,j.props),Y.ref=Ag(R,D,j),Y.return=R,Y):(Y=Ny(j.type,j.key,j.props,null,R.mode,Y),Y.ref=Ag(R,D,j),Y.return=R,Y)}function C(R,D,j,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=cA(j,R.mode,Y),D.return=R,D):(D=d(D,j.children||[]),D.return=R,D)}function w(R,D,j,Y,de){return D===null||D.tag!==7?(D=$l(j,R.mode,Y,de),D.return=R,D):(D=d(D,j),D.return=R,D)}function x(R,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return D=uA(""+D,R.mode,j),D.return=R,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G0:return j=Ny(D.type,D.key,D.props,null,R.mode,j),j.ref=Ag(R,null,D),j.return=R,j;case xf:return D=cA(D,R.mode,j),D.return=R,D;case wc:var Y=D._init;return x(R,Y(D._payload),j)}if(Bg(D)||Tg(D))return D=$l(D,R.mode,j,null),D.return=R,D;ey(R,D)}return null}function F(R,D,j,Y){var de=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return de!==null?null:y(R,D,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G0:return j.key===de?T(R,D,j,Y):null;case xf:return j.key===de?C(R,D,j,Y):null;case wc:return de=j._init,F(R,D,de(j._payload),Y)}if(Bg(j)||Tg(j))return de!==null?null:w(R,D,j,Y,null);ey(R,j)}return null}function N(R,D,j,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return R=R.get(j)||null,y(D,R,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G0:return R=R.get(Y.key===null?j:Y.key)||null,T(D,R,Y,de);case xf:return R=R.get(Y.key===null?j:Y.key)||null,C(D,R,Y,de);case wc:var ne=Y._init;return N(R,D,j,ne(Y._payload),de)}if(Bg(Y)||Tg(Y))return R=R.get(j)||null,w(D,R,Y,de,null);ey(D,Y)}return null}function E(R,D,j,Y){for(var de=null,ne=null,X=D,ce=D=0,he=null;X!==null&&ce<j.length;ce++){X.index>ce?(he=X,X=null):he=X.sibling;var le=F(R,X,j[ce],Y);if(le===null){X===null&&(X=he);break}e&&X&&le.alternate===null&&t(R,X),D=h(le,D,ce),ne===null?de=le:ne.sibling=le,ne=le,X=he}if(ce===j.length)return i(R,X),nn&&Nl(R,ce),de;if(X===null){for(;ce<j.length;ce++)X=x(R,j[ce],Y),X!==null&&(D=h(X,D,ce),ne===null?de=X:ne.sibling=X,ne=X);return nn&&Nl(R,ce),de}for(X=a(R,X);ce<j.length;ce++)he=N(X,R,ce,j[ce],Y),he!==null&&(e&&he.alternate!==null&&X.delete(he.key===null?ce:he.key),D=h(he,D,ce),ne===null?de=he:ne.sibling=he,ne=he);return e&&X.forEach(function(fe){return t(R,fe)}),nn&&Nl(R,ce),de}function W(R,D,j,Y){var de=Tg(j);if(typeof de!="function")throw Error(dt(150));if(j=de.call(j),j==null)throw Error(dt(151));for(var ne=de=null,X=D,ce=D=0,he=null,le=j.next();X!==null&&!le.done;ce++,le=j.next()){X.index>ce?(he=X,X=null):he=X.sibling;var fe=F(R,X,le.value,Y);if(fe===null){X===null&&(X=he);break}e&&X&&fe.alternate===null&&t(R,X),D=h(fe,D,ce),ne===null?de=fe:ne.sibling=fe,ne=fe,X=he}if(le.done)return i(R,X),nn&&Nl(R,ce),de;if(X===null){for(;!le.done;ce++,le=j.next())le=x(R,le.value,Y),le!==null&&(D=h(le,D,ce),ne===null?de=le:ne.sibling=le,ne=le);return nn&&Nl(R,ce),de}for(X=a(R,X);!le.done;ce++,le=j.next())le=N(X,R,ce,le.value,Y),le!==null&&(e&&le.alternate!==null&&X.delete(le.key===null?ce:le.key),D=h(le,D,ce),ne===null?de=le:ne.sibling=le,ne=le);return e&&X.forEach(function(_e){return t(R,_e)}),nn&&Nl(R,ce),de}function O(R,D,j,Y){if(typeof j=="object"&&j!==null&&j.type===Pf&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case G0:e:{for(var de=j.key,ne=D;ne!==null;){if(ne.key===de){if(de=j.type,de===Pf){if(ne.tag===7){i(R,ne.sibling),D=d(ne,j.props.children),D.return=R,R=D;break e}}else if(ne.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===wc&&q4(de)===ne.type){i(R,ne.sibling),D=d(ne,j.props),D.ref=Ag(R,ne,j),D.return=R,R=D;break e}i(R,ne);break}else t(R,ne);ne=ne.sibling}j.type===Pf?(D=$l(j.props.children,R.mode,Y,j.key),D.return=R,R=D):(Y=Ny(j.type,j.key,j.props,null,R.mode,Y),Y.ref=Ag(R,D,j),Y.return=R,R=Y)}return g(R);case xf:e:{for(ne=j.key;D!==null;){if(D.key===ne)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){i(R,D.sibling),D=d(D,j.children||[]),D.return=R,R=D;break e}else{i(R,D);break}else t(R,D);D=D.sibling}D=cA(j,R.mode,Y),D.return=R,R=D}return g(R);case wc:return ne=j._init,O(R,D,ne(j._payload),Y)}if(Bg(j))return E(R,D,j,Y);if(Tg(j))return W(R,D,j,Y);ey(R,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,D!==null&&D.tag===6?(i(R,D.sibling),D=d(D,j),D.return=R,R=D):(i(R,D),D=uA(j,R.mode,Y),D.return=R,R=D),g(R)):i(R,D)}return O}var dh=$6(!0),K6=$6(!1),mS=Xc(null),vS=null,Mf=null,ok=null;function ak(){ok=Mf=vS=null}function sk(e){var t=mS.current;Kr(mS),e._currentValue=t}function Cx(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function Zf(e,t){vS=e,ok=Mf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yo=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(ok!==e)if(e={context:e,memoizedValue:t,next:null},Mf===null){if(vS===null)throw Error(dt(308));Mf=e,vS.dependencies={lanes:0,firstContext:e}}else Mf=Mf.next=e;return t}var Ul=null;function uk(e){Ul===null?Ul=[e]:Ul.push(e)}function Y6(e,t,i,a){var d=t.interleaved;return d===null?(i.next=i,uk(t)):(i.next=d.next,d.next=i),t.interleaved=i,Du(e,a)}function Du(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Ec=!1;function ck(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Au(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vc(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,_r&2){var d=a.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),a.pending=t,Du(e,i)}return d=a.interleaved,d===null?(t.next=t,uk(a)):(t.next=d.next,d.next=t),a.interleaved=t,Du(e,i)}function Py(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,YP(e,i)}}function Z4(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var d=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};h===null?d=h=g:h=h.next=g,i=i.next}while(i!==null);h===null?d=h=t:h=h.next=t}else d=h=t;i={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function _S(e,t,i,a){var d=e.updateQueue;Ec=!1;var h=d.firstBaseUpdate,g=d.lastBaseUpdate,y=d.shared.pending;if(y!==null){d.shared.pending=null;var T=y,C=T.next;T.next=null,g===null?h=C:g.next=C,g=T;var w=e.alternate;w!==null&&(w=w.updateQueue,y=w.lastBaseUpdate,y!==g&&(y===null?w.firstBaseUpdate=C:y.next=C,w.lastBaseUpdate=T))}if(h!==null){var x=d.baseState;g=0,w=C=T=null,y=h;do{var F=y.lane,N=y.eventTime;if((a&F)===F){w!==null&&(w=w.next={eventTime:N,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var E=e,W=y;switch(F=t,N=i,W.tag){case 1:if(E=W.payload,typeof E=="function"){x=E.call(N,x,F);break e}x=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=W.payload,F=typeof E=="function"?E.call(N,x,F):E,F==null)break e;x=mn({},x,F);break e;case 2:Ec=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,F=d.effects,F===null?d.effects=[y]:F.push(y))}else N={eventTime:N,lane:F,tag:y.tag,payload:y.payload,callback:y.callback,next:null},w===null?(C=w=N,T=x):w=w.next=N,g|=F;if(y=y.next,y===null){if(y=d.shared.pending,y===null)break;F=y,y=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(1);if(w===null&&(T=x),d.baseState=T,d.firstBaseUpdate=C,d.lastBaseUpdate=w,t=d.shared.interleaved,t!==null){d=t;do g|=d.lane,d=d.next;while(d!==t)}else h===null&&(d.shared.lanes=0);Zl|=g,e.lanes=g,e.memoizedState=x}}function e3(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],d=a.callback;if(d!==null){if(a.callback=null,a=i,typeof d!="function")throw Error(dt(191,d));d.call(a)}}}var av={},js=Xc(av),Rm=Xc(av),Fm=Xc(av);function Vl(e){if(e===av)throw Error(dt(174));return e}function lk(e,t){switch(jr(Fm,t),jr(Rm,e),jr(js,av),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nx(t,e)}Kr(js),jr(js,t)}function fh(){Kr(js),Kr(Rm),Kr(Fm)}function X6(e){Vl(Fm.current);var t=Vl(js.current),i=nx(t,e.type);t!==i&&(jr(Rm,e),jr(js,i))}function dk(e){Rm.current===e&&(Kr(js),Kr(Rm))}var pn=Xc(0);function yS(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rA=[];function fk(){for(var e=0;e<rA.length;e++)rA[e]._workInProgressVersionPrimary=null;rA.length=0}var ky=Nu.ReactCurrentDispatcher,nA=Nu.ReactCurrentBatchConfig,ql=0,gn=null,Kn=null,ti=null,SS=!1,em=!1,Om=0,ufe=0;function xi(){throw Error(dt(321))}function hk(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!is(e[i],t[i]))return!1;return!0}function pk(e,t,i,a,d,h){if(ql=h,gn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ky.current=e===null||e.memoizedState===null?ffe:hfe,e=i(a,d),em){h=0;do{if(em=!1,Om=0,25<=h)throw Error(dt(301));h+=1,ti=Kn=null,t.updateQueue=null,ky.current=pfe,e=i(a,d)}while(em)}if(ky.current=bS,t=Kn!==null&&Kn.next!==null,ql=0,ti=Kn=gn=null,SS=!1,t)throw Error(dt(300));return e}function gk(){var e=Om!==0;return Om=0,e}function Rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?gn.memoizedState=ti=e:ti=ti.next=e,ti}function ya(){if(Kn===null){var e=gn.alternate;e=e!==null?e.memoizedState:null}else e=Kn.next;var t=ti===null?gn.memoizedState:ti.next;if(t!==null)ti=t,Kn=e;else{if(e===null)throw Error(dt(310));Kn=e,e={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},ti===null?gn.memoizedState=ti=e:ti=ti.next=e}return ti}function Nm(e,t){return typeof t=="function"?t(e):t}function iA(e){var t=ya(),i=t.queue;if(i===null)throw Error(dt(311));i.lastRenderedReducer=e;var a=Kn,d=a.baseQueue,h=i.pending;if(h!==null){if(d!==null){var g=d.next;d.next=h.next,h.next=g}a.baseQueue=d=h,i.pending=null}if(d!==null){h=d.next,a=a.baseState;var y=g=null,T=null,C=h;do{var w=C.lane;if((ql&w)===w)T!==null&&(T=T.next={lane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),a=C.hasEagerState?C.eagerState:e(a,C.action);else{var x={lane:w,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null};T===null?(y=T=x,g=a):T=T.next=x,gn.lanes|=w,Zl|=w}C=C.next}while(C!==null&&C!==h);T===null?g=a:T.next=y,is(a,t.memoizedState)||(yo=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=T,i.lastRenderedState=a}if(e=i.interleaved,e!==null){d=e;do h=d.lane,gn.lanes|=h,Zl|=h,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function oA(e){var t=ya(),i=t.queue;if(i===null)throw Error(dt(311));i.lastRenderedReducer=e;var a=i.dispatch,d=i.pending,h=t.memoizedState;if(d!==null){i.pending=null;var g=d=d.next;do h=e(h,g.action),g=g.next;while(g!==d);is(h,t.memoizedState)||(yo=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,a]}function J6(){}function q6(e,t){var i=gn,a=ya(),d=t(),h=!is(a.memoizedState,d);if(h&&(a.memoizedState=d,yo=!0),a=a.queue,mk(tG.bind(null,i,a,e),[e]),a.getSnapshot!==t||h||ti!==null&&ti.memoizedState.tag&1){if(i.flags|=2048,Lm(9,eG.bind(null,i,a,d,t),void 0,null),ri===null)throw Error(dt(349));ql&30||Z6(i,t,d)}return d}function Z6(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=gn.updateQueue,t===null?(t={lastEffect:null,stores:null},gn.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function eG(e,t,i,a){t.value=i,t.getSnapshot=a,rG(t)&&nG(e)}function tG(e,t,i){return i(function(){rG(t)&&nG(e)})}function rG(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!is(e,i)}catch{return!0}}function nG(e){var t=Du(e,1);t!==null&&es(t,e,1,-1)}function t3(e){var t=Rs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nm,lastRenderedState:e},t.queue=e,e=e.dispatch=dfe.bind(null,gn,e),[t.memoizedState,e]}function Lm(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=gn.updateQueue,t===null?(t={lastEffect:null,stores:null},gn.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function iG(){return ya().memoizedState}function Dy(e,t,i,a){var d=Rs();gn.flags|=e,d.memoizedState=Lm(1|t,i,void 0,a===void 0?null:a)}function d1(e,t,i,a){var d=ya();a=a===void 0?null:a;var h=void 0;if(Kn!==null){var g=Kn.memoizedState;if(h=g.destroy,a!==null&&hk(a,g.deps)){d.memoizedState=Lm(t,i,h,a);return}}gn.flags|=e,d.memoizedState=Lm(1|t,i,h,a)}function r3(e,t){return Dy(8390656,8,e,t)}function mk(e,t){return d1(2048,8,e,t)}function oG(e,t){return d1(4,2,e,t)}function aG(e,t){return d1(4,4,e,t)}function sG(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uG(e,t,i){return i=i!=null?i.concat([e]):null,d1(4,4,sG.bind(null,t,e),i)}function vk(){}function cG(e,t){var i=ya();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&hk(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function lG(e,t){var i=ya();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&hk(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function dG(e,t,i){return ql&21?(is(i,t)||(i=m6(),gn.lanes|=i,Zl|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=i)}function cfe(e,t){var i=Dr;Dr=i!==0&&4>i?i:4,e(!0);var a=nA.transition;nA.transition={};try{e(!1),t()}finally{Dr=i,nA.transition=a}}function fG(){return ya().memoizedState}function lfe(e,t,i){var a=Gc(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},hG(e))pG(t,i);else if(i=Y6(e,t,i,a),i!==null){var d=qi();es(i,e,a,d),gG(i,t,a)}}function dfe(e,t,i){var a=Gc(e),d={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(hG(e))pG(t,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,y=h(g,i);if(d.hasEagerState=!0,d.eagerState=y,is(y,g)){var T=t.interleaved;T===null?(d.next=d,uk(t)):(d.next=T.next,T.next=d),t.interleaved=d;return}}catch{}finally{}i=Y6(e,t,d,a),i!==null&&(d=qi(),es(i,e,a,d),gG(i,t,a))}}function hG(e){var t=e.alternate;return e===gn||t!==null&&t===gn}function pG(e,t){em=SS=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function gG(e,t,i){if(i&4194240){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,YP(e,i)}}var bS={readContext:_a,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},ffe={readContext:_a,useCallback:function(e,t){return Rs().memoizedState=[e,t===void 0?null:t],e},useContext:_a,useEffect:r3,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Dy(4194308,4,sG.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Dy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dy(4,2,e,t)},useMemo:function(e,t){var i=Rs();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=Rs();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=lfe.bind(null,gn,e),[a.memoizedState,e]},useRef:function(e){var t=Rs();return e={current:e},t.memoizedState=e},useState:t3,useDebugValue:vk,useDeferredValue:function(e){return Rs().memoizedState=e},useTransition:function(){var e=t3(!1),t=e[0];return e=cfe.bind(null,e[1]),Rs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=gn,d=Rs();if(nn){if(i===void 0)throw Error(dt(407));i=i()}else{if(i=t(),ri===null)throw Error(dt(349));ql&30||Z6(a,t,i)}d.memoizedState=i;var h={value:i,getSnapshot:t};return d.queue=h,r3(tG.bind(null,a,h,e),[e]),a.flags|=2048,Lm(9,eG.bind(null,a,h,i,t),void 0,null),i},useId:function(){var e=Rs(),t=ri.identifierPrefix;if(nn){var i=Iu,a=Cu;i=(a&~(1<<32-Za(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=Om++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=ufe++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hfe={readContext:_a,useCallback:cG,useContext:_a,useEffect:mk,useImperativeHandle:uG,useInsertionEffect:oG,useLayoutEffect:aG,useMemo:lG,useReducer:iA,useRef:iG,useState:function(){return iA(Nm)},useDebugValue:vk,useDeferredValue:function(e){var t=ya();return dG(t,Kn.memoizedState,e)},useTransition:function(){var e=iA(Nm)[0],t=ya().memoizedState;return[e,t]},useMutableSource:J6,useSyncExternalStore:q6,useId:fG,unstable_isNewReconciler:!1},pfe={readContext:_a,useCallback:cG,useContext:_a,useEffect:mk,useImperativeHandle:uG,useInsertionEffect:oG,useLayoutEffect:aG,useMemo:lG,useReducer:oA,useRef:iG,useState:function(){return oA(Nm)},useDebugValue:vk,useDeferredValue:function(e){var t=ya();return Kn===null?t.memoizedState=e:dG(t,Kn.memoizedState,e)},useTransition:function(){var e=oA(Nm)[0],t=ya().memoizedState;return[e,t]},useMutableSource:J6,useSyncExternalStore:q6,useId:fG,unstable_isNewReconciler:!1};function Ka(e,t){if(e&&e.defaultProps){t=mn({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Ix(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:mn({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var f1={isMounted:function(e){return(e=e._reactInternals)?id(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=qi(),d=Gc(e),h=Au(a,d);h.payload=t,i!=null&&(h.callback=i),t=Vc(e,h,d),t!==null&&(es(t,e,d,a),Py(t,e,d))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=qi(),d=Gc(e),h=Au(a,d);h.tag=1,h.payload=t,i!=null&&(h.callback=i),t=Vc(e,h,d),t!==null&&(es(t,e,d,a),Py(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=qi(),a=Gc(e),d=Au(i,a);d.tag=2,t!=null&&(d.callback=t),t=Vc(e,d,a),t!==null&&(es(t,e,a,i),Py(t,e,a))}};function n3(e,t,i,a,d,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,g):t.prototype&&t.prototype.isPureReactComponent?!xm(i,a)||!xm(d,h):!0}function mG(e,t,i){var a=!1,d=Kc,h=t.contextType;return typeof h=="object"&&h!==null?h=_a(h):(d=bo(t)?Xl:Ri.current,a=t.contextTypes,h=(a=a!=null)?ch(e,d):Kc),t=new t(i,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=f1,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=h),t}function i3(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&f1.enqueueReplaceState(t,t.state,null)}function wx(e,t,i,a){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs={},ck(e);var h=t.contextType;typeof h=="object"&&h!==null?d.context=_a(h):(h=bo(t)?Xl:Ri.current,d.context=ch(e,h)),d.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Ix(e,t,h,i),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&f1.enqueueReplaceState(d,d.state,null),_S(e,i,d,a),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function hh(e,t){try{var i="",a=t;do i+=jle(a),a=a.return;while(a);var d=i}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:d,digest:null}}function aA(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Ex(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var gfe=typeof WeakMap=="function"?WeakMap:Map;function vG(e,t,i){i=Au(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){CS||(CS=!0,Lx=a),Ex(e,t)},i}function _G(e,t,i){i=Au(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var d=t.value;i.payload=function(){return a(d)},i.callback=function(){Ex(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(i.callback=function(){Ex(e,t),typeof a!="function"&&(jc===null?jc=new Set([this]):jc.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function o3(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new gfe;var d=new Set;a.set(t,d)}else d=a.get(t),d===void 0&&(d=new Set,a.set(t,d));d.has(i)||(d.add(i),e=Pfe.bind(null,e,t,i),t.then(e,e))}function a3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function s3(e,t,i,a,d){return e.mode&1?(e.flags|=65536,e.lanes=d,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Au(-1,1),t.tag=2,Vc(i,t,1))),i.lanes|=1),e)}var mfe=Nu.ReactCurrentOwner,yo=!1;function Qi(e,t,i,a){t.child=e===null?K6(t,null,i,a):dh(t,e.child,i,a)}function u3(e,t,i,a,d){i=i.render;var h=t.ref;return Zf(t,d),a=pk(e,t,i,a,h,d),i=gk(),e!==null&&!yo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Ru(e,t,d)):(nn&&i&&rk(t),t.flags|=1,Qi(e,t,a,d),t.child)}function c3(e,t,i,a,d){if(e===null){var h=i.type;return typeof h=="function"&&!wk(h)&&h.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=h,yG(e,t,h,a,d)):(e=Ny(i.type,null,a,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!(e.lanes&d)){var g=h.memoizedProps;if(i=i.compare,i=i!==null?i:xm,i(g,a)&&e.ref===t.ref)return Ru(e,t,d)}return t.flags|=1,e=zc(h,a),e.ref=t.ref,e.return=t,t.child=e}function yG(e,t,i,a,d){if(e!==null){var h=e.memoizedProps;if(xm(h,a)&&e.ref===t.ref)if(yo=!1,t.pendingProps=a=h,(e.lanes&d)!==0)e.flags&131072&&(yo=!0);else return t.lanes=e.lanes,Ru(e,t,d)}return Ax(e,t,i,a,d)}function SG(e,t,i){var a=t.pendingProps,d=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jr(Bf,Bo),Bo|=i;else{if(!(i&1073741824))return e=h!==null?h.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,jr(Bf,Bo),Bo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:i,jr(Bf,Bo),Bo|=a}else h!==null?(a=h.baseLanes|i,t.memoizedState=null):a=i,jr(Bf,Bo),Bo|=a;return Qi(e,t,d,i),t.child}function bG(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Ax(e,t,i,a,d){var h=bo(i)?Xl:Ri.current;return h=ch(t,h),Zf(t,d),i=pk(e,t,i,a,h,d),a=gk(),e!==null&&!yo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Ru(e,t,d)):(nn&&a&&rk(t),t.flags|=1,Qi(e,t,i,d),t.child)}function l3(e,t,i,a,d){if(bo(i)){var h=!0;hS(t)}else h=!1;if(Zf(t,d),t.stateNode===null)Ry(e,t),mG(t,i,a),wx(t,i,a,d),a=!0;else if(e===null){var g=t.stateNode,y=t.memoizedProps;g.props=y;var T=g.context,C=i.contextType;typeof C=="object"&&C!==null?C=_a(C):(C=bo(i)?Xl:Ri.current,C=ch(t,C));var w=i.getDerivedStateFromProps,x=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function";x||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==a||T!==C)&&i3(t,g,a,C),Ec=!1;var F=t.memoizedState;g.state=F,_S(t,a,g,d),T=t.memoizedState,y!==a||F!==T||So.current||Ec?(typeof w=="function"&&(Ix(t,i,w,a),T=t.memoizedState),(y=Ec||n3(t,i,y,a,F,T,C))?(x||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=T),g.props=a,g.state=T,g.context=C,a=y):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,Q6(e,t),y=t.memoizedProps,C=t.type===t.elementType?y:Ka(t.type,y),g.props=C,x=t.pendingProps,F=g.context,T=i.contextType,typeof T=="object"&&T!==null?T=_a(T):(T=bo(i)?Xl:Ri.current,T=ch(t,T));var N=i.getDerivedStateFromProps;(w=typeof N=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==x||F!==T)&&i3(t,g,a,T),Ec=!1,F=t.memoizedState,g.state=F,_S(t,a,g,d);var E=t.memoizedState;y!==x||F!==E||So.current||Ec?(typeof N=="function"&&(Ix(t,i,N,a),E=t.memoizedState),(C=Ec||n3(t,i,C,a,F,E,T)||!1)?(w||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,E,T),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,E,T)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=E),g.props=a,g.state=E,g.context=T,a=C):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),a=!1)}return xx(e,t,i,a,h,d)}function xx(e,t,i,a,d,h){bG(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return d&&Q4(t,i,!1),Ru(e,t,h);a=t.stateNode,mfe.current=t;var y=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=dh(t,e.child,null,h),t.child=dh(t,null,y,h)):Qi(e,t,y,h),t.memoizedState=a.state,d&&Q4(t,i,!0),t.child}function TG(e){var t=e.stateNode;t.pendingContext?Y4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Y4(e,t.context,!1),lk(e,t.containerInfo)}function d3(e,t,i,a,d){return lh(),ik(d),t.flags|=256,Qi(e,t,i,a),t.child}var Px={dehydrated:null,treeContext:null,retryLane:0};function kx(e){return{baseLanes:e,cachePool:null,transitions:null}}function CG(e,t,i){var a=t.pendingProps,d=pn.current,h=!1,g=(t.flags&128)!==0,y;if((y=g)||(y=e!==null&&e.memoizedState===null?!1:(d&2)!==0),y?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),jr(pn,d&1),e===null)return Tx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=a.children,e=a.fallback,h?(a=t.mode,h=t.child,g={mode:"hidden",children:g},!(a&1)&&h!==null?(h.childLanes=0,h.pendingProps=g):h=g1(g,a,0,null),e=$l(e,a,i,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=kx(i),t.memoizedState=Px,e):_k(t,g));if(d=e.memoizedState,d!==null&&(y=d.dehydrated,y!==null))return vfe(e,t,g,a,y,d,i);if(h){h=a.fallback,g=t.mode,d=e.child,y=d.sibling;var T={mode:"hidden",children:a.children};return!(g&1)&&t.child!==d?(a=t.child,a.childLanes=0,a.pendingProps=T,t.deletions=null):(a=zc(d,T),a.subtreeFlags=d.subtreeFlags&14680064),y!==null?h=zc(y,h):(h=$l(h,g,i,null),h.flags|=2),h.return=t,a.return=t,a.sibling=h,t.child=a,a=h,h=t.child,g=e.child.memoizedState,g=g===null?kx(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=e.childLanes&~i,t.memoizedState=Px,a}return h=e.child,e=h.sibling,a=zc(h,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function _k(e,t){return t=g1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ty(e,t,i,a){return a!==null&&ik(a),dh(t,e.child,null,i),e=_k(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vfe(e,t,i,a,d,h,g){if(i)return t.flags&256?(t.flags&=-257,a=aA(Error(dt(422))),ty(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=a.fallback,d=t.mode,a=g1({mode:"visible",children:a.children},d,0,null),h=$l(h,d,g,null),h.flags|=2,a.return=t,h.return=t,a.sibling=h,t.child=a,t.mode&1&&dh(t,e.child,null,g),t.child.memoizedState=kx(g),t.memoizedState=Px,h);if(!(t.mode&1))return ty(e,t,g,null);if(d.data==="$!"){if(a=d.nextSibling&&d.nextSibling.dataset,a)var y=a.dgst;return a=y,h=Error(dt(419)),a=aA(h,a,void 0),ty(e,t,g,a)}if(y=(g&e.childLanes)!==0,yo||y){if(a=ri,a!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(a.suspendedLanes|g)?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,Du(e,d),es(a,e,d,-1))}return Ik(),a=aA(Error(dt(421))),ty(e,t,g,a)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=kfe.bind(null,e),d._reactRetry=t,null):(e=h.treeContext,Uo=Uc(d.nextSibling),Vo=t,nn=!0,Qa=null,e!==null&&(pa[ga++]=Cu,pa[ga++]=Iu,pa[ga++]=Jl,Cu=e.id,Iu=e.overflow,Jl=t),t=_k(t,a.children),t.flags|=4096,t)}function f3(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Cx(e.return,t,i)}function sA(e,t,i,a,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:d}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=i,h.tailMode=d)}function IG(e,t,i){var a=t.pendingProps,d=a.revealOrder,h=a.tail;if(Qi(e,t,a.children,i),a=pn.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&f3(e,i,t);else if(e.tag===19)f3(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(jr(pn,a),!(t.mode&1))t.memoizedState=null;else switch(d){case"forwards":for(i=t.child,d=null;i!==null;)e=i.alternate,e!==null&&yS(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=t.child,t.child=null):(d=i.sibling,i.sibling=null),sA(t,!1,d,i,h);break;case"backwards":for(i=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&yS(e)===null){t.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}sA(t,!0,i,null,h);break;case"together":sA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ry(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ru(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Zl|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(dt(153));if(t.child!==null){for(e=t.child,i=zc(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=zc(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function _fe(e,t,i){switch(t.tag){case 3:TG(t),lh();break;case 5:X6(t);break;case 1:bo(t.type)&&hS(t);break;case 4:lk(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,d=t.memoizedProps.value;jr(mS,a._currentValue),a._currentValue=d;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(jr(pn,pn.current&1),t.flags|=128,null):i&t.child.childLanes?CG(e,t,i):(jr(pn,pn.current&1),e=Ru(e,t,i),e!==null?e.sibling:null);jr(pn,pn.current&1);break;case 19:if(a=(i&t.childLanes)!==0,e.flags&128){if(a)return IG(e,t,i);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),jr(pn,pn.current),a)break;return null;case 22:case 23:return t.lanes=0,SG(e,t,i)}return Ru(e,t,i)}var wG,Dx,EG,AG;wG=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Dx=function(){};EG=function(e,t,i,a){var d=e.memoizedProps;if(d!==a){e=t.stateNode,Vl(js.current);var h=null;switch(i){case"input":d=ZA(e,d),a=ZA(e,a),h=[];break;case"select":d=mn({},d,{value:void 0}),a=mn({},a,{value:void 0}),h=[];break;case"textarea":d=rx(e,d),a=rx(e,a),h=[];break;default:typeof d.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=dS)}ix(i,a);var g;i=null;for(C in d)if(!a.hasOwnProperty(C)&&d.hasOwnProperty(C)&&d[C]!=null)if(C==="style"){var y=d[C];for(g in y)y.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(bm.hasOwnProperty(C)?h||(h=[]):(h=h||[]).push(C,null));for(C in a){var T=a[C];if(y=d!=null?d[C]:void 0,a.hasOwnProperty(C)&&T!==y&&(T!=null||y!=null))if(C==="style")if(y){for(g in y)!y.hasOwnProperty(g)||T&&T.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in T)T.hasOwnProperty(g)&&y[g]!==T[g]&&(i||(i={}),i[g]=T[g])}else i||(h||(h=[]),h.push(C,i)),i=T;else C==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,y=y?y.__html:void 0,T!=null&&y!==T&&(h=h||[]).push(C,T)):C==="children"?typeof T!="string"&&typeof T!="number"||(h=h||[]).push(C,""+T):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(bm.hasOwnProperty(C)?(T!=null&&C==="onScroll"&&Hr("scroll",e),h||y===T||(h=[])):(h=h||[]).push(C,T))}i&&(h=h||[]).push("style",i);var C=h;(t.updateQueue=C)&&(t.flags|=4)}};AG=function(e,t,i,a){i!==a&&(t.flags|=4)};function xg(e,t){if(!nn)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Pi(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags&14680064,a|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function yfe(e,t,i){var a=t.pendingProps;switch(nk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(t),null;case 1:return bo(t.type)&&fS(),Pi(t),null;case 3:return a=t.stateNode,fh(),Kr(So),Kr(Ri),fk(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Z0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qa!==null&&(Bx(Qa),Qa=null))),Dx(e,t),Pi(t),null;case 5:dk(t);var d=Vl(Fm.current);if(i=t.type,e!==null&&t.stateNode!=null)EG(e,t,i,a,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(dt(166));return Pi(t),null}if(e=Vl(js.current),Z0(t)){a=t.stateNode,i=t.type;var h=t.memoizedProps;switch(a[Ms]=t,a[Dm]=h,e=(t.mode&1)!==0,i){case"dialog":Hr("cancel",a),Hr("close",a);break;case"iframe":case"object":case"embed":Hr("load",a);break;case"video":case"audio":for(d=0;d<Vg.length;d++)Hr(Vg[d],a);break;case"source":Hr("error",a);break;case"img":case"image":case"link":Hr("error",a),Hr("load",a);break;case"details":Hr("toggle",a);break;case"input":b4(a,h),Hr("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},Hr("invalid",a);break;case"textarea":C4(a,h),Hr("invalid",a)}ix(i,h),d=null;for(var g in h)if(h.hasOwnProperty(g)){var y=h[g];g==="children"?typeof y=="string"?a.textContent!==y&&(h.suppressHydrationWarning!==!0&&q0(a.textContent,y,e),d=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(h.suppressHydrationWarning!==!0&&q0(a.textContent,y,e),d=["children",""+y]):bm.hasOwnProperty(g)&&y!=null&&g==="onScroll"&&Hr("scroll",a)}switch(i){case"input":z0(a),T4(a,h,!0);break;case"textarea":z0(a),I4(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=dS)}a=d,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=t6(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[Ms]=t,e[Dm]=a,wG(e,t,!1,!1),t.stateNode=e;e:{switch(g=ox(i,a),i){case"dialog":Hr("cancel",e),Hr("close",e),d=a;break;case"iframe":case"object":case"embed":Hr("load",e),d=a;break;case"video":case"audio":for(d=0;d<Vg.length;d++)Hr(Vg[d],e);d=a;break;case"source":Hr("error",e),d=a;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),d=a;break;case"details":Hr("toggle",e),d=a;break;case"input":b4(e,a),d=ZA(e,a),Hr("invalid",e);break;case"option":d=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},d=mn({},a,{value:void 0}),Hr("invalid",e);break;case"textarea":C4(e,a),d=rx(e,a),Hr("invalid",e);break;default:d=a}ix(i,d),y=d;for(h in y)if(y.hasOwnProperty(h)){var T=y[h];h==="style"?i6(e,T):h==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&r6(e,T)):h==="children"?typeof T=="string"?(i!=="textarea"||T!=="")&&Tm(e,T):typeof T=="number"&&Tm(e,""+T):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(bm.hasOwnProperty(h)?T!=null&&h==="onScroll"&&Hr("scroll",e):T!=null&&jP(e,h,T,g))}switch(i){case"input":z0(e),T4(e,a,!1);break;case"textarea":z0(e),I4(e);break;case"option":a.value!=null&&e.setAttribute("value",""+$c(a.value));break;case"select":e.multiple=!!a.multiple,h=a.value,h!=null?Qf(e,!!a.multiple,h,!1):a.defaultValue!=null&&Qf(e,!!a.multiple,a.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=dS)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pi(t),null;case 6:if(e&&t.stateNode!=null)AG(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(dt(166));if(i=Vl(Fm.current),Vl(js.current),Z0(t)){if(a=t.stateNode,i=t.memoizedProps,a[Ms]=t,(h=a.nodeValue!==i)&&(e=Vo,e!==null))switch(e.tag){case 3:q0(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&q0(a.nodeValue,i,(e.mode&1)!==0)}h&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Ms]=t,t.stateNode=a}return Pi(t),null;case 13:if(Kr(pn),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nn&&Uo!==null&&t.mode&1&&!(t.flags&128))H6(),lh(),t.flags|=98560,h=!1;else if(h=Z0(t),a!==null&&a.dehydrated!==null){if(e===null){if(!h)throw Error(dt(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(dt(317));h[Ms]=t}else lh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pi(t),h=!1}else Qa!==null&&(Bx(Qa),Qa=null),h=!0;if(!h)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||pn.current&1?Yn===0&&(Yn=3):Ik())),t.updateQueue!==null&&(t.flags|=4),Pi(t),null);case 4:return fh(),Dx(e,t),e===null&&Pm(t.stateNode.containerInfo),Pi(t),null;case 10:return sk(t.type._context),Pi(t),null;case 17:return bo(t.type)&&fS(),Pi(t),null;case 19:if(Kr(pn),h=t.memoizedState,h===null)return Pi(t),null;if(a=(t.flags&128)!==0,g=h.rendering,g===null)if(a)xg(h,!1);else{if(Yn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=yS(e),g!==null){for(t.flags|=128,xg(h,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)h=i,e=a,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,e=g.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return jr(pn,pn.current&1|2),t.child}e=e.sibling}h.tail!==null&&Rn()>ph&&(t.flags|=128,a=!0,xg(h,!1),t.lanes=4194304)}else{if(!a)if(e=yS(g),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),xg(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!nn)return Pi(t),null}else 2*Rn()-h.renderingStartTime>ph&&i!==1073741824&&(t.flags|=128,a=!0,xg(h,!1),t.lanes=4194304);h.isBackwards?(g.sibling=t.child,t.child=g):(i=h.last,i!==null?i.sibling=g:t.child=g,h.last=g)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Rn(),t.sibling=null,i=pn.current,jr(pn,a?i&1|2:i&1),t):(Pi(t),null);case 22:case 23:return Ck(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Bo&1073741824&&(Pi(t),t.subtreeFlags&6&&(t.flags|=8192)):Pi(t),null;case 24:return null;case 25:return null}throw Error(dt(156,t.tag))}function Sfe(e,t){switch(nk(t),t.tag){case 1:return bo(t.type)&&fS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fh(),Kr(So),Kr(Ri),fk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dk(t),null;case 13:if(Kr(pn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(dt(340));lh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kr(pn),null;case 4:return fh(),null;case 10:return sk(t.type._context),null;case 22:case 23:return Ck(),null;case 24:return null;default:return null}}var ry=!1,Di=!1,bfe=typeof WeakSet=="function"?WeakSet:Set,It=null;function Wf(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Cn(e,t,a)}else i.current=null}function Rx(e,t,i){try{i()}catch(a){Cn(e,t,a)}}var h3=!1;function Tfe(e,t){if(gx=uS,e=R6(),tk(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var d=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var g=0,y=-1,T=-1,C=0,w=0,x=e,F=null;t:for(;;){for(var N;x!==i||d!==0&&x.nodeType!==3||(y=g+d),x!==h||a!==0&&x.nodeType!==3||(T=g+a),x.nodeType===3&&(g+=x.nodeValue.length),(N=x.firstChild)!==null;)F=x,x=N;for(;;){if(x===e)break t;if(F===i&&++C===d&&(y=g),F===h&&++w===a&&(T=g),(N=x.nextSibling)!==null)break;x=F,F=x.parentNode}x=N}i=y===-1||T===-1?null:{start:y,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(mx={focusedElem:e,selectionRange:i},uS=!1,It=t;It!==null;)if(t=It,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,It=e;else for(;It!==null;){t=It;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var W=E.memoizedProps,O=E.memoizedState,R=t.stateNode,D=R.getSnapshotBeforeUpdate(t.elementType===t.type?W:Ka(t.type,W),O);R.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(dt(163))}}catch(Y){Cn(t,t.return,Y)}if(e=t.sibling,e!==null){e.return=t.return,It=e;break}It=t.return}return E=h3,h3=!1,E}function tm(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&e)===e){var h=d.destroy;d.destroy=void 0,h!==void 0&&Rx(t,i,h)}d=d.next}while(d!==a)}}function h1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Fx(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function xG(e){var t=e.alternate;t!==null&&(e.alternate=null,xG(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ms],delete t[Dm],delete t[yx],delete t[ife],delete t[ofe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PG(e){return e.tag===5||e.tag===3||e.tag===4}function p3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PG(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ox(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=dS));else if(a!==4&&(e=e.child,e!==null))for(Ox(e,t,i),e=e.sibling;e!==null;)Ox(e,t,i),e=e.sibling}function Nx(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Nx(e,t,i),e=e.sibling;e!==null;)Nx(e,t,i),e=e.sibling}var vi=null,Ya=!1;function yc(e,t,i){for(i=i.child;i!==null;)kG(e,t,i),i=i.sibling}function kG(e,t,i){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(o1,i)}catch{}switch(i.tag){case 5:Di||Wf(i,t);case 6:var a=vi,d=Ya;vi=null,yc(e,t,i),vi=a,Ya=d,vi!==null&&(Ya?(e=vi,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):vi.removeChild(i.stateNode));break;case 18:vi!==null&&(Ya?(e=vi,i=i.stateNode,e.nodeType===8?eA(e.parentNode,i):e.nodeType===1&&eA(e,i),Em(e)):eA(vi,i.stateNode));break;case 4:a=vi,d=Ya,vi=i.stateNode.containerInfo,Ya=!0,yc(e,t,i),vi=a,Ya=d;break;case 0:case 11:case 14:case 15:if(!Di&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){d=a=a.next;do{var h=d,g=h.destroy;h=h.tag,g!==void 0&&(h&2||h&4)&&Rx(i,t,g),d=d.next}while(d!==a)}yc(e,t,i);break;case 1:if(!Di&&(Wf(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(y){Cn(i,t,y)}yc(e,t,i);break;case 21:yc(e,t,i);break;case 22:i.mode&1?(Di=(a=Di)||i.memoizedState!==null,yc(e,t,i),Di=a):yc(e,t,i);break;default:yc(e,t,i)}}function g3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new bfe),t.forEach(function(a){var d=Dfe.bind(null,e,a);i.has(a)||(i.add(a),a.then(d,d))})}}function Ga(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var d=i[a];try{var h=e,g=t,y=g;e:for(;y!==null;){switch(y.tag){case 5:vi=y.stateNode,Ya=!1;break e;case 3:vi=y.stateNode.containerInfo,Ya=!0;break e;case 4:vi=y.stateNode.containerInfo,Ya=!0;break e}y=y.return}if(vi===null)throw Error(dt(160));kG(h,g,d),vi=null,Ya=!1;var T=d.alternate;T!==null&&(T.return=null),d.return=null}catch(C){Cn(d,t,C)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)DG(t,e),t=t.sibling}function DG(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ga(t,e),Ps(e),a&4){try{tm(3,e,e.return),h1(3,e)}catch(W){Cn(e,e.return,W)}try{tm(5,e,e.return)}catch(W){Cn(e,e.return,W)}}break;case 1:Ga(t,e),Ps(e),a&512&&i!==null&&Wf(i,i.return);break;case 5:if(Ga(t,e),Ps(e),a&512&&i!==null&&Wf(i,i.return),e.flags&32){var d=e.stateNode;try{Tm(d,"")}catch(W){Cn(e,e.return,W)}}if(a&4&&(d=e.stateNode,d!=null)){var h=e.memoizedProps,g=i!==null?i.memoizedProps:h,y=e.type,T=e.updateQueue;if(e.updateQueue=null,T!==null)try{y==="input"&&h.type==="radio"&&h.name!=null&&Zj(d,h),ox(y,g);var C=ox(y,h);for(g=0;g<T.length;g+=2){var w=T[g],x=T[g+1];w==="style"?i6(d,x):w==="dangerouslySetInnerHTML"?r6(d,x):w==="children"?Tm(d,x):jP(d,w,x,C)}switch(y){case"input":ex(d,h);break;case"textarea":e6(d,h);break;case"select":var F=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var N=h.value;N!=null?Qf(d,!!h.multiple,N,!1):F!==!!h.multiple&&(h.defaultValue!=null?Qf(d,!!h.multiple,h.defaultValue,!0):Qf(d,!!h.multiple,h.multiple?[]:"",!1))}d[Dm]=h}catch(W){Cn(e,e.return,W)}}break;case 6:if(Ga(t,e),Ps(e),a&4){if(e.stateNode===null)throw Error(dt(162));d=e.stateNode,h=e.memoizedProps;try{d.nodeValue=h}catch(W){Cn(e,e.return,W)}}break;case 3:if(Ga(t,e),Ps(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Em(t.containerInfo)}catch(W){Cn(e,e.return,W)}break;case 4:Ga(t,e),Ps(e);break;case 13:Ga(t,e),Ps(e),d=e.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(bk=Rn())),a&4&&g3(e);break;case 22:if(w=i!==null&&i.memoizedState!==null,e.mode&1?(Di=(C=Di)||w,Ga(t,e),Di=C):Ga(t,e),Ps(e),a&8192){if(C=e.memoizedState!==null,(e.stateNode.isHidden=C)&&!w&&e.mode&1)for(It=e,w=e.child;w!==null;){for(x=It=w;It!==null;){switch(F=It,N=F.child,F.tag){case 0:case 11:case 14:case 15:tm(4,F,F.return);break;case 1:Wf(F,F.return);var E=F.stateNode;if(typeof E.componentWillUnmount=="function"){a=F,i=F.return;try{t=a,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(W){Cn(a,i,W)}}break;case 5:Wf(F,F.return);break;case 22:if(F.memoizedState!==null){v3(x);continue}}N!==null?(N.return=F,It=N):v3(x)}w=w.sibling}e:for(w=null,x=e;;){if(x.tag===5){if(w===null){w=x;try{d=x.stateNode,C?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(y=x.stateNode,T=x.memoizedProps.style,g=T!=null&&T.hasOwnProperty("display")?T.display:null,y.style.display=n6("display",g))}catch(W){Cn(e,e.return,W)}}}else if(x.tag===6){if(w===null)try{x.stateNode.nodeValue=C?"":x.memoizedProps}catch(W){Cn(e,e.return,W)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;w===x&&(w=null),x=x.return}w===x&&(w=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Ga(t,e),Ps(e),a&4&&g3(e);break;case 21:break;default:Ga(t,e),Ps(e)}}function Ps(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(PG(i)){var a=i;break e}i=i.return}throw Error(dt(160))}switch(a.tag){case 5:var d=a.stateNode;a.flags&32&&(Tm(d,""),a.flags&=-33);var h=p3(e);Nx(e,h,d);break;case 3:case 4:var g=a.stateNode.containerInfo,y=p3(e);Ox(e,y,g);break;default:throw Error(dt(161))}}catch(T){Cn(e,e.return,T)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cfe(e,t,i){It=e,RG(e)}function RG(e,t,i){for(var a=(e.mode&1)!==0;It!==null;){var d=It,h=d.child;if(d.tag===22&&a){var g=d.memoizedState!==null||ry;if(!g){var y=d.alternate,T=y!==null&&y.memoizedState!==null||Di;y=ry;var C=Di;if(ry=g,(Di=T)&&!C)for(It=d;It!==null;)g=It,T=g.child,g.tag===22&&g.memoizedState!==null?_3(d):T!==null?(T.return=g,It=T):_3(d);for(;h!==null;)It=h,RG(h),h=h.sibling;It=d,ry=y,Di=C}m3(e)}else d.subtreeFlags&8772&&h!==null?(h.return=d,It=h):m3(e)}}function m3(e){for(;It!==null;){var t=It;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Di||h1(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Di)if(i===null)a.componentDidMount();else{var d=t.elementType===t.type?i.memoizedProps:Ka(t.type,i.memoizedProps);a.componentDidUpdate(d,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&e3(t,h,a);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}e3(t,g,i)}break;case 5:var y=t.stateNode;if(i===null&&t.flags&4){i=y;var T=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&i.focus();break;case"img":T.src&&(i.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var C=t.alternate;if(C!==null){var w=C.memoizedState;if(w!==null){var x=w.dehydrated;x!==null&&Em(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(dt(163))}Di||t.flags&512&&Fx(t)}catch(F){Cn(t,t.return,F)}}if(t===e){It=null;break}if(i=t.sibling,i!==null){i.return=t.return,It=i;break}It=t.return}}function v3(e){for(;It!==null;){var t=It;if(t===e){It=null;break}var i=t.sibling;if(i!==null){i.return=t.return,It=i;break}It=t.return}}function _3(e){for(;It!==null;){var t=It;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{h1(4,t)}catch(T){Cn(t,i,T)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var d=t.return;try{a.componentDidMount()}catch(T){Cn(t,d,T)}}var h=t.return;try{Fx(t)}catch(T){Cn(t,h,T)}break;case 5:var g=t.return;try{Fx(t)}catch(T){Cn(t,g,T)}}}catch(T){Cn(t,t.return,T)}if(t===e){It=null;break}var y=t.sibling;if(y!==null){y.return=t.return,It=y;break}It=t.return}}var Ife=Math.ceil,TS=Nu.ReactCurrentDispatcher,yk=Nu.ReactCurrentOwner,va=Nu.ReactCurrentBatchConfig,_r=0,ri=null,Wn=null,Si=0,Bo=0,Bf=Xc(0),Yn=0,Mm=null,Zl=0,p1=0,Sk=0,rm=null,vo=null,bk=0,ph=1/0,gu=null,CS=!1,Lx=null,jc=null,ny=!1,Oc=null,IS=0,nm=0,Mx=null,Fy=-1,Oy=0;function qi(){return _r&6?Rn():Fy!==-1?Fy:Fy=Rn()}function Gc(e){return e.mode&1?_r&2&&Si!==0?Si&-Si:sfe.transition!==null?(Oy===0&&(Oy=m6()),Oy):(e=Dr,e!==0||(e=window.event,e=e===void 0?16:C6(e.type)),e):1}function es(e,t,i,a){if(50<nm)throw nm=0,Mx=null,Error(dt(185));nv(e,i,a),(!(_r&2)||e!==ri)&&(e===ri&&(!(_r&2)&&(p1|=i),Yn===4&&kc(e,Si)),To(e,a),i===1&&_r===0&&!(t.mode&1)&&(ph=Rn()+500,l1&&Jc()))}function To(e,t){var i=e.callbackNode;sde(e,t);var a=sS(e,e===ri?Si:0);if(a===0)i!==null&&A4(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&A4(i),t===1)e.tag===0?afe(y3.bind(null,e)):j6(y3.bind(null,e)),rfe(function(){!(_r&6)&&Jc()}),i=null;else{switch(v6(a)){case 1:i=KP;break;case 4:i=p6;break;case 16:i=aS;break;case 536870912:i=g6;break;default:i=aS}i=UG(i,FG.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function FG(e,t){if(Fy=-1,Oy=0,_r&6)throw Error(dt(327));var i=e.callbackNode;if(eh()&&e.callbackNode!==i)return null;var a=sS(e,e===ri?Si:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=wS(e,a);else{t=a;var d=_r;_r|=2;var h=NG();(ri!==e||Si!==t)&&(gu=null,ph=Rn()+500,Hl(e,t));do try{Afe();break}catch(y){OG(e,y)}while(1);ak(),TS.current=h,_r=d,Wn!==null?t=0:(ri=null,Si=0,t=Yn)}if(t!==0){if(t===2&&(d=lx(e),d!==0&&(a=d,t=Wx(e,d))),t===1)throw i=Mm,Hl(e,0),kc(e,a),To(e,Rn()),i;if(t===6)kc(e,a);else{if(d=e.current.alternate,!(a&30)&&!wfe(d)&&(t=wS(e,a),t===2&&(h=lx(e),h!==0&&(a=h,t=Wx(e,h))),t===1))throw i=Mm,Hl(e,0),kc(e,a),To(e,Rn()),i;switch(e.finishedWork=d,e.finishedLanes=a,t){case 0:case 1:throw Error(dt(345));case 2:Ll(e,vo,gu);break;case 3:if(kc(e,a),(a&130023424)===a&&(t=bk+500-Rn(),10<t)){if(sS(e,0)!==0)break;if(d=e.suspendedLanes,(d&a)!==a){qi(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=_x(Ll.bind(null,e,vo,gu),t);break}Ll(e,vo,gu);break;case 4:if(kc(e,a),(a&4194240)===a)break;for(t=e.eventTimes,d=-1;0<a;){var g=31-Za(a);h=1<<g,g=t[g],g>d&&(d=g),a&=~h}if(a=d,a=Rn()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Ife(a/1960))-a,10<a){e.timeoutHandle=_x(Ll.bind(null,e,vo,gu),a);break}Ll(e,vo,gu);break;case 5:Ll(e,vo,gu);break;default:throw Error(dt(329))}}}return To(e,Rn()),e.callbackNode===i?FG.bind(null,e):null}function Wx(e,t){var i=rm;return e.current.memoizedState.isDehydrated&&(Hl(e,t).flags|=256),e=wS(e,t),e!==2&&(t=vo,vo=i,t!==null&&Bx(t)),e}function Bx(e){vo===null?vo=e:vo.push.apply(vo,e)}function wfe(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var d=i[a],h=d.getSnapshot;d=d.value;try{if(!is(h(),d))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kc(e,t){for(t&=~Sk,t&=~p1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Za(t),a=1<<i;e[i]=-1,t&=~a}}function y3(e){if(_r&6)throw Error(dt(327));eh();var t=sS(e,0);if(!(t&1))return To(e,Rn()),null;var i=wS(e,t);if(e.tag!==0&&i===2){var a=lx(e);a!==0&&(t=a,i=Wx(e,a))}if(i===1)throw i=Mm,Hl(e,0),kc(e,t),To(e,Rn()),i;if(i===6)throw Error(dt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ll(e,vo,gu),To(e,Rn()),null}function Tk(e,t){var i=_r;_r|=1;try{return e(t)}finally{_r=i,_r===0&&(ph=Rn()+500,l1&&Jc())}}function ed(e){Oc!==null&&Oc.tag===0&&!(_r&6)&&eh();var t=_r;_r|=1;var i=va.transition,a=Dr;try{if(va.transition=null,Dr=1,e)return e()}finally{Dr=a,va.transition=i,_r=t,!(_r&6)&&Jc()}}function Ck(){Bo=Bf.current,Kr(Bf)}function Hl(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,tfe(i)),Wn!==null)for(i=Wn.return;i!==null;){var a=i;switch(nk(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&fS();break;case 3:fh(),Kr(So),Kr(Ri),fk();break;case 5:dk(a);break;case 4:fh();break;case 13:Kr(pn);break;case 19:Kr(pn);break;case 10:sk(a.type._context);break;case 22:case 23:Ck()}i=i.return}if(ri=e,Wn=e=zc(e.current,null),Si=Bo=t,Yn=0,Mm=null,Sk=p1=Zl=0,vo=rm=null,Ul!==null){for(t=0;t<Ul.length;t++)if(i=Ul[t],a=i.interleaved,a!==null){i.interleaved=null;var d=a.next,h=i.pending;if(h!==null){var g=h.next;h.next=d,a.next=g}i.pending=a}Ul=null}return e}function OG(e,t){do{var i=Wn;try{if(ak(),ky.current=bS,SS){for(var a=gn.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}SS=!1}if(ql=0,ti=Kn=gn=null,em=!1,Om=0,yk.current=null,i===null||i.return===null){Yn=1,Mm=t,Wn=null;break}e:{var h=e,g=i.return,y=i,T=t;if(t=Si,y.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var C=T,w=y,x=w.tag;if(!(w.mode&1)&&(x===0||x===11||x===15)){var F=w.alternate;F?(w.updateQueue=F.updateQueue,w.memoizedState=F.memoizedState,w.lanes=F.lanes):(w.updateQueue=null,w.memoizedState=null)}var N=a3(g);if(N!==null){N.flags&=-257,s3(N,g,y,h,t),N.mode&1&&o3(h,C,t),t=N,T=C;var E=t.updateQueue;if(E===null){var W=new Set;W.add(T),t.updateQueue=W}else E.add(T);break e}else{if(!(t&1)){o3(h,C,t),Ik();break e}T=Error(dt(426))}}else if(nn&&y.mode&1){var O=a3(g);if(O!==null){!(O.flags&65536)&&(O.flags|=256),s3(O,g,y,h,t),ik(hh(T,y));break e}}h=T=hh(T,y),Yn!==4&&(Yn=2),rm===null?rm=[h]:rm.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var R=vG(h,T,t);Z4(h,R);break e;case 1:y=T;var D=h.type,j=h.stateNode;if(!(h.flags&128)&&(typeof D.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(jc===null||!jc.has(j)))){h.flags|=65536,t&=-t,h.lanes|=t;var Y=_G(h,y,t);Z4(h,Y);break e}}h=h.return}while(h!==null)}MG(i)}catch(de){t=de,Wn===i&&i!==null&&(Wn=i=i.return);continue}break}while(1)}function NG(){var e=TS.current;return TS.current=bS,e===null?bS:e}function Ik(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),ri===null||!(Zl&268435455)&&!(p1&268435455)||kc(ri,Si)}function wS(e,t){var i=_r;_r|=2;var a=NG();(ri!==e||Si!==t)&&(gu=null,Hl(e,t));do try{Efe();break}catch(d){OG(e,d)}while(1);if(ak(),_r=i,TS.current=a,Wn!==null)throw Error(dt(261));return ri=null,Si=0,Yn}function Efe(){for(;Wn!==null;)LG(Wn)}function Afe(){for(;Wn!==null&&!qle();)LG(Wn)}function LG(e){var t=BG(e.alternate,e,Bo);e.memoizedProps=e.pendingProps,t===null?MG(e):Wn=t,yk.current=null}function MG(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Sfe(i,t),i!==null){i.flags&=32767,Wn=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yn=6,Wn=null;return}}else if(i=yfe(i,t,Bo),i!==null){Wn=i;return}if(t=t.sibling,t!==null){Wn=t;return}Wn=t=e}while(t!==null);Yn===0&&(Yn=5)}function Ll(e,t,i){var a=Dr,d=va.transition;try{va.transition=null,Dr=1,xfe(e,t,i,a)}finally{va.transition=d,Dr=a}return null}function xfe(e,t,i,a){do eh();while(Oc!==null);if(_r&6)throw Error(dt(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(dt(177));e.callbackNode=null,e.callbackPriority=0;var h=i.lanes|i.childLanes;if(ude(e,h),e===ri&&(Wn=ri=null,Si=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||ny||(ny=!0,UG(aS,function(){return eh(),null})),h=(i.flags&15990)!==0,i.subtreeFlags&15990||h){h=va.transition,va.transition=null;var g=Dr;Dr=1;var y=_r;_r|=4,yk.current=null,Tfe(e,i),DG(i,e),Yde(mx),uS=!!gx,mx=gx=null,e.current=i,Cfe(i),Zle(),_r=y,Dr=g,va.transition=h}else e.current=i;if(ny&&(ny=!1,Oc=e,IS=d),h=e.pendingLanes,h===0&&(jc=null),rde(i.stateNode),To(e,Rn()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)d=t[i],a(d.value,{componentStack:d.stack,digest:d.digest});if(CS)throw CS=!1,e=Lx,Lx=null,e;return IS&1&&e.tag!==0&&eh(),h=e.pendingLanes,h&1?e===Mx?nm++:(nm=0,Mx=e):nm=0,Jc(),null}function eh(){if(Oc!==null){var e=v6(IS),t=va.transition,i=Dr;try{if(va.transition=null,Dr=16>e?16:e,Oc===null)var a=!1;else{if(e=Oc,Oc=null,IS=0,_r&6)throw Error(dt(331));var d=_r;for(_r|=4,It=e.current;It!==null;){var h=It,g=h.child;if(It.flags&16){var y=h.deletions;if(y!==null){for(var T=0;T<y.length;T++){var C=y[T];for(It=C;It!==null;){var w=It;switch(w.tag){case 0:case 11:case 15:tm(8,w,h)}var x=w.child;if(x!==null)x.return=w,It=x;else for(;It!==null;){w=It;var F=w.sibling,N=w.return;if(xG(w),w===C){It=null;break}if(F!==null){F.return=N,It=F;break}It=N}}}var E=h.alternate;if(E!==null){var W=E.child;if(W!==null){E.child=null;do{var O=W.sibling;W.sibling=null,W=O}while(W!==null)}}It=h}}if(h.subtreeFlags&2064&&g!==null)g.return=h,It=g;else e:for(;It!==null;){if(h=It,h.flags&2048)switch(h.tag){case 0:case 11:case 15:tm(9,h,h.return)}var R=h.sibling;if(R!==null){R.return=h.return,It=R;break e}It=h.return}}var D=e.current;for(It=D;It!==null;){g=It;var j=g.child;if(g.subtreeFlags&2064&&j!==null)j.return=g,It=j;else e:for(g=D;It!==null;){if(y=It,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:h1(9,y)}}catch(de){Cn(y,y.return,de)}if(y===g){It=null;break e}var Y=y.sibling;if(Y!==null){Y.return=y.return,It=Y;break e}It=y.return}}if(_r=d,Jc(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(o1,e)}catch{}a=!0}return a}finally{Dr=i,va.transition=t}}return!1}function S3(e,t,i){t=hh(i,t),t=vG(e,t,1),e=Vc(e,t,1),t=qi(),e!==null&&(nv(e,1,t),To(e,t))}function Cn(e,t,i){if(e.tag===3)S3(e,e,i);else for(;t!==null;){if(t.tag===3){S3(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(jc===null||!jc.has(a))){e=hh(i,e),e=_G(t,e,1),t=Vc(t,e,1),e=qi(),t!==null&&(nv(t,1,e),To(t,e));break}}t=t.return}}function Pfe(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=qi(),e.pingedLanes|=e.suspendedLanes&i,ri===e&&(Si&i)===i&&(Yn===4||Yn===3&&(Si&130023424)===Si&&500>Rn()-bk?Hl(e,0):Sk|=i),To(e,t)}function WG(e,t){t===0&&(e.mode&1?(t=K0,K0<<=1,!(K0&130023424)&&(K0=4194304)):t=1);var i=qi();e=Du(e,t),e!==null&&(nv(e,t,i),To(e,i))}function kfe(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),WG(e,i)}function Dfe(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(dt(314))}a!==null&&a.delete(t),WG(e,i)}var BG;BG=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||So.current)yo=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return yo=!1,_fe(e,t,i);yo=!!(e.flags&131072)}else yo=!1,nn&&t.flags&1048576&&G6(t,gS,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Ry(e,t),e=t.pendingProps;var d=ch(t,Ri.current);Zf(t,i),d=pk(null,t,a,e,d,i);var h=gk();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bo(a)?(h=!0,hS(t)):h=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ck(t),d.updater=f1,t.stateNode=d,d._reactInternals=t,wx(t,a,e,i),t=xx(null,t,a,!0,h,i)):(t.tag=0,nn&&h&&rk(t),Qi(null,t,d,i),t=t.child),t;case 16:a=t.elementType;e:{switch(Ry(e,t),e=t.pendingProps,d=a._init,a=d(a._payload),t.type=a,d=t.tag=Ffe(a),e=Ka(a,e),d){case 0:t=Ax(null,t,a,e,i);break e;case 1:t=l3(null,t,a,e,i);break e;case 11:t=u3(null,t,a,e,i);break e;case 14:t=c3(null,t,a,Ka(a.type,e),i);break e}throw Error(dt(306,a,""))}return t;case 0:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Ka(a,d),Ax(e,t,a,d,i);case 1:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Ka(a,d),l3(e,t,a,d,i);case 3:e:{if(TG(t),e===null)throw Error(dt(387));a=t.pendingProps,h=t.memoizedState,d=h.element,Q6(e,t),_S(t,a,null,i);var g=t.memoizedState;if(a=g.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){d=hh(Error(dt(423)),t),t=d3(e,t,a,i,d);break e}else if(a!==d){d=hh(Error(dt(424)),t),t=d3(e,t,a,i,d);break e}else for(Uo=Uc(t.stateNode.containerInfo.firstChild),Vo=t,nn=!0,Qa=null,i=K6(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(lh(),a===d){t=Ru(e,t,i);break e}Qi(e,t,a,i)}t=t.child}return t;case 5:return X6(t),e===null&&Tx(t),a=t.type,d=t.pendingProps,h=e!==null?e.memoizedProps:null,g=d.children,vx(a,d)?g=null:h!==null&&vx(a,h)&&(t.flags|=32),bG(e,t),Qi(e,t,g,i),t.child;case 6:return e===null&&Tx(t),null;case 13:return CG(e,t,i);case 4:return lk(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=dh(t,null,a,i):Qi(e,t,a,i),t.child;case 11:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Ka(a,d),u3(e,t,a,d,i);case 7:return Qi(e,t,t.pendingProps,i),t.child;case 8:return Qi(e,t,t.pendingProps.children,i),t.child;case 12:return Qi(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,d=t.pendingProps,h=t.memoizedProps,g=d.value,jr(mS,a._currentValue),a._currentValue=g,h!==null)if(is(h.value,g)){if(h.children===d.children&&!So.current){t=Ru(e,t,i);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var y=h.dependencies;if(y!==null){g=h.child;for(var T=y.firstContext;T!==null;){if(T.context===a){if(h.tag===1){T=Au(-1,i&-i),T.tag=2;var C=h.updateQueue;if(C!==null){C=C.shared;var w=C.pending;w===null?T.next=T:(T.next=w.next,w.next=T),C.pending=T}}h.lanes|=i,T=h.alternate,T!==null&&(T.lanes|=i),Cx(h.return,i,t),y.lanes|=i;break}T=T.next}}else if(h.tag===10)g=h.type===t.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(dt(341));g.lanes|=i,y=g.alternate,y!==null&&(y.lanes|=i),Cx(g,i,t),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}Qi(e,t,d.children,i),t=t.child}return t;case 9:return d=t.type,a=t.pendingProps.children,Zf(t,i),d=_a(d),a=a(d),t.flags|=1,Qi(e,t,a,i),t.child;case 14:return a=t.type,d=Ka(a,t.pendingProps),d=Ka(a.type,d),c3(e,t,a,d,i);case 15:return yG(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Ka(a,d),Ry(e,t),t.tag=1,bo(a)?(e=!0,hS(t)):e=!1,Zf(t,i),mG(t,a,d),wx(t,a,d,i),xx(null,t,a,!0,e,i);case 19:return IG(e,t,i);case 22:return SG(e,t,i)}throw Error(dt(156,t.tag))};function UG(e,t){return h6(e,t)}function Rfe(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ma(e,t,i,a){return new Rfe(e,t,i,a)}function wk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ffe(e){if(typeof e=="function")return wk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zP)return 11;if(e===HP)return 14}return 2}function zc(e,t){var i=e.alternate;return i===null?(i=ma(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ny(e,t,i,a,d,h){var g=2;if(a=e,typeof e=="function")wk(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Pf:return $l(i.children,d,h,t);case GP:g=8,d|=8;break;case QA:return e=ma(12,i,t,d|2),e.elementType=QA,e.lanes=h,e;case XA:return e=ma(13,i,t,d),e.elementType=XA,e.lanes=h,e;case JA:return e=ma(19,i,t,d),e.elementType=JA,e.lanes=h,e;case Xj:return g1(i,d,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yj:g=10;break e;case Qj:g=9;break e;case zP:g=11;break e;case HP:g=14;break e;case wc:g=16,a=null;break e}throw Error(dt(130,e==null?e:typeof e,""))}return t=ma(g,i,t,d),t.elementType=e,t.type=a,t.lanes=h,t}function $l(e,t,i,a){return e=ma(7,e,a,t),e.lanes=i,e}function g1(e,t,i,a){return e=ma(22,e,a,t),e.elementType=Xj,e.lanes=i,e.stateNode={isHidden:!1},e}function uA(e,t,i){return e=ma(6,e,null,t),e.lanes=i,e}function cA(e,t,i){return t=ma(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ofe(e,t,i,a,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=GE(0),this.expirationTimes=GE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=GE(0),this.identifierPrefix=a,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Ek(e,t,i,a,d,h,g,y,T){return e=new Ofe(e,t,i,y,T),t===1?(t=1,h===!0&&(t|=8)):t=0,h=ma(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ck(h),e}function Nfe(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xf,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function VG(e){if(!e)return Kc;e=e._reactInternals;e:{if(id(e)!==e||e.tag!==1)throw Error(dt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(dt(171))}if(e.tag===1){var i=e.type;if(bo(i))return V6(e,i,t)}return t}function jG(e,t,i,a,d,h,g,y,T){return e=Ek(i,a,!0,e,d,h,g,y,T),e.context=VG(null),i=e.current,a=qi(),d=Gc(i),h=Au(a,d),h.callback=t??null,Vc(i,h,d),e.current.lanes=d,nv(e,d,a),To(e,a),e}function m1(e,t,i,a){var d=t.current,h=qi(),g=Gc(d);return i=VG(i),t.context===null?t.context=i:t.pendingContext=i,t=Au(h,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Vc(d,t,g),e!==null&&(es(e,d,g,h),Py(e,d,g)),g}function ES(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function b3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Ak(e,t){b3(e,t),(e=e.alternate)&&b3(e,t)}function Lfe(){return null}var GG=typeof reportError=="function"?reportError:function(e){console.error(e)};function xk(e){this._internalRoot=e}v1.prototype.render=xk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(dt(409));m1(e,t,null,null)};v1.prototype.unmount=xk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ed(function(){m1(null,e,null,null)}),t[ku]=null}};function v1(e){this._internalRoot=e}v1.prototype.unstable_scheduleHydration=function(e){if(e){var t=S6();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Pc.length&&t!==0&&t<Pc[i].priority;i++);Pc.splice(i,0,e),i===0&&T6(e)}};function Pk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function T3(){}function Mfe(e,t,i,a,d){if(d){if(typeof a=="function"){var h=a;a=function(){var C=ES(g);h.call(C)}}var g=jG(t,a,e,0,null,!1,!1,"",T3);return e._reactRootContainer=g,e[ku]=g.current,Pm(e.nodeType===8?e.parentNode:e),ed(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof a=="function"){var y=a;a=function(){var C=ES(T);y.call(C)}}var T=Ek(e,0,!1,null,null,!1,!1,"",T3);return e._reactRootContainer=T,e[ku]=T.current,Pm(e.nodeType===8?e.parentNode:e),ed(function(){m1(t,T,i,a)}),T}function y1(e,t,i,a,d){var h=i._reactRootContainer;if(h){var g=h;if(typeof d=="function"){var y=d;d=function(){var T=ES(g);y.call(T)}}m1(t,g,e,d)}else g=Mfe(i,t,e,d,a);return ES(g)}_6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Ug(t.pendingLanes);i!==0&&(YP(t,i|1),To(t,Rn()),!(_r&6)&&(ph=Rn()+500,Jc()))}break;case 13:ed(function(){var a=Du(e,1);if(a!==null){var d=qi();es(a,e,1,d)}}),Ak(e,1)}};QP=function(e){if(e.tag===13){var t=Du(e,134217728);if(t!==null){var i=qi();es(t,e,134217728,i)}Ak(e,134217728)}};y6=function(e){if(e.tag===13){var t=Gc(e),i=Du(e,t);if(i!==null){var a=qi();es(i,e,t,a)}Ak(e,t)}};S6=function(){return Dr};b6=function(e,t){var i=Dr;try{return Dr=e,t()}finally{Dr=i}};sx=function(e,t,i){switch(t){case"input":if(ex(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var d=c1(a);if(!d)throw Error(dt(90));qj(a),ex(a,d)}}}break;case"textarea":e6(e,i);break;case"select":t=i.value,t!=null&&Qf(e,!!i.multiple,t,!1)}};s6=Tk;u6=ed;var Wfe={usingClientEntryPoint:!1,Events:[ov,Ff,c1,o6,a6,Tk]},Pg={findFiberByHostInstance:Bl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bfe={bundleType:Pg.bundleType,version:Pg.version,rendererPackageName:Pg.rendererPackageName,rendererConfig:Pg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=d6(e),e===null?null:e.stateNode},findFiberByHostInstance:Pg.findFiberByHostInstance||Lfe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iy.isDisabled&&iy.supportsFiber)try{o1=iy.inject(Bfe),Vs=iy}catch{}}Ko.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wfe;Ko.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pk(t))throw Error(dt(200));return Nfe(e,t,null,i)};Ko.createRoot=function(e,t){if(!Pk(e))throw Error(dt(299));var i=!1,a="",d=GG;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Ek(e,1,!1,null,null,i,!1,a,d),e[ku]=t.current,Pm(e.nodeType===8?e.parentNode:e),new xk(t)};Ko.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(dt(188)):(e=Object.keys(e).join(","),Error(dt(268,e)));return e=d6(t),e=e===null?null:e.stateNode,e};Ko.flushSync=function(e){return ed(e)};Ko.hydrate=function(e,t,i){if(!_1(t))throw Error(dt(200));return y1(null,e,t,!0,i)};Ko.hydrateRoot=function(e,t,i){if(!Pk(e))throw Error(dt(405));var a=i!=null&&i.hydratedSources||null,d=!1,h="",g=GG;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=jG(t,null,e,1,i??null,d,!1,h,g),e[ku]=t.current,Pm(e),a)for(e=0;e<a.length;e++)i=a[e],d=i._getVersion,d=d(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,d]:t.mutableSourceEagerHydrationData.push(i,d);return new v1(t)};Ko.render=function(e,t,i){if(!_1(t))throw Error(dt(200));return y1(null,e,t,!1,i)};Ko.unmountComponentAtNode=function(e){if(!_1(e))throw Error(dt(40));return e._reactRootContainer?(ed(function(){y1(null,null,e,!1,function(){e._reactRootContainer=null,e[ku]=null})}),!0):!1};Ko.unstable_batchedUpdates=Tk;Ko.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!_1(i))throw Error(dt(200));if(e==null||e._reactInternals===void 0)throw Error(dt(38));return y1(e,t,i,!1,a)};Ko.version="18.3.1-next-f1338f8080-20240426";function zG(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zG)}catch(e){console.error(e)}}zG(),zj.exports=Ko;var kk=zj.exports,C3=kk;KA.createRoot=C3.createRoot,KA.hydrateRoot=C3.hydrateRoot;function Ufe(){return!!(globalThis!=null&&globalThis.document)}function Vfe(e,...t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const i={...e};for(const a of t)if(a!=null)for(const d in a)Object.prototype.hasOwnProperty.call(a,d)&&(d in i&&delete i[d],i[d]=a[d]);return i}const I3=e=>e?"":void 0;function jfe(e){return Array.isArray(e)}function ts(e){const t=typeof e;return e!=null&&(t==="object"||t==="function")&&!jfe(e)}function Gfe(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}function zfe(e){const t=parseFloat(e.toString()),i=e.toString().replace(String(t),"");return{unitless:!i,value:t,unit:i}}function Ux(e){if(e==null)return e;const{unitless:t}=zfe(e);return t||typeof e=="number"?`${e}px`:e}const HG=(e,t)=>parseInt(e[1],10)>parseInt(t[1],10)?1:-1,Dk=e=>Object.fromEntries(Object.entries(e).sort(HG));function w3(e){const t=Dk(e);return Object.assign(Object.values(t),t)}function Hfe(e){const t=Object.keys(Dk(e));return new Set(t)}function E3(e){if(!e)return e;e=Ux(e)??e;const t=-.02;return typeof e=="number"?`${e+t}`:e.replace(/(\d+\.?\d*)/u,i=>`${parseFloat(i)+t}`)}function jg(e,t){const i=["@media screen"];return e&&i.push("and",`(min-width: ${Ux(e)})`),t&&i.push("and",`(max-width: ${Ux(t)})`),i.join(" ")}function $fe(e){if(!e)return null;e.base=e.base??"0px";const t=w3(e),i=Object.entries(e).sort(HG).map(([h,g],y,T)=>{let[,C]=T[y+1]??[];return C=parseFloat(C)>0?E3(C):void 0,{_minW:E3(g),breakpoint:h,minW:g,maxW:C,maxWQuery:jg(null,C),minWQuery:jg(g),minMaxQuery:jg(g,C)}}),a=Hfe(e),d=Array.from(a.values());return{keys:a,normalized:t,isResponsive(h){const g=Object.keys(h);return g.length>0&&g.every(y=>a.has(y))},asObject:Dk(e),asArray:w3(e),details:i,get(h){return i.find(g=>g.breakpoint===h)},media:[null,...t.map(h=>jg(h)).slice(1)],toArrayValue(h){if(!ts(h))throw new Error("toArrayValue: value must be an object");const g=d.map(y=>h[y]??null);for(;Gfe(g)===null;)g.pop();return g},toObjectValue(h){if(!Array.isArray(h))throw new Error("toObjectValue: value must be an array");return h.reduce((g,y,T)=>{const C=d[T];return C!=null&&y!=null&&(g[C]=y),g},{})}}}function Rk(e){const t=Object.assign({},e);for(let i in t)t[i]===void 0&&delete t[i];return t}function Kfe(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function od(e={}){const{name:t,strict:i=!0,hookName:a="useContext",providerName:d="Provider",errorMessage:h,defaultValue:g}=e,y=be.createContext(g);y.displayName=t;function T(){var w;const C=be.useContext(y);if(!C&&i){const x=new Error(h??Kfe(a,d));throw x.name="ContextError",(w=Error.captureStackTrace)==null||w.call(Error,x,T),x}return C}return[y.Provider,T,y]}const os=(...e)=>e.filter(Boolean).join(" ");function Yfe(e,t,i,a){const d=typeof t=="string"?t.split("."):[t];for(a=0;a<d.length&&e;a+=1)e=e[d[a]];return e===void 0?i:e}const Qfe=e=>{const t=new WeakMap;return(a,d,h,g)=>{if(typeof a>"u")return e(a,d,h);t.has(a)||t.set(a,new Map);const y=t.get(a);if(y.has(d))return y.get(d);const T=e(a,d,h,g);return y.set(d,T),T}},$G=Qfe(Yfe),Xfe=e=>e.default||e;function KG(e,t=[]){const i=Object.assign({},e);for(const a of t)a in i&&delete i[a];return i}function Jfe(e,t){const i={};for(const a of t)a in e&&(i[a]=e[a]);return i}const qfe=e=>typeof e=="function";function Ws(e,...t){return qfe(e)?e(...t):e}function Zfe(e,...t){const i=Object.getOwnPropertyDescriptors(e),a=Object.keys(i),d=g=>{const y={};for(let T=0;T<g.length;T++){const C=g[T];i[C]&&(Object.defineProperty(y,C,i[C]),delete i[C])}return y},h=g=>d(Array.isArray(g)?g:a.filter(g));return t.map(h).concat(d(a))}function A3(e,t,i={}){const{stop:a,getKey:d}=i;function h(g,y=[]){if(ts(g)||Array.isArray(g)){const T={};for(const[C,w]of Object.entries(g)){const x=(d==null?void 0:d(C))??C,F=[...y,x];if(a!=null&&a(g,F))return t(g,y);T[x]=h(w,F)}return T}return t(g,y)}return h(e)}var AS={exports:{}};AS.exports;(function(e,t){var i=200,a="__lodash_hash_undefined__",d=800,h=16,g=9007199254740991,y="[object Arguments]",T="[object Array]",C="[object AsyncFunction]",w="[object Boolean]",x="[object Date]",F="[object Error]",N="[object Function]",E="[object GeneratorFunction]",W="[object Map]",O="[object Number]",R="[object Null]",D="[object Object]",j="[object Proxy]",Y="[object RegExp]",de="[object Set]",ne="[object String]",X="[object Undefined]",ce="[object WeakMap]",he="[object ArrayBuffer]",le="[object DataView]",fe="[object Float32Array]",_e="[object Float64Array]",Ee="[object Int8Array]",ke="[object Int16Array]",Ne="[object Int32Array]",je="[object Uint8Array]",Ze="[object Uint8ClampedArray]",De="[object Uint16Array]",Le="[object Uint32Array]",Ae=/[\\^$.*+?()[\]{}|]/g,Je=/^\[object .+?Constructor\]$/,He=/^(?:0|[1-9]\d*)$/,Ge={};Ge[fe]=Ge[_e]=Ge[Ee]=Ge[ke]=Ge[Ne]=Ge[je]=Ge[Ze]=Ge[De]=Ge[Le]=!0,Ge[y]=Ge[T]=Ge[he]=Ge[w]=Ge[le]=Ge[x]=Ge[F]=Ge[N]=Ge[W]=Ge[O]=Ge[D]=Ge[Y]=Ge[de]=Ge[ne]=Ge[ce]=!1;var nt=typeof V0=="object"&&V0&&V0.Object===Object&&V0,pe=typeof self=="object"&&self&&self.Object===Object&&self,oe=nt||pe||Function("return this")(),me=t&&!t.nodeType&&t,ye=me&&!0&&e&&!e.nodeType&&e,et=ye&&ye.exports===me,Ke=et&&nt.process,mt=function(){try{var p=ye&&ye.require&&ye.require("util").types;return p||Ke&&Ke.binding&&Ke.binding("util")}catch{}}(),vt=mt&&mt.isTypedArray;function Vt(p,Ce,Ue){switch(Ue.length){case 0:return p.call(Ce);case 1:return p.call(Ce,Ue[0]);case 2:return p.call(Ce,Ue[0],Ue[1]);case 3:return p.call(Ce,Ue[0],Ue[1],Ue[2])}return p.apply(Ce,Ue)}function Nt(p,Ce){for(var Ue=-1,bt=Array(p);++Ue<p;)bt[Ue]=Ce(Ue);return bt}function At(p){return function(Ce){return p(Ce)}}function nr(p,Ce){return p==null?void 0:p[Ce]}function jt(p,Ce){return function(Ue){return p(Ce(Ue))}}var Ar=Array.prototype,Yr=Function.prototype,cr=Object.prototype,Un=oe["__core-js_shared__"],Jt=Yr.toString,ir=cr.hasOwnProperty,Tt=function(){var p=/[^.]+$/.exec(Un&&Un.keys&&Un.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),hr=cr.toString,Xo=Jt.call(Object),Sa=RegExp("^"+Jt.call(ir).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pr=et?oe.Buffer:void 0,ue=oe.Symbol,Pr=oe.Uint8Array,Pe=pr?pr.allocUnsafe:void 0,We=jt(Object.getPrototypeOf,Object),it=Object.create,ot=cr.propertyIsEnumerable,St=Ar.splice,Dt=ue?ue.toStringTag:void 0,zt=function(){try{var p=Mh(Object,"defineProperty");return p({},"",{}),p}catch{}}(),Sr=pr?pr.isBuffer:void 0,Fr=Math.max,Qr=Date.now,ro=Mh(oe,"Map"),oi=Mh(Object,"create"),qc=function(){function p(){}return function(Ce){if(!Qs(Ce))return{};if(it)return it(Ce);p.prototype=Ce;var Ue=new p;return p.prototype=void 0,Ue}}();function Fi(p){var Ce=-1,Ue=p==null?0:p.length;for(this.clear();++Ce<Ue;){var bt=p[Ce];this.set(bt[0],bt[1])}}function ss(){this.__data__=oi?oi(null):{},this.size=0}function Dh(p){var Ce=this.has(p)&&delete this.__data__[p];return this.size-=Ce?1:0,Ce}function Zc(p){var Ce=this.__data__;if(oi){var Ue=Ce[p];return Ue===a?void 0:Ue}return ir.call(Ce,p)?Ce[p]:void 0}function _v(p){var Ce=this.__data__;return oi?Ce[p]!==void 0:ir.call(Ce,p)}function Rh(p,Ce){var Ue=this.__data__;return this.size+=this.has(p)?0:1,Ue[p]=oi&&Ce===void 0?a:Ce,this}Fi.prototype.clear=ss,Fi.prototype.delete=Dh,Fi.prototype.get=Zc,Fi.prototype.has=_v,Fi.prototype.set=Rh;function ba(p){var Ce=-1,Ue=p==null?0:p.length;for(this.clear();++Ce<Ue;){var bt=p[Ce];this.set(bt[0],bt[1])}}function eb(){this.__data__=[],this.size=0}function yv(p){var Ce=this.__data__,Ue=cd(Ce,p);if(Ue<0)return!1;var bt=Ce.length-1;return Ue==bt?Ce.pop():St.call(Ce,Ue,1),--this.size,!0}function el(p){var Ce=this.__data__,Ue=cd(Ce,p);return Ue<0?void 0:Ce[Ue][1]}function Mr(p){return cd(this.__data__,p)>-1}function tb(p,Ce){var Ue=this.__data__,bt=cd(Ue,p);return bt<0?(++this.size,Ue.push([p,Ce])):Ue[bt][1]=Ce,this}ba.prototype.clear=eb,ba.prototype.delete=yv,ba.prototype.get=el,ba.prototype.has=Mr,ba.prototype.set=tb;function Lu(p){var Ce=-1,Ue=p==null?0:p.length;for(this.clear();++Ce<Ue;){var bt=p[Ce];this.set(bt[0],bt[1])}}function ud(){this.size=0,this.__data__={hash:new Fi,map:new(ro||ba),string:new Fi}}function rb(p){var Ce=fd(this,p).delete(p);return this.size-=Ce?1:0,Ce}function nb(p){return fd(this,p).get(p)}function Fh(p){return fd(this,p).has(p)}function tl(p,Ce){var Ue=fd(this,p),bt=Ue.size;return Ue.set(p,Ce),this.size+=Ue.size==bt?0:1,this}Lu.prototype.clear=ud,Lu.prototype.delete=rb,Lu.prototype.get=nb,Lu.prototype.has=Fh,Lu.prototype.set=tl;function Mu(p){var Ce=this.__data__=new ba(p);this.size=Ce.size}function Sv(){this.__data__=new ba,this.size=0}function ib(p){var Ce=this.__data__,Ue=Ce.delete(p);return this.size=Ce.size,Ue}function ob(p){return this.__data__.get(p)}function ab(p){return this.__data__.has(p)}function sb(p,Ce){var Ue=this.__data__;if(Ue instanceof ba){var bt=Ue.__data__;if(!ro||bt.length<i-1)return bt.push([p,Ce]),this.size=++Ue.size,this;Ue=this.__data__=new Lu(bt)}return Ue.set(p,Ce),this.size=Ue.size,this}Mu.prototype.clear=Sv,Mu.prototype.delete=ib,Mu.prototype.get=ob,Mu.prototype.has=ab,Mu.prototype.set=sb;function bv(p,Ce){var Ue=Uh(p),bt=!Ue&&rl(p),B=!Ue&&!bt&&Vh(p),Wt=!Ue&&!bt&&!B&&kv(p),ut=Ue||bt||B||Wt,tr=ut?Nt(p.length,String):[],Ut=tr.length;for(var no in p)(Ce||ir.call(p,no))&&!(ut&&(no=="length"||B&&(no=="offset"||no=="parent")||Wt&&(no=="buffer"||no=="byteLength"||no=="byteOffset")||Ev(no,Ut)))&&tr.push(no);return tr}function us(p,Ce,Ue){(Ue!==void 0&&!Ta(p[Ce],Ue)||Ue===void 0&&!(Ce in p))&&ld(p,Ce,Ue)}function ub(p,Ce,Ue){var bt=p[Ce];(!(ir.call(p,Ce)&&Ta(bt,Ue))||Ue===void 0&&!(Ce in p))&&ld(p,Ce,Ue)}function cd(p,Ce){for(var Ue=p.length;Ue--;)if(Ta(p[Ue][0],Ce))return Ue;return-1}function ld(p,Ce,Ue){Ce=="__proto__"&&zt?zt(p,Ce,{configurable:!0,enumerable:!0,value:Ue,writable:!0}):p[Ce]=Ue}var Wu=mb();function dd(p){return p==null?p===void 0?X:R:Dt&&Dt in Object(p)?Wh(p):Sb(p)}function Tv(p){return Uu(p)&&dd(p)==y}function Oh(p){if(!Qs(p)||_b(p))return!1;var Ce=jh(p)?Sa:Je;return Ce.test(Tb(p))}function Cv(p){return Uu(p)&&gd(p.length)&&!!Ge[dd(p)]}function Nh(p){if(!Qs(p))return yb(p);var Ce=Av(p),Ue=[];for(var bt in p)bt=="constructor"&&(Ce||!ir.call(p,bt))||Ue.push(bt);return Ue}function Iv(p,Ce,Ue,bt,B){p!==Ce&&Wu(Ce,function(Wt,ut){if(B||(B=new Mu),Qs(Wt))Lh(p,Ce,ut,Ue,Iv,bt,B);else{var tr=bt?bt(pd(p,ut),Wt,ut+"",p,Ce,B):void 0;tr===void 0&&(tr=Wt),us(p,ut,tr)}},Dv)}function Lh(p,Ce,Ue,bt,B,Wt,ut){var tr=pd(p,Ue),Ut=pd(Ce,Ue),no=ut.get(Ut);if(no){us(p,Ue,no);return}var Oi=Wt?Wt(tr,Ut,Ue+"",p,Ce,ut):void 0,il=Oi===void 0;if(il){var Ca=Uh(Ut),zh=!Ca&&Vh(Ut),md=!Ca&&!zh&&kv(Ut);Oi=Ut,Ca||zh||md?Uh(tr)?Oi=tr:Cb(tr)?Oi=hb(tr):zh?(il=!1,Oi=wv(Ut,!0)):md?(il=!1,Oi=fb(Ut,!0)):Oi=[]:Pv(Ut)||rl(Ut)?(Oi=tr,rl(tr)?Oi=Ib(tr):(!Qs(tr)||jh(tr))&&(Oi=Bh(Ut))):il=!1}il&&(ut.set(Ut,Oi),B(Oi,Ut,bt,Wt,ut),ut.delete(Ut)),us(p,Ue,Oi)}function cb(p,Ce){return xv(bb(p,Ce,Gh),p+"")}var lb=zt?function(p,Ce){return zt(p,"toString",{configurable:!0,enumerable:!1,value:cs(Ce),writable:!0})}:Gh;function wv(p,Ce){if(Ce)return p.slice();var Ue=p.length,bt=Pe?Pe(Ue):new p.constructor(Ue);return p.copy(bt),bt}function db(p){var Ce=new p.constructor(p.byteLength);return new Pr(Ce).set(new Pr(p)),Ce}function fb(p,Ce){var Ue=Ce?db(p.buffer):p.buffer;return new p.constructor(Ue,p.byteOffset,p.length)}function hb(p,Ce){var Ue=-1,bt=p.length;for(Ce||(Ce=Array(bt));++Ue<bt;)Ce[Ue]=p[Ue];return Ce}function pb(p,Ce,Ue,bt){var B=!Ue;Ue||(Ue={});for(var Wt=-1,ut=Ce.length;++Wt<ut;){var tr=Ce[Wt],Ut=bt?bt(Ue[tr],p[tr],tr,Ue,p):void 0;Ut===void 0&&(Ut=p[tr]),B?ld(Ue,tr,Ut):ub(Ue,tr,Ut)}return Ue}function gb(p){return cb(function(Ce,Ue){var bt=-1,B=Ue.length,Wt=B>1?Ue[B-1]:void 0,ut=B>2?Ue[2]:void 0;for(Wt=p.length>3&&typeof Wt=="function"?(B--,Wt):void 0,ut&&hd(Ue[0],Ue[1],ut)&&(Wt=B<3?void 0:Wt,B=1),Ce=Object(Ce);++bt<B;){var tr=Ue[bt];tr&&p(Ce,tr,bt,Wt)}return Ce})}function mb(p){return function(Ce,Ue,bt){for(var B=-1,Wt=Object(Ce),ut=bt(Ce),tr=ut.length;tr--;){var Ut=ut[p?tr:++B];if(Ue(Wt[Ut],Ut,Wt)===!1)break}return Ce}}function fd(p,Ce){var Ue=p.__data__;return vb(Ce)?Ue[typeof Ce=="string"?"string":"hash"]:Ue.map}function Mh(p,Ce){var Ue=nr(p,Ce);return Oh(Ue)?Ue:void 0}function Wh(p){var Ce=ir.call(p,Dt),Ue=p[Dt];try{p[Dt]=void 0;var bt=!0}catch{}var B=hr.call(p);return bt&&(Ce?p[Dt]=Ue:delete p[Dt]),B}function Bh(p){return typeof p.constructor=="function"&&!Av(p)?qc(We(p)):{}}function Ev(p,Ce){var Ue=typeof p;return Ce=Ce??g,!!Ce&&(Ue=="number"||Ue!="symbol"&&He.test(p))&&p>-1&&p%1==0&&p<Ce}function hd(p,Ce,Ue){if(!Qs(Ue))return!1;var bt=typeof Ce;return(bt=="number"?nl(Ue)&&Ev(Ce,Ue.length):bt=="string"&&Ce in Ue)?Ta(Ue[Ce],p):!1}function vb(p){var Ce=typeof p;return Ce=="string"||Ce=="number"||Ce=="symbol"||Ce=="boolean"?p!=="__proto__":p===null}function _b(p){return!!Tt&&Tt in p}function Av(p){var Ce=p&&p.constructor,Ue=typeof Ce=="function"&&Ce.prototype||cr;return p===Ue}function yb(p){var Ce=[];if(p!=null)for(var Ue in Object(p))Ce.push(Ue);return Ce}function Sb(p){return hr.call(p)}function bb(p,Ce,Ue){return Ce=Fr(Ce===void 0?p.length-1:Ce,0),function(){for(var bt=arguments,B=-1,Wt=Fr(bt.length-Ce,0),ut=Array(Wt);++B<Wt;)ut[B]=bt[Ce+B];B=-1;for(var tr=Array(Ce+1);++B<Ce;)tr[B]=bt[B];return tr[Ce]=Ue(ut),Vt(p,this,tr)}}function pd(p,Ce){if(!(Ce==="constructor"&&typeof p[Ce]=="function")&&Ce!="__proto__")return p[Ce]}var xv=Bu(lb);function Bu(p){var Ce=0,Ue=0;return function(){var bt=Qr(),B=h-(bt-Ue);if(Ue=bt,B>0){if(++Ce>=d)return arguments[0]}else Ce=0;return p.apply(void 0,arguments)}}function Tb(p){if(p!=null){try{return Jt.call(p)}catch{}try{return p+""}catch{}}return""}function Ta(p,Ce){return p===Ce||p!==p&&Ce!==Ce}var rl=Tv(function(){return arguments}())?Tv:function(p){return Uu(p)&&ir.call(p,"callee")&&!ot.call(p,"callee")},Uh=Array.isArray;function nl(p){return p!=null&&gd(p.length)&&!jh(p)}function Cb(p){return Uu(p)&&nl(p)}var Vh=Sr||wb;function jh(p){if(!Qs(p))return!1;var Ce=dd(p);return Ce==N||Ce==E||Ce==C||Ce==j}function gd(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=g}function Qs(p){var Ce=typeof p;return p!=null&&(Ce=="object"||Ce=="function")}function Uu(p){return p!=null&&typeof p=="object"}function Pv(p){if(!Uu(p)||dd(p)!=D)return!1;var Ce=We(p);if(Ce===null)return!0;var Ue=ir.call(Ce,"constructor")&&Ce.constructor;return typeof Ue=="function"&&Ue instanceof Ue&&Jt.call(Ue)==Xo}var kv=vt?At(vt):Cv;function Ib(p){return pb(p,Dv(p))}function Dv(p){return nl(p)?bv(p,!0):Nh(p)}var V=gb(function(p,Ce,Ue,bt){Iv(p,Ce,Ue,bt)});function cs(p){return function(){return p}}function Gh(p){return p}function wb(){return!1}e.exports=V})(AS,AS.exports);var ehe=AS.exports;const Bs=n1(ehe);function the(e,t=[]){const i=be.useRef(e);return be.useEffect(()=>{i.current=e}),be.useCallback((...a)=>{var d;return(d=i.current)==null?void 0:d.call(i,...a)},t)}const Vx=globalThis!=null&&globalThis.document?be.useLayoutEffect:be.useEffect,x3=(e,t)=>{const i=be.useRef(!1),a=be.useRef(!1);be.useEffect(()=>{if(i.current&&a.current)return e();a.current=!0},t),be.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[])};function rhe(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function nhe(...e){return t=>{e.forEach(i=>{rhe(i,t)})}}function ihe(...e){return be.useMemo(()=>nhe(...e),e)}function ohe(e,t){const i=the(e);be.useEffect(()=>{if(t==null)return;let a=null;return a=window.setTimeout(()=>{i()},t),()=>{a&&window.clearTimeout(a)}},[t,i])}const YG=1/60*1e3,ahe=typeof performance<"u"?()=>performance.now():()=>Date.now(),QG=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(ahe()),YG);function she(e){let t=[],i=[],a=0,d=!1,h=!1;const g=new WeakSet,y={schedule:(T,C=!1,w=!1)=>{const x=w&&d,F=x?t:i;return C&&g.add(T),F.indexOf(T)===-1&&(F.push(T),x&&d&&(a=t.length)),T},cancel:T=>{const C=i.indexOf(T);C!==-1&&i.splice(C,1),g.delete(T)},process:T=>{if(d){h=!0;return}if(d=!0,[t,i]=[i,t],i.length=0,a=t.length,a)for(let C=0;C<a;C++){const w=t[C];w(T),g.has(w)&&(y.schedule(w),e())}d=!1,h&&(h=!1,y.process(T))}};return y}const uhe=40;let jx=!0,Wm=!1,Gx=!1;const th={delta:0,timestamp:0},sv=["read","update","preRender","render","postRender"],S1=sv.reduce((e,t)=>(e[t]=she(()=>Wm=!0),e),{}),rs=sv.reduce((e,t)=>{const i=S1[t];return e[t]=(a,d=!1,h=!1)=>(Wm||lhe(),i.schedule(a,d,h)),e},{}),gh=sv.reduce((e,t)=>(e[t]=S1[t].cancel,e),{}),lA=sv.reduce((e,t)=>(e[t]=()=>S1[t].process(th),e),{}),che=e=>S1[e].process(th),XG=e=>{Wm=!1,th.delta=jx?YG:Math.max(Math.min(e-th.timestamp,uhe),1),th.timestamp=e,Gx=!0,sv.forEach(che),Gx=!1,Wm&&(jx=!1,QG(XG))},lhe=()=>{Wm=!0,jx=!0,Gx||QG(XG)},xS=()=>th,$n={open:(e,t)=>`${e}[data-open], ${e}[open], ${e}[data-state=open] ${t}`,closed:(e,t)=>`${e}[data-closed], ${e}[data-state=closed] ${t}`,hover:(e,t)=>`${e}:hover ${t}, ${e}[data-hover] ${t}`,focus:(e,t)=>`${e}:focus ${t}, ${e}[data-focus] ${t}`,focusVisible:(e,t)=>`${e}:focus-visible ${t}`,focusWithin:(e,t)=>`${e}:focus-within ${t}`,active:(e,t)=>`${e}:active ${t}, ${e}[data-active] ${t}`,disabled:(e,t)=>`${e}:disabled ${t}, ${e}[data-disabled] ${t}`,invalid:(e,t)=>`${e}:invalid ${t}, ${e}[data-invalid] ${t}`,checked:(e,t)=>`${e}:checked ${t}, ${e}[data-checked] ${t}`,indeterminate:(e,t)=>`${e}:indeterminate ${t}, ${e}[aria-checked=mixed] ${t}, ${e}[data-indeterminate] ${t}`,readOnly:(e,t)=>`${e}:read-only ${t}, ${e}[readonly] ${t}, ${e}[data-read-only] ${t}`,expanded:(e,t)=>`${e}:read-only ${t}, ${e}[aria-expanded=true] ${t}, ${e}[data-expanded] ${t}`,placeholderShown:(e,t)=>`${e}:placeholder-shown ${t}`},ks=e=>JG(t=>e(t,"&"),"[role=group]","[data-group]",".group"),hu=e=>JG(t=>e(t,"~ &"),"[data-peer]",".peer"),JG=(e,...t)=>t.map(e).join(", "),dhe={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:ks($n.open),_groupClosed:ks($n.closed),_groupHover:ks($n.hover),_peerHover:hu($n.hover),_groupFocus:ks($n.focus),_peerFocus:hu($n.focus),_groupFocusVisible:ks($n.focusVisible),_peerFocusVisible:hu($n.focusVisible),_groupActive:ks($n.active),_peerActive:hu($n.active),_groupDisabled:ks($n.disabled),_peerDisabled:hu($n.disabled),_groupInvalid:ks($n.invalid),_peerInvalid:hu($n.invalid),_groupChecked:ks($n.checked),_peerChecked:hu($n.checked),_groupFocusWithin:ks($n.focusWithin),_peerFocusWithin:hu($n.focusWithin),_peerPlaceholderShown:hu($n.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"};function b1(e){const t=e.conditions??{},i=Object.fromEntries(Object.entries(t).map(([a,d])=>[`_${a}`,d]));return{...dhe,...i}}function qG(e){return Object.keys(b1(e))}const fhe=e=>/!(important)?$/.test(e),P3=e=>typeof e=="string"?e.replace(/!(important)?$/,"").trim():e,hhe=(e,t)=>i=>{const a=String(t),d=fhe(a),h=P3(a),g=e?`${e}.${h}`:h;let y=ts(i.__cssMap)&&g in i.__cssMap?i.__cssMap[g].varRef:t;return y=P3(y),d?`${y} !important`:y};function Fk(e){const{scale:t,transform:i,compose:a}=e;return(h,g)=>{const y=hhe(t,h)(g);let T=(i==null?void 0:i(y,g))??y;return a&&(T=a(T,g)),T}}const oy=(...e)=>t=>e.reduce((i,a)=>a(i),t);function fa(e,t){return i=>{const a={property:i,scale:e};return a.transform=Fk({scale:e,transform:t}),a}}const phe=({rtl:e,ltr:t})=>i=>i.direction==="rtl"?e:t;function ghe(e){const{property:t,scale:i,transform:a}=e;return{scale:i,property:phe(t),transform:i?Fk({scale:i,compose:a}):a}}const ZG=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function mhe(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...ZG].join(" ")}function vhe(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...ZG].join(" ")}const _he={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},yhe={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function She(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const bhe={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},zx={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},The=new Set(Object.values(zx)),Hx=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),Che=e=>e.trim();function Ihe(e,t){if(e==null||Hx.has(e))return e;if(!($x(e)||Hx.has(e)))return`url('${e}')`;const d=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),h=d==null?void 0:d[1],g=d==null?void 0:d[2];if(!h||!g)return e;const y=h.includes("-gradient")?h:`${h}-gradient`,[T,...C]=g.split(",").map(Che).filter(Boolean);if((C==null?void 0:C.length)===0)return e;const w=T in zx?zx[T]:T;C.unshift(w);const x=C.map(F=>{if(The.has(F))return F;const N=F.indexOf(" "),[E,W]=N!==-1?[F.substr(0,N),F.substr(N+1)]:[F],O=$x(W)?W:W&&W.split(" "),R=`colors.${E}`,D=R in t.__cssMap?t.__cssMap[R].varRef:E;return O?[D,...Array.isArray(O)?O:[O]].join(" "):D});return`${y}(${x.join(", ")})`}const $x=e=>typeof e=="string"&&e.includes("(")&&e.includes(")"),whe=(e,t)=>Ihe(e,t??{});function Ehe(e){return/^var\(--.+\)$/.test(e)}const Ahe=e=>{const t=parseFloat(e.toString()),i=e.toString().replace(String(t),"");return{unitless:!i,value:t,unit:i}},Ds=e=>t=>`${e}(${t})`,fr={filter(e){return e!=="auto"?e:_he},backdropFilter(e){return e!=="auto"?e:yhe},ring(e){return She(fr.px(e))},bgClip(e){return e==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform(e){return e==="auto"?mhe():e==="auto-gpu"?vhe():e},vh(e){return e==="$100vh"?"var(--chakra-vh)":e},px(e){if(e==null)return e;const{unitless:t}=Ahe(e);return t||typeof e=="number"?`${e}px`:e},fraction(e){return typeof e!="number"||e>1?e:`${e*100}%`},float(e,t){const i={left:"right",right:"left"};return t.direction==="rtl"?i[e]:e},degree(e){if(Ehe(e)||e==null)return e;const t=typeof e=="string"&&!e.endsWith("deg");return typeof e=="number"||t?`${e}deg`:e},gradient:whe,blur:Ds("blur"),opacity:Ds("opacity"),brightness:Ds("brightness"),contrast:Ds("contrast"),dropShadow:Ds("drop-shadow"),grayscale:Ds("grayscale"),hueRotate:e=>Ds("hue-rotate")(fr.degree(e)),invert:Ds("invert"),saturate:Ds("saturate"),sepia:Ds("sepia"),bgImage(e){return e==null||$x(e)||Hx.has(e)?e:`url(${e})`},outline(e){const t=String(e)==="0"||String(e)==="none";return e!==null&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){const{space:t,divide:i}=bhe[e]??{},a={flexDirection:e};return t&&(a[t]=1),i&&(a[i]=1),a}},we={borderWidths:fa("borderWidths"),borderStyles:fa("borderStyles"),colors:fa("colors"),borders:fa("borders"),gradients:fa("gradients",fr.gradient),radii:fa("radii",fr.px),space:fa("space",oy(fr.vh,fr.px)),spaceT:fa("space",oy(fr.vh,fr.px)),degreeT(e){return{property:e,transform:fr.degree}},prop(e,t,i){return{property:e,scale:t,...t&&{transform:Fk({scale:t,transform:i})}}},propT(e,t){return{property:e,transform:t}},sizes:fa("sizes",oy(fr.vh,fr.px)),sizesT:fa("sizes",oy(fr.vh,fr.fraction)),shadows:fa("shadows"),logical:ghe,blur:fa("blur",fr.blur)},Ly={background:we.colors("background"),backgroundColor:we.colors("backgroundColor"),backgroundImage:we.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:fr.bgClip},bgSize:we.prop("backgroundSize"),bgPosition:we.prop("backgroundPosition"),bg:we.colors("background"),bgColor:we.colors("backgroundColor"),bgPos:we.prop("backgroundPosition"),bgRepeat:we.prop("backgroundRepeat"),bgAttachment:we.prop("backgroundAttachment"),bgGradient:we.gradients("backgroundImage"),bgClip:{transform:fr.bgClip}};Object.assign(Ly,{bgImage:Ly.backgroundImage,bgImg:Ly.backgroundImage});const Tr={border:we.borders("border"),borderWidth:we.borderWidths("borderWidth"),borderStyle:we.borderStyles("borderStyle"),borderColor:we.colors("borderColor"),borderRadius:we.radii("borderRadius"),borderTop:we.borders("borderTop"),borderBlockStart:we.borders("borderBlockStart"),borderTopLeftRadius:we.radii("borderTopLeftRadius"),borderStartStartRadius:we.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:we.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:we.radii("borderTopRightRadius"),borderStartEndRadius:we.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:we.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:we.borders("borderRight"),borderInlineEnd:we.borders("borderInlineEnd"),borderBottom:we.borders("borderBottom"),borderBlockEnd:we.borders("borderBlockEnd"),borderBottomLeftRadius:we.radii("borderBottomLeftRadius"),borderBottomRightRadius:we.radii("borderBottomRightRadius"),borderLeft:we.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:we.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:we.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:we.borders(["borderLeft","borderRight"]),borderInline:we.borders("borderInline"),borderY:we.borders(["borderTop","borderBottom"]),borderBlock:we.borders("borderBlock"),borderTopWidth:we.borderWidths("borderTopWidth"),borderBlockStartWidth:we.borderWidths("borderBlockStartWidth"),borderTopColor:we.colors("borderTopColor"),borderBlockStartColor:we.colors("borderBlockStartColor"),borderTopStyle:we.borderStyles("borderTopStyle"),borderBlockStartStyle:we.borderStyles("borderBlockStartStyle"),borderBottomWidth:we.borderWidths("borderBottomWidth"),borderBlockEndWidth:we.borderWidths("borderBlockEndWidth"),borderBottomColor:we.colors("borderBottomColor"),borderBlockEndColor:we.colors("borderBlockEndColor"),borderBottomStyle:we.borderStyles("borderBottomStyle"),borderBlockEndStyle:we.borderStyles("borderBlockEndStyle"),borderLeftWidth:we.borderWidths("borderLeftWidth"),borderInlineStartWidth:we.borderWidths("borderInlineStartWidth"),borderLeftColor:we.colors("borderLeftColor"),borderInlineStartColor:we.colors("borderInlineStartColor"),borderLeftStyle:we.borderStyles("borderLeftStyle"),borderInlineStartStyle:we.borderStyles("borderInlineStartStyle"),borderRightWidth:we.borderWidths("borderRightWidth"),borderInlineEndWidth:we.borderWidths("borderInlineEndWidth"),borderRightColor:we.colors("borderRightColor"),borderInlineEndColor:we.colors("borderInlineEndColor"),borderRightStyle:we.borderStyles("borderRightStyle"),borderInlineEndStyle:we.borderStyles("borderInlineEndStyle"),borderTopRadius:we.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:we.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:we.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:we.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Tr,{rounded:Tr.borderRadius,roundedTop:Tr.borderTopRadius,roundedTopLeft:Tr.borderTopLeftRadius,roundedTopRight:Tr.borderTopRightRadius,roundedTopStart:Tr.borderStartStartRadius,roundedTopEnd:Tr.borderStartEndRadius,roundedBottom:Tr.borderBottomRadius,roundedBottomLeft:Tr.borderBottomLeftRadius,roundedBottomRight:Tr.borderBottomRightRadius,roundedBottomStart:Tr.borderEndStartRadius,roundedBottomEnd:Tr.borderEndEndRadius,roundedLeft:Tr.borderLeftRadius,roundedRight:Tr.borderRightRadius,roundedStart:Tr.borderInlineStartRadius,roundedEnd:Tr.borderInlineEndRadius,borderStart:Tr.borderInlineStart,borderEnd:Tr.borderInlineEnd,borderTopStartRadius:Tr.borderStartStartRadius,borderTopEndRadius:Tr.borderStartEndRadius,borderBottomStartRadius:Tr.borderEndStartRadius,borderBottomEndRadius:Tr.borderEndEndRadius,borderStartRadius:Tr.borderInlineStartRadius,borderEndRadius:Tr.borderInlineEndRadius,borderStartWidth:Tr.borderInlineStartWidth,borderEndWidth:Tr.borderInlineEndWidth,borderStartColor:Tr.borderInlineStartColor,borderEndColor:Tr.borderInlineEndColor,borderStartStyle:Tr.borderInlineStartStyle,borderEndStyle:Tr.borderInlineEndStyle});const xhe={color:we.colors("color"),textColor:we.colors("color"),fill:we.colors("fill"),stroke:we.colors("stroke"),accentColor:we.colors("accentColor"),textFillColor:we.colors("textFillColor")},PS={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:fr.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:we.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:we.space("gap"),rowGap:we.space("rowGap"),columnGap:we.space("columnGap")};Object.assign(PS,{flexDir:PS.flexDirection});const ha={width:we.sizesT("width"),inlineSize:we.sizesT("inlineSize"),height:we.sizes("height"),blockSize:we.sizes("blockSize"),boxSize:we.sizes(["width","height"]),minWidth:we.sizes("minWidth"),minInlineSize:we.sizes("minInlineSize"),minHeight:we.sizes("minHeight"),minBlockSize:we.sizes("minBlockSize"),maxWidth:we.sizes("maxWidth"),maxInlineSize:we.sizes("maxInlineSize"),maxHeight:we.sizes("maxHeight"),maxBlockSize:we.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var d,h;return{[`@media screen and (min-width: ${((h=(d=t.__breakpoints)==null?void 0:d.get(e))==null?void 0:h.minW)??e})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var d,h;return{[`@media screen and (max-width: ${((h=(d=t.__breakpoints)==null?void 0:d.get(e))==null?void 0:h._minW)??e})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:we.propT("float",fr.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(ha,{w:ha.width,h:ha.height,minW:ha.minWidth,maxW:ha.maxWidth,minH:ha.minHeight,maxH:ha.maxHeight,overscroll:ha.overscrollBehavior,overscrollX:ha.overscrollBehaviorX,overscrollY:ha.overscrollBehaviorY});const Phe={filter:{transform:fr.filter},blur:we.blur("--chakra-blur"),brightness:we.propT("--chakra-brightness",fr.brightness),contrast:we.propT("--chakra-contrast",fr.contrast),hueRotate:we.propT("--chakra-hue-rotate",fr.hueRotate),invert:we.propT("--chakra-invert",fr.invert),saturate:we.propT("--chakra-saturate",fr.saturate),dropShadow:we.propT("--chakra-drop-shadow",fr.dropShadow),backdropFilter:{transform:fr.backdropFilter},backdropBlur:we.blur("--chakra-backdrop-blur"),backdropBrightness:we.propT("--chakra-backdrop-brightness",fr.brightness),backdropContrast:we.propT("--chakra-backdrop-contrast",fr.contrast),backdropHueRotate:we.propT("--chakra-backdrop-hue-rotate",fr.hueRotate),backdropInvert:we.propT("--chakra-backdrop-invert",fr.invert),backdropSaturate:we.propT("--chakra-backdrop-saturate",fr.saturate)},khe={ring:{transform:fr.ring},ringColor:we.colors("--chakra-ring-color"),ringOffset:we.prop("--chakra-ring-offset-width"),ringOffsetColor:we.colors("--chakra-ring-offset-color"),ringInset:we.prop("--chakra-ring-inset")},Dhe={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:fr.outline},outlineOffset:!0,outlineColor:we.colors("outlineColor")},ez={gridGap:we.space("gridGap"),gridColumnGap:we.space("gridColumnGap"),gridRowGap:we.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function Rhe(e,t,i,a){const d=typeof t=="string"?t.split("."):[t];for(a=0;a<d.length&&e;a+=1)e=e[d[a]];return e===void 0?i:e}const Fhe=e=>{const t=new WeakMap;return(a,d,h,g)=>{if(typeof a>"u")return e(a,d,h);t.has(a)||t.set(a,new Map);const y=t.get(a);if(y.has(d))return y.get(d);const T=e(a,d,h,g);return y.set(d,T),T}},Ohe=Fhe(Rhe),Nhe={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},Lhe={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},dA=(e,t,i)=>{const a={},d=Ohe(e,t,{});for(const h in d)h in i&&i[h]!=null||(a[h]=d[h]);return a},Mhe={srOnly:{transform(e){return e===!0?Nhe:e==="focusable"?Lhe:{}}},layerStyle:{processResult:!0,transform:(e,t,i)=>dA(t,`layerStyles.${e}`,i)},textStyle:{processResult:!0,transform:(e,t,i)=>dA(t,`textStyles.${e}`,i)},apply:{processResult:!0,transform:(e,t,i)=>dA(t,e,i)}},im={position:!0,pos:we.prop("position"),zIndex:we.prop("zIndex","zIndices"),inset:we.spaceT("inset"),insetX:we.spaceT(["left","right"]),insetInline:we.spaceT("insetInline"),insetY:we.spaceT(["top","bottom"]),insetBlock:we.spaceT("insetBlock"),top:we.spaceT("top"),insetBlockStart:we.spaceT("insetBlockStart"),bottom:we.spaceT("bottom"),insetBlockEnd:we.spaceT("insetBlockEnd"),left:we.spaceT("left"),insetInlineStart:we.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:we.spaceT("right"),insetInlineEnd:we.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(im,{insetStart:im.insetInlineStart,insetEnd:im.insetInlineEnd});const Kx={boxShadow:we.shadows("boxShadow"),mixBlendMode:!0,blendMode:we.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:we.prop("backgroundBlendMode"),opacity:!0};Object.assign(Kx,{shadow:Kx.boxShadow});const $r={margin:we.spaceT("margin"),marginTop:we.spaceT("marginTop"),marginBlockStart:we.spaceT("marginBlockStart"),marginRight:we.spaceT("marginRight"),marginInlineEnd:we.spaceT("marginInlineEnd"),marginBottom:we.spaceT("marginBottom"),marginBlockEnd:we.spaceT("marginBlockEnd"),marginLeft:we.spaceT("marginLeft"),marginInlineStart:we.spaceT("marginInlineStart"),marginX:we.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:we.spaceT("marginInline"),marginY:we.spaceT(["marginTop","marginBottom"]),marginBlock:we.spaceT("marginBlock"),padding:we.space("padding"),paddingTop:we.space("paddingTop"),paddingBlockStart:we.space("paddingBlockStart"),paddingRight:we.space("paddingRight"),paddingBottom:we.space("paddingBottom"),paddingBlockEnd:we.space("paddingBlockEnd"),paddingLeft:we.space("paddingLeft"),paddingInlineStart:we.space("paddingInlineStart"),paddingInlineEnd:we.space("paddingInlineEnd"),paddingX:we.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:we.space("paddingInline"),paddingY:we.space(["paddingTop","paddingBottom"]),paddingBlock:we.space("paddingBlock")};Object.assign($r,{m:$r.margin,mt:$r.marginTop,mr:$r.marginRight,me:$r.marginInlineEnd,marginEnd:$r.marginInlineEnd,mb:$r.marginBottom,ml:$r.marginLeft,ms:$r.marginInlineStart,marginStart:$r.marginInlineStart,mx:$r.marginX,my:$r.marginY,p:$r.padding,pt:$r.paddingTop,py:$r.paddingY,px:$r.paddingX,pb:$r.paddingBottom,pl:$r.paddingLeft,ps:$r.paddingInlineStart,paddingStart:$r.paddingInlineStart,pr:$r.paddingRight,pe:$r.paddingInlineEnd,paddingEnd:$r.paddingInlineEnd});const Whe={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:we.spaceT("scrollMargin"),scrollMarginTop:we.spaceT("scrollMarginTop"),scrollMarginBottom:we.spaceT("scrollMarginBottom"),scrollMarginLeft:we.spaceT("scrollMarginLeft"),scrollMarginRight:we.spaceT("scrollMarginRight"),scrollMarginX:we.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:we.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:we.spaceT("scrollPadding"),scrollPaddingTop:we.spaceT("scrollPaddingTop"),scrollPaddingBottom:we.spaceT("scrollPaddingBottom"),scrollPaddingLeft:we.spaceT("scrollPaddingLeft"),scrollPaddingRight:we.spaceT("scrollPaddingRight"),scrollPaddingX:we.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:we.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},Bhe={fontFamily:we.prop("fontFamily","fonts"),fontSize:we.prop("fontSize","fontSizes",fr.px),fontWeight:we.prop("fontWeight","fontWeights"),lineHeight:we.prop("lineHeight","lineHeights"),letterSpacing:we.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(e===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},Uhe={textDecorationColor:we.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:we.shadows("textShadow")},Vhe={clipPath:!0,transform:we.propT("transform",fr.transform),transformOrigin:!0,translateX:we.spaceT("--chakra-translate-x"),translateY:we.spaceT("--chakra-translate-y"),skewX:we.degreeT("--chakra-skew-x"),skewY:we.degreeT("--chakra-skew-y"),scaleX:we.prop("--chakra-scale-x"),scaleY:we.prop("--chakra-scale-y"),scale:we.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:we.degreeT("--chakra-rotate")},jhe={listStyleType:!0,listStylePosition:!0,listStylePos:we.prop("listStylePosition"),listStyleImage:!0,listStyleImg:we.prop("listStyleImage")},Ghe={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:we.prop("transitionDuration","transition.duration"),transitionProperty:we.prop("transitionProperty","transition.property"),transitionTimingFunction:we.prop("transitionTimingFunction","transition.easing")},Ok=Bs({},Ly,Tr,xhe,PS,ha,Phe,khe,Dhe,ez,Mhe,im,Kx,$r,Whe,Bhe,Uhe,Vhe,jhe,Ghe);Object.assign({},$r,ha,PS,ez,im);const zhe=e=>[...Object.keys(Ok),...qG(e)],Hhe=e=>{const t=b1(e),i={...Ok,...t};return a=>Object.hasOwnProperty.call(i,a)},$he=e=>t=>{if(!t.__breakpoints)return e;const{isResponsive:i,toArrayValue:a,media:d}=t.__breakpoints,h={};for(const g in e){let y=Ws(e[g],t);if(y==null)continue;if(y=ts(y)&&i(y)?a(y):y,!Array.isArray(y)){h[g]=y;continue}const T=y.slice(0,d.length).length;for(let C=0;C<T;C+=1){const w=d==null?void 0:d[C];if(!w){h[g]=y[C];continue}h[w]=h[w]||{},y[C]!=null&&(h[w][g]=y[C])}}return h};function Khe(e){const t=[];let i="",a=!1;for(let d=0;d<e.length;d++){const h=e[d];h==="("?(a=!0,i+=h):h===")"?(a=!1,i+=h):h===","&&!a?(t.push(i),i=""):i+=h}return i=i.trim(),i&&t.push(i),t}function Yhe(e){return/^var\(--.+\)$/.test(e)}const Qhe=(e,t)=>e.startsWith("--")&&typeof t=="string"&&!Yhe(t),Xhe=(e,t)=>{if(t==null)return t;const i=g=>{var y,T;return(T=(y=e.__cssMap)==null?void 0:y[g])==null?void 0:T.varRef},a=g=>i(g)??g,[d,h]=Khe(t);return t=i(d)??a(h)??a(t),t};function Jhe(e){const{configs:t={},pseudos:i={},theme:a}=e,d=(h,g=!1)=>{var w;const y=Ws(h,a),T=$he(y)(a);let C={};for(let x in T){const F=T[x];let N=Ws(F,a);x in i&&(x=i[x]),Qhe(x,N)&&(N=Xhe(a,N));let E=t[x];if(E===!0&&(E={property:x}),ts(N)){C[x]=C[x]??{},C[x]=Bs({},C[x],d(N,!0));continue}let W=((w=E==null?void 0:E.transform)==null?void 0:w.call(E,N,a,y))??N;W=E!=null&&E.processResult?d(W,!0):W;const O=Ws(E==null?void 0:E.property,a);if(!g&&(E!=null&&E.static)){const R=Ws(E.static,a);C=Bs({},C,R)}if(O&&Array.isArray(O)){for(const R of O)C[R]=W;continue}if(O){O==="&"&&ts(W)?C=Bs({},C,W):C[O]=W;continue}if(ts(W)){C=Bs({},C,W);continue}C[x]=W}return C};return d}const tz=e=>t=>Jhe({theme:t,pseudos:b1(t),configs:Ok})(e);function Gr(e){return{definePartsStyle(t){return t},defineMultiStyleConfig(t){return{parts:e,...t}}}}function qhe(e,t){if(Array.isArray(e))return e;if(ts(e))return t(e);if(e!=null)return[e]}function Zhe(e,t){for(let i=t+1;i<e.length;i++)if(e[i]!=null)return i;return-1}function epe(e){const t=e.__breakpoints;return function(a,d,h,g){var F,N;if(!t)return;const y={},T=qhe(h,t.toArrayValue);if(!T)return y;const C=T.length,w=C===1,x=!!a.parts;for(let E=0;E<C;E++){const W=t.details[E],O=t.details[Zhe(T,E)],R=jg(W.minW,O==null?void 0:O._minW),D=Ws((F=a[d])==null?void 0:F[T[E]],g);if(D){if(x){(N=a.parts)==null||N.forEach(j=>{Bs(y,{[j]:w?D[j]:{[R]:D[j]}})});continue}if(!x){w?Bs(y,D):y[R]=D;continue}y[R]=D}}return y}}function tpe(e){return t=>{const{variant:i,size:a,theme:d}=t,h=epe(d);return Bs({},Ws(e.baseStyle??{},t),h(e,"sizes",a,t),h(e,"variants",i,t))}}function wh(e){return KG(e,["styleConfig","size","variant","colorScheme"])}function rz(e){return ts(e)&&e.reference?e.reference:String(e)}const T1=(e,...t)=>t.map(rz).join(` ${e} `).replace(/calc/g,""),k3=(...e)=>`calc(${T1("+",...e)})`,D3=(...e)=>`calc(${T1("-",...e)})`,Yx=(...e)=>`calc(${T1("*",...e)})`,R3=(...e)=>`calc(${T1("/",...e)})`,F3=e=>{const t=rz(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:Yx(t,-1)},_u=Object.assign(e=>({add:(...t)=>_u(k3(e,...t)),subtract:(...t)=>_u(D3(e,...t)),multiply:(...t)=>_u(Yx(e,...t)),divide:(...t)=>_u(R3(e,...t)),negate:()=>_u(F3(e)),toString:()=>e.toString()}),{add:k3,subtract:D3,multiply:Yx,divide:R3,negate:F3});function rpe(e,t="-"){return e.replace(/\s+/g,t)}function npe(e){const t=rpe(e.toString());return ope(ipe(t))}function ipe(e){return e.includes("\\.")?e:!Number.isInteger(parseFloat(e.toString()))?e.replace(".","\\."):e}function ope(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function ape(e,t=""){return[t,e].filter(Boolean).join("-")}function spe(e,t){return`var(${e}${t?`, ${t}`:""})`}function upe(e,t=""){return npe(`--${ape(e,t)}`)}function Ft(e,t,i){const a=upe(e,i);return{variable:a,reference:spe(a,t)}}function cpe(e,t){const i={};for(const a of t){if(Array.isArray(a)){const[d,h]=a;i[d]=Ft(`${e}-${d}`,h);continue}i[a]=Ft(`${e}-${a}`)}return i}const lpe=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function dpe(e){return Jfe(e,lpe)}function fpe(e){return e.semanticTokens}function hpe(e){const{__cssMap:t,__cssVars:i,__breakpoints:a,...d}=e;return d}function ppe(e){const t=dpe(e),i=fpe(e),a=qG(e),d=g=>a.includes(g)||g==="default",h={};return A3(t,(g,y)=>{g!=null&&(h[y.join(".")]={isSemantic:!1,value:g})}),A3(i,(g,y)=>{g!=null&&(h[y.join(".")]={isSemantic:!0,value:g})},{stop:g=>Object.keys(g).every(d)}),h}function O3(e,t){return Ft(String(e).replace(/\./g,"-"),void 0,t)}function gpe(e){var y;const t=ppe(e),i=(y=e.config)==null?void 0:y.cssVarPrefix,a=b1(e);let d={};const h={};function g(T,C){const x=[String(T).split(".")[0],C].join(".");if(!t[x])return C;const{reference:N}=O3(x,i);return N}for(const[T,C]of Object.entries(t)){const{isSemantic:w,value:x}=C,{variable:F,reference:N}=O3(T,i);if(!w){if(T.startsWith("space")){const W=T.split("."),[O,...R]=W,D=`${O}.-${R.join(".")}`,j=_u.negate(x),Y=_u.negate(N);h[D]={value:j,var:F,varRef:Y}}d[F]=x,h[T]={value:x,var:F,varRef:N};continue}const E=ts(x)?x:{default:x};d=Bs(d,Object.entries(E).reduce((W,[O,R])=>{if(!R)return W;const D=g(T,`${R}`);if(O==="default")return W[F]=D,W;const j=(a==null?void 0:a[O])??O;return W[j]={[F]:D},W},{})),h[T]={value:N,var:F,varRef:N}}return{cssVars:d,cssMap:h}}function mpe(e){const t=hpe(e),{cssMap:i,cssVars:a}=gpe(t),d={"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},h=Hhe(t);return Object.assign(t,{__cssVars:{...d,...a},__cssMap:i,__breakpoints:$fe(t.breakpoints),__isStyleProp:h}),t}function Er(e,t={}){let i=!1;function a(){if(!i){i=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function d(...w){a();for(const x of w)t[x]=T(x);return Er(e,t)}function h(...w){for(const x of w)x in t||(t[x]=T(x));return Er(e,t)}function g(){return Object.fromEntries(Object.entries(t).map(([x,F])=>[x,F.selector]))}function y(){return Object.fromEntries(Object.entries(t).map(([x,F])=>[x,F.className]))}function T(w){const N=`chakra-${(["container","root"].includes(w??"")?[e]:[e,w]).filter(Boolean).join("__")}`;return{className:N,selector:`.${N}`,toString:()=>w}}return{parts:d,toPart:T,extend:h,selectors:g,classnames:y,get keys(){return Object.keys(t)},__type:{}}}const vpe=Er("accordion").parts("root","container","button","panel","icon"),_pe=Er("alert").parts("title","description","container","icon","spinner"),ype=Er("avatar").parts("label","badge","container","excessLabel","group"),Spe=Er("breadcrumb").parts("link","item","container","separator");Er("button").parts();const bpe=Er("checkbox").parts("control","icon","container","label");Er("progress").parts("track","filledTrack","label");const Tpe=Er("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),Cpe=Er("editable").parts("preview","input","textarea"),Ipe=Er("form").parts("container","requiredIndicator","helperText"),wpe=Er("formError").parts("text","icon"),Epe=Er("input").parts("addon","field","element","group"),Ape=Er("list").parts("container","item","icon"),xpe=Er("menu").parts("button","list","item","groupTitle","icon","command","divider"),Ppe=Er("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),kpe=Er("numberinput").parts("root","field","stepperGroup","stepper");Er("pininput").parts("field");const Dpe=Er("popover").parts("content","header","body","footer","popper","arrow","closeButton"),Rpe=Er("progress").parts("label","filledTrack","track"),Fpe=Er("radio").parts("container","control","label"),Ope=Er("select").parts("field","icon"),Npe=Er("slider").parts("container","track","thumb","filledTrack","mark"),Lpe=Er("stat").parts("container","label","helpText","number","icon"),Mpe=Er("switch").parts("container","track","thumb","label"),Wpe=Er("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),Bpe=Er("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),Upe=Er("tag").parts("container","label","closeButton"),Vpe=Er("card").parts("container","header","body","footer");Er("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:jpe,defineMultiStyleConfig:Gpe}=Gr(vpe.keys),zpe={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},Hpe={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},$pe={pt:"2",px:"4",pb:"5"},Kpe={fontSize:"1.25em"},Ype=jpe({container:zpe,button:Hpe,panel:$pe,icon:Kpe}),Qpe=Gpe({baseStyle:Ype});function jl(e,t,i){return Math.min(Math.max(e,i),t)}class Xpe extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Gg=Xpe;function Nk(e){if(typeof e!="string")throw new Gg(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=ige.test(e)?Zpe(e):e;const i=ege.exec(t);if(i){const g=Array.from(i).slice(1);return[...g.slice(0,3).map(y=>parseInt(Bm(y,2),16)),parseInt(Bm(g[3]||"f",2),16)/255]}const a=tge.exec(t);if(a){const g=Array.from(a).slice(1);return[...g.slice(0,3).map(y=>parseInt(y,16)),parseInt(g[3]||"ff",16)/255]}const d=rge.exec(t);if(d){const g=Array.from(d).slice(1);return[...g.slice(0,3).map(y=>parseInt(y,10)),parseFloat(g[3]||"1")]}const h=nge.exec(t);if(h){const[g,y,T,C]=Array.from(h).slice(1).map(parseFloat);if(jl(0,100,y)!==y)throw new Gg(e);if(jl(0,100,T)!==T)throw new Gg(e);return[...oge(g,y,T),Number.isNaN(C)?1:C]}throw new Gg(e)}function Jpe(e){let t=5381,i=e.length;for(;i;)t=t*33^e.charCodeAt(--i);return(t>>>0)%2341}const N3=e=>parseInt(e.replace(/_/g,""),36),qpe="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const i=N3(t.substring(0,3)),a=N3(t.substring(3)).toString(16);let d="";for(let h=0;h<6-a.length;h++)d+="0";return e[i]=`${d}${a}`,e},{});function Zpe(e){const t=e.toLowerCase().trim(),i=qpe[Jpe(t)];if(!i)throw new Gg(e);return`#${i}`}const Bm=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),ege=new RegExp(`^#${Bm("([a-f0-9])",3)}([a-f0-9])?$`,"i"),tge=new RegExp(`^#${Bm("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rge=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Bm(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),nge=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,ige=/^[a-z]+$/i,L3=e=>Math.round(e*255),oge=(e,t,i)=>{let a=i/100;if(t===0)return[a,a,a].map(L3);const d=(e%360+360)%360/60,h=(1-Math.abs(2*a-1))*(t/100),g=h*(1-Math.abs(d%2-1));let y=0,T=0,C=0;d>=0&&d<1?(y=h,T=g):d>=1&&d<2?(y=g,T=h):d>=2&&d<3?(T=h,C=g):d>=3&&d<4?(T=g,C=h):d>=4&&d<5?(y=g,C=h):d>=5&&d<6&&(y=h,C=g);const w=a-h/2,x=y+w,F=T+w,N=C+w;return[x,F,N].map(L3)};function age(e,t,i,a){return`rgba(${jl(0,255,e).toFixed()}, ${jl(0,255,t).toFixed()}, ${jl(0,255,i).toFixed()}, ${parseFloat(jl(0,1,a).toFixed(3))})`}function sge(e,t){const[i,a,d,h]=Nk(e);return age(i,a,d,h-t)}function uge(e){const[t,i,a,d]=Nk(e);let h=g=>{const y=jl(0,255,g).toString(16);return y.length===1?`0${y}`:y};return`#${h(t)}${h(i)}${h(a)}${d<1?h(Math.round(d*255)):""}`}const cge=e=>Object.keys(e).length===0;function lge(e,t,i,a,d){for(t=t.split?t.split("."):t,a=0;a<t.length;a++)e=e?e[t[a]]:d;return e===d?i:e}const Ji=(e,t,i)=>{const a=lge(e,`colors.${t}`,t);try{return uge(a),a}catch{return i??"#000000"}},dge=e=>{const[t,i,a]=Nk(e);return(t*299+i*587+a*114)/1e3},fge=e=>t=>{const i=Ji(t,e);return dge(i)<128?"dark":"light"},hge=e=>t=>fge(e)(t)==="dark",mh=(e,t)=>i=>{const a=Ji(i,e);return sge(a,1-t)};function M3(e="1rem",t="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${t} 25%,
    transparent 25%,
    transparent 50%,
    ${t} 50%,
    ${t} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${e} ${e}`}}const pge=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function gge(e){const t=pge();return!e||cge(e)?t:e.string&&e.colors?vge(e.string,e.colors):e.string&&!e.colors?mge(e.string):e.colors&&!e.string?_ge(e.colors):t}function mge(e){let t=0;if(e.length===0)return t.toString();for(let a=0;a<e.length;a+=1)t=e.charCodeAt(a)+((t<<5)-t),t=t&t;let i="#";for(let a=0;a<3;a+=1){const d=t>>a*8&255;i+=`00${d.toString(16)}`.substr(-2)}return i}function vge(e,t){let i=0;if(e.length===0)return t[0];for(let a=0;a<e.length;a+=1)i=e.charCodeAt(a)+((i<<5)-i),i=i&i;return i=(i%t.length+t.length)%t.length,t[i]}function _ge(e){return e[Math.floor(Math.random()*e.length)]}function Rt(e,t){return i=>i.colorMode==="dark"?t:e}function Lk(e){const{orientation:t,vertical:i,horizontal:a}=e;return t?t==="vertical"?i:a:{}}function nz(e){return ts(e)&&e.reference?e.reference:String(e)}const C1=(e,...t)=>t.map(nz).join(` ${e} `).replace(/calc/g,""),W3=(...e)=>`calc(${C1("+",...e)})`,B3=(...e)=>`calc(${C1("-",...e)})`,Qx=(...e)=>`calc(${C1("*",...e)})`,U3=(...e)=>`calc(${C1("/",...e)})`,V3=e=>{const t=nz(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:Qx(t,-1)},yu=Object.assign(e=>({add:(...t)=>yu(W3(e,...t)),subtract:(...t)=>yu(B3(e,...t)),multiply:(...t)=>yu(Qx(e,...t)),divide:(...t)=>yu(U3(e,...t)),negate:()=>yu(V3(e)),toString:()=>e.toString()}),{add:W3,subtract:B3,multiply:Qx,divide:U3,negate:V3});function yge(e){return!Number.isInteger(parseFloat(e.toString()))}function Sge(e,t="-"){return e.replace(/\s+/g,t)}function iz(e){const t=Sge(e.toString());return t.includes("\\.")?e:yge(e)?t.replace(".","\\."):e}function bge(e,t=""){return[t,iz(e)].filter(Boolean).join("-")}function Tge(e,t){return`var(${iz(e)}${t?`, ${t}`:""})`}function Cge(e,t=""){return`--${bge(e,t)}`}function Qn(e,t){const i=Cge(e,t==null?void 0:t.prefix);return{variable:i,reference:Tge(i,Ige(t==null?void 0:t.fallback))}}function Ige(e){return typeof e=="string"?e:e==null?void 0:e.reference}const{definePartsStyle:uv,defineMultiStyleConfig:wge}=Gr(_pe.keys),jo=Ft("alert-fg"),Fu=Ft("alert-bg"),Ege=uv({container:{bg:Fu.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:jo.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:jo.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Mk(e){const{theme:t,colorScheme:i}=e,a=mh(`${i}.200`,.16)(t);return{light:`colors.${i}.100`,dark:a}}const Age=uv(e=>{const{colorScheme:t}=e,i=Mk(e);return{container:{[jo.variable]:`colors.${t}.600`,[Fu.variable]:i.light,_dark:{[jo.variable]:`colors.${t}.200`,[Fu.variable]:i.dark}}}}),xge=uv(e=>{const{colorScheme:t}=e,i=Mk(e);return{container:{[jo.variable]:`colors.${t}.600`,[Fu.variable]:i.light,_dark:{[jo.variable]:`colors.${t}.200`,[Fu.variable]:i.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:jo.reference}}}),Pge=uv(e=>{const{colorScheme:t}=e,i=Mk(e);return{container:{[jo.variable]:`colors.${t}.600`,[Fu.variable]:i.light,_dark:{[jo.variable]:`colors.${t}.200`,[Fu.variable]:i.dark},pt:"2",borderTopWidth:"4px",borderTopColor:jo.reference}}}),kge=uv(e=>{const{colorScheme:t}=e;return{container:{[jo.variable]:"colors.white",[Fu.variable]:`colors.${t}.600`,_dark:{[jo.variable]:"colors.gray.900",[Fu.variable]:`colors.${t}.200`},color:jo.reference}}}),Dge={subtle:Age,"left-accent":xge,"top-accent":Pge,solid:kge},Rge=wge({baseStyle:Ege,variants:Dge,defaultProps:{variant:"subtle",colorScheme:"blue"}}),oz={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},Fge={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},Oge={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},az={...oz,...Fge,container:Oge},Nge=e=>typeof e=="function";function Zi(e,...t){return Nge(e)?e(...t):e}const{definePartsStyle:sz,defineMultiStyleConfig:Lge}=Gr(ype.keys),rh=Ft("avatar-border-color"),om=Ft("avatar-bg"),Um=Ft("avatar-font-size"),vh=Ft("avatar-size"),Mge={borderRadius:"full",border:"0.2em solid",borderColor:rh.reference,[rh.variable]:"white",_dark:{[rh.variable]:"colors.gray.800"}},Wge={bg:om.reference,fontSize:Um.reference,width:vh.reference,height:vh.reference,lineHeight:"1",[om.variable]:"colors.gray.200",_dark:{[om.variable]:"colors.whiteAlpha.400"}},Bge=e=>{const{name:t,theme:i}=e,a=t?gge({string:t}):"colors.gray.400",d=hge(a)(i);let h="white";return d||(h="gray.800"),{bg:om.reference,fontSize:Um.reference,color:h,borderColor:rh.reference,verticalAlign:"top",width:vh.reference,height:vh.reference,"&:not([data-loaded])":{[om.variable]:a},[rh.variable]:"colors.white",_dark:{[rh.variable]:"colors.gray.800"}}},Uge={fontSize:Um.reference,lineHeight:"1"},Vge=sz(e=>({badge:Zi(Mge,e),excessLabel:Zi(Wge,e),container:Zi(Bge,e),label:Uge}));function Sc(e){const t=e!=="100%"?az[e]:void 0;return sz({container:{[vh.variable]:t??e,[Um.variable]:`calc(${t??e} / 2.5)`},excessLabel:{[vh.variable]:t??e,[Um.variable]:`calc(${t??e} / 2.5)`}})}const jge={"2xs":Sc(4),xs:Sc(6),sm:Sc(8),md:Sc(12),lg:Sc(16),xl:Sc(24),"2xl":Sc(32),full:Sc("100%")},Gge=Lge({baseStyle:Vge,sizes:jge,defaultProps:{size:"md"}}),Fn=cpe("badge",["bg","color","shadow"]),zge={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Fn.bg.reference,color:Fn.color.reference,boxShadow:Fn.shadow.reference},Hge=e=>{const{colorScheme:t,theme:i}=e,a=mh(`${t}.500`,.6)(i);return{[Fn.bg.variable]:`colors.${t}.500`,[Fn.color.variable]:"colors.white",_dark:{[Fn.bg.variable]:a,[Fn.color.variable]:"colors.whiteAlpha.800"}}},$ge=e=>{const{colorScheme:t,theme:i}=e,a=mh(`${t}.200`,.16)(i);return{[Fn.bg.variable]:`colors.${t}.100`,[Fn.color.variable]:`colors.${t}.800`,_dark:{[Fn.bg.variable]:a,[Fn.color.variable]:`colors.${t}.200`}}},Kge=e=>{const{colorScheme:t,theme:i}=e,a=mh(`${t}.200`,.8)(i);return{[Fn.color.variable]:`colors.${t}.500`,_dark:{[Fn.color.variable]:a},[Fn.shadow.variable]:`inset 0 0 0px 1px ${Fn.color.reference}`}},Yge={solid:Hge,subtle:$ge,outline:Kge},am={baseStyle:zge,variants:Yge,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:Qge,definePartsStyle:Xge}=Gr(Spe.keys),fA=Ft("breadcrumb-link-decor"),Jge={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:fA.reference,[fA.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[fA.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},qge=Xge({link:Jge}),Zge=Qge({baseStyle:qge}),eme={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},uz=e=>{const{colorScheme:t,theme:i}=e;if(t==="gray")return{color:Rt("gray.800","whiteAlpha.900")(e),_hover:{bg:Rt("gray.100","whiteAlpha.200")(e)},_active:{bg:Rt("gray.200","whiteAlpha.300")(e)}};const a=mh(`${t}.200`,.12)(i),d=mh(`${t}.200`,.24)(i);return{color:Rt(`${t}.600`,`${t}.200`)(e),bg:"transparent",_hover:{bg:Rt(`${t}.50`,a)(e)},_active:{bg:Rt(`${t}.100`,d)(e)}}},tme=e=>{const{colorScheme:t}=e,i=Rt("gray.200","whiteAlpha.300")(e);return{border:"1px solid",borderColor:t==="gray"?i:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Zi(uz,e)}},rme={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},nme=e=>{const{colorScheme:t}=e;if(t==="gray"){const y=Rt("gray.100","whiteAlpha.200")(e);return{bg:y,color:Rt("gray.800","whiteAlpha.900")(e),_hover:{bg:Rt("gray.200","whiteAlpha.300")(e),_disabled:{bg:y}},_active:{bg:Rt("gray.300","whiteAlpha.400")(e)}}}const{bg:i=`${t}.500`,color:a="white",hoverBg:d=`${t}.600`,activeBg:h=`${t}.700`}=rme[t]??{},g=Rt(i,`${t}.200`)(e);return{bg:g,color:Rt(a,"gray.800")(e),_hover:{bg:Rt(d,`${t}.300`)(e),_disabled:{bg:g}},_active:{bg:Rt(h,`${t}.400`)(e)}}},ime=e=>{const{colorScheme:t}=e;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Rt(`${t}.500`,`${t}.200`)(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Rt(`${t}.700`,`${t}.500`)(e)}}},ome={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},ame={ghost:uz,outline:tme,solid:nme,link:ime,unstyled:ome},sme={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},ume={baseStyle:eme,variants:ame,sizes:sme,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Kl,defineMultiStyleConfig:cme}=Gr(Vpe.keys),kS=Ft("card-bg"),xu=Ft("card-padding"),cz=Ft("card-shadow"),My=Ft("card-radius"),lz=Ft("card-border-width","0"),dz=Ft("card-border-color"),lme=Kl({container:{[kS.variable]:"colors.chakra-body-bg",backgroundColor:kS.reference,boxShadow:cz.reference,borderRadius:My.reference,color:"chakra-body-text",borderWidth:lz.reference,borderColor:dz.reference},body:{padding:xu.reference,flex:"1 1 0%"},header:{padding:xu.reference},footer:{padding:xu.reference}}),dme={sm:Kl({container:{[My.variable]:"radii.base",[xu.variable]:"space.3"}}),md:Kl({container:{[My.variable]:"radii.md",[xu.variable]:"space.5"}}),lg:Kl({container:{[My.variable]:"radii.xl",[xu.variable]:"space.7"}})},fme={elevated:Kl({container:{[cz.variable]:"shadows.base",_dark:{[kS.variable]:"colors.gray.700"}}}),outline:Kl({container:{[lz.variable]:"1px",[dz.variable]:"colors.chakra-border-color"}}),filled:Kl({container:{[kS.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[xu.variable]:0},header:{[xu.variable]:0},footer:{[xu.variable]:0}}},hme=cme({baseStyle:lme,variants:fme,sizes:dme,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:Wy,defineMultiStyleConfig:pme}=Gr(bpe.keys),sm=Ft("checkbox-size"),gme=e=>{const{colorScheme:t}=e;return{w:sm.reference,h:sm.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Rt(`${t}.500`,`${t}.200`)(e),borderColor:Rt(`${t}.500`,`${t}.200`)(e),color:Rt("white","gray.900")(e),_hover:{bg:Rt(`${t}.600`,`${t}.300`)(e),borderColor:Rt(`${t}.600`,`${t}.300`)(e)},_disabled:{borderColor:Rt("gray.200","transparent")(e),bg:Rt("gray.200","whiteAlpha.300")(e),color:Rt("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:Rt(`${t}.500`,`${t}.200`)(e),borderColor:Rt(`${t}.500`,`${t}.200`)(e),color:Rt("white","gray.900")(e)},_disabled:{bg:Rt("gray.100","whiteAlpha.100")(e),borderColor:Rt("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Rt("red.500","red.300")(e)}}},mme={_disabled:{cursor:"not-allowed"}},vme={userSelect:"none",_disabled:{opacity:.4}},_me={transitionProperty:"transform",transitionDuration:"normal"},yme=Wy(e=>({icon:_me,container:mme,control:Zi(gme,e),label:vme})),Sme={sm:Wy({control:{[sm.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:Wy({control:{[sm.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:Wy({control:{[sm.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},Ac=pme({baseStyle:yme,sizes:Sme,defaultProps:{size:"md",colorScheme:"blue"}}),um=Qn("close-button-size"),kg=Qn("close-button-bg"),bme={w:[um.reference],h:[um.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[kg.variable]:"colors.blackAlpha.100",_dark:{[kg.variable]:"colors.whiteAlpha.100"}},_active:{[kg.variable]:"colors.blackAlpha.200",_dark:{[kg.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:kg.reference},Tme={lg:{[um.variable]:"sizes.10",fontSize:"md"},md:{[um.variable]:"sizes.8",fontSize:"xs"},sm:{[um.variable]:"sizes.6",fontSize:"2xs"}},Cme={baseStyle:bme,sizes:Tme,defaultProps:{size:"md"}},{variants:Ime,defaultProps:wme}=am,Eme={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Fn.bg.reference,color:Fn.color.reference,boxShadow:Fn.shadow.reference},Ame={baseStyle:Eme,variants:Ime,defaultProps:wme},xme={w:"100%",mx:"auto",maxW:"prose",px:"4"},Pme={baseStyle:xme},kme={opacity:.6,borderColor:"inherit"},Dme={borderStyle:"solid"},Rme={borderStyle:"dashed"},Fme={solid:Dme,dashed:Rme},Ome={baseStyle:kme,variants:Fme,defaultProps:{variant:"solid"}},{definePartsStyle:Xx,defineMultiStyleConfig:Nme}=Gr(Tpe.keys),hA=Ft("drawer-bg"),pA=Ft("drawer-box-shadow");function wf(e){return Xx(e==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}const Lme={bg:"blackAlpha.600",zIndex:"modal"},Mme={display:"flex",zIndex:"modal",justifyContent:"center"},Wme=e=>{const{isFullHeight:t}=e;return{...t&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[hA.variable]:"colors.white",[pA.variable]:"shadows.lg",_dark:{[hA.variable]:"colors.gray.700",[pA.variable]:"shadows.dark-lg"},bg:hA.reference,boxShadow:pA.reference}},Bme={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Ume={position:"absolute",top:"2",insetEnd:"3"},Vme={px:"6",py:"2",flex:"1",overflow:"auto"},jme={px:"6",py:"4"},Gme=Xx(e=>({overlay:Lme,dialogContainer:Mme,dialog:Zi(Wme,e),header:Bme,closeButton:Ume,body:Vme,footer:jme})),zme={xs:wf("xs"),sm:wf("md"),md:wf("lg"),lg:wf("2xl"),xl:wf("4xl"),full:wf("full")},Hme=Nme({baseStyle:Gme,sizes:zme,defaultProps:{size:"xs"}}),{definePartsStyle:$me,defineMultiStyleConfig:Kme}=Gr(Cpe.keys),Yme={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},Qme={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},Xme={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},Jme=$me({preview:Yme,input:Qme,textarea:Xme}),qme=Kme({baseStyle:Jme}),{definePartsStyle:Zme,defineMultiStyleConfig:eve}=Gr(Ipe.keys),nh=Ft("form-control-color"),tve={marginStart:"1",[nh.variable]:"colors.red.500",_dark:{[nh.variable]:"colors.red.300"},color:nh.reference},rve={mt:"2",[nh.variable]:"colors.gray.600",_dark:{[nh.variable]:"colors.whiteAlpha.600"},color:nh.reference,lineHeight:"normal",fontSize:"sm"},nve=Zme({container:{width:"100%",position:"relative"},requiredIndicator:tve,helperText:rve}),ive=eve({baseStyle:nve}),{definePartsStyle:ove,defineMultiStyleConfig:ave}=Gr(wpe.keys),ih=Ft("form-error-color"),sve={[ih.variable]:"colors.red.500",_dark:{[ih.variable]:"colors.red.300"},color:ih.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},uve={marginEnd:"0.5em",[ih.variable]:"colors.red.500",_dark:{[ih.variable]:"colors.red.300"},color:ih.reference},cve=ove({text:sve,icon:uve}),lve=ave({baseStyle:cve}),dve={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},fve={baseStyle:dve},hve={fontFamily:"heading",fontWeight:"bold"},pve={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},gve={baseStyle:hve,sizes:pve,defaultProps:{size:"xl"}},{definePartsStyle:wu,defineMultiStyleConfig:mve}=Gr(Epe.keys),Uf=Ft("input-height"),Vf=Ft("input-font-size"),jf=Ft("input-padding"),Gf=Ft("input-border-radius"),vve=wu({addon:{height:Uf.reference,fontSize:Vf.reference,px:jf.reference,borderRadius:Gf.reference},field:{width:"100%",height:Uf.reference,fontSize:Vf.reference,px:jf.reference,borderRadius:Gf.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),bc={lg:{[Vf.variable]:"fontSizes.lg",[jf.variable]:"space.4",[Gf.variable]:"radii.md",[Uf.variable]:"sizes.12"},md:{[Vf.variable]:"fontSizes.md",[jf.variable]:"space.4",[Gf.variable]:"radii.md",[Uf.variable]:"sizes.10"},sm:{[Vf.variable]:"fontSizes.sm",[jf.variable]:"space.3",[Gf.variable]:"radii.sm",[Uf.variable]:"sizes.8"},xs:{[Vf.variable]:"fontSizes.xs",[jf.variable]:"space.2",[Gf.variable]:"radii.sm",[Uf.variable]:"sizes.6"}},_ve={lg:wu({field:bc.lg,group:bc.lg}),md:wu({field:bc.md,group:bc.md}),sm:wu({field:bc.sm,group:bc.sm}),xs:wu({field:bc.xs,group:bc.xs})};function Wk(e){const{focusBorderColor:t,errorBorderColor:i}=e;return{focusBorderColor:t||Rt("blue.500","blue.300")(e),errorBorderColor:i||Rt("red.500","red.300")(e)}}const yve=wu(e=>{const{theme:t}=e,{focusBorderColor:i,errorBorderColor:a}=Wk(e);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Rt("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ji(t,a),boxShadow:`0 0 0 1px ${Ji(t,a)}`},_focusVisible:{zIndex:1,borderColor:Ji(t,i),boxShadow:`0 0 0 1px ${Ji(t,i)}`}},addon:{border:"1px solid",borderColor:Rt("inherit","whiteAlpha.50")(e),bg:Rt("gray.100","whiteAlpha.300")(e)}}}),Sve=wu(e=>{const{theme:t}=e,{focusBorderColor:i,errorBorderColor:a}=Wk(e);return{field:{border:"2px solid",borderColor:"transparent",bg:Rt("gray.100","whiteAlpha.50")(e),_hover:{bg:Rt("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ji(t,a)},_focusVisible:{bg:"transparent",borderColor:Ji(t,i)}},addon:{border:"2px solid",borderColor:"transparent",bg:Rt("gray.100","whiteAlpha.50")(e)}}}),bve=wu(e=>{const{theme:t}=e,{focusBorderColor:i,errorBorderColor:a}=Wk(e);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ji(t,a),boxShadow:`0px 1px 0px 0px ${Ji(t,a)}`},_focusVisible:{borderColor:Ji(t,i),boxShadow:`0px 1px 0px 0px ${Ji(t,i)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),Tve=wu({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),Cve={outline:yve,filled:Sve,flushed:bve,unstyled:Tve},wr=mve({baseStyle:vve,sizes:_ve,variants:Cve,defaultProps:{size:"md",variant:"outline"}}),gA=Ft("kbd-bg"),Ive={[gA.variable]:"colors.gray.100",_dark:{[gA.variable]:"colors.whiteAlpha.100"},bg:gA.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},wve={baseStyle:Ive},Eve={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},Ave={baseStyle:Eve},{defineMultiStyleConfig:xve,definePartsStyle:Pve}=Gr(Ape.keys),kve={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},Dve=Pve({icon:kve}),Rve=xve({baseStyle:Dve}),{defineMultiStyleConfig:Fve,definePartsStyle:Ove}=Gr(xpe.keys),Os=Ft("menu-bg"),mA=Ft("menu-shadow"),Nve={[Os.variable]:"#fff",[mA.variable]:"shadows.sm",_dark:{[Os.variable]:"colors.gray.700",[mA.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:Os.reference,boxShadow:mA.reference},Lve={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Os.variable]:"colors.gray.100",_dark:{[Os.variable]:"colors.whiteAlpha.100"}},_active:{[Os.variable]:"colors.gray.200",_dark:{[Os.variable]:"colors.whiteAlpha.200"}},_expanded:{[Os.variable]:"colors.gray.100",_dark:{[Os.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Os.reference},Mve={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},Wve={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},Bve={opacity:.6},Uve={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},Vve={transitionProperty:"common",transitionDuration:"normal"},jve=Ove({button:Vve,list:Nve,item:Lve,groupTitle:Mve,icon:Wve,command:Bve,divider:Uve}),Gve=Fve({baseStyle:jve}),{defineMultiStyleConfig:zve,definePartsStyle:Jx}=Gr(Ppe.keys),vA=Ft("modal-bg"),_A=Ft("modal-shadow"),Hve={bg:"blackAlpha.600",zIndex:"modal"},$ve=e=>{const{isCentered:t,scrollBehavior:i}=e;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:t?"center":"flex-start",overflow:i==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},Kve=e=>{const{isCentered:t,scrollBehavior:i}=e;return{borderRadius:"md",color:"inherit",my:t?"auto":"16",mx:t?"auto":void 0,zIndex:"modal",maxH:i==="inside"?"calc(100% - 7.5rem)":void 0,[vA.variable]:"colors.white",[_A.variable]:"shadows.lg",_dark:{[vA.variable]:"colors.gray.700",[_A.variable]:"shadows.dark-lg"},bg:vA.reference,boxShadow:_A.reference}},Yve={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Qve={position:"absolute",top:"2",insetEnd:"3"},Xve=e=>{const{scrollBehavior:t}=e;return{px:"6",py:"2",flex:"1",overflow:t==="inside"?"auto":void 0}},Jve={px:"6",py:"4"},qve=Jx(e=>({overlay:Hve,dialogContainer:Zi($ve,e),dialog:Zi(Kve,e),header:Yve,closeButton:Qve,body:Zi(Xve,e),footer:Jve}));function za(e){return Jx(e==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}const Zve={xs:za("xs"),sm:za("sm"),md:za("md"),lg:za("lg"),xl:za("xl"),"2xl":za("2xl"),"3xl":za("3xl"),"4xl":za("4xl"),"5xl":za("5xl"),"6xl":za("6xl"),full:za("full")},e_e=zve({baseStyle:qve,sizes:Zve,defaultProps:{size:"md"}}),fz={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:t_e,definePartsStyle:hz}=Gr(kpe.keys),Bk=Qn("number-input-stepper-width"),pz=Qn("number-input-input-padding"),r_e=yu(Bk).add("0.5rem").toString(),yA=Qn("number-input-bg"),SA=Qn("number-input-color"),bA=Qn("number-input-border-color"),n_e={[Bk.variable]:"sizes.6",[pz.variable]:r_e},i_e=e=>{var t;return((t=Zi(wr.baseStyle,e))==null?void 0:t.field)??{}},o_e={width:Bk.reference},a_e={borderStart:"1px solid",borderStartColor:bA.reference,color:SA.reference,bg:yA.reference,[SA.variable]:"colors.chakra-body-text",[bA.variable]:"colors.chakra-border-color",_dark:{[SA.variable]:"colors.whiteAlpha.800",[bA.variable]:"colors.whiteAlpha.300"},_active:{[yA.variable]:"colors.gray.200",_dark:{[yA.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},s_e=hz(e=>({root:n_e,field:Zi(i_e,e)??{},stepperGroup:o_e,stepper:a_e}));function ay(e){var h,g;const t=(h=wr.sizes)==null?void 0:h[e],i={lg:"md",md:"md",sm:"sm",xs:"sm"},a=((g=t.field)==null?void 0:g.fontSize)??"md",d=fz.fontSizes[a];return hz({field:{...t.field,paddingInlineEnd:pz.reference,verticalAlign:"top"},stepper:{fontSize:yu(d).multiply(.75).toString(),_first:{borderTopEndRadius:i[e]},_last:{borderBottomEndRadius:i[e],mt:"-1px",borderTopWidth:1}}})}const u_e={xs:ay("xs"),sm:ay("sm"),md:ay("md"),lg:ay("lg")},c_e=t_e({baseStyle:s_e,sizes:u_e,variants:wr.variants,defaultProps:wr.defaultProps});var mj;const l_e={...(mj=wr.baseStyle)==null?void 0:mj.field,textAlign:"center"},d_e={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var vj;const f_e={outline:e=>{var t,i;return((i=Zi((t=wr.variants)==null?void 0:t.outline,e))==null?void 0:i.field)??{}},flushed:e=>{var t,i;return((i=Zi((t=wr.variants)==null?void 0:t.flushed,e))==null?void 0:i.field)??{}},filled:e=>{var t,i;return((i=Zi((t=wr.variants)==null?void 0:t.filled,e))==null?void 0:i.field)??{}},unstyled:((vj=wr.variants)==null?void 0:vj.unstyled.field)??{}},h_e={baseStyle:l_e,sizes:d_e,variants:f_e,defaultProps:wr.defaultProps},{defineMultiStyleConfig:p_e,definePartsStyle:g_e}=Gr(Dpe.keys),sy=Qn("popper-bg"),m_e=Qn("popper-arrow-bg"),j3=Qn("popper-arrow-shadow-color"),v_e={zIndex:"popover"},__e={[sy.variable]:"colors.white",bg:sy.reference,[m_e.variable]:sy.reference,[j3.variable]:"colors.gray.200",_dark:{[sy.variable]:"colors.gray.700",[j3.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},y_e={px:3,py:2,borderBottomWidth:"1px"},S_e={px:3,py:2},b_e={px:3,py:2,borderTopWidth:"1px"},T_e={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},C_e=g_e({popper:v_e,content:__e,header:y_e,body:S_e,footer:b_e,closeButton:T_e}),I_e=p_e({baseStyle:C_e}),{defineMultiStyleConfig:w_e,definePartsStyle:zg}=Gr(Rpe.keys),E_e=e=>{const{colorScheme:t,theme:i,isIndeterminate:a,hasStripe:d}=e,h=Rt(M3(),M3("1rem","rgba(0,0,0,0.1)"))(e),g=Rt(`${t}.500`,`${t}.200`)(e),y=`linear-gradient(
    to right,
    transparent 0%,
    ${Ji(i,g)} 50%,
    transparent 100%
  )`;return{...!a&&d&&h,...a?{bgImage:y}:{bgColor:g}}},A_e={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},x_e=e=>({bg:Rt("gray.100","whiteAlpha.300")(e)}),P_e=e=>({transitionProperty:"common",transitionDuration:"slow",...E_e(e)}),k_e=zg(e=>({label:A_e,filledTrack:P_e(e),track:x_e(e)})),D_e={xs:zg({track:{h:"1"}}),sm:zg({track:{h:"2"}}),md:zg({track:{h:"3"}}),lg:zg({track:{h:"4"}})},R_e=w_e({sizes:D_e,baseStyle:k_e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:F_e,definePartsStyle:By}=Gr(Fpe.keys),O_e=e=>{var i;const t=(i=Zi(Ac.baseStyle,e))==null?void 0:i.control;return{...t,borderRadius:"full",_checked:{...t==null?void 0:t._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},N_e=By(e=>{var t,i;return{label:(t=Ac.baseStyle)==null?void 0:t.call(Ac,e).label,container:(i=Ac.baseStyle)==null?void 0:i.call(Ac,e).container,control:O_e(e)}}),L_e={md:By({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:By({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:By({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},M_e=F_e({baseStyle:N_e,sizes:L_e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:W_e,definePartsStyle:B_e}=Gr(Ope.keys),uy=Ft("select-bg");var _j;const U_e={...(_j=wr.baseStyle)==null?void 0:_j.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:uy.reference,[uy.variable]:"colors.white",_dark:{[uy.variable]:"colors.gray.700"},"> option, > optgroup":{bg:uy.reference}},V_e={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},j_e=B_e({field:U_e,icon:V_e}),cy={paddingInlineEnd:"8"};var yj,Sj,bj,Tj,Cj,Ij,wj,Ej;const G_e={lg:{...(yj=wr.sizes)==null?void 0:yj.lg,field:{...(Sj=wr.sizes)==null?void 0:Sj.lg.field,...cy}},md:{...(bj=wr.sizes)==null?void 0:bj.md,field:{...(Tj=wr.sizes)==null?void 0:Tj.md.field,...cy}},sm:{...(Cj=wr.sizes)==null?void 0:Cj.sm,field:{...(Ij=wr.sizes)==null?void 0:Ij.sm.field,...cy}},xs:{...(wj=wr.sizes)==null?void 0:wj.xs,field:{...(Ej=wr.sizes)==null?void 0:Ej.xs.field,...cy},icon:{insetEnd:"1"}}},z_e=W_e({baseStyle:j_e,sizes:G_e,variants:wr.variants,defaultProps:wr.defaultProps}),TA=Ft("skeleton-start-color"),CA=Ft("skeleton-end-color"),H_e={[TA.variable]:"colors.gray.100",[CA.variable]:"colors.gray.400",_dark:{[TA.variable]:"colors.gray.800",[CA.variable]:"colors.gray.600"},background:TA.reference,borderColor:CA.reference,opacity:.7,borderRadius:"sm"},$_e={baseStyle:H_e},IA=Ft("skip-link-bg"),K_e={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[IA.variable]:"colors.white",_dark:{[IA.variable]:"colors.gray.700"},bg:IA.reference}},Y_e={baseStyle:K_e},{defineMultiStyleConfig:Q_e,definePartsStyle:I1}=Gr(Npe.keys),td=Ft("slider-thumb-size"),Vm=Ft("slider-track-size"),Dc=Ft("slider-bg"),X_e=e=>{const{orientation:t}=e;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Lk({orientation:t,vertical:{h:"100%",px:_u(td.reference).divide(2).toString()},horizontal:{w:"100%",py:_u(td.reference).divide(2).toString()}})}},J_e=e=>({...Lk({orientation:e.orientation,horizontal:{h:Vm.reference},vertical:{w:Vm.reference}}),overflow:"hidden",borderRadius:"sm",[Dc.variable]:"colors.gray.200",_dark:{[Dc.variable]:"colors.whiteAlpha.200"},_disabled:{[Dc.variable]:"colors.gray.300",_dark:{[Dc.variable]:"colors.whiteAlpha.300"}},bg:Dc.reference}),q_e=e=>{const{orientation:t}=e;return{...Lk({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:td.reference,h:td.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},Z_e=e=>{const{colorScheme:t}=e;return{width:"inherit",height:"inherit",[Dc.variable]:`colors.${t}.500`,_dark:{[Dc.variable]:`colors.${t}.200`},bg:Dc.reference}},e0e=I1(e=>({container:X_e(e),track:J_e(e),thumb:q_e(e),filledTrack:Z_e(e)})),t0e=I1({container:{[td.variable]:"sizes.4",[Vm.variable]:"sizes.1"}}),r0e=I1({container:{[td.variable]:"sizes.3.5",[Vm.variable]:"sizes.1"}}),n0e=I1({container:{[td.variable]:"sizes.2.5",[Vm.variable]:"sizes.0.5"}}),i0e={lg:t0e,md:r0e,sm:n0e},o0e=Q_e({baseStyle:e0e,sizes:i0e,defaultProps:{size:"md",colorScheme:"blue"}}),Ml=Qn("spinner-size"),a0e={width:[Ml.reference],height:[Ml.reference]},s0e={xs:{[Ml.variable]:"sizes.3"},sm:{[Ml.variable]:"sizes.4"},md:{[Ml.variable]:"sizes.6"},lg:{[Ml.variable]:"sizes.8"},xl:{[Ml.variable]:"sizes.12"}},u0e={baseStyle:a0e,sizes:s0e,defaultProps:{size:"md"}},{defineMultiStyleConfig:c0e,definePartsStyle:gz}=Gr(Lpe.keys),l0e={fontWeight:"medium"},d0e={opacity:.8,marginBottom:"2"},f0e={verticalAlign:"baseline",fontWeight:"semibold"},h0e={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},p0e=gz({container:{},label:l0e,helpText:d0e,number:f0e,icon:h0e}),g0e={md:gz({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},m0e=c0e({baseStyle:p0e,sizes:g0e,defaultProps:{size:"md"}}),{defineMultiStyleConfig:v0e,definePartsStyle:Hg}=Gr(["stepper","step","title","description","indicator","separator","icon","number"]),Su=Ft("stepper-indicator-size"),zf=Ft("stepper-icon-size"),Hf=Ft("stepper-title-font-size"),$g=Ft("stepper-description-font-size"),Dg=Ft("stepper-accent-color"),_0e=Hg(({colorScheme:e})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Dg.variable]:`colors.${e}.500`,_dark:{[Dg.variable]:`colors.${e}.200`}},title:{fontSize:Hf.reference,fontWeight:"medium"},description:{fontSize:$g.reference,color:"chakra-subtle-text"},number:{fontSize:Hf.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:zf.reference,height:zf.reference},indicator:{flexShrink:0,borderRadius:"full",width:Su.reference,height:Su.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Dg.reference},"&[data-status=complete]":{bg:Dg.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Dg.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${Su.reference} - 8px)`,top:`calc(${Su.reference} + 4px)`,insetStart:`calc(${Su.reference} / 2 - 1px)`}}})),y0e=v0e({baseStyle:_0e,sizes:{xs:Hg({stepper:{[Su.variable]:"sizes.4",[zf.variable]:"sizes.3",[Hf.variable]:"fontSizes.xs",[$g.variable]:"fontSizes.xs"}}),sm:Hg({stepper:{[Su.variable]:"sizes.6",[zf.variable]:"sizes.4",[Hf.variable]:"fontSizes.sm",[$g.variable]:"fontSizes.xs"}}),md:Hg({stepper:{[Su.variable]:"sizes.8",[zf.variable]:"sizes.5",[Hf.variable]:"fontSizes.md",[$g.variable]:"fontSizes.sm"}}),lg:Hg({stepper:{[Su.variable]:"sizes.10",[zf.variable]:"sizes.6",[Hf.variable]:"fontSizes.lg",[$g.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:S0e,definePartsStyle:Uy}=Gr(Mpe.keys),cm=Qn("switch-track-width"),Yl=Qn("switch-track-height"),wA=Qn("switch-track-diff"),b0e=yu.subtract(cm,Yl),qx=Qn("switch-thumb-x"),Rg=Qn("switch-bg"),T0e=e=>{const{colorScheme:t}=e;return{borderRadius:"full",p:"0.5",width:[cm.reference],height:[Yl.reference],transitionProperty:"common",transitionDuration:"fast",[Rg.variable]:"colors.gray.300",_dark:{[Rg.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Rg.variable]:`colors.${t}.500`,_dark:{[Rg.variable]:`colors.${t}.200`}},bg:Rg.reference}},C0e={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Yl.reference],height:[Yl.reference],_checked:{transform:`translateX(${qx.reference})`}},I0e=Uy(e=>({container:{[wA.variable]:b0e,[qx.variable]:wA.reference,_rtl:{[qx.variable]:yu(wA).negate().toString()}},track:T0e(e),thumb:C0e})),w0e={sm:Uy({container:{[cm.variable]:"1.375rem",[Yl.variable]:"sizes.3"}}),md:Uy({container:{[cm.variable]:"1.875rem",[Yl.variable]:"sizes.4"}}),lg:Uy({container:{[cm.variable]:"2.875rem",[Yl.variable]:"sizes.6"}})},E0e=S0e({baseStyle:I0e,sizes:w0e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:A0e,definePartsStyle:oh}=Gr(Wpe.keys),x0e=oh({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),DS={"&[data-is-numeric=true]":{textAlign:"end"}},P0e=oh(e=>{const{colorScheme:t}=e;return{th:{color:Rt("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e),...DS},td:{borderBottom:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e),...DS},caption:{color:Rt("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),k0e=oh(e=>{const{colorScheme:t}=e;return{th:{color:Rt("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e),...DS},td:{borderBottom:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e),...DS},caption:{color:Rt("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e)},td:{background:Rt(`${t}.100`,`${t}.700`)(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),D0e={simple:P0e,striped:k0e,unstyled:{}},R0e={sm:oh({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:oh({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:oh({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},F0e=A0e({baseStyle:x0e,variants:D0e,sizes:R0e,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),_o=Ft("tabs-color"),Xa=Ft("tabs-bg"),ly=Ft("tabs-border-color"),{defineMultiStyleConfig:O0e,definePartsStyle:Gs}=Gr(Bpe.keys),N0e=e=>{const{orientation:t}=e;return{display:t==="vertical"?"flex":"block"}},L0e=e=>{const{isFitted:t}=e;return{flex:t?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},M0e=e=>{const{align:t="start",orientation:i}=e;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[t],flexDirection:i==="vertical"?"column":"row"}},W0e={p:4},B0e=Gs(e=>({root:N0e(e),tab:L0e(e),tablist:M0e(e),tabpanel:W0e})),U0e={sm:Gs({tab:{py:1,px:4,fontSize:"sm"}}),md:Gs({tab:{fontSize:"md",py:2,px:4}}),lg:Gs({tab:{fontSize:"lg",py:3,px:4}})},V0e=Gs(e=>{const{colorScheme:t,orientation:i}=e,a=i==="vertical",d=a?"borderStart":"borderBottom",h=a?"marginStart":"marginBottom";return{tablist:{[d]:"2px solid",borderColor:"inherit"},tab:{[d]:"2px solid",borderColor:"transparent",[h]:"-2px",_selected:{[_o.variable]:`colors.${t}.600`,_dark:{[_o.variable]:`colors.${t}.300`},borderColor:"currentColor"},_active:{[Xa.variable]:"colors.gray.200",_dark:{[Xa.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:_o.reference,bg:Xa.reference}}}),j0e=Gs(e=>{const{colorScheme:t}=e;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[ly.variable]:"transparent",_selected:{[_o.variable]:`colors.${t}.600`,[ly.variable]:"colors.white",_dark:{[_o.variable]:`colors.${t}.300`,[ly.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:ly.reference},color:_o.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),G0e=Gs(e=>{const{colorScheme:t}=e;return{tab:{border:"1px solid",borderColor:"inherit",[Xa.variable]:"colors.gray.50",_dark:{[Xa.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Xa.variable]:"colors.white",[_o.variable]:`colors.${t}.600`,_dark:{[Xa.variable]:"colors.gray.800",[_o.variable]:`colors.${t}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:_o.reference,bg:Xa.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),z0e=Gs(e=>{const{colorScheme:t,theme:i}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Ji(i,`${t}.700`),bg:Ji(i,`${t}.100`)}}}}),H0e=Gs(e=>{const{colorScheme:t}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",[_o.variable]:"colors.gray.600",_dark:{[_o.variable]:"inherit"},_selected:{[_o.variable]:"colors.white",[Xa.variable]:`colors.${t}.600`,_dark:{[_o.variable]:"colors.gray.800",[Xa.variable]:`colors.${t}.300`}},color:_o.reference,bg:Xa.reference}}}),$0e=Gs({}),K0e={line:V0e,enclosed:j0e,"enclosed-colored":G0e,"soft-rounded":z0e,"solid-rounded":H0e,unstyled:$0e},Y0e=O0e({baseStyle:B0e,sizes:U0e,variants:K0e,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:Q0e,definePartsStyle:Ql}=Gr(Upe.keys),G3=Ft("tag-bg"),z3=Ft("tag-color"),EA=Ft("tag-shadow"),Vy=Ft("tag-min-height"),jy=Ft("tag-min-width"),Gy=Ft("tag-font-size"),zy=Ft("tag-padding-inline"),X0e={fontWeight:"medium",lineHeight:1.2,outline:0,[z3.variable]:Fn.color.reference,[G3.variable]:Fn.bg.reference,[EA.variable]:Fn.shadow.reference,color:z3.reference,bg:G3.reference,boxShadow:EA.reference,borderRadius:"md",minH:Vy.reference,minW:jy.reference,fontSize:Gy.reference,px:zy.reference,_focusVisible:{[EA.variable]:"shadows.outline"}},J0e={lineHeight:1.2,overflow:"visible"},q0e={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},Z0e=Ql({container:X0e,label:J0e,closeButton:q0e}),eye={sm:Ql({container:{[Vy.variable]:"sizes.5",[jy.variable]:"sizes.5",[Gy.variable]:"fontSizes.xs",[zy.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Ql({container:{[Vy.variable]:"sizes.6",[jy.variable]:"sizes.6",[Gy.variable]:"fontSizes.sm",[zy.variable]:"space.2"}}),lg:Ql({container:{[Vy.variable]:"sizes.8",[jy.variable]:"sizes.8",[Gy.variable]:"fontSizes.md",[zy.variable]:"space.3"}})},tye={subtle:Ql(e=>{var t;return{container:(t=am.variants)==null?void 0:t.subtle(e)}}),solid:Ql(e=>{var t;return{container:(t=am.variants)==null?void 0:t.solid(e)}}),outline:Ql(e=>{var t;return{container:(t=am.variants)==null?void 0:t.outline(e)}})},rye=Q0e({variants:tye,baseStyle:Z0e,sizes:eye,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var Aj;const nye={...(Aj=wr.baseStyle)==null?void 0:Aj.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var xj;const iye={outline:e=>{var t;return((t=wr.variants)==null?void 0:t.outline(e).field)??{}},flushed:e=>{var t;return((t=wr.variants)==null?void 0:t.flushed(e).field)??{}},filled:e=>{var t;return((t=wr.variants)==null?void 0:t.filled(e).field)??{}},unstyled:((xj=wr.variants)==null?void 0:xj.unstyled.field)??{}};var Pj,kj,Dj,Rj;const oye={xs:((Pj=wr.sizes)==null?void 0:Pj.xs.field)??{},sm:((kj=wr.sizes)==null?void 0:kj.sm.field)??{},md:((Dj=wr.sizes)==null?void 0:Dj.md.field)??{},lg:((Rj=wr.sizes)==null?void 0:Rj.lg.field)??{}},aye={baseStyle:nye,sizes:oye,variants:iye,defaultProps:{size:"md",variant:"outline"}},dy=Qn("tooltip-bg"),AA=Qn("tooltip-fg"),sye=Qn("popper-arrow-bg"),uye={bg:dy.reference,color:AA.reference,[dy.variable]:"colors.gray.700",[AA.variable]:"colors.whiteAlpha.900",_dark:{[dy.variable]:"colors.gray.300",[AA.variable]:"colors.gray.900"},[sye.variable]:dy.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},cye={baseStyle:uye},lye={Accordion:Qpe,Alert:Rge,Avatar:Gge,Badge:am,Breadcrumb:Zge,Button:ume,Checkbox:Ac,CloseButton:Cme,Code:Ame,Container:Pme,Divider:Ome,Drawer:Hme,Editable:qme,Form:ive,FormError:lve,FormLabel:fve,Heading:gve,Input:wr,Kbd:wve,Link:Ave,List:Rve,Menu:Gve,Modal:e_e,NumberInput:c_e,PinInput:h_e,Popover:I_e,Progress:R_e,Radio:M_e,Select:z_e,Skeleton:$_e,SkipLink:Y_e,Slider:o0e,Spinner:u0e,Stat:m0e,Switch:E0e,Table:F0e,Tabs:Y0e,Tag:rye,Textarea:aye,Tooltip:cye,Card:hme,Stepper:y0e},dye={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},fye={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},hye={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},pye={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},gye={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},mye={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},vye={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},_ye={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},yye={property:mye,easing:vye,duration:_ye},Sye={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},bye={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},Tye={breakpoints:fye,zIndices:Sye,radii:pye,blur:bye,colors:hye,...fz,sizes:az,shadows:gye,space:oz,borders:dye,transition:yye},Cye={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},Iye={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},wye="ltr",Eye={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},Aye={semanticTokens:Cye,direction:wye,...Tye,components:lye,styles:Iye,config:Eye};var xye=!1;function Pye(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function kye(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Dye=function(){function e(i){var a=this;this._insertTag=function(d){var h;a.tags.length===0?a.insertionPoint?h=a.insertionPoint.nextSibling:a.prepend?h=a.container.firstChild:h=a.before:h=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(d,h),a.tags.push(d)},this.isSpeedy=i.speedy===void 0?!xye:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(a){a.forEach(this._insertTag)},t.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kye(this));var d=this.tags[this.tags.length-1];if(this.isSpeedy){var h=Pye(d);try{h.insertRule(a,h.cssRules.length)}catch{}}else d.appendChild(document.createTextNode(a));this.ctr++},t.flush=function(){this.tags.forEach(function(a){var d;return(d=a.parentNode)==null?void 0:d.removeChild(a)}),this.tags=[],this.ctr=0},e}(),ki="-ms-",RS="-moz-",Cr="-webkit-",mz="comm",Uk="rule",Vk="decl",Rye="@import",vz="@keyframes",Fye="@layer",Oye=Math.abs,w1=String.fromCharCode,Nye=Object.assign;function Lye(e,t){return yi(e,0)^45?(((t<<2^yi(e,0))<<2^yi(e,1))<<2^yi(e,2))<<2^yi(e,3):0}function _z(e){return e.trim()}function Mye(e,t){return(e=t.exec(e))?e[0]:e}function Ir(e,t,i){return e.replace(t,i)}function Zx(e,t){return e.indexOf(t)}function yi(e,t){return e.charCodeAt(t)|0}function jm(e,t,i){return e.slice(t,i)}function Ns(e){return e.length}function jk(e){return e.length}function fy(e,t){return t.push(e),e}function Wye(e,t){return e.map(t).join("")}var E1=1,_h=1,yz=0,Io=0,Mn=0,Eh="";function A1(e,t,i,a,d,h,g){return{value:e,root:t,parent:i,type:a,props:d,children:h,line:E1,column:_h,length:g,return:""}}function Fg(e,t){return Nye(A1("",null,null,"",null,null,0),e,{length:-e.length},t)}function Bye(){return Mn}function Uye(){return Mn=Io>0?yi(Eh,--Io):0,_h--,Mn===10&&(_h=1,E1--),Mn}function Go(){return Mn=Io<yz?yi(Eh,Io++):0,_h++,Mn===10&&(_h=1,E1++),Mn}function zs(){return yi(Eh,Io)}function Hy(){return Io}function cv(e,t){return jm(Eh,e,t)}function Gm(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Sz(e){return E1=_h=1,yz=Ns(Eh=e),Io=0,[]}function bz(e){return Eh="",e}function $y(e){return _z(cv(Io-1,eP(e===91?e+2:e===40?e+1:e)))}function Vye(e){for(;(Mn=zs())&&Mn<33;)Go();return Gm(e)>2||Gm(Mn)>3?"":" "}function jye(e,t){for(;--t&&Go()&&!(Mn<48||Mn>102||Mn>57&&Mn<65||Mn>70&&Mn<97););return cv(e,Hy()+(t<6&&zs()==32&&Go()==32))}function eP(e){for(;Go();)switch(Mn){case e:return Io;case 34:case 39:e!==34&&e!==39&&eP(Mn);break;case 40:e===41&&eP(e);break;case 92:Go();break}return Io}function Gye(e,t){for(;Go()&&e+Mn!==47+10;)if(e+Mn===42+42&&zs()===47)break;return"/*"+cv(t,Io-1)+"*"+w1(e===47?e:Go())}function zye(e){for(;!Gm(zs());)Go();return cv(e,Io)}function Hye(e){return bz(Ky("",null,null,null,[""],e=Sz(e),0,[0],e))}function Ky(e,t,i,a,d,h,g,y,T){for(var C=0,w=0,x=g,F=0,N=0,E=0,W=1,O=1,R=1,D=0,j="",Y=d,de=h,ne=a,X=j;O;)switch(E=D,D=Go()){case 40:if(E!=108&&yi(X,x-1)==58){Zx(X+=Ir($y(D),"&","&\f"),"&\f")!=-1&&(R=-1);break}case 34:case 39:case 91:X+=$y(D);break;case 9:case 10:case 13:case 32:X+=Vye(E);break;case 92:X+=jye(Hy()-1,7);continue;case 47:switch(zs()){case 42:case 47:fy($ye(Gye(Go(),Hy()),t,i),T);break;default:X+="/"}break;case 123*W:y[C++]=Ns(X)*R;case 125*W:case 59:case 0:switch(D){case 0:case 125:O=0;case 59+w:R==-1&&(X=Ir(X,/\f/g,"")),N>0&&Ns(X)-x&&fy(N>32?$3(X+";",a,i,x-1):$3(Ir(X," ","")+";",a,i,x-2),T);break;case 59:X+=";";default:if(fy(ne=H3(X,t,i,C,w,d,y,j,Y=[],de=[],x),h),D===123)if(w===0)Ky(X,t,ne,ne,Y,h,x,y,de);else switch(F===99&&yi(X,3)===110?100:F){case 100:case 108:case 109:case 115:Ky(e,ne,ne,a&&fy(H3(e,ne,ne,0,0,d,y,j,d,Y=[],x),de),d,de,x,y,a?Y:de);break;default:Ky(X,ne,ne,ne,[""],de,0,y,de)}}C=w=N=0,W=R=1,j=X="",x=g;break;case 58:x=1+Ns(X),N=E;default:if(W<1){if(D==123)--W;else if(D==125&&W++==0&&Uye()==125)continue}switch(X+=w1(D),D*W){case 38:R=w>0?1:(X+="\f",-1);break;case 44:y[C++]=(Ns(X)-1)*R,R=1;break;case 64:zs()===45&&(X+=$y(Go())),F=zs(),w=x=Ns(j=X+=zye(Hy())),D++;break;case 45:E===45&&Ns(X)==2&&(W=0)}}return h}function H3(e,t,i,a,d,h,g,y,T,C,w){for(var x=d-1,F=d===0?h:[""],N=jk(F),E=0,W=0,O=0;E<a;++E)for(var R=0,D=jm(e,x+1,x=Oye(W=g[E])),j=e;R<N;++R)(j=_z(W>0?F[R]+" "+D:Ir(D,/&\f/g,F[R])))&&(T[O++]=j);return A1(e,t,i,d===0?Uk:y,T,C,w)}function $ye(e,t,i){return A1(e,t,i,mz,w1(Bye()),jm(e,2,-2),0)}function $3(e,t,i,a){return A1(e,t,i,Vk,jm(e,0,a),jm(e,a+1,-1),a)}function ah(e,t){for(var i="",a=jk(e),d=0;d<a;d++)i+=t(e[d],d,e,t)||"";return i}function Kye(e,t,i,a){switch(e.type){case Fye:if(e.children.length)break;case Rye:case Vk:return e.return=e.return||e.value;case mz:return"";case vz:return e.return=e.value+"{"+ah(e.children,a)+"}";case Uk:e.value=e.props.join(",")}return Ns(i=ah(e.children,a))?e.return=e.value+"{"+i+"}":""}function Yye(e){var t=jk(e);return function(i,a,d,h){for(var g="",y=0;y<t;y++)g+=e[y](i,a,d,h)||"";return g}}function Qye(e){return function(t){t.root||(t=t.return)&&e(t)}}var K3=function(t){var i=new WeakMap;return function(a){if(i.has(a))return i.get(a);var d=t(a);return i.set(a,d),d}};function Tz(e){var t=Object.create(null);return function(i){return t[i]===void 0&&(t[i]=e(i)),t[i]}}var Xye=function(t,i,a){for(var d=0,h=0;d=h,h=zs(),d===38&&h===12&&(i[a]=1),!Gm(h);)Go();return cv(t,Io)},Jye=function(t,i){var a=-1,d=44;do switch(Gm(d)){case 0:d===38&&zs()===12&&(i[a]=1),t[a]+=Xye(Io-1,i,a);break;case 2:t[a]+=$y(d);break;case 4:if(d===44){t[++a]=zs()===58?"&\f":"",i[a]=t[a].length;break}default:t[a]+=w1(d)}while(d=Go());return t},qye=function(t,i){return bz(Jye(Sz(t),i))},Y3=new WeakMap,Zye=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var i=t.value,a=t.parent,d=t.column===a.column&&t.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(t.props.length===1&&i.charCodeAt(0)!==58&&!Y3.get(a))&&!d){Y3.set(t,!0);for(var h=[],g=qye(i,h),y=a.props,T=0,C=0;T<g.length;T++)for(var w=0;w<y.length;w++,C++)t.props[C]=h[T]?g[T].replace(/&\f/g,y[w]):y[w]+" "+g[T]}}},eSe=function(t){if(t.type==="decl"){var i=t.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(t.return="",t.value="")}};function Cz(e,t){switch(Lye(e,t)){case 5103:return Cr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Cr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Cr+e+RS+e+ki+e+e;case 6828:case 4268:return Cr+e+ki+e+e;case 6165:return Cr+e+ki+"flex-"+e+e;case 5187:return Cr+e+Ir(e,/(\w+).+(:[^]+)/,Cr+"box-$1$2"+ki+"flex-$1$2")+e;case 5443:return Cr+e+ki+"flex-item-"+Ir(e,/flex-|-self/,"")+e;case 4675:return Cr+e+ki+"flex-line-pack"+Ir(e,/align-content|flex-|-self/,"")+e;case 5548:return Cr+e+ki+Ir(e,"shrink","negative")+e;case 5292:return Cr+e+ki+Ir(e,"basis","preferred-size")+e;case 6060:return Cr+"box-"+Ir(e,"-grow","")+Cr+e+ki+Ir(e,"grow","positive")+e;case 4554:return Cr+Ir(e,/([^-])(transform)/g,"$1"+Cr+"$2")+e;case 6187:return Ir(Ir(Ir(e,/(zoom-|grab)/,Cr+"$1"),/(image-set)/,Cr+"$1"),e,"")+e;case 5495:case 3959:return Ir(e,/(image-set\([^]*)/,Cr+"$1$`$1");case 4968:return Ir(Ir(e,/(.+:)(flex-)?(.*)/,Cr+"box-pack:$3"+ki+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Cr+e+e;case 4095:case 3583:case 4068:case 2532:return Ir(e,/(.+)-inline(.+)/,Cr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ns(e)-1-t>6)switch(yi(e,t+1)){case 109:if(yi(e,t+4)!==45)break;case 102:return Ir(e,/(.+:)(.+)-([^]+)/,"$1"+Cr+"$2-$3$1"+RS+(yi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Zx(e,"stretch")?Cz(Ir(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(yi(e,t+1)!==115)break;case 6444:switch(yi(e,Ns(e)-3-(~Zx(e,"!important")&&10))){case 107:return Ir(e,":",":"+Cr)+e;case 101:return Ir(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Cr+(yi(e,14)===45?"inline-":"")+"box$3$1"+Cr+"$2$3$1"+ki+"$2box$3")+e}break;case 5936:switch(yi(e,t+11)){case 114:return Cr+e+ki+Ir(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Cr+e+ki+Ir(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Cr+e+ki+Ir(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Cr+e+ki+e+e}return e}var tSe=function(t,i,a,d){if(t.length>-1&&!t.return)switch(t.type){case Vk:t.return=Cz(t.value,t.length);break;case vz:return ah([Fg(t,{value:Ir(t.value,"@","@"+Cr)})],d);case Uk:if(t.length)return Wye(t.props,function(h){switch(Mye(h,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ah([Fg(t,{props:[Ir(h,/:(read-\w+)/,":"+RS+"$1")]})],d);case"::placeholder":return ah([Fg(t,{props:[Ir(h,/:(plac\w+)/,":"+Cr+"input-$1")]}),Fg(t,{props:[Ir(h,/:(plac\w+)/,":"+RS+"$1")]}),Fg(t,{props:[Ir(h,/:(plac\w+)/,ki+"input-$1")]})],d)}return""})}},rSe=[tSe],nSe=function(t){var i=t.key;if(i==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(W){var O=W.getAttribute("data-emotion");O.indexOf(" ")!==-1&&(document.head.appendChild(W),W.setAttribute("data-s",""))})}var d=t.stylisPlugins||rSe,h={},g,y=[];g=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(W){for(var O=W.getAttribute("data-emotion").split(" "),R=1;R<O.length;R++)h[O[R]]=!0;y.push(W)});var T,C=[Zye,eSe];{var w,x=[Kye,Qye(function(W){w.insert(W)})],F=Yye(C.concat(d,x)),N=function(O){return ah(Hye(O),F)};T=function(O,R,D,j){w=D,N(O?O+"{"+R.styles+"}":R.styles),j&&(E.inserted[R.name]=!0)}}var E={key:i,sheet:new Dye({key:i,container:g,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:h,registered:{},insert:T};return E.sheet.hydrate(y),E};function FS(){return FS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)({}).hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},FS.apply(null,arguments)}var Iz={exports:{}},Rr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ii=typeof Symbol=="function"&&Symbol.for,Gk=ii?Symbol.for("react.element"):60103,zk=ii?Symbol.for("react.portal"):60106,x1=ii?Symbol.for("react.fragment"):60107,P1=ii?Symbol.for("react.strict_mode"):60108,k1=ii?Symbol.for("react.profiler"):60114,D1=ii?Symbol.for("react.provider"):60109,R1=ii?Symbol.for("react.context"):60110,Hk=ii?Symbol.for("react.async_mode"):60111,F1=ii?Symbol.for("react.concurrent_mode"):60111,O1=ii?Symbol.for("react.forward_ref"):60112,N1=ii?Symbol.for("react.suspense"):60113,iSe=ii?Symbol.for("react.suspense_list"):60120,L1=ii?Symbol.for("react.memo"):60115,M1=ii?Symbol.for("react.lazy"):60116,oSe=ii?Symbol.for("react.block"):60121,aSe=ii?Symbol.for("react.fundamental"):60117,sSe=ii?Symbol.for("react.responder"):60118,uSe=ii?Symbol.for("react.scope"):60119;function Qo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Gk:switch(e=e.type,e){case Hk:case F1:case x1:case k1:case P1:case N1:return e;default:switch(e=e&&e.$$typeof,e){case R1:case O1:case M1:case L1:case D1:return e;default:return t}}case zk:return t}}}function wz(e){return Qo(e)===F1}Rr.AsyncMode=Hk;Rr.ConcurrentMode=F1;Rr.ContextConsumer=R1;Rr.ContextProvider=D1;Rr.Element=Gk;Rr.ForwardRef=O1;Rr.Fragment=x1;Rr.Lazy=M1;Rr.Memo=L1;Rr.Portal=zk;Rr.Profiler=k1;Rr.StrictMode=P1;Rr.Suspense=N1;Rr.isAsyncMode=function(e){return wz(e)||Qo(e)===Hk};Rr.isConcurrentMode=wz;Rr.isContextConsumer=function(e){return Qo(e)===R1};Rr.isContextProvider=function(e){return Qo(e)===D1};Rr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gk};Rr.isForwardRef=function(e){return Qo(e)===O1};Rr.isFragment=function(e){return Qo(e)===x1};Rr.isLazy=function(e){return Qo(e)===M1};Rr.isMemo=function(e){return Qo(e)===L1};Rr.isPortal=function(e){return Qo(e)===zk};Rr.isProfiler=function(e){return Qo(e)===k1};Rr.isStrictMode=function(e){return Qo(e)===P1};Rr.isSuspense=function(e){return Qo(e)===N1};Rr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===x1||e===F1||e===k1||e===P1||e===N1||e===iSe||typeof e=="object"&&e!==null&&(e.$$typeof===M1||e.$$typeof===L1||e.$$typeof===D1||e.$$typeof===R1||e.$$typeof===O1||e.$$typeof===aSe||e.$$typeof===sSe||e.$$typeof===uSe||e.$$typeof===oSe)};Rr.typeOf=Qo;Iz.exports=Rr;var $k=Iz.exports,Kk=$k,cSe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},lSe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},dSe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ez={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Yk={};Yk[Kk.ForwardRef]=dSe;Yk[Kk.Memo]=Ez;function Q3(e){return Kk.isMemo(e)?Ez:Yk[e.$$typeof]||cSe}var fSe=Object.defineProperty,hSe=Object.getOwnPropertyNames,X3=Object.getOwnPropertySymbols,pSe=Object.getOwnPropertyDescriptor,gSe=Object.getPrototypeOf,J3=Object.prototype;function Az(e,t,i){if(typeof t!="string"){if(J3){var a=gSe(t);a&&a!==J3&&Az(e,a,i)}var d=hSe(t);X3&&(d=d.concat(X3(t)));for(var h=Q3(e),g=Q3(t),y=0;y<d.length;++y){var T=d[y];if(!lSe[T]&&!(i&&i[T])&&!(g&&g[T])&&!(h&&h[T])){var C=pSe(t,T);try{fSe(e,T,C)}catch{}}}}return e}var mSe=Az;const vSe=n1(mSe);var _Se=!0;function ySe(e,t,i){var a="";return i.split(" ").forEach(function(d){e[d]!==void 0?t.push(e[d]+";"):d&&(a+=d+" ")}),a}var xz=function(t,i,a){var d=t.key+"-"+i.name;(a===!1||_Se===!1)&&t.registered[d]===void 0&&(t.registered[d]=i.styles)},Pz=function(t,i,a){xz(t,i,a);var d=t.key+"-"+i.name;if(t.inserted[i.name]===void 0){var h=i;do t.insert(i===h?"."+d:"",h,t.sheet,!0),h=h.next;while(h!==void 0)}};function SSe(e){for(var t=0,i,a=0,d=e.length;d>=4;++a,d-=4)i=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,t=(i&65535)*1540483477+((i>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(d){case 3:t^=(e.charCodeAt(a+2)&255)<<16;case 2:t^=(e.charCodeAt(a+1)&255)<<8;case 1:t^=e.charCodeAt(a)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var bSe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},TSe=!1,CSe=/[A-Z]|^ms/g,ISe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kz=function(t){return t.charCodeAt(1)===45},q3=function(t){return t!=null&&typeof t!="boolean"},xA=Tz(function(e){return kz(e)?e:e.replace(CSe,"-$&").toLowerCase()}),Z3=function(t,i){switch(t){case"animation":case"animationName":if(typeof i=="string")return i.replace(ISe,function(a,d,h){return Ls={name:d,styles:h,next:Ls},d})}return bSe[t]!==1&&!kz(t)&&typeof i=="number"&&i!==0?i+"px":i},wSe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function zm(e,t,i){if(i==null)return"";var a=i;if(a.__emotion_styles!==void 0)return a;switch(typeof i){case"boolean":return"";case"object":{var d=i;if(d.anim===1)return Ls={name:d.name,styles:d.styles,next:Ls},d.name;var h=i;if(h.styles!==void 0){var g=h.next;if(g!==void 0)for(;g!==void 0;)Ls={name:g.name,styles:g.styles,next:Ls},g=g.next;var y=h.styles+";";return y}return ESe(e,t,i)}case"function":{if(e!==void 0){var T=Ls,C=i(e);return Ls=T,zm(e,t,C)}break}}var w=i;if(t==null)return w;var x=t[w];return x!==void 0?x:w}function ESe(e,t,i){var a="";if(Array.isArray(i))for(var d=0;d<i.length;d++)a+=zm(e,t,i[d])+";";else for(var h in i){var g=i[h];if(typeof g!="object"){var y=g;t!=null&&t[y]!==void 0?a+=h+"{"+t[y]+"}":q3(y)&&(a+=xA(h)+":"+Z3(h,y)+";")}else{if(h==="NO_COMPONENT_SELECTOR"&&TSe)throw new Error(wSe);if(Array.isArray(g)&&typeof g[0]=="string"&&(t==null||t[g[0]]===void 0))for(var T=0;T<g.length;T++)q3(g[T])&&(a+=xA(h)+":"+Z3(h,g[T])+";");else{var C=zm(e,t,g);switch(h){case"animation":case"animationName":{a+=xA(h)+":"+C+";";break}default:a+=h+"{"+C+"}"}}}}return a}var e5=/label:\s*([^\s;{]+)\s*(;|$)/g,Ls;function Qk(e,t,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var a=!0,d="";Ls=void 0;var h=e[0];if(h==null||h.raw===void 0)a=!1,d+=zm(i,t,h);else{var g=h;d+=g[0]}for(var y=1;y<e.length;y++)if(d+=zm(i,t,e[y]),a){var T=h;d+=T[y]}e5.lastIndex=0;for(var C="",w;(w=e5.exec(d))!==null;)C+="-"+w[1];var x=SSe(d)+C;return{name:x,styles:d,next:Ls}}var ASe=function(t){return t()},Dz=v4["useInsertionEffect"]?v4["useInsertionEffect"]:!1,xSe=Dz||ASe,t5=Dz||be.useLayoutEffect,Rz=be.createContext(typeof HTMLElement<"u"?nSe({key:"css"}):null);Rz.Provider;var Xk=function(t){return be.forwardRef(function(i,a){var d=be.useContext(Rz);return t(i,d,a)})},Hm=be.createContext({}),PSe=function(t,i){if(typeof i=="function"){var a=i(t);return a}return FS({},t,i)},kSe=K3(function(e){return K3(function(t){return PSe(e,t)})}),DSe=function(t){var i=be.useContext(Hm);return t.theme!==i&&(i=kSe(i)(t.theme)),be.createElement(Hm.Provider,{value:i},t.children)},W1=Xk(function(e,t){var i=e.styles,a=Qk([i],void 0,be.useContext(Hm)),d=be.useRef();return t5(function(){var h=t.key+"-global",g=new t.sheet.constructor({key:h,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),y=!1,T=document.querySelector('style[data-emotion="'+h+" "+a.name+'"]');return t.sheet.tags.length&&(g.before=t.sheet.tags[0]),T!==null&&(y=!0,T.setAttribute("data-emotion",h),g.hydrate([T])),d.current=[g,y],function(){g.flush()}},[t]),t5(function(){var h=d.current,g=h[0],y=h[1];if(y){h[1]=!1;return}if(a.next!==void 0&&Pz(t,a.next,!0),g.tags.length){var T=g.tags[g.tags.length-1].nextElementSibling;g.before=T,g.flush()}t.insert("",a,g,!1)},[t,a.name]),null});function RSe(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Qk(t)}var FSe=function(){var t=RSe.apply(void 0,arguments),i="animation-"+t.name;return{name:i,styles:"@keyframes "+i+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const Jk=be.createContext({});Jk.displayName="ColorModeContext";function qk(){const e=be.useContext(Jk);if(e===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return e}const hy={light:"chakra-ui-light",dark:"chakra-ui-dark"};function OSe(e={}){const{preventTransition:t=!0,nonce:i}=e,a={setDataset:d=>{const h=t?a.preventTransition():void 0;document.documentElement.dataset.theme=d,document.documentElement.style.colorScheme=d,h==null||h()},setClassName(d){document.body.classList.add(d?hy.dark:hy.light),document.body.classList.remove(d?hy.light:hy.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(d){return a.query().matches??d==="dark"?"dark":"light"},addListener(d){const h=a.query(),g=y=>{d(y.matches?"dark":"light")};return typeof h.addListener=="function"?h.addListener(g):h.addEventListener("change",g),()=>{typeof h.removeListener=="function"?h.removeListener(g):h.removeEventListener("change",g)}},preventTransition(){const d=document.createElement("style");return d.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),i!==void 0&&(d.nonce=i),document.head.appendChild(d),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(d)})})}}};return a}const NSe="chakra-ui-color-mode";function LSe(e){return{ssr:!1,type:"localStorage",get(t){if(!(globalThis!=null&&globalThis.document))return t;let i;try{i=localStorage.getItem(e)||t}catch{}return i||t},set(t){try{localStorage.setItem(e,t)}catch{}}}}const MSe=LSe(NSe),r5=()=>{},WSe=Ufe()?be.useLayoutEffect:be.useEffect;function n5(e,t){return e.type==="cookie"&&e.ssr?e.get(t):t}const Fz=Xk(function(t,i){const{value:a,children:d,options:{useSystemColorMode:h,initialColorMode:g,disableTransitionOnChange:y}={},colorModeManager:T=MSe}=t,C=g==="dark"?"dark":"light",[w,x]=be.useState(()=>n5(T,C)),[F,N]=be.useState(()=>n5(T)),{getSystemTheme:E,setClassName:W,setDataset:O,addListener:R}=be.useMemo(()=>OSe({preventTransition:y,nonce:i==null?void 0:i.nonce}),[y,i==null?void 0:i.nonce]),D=g==="system"&&!w?F:w,j=be.useCallback(ne=>{const X=ne==="system"?E():ne;x(X),W(X==="dark"),O(X),T.set(X)},[T,E,W,O]);WSe(()=>{g==="system"&&N(E())},[]),be.useEffect(()=>{const ne=T.get();if(ne){j(ne);return}if(g==="system"){j("system");return}j(C)},[T,C,g,j]);const Y=be.useCallback(()=>{j(D==="dark"?"light":"dark")},[D,j]);be.useEffect(()=>{if(h)return R(j)},[h,R,j]);const de=be.useMemo(()=>({colorMode:a??D,toggleColorMode:a?r5:Y,setColorMode:a?r5:j,forced:a!==void 0}),[D,Y,j,a]);return Re.jsx(Jk.Provider,{value:de,children:d})});Fz.displayName="ColorModeProvider";const Oz=String.raw,Nz=Oz`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,BSe=()=>Re.jsx(W1,{styles:Nz}),USe=({scope:e=""})=>Re.jsx(W1,{styles:Oz`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${e} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${e} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${e} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${e} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${e} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${e} :where(b, strong) {
        font-weight: bold;
      }

      ${e} small {
        font-size: 80%;
      }

      ${e} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${e} sub {
        bottom: -0.25em;
      }

      ${e} sup {
        top: -0.5em;
      }

      ${e} img {
        border-style: none;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${e} :where(button, input) {
        overflow: visible;
      }

      ${e} :where(button, select) {
        text-transform: none;
      }

      ${e} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${e} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${e} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${e} progress {
        vertical-align: baseline;
      }

      ${e} textarea {
        overflow: auto;
      }

      ${e} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${e} input[type="number"]::-webkit-inner-spin-button,
      ${e} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${e} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${e} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${e} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${e} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${e} details {
        display: block;
      }

      ${e} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${e} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${e} button {
        background: transparent;
        padding: 0;
      }

      ${e} fieldset {
        margin: 0;
        padding: 0;
      }

      ${e} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${e} textarea {
        resize: vertical;
      }

      ${e} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${e} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${e} table {
        border-collapse: collapse;
      }

      ${e} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${e} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${e} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${e} select::-ms-expand {
        display: none;
      }

      ${Nz}
    `});function VSe(e){const{cssVarsRoot:t,theme:i,children:a}=e,d=be.useMemo(()=>mpe(i),[i]);return Re.jsxs(DSe,{theme:d,children:[Re.jsx(jSe,{root:t}),a]})}function jSe({root:e=":host, :root"}){const t=[e,"[data-theme]"].join(",");return Re.jsx(W1,{styles:i=>({[t]:i.__cssVars})})}od({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function GSe(){const{colorMode:e}=qk();return Re.jsx(W1,{styles:t=>{const i=$G(t,"styles.global"),a=Ws(i,{theme:t,colorMode:e});return a?tz(a)(t):void 0}})}const[zSe,HSe]=od({strict:!1,name:"PortalManagerContext"});function Lz(e){const{children:t,zIndex:i}=e;return Re.jsx(zSe,{value:{zIndex:i},children:t})}Lz.displayName="PortalManager";const Mz=be.createContext({getDocument(){return document},getWindow(){return window}});Mz.displayName="EnvironmentContext";function Wz(e){const{children:t,environment:i,disabled:a}=e,d=be.useRef(null),h=be.useMemo(()=>i||{getDocument:()=>{var y;return((y=d.current)==null?void 0:y.ownerDocument)??document},getWindow:()=>{var y;return((y=d.current)==null?void 0:y.ownerDocument.defaultView)??window}},[i]),g=!a||!i;return Re.jsxs(Mz.Provider,{value:h,children:[t,g&&Re.jsx("span",{id:"__chakra_env",hidden:!0,ref:d})]})}Wz.displayName="EnvironmentProvider";const $Se=e=>{const{children:t,colorModeManager:i,portalZIndex:a,resetScope:d,resetCSS:h=!0,theme:g={},environment:y,cssVarsRoot:T,disableEnvironment:C,disableGlobalStyle:w}=e,x=Re.jsx(Wz,{environment:y,disabled:C,children:t});return Re.jsx(VSe,{theme:g,cssVarsRoot:T,children:Re.jsxs(Fz,{colorModeManager:i,options:g.config,children:[h?Re.jsx(USe,{scope:d}):Re.jsx(BSe,{}),!w&&Re.jsx(GSe,{}),a?Re.jsx(Lz,{zIndex:a,children:x}):x]})})},Zk=be.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),B1=be.createContext({});function KSe(){return be.useContext(B1).visualElement}const Ah=be.createContext(null),ad=typeof document<"u",OS=ad?be.useLayoutEffect:be.useEffect,Bz=be.createContext({strict:!1});function YSe(e,t,i,a){const d=KSe(),h=be.useContext(Bz),g=be.useContext(Ah),y=be.useContext(Zk).reducedMotion,T=be.useRef(void 0);a=a||h.renderer,!T.current&&a&&(T.current=a(e,{visualState:t,parent:d,props:i,presenceId:g?g.id:void 0,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:y}));const C=T.current;return OS(()=>{C&&C.syncRender()}),be.useEffect(()=>{C&&C.animationState&&C.animationState.animateChanges()}),OS(()=>()=>C&&C.notifyUnmount(),[]),C}function $f(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function QSe(e,t,i){return be.useCallback(a=>{a&&e.mount&&e.mount(a),t&&(a?t.mount(a):t.unmount()),i&&(typeof i=="function"?i(a):$f(i)&&(i.current=a))},[t])}function $m(e){return typeof e=="string"||Array.isArray(e)}function U1(e){return typeof e=="object"&&typeof e.start=="function"}const XSe=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function V1(e){return U1(e.animate)||XSe.some(t=>$m(e[t]))}function Uz(e){return!!(V1(e)||e.variants)}function JSe(e,t){if(V1(e)){const{initial:i,animate:a}=e;return{initial:i===!1||$m(i)?i:void 0,animate:$m(a)?a:void 0}}return e.inherit!==!1?t:{}}function qSe(e){const{initial:t,animate:i}=JSe(e,be.useContext(B1));return be.useMemo(()=>({initial:t,animate:i}),[i5(t),i5(i)])}function i5(e){return Array.isArray(e)?e.join(" "):e}const pu=e=>({isEnabled:t=>e.some(i=>!!t[i])}),Km={measureLayout:pu(["layout","layoutId","drag"]),animation:pu(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:pu(["exit"]),drag:pu(["drag","dragControls"]),focus:pu(["whileFocus"]),hover:pu(["whileHover","onHoverStart","onHoverEnd"]),tap:pu(["whileTap","onTap","onTapStart","onTapCancel"]),pan:pu(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:pu(["whileInView","onViewportEnter","onViewportLeave"])};function ZSe(e){for(const t in e)t==="projectionNodeConstructor"?Km.projectionNodeConstructor=e[t]:Km[t].Component=e[t]}function j1(e){const t=be.useRef(null);return t.current===null&&(t.current=e()),t.current}const lm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let e1e=1;function t1e(){return j1(()=>{if(lm.hasEverUpdated)return e1e++})}const eD=be.createContext({});class r1e extends _i.Component{getSnapshotBeforeUpdate(){const{visualElement:t,props:i}=this.props;return t&&t.setProps(i),null}componentDidUpdate(){}render(){return this.props.children}}const Vz=be.createContext({});function n1e({preloadedFeatures:e,createVisualElement:t,projectionNodeConstructor:i,useRender:a,useVisualState:d,Component:h}){e&&ZSe(e);function g(y,T){const C={...be.useContext(Zk),...y,layoutId:i1e(y)},{isStatic:w}=C;let x=null;const F=qSe(y),N=w?void 0:t1e(),E=d(y,w);if(!w&&ad){F.visualElement=YSe(h,E,C,t);const W=be.useContext(Bz).strict,O=be.useContext(Vz);F.visualElement&&(x=F.visualElement.loadFeatures(y,W,e,N,i||Km.projectionNodeConstructor,O))}return be.createElement(r1e,{visualElement:F.visualElement,props:C},x,be.createElement(B1.Provider,{value:F},a(h,y,N,QSe(E,F.visualElement,T),E,w,F.visualElement)))}return be.forwardRef(g)}function i1e({layoutId:e}){const t=be.useContext(eD).id;return t&&e!==void 0?t+"-"+e:e}function o1e(e){function t(a,d={}){return n1e(e(a,d))}if(typeof Proxy>"u")return t;const i=new Map;return new Proxy(t,{get:(a,d)=>(i.has(d)||i.set(d,t(d)),i.get(d))})}const a1e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function tD(e){return typeof e!="string"||e.includes("-")?!1:!!(a1e.indexOf(e)>-1||/[A-Z]/.test(e))}const NS={};function s1e(e){Object.assign(NS,e)}const LS=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","skew","skewX","skewY"],lv=new Set(LS);function jz(e,{layout:t,layoutId:i}){return lv.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!NS[e]||e==="opacity")}const $s=e=>e===void 0?!1:!!e.getVelocity,u1e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},c1e=(e,t)=>LS.indexOf(e)-LS.indexOf(t);function l1e({transform:e,transformKeys:t},{enableHardwareAcceleration:i=!0,allowTransformNone:a=!0},d,h){let g="";t.sort(c1e);for(const y of t)g+=`${u1e[y]||y}(${e[y]}) `;return i&&!e.z&&(g+="translateZ(0)"),g=g.trim(),h?g=h(e,d?"":g):a&&d&&(g="none"),g}function Gz(e){return e.startsWith("--")}const d1e=(e,t)=>t&&typeof e=="number"?t.transform(e):e,zz=(e,t)=>i=>Math.max(Math.min(i,t),e),dm=e=>e%1?Number(e.toFixed(5)):e,Ym=/(-)?([\d]*\.?[\d])+/g,tP=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,f1e=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function dv(e){return typeof e=="string"}const sd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fm=Object.assign(Object.assign({},sd),{transform:zz(0,1)}),py=Object.assign(Object.assign({},sd),{default:1}),fv=e=>({test:t=>dv(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cc=fv("deg"),Hs=fv("%"),Mt=fv("px"),h1e=fv("vh"),p1e=fv("vw"),o5=Object.assign(Object.assign({},Hs),{parse:e=>Hs.parse(e)/100,transform:e=>Hs.transform(e*100)}),rD=(e,t)=>i=>!!(dv(i)&&f1e.test(i)&&i.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(i,t)),Hz=(e,t,i)=>a=>{if(!dv(a))return a;const[d,h,g,y]=a.match(Ym);return{[e]:parseFloat(d),[t]:parseFloat(h),[i]:parseFloat(g),alpha:y!==void 0?parseFloat(y):1}},Gl={test:rD("hsl","hue"),parse:Hz("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:a=1})=>"hsla("+Math.round(e)+", "+Hs.transform(dm(t))+", "+Hs.transform(dm(i))+", "+dm(fm.transform(a))+")"},g1e=zz(0,255),PA=Object.assign(Object.assign({},sd),{transform:e=>Math.round(g1e(e))}),Nc={test:rD("rgb","red"),parse:Hz("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:a=1})=>"rgba("+PA.transform(e)+", "+PA.transform(t)+", "+PA.transform(i)+", "+dm(fm.transform(a))+")"};function m1e(e){let t="",i="",a="",d="";return e.length>5?(t=e.substr(1,2),i=e.substr(3,2),a=e.substr(5,2),d=e.substr(7,2)):(t=e.substr(1,1),i=e.substr(2,1),a=e.substr(3,1),d=e.substr(4,1),t+=t,i+=i,a+=a,d+=d),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(a,16),alpha:d?parseInt(d,16)/255:1}}const rP={test:rD("#"),parse:m1e,transform:Nc.transform},Yi={test:e=>Nc.test(e)||rP.test(e)||Gl.test(e),parse:e=>Nc.test(e)?Nc.parse(e):Gl.test(e)?Gl.parse(e):rP.parse(e),transform:e=>dv(e)?e:e.hasOwnProperty("red")?Nc.transform(e):Gl.transform(e)},$z="${c}",Kz="${n}";function v1e(e){var t,i,a,d;return isNaN(e)&&dv(e)&&((i=(t=e.match(Ym))===null||t===void 0?void 0:t.length)!==null&&i!==void 0?i:0)+((d=(a=e.match(tP))===null||a===void 0?void 0:a.length)!==null&&d!==void 0?d:0)>0}function Yz(e){typeof e=="number"&&(e=`${e}`);const t=[];let i=0;const a=e.match(tP);a&&(i=a.length,e=e.replace(tP,$z),t.push(...a.map(Yi.parse)));const d=e.match(Ym);return d&&(e=e.replace(Ym,Kz),t.push(...d.map(sd.parse))),{values:t,numColors:i,tokenised:e}}function Qz(e){return Yz(e).values}function Xz(e){const{values:t,numColors:i,tokenised:a}=Yz(e),d=t.length;return h=>{let g=a;for(let y=0;y<d;y++)g=g.replace(y<i?$z:Kz,y<i?Yi.transform(h[y]):dm(h[y]));return g}}const _1e=e=>typeof e=="number"?0:e;function y1e(e){const t=Qz(e);return Xz(e)(t.map(_1e))}const Ou={test:v1e,parse:Qz,createTransformer:Xz,getAnimatableNone:y1e},S1e=new Set(["brightness","contrast","saturate","opacity"]);function b1e(e){let[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=i.match(Ym)||[];if(!a)return e;const d=i.replace(a,"");let h=S1e.has(t)?1:0;return a!==i&&(h*=100),t+"("+h+d+")"}const T1e=/([a-z-]*)\(.*?\)/g,nP=Object.assign(Object.assign({},Ou),{getAnimatableNone:e=>{const t=e.match(T1e);return t?t.map(b1e).join(" "):e}}),a5={...sd,transform:Math.round},Jz={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,size:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,rotate:Cc,rotateX:Cc,rotateY:Cc,rotateZ:Cc,scale:py,scaleX:py,scaleY:py,scaleZ:py,skew:Cc,skewX:Cc,skewY:Cc,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:fm,originX:o5,originY:o5,originZ:Mt,zIndex:a5,fillOpacity:fm,strokeOpacity:fm,numOctaves:a5};function nD(e,t,i,a){const{style:d,vars:h,transform:g,transformKeys:y,transformOrigin:T}=e;y.length=0;let C=!1,w=!1,x=!0;for(const F in t){const N=t[F];if(Gz(F)){h[F]=N;continue}const E=Jz[F],W=d1e(N,E);if(lv.has(F)){if(C=!0,g[F]=W,y.push(F),!x)continue;N!==(E.default||0)&&(x=!1)}else F.startsWith("origin")?(w=!0,T[F]=W):d[F]=W}if(C||a?d.transform=l1e(e,i,x,a):!t.transform&&d.transform&&(d.transform="none"),w){const{originX:F="50%",originY:N="50%",originZ:E=0}=T;d.transformOrigin=`${F} ${N} ${E}`}}const iD=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function qz(e,t,i){for(const a in t)!$s(t[a])&&!jz(a,i)&&(e[a]=t[a])}function C1e({transformTemplate:e},t,i){return be.useMemo(()=>{const a=iD();return nD(a,t,{enableHardwareAcceleration:!i},e),Object.assign({},a.vars,a.style)},[t])}function I1e(e,t,i){const a=e.style||{},d={};return qz(d,a,e),Object.assign(d,C1e(e,t,i)),e.transformValues?e.transformValues(d):d}function w1e(e,t,i){const a={},d=I1e(e,t,i);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,d.userSelect=d.WebkitUserSelect=d.WebkitTouchCallout="none",d.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),a.style=d,a}const E1e=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],A1e=["whileTap","onTap","onTapStart","onTapCancel"],x1e=["onPan","onPanStart","onPanSessionStart","onPanEnd"],P1e=["whileInView","onViewportEnter","onViewportLeave","viewport"],k1e=new Set(["initial","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...P1e,...A1e,...E1e,...x1e]);function MS(e){return k1e.has(e)}let Zz=e=>!MS(e);function D1e(e){e&&(Zz=t=>t.startsWith("on")?!MS(t):e(t))}try{D1e(require("@emotion/is-prop-valid").default)}catch{}function R1e(e,t,i){const a={};for(const d in e)(Zz(d)||i===!0&&MS(d)||!t&&!MS(d)||e.draggable&&d.startsWith("onDrag"))&&(a[d]=e[d]);return a}function s5(e,t,i){return typeof e=="string"?e:Mt.transform(t+i*e)}function F1e(e,t,i){const a=s5(t,e.x,e.width),d=s5(i,e.y,e.height);return`${a} ${d}`}const O1e={offset:"stroke-dashoffset",array:"stroke-dasharray"},N1e={offset:"strokeDashoffset",array:"strokeDasharray"};function L1e(e,t,i=1,a=0,d=!0){e.pathLength=1;const h=d?O1e:N1e;e[h.offset]=Mt.transform(-a);const g=Mt.transform(t),y=Mt.transform(i);e[h.array]=`${g} ${y}`}function oD(e,{attrX:t,attrY:i,originX:a,originY:d,pathLength:h,pathSpacing:g=1,pathOffset:y=0,...T},C,w){nD(e,T,C,w),e.attrs=e.style,e.style={};const{attrs:x,style:F,dimensions:N}=e;x.transform&&(N&&(F.transform=x.transform),delete x.transform),N&&(a!==void 0||d!==void 0||F.transform)&&(F.transformOrigin=F1e(N,a!==void 0?a:.5,d!==void 0?d:.5)),t!==void 0&&(x.x=t),i!==void 0&&(x.y=i),h!==void 0&&L1e(x,h,g,y,!1)}const eH=()=>({...iD(),attrs:{}});function M1e(e,t){const i=be.useMemo(()=>{const a=eH();return oD(a,t,{enableHardwareAcceleration:!1},e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};qz(a,e.style,e),i.style={...a,...i.style}}return i}function W1e(e=!1){return(i,a,d,h,{latestValues:g},y)=>{const C=(tD(i)?M1e:w1e)(a,g,y),x={...R1e(a,typeof i=="string",e),...C,ref:h};return d&&(x["data-projection-id"]=d),be.createElement(i,x)}}const tH=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function rH(e,{style:t,vars:i},a,d){Object.assign(e.style,t,d&&d.getProjectionStyles(a));for(const h in i)e.style.setProperty(h,i[h])}const nH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function iH(e,t,i,a){rH(e,t,void 0,a);for(const d in t.attrs)e.setAttribute(nH.has(d)?d:tH(d),t.attrs[d])}function aD(e){const{style:t}=e,i={};for(const a in t)($s(t[a])||jz(a,e))&&(i[a]=t[a]);return i}function oH(e){const t=aD(e);for(const i in e)if($s(e[i])){const a=i==="x"||i==="y"?"attr"+i.toUpperCase():i;t[a]=e[i]}return t}function aH(e,t,i,a={},d={}){return typeof t=="function"&&(t=t(i!==void 0?i:e.custom,a,d)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(i!==void 0?i:e.custom,a,d)),t}const Qm=e=>Array.isArray(e),B1e=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),sH=e=>Qm(e)?e[e.length-1]||0:e;function Yy(e){const t=$s(e)?e.get():e;return B1e(t)?t.toValue():t}function U1e({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:i},a,d,h){const g={latestValues:V1e(a,d,h,e),renderState:t()};return i&&(g.mount=y=>i(a,y,g)),g}const uH=e=>(t,i)=>{const a=be.useContext(B1),d=be.useContext(Ah),h=()=>U1e(e,t,a,d);return i?h():j1(h)};function V1e(e,t,i,a){const d={},h=a(e);for(const F in h)d[F]=Yy(h[F]);let{initial:g,animate:y}=e;const T=V1(e),C=Uz(e);t&&C&&!T&&e.inherit!==!1&&(g===void 0&&(g=t.initial),y===void 0&&(y=t.animate));let w=i?i.initial===!1:!1;w=w||g===!1;const x=w?y:g;return x&&typeof x!="boolean"&&!U1(x)&&(Array.isArray(x)?x:[x]).forEach(N=>{const E=aH(e,N);if(!E)return;const{transitionEnd:W,transition:O,...R}=E;for(const D in R){let j=R[D];if(Array.isArray(j)){const Y=w?j.length-1:0;j=j[Y]}j!==null&&(d[D]=j)}for(const D in W)d[D]=W[D]}),d}const j1e={useVisualState:uH({scrapeMotionValuesFromProps:oH,createRenderState:eH,onMount:(e,t,{renderState:i,latestValues:a})=>{try{i.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}oD(i,a,{enableHardwareAcceleration:!1},e.transformTemplate),iH(t,i)}})},G1e={useVisualState:uH({scrapeMotionValuesFromProps:aD,createRenderState:iD})};function z1e(e,{forwardMotionProps:t=!1},i,a,d){return{...tD(e)?j1e:G1e,preloadedFeatures:i,useRender:W1e(t),createVisualElement:a,projectionNodeConstructor:d,Component:e}}var Vr;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(Vr||(Vr={}));function G1(e,t,i,a={passive:!0}){return e.addEventListener(t,i,a),()=>e.removeEventListener(t,i)}function iP(e,t,i,a){be.useEffect(()=>{const d=e.current;if(i&&d)return G1(d,t,i,a)},[e,t,i,a])}function H1e({whileFocus:e,visualElement:t}){const{animationState:i}=t,a=()=>{i&&i.setActive(Vr.Focus,!0)},d=()=>{i&&i.setActive(Vr.Focus,!1)};iP(t,"focus",e?a:void 0),iP(t,"blur",e?d:void 0)}function cH(e){return typeof PointerEvent<"u"&&e instanceof PointerEvent?e.pointerType==="mouse":e instanceof MouseEvent}function lH(e){return!!e.touches}function $1e(e){return t=>{const i=t instanceof MouseEvent;(!i||i&&t.button===0)&&e(t)}}const K1e={pageX:0,pageY:0};function Y1e(e,t="page"){const a=e.touches[0]||e.changedTouches[0]||K1e;return{x:a[t+"X"],y:a[t+"Y"]}}function Q1e(e,t="page"){return{x:e[t+"X"],y:e[t+"Y"]}}function sD(e,t="page"){return{point:lH(e)?Y1e(e,t):Q1e(e,t)}}const dH=(e,t=!1)=>{const i=a=>e(a,sD(a));return t?$1e(i):i},X1e=()=>ad&&window.onpointerdown===null,J1e=()=>ad&&window.ontouchstart===null,q1e=()=>ad&&window.onmousedown===null,Z1e={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},ebe={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function fH(e){return X1e()?e:J1e()?ebe[e]:q1e()?Z1e[e]:e}function sh(e,t,i,a){return G1(e,fH(t),dH(i,t==="pointerdown"),a)}function WS(e,t,i,a){return iP(e,fH(t),i&&dH(i,t==="pointerdown"),a)}function hH(e){let t=null;return()=>{const i=()=>{t=null};return t===null?(t=e,i):!1}}const u5=hH("dragHorizontal"),c5=hH("dragVertical");function pH(e){let t=!1;if(e==="y")t=c5();else if(e==="x")t=u5();else{const i=u5(),a=c5();i&&a?t=()=>{i(),a()}:(i&&i(),a&&a())}return t}function gH(){const e=pH(!0);return e?(e(),!1):!0}function l5(e,t,i){return(a,d)=>{!cH(a)||gH()||(e.animationState&&e.animationState.setActive(Vr.Hover,t),i&&i(a,d))}}function tbe({onHoverStart:e,onHoverEnd:t,whileHover:i,visualElement:a}){WS(a,"pointerenter",e||i?l5(a,!0,e):void 0,{passive:!e}),WS(a,"pointerleave",t||i?l5(a,!1,t):void 0,{passive:!t})}const mH=(e,t)=>t?e===t?!0:mH(e,t.parentElement):!1;function uD(e){return be.useEffect(()=>()=>e(),[])}function vH(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(e);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(e,a[d])&&(i[a[d]]=e[a[d]]);return i}var rbe=function(){},BS=function(){};const US=(e,t,i)=>Math.min(Math.max(i,e),t),kA=.001,nbe=.01,d5=10,ibe=.05,obe=1;function abe({duration:e=800,bounce:t=.25,velocity:i=0,mass:a=1}){let d,h;rbe(e<=d5*1e3);let g=1-t;g=US(ibe,obe,g),e=US(nbe,d5,e/1e3),g<1?(d=C=>{const w=C*g,x=w*e,F=w-i,N=oP(C,g),E=Math.exp(-x);return kA-F/N*E},h=C=>{const x=C*g*e,F=x*i+i,N=Math.pow(g,2)*Math.pow(C,2)*e,E=Math.exp(-x),W=oP(Math.pow(C,2),g);return(-d(C)+kA>0?-1:1)*((F-N)*E)/W}):(d=C=>{const w=Math.exp(-C*e),x=(C-i)*e+1;return-kA+w*x},h=C=>{const w=Math.exp(-C*e),x=(i-C)*(e*e);return w*x});const y=5/e,T=ube(d,h,y);if(e=e*1e3,isNaN(T))return{stiffness:100,damping:10,duration:e};{const C=Math.pow(T,2)*a;return{stiffness:C,damping:g*2*Math.sqrt(a*C),duration:e}}}const sbe=12;function ube(e,t,i){let a=i;for(let d=1;d<sbe;d++)a=a-e(a)/t(a);return a}function oP(e,t){return e*Math.sqrt(1-t*t)}const cbe=["duration","bounce"],lbe=["stiffness","damping","mass"];function f5(e,t){return t.some(i=>e[i]!==void 0)}function dbe(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!f5(e,lbe)&&f5(e,cbe)){const i=abe(e);t=Object.assign(Object.assign(Object.assign({},t),i),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function cD(e){var{from:t=0,to:i=1,restSpeed:a=2,restDelta:d}=e,h=vH(e,["from","to","restSpeed","restDelta"]);const g={done:!1,value:t};let{stiffness:y,damping:T,mass:C,velocity:w,duration:x,isResolvedFromDuration:F}=dbe(h),N=h5,E=h5;function W(){const O=w?-(w/1e3):0,R=i-t,D=T/(2*Math.sqrt(y*C)),j=Math.sqrt(y/C)/1e3;if(d===void 0&&(d=Math.min(Math.abs(i-t)/100,.4)),D<1){const Y=oP(j,D);N=de=>{const ne=Math.exp(-D*j*de);return i-ne*((O+D*j*R)/Y*Math.sin(Y*de)+R*Math.cos(Y*de))},E=de=>{const ne=Math.exp(-D*j*de);return D*j*ne*(Math.sin(Y*de)*(O+D*j*R)/Y+R*Math.cos(Y*de))-ne*(Math.cos(Y*de)*(O+D*j*R)-Y*R*Math.sin(Y*de))}}else if(D===1)N=Y=>i-Math.exp(-j*Y)*(R+(O+j*R)*Y);else{const Y=j*Math.sqrt(D*D-1);N=de=>{const ne=Math.exp(-D*j*de),X=Math.min(Y*de,300);return i-ne*((O+D*j*R)*Math.sinh(X)+Y*R*Math.cosh(X))/Y}}}return W(),{next:O=>{const R=N(O);if(F)g.done=O>=x;else{const D=E(O)*1e3,j=Math.abs(D)<=a,Y=Math.abs(i-R)<=d;g.done=j&&Y}return g.value=g.done?i:R,g},flipTarget:()=>{w=-w,[t,i]=[i,t],W()}}}cD.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const h5=e=>0,Xm=(e,t,i)=>{const a=t-e;return a===0?1:(i-e)/a},In=(e,t,i)=>-i*e+i*t+e;function DA(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function p5({hue:e,saturation:t,lightness:i,alpha:a}){e/=360,t/=100,i/=100;let d=0,h=0,g=0;if(!t)d=h=g=i;else{const y=i<.5?i*(1+t):i+t-i*t,T=2*i-y;d=DA(T,y,e+1/3),h=DA(T,y,e),g=DA(T,y,e-1/3)}return{red:Math.round(d*255),green:Math.round(h*255),blue:Math.round(g*255),alpha:a}}const fbe=(e,t,i)=>{const a=e*e,d=t*t;return Math.sqrt(Math.max(0,i*(d-a)+a))},hbe=[rP,Nc,Gl],g5=e=>hbe.find(t=>t.test(e)),_H=(e,t)=>{let i=g5(e),a=g5(t),d=i.parse(e),h=a.parse(t);i===Gl&&(d=p5(d),i=Nc),a===Gl&&(h=p5(h),a=Nc);const g=Object.assign({},d);return y=>{for(const T in g)T!=="alpha"&&(g[T]=fbe(d[T],h[T],y));return g.alpha=In(d.alpha,h.alpha,y),i.transform(g)}},aP=e=>typeof e=="number",pbe=(e,t)=>i=>t(e(i)),z1=(...e)=>e.reduce(pbe);function yH(e,t){return aP(e)?i=>In(e,t,i):Yi.test(e)?_H(e,t):bH(e,t)}const SH=(e,t)=>{const i=[...e],a=i.length,d=e.map((h,g)=>yH(h,t[g]));return h=>{for(let g=0;g<a;g++)i[g]=d[g](h);return i}},gbe=(e,t)=>{const i=Object.assign(Object.assign({},e),t),a={};for(const d in i)e[d]!==void 0&&t[d]!==void 0&&(a[d]=yH(e[d],t[d]));return d=>{for(const h in a)i[h]=a[h](d);return i}};function m5(e){const t=Ou.parse(e),i=t.length;let a=0,d=0,h=0;for(let g=0;g<i;g++)a||typeof t[g]=="number"?a++:t[g].hue!==void 0?h++:d++;return{parsed:t,numNumbers:a,numRGB:d,numHSL:h}}const bH=(e,t)=>{const i=Ou.createTransformer(t),a=m5(e),d=m5(t);return a.numHSL===d.numHSL&&a.numRGB===d.numRGB&&a.numNumbers>=d.numNumbers?z1(SH(a.parsed,d.parsed),i):g=>`${g>0?t:e}`},mbe=(e,t)=>i=>In(e,t,i);function vbe(e){if(typeof e=="number")return mbe;if(typeof e=="string")return Yi.test(e)?_H:bH;if(Array.isArray(e))return SH;if(typeof e=="object")return gbe}function _be(e,t,i){const a=[],d=i||vbe(e[0]),h=e.length-1;for(let g=0;g<h;g++){let y=d(e[g],e[g+1]);if(t){const T=Array.isArray(t)?t[g]:t;y=z1(T,y)}a.push(y)}return a}function ybe([e,t],[i]){return a=>i(Xm(e,t,a))}function Sbe(e,t){const i=e.length,a=i-1;return d=>{let h=0,g=!1;if(d<=e[0]?g=!0:d>=e[a]&&(h=a-1,g=!0),!g){let T=1;for(;T<i&&!(e[T]>d||T===a);T++);h=T-1}const y=Xm(e[h],e[h+1],d);return t[h](y)}}function TH(e,t,{clamp:i=!0,ease:a,mixer:d}={}){const h=e.length;BS(h===t.length),BS(!a||!Array.isArray(a)||a.length===h-1),e[0]>e[h-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const g=_be(t,a,d),y=h===2?ybe(e,g):Sbe(e,g);return i?T=>y(US(e[0],e[h-1],T)):y}const H1=e=>t=>1-e(1-t),lD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bbe=e=>t=>Math.pow(t,e),CH=e=>t=>t*t*((e+1)*t-e),Tbe=e=>{const t=CH(e);return i=>(i*=2)<1?.5*t(i):.5*(2-Math.pow(2,-10*(i-1)))},IH=1.525,Cbe=4/11,Ibe=8/11,wbe=9/10,dD=e=>e,fD=bbe(2),Ebe=H1(fD),wH=lD(fD),EH=e=>1-Math.sin(Math.acos(e)),hD=H1(EH),Abe=lD(hD),pD=CH(IH),xbe=H1(pD),Pbe=lD(pD),kbe=Tbe(IH),Dbe=4356/361,Rbe=35442/1805,Fbe=16061/1805,VS=e=>{if(e===1||e===0)return e;const t=e*e;return e<Cbe?7.5625*t:e<Ibe?9.075*t-9.9*e+3.4:e<wbe?Dbe*t-Rbe*e+Fbe:10.8*e*e-20.52*e+10.72},Obe=H1(VS),Nbe=e=>e<.5?.5*(1-VS(1-e*2)):.5*VS(e*2-1)+.5;function Lbe(e,t){return e.map(()=>t||wH).splice(0,e.length-1)}function Mbe(e){const t=e.length;return e.map((i,a)=>a!==0?a/(t-1):0)}function Wbe(e,t){return e.map(i=>i*t)}function Qy({from:e=0,to:t=1,ease:i,offset:a,duration:d=300}){const h={done:!1,value:e},g=Array.isArray(t)?t:[e,t],y=Wbe(a&&a.length===g.length?a:Mbe(g),d);function T(){return TH(y,g,{ease:Array.isArray(i)?i:Lbe(g,i)})}let C=T();return{next:w=>(h.value=C(w),h.done=w>=d,h),flipTarget:()=>{g.reverse(),C=T()}}}function Bbe({velocity:e=0,from:t=0,power:i=.8,timeConstant:a=350,restDelta:d=.5,modifyTarget:h}){const g={done:!1,value:t};let y=i*e;const T=t+y,C=h===void 0?T:h(T);return C!==T&&(y=C-t),{next:w=>{const x=-y*Math.exp(-w/a);return g.done=!(x>d||x<-d),g.value=g.done?C:C+x,g},flipTarget:()=>{}}}const v5={keyframes:Qy,spring:cD,decay:Bbe};function Ube(e){if(Array.isArray(e.to))return Qy;if(v5[e.type])return v5[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Qy:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?cD:Qy}function AH(e,t,i=0){return e-t-i}function Vbe(e,t,i=0,a=!0){return a?AH(t+-e,t,i):t-(e-t)+i}function jbe(e,t,i,a){return a?e>=t+i:e<=-i}const Gbe=e=>{const t=({delta:i})=>e(i);return{start:()=>rs.update(t,!0),stop:()=>gh.update(t)}};function xH(e){var t,i,{from:a,autoplay:d=!0,driver:h=Gbe,elapsed:g=0,repeat:y=0,repeatType:T="loop",repeatDelay:C=0,onPlay:w,onStop:x,onComplete:F,onRepeat:N,onUpdate:E}=e,W=vH(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:O}=W,R,D=0,j=W.duration,Y,de=!1,ne=!0,X;const ce=Ube(W);!((i=(t=ce).needsInterpolation)===null||i===void 0)&&i.call(t,a,O)&&(X=TH([0,100],[a,O],{clamp:!1}),a=0,O=100);const he=ce(Object.assign(Object.assign({},W),{from:a,to:O}));function le(){D++,T==="reverse"?(ne=D%2===0,g=Vbe(g,j,C,ne)):(g=AH(g,j,C),T==="mirror"&&he.flipTarget()),de=!1,N&&N()}function fe(){R.stop(),F&&F()}function _e(ke){if(ne||(ke=-ke),g+=ke,!de){const Ne=he.next(Math.max(0,g));Y=Ne.value,X&&(Y=X(Y)),de=ne?Ne.done:g<=0}E==null||E(Y),de&&(D===0&&(j??(j=g)),D<y?jbe(g,j,C,ne)&&le():fe())}function Ee(){w==null||w(),R=h(_e),R.start()}return d&&Ee(),{stop:()=>{x==null||x(),R.stop()}}}function PH(e,t){return t?e*(1e3/t):0}function zbe({from:e=0,velocity:t=0,min:i,max:a,power:d=.8,timeConstant:h=750,bounceStiffness:g=500,bounceDamping:y=10,restDelta:T=1,modifyTarget:C,driver:w,onUpdate:x,onComplete:F,onStop:N}){let E;function W(j){return i!==void 0&&j<i||a!==void 0&&j>a}function O(j){return i===void 0?a:a===void 0||Math.abs(i-j)<Math.abs(a-j)?i:a}function R(j){E==null||E.stop(),E=xH(Object.assign(Object.assign({},j),{driver:w,onUpdate:Y=>{var de;x==null||x(Y),(de=j.onUpdate)===null||de===void 0||de.call(j,Y)},onComplete:F,onStop:N}))}function D(j){R(Object.assign({type:"spring",stiffness:g,damping:y,restDelta:T},j))}if(W(e))D({from:e,velocity:t,to:O(e)});else{let j=d*t+e;typeof C<"u"&&(j=C(j));const Y=O(j),de=Y===i?-1:1;let ne,X;const ce=he=>{ne=X,X=he,t=PH(he-ne,xS().delta),(de===1&&he>Y||de===-1&&he<Y)&&D({from:he,to:Y,velocity:t})};R({type:"decay",from:e,velocity:t,timeConstant:h,power:d,restDelta:T,modifyTarget:C,onUpdate:W(j)?ce:void 0})}return{stop:()=>E==null?void 0:E.stop()}}const sP=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),_5=e=>sP(e)&&e.hasOwnProperty("z"),gy=(e,t)=>Math.abs(e-t);function gD(e,t){if(aP(e)&&aP(t))return gy(e,t);if(sP(e)&&sP(t)){const i=gy(e.x,t.x),a=gy(e.y,t.y),d=_5(e)&&_5(t)?gy(e.z,t.z):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2)+Math.pow(d,2))}}const kH=(e,t)=>1-3*t+3*e,DH=(e,t)=>3*t-6*e,RH=e=>3*e,jS=(e,t,i)=>((kH(t,i)*e+DH(t,i))*e+RH(t))*e,FH=(e,t,i)=>3*kH(t,i)*e*e+2*DH(t,i)*e+RH(t),Hbe=1e-7,$be=10;function Kbe(e,t,i,a,d){let h,g,y=0;do g=t+(i-t)/2,h=jS(g,a,d)-e,h>0?i=g:t=g;while(Math.abs(h)>Hbe&&++y<$be);return g}const Ybe=8,Qbe=.001;function Xbe(e,t,i,a){for(let d=0;d<Ybe;++d){const h=FH(t,i,a);if(h===0)return t;const g=jS(t,i,a)-e;t-=g/h}return t}const Xy=11,my=1/(Xy-1);function Jbe(e,t,i,a){if(e===t&&i===a)return dD;const d=new Float32Array(Xy);for(let g=0;g<Xy;++g)d[g]=jS(g*my,e,i);function h(g){let y=0,T=1;const C=Xy-1;for(;T!==C&&d[T]<=g;++T)y+=my;--T;const w=(g-d[T])/(d[T+1]-d[T]),x=y+w*my,F=FH(x,e,i);return F>=Qbe?Xbe(g,x,e,i):F===0?x:Kbe(g,y,y+my,e,i)}return g=>g===0||g===1?g:jS(h(g),t,a)}function qbe({onTap:e,onTapStart:t,onTapCancel:i,whileTap:a,visualElement:d}){const h=e||t||i||a,g=be.useRef(!1),y=be.useRef(null),T={passive:!(t||e||i||N)};function C(){y.current&&y.current(),y.current=null}function w(){return C(),g.current=!1,d.animationState&&d.animationState.setActive(Vr.Tap,!1),!gH()}function x(E,W){w()&&(mH(d.getInstance(),E.target)?e&&e(E,W):i&&i(E,W))}function F(E,W){w()&&i&&i(E,W)}function N(E,W){C(),!g.current&&(g.current=!0,y.current=z1(sh(window,"pointerup",x,T),sh(window,"pointercancel",F,T)),d.animationState&&d.animationState.setActive(Vr.Tap,!0),t&&t(E,W))}WS(d,"pointerdown",h?N:void 0,T),uD(C)}const Zbe="production",OH=typeof process>"u"||process.env===void 0?Zbe:"production",y5=new Set;function NH(e,t,i){e||y5.has(t)||(console.warn(t),i&&console.warn(i),y5.add(t))}const uP=new WeakMap,RA=new WeakMap,eTe=e=>{const t=uP.get(e.target);t&&t(e)},tTe=e=>{e.forEach(eTe)};function rTe({root:e,...t}){const i=e||document;RA.has(i)||RA.set(i,{});const a=RA.get(i),d=JSON.stringify(t);return a[d]||(a[d]=new IntersectionObserver(tTe,{root:e,...t})),a[d]}function nTe(e,t,i){const a=rTe(t);return uP.set(e,i),a.observe(e),()=>{uP.delete(e),a.unobserve(e)}}function iTe({visualElement:e,whileInView:t,onViewportEnter:i,onViewportLeave:a,viewport:d={}}){const h=be.useRef({hasEnteredView:!1,isInView:!1});let g=!!(t||i||a);d.once&&h.current.hasEnteredView&&(g=!1),(typeof IntersectionObserver>"u"?sTe:aTe)(g,h.current,e,d)}const oTe={some:0,all:1};function aTe(e,t,i,{root:a,margin:d,amount:h="some",once:g}){be.useEffect(()=>{if(!e)return;const y={root:a==null?void 0:a.current,rootMargin:d,threshold:typeof h=="number"?h:oTe[h]},T=C=>{const{isIntersecting:w}=C;if(t.isInView===w||(t.isInView=w,g&&!w&&t.hasEnteredView))return;w&&(t.hasEnteredView=!0),i.animationState&&i.animationState.setActive(Vr.InView,w);const x=i.getProps(),F=w?x.onViewportEnter:x.onViewportLeave;F&&F(C)};return nTe(i.getInstance(),y,T)},[e,a,d,h])}function sTe(e,t,i,{fallback:a=!0}){be.useEffect(()=>{!e||!a||(OH!=="production"&&NH(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{t.hasEnteredView=!0;const{onViewportEnter:d}=i.getProps();d&&d(null),i.animationState&&i.animationState.setActive(Vr.InView,!0)}))},[e])}const Lc=e=>t=>(e(t),null),uTe={inView:Lc(iTe),tap:Lc(qbe),focus:Lc(H1e),hover:Lc(tbe)};function LH(){const e=be.useContext(Ah);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:a}=e,d=be.useId();return be.useEffect(()=>a(d),[]),!t&&i?[!1,()=>i&&i(d)]:[!0]}function cTe(){return lTe(be.useContext(Ah))}function lTe(e){return e===null?!0:e.isPresent}function MH(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let a=0;a<i;a++)if(t[a]!==e[a])return!1;return!0}const GS=e=>e*1e3,dTe={linear:dD,easeIn:fD,easeInOut:wH,easeOut:Ebe,circIn:EH,circInOut:Abe,circOut:hD,backIn:pD,backInOut:Pbe,backOut:xbe,anticipate:kbe,bounceIn:Obe,bounceInOut:Nbe,bounceOut:VS},S5=e=>{if(Array.isArray(e)){BS(e.length===4);const[t,i,a,d]=e;return Jbe(t,i,a,d)}else if(typeof e=="string")return dTe[e];return e},fTe=e=>Array.isArray(e)&&typeof e[0]!="number",b5=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Ou.test(t)&&!t.startsWith("url(")),Fl=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),vy=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),FA=()=>({type:"keyframes",ease:"linear",duration:.3}),hTe=e=>({type:"keyframes",duration:.8,values:e}),T5={x:Fl,y:Fl,z:Fl,rotate:Fl,rotateX:Fl,rotateY:Fl,rotateZ:Fl,scaleX:vy,scaleY:vy,scale:vy,opacity:FA,backgroundColor:FA,color:FA,default:vy},pTe=(e,t)=>{let i;return Qm(t)?i=hTe:i=T5[e]||T5.default,{to:t,...i(t)}},gTe={...Jz,color:Yi,backgroundColor:Yi,outlineColor:Yi,fill:Yi,stroke:Yi,borderColor:Yi,borderTopColor:Yi,borderRightColor:Yi,borderBottomColor:Yi,borderLeftColor:Yi,filter:nP,WebkitFilter:nP},mD=e=>gTe[e];function vD(e,t){var i;let a=mD(e);return a!==nP&&(a=Ou),(i=a.getAnimatableNone)===null||i===void 0?void 0:i.call(a,t)}function mTe({when:e,delay:t,delayChildren:i,staggerChildren:a,staggerDirection:d,repeat:h,repeatType:g,repeatDelay:y,from:T,...C}){return!!Object.keys(C).length}function vTe({ease:e,times:t,yoyo:i,flip:a,loop:d,...h}){const g={...h};return t&&(g.offset=t),h.duration&&(g.duration=GS(h.duration)),h.repeatDelay&&(g.repeatDelay=GS(h.repeatDelay)),e&&(g.ease=fTe(e)?e.map(S5):S5(e)),h.type==="tween"&&(g.type="keyframes"),(i||d||a)&&(i?g.repeatType="reverse":d?g.repeatType="loop":a&&(g.repeatType="mirror"),g.repeat=d||i||a||h.repeat),h.type!=="spring"&&(g.type="keyframes"),g}function _Te(e,t){var i,a;return(a=(i=(_D(e,t)||{}).delay)!==null&&i!==void 0?i:e.delay)!==null&&a!==void 0?a:0}function yTe(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=[...e.to],e.to[0]=e.from),e}function STe(e,t,i){return Array.isArray(t.to)&&e.duration===void 0&&(e.duration=.8),yTe(t),mTe(e)||(e={...e,...pTe(i,t.to)}),{...t,...vTe(e)}}function bTe(e,t,i,a,d){const h=_D(a,e)||{};let g=h.from!==void 0?h.from:t.get();const y=b5(e,i);g==="none"&&y&&typeof i=="string"?g=vD(e,i):C5(g)&&typeof i=="string"?g=I5(i):!Array.isArray(i)&&C5(i)&&typeof g=="string"&&(i=I5(g));const T=b5(e,g);function C(){const x={from:g,to:i,velocity:t.getVelocity(),onComplete:d,onUpdate:F=>t.set(F)};return h.type==="inertia"||h.type==="decay"?zbe({...x,...h}):xH({...STe(h,x,e),onUpdate:F=>{x.onUpdate(F),h.onUpdate&&h.onUpdate(F)},onComplete:()=>{x.onComplete(),h.onComplete&&h.onComplete()}})}function w(){const x=sH(i);return t.set(x),d(),h.onUpdate&&h.onUpdate(x),h.onComplete&&h.onComplete(),{stop:()=>{}}}return!T||!y||h.type===!1?w:C}function C5(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function I5(e){return typeof e=="number"?0:vD("",e)}function _D(e,t){return e[t]||e.default||e}function yD(e,t,i,a={}){return t.start(d=>{let h,g;const y=bTe(e,t,i,a,d),T=_Te(a,e),C=()=>g=y();return T?h=window.setTimeout(C,GS(T)):C(),()=>{clearTimeout(h),g&&g.stop()}})}const TTe=e=>/^\-?\d*\.?\d+$/.test(e),CTe=e=>/^0[^.\s]+$/.test(e);function SD(e,t){e.indexOf(t)===-1&&e.push(t)}function bD(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class hm{constructor(){this.subscriptions=[]}add(t){return SD(this.subscriptions,t),()=>bD(this.subscriptions,t)}notify(t,i,a){const d=this.subscriptions.length;if(d)if(d===1)this.subscriptions[0](t,i,a);else for(let h=0;h<d;h++){const g=this.subscriptions[h];g&&g(t,i,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ITe=e=>!isNaN(parseFloat(e));class wTe{constructor(t){this.version="7.3.0",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new hm,this.velocityUpdateSubscribers=new hm,this.renderSubscribers=new hm,this.canTrackVelocity=!1,this.updateAndNotify=(i,a=!0)=>{this.prev=this.current,this.current=i;const{delta:d,timestamp:h}=xS();this.lastUpdated!==h&&(this.timeDelta=d,this.lastUpdated=h,rs.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),a&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>rs.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=ITe(this.current)}onChange(t){return this.updateSubscribers.add(t)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(t){return t(this.get()),this.renderSubscribers.add(t)}attach(t){this.passiveEffect=t}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?PH(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.stopAnimation=t(i)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function yh(e){return new wTe(e)}const WH=e=>t=>t.test(e),ETe={test:e=>e==="auto",parse:e=>e},BH=[sd,Mt,Hs,Cc,p1e,h1e,ETe],Og=e=>BH.find(WH(e)),ATe=[...BH,Yi,Ou],xTe=e=>ATe.find(WH(e));function PTe(e){const t={};return e.forEachValue((i,a)=>t[a]=i.get()),t}function kTe(e){const t={};return e.forEachValue((i,a)=>t[a]=i.getVelocity()),t}function $1(e,t,i){const a=e.getProps();return aH(a,t,i!==void 0?i:a.custom,PTe(e),kTe(e))}function DTe(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,yh(i))}function RTe(e,t){const i=$1(e,t);let{transitionEnd:a={},transition:d={},...h}=i?e.makeTargetAnimatable(i,!1):{};h={...h,...a};for(const g in h){const y=sH(h[g]);DTe(e,g,y)}}function FTe(e,t,i){var a,d;const h=Object.keys(t).filter(y=>!e.hasValue(y)),g=h.length;if(g)for(let y=0;y<g;y++){const T=h[y],C=t[T];let w=null;Array.isArray(C)&&(w=C[0]),w===null&&(w=(d=(a=i[T])!==null&&a!==void 0?a:e.readValue(T))!==null&&d!==void 0?d:t[T]),w!=null&&(typeof w=="string"&&(TTe(w)||CTe(w))?w=parseFloat(w):!xTe(w)&&Ou.test(C)&&(w=vD(T,C)),e.addValue(T,yh(w)),i[T]===void 0&&(i[T]=w),e.setBaseTarget(T,w))}}function OTe(e,t){return t?(t[e]||t.default||t).from:void 0}function NTe(e,t,i){var a;const d={};for(const h in e){const g=OTe(h,t);d[h]=g!==void 0?g:(a=i.getValue(h))===null||a===void 0?void 0:a.get()}return d}function zS(e){return!!($s(e)&&e.add)}function LTe(e,t,i={}){e.notifyAnimationStart(t);let a;if(Array.isArray(t)){const d=t.map(h=>cP(e,h,i));a=Promise.all(d)}else if(typeof t=="string")a=cP(e,t,i);else{const d=typeof t=="function"?$1(e,t,i.custom):t;a=UH(e,d,i)}return a.then(()=>e.notifyAnimationComplete(t))}function cP(e,t,i={}){var a;const d=$1(e,t,i.custom);let{transition:h=e.getDefaultTransition()||{}}=d||{};i.transitionOverride&&(h=i.transitionOverride);const g=d?()=>UH(e,d,i):()=>Promise.resolve(),y=!((a=e.variantChildren)===null||a===void 0)&&a.size?(C=0)=>{const{delayChildren:w=0,staggerChildren:x,staggerDirection:F}=h;return MTe(e,t,w+C,x,F,i)}:()=>Promise.resolve(),{when:T}=h;if(T){const[C,w]=T==="beforeChildren"?[g,y]:[y,g];return C().then(w)}else return Promise.all([g(),y(i.delay)])}function UH(e,t,{delay:i=0,transitionOverride:a,type:d}={}){var h;let{transition:g=e.getDefaultTransition(),transitionEnd:y,...T}=e.makeTargetAnimatable(t);const C=e.getValue("willChange");a&&(g=a);const w=[],x=d&&((h=e.animationState)===null||h===void 0?void 0:h.getState()[d]);for(const F in T){const N=e.getValue(F),E=T[F];if(!N||E===void 0||x&&BTe(x,F))continue;let W={delay:i,...g};e.shouldReduceMotion&&lv.has(F)&&(W={...W,type:!1,delay:0});let O=yD(F,N,E,W);zS(C)&&(C.add(F),O=O.then(()=>C.remove(F))),w.push(O)}return Promise.all(w).then(()=>{y&&RTe(e,y)})}function MTe(e,t,i=0,a=0,d=1,h){const g=[],y=(e.variantChildren.size-1)*a,T=d===1?(C=0)=>C*a:(C=0)=>y-C*a;return Array.from(e.variantChildren).sort(WTe).forEach((C,w)=>{g.push(cP(C,t,{...h,delay:i+T(w)}).then(()=>C.notifyAnimationComplete(t)))}),Promise.all(g)}function WTe(e,t){return e.sortNodePosition(t)}function BTe({protectedKeys:e,needsAnimating:t},i){const a=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,a}const TD=[Vr.Animate,Vr.InView,Vr.Focus,Vr.Hover,Vr.Tap,Vr.Drag,Vr.Exit],UTe=[...TD].reverse(),VTe=TD.length;function jTe(e){return t=>Promise.all(t.map(({animation:i,options:a})=>LTe(e,i,a)))}function GTe(e){let t=jTe(e);const i=HTe();let a=!0;const d=(T,C)=>{const w=$1(e,C);if(w){const{transition:x,transitionEnd:F,...N}=w;T={...T,...N,...F}}return T};function h(T){t=T(e)}function g(T,C){var w;const x=e.getProps(),F=e.getVariantContext(!0)||{},N=[],E=new Set;let W={},O=1/0;for(let D=0;D<VTe;D++){const j=UTe[D],Y=i[j],de=(w=x[j])!==null&&w!==void 0?w:F[j],ne=$m(de),X=j===C?Y.isActive:null;X===!1&&(O=D);let ce=de===F[j]&&de!==x[j]&&ne;if(ce&&a&&e.manuallyAnimateOnMount&&(ce=!1),Y.protectedKeys={...W},!Y.isActive&&X===null||!de&&!Y.prevProp||U1(de)||typeof de=="boolean")continue;const he=zTe(Y.prevProp,de);let le=he||j===C&&Y.isActive&&!ce&&ne||D>O&&ne;const fe=Array.isArray(de)?de:[de];let _e=fe.reduce(d,{});X===!1&&(_e={});const{prevResolvedValues:Ee={}}=Y,ke={...Ee,..._e},Ne=je=>{le=!0,E.delete(je),Y.needsAnimating[je]=!0};for(const je in ke){const Ze=_e[je],De=Ee[je];W.hasOwnProperty(je)||(Ze!==De?Qm(Ze)&&Qm(De)?!MH(Ze,De)||he?Ne(je):Y.protectedKeys[je]=!0:Ze!==void 0?Ne(je):E.add(je):Ze!==void 0&&E.has(je)?Ne(je):Y.protectedKeys[je]=!0)}Y.prevProp=de,Y.prevResolvedValues=_e,Y.isActive&&(W={...W,..._e}),a&&e.blockInitialAnimation&&(le=!1),le&&!ce&&N.push(...fe.map(je=>({animation:je,options:{type:j,...T}})))}if(E.size){const D={};E.forEach(j=>{const Y=e.getBaseTarget(j);Y!==void 0&&(D[j]=Y)}),N.push({animation:D})}let R=!!N.length;return a&&x.initial===!1&&!e.manuallyAnimateOnMount&&(R=!1),a=!1,R?t(N):Promise.resolve()}function y(T,C,w){var x;if(i[T].isActive===C)return Promise.resolve();(x=e.variantChildren)===null||x===void 0||x.forEach(N=>{var E;return(E=N.animationState)===null||E===void 0?void 0:E.setActive(T,C)}),i[T].isActive=C;const F=g(w,T);for(const N in i)i[N].protectedKeys={};return F}return{animateChanges:g,setActive:y,setAnimateFunction:h,getState:()=>i}}function zTe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!MH(t,e):!1}function Ol(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HTe(){return{[Vr.Animate]:Ol(!0),[Vr.InView]:Ol(),[Vr.Hover]:Ol(),[Vr.Tap]:Ol(),[Vr.Drag]:Ol(),[Vr.Focus]:Ol(),[Vr.Exit]:Ol()}}const $Te={animation:Lc(({visualElement:e,animate:t})=>{e.animationState||(e.animationState=GTe(e)),U1(t)&&be.useEffect(()=>t.subscribe(e),[t])}),exit:Lc(e=>{const{custom:t,visualElement:i}=e,[a,d]=LH(),h=be.useContext(Ah);be.useEffect(()=>{i.isPresent=a;const g=i.animationState&&i.animationState.setActive(Vr.Exit,!a,{custom:h&&h.custom||t});g&&!a&&g.then(d)},[a])})};class VH{constructor(t,i,{transformPagePoint:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=NA(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,x=gD(C.offset,{x:0,y:0})>=3;if(!w&&!x)return;const{point:F}=C,{timestamp:N}=xS();this.history.push({...F,timestamp:N});const{onStart:E,onMove:W}=this.handlers;w||(E&&E(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,C)},this.handlePointerMove=(C,w)=>{if(this.lastMoveEvent=C,this.lastMoveEventInfo=OA(w,this.transformPagePoint),cH(C)&&C.buttons===0){this.handlePointerUp(C,w);return}rs.update(this.updatePoint,!0)},this.handlePointerUp=(C,w)=>{this.end();const{onEnd:x,onSessionEnd:F}=this.handlers,N=NA(OA(w,this.transformPagePoint),this.history);this.startEvent&&x&&x(C,N),F&&F(C,N)},lH(t)&&t.touches.length>1)return;this.handlers=i,this.transformPagePoint=a;const d=sD(t),h=OA(d,this.transformPagePoint),{point:g}=h,{timestamp:y}=xS();this.history=[{...g,timestamp:y}];const{onSessionStart:T}=i;T&&T(t,NA(h,this.history)),this.removeListeners=z1(sh(window,"pointermove",this.handlePointerMove),sh(window,"pointerup",this.handlePointerUp),sh(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gh.update(this.updatePoint)}}function OA(e,t){return t?{point:t(e.point)}:e}function w5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function NA({point:e},t){return{point:e,delta:w5(e,jH(t)),offset:w5(e,KTe(t)),velocity:YTe(t,.1)}}function KTe(e){return e[0]}function jH(e){return e[e.length-1]}function YTe(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,a=null;const d=jH(e);for(;i>=0&&(a=e[i],!(d.timestamp-a.timestamp>GS(t)));)i--;if(!a)return{x:0,y:0};const h=(d.timestamp-a.timestamp)/1e3;if(h===0)return{x:0,y:0};const g={x:(d.x-a.x)/h,y:(d.y-a.y)/h};return g.x===1/0&&(g.x=0),g.y===1/0&&(g.y=0),g}function $o(e){return e.max-e.min}function E5(e,t=0,i=.01){return gD(e,t)<i}function A5(e,t,i,a=.5){e.origin=a,e.originPoint=In(t.min,t.max,e.origin),e.scale=$o(i)/$o(t),(E5(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=In(i.min,i.max,e.origin)-e.originPoint,(E5(e.translate)||isNaN(e.translate))&&(e.translate=0)}function pm(e,t,i,a){A5(e.x,t.x,i.x,a==null?void 0:a.originX),A5(e.y,t.y,i.y,a==null?void 0:a.originY)}function x5(e,t,i){e.min=i.min+t.min,e.max=e.min+$o(t)}function QTe(e,t,i){x5(e.x,t.x,i.x),x5(e.y,t.y,i.y)}function P5(e,t,i){e.min=t.min-i.min,e.max=e.min+$o(t)}function gm(e,t,i){P5(e.x,t.x,i.x),P5(e.y,t.y,i.y)}function XTe(e,{min:t,max:i},a){return t!==void 0&&e<t?e=a?In(t,e,a.min):Math.max(e,t):i!==void 0&&e>i&&(e=a?In(i,e,a.max):Math.min(e,i)),e}function k5(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function JTe(e,{top:t,left:i,bottom:a,right:d}){return{x:k5(e.x,i,d),y:k5(e.y,t,a)}}function D5(e,t){let i=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,a]=[a,i]),{min:i,max:a}}function qTe(e,t){return{x:D5(e.x,t.x),y:D5(e.y,t.y)}}function ZTe(e,t){let i=.5;const a=$o(e),d=$o(t);return d>a?i=Xm(t.min,t.max-a,e.min):a>d&&(i=Xm(e.min,e.max-d,t.min)),US(0,1,i)}function eCe(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const lP=.35;function tCe(e=lP){return e===!1?e=0:e===!0&&(e=lP),{x:R5(e,"left","right"),y:R5(e,"top","bottom")}}function R5(e,t,i){return{min:F5(e,t),max:F5(e,i)}}function F5(e,t){var i;return typeof e=="number"?e:(i=e[t])!==null&&i!==void 0?i:0}const O5=()=>({translate:0,scale:1,origin:0,originPoint:0}),mm=()=>({x:O5(),y:O5()}),N5=()=>({min:0,max:0}),mi=()=>({x:N5(),y:N5()});function Fs(e){return[e("x"),e("y")]}function GH({top:e,left:t,right:i,bottom:a}){return{x:{min:t,max:i},y:{min:e,max:a}}}function rCe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function nCe(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:a.y,right:a.x}}function LA(e){return e===void 0||e===1}function zH({scale:e,scaleX:t,scaleY:i}){return!LA(e)||!LA(t)||!LA(i)}function Ic(e){return zH(e)||L5(e.x)||L5(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function L5(e){return e&&e!=="0%"}function HS(e,t,i){const a=e-i,d=t*a;return i+d}function M5(e,t,i,a,d){return d!==void 0&&(e=HS(e,d,a)),HS(e,i,a)+t}function dP(e,t=0,i=1,a,d){e.min=M5(e.min,t,i,a,d),e.max=M5(e.max,t,i,a,d)}function HH(e,{x:t,y:i}){dP(e.x,t.translate,t.scale,t.originPoint),dP(e.y,i.translate,i.scale,i.originPoint)}function iCe(e,t,i,a=!1){var d,h;const g=i.length;if(!g)return;t.x=t.y=1;let y,T;for(let C=0;C<g;C++)y=i[C],T=y.projectionDelta,((h=(d=y.instance)===null||d===void 0?void 0:d.style)===null||h===void 0?void 0:h.display)!=="contents"&&(a&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Kf(e,{x:-y.scroll.x,y:-y.scroll.y}),T&&(t.x*=T.x.scale,t.y*=T.y.scale,HH(e,T)),a&&Ic(y.latestValues)&&Kf(e,y.latestValues))}function xc(e,t){e.min=e.min+t,e.max=e.max+t}function W5(e,t,[i,a,d]){const h=t[d]!==void 0?t[d]:.5,g=In(e.min,e.max,h);dP(e,t[i],t[a],g,t.scale)}const oCe=["x","scaleX","originX"],aCe=["y","scaleY","originY"];function Kf(e,t){W5(e.x,t,oCe),W5(e.y,t,aCe)}function $H(e,t){return GH(nCe(e.getBoundingClientRect(),t))}function sCe(e,t,i){const a=$H(e,i),{scroll:d}=t;return d&&(xc(a.x,d.x),xc(a.y,d.y)),a}const uCe=new WeakMap;class cCe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mi(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){if(this.visualElement.isPresent===!1)return;const a=y=>{this.stopAnimation(),i&&this.snapToCursor(sD(y,"page").point)},d=(y,T)=>{var C;const{drag:w,dragPropagation:x,onDragStart:F}=this.getProps();w&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=pH(w),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fs(N=>{var E,W;let O=this.getAxisMotionValue(N).get()||0;if(Hs.test(O)){const R=(W=(E=this.visualElement.projection)===null||E===void 0?void 0:E.layout)===null||W===void 0?void 0:W.actual[N];R&&(O=$o(R)*(parseFloat(O)/100))}this.originPoint[N]=O}),F==null||F(y,T),(C=this.visualElement.animationState)===null||C===void 0||C.setActive(Vr.Drag,!0))},h=(y,T)=>{const{dragPropagation:C,dragDirectionLock:w,onDirectionLock:x,onDrag:F}=this.getProps();if(!C&&!this.openGlobalLock)return;const{offset:N}=T;if(w&&this.currentDirection===null){this.currentDirection=lCe(N),this.currentDirection!==null&&(x==null||x(this.currentDirection));return}this.updateAxis("x",T.point,N),this.updateAxis("y",T.point,N),this.visualElement.syncRender(),F==null||F(y,T)},g=(y,T)=>this.stop(y,T);this.panSession=new VH(t,{onSessionStart:a,onStart:d,onMove:h,onSessionEnd:g},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,i){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:d}=i;this.startAnimation(d);const{onDragEnd:h}=this.getProps();h==null||h(t,i)}cancel(){var t,i;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(i=this.visualElement.animationState)===null||i===void 0||i.setActive(Vr.Drag,!1)}updateAxis(t,i,a){const{drag:d}=this.getProps();if(!a||!_y(t,d,this.currentDirection))return;const h=this.getAxisMotionValue(t);let g=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(g=XTe(g,this.constraints[t],this.elastic[t])),h.set(g)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),{layout:a}=this.visualElement.projection||{},d=this.constraints;t&&$f(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=JTe(a.actual,t):this.constraints=!1,this.elastic=tCe(i),d!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Fs(h=>{this.getAxisMotionValue(h)&&(this.constraints[h]=eCe(a.actual[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!$f(t))return!1;const a=t.current,{projection:d}=this.visualElement;if(!d||!d.layout)return!1;const h=sCe(a,d.root,this.visualElement.getTransformPagePoint());let g=qTe(d.layout.actual,h);if(i){const y=i(rCe(g));this.hasMutatedConstraints=!!y,y&&(g=GH(y))}return g}startAnimation(t){const{drag:i,dragMomentum:a,dragElastic:d,dragTransition:h,dragSnapToOrigin:g,onDragTransitionEnd:y}=this.getProps(),T=this.constraints||{},C=Fs(w=>{var x;if(!_y(w,i,this.currentDirection))return;let F=(x=T==null?void 0:T[w])!==null&&x!==void 0?x:{};g&&(F={min:0,max:0});const N=d?200:1e6,E=d?40:1e7,W={type:"inertia",velocity:a?t[w]:0,bounceStiffness:N,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...h,...F};return this.startAxisValueAnimation(w,W)});return Promise.all(C).then(y)}startAxisValueAnimation(t,i){const a=this.getAxisMotionValue(t);return yD(t,a,0,i)}stopAnimation(){Fs(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){var i,a;const d="_drag"+t.toUpperCase(),h=this.visualElement.getProps()[d];return h||this.visualElement.getValue(t,(a=(i=this.visualElement.getProps().initial)===null||i===void 0?void 0:i[t])!==null&&a!==void 0?a:0)}snapToCursor(t){Fs(i=>{const{drag:a}=this.getProps();if(!_y(i,a,this.currentDirection))return;const{projection:d}=this.visualElement,h=this.getAxisMotionValue(i);if(d&&d.layout){const{min:g,max:y}=d.layout.actual[i];h.set(t[i]-In(g,y,.5))}})}scalePositionWithinConstraints(){var t;const{drag:i,dragConstraints:a}=this.getProps(),{projection:d}=this.visualElement;if(!$f(a)||!d||!this.constraints)return;this.stopAnimation();const h={x:0,y:0};Fs(y=>{const T=this.getAxisMotionValue(y);if(T){const C=T.get();h[y]=ZTe({min:C,max:C},this.constraints[y])}});const{transformTemplate:g}=this.visualElement.getProps();this.visualElement.getInstance().style.transform=g?g({},""):"none",(t=d.root)===null||t===void 0||t.updateScroll(),d.updateLayout(),this.resolveConstraints(),Fs(y=>{if(!_y(y,i,null))return;const T=this.getAxisMotionValue(y),{min:C,max:w}=this.constraints[y];T.set(In(C,w,h[y]))})}addListeners(){var t;uCe.set(this.visualElement,this);const i=this.visualElement.getInstance(),a=sh(i,"pointerdown",C=>{const{drag:w,dragListener:x=!0}=this.getProps();w&&x&&this.start(C)}),d=()=>{const{dragConstraints:C}=this.getProps();$f(C)&&(this.constraints=this.resolveRefConstraints())},{projection:h}=this.visualElement,g=h.addEventListener("measure",d);h&&!h.layout&&((t=h.root)===null||t===void 0||t.updateScroll(),h.updateLayout()),d();const y=G1(window,"resize",()=>this.scalePositionWithinConstraints()),T=h.addEventListener("didUpdate",({delta:C,hasLayoutChanged:w})=>{this.isDragging&&w&&(Fs(x=>{const F=this.getAxisMotionValue(x);F&&(this.originPoint[x]+=C[x].translate,F.set(F.get()+C[x].translate))}),this.visualElement.syncRender())});return()=>{y(),a(),g(),T==null||T()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:a=!1,dragPropagation:d=!1,dragConstraints:h=!1,dragElastic:g=lP,dragMomentum:y=!0}=t;return{...t,drag:i,dragDirectionLock:a,dragPropagation:d,dragConstraints:h,dragElastic:g,dragMomentum:y}}}function _y(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function lCe(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}function dCe(e){const{dragControls:t,visualElement:i}=e,a=j1(()=>new cCe(i));be.useEffect(()=>t&&t.subscribe(a),[a,t]),be.useEffect(()=>a.addListeners(),[a])}function fCe({onPan:e,onPanStart:t,onPanEnd:i,onPanSessionStart:a,visualElement:d}){const h=e||t||i||a,g=be.useRef(null),{transformPagePoint:y}=be.useContext(Zk),T={onSessionStart:a,onStart:t,onMove:e,onEnd:(w,x)=>{g.current=null,i&&i(w,x)}};be.useEffect(()=>{g.current!==null&&g.current.updateHandlers(T)});function C(w){g.current=new VH(w,T,{transformPagePoint:y})}WS(d,"pointerdown",h&&C),uD(()=>g.current&&g.current.end())}const hCe={pan:Lc(fCe),drag:Lc(dCe)},fP={current:null},KH={current:!1};function pCe(){if(KH.current=!0,!!ad)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>fP.current=e.matches;e.addListener(t),t()}else fP.current=!1}const yy=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function gCe(){const e=yy.map(()=>new hm),t={},i={clearAllListeners:()=>e.forEach(a=>a.clear()),updatePropListeners:a=>{yy.forEach(d=>{var h;const g="on"+d,y=a[g];(h=t[d])===null||h===void 0||h.call(t),y&&(t[d]=i[g](y))})}};return e.forEach((a,d)=>{i["on"+yy[d]]=h=>a.add(h),i["notify"+yy[d]]=(...h)=>a.notify(...h)}),i}function mCe(e,t,i){const{willChange:a}=t;for(const d in t){const h=t[d],g=i[d];if($s(h))e.addValue(d,h),zS(a)&&a.add(d);else if($s(g))e.addValue(d,yh(h)),zS(a)&&a.remove(d);else if(g!==h)if(e.hasValue(d)){const y=e.getValue(d);!y.hasAnimated&&y.set(h)}else{const y=e.getStaticValue(d);e.addValue(d,yh(y!==void 0?y:h))}}for(const d in i)t[d]===void 0&&e.removeValue(d);return t}const YH=Object.keys(Km),vCe=YH.length,QH=({treeType:e="",build:t,getBaseTarget:i,makeTargetAnimatable:a,measureViewportBox:d,render:h,readValueFromInstance:g,removeValueFromRenderState:y,sortNodePosition:T,scrapeMotionValuesFromProps:C})=>({parent:w,props:x,presenceId:F,blockInitialAnimation:N,visualState:E,reducedMotionConfig:W},O={})=>{let R=!1;const{latestValues:D,renderState:j}=E;let Y;const de=gCe(),ne=new Map,X=new Map;let ce={};const he={...D};let le;function fe(){!Y||!R||(_e(),h(Y,j,x.style,Le.projection))}function _e(){t(Le,j,D,O,x)}function Ee(){de.notifyUpdate(D)}function ke(Ae,Je){const He=Je.onChange(nt=>{D[Ae]=nt,x.onUpdate&&rs.update(Ee,!1,!0)}),Ge=Je.onRenderRequest(Le.scheduleRender);X.set(Ae,()=>{He(),Ge()})}const{willChange:Ne,...je}=C(x);for(const Ae in je){const Je=je[Ae];D[Ae]!==void 0&&$s(Je)&&(Je.set(D[Ae],!1),zS(Ne)&&Ne.add(Ae))}const Ze=V1(x),De=Uz(x),Le={treeType:e,current:null,depth:w?w.depth+1:0,parent:w,children:new Set,presenceId:F,shouldReduceMotion:null,variantChildren:De?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!(w!=null&&w.isMounted()),blockInitialAnimation:N,isMounted:()=>!!Y,mount(Ae){R=!0,Y=Le.current=Ae,Le.projection&&Le.projection.mount(Ae),De&&w&&!Ze&&(le=w==null?void 0:w.addVariantChild(Le)),ne.forEach((Je,He)=>ke(He,Je)),KH.current||pCe(),Le.shouldReduceMotion=W==="never"?!1:W==="always"?!0:fP.current,w==null||w.children.add(Le),Le.setProps(x)},unmount(){var Ae;(Ae=Le.projection)===null||Ae===void 0||Ae.unmount(),gh.update(Ee),gh.render(fe),X.forEach(Je=>Je()),le==null||le(),w==null||w.children.delete(Le),de.clearAllListeners(),Y=void 0,R=!1},loadFeatures(Ae,Je,He,Ge,nt,pe){const oe=[];for(let me=0;me<vCe;me++){const ye=YH[me],{isEnabled:et,Component:Ke}=Km[ye];et(x)&&Ke&&oe.push(be.createElement(Ke,{key:ye,...Ae,visualElement:Le}))}if(!Le.projection&&nt){Le.projection=new nt(Ge,Le.getLatestValues(),w&&w.projection);const{layoutId:me,layout:ye,drag:et,dragConstraints:Ke,layoutScroll:mt}=Ae;Le.projection.setOptions({layoutId:me,layout:ye,alwaysMeasureLayout:!!et||Ke&&$f(Ke),visualElement:Le,scheduleRender:()=>Le.scheduleRender(),animationType:typeof ye=="string"?ye:"both",initialPromotionConfig:pe,layoutScroll:mt})}return oe},addVariantChild(Ae){var Je;const He=Le.getClosestVariantNode();if(He)return(Je=He.variantChildren)===null||Je===void 0||Je.add(Ae),()=>He.variantChildren.delete(Ae)},sortNodePosition(Ae){return!T||e!==Ae.treeType?0:T(Le.getInstance(),Ae.getInstance())},getClosestVariantNode:()=>De?Le:w==null?void 0:w.getClosestVariantNode(),getLayoutId:()=>x.layoutId,getInstance:()=>Y,getStaticValue:Ae=>D[Ae],setStaticValue:(Ae,Je)=>D[Ae]=Je,getLatestValues:()=>D,setVisibility(Ae){Le.isVisible!==Ae&&(Le.isVisible=Ae,Le.scheduleRender())},makeTargetAnimatable(Ae,Je=!0){return a(Le,Ae,x,Je)},measureViewportBox(){return d(Y,x)},addValue(Ae,Je){Le.hasValue(Ae)&&Le.removeValue(Ae),ne.set(Ae,Je),D[Ae]=Je.get(),ke(Ae,Je)},removeValue(Ae){var Je;ne.delete(Ae),(Je=X.get(Ae))===null||Je===void 0||Je(),X.delete(Ae),delete D[Ae],y(Ae,j)},hasValue:Ae=>ne.has(Ae),getValue(Ae,Je){let He=ne.get(Ae);return He===void 0&&Je!==void 0&&(He=yh(Je),Le.addValue(Ae,He)),He},forEachValue:Ae=>ne.forEach(Ae),readValue:Ae=>D[Ae]!==void 0?D[Ae]:g(Y,Ae,O),setBaseTarget(Ae,Je){he[Ae]=Je},getBaseTarget(Ae){if(i){const Je=i(x,Ae);if(Je!==void 0&&!$s(Je))return Je}return he[Ae]},...de,build(){return _e(),j},scheduleRender(){rs.render(fe,!1,!0)},syncRender:fe,setProps(Ae){(Ae.transformTemplate||x.transformTemplate)&&Le.scheduleRender(),x=Ae,de.updatePropListeners(Ae),ce=mCe(Le,C(x),ce)},getProps:()=>x,getVariant:Ae=>{var Je;return(Je=x.variants)===null||Je===void 0?void 0:Je[Ae]},getDefaultTransition:()=>x.transition,getTransformPagePoint:()=>x.transformPagePoint,getVariantContext(Ae=!1){if(Ae)return w==null?void 0:w.getVariantContext();if(!Ze){const He=(w==null?void 0:w.getVariantContext())||{};return x.initial!==void 0&&(He.initial=x.initial),He}const Je={};for(let He=0;He<_Ce;He++){const Ge=XH[He],nt=x[Ge];($m(nt)||nt===!1)&&(Je[Ge]=nt)}return Je}};return Le},XH=["initial",...TD],_Ce=XH.length;function hP(e){return typeof e=="string"&&e.startsWith("var(--")}const JH=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function yCe(e){const t=JH.exec(e);if(!t)return[,];const[,i,a]=t;return[i,a]}function pP(e,t,i=1){const[a,d]=yCe(e);if(!a)return;const h=window.getComputedStyle(t).getPropertyValue(a);return h?h.trim():hP(d)?pP(d,t,i+1):d}function SCe(e,{...t},i){const a=e.getInstance();if(!(a instanceof Element))return{target:t,transitionEnd:i};i&&(i={...i}),e.forEachValue(d=>{const h=d.get();if(!hP(h))return;const g=pP(h,a);g&&d.set(g)});for(const d in t){const h=t[d];if(!hP(h))continue;const g=pP(h,a);g&&(t[d]=g,i&&i[d]===void 0&&(i[d]=h))}return{target:t,transitionEnd:i}}const bCe=new Set(["width","height","top","left","right","bottom","x","y"]),qH=e=>bCe.has(e),TCe=e=>Object.keys(e).some(qH),ZH=(e,t)=>{e.set(t,!1),e.set(t)},B5=e=>e===sd||e===Mt;var U5;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(U5||(U5={}));const V5=(e,t)=>parseFloat(e.split(", ")[t]),j5=(e,t)=>(i,{transform:a})=>{if(a==="none"||!a)return 0;const d=a.match(/^matrix3d\((.+)\)$/);if(d)return V5(d[1],t);{const h=a.match(/^matrix\((.+)\)$/);return h?V5(h[1],e):0}},CCe=new Set(["x","y","z"]),ICe=LS.filter(e=>!CCe.has(e));function wCe(e){const t=[];return ICe.forEach(i=>{const a=e.getValue(i);a!==void 0&&(t.push([i,a.get()]),a.set(i.startsWith("scale")?1:0))}),t.length&&e.syncRender(),t}const G5={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:j5(4,13),y:j5(5,14)},ECe=(e,t,i)=>{const a=t.measureViewportBox(),d=t.getInstance(),h=getComputedStyle(d),{display:g}=h,y={};g==="none"&&t.setStaticValue("display",e.display||"block"),i.forEach(C=>{y[C]=G5[C](a,h)}),t.syncRender();const T=t.measureViewportBox();return i.forEach(C=>{const w=t.getValue(C);ZH(w,y[C]),e[C]=G5[C](T,h)}),e},ACe=(e,t,i={},a={})=>{t={...t},a={...a};const d=Object.keys(t).filter(qH);let h=[],g=!1;const y=[];if(d.forEach(T=>{const C=e.getValue(T);if(!e.hasValue(T))return;let w=i[T],x=Og(w);const F=t[T];let N;if(Qm(F)){const E=F.length,W=F[0]===null?1:0;w=F[W],x=Og(w);for(let O=W;O<E;O++)N?BS(Og(F[O])===N):N=Og(F[O])}else N=Og(F);if(x!==N)if(B5(x)&&B5(N)){const E=C.get();typeof E=="string"&&C.set(parseFloat(E)),typeof F=="string"?t[T]=parseFloat(F):Array.isArray(F)&&N===Mt&&(t[T]=F.map(parseFloat))}else x!=null&&x.transform&&(N!=null&&N.transform)&&(w===0||F===0)?w===0?C.set(N.transform(w)):t[T]=x.transform(F):(g||(h=wCe(e),g=!0),y.push(T),a[T]=a[T]!==void 0?a[T]:t[T],ZH(C,F))}),y.length){const T=y.indexOf("height")>=0?window.pageYOffset:null,C=ECe(t,e,y);return h.length&&h.forEach(([w,x])=>{e.getValue(w).set(x)}),e.syncRender(),ad&&T!==null&&window.scrollTo({top:T}),{target:C,transitionEnd:a}}else return{target:t,transitionEnd:a}};function xCe(e,t,i,a){return TCe(t)?ACe(e,t,i,a):{target:t,transitionEnd:a}}const PCe=(e,t,i,a)=>{const d=SCe(e,t,a);return t=d.target,a=d.transitionEnd,xCe(e,t,i,a)};function kCe(e){return window.getComputedStyle(e)}const e8={treeType:"dom",readValueFromInstance(e,t){if(lv.has(t)){const i=mD(t);return i&&i.default||0}else{const i=kCe(e),a=(Gz(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}},sortNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1},getBaseTarget(e,t){var i;return(i=e.style)===null||i===void 0?void 0:i[t]},measureViewportBox(e,{transformPagePoint:t}){return $H(e,t)},resetTransform(e,t,i){const{transformTemplate:a}=i;t.style.transform=a?a({},""):"none",e.scheduleRender()},restoreTransform(e,t){e.style.transform=t.style.transform},removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]},makeTargetAnimatable(e,{transition:t,transitionEnd:i,...a},{transformValues:d},h=!0){let g=NTe(a,t||{},e);if(d&&(i&&(i=d(i)),a&&(a=d(a)),g&&(g=d(g))),h){FTe(e,a,g);const y=PCe(e,a,g,i);i=y.transitionEnd,a=y.target}return{transition:t,transitionEnd:i,...a}},scrapeMotionValuesFromProps:aD,build(e,t,i,a,d){e.isVisible!==void 0&&(t.style.visibility=e.isVisible?"visible":"hidden"),nD(t,i,a,d.transformTemplate)},render:rH},DCe=QH(e8),RCe=QH({...e8,getBaseTarget(e,t){return e[t]},readValueFromInstance(e,t){var i;return lv.has(t)?((i=mD(t))===null||i===void 0?void 0:i.default)||0:(t=nH.has(t)?t:tH(t),e.getAttribute(t))},scrapeMotionValuesFromProps:oH,build(e,t,i,a,d){oD(t,i,a,d.transformTemplate)},render:iH}),FCe=(e,t)=>tD(e)?RCe(t,{enableHardwareAcceleration:!1}):DCe(t,{enableHardwareAcceleration:!0});function z5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ng={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Mt.test(e))e=parseFloat(e);else return e;const i=z5(e,t.target.x),a=z5(e,t.target.y);return`${i}% ${a}%`}},H5="_$css",OCe={correct:(e,{treeScale:t,projectionDelta:i})=>{const a=e,d=e.includes("var("),h=[];d&&(e=e.replace(JH,N=>(h.push(N),H5)));const g=Ou.parse(e);if(g.length>5)return a;const y=Ou.createTransformer(e),T=typeof g[0]!="number"?1:0,C=i.x.scale*t.x,w=i.y.scale*t.y;g[0+T]/=C,g[1+T]/=w;const x=In(C,w,.5);typeof g[2+T]=="number"&&(g[2+T]/=x),typeof g[3+T]=="number"&&(g[3+T]/=x);let F=y(g);if(d){let N=0;F=F.replace(H5,()=>{const E=h[N];return N++,E})}return F}};class NCe extends _i.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:a,layoutId:d}=this.props,{projection:h}=t;s1e(MCe),h&&(i.group&&i.group.add(h),a&&a.register&&d&&a.register(h),h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),lm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:a,drag:d,isPresent:h}=this.props,g=a.projection;return g&&(g.isPresent=h,d||t.layoutDependency!==i||i===void 0?g.willUpdate():this.safeToRemove(),t.isPresent!==h&&(h?g.promote():g.relegate()||rs.postRender(()=>{var y;!((y=g.getStack())===null||y===void 0)&&y.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:a}=this.props,{projection:d}=t;d&&(d.scheduleCheckAfterUnmount(),i!=null&&i.group&&i.group.remove(d),a!=null&&a.deregister&&a.deregister(d))}safeToRemove(){const{safeToRemove:t}=this.props;t==null||t()}render(){return null}}function LCe(e){const[t,i]=LH(),a=be.useContext(eD);return _i.createElement(NCe,{...e,layoutGroup:a,switchLayoutGroup:be.useContext(Vz),isPresent:t,safeToRemove:i})}const MCe={borderRadius:{...Ng,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ng,borderTopRightRadius:Ng,borderBottomLeftRadius:Ng,borderBottomRightRadius:Ng,boxShadow:OCe},WCe={measureLayout:LCe};function BCe(e,t,i={}){const a=$s(e)?e:yh(e);return yD("",a,t,i),{stop:()=>a.stop(),isAnimating:()=>a.isAnimating()}}const t8=["TopLeft","TopRight","BottomLeft","BottomRight"],UCe=t8.length,$5=e=>typeof e=="string"?parseFloat(e):e,K5=e=>typeof e=="number"||Mt.test(e);function VCe(e,t,i,a,d,h){var g,y,T,C;d?(e.opacity=In(0,(g=i.opacity)!==null&&g!==void 0?g:1,jCe(a)),e.opacityExit=In((y=t.opacity)!==null&&y!==void 0?y:1,0,GCe(a))):h&&(e.opacity=In((T=t.opacity)!==null&&T!==void 0?T:1,(C=i.opacity)!==null&&C!==void 0?C:1,a));for(let w=0;w<UCe;w++){const x=`border${t8[w]}Radius`;let F=Y5(t,x),N=Y5(i,x);if(F===void 0&&N===void 0)continue;F||(F=0),N||(N=0),F===0||N===0||K5(F)===K5(N)?(e[x]=Math.max(In($5(F),$5(N),a),0),(Hs.test(N)||Hs.test(F))&&(e[x]+="%")):e[x]=N}(t.rotate||i.rotate)&&(e.rotate=In(t.rotate||0,i.rotate||0,a))}function Y5(e,t){var i;return(i=e[t])!==null&&i!==void 0?i:e.borderRadius}const jCe=r8(0,.5,hD),GCe=r8(.5,.95,dD);function r8(e,t,i){return a=>a<e?0:a>t?1:i(Xm(e,t,a))}function Q5(e,t){e.min=t.min,e.max=t.max}function Ha(e,t){Q5(e.x,t.x),Q5(e.y,t.y)}function X5(e,t,i,a,d){return e-=t,e=HS(e,1/i,a),d!==void 0&&(e=HS(e,1/d,a)),e}function zCe(e,t=0,i=1,a=.5,d,h=e,g=e){if(Hs.test(t)&&(t=parseFloat(t),t=In(g.min,g.max,t/100)-g.min),typeof t!="number")return;let y=In(h.min,h.max,a);e===h&&(y-=t),e.min=X5(e.min,t,i,y,d),e.max=X5(e.max,t,i,y,d)}function J5(e,t,[i,a,d],h,g){zCe(e,t[i],t[a],t[d],t.scale,h,g)}const HCe=["x","scaleX","originX"],$Ce=["y","scaleY","originY"];function q5(e,t,i,a){J5(e.x,t,HCe,i==null?void 0:i.x,a==null?void 0:a.x),J5(e.y,t,$Ce,i==null?void 0:i.y,a==null?void 0:a.y)}function Z5(e){return e.translate===0&&e.scale===1}function n8(e){return Z5(e.x)&&Z5(e.y)}function i8(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function eV(e){return $o(e.x)/$o(e.y)}function KCe(e,t,i=.01){return gD(e,t)<=i}class YCe{constructor(){this.members=[]}add(t){SD(this.members,t),t.scheduleRender()}remove(t){if(bD(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(d=>t===d);if(i===0)return!1;let a;for(let d=i;d>=0;d--){const h=this.members[d];if(h.isPresent!==!1){a=h;break}}return a?(this.promote(a),!0):!1}promote(t,i){var a;const d=this.lead;if(t!==d&&(this.prevLead=d,this.lead=t,t.show(),d)){d.instance&&d.scheduleRender(),t.scheduleRender(),t.resumeFrom=d,i&&(t.resumeFrom.preserveOpacity=!0),d.snapshot&&(t.snapshot=d.snapshot,t.snapshot.latestValues=d.animationValues||d.latestValues,t.snapshot.isShared=!0),!((a=t.root)===null||a===void 0)&&a.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:h}=t.options;h===!1&&d.hide()}}exitAnimationComplete(){this.members.forEach(t=>{var i,a,d,h,g;(a=(i=t.options).onExitComplete)===null||a===void 0||a.call(i),(g=(d=t.resumingFrom)===null||d===void 0?void 0:(h=d.options).onExitComplete)===null||g===void 0||g.call(h)})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const QCe="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function tV(e,t,i){const a=e.x.translate/t.x,d=e.y.translate/t.y;let h=`translate3d(${a}px, ${d}px, 0) `;if(h+=`scale(${1/t.x}, ${1/t.y}) `,i){const{rotate:T,rotateX:C,rotateY:w}=i;T&&(h+=`rotate(${T}deg) `),C&&(h+=`rotateX(${C}deg) `),w&&(h+=`rotateY(${w}deg) `)}const g=e.x.scale*t.x,y=e.y.scale*t.y;return h+=`scale(${g}, ${y})`,h===QCe?"none":h}const XCe=(e,t)=>e.depth-t.depth;class JCe{constructor(){this.children=[],this.isDirty=!1}add(t){SD(this.children,t),this.isDirty=!0}remove(t){bD(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(XCe),this.isDirty=!1,this.children.forEach(t)}}const rV=["","X","Y","Z"],nV=1e3;function o8({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:a,resetTransform:d}){return class{constructor(g,y={},T=t==null?void 0:t()){this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(nIe),this.nodes.forEach(iIe)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=g,this.latestValues=y,this.root=T?T.root||T:this,this.path=T?[...T.path,T]:[],this.parent=T,this.depth=T?T.depth+1:0,g&&this.root.registerPotentialNode(g,this);for(let C=0;C<this.path.length;C++)this.path[C].shouldResetTransform=!0;this.root===this&&(this.nodes=new JCe)}addEventListener(g,y){return this.eventHandlers.has(g)||this.eventHandlers.set(g,new hm),this.eventHandlers.get(g).add(y)}notifyListeners(g,...y){const T=this.eventHandlers.get(g);T==null||T.notify(...y)}hasListeners(g){return this.eventHandlers.has(g)}registerPotentialNode(g,y){this.potentialNodes.set(g,y)}mount(g,y=!1){var T;if(this.instance)return;this.isSVG=g instanceof SVGElement&&g.tagName!=="svg",this.instance=g;const{layoutId:C,layout:w,visualElement:x}=this.options;if(x&&!x.getInstance()&&x.mount(g),this.root.nodes.add(this),(T=this.parent)===null||T===void 0||T.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),y&&(w||C)&&(this.isLayoutDirty=!0),e){let F;const N=()=>this.root.updateBlockedByResize=!1;e(g,()=>{this.root.updateBlockedByResize=!0,clearTimeout(F),F=window.setTimeout(N,250),lm.hasAnimatedSinceResize&&(lm.hasAnimatedSinceResize=!1,this.nodes.forEach(rIe))})}C&&this.root.registerSharedNode(C,this),this.options.animate!==!1&&x&&(C||w)&&this.addEventListener("didUpdate",({delta:F,hasLayoutChanged:N,hasRelativeTargetChanged:E,layout:W})=>{var O,R,D,j,Y;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const de=(R=(O=this.options.transition)!==null&&O!==void 0?O:x.getDefaultTransition())!==null&&R!==void 0?R:cIe,{onLayoutAnimationStart:ne,onLayoutAnimationComplete:X}=x.getProps(),ce=!this.targetLayout||!i8(this.targetLayout,W)||E,he=!N&&E;if(!((D=this.resumeFrom)===null||D===void 0)&&D.instance||he||N&&(ce||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(F,he);const le={..._D(de,"layout"),onPlay:ne,onComplete:X};x.shouldReduceMotion&&(le.delay=0,le.type=!1),this.startAnimation(le)}else!N&&this.animationProgress===0&&this.finishAnimation(),this.isLead()&&((Y=(j=this.options).onExitComplete)===null||Y===void 0||Y.call(j));this.targetLayout=W})}unmount(){var g,y;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(g=this.getStack())===null||g===void 0||g.remove(this),(y=this.parent)===null||y===void 0||y.children.delete(this),this.instance=void 0,gh.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var g;return this.isAnimationBlocked||((g=this.parent)===null||g===void 0?void 0:g.isTreeAnimationBlocked())||!1}startUpdate(){var g;this.isUpdateBlocked()||(this.isUpdating=!0,(g=this.nodes)===null||g===void 0||g.forEach(oIe))}willUpdate(g=!0){var y,T,C;if(this.root.isUpdateBlocked()){(T=(y=this.options).onExitComplete)===null||T===void 0||T.call(y);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let N=0;N<this.path.length;N++){const E=this.path[N];E.shouldResetTransform=!0,E.updateScroll()}const{layoutId:w,layout:x}=this.options;if(w===void 0&&!x)return;const F=(C=this.options.visualElement)===null||C===void 0?void 0:C.getProps().transformTemplate;this.prevTransformTemplateValue=F==null?void 0:F(this.latestValues,""),this.updateSnapshot(),g&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iV);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(lIe),this.potentialNodes.clear()),this.nodes.forEach(tIe),this.nodes.forEach(qCe),this.nodes.forEach(ZCe),this.clearAllSnapshots(),lA.update(),lA.preRender(),lA.render())}clearAllSnapshots(){this.nodes.forEach(eIe),this.sharedNodes.forEach(aIe)}scheduleUpdateProjection(){rs.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){rs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){if(this.snapshot||!this.instance)return;const g=this.measure(),y=this.removeTransform(this.removeElementScroll(g));uV(y),this.snapshot={measured:g,layout:y,latestValues:{}}}updateLayout(){var g;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let C=0;C<this.path.length;C++)this.path[C].updateScroll();const y=this.measure();uV(y);const T=this.layout;this.layout={measured:y,actual:this.removeElementScroll(y)},this.layoutCorrected=mi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(g=this.options.visualElement)===null||g===void 0||g.notifyLayoutMeasure(this.layout.actual,T==null?void 0:T.actual)}updateScroll(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=a(this.instance),this.scroll=i(this.instance))}resetTransform(){var g;if(!d)return;const y=this.isLayoutDirty||this.shouldResetTransform,T=this.projectionDelta&&!n8(this.projectionDelta),C=(g=this.options.visualElement)===null||g===void 0?void 0:g.getProps().transformTemplate,w=C==null?void 0:C(this.latestValues,""),x=w!==this.prevTransformTemplateValue;y&&(T||Ic(this.latestValues)||x)&&(d(this.instance,w),this.shouldResetTransform=!1,this.scheduleRender())}measure(){const{visualElement:g}=this.options;if(!g)return mi();const y=g.measureViewportBox(),{scroll:T}=this.root;return T&&(xc(y.x,T.x),xc(y.y,T.y)),y}removeElementScroll(g){const y=mi();Ha(y,g);for(let T=0;T<this.path.length;T++){const C=this.path[T],{scroll:w,options:x,isScrollRoot:F}=C;if(C!==this.root&&w&&x.layoutScroll){if(F){Ha(y,g);const{scroll:N}=this.root;N&&(xc(y.x,-N.x),xc(y.y,-N.y))}xc(y.x,w.x),xc(y.y,w.y)}}return y}applyTransform(g,y=!1){const T=mi();Ha(T,g);for(let C=0;C<this.path.length;C++){const w=this.path[C];!y&&w.options.layoutScroll&&w.scroll&&w!==w.root&&Kf(T,{x:-w.scroll.x,y:-w.scroll.y}),Ic(w.latestValues)&&Kf(T,w.latestValues)}return Ic(this.latestValues)&&Kf(T,this.latestValues),T}removeTransform(g){var y;const T=mi();Ha(T,g);for(let C=0;C<this.path.length;C++){const w=this.path[C];if(!w.instance||!Ic(w.latestValues))continue;zH(w.latestValues)&&w.updateSnapshot();const x=mi(),F=w.measure();Ha(x,F),q5(T,w.latestValues,(y=w.snapshot)===null||y===void 0?void 0:y.layout,x)}return Ic(this.latestValues)&&q5(T,this.latestValues),T}setTargetDelta(g){this.targetDelta=g,this.root.scheduleUpdateProjection()}setOptions(g){this.options={...this.options,...g,crossfade:g.crossfade!==void 0?g.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var g;const{layout:y,layoutId:T}=this.options;!this.layout||!(y||T)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=mi(),this.relativeTargetOrigin=mi(),gm(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),Ha(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mi(),this.targetWithTransforms=mi()),this.relativeTarget&&this.relativeTargetOrigin&&(!((g=this.relativeParent)===null||g===void 0)&&g.target)?QTe(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):Ha(this.target,this.layout.actual),HH(this.target,this.targetDelta)):Ha(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=mi(),this.relativeTargetOrigin=mi(),gm(this.relativeTargetOrigin,this.target,this.relativeParent.target),Ha(this.relativeTarget,this.relativeTargetOrigin)))))}getClosestProjectingParent(){if(!(!this.parent||Ic(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var g;const{layout:y,layoutId:T}=this.options;if(this.isTreeAnimating=!!(!((g=this.parent)===null||g===void 0)&&g.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||T))return;const C=this.getLead();Ha(this.layoutCorrected,this.layout.actual),iCe(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==C);const{target:w}=C;if(!w)return;this.projectionDelta||(this.projectionDelta=mm(),this.projectionDeltaWithTransform=mm());const x=this.treeScale.x,F=this.treeScale.y,N=this.projectionTransform;pm(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=tV(this.projectionDelta,this.treeScale),(this.projectionTransform!==N||this.treeScale.x!==x||this.treeScale.y!==F)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(g=!0){var y,T,C;(T=(y=this.options).scheduleRender)===null||T===void 0||T.call(y),g&&((C=this.getStack())===null||C===void 0||C.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(g,y=!1){var T;const C=this.snapshot,w=(C==null?void 0:C.latestValues)||{},x={...this.latestValues},F=mm();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!y;const N=mi(),E=C==null?void 0:C.isShared,W=(((T=this.getStack())===null||T===void 0?void 0:T.members.length)||0)<=1,O=!!(E&&!W&&this.options.crossfade===!0&&!this.path.some(uIe));this.animationProgress=0,this.mixTargetDelta=R=>{var D;const j=R/1e3;oV(F.x,g.x,j),oV(F.y,g.y,j),this.setTargetDelta(F),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((D=this.relativeParent)===null||D===void 0)&&D.layout)&&(gm(N,this.layout.actual,this.relativeParent.layout.actual),sIe(this.relativeTarget,this.relativeTargetOrigin,N,j)),E&&(this.animationValues=x,VCe(x,w,this.latestValues,j,O,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(0)}startAnimation(g){var y,T;this.notifyListeners("animationStart"),(y=this.currentAnimation)===null||y===void 0||y.stop(),this.resumingFrom&&((T=this.resumingFrom.currentAnimation)===null||T===void 0||T.stop()),this.pendingAnimation&&(gh.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rs.update(()=>{lm.hasAnimatedSinceResize=!0,this.currentAnimation=BCe(0,nV,{...g,onUpdate:C=>{var w;this.mixTargetDelta(C),(w=g.onUpdate)===null||w===void 0||w.call(g,C)},onComplete:()=>{var C;(C=g.onComplete)===null||C===void 0||C.call(g),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var g;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(g=this.getStack())===null||g===void 0||g.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var g;this.currentAnimation&&((g=this.mixTargetDelta)===null||g===void 0||g.call(this,nV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const g=this.getLead();let{targetWithTransforms:y,target:T,layout:C,latestValues:w}=g;if(!(!y||!T||!C)){if(this!==g&&this.layout&&C&&a8(this.options.animationType,this.layout.actual,C.actual)){T=this.target||mi();const x=$o(this.layout.actual.x);T.x.min=g.target.x.min,T.x.max=T.x.min+x;const F=$o(this.layout.actual.y);T.y.min=g.target.y.min,T.y.max=T.y.min+F}Ha(y,T),Kf(y,w),pm(this.projectionDeltaWithTransform,this.layoutCorrected,y,w)}}registerSharedNode(g,y){var T,C,w;this.sharedNodes.has(g)||this.sharedNodes.set(g,new YCe),this.sharedNodes.get(g).add(y),y.promote({transition:(T=y.options.initialPromotionConfig)===null||T===void 0?void 0:T.transition,preserveFollowOpacity:(w=(C=y.options.initialPromotionConfig)===null||C===void 0?void 0:C.shouldPreserveFollowOpacity)===null||w===void 0?void 0:w.call(C,y)})}isLead(){const g=this.getStack();return g?g.lead===this:!0}getLead(){var g;const{layoutId:y}=this.options;return y?((g=this.getStack())===null||g===void 0?void 0:g.lead)||this:this}getPrevLead(){var g;const{layoutId:y}=this.options;return y?(g=this.getStack())===null||g===void 0?void 0:g.prevLead:void 0}getStack(){const{layoutId:g}=this.options;if(g)return this.root.sharedNodes.get(g)}promote({needsReset:g,transition:y,preserveFollowOpacity:T}={}){const C=this.getStack();C&&C.promote(this,T),g&&(this.projectionDelta=void 0,this.needsReset=!0),y&&this.setOptions({transition:y})}relegate(){const g=this.getStack();return g?g.relegate(this):!1}resetRotation(){const{visualElement:g}=this.options;if(!g)return;let y=!1;const T={};for(let C=0;C<rV.length;C++){const x="rotate"+rV[C];g.getStaticValue(x)&&(y=!0,T[x]=g.getStaticValue(x),g.setStaticValue(x,0))}if(y){g==null||g.syncRender();for(const C in T)g.setStaticValue(C,T[C]);g.scheduleRender()}}getProjectionStyles(g={}){var y,T,C;const w={};if(!this.instance||this.isSVG)return w;if(this.isVisible)w.visibility="";else return{visibility:"hidden"};const x=(y=this.options.visualElement)===null||y===void 0?void 0:y.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,w.opacity="",w.pointerEvents=Yy(g.pointerEvents)||"",w.transform=x?x(this.latestValues,""):"none",w;const F=this.getLead();if(!this.projectionDelta||!this.layout||!F.target){const O={};return this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=Yy(g.pointerEvents)||""),this.hasProjected&&!Ic(this.latestValues)&&(O.transform=x?x({},""):"none",this.hasProjected=!1),O}const N=F.animationValues||F.latestValues;this.applyTransformsToTarget(),w.transform=tV(this.projectionDeltaWithTransform,this.treeScale,N),x&&(w.transform=x(N,w.transform));const{x:E,y:W}=this.projectionDelta;w.transformOrigin=`${E.origin*100}% ${W.origin*100}% 0`,F.animationValues?w.opacity=F===this?(C=(T=N.opacity)!==null&&T!==void 0?T:this.latestValues.opacity)!==null&&C!==void 0?C:1:this.preserveOpacity?this.latestValues.opacity:N.opacityExit:w.opacity=F===this?N.opacity!==void 0?N.opacity:"":N.opacityExit!==void 0?N.opacityExit:0;for(const O in NS){if(N[O]===void 0)continue;const{correct:R,applyTo:D}=NS[O],j=R(N[O],F);if(D){const Y=D.length;for(let de=0;de<Y;de++)w[D[de]]=j}else w[O]=j}return this.options.layoutId&&(w.pointerEvents=F===this?Yy(g.pointerEvents)||"":"none"),w}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(g=>{var y;return(y=g.currentAnimation)===null||y===void 0?void 0:y.stop()}),this.root.nodes.forEach(iV),this.root.sharedNodes.clear()}}}function qCe(e){e.updateLayout()}function ZCe(e){var t,i,a;const d=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&d&&e.hasListeners("didUpdate")){const{actual:h,measured:g}=e.layout,{animationType:y}=e.options;y==="size"?Fs(F=>{const N=d.isShared?d.measured[F]:d.layout[F],E=$o(N);N.min=h[F].min,N.max=N.min+E}):a8(y,d.layout,h)&&Fs(F=>{const N=d.isShared?d.measured[F]:d.layout[F],E=$o(h[F]);N.max=N.min+E});const T=mm();pm(T,h,d.layout);const C=mm();d.isShared?pm(C,e.applyTransform(g,!0),d.measured):pm(C,h,d.layout);const w=!n8(T);let x=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){const{snapshot:F,layout:N}=e.relativeParent;if(F&&N){const E=mi();gm(E,d.layout,F.layout);const W=mi();gm(W,h,N.actual),i8(E,W)||(x=!0)}}e.notifyListeners("didUpdate",{layout:h,snapshot:d,delta:C,layoutDelta:T,hasLayoutChanged:w,hasRelativeTargetChanged:x})}else e.isLead()&&((a=(i=e.options).onExitComplete)===null||a===void 0||a.call(i));e.options.transition=void 0}function eIe(e){e.clearSnapshot()}function iV(e){e.clearMeasurements()}function tIe(e){const{visualElement:t}=e.options;t!=null&&t.getProps().onBeforeLayoutMeasure&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function rIe(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function nIe(e){e.resolveTargetDelta()}function iIe(e){e.calcProjection()}function oIe(e){e.resetRotation()}function aIe(e){e.removeLeadSnapshot()}function oV(e,t,i){e.translate=In(t.translate,0,i),e.scale=In(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function aV(e,t,i,a){e.min=In(t.min,i.min,a),e.max=In(t.max,i.max,a)}function sIe(e,t,i,a){aV(e.x,t.x,i.x,a),aV(e.y,t.y,i.y,a)}function uIe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cIe={duration:.45,ease:[.4,0,.1,1]};function lIe(e,t){let i=e.root;for(let h=e.path.length-1;h>=0;h--)if(e.path[h].instance){i=e.path[h];break}const d=(i&&i!==e.root?i.instance:document).querySelector(`[data-projection-id="${t}"]`);d&&e.mount(d,!0)}function sV(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function uV(e){sV(e.x),sV(e.y)}function a8(e,t,i){return e==="position"||e==="preserve-aspect"&&!KCe(eV(t),eV(i))}const dIe=o8({attachResizeListener:(e,t)=>G1(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),MA={current:void 0},fIe=o8({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!MA.current){const e=new dIe(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),MA.current=e}return MA.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),hIe={...$Te,...uTe,...hCe,...WCe},pIe=o1e((e,t)=>z1e(e,t,hIe,FCe,fIe));function s8(){const e=be.useRef(!1);return OS(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function gIe(){const e=s8(),[t,i]=be.useState(0),a=be.useCallback(()=>{e.current&&i(t+1)},[t]);return[be.useCallback(()=>rs.postRender(a),[a]),t]}class mIe extends be.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=i.offsetHeight||0,a.width=i.offsetWidth||0,a.top=i.offsetTop,a.left=i.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function vIe({children:e,isPresent:t}){const i=be.useId(),a=be.useRef(null),d=be.useRef({width:0,height:0,top:0,left:0});return be.useInsertionEffect(()=>{const{width:h,height:g,top:y,left:T}=d.current;if(t||!a.current||!h||!g)return;a.current.dataset.motionPopId=i;const C=document.createElement("style");return document.head.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${g}px !important;
            top: ${y}px !important;
            left: ${T}px !important;
          }
        `),()=>{document.head.removeChild(C)}},[t]),be.createElement(mIe,{isPresent:t,childRef:a,sizeRef:d},be.cloneElement(e,{ref:a}))}const WA=({children:e,initial:t,isPresent:i,onExitComplete:a,custom:d,presenceAffectsLayout:h,mode:g})=>{const y=j1(_Ie),T=be.useId(),C=be.useMemo(()=>({id:T,initial:t,isPresent:i,custom:d,onExitComplete:w=>{y.set(w,!0);for(const x of y.values())if(!x)return;a&&a()},register:w=>(y.set(w,!1),()=>y.delete(w))}),h?void 0:[i]);return be.useMemo(()=>{y.forEach((w,x)=>y.set(x,!1))},[i]),be.useEffect(()=>{!i&&!y.size&&a&&a()},[i]),g==="popLayout"&&(e=be.createElement(vIe,{isPresent:i},e)),be.createElement(Ah.Provider,{value:C},e)};function _Ie(){return new Map}const Ef=e=>e.key||"";function yIe(e,t){e.forEach(i=>{const a=Ef(i);t.set(a,i)})}function SIe(e){const t=[];return be.Children.forEach(e,i=>{be.isValidElement(i)&&t.push(i)}),t}const bIe=({children:e,custom:t,initial:i=!0,onExitComplete:a,exitBeforeEnter:d,presenceAffectsLayout:h=!0,mode:g="sync"})=>{d&&(g="wait",NH(!1,"Replace exitBeforeEnter with mode='wait'"));let[y]=gIe();const T=be.useContext(eD).forceRender;T&&(y=T);const C=s8(),w=SIe(e);let x=w;const F=new Set,N=be.useRef(x),E=be.useRef(new Map).current,W=be.useRef(!0);if(OS(()=>{W.current=!1,yIe(w,E),N.current=x}),uD(()=>{W.current=!0,E.clear(),F.clear()}),W.current)return be.createElement(be.Fragment,null,x.map(j=>be.createElement(WA,{key:Ef(j),isPresent:!0,initial:i?void 0:!1,presenceAffectsLayout:h,mode:g},j)));x=[...x];const O=N.current.map(Ef),R=w.map(Ef),D=O.length;for(let j=0;j<D;j++){const Y=O[j];R.indexOf(Y)===-1&&F.add(Y)}return g==="wait"&&F.size&&(x=[]),F.forEach(j=>{if(R.indexOf(j)!==-1)return;const Y=E.get(j);if(!Y)return;const de=O.indexOf(j),ne=()=>{E.delete(j),F.delete(j);const X=N.current.findIndex(ce=>ce.key===j);if(N.current.splice(X,1),!F.size){if(N.current=w,C.current===!1)return;y(),a&&a()}};x.splice(de,0,be.createElement(WA,{key:Ef(Y),isPresent:!1,onExitComplete:ne,custom:t,presenceAffectsLayout:h,mode:g},Y))}),x=x.map(j=>{const Y=j.key;return F.has(Y)?j:be.createElement(WA,{key:Ef(j),isPresent:!0,presenceAffectsLayout:h,mode:g},j)}),OH!=="production"&&g==="wait"&&x.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),be.createElement(be.Fragment,null,F.size?x:x.map(j=>be.cloneElement(j)))},TIe=(e,t)=>e.find(i=>i.id===t);function cV(e,t){const i=u8(e,t),a=i?e[i].findIndex(d=>d.id===t):-1;return{position:i,index:a}}function u8(e,t){for(const[i,a]of Object.entries(e))if(TIe(a,t))return i}function CIe(e){const t=e.includes("right"),i=e.includes("left");let a="center";return t&&(a="flex-end"),i&&(a="flex-start"),{display:"flex",flexDirection:"column",alignItems:a}}function IIe(e){const i=e==="top"||e==="bottom"?"0 auto":void 0,a=e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,d=e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,h=e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",g=e.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:i,top:a,bottom:d,right:h,left:g}}var wIe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,gP=Tz(function(e){return wIe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),EIe=gP,AIe=function(t){return t!=="theme"},lV=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?EIe:AIe},dV=function(t,i,a){var d;if(i){var h=i.shouldForwardProp;d=t.__emotion_forwardProp&&h?function(g){return t.__emotion_forwardProp(g)&&h(g)}:h}return typeof d!="function"&&a&&(d=t.__emotion_forwardProp),d},xIe=!1,PIe=function(t){var i=t.cache,a=t.serialized,d=t.isStringTag;return xz(i,a,d),xSe(function(){return Pz(i,a,d)}),null},kIe=function e(t,i){var a=t.__emotion_real===t,d=a&&t.__emotion_base||t,h,g;i!==void 0&&(h=i.label,g=i.target);var y=dV(t,i,a),T=y||lV(d),C=!T("as");return function(){var w=arguments,x=a&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(h!==void 0&&x.push("label:"+h+";"),w[0]==null||w[0].raw===void 0)x.push.apply(x,w);else{x.push(w[0][0]);for(var F=w.length,N=1;N<F;N++)x.push(w[N],w[0][N])}var E=Xk(function(W,O,R){var D=C&&W.as||d,j="",Y=[],de=W;if(W.theme==null){de={};for(var ne in W)de[ne]=W[ne];de.theme=be.useContext(Hm)}typeof W.className=="string"?j=ySe(O.registered,Y,W.className):W.className!=null&&(j=W.className+" ");var X=Qk(x.concat(Y),O.registered,de);j+=O.key+"-"+X.name,g!==void 0&&(j+=" "+g);var ce=C&&y===void 0?lV(D):T,he={};for(var le in W)C&&le==="as"||ce(le)&&(he[le]=W[le]);return he.className=j,R&&(he.ref=R),be.createElement(be.Fragment,null,be.createElement(PIe,{cache:O,serialized:X,isStringTag:typeof D=="string"}),be.createElement(D,he))});return E.displayName=h!==void 0?h:"Styled("+(typeof d=="string"?d:d.displayName||d.name||"Component")+")",E.defaultProps=t.defaultProps,E.__emotion_real=E,E.__emotion_base=d,E.__emotion_styles=x,E.__emotion_forwardProp=y,Object.defineProperty(E,"toString",{value:function(){return g===void 0&&xIe?"NO_COMPONENT_SELECTOR":"."+g}}),E.withComponent=function(W,O){return e(W,FS({},i,O,{shouldForwardProp:dV(E,O,!0)})).apply(void 0,x)},E}},DIe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],mP=kIe.bind();DIe.forEach(function(e){mP[e]=mP(e)});const RIe=new Set([...zhe({}),"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),FIe=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function OIe(e){return(FIe.has(e)||!RIe.has(e))&&e[0]!=="_"}const NIe=Xfe(mP),LIe=({baseStyle:e})=>t=>{const{theme:i,css:a,__css:d,sx:h,...g}=t,[y]=Zfe(g,i.__isStyleProp),T=Ws(e,t),C=Vfe({},d,T,Rk(y),h),w=tz(C)(t.theme);return a?[w,a]:w};function BA(e,t){const{baseStyle:i,...a}=t??{};a.shouldForwardProp||(a.shouldForwardProp=OIe);const d=LIe({baseStyle:i}),h=NIe(e,a)(d);return be.forwardRef(function(T,C){const{children:w,...x}=T,{colorMode:F,forced:N}=qk(),E=N?F:void 0;return be.createElement(h,{ref:C,"data-theme":E,...x},w)})}function MIe(){const e=new Map;return new Proxy(BA,{apply(t,i,a){return BA(...a)},get(t,i){return e.has(i)||e.set(i,BA(i)),e.get(i)}})}const ni=MIe(),WIe={initial:e=>{const{position:t}=e,i=["top","bottom"].includes(t)?"y":"x";let a=["top-right","bottom-right"].includes(t)?1:-1;return t==="bottom"&&(a=1),{opacity:0,[i]:a*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},c8=be.memo(e=>{const{id:t,message:i,onCloseComplete:a,onRequestRemove:d,requestClose:h=!1,position:g="bottom",duration:y=5e3,containerStyle:T,motionVariants:C=WIe,toastSpacing:w="0.5rem"}=e,[x,F]=be.useState(y),N=cTe();x3(()=>{N||a==null||a()},[N]),x3(()=>{F(y)},[y]);const E=()=>F(null),W=()=>F(y),O=()=>{N&&d()};be.useEffect(()=>{N&&h&&d()},[N,h,d]),ohe(O,x);const R=be.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:w,...T}),[T,w]),D=be.useMemo(()=>CIe(g),[g]);return Re.jsx(pIe.div,{layout:!0,className:"chakra-toast",variants:C,initial:"initial",animate:"animate",exit:"exit",onHoverStart:E,onHoverEnd:W,custom:{position:g},style:D,children:Re.jsx(ni.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:R,children:Ws(i,{id:t,onClose:O})})})});c8.displayName="ToastComponent";function Ys(e){return be.forwardRef(e)}var BIe=typeof Element<"u",UIe=typeof Map=="function",VIe=typeof Set=="function",jIe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Jy(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,a,d;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(a=i;a--!==0;)if(!Jy(e[a],t[a]))return!1;return!0}var h;if(UIe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(h=e.entries();!(a=h.next()).done;)if(!t.has(a.value[0]))return!1;for(h=e.entries();!(a=h.next()).done;)if(!Jy(a.value[1],t.get(a.value[0])))return!1;return!0}if(VIe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(h=e.entries();!(a=h.next()).done;)if(!t.has(a.value[0]))return!1;return!0}if(jIe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(i=e.length,i!=t.length)return!1;for(a=i;a--!==0;)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(d=Object.keys(e),i=d.length,i!==Object.keys(t).length)return!1;for(a=i;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,d[a]))return!1;if(BIe&&e instanceof Element)return!1;for(a=i;a--!==0;)if(!((d[a]==="_owner"||d[a]==="__v"||d[a]==="__o")&&e.$$typeof)&&!Jy(e[d[a]],t[d[a]]))return!1;return!0}return e!==e&&t!==t}var GIe=function(t,i){try{return Jy(t,i)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const zIe=n1(GIe);function HIe(){const e=be.useContext(Hm);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}function $Ie(){const e=qk(),t=HIe();return{...e,theme:t}}function l8(e,t={}){const{styleConfig:i,...a}=t,{theme:d,colorMode:h}=$Ie(),g=e?$G(d,`components.${e}`):void 0,y=i||g,T=Bs({theme:d,colorMode:h},(y==null?void 0:y.defaultProps)??{},Rk(KG(a,["children"])),(w,x)=>w?void 0:x),C=be.useRef({});if(y){const x=tpe(y)(T);zIe(C.current,x)||(C.current=x)}return C.current}function xh(e,t={}){return l8(e,t)}function KIe(e,t={}){return l8(e,t)}const fV={path:Re.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[Re.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),Re.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),Re.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},hv=Ys((e,t)=>{const{as:i,viewBox:a,color:d="currentColor",focusable:h=!1,children:g,className:y,__css:T,...C}=e,w=os("chakra-icon",y),x=xh("Icon",e),F={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:d,...T,...x},N={ref:t,focusable:h,className:w,__css:F},E=a??fV.viewBox;if(i&&typeof i!="string")return Re.jsx(ni.svg,{as:i,...N,...C});const W=g??fV.path;return Re.jsx(ni.svg,{verticalAlign:"middle",viewBox:E,...N,...C,children:W})});hv.displayName="Icon";function YIe(e){return Re.jsx(hv,{viewBox:"0 0 24 24",...e,children:Re.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function QIe(e){return Re.jsx(hv,{viewBox:"0 0 24 24",...e,children:Re.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function hV(e){return Re.jsx(hv,{viewBox:"0 0 24 24",...e,children:Re.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const XIe=FSe({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),CD=Ys((e,t)=>{const i=xh("Spinner",e),{label:a="Loading...",thickness:d="2px",speed:h="0.45s",emptyColor:g="transparent",className:y,...T}=wh(e),C=os("chakra-spinner",y),w={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:d,borderBottomColor:g,borderLeftColor:g,animation:`${XIe} ${h} linear infinite`,...i};return Re.jsx(ni.div,{ref:t,__css:w,className:C,...T,children:a&&Re.jsx(ni.span,{srOnly:!0,children:a})})});CD.displayName="Spinner";const[JIe,ID]=od({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[qIe,wD]=od({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),d8={info:{icon:QIe,colorScheme:"blue"},warning:{icon:hV,colorScheme:"orange"},success:{icon:YIe,colorScheme:"green"},error:{icon:hV,colorScheme:"red"},loading:{icon:CD,colorScheme:"blue"}};function ZIe(e){return d8[e].colorScheme}function ewe(e){return d8[e].icon}const f8=Ys(function(t,i){const{status:a="info",addRole:d=!0,...h}=wh(t),g=t.colorScheme??ZIe(a),y=KIe("Alert",{...t,colorScheme:g}),T={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...y.container};return Re.jsx(JIe,{value:{status:a},children:Re.jsx(qIe,{value:y,children:Re.jsx(ni.div,{"data-status":a,role:d?"alert":void 0,ref:i,...h,className:os("chakra-alert",t.className),__css:T})})})});f8.displayName="Alert";function h8(e){const{status:t}=ID(),i=ewe(t),a=wD(),d=t==="loading"?a.spinner:a.icon;return Re.jsx(ni.span,{display:"inherit","data-status":t,...e,className:os("chakra-alert__icon",e.className),__css:d,children:e.children||Re.jsx(i,{h:"100%",w:"100%"})})}h8.displayName="AlertIcon";const p8=Ys(function(t,i){const a=wD(),{status:d}=ID();return Re.jsx(ni.div,{ref:i,"data-status":d,...t,className:os("chakra-alert__title",t.className),__css:a.title})});p8.displayName="AlertTitle";const g8=Ys(function(t,i){const{status:a}=ID(),d=wD(),h={display:"inline",...d.description};return Re.jsx(ni.div,{ref:i,"data-status":a,...t,className:os("chakra-alert__desc",t.className),__css:h})});g8.displayName="AlertDescription";function twe(e){return Re.jsx(hv,{focusable:"false","aria-hidden":!0,...e,children:Re.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const m8=Ys(function(t,i){const a=xh("CloseButton",t),{children:d,isDisabled:h,__css:g,...y}=wh(t),T={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return Re.jsx(ni.button,{type:"button","aria-label":"Close",ref:i,disabled:h,__css:{...T,...a,...g},...y,children:d||Re.jsx(twe,{width:"1em",height:"1em"})})});m8.displayName="CloseButton";const rwe=e=>{const{status:t,variant:i="solid",id:a,title:d,isClosable:h,onClose:g,description:y,colorScheme:T,icon:C}=e,w=a?{root:`toast-${a}`,title:`toast-${a}-title`,description:`toast-${a}-description`}:void 0;return Re.jsxs(f8,{addRole:!1,status:t,variant:i,id:w==null?void 0:w.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:T,children:[Re.jsx(h8,{children:C}),Re.jsxs(ni.div,{flex:"1",maxWidth:"100%",children:[d&&Re.jsx(p8,{id:w==null?void 0:w.title,children:d}),y&&Re.jsx(g8,{id:w==null?void 0:w.description,display:"block",children:y})]}),h&&Re.jsx(m8,{size:"sm",onClick:g,position:"absolute",insetEnd:1,top:1})]})};function nwe(e={}){const{render:t,toastComponent:i=rwe}=e;return d=>typeof t=="function"?t({...d,...e}):Re.jsx(i,{...d,...e})}const iwe={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},vm=owe(iwe);function owe(e){let t=e;const i=new Set,a=d=>{t=d(t),i.forEach(h=>h())};return{getState:()=>t,subscribe:d=>(i.add(d),()=>{a(()=>e),i.delete(d)}),removeToast:(d,h)=>{a(g=>({...g,[h]:g[h].filter(y=>y.id!=d)}))},notify:(d,h)=>{const g=awe(d,h),{position:y,id:T}=g;return a(C=>{const x=y.includes("top")?[g,...C[y]??[]]:[...C[y]??[],g];return{...C,[y]:x}}),T},update:(d,h)=>{d&&a(g=>{const y={...g},{position:T,index:C}=cV(y,d);return T&&C!==-1&&(y[T][C]={...y[T][C],...h,message:nwe(h)}),y})},closeAll:({positions:d}={})=>{a(h=>(d??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((T,C)=>(T[C]=h[C].map(w=>({...w,requestClose:!0})),T),{...h}))},close:d=>{a(h=>{const g=u8(h,d);return g?{...h,[g]:h[g].map(y=>y.id==d?{...y,requestClose:!0}:y)}:h})},isActive:d=>!!cV(vm.getState(),d).position}}let pV=0;function awe(e,t={}){pV+=1;const i=t.id??pV,a=t.position??"bottom";return{id:i,message:e,position:a,duration:t.duration,onCloseComplete:t.onCloseComplete,onRequestRemove:()=>vm.removeToast(String(i),a),status:t.status,requestClose:!1,containerStyle:t.containerStyle}}const[v8,swe]=od({strict:!1,name:"PortalContext"}),ED="chakra-portal",uwe=".chakra-portal",cwe=e=>Re.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children}),lwe=e=>{const{appendToParentPortal:t,children:i}=e,[a,d]=be.useState(null),h=be.useRef(null),[,g]=be.useState({});be.useEffect(()=>g({}),[]);const y=swe(),T=HSe();Vx(()=>{if(!a)return;const w=a.ownerDocument,x=t?y??w.body:w.body;if(!x)return;h.current=w.createElement("div"),h.current.className=ED,x.appendChild(h.current),g({});const F=h.current;return()=>{x.contains(F)&&x.removeChild(F)}},[a]);const C=T!=null&&T.zIndex?Re.jsx(cwe,{zIndex:T==null?void 0:T.zIndex,children:i}):i;return h.current?kk.createPortal(Re.jsx(v8,{value:h.current,children:C}),h.current):Re.jsx("span",{ref:w=>{w&&d(w)}})},dwe=e=>{const{children:t,containerRef:i,appendToParentPortal:a}=e,d=i.current,h=d??(typeof window<"u"?document.body:void 0),g=be.useMemo(()=>{const T=d==null?void 0:d.ownerDocument.createElement("div");return T&&(T.className=ED),T},[d]),[,y]=be.useState({});return Vx(()=>y({}),[]),Vx(()=>{if(!(!g||!h))return h.appendChild(g),()=>{h.removeChild(g)}},[g,h]),h&&g?kk.createPortal(Re.jsx(v8,{value:a?g:null,children:t}),g):null};function K1(e){const t={appendToParentPortal:!0,...e},{containerRef:i,...a}=t;return i?Re.jsx(dwe,{containerRef:i,...a}):Re.jsx(lwe,{...a})}K1.className=ED;K1.selector=uwe;K1.displayName="Portal";const[fwe,xxe]=od({name:"ToastOptionsContext",strict:!1}),hwe=e=>{const t=be.useSyncExternalStore(vm.subscribe,vm.getState,vm.getState),{motionVariants:i,component:a=c8,portalProps:d,animatePresenceProps:h}=e,y=Object.keys(t).map(T=>{const C=t[T];return Re.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${T}`,id:`chakra-toast-manager-${T}`,style:IIe(T),children:Re.jsx(bIe,{...h,initial:!1,children:C.map(w=>Re.jsx(a,{motionVariants:i,...w},w.id))})},T)});return Re.jsx(K1,{...d,children:y})},pwe=e=>function({children:i,theme:a=e,toastOptions:d,...h}){return Re.jsxs($Se,{theme:a,...h,children:[Re.jsx(fwe,{value:d==null?void 0:d.defaultOptions,children:i}),Re.jsx(hwe,{...d})]})},gwe=pwe(Aye),[Pxe,mwe]=od({strict:!1,name:"ButtonGroupContext"});function Kg(e){const{children:t,className:i,...a}=e,d=be.isValidElement(t)?be.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,h=os("chakra-button__icon",i);return Re.jsx(ni.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...a,className:h,children:d})}Kg.displayName="ButtonIcon";function vP(e){const{label:t,placement:i,spacing:a="0.5rem",children:d=Re.jsx(CD,{color:"currentColor",width:"1em",height:"1em"}),className:h,__css:g,...y}=e,T=os("chakra-button__spinner",h),C=i==="start"?"marginEnd":"marginStart",w=be.useMemo(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[C]:t?a:0,fontSize:"1em",lineHeight:"normal",...g}),[g,t,C,a]);return Re.jsx(ni.div,{className:T,...y,__css:w,children:d})}vP.displayName="ButtonSpinner";function vwe(e){const[t,i]=be.useState(!e);return{ref:be.useCallback(h=>{h&&i(h.tagName==="BUTTON")},[]),type:t?"button":void 0}}const bu=Ys((e,t)=>{const i=mwe(),a=xh("Button",{...i,...e}),{isDisabled:d=i==null?void 0:i.isDisabled,isLoading:h,isActive:g,children:y,leftIcon:T,rightIcon:C,loadingText:w,iconSpacing:x="0.5rem",type:F,spinner:N,spinnerPlacement:E="start",className:W,as:O,shouldWrapChildren:R,...D}=wh(e),j=be.useMemo(()=>{const X={...a==null?void 0:a._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...a,...!!i&&{_focus:X}}},[a,i]),{ref:Y,type:de}=vwe(O),ne={rightIcon:C,leftIcon:T,iconSpacing:x,children:y,shouldWrapChildren:R};return Re.jsxs(ni.button,{disabled:d||h,ref:ihe(t,Y),as:O,type:F??de,"data-active":I3(g),"data-loading":I3(h),__css:j,className:os("chakra-button",W),...D,children:[h&&E==="start"&&Re.jsx(vP,{className:"chakra-button__spinner--start",label:w,placement:"start",spacing:x,children:N}),h?w||Re.jsx(ni.span,{opacity:0,children:Re.jsx(gV,{...ne})}):Re.jsx(gV,{...ne}),h&&E==="end"&&Re.jsx(vP,{className:"chakra-button__spinner--end",label:w,placement:"end",spacing:x,children:N})]})});bu.displayName="Button";function gV(e){const{leftIcon:t,rightIcon:i,children:a,iconSpacing:d,shouldWrapChildren:h}=e;return h?Re.jsxs("span",{style:{display:"contents"},children:[t&&Re.jsx(Kg,{marginEnd:d,children:t}),a,i&&Re.jsx(Kg,{marginStart:d,children:i})]}):Re.jsxs(Re.Fragment,{children:[t&&Re.jsx(Kg,{marginEnd:d,children:t}),a,i&&Re.jsx(Kg,{marginStart:d,children:i})]})}const qa=Ys(function(t,i){const{direction:a,align:d,justify:h,wrap:g,basis:y,grow:T,shrink:C,...w}=t,x={display:"flex",flexDirection:a,alignItems:d,justifyContent:h,flexWrap:g,flexBasis:y,flexGrow:T,flexShrink:C};return Re.jsx(ni.div,{ref:i,__css:x,...w})});qa.displayName="Flex";const _8=Ys(function(t,i){const a=xh("Link",t),{className:d,isExternal:h,...g}=wh(t);return Re.jsx(ni.a,{target:h?"_blank":void 0,rel:h?"noopener":void 0,ref:i,className:os("chakra-link",d),...g,__css:a})});_8.displayName="Link";const Af=Ys(function(t,i){const a=xh("Text",t),{className:d,align:h,decoration:g,casing:y,...T}=wh(t),C=Rk({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return Re.jsx(ni.p,{ref:i,className:os("chakra-text",t.className),...C,...T,__css:a})});Af.displayName="Text";function y8(e,t){return function(){return e.apply(t,arguments)}}const{toString:_we}=Object.prototype,{getPrototypeOf:AD}=Object,Y1=(e=>t=>{const i=_we.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),as=e=>(e=e.toLowerCase(),t=>Y1(t)===e),Q1=e=>t=>typeof t===e,{isArray:Ph}=Array,Jm=Q1("undefined");function ywe(e){return e!==null&&!Jm(e)&&e.constructor!==null&&!Jm(e.constructor)&&zo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const S8=as("ArrayBuffer");function Swe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&S8(e.buffer),t}const bwe=Q1("string"),zo=Q1("function"),b8=Q1("number"),X1=e=>e!==null&&typeof e=="object",Twe=e=>e===!0||e===!1,qy=e=>{if(Y1(e)!=="object")return!1;const t=AD(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Cwe=as("Date"),Iwe=as("File"),wwe=as("Blob"),Ewe=as("FileList"),Awe=e=>X1(e)&&zo(e.pipe),xwe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||zo(e.append)&&((t=Y1(e))==="formdata"||t==="object"&&zo(e.toString)&&e.toString()==="[object FormData]"))},Pwe=as("URLSearchParams"),[kwe,Dwe,Rwe,Fwe]=["ReadableStream","Request","Response","Headers"].map(as),Owe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pv(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let a,d;if(typeof e!="object"&&(e=[e]),Ph(e))for(a=0,d=e.length;a<d;a++)t.call(null,e[a],a,e);else{const h=i?Object.getOwnPropertyNames(e):Object.keys(e),g=h.length;let y;for(a=0;a<g;a++)y=h[a],t.call(null,e[y],y,e)}}function T8(e,t){t=t.toLowerCase();const i=Object.keys(e);let a=i.length,d;for(;a-- >0;)if(d=i[a],t===d.toLowerCase())return d;return null}const zl=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),C8=e=>!Jm(e)&&e!==zl;function _P(){const{caseless:e}=C8(this)&&this||{},t={},i=(a,d)=>{const h=e&&T8(t,d)||d;qy(t[h])&&qy(a)?t[h]=_P(t[h],a):qy(a)?t[h]=_P({},a):Ph(a)?t[h]=a.slice():t[h]=a};for(let a=0,d=arguments.length;a<d;a++)arguments[a]&&pv(arguments[a],i);return t}const Nwe=(e,t,i,{allOwnKeys:a}={})=>(pv(t,(d,h)=>{i&&zo(d)?e[h]=y8(d,i):e[h]=d},{allOwnKeys:a}),e),Lwe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Mwe=(e,t,i,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},Wwe=(e,t,i,a)=>{let d,h,g;const y={};if(t=t||{},e==null)return t;do{for(d=Object.getOwnPropertyNames(e),h=d.length;h-- >0;)g=d[h],(!a||a(g,e,t))&&!y[g]&&(t[g]=e[g],y[g]=!0);e=i!==!1&&AD(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},Bwe=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const a=e.indexOf(t,i);return a!==-1&&a===i},Uwe=e=>{if(!e)return null;if(Ph(e))return e;let t=e.length;if(!b8(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},Vwe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&AD(Uint8Array)),jwe=(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let d;for(;(d=a.next())&&!d.done;){const h=d.value;t.call(e,h[0],h[1])}},Gwe=(e,t)=>{let i;const a=[];for(;(i=e.exec(t))!==null;)a.push(i);return a},zwe=as("HTMLFormElement"),Hwe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,a,d){return a.toUpperCase()+d}),mV=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),$we=as("RegExp"),I8=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),a={};pv(i,(d,h)=>{let g;(g=t(d,h,e))!==!1&&(a[h]=g||d)}),Object.defineProperties(e,a)},Kwe=e=>{I8(e,(t,i)=>{if(zo(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const a=e[i];if(zo(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Ywe=(e,t)=>{const i={},a=d=>{d.forEach(h=>{i[h]=!0})};return Ph(e)?a(e):a(String(e).split(t)),i},Qwe=()=>{},Xwe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,UA="abcdefghijklmnopqrstuvwxyz",vV="0123456789",w8={DIGIT:vV,ALPHA:UA,ALPHA_DIGIT:UA+UA.toUpperCase()+vV},Jwe=(e=16,t=w8.ALPHA_DIGIT)=>{let i="";const{length:a}=t;for(;e--;)i+=t[Math.random()*a|0];return i};function qwe(e){return!!(e&&zo(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Zwe=e=>{const t=new Array(10),i=(a,d)=>{if(X1(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[d]=a;const h=Ph(a)?[]:{};return pv(a,(g,y)=>{const T=i(g,d+1);!Jm(T)&&(h[y]=T)}),t[d]=void 0,h}}return a};return i(e,0)},eEe=as("AsyncFunction"),tEe=e=>e&&(X1(e)||zo(e))&&zo(e.then)&&zo(e.catch),E8=((e,t)=>e?setImmediate:t?((i,a)=>(zl.addEventListener("message",({source:d,data:h})=>{d===zl&&h===i&&a.length&&a.shift()()},!1),d=>{a.push(d),zl.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",zo(zl.postMessage)),rEe=typeof queueMicrotask<"u"?queueMicrotask.bind(zl):typeof process<"u"&&process.nextTick||E8,$e={isArray:Ph,isArrayBuffer:S8,isBuffer:ywe,isFormData:xwe,isArrayBufferView:Swe,isString:bwe,isNumber:b8,isBoolean:Twe,isObject:X1,isPlainObject:qy,isReadableStream:kwe,isRequest:Dwe,isResponse:Rwe,isHeaders:Fwe,isUndefined:Jm,isDate:Cwe,isFile:Iwe,isBlob:wwe,isRegExp:$we,isFunction:zo,isStream:Awe,isURLSearchParams:Pwe,isTypedArray:Vwe,isFileList:Ewe,forEach:pv,merge:_P,extend:Nwe,trim:Owe,stripBOM:Lwe,inherits:Mwe,toFlatObject:Wwe,kindOf:Y1,kindOfTest:as,endsWith:Bwe,toArray:Uwe,forEachEntry:jwe,matchAll:Gwe,isHTMLForm:zwe,hasOwnProperty:mV,hasOwnProp:mV,reduceDescriptors:I8,freezeMethods:Kwe,toObjectSet:Ywe,toCamelCase:Hwe,noop:Qwe,toFiniteNumber:Xwe,findKey:T8,global:zl,isContextDefined:C8,ALPHABET:w8,generateString:Jwe,isSpecCompliantForm:qwe,toJSONObject:Zwe,isAsyncFn:eEe,isThenable:tEe,setImmediate:E8,asap:rEe};function Yt(e,t,i,a,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),a&&(this.request=a),d&&(this.response=d,this.status=d.status?d.status:null)}$e.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$e.toJSONObject(this.config),code:this.code,status:this.status}}});const A8=Yt.prototype,x8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{x8[e]={value:e}});Object.defineProperties(Yt,x8);Object.defineProperty(A8,"isAxiosError",{value:!0});Yt.from=(e,t,i,a,d,h)=>{const g=Object.create(A8);return $e.toFlatObject(e,g,function(T){return T!==Error.prototype},y=>y!=="isAxiosError"),Yt.call(g,e.message,t,i,a,d),g.cause=e,g.name=e.name,h&&Object.assign(g,h),g};const nEe=null;function yP(e){return $e.isPlainObject(e)||$e.isArray(e)}function P8(e){return $e.endsWith(e,"[]")?e.slice(0,-2):e}function _V(e,t,i){return e?e.concat(t).map(function(d,h){return d=P8(d),!i&&h?"["+d+"]":d}).join(i?".":""):t}function iEe(e){return $e.isArray(e)&&!e.some(yP)}const oEe=$e.toFlatObject($e,{},null,function(t){return/^is[A-Z]/.test(t)});function J1(e,t,i){if(!$e.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=$e.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(W,O){return!$e.isUndefined(O[W])});const a=i.metaTokens,d=i.visitor||w,h=i.dots,g=i.indexes,T=(i.Blob||typeof Blob<"u"&&Blob)&&$e.isSpecCompliantForm(t);if(!$e.isFunction(d))throw new TypeError("visitor must be a function");function C(E){if(E===null)return"";if($e.isDate(E))return E.toISOString();if(!T&&$e.isBlob(E))throw new Yt("Blob is not supported. Use a Buffer instead.");return $e.isArrayBuffer(E)||$e.isTypedArray(E)?T&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function w(E,W,O){let R=E;if(E&&!O&&typeof E=="object"){if($e.endsWith(W,"{}"))W=a?W:W.slice(0,-2),E=JSON.stringify(E);else if($e.isArray(E)&&iEe(E)||($e.isFileList(E)||$e.endsWith(W,"[]"))&&(R=$e.toArray(E)))return W=P8(W),R.forEach(function(j,Y){!($e.isUndefined(j)||j===null)&&t.append(g===!0?_V([W],Y,h):g===null?W:W+"[]",C(j))}),!1}return yP(E)?!0:(t.append(_V(O,W,h),C(E)),!1)}const x=[],F=Object.assign(oEe,{defaultVisitor:w,convertValue:C,isVisitable:yP});function N(E,W){if(!$e.isUndefined(E)){if(x.indexOf(E)!==-1)throw Error("Circular reference detected in "+W.join("."));x.push(E),$e.forEach(E,function(R,D){(!($e.isUndefined(R)||R===null)&&d.call(t,R,$e.isString(D)?D.trim():D,W,F))===!0&&N(R,W?W.concat(D):[D])}),x.pop()}}if(!$e.isObject(e))throw new TypeError("data must be an object");return N(e),t}function yV(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function xD(e,t){this._pairs=[],e&&J1(e,this,t)}const k8=xD.prototype;k8.append=function(t,i){this._pairs.push([t,i])};k8.toString=function(t){const i=t?function(a){return t.call(this,a,yV)}:yV;return this._pairs.map(function(d){return i(d[0])+"="+i(d[1])},"").join("&")};function aEe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function D8(e,t,i){if(!t)return e;const a=i&&i.encode||aEe,d=i&&i.serialize;let h;if(d?h=d(t,i):h=$e.isURLSearchParams(t)?t.toString():new xD(t,i).toString(a),h){const g=e.indexOf("#");g!==-1&&(e=e.slice(0,g)),e+=(e.indexOf("?")===-1?"?":"&")+h}return e}class sEe{constructor(){this.handlers=[]}use(t,i,a){return this.handlers.push({fulfilled:t,rejected:i,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$e.forEach(this.handlers,function(a){a!==null&&t(a)})}}const SV=sEe,R8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uEe=typeof URLSearchParams<"u"?URLSearchParams:xD,cEe=typeof FormData<"u"?FormData:null,lEe=typeof Blob<"u"?Blob:null,dEe={isBrowser:!0,classes:{URLSearchParams:uEe,FormData:cEe,Blob:lEe},protocols:["http","https","file","blob","url","data"]},PD=typeof window<"u"&&typeof document<"u",SP=typeof navigator=="object"&&navigator||void 0,fEe=PD&&(!SP||["ReactNative","NativeScript","NS"].indexOf(SP.product)<0),hEe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),pEe=PD&&window.location.href||"http://localhost",gEe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:PD,hasStandardBrowserEnv:fEe,hasStandardBrowserWebWorkerEnv:hEe,navigator:SP,origin:pEe},Symbol.toStringTag,{value:"Module"})),Co={...gEe,...dEe};function mEe(e,t){return J1(e,new Co.classes.URLSearchParams,Object.assign({visitor:function(i,a,d,h){return Co.isNode&&$e.isBuffer(i)?(this.append(a,i.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},t))}function vEe(e){return $e.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function _Ee(e){const t={},i=Object.keys(e);let a;const d=i.length;let h;for(a=0;a<d;a++)h=i[a],t[h]=e[h];return t}function F8(e){function t(i,a,d,h){let g=i[h++];if(g==="__proto__")return!0;const y=Number.isFinite(+g),T=h>=i.length;return g=!g&&$e.isArray(d)?d.length:g,T?($e.hasOwnProp(d,g)?d[g]=[d[g],a]:d[g]=a,!y):((!d[g]||!$e.isObject(d[g]))&&(d[g]=[]),t(i,a,d[g],h)&&$e.isArray(d[g])&&(d[g]=_Ee(d[g])),!y)}if($e.isFormData(e)&&$e.isFunction(e.entries)){const i={};return $e.forEachEntry(e,(a,d)=>{t(vEe(a),d,i,0)}),i}return null}function yEe(e,t,i){if($e.isString(e))try{return(t||JSON.parse)(e),$e.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(i||JSON.stringify)(e)}const kD={transitional:R8,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const a=i.getContentType()||"",d=a.indexOf("application/json")>-1,h=$e.isObject(t);if(h&&$e.isHTMLForm(t)&&(t=new FormData(t)),$e.isFormData(t))return d?JSON.stringify(F8(t)):t;if($e.isArrayBuffer(t)||$e.isBuffer(t)||$e.isStream(t)||$e.isFile(t)||$e.isBlob(t)||$e.isReadableStream(t))return t;if($e.isArrayBufferView(t))return t.buffer;if($e.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let y;if(h){if(a.indexOf("application/x-www-form-urlencoded")>-1)return mEe(t,this.formSerializer).toString();if((y=$e.isFileList(t))||a.indexOf("multipart/form-data")>-1){const T=this.env&&this.env.FormData;return J1(y?{"files[]":t}:t,T&&new T,this.formSerializer)}}return h||d?(i.setContentType("application/json",!1),yEe(t)):t}],transformResponse:[function(t){const i=this.transitional||kD.transitional,a=i&&i.forcedJSONParsing,d=this.responseType==="json";if($e.isResponse(t)||$e.isReadableStream(t))return t;if(t&&$e.isString(t)&&(a&&!this.responseType||d)){const g=!(i&&i.silentJSONParsing)&&d;try{return JSON.parse(t)}catch(y){if(g)throw y.name==="SyntaxError"?Yt.from(y,Yt.ERR_BAD_RESPONSE,this,null,this.response):y}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Co.classes.FormData,Blob:Co.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$e.forEach(["delete","get","head","post","put","patch"],e=>{kD.headers[e]={}});const DD=kD,SEe=$e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bEe=e=>{const t={};let i,a,d;return e&&e.split(`
`).forEach(function(g){d=g.indexOf(":"),i=g.substring(0,d).trim().toLowerCase(),a=g.substring(d+1).trim(),!(!i||t[i]&&SEe[i])&&(i==="set-cookie"?t[i]?t[i].push(a):t[i]=[a]:t[i]=t[i]?t[i]+", "+a:a)}),t},bV=Symbol("internals");function Lg(e){return e&&String(e).trim().toLowerCase()}function Zy(e){return e===!1||e==null?e:$e.isArray(e)?e.map(Zy):String(e)}function TEe(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=i.exec(e);)t[a[1]]=a[2];return t}const CEe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function VA(e,t,i,a,d){if($e.isFunction(a))return a.call(this,t,i);if(d&&(t=i),!!$e.isString(t)){if($e.isString(a))return t.indexOf(a)!==-1;if($e.isRegExp(a))return a.test(t)}}function IEe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,a)=>i.toUpperCase()+a)}function wEe(e,t){const i=$e.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+i,{value:function(d,h,g){return this[a].call(this,t,d,h,g)},configurable:!0})})}class q1{constructor(t){t&&this.set(t)}set(t,i,a){const d=this;function h(y,T,C){const w=Lg(T);if(!w)throw new Error("header name must be a non-empty string");const x=$e.findKey(d,w);(!x||d[x]===void 0||C===!0||C===void 0&&d[x]!==!1)&&(d[x||T]=Zy(y))}const g=(y,T)=>$e.forEach(y,(C,w)=>h(C,w,T));if($e.isPlainObject(t)||t instanceof this.constructor)g(t,i);else if($e.isString(t)&&(t=t.trim())&&!CEe(t))g(bEe(t),i);else if($e.isHeaders(t))for(const[y,T]of t.entries())h(T,y,a);else t!=null&&h(i,t,a);return this}get(t,i){if(t=Lg(t),t){const a=$e.findKey(this,t);if(a){const d=this[a];if(!i)return d;if(i===!0)return TEe(d);if($e.isFunction(i))return i.call(this,d,a);if($e.isRegExp(i))return i.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Lg(t),t){const a=$e.findKey(this,t);return!!(a&&this[a]!==void 0&&(!i||VA(this,this[a],a,i)))}return!1}delete(t,i){const a=this;let d=!1;function h(g){if(g=Lg(g),g){const y=$e.findKey(a,g);y&&(!i||VA(a,a[y],y,i))&&(delete a[y],d=!0)}}return $e.isArray(t)?t.forEach(h):h(t),d}clear(t){const i=Object.keys(this);let a=i.length,d=!1;for(;a--;){const h=i[a];(!t||VA(this,this[h],h,t,!0))&&(delete this[h],d=!0)}return d}normalize(t){const i=this,a={};return $e.forEach(this,(d,h)=>{const g=$e.findKey(a,h);if(g){i[g]=Zy(d),delete i[h];return}const y=t?IEe(h):String(h).trim();y!==h&&delete i[h],i[y]=Zy(d),a[y]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return $e.forEach(this,(a,d)=>{a!=null&&a!==!1&&(i[d]=t&&$e.isArray(a)?a.join(", "):a)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const a=new this(t);return i.forEach(d=>a.set(d)),a}static accessor(t){const a=(this[bV]=this[bV]={accessors:{}}).accessors,d=this.prototype;function h(g){const y=Lg(g);a[y]||(wEe(d,g),a[y]=!0)}return $e.isArray(t)?t.forEach(h):h(t),this}}q1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$e.reduceDescriptors(q1.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[i]=a}}});$e.freezeMethods(q1);const ns=q1;function jA(e,t){const i=this||DD,a=t||i,d=ns.from(a.headers);let h=a.data;return $e.forEach(e,function(y){h=y.call(i,h,d.normalize(),t?t.status:void 0)}),d.normalize(),h}function O8(e){return!!(e&&e.__CANCEL__)}function kh(e,t,i){Yt.call(this,e??"canceled",Yt.ERR_CANCELED,t,i),this.name="CanceledError"}$e.inherits(kh,Yt,{__CANCEL__:!0});function N8(e,t,i){const a=i.config.validateStatus;!i.status||!a||a(i.status)?e(i):t(new Yt("Request failed with status code "+i.status,[Yt.ERR_BAD_REQUEST,Yt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function EEe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function AEe(e,t){e=e||10;const i=new Array(e),a=new Array(e);let d=0,h=0,g;return t=t!==void 0?t:1e3,function(T){const C=Date.now(),w=a[h];g||(g=C),i[d]=T,a[d]=C;let x=h,F=0;for(;x!==d;)F+=i[x++],x=x%e;if(d=(d+1)%e,d===h&&(h=(h+1)%e),C-g<t)return;const N=w&&C-w;return N?Math.round(F*1e3/N):void 0}}function xEe(e,t){let i=0,a=1e3/t,d,h;const g=(C,w=Date.now())=>{i=w,d=null,h&&(clearTimeout(h),h=null),e.apply(null,C)};return[(...C)=>{const w=Date.now(),x=w-i;x>=a?g(C,w):(d=C,h||(h=setTimeout(()=>{h=null,g(d)},a-x)))},()=>d&&g(d)]}const $S=(e,t,i=3)=>{let a=0;const d=AEe(50,250);return xEe(h=>{const g=h.loaded,y=h.lengthComputable?h.total:void 0,T=g-a,C=d(T),w=g<=y;a=g;const x={loaded:g,total:y,progress:y?g/y:void 0,bytes:T,rate:C||void 0,estimated:C&&y&&w?(y-g)/C:void 0,event:h,lengthComputable:y!=null,[t?"download":"upload"]:!0};e(x)},i)},TV=(e,t)=>{const i=e!=null;return[a=>t[0]({lengthComputable:i,total:e,loaded:a}),t[1]]},CV=e=>(...t)=>$e.asap(()=>e(...t)),PEe=Co.hasStandardBrowserEnv?function(){const t=Co.navigator&&/(msie|trident)/i.test(Co.navigator.userAgent),i=document.createElement("a");let a;function d(h){let g=h;return t&&(i.setAttribute("href",g),g=i.href),i.setAttribute("href",g),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return a=d(window.location.href),function(g){const y=$e.isString(g)?d(g):g;return y.protocol===a.protocol&&y.host===a.host}}():function(){return function(){return!0}}(),kEe=Co.hasStandardBrowserEnv?{write(e,t,i,a,d,h){const g=[e+"="+encodeURIComponent(t)];$e.isNumber(i)&&g.push("expires="+new Date(i).toGMTString()),$e.isString(a)&&g.push("path="+a),$e.isString(d)&&g.push("domain="+d),h===!0&&g.push("secure"),document.cookie=g.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function DEe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function REe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function L8(e,t){return e&&!DEe(t)?REe(e,t):t}const IV=e=>e instanceof ns?{...e}:e;function rd(e,t){t=t||{};const i={};function a(C,w,x){return $e.isPlainObject(C)&&$e.isPlainObject(w)?$e.merge.call({caseless:x},C,w):$e.isPlainObject(w)?$e.merge({},w):$e.isArray(w)?w.slice():w}function d(C,w,x){if($e.isUndefined(w)){if(!$e.isUndefined(C))return a(void 0,C,x)}else return a(C,w,x)}function h(C,w){if(!$e.isUndefined(w))return a(void 0,w)}function g(C,w){if($e.isUndefined(w)){if(!$e.isUndefined(C))return a(void 0,C)}else return a(void 0,w)}function y(C,w,x){if(x in t)return a(C,w);if(x in e)return a(void 0,C)}const T={url:h,method:h,data:h,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:y,headers:(C,w)=>d(IV(C),IV(w),!0)};return $e.forEach(Object.keys(Object.assign({},e,t)),function(w){const x=T[w]||d,F=x(e[w],t[w],w);$e.isUndefined(F)&&x!==y||(i[w]=F)}),i}const M8=e=>{const t=rd({},e);let{data:i,withXSRFToken:a,xsrfHeaderName:d,xsrfCookieName:h,headers:g,auth:y}=t;t.headers=g=ns.from(g),t.url=D8(L8(t.baseURL,t.url),e.params,e.paramsSerializer),y&&g.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):"")));let T;if($e.isFormData(i)){if(Co.hasStandardBrowserEnv||Co.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if((T=g.getContentType())!==!1){const[C,...w]=T?T.split(";").map(x=>x.trim()).filter(Boolean):[];g.setContentType([C||"multipart/form-data",...w].join("; "))}}if(Co.hasStandardBrowserEnv&&(a&&$e.isFunction(a)&&(a=a(t)),a||a!==!1&&PEe(t.url))){const C=d&&h&&kEe.read(h);C&&g.set(d,C)}return t},FEe=typeof XMLHttpRequest<"u",OEe=FEe&&function(e){return new Promise(function(i,a){const d=M8(e);let h=d.data;const g=ns.from(d.headers).normalize();let{responseType:y,onUploadProgress:T,onDownloadProgress:C}=d,w,x,F,N,E;function W(){N&&N(),E&&E(),d.cancelToken&&d.cancelToken.unsubscribe(w),d.signal&&d.signal.removeEventListener("abort",w)}let O=new XMLHttpRequest;O.open(d.method.toUpperCase(),d.url,!0),O.timeout=d.timeout;function R(){if(!O)return;const j=ns.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),de={data:!y||y==="text"||y==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:j,config:e,request:O};N8(function(X){i(X),W()},function(X){a(X),W()},de),O=null}"onloadend"in O?O.onloadend=R:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(R)},O.onabort=function(){O&&(a(new Yt("Request aborted",Yt.ECONNABORTED,e,O)),O=null)},O.onerror=function(){a(new Yt("Network Error",Yt.ERR_NETWORK,e,O)),O=null},O.ontimeout=function(){let Y=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const de=d.transitional||R8;d.timeoutErrorMessage&&(Y=d.timeoutErrorMessage),a(new Yt(Y,de.clarifyTimeoutError?Yt.ETIMEDOUT:Yt.ECONNABORTED,e,O)),O=null},h===void 0&&g.setContentType(null),"setRequestHeader"in O&&$e.forEach(g.toJSON(),function(Y,de){O.setRequestHeader(de,Y)}),$e.isUndefined(d.withCredentials)||(O.withCredentials=!!d.withCredentials),y&&y!=="json"&&(O.responseType=d.responseType),C&&([F,E]=$S(C,!0),O.addEventListener("progress",F)),T&&O.upload&&([x,N]=$S(T),O.upload.addEventListener("progress",x),O.upload.addEventListener("loadend",N)),(d.cancelToken||d.signal)&&(w=j=>{O&&(a(!j||j.type?new kh(null,e,O):j),O.abort(),O=null)},d.cancelToken&&d.cancelToken.subscribe(w),d.signal&&(d.signal.aborted?w():d.signal.addEventListener("abort",w)));const D=EEe(d.url);if(D&&Co.protocols.indexOf(D)===-1){a(new Yt("Unsupported protocol "+D+":",Yt.ERR_BAD_REQUEST,e));return}O.send(h||null)})},NEe=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let a=new AbortController,d;const h=function(C){if(!d){d=!0,y();const w=C instanceof Error?C:this.reason;a.abort(w instanceof Yt?w:new kh(w instanceof Error?w.message:w))}};let g=t&&setTimeout(()=>{g=null,h(new Yt(`timeout ${t} of ms exceeded`,Yt.ETIMEDOUT))},t);const y=()=>{e&&(g&&clearTimeout(g),g=null,e.forEach(C=>{C.unsubscribe?C.unsubscribe(h):C.removeEventListener("abort",h)}),e=null)};e.forEach(C=>C.addEventListener("abort",h));const{signal:T}=a;return T.unsubscribe=()=>$e.asap(y),T}},LEe=NEe,MEe=function*(e,t){let i=e.byteLength;if(!t||i<t){yield e;return}let a=0,d;for(;a<i;)d=a+t,yield e.slice(a,d),a=d},WEe=async function*(e,t){for await(const i of BEe(e))yield*MEe(i,t)},BEe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:a}=await t.read();if(i)break;yield a}}finally{await t.cancel()}},wV=(e,t,i,a)=>{const d=WEe(e,t);let h=0,g,y=T=>{g||(g=!0,a&&a(T))};return new ReadableStream({async pull(T){try{const{done:C,value:w}=await d.next();if(C){y(),T.close();return}let x=w.byteLength;if(i){let F=h+=x;i(F)}T.enqueue(new Uint8Array(w))}catch(C){throw y(C),C}},cancel(T){return y(T),d.return()}},{highWaterMark:2})},Z1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",W8=Z1&&typeof ReadableStream=="function",UEe=Z1&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),B8=(e,...t)=>{try{return!!e(...t)}catch{return!1}},VEe=W8&&B8(()=>{let e=!1;const t=new Request(Co.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),EV=64*1024,bP=W8&&B8(()=>$e.isReadableStream(new Response("").body)),KS={stream:bP&&(e=>e.body)};Z1&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!KS[t]&&(KS[t]=$e.isFunction(e[t])?i=>i[t]():(i,a)=>{throw new Yt(`Response type '${t}' is not supported`,Yt.ERR_NOT_SUPPORT,a)})})})(new Response);const jEe=async e=>{if(e==null)return 0;if($e.isBlob(e))return e.size;if($e.isSpecCompliantForm(e))return(await new Request(Co.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if($e.isArrayBufferView(e)||$e.isArrayBuffer(e))return e.byteLength;if($e.isURLSearchParams(e)&&(e=e+""),$e.isString(e))return(await UEe(e)).byteLength},GEe=async(e,t)=>{const i=$e.toFiniteNumber(e.getContentLength());return i??jEe(t)},zEe=Z1&&(async e=>{let{url:t,method:i,data:a,signal:d,cancelToken:h,timeout:g,onDownloadProgress:y,onUploadProgress:T,responseType:C,headers:w,withCredentials:x="same-origin",fetchOptions:F}=M8(e);C=C?(C+"").toLowerCase():"text";let N=LEe([d,h&&h.toAbortSignal()],g),E;const W=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let O;try{if(T&&VEe&&i!=="get"&&i!=="head"&&(O=await GEe(w,a))!==0){let de=new Request(t,{method:"POST",body:a,duplex:"half"}),ne;if($e.isFormData(a)&&(ne=de.headers.get("content-type"))&&w.setContentType(ne),de.body){const[X,ce]=TV(O,$S(CV(T)));a=wV(de.body,EV,X,ce)}}$e.isString(x)||(x=x?"include":"omit");const R="credentials"in Request.prototype;E=new Request(t,{...F,signal:N,method:i.toUpperCase(),headers:w.normalize().toJSON(),body:a,duplex:"half",credentials:R?x:void 0});let D=await fetch(E);const j=bP&&(C==="stream"||C==="response");if(bP&&(y||j&&W)){const de={};["status","statusText","headers"].forEach(he=>{de[he]=D[he]});const ne=$e.toFiniteNumber(D.headers.get("content-length")),[X,ce]=y&&TV(ne,$S(CV(y),!0))||[];D=new Response(wV(D.body,EV,X,()=>{ce&&ce(),W&&W()}),de)}C=C||"text";let Y=await KS[$e.findKey(KS,C)||"text"](D,e);return!j&&W&&W(),await new Promise((de,ne)=>{N8(de,ne,{data:Y,headers:ns.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:E})})}catch(R){throw W&&W(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new Yt("Network Error",Yt.ERR_NETWORK,e,E),{cause:R.cause||R}):Yt.from(R,R&&R.code,e,E)}}),TP={http:nEe,xhr:OEe,fetch:zEe};$e.forEach(TP,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const AV=e=>`- ${e}`,HEe=e=>$e.isFunction(e)||e===null||e===!1,U8={getAdapter:e=>{e=$e.isArray(e)?e:[e];const{length:t}=e;let i,a;const d={};for(let h=0;h<t;h++){i=e[h];let g;if(a=i,!HEe(i)&&(a=TP[(g=String(i)).toLowerCase()],a===void 0))throw new Yt(`Unknown adapter '${g}'`);if(a)break;d[g||"#"+h]=a}if(!a){const h=Object.entries(d).map(([y,T])=>`adapter ${y} `+(T===!1?"is not supported by the environment":"is not available in the build"));let g=t?h.length>1?`since :
`+h.map(AV).join(`
`):" "+AV(h[0]):"as no adapter specified";throw new Yt("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return a},adapters:TP};function GA(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kh(null,e)}function xV(e){return GA(e),e.headers=ns.from(e.headers),e.data=jA.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),U8.getAdapter(e.adapter||DD.adapter)(e).then(function(a){return GA(e),a.data=jA.call(e,e.transformResponse,a),a.headers=ns.from(a.headers),a},function(a){return O8(a)||(GA(e),a&&a.response&&(a.response.data=jA.call(e,e.transformResponse,a.response),a.response.headers=ns.from(a.response.headers))),Promise.reject(a)})}const V8="1.7.7",RD={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{RD[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const PV={};RD.transitional=function(t,i,a){function d(h,g){return"[Axios v"+V8+"] Transitional option '"+h+"'"+g+(a?". "+a:"")}return(h,g,y)=>{if(t===!1)throw new Yt(d(g," has been removed"+(i?" in "+i:"")),Yt.ERR_DEPRECATED);return i&&!PV[g]&&(PV[g]=!0,console.warn(d(g," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(h,g,y):!0}};function $Ee(e,t,i){if(typeof e!="object")throw new Yt("options must be an object",Yt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let d=a.length;for(;d-- >0;){const h=a[d],g=t[h];if(g){const y=e[h],T=y===void 0||g(y,h,e);if(T!==!0)throw new Yt("option "+h+" must be "+T,Yt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Yt("Unknown option "+h,Yt.ERR_BAD_OPTION)}}const CP={assertOptions:$Ee,validators:RD},Tc=CP.validators;class YS{constructor(t){this.defaults=t,this.interceptors={request:new SV,response:new SV}}async request(t,i){try{return await this._request(t,i)}catch(a){if(a instanceof Error){let d;Error.captureStackTrace?Error.captureStackTrace(d={}):d=new Error;const h=d.stack?d.stack.replace(/^.+\n/,""):"";try{a.stack?h&&!String(a.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+h):a.stack=h}catch{}}throw a}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=rd(this.defaults,i);const{transitional:a,paramsSerializer:d,headers:h}=i;a!==void 0&&CP.assertOptions(a,{silentJSONParsing:Tc.transitional(Tc.boolean),forcedJSONParsing:Tc.transitional(Tc.boolean),clarifyTimeoutError:Tc.transitional(Tc.boolean)},!1),d!=null&&($e.isFunction(d)?i.paramsSerializer={serialize:d}:CP.assertOptions(d,{encode:Tc.function,serialize:Tc.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let g=h&&$e.merge(h.common,h[i.method]);h&&$e.forEach(["delete","get","head","post","put","patch","common"],E=>{delete h[E]}),i.headers=ns.concat(g,h);const y=[];let T=!0;this.interceptors.request.forEach(function(W){typeof W.runWhen=="function"&&W.runWhen(i)===!1||(T=T&&W.synchronous,y.unshift(W.fulfilled,W.rejected))});const C=[];this.interceptors.response.forEach(function(W){C.push(W.fulfilled,W.rejected)});let w,x=0,F;if(!T){const E=[xV.bind(this),void 0];for(E.unshift.apply(E,y),E.push.apply(E,C),F=E.length,w=Promise.resolve(i);x<F;)w=w.then(E[x++],E[x++]);return w}F=y.length;let N=i;for(x=0;x<F;){const E=y[x++],W=y[x++];try{N=E(N)}catch(O){W.call(this,O);break}}try{w=xV.call(this,N)}catch(E){return Promise.reject(E)}for(x=0,F=C.length;x<F;)w=w.then(C[x++],C[x++]);return w}getUri(t){t=rd(this.defaults,t);const i=L8(t.baseURL,t.url);return D8(i,t.params,t.paramsSerializer)}}$e.forEach(["delete","get","head","options"],function(t){YS.prototype[t]=function(i,a){return this.request(rd(a||{},{method:t,url:i,data:(a||{}).data}))}});$e.forEach(["post","put","patch"],function(t){function i(a){return function(h,g,y){return this.request(rd(y||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:h,data:g}))}}YS.prototype[t]=i(),YS.prototype[t+"Form"]=i(!0)});const eS=YS;class FD{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(h){i=h});const a=this;this.promise.then(d=>{if(!a._listeners)return;let h=a._listeners.length;for(;h-- >0;)a._listeners[h](d);a._listeners=null}),this.promise.then=d=>{let h;const g=new Promise(y=>{a.subscribe(y),h=y}).then(d);return g.cancel=function(){a.unsubscribe(h)},g},t(function(h,g,y){a.reason||(a.reason=new kh(h,g,y),i(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=a=>{t.abort(a)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new FD(function(d){t=d}),cancel:t}}}const KEe=FD;function YEe(e){return function(i){return e.apply(null,i)}}function QEe(e){return $e.isObject(e)&&e.isAxiosError===!0}const IP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(IP).forEach(([e,t])=>{IP[t]=e});const XEe=IP;function j8(e){const t=new eS(e),i=y8(eS.prototype.request,t);return $e.extend(i,eS.prototype,t,{allOwnKeys:!0}),$e.extend(i,t,null,{allOwnKeys:!0}),i.create=function(d){return j8(rd(e,d))},i}const Bn=j8(DD);Bn.Axios=eS;Bn.CanceledError=kh;Bn.CancelToken=KEe;Bn.isCancel=O8;Bn.VERSION=V8;Bn.toFormData=J1;Bn.AxiosError=Yt;Bn.Cancel=Bn.CanceledError;Bn.all=function(t){return Promise.all(t)};Bn.spread=YEe;Bn.isAxiosError=QEe;Bn.mergeConfig=rd;Bn.AxiosHeaders=ns;Bn.formToJSON=e=>F8($e.isHTMLForm(e)?new FormData(e):e);Bn.getAdapter=U8.getAdapter;Bn.HttpStatusCode=XEe;Bn.default=Bn;const wP=Bn,JEe="Iv23liZzMuid1Me3knW8",qEe="806e26a9145804211bf7d255fc871e06f4f24235",ZEe=({onHandleImage:e})=>{const t=be.useRef(null),i=be.useRef(null),a=async()=>{const h=await navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"environment"}}});t.current&&(t.current.srcObject=h)},d=()=>{if(i.current&&t.current){const h=i.current.getContext("2d");h&&(h.drawImage(t.current,0,0,i.current.width,i.current.height),i.current.toBlob(g=>{if(g){const y=new File([g],"photo.jpg",{type:"image/jpeg"});e(y)}},"image/jpeg"))}};return Re.jsxs("div",{children:[Re.jsx("video",{ref:t,autoPlay:!0,width:"300",height:"200"}),Re.jsx("button",{onClick:a,children:"Start Camera"}),Re.jsx("button",{onClick:d,children:"Take Photo"}),Re.jsx("canvas",{ref:i,style:{display:"none"},width:"300",height:"200"})]})},eAe=({onHandleImage:e})=>{const t=i=>{var d;const a=(d=i.target.files)==null?void 0:d[0];a&&e(a)};return Re.jsx("div",{children:Re.jsx("input",{type:"file",accept:"image/*",onChange:t})})},tAe=({onHandleImage:e})=>{const[t,i]=_i.useState(""),a=async()=>{const h=await(await fetch(t)).blob(),g=new File([h],"image.jpg",{type:"image/jpeg"});e(g)};return Re.jsxs("div",{children:[Re.jsx("input",{type:"text",value:t,onChange:d=>i(d.target.value),placeholder:"Enter image URL"}),Re.jsx("button",{onClick:a,children:"Import Image"})]})};function kV(e,t,i){return new Promise((a,d)=>{const h=new FileReader;h.onload=g=>{var T;const y=new Image;y.onload=()=>{const C=document.createElement("canvas");let w=y.width,x=y.height;console.log("ww"),w>x?w>t&&(x*=t/w,w=t):x>i&&(w*=i/x,x=i),C.width=w,C.height=x;const F=C.getContext("2d");if(F){F.drawImage(y,0,0,w,x);const N=F.getImageData(0,0,w,x);a(N)}else d(new Error("Could not get canvas context"))},y.onerror=C=>d(C),y.src=(T=g.target)==null?void 0:T.result},h.onerror=g=>d(g),h.readAsDataURL(e)})}var DV;(function(e){function t(i){return`RgbColor(${i.r},${i.g},${i.b})`}e.toString=t})(DV||(DV={}));const mu=class mu{constructor(t=0,i=0,a=0,d=255){gi(this,"r");gi(this,"g");gi(this,"b");gi(this,"a");this.r=t,this.g=i,this.b=a,this.a=d}static fromRgbColorData(t){return new mu(t.r,t.g,t.b,t.a??255)}static createRandomColor(){const t=new mu;return t.randomize(),t}static fromPixelArray(t,i,a=!0){const d=new mu;return d.setFromPixelArray(t,i,a),d}static fromHex(t){var a;const i=(a=t.substring(1).match(/.{1,2}/g))==null?void 0:a.map(d=>parseInt(d,16));return mu.fromPixelArray(i,0,i.length>3)}static buildColorAverage(t){const i=Math.floor(t.r/t.n),a=Math.floor(t.g/t.n),d=Math.floor(t.b/t.n),h=Math.floor(t.a/t.n);return new mu(i,a,d,h)}isInvisible(){return this.a<mu.MINIMUM_A}hasOpacity(){return this.a<255}setFromColorCounts(t){this.r=Math.floor(t.r/t.n),this.g=Math.floor(t.g/t.n),this.b=Math.floor(t.b/t.n),this.a=Math.floor(t.a/t.n)}randomize(){this.r=Math.floor(Math.random()*256),this.g=Math.floor(Math.random()*256),this.b=Math.floor(Math.random()*256),this.a=Math.floor(Math.random()*128)+128}setFromPixelArray(t,i,a=!0){const h=i*(a?4:3);this.r=t[h+0],this.g=t[h+1],this.b=t[h+2],this.a=a?t[h+3]:255}get[Symbol.toStringTag](){return`RgbaColor(${this.r},${this.g},${this.b},${this.a})`}calculateDistanceToPixelInArray(t,i,a=!0){const d=a?t[i+3]:255;return Math.abs(this.r-t[i])+Math.abs(this.g-t[i+1])+Math.abs(this.b-t[i+2])+Math.abs(this.a-d)}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===(t.a??255)}toCssColor(){return this.hasOpacity()?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toCssColorHex(){let i=this.toInt32().toString(16);const a=(this.hasOpacity()?8:6)-i.length;return a>0&&(i="0".repeat(a)+i),"#"+i.toUpperCase()}toInt32(){return this.hasOpacity()?(this.r<<24|this.g<<16|this.b<<8|this.a)>>>0:(this.r<<16|this.g<<8|this.b)>>>0}};gi(mu,"MINIMUM_A",13);let Ks=mu;var qm;(function(e){e.OFF="off",e.ON="on",e.REASONABLE="reasonable"})(qm||(qm={}));class rAe{constructor(t,i,a){gi(this,"rows");gi(this,"palette");gi(this,"options");gi(this,"verbose");this.options=i,this.verbose=i.verbose??!1,this.palette=this.buildPalette(t,a),this.verbose&&console.time(" - Color Quantization"),this.rows=this.buildColorData(t,this.palette),this.verbose&&console.timeEnd(" - Color Quantization")}buildPalette(t,i){const a=Math.max(this.options.numberOfColors,2),d=i(t,a);return this.options.verbose&&console.log(`Created palette with ${d.length} colors.`),d.map(h=>h instanceof Ks?h:Ks.fromRgbColorData(h))}buildColorData(t,i){let a;const d=Math.max(this.options.colorClusteringCycles,1);for(let h=1;h<=d;h++){const g=h===d,y=this.runClusteringCycle(t,i,g),T=g||a&&this.colorIndexesEqual(a,y);if(a=y,T){this.options.verbose&&console.log(`Ran ${h} clustering cycles`);break}}return a}runClusteringCycle(t,i,a){const d=this.buildImageColorIndex(t,i),h=this.buildColorCounts(t,d,i.length),g=t.width*t.height;return this.adjustPaletteToColorAverages(i,h,g,a),d}colorIndexesEqual(t,i){if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++){const d=t[a],h=i[a];if(d.length!==h.length)return!1;for(let g=0;g<d.length;g++)if(d[g]!==h[g])return!1}return!0}adjustPaletteToColorAverages(t,i,a,d){for(let h=0;h<t.length;h++){const g=i[h];this.options.minColorQuota>0&&g.n/a<this.options.minColorQuota&&!d?t[h].randomize():g.n>0&&t[h].setFromColorCounts(g)}}buildImageColorIndex(t,i){const a=this.options.colorDistanceBuffering;return a===qm.ON||a===qm.REASONABLE&&i.length>=32?this.buildImageColorIndexBuffered(t,i):this.buildImageColorIndexUnbuffered(t,i)}buildImageColorIndexUnbuffered(t,i){const a=this.initColorIndexArray(t.width,t.height);for(let d=0;d<t.height;d++)for(let h=0;h<t.width;h++){const g=(d*t.width+h)*4,y=this.findClosestPaletteColorIx(t,g,i);a[d+1][h+1]=y}return a}buildImageColorIndexBuffered(t,i){const a=this.initColorIndexArray(t.width,t.height),d=[];let h=0,g=0;for(let y=0;y<t.height;y++)for(let T=0;T<t.width;T++){const C=(y*t.width+T)*4,w=this.getPixelColorId(t,C);d[w]!==void 0?h++:(d[w]=this.findClosestPaletteColorIx(t,C,i),g++),a[y+1][T+1]=d[w]}return this.verbose&&console.log(`Buffered ${g} colors to skip ${h} comparisons (`,Math.round(100*h/(h+g)),"%)"),a}getPixelColorId(t,i){return(t.data[i]<<24|t.data[i+1]<<16|t.data[i+2]<<8|t.data[i+3])>>>0}initColorIndexArray(t,i){const a=[];for(let d=0;d<i+2;d++)a[d]=new Array(t+2).fill(-1);return a}buildColorCounts(t,i,a){const d=this.initColorCounts(a);for(let h=0;h<t.height;h++)for(let g=0;g<t.width;g++){const y=i[h+1][g+1],T=d[y],C=(h*t.width+g)*4;T.r+=t.data[C],T.g+=t.data[C+1],T.b+=t.data[C+2],T.a+=t.data[C+3],T.n++}return d}initColorCounts(t){const i=[];for(let a=0;a<t;a++)i[a]={r:0,g:0,b:0,a:0,n:0};return i}findClosestPaletteColorIx(t,i,a){let d=0,h=1024;for(let g=0;g<a.length;g++){const T=a[g].calculateDistanceToPixelInArray(t.data,i);T>=h||(h=T,d=g)}return d}}var $a;(function(e){e[e.RIGHT=0]="RIGHT",e[e.DOWN_RIGHT=1]="DOWN_RIGHT",e[e.DOWN=2]="DOWN",e[e.DOWN_LEFT=3]="DOWN_LEFT",e[e.LEFT=4]="LEFT",e[e.UP_LEFT=5]="UP_LEFT",e[e.UP=6]="UP",e[e.UP_RIGHT=7]="UP_RIGHT",e[e.NONE=0]="NONE"})($a||($a={}));var Zm;(function(e){e.OFF="off",e.INTERPOLATE="interpolate"})(Zm||(Zm={}));class RV{interpolate(t,i,a){const d=[];for(const h of i){const y={points:this.interpolatePointsUsingMode(t,h.points,a),boundingBox:h.boundingBox,childHoles:h.childHoles,isHole:h.isHole};d.push(y)}return d}interpolatePointsUsingMode(t,i,a){switch(t){case Zm.OFF:return i.map((d,h)=>this.trajectoryPointFromEdgePoint(i,h));default:case Zm.INTERPOLATE:return this.buildInterpolatedPoints(i,a)}}trajectoryPointFromEdgePoint(t,i){const a=t[i],d=(i+1)%t.length,h=t[d];return{x:a.x,y:a.y,data:this.geTrajectory(a.x,a.y,h.x,h.y)}}buildInterpolatedPoints(t,i){const a=[];for(let d=0;d<t.length;d++){if(i&&this.isRightAngle(t,d)){const g=this.buildCornerPoint(t,d);this.updateLastPointTrajectory(a,t[d]),a.push(g)}const h=this.interpolateNextTwoPoints(t,d);a.push(h)}return a}updateLastPointTrajectory(t,i){if(t.length===0)return;const a=t.length-1,d=t[a];d.data=this.geTrajectory(d.x,d.y,i.x,i.y)}interpolateNextTwoPoints(t,i){const a=t.length,d=(i+1)%a,h=(i+2)%a,g=t[i],y=t[d],T=t[h],C=(g.x+y.x)/2,w=(g.y+y.y)/2,x=(y.x+T.x)/2,F=(y.y+T.y)/2;return{x:C,y:w,data:this.geTrajectory(C,w,x,F)}}isRightAngle(t,i){const a=t.length,d=t[i],h=(i+1)%a,g=(i+2)%a,y=(i-1+a)%a,T=(i-2+a)%a;return d.x===t[T].x&&d.x===t[y].x&&d.y===t[h].y&&d.y===t[g].y||d.y===t[T].y&&d.y===t[y].y&&d.x===t[h].x&&d.x===t[g].x}buildCornerPoint(t,i){const a=(i+1)%t.length,d=t[i],h=t[a],g=(d.x+h.x)/2,y=(d.y+h.y)/2,T=this.geTrajectory(d.x,d.y,g,y);return{x:d.x,y:d.y,data:T}}geTrajectory(t,i,a,d){return t<a?i<d?$a.DOWN_RIGHT:i>d?$a.UP_RIGHT:$a.RIGHT:t>a?i<d?$a.DOWN_LEFT:i>d?$a.UP_LEFT:$a.LEFT:i<d?$a.DOWN:i>d?$a.UP:$a.NONE}}var ev;(function(e){e.OFF="off",e.KEEP_RATIO="ratio",e.ALL="all"})(ev||(ev={}));var Rc;(function(e){e.FILL="fill",e.STROKE="stroke",e.STROKE_FILL="stroke+fill"})(Rc||(Rc={}));const G8={strokeWidth:1,lineFilter:!1,scale:1,decimalPlaces:1,viewBox:!0,desc:!1,segmentEndpointRadius:0,curveControlPointRadius:0,fillStyle:Rc.STROKE_FILL,trim:ev.OFF};var Xi;(function(e){e.GENERATE="generate",e.SAMPLE="sample",e.SCAN="scan",e.PALETTE="palette"})(Xi||(Xi={}));var QS;(function(e){e[e.SEQUENTIAL=1]="SEQUENTIAL",e[e.PARALLEL=2]="PARALLEL"})(QS||(QS={}));var XS;(function(e){function t(d){return Object.assign({},i,d??{})}e.buildFrom=t;const i=Object.assign(G8,{lineErrorMargin:1,curveErrorMargin:1,minShapeOutline:8,enhanceRightAngles:!0,colorSamplingMode:Xi.SCAN,palette:null,numberOfColors:16,minColorQuota:0,colorClusteringCycles:3,colorDistanceBuffering:qm.REASONABLE,layeringMode:QS.PARALLEL,interpolation:Zm.INTERPOLATE,blurRadius:0,blurDelta:20,sharpen:!1,sharpenThreshold:20}),a=d=>d;e.Presets=a({default:i,posterized1:{colorSamplingMode:Xi.GENERATE,numberOfColors:2},posterized2:{numberOfColors:4,blurRadius:5},curvy:{lineErrorMargin:.01,lineFilter:!0,enhanceRightAngles:!1},sharp:{curveErrorMargin:.01,lineFilter:!1},detailed:{minShapeOutline:0,decimalPlaces:2,lineErrorMargin:.5,curveErrorMargin:.5,numberOfColors:64},smoothed:{blurRadius:5,blurDelta:64},grayscale:{colorSamplingMode:Xi.GENERATE,colorClusteringCycles:1,numberOfColors:7},fixedpalette:{colorSamplingMode:Xi.GENERATE,colorClusteringCycles:1,numberOfColors:27},randomsampling1:{colorSamplingMode:Xi.SAMPLE,numberOfColors:8},randomsampling2:{colorSamplingMode:Xi.SAMPLE,numberOfColors:64},artistic1:{colorSamplingMode:Xi.GENERATE,colorClusteringCycles:1,minShapeOutline:0,blurRadius:5,blurDelta:64,lineErrorMargin:.01,lineFilter:!0,numberOfColors:16,strokeWidth:2},artistic2:{curveErrorMargin:.01,colorSamplingMode:Xi.GENERATE,colorClusteringCycles:1,numberOfColors:4,strokeWidth:0},artistic3:{curveErrorMargin:10,lineErrorMargin:10,numberOfColors:8},artistic4:{curveErrorMargin:10,lineErrorMargin:10,numberOfColors:64,blurRadius:5,blurDelta:256,strokeWidth:2},posterized3:{lineErrorMargin:1,curveErrorMargin:1,minShapeOutline:20,enhanceRightAngles:!0,colorSamplingMode:Xi.GENERATE,numberOfColors:3,minColorQuota:0,colorClusteringCycles:3,blurRadius:3,blurDelta:20,strokeWidth:0,lineFilter:!1,decimalPlaces:1,palette:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}})})(XS||(XS={}));const nAe=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}];class iAe{drawLayersToDiv(t,i,a){i=i||1;var d,h,g,y,T,C;a?(C=document.getElementById(a),C||(C=document.createElement("div"),C.id=a,document.body.appendChild(C))):(C=document.createElement("div"),document.body.appendChild(C));for(T in t){if(!t.hasOwnProperty(T))continue;d=t[T][0].length,h=t[T].length;const w=document.createElement("canvas");w.width=d*i,w.height=h*i;const x=this.getCanvasContext(w),F=nAe;for(y=0;y<h;y++)for(g=0;g<d;g++){const N=t[T][y][g]%F.length,E=F[N];x.fillStyle=this.toRgbaLiteral(E),x.fillRect(g*i,y*i,i,i)}C.appendChild(w)}}toRgbaLiteral(t){return"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"}getCanvasContext(t){const i=t.getContext("2d");if(!i)throw new Error("Could not read canvas");return i}}class FV{static buildForColors(t){const i=t.rows,a=i.length,d=i[0].length,h=[];for(let E=0;E<t.palette.length;E++){h[E]=[];for(let W=0;W<a;W++)h[E][W]=new Array(d).fill(0)}let g,y,T,C,w,x,F,N;for(let E=1;E<a-1;E++)for(let W=1;W<d-1;W++){const O=i[E][W];g=i[E-1][W-1]===O?1:0,y=i[E-1][W]===O?1:0,T=i[E-1][W+1]===O?1:0,C=i[E][W-1]===O?1:0,w=i[E][W+1]===O?1:0,x=i[E+1][W-1]===O?1:0,F=i[E+1][W]===O?1:0,N=i[E+1][W+1]===O?1:0;const R=h[O];R[E+1][W+1]=1+w*2+N*4+F*8,C||(R[E+1][W]=0+2+F*4+x*8),y||(R[E][W+1]=0+T*2+w*4+8),g||(R[E][W]=0+y*2+4+C*8)}return h}static buildForColor(t,i){const a=t.rows,d=a.length,h=a[0].length,g=[];for(let y=0;y<d;y++)g[y]=new Array(h).fill(0);for(let y=1;y<d;y++)for(let T=1;T<h;T++)g[y][T]=(a[y-1][T-1]===i?1:0)+(a[y-1][T]===i?2:0)+(a[y][T-1]===i?8:0)+(a[y][T]===i?4:0);return g}}const oAe=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]];class OV{scan(t,i){const a=t[0].length,d=t.length,h=[];let g=0;for(let y=0;y<d;y++)for(let T=0;T<a;T++){const C=t[y][T];if(C!==4&&C!==11)continue;let w=T,x=y;const F={points:[],boundingBox:[w,x,w,x],childHoles:[],isHole:C===11};h[g]=F;let N=!1,E=1;for(;!N;){const W=t[x][w];this.addPointToArea(F,w-1,x-1,W);const O=oAe[W][E];if(t[x][w]=O[0],E=O[1],w+=O[2],x+=O[3],w-1===F.points[0].x&&x-1===F.points[0].y){if(N=!0,F.points.length<i){h.pop();continue}if(F.isHole){const R=this.findParentId(F,h,g,a,d);h[R].childHoles.push(g)}g++}}}return h}addPointToArea(t,i,a,d){const h={x:i,y:a,data:d};return i<t.boundingBox[0]&&(t.boundingBox[0]=i),a<t.boundingBox[1]&&(t.boundingBox[1]=a),i>t.boundingBox[2]&&(t.boundingBox[2]=i),a>t.boundingBox[3]&&(t.boundingBox[3]=a),t.points.push(h)}findParentId(t,i,a,d,h){let g=0,y=[-1,-1,d+1,h+1];for(let T=0;T<a;T++){const C=i[T];!C.isHole&&this.boundingBoxIncludes(C.boundingBox,t.boundingBox)&&this.boundingBoxIncludes(y,C.boundingBox)&&this.pointInPolygon(t.points[0],C.points)&&(g=T,y=C.boundingBox)}return g}boundingBoxIncludes(t,i){return t[0]<i[0]&&t[1]<i[1]&&t[2]>i[2]&&t[3]>i[3]}pointInPolygon(t,i){let a=!1;for(let d=0,h=i.length-1;d<i.length;h=d++)a=i[d].y>t.y!=i[h].y>t.y&&t.x<(i[h].x-i[d].x)*(t.y-i[d].y)/(i[h].y-i[d].y)+i[d].x?!a:a;return a}}var EP;(function(e){function t(i){const a=`${i.type} ${i.x1} ${i.y1} ${i.x2} ${i.y2}`;return i.type==="L"?a:a+` ${i.x3} ${i.y3}`}e.toString=t})(EP||(EP={}));class NV{trace(t,i,a){const d=[],h=[].concat(t.points);h.push(h[0]);for(let g=0;g<h.length-1;){const y=this.findNextSequenceStartIx(h,g),T=this.getPathCommandsOfSequence(h,i,a,g,y);d.push(...T),g=y}return{lineAttributes:d,boundingBox:t.boundingBox,childHoles:t.childHoles,isHole:t.isHole}}findNextSequenceStartIx(t,i){const a=t[i].data;let d=i+1,h=t[d],g=null;for(;(h.data===a||h.data===g||g===null)&&d<t.length-1;)h.data!==a&&g===null&&(g=h.data),d++,h=t[d];return d===t.length-2?d+1:d}getPathCommandsOfSequence(t,i,a,d,h){if(h>t.length||h<0)return[];const g=this.checkSequenceFitsLine(t,i,d,h);if(typeof g=="object")return[g];const y=this.checkSequenceFitsCurve(t,a,d,h,g);if(typeof y=="object")return[y];const T=g,C=this.getPathCommandsOfSequence(t,i,a,d,T),w=this.getPathCommandsOfSequence(t,i,a,T,h);return C.concat(w)}checkSequenceFitsLine(t,i,a,d){const h=d-a,g=t[a],y=t[d],T=(y.x-g.x)/h,C=(y.y-g.y)/h;let w=!0,x=a,F=0;for(let N=a+1;N<d;N++){const E=N-a,W=g.x+E*T,O=g.y+E*C,R=t[N],D=(R.x-W)*(R.x-W)+(R.y-O)*(R.y-O);D>i&&(w=!1),D>F&&(x=N,F=D)}return w?{type:"L",x1:g.x,y1:g.y,x2:y.x,y2:y.y}:x}checkSequenceFitsCurve(t,i,a,d,h){const g=d-a,y=t[a],T=t[d];let C=!0,w=0,x=a,F=h-a,N=F/g,E=(1-N)*(1-N),W=2*(1-N)*N,O=N*N;const R=(E*y.x+O*T.x-t[h].x)/-W,D=(E*y.y+O*T.y-t[h].y)/-W;for(let j=a+1;j!=d;j=(j+1)%t.length){F=j-a,N=F/g,E=(1-N)*(1-N),W=2*(1-N)*N,O=N*N;const Y=E*y.x+W*R+O*T.x,de=E*y.y+W*D+O*T.y,ne=t[j],X=(ne.x-Y)*(ne.x-Y)+(ne.y-de)*(ne.y-de);X>i&&(C=!1),X>w&&(x=j,w=X)}return C?{type:"Q",x1:y.x,y1:y.y,x2:R,y2:D,x3:T.x,y3:T.y}:x}}var AP;(function(e){function t(h,g,y,T=!1){const C=i(h,g);y&&a(C,h),!(C.minX===0&&C.maxX===h.width&&C.minY===0&&C.maxY===h.height)&&(T&&console.log(`Trimming x[${C.minX}|${C.maxX}]/${h.width}, y[${C.minY}|${C.maxY}]/${h.height}`),d(h,C))}e.trim=t;function i(h,g){let y=h.width,T=h.height,C=0,w=0;for(let F=0;F<h.areasByColor.length;F++){if(h.colors[F].a===0)continue;const E=h.areasByColor[F];for(const W of E)for(const O of W.lineAttributes){const R=O.type==="Q";y=Math.min(y,O.x1,O.x2,R?O.x3:y),C=Math.max(C,O.x1,O.x2,R?O.x3:0),T=Math.min(T,O.y1,O.y2,R?O.y3:T),w=Math.max(w,O.y1,O.y2,R?O.y3:0)}}const x=Math.floor(g/2);return y-=x,T-=x,C+=x,w+=x,{minX:y,maxX:C,minY:T,maxY:w}}function a(h,g){const y=h.maxX-h.minX,T=h.maxY-h.minY,C=g.width,w=g.height,x=Math.ceil(T*C/w);if(y===x)return;if(x>y){const E=(x-y)/2;h.minX-=Math.ceil(E),h.maxX+=Math.floor(E);return}const N=(Math.ceil(y*w/C)-T)/2;h.minY-=Math.ceil(N),h.maxY+=Math.floor(N)}function d(h,g){const{minX:y,maxX:T,minY:C,maxY:w}=g;for(const x of h.areasByColor)for(const F of x)for(const N of F.lineAttributes)N.x1-=y,N.x2-=y,N.y1-=C,N.y2-=C,N.type==="Q"&&(N.x3-=y,N.y3-=C);h.height=w-C,h.width=T-y}})(AP||(AP={}));class LV{constructor(t){gi(this,"options");gi(this,"useStroke");gi(this,"useFill");this.options=Object.assign({},G8,t),this.useFill=[Rc.FILL,Rc.STROKE_FILL].includes(this.options.fillStyle),this.useStroke=[Rc.STROKE,Rc.STROKE_FILL].includes(this.options.fillStyle)}fixValue(t){return this.options.scale!==1&&(t*=this.options.scale),this.options.decimalPlaces===-1?t:+t.toFixed(this.options.decimalPlaces)}draw(t){this.init(t);const i=[];for(let a=0;a<t.areasByColor.length;a++)for(let d=0;d<t.areasByColor[a].length;d++)t.areasByColor[a][d].isHole||i.push(...this.buildSegmentTags(t,a,d));return this.options.verbose&&console.log(`Adding ${i.length} <path> tags to SVG.`),this.buildSvgTag(t,i)}init(t){if(this.options.trim!==ev.OFF){const i=this.options.fillStyle===Rc.FILL?0:this.options.strokeWidth,a=this.options.trim===ev.KEEP_RATIO;AP.trim(t,i,a,this.options.verbose)}}buildSegmentTags(t,i,a){const d=t.areasByColor[i],h=d[a],g=t.colors[i];if(!this.isValidLine(g,h.lineAttributes))return[];const y=[],T=this.options.desc?this.getDescriptionAttribute(t,i,a):"",C=this.buildPathTag(h,d,g,T);if(y.push(C),this.options.segmentEndpointRadius||this.options.curveControlPointRadius){const w=this.drawControlOutput(h,d);y.push(...w)}return y}isValidLine(t,i){const a=!this.options.lineFilter||i.length>=3;return!t.isInvisible()&&a}getDescriptionAttribute(t,i,a){const h=t.areasByColor[i][a].isHole?1:0,g=t.colors[i],y=`r:${g.r} g:${g.g} b:${g.b}`;return this.options.desc?`desc="colorId:${i} segment:${a} ${y} isHole:${h}" `:""}buildPath(t,i){const a=t.lineAttributes,d=[];d.push("M",this.fixValue(a[0].x1),this.fixValue(a[0].y1));for(const h of a)d.push(h.type,this.fixValue(h.x2),this.fixValue(h.y2)),"x3"in h&&d.push(this.fixValue(h.x3),this.fixValue(h.y3));d.push("Z");for(const h of t.childHoles){const g=i[h],y=g.lineAttributes[g.lineAttributes.length-1];d.push("M"),y.type==="Q"?d.push(this.fixValue(y.x3),this.fixValue(y.y3)):d.push(this.fixValue(y.x2),this.fixValue(y.y2));for(const T of g.lineAttributes.reverse())d.push(T.type),T.type==="Q"&&d.push(this.fixValue(T.x2),this.fixValue(T.y2)),d.push(this.fixValue(T.x1),this.fixValue(T.y1));d.push("Z")}return d.join(" ")}drawControlOutput(t,i){const a=this.drawControlPoint(t);for(let d of t.childHoles){const h=i[d],g=this.drawControlPoint(h);a.push(...g)}return a}drawControlPoint(t){const i=[];for(const a of t.lineAttributes){const d="x3"in a;if(this.options.segmentEndpointRadius){const h=d?a.x3:a.x2,g=d?a.y3:a.y2,y=this.buildCircleTag(h,g,this.options.segmentEndpointRadius,"white");i.push(y)}if(d&&this.options.curveControlPointRadius){const h="cyan",g=this.options.curveControlPointRadius*.2;i.push(this.buildCircleTag(a.x2,a.y2,this.options.curveControlPointRadius,h),this.buildLineTag(a.x1,a.y1,a.x2,a.y2,h,g),this.buildLineTag(a.x2,a.y2,a.x3,a.y3,h,g))}}return i}buildSvgTag(t,i){const a=Math.ceil(t.width*this.options.scale),d=Math.ceil(t.height*this.options.scale),h=this.options.viewBox?`viewBox="0 0 ${a} ${d}"`:`width="${a}" height="${d}"`,g=i.join(`
 `);return`<svg ${h} version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer-ts 1.0.2" >
 ${g}
</svg>`}buildPathTag(t,i,a,d=""){const h=this.buildPath(t,i),g=this.buildColorAttributes(a,t);return`<path ${d}${g}d="${h}" />`}buildCircleTag(t,i,a,d){const h=this.fixValue(t),g=this.fixValue(i),y=a*.2;return`<circle cx="${h}" cy="${g}" r="${a}" fill="${d}" stroke-width="${y}" stroke="black" />`}buildLineTag(t,i,a,d,h,g){const y=this.fixValue(t),T=this.fixValue(i),C=this.fixValue(a),w=this.fixValue(d);return`<line x1="${y}" y1="${T}" x2="${C}" y2="${w}" stroke-width="${g}" stroke="${h}" />`}buildColorAttributes(t,i){const a=this.colorToRgbString(t);let h=`fill="${this.useFill?a:"none"}" `;this.useStroke&&(h+=`stroke="${a}" stroke-width="${this.options.strokeWidth}" `);const g=(t.a/255).toPrecision(1);return g!=="1"&&(h+=`opacity="${g}" `),h}colorToRgbString(t){return`rgb(${t.r},${t.g},${t.b})`}}function aAe(e,t=null){switch(e){case Xi.GENERATE:return(i,a)=>sAe(a);case Xi.SAMPLE:return lAe;case Xi.PALETTE:if(!t||t.length===0)throw new Error("No color palette in options but mode is set to palette");return(i,a)=>t.map(Ks.fromRgbColorData);case Xi.SCAN:default:return dAe}}function sAe(e){return e<8?cAe(e):uAe(e)}function uAe(e){const t=[],i=Math.floor(Math.pow(e,.3333333333333333)),a=Math.floor(255/(i-1));for(let h=0,g=0;h<i;h++,g+=a)for(let y=0,T=0;y<i;y++,T+=a)for(let C=0,w=0;C<i;C++,w+=a)t.push(new Ks(g,T,w));const d=e-t.length;for(let h=0;h<d;h++)t.push(Ks.createRandomColor());return t}function cAe(e){const t=[],i=Math.floor(255/(e-1));for(let a=0;a<e;a++){const d=a*i,h=new Ks(d,d,d);t.push(h)}return t}function lAe(e,t){const i=[],a=e.data.length/4;for(let d=4*t;d>0;d--){const h=Math.floor(Math.random()*a),g=Ks.fromPixelArray(e.data,h);if(!i.some(y=>y.equals(g))&&(i.push(g),i.length===t))break}return i}function dAe(e,t){const i=[],a=Math.ceil(Math.sqrt(t)),d=e.width/(a+1),h=e.height/(a+1);for(let g=1;g<=a;g++){const y=g*h*e.width;for(let T=1;T<=a;T++){const C=Math.floor(y+T*d),w=Ks.fromPixelArray(e.data,C);if(!i.some(x=>w.equals(x))&&(i.push(w),i.length===t))break}}return i}var xP;(function(e){function t(a,d=!1){if(i(a))return a;d&&console.log("Transforming image data from RGB to RGBA");const h=a.width*a.height,g=h*4,y=new Uint8ClampedArray(g);for(let T=0;T<h;T++){const C=T*3,w=T*4;y[w+0]=a.data[C+0],y[w+1]=a.data[C+1],y[w+2]=a.data[C+2],y[w+3]=255}return{width:a.width,height:a.height,colorSpace:a.colorSpace,data:y}}e.process=t;function i(a){const h=a.width*a.height*4;return a.data.length>=h}})(xP||(xP={}));const fAe=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]];class _m{static blur(t,i,a){if(i=Math.floor(i),i<1)return t;i>5&&(i=5),a=Math.abs(a),a>1024&&(a=1024);const d=fAe[i-1],h={width:t.width,height:t.height,colorSpace:t.colorSpace,data:new Uint8ClampedArray(t.width*t.height*4)};return _m.blurHorizontally(t,i,d,h.data),_m.blurVertically(h,i,d),_m.checkDelta(t,h.data,a),h}static blurHorizontally(t,i,a,d){for(let h=0;h<t.height;h++)for(let g=0;g<t.width;g++){const y=h*t.width+g;let T=0,C=0,w=0,x=0,F=0;for(let E=-i;E<=i;E++){if(g+E<0||g+E>=t.width)continue;const W=(y+E)*4,O=a[E+i];T+=t.data[W+0]*O,C+=t.data[W+1]*O,w+=t.data[W+2]*O,x+=t.data[W+3]*O,F+=O}const N=y*4;d[N+0]=Math.floor(T/F),d[N+1]=Math.floor(C/F),d[N+2]=Math.floor(w/F),d[N+3]=Math.floor(x/F),d[N+0]}}static blurVertically(t,i,a){const d=new Uint8ClampedArray(t.data);for(let h=0;h<t.height;h++)for(let g=0;g<t.width;g++){let y=0,T=0,C=0,w=0,x=0;for(let N=-i;N<=i;N++){const E=h+N;if(E<0||E>=t.height)continue;const W=(E*t.width+g)*4,O=a[N+i];y+=d[W+0]*O,T+=d[W+1]*O,C+=d[W+2]*O,w+=d[W+3]*O,x+=O}const F=(h*t.width+g)*4;t.data[F+0]=Math.floor(y/x),t.data[F+1]=Math.floor(T/x),t.data[F+2]=Math.floor(C/x),t.data[F+3]=Math.floor(w/x)}}static checkDelta(t,i,a){for(let d=0;d<t.height;d++)for(let h=0;h<t.width;h++){const g=(d*t.width+h)*4;Math.abs(i[g+0]-t.data[g+0])+Math.abs(i[g+1]-t.data[g+1])+Math.abs(i[g+2]-t.data[g+2])+Math.abs(i[g+3]-t.data[g+3])>a&&(i[g+0]=t.data[g],i[g+1]=t.data[g+1],i[g+2]=t.data[g+2],i[g+3]=t.data[g+3])}}}const hAe=[[0,-1,0],[-1,5,-1],[0,-1,0]];function pAe(e,t){return new gAe(hAe).apply(e,t)}class gAe{constructor(t){gi(this,"kernel");gi(this,"kernelWeight");this.kernel=t,this.kernelWeight=t.flat().reduce((i,a)=>i+a,0)}apply(t,i){const a=new Uint8ClampedArray(4*t.width*t.height);for(let d=0;d<t.height;d++)for(let h=0;h<t.width;h++)this.applyKernelToPixel(t,h,d,a);return this.applyThreshold(t,a,i),{width:t.width,height:t.height,colorSpace:t.colorSpace,data:a}}applyKernelToPixel(t,i,a,d){const h=Math.floor(this.kernel.length/2),g=(a*t.width+i)*4;for(let y=0;y<4;y++){let T=0,C=0;for(let w=-h;w<=h;w++)if(!(a+w<0||a+w>=t.height))for(let x=-h;x<=h;x++){if(i+x<0||i+x>=t.width)continue;const F=((a+w)*t.width+(i+x))*4+y,N=this.kernel[w+h][x+h];T+=t.data[F]*N,C+=N}C!==this.kernelWeight&&(T*=this.kernelWeight===0?0:C/this.kernelWeight),d[g+y]=T}}applyThreshold(t,i,a){if(!(a<=0||a===1||a>=1024)){a=a<1?1024*a:a;for(let d=0;d<t.data.length;d+=4){let h=0;for(let g=d;g<d+4;g++)h+=Math.abs(t.data[g]-i[g]);if(!(h<=a))for(let g=d;g<d+4;g++)i[g]=t.data[g]}}}}var MV;(function(e){function t(i){const a=[];for(let d=0;d<i.areasByColor.length;d++){const h=i.areasByColor[d];if(h.length!==0){a.push(i.colors[d].toString());for(const g of h){const y=g.lineAttributes.map(T=>EP.toString(T)).join(" ");a.push(y)}}}return a.join(`
`)}e.toString=t})(MV||(MV={}));class mAe{constructor(t=null){gi(this,"options");gi(this,"colorQuantizeFunction");this.options=XS.buildFrom(t),this.colorQuantizeFunction=aAe(this.options.colorSamplingMode,this.options.palette)}setColorQuantizeFunction(t){return this.colorQuantizeFunction=t,this}traceImageToSvg(t){const i=new LV(this.options);return this.traceImage(t,i)}traceImage(t,i=null){i||(i=new LV(this.options));const a=this.isVerbose();a&&console.time(" - Preprocessing time"),t=this.preProcessImage(t),a&&console.timeEnd(" - Preprocessing time"),a&&console.time(" - Color indexing time");const d=new rAe(t,this.options,this.colorQuantizeFunction);a&&console.timeEnd(" - Color indexing time"),a&&console.time(" - Trace time");const h=this.imageDataToTraceData(t,d);a&&console.timeEnd(" - Trace time"),a&&console.time(" - Draw time");const g=i.draw(h);return a&&console.timeEnd(" - Draw time"),g}isVerbose(){return this.options.verbose??!1}preProcessImage(t){return t=xP.process(t,this.isVerbose()),this.options.blurRadius>0&&(t=_m.blur(t,this.options.blurRadius,this.options.blurDelta)),this.options.sharpen&&(t=pAe(t,this.options.sharpenThreshold)),t}imageDataToTraceData(t,i){return this.options.layeringMode===QS.SEQUENTIAL?this.imageDataToTraceDataWithSequentialLayering(t,i):this.imageDataToTraceDataWithParallelLayering(t,i)}imageDataToTraceDataWithSequentialLayering(t,i){const a=[],d=new OV,h=new RV,g=new NV;for(let y=0;y<i.palette.length;y++){const T=FV.buildForColor(i,y),C=d.scan(T,this.options.minShapeOutline),x=h.interpolate(this.options.interpolation,C,this.options.enhanceRightAngles).map(F=>g.trace(F,this.options.lineErrorMargin,this.options.curveErrorMargin));a.push(x)}return{areasByColor:a,colors:i.palette,width:i.rows[0].length-2,height:i.rows.length-2}}imageDataToTraceDataWithParallelLayering(t,i){const a=FV.buildForColors(i);this.options.layerContainerId&&new iAe().drawLayersToDiv(a,this.options.scale,this.options.layerContainerId);const d=new OV,h=a.map(N=>d.scan(N,this.options.minShapeOutline)),g=new RV,y=this.options.interpolation,T=this.options.enhanceRightAngles,C=h.map(N=>g.interpolate(y,N,T)),w=new NV,x=N=>w.trace(N,this.options.lineErrorMargin,this.options.curveErrorMargin);return{areasByColor:C.map(N=>N.map(x)),colors:i.palette,width:t.width,height:t.height}}}function vAe(){const e=()=>{const t="Iv23liZzMuid1Me3knW8",i="https://sarahbuisson.github.io/content-generator2/";window.location.href=`https://github.com/login/oauth/authorize?client_id=${t}&redirect_uri=${i}`};return Re.jsx("button",{onClick:e,children:"Login with GitHub"})}function _Ae(e){function t(He,Ge,nt,pe,oe){for(var me=0,ye=0,et=0,Ke=0,mt,vt,Vt=0,Nt=0,At,nr=At=mt=0,jt=0,Ar=0,Yr=0,cr=0,Un=nt.length,Jt=Un-1,ir,Tt="",hr="",Xo="",Sa="",pr;jt<Un;){if(vt=nt.charCodeAt(jt),jt===Jt&&ye+Ke+et+me!==0&&(ye!==0&&(vt=ye===47?10:47),Ke=et=me=0,Un++,Jt++),ye+Ke+et+me===0){if(jt===Jt&&(0<Ar&&(Tt=Tt.replace(F,"")),0<Tt.trim().length)){switch(vt){case 32:case 9:case 59:case 13:case 10:break;default:Tt+=nt.charAt(jt)}vt=59}switch(vt){case 123:for(Tt=Tt.trim(),mt=Tt.charCodeAt(0),At=1,cr=++jt;jt<Un;){switch(vt=nt.charCodeAt(jt)){case 123:At++;break;case 125:At--;break;case 47:switch(vt=nt.charCodeAt(jt+1)){case 42:case 47:e:{for(nr=jt+1;nr<Jt;++nr)switch(nt.charCodeAt(nr)){case 47:if(vt===42&&nt.charCodeAt(nr-1)===42&&jt+2!==nr){jt=nr+1;break e}break;case 10:if(vt===47){jt=nr+1;break e}}jt=nr}}break;case 91:vt++;case 40:vt++;case 34:case 39:for(;jt++<Jt&&nt.charCodeAt(jt)!==vt;);}if(At===0)break;jt++}switch(At=nt.substring(cr,jt),mt===0&&(mt=(Tt=Tt.replace(x,"").trim()).charCodeAt(0)),mt){case 64:switch(0<Ar&&(Tt=Tt.replace(F,"")),vt=Tt.charCodeAt(1),vt){case 100:case 109:case 115:case 45:Ar=Ge;break;default:Ar=je}if(At=t(Ge,Ar,At,vt,oe+1),cr=At.length,0<De&&(Ar=i(je,Tt,Yr),pr=y(3,At,Ar,Ge,Ee,_e,cr,vt,oe,pe),Tt=Ar.join(""),pr!==void 0&&(cr=(At=pr.trim()).length)===0&&(vt=0,At="")),0<cr)switch(vt){case 115:Tt=Tt.replace(ne,g);case 100:case 109:case 45:At=Tt+"{"+At+"}";break;case 107:Tt=Tt.replace(D,"$1 $2"),At=Tt+"{"+At+"}",At=Ne===1||Ne===2&&h("@"+At,3)?"@-webkit-"+At+"@"+At:"@"+At;break;default:At=Tt+At,pe===112&&(At=(hr+=At,""))}else At="";break;default:At=t(Ge,i(Ge,Tt,Yr),At,pe,oe+1)}Xo+=At,At=Yr=Ar=nr=mt=0,Tt="",vt=nt.charCodeAt(++jt);break;case 125:case 59:if(Tt=(0<Ar?Tt.replace(F,""):Tt).trim(),1<(cr=Tt.length))switch(nr===0&&(mt=Tt.charCodeAt(0),mt===45||96<mt&&123>mt)&&(cr=(Tt=Tt.replace(" ",":")).length),0<De&&(pr=y(1,Tt,Ge,He,Ee,_e,hr.length,pe,oe,pe))!==void 0&&(cr=(Tt=pr.trim()).length)===0&&(Tt="\0\0"),mt=Tt.charCodeAt(0),vt=Tt.charCodeAt(1),mt){case 0:break;case 64:if(vt===105||vt===99){Sa+=Tt+nt.charAt(jt);break}default:Tt.charCodeAt(cr-1)!==58&&(hr+=d(Tt,mt,vt,Tt.charCodeAt(2)))}Yr=Ar=nr=mt=0,Tt="",vt=nt.charCodeAt(++jt)}}switch(vt){case 13:case 10:ye===47?ye=0:1+mt===0&&pe!==107&&0<Tt.length&&(Ar=1,Tt+="\0"),0<De*Ae&&y(0,Tt,Ge,He,Ee,_e,hr.length,pe,oe,pe),_e=1,Ee++;break;case 59:case 125:if(ye+Ke+et+me===0){_e++;break}default:switch(_e++,ir=nt.charAt(jt),vt){case 9:case 32:if(Ke+me+ye===0)switch(Vt){case 44:case 58:case 9:case 32:ir="";break;default:vt!==32&&(ir=" ")}break;case 0:ir="\\0";break;case 12:ir="\\f";break;case 11:ir="\\v";break;case 38:Ke+ye+me===0&&(Ar=Yr=1,ir="\f"+ir);break;case 108:if(Ke+ye+me+ke===0&&0<nr)switch(jt-nr){case 2:Vt===112&&nt.charCodeAt(jt-3)===58&&(ke=Vt);case 8:Nt===111&&(ke=Nt)}break;case 58:Ke+ye+me===0&&(nr=jt);break;case 44:ye+et+Ke+me===0&&(Ar=1,ir+="\r");break;case 34:case 39:ye===0&&(Ke=Ke===vt?0:Ke===0?vt:Ke);break;case 91:Ke+ye+et===0&&me++;break;case 93:Ke+ye+et===0&&me--;break;case 41:Ke+ye+me===0&&et--;break;case 40:if(Ke+ye+me===0){if(mt===0)switch(2*Vt+3*Nt){case 533:break;default:mt=1}et++}break;case 64:ye+et+Ke+me+nr+At===0&&(At=1);break;case 42:case 47:if(!(0<Ke+me+et))switch(ye){case 0:switch(2*vt+3*nt.charCodeAt(jt+1)){case 235:ye=47;break;case 220:cr=jt,ye=42}break;case 42:vt===47&&Vt===42&&cr+2!==jt&&(nt.charCodeAt(cr+2)===33&&(hr+=nt.substring(cr,jt+1)),ir="",ye=0)}}ye===0&&(Tt+=ir)}Nt=Vt,Vt=vt,jt++}if(cr=hr.length,0<cr){if(Ar=Ge,0<De&&(pr=y(2,hr,Ar,He,Ee,_e,cr,pe,oe,pe),pr!==void 0&&(hr=pr).length===0))return Sa+hr+Xo;if(hr=Ar.join(",")+"{"+hr+"}",Ne*ke!==0){switch(Ne!==2||h(hr,2)||(ke=0),ke){case 111:hr=hr.replace(Y,":-moz-$1")+hr;break;case 112:hr=hr.replace(j,"::-webkit-input-$1")+hr.replace(j,"::-moz-$1")+hr.replace(j,":-ms-input-$1")+hr}ke=0}}return Sa+hr+Xo}function i(He,Ge,nt){var pe=Ge.trim().split(O);Ge=pe;var oe=pe.length,me=He.length;switch(me){case 0:case 1:var ye=0;for(He=me===0?"":He[0]+" ";ye<oe;++ye)Ge[ye]=a(He,Ge[ye],nt).trim();break;default:var et=ye=0;for(Ge=[];ye<oe;++ye)for(var Ke=0;Ke<me;++Ke)Ge[et++]=a(He[Ke]+" ",pe[ye],nt).trim()}return Ge}function a(He,Ge,nt){var pe=Ge.charCodeAt(0);switch(33>pe&&(pe=(Ge=Ge.trim()).charCodeAt(0)),pe){case 38:return Ge.replace(R,"$1"+He.trim());case 58:return He.trim()+Ge.replace(R,"$1"+He.trim());default:if(0<1*nt&&0<Ge.indexOf("\f"))return Ge.replace(R,(He.charCodeAt(0)===58?"":"$1")+He.trim())}return He+Ge}function d(He,Ge,nt,pe){var oe=He+";",me=2*Ge+3*nt+4*pe;if(me===944){He=oe.indexOf(":",9)+1;var ye=oe.substring(He,oe.length-1).trim();return ye=oe.substring(0,He).trim()+ye+";",Ne===1||Ne===2&&h(ye,1)?"-webkit-"+ye+ye:ye}if(Ne===0||Ne===2&&!h(oe,1))return oe;switch(me){case 1015:return oe.charCodeAt(10)===97?"-webkit-"+oe+oe:oe;case 951:return oe.charCodeAt(3)===116?"-webkit-"+oe+oe:oe;case 963:return oe.charCodeAt(5)===110?"-webkit-"+oe+oe:oe;case 1009:if(oe.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+oe+oe;case 978:return"-webkit-"+oe+"-moz-"+oe+oe;case 1019:case 983:return"-webkit-"+oe+"-moz-"+oe+"-ms-"+oe+oe;case 883:if(oe.charCodeAt(8)===45)return"-webkit-"+oe+oe;if(0<oe.indexOf("image-set(",11))return oe.replace(fe,"$1-webkit-$2")+oe;break;case 932:if(oe.charCodeAt(4)===45)switch(oe.charCodeAt(5)){case 103:return"-webkit-box-"+oe.replace("-grow","")+"-webkit-"+oe+"-ms-"+oe.replace("grow","positive")+oe;case 115:return"-webkit-"+oe+"-ms-"+oe.replace("shrink","negative")+oe;case 98:return"-webkit-"+oe+"-ms-"+oe.replace("basis","preferred-size")+oe}return"-webkit-"+oe+"-ms-"+oe+oe;case 964:return"-webkit-"+oe+"-ms-flex-"+oe+oe;case 1023:if(oe.charCodeAt(8)!==99)break;return ye=oe.substring(oe.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+ye+"-webkit-"+oe+"-ms-flex-pack"+ye+oe;case 1005:return E.test(oe)?oe.replace(N,":-webkit-")+oe.replace(N,":-moz-")+oe:oe;case 1e3:switch(ye=oe.substring(13).trim(),Ge=ye.indexOf("-")+1,ye.charCodeAt(0)+ye.charCodeAt(Ge)){case 226:ye=oe.replace(de,"tb");break;case 232:ye=oe.replace(de,"tb-rl");break;case 220:ye=oe.replace(de,"lr");break;default:return oe}return"-webkit-"+oe+"-ms-"+ye+oe;case 1017:if(oe.indexOf("sticky",9)===-1)break;case 975:switch(Ge=(oe=He).length-10,ye=(oe.charCodeAt(Ge)===33?oe.substring(0,Ge):oe).substring(He.indexOf(":",7)+1).trim(),me=ye.charCodeAt(0)+(ye.charCodeAt(7)|0)){case 203:if(111>ye.charCodeAt(8))break;case 115:oe=oe.replace(ye,"-webkit-"+ye)+";"+oe;break;case 207:case 102:oe=oe.replace(ye,"-webkit-"+(102<me?"inline-":"")+"box")+";"+oe.replace(ye,"-webkit-"+ye)+";"+oe.replace(ye,"-ms-"+ye+"box")+";"+oe}return oe+";";case 938:if(oe.charCodeAt(5)===45)switch(oe.charCodeAt(6)){case 105:return ye=oe.replace("-items",""),"-webkit-"+oe+"-webkit-box-"+ye+"-ms-flex-"+ye+oe;case 115:return"-webkit-"+oe+"-ms-flex-item-"+oe.replace(ce,"")+oe;default:return"-webkit-"+oe+"-ms-flex-line-pack"+oe.replace("align-content","").replace(ce,"")+oe}break;case 973:case 989:if(oe.charCodeAt(3)!==45||oe.charCodeAt(4)===122)break;case 931:case 953:if(le.test(He)===!0)return(ye=He.substring(He.indexOf(":")+1)).charCodeAt(0)===115?d(He.replace("stretch","fill-available"),Ge,nt,pe).replace(":fill-available",":stretch"):oe.replace(ye,"-webkit-"+ye)+oe.replace(ye,"-moz-"+ye.replace("fill-",""))+oe;break;case 962:if(oe="-webkit-"+oe+(oe.charCodeAt(5)===102?"-ms-"+oe:"")+oe,nt+pe===211&&oe.charCodeAt(13)===105&&0<oe.indexOf("transform",10))return oe.substring(0,oe.indexOf(";",27)+1).replace(W,"$1-webkit-$2")+oe}return oe}function h(He,Ge){var nt=He.indexOf(Ge===1?":":"{"),pe=He.substring(0,Ge!==3?nt:10);return nt=He.substring(nt+1,He.length-1),Le(Ge!==2?pe:pe.replace(he,"$1"),nt,Ge)}function g(He,Ge){var nt=d(Ge,Ge.charCodeAt(0),Ge.charCodeAt(1),Ge.charCodeAt(2));return nt!==Ge+";"?nt.replace(X," or ($1)").substring(4):"("+Ge+")"}function y(He,Ge,nt,pe,oe,me,ye,et,Ke,mt){for(var vt=0,Vt=Ge,Nt;vt<De;++vt)switch(Nt=Ze[vt].call(w,He,Vt,nt,pe,oe,me,ye,et,Ke,mt)){case void 0:case!1:case!0:case null:break;default:Vt=Nt}if(Vt!==Ge)return Vt}function T(He){switch(He){case void 0:case null:De=Ze.length=0;break;default:if(typeof He=="function")Ze[De++]=He;else if(typeof He=="object")for(var Ge=0,nt=He.length;Ge<nt;++Ge)T(He[Ge]);else Ae=!!He|0}return T}function C(He){return He=He.prefix,He!==void 0&&(Le=null,He?typeof He!="function"?Ne=1:(Ne=2,Le=He):Ne=0),C}function w(He,Ge){var nt=He;if(33>nt.charCodeAt(0)&&(nt=nt.trim()),Je=nt,nt=[Je],0<De){var pe=y(-1,Ge,nt,nt,Ee,_e,0,0,0,0);pe!==void 0&&typeof pe=="string"&&(Ge=pe)}var oe=t(je,nt,Ge,0,0);return 0<De&&(pe=y(-2,oe,nt,nt,Ee,_e,oe.length,0,0,0),pe!==void 0&&(oe=pe)),Je="",ke=0,_e=Ee=1,oe}var x=/^\0+/g,F=/[\0\r\f]/g,N=/: */g,E=/zoo|gra/,W=/([,: ])(transform)/g,O=/,\r+?/g,R=/([\t\r\n ])*\f?&/g,D=/@(k\w+)\s*(\S*)\s*/,j=/::(place)/g,Y=/:(read-only)/g,de=/[svh]\w+-[tblr]{2}/,ne=/\(\s*(.*)\s*\)/g,X=/([\s\S]*?);/g,ce=/-self|flex-/g,he=/[^]*?(:[rp][el]a[\w-]+)[^]*/,le=/stretch|:\s*\w+\-(?:conte|avail)/,fe=/([^-])(image-set\()/,_e=1,Ee=1,ke=0,Ne=1,je=[],Ze=[],De=0,Le=null,Ae=0,Je="";return w.use=T,w.set=C,e!==void 0&&C(e),w}var yAe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Eu(){return(Eu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e}).apply(this,arguments)}var WV=function(e,t){for(var i=[e[0]],a=0,d=t.length;a<d;a+=1)i.push(t[a],e[a+1]);return i},PP=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!$k.typeOf(e)},JS=Object.freeze([]),Hc=Object.freeze({});function tv(e){return typeof e=="function"}function BV(e){return e.displayName||e.name||"Component"}function OD(e){return e&&typeof e.styledComponentId=="string"}var Sh=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",ND=typeof window<"u"&&"HTMLElement"in window,SAe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY));function gv(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(i.length>0?" Args: "+i.join(", "):""))}var bAe=function(){function e(i){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=i}var t=e.prototype;return t.indexOfGroup=function(i){for(var a=0,d=0;d<i;d++)a+=this.groupSizes[d];return a},t.insertRules=function(i,a){if(i>=this.groupSizes.length){for(var d=this.groupSizes,h=d.length,g=h;i>=g;)(g<<=1)<0&&gv(16,""+i);this.groupSizes=new Uint32Array(g),this.groupSizes.set(d),this.length=g;for(var y=h;y<g;y++)this.groupSizes[y]=0}for(var T=this.indexOfGroup(i+1),C=0,w=a.length;C<w;C++)this.tag.insertRule(T,a[C])&&(this.groupSizes[i]++,T++)},t.clearGroup=function(i){if(i<this.length){var a=this.groupSizes[i],d=this.indexOfGroup(i),h=d+a;this.groupSizes[i]=0;for(var g=d;g<h;g++)this.tag.deleteRule(d)}},t.getGroup=function(i){var a="";if(i>=this.length||this.groupSizes[i]===0)return a;for(var d=this.groupSizes[i],h=this.indexOfGroup(i),g=h+d,y=h;y<g;y++)a+=this.tag.getRule(y)+`/*!sc*/
`;return a},e}(),tS=new Map,qS=new Map,ym=1,Sy=function(e){if(tS.has(e))return tS.get(e);for(;qS.has(ym);)ym++;var t=ym++;return tS.set(e,t),qS.set(t,e),t},TAe=function(e){return qS.get(e)},CAe=function(e,t){t>=ym&&(ym=t+1),tS.set(e,t),qS.set(t,e)},IAe="style["+Sh+'][data-styled-version="5.3.11"]',wAe=new RegExp("^"+Sh+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),EAe=function(e,t,i){for(var a,d=i.split(","),h=0,g=d.length;h<g;h++)(a=d[h])&&e.registerName(t,a)},AAe=function(e,t){for(var i=(t.textContent||"").split(`/*!sc*/
`),a=[],d=0,h=i.length;d<h;d++){var g=i[d].trim();if(g){var y=g.match(wAe);if(y){var T=0|parseInt(y[1],10),C=y[2];T!==0&&(CAe(C,T),EAe(e,C,y[3]),e.getTag().insertRules(T,a)),a.length=0}else a.push(g)}}},xAe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},z8=function(e){var t=document.head,i=e||t,a=document.createElement("style"),d=function(y){for(var T=y.childNodes,C=T.length;C>=0;C--){var w=T[C];if(w&&w.nodeType===1&&w.hasAttribute(Sh))return w}}(i),h=d!==void 0?d.nextSibling:null;a.setAttribute(Sh,"active"),a.setAttribute("data-styled-version","5.3.11");var g=xAe();return g&&a.setAttribute("nonce",g),i.insertBefore(a,h),a},PAe=function(){function e(i){var a=this.element=z8(i);a.appendChild(document.createTextNode("")),this.sheet=function(d){if(d.sheet)return d.sheet;for(var h=document.styleSheets,g=0,y=h.length;g<y;g++){var T=h[g];if(T.ownerNode===d)return T}gv(17)}(a),this.length=0}var t=e.prototype;return t.insertRule=function(i,a){try{return this.sheet.insertRule(a,i),this.length++,!0}catch{return!1}},t.deleteRule=function(i){this.sheet.deleteRule(i),this.length--},t.getRule=function(i){var a=this.sheet.cssRules[i];return a!==void 0&&typeof a.cssText=="string"?a.cssText:""},e}(),kAe=function(){function e(i){var a=this.element=z8(i);this.nodes=a.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(i,a){if(i<=this.length&&i>=0){var d=document.createTextNode(a),h=this.nodes[i];return this.element.insertBefore(d,h||null),this.length++,!0}return!1},t.deleteRule=function(i){this.element.removeChild(this.nodes[i]),this.length--},t.getRule=function(i){return i<this.length?this.nodes[i].textContent:""},e}(),DAe=function(){function e(i){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(i,a){return i<=this.length&&(this.rules.splice(i,0,a),this.length++,!0)},t.deleteRule=function(i){this.rules.splice(i,1),this.length--},t.getRule=function(i){return i<this.length?this.rules[i]:""},e}(),UV=ND,RAe={isServer:!ND,useCSSOMInjection:!SAe},H8=function(){function e(i,a,d){i===void 0&&(i=Hc),a===void 0&&(a={}),this.options=Eu({},RAe,{},i),this.gs=a,this.names=new Map(d),this.server=!!i.isServer,!this.server&&ND&&UV&&(UV=!1,function(h){for(var g=document.querySelectorAll(IAe),y=0,T=g.length;y<T;y++){var C=g[y];C&&C.getAttribute(Sh)!=="active"&&(AAe(h,C),C.parentNode&&C.parentNode.removeChild(C))}}(this))}e.registerId=function(i){return Sy(i)};var t=e.prototype;return t.reconstructWithOptions=function(i,a){return a===void 0&&(a=!0),new e(Eu({},this.options,{},i),this.gs,a&&this.names||void 0)},t.allocateGSInstance=function(i){return this.gs[i]=(this.gs[i]||0)+1},t.getTag=function(){return this.tag||(this.tag=(d=(a=this.options).isServer,h=a.useCSSOMInjection,g=a.target,i=d?new DAe(g):h?new PAe(g):new kAe(g),new bAe(i)));var i,a,d,h,g},t.hasNameForId=function(i,a){return this.names.has(i)&&this.names.get(i).has(a)},t.registerName=function(i,a){if(Sy(i),this.names.has(i))this.names.get(i).add(a);else{var d=new Set;d.add(a),this.names.set(i,d)}},t.insertRules=function(i,a,d){this.registerName(i,a),this.getTag().insertRules(Sy(i),d)},t.clearNames=function(i){this.names.has(i)&&this.names.get(i).clear()},t.clearRules=function(i){this.getTag().clearGroup(Sy(i)),this.clearNames(i)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(i){for(var a=i.getTag(),d=a.length,h="",g=0;g<d;g++){var y=TAe(g);if(y!==void 0){var T=i.names.get(y),C=a.getGroup(g);if(T&&C&&T.size){var w=Sh+".g"+g+'[id="'+y+'"]',x="";T!==void 0&&T.forEach(function(F){F.length>0&&(x+=F+",")}),h+=""+C+w+'{content:"'+x+`"}/*!sc*/
`}}}return h}(this)},e}(),FAe=/(a)(d)/gi,VV=function(e){return String.fromCharCode(e+(e>25?39:97))};function kP(e){var t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=VV(t%52)+i;return(VV(t%52)+i).replace(FAe,"$1-$2")}var Yf=function(e,t){for(var i=t.length;i;)e=33*e^t.charCodeAt(--i);return e},$8=function(e){return Yf(5381,e)};function OAe(e){for(var t=0;t<e.length;t+=1){var i=e[t];if(tv(i)&&!OD(i))return!1}return!0}var NAe=$8("5.3.11"),LAe=function(){function e(t,i,a){this.rules=t,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&OAe(t),this.componentId=i,this.baseHash=Yf(NAe,i),this.baseStyle=a,H8.registerId(i)}return e.prototype.generateAndInjectStyles=function(t,i,a){var d=this.componentId,h=[];if(this.baseStyle&&h.push(this.baseStyle.generateAndInjectStyles(t,i,a)),this.isStatic&&!a.hash)if(this.staticRulesId&&i.hasNameForId(d,this.staticRulesId))h.push(this.staticRulesId);else{var g=bh(this.rules,t,i,a).join(""),y=kP(Yf(this.baseHash,g)>>>0);if(!i.hasNameForId(d,y)){var T=a(g,"."+y,void 0,d);i.insertRules(d,y,T)}h.push(y),this.staticRulesId=y}else{for(var C=this.rules.length,w=Yf(this.baseHash,a.hash),x="",F=0;F<C;F++){var N=this.rules[F];if(typeof N=="string")x+=N;else if(N){var E=bh(N,t,i,a),W=Array.isArray(E)?E.join(""):E;w=Yf(w,W+F),x+=W}}if(x){var O=kP(w>>>0);if(!i.hasNameForId(d,O)){var R=a(x,"."+O,void 0,d);i.insertRules(d,O,R)}h.push(O)}}return h.join(" ")},e}(),MAe=/^\s*\/\/.*$/gm,WAe=[":","[",".","#"];function BAe(e){var t,i,a,d,h=e===void 0?Hc:e,g=h.options,y=g===void 0?Hc:g,T=h.plugins,C=T===void 0?JS:T,w=new _Ae(y),x=[],F=function(W){function O(R){if(R)try{W(R+"}")}catch{}}return function(R,D,j,Y,de,ne,X,ce,he,le){switch(R){case 1:if(he===0&&D.charCodeAt(0)===64)return W(D+";"),"";break;case 2:if(ce===0)return D+"/*|*/";break;case 3:switch(ce){case 102:case 112:return W(j[0]+D),"";default:return D+(le===0?"/*|*/":"")}case-2:D.split("/*|*/}").forEach(O)}}}(function(W){x.push(W)}),N=function(W,O,R){return O===0&&WAe.indexOf(R[i.length])!==-1||R.match(d)?W:"."+t};function E(W,O,R,D){D===void 0&&(D="&");var j=W.replace(MAe,""),Y=O&&R?R+" "+O+" { "+j+" }":j;return t=D,i=O,a=new RegExp("\\"+i+"\\b","g"),d=new RegExp("(\\"+i+"\\b){2,}"),w(R||!O?"":O,Y)}return w.use([].concat(C,[function(W,O,R){W===2&&R.length&&R[0].lastIndexOf(i)>0&&(R[0]=R[0].replace(a,N))},F,function(W){if(W===-2){var O=x;return x=[],O}}])),E.hash=C.length?C.reduce(function(W,O){return O.name||gv(15),Yf(W,O.name)},5381).toString():"",E}var K8=_i.createContext();K8.Consumer;var Y8=_i.createContext(),UAe=(Y8.Consumer,new H8),DP=BAe();function VAe(){return be.useContext(K8)||UAe}function jAe(){return be.useContext(Y8)||DP}var GAe=function(){function e(t,i){var a=this;this.inject=function(d,h){h===void 0&&(h=DP);var g=a.name+h.hash;d.hasNameForId(a.id,g)||d.insertRules(a.id,g,h(a.rules,g,"@keyframes"))},this.toString=function(){return gv(12,String(a.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=i}return e.prototype.getName=function(t){return t===void 0&&(t=DP),this.name+t.hash},e}(),zAe=/([A-Z])/,HAe=/([A-Z])/g,$Ae=/^ms-/,KAe=function(e){return"-"+e.toLowerCase()};function jV(e){return zAe.test(e)?e.replace(HAe,KAe).replace($Ae,"-ms-"):e}var GV=function(e){return e==null||e===!1||e===""};function bh(e,t,i,a){if(Array.isArray(e)){for(var d,h=[],g=0,y=e.length;g<y;g+=1)(d=bh(e[g],t,i,a))!==""&&(Array.isArray(d)?h.push.apply(h,d):h.push(d));return h}if(GV(e))return"";if(OD(e))return"."+e.styledComponentId;if(tv(e)){if(typeof(C=e)!="function"||C.prototype&&C.prototype.isReactComponent||!t)return e;var T=e(t);return bh(T,t,i,a)}var C;return e instanceof GAe?i?(e.inject(i,a),e.getName(a)):e:PP(e)?function w(x,F){var N,E,W=[];for(var O in x)x.hasOwnProperty(O)&&!GV(x[O])&&(Array.isArray(x[O])&&x[O].isCss||tv(x[O])?W.push(jV(O)+":",x[O],";"):PP(x[O])?W.push.apply(W,w(x[O],O)):W.push(jV(O)+": "+(N=O,(E=x[O])==null||typeof E=="boolean"||E===""?"":typeof E!="number"||E===0||N in yAe||N.startsWith("--")?String(E).trim():E+"px")+";"));return F?[F+" {"].concat(W,["}"]):W}(e):e.toString()}var zV=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function YAe(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return tv(e)||PP(e)?zV(bh(WV(JS,[e].concat(i)))):i.length===0&&e.length===1&&typeof e[0]=="string"?e:zV(bh(WV(e,i)))}var QAe=function(e,t,i){return i===void 0&&(i=Hc),e.theme!==i.theme&&e.theme||t||i.theme},XAe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,JAe=/(^-|-$)/g;function zA(e){return e.replace(XAe,"-").replace(JAe,"")}var qAe=function(e){return kP($8(e)>>>0)};function by(e){return typeof e=="string"&&!0}var RP=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},ZAe=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function exe(e,t,i){var a=e[i];RP(t)&&RP(a)?Q8(a,t):e[i]=t}function Q8(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];for(var d=0,h=i;d<h.length;d++){var g=h[d];if(RP(g))for(var y in g)ZAe(y)&&exe(e,g[y],y)}return e}var X8=_i.createContext();X8.Consumer;var HA={};function J8(e,t,i){var a=OD(e),d=!by(e),h=t.attrs,g=h===void 0?JS:h,y=t.componentId,T=y===void 0?function(D,j){var Y=typeof D!="string"?"sc":zA(D);HA[Y]=(HA[Y]||0)+1;var de=Y+"-"+qAe("5.3.11"+Y+HA[Y]);return j?j+"-"+de:de}(t.displayName,t.parentComponentId):y,C=t.displayName,w=C===void 0?function(D){return by(D)?"styled."+D:"Styled("+BV(D)+")"}(e):C,x=t.displayName&&t.componentId?zA(t.displayName)+"-"+t.componentId:t.componentId||T,F=a&&e.attrs?Array.prototype.concat(e.attrs,g).filter(Boolean):g,N=t.shouldForwardProp;a&&e.shouldForwardProp&&(N=t.shouldForwardProp?function(D,j,Y){return e.shouldForwardProp(D,j,Y)&&t.shouldForwardProp(D,j,Y)}:e.shouldForwardProp);var E,W=new LAe(i,x,a?e.componentStyle:void 0),O=W.isStatic&&g.length===0,R=function(D,j){return function(Y,de,ne,X){var ce=Y.attrs,he=Y.componentStyle,le=Y.defaultProps,fe=Y.foldedComponentIds,_e=Y.shouldForwardProp,Ee=Y.styledComponentId,ke=Y.target,Ne=function(pe,oe,me){pe===void 0&&(pe=Hc);var ye=Eu({},oe,{theme:pe}),et={};return me.forEach(function(Ke){var mt,vt,Vt,Nt=Ke;for(mt in tv(Nt)&&(Nt=Nt(ye)),Nt)ye[mt]=et[mt]=mt==="className"?(vt=et[mt],Vt=Nt[mt],vt&&Vt?vt+" "+Vt:vt||Vt):Nt[mt]}),[ye,et]}(QAe(de,be.useContext(X8),le)||Hc,de,ce),je=Ne[0],Ze=Ne[1],De=function(pe,oe,me,ye){var et=VAe(),Ke=jAe(),mt=oe?pe.generateAndInjectStyles(Hc,et,Ke):pe.generateAndInjectStyles(me,et,Ke);return mt}(he,X,je),Le=ne,Ae=Ze.$as||de.$as||Ze.as||de.as||ke,Je=by(Ae),He=Ze!==de?Eu({},de,{},Ze):de,Ge={};for(var nt in He)nt[0]!=="$"&&nt!=="as"&&(nt==="forwardedAs"?Ge.as=He[nt]:(_e?_e(nt,gP,Ae):!Je||gP(nt))&&(Ge[nt]=He[nt]));return de.style&&Ze.style!==de.style&&(Ge.style=Eu({},de.style,{},Ze.style)),Ge.className=Array.prototype.concat(fe,Ee,De!==Ee?De:null,de.className,Ze.className).filter(Boolean).join(" "),Ge.ref=Le,be.createElement(Ae,Ge)}(E,D,j,O)};return R.displayName=w,(E=_i.forwardRef(R)).attrs=F,E.componentStyle=W,E.displayName=w,E.shouldForwardProp=N,E.foldedComponentIds=a?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):JS,E.styledComponentId=x,E.target=a?e.target:e,E.withComponent=function(D){var j=t.componentId,Y=function(ne,X){if(ne==null)return{};var ce,he,le={},fe=Object.keys(ne);for(he=0;he<fe.length;he++)ce=fe[he],X.indexOf(ce)>=0||(le[ce]=ne[ce]);return le}(t,["componentId"]),de=j&&j+"-"+(by(D)?D:zA(BV(D)));return J8(D,Eu({},Y,{attrs:F,componentId:de}),i)},Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(D){this._foldedDefaultProps=a?Q8({},e.defaultProps,D):D}}),Object.defineProperty(E,"toString",{value:function(){return"."+E.styledComponentId}}),d&&vSe(E,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),E}var FP=function(e){return function t(i,a,d){if(d===void 0&&(d=Hc),!$k.isValidElementType(a))return gv(1,String(a));var h=function(){return i(a,d,YAe.apply(void 0,arguments))};return h.withConfig=function(g){return t(i,a,Eu({},d,{},g))},h.attrs=function(g){return t(i,a,Eu({},d,{attrs:Array.prototype.concat(d.attrs,g).filter(Boolean)}))},h}(J8,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){FP[e]=FP(e)});const mv=FP;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ZS(e,t,i,a){return new(i||(i=Promise))(function(d,h){function g(C){try{T(a.next(C))}catch(w){h(w)}}function y(C){try{T(a.throw(C))}catch(w){h(w)}}function T(C){C.done?d(C.value):new i(function(w){w(C.value)}).then(g,y)}T((a=a.apply(e,t||[])).next())})}function e1(e,t){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,d,h,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(C){return function(w){return T([C,w])}}function T(C){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,d&&(h=C[0]&2?d.return:C[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,C[1])).done)return h;switch(d=0,h&&(C=[C[0]&2,h.value]),C[0]){case 0:case 1:h=C;break;case 4:return i.label++,{value:C[1],done:!1};case 5:i.label++,d=C[1],C=[0];continue;case 7:C=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(C[0]===6||C[0]===2)){i=0;continue}if(C[0]===3&&(!h||C[1]>h[0]&&C[1]<h[3])){i.label=C[1];break}if(C[0]===6&&i.label<h[1]){i.label=h[1],h=C;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(C);break}h[2]&&i.ops.pop(),i.trys.pop();continue}C=t.call(e,i)}catch(w){C=[6,w],d=0}finally{a=h=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}}function vv(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var txe=mv.div($V||($V=vv([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`],[`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),rxe=mv.div(KV||(KV=vv([`
  width: 100%;
  `,`
`],[`
  width: 100%;
  `,`
`])),function(e){var t=e.aspectRatio;return t==="cover"?`
    position: absolute;
    bottom: 0;
    top: 0;
    left: 0;
    right: 0;`:`
    position: relative;
    padding-bottom: `+100/t+"%;"}),HV=mv.div(YV||(YV=vv([`
  padding: 40px;
`],[`
  padding: 40px;
`]))),nxe=mv.video(QV||(QV=vv([`
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
  transform: rotateY(`,`);
`],[`
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
  transform: rotateY(`,`);
`])),function(e){var t=e.mirrored;return t?"180deg":"0deg"}),ixe=mv.canvas(XV||(XV=vv([`
  display: none;
`],[`
  display: none;
`]))),$V,KV,YV,QV,XV,q8=_i.forwardRef(function(e,t){var i=e.facingMode,a=i===void 0?"user":i,d=e.aspectRatio,h=d===void 0?"cover":d,g=e.numberOfCamerasCallback,y=g===void 0?function(){return null}:g,T=e.videoSourceDeviceId,C=T===void 0?void 0:T,w=e.errorMessages,x=w===void 0?{noCameraAccessible:"No camera device accessible. Please connect your camera or try a different browser.",permissionDenied:"Permission denied. Please refresh and give camera permission.",switchCamera:"It is not possible to switch camera to different one because there is only one video device accessible.",canvas:"Canvas is not supported."}:w,F=e.videoReadyCallback,N=F===void 0?function(){return null}:F,E=be.useRef(null),W=be.useRef(null),O=be.useRef(null),R=be.useRef(null),D=be.useState(0),j=D[0],Y=D[1],de=be.useState(null),ne=de[0],X=de[1],ce=be.useState(a),he=ce[0],le=ce[1],fe=be.useState(!1),_e=fe[0],Ee=fe[1],ke=be.useState(!1),Ne=ke[0],je=ke[1],Ze=be.useState(!1),De=Ze[0],Le=Ze[1],Ae=be.useState(!1),Je=Ae[0],He=Ae[1],Ge=be.useRef(!1);be.useEffect(function(){return Ge.current=!0,function(){Ge.current=!1}},[]),be.useEffect(function(){y(j)},[j]);var nt=function(pe){return pe===void 0&&(pe=!1),ZS(void 0,void 0,void 0,function(){var oe,me;return e1(this,function(ye){switch(ye.label){case 0:if(!(ne&&(navigator!=null&&navigator.mediaDevices)&&Ge.current))return[3,4];if(oe=navigator.mediaDevices.getSupportedConstraints(),me=ne.getTracks()[0],!(oe&&"torch"in oe&&me))return[3,4];ye.label=1;case 1:return ye.trys.push([1,3,,4]),[4,me.applyConstraints({advanced:[{torch:pe}]})];case 2:return ye.sent(),[2,!0];case 3:return ye.sent(),[2,!1];case 4:return[2,!1]}})})};return be.useEffect(function(){nt(Je)},[Je]),be.useImperativeHandle(t,function(){return{takePhoto:function(pe){var oe,me,ye,et,Ke;if(j<1)throw new Error(x.noCameraAccessible);if(W!=null&&W.current){var mt=((oe=E==null?void 0:E.current)===null||oe===void 0?void 0:oe.videoWidth)||1280,vt=((me=E==null?void 0:E.current)===null||me===void 0?void 0:me.videoHeight)||720,Vt=mt/vt,Nt=((ye=R==null?void 0:R.current)===null||ye===void 0?void 0:ye.offsetWidth)||1280,At=((et=R==null?void 0:R.current)===null||et===void 0?void 0:et.offsetHeight)||1280,nr=Nt/At,jt=void 0,Ar=void 0,Yr=void 0,cr=void 0,Un=void 0;switch(Vt>nr?(cr=vt,Yr=vt*nr,jt=(mt-Yr)/2,Ar=0):(Yr=mt,cr=mt/nr,jt=0,Ar=(vt-cr)/2),W.current.width=Yr,W.current.height=cr,O.current||(O.current=W.current.getContext("2d",{willReadFrequently:!0})),O.current&&(E!=null&&E.current)&&O.current.drawImage(E.current,jt,Ar,Yr,cr,0,0,Yr,cr),pe){case"imgData":Un=(Ke=O.current)===null||Ke===void 0?void 0:Ke.getImageData(0,0,Yr,cr);break;default:Un=W.current.toDataURL("image/jpeg");break}return Un}else throw new Error(x.canvas)},switchCamera:function(){if(j<1)throw new Error(x.noCameraAccessible);j<2&&console.error("Error: Unable to switch camera. Only one device is accessible.");var pe=he==="user"?"environment":"user";return le(pe),pe},getNumberOfCameras:function(){return j},toggleTorch:function(){var pe=!Je;return He(pe),pe},torchSupported:De}}),be.useEffect(function(){axe(ne,X,he,C,Y,Ee,je,!!Ge.current)},[he,C]),be.useEffect(function(){return nt(!1).then(function(pe){return Le(pe)}),ne&&E&&E.current&&(E.current.srcObject=ne),function(){ne&&ne.getTracks().forEach(function(pe){pe.stop()})}},[ne]),_i.createElement(rxe,{ref:R,aspectRatio:h},_i.createElement(txe,null,_e?_i.createElement(HV,null,x.noCameraAccessible):null,Ne?_i.createElement(HV,null,x.permissionDenied):null,_i.createElement(nxe,{ref:E,id:"video",muted:!0,autoPlay:!0,playsInline:!0,mirrored:he==="user",onLoadedData:function(){N()}}),_i.createElement(ixe,{ref:W})))});q8.displayName="Camera";var oxe=function(e){return ZS(void 0,void 0,void 0,function(){var t;return e1(this,function(i){switch(i.label){case 0:return t=[],e!=="environment"?[3,2]:[4,navigator.mediaDevices.enumerateDevices().then(function(a){var d=a.filter(function(h){return h.kind=="videoinput"});d.forEach(function(h){var g=h.getCapabilities();g.facingMode&&g.facingMode.indexOf("environment")>=0&&g.deviceId&&t.push(g.deviceId)})})];case 1:i.sent(),i.label=2;case 2:return t.length>1?[2,t.pop()]:[2,void 0]}})})},axe=function(e,t,i,a,d,h,g,y){return ZS(void 0,void 0,void 0,function(){var T,C,w,x,F;return e1(this,function(N){switch(N.label){case 0:return e&&e.getTracks().forEach(function(E){E.stop()}),[4,oxe(i)];case 1:return C=N.sent(),C?T=C:T=a?{exact:a}:void 0,w={audio:!1,video:{deviceId:T,facingMode:i}},!((F=navigator==null?void 0:navigator.mediaDevices)===null||F===void 0)&&F.getUserMedia?navigator.mediaDevices.getUserMedia(w).then(function(E){y&&t(JV(E,d))}).catch(function(E){qV(E,h,g)}):(x=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,x?x(w,function(E){return ZS(void 0,void 0,void 0,function(){return e1(this,function(W){return y&&t(JV(E,d)),[2]})})},function(E){qV(E,h,g)}):h(!0)),[2]}})})},JV=function(e,t){return navigator.mediaDevices.enumerateDevices().then(function(i){return t(i.filter(function(a){return a.kind==="videoinput"}).length)}),e},qV=function(e,t,i){console.error(e),e.name==="PermissionDeniedError"?i(!0):t(!0)};const sxe=({onHandleImage:e})=>{const[t,i]=be.useState(0),[a,d]=be.useState("some.jpg"),h=be.useRef(null),g=be.useRef(null),y=be.useRef(null),T=[{action:()=>{h.current&&h.current.switchCamera()},label:"Switch"},{action:()=>{h.current&&h.current.toggleTorch()},label:"Torch"}];function C(){var w,x;if(h.current){const F=h.current.takePhoto();d(F);const N=(w=g==null?void 0:g.current)==null?void 0:w.getContext("2d");N&&(g!=null&&g.current)&&(N.drawImage(y==null?void 0:y.current,0,0,g.current.width,g.current.height),(x=g==null?void 0:g.current)==null||x.toBlob(E=>{if(E){const W=new File([E],"photo.jpg",{type:"image/jpeg"});e(W)}},"image/jpeg"))}}return a?Re.jsxs(Re.Fragment,{children:[Re.jsx("div",{className:"absolute top-10 w-full flex justify-between",children:Re.jsx("button",{className:"w-16 h-16 bg-white rounded-full",onClick:()=>d(null),children:"clear"})}),Re.jsx("img",{style:{objectFit:"cover",width:"100px"},src:a}),Re.jsx("div",{className:"absolute bottom-10",children:Re.jsx("button",{children:"Simpan"})})]}):Re.jsxs(Re.Fragment,{children:[" ",Re.jsx("button",{onClick:()=>{C()},children:"takePicture2"}),Re.jsxs("div",{className:" top-10 left-5 z-10",children:[" captureMenu",T.map(w=>Re.jsxs("button",{className:"w-16 h-16 bg-white rounded-full basis-1/3",disabled:w.label==="Switch"&&t<=1,onClick:w.action,children:["switch",w.label]},w.label)),Re.jsx("button",{onClick:()=>{C()},children:"takePicture2"})]}),Re.jsx("button",{onClick:()=>{C()},children:"takePicture2"}),Re.jsx(qa,{children:Re.jsx(q8,{ref:h,facingMode:"environment",numberOfCamerasCallback:w=>i(w),errorMessages:{noCameraAccessible:"No camera device accessible. Please connect your camera or try a different browser.",permissionDenied:"Permission denied. Please refresh and give camera permission.",switchCamera:"It is not possible to switch camera to different one because there is only one video device accessible.",canvas:"Canvas is not supported."},videoReadyCallback:()=>{console.log("Video feed ready.")}})}),Re.jsxs("div",{className:" bottom-10 flex w-full justify-center",children:["BUU  ",Re.jsx("button",{className:"w-16 h-16 bg-white rounded-full",onClick:()=>{C()},children:"takePicture"}),a&&Re.jsx("img",{src:a,alt:"Captured",ref:y}),Re.jsx("canvas",{ref:g,style:{display:"none"},width:"30px",height:"20px"})]}),Re.jsx("button",{onClick:()=>{C()},children:"takePicture2"})]})};/*!
 * Dynamsoft JavaScript Library
 * @product Dynamsoft Core JS Edition
 * @website https://www.dynamsoft.com
 * @copyright Copyright 2024, Dynamsoft Corporation
 * @author Dynamsoft
 * @version 3.4.21
 * @fileoverview Dynamsoft JavaScript Library for Core
 * More info on Dynamsoft Core JS: https://www.dynamsoft.com/capture-vision/docs/web/programming/javascript/api-reference/core/core-module.html
 */var ZV,ej,tj;typeof SuppressedError=="function"&&SuppressedError,function(e){e[e.BOPM_BLOCK=0]="BOPM_BLOCK",e[e.BOPM_UPDATE=1]="BOPM_UPDATE"}(ZV||(ZV={})),function(e){e[e.CCUT_AUTO=0]="CCUT_AUTO",e[e.CCUT_FULL_CHANNEL=1]="CCUT_FULL_CHANNEL",e[e.CCUT_Y_CHANNEL_ONLY=2]="CCUT_Y_CHANNEL_ONLY",e[e.CCUT_RGB_R_CHANNEL_ONLY=3]="CCUT_RGB_R_CHANNEL_ONLY",e[e.CCUT_RGB_G_CHANNEL_ONLY=4]="CCUT_RGB_G_CHANNEL_ONLY",e[e.CCUT_RGB_B_CHANNEL_ONLY=5]="CCUT_RGB_B_CHANNEL_ONLY"}(ej||(ej={})),function(e){e[e.IPF_BINARY=0]="IPF_BINARY",e[e.IPF_BINARYINVERTED=1]="IPF_BINARYINVERTED",e[e.IPF_GRAYSCALED=2]="IPF_GRAYSCALED",e[e.IPF_NV21=3]="IPF_NV21",e[e.IPF_RGB_565=4]="IPF_RGB_565",e[e.IPF_RGB_555=5]="IPF_RGB_555",e[e.IPF_RGB_888=6]="IPF_RGB_888",e[e.IPF_ARGB_8888=7]="IPF_ARGB_8888",e[e.IPF_RGB_161616=8]="IPF_RGB_161616",e[e.IPF_ARGB_16161616=9]="IPF_ARGB_16161616",e[e.IPF_ABGR_8888=10]="IPF_ABGR_8888",e[e.IPF_ABGR_16161616=11]="IPF_ABGR_16161616",e[e.IPF_BGR_888=12]="IPF_BGR_888",e[e.IPF_BINARY_8=13]="IPF_BINARY_8",e[e.IPF_NV12=14]="IPF_NV12",e[e.IPF_BINARY_8_INVERTED=15]="IPF_BINARY_8_INVERTED"}(tj||(tj={}));const t1=typeof self>"u",rj=(()=>{if(!t1&&document.currentScript){let e=document.currentScript.src,t=e.indexOf("?");if(t!=-1)e=e.substring(0,t);else{let i=e.indexOf("#");i!=-1&&(e=e.substring(0,i))}return e.substring(0,e.lastIndexOf("/")+1)}return"./"})(),Z8=e=>{if(e==null&&(e="./"),!t1){let t=document.createElement("a");t.href=e,e=t.href}return e.endsWith("/")||(e+="/"),e},uxe=(e,t)=>{const i={};for(let a in t){const d=a;let h=e[d];h&&typeof h!="string"&&h.path&&(h=h.path),e.rootDirectory&&!e.rootDirectory.endsWith("/")&&(e.rootDirectory=e.rootDirectory+"/"),h===void 0?e.rootDirectory?h=`${e.rootDirectory}${cxe[d]}@${t[d].version}/dist/`:(h=t[d].path,h||(h=t[d])):h.startsWith("@engineRootDirectory/")&&(h=h.replace("@engineRootDirectory/",e.rootDirectory)),i[d]=Z8(h)}return i},cxe={std:"dynamsoft-capture-vision-std",dip:"dynamsoft-image-processing",core:"dynamsoft-core",dnn:"dynamsoft-capture-vision-dnn",license:"dynamsoft-license",utility:"dynamsoft-utility",cvr:"dynamsoft-capture-vision-router",dbr:"dynamsoft-barcode-reader",dlr:"dynamsoft-label-recognizer",ddn:"dynamsoft-document-normalizer",dcp:"dynamsoft-code-parser",dcpd:"dynamsoft-code-parser",dlrData:"dynamsoft-label-recognizer-data",dce:"dynamsoft-camera-enhancer"},nj=e=>e&&typeof e=="object"&&typeof e.then=="function";class LD extends Promise{get status(){return this._s}get isPending(){return this._s==="pending"}get isFulfilled(){return this._s==="fulfilled"}get isRejected(){return this._s==="rejected"}get task(){return this._task}set task(t){let i;this._task=t,nj(t)?i=t:typeof t=="function"&&(i=new Promise(t)),i&&(async()=>{try{const a=await i;t===this._task&&this.resolve(a)}catch(a){t===this._task&&this.reject(a)}})()}get isEmpty(){return this._task==null}constructor(t){let i,a;super((d,h)=>{i=d,a=h}),this._s="pending",this.resolve=d=>{this.isPending&&(nj(d)?this.task=d:(this._s="fulfilled",i(d)))},this.reject=d=>{this.isPending&&(this._s="rejected",a(d))},this.task=t}}let Mg,Tu,Ty,r1,mo;typeof navigator<"u"&&(Mg=navigator,Tu=Mg.userAgent,Ty=Mg.platform,r1=Mg.mediaDevices),function(){if(!t1){const e={Edge:{search:"Edg",verSearch:"Edg"},OPR:null,Chrome:null,Safari:{str:Mg.vendor,search:"Apple",verSearch:["Version","iPhone OS","CPU OS"]},Firefox:null,Explorer:{search:"MSIE",verSearch:"MSIE"}},t={HarmonyOS:null,Android:null,iPhone:null,iPad:null,Windows:{str:Ty,search:"Win"},Mac:{str:Ty},Linux:{str:Ty}};let i="unknownBrowser",a=0,d="unknownOS";for(let h in e){const g=e[h]||{};let y=g.str||Tu,T=g.search||h,C=g.verStr||Tu,w=g.verSearch||h;if(w instanceof Array||(w=[w]),y.indexOf(T)!=-1){i=h;for(let x of w){let F=C.indexOf(x);if(F!=-1){a=parseFloat(C.substring(F+x.length+1));break}}break}}for(let h in t){const g=t[h]||{};let y=g.str||Tu,T=g.search||h;if(y.indexOf(T)!=-1){d=h;break}}d=="Linux"&&Tu.indexOf("Windows NT")!=-1&&(d="HarmonyOS"),mo={browser:i,version:a,OS:d}}t1&&(mo={browser:"ssr",version:0,OS:"ssr"})}();const lxe=typeof WebAssembly<"u"&&Tu&&!(/Safari/.test(Tu)&&!/Chrome/.test(Tu)&&/\(.+\s11_2_([2-6]).*\)/.test(Tu)),dxe=!(typeof Worker>"u"),e7=!(!r1||!r1.getUserMedia),fxe=async()=>{let e=!1;if(e7)try{(await r1.getUserMedia({video:!0})).getTracks().forEach(t=>{t.stop()}),e=!0}catch{}return e};mo.browser==="Chrome"&&mo.version>66||mo.browser==="Safari"&&mo.version>13||mo.browser==="OPR"&&mo.version>43||mo.browser==="Edge"&&mo.version;const Yc={},ij=async e=>{let t=typeof e=="string"?[e]:e,i=[];for(let a of t)i.push(Yc[a]=Yc[a]||new LD);await Promise.all(i)},hxe=async(e,t)=>{let i,a=typeof e=="string"?[e]:e,d=[];for(let h of a){let g;d.push(g=Yc[h]=Yc[h]||new LD(i=i||t())),g.isEmpty&&(g.task=i=i||t())}await Promise.all(d)};let Us,t7=0;const oj=()=>t7++,Wl={};let Sm;const pxe=e=>{Sm=e,Us&&Us.postMessage({type:"setBLog",body:{value:!!e}})};let MD=!1;const gxe=e=>{MD=e,Us&&Us.postMessage({type:"setBDebug",body:{value:!!e}})},Yg={},mxe={},vxe={std:{version:"1.4.10",path:Z8(rj+"../../dynamsoft-capture-vision-std@1.4.10/dist/")},core:{version:"3.4.21",path:rj}},$A={dip:{wasm:!0}},OP={},_xe=async e=>{let t;e instanceof Array||(e=e?[e]:[]);let i=Yc.core;t=!i||i.isEmpty;let a=new Map;const d=y=>{if((y=y.toLowerCase())=="std"||y=="core")return;if(!$A[y])throw Error("The '"+y+"' module cannot be found.");let T=$A[y].deps;if(T!=null&&T.length)for(let w of T)d(w);let C=Yc[y];a.has(y)||a.set(y,!C||C.isEmpty)};for(let y of e)d(y);let h=[];t&&h.push("core"),h.push(...a.keys());const g=[...a.entries()].filter(y=>!y[1]).map(y=>y[0]);await hxe(h,async()=>{const y=[...a.entries()].filter(N=>N[1]).map(N=>N[0]);await ij(g);const T=uxe(OP,vxe),C={};for(let N of y)C[N]=$A[N];const w={engineResourcePaths:T,autoResources:C,names:y};let x=new LD;if(t){w.needLoadCore=!0;let N=T.core+Ja._workerName;N.startsWith(location.origin)||(N=await fetch(N).then(E=>E.blob()).then(E=>URL.createObjectURL(E))),Us=new Worker(N),Us.onerror=E=>{let W=new Error(E.message);x.reject(W)},Us.addEventListener("message",E=>{let W=E.data?E.data:E,O=W.type,R=W.id,D=W.body;switch(O){case"log":Sm&&Sm(W.message);break;case"task":try{Wl[R](D),delete Wl[R]}catch(j){throw delete Wl[R],j}break;case"event":try{Wl[R](D)}catch(j){throw j}break;default:console.log(E)}}),w.bLog=!!Sm,w.bd=MD,w.dm=location.origin.startsWith("http")?location.origin:"https://localhost"}else await ij("core");let F=t7++;Wl[F]=N=>{if(N.success)Object.assign(Yg,N.versions),JSON.stringify(N.versions)!=="{}"&&(Ja._versions=N.versions),x.resolve(void 0);else{const E=Error(N.message);N.stack&&(E.stack=N.stack),x.reject(E)}},Us.postMessage({type:"loadWasm",body:w,id:F}),await x})};class Ja{static get engineResourcePaths(){return OP}static set engineResourcePaths(t){Object.assign(OP,t)}static get bSupportDce4Module(){return this._bSupportDce4Module}static get bSupportIRTModule(){return this._bSupportIRTModule}static get versions(){return this._versions}static get _onLog(){return Sm}static set _onLog(t){pxe(t)}static get _bDebug(){return MD}static set _bDebug(t){gxe(t)}static isModuleLoaded(t){return t=(t=t||"core").toLowerCase(),!!Yc[t]&&Yc[t].isFulfilled}static async loadWasm(t){return await _xe(t)}static async detectEnvironment(){return await(async()=>({wasm:lxe,worker:dxe,getUserMedia:e7,camera:await fxe(),browser:mo.browser,version:mo.version,OS:mo.OS}))()}static async getModuleVersion(){return await new Promise((t,i)=>{let a=oj();Wl[a]=async d=>{if(d.success)return t(d.versions);{let h=new Error(d.message);return h.stack=d.stack+`
`+h.stack,i(h)}},Us.postMessage({type:"getModuleVersion",id:a})})}static getVersion(){const t=Yg.core&&Yg.core.worker,i=Yg.core&&Yg.core.wasm;return`3.4.21(Worker: ${t||"Not Loaded"}, Wasm: ${i||"Not Loaded"})`}static enableLogging(){Ja._onLog=console.log}static disableLogging(){Ja._onLog=null}static async cfd(t){return await new Promise((i,a)=>{let d=oj();Wl[d]=async h=>{if(h.success)return i();{let g=new Error(h.message);return g.stack=h.stack+`
`+g.stack,a(g)}},Us.postMessage({type:"cfd",id:d,body:{count:t}})})}}var aj,sj,uj,cj,lj,dj,fj,hj;Ja._bSupportDce4Module=-1,Ja._bSupportIRTModule=-1,Ja._versions=null,Ja._workerName="core.worker.js",Ja.browserInfo=mo,function(e){e[e.CRIT_ORIGINAL_IMAGE=1]="CRIT_ORIGINAL_IMAGE",e[e.CRIT_BARCODE=2]="CRIT_BARCODE",e[e.CRIT_TEXT_LINE=4]="CRIT_TEXT_LINE",e[e.CRIT_DETECTED_QUAD=8]="CRIT_DETECTED_QUAD",e[e.CRIT_NORMALIZED_IMAGE=16]="CRIT_NORMALIZED_IMAGE",e[e.CRIT_PARSED_RESULT=32]="CRIT_PARSED_RESULT"}(aj||(aj={})),function(e){e[e.CT_NORMAL_INTERSECTED=0]="CT_NORMAL_INTERSECTED",e[e.CT_T_INTERSECTED=1]="CT_T_INTERSECTED",e[e.CT_CROSS_INTERSECTED=2]="CT_CROSS_INTERSECTED",e[e.CT_NOT_INTERSECTED=3]="CT_NOT_INTERSECTED"}(sj||(sj={})),function(e){e[e.EC_OK=0]="EC_OK",e[e.EC_UNKNOWN=-1e4]="EC_UNKNOWN",e[e.EC_NO_MEMORY=-10001]="EC_NO_MEMORY",e[e.EC_NULL_POINTER=-10002]="EC_NULL_POINTER",e[e.EC_LICENSE_INVALID=-10003]="EC_LICENSE_INVALID",e[e.EC_LICENSE_EXPIRED=-10004]="EC_LICENSE_EXPIRED",e[e.EC_FILE_NOT_FOUND=-10005]="EC_FILE_NOT_FOUND",e[e.EC_FILE_TYPE_NOT_SUPPORTED=-10006]="EC_FILE_TYPE_NOT_SUPPORTED",e[e.EC_BPP_NOT_SUPPORTED=-10007]="EC_BPP_NOT_SUPPORTED",e[e.EC_INDEX_INVALID=-10008]="EC_INDEX_INVALID",e[e.EC_CUSTOM_REGION_INVALID=-10010]="EC_CUSTOM_REGION_INVALID",e[e.EC_IMAGE_READ_FAILED=-10012]="EC_IMAGE_READ_FAILED",e[e.EC_TIFF_READ_FAILED=-10013]="EC_TIFF_READ_FAILED",e[e.EC_DIB_BUFFER_INVALID=-10018]="EC_DIB_BUFFER_INVALID",e[e.EC_PDF_READ_FAILED=-10021]="EC_PDF_READ_FAILED",e[e.EC_PDF_DLL_MISSING=-10022]="EC_PDF_DLL_MISSING",e[e.EC_PAGE_NUMBER_INVALID=-10023]="EC_PAGE_NUMBER_INVALID",e[e.EC_CUSTOM_SIZE_INVALID=-10024]="EC_CUSTOM_SIZE_INVALID",e[e.EC_TIMEOUT=-10026]="EC_TIMEOUT",e[e.EC_JSON_PARSE_FAILED=-10030]="EC_JSON_PARSE_FAILED",e[e.EC_JSON_TYPE_INVALID=-10031]="EC_JSON_TYPE_INVALID",e[e.EC_JSON_KEY_INVALID=-10032]="EC_JSON_KEY_INVALID",e[e.EC_JSON_VALUE_INVALID=-10033]="EC_JSON_VALUE_INVALID",e[e.EC_JSON_NAME_KEY_MISSING=-10034]="EC_JSON_NAME_KEY_MISSING",e[e.EC_JSON_NAME_VALUE_DUPLICATED=-10035]="EC_JSON_NAME_VALUE_DUPLICATED",e[e.EC_TEMPLATE_NAME_INVALID=-10036]="EC_TEMPLATE_NAME_INVALID",e[e.EC_JSON_NAME_REFERENCE_INVALID=-10037]="EC_JSON_NAME_REFERENCE_INVALID",e[e.EC_PARAMETER_VALUE_INVALID=-10038]="EC_PARAMETER_VALUE_INVALID",e[e.EC_DOMAIN_NOT_MATCH=-10039]="EC_DOMAIN_NOT_MATCH",e[e.EC_RESERVED_INFO_NOT_MATCH=-10040]="EC_RESERVED_INFO_NOT_MATCH",e[e.EC_LICENSE_KEY_NOT_MATCH=-10043]="EC_LICENSE_KEY_NOT_MATCH",e[e.EC_REQUEST_FAILED=-10044]="EC_REQUEST_FAILED",e[e.EC_LICENSE_INIT_FAILED=-10045]="EC_LICENSE_INIT_FAILED",e[e.EC_SET_MODE_ARGUMENT_ERROR=-10051]="EC_SET_MODE_ARGUMENT_ERROR",e[e.EC_LICENSE_CONTENT_INVALID=-10052]="EC_LICENSE_CONTENT_INVALID",e[e.EC_LICENSE_KEY_INVALID=-10053]="EC_LICENSE_KEY_INVALID",e[e.EC_LICENSE_DEVICE_RUNS_OUT=-10054]="EC_LICENSE_DEVICE_RUNS_OUT",e[e.EC_GET_MODE_ARGUMENT_ERROR=-10055]="EC_GET_MODE_ARGUMENT_ERROR",e[e.EC_IRT_LICENSE_INVALID=-10056]="EC_IRT_LICENSE_INVALID",e[e.EC_FILE_SAVE_FAILED=-10058]="EC_FILE_SAVE_FAILED",e[e.EC_STAGE_TYPE_INVALID=-10059]="EC_STAGE_TYPE_INVALID",e[e.EC_IMAGE_ORIENTATION_INVALID=-10060]="EC_IMAGE_ORIENTATION_INVALID",e[e.EC_CONVERT_COMPLEX_TEMPLATE_ERROR=-10061]="EC_CONVERT_COMPLEX_TEMPLATE_ERROR",e[e.EC_CALL_REJECTED_WHEN_CAPTURING=-10062]="EC_CALL_REJECTED_WHEN_CAPTURING",e[e.EC_NO_IMAGE_SOURCE=-10063]="EC_NO_IMAGE_SOURCE",e[e.EC_READ_DIRECTORY_FAILED=-10064]="EC_READ_DIRECTORY_FAILED",e[e.EC_MODULE_NOT_FOUND=-10065]="EC_MODULE_NOT_FOUND",e[e.EC_MULTI_PAGES_NOT_SUPPORTED=-10066]="EC_MULTI_PAGES_NOT_SUPPORTED",e[e.EC_FILE_ALREADY_EXISTS=-10067]="EC_FILE_ALREADY_EXISTS",e[e.EC_CREATE_FILE_FAILED=-10068]="EC_CREATE_FILE_FAILED",e[e.EC_IMGAE_DATA_INVALID=-10069]="EC_IMGAE_DATA_INVALID",e[e.EC_IMAGE_SIZE_NOT_MATCH=-10070]="EC_IMAGE_SIZE_NOT_MATCH",e[e.EC_IMAGE_PIXEL_FORMAT_NOT_MATCH=-10071]="EC_IMAGE_PIXEL_FORMAT_NOT_MATCH",e[e.EC_SECTION_LEVEL_RESULT_IRREPLACEABLE=-10072]="EC_SECTION_LEVEL_RESULT_IRREPLACEABLE",e[e.EC_AXIS_DEFINITION_INCORRECT=-10073]="EC_AXIS_DEFINITION_INCORRECT",e[e.EC_RESULT_TYPE_MISMATCH_IRREPLACEABLE=-10074]="EC_RESULT_TYPE_MISMATCH_IRREPLACEABLE",e[e.EC_PDF_LIBRARY_LOAD_FAILED=-10075]="EC_PDF_LIBRARY_LOAD_FAILED",e[e.EC_NO_LICENSE=-2e4]="EC_NO_LICENSE",e[e.EC_HANDSHAKE_CODE_INVALID=-20001]="EC_HANDSHAKE_CODE_INVALID",e[e.EC_LICENSE_BUFFER_FAILED=-20002]="EC_LICENSE_BUFFER_FAILED",e[e.EC_LICENSE_SYNC_FAILED=-20003]="EC_LICENSE_SYNC_FAILED",e[e.EC_DEVICE_NOT_MATCH=-20004]="EC_DEVICE_NOT_MATCH",e[e.EC_BIND_DEVICE_FAILED=-20005]="EC_BIND_DEVICE_FAILED",e[e.EC_INSTANCE_COUNT_OVER_LIMIT=-20008]="EC_INSTANCE_COUNT_OVER_LIMIT",e[e.EC_LICENSE_INIT_SEQUENCE_FAILED=-20009]="EC_LICENSE_INIT_SEQUENCE_FAILED",e[e.EC_TRIAL_LICENSE=-20010]="EC_TRIAL_LICENSE",e[e.EC_FAILED_TO_REACH_DLS=-20200]="EC_FAILED_TO_REACH_DLS",e[e.EC_LICENSE_CACHE_USED=-20012]="EC_LICENSE_CACHE_USED",e[e.EC_BARCODE_FORMAT_INVALID=-30009]="EC_BARCODE_FORMAT_INVALID",e[e.EC_QR_LICENSE_INVALID=-30016]="EC_QR_LICENSE_INVALID",e[e.EC_1D_LICENSE_INVALID=-30017]="EC_1D_LICENSE_INVALID",e[e.EC_PDF417_LICENSE_INVALID=-30019]="EC_PDF417_LICENSE_INVALID",e[e.EC_DATAMATRIX_LICENSE_INVALID=-30020]="EC_DATAMATRIX_LICENSE_INVALID",e[e.EC_CUSTOM_MODULESIZE_INVALID=-30025]="EC_CUSTOM_MODULESIZE_INVALID",e[e.EC_AZTEC_LICENSE_INVALID=-30041]="EC_AZTEC_LICENSE_INVALID",e[e.EC_PATCHCODE_LICENSE_INVALID=-30046]="EC_PATCHCODE_LICENSE_INVALID",e[e.EC_POSTALCODE_LICENSE_INVALID=-30047]="EC_POSTALCODE_LICENSE_INVALID",e[e.EC_DPM_LICENSE_INVALID=-30048]="EC_DPM_LICENSE_INVALID",e[e.EC_FRAME_DECODING_THREAD_EXISTS=-30049]="EC_FRAME_DECODING_THREAD_EXISTS",e[e.EC_STOP_DECODING_THREAD_FAILED=-30050]="EC_STOP_DECODING_THREAD_FAILED",e[e.EC_MAXICODE_LICENSE_INVALID=-30057]="EC_MAXICODE_LICENSE_INVALID",e[e.EC_GS1_DATABAR_LICENSE_INVALID=-30058]="EC_GS1_DATABAR_LICENSE_INVALID",e[e.EC_GS1_COMPOSITE_LICENSE_INVALID=-30059]="EC_GS1_COMPOSITE_LICENSE_INVALID",e[e.EC_DOTCODE_LICENSE_INVALID=-30061]="EC_DOTCODE_LICENSE_INVALID",e[e.EC_PHARMACODE_LICENSE_INVALID=-30062]="EC_PHARMACODE_LICENSE_INVALID",e[e.EC_CHARACTER_MODEL_FILE_NOT_FOUND=-40100]="EC_CHARACTER_MODEL_FILE_NOT_FOUND",e[e.EC_TEXT_LINE_GROUP_LAYOUT_CONFLICT=-40101]="EC_TEXT_LINE_GROUP_LAYOUT_CONFLICT",e[e.EC_TEXT_LINE_GROUP_REGEX_CONFLICT=-40102]="EC_TEXT_LINE_GROUP_REGEX_CONFLICT",e[e.EC_QUADRILATERAL_INVALID=-50057]="EC_QUADRILATERAL_INVALID",e[e.EC_PANORAMA_LICENSE_INVALID=-70060]="EC_PANORAMA_LICENSE_INVALID",e[e.EC_RESOURCE_PATH_NOT_EXIST=-90001]="EC_RESOURCE_PATH_NOT_EXIST",e[e.EC_RESOURCE_LOAD_FAILED=-90002]="EC_RESOURCE_LOAD_FAILED",e[e.EC_CODE_SPECIFICATION_NOT_FOUND=-90003]="EC_CODE_SPECIFICATION_NOT_FOUND",e[e.EC_FULL_CODE_EMPTY=-90004]="EC_FULL_CODE_EMPTY",e[e.EC_FULL_CODE_PREPROCESS_FAILED=-90005]="EC_FULL_CODE_PREPROCESS_FAILED",e[e.EC_ZA_DL_LICENSE_INVALID=-90006]="EC_ZA_DL_LICENSE_INVALID",e[e.EC_AAMVA_DL_ID_LICENSE_INVALID=-90007]="EC_AAMVA_DL_ID_LICENSE_INVALID",e[e.EC_AADHAAR_LICENSE_INVALID=-90008]="EC_AADHAAR_LICENSE_INVALID",e[e.EC_MRTD_LICENSE_INVALID=-90009]="EC_MRTD_LICENSE_INVALID",e[e.EC_VIN_LICENSE_INVALID=-90010]="EC_VIN_LICENSE_INVALID",e[e.EC_CUSTOMIZED_CODE_TYPE_LICENSE_INVALID=-90011]="EC_CUSTOMIZED_CODE_TYPE_LICENSE_INVALID",e[e.EC_LICENSE_WARNING=-10076]="EC_LICENSE_WARNING",e[e.EC_BARCODE_READER_LICENSE_NOT_FOUND=-30063]="EC_BARCODE_READER_LICENSE_NOT_FOUND",e[e.EC_LABEL_RECOGNIZER_LICENSE_NOT_FOUND=-40103]="EC_LABEL_RECOGNIZER_LICENSE_NOT_FOUND",e[e.EC_DOCUMENT_NORMALIZER_LICENSE_NOT_FOUND=-50058]="EC_DOCUMENT_NORMALIZER_LICENSE_NOT_FOUND",e[e.EC_CODE_PARSER_LICENSE_NOT_FOUND=-90012]="EC_CODE_PARSER_LICENSE_NOT_FOUND"}(uj||(uj={})),function(e){e[e.GEM_SKIP=0]="GEM_SKIP",e[e.GEM_AUTO=1]="GEM_AUTO",e[e.GEM_GENERAL=2]="GEM_GENERAL",e[e.GEM_GRAY_EQUALIZE=4]="GEM_GRAY_EQUALIZE",e[e.GEM_GRAY_SMOOTH=8]="GEM_GRAY_SMOOTH",e[e.GEM_SHARPEN_SMOOTH=16]="GEM_SHARPEN_SMOOTH",e[e.GEM_REV=-2147483648]="GEM_REV"}(cj||(cj={})),function(e){e[e.GTM_SKIP=0]="GTM_SKIP",e[e.GTM_INVERTED=1]="GTM_INVERTED",e[e.GTM_ORIGINAL=2]="GTM_ORIGINAL",e[e.GTM_AUTO=4]="GTM_AUTO",e[e.GTM_REV=-2147483648]="GTM_REV"}(lj||(lj={})),function(e){e[e.ITT_FILE_IMAGE=0]="ITT_FILE_IMAGE",e[e.ITT_VIDEO_FRAME=1]="ITT_VIDEO_FRAME"}(dj||(dj={})),function(e){e[e.PDFRM_VECTOR=1]="PDFRM_VECTOR",e[e.PDFRM_RASTER=2]="PDFRM_RASTER",e[e.PDFRM_REV=-2147483648]="PDFRM_REV"}(fj||(fj={})),function(e){e[e.RDS_RASTERIZED_PAGES=0]="RDS_RASTERIZED_PAGES",e[e.RDS_EXTRACTED_IMAGES=1]="RDS_EXTRACTED_IMAGES"}(hj||(hj={}));BigInt(0),BigInt(1),BigInt(2),BigInt(4),BigInt(8),BigInt(16),BigInt(32),BigInt(64),BigInt(128),BigInt(256),BigInt(512),BigInt(1024),BigInt(2048),BigInt(4096),BigInt(8192),BigInt(16384),BigInt(32768),BigInt(65536),BigInt(1<<17),BigInt(1<<18),BigInt(1<<19),BigInt(1<<20),BigInt(1<<21),BigInt(1<<22),BigInt(1<<23),BigInt(1<<24),BigInt(1<<25),BigInt(1<<26),BigInt(1<<27),BigInt(1<<28),BigInt("0xFFFFFFFFFFFFFFFF");var pj,gj;(function(e){e[e.ROET_PREDETECTED_REGION=0]="ROET_PREDETECTED_REGION",e[e.ROET_LOCALIZED_BARCODE=1]="ROET_LOCALIZED_BARCODE",e[e.ROET_DECODED_BARCODE=2]="ROET_DECODED_BARCODE",e[e.ROET_LOCALIZED_TEXT_LINE=3]="ROET_LOCALIZED_TEXT_LINE",e[e.ROET_RECOGNIZED_TEXT_LINE=4]="ROET_RECOGNIZED_TEXT_LINE",e[e.ROET_DETECTED_QUAD=5]="ROET_DETECTED_QUAD",e[e.ROET_NORMALIZED_IMAGE=6]="ROET_NORMALIZED_IMAGE",e[e.ROET_SOURCE_IMAGE=7]="ROET_SOURCE_IMAGE",e[e.ROET_TARGET_ROI=8]="ROET_TARGET_ROI"})(pj||(pj={})),function(e){e[e.ST_NULL=0]="ST_NULL",e[e.ST_REGION_PREDETECTION=1]="ST_REGION_PREDETECTION",e[e.ST_BARCODE_LOCALIZATION=2]="ST_BARCODE_LOCALIZATION",e[e.ST_BARCODE_DECODING=3]="ST_BARCODE_DECODING",e[e.ST_TEXT_LINE_LOCALIZATION=4]="ST_TEXT_LINE_LOCALIZATION",e[e.ST_TEXT_LINE_RECOGNITION=5]="ST_TEXT_LINE_RECOGNITION",e[e.ST_DOCUMENT_DETECTION=6]="ST_DOCUMENT_DETECTION",e[e.ST_DOCUMENT_NORMALIZATION=7]="ST_DOCUMENT_NORMALIZATION"}(gj||(gj={}));/*! 20241010102903 - 20230504
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
* Version: 18.5.1
*/var Ki=self||window||{},K=Ki.Dynamsoft||{};(function(e){e.DWT||(e.DWT={}),e.DWT.LTS||(e.DWT.LTS={}),e.Lib||(e.Lib={}),e.Lib.UI||(e.Lib.UI={}),e.Lib.html5||(e.Lib.html5={}),Ki.Dynamsoft=e})(K);(function(e){if(!e.WeakSet){let T=function(C){this.name="__st"+(1e9*Math.random()>>>0)+(t+++"__"),C&&C.forEach&&C.forEach(this.add,this)};var g=T;e.WeakSet=T;var t=Date.now()%1e9,i=T.prototype;i.add=function(C){var w=this.name;return C[w]||Object.defineProperty(C,w,{value:!0,writable:!0}),this},i.delete=function(C){return C[this.name]?(C[this.name]=void 0,!0):!1},i.has=function(C){return!!C[this.name]}}if(!e.WeakMap){let T=function(C){return Object(C)===C};var y=T,a=Object.prototype.hasOwnProperty,d=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),h=function(C,w,x){d?Object.defineProperty(C,w,{configurable:!0,writable:!0,value:x}):C[w]=x};e.WeakMap=function(){function C(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(h(this,"_id",x("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}h(C.prototype,"delete",function(N){if(w(this,"delete"),!T(N))return!1;var E=N[this._id];return E&&E[0]===N?(delete N[this._id],!0):!1}),h(C.prototype,"get",function(N){if(w(this,"get"),!!T(N)){var E=N[this._id];if(E&&E[0]===N)return E[1]}}),h(C.prototype,"has",function(N){if(w(this,"has"),!T(N))return!1;var E=N[this._id];return!!(E&&E[0]===N)}),h(C.prototype,"set",function(N,E){if(w(this,"set"),!T(N))throw new TypeError("Invalid value used as weak map key");var W=N[this._id];return W&&W[0]===N?(W[1]=E,this):(h(N,this._id,[N,E]),this)});function w(N,E){if(!T(N)||!a.call(N,"_id"))throw new TypeError(E+" method called on incompatible receiver "+typeof N)}function x(N){return N+"_"+F()+"."+F()}function F(){return Math.random().toString().substring(2)}return h(C,"_polyfill",!0),C}()}})(typeof Ki<"u"?Ki:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:globalThis);if(!K.Lib.jsinited){if(K.Lib.jsinited=1,function(e){if(typeof NP=="object")rS.exports=e();else if(typeof define=="function"&&define.amd)define(e);else{var t;try{t=window}catch{t=self}t.SparkMD5=e()}}(function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(W,O){var R=W[0],D=W[1],j=W[2],Y=W[3];R+=(D&j|~D&Y)+O[0]-680876936|0,R=(R<<7|R>>>25)+D|0,Y+=(R&D|~R&j)+O[1]-389564586|0,Y=(Y<<12|Y>>>20)+R|0,j+=(Y&R|~Y&D)+O[2]+606105819|0,j=(j<<17|j>>>15)+Y|0,D+=(j&Y|~j&R)+O[3]-1044525330|0,D=(D<<22|D>>>10)+j|0,R+=(D&j|~D&Y)+O[4]-176418897|0,R=(R<<7|R>>>25)+D|0,Y+=(R&D|~R&j)+O[5]+1200080426|0,Y=(Y<<12|Y>>>20)+R|0,j+=(Y&R|~Y&D)+O[6]-1473231341|0,j=(j<<17|j>>>15)+Y|0,D+=(j&Y|~j&R)+O[7]-45705983|0,D=(D<<22|D>>>10)+j|0,R+=(D&j|~D&Y)+O[8]+1770035416|0,R=(R<<7|R>>>25)+D|0,Y+=(R&D|~R&j)+O[9]-1958414417|0,Y=(Y<<12|Y>>>20)+R|0,j+=(Y&R|~Y&D)+O[10]-42063|0,j=(j<<17|j>>>15)+Y|0,D+=(j&Y|~j&R)+O[11]-1990404162|0,D=(D<<22|D>>>10)+j|0,R+=(D&j|~D&Y)+O[12]+1804603682|0,R=(R<<7|R>>>25)+D|0,Y+=(R&D|~R&j)+O[13]-40341101|0,Y=(Y<<12|Y>>>20)+R|0,j+=(Y&R|~Y&D)+O[14]-1502002290|0,j=(j<<17|j>>>15)+Y|0,D+=(j&Y|~j&R)+O[15]+1236535329|0,D=(D<<22|D>>>10)+j|0,R+=(D&Y|j&~Y)+O[1]-165796510|0,R=(R<<5|R>>>27)+D|0,Y+=(R&j|D&~j)+O[6]-1069501632|0,Y=(Y<<9|Y>>>23)+R|0,j+=(Y&D|R&~D)+O[11]+643717713|0,j=(j<<14|j>>>18)+Y|0,D+=(j&R|Y&~R)+O[0]-373897302|0,D=(D<<20|D>>>12)+j|0,R+=(D&Y|j&~Y)+O[5]-701558691|0,R=(R<<5|R>>>27)+D|0,Y+=(R&j|D&~j)+O[10]+38016083|0,Y=(Y<<9|Y>>>23)+R|0,j+=(Y&D|R&~D)+O[15]-660478335|0,j=(j<<14|j>>>18)+Y|0,D+=(j&R|Y&~R)+O[4]-405537848|0,D=(D<<20|D>>>12)+j|0,R+=(D&Y|j&~Y)+O[9]+568446438|0,R=(R<<5|R>>>27)+D|0,Y+=(R&j|D&~j)+O[14]-1019803690|0,Y=(Y<<9|Y>>>23)+R|0,j+=(Y&D|R&~D)+O[3]-187363961|0,j=(j<<14|j>>>18)+Y|0,D+=(j&R|Y&~R)+O[8]+1163531501|0,D=(D<<20|D>>>12)+j|0,R+=(D&Y|j&~Y)+O[13]-1444681467|0,R=(R<<5|R>>>27)+D|0,Y+=(R&j|D&~j)+O[2]-51403784|0,Y=(Y<<9|Y>>>23)+R|0,j+=(Y&D|R&~D)+O[7]+1735328473|0,j=(j<<14|j>>>18)+Y|0,D+=(j&R|Y&~R)+O[12]-1926607734|0,D=(D<<20|D>>>12)+j|0,R+=(D^j^Y)+O[5]-378558|0,R=(R<<4|R>>>28)+D|0,Y+=(R^D^j)+O[8]-2022574463|0,Y=(Y<<11|Y>>>21)+R|0,j+=(Y^R^D)+O[11]+1839030562|0,j=(j<<16|j>>>16)+Y|0,D+=(j^Y^R)+O[14]-35309556|0,D=(D<<23|D>>>9)+j|0,R+=(D^j^Y)+O[1]-1530992060|0,R=(R<<4|R>>>28)+D|0,Y+=(R^D^j)+O[4]+1272893353|0,Y=(Y<<11|Y>>>21)+R|0,j+=(Y^R^D)+O[7]-155497632|0,j=(j<<16|j>>>16)+Y|0,D+=(j^Y^R)+O[10]-1094730640|0,D=(D<<23|D>>>9)+j|0,R+=(D^j^Y)+O[13]+681279174|0,R=(R<<4|R>>>28)+D|0,Y+=(R^D^j)+O[0]-358537222|0,Y=(Y<<11|Y>>>21)+R|0,j+=(Y^R^D)+O[3]-722521979|0,j=(j<<16|j>>>16)+Y|0,D+=(j^Y^R)+O[6]+76029189|0,D=(D<<23|D>>>9)+j|0,R+=(D^j^Y)+O[9]-640364487|0,R=(R<<4|R>>>28)+D|0,Y+=(R^D^j)+O[12]-421815835|0,Y=(Y<<11|Y>>>21)+R|0,j+=(Y^R^D)+O[15]+530742520|0,j=(j<<16|j>>>16)+Y|0,D+=(j^Y^R)+O[2]-995338651|0,D=(D<<23|D>>>9)+j|0,R+=(j^(D|~Y))+O[0]-198630844|0,R=(R<<6|R>>>26)+D|0,Y+=(D^(R|~j))+O[7]+1126891415|0,Y=(Y<<10|Y>>>22)+R|0,j+=(R^(Y|~D))+O[14]-1416354905|0,j=(j<<15|j>>>17)+Y|0,D+=(Y^(j|~R))+O[5]-57434055|0,D=(D<<21|D>>>11)+j|0,R+=(j^(D|~Y))+O[12]+1700485571|0,R=(R<<6|R>>>26)+D|0,Y+=(D^(R|~j))+O[3]-1894986606|0,Y=(Y<<10|Y>>>22)+R|0,j+=(R^(Y|~D))+O[10]-1051523|0,j=(j<<15|j>>>17)+Y|0,D+=(Y^(j|~R))+O[1]-2054922799|0,D=(D<<21|D>>>11)+j|0,R+=(j^(D|~Y))+O[8]+1873313359|0,R=(R<<6|R>>>26)+D|0,Y+=(D^(R|~j))+O[15]-30611744|0,Y=(Y<<10|Y>>>22)+R|0,j+=(R^(Y|~D))+O[6]-1560198380|0,j=(j<<15|j>>>17)+Y|0,D+=(Y^(j|~R))+O[13]+1309151649|0,D=(D<<21|D>>>11)+j|0,R+=(j^(D|~Y))+O[4]-145523070|0,R=(R<<6|R>>>26)+D|0,Y+=(D^(R|~j))+O[11]-1120210379|0,Y=(Y<<10|Y>>>22)+R|0,j+=(R^(Y|~D))+O[2]+718787259|0,j=(j<<15|j>>>17)+Y|0,D+=(Y^(j|~R))+O[9]-343485551|0,D=(D<<21|D>>>11)+j|0,W[0]=R+W[0]|0,W[1]=D+W[1]|0,W[2]=j+W[2]|0,W[3]=Y+W[3]|0}function a(W){var O=[],R;for(R=0;R<64;R+=4)O[R>>2]=W.charCodeAt(R)+(W.charCodeAt(R+1)<<8)+(W.charCodeAt(R+2)<<16)+(W.charCodeAt(R+3)<<24);return O}function d(W){var O=[],R;for(R=0;R<64;R+=4)O[R>>2]=W[R]+(W[R+1]<<8)+(W[R+2]<<16)+(W[R+3]<<24);return O}function h(W){var O=W.length,R=[1732584193,-271733879,-1732584194,271733878],D,j,Y,de,ne,X;for(D=64;D<=O;D+=64)i(R,a(W.substring(D-64,D)));for(W=W.substring(D-64),j=W.length,Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D=0;D<j;D+=1)Y[D>>2]|=W.charCodeAt(D)<<(D%4<<3);if(Y[D>>2]|=128<<(D%4<<3),D>55)for(i(R,Y),D=0;D<16;D+=1)Y[D]=0;return de=O*8,de=de.toString(16).match(/(.*?)(.{0,8})$/),ne=parseInt(de[2],16),X=parseInt(de[1],16)||0,Y[14]=ne,Y[15]=X,i(R,Y),R}function g(W){var O=W.length,R=[1732584193,-271733879,-1732584194,271733878],D,j,Y,de,ne,X;for(D=64;D<=O;D+=64)i(R,d(W.subarray(D-64,D)));for(W=D-64<O?W.subarray(D-64):new Uint8Array(0),j=W.length,Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D=0;D<j;D+=1)Y[D>>2]|=W[D]<<(D%4<<3);if(Y[D>>2]|=128<<(D%4<<3),D>55)for(i(R,Y),D=0;D<16;D+=1)Y[D]=0;return de=O*8,de=de.toString(16).match(/(.*?)(.{0,8})$/),ne=parseInt(de[2],16),X=parseInt(de[1],16)||0,Y[14]=ne,Y[15]=X,i(R,Y),R}function y(W){var O="",R;for(R=0;R<4;R+=1)O+=t[W>>R*8+4&15]+t[W>>R*8&15];return O}function T(W){var O;for(O=0;O<W.length;O+=1)W[O]=y(W[O]);return W.join("")}T(h("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function W(O,R){return O=O|0||0,O<0?Math.max(O+R,0):Math.min(O,R)}ArrayBuffer.prototype.slice=function(O,R){var D=this.byteLength,j=W(O,D),Y=D,de,ne,X,ce;return R!==e&&(Y=W(R,D)),j>Y?new ArrayBuffer(0):(de=Y-j,ne=new ArrayBuffer(de),X=new Uint8Array(ne),ce=new Uint8Array(this,j,de),X.set(ce),ne)}}();function C(W){return/[\u0080-\uFFFF]/.test(W)&&(W=unescape(encodeURIComponent(W))),W}function w(W,O){var R=W.length,D=new ArrayBuffer(R),j=new Uint8Array(D),Y;for(Y=0;Y<R;Y+=1)j[Y]=W.charCodeAt(Y);return O?j:D}function x(W){return String.fromCharCode.apply(null,new Uint8Array(W))}function F(W,O,R){var D=new Uint8Array(W.byteLength+O.byteLength);return D.set(new Uint8Array(W)),D.set(new Uint8Array(O),W.byteLength),R?D:D.buffer}function N(W){var O=[],R=W.length,D;for(D=0;D<R-1;D+=2)O.push(parseInt(W.substr(D,2),16));return String.fromCharCode.apply(String,O)}function E(){this.reset()}return E.prototype.append=function(W){return this.appendBinary(C(W)),this},E.prototype.appendBinary=function(W){this._buff+=W,this._length+=W.length;var O=this._buff.length,R;for(R=64;R<=O;R+=64)i(this._hash,a(this._buff.substring(R-64,R)));return this._buff=this._buff.substring(R-64),this},E.prototype.end=function(W){var O=this._buff,R=O.length,D,j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Y;for(D=0;D<R;D+=1)j[D>>2]|=O.charCodeAt(D)<<(D%4<<3);return this._finish(j,R),Y=T(this._hash),W&&(Y=N(Y)),this.reset(),Y},E.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},E.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},E.prototype.setState=function(W){return this._buff=W.buff,this._length=W.length,this._hash=W.hash,this},E.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},E.prototype._finish=function(W,O){var R=O,D,j,Y;if(W[R>>2]|=128<<(R%4<<3),R>55)for(i(this._hash,W),R=0;R<16;R+=1)W[R]=0;D=this._length*8,D=D.toString(16).match(/(.*?)(.{0,8})$/),j=parseInt(D[2],16),Y=parseInt(D[1],16)||0,W[14]=j,W[15]=Y,i(this._hash,W)},E.hash=function(W,O){return E.hashBinary(C(W),O)},E.hashBinary=function(W,O){var R=h(W),D=T(R);return O?N(D):D},E.ArrayBuffer=function(){this.reset()},E.ArrayBuffer.prototype.append=function(W){var O=F(this._buff.buffer,W,!0),R=O.length,D;for(this._length+=W.byteLength,D=64;D<=R;D+=64)i(this._hash,d(O.subarray(D-64,D)));return this._buff=D-64<R?new Uint8Array(O.buffer.slice(D-64)):new Uint8Array(0),this},E.ArrayBuffer.prototype.end=function(W){var O=this._buff,R=O.length,D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j,Y;for(j=0;j<R;j+=1)D[j>>2]|=O[j]<<(j%4<<3);return this._finish(D,R),Y=T(this._hash),W&&(Y=N(Y)),this.reset(),Y},E.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},E.ArrayBuffer.prototype.getState=function(){var W=E.prototype.getState.call(this);return W.buff=x(W.buff),W},E.ArrayBuffer.prototype.setState=function(W){return W.buff=w(W.buff,!0),E.prototype.setState.call(this,W)},E.ArrayBuffer.prototype.destroy=E.prototype.destroy,E.ArrayBuffer.prototype._finish=E.prototype._finish,E.ArrayBuffer.hash=function(W,O){var R=g(new Uint8Array(W)),D=T(R);return O?N(D):D},E}),window&&!window.Promise){/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(e){if(typeof NP=="object"&&typeof rS<"u")rS.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"&&(t=self),t.Promise=e()}})(function(){return function e(t,i,a){function d(y,T){if(!i[y]){if(!t[y]){var C=typeof _dereq_=="function"&&_dereq_;if(!T&&C)return C(y,!0);if(h)return h(y,!0);var w=new Error("Cannot find module '"+y+"'");throw w.code="MODULE_NOT_FOUND",w}var x=i[y]={exports:{}};t[y][0].call(x.exports,function(F){var N=t[y][1][F];return d(N||F)},x,x.exports,e,t,i,a)}return i[y].exports}for(var h=typeof _dereq_=="function"&&_dereq_,g=0;g<a.length;g++)d(a[g]);return d}({1:[function(e,t,i){t.exports=function(a){function d(g){var y=new h(g),T=y.promise();return y.setHowMany(1),y.setUnwrap(),y.init(),T}var h=a._SomePromiseArray;a.any=function(g){return d(g)},a.prototype.any=function(){return d(this)}}},{}],2:[function(e,t,i){function a(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new x(16),this._normalQueue=new x(16),this._haveDrainedQueues=!1;var F=this;this.drainQueues=function(){F._drainQueues()},this._schedule=w}function d(F,N,E){this._lateQueue.push(F,N,E),this._queueTick()}function h(F,N,E){this._normalQueue.push(F,N,E),this._queueTick()}function g(F){this._normalQueue._pushOne(F),this._queueTick()}function y(F){for(;F.length()>0;)T(F)}function T(F){var N=F.shift();if(typeof N!="function")N._settlePromises();else{var E=F.shift(),W=F.shift();N.call(E,W)}}var C;try{throw new Error}catch(F){C=F}var w=e("./schedule"),x=e("./queue");a.prototype.setScheduler=function(F){var N=this._schedule;return this._schedule=F,this._customScheduler=!0,N},a.prototype.hasCustomScheduler=function(){return this._customScheduler},a.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},a.prototype.fatalError=function(F,N){N?(process.stderr.write("Fatal "+(F instanceof Error?F.stack:F)+`
`),process.exit(2)):this.throwLater(F)},a.prototype.throwLater=function(F,N){if(arguments.length===1&&(N=F,F=function(){throw N}),typeof setTimeout<"u")setTimeout(function(){F(N)},0);else try{this._schedule(function(){F(N)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},a.prototype.invokeLater=d,a.prototype.invoke=h,a.prototype.settlePromises=g,a.prototype._drainQueues=function(){y(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,y(this._lateQueue)},a.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},a.prototype._reset=function(){this._isTickUsed=!1},t.exports=a,t.exports.firstLineError=C},{"./queue":26,"./schedule":29}],3:[function(e,t,i){t.exports=function(a,d,h,g){var y=!1,T=function(F,N){this._reject(N)},C=function(F,N){N.promiseRejectionQueued=!0,N.bindingPromise._then(T,T,null,this,F)},w=function(F,N){!(50397184&this._bitField)&&this._resolveCallback(N.target)},x=function(F,N){N.promiseRejectionQueued||this._reject(F)};a.prototype.bind=function(F){y||(y=!0,a.prototype._propagateFrom=g.propagateFromFunction(),a.prototype._boundValue=g.boundValueFunction());var N=h(F),E=new a(d);E._propagateFrom(this,1);var W=this._target();if(E._setBoundTo(N),N instanceof a){var O={promiseRejectionQueued:!1,promise:E,target:W,bindingPromise:N};W._then(d,C,void 0,E,O),N._then(w,x,void 0,E,O),E._setOnCancel(N)}else E._resolveCallback(W);return E},a.prototype._setBoundTo=function(F){F!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=F):this._bitField=-2097153&this._bitField},a.prototype._isBound=function(){return(2097152&this._bitField)===2097152},a.bind=function(F,N){return a.resolve(N).bind(F)}}},{}],4:[function(e,t,i){function a(){try{Promise===h&&(Promise=d)}catch{}return h}var d;typeof Promise<"u"&&(d=Promise);var h=e("./promise")();h.noConflict=a,t.exports=h},{"./promise":22}],5:[function(e,t,i){var a=Object.create;if(a){var d=a(null),h=a(null);d[" size"]=h[" size"]=0}t.exports=function(g){function y(E,W){var O;if(E!=null&&(O=E[W]),typeof O!="function"){var R="Object "+F.classString(E)+" has no method '"+F.toString(W)+"'";throw new g.TypeError(R)}return O}function T(E){var W=this.pop(),O=y(E,W);return O.apply(E,this)}function C(E){return E[this]}function w(E){var W=+this;return 0>W&&(W=Math.max(0,W+E.length)),E[W]}var x,F=e("./util"),N=F.canEvaluate;F.isIdentifier,g.prototype.call=function(E){var W=[].slice.call(arguments,1);return W.push(E),this._then(T,void 0,void 0,W,void 0)},g.prototype.get=function(E){var W,O=typeof E=="number";if(O)W=w;else if(N){var R=x(E);W=R!==null?R:C}else W=C;return this._then(W,void 0,void 0,E,void 0)}}},{"./util":36}],6:[function(e,t,i){t.exports=function(a,d,h,g){var y=e("./util"),T=y.tryCatch,C=y.errorObj,w=a._async;a.prototype.break=a.prototype.cancel=function(){if(!g.cancellation())return this._warn("cancellation is disabled");for(var x=this,F=x;x._isCancellable();){if(!x._cancelBy(F)){F._isFollowing()?F._followee().cancel():F._cancelBranched();break}var N=x._cancellationParent;if(N==null||!N._isCancellable()){x._isFollowing()?x._followee().cancel():x._cancelBranched();break}x._isFollowing()&&x._followee().cancel(),x._setWillBeCancelled(),F=x,x=N}},a.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},a.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},a.prototype._cancelBy=function(x){return x===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},a.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},a.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),w.invoke(this._cancelPromises,this,void 0))},a.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},a.prototype._unsetOnCancel=function(){this._onCancelField=void 0},a.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},a.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},a.prototype._doInvokeOnCancel=function(x,F){if(y.isArray(x))for(var N=0;N<x.length;++N)this._doInvokeOnCancel(x[N],F);else if(x!==void 0)if(typeof x=="function"){if(!F){var E=T(x).call(this._boundValue());E===C&&(this._attachExtraTrace(E.e),w.throwLater(E.e))}}else x._resultCancelled(this)},a.prototype._invokeOnCancel=function(){var x=this._onCancel();this._unsetOnCancel(),w.invoke(this._doInvokeOnCancel,this,x)},a.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},a.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,i){t.exports=function(a){function d(C,w,x){return function(F){var N=x._boundValue();e:for(var E=0;E<C.length;++E){var W=C[E];if(W===Error||W!=null&&W.prototype instanceof Error){if(F instanceof W)return y(w).call(N,F)}else if(typeof W=="function"){var O=y(W).call(N,F);if(O===T)return O;if(O)return y(w).call(N,F)}else if(h.isObject(F)){for(var R=g(W),D=0;D<R.length;++D){var j=R[D];if(W[j]!=F[j])continue e}return y(w).call(N,F)}}return a}}var h=e("./util"),g=e("./es5").keys,y=h.tryCatch,T=h.errorObj;return d}},{"./es5":13,"./util":36}],8:[function(e,t,i){t.exports=function(a){function d(){this._trace=new d.CapturedTrace(g())}function h(){return y?new d:void 0}function g(){var C=T.length-1;return C>=0?T[C]:void 0}var y=!1,T=[];return a.prototype._promiseCreated=function(){},a.prototype._pushContext=function(){},a.prototype._popContext=function(){return null},a._peekContext=a.prototype._peekContext=function(){},d.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,T.push(this._trace))},d.prototype._popContext=function(){if(this._trace!==void 0){var C=T.pop(),w=C._promiseCreated;return C._promiseCreated=null,w}return null},d.CapturedTrace=null,d.create=h,d.deactivateLongStackTraces=function(){},d.activateLongStackTraces=function(){var C=a.prototype._pushContext,w=a.prototype._popContext,x=a._peekContext,F=a.prototype._peekContext,N=a.prototype._promiseCreated;d.deactivateLongStackTraces=function(){a.prototype._pushContext=C,a.prototype._popContext=w,a._peekContext=x,a.prototype._peekContext=F,a.prototype._promiseCreated=N,y=!1},y=!0,a.prototype._pushContext=d.prototype._pushContext,a.prototype._popContext=d.prototype._popContext,a._peekContext=a.prototype._peekContext=g,a.prototype._promiseCreated=function(){var E=this._peekContext();E&&E._promiseCreated==null&&(E._promiseCreated=this)}},d}},{}],9:[function(e,t,i){t.exports=function(a,d,h,g){function y(Pe,We){return{promise:We}}function T(){return!1}function C(Pe,We,it){var ot=this;try{Pe(We,it,function(St){if(typeof St!="function")throw new TypeError("onCancel must be a function, got: "+me.toString(St));ot._attachCancellationCallback(St)})}catch(St){return St}}function w(Pe){if(!this._isCancellable())return this;var We=this._onCancel();We!==void 0?me.isArray(We)?We.push(Pe):this._setOnCancel([We,Pe]):this._setOnCancel(Pe)}function x(){return this._onCancelField}function F(Pe){this._onCancelField=Pe}function N(){this._cancellationParent=void 0,this._onCancelField=void 0}function E(Pe,We){if(1&We){this._cancellationParent=Pe;var it=Pe._branchesRemainingToCancel;it===void 0&&(it=0),Pe._branchesRemainingToCancel=it+1}2&We&&Pe._isBound()&&this._setBoundTo(Pe._boundTo)}function W(Pe,We){2&We&&Pe._isBound()&&this._setBoundTo(Pe._boundTo)}function O(){var Pe=this._boundTo;return Pe!==void 0&&Pe instanceof a?Pe.isFulfilled()?Pe.value():void 0:Pe}function R(){this._trace=new Ae(this._peekContext())}function D(Pe,We){if(et(Pe)){var it=this._trace;if(it!==void 0&&We&&(it=it._parent),it!==void 0)it.attachExtraTrace(Pe);else if(!Pe.__stackCleaned__){var ot=_e(Pe);me.notEnumerableProp(Pe,"stack",ot.message+`
`+ot.stack.join(`
`)),me.notEnumerableProp(Pe,"__stackCleaned__",!0)}}}function j(){this._trace=void 0}function Y(Pe,We,it,ot,St){if(Pe===void 0&&We!==null&&Yr){if(St!==void 0&&St._returnedNonUndefined()||!(65535&ot._bitField))return;it&&(it+=" ");var Dt="",zt="";if(We._trace){for(var Sr=We._trace.stack.split(`
`),Fr=le(Sr),Qr=Fr.length-1;Qr>=0;--Qr){var ro=Fr[Qr];if(!mt.test(ro)){var oi=ro.match(vt);oi&&(Dt="at "+oi[1]+":"+oi[2]+":"+oi[3]+" ");break}}if(Fr.length>0){for(var qc=Fr[0],Qr=0;Qr<Sr.length;++Qr)if(Sr[Qr]===qc){Qr>0&&(zt=`
`+Sr[Qr-1]);break}}}var Fi="a promise was created in a "+it+"handler "+Dt+"but was not returned from it, see http://goo.gl/rRqMUw"+zt;ot._warn(Fi,!0,We)}}function de(Pe,We){var it=Pe+" is deprecated and will be removed in a future version.";return We&&(it+=" Use "+We+" instead."),ne(it)}function ne(Pe,We,it){if(Pr.warnings){var ot,St=new oe(Pe);if(We)it._attachExtraTrace(St);else if(Pr.longStackTraces&&(ot=a._peekContext()))ot.attachExtraTrace(St);else{var Dt=_e(St);St.stack=Dt.message+`
`+Dt.stack.join(`
`)}hr("warning",St)||Ee(St,"",!0)}}function X(Pe,We){for(var it=0;it<We.length-1;++it)We[it].push("From previous event:"),We[it]=We[it].join(`
`);return it<We.length&&(We[it]=We[it].join(`
`)),Pe+`
`+We.join(`
`)}function ce(Pe){for(var We=0;We<Pe.length;++We)(Pe[We].length===0||We+1<Pe.length&&Pe[We][0]===Pe[We+1][0])&&(Pe.splice(We,1),We--)}function he(Pe){for(var We=Pe[0],it=1;it<Pe.length;++it){for(var ot=Pe[it],St=We.length-1,Dt=We[St],zt=-1,Sr=ot.length-1;Sr>=0;--Sr)if(ot[Sr]===Dt){zt=Sr;break}for(var Sr=zt;Sr>=0;--Sr){var Fr=ot[Sr];if(We[St]!==Fr)break;We.pop(),St--}We=ot}}function le(Pe){for(var We=[],it=0;it<Pe.length;++it){var ot=Pe[it],St=ot==="    (No stack trace)"||Vt.test(ot),Dt=St&&Sa(ot);St&&!Dt&&(At&&ot.charAt(0)!==" "&&(ot="    "+ot),We.push(ot))}return We}function fe(Pe){for(var We=Pe.stack.replace(/\s+$/g,"").split(`
`),it=0;it<We.length;++it){var ot=We[it];if(ot==="    (No stack trace)"||Vt.test(ot))break}return it>0&&Pe.name!="SyntaxError"&&(We=We.slice(it)),We}function _e(Pe){var We=Pe.stack,it=Pe.toString();return We=typeof We=="string"&&We.length>0?fe(Pe):["    (No stack trace)"],{message:it,stack:Pe.name=="SyntaxError"?We:le(We)}}function Ee(Pe,We,it){if(typeof console<"u"){var ot;if(me.isObject(Pe)){var St=Pe.stack;ot=We+Nt(St,Pe)}else ot=We+String(Pe);typeof Ge=="function"?Ge(ot,it):(typeof console.log=="function"||typeof console.log=="object")&&console.log(ot)}}function ke(Pe,We,it,ot){var St=!1;try{typeof We=="function"&&(St=!0,Pe==="rejectionHandled"?We(ot):We(it,ot))}catch(Dt){pe.throwLater(Dt)}Pe==="unhandledRejection"?hr(Pe,it,ot)||St||Ee(it,"Unhandled rejection "):hr(Pe,ot)}function Ne(Pe){var We;if(typeof Pe=="function")We="[function "+(Pe.name||"anonymous")+"]";else{We=Pe&&typeof Pe.toString=="function"?Pe.toString():me.toString(Pe);var it=/\[object [a-zA-Z0-9$_]+\]/;if(it.test(We))try{var ot=JSON.stringify(Pe);We=ot}catch{}We.length===0&&(We="(empty array)")}return"(<"+je(We)+">, no stack trace)"}function je(Pe){var We=41;return Pe.length<We?Pe:Pe.substr(0,We-3)+"..."}function Ze(){return typeof ue=="function"}function De(Pe){var We=Pe.match(pr);return We?{fileName:We[1],line:parseInt(We[2],10)}:void 0}function Le(Pe,We){if(Ze()){for(var it,ot,St=(Pe.stack||"").split(`
`),Dt=(We.stack||"").split(`
`),zt=-1,Sr=-1,Fr=0;Fr<St.length;++Fr){var Qr=De(St[Fr]);if(Qr){it=Qr.fileName,zt=Qr.line;break}}for(var Fr=0;Fr<Dt.length;++Fr){var Qr=De(Dt[Fr]);if(Qr){ot=Qr.fileName,Sr=Qr.line;break}}0>zt||0>Sr||!it||!ot||it!==ot||zt>=Sr||(Sa=function(ro){if(Ke.test(ro))return!0;var oi=De(ro);return!!(oi&&oi.fileName===it&&zt<=oi.line&&oi.line<=Sr)})}}function Ae(Pe){this._parent=Pe,this._promisesCreated=0;var We=this._length=1+(Pe===void 0?0:Pe._length);ue(this,Ae),We>32&&this.uncycle()}var Je,He,Ge,nt,pe=a._async,oe=e("./errors").Warning,me=e("./util"),ye=e("./es5"),et=me.canAttachTrace,Ke=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,mt=/\((?:timers\.js):\d+:\d+\)/,vt=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,Vt=null,Nt=null,At=!1,nr=!(me.env("BLUEBIRD_DEBUG")==0||!me.env("BLUEBIRD_DEBUG")&&me.env("NODE_ENV")!=="development"),jt=!(me.env("BLUEBIRD_WARNINGS")==0||!nr&&!me.env("BLUEBIRD_WARNINGS")),Ar=!(me.env("BLUEBIRD_LONG_STACK_TRACES")==0||!nr&&!me.env("BLUEBIRD_LONG_STACK_TRACES")),Yr=me.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(jt||!!me.env("BLUEBIRD_W_FORGOTTEN_RETURN"));(function(){function Pe(){for(var ot=0;ot<it.length;++ot)it[ot]._notifyUnhandledRejection();We()}function We(){it.length=0}var it=[];nt=function(ot){it.push(ot),setTimeout(Pe,1)},ye.defineProperty(a,"_unhandledRejectionCheck",{value:Pe}),ye.defineProperty(a,"_unhandledRejectionClear",{value:We})})(),a.prototype.suppressUnhandledRejections=function(){var Pe=this._target();Pe._bitField=-1048577&Pe._bitField|524288},a.prototype._ensurePossibleRejectionHandled=function(){!(524288&this._bitField)&&(this._setRejectionIsUnhandled(),nt(this))},a.prototype._notifyUnhandledRejectionIsHandled=function(){ke("rejectionHandled",Je,void 0,this)},a.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},a.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!==0},a.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Pe=this._settledValue();this._setUnhandledRejectionIsNotified(),ke("unhandledRejection",He,Pe,this)}},a.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},a.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},a.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},a.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},a.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},a.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},a.prototype._warn=function(Pe,We,it){return ne(Pe,We,it||this)},a.onPossiblyUnhandledRejection=function(Pe){var We=a._getContext();He=me.contextBind(We,Pe)},a.onUnhandledRejectionHandled=function(Pe){var We=a._getContext();Je=me.contextBind(We,Pe)};var cr=function(){};a.longStackTraces=function(){if(pe.haveItemsQueued()&&!Pr.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!Pr.longStackTraces&&Ze()){var Pe=a.prototype._captureStackTrace,We=a.prototype._attachExtraTrace,it=a.prototype._dereferenceTrace;Pr.longStackTraces=!0,cr=function(){if(pe.haveItemsQueued()&&!Pr.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);a.prototype._captureStackTrace=Pe,a.prototype._attachExtraTrace=We,a.prototype._dereferenceTrace=it,d.deactivateLongStackTraces(),Pr.longStackTraces=!1},a.prototype._captureStackTrace=R,a.prototype._attachExtraTrace=D,a.prototype._dereferenceTrace=j,d.activateLongStackTraces()}},a.hasLongStackTraces=function(){return Pr.longStackTraces&&Ze()};var Un={unhandledrejection:{before:function(){var Pe=me.global.onunhandledrejection;return me.global.onunhandledrejection=null,Pe},after:function(Pe){me.global.onunhandledrejection=Pe}},rejectionhandled:{before:function(){var Pe=me.global.onrejectionhandled;return me.global.onrejectionhandled=null,Pe},after:function(Pe){me.global.onrejectionhandled=Pe}}},Jt=function(){var Pe=function(it,ot){if(!it)return!me.global.dispatchEvent(ot);var St;try{return St=it.before(),!me.global.dispatchEvent(ot)}finally{it.after(St)}};try{if(typeof CustomEvent=="function"){var We=new CustomEvent("CustomEvent");return me.global.dispatchEvent(We),function(ot,St){ot=ot.toLowerCase();var Dt={detail:St,cancelable:!0},zt=new CustomEvent(ot,Dt);return ye.defineProperty(zt,"promise",{value:St.promise}),ye.defineProperty(zt,"reason",{value:St.reason}),Pe(Un[ot],zt)}}if(typeof Event=="function"){var We=new Event("CustomEvent");return me.global.dispatchEvent(We),function(ot,St){ot=ot.toLowerCase();var Dt=new Event(ot,{cancelable:!0});return Dt.detail=St,ye.defineProperty(Dt,"promise",{value:St.promise}),ye.defineProperty(Dt,"reason",{value:St.reason}),Pe(Un[ot],Dt)}}var We=document.createEvent("CustomEvent");return We.initCustomEvent("testingtheevent",!1,!0,{}),me.global.dispatchEvent(We),function(it,ot){it=it.toLowerCase();var St=document.createEvent("CustomEvent");return St.initCustomEvent(it,!1,!0,ot),Pe(Un[it],St)}}catch{}return function(){return!1}}(),ir=function(){return me.isNode?function(){return process.emit.apply(process,arguments)}:me.global?function(Pe){var We="on"+Pe.toLowerCase(),it=me.global[We];return it?(it.apply(me.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}(),Tt={promiseCreated:y,promiseFulfilled:y,promiseRejected:y,promiseResolved:y,promiseCancelled:y,promiseChained:function(Pe,We,it){return{promise:We,child:it}},warning:function(Pe,We){return{warning:We}},unhandledRejection:function(Pe,We,it){return{reason:We,promise:it}},rejectionHandled:y},hr=function(Pe){var We=!1;try{We=ir.apply(null,arguments)}catch(ot){pe.throwLater(ot),We=!0}var it=!1;try{it=Jt(Pe,Tt[Pe].apply(null,arguments))}catch(ot){pe.throwLater(ot),it=!0}return it||We};a.config=function(Pe){if(Pe=Object(Pe),"longStackTraces"in Pe&&(Pe.longStackTraces?a.longStackTraces():!Pe.longStackTraces&&a.hasLongStackTraces()&&cr()),"warnings"in Pe){var We=Pe.warnings;Pr.warnings=!!We,Yr=Pr.warnings,me.isObject(We)&&"wForgottenReturn"in We&&(Yr=!!We.wForgottenReturn)}if("cancellation"in Pe&&Pe.cancellation&&!Pr.cancellation){if(pe.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");a.prototype._clearCancellationData=N,a.prototype._propagateFrom=E,a.prototype._onCancel=x,a.prototype._setOnCancel=F,a.prototype._attachCancellationCallback=w,a.prototype._execute=C,Xo=E,Pr.cancellation=!0}if("monitoring"in Pe&&(Pe.monitoring&&!Pr.monitoring?(Pr.monitoring=!0,a.prototype._fireEvent=hr):!Pe.monitoring&&Pr.monitoring&&(Pr.monitoring=!1,a.prototype._fireEvent=T)),"asyncHooks"in Pe&&me.nodeSupportsAsyncResource){var it=Pr.asyncHooks,ot=!!Pe.asyncHooks;it!==ot&&(Pr.asyncHooks=ot,ot?h():g())}return a},a.prototype._fireEvent=T,a.prototype._execute=function(Pe,We,it){try{Pe(We,it)}catch(ot){return ot}},a.prototype._onCancel=function(){},a.prototype._setOnCancel=function(Pe){},a.prototype._attachCancellationCallback=function(Pe){},a.prototype._captureStackTrace=function(){},a.prototype._attachExtraTrace=function(){},a.prototype._dereferenceTrace=function(){},a.prototype._clearCancellationData=function(){},a.prototype._propagateFrom=function(Pe,We){};var Xo=W,Sa=function(){return!1},pr=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;me.inherits(Ae,Error),d.CapturedTrace=Ae,Ae.prototype.uncycle=function(){var Pe=this._length;if(!(2>Pe)){for(var We=[],it={},ot=0,St=this;St!==void 0;++ot)We.push(St),St=St._parent;Pe=this._length=ot;for(var ot=Pe-1;ot>=0;--ot){var Dt=We[ot].stack;it[Dt]===void 0&&(it[Dt]=ot)}for(var ot=0;Pe>ot;++ot){var zt=We[ot].stack,Sr=it[zt];if(Sr!==void 0&&Sr!==ot){Sr>0&&(We[Sr-1]._parent=void 0,We[Sr-1]._length=1),We[ot]._parent=void 0,We[ot]._length=1;var Fr=ot>0?We[ot-1]:this;Pe-1>Sr?(Fr._parent=We[Sr+1],Fr._parent.uncycle(),Fr._length=Fr._parent._length+1):(Fr._parent=void 0,Fr._length=1);for(var Qr=Fr._length+1,ro=ot-2;ro>=0;--ro)We[ro]._length=Qr,Qr++;return}}}},Ae.prototype.attachExtraTrace=function(Pe){if(!Pe.__stackCleaned__){this.uncycle();for(var We=_e(Pe),it=We.message,ot=[We.stack],St=this;St!==void 0;)ot.push(le(St.stack.split(`
`))),St=St._parent;he(ot),ce(ot),me.notEnumerableProp(Pe,"stack",X(it,ot)),me.notEnumerableProp(Pe,"__stackCleaned__",!0)}};var ue=function(){var Pe=/^\s*at\s*/,We=function(Dt,zt){return typeof Dt=="string"?Dt:zt.name!==void 0&&zt.message!==void 0?zt.toString():Ne(zt)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,Vt=Pe,Nt=We;var it=Error.captureStackTrace;return Sa=function(Dt){return Ke.test(Dt)},function(Dt,zt){Error.stackTraceLimit+=6,it(Dt,zt),Error.stackTraceLimit-=6}}var ot=new Error;if(typeof ot.stack=="string"&&ot.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return Vt=/@/,Nt=We,At=!0,function(Dt){Dt.stack=new Error().stack};var St;try{throw new Error}catch(Dt){St="stack"in Dt}return"stack"in ot||!St||typeof Error.stackTraceLimit!="number"?(Nt=function(Dt,zt){return typeof Dt=="string"?Dt:typeof zt!="object"&&typeof zt!="function"||zt.name===void 0||zt.message===void 0?Ne(zt):zt.toString()},null):(Vt=Pe,Nt=We,function(Dt){Error.stackTraceLimit+=6;try{throw new Error}catch(zt){Dt.stack=zt.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&typeof console.warn<"u"&&(Ge=function(Pe){console.warn(Pe)},me.isNode&&process.stderr.isTTY?Ge=function(Pe,We){var it=We?"\x1B[33m":"\x1B[31m";console.warn(it+Pe+`\x1B[0m
`)}:me.isNode||typeof new Error().stack!="string"||(Ge=function(Pe,We){console.warn("%c"+Pe,We?"color: darkorange":"color: red")}));var Pr={warnings:jt,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return Ar&&a.longStackTraces(),{asyncHooks:function(){return Pr.asyncHooks},longStackTraces:function(){return Pr.longStackTraces},warnings:function(){return Pr.warnings},cancellation:function(){return Pr.cancellation},monitoring:function(){return Pr.monitoring},propagateFromFunction:function(){return Xo},boundValueFunction:function(){return O},checkForgottenReturns:Y,setBounds:Le,warn:ne,deprecated:de,CapturedTrace:Ae,fireDomEvent:Jt,fireGlobalEvent:ir}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,t,i){t.exports=function(a){function d(){return this.value}function h(){throw this.reason}a.prototype.return=a.prototype.thenReturn=function(g){return g instanceof a&&g.suppressUnhandledRejections(),this._then(d,void 0,void 0,{value:g},void 0)},a.prototype.throw=a.prototype.thenThrow=function(g){return this._then(h,void 0,void 0,{reason:g},void 0)},a.prototype.catchThrow=function(g){if(arguments.length<=1)return this._then(void 0,h,void 0,{reason:g},void 0);var y=arguments[1],T=function(){throw y};return this.caught(g,T)},a.prototype.catchReturn=function(g){if(arguments.length<=1)return g instanceof a&&g.suppressUnhandledRejections(),this._then(void 0,d,void 0,{value:g},void 0);var y=arguments[1];y instanceof a&&y.suppressUnhandledRejections();var T=function(){return y};return this.caught(g,T)}}},{}],11:[function(e,t,i){t.exports=function(a,d){function h(){return T(this)}function g(C,w){return y(C,w,d,d)}var y=a.reduce,T=a.all;a.prototype.each=function(C){return y(this,C,d,0)._then(h,void 0,void 0,this,void 0)},a.prototype.mapSeries=function(C){return y(this,C,d,d)},a.each=function(C,w){return y(C,w,d,0)._then(h,void 0,void 0,C,void 0)},a.mapSeries=g}},{}],12:[function(e,t,i){function a(Y,de){function ne(X){return this instanceof ne?(x(this,"message",typeof X=="string"?X:de),x(this,"name",Y),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new ne(X)}return w(ne,Error),ne}function d(Y){return this instanceof d?(x(this,"name","OperationalError"),x(this,"message",Y),this.cause=Y,this.isOperational=!0,void(Y instanceof Error?(x(this,"message",Y.message),x(this,"stack",Y.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new d(Y)}var h,g,y=e("./es5"),T=y.freeze,C=e("./util"),w=C.inherits,x=C.notEnumerableProp,F=a("Warning","warning"),N=a("CancellationError","cancellation error"),E=a("TimeoutError","timeout error"),W=a("AggregateError","aggregate error");try{h=TypeError,g=RangeError}catch{h=a("TypeError","type error"),g=a("RangeError","range error")}for(var O="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),R=0;R<O.length;++R)typeof Array.prototype[O[R]]=="function"&&(W.prototype[O[R]]=Array.prototype[O[R]]);y.defineProperty(W.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),W.prototype.isOperational=!0;var D=0;W.prototype.toString=function(){var Y=Array(4*D+1).join(" "),de=`
`+Y+`AggregateError of:
`;D++,Y=Array(4*D+1).join(" ");for(var ne=0;ne<this.length;++ne){for(var X=this[ne]===this?"[Circular AggregateError]":this[ne]+"",ce=X.split(`
`),he=0;he<ce.length;++he)ce[he]=Y+ce[he];X=ce.join(`
`),de+=X+`
`}return D--,de},w(d,Error);var j=Error.__BluebirdErrorTypes__;j||(j=T({CancellationError:N,TimeoutError:E,OperationalError:d,RejectionError:d,AggregateError:W}),y.defineProperty(Error,"__BluebirdErrorTypes__",{value:j,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error,TypeError:h,RangeError:g,CancellationError:j.CancellationError,OperationalError:j.OperationalError,TimeoutError:j.TimeoutError,AggregateError:j.AggregateError,Warning:F}},{"./es5":13,"./util":36}],13:[function(e,t,i){var a=function(){return this===void 0}();if(a)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:a,propertyIsWritable:function(N,E){var W=Object.getOwnPropertyDescriptor(N,E);return!(W&&!W.writable&&!W.set)}};else{var d={}.hasOwnProperty,h={}.toString,g={}.constructor.prototype,y=function(N){var E=[];for(var W in N)d.call(N,W)&&E.push(W);return E},T=function(N,E){return{value:N[E]}},C=function(N,E,W){return N[E]=W.value,N},w=function(N){return N},x=function(N){try{return Object(N).constructor.prototype}catch{return g}},F=function(N){try{return h.call(N)==="[object Array]"}catch{return!1}};t.exports={isArray:F,keys:y,names:y,defineProperty:C,getDescriptor:T,freeze:w,getPrototypeOf:x,isES5:a,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,i){t.exports=function(a,d){var h=a.map;a.prototype.filter=function(g,y){return h(this,g,y,d)},a.filter=function(g,y,T){return h(g,y,T,d)}}},{}],15:[function(e,t,i){t.exports=function(a,d,h){function g(O,R,D){this.promise=O,this.type=R,this.handler=D,this.called=!1,this.cancelPromise=null}function y(O){this.finallyHandler=O}function T(O,R){return O.cancelPromise!=null?(arguments.length>1?O.cancelPromise._reject(R):O.cancelPromise._cancel(),O.cancelPromise=null,!0):!1}function C(){return x.call(this,this.promise._target()._settledValue())}function w(O){return T(this,O)?void 0:(E.e=O,E)}function x(O){var R=this.promise,D=this.handler;if(!this.called){this.called=!0;var j=this.isFinallyHandler()?D.call(R._boundValue()):D.call(R._boundValue(),O);if(j===h)return j;if(j!==void 0){R._setReturnedNonUndefined();var Y=d(j,R);if(Y instanceof a){if(this.cancelPromise!=null){if(Y._isCancelled()){var de=new N("late cancellation observer");return R._attachExtraTrace(de),E.e=de,E}Y.isPending()&&Y._attachCancellationCallback(new y(this))}return Y._then(C,w,void 0,this,void 0)}}}return R.isRejected()?(T(this),E.e=O,E):(T(this),O)}var F=e("./util"),N=a.CancellationError,E=F.errorObj,W=e("./catch_filter")(h);return g.prototype.isFinallyHandler=function(){return this.type===0},y.prototype._resultCancelled=function(){T(this.finallyHandler)},a.prototype._passThrough=function(O,R,D,j){return typeof O!="function"?this.then():this._then(D,j,void 0,new g(this,R,O),void 0)},a.prototype.lastly=a.prototype.finally=function(O){return this._passThrough(O,0,x,x)},a.prototype.tap=function(O){return this._passThrough(O,1,x)},a.prototype.tapCatch=function(O){var R=arguments.length;if(R===1)return this._passThrough(O,1,void 0,x);var D,j=new Array(R-1),Y=0;for(D=0;R-1>D;++D){var de=arguments[D];if(!F.isObject(de))return a.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+F.classString(de)));j[Y++]=de}j.length=Y;var ne=arguments[D];return this._passThrough(W(j,ne,this),1,void 0,x)},g}},{"./catch_filter":7,"./util":36}],16:[function(e,t,i){t.exports=function(a,d,h,g,y,T){function C(R,D,j){for(var Y=0;Y<D.length;++Y){j._pushContext();var de=W(D[Y])(R);if(j._popContext(),de===E){j._pushContext();var ne=a.reject(E.e);return j._popContext(),ne}var X=g(de,j);if(X instanceof a)return X}return null}function w(R,D,j,Y){if(T.cancellation()){var de=new a(h),ne=this._finallyPromise=new a(h);this._promise=de.lastly(function(){return ne}),de._captureStackTrace(),de._setOnCancel(this)}else{var X=this._promise=new a(h);X._captureStackTrace()}this._stack=Y,this._generatorFunction=R,this._receiver=D,this._generator=void 0,this._yieldHandlers=typeof j=="function"?[j].concat(O):O,this._yieldedPromise=null,this._cancellationPhase=!1}var x=e("./errors"),F=x.TypeError,N=e("./util"),E=N.errorObj,W=N.tryCatch,O=[];N.inherits(w,y),w.prototype._isResolved=function(){return this._promise===null},w.prototype._cleanup=function(){this._promise=this._generator=null,T.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},w.prototype._promiseCancelled=function(){if(!this._isResolved()){var R,D=typeof this._generator.return<"u";if(D)this._promise._pushContext(),R=W(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var j=new a.CancellationError("generator .return() sentinel");a.coroutine.returnSentinel=j,this._promise._attachExtraTrace(j),this._promise._pushContext(),R=W(this._generator.throw).call(this._generator,j),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(R)}},w.prototype._promiseFulfilled=function(R){this._yieldedPromise=null,this._promise._pushContext();var D=W(this._generator.next).call(this._generator,R);this._promise._popContext(),this._continue(D)},w.prototype._promiseRejected=function(R){this._yieldedPromise=null,this._promise._attachExtraTrace(R),this._promise._pushContext();var D=W(this._generator.throw).call(this._generator,R);this._promise._popContext(),this._continue(D)},w.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof a){var R=this._yieldedPromise;this._yieldedPromise=null,R.cancel()}},w.prototype.promise=function(){return this._promise},w.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},w.prototype._continue=function(R){var D=this._promise;if(R===E)return this._cleanup(),this._cancellationPhase?D.cancel():D._rejectCallback(R.e,!1);var j=R.value;if(R.done===!0)return this._cleanup(),this._cancellationPhase?D.cancel():D._resolveCallback(j);var Y=g(j,this._promise);if(!(Y instanceof a)&&(Y=C(Y,this._yieldHandlers,this._promise),Y===null))return void this._promiseRejected(new F(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(j))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));Y=Y._target();var de=Y._bitField;50397184&de?33554432&de?a._async.invoke(this._promiseFulfilled,this,Y._value()):16777216&de?a._async.invoke(this._promiseRejected,this,Y._reason()):this._promiseCancelled():(this._yieldedPromise=Y,Y._proxy(this,null))},a.coroutine=function(R,D){if(typeof R!="function")throw new F(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var j=Object(D).yieldHandler,Y=w,de=new Error().stack;return function(){var ne=R.apply(this,arguments),X=new Y(void 0,void 0,j,de),ce=X.promise();return X._generator=ne,X._promiseFulfilled(void 0),ce}},a.coroutine.addYieldHandler=function(R){if(typeof R!="function")throw new F("expecting a function but got "+N.classString(R));O.push(R)},a.spawn=function(R){if(T.deprecated("Promise.spawn()","Promise.coroutine()"),typeof R!="function")return d(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var D=new w(R,this),j=D.promise();return D._run(a.spawn),j}}},{"./errors":12,"./util":36}],17:[function(e,t,i){t.exports=function(a,d,h,g,y){var T=e("./util");T.canEvaluate,T.tryCatch,T.errorObj,a.join=function(){var C,w=arguments.length-1;if(w>0&&typeof arguments[w]=="function"){C=arguments[w];var F}var x=[].slice.call(arguments);C&&x.pop();var F=new d(x).promise();return C!==void 0?F.spread(C):F}}},{"./util":36}],18:[function(e,t,i){t.exports=function(a,d,h,g,y,T){function C(W,O,R,D){this.constructor$(W),this._promise._captureStackTrace();var j=a._getContext();if(this._callback=x.contextBind(j,O),this._preservedValues=D===y?new Array(this.length()):null,this._limit=R,this._inFlight=0,this._queue=[],E.invoke(this._asyncInit,this,void 0),x.isArray(W))for(var Y=0;Y<W.length;++Y){var de=W[Y];de instanceof a&&de.suppressUnhandledRejections()}}function w(W,O,R,D){if(typeof O!="function")return h("expecting a function but got "+x.classString(O));var j=0;if(R!==void 0){if(typeof R!="object"||R===null)return a.reject(new TypeError("options argument must be an object but it is "+x.classString(R)));if(typeof R.concurrency!="number")return a.reject(new TypeError("'concurrency' must be a number but it is "+x.classString(R.concurrency)));j=R.concurrency}return j=typeof j=="number"&&isFinite(j)&&j>=1?j:0,new C(W,O,j,D).promise()}var x=e("./util"),F=x.tryCatch,N=x.errorObj,E=a._async;x.inherits(C,d),C.prototype._asyncInit=function(){this._init$(void 0,-2)},C.prototype._init=function(){},C.prototype._promiseFulfilled=function(W,O){var R=this._values,D=this.length(),j=this._preservedValues,Y=this._limit;if(0>O){if(O=-1*O-1,R[O]=W,Y>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(Y>=1&&this._inFlight>=Y)return R[O]=W,this._queue.push(O),!1;j!==null&&(j[O]=W);var de=this._promise,ne=this._callback,X=de._boundValue();de._pushContext();var ce=F(ne).call(X,W,O,D),he=de._popContext();if(T.checkForgottenReturns(ce,he,j!==null?"Promise.filter":"Promise.map",de),ce===N)return this._reject(ce.e),!0;var le=g(ce,this._promise);if(le instanceof a){le=le._target();var fe=le._bitField;if(!(50397184&fe))return Y>=1&&this._inFlight++,R[O]=le,le._proxy(this,-1*(O+1)),!1;if(!(33554432&fe))return 16777216&fe?(this._reject(le._reason()),!0):(this._cancel(),!0);ce=le._value()}R[O]=ce}var _e=++this._totalResolved;return _e>=D?(j!==null?this._filter(R,j):this._resolve(R),!0):!1},C.prototype._drainQueue=function(){for(var W=this._queue,O=this._limit,R=this._values;W.length>0&&this._inFlight<O;){if(this._isResolved())return;var D=W.pop();this._promiseFulfilled(R[D],D)}},C.prototype._filter=function(W,O){for(var R=O.length,D=new Array(R),j=0,Y=0;R>Y;++Y)W[Y]&&(D[j++]=O[Y]);D.length=j,this._resolve(D)},C.prototype.preservedValues=function(){return this._preservedValues},a.prototype.map=function(W,O){return w(this,W,O,null)},a.map=function(W,O,R,D){return w(W,O,R,D)}}},{"./util":36}],19:[function(e,t,i){t.exports=function(a,d,h,g,y){var T=e("./util"),C=T.tryCatch;a.method=function(w){if(typeof w!="function")throw new a.TypeError("expecting a function but got "+T.classString(w));return function(){var x=new a(d);x._captureStackTrace(),x._pushContext();var F=C(w).apply(this,arguments),N=x._popContext();return y.checkForgottenReturns(F,N,"Promise.method",x),x._resolveFromSyncValue(F),x}},a.attempt=a.try=function(w){if(typeof w!="function")return g("expecting a function but got "+T.classString(w));var x=new a(d);x._captureStackTrace(),x._pushContext();var F;if(arguments.length>1){y.deprecated("calling Promise.try with more than 1 argument");var N=arguments[1],E=arguments[2];F=T.isArray(N)?C(w).apply(E,N):C(w).call(E,N)}else F=C(w)();var W=x._popContext();return y.checkForgottenReturns(F,W,"Promise.try",x),x._resolveFromSyncValue(F),x},a.prototype._resolveFromSyncValue=function(w){w===T.errorObj?this._rejectCallback(w.e,!1):this._resolveCallback(w,!0)}}},{"./util":36}],20:[function(e,t,i){function a(F){return F instanceof Error&&w.getPrototypeOf(F)===Error.prototype}function d(F){var N;if(a(F)){N=new C(F),N.name=F.name,N.message=F.message,N.stack=F.stack;for(var E=w.keys(F),W=0;W<E.length;++W){var O=E[W];x.test(O)||(N[O]=F[O])}return N}return g.markAsOriginatingFromRejection(F),F}function h(F,N){return function(E,W){if(F!==null){if(E){var O=d(y(E));F._attachExtraTrace(O),F._reject(O)}else if(N){var R=[].slice.call(arguments,1);F._fulfill(R)}else F._fulfill(W);F=null}}}var g=e("./util"),y=g.maybeWrapAsError,T=e("./errors"),C=T.OperationalError,w=e("./es5"),x=/^(?:name|message|stack|cause)$/;t.exports=h},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,i){t.exports=function(a){function d(x,F){var N=this;if(!y.isArray(x))return h.call(N,x,F);var E=C(F).apply(N._boundValue(),[null].concat(x));E===w&&T.throwLater(E.e)}function h(x,F){var N=this,E=N._boundValue(),W=x===void 0?C(F).call(E,null):C(F).call(E,null,x);W===w&&T.throwLater(W.e)}function g(x,F){var N=this;if(!x){var E=new Error(x+"");E.cause=x,x=E}var W=C(F).call(N._boundValue(),x);W===w&&T.throwLater(W.e)}var y=e("./util"),T=a._async,C=y.tryCatch,w=y.errorObj;a.prototype.asCallback=a.prototype.nodeify=function(x,F){if(typeof x=="function"){var N=h;F!==void 0&&Object(F).spread&&(N=d),this._then(N,g,void 0,this,x)}return this}}},{"./util":36}],22:[function(e,t,i){t.exports=function(){function a(){}function d(pe,oe){if(pe==null||pe.constructor!==h&&typeof Promise<"u"&&pe.constructor!==Promise)throw new le(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof oe!="function")throw new le("expecting a function but got "+N.classString(oe))}function h(pe){pe!==_e&&d(this,pe),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(pe),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function g(pe){this.promise._resolveCallback(pe)}function y(pe){this.promise._rejectCallback(pe,!1)}function T(pe){var oe=new h(_e);oe._fulfillmentHandler0=pe,oe._rejectionHandler0=pe,oe._promise0=pe,oe._receiver0=pe}var C=function(){return new le(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},w=function(){return new h.PromiseInspection(this._target())},x=function(pe){return h.reject(new le(pe))},F={},N=e("./util");N.setReflectHandler(w);var E=function(){var pe=process.domain;return pe===void 0?null:pe},W=function(){return null},O=function(){return{domain:E(),async:null}},R=N.isNode&&N.nodeSupportsAsyncResource?e("async_hooks").AsyncResource:null,D=function(){return{domain:E(),async:new R("Bluebird::Promise")}},j=N.isNode?O:W;N.notEnumerableProp(h,"_getContext",j);var Y=function(){j=D,N.notEnumerableProp(h,"_getContext",D)},de=function(){j=O,N.notEnumerableProp(h,"_getContext",O)},ne=e("./es5"),X=e("./async"),ce=new X;ne.defineProperty(h,"_async",{value:ce});var he=e("./errors"),le=h.TypeError=he.TypeError;h.RangeError=he.RangeError;var fe=h.CancellationError=he.CancellationError;h.TimeoutError=he.TimeoutError,h.OperationalError=he.OperationalError,h.RejectionError=he.OperationalError,h.AggregateError=he.AggregateError;var _e=function(){},Ee={},ke={},Ne=e("./thenables")(h,_e),je=e("./promise_array")(h,_e,Ne,x,a),Ze=e("./context")(h),De=Ze.create,Le=e("./debuggability")(h,Ze,Y,de),Ae=(Le.CapturedTrace,e("./finally")(h,Ne,ke)),Je=e("./catch_filter")(ke),He=e("./nodeback"),Ge=N.errorObj,nt=N.tryCatch;return h.prototype.toString=function(){return"[object Promise]"},h.prototype.caught=h.prototype.catch=function(pe){var oe=arguments.length;if(oe>1){var me,ye=new Array(oe-1),et=0;for(me=0;oe-1>me;++me){var Ke=arguments[me];if(!N.isObject(Ke))return x("Catch statement predicate: expecting an object but got "+N.classString(Ke));ye[et++]=Ke}if(ye.length=et,pe=arguments[me],typeof pe!="function")throw new le("The last argument to .catch() must be a function, got "+N.toString(pe));return this.then(void 0,Je(ye,pe,this))}return this.then(void 0,pe)},h.prototype.reflect=function(){return this._then(w,w,void 0,this,void 0)},h.prototype.then=function(pe,oe){if(Le.warnings()&&arguments.length>0&&typeof pe!="function"&&typeof oe!="function"){var me=".then() only accepts functions but was passed: "+N.classString(pe);arguments.length>1&&(me+=", "+N.classString(oe)),this._warn(me)}return this._then(pe,oe,void 0,void 0,void 0)},h.prototype.done=function(pe,oe){var me=this._then(pe,oe,void 0,void 0,void 0);me._setIsFinal()},h.prototype.spread=function(pe){return typeof pe!="function"?x("expecting a function but got "+N.classString(pe)):this.all()._then(pe,void 0,void 0,Ee,void 0)},h.prototype.toJSON=function(){var pe={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(pe.fulfillmentValue=this.value(),pe.isFulfilled=!0):this.isRejected()&&(pe.rejectionReason=this.reason(),pe.isRejected=!0),pe},h.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new je(this).promise()},h.prototype.error=function(pe){return this.caught(N.originatesFromRejection,pe)},h.getNewLibraryCopy=t.exports,h.is=function(pe){return pe instanceof h},h.fromNode=h.fromCallback=function(pe){var oe=new h(_e);oe._captureStackTrace();var me=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,ye=nt(pe)(He(oe,me));return ye===Ge&&oe._rejectCallback(ye.e,!0),oe._isFateSealed()||oe._setAsyncGuaranteed(),oe},h.all=function(pe){return new je(pe).promise()},h.cast=function(pe){var oe=Ne(pe);return oe instanceof h||(oe=new h(_e),oe._captureStackTrace(),oe._setFulfilled(),oe._rejectionHandler0=pe),oe},h.resolve=h.fulfilled=h.cast,h.reject=h.rejected=function(pe){var oe=new h(_e);return oe._captureStackTrace(),oe._rejectCallback(pe,!0),oe},h.setScheduler=function(pe){if(typeof pe!="function")throw new le("expecting a function but got "+N.classString(pe));return ce.setScheduler(pe)},h.prototype._then=function(pe,oe,me,ye,et){var Ke=et!==void 0,mt=Ke?et:new h(_e),vt=this._target(),Vt=vt._bitField;Ke||(mt._propagateFrom(this,3),mt._captureStackTrace(),ye===void 0&&2097152&this._bitField&&(ye=50397184&Vt?this._boundValue():vt===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,mt));var Nt=j();if(50397184&Vt){var At,nr,jt=vt._settlePromiseCtx;33554432&Vt?(nr=vt._rejectionHandler0,At=pe):16777216&Vt?(nr=vt._fulfillmentHandler0,At=oe,vt._unsetRejectionIsUnhandled()):(jt=vt._settlePromiseLateCancellationObserver,nr=new fe("late cancellation observer"),vt._attachExtraTrace(nr),At=oe),ce.invoke(jt,vt,{handler:N.contextBind(Nt,At),promise:mt,receiver:ye,value:nr})}else vt._addCallbacks(pe,oe,mt,ye,Nt);return mt},h.prototype._length=function(){return 65535&this._bitField},h.prototype._isFateSealed=function(){return(117506048&this._bitField)!==0},h.prototype._isFollowing=function(){return(67108864&this._bitField)===67108864},h.prototype._setLength=function(pe){this._bitField=-65536&this._bitField|65535&pe},h.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},h.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},h.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},h.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},h.prototype._isFinal=function(){return(4194304&this._bitField)>0},h.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},h.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},h.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},h.prototype._setAsyncGuaranteed=function(){if(!ce.hasCustomScheduler()){var pe=this._bitField;this._bitField=pe|(536870912&pe)>>2^134217728}},h.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},h.prototype._receiverAt=function(pe){var oe=pe===0?this._receiver0:this[4*pe-4+3];return oe===F?void 0:oe===void 0&&this._isBound()?this._boundValue():oe},h.prototype._promiseAt=function(pe){return this[4*pe-4+2]},h.prototype._fulfillmentHandlerAt=function(pe){return this[4*pe-4+0]},h.prototype._rejectionHandlerAt=function(pe){return this[4*pe-4+1]},h.prototype._boundValue=function(){},h.prototype._migrateCallback0=function(pe){var oe=(pe._bitField,pe._fulfillmentHandler0),me=pe._rejectionHandler0,ye=pe._promise0,et=pe._receiverAt(0);et===void 0&&(et=F),this._addCallbacks(oe,me,ye,et,null)},h.prototype._migrateCallbackAt=function(pe,oe){var me=pe._fulfillmentHandlerAt(oe),ye=pe._rejectionHandlerAt(oe),et=pe._promiseAt(oe),Ke=pe._receiverAt(oe);Ke===void 0&&(Ke=F),this._addCallbacks(me,ye,et,Ke,null)},h.prototype._addCallbacks=function(pe,oe,me,ye,et){var Ke=this._length();if(Ke>=65531&&(Ke=0,this._setLength(0)),Ke===0)this._promise0=me,this._receiver0=ye,typeof pe=="function"&&(this._fulfillmentHandler0=N.contextBind(et,pe)),typeof oe=="function"&&(this._rejectionHandler0=N.contextBind(et,oe));else{var mt=4*Ke-4;this[mt+2]=me,this[mt+3]=ye,typeof pe=="function"&&(this[mt+0]=N.contextBind(et,pe)),typeof oe=="function"&&(this[mt+1]=N.contextBind(et,oe))}return this._setLength(Ke+1),Ke},h.prototype._proxy=function(pe,oe){this._addCallbacks(void 0,void 0,oe,pe,null)},h.prototype._resolveCallback=function(pe,oe){if(!(117506048&this._bitField)){if(pe===this)return this._rejectCallback(C(),!1);var me=Ne(pe,this);if(!(me instanceof h))return this._fulfill(pe);oe&&this._propagateFrom(me,2);var ye=me._target();if(ye===this)return void this._reject(C());var et=ye._bitField;if(50397184&et)if(33554432&et)this._fulfill(ye._value());else if(16777216&et)this._reject(ye._reason());else{var vt=new fe("late cancellation observer");ye._attachExtraTrace(vt),this._reject(vt)}else{var Ke=this._length();Ke>0&&ye._migrateCallback0(this);for(var mt=1;Ke>mt;++mt)ye._migrateCallbackAt(this,mt);this._setFollowing(),this._setLength(0),this._setFollowee(me)}}},h.prototype._rejectCallback=function(pe,oe,me){var ye=N.ensureErrorObject(pe),et=ye===pe;if(!et&&!me&&Le.warnings()){var Ke="a promise was rejected with a non-error: "+N.classString(pe);this._warn(Ke,!0)}this._attachExtraTrace(ye,oe?et:!1),this._reject(pe)},h.prototype._resolveFromExecutor=function(pe){if(pe!==_e){var oe=this;this._captureStackTrace(),this._pushContext();var me=!0,ye=this._execute(pe,function(et){oe._resolveCallback(et)},function(et){oe._rejectCallback(et,me)});me=!1,this._popContext(),ye!==void 0&&oe._rejectCallback(ye,!0)}},h.prototype._settlePromiseFromHandler=function(pe,oe,me,ye){var et=ye._bitField;if(!(65536&et)){ye._pushContext();var Ke;oe===Ee?me&&typeof me.length=="number"?Ke=nt(pe).apply(this._boundValue(),me):(Ke=Ge,Ke.e=new le("cannot .spread() a non-array: "+N.classString(me))):Ke=nt(pe).call(oe,me);var mt=ye._popContext();et=ye._bitField,!(65536&et)&&(Ke===ke?ye._reject(me):Ke===Ge?ye._rejectCallback(Ke.e,!1):(Le.checkForgottenReturns(Ke,mt,"",ye,this),ye._resolveCallback(Ke)))}},h.prototype._target=function(){for(var pe=this;pe._isFollowing();)pe=pe._followee();return pe},h.prototype._followee=function(){return this._rejectionHandler0},h.prototype._setFollowee=function(pe){this._rejectionHandler0=pe},h.prototype._settlePromise=function(pe,oe,me,ye){var et=pe instanceof h,Ke=this._bitField,mt=(134217728&Ke)!==0;65536&Ke?(et&&pe._invokeInternalOnCancel(),me instanceof Ae&&me.isFinallyHandler()?(me.cancelPromise=pe,nt(oe).call(me,ye)===Ge&&pe._reject(Ge.e)):oe===w?pe._fulfill(w.call(me)):me instanceof a?me._promiseCancelled(pe):et||pe instanceof je?pe._cancel():me.cancel()):typeof oe=="function"?et?(mt&&pe._setAsyncGuaranteed(),this._settlePromiseFromHandler(oe,me,ye,pe)):oe.call(me,ye,pe):me instanceof a?me._isResolved()||(33554432&Ke?me._promiseFulfilled(ye,pe):me._promiseRejected(ye,pe)):et&&(mt&&pe._setAsyncGuaranteed(),33554432&Ke?pe._fulfill(ye):pe._reject(ye))},h.prototype._settlePromiseLateCancellationObserver=function(pe){var oe=pe.handler,me=pe.promise,ye=pe.receiver,et=pe.value;typeof oe=="function"?me instanceof h?this._settlePromiseFromHandler(oe,ye,et,me):oe.call(ye,et,me):me instanceof h&&me._reject(et)},h.prototype._settlePromiseCtx=function(pe){this._settlePromise(pe.promise,pe.handler,pe.receiver,pe.value)},h.prototype._settlePromise0=function(pe,oe,me){var ye=this._promise0,et=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(ye,pe,et,oe)},h.prototype._clearCallbackDataAtIndex=function(pe){var oe=4*pe-4;this[oe+2]=this[oe+3]=this[oe+0]=this[oe+1]=void 0},h.prototype._fulfill=function(pe){var oe=this._bitField;if(!((117506048&oe)>>>16)){if(pe===this){var me=C();return this._attachExtraTrace(me),this._reject(me)}this._setFulfilled(),this._rejectionHandler0=pe,(65535&oe)>0&&(134217728&oe?this._settlePromises():ce.settlePromises(this),this._dereferenceTrace())}},h.prototype._reject=function(pe){var oe=this._bitField;if(!((117506048&oe)>>>16))return this._setRejected(),this._fulfillmentHandler0=pe,this._isFinal()?ce.fatalError(pe,N.isNode):void((65535&oe)>0?ce.settlePromises(this):this._ensurePossibleRejectionHandled())},h.prototype._fulfillPromises=function(pe,oe){for(var me=1;pe>me;me++){var ye=this._fulfillmentHandlerAt(me),et=this._promiseAt(me),Ke=this._receiverAt(me);this._clearCallbackDataAtIndex(me),this._settlePromise(et,ye,Ke,oe)}},h.prototype._rejectPromises=function(pe,oe){for(var me=1;pe>me;me++){var ye=this._rejectionHandlerAt(me),et=this._promiseAt(me),Ke=this._receiverAt(me);this._clearCallbackDataAtIndex(me),this._settlePromise(et,ye,Ke,oe)}},h.prototype._settlePromises=function(){var pe=this._bitField,oe=65535&pe;if(oe>0){if(16842752&pe){var me=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,me,pe),this._rejectPromises(oe,me)}else{var ye=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,ye,pe),this._fulfillPromises(oe,ye)}this._setLength(0)}this._clearCancellationData()},h.prototype._settledValue=function(){var pe=this._bitField;return 33554432&pe?this._rejectionHandler0:16777216&pe?this._fulfillmentHandler0:void 0},typeof Symbol<"u"&&Symbol.toStringTag&&ne.defineProperty(h.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),h.defer=h.pending=function(){Le.deprecated("Promise.defer","new Promise");var pe=new h(_e);return{promise:pe,resolve:g,reject:y}},N.notEnumerableProp(h,"_makeSelfResolutionError",C),e("./method")(h,_e,Ne,x,Le),e("./bind")(h,_e,Ne,Le),e("./cancel")(h,je,x,Le),e("./direct_resolve")(h),e("./synchronous_inspection")(h),e("./join")(h,je,Ne,_e,ce),h.Promise=h,h.version="3.7.2",e("./call_get.js")(h),e("./generators.js")(h,x,_e,Ne,a,Le),e("./map.js")(h,je,x,Ne,_e,Le),e("./nodeify.js")(h),e("./promisify.js")(h,_e),e("./props.js")(h,je,Ne,x),e("./race.js")(h,_e,Ne,x),e("./reduce.js")(h,je,x,Ne,_e,Le),e("./settle.js")(h,je,Le),e("./some.js")(h,je,x),e("./timers.js")(h,_e,Le),e("./using.js")(h,x,Ne,De,_e,Le),e("./any.js")(h),e("./each.js")(h,_e),e("./filter.js")(h,_e),N.toFastProperties(h),N.toFastProperties(h.prototype),T({a:1}),T({b:2}),T({c:3}),T(1),T(function(){}),T(void 0),T(!1),T(new h(_e)),Le.setBounds(X.firstLineError,N.lastLineError),h}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(e,t,i){t.exports=function(a,d,h,g,y){function T(x){switch(x){case-2:return[];case-3:return{};case-6:return new Map}}function C(x){var F=this._promise=new a(d);x instanceof a&&(F._propagateFrom(x,3),x.suppressUnhandledRejections()),F._setOnCancel(this),this._values=x,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var w=e("./util");return w.isArray,w.inherits(C,y),C.prototype.length=function(){return this._length},C.prototype.promise=function(){return this._promise},C.prototype._init=function x(F,N){var E=h(this._values,this._promise);if(E instanceof a){E=E._target();var W=E._bitField;if(this._values=E,(50397184&W)===0)return this._promise._setAsyncGuaranteed(),E._then(x,this._reject,void 0,this,N);if(!(33554432&W))return 16777216&W?this._reject(E._reason()):this._cancel();E=E._value()}if(E=w.asArray(E),E===null){var O=g("expecting an array or an iterable object but got "+w.classString(E)).reason();return void this._promise._rejectCallback(O,!1)}return E.length===0?void(N===-5?this._resolveEmptyArray():this._resolve(T(N))):void this._iterate(E)},C.prototype._iterate=function(x){var F=this.getActualLength(x.length);this._length=F,this._values=this.shouldCopyValues()?new Array(F):this._values;for(var N=this._promise,E=!1,W=null,O=0;F>O;++O){var R=h(x[O],N);R instanceof a?(R=R._target(),W=R._bitField):W=null,E?W!==null&&R.suppressUnhandledRejections():W!==null?50397184&W?E=33554432&W?this._promiseFulfilled(R._value(),O):16777216&W?this._promiseRejected(R._reason(),O):this._promiseCancelled(O):(R._proxy(this,O),this._values[O]=R):E=this._promiseFulfilled(R,O)}E||N._setAsyncGuaranteed()},C.prototype._isResolved=function(){return this._values===null},C.prototype._resolve=function(x){this._values=null,this._promise._fulfill(x)},C.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},C.prototype._reject=function(x){this._values=null,this._promise._rejectCallback(x,!1)},C.prototype._promiseFulfilled=function(x,F){this._values[F]=x;var N=++this._totalResolved;return N>=this._length?(this._resolve(this._values),!0):!1},C.prototype._promiseCancelled=function(){return this._cancel(),!0},C.prototype._promiseRejected=function(x){return this._totalResolved++,this._reject(x),!0},C.prototype._resultCancelled=function(){if(!this._isResolved()){var x=this._values;if(this._cancel(),x instanceof a)x.cancel();else for(var F=0;F<x.length;++F)x[F]instanceof a&&x[F].cancel()}},C.prototype.shouldCopyValues=function(){return!0},C.prototype.getActualLength=function(x){return x},C}},{"./util":36}],24:[function(e,t,i){t.exports=function(a,d){function h(_e){return!ce.test(_e)}function g(_e){try{return _e.__isPromisified__===!0}catch{return!1}}function y(_e,Ee,ke){var Ne=W.getDataPropertyOrDefault(_e,Ee+ke,ne);return Ne?g(Ne):!1}function T(_e,Ee,ke){for(var Ne=0;Ne<_e.length;Ne+=2){var je=_e[Ne];if(ke.test(je)){for(var Ze=je.replace(ke,""),De=0;De<_e.length;De+=2)if(_e[De]===Ze)throw new Y(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",Ee))}}}function C(_e,Ee,ke,Ne){for(var je=W.inheritedDataKeys(_e),Ze=[],De=0;De<je.length;++De){var Le=je[De],Ae=_e[Le],Je=Ne===he?!0:he(Le);typeof Ae!="function"||g(Ae)||y(_e,Le,Ee)||!Ne(Le,Ae,_e,Je)||Ze.push(Le,Ae)}return T(Ze,Ee,ke),Ze}function w(_e,Ee,ke,Ne,je,Ze){function De(){var Je=Ee;Ee===E&&(Je=this);var He=new a(d);He._captureStackTrace();var Ge=typeof Ae=="string"&&this!==Le?this[Ae]:_e,nt=O(He,Ze);try{Ge.apply(Je,R(arguments,nt))}catch(pe){He._rejectCallback(D(pe),!0,!0)}return He._isFateSealed()||He._setAsyncGuaranteed(),He}var Le=function(){return this}(),Ae=_e;return typeof Ae=="string"&&(_e=Ne),W.notEnumerableProp(De,"__isPromisified__",!0),De}function x(_e,Ee,ke,Ne,je){for(var Ze=new RegExp(le(Ee)+"$"),De=C(_e,Ee,Ze,ke),Le=0,Ae=De.length;Ae>Le;Le+=2){var Je=De[Le],He=De[Le+1],Ge=Je+Ee;if(Ne===fe)_e[Ge]=fe(Je,E,Je,He,Ee,je);else{var nt=Ne(He,function(){return fe(Je,E,Je,He,Ee,je)});W.notEnumerableProp(nt,"__isPromisified__",!0),_e[Ge]=nt}}return W.toFastProperties(_e),_e}function F(_e,Ee,ke){return fe(_e,Ee,void 0,_e,null,ke)}var N,E={},W=e("./util"),O=e("./nodeback"),R=W.withAppended,D=W.maybeWrapAsError,j=W.canEvaluate,Y=e("./errors").TypeError,de="Async",ne={__isPromisified__:!0},X=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],ce=new RegExp("^(?:"+X.join("|")+")$"),he=function(_e){return W.isIdentifier(_e)&&_e.charAt(0)!=="_"&&_e!=="constructor"},le=function(_e){return _e.replace(new RegExp(/\$/,"g"),"\\$")},fe=j?N:w;a.promisify=function(_e,Ee){if(typeof _e!="function")throw new Y("expecting a function but got "+W.classString(_e));if(g(_e))return _e;Ee=Object(Ee);var ke=Ee.context===void 0?E:Ee.context,Ne=!!Ee.multiArgs,je=F(_e,ke,Ne);return W.copyDescriptors(_e,je,h),je},a.promisifyAll=function(_e,Ee){if(typeof _e!="function"&&typeof _e!="object")throw new Y(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);Ee=Object(Ee);var ke=!!Ee.multiArgs,Ne=Ee.suffix;typeof Ne!="string"&&(Ne=de);var je=Ee.filter;typeof je!="function"&&(je=he);var Ze=Ee.promisifier;if(typeof Ze!="function"&&(Ze=fe),!W.isIdentifier(Ne))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var De=W.inheritedDataKeys(_e),Le=0;Le<De.length;++Le){var Ae=_e[De[Le]];De[Le]!=="constructor"&&W.isClass(Ae)&&(x(Ae.prototype,Ne,je,Ze,ke),x(Ae,Ne,je,Ze,ke))}return x(_e,Ne,je,Ze,ke)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,i){t.exports=function(a,d,h,g){function y(W){var O,R=!1;if(C!==void 0&&W instanceof C)O=N(W),R=!0;else{var D=F.keys(W),j=D.length;O=new Array(2*j);for(var Y=0;j>Y;++Y){var de=D[Y];O[Y]=W[de],O[Y+j]=de}}this.constructor$(O),this._isMap=R,this._init$(void 0,R?-6:-3)}function T(W){var O,R=h(W);return x(R)?(O=R instanceof a?R._then(a.props,void 0,void 0,void 0,void 0):new y(R).promise(),R instanceof a&&O._propagateFrom(R,2),O):g(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}var C,w=e("./util"),x=w.isObject,F=e("./es5");typeof Map=="function"&&(C=Map);var N=function(){function W(D,j){this[O]=D,this[O+R]=j,O++}var O=0,R=0;return function(D){R=D.size,O=0;var j=new Array(2*D.size);return D.forEach(W,j),j}}(),E=function(W){for(var O=new C,R=W.length/2|0,D=0;R>D;++D){var j=W[R+D],Y=W[D];O.set(j,Y)}return O};w.inherits(y,d),y.prototype._init=function(){},y.prototype._promiseFulfilled=function(W,O){this._values[O]=W;var R=++this._totalResolved;if(R>=this._length){var D;if(this._isMap)D=E(this._values);else{D={};for(var j=this.length(),Y=0,de=this.length();de>Y;++Y)D[this._values[Y+j]]=this._values[Y]}return this._resolve(D),!0}return!1},y.prototype.shouldCopyValues=function(){return!1},y.prototype.getActualLength=function(W){return W>>1},a.prototype.props=function(){return T(this)},a.props=function(W){return T(W)}}},{"./es5":13,"./util":36}],26:[function(e,t,i){function a(h,g,y,T,C){for(var w=0;C>w;++w)y[w+T]=h[w+g],h[w+g]=void 0}function d(h){this._capacity=h,this._length=0,this._front=0}d.prototype._willBeOverCapacity=function(h){return this._capacity<h},d.prototype._pushOne=function(h){var g=this.length();this._checkCapacity(g+1);var y=this._front+g&this._capacity-1;this[y]=h,this._length=g+1},d.prototype.push=function(h,g,y){var T=this.length()+3;if(this._willBeOverCapacity(T))return this._pushOne(h),this._pushOne(g),void this._pushOne(y);var C=this._front+T-3;this._checkCapacity(T);var w=this._capacity-1;this[C+0&w]=h,this[C+1&w]=g,this[C+2&w]=y,this._length=T},d.prototype.shift=function(){var h=this._front,g=this[h];return this[h]=void 0,this._front=h+1&this._capacity-1,this._length--,g},d.prototype.length=function(){return this._length},d.prototype._checkCapacity=function(h){this._capacity<h&&this._resizeTo(this._capacity<<1)},d.prototype._resizeTo=function(h){var g=this._capacity;this._capacity=h;var y=this._front,T=this._length,C=y+T&g-1;a(this,0,this,g,C)},t.exports=d},{}],27:[function(e,t,i){t.exports=function(a,d,h,g){function y(w,x){var F=h(w);if(F instanceof a)return C(F);if(w=T.asArray(w),w===null)return g("expecting an array or an iterable object but got "+T.classString(w));var N=new a(d);x!==void 0&&N._propagateFrom(x,3);for(var E=N._fulfill,W=N._reject,O=0,R=w.length;R>O;++O){var D=w[O];(D!==void 0||O in w)&&a.cast(D)._then(E,W,void 0,N,null)}return N}var T=e("./util"),C=function(w){return w.then(function(x){return y(x,w)})};a.race=function(w){return y(w,void 0)},a.prototype.race=function(){return y(this,void 0)}}},{"./util":36}],28:[function(e,t,i){t.exports=function(a,d,h,g,y,T){function C(O,R,D,j){this.constructor$(O);var Y=a._getContext();this._fn=E.contextBind(Y,R),D!==void 0&&(D=a.resolve(D),D._attachCancellationCallback(this)),this._initialValue=D,this._currentCancellable=null,j===y?this._eachValues=Array(this._length):j===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function w(O,R){this.isFulfilled()?R._resolve(O):R._reject(O)}function x(O,R,D,j){if(typeof R!="function")return h("expecting a function but got "+E.classString(R));var Y=new C(O,R,D,j);return Y.promise()}function F(O){this.accum=O,this.array._gotAccum(O);var R=g(this.value,this.array._promise);return R instanceof a?(this.array._currentCancellable=R,R._then(N,void 0,void 0,this,void 0)):N.call(this,R)}function N(O){var R=this.array,D=R._promise,j=W(R._fn);D._pushContext();var Y;Y=R._eachValues!==void 0?j.call(D._boundValue(),O,this.index,this.length):j.call(D._boundValue(),this.accum,O,this.index,this.length),Y instanceof a&&(R._currentCancellable=Y);var de=D._popContext();return T.checkForgottenReturns(Y,de,R._eachValues!==void 0?"Promise.each":"Promise.reduce",D),Y}var E=e("./util"),W=E.tryCatch;E.inherits(C,d),C.prototype._gotAccum=function(O){this._eachValues!==void 0&&this._eachValues!==null&&O!==y&&this._eachValues.push(O)},C.prototype._eachComplete=function(O){return this._eachValues!==null&&this._eachValues.push(O),this._eachValues},C.prototype._init=function(){},C.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},C.prototype.shouldCopyValues=function(){return!1},C.prototype._resolve=function(O){this._promise._resolveCallback(O),this._values=null},C.prototype._resultCancelled=function(O){return O===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof a&&this._currentCancellable.cancel(),this._initialValue instanceof a&&this._initialValue.cancel()))},C.prototype._iterate=function(O){this._values=O;var R,D,j=O.length;this._initialValue!==void 0?(R=this._initialValue,D=0):(R=a.resolve(O[0]),D=1),this._currentCancellable=R;for(var Y=D;j>Y;++Y){var de=O[Y];de instanceof a&&de.suppressUnhandledRejections()}if(!R.isRejected())for(;j>D;++D){var ne={accum:null,value:O[D],index:D,length:j,array:this};R=R._then(F,void 0,void 0,ne,void 0),!(127&D)&&R._setNoAsyncGuarantee()}this._eachValues!==void 0&&(R=R._then(this._eachComplete,void 0,void 0,this,void 0)),R._then(w,w,void 0,R,this)},a.prototype.reduce=function(O,R){return x(this,O,R,null)},a.reduce=function(O,R,D,j){return x(O,R,D,j)}}},{"./util":36}],29:[function(e,t,i){var a,d=e("./util"),h=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},g=d.getNativePromise();if(d.isNode&&typeof MutationObserver>"u"){var y=global.setImmediate,T=process.nextTick;a=d.isRecentNode?function(w){y.call(global,w)}:function(w){T.call(process,w)}}else if(typeof g=="function"&&typeof g.resolve=="function"){var C=g.resolve();a=function(w){C.then(w)}}else a=typeof MutationObserver<"u"&&(typeof window>"u"||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var w=document.createElement("div"),x={attributes:!0},F=!1,N=document.createElement("div"),E=new MutationObserver(function(){w.classList.toggle("foo"),F=!1});E.observe(N,x);var W=function(){F||(F=!0,N.classList.toggle("foo"))};return function(O){var R=new MutationObserver(function(){R.disconnect(),O()});R.observe(w,x),W()}}():typeof setImmediate<"u"?function(w){setImmediate(w)}:typeof setTimeout<"u"?function(w){setTimeout(w,0)}:h;t.exports=a},{"./util":36}],30:[function(e,t,i){t.exports=function(a,d,h){function g(C){this.constructor$(C)}var y=a.PromiseInspection,T=e("./util");T.inherits(g,d),g.prototype._promiseResolved=function(C,w){this._values[C]=w;var x=++this._totalResolved;return x>=this._length?(this._resolve(this._values),!0):!1},g.prototype._promiseFulfilled=function(C,w){var x=new y;return x._bitField=33554432,x._settledValueField=C,this._promiseResolved(w,x)},g.prototype._promiseRejected=function(C,w){var x=new y;return x._bitField=16777216,x._settledValueField=C,this._promiseResolved(w,x)},a.settle=function(C){return h.deprecated(".settle()",".reflect()"),new g(C).promise()},a.allSettled=function(C){return new g(C).promise()},a.prototype.settle=function(){return a.settle(this)}}},{"./util":36}],31:[function(e,t,i){t.exports=function(a,d,h){function g(N){this.constructor$(N),this._howMany=0,this._unwrap=!1,this._initialized=!1}function y(N,E){if((0|E)!==E||0>E)return h(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var W=new g(N),O=W.promise();return W.setHowMany(E),W.init(),O}var T=e("./util"),C=e("./errors").RangeError,w=e("./errors").AggregateError,x=T.isArray,F={};T.inherits(g,d),g.prototype._init=function(){if(this._initialized){if(this._howMany===0)return void this._resolve([]);this._init$(void 0,-5);var N=x(this._values);!this._isResolved()&&N&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},g.prototype.init=function(){this._initialized=!0,this._init()},g.prototype.setUnwrap=function(){this._unwrap=!0},g.prototype.howMany=function(){return this._howMany},g.prototype.setHowMany=function(N){this._howMany=N},g.prototype._promiseFulfilled=function(N){return this._addFulfilled(N),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},g.prototype._promiseRejected=function(N){return this._addRejected(N),this._checkOutcome()},g.prototype._promiseCancelled=function(){return this._values instanceof a||this._values==null?this._cancel():(this._addRejected(F),this._checkOutcome())},g.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var N=new w,E=this.length();E<this._values.length;++E)this._values[E]!==F&&N.push(this._values[E]);return N.length>0?this._reject(N):this._cancel(),!0}return!1},g.prototype._fulfilled=function(){return this._totalResolved},g.prototype._rejected=function(){return this._values.length-this.length()},g.prototype._addRejected=function(N){this._values.push(N)},g.prototype._addFulfilled=function(N){this._values[this._totalResolved++]=N},g.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},g.prototype._getRangeError=function(N){var E="Input array must contain at least "+this._howMany+" items but contains only "+N+" items";return new C(E)},g.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},a.some=function(N,E){return y(N,E)},a.prototype.some=function(N){return y(this,N)},a._SomePromiseArray=g}},{"./errors":12,"./util":36}],32:[function(e,t,i){t.exports=function(a){function d(x){x!==void 0?(x=x._target(),this._bitField=x._bitField,this._settledValueField=x._isFateSealed()?x._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}d.prototype._settledValue=function(){return this._settledValueField};var h=d.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},g=d.prototype.error=d.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},y=d.prototype.isFulfilled=function(){return(33554432&this._bitField)!==0},T=d.prototype.isRejected=function(){return(16777216&this._bitField)!==0},C=d.prototype.isPending=function(){return(50397184&this._bitField)===0},w=d.prototype.isResolved=function(){return(50331648&this._bitField)!==0};d.prototype.isCancelled=function(){return(8454144&this._bitField)!==0},a.prototype.__isCancelled=function(){return(65536&this._bitField)===65536},a.prototype._isCancelled=function(){return this._target().__isCancelled()},a.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!==0},a.prototype.isPending=function(){return C.call(this._target())},a.prototype.isRejected=function(){return T.call(this._target())},a.prototype.isFulfilled=function(){return y.call(this._target())},a.prototype.isResolved=function(){return w.call(this._target())},a.prototype.value=function(){return h.call(this._target())},a.prototype.reason=function(){var x=this._target();return x._unsetRejectionIsUnhandled(),g.call(x)},a.prototype._value=function(){return this._settledValue()},a.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},a.PromiseInspection=d}},{}],33:[function(e,t,i){t.exports=function(a,d){function h(E,W){if(F(E)){if(E instanceof a)return E;var O=y(E);if(O===x){W&&W._pushContext();var R=a.reject(O.e);return W&&W._popContext(),R}if(typeof O=="function"){if(T(E)){var R=new a(d);return E._then(R._fulfill,R._reject,void 0,R,null),R}return C(E,O,W)}}return E}function g(E){return E.then}function y(E){try{return g(E)}catch(W){return x.e=W,x}}function T(E){try{return N.call(E,"_promise0")}catch{return!1}}function C(E,W,O){function R(X){j&&(j._resolveCallback(X),j=null)}function D(X){j&&(j._rejectCallback(X,de,!0),j=null)}var j=new a(d),Y=j;O&&O._pushContext(),j._captureStackTrace(),O&&O._popContext();var de=!0,ne=w.tryCatch(W).call(E,R,D);return de=!1,j&&ne===x&&(j._rejectCallback(ne.e,!0,!0),j=null),Y}var w=e("./util"),x=w.errorObj,F=w.isObject,N={}.hasOwnProperty;return h}},{"./util":36}],34:[function(e,t,i){t.exports=function(a,d,h){function g(E){this.handle=E}function y(E){return clearTimeout(this.handle),E}function T(E){throw clearTimeout(this.handle),E}var C=e("./util"),w=a.TimeoutError;g.prototype._resultCancelled=function(){clearTimeout(this.handle)};var x=function(E){return F(+this).thenReturn(E)},F=a.delay=function(E,W){var O,R;return W!==void 0?(O=a.resolve(W)._then(x,null,null,E,void 0),h.cancellation()&&W instanceof a&&O._setOnCancel(W)):(O=new a(d),R=setTimeout(function(){O._fulfill()},+E),h.cancellation()&&O._setOnCancel(new g(R)),O._captureStackTrace()),O._setAsyncGuaranteed(),O};a.prototype.delay=function(E){return F(E,this)};var N=function(E,W,O){var R;R=typeof W!="string"?W instanceof Error?W:new w("operation timed out"):new w(W),C.markAsOriginatingFromRejection(R),E._attachExtraTrace(R),E._reject(R),O!=null&&O.cancel()};a.prototype.timeout=function(E,W){E=+E;var O,R,D=new g(setTimeout(function(){O.isPending()&&N(O,W,R)},E));return h.cancellation()?(R=this.then(),O=R._then(y,T,void 0,D,void 0),O._setOnCancel(D)):O=this._then(y,T,void 0,D,void 0),O}}},{"./util":36}],35:[function(e,t,i){t.exports=function(a,d,h,g,y,T){function C(ne){setTimeout(function(){throw ne},0)}function w(ne){var X=h(ne);return X!==ne&&typeof ne._isDisposable=="function"&&typeof ne._getDisposer=="function"&&ne._isDisposable()&&X._setDisposable(ne._getDisposer()),X}function x(ne,X){function ce(){if(he>=le)return fe._fulfill();var _e=w(ne[he++]);if(_e instanceof a&&_e._isDisposable()){try{_e=h(_e._getDisposer().tryDispose(X),ne.promise)}catch(Ee){return C(Ee)}if(_e instanceof a)return _e._then(ce,C,null,null,null)}ce()}var he=0,le=ne.length,fe=new a(y);return ce(),fe}function F(ne,X,ce){this._data=ne,this._promise=X,this._context=ce}function N(ne,X,ce){this.constructor$(ne,X,ce)}function E(ne){return F.isDisposer(ne)?(this.resources[this.index]._setDisposable(ne),ne.promise()):ne}function W(ne){this.length=ne,this.promise=null,this[ne-1]=null}var O=e("./util"),R=e("./errors").TypeError,D=e("./util").inherits,j=O.errorObj,Y=O.tryCatch,de={};F.prototype.data=function(){return this._data},F.prototype.promise=function(){return this._promise},F.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():de},F.prototype.tryDispose=function(ne){var X=this.resource(),ce=this._context;ce!==void 0&&ce._pushContext();var he=X!==de?this.doDispose(X,ne):null;return ce!==void 0&&ce._popContext(),this._promise._unsetDisposable(),this._data=null,he},F.isDisposer=function(ne){return ne!=null&&typeof ne.resource=="function"&&typeof ne.tryDispose=="function"},D(N,F),N.prototype.doDispose=function(ne,X){var ce=this.data();return ce.call(ne,ne,X)},W.prototype._resultCancelled=function(){for(var ne=this.length,X=0;ne>X;++X){var ce=this[X];ce instanceof a&&ce.cancel()}},a.using=function(){var ne=arguments.length;if(2>ne)return d("you must pass at least 2 arguments to Promise.using");var X=arguments[ne-1];if(typeof X!="function")return d("expecting a function but got "+O.classString(X));var ce,he=!0;ne===2&&Array.isArray(arguments[0])?(ce=arguments[0],ne=ce.length,he=!1):(ce=arguments,ne--);for(var le=new W(ne),fe=0;ne>fe;++fe){var _e=ce[fe];if(F.isDisposer(_e)){var Ee=_e;_e=_e.promise(),_e._setDisposable(Ee)}else{var ke=h(_e);ke instanceof a&&(_e=ke._then(E,null,null,{resources:le,index:fe},void 0))}le[fe]=_e}for(var Ne=new Array(le.length),fe=0;fe<Ne.length;++fe)Ne[fe]=a.resolve(le[fe]).reflect();var je=a.all(Ne).then(function(De){for(var Le=0;Le<De.length;++Le){var Ae=De[Le];if(Ae.isRejected())return j.e=Ae.error(),j;if(!Ae.isFulfilled())return void je.cancel();De[Le]=Ae.value()}Ze._pushContext(),X=Y(X);var Je=he?X.apply(void 0,De):X(De),He=Ze._popContext();return T.checkForgottenReturns(Je,He,"Promise.using",Ze),Je}),Ze=je.lastly(function(){var De=new a.PromiseInspection(je);return x(le,De)});return le.promise=Ze,Ze._setOnCancel(le),Ze},a.prototype._setDisposable=function(ne){this._bitField=131072|this._bitField,this._disposer=ne},a.prototype._isDisposable=function(){return(131072&this._bitField)>0},a.prototype._getDisposer=function(){return this._disposer},a.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},a.prototype.disposer=function(ne){if(typeof ne=="function")return new N(ne,this,g());throw new R}}},{"./errors":12,"./util":36}],36:[function(e,t,i){function a(){try{var oe=Ee;return Ee=null,oe.apply(this,arguments)}catch(me){return _e.e=me,_e}}function d(oe){return Ee=oe,a}function h(oe){return oe==null||oe===!0||oe===!1||typeof oe=="string"||typeof oe=="number"}function g(oe){return typeof oe=="function"||typeof oe=="object"&&oe!==null}function y(oe){return h(oe)?new Error(O(oe)):oe}function T(oe,me){var ye,et=oe.length,Ke=new Array(et+1);for(ye=0;et>ye;++ye)Ke[ye]=oe[ye];return Ke[ye]=me,Ke}function C(oe,me,ye){if(!le.isES5)return{}.hasOwnProperty.call(oe,me)?oe[me]:void 0;var et=Object.getOwnPropertyDescriptor(oe,me);return et!=null?et.get==null&&et.set==null?et.value:ye:void 0}function w(oe,me,ye){if(h(oe))return oe;var et={value:ye,configurable:!0,enumerable:!1,writable:!0};return le.defineProperty(oe,me,et),oe}function x(oe){throw oe}function F(oe){try{if(typeof oe=="function"){var me=le.names(oe.prototype),ye=le.isES5&&me.length>1,et=me.length>0&&!(me.length===1&&me[0]==="constructor"),Ke=Ze.test(oe+"")&&le.names(oe).length>0;if(ye||et||Ke)return!0}return!1}catch{return!1}}function N(oe){function me(){}function ye(){return typeof et.foo}me.prototype=oe;var et=new me;return ye(),ye(),oe}function E(oe){return De.test(oe)}function W(oe,me,ye){for(var et=new Array(oe),Ke=0;oe>Ke;++Ke)et[Ke]=me+Ke+ye;return et}function O(oe){try{return oe+""}catch{return"[no string representation]"}}function R(oe){return oe instanceof Error||oe!==null&&typeof oe=="object"&&typeof oe.message=="string"&&typeof oe.name=="string"}function D(oe){try{w(oe,"isOperational",!0)}catch{}}function j(oe){return oe==null?!1:oe instanceof Error.__BluebirdErrorTypes__.OperationalError||oe.isOperational===!0}function Y(oe){return R(oe)&&le.propertyIsWritable(oe,"stack")}function de(oe){return{}.toString.call(oe)}function ne(oe,me,ye){for(var et=le.names(oe),Ke=0;Ke<et.length;++Ke){var mt=et[Ke];if(ye(mt))try{le.defineProperty(me,mt,le.getDescriptor(oe,mt))}catch{}}}function X(oe){return Ge?process.env[oe]:void 0}function ce(){if(typeof Promise=="function")try{var oe=new Promise(function(){});if(de(oe)==="[object Promise]")return Promise}catch{}}function he(oe,me){if(oe===null||typeof me!="function"||me===nt)return me;oe.domain!==null&&(me=oe.domain.bind(me));var ye=oe.async;if(ye!==null){var et=me;me=function(){var Ke=new Array(2).concat([].slice.call(arguments));return Ke[0]=et,Ke[1]=this,ye.runInAsyncScope.apply(ye,Ke)}}return me}var le=e("./es5"),fe=typeof navigator>"u",_e={e:{}},Ee,ke=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:this!==void 0?this:null,Ne=function(oe,me){function ye(){this.constructor=oe,this.constructor$=me;for(var Ke in me.prototype)et.call(me.prototype,Ke)&&Ke.charAt(Ke.length-1)!=="$"&&(this[Ke+"$"]=me.prototype[Ke])}var et={}.hasOwnProperty;return ye.prototype=me.prototype,oe.prototype=new ye,oe.prototype},je=function(){var oe=[Array.prototype,Object.prototype,Function.prototype],me=function(Ke){for(var mt=0;mt<oe.length;++mt)if(oe[mt]===Ke)return!0;return!1};if(le.isES5){var ye=Object.getOwnPropertyNames;return function(Ke){for(var mt=[],vt=Object.create(null);Ke!=null&&!me(Ke);){var Vt;try{Vt=ye(Ke)}catch{return mt}for(var Nt=0;Nt<Vt.length;++Nt){var At=Vt[Nt];if(!vt[At]){vt[At]=!0;var nr=Object.getOwnPropertyDescriptor(Ke,At);nr!=null&&nr.get==null&&nr.set==null&&mt.push(At)}}Ke=le.getPrototypeOf(Ke)}return mt}}var et={}.hasOwnProperty;return function(Ke){if(me(Ke))return[];var mt=[];e:for(var vt in Ke)if(et.call(Ke,vt))mt.push(vt);else{for(var Vt=0;Vt<oe.length;++Vt)if(et.call(oe[Vt],vt))continue e;mt.push(vt)}return mt}}(),Ze=/this\s*\.\s*\S+\s*=/,De=/^[a-z$_][a-z$_0-9]*$/i,Le=function(){return"stack"in new Error?function(oe){return Y(oe)?oe:new Error(O(oe))}:function(oe){if(Y(oe))return oe;try{throw new Error(O(oe))}catch(me){return me}}}(),Ae=function(oe){return le.isArray(oe)?oe:null};if(typeof Symbol<"u"&&Symbol.iterator){var Je=typeof Array.from=="function"?function(oe){return Array.from(oe)}:function(oe){for(var me,ye=[],et=oe[Symbol.iterator]();!(me=et.next()).done;)ye.push(me.value);return ye};Ae=function(oe){return le.isArray(oe)?oe:oe!=null&&typeof oe[Symbol.iterator]=="function"?Je(oe):null}}var He=typeof process<"u"&&de(process).toLowerCase()==="[object process]",Ge=typeof process<"u"&&typeof process.env<"u",nt,pe={setReflectHandler:function(oe){nt=oe},isClass:F,isIdentifier:E,inheritedDataKeys:je,getDataPropertyOrDefault:C,thrower:x,isArray:le.isArray,asArray:Ae,notEnumerableProp:w,isPrimitive:h,isObject:g,isError:R,canEvaluate:fe,errorObj:_e,tryCatch:d,inherits:Ne,withAppended:T,maybeWrapAsError:y,toFastProperties:N,filledRange:W,toString:O,canAttachTrace:Y,ensureErrorObject:Le,originatesFromRejection:j,markAsOriginatingFromRejection:D,classString:de,copyDescriptors:ne,isNode:He,hasEnvVariables:Ge,env:X,global:ke,getNativePromise:ce,contextBind:he};pe.isRecentNode=pe.isNode&&function(){var oe;return process.versions&&process.versions.node?oe=process.versions.node.split(".").map(Number):process.version&&(oe=process.version.split(".").map(Number)),oe[0]===0&&oe[1]>10||oe[0]>0}(),pe.nodeSupportsAsyncResource=pe.isNode&&function(){var oe=!1;try{var me=e("async_hooks").AsyncResource;oe=typeof me.prototype.runInAsyncScope=="function"}catch{oe=!1}return oe}(),pe.isNode&&pe.toFastProperties(process);try{throw new Error}catch(oe){pe.lastLineError=oe}t.exports=pe},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}(function(e){function t(r,n){(n==null||n>r.length)&&(n=r.length);for(var o=0,s=Array(n);o<n;o++)s[o]=r[o];return s}function i(r,n,o,s,u,l,c){try{var f=r[l](c),m=f.value}catch(v){return void o(v)}f.done?n(m):Promise.resolve(m).then(s,u)}function a(r){return function(){var n=this,o=arguments;return new Promise(function(s,u){var l=r.apply(n,o);function c(m){i(l,s,u,c,f,"next",m)}function f(m){i(l,s,u,c,f,"throw",m)}c(void 0)})}}function d(r,n,o){return n=x(n),function(s,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(s)}(r,N()?Reflect.construct(n,o||[],x(r).constructor):n.apply(r,o))}function h(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function g(r,n){for(var o=0;o<n.length;o++){var s=n[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,R(s.key),s)}}function y(r,n,o){return n&&g(r.prototype,n),o&&g(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r}function T(r,n){var o=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!o){if(Array.isArray(r)||(o=j(r))||n&&r&&typeof r.length=="number"){o&&(r=o);var s=0,u=function(){};return{s:u,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(m){throw m},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,c=!0,f=!1;return{s:function(){o=o.call(r)},n:function(){var m=o.next();return c=m.done,m},e:function(m){f=!0,l=m},f:function(){try{c||o.return==null||o.return()}finally{if(f)throw l}}}}function C(r,n,o){return(n=R(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function w(){return w=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,n,o){var s=function(l,c){for(;!{}.hasOwnProperty.call(l,c)&&(l=x(l))!==null;);return l}(r,n);if(s){var u=Object.getOwnPropertyDescriptor(s,n);return u.get?u.get.call(arguments.length<3?r:o):u.value}},w.apply(null,arguments)}function x(r){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x(r)}function F(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&W(r,n)}function N(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N=function(){return!!r})()}function E(){E=function(){return n};var r,n={},o=Object.prototype,s=o.hasOwnProperty,u=Object.defineProperty||function(re,ae,Se){re[ae]=Se.value},l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",f=l.asyncIterator||"@@asyncIterator",m=l.toStringTag||"@@toStringTag";function v(re,ae,Se){return Object.defineProperty(re,ae,{value:Se,enumerable:!0,configurable:!0,writable:!0}),re[ae]}try{v({},"")}catch{v=function(ae,Se,ge){return ae[Se]=ge}}function S(re,ae,Se,ge){var ve=ae&&ae.prototype instanceof $?ae:$,Me=Object.create(ve.prototype),Qe=new ie(ge||[]);return u(Me,"_invoke",{value:U(re,Se,Qe)}),Me}function _(re,ae,Se){try{return{type:"normal",arg:re.call(ae,Se)}}catch(ge){return{type:"throw",arg:ge}}}n.wrap=S;var b="suspendedStart",I="suspendedYield",A="executing",P="completed",L={};function $(){}function ee(){}function q(){}var Q={};v(Q,c,function(){return this});var J=Object.getPrototypeOf,te=J&&J(J(se([])));te&&te!==o&&s.call(te,c)&&(Q=te);var H=q.prototype=$.prototype=Object.create(Q);function k(re){["next","throw","return"].forEach(function(ae){v(re,ae,function(Se){return this._invoke(ae,Se)})})}function M(re,ae){function Se(ve,Me,Qe,ze){var yt=_(re[ve],re,Me);if(yt.type!=="throw"){var at=yt.arg,gt=at.value;return gt&&typeof gt=="object"&&s.call(gt,"__await")?ae.resolve(gt.__await).then(function(Ct){Se("next",Ct,Qe,ze)},function(Ct){Se("throw",Ct,Qe,ze)}):ae.resolve(gt).then(function(Ct){at.value=Ct,Qe(at)},function(Ct){return Se("throw",Ct,Qe,ze)})}ze(yt.arg)}var ge;u(this,"_invoke",{value:function(ve,Me){function Qe(){return new ae(function(ze,yt){Se(ve,Me,ze,yt)})}return ge=ge?ge.then(Qe,Qe):Qe()}})}function U(re,ae,Se){var ge=b;return function(ve,Me){if(ge===A)throw Error("Generator is already running");if(ge===P){if(ve==="throw")throw Me;return{value:r,done:!0}}for(Se.method=ve,Se.arg=Me;;){var Qe=Se.delegate;if(Qe){var ze=G(Qe,Se);if(ze){if(ze===L)continue;return ze}}if(Se.method==="next")Se.sent=Se._sent=Se.arg;else if(Se.method==="throw"){if(ge===b)throw ge=P,Se.arg;Se.dispatchException(Se.arg)}else Se.method==="return"&&Se.abrupt("return",Se.arg);ge=A;var yt=_(re,ae,Se);if(yt.type==="normal"){if(ge=Se.done?P:I,yt.arg===L)continue;return{value:yt.arg,done:Se.done}}yt.type==="throw"&&(ge=P,Se.method="throw",Se.arg=yt.arg)}}}function G(re,ae){var Se=ae.method,ge=re.iterator[Se];if(ge===r)return ae.delegate=null,Se==="throw"&&re.iterator.return&&(ae.method="return",ae.arg=r,G(re,ae),ae.method==="throw")||Se!=="return"&&(ae.method="throw",ae.arg=new TypeError("The iterator does not provide a '"+Se+"' method")),L;var ve=_(ge,re.iterator,ae.arg);if(ve.type==="throw")return ae.method="throw",ae.arg=ve.arg,ae.delegate=null,L;var Me=ve.arg;return Me?Me.done?(ae[re.resultName]=Me.value,ae.next=re.nextLoc,ae.method!=="return"&&(ae.method="next",ae.arg=r),ae.delegate=null,L):Me:(ae.method="throw",ae.arg=new TypeError("iterator result is not an object"),ae.delegate=null,L)}function z(re){var ae={tryLoc:re[0]};1 in re&&(ae.catchLoc=re[1]),2 in re&&(ae.finallyLoc=re[2],ae.afterLoc=re[3]),this.tryEntries.push(ae)}function Z(re){var ae=re.completion||{};ae.type="normal",delete ae.arg,re.completion=ae}function ie(re){this.tryEntries=[{tryLoc:"root"}],re.forEach(z,this),this.reset(!0)}function se(re){if(re||re===""){var ae=re[c];if(ae)return ae.call(re);if(typeof re.next=="function")return re;if(!isNaN(re.length)){var Se=-1,ge=function ve(){for(;++Se<re.length;)if(s.call(re,Se))return ve.value=re[Se],ve.done=!1,ve;return ve.value=r,ve.done=!0,ve};return ge.next=ge}}throw new TypeError(typeof re+" is not iterable")}return ee.prototype=q,u(H,"constructor",{value:q,configurable:!0}),u(q,"constructor",{value:ee,configurable:!0}),ee.displayName=v(q,m,"GeneratorFunction"),n.isGeneratorFunction=function(re){var ae=typeof re=="function"&&re.constructor;return!!ae&&(ae===ee||(ae.displayName||ae.name)==="GeneratorFunction")},n.mark=function(re){return Object.setPrototypeOf?Object.setPrototypeOf(re,q):(re.__proto__=q,v(re,m,"GeneratorFunction")),re.prototype=Object.create(H),re},n.awrap=function(re){return{__await:re}},k(M.prototype),v(M.prototype,f,function(){return this}),n.AsyncIterator=M,n.async=function(re,ae,Se,ge,ve){ve===void 0&&(ve=Promise);var Me=new M(S(re,ae,Se,ge),ve);return n.isGeneratorFunction(ae)?Me:Me.next().then(function(Qe){return Qe.done?Qe.value:Me.next()})},k(H),v(H,m,"Generator"),v(H,c,function(){return this}),v(H,"toString",function(){return"[object Generator]"}),n.keys=function(re){var ae=Object(re),Se=[];for(var ge in ae)Se.push(ge);return Se.reverse(),function ve(){for(;Se.length;){var Me=Se.pop();if(Me in ae)return ve.value=Me,ve.done=!1,ve}return ve.done=!0,ve}},n.values=se,ie.prototype={constructor:ie,reset:function(re){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!re)for(var ae in this)ae.charAt(0)==="t"&&s.call(this,ae)&&!isNaN(+ae.slice(1))&&(this[ae]=r)},stop:function(){this.done=!0;var re=this.tryEntries[0].completion;if(re.type==="throw")throw re.arg;return this.rval},dispatchException:function(re){if(this.done)throw re;var ae=this;function Se(yt,at){return Me.type="throw",Me.arg=re,ae.next=yt,at&&(ae.method="next",ae.arg=r),!!at}for(var ge=this.tryEntries.length-1;ge>=0;--ge){var ve=this.tryEntries[ge],Me=ve.completion;if(ve.tryLoc==="root")return Se("end");if(ve.tryLoc<=this.prev){var Qe=s.call(ve,"catchLoc"),ze=s.call(ve,"finallyLoc");if(Qe&&ze){if(this.prev<ve.catchLoc)return Se(ve.catchLoc,!0);if(this.prev<ve.finallyLoc)return Se(ve.finallyLoc)}else if(Qe){if(this.prev<ve.catchLoc)return Se(ve.catchLoc,!0)}else{if(!ze)throw Error("try statement without catch or finally");if(this.prev<ve.finallyLoc)return Se(ve.finallyLoc)}}}},abrupt:function(re,ae){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var ge=this.tryEntries[Se];if(ge.tryLoc<=this.prev&&s.call(ge,"finallyLoc")&&this.prev<ge.finallyLoc){var ve=ge;break}}ve&&(re==="break"||re==="continue")&&ve.tryLoc<=ae&&ae<=ve.finallyLoc&&(ve=null);var Me=ve?ve.completion:{};return Me.type=re,Me.arg=ae,ve?(this.method="next",this.next=ve.finallyLoc,L):this.complete(Me)},complete:function(re,ae){if(re.type==="throw")throw re.arg;return re.type==="break"||re.type==="continue"?this.next=re.arg:re.type==="return"?(this.rval=this.arg=re.arg,this.method="return",this.next="end"):re.type==="normal"&&ae&&(this.next=ae),L},finish:function(re){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var Se=this.tryEntries[ae];if(Se.finallyLoc===re)return this.complete(Se.completion,Se.afterLoc),Z(Se),L}},catch:function(re){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var Se=this.tryEntries[ae];if(Se.tryLoc===re){var ge=Se.completion;if(ge.type==="throw"){var ve=ge.arg;Z(Se)}return ve}}throw Error("illegal catch attempt")},delegateYield:function(re,ae,Se){return this.delegate={iterator:se(re),resultName:ae,nextLoc:Se},this.method==="next"&&(this.arg=r),L}},n}function W(r,n){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,s){return o.__proto__=s,o},W(r,n)}function O(r,n){return function(o){if(Array.isArray(o))return o}(r)||function(o,s){var u=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(u!=null){var l,c,f,m,v=[],S=!0,_=!1;try{if(f=(u=u.call(o)).next,s===0){if(Object(u)!==u)return;S=!1}else for(;!(S=(l=f.call(u)).done)&&(v.push(l.value),v.length!==s);S=!0);}catch(b){_=!0,c=b}finally{try{if(!S&&u.return!=null&&(m=u.return(),Object(m)!==m))return}finally{if(_)throw c}}return v}}(r,n)||j(r,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function R(r){var n=function(o,s){if(typeof o!="object"||!o)return o;var u=o[Symbol.toPrimitive];if(u!==void 0){var l=u.call(o,s||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}(r,"string");return typeof n=="symbol"?n:n+""}function D(r){return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},D(r)}function j(r,n){if(r){if(typeof r=="string")return t(r,n);var o={}.toString.call(r).slice(8,-1);return o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set"?Array.from(r):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(r,n):void 0}}var Y;function de(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function ne(r){return ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ne(r)}function X(r){var n=function(o,s){if(ne(o)!="object"||!o)return o;var u=o[Symbol.toPrimitive];if(u!==void 0){var l=u.call(o,s||"default");if(ne(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}(r,"string");return ne(n)=="symbol"?n:n+""}function ce(r,n){for(var o=0;o<n.length;o++){var s=n[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,X(s.key),s)}}function he(r,n,o){return n&&ce(r.prototype,n),o&&ce(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r}var le=typeof Ki<"u"?Ki:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var _e={exports:{}},Ee={exports:{}};(function(r){function n(o){return r.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r.exports.__esModule=!0,r.exports.default=r.exports,n(o)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports})(Ee);var ke=Ee.exports;(function(r){var n=ke.default;function o(){r.exports=o=function(){return u},r.exports.__esModule=!0,r.exports.default=r.exports;var s,u={},l=Object.prototype,c=l.hasOwnProperty,f=Object.defineProperty||function(ge,ve,Me){ge[ve]=Me.value},m=typeof Symbol=="function"?Symbol:{},v=m.iterator||"@@iterator",S=m.asyncIterator||"@@asyncIterator",_=m.toStringTag||"@@toStringTag";function b(ge,ve,Me){return Object.defineProperty(ge,ve,{value:Me,enumerable:!0,configurable:!0,writable:!0}),ge[ve]}try{b({},"")}catch{b=function(ve,Me,Qe){return ve[Me]=Qe}}function I(ge,ve,Me,Qe){var ze=ve&&ve.prototype instanceof Q?ve:Q,yt=Object.create(ze.prototype),at=new ae(Qe||[]);return f(yt,"_invoke",{value:Z(ge,Me,at)}),yt}function A(ge,ve,Me){try{return{type:"normal",arg:ge.call(ve,Me)}}catch(Qe){return{type:"throw",arg:Qe}}}u.wrap=I;var P="suspendedStart",L="suspendedYield",$="executing",ee="completed",q={};function Q(){}function J(){}function te(){}var H={};b(H,v,function(){return this});var k=Object.getPrototypeOf,M=k&&k(k(Se([])));M&&M!==l&&c.call(M,v)&&(H=M);var U=te.prototype=Q.prototype=Object.create(H);function G(ge){["next","throw","return"].forEach(function(ve){b(ge,ve,function(Me){return this._invoke(ve,Me)})})}function z(ge,ve){function Me(ze,yt,at,gt){var Ct=A(ge[ze],ge,yt);if(Ct.type!=="throw"){var Be=Ct.arg,Oe=Be.value;return Oe&&n(Oe)=="object"&&c.call(Oe,"__await")?ve.resolve(Oe.__await).then(function(tt){Me("next",tt,at,gt)},function(tt){Me("throw",tt,at,gt)}):ve.resolve(Oe).then(function(tt){Be.value=tt,at(Be)},function(tt){return Me("throw",tt,at,gt)})}gt(Ct.arg)}var Qe;f(this,"_invoke",{value:function(ze,yt){function at(){return new ve(function(gt,Ct){Me(ze,yt,gt,Ct)})}return Qe=Qe?Qe.then(at,at):at()}})}function Z(ge,ve,Me){var Qe=P;return function(ze,yt){if(Qe===$)throw Error("Generator is already running");if(Qe===ee){if(ze==="throw")throw yt;return{value:s,done:!0}}for(Me.method=ze,Me.arg=yt;;){var at=Me.delegate;if(at){var gt=ie(at,Me);if(gt){if(gt===q)continue;return gt}}if(Me.method==="next")Me.sent=Me._sent=Me.arg;else if(Me.method==="throw"){if(Qe===P)throw Qe=ee,Me.arg;Me.dispatchException(Me.arg)}else Me.method==="return"&&Me.abrupt("return",Me.arg);Qe=$;var Ct=A(ge,ve,Me);if(Ct.type==="normal"){if(Qe=Me.done?ee:L,Ct.arg===q)continue;return{value:Ct.arg,done:Me.done}}Ct.type==="throw"&&(Qe=ee,Me.method="throw",Me.arg=Ct.arg)}}}function ie(ge,ve){var Me=ve.method,Qe=ge.iterator[Me];if(Qe===s)return ve.delegate=null,Me==="throw"&&ge.iterator.return&&(ve.method="return",ve.arg=s,ie(ge,ve),ve.method==="throw")||Me!=="return"&&(ve.method="throw",ve.arg=new TypeError("The iterator does not provide a '"+Me+"' method")),q;var ze=A(Qe,ge.iterator,ve.arg);if(ze.type==="throw")return ve.method="throw",ve.arg=ze.arg,ve.delegate=null,q;var yt=ze.arg;return yt?yt.done?(ve[ge.resultName]=yt.value,ve.next=ge.nextLoc,ve.method!=="return"&&(ve.method="next",ve.arg=s),ve.delegate=null,q):yt:(ve.method="throw",ve.arg=new TypeError("iterator result is not an object"),ve.delegate=null,q)}function se(ge){var ve={tryLoc:ge[0]};1 in ge&&(ve.catchLoc=ge[1]),2 in ge&&(ve.finallyLoc=ge[2],ve.afterLoc=ge[3]),this.tryEntries.push(ve)}function re(ge){var ve=ge.completion||{};ve.type="normal",delete ve.arg,ge.completion=ve}function ae(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(se,this),this.reset(!0)}function Se(ge){if(ge||ge===""){var ve=ge[v];if(ve)return ve.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Me=-1,Qe=function ze(){for(;++Me<ge.length;)if(c.call(ge,Me))return ze.value=ge[Me],ze.done=!1,ze;return ze.value=s,ze.done=!0,ze};return Qe.next=Qe}}throw new TypeError(n(ge)+" is not iterable")}return J.prototype=te,f(U,"constructor",{value:te,configurable:!0}),f(te,"constructor",{value:J,configurable:!0}),J.displayName=b(te,_,"GeneratorFunction"),u.isGeneratorFunction=function(ge){var ve=typeof ge=="function"&&ge.constructor;return!!ve&&(ve===J||(ve.displayName||ve.name)==="GeneratorFunction")},u.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,te):(ge.__proto__=te,b(ge,_,"GeneratorFunction")),ge.prototype=Object.create(U),ge},u.awrap=function(ge){return{__await:ge}},G(z.prototype),b(z.prototype,S,function(){return this}),u.AsyncIterator=z,u.async=function(ge,ve,Me,Qe,ze){ze===void 0&&(ze=Promise);var yt=new z(I(ge,ve,Me,Qe),ze);return u.isGeneratorFunction(ve)?yt:yt.next().then(function(at){return at.done?at.value:yt.next()})},G(U),b(U,_,"Generator"),b(U,v,function(){return this}),b(U,"toString",function(){return"[object Generator]"}),u.keys=function(ge){var ve=Object(ge),Me=[];for(var Qe in ve)Me.push(Qe);return Me.reverse(),function ze(){for(;Me.length;){var yt=Me.pop();if(yt in ve)return ze.value=yt,ze.done=!1,ze}return ze.done=!0,ze}},u.values=Se,ae.prototype={constructor:ae,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(re),!ge)for(var ve in this)ve.charAt(0)==="t"&&c.call(this,ve)&&!isNaN(+ve.slice(1))&&(this[ve]=s)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var ve=this;function Me(Ct,Be){return yt.type="throw",yt.arg=ge,ve.next=Ct,Be&&(ve.method="next",ve.arg=s),!!Be}for(var Qe=this.tryEntries.length-1;Qe>=0;--Qe){var ze=this.tryEntries[Qe],yt=ze.completion;if(ze.tryLoc==="root")return Me("end");if(ze.tryLoc<=this.prev){var at=c.call(ze,"catchLoc"),gt=c.call(ze,"finallyLoc");if(at&&gt){if(this.prev<ze.catchLoc)return Me(ze.catchLoc,!0);if(this.prev<ze.finallyLoc)return Me(ze.finallyLoc)}else if(at){if(this.prev<ze.catchLoc)return Me(ze.catchLoc,!0)}else{if(!gt)throw Error("try statement without catch or finally");if(this.prev<ze.finallyLoc)return Me(ze.finallyLoc)}}}},abrupt:function(ge,ve){for(var Me=this.tryEntries.length-1;Me>=0;--Me){var Qe=this.tryEntries[Me];if(Qe.tryLoc<=this.prev&&c.call(Qe,"finallyLoc")&&this.prev<Qe.finallyLoc){var ze=Qe;break}}ze&&(ge==="break"||ge==="continue")&&ze.tryLoc<=ve&&ve<=ze.finallyLoc&&(ze=null);var yt=ze?ze.completion:{};return yt.type=ge,yt.arg=ve,ze?(this.method="next",this.next=ze.finallyLoc,q):this.complete(yt)},complete:function(ge,ve){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&ve&&(this.next=ve),q},finish:function(ge){for(var ve=this.tryEntries.length-1;ve>=0;--ve){var Me=this.tryEntries[ve];if(Me.finallyLoc===ge)return this.complete(Me.completion,Me.afterLoc),re(Me),q}},catch:function(ge){for(var ve=this.tryEntries.length-1;ve>=0;--ve){var Me=this.tryEntries[ve];if(Me.tryLoc===ge){var Qe=Me.completion;if(Qe.type==="throw"){var ze=Qe.arg;re(Me)}return ze}}throw Error("illegal catch attempt")},delegateYield:function(ge,ve,Me){return this.delegate={iterator:Se(ge),resultName:ve,nextLoc:Me},this.method==="next"&&(this.arg=s),q}},u}r.exports=o,r.exports.__esModule=!0,r.exports.default=r.exports})(_e);var Ne=(0,_e.exports)(),je=Ne;try{regeneratorRuntime=Ne}catch{(typeof Ki>"u"?"undefined":D(Ki))==="object"?Ki.regeneratorRuntime=Ne:Function("r","regeneratorRuntime = r")(Ne)}var Ze,De,Le=fe(je);function Ae(r){var n=r?new Date(r):new Date,o="yyyy-MM-dd HH:mm:ss.SSSZ",s={"M+":n.getUTCMonth()+1,"d+":n.getUTCDate(),"H+":n.getUTCHours(),"h+":n.getUTCHours()%12||12,"m+":n.getUTCMinutes(),"s+":n.getUTCSeconds(),"q+":Math.floor((n.getUTCMonth()+3)/3),"S+":n.getUTCMilliseconds()};for(var u in/(y+)/.test(o)&&(o=o.replace(RegExp.$1,(n.getUTCFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+u+")").test(o)&&(o=o.replace(RegExp.$1,RegExp.$1.length==1?s[u]:("000"+s[u]).substr(("000"+s[u]).length-RegExp.$1.length)));return o}function Je(r){return r===De}function He(r){return r!==De}function Ge(r){return r===null}Ze=(typeof window>"u"?"undefined":ne(window))==="object"?window:{};var nt={"[object Function]":"function","[object AsyncFunction]":"function","[object String]":"string","[object Object]":"object","[object Boolean]":"boolean","[object Number]":"number","[object Array]":"array"};function pe(r){return Ge(r)||Je(r)?String(r):nt[{}.toString.call(r)]||"object"}function oe(r){return pe(r)==="function"}function me(r){return pe(r)==="string"}function ye(r){return pe(r)==="object"}function et(r){return pe(r)==="boolean"}function Ke(r){return pe(r)==="number"}function mt(r){return Array.isArray?Array.isArray(r):pe(r)==="array"}function vt(r){if(r==null)return[];if(mt(r))return r;var n=ne(r.length),o=ne(r);if(n!=="number"||r.alert||o==="string"||o==="function"&&(!("item"in r)||n!=="number"))return[r];for(var s=[],u=0,l=r.length;u<l;u++)s[u]=r[u];return s}var Vt,Nt,At={debug:!1,showConsoleError:!1};function nr(){return Vt}function jt(r){Vt=r}function Ar(r,n,o,s){if(At.debug&&Nt&&oe(Nt.log)){var u=Ae(new Date().getTime()),l=vt(arguments);Nt.log(["[",u,"] ",l].join(""))}}function Yr(r,n,o,s){if((At.debug||At.showConsoleError)&&Nt&&oe(Nt.error)){var u=Ae(new Date().getTime()),l=vt(arguments);Nt.error(["[",u,"] ",l].join(""))}}function cr(r,n,o,s){if(At.debug&&Nt&&oe(Nt.warn)){var u=Ae(new Date().getTime()),l=vt(arguments);Nt.warn(["[",u,"] ",l].join(""))}}function Un(r,n,o,s){if(At.debug&&Nt&&oe(Nt.info)){var u=Ae(new Date().getTime()),l=vt(arguments);Nt.info(["[",u,"] ",l].join(""))}}Ze&&He(Ze.console)&&(oe((Nt=Ze.console).log)&&oe(Nt.error)?Vt={log:Ar,error:Yr,info:Un,warn:cr,debug:function(r,n,o,s){if(At.debug&&Nt&&oe(Nt.debug)){var u=Ae(new Date().getTime()),l=vt(arguments);Nt.debug(["[",u,"] ",l].join(""))}}}:(Nt=!1,Vt=!1));var Jt={queue:[],doNextStarted:!1,timer:null,pushToDo:function(r,n,o){Jt.queue.push({obj:r,method:n,args:o})},doNext:function(){if(Jt.doNextStarted)if(Jt.queue.length!=0){var r=Jt.queue[0],n=r.obj,o=r.method,s=r.args;if(Jt.queue.splice(0,1),n&&oe(n[o])){var u=!1;if(s.length>2){var l=s[s.length-2],c=s[s.length-1];oe(l)&&oe(c)&&(s[s.length-2]=function(){try{l.apply(n,arguments)}catch{}Jt.timer=setTimeout(Jt.doNext,0)},s[s.length-1]=function(){try{c.apply(n,arguments)}catch{}Jt.timer=setTimeout(Jt.doNext,0)},u=!0)}try{n[o].apply(n,s)}catch{}u||(Jt.timer=setTimeout(Jt.doNext,0))}else if(n===null&&oe(o)){try{o.apply(null,s)}catch{}Jt.timer=setTimeout(Jt.doNext,0)}else Ar("not invoke a function: "+o),Jt.timer=setTimeout(Jt.doNext,0)}else Jt.stop();else Jt.stop()},start:function(){Jt.doNextStarted||(Jt.doNextStarted=!0,Jt.timer=setTimeout(Jt.doNext,0))},stop:function(){clearTimeout(Jt.timer),Jt.timer=null,Jt.doNextStarted=!1,Jt.queue=[]}},ir=!0,Tt=!1;function hr(r,n,o){if(r){var s,u,l,c=0,f=r.length;if(o=o||null,Je(f)||oe(r))for(l=Object.keys(r);c<l.length&&(s=l[c],n.call(o,r[s],s,r)!==Tt);c++);else for(u=r[0];c<f&&n.call(o,u,c,r)!==Tt;u=r[++c]);}return r}var Xo,Sa={fire:function(r){var n,o=this;o.exec=o.exec||{},r=r.toLowerCase(),n=Array.prototype.slice.call(arguments,1),hr(o.exec[r]||[],function(s){var u=s.f,l=s.c||o;try{u.apply(l,n)}catch(c){Ar(c)}})},on:function(r,n,o){var s=this;s.exec=s.exec||{},r=r.toLowerCase(),s.exec[r]=s.exec[r]||[],s.exec[r].push({f:n,c:o})},off:function(r,n,o){var s=this.exec;if(s)if(r)if(r=r.toLowerCase(),n)for(var u=s[r]||[],l=u.length-1;l>=0;l--)u[l]===n&&u.splice(l,1);else s[r]=null;else this.exec=null}},pr="",ue,Pr,Pe,We,it=navigator,ot=!0;if("userAgentData"in it){var St=it.userAgentData,Dt=[];St.platform&&St.platform!=""&&("brands"in St&&Array.isArray(St.brands)&&St.brands.length>0?Dt=St.brands:"uaList"in St&&Array.isArray(St.uaList)&&St.uaList.length>0&&(Dt=St.uaList),Dt.length>0&&(ot=!1,Pr=St.platform.toLowerCase(),ue=function(r,n,o){var s,u,l,c,f,m,v,S,_,b=!1,I=!1,A=!1,P=r.mobile,L=!1,$=pr,ee=navigator.maxTouchPoints||0;for(u=n.length,s=0;s<u;s++){var q=n[s].brand.toLowerCase();if(q.indexOf("chrome")>=0){A=!0,$=n[s].version;break}if(q.indexOf("edge")>=0){b=!0,$=n[s].version;break}if(q.indexOf("opera")>=0){I=!0,$=n[s].version;break}}return A||b||I||(A=!0,$="100"),l=/windows/g.test(o),c=/mac/g.test(o),f=/linux/g.test(o),m=/android/g.test(o),v=/harmony/g.test(o),S=/(chromeos|chrome\sos)/g.test(o),_=/iphone/g.test(o),l||m||f||_||(L=/macintel/g.test(o)&&ee>1),(m||v||_||L)&&(P=!0),{bUseUserAgent:!1,bWin:l,bMac:c,bLinux:f,bAndroid:m,bHarmonyOS:v,bChromeOS:S,bIE:!1,bEdge:b,bUC:!1,bPlaybook:!1,bBlackBerry:!1,bHuaWeiBrowser:!1,bOpera:I,bFirefox:!1,bChrome:A,bJSDom:!1,biPhone:_,biPad:L,bPad:m&&!r.mobile,bSafari:!1,bMobile:P,strBrowserVersion:$,bHTML5Edition:!0,IEVersion:0,IEMode:0}}(St,Dt,Pr)))}ot&&(Pe||(Pe=it.userAgent.toLowerCase()),We||(We=it.platform.toLowerCase()),ue=function(r,n){var o,s=r.toLowerCase(),u=n.toLowerCase(),l=/harmonyos/g.test(s);u=="linux"&&s.indexOf("windows nt")>=0&&(u="harmonyos",l=!0);var c=!l&&/cros/.test(s),f=!l&&/android/g.test(s)||/android/g.test(u),m=/iphone/g.test(s)||/iphone/g.test(u),v=/macintosh/.test(s),S=navigator.maxTouchPoints||0,_=/ipad/g.test(s)||(v||u=="macintel")&&S>1,b=/ucweb|ucbrowser/g.test(s),I=!b&&/nexus/g.test(s)&&/version\/[\d.]+.*safari\//g.test(s),A=/playbook/g.test(s),P=/hp-tablet/g.test(s),L=/blackberry|bb10/g.test(s),$=/symbian/g.test(s),ee=/windows phone/g.test(s),q=/mobile/g.test(s),Q=/arm64|aarch64/g.test(s),J=/mips64/g.test(s),te=/huaweibrowser/g.test(s),H=/jsdom/g.test(s),k=A||_||P,M=!k&&!c&&(m||I||L||$||ee||f||l||q),U=!M&&!k&&!c,G=U&&/win32|win64|windows/.test(u),z=G&&/win64|x64/.test(s),Z=U&&/mac68k|macppc|macintosh|macintel/.test(s),ie=U&&/linux/.test(u),se=u=="win64"||/wow64|x86_64|win64|x64/.test(s)||Q||J,re=/wow64/g.test(s),ae=Tt,Se=/opera|opr/g.test(s),ge=/360se/g.test(s),ve=/maxthon/g.test(s),Me=/tencenttraveler|qqbrowser/g.test(s),Qe=/the world/g.test(s),ze=/metasr/g.test(s),yt=/avant/g.test(s),at=/firefox|fxios/g.test(s),gt=/gecko/g.test(s),Ct=!(at||te)&&/edge\/|edga\/|edgios\/|edg\//g.test(s),Be=!(L||A||b||Se||Ct||te||H)&&/chrome|crios/g.test(s),Oe=!1,tt=pr,pt=0,lt=0,Xe=pr;if(G&&!Ct&&!at&&!Be){var dr=s.indexOf("msie "),fn=s.indexOf("trident"),Gt=s.indexOf("rv:");Oe=dr!=-1||fn!=-1||Gt!=-1}if(!(Z||m||_||G||L||A||I)||b||Se||Ct||Oe||at||(o=s.match(/version\/([\d.]+).*safari\//))&&(L||A||I||(ae=ir,Be=Tt),Xe=o[1]),Ct){var Zt=s.indexOf("edge/");Zt>-1?Zt+=5:(Zt=s.indexOf("edg/"))>-1?Zt+=4:(Zt=s.indexOf("edga/"))>-1?Zt+=5:(Zt=s.indexOf("edgios/"))>-1&&(Zt+=7),Zt>-1&&(o=(Xe=s.slice(Zt)).indexOf(" "))>-1&&(Xe=Xe.slice(0,o))}else if(at)if((o=s.indexOf("firefox/"))>-1){var xr=(o=s.slice(o+8)).indexOf(" ");xr>-1&&(o=o.slice(0,xr)),Xe=o,(xr=o.indexOf("."))>-1&&(o=Xe.slice(0,xr))}else(m||_)&&(o=s.indexOf("fxios/"))>-1&&(Xe=o=(o=s.slice(o+6)).slice(0,o.indexOf(" ")));else if(Oe){var Ei=s.indexOf("msie "),pi=s.indexOf("trident"),Ai=s.indexOf("rv:");Ei!=-1?tt=o=(o=s.slice(Ei+5)).slice(0,o.indexOf(";")):Ai!=-1?tt=o=(o=(o=s.slice(Ai+3)).slice(0,o.indexOf(";"))).slice(0,o.indexOf(")")):pi!=-1&&(tt=o=(o=s.slice(pi+7)).slice(0,o.indexOf(";"))),Xe=o}else if(ae)(o=Xe.indexOf("."))>-1&&(o=Xe.slice(0,o));else if(b)(o=s.indexOf("ucweb"))>-1?Xe=s.slice(o+5):(o=s.indexOf("ucbrowser/"))>-1&&(o=(Xe=s.slice(o+10)).indexOf(" "))>-1&&(Xe=Xe.slice(0,o));else if(Se)(o=s.indexOf("version/"))>-1?Xe=s.slice(o+8):(o=s.indexOf("opr/"))>-1&&(Xe=s.slice(o+4));else if($)(o=s.indexOf("browserng/"))>-1&&(Xe=s.slice(o+10));else if(ee)(o=s.indexOf("iemobile/"))>-1&&(Xe=s.slice(o+9));else if(Be){var qn=s.indexOf("chrome/");qn>-1?(o=(Xe=s.slice(qn+7)).indexOf(" "))>-1&&(Xe=Xe.slice(0,o)):(qn=s.indexOf("crios/"))>-1&&(o=(Xe=s.slice(qn+6)).indexOf(" "))>-1&&(Xe=Xe.slice(0,o)),(o=Xe.indexOf("."))>-1&&(o=Xe.slice(0,o))}else if(te){var ca=s.indexOf("huaweibrowser");ca>-1&&(o=(Xe=s.slice(ca+14)).indexOf(" "))>-1&&(Xe=Xe.slice(0,o))}else if(H){var Tn=s.indexOf("jsdom");Tn>-1&&(o=(Xe=s.slice(Tn+6)).indexOf(" "))>-1&&(Xe=Xe.slice(0,o))}if(Ct||Oe){var Zn=window.document;Zn&&Zn.documentMode?pt=Zn.documentMode:(pt=5,Zn.compatMode&&Zn.compatMode=="CSS1Compat"&&(pt=7)),Oe&&(lt=parseInt(Xe))}(Z||ie)&&(se=!0,Z&&(o=s.match(/mac os x (\d+)(_|\.)(\d+)/))&&o.length>3&&(o[1]==10&&o[3]<14||o[1]<10)&&(se=!1)),G||Z||ie||Q||J||(M=!0);var tn=!0;if(Oe)if(tt===""||parseInt(tt)>=10){var la=Ze.Dynamsoft;la&&la.DWT&&la.DWT.IfUseActiveXForIE10Plus&&(tn=Tt)}else tn=Tt;return{bUseUserAgent:!0,bWin:G,bMac:Z,bLinux:ie,bMobile:M,bPad:k,bChromeOS:c,bHarmonyOS:l,bArm64:Q,bMips64:J,bEmbed:Q||J,bAndroid:f,biPhone:m,biPad:_,bWin64:z,bWOW64:re,bOSx64:se,bIE:Oe,bEdge:Ct,bChrome:Be,bFirefox:at,bSafari:ae,bOpera:Se,bNexus:I,bUC:b,b360SE:ge,bMaxthon:ve,bTencentTraveler:Me,bTheWorld:Qe,bMetaSr:ze,bAvant:yt,bHuaWeiBrowser:te,bJSDom:H,bGecko:gt,bHTML5Edition:tn,strBrowserVersion:Xe,IEVersion:lt,IEMode:pt}}(Pe,We));var zt=(Xo=document==null?void 0:document.location)===null||Xo===void 0?void 0:Xo.protocol;function Sr(r){return ue.bGecko&&r==="mousewheel"?"DOMMouseScroll":r}function Fr(r,n,o){var s=Sr(n);r&&r.addEventListener(s,o,!1)}function Qr(r,n,o){var s=Sr(n);r&&r.removeEventListener(s,o,!1)}function ro(r){var n=r||Ze.event;n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.returnValue=!1,n.cancelBubble=!0}function oi(r,n){var o=Ze.document.createEvent("HTMLEvents");o.initEvent(r,ir,ir),n.dispatchEvent&&n.dispatchEvent(o)}zt||(zt="https:"),ue.protocol=zt,ue.bSSL=zt==="https:",ue.bFileSystem=zt!=="https:"&&zt!=="http:";var qc,Fi,ss,Dh,Zc=Ze.document,_v=[],Rh=_v.push,ba=_v.slice,eb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yv=function(){Fi()};function el(r,n,o,s){var u,l,c,f=n&&n.ownerDocument,m=n?n.nodeType:9;if(o=o||[],typeof r!="string"||!r||m!==1&&m!==9&&m!==11)return o;if(!s&&((n?n.ownerDocument||n:Zc)!==ss&&Fi(n),n=n||ss,m!==11&&(c=eb.exec(r))))if(u=c[1]){if(m===9){if(!(l=n.getElementById(u)))return o;if(l.id===u)return o.push(l),o}else if(f&&(l=f.getElementById(u))&&Dh(n,l)&&l.id===u)return o.push(l),o}else{if(c[2])return Rh.apply(o,n.getElementsByTagName(r)),o;if((u=c[3])&&n.getElementsByClassName)return Rh.apply(o,n.getElementsByClassName(u)),o}return o}Rh.apply(ba.call(Zc.childNodes),Zc.childNodes),Fi=el.setDocument=function(r){var n,o=r?r.ownerDocument||r:Zc;return o!==ss&&o.nodeType===9&&o.documentElement&&(Zc!==(ss=o)&&(n=ss.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",yv,!1):n.attachEvent&&n.attachEvent("onunload",yv)),Dh=function(s,u){if(u){for(;u=u.parentNode;)if(u===s)return!0}return!1}),ss},el.contains=function(r,n){return(r.ownerDocument||r)!==ss&&Fi(r),Dh(r,n)},el.error=function(r){throw new Error("Syntax error: "+r)},qc=el.getText=function(r){var n,o="",s=0,u=r.nodeType;if(u){if(u===1||u===9||u===11){if(typeof r.textContent=="string")return r.textContent;for(r=r.firstChild;r;r=r.nextSibling)o+=qc(r)}else if(u===3||u===4)return r.nodeValue}else for(;n=r[s++];)o+=qc(n);return o},Fi();var Mr={encodeChars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeChars:[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1]},tb={UTF16ToUTF8:function(r){for(var n,o,s=[],u=r.length,l=0;l<u;l++){var c=r.charCodeAt(l);if(c>0&&c<=127)s.push(r.charAt(l));else if(c>=128&&c<=2047)n=192|c>>6&31,o=128|63&c,s.push(String.fromCharCode(n),String.fromCharCode(o));else if(c>=2048&&c<=65535){n=224|c>>12&15,o=128|c>>6&63;var f=128|63&c;s.push(String.fromCharCode(n),String.fromCharCode(o),String.fromCharCode(f))}}return s.join("")},UTF8ToUTF16:function(r){var n,o,s,u,l=[],c=r.length;for(n=0;n<c;n++)(o=r.charCodeAt(n))>>7&255?(o>>5&255)==6?(u=(31&o)<<6|63&(s=r.charCodeAt(++n)),l.push(String.fromCharCode(u))):(o>>4&255)==14&&(u=(255&(o<<4|(s=r.charCodeAt(++n))>>2&15))<<8|((3&s)<<6|63&r.charCodeAt(++n)),l.push(String.fromCharCode(u))):l.push(r.charAt(n));return l.join("")},encode:function(r){for(var n,o,s,u=this.UTF16ToUTF8(r),l=[],c=0,f=u.length;c<f;){if(n=255&u.charCodeAt(c++),c==f){l.push(Mr.encodeChars.charAt(n>>2)),l.push(Mr.encodeChars.charAt((3&n)<<4)),l.push("==");break}if(o=u.charCodeAt(c++),c==f){l.push(Mr.encodeChars.charAt(n>>2)),l.push(Mr.encodeChars.charAt((3&n)<<4|(240&o)>>4)),l.push(Mr.encodeChars.charAt((15&o)<<2)),l.push("=");break}s=u.charCodeAt(c++),l.push(Mr.encodeChars.charAt(n>>2)),l.push(Mr.encodeChars.charAt((3&n)<<4|(240&o)>>4)),l.push(Mr.encodeChars.charAt((15&o)<<2|(192&s)>>6)),l.push(Mr.encodeChars.charAt(63&s))}return l.join("")},encodeArray:function(r){for(var n,o,s,u=[],l=0,c=r.length;l<c;){if(n=255&r[l++],l==c){u.push(Mr.encodeChars.charAt(n>>2)),u.push(Mr.encodeChars.charAt((3&n)<<4)),u.push("==");break}if(o=255&r[l++],l==c){u.push(Mr.encodeChars.charAt(n>>2)),u.push(Mr.encodeChars.charAt((3&n)<<4|(240&o)>>4)),u.push(Mr.encodeChars.charAt((15&o)<<2)),u.push("=");break}s=255&r[l++],u.push(Mr.encodeChars.charAt(n>>2)),u.push(Mr.encodeChars.charAt((3&n)<<4|(240&o)>>4)),u.push(Mr.encodeChars.charAt((15&o)<<2|(192&s)>>6)),u.push(Mr.encodeChars.charAt(63&s))}return u.join("")},decode:function(r,n){for(var o,s,u,l,c=this,f=[],m=0,v=r.length;m<v;){do o=Mr.decodeChars[255&r.charCodeAt(m++)];while(m<v&&o==-1);if(o==-1)break;do s=Mr.decodeChars[255&r.charCodeAt(m++)];while(m<v&&s==-1);if(s==-1)break;n?f.push(o<<2|(48&s)>>4):f.push(String.fromCharCode(o<<2|(48&s)>>4));do{if((u=255&r.charCodeAt(m++))==61)return n?f:c.UTF8ToUTF16(f.join(""));u=Mr.decodeChars[u]}while(m<v&&u==-1);if(u==-1)break;n?f.push((15&s)<<4|(60&u)>>2):f.push(String.fromCharCode((15&s)<<4|(60&u)>>2));do{if((l=255&r.charCodeAt(m++))==61)return n?f:c.UTF8ToUTF16(f.join(""));l=Mr.decodeChars[l]}while(m<v&&l==-1);if(l==-1)break;n?f.push((3&u)<<6|l):f.push(String.fromCharCode((3&u)<<6|l))}return n?f:c.UTF8ToUTF16(f.join(""))}},Lu={fromUTF16:function(r){for(var n,o=[],s=0,u=r.length;s<u;)(n=r.charCodeAt(s))>=1&&n<=127?o.push(r.charAt(s)):n>2047?(o.push(String.fromCharCode(224|n>>12&15)),o.push(String.fromCharCode(128|n>>6&63)),o.push(String.fromCharCode(128|63&n))):(o.push(String.fromCharCode(192|n>>6&31)),o.push(String.fromCharCode(128|63&n))),s++;return o.join("")},toUTF16:function(r){for(var n,o,s,u=[],l=0,c=r.length;l<c;)switch((n=r.charCodeAt(l++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u.push(r.charAt(l-1));break;case 12:case 13:o=r.charCodeAt(l++),u.push(String.fromCharCode((31&n)<<6|63&o));break;case 14:o=r.charCodeAt(l++),s=r.charCodeAt(l++),u.push(String.fromCharCode((15&n)<<12|(63&o)<<6|63&s))}return u.join("")}},ud=typeof self<"u"?self:global,rb=ud.btoa?function(r){return ud.btoa(r)}:function(r){for(var n,o,s=String(r),u=0,l=Mr.encodeChars,c="";s.charAt(0|u)||(l="=",u%1);c+=l.charAt(63&n>>8-u%1*8)){if((o=s.charCodeAt(u+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|o}return c},nb=ud.atob?function(r){return ud.atob(r)}:function(r){var n=String(r).replace(/[=]+$/,"");if(n.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,s,u=0,l=0,c="";s=n.charAt(l++);~s&&(o=u%4?64*o+s:s,u++%4)?c+=String.fromCharCode(255&o>>(-2*u&6)):0)s=Mr.encodeChars.indexOf(s);return c};function Fh(r){if(r==null||ne(r)!="object")return r;var n,o,s;if(r instanceof Date)return(n=new Date).setTime(r.getTime()),n;if(r instanceof Array){for(n=[],s=r.length,o=0;o<s;o++)n[o]=Fh(r[o]);return n}if(r instanceof Object){for(o in n={},r)r.hasOwnProperty(o)&&(n[o]=Fh(r[o]));return n}return 0}function tl(r){return Math.random().toString(16).substring(2,2+r)}function Mu(r){var n=[tl(8),"-",tl(4),"-",tl(4),"-",tl(4),"-",tl(8)];return r&&n.unshift(r),n.join("")}var Sv=Date.now||function(){return+new Date},ib=function(){return""+Sv()};function ob(){for(var r,n=Sv()%1e4,o=[],s=0;s<5;s++)r=Math.floor(10*Math.random()),s!=0||r!=0?o.push(r):s=-1;return n<10?o.push("000"):n<100?o.push("00"):n<1e3&&o.push("0"),o.push(n),o.join("")}function ab(r,n){var o;for(o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);return r}function sb(r,n,o,s){return new(o||(o=Promise))(function(u,l){function c(v){try{m(s.next(v))}catch(S){l(S)}}function f(v){try{m(s.throw(v))}catch(S){l(S)}}function m(v){var S;v.done?u(v.value):(S=v.value,S instanceof o?S:new o(function(_){_(S)})).then(c,f)}m((s=s.apply(r,n||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;var bv=!1;"wakeLock"in navigator&&(bv=!0);var us=null;function ub(){bv&&(us==null?function(){sb(this,void 0,void 0,Le.mark(function r(){return Le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.wakeLock.request("screen");case 3:us=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),us=null;case 9:case"end":return n.stop()}},r,null,[[0,6]])}))}():us.release().then(function(){us=null}))}function cd(){return us}var ld=Array.prototype;function Wu(r,n,o){return ld.filter.call(r,n,o||this)}function dd(r,n){return ld.indexOf.call(n,r)}function Tv(r){var n,o,s=[],u=r.length;for(n=0;n<u;n++){for(o=n+1;o<u;o++)r[n]===r[o]&&(o=++n);s.push(r[n])}return s}var Oh=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/;function Cv(r,n){var o,s=[];for(o=0;o<r.length;o++){var u=r[o];u&&u!=="."&&(u===".."?s.length&&s[s.length-1]!==".."?s.pop():n&&s.push(".."):s.push(u))}return s}function Nh(r){var n=r.charAt(0)==="/",o=r.slice(-1)==="/";return(r=Cv(Wu(r.split("/"),function(s){return!!s}),!n).join("/"))||n||(r="."),r&&o&&(r+="/"),(n?"/":"")+r}var Iv=function(){return he(function r(){de(this,r)},[{key:"resolve",value:function(){var r,n,o="",s=arguments,u=!1;for(r=s.length-1;r>=0&&!u;r--)me(n=s[r])&&n&&(o=n+"/"+o,u=n.charAt(0)==="/");return(u?"/":"")+Cv(Wu(o.split("/"),function(l){return!!l}),!u).join("/")||"."}},{key:"join",value:function(){return Nh(Wu(vt(arguments),function(r){return r&&me(r)}).join("/"))}},{key:"relative",value:function(r,n){r=Nh(r),n=Nh(n);var o,s,u=Wu(r.split("/"),function(m){return!!m}),l=[],c=Wu(n.split("/"),function(m){return!!m}),f=Math.min(u.length,c.length);for(o=0;o<f&&u[o]===c[o];o++);for(s=o;o<u.length;)l.push(".."),o++;return(l=l.concat(c.slice(s))).join("/")}},{key:"basename",value:function(r,n){var o;return o=(r.match(Oh)||[])[3]||"",n&&o&&o.slice(-1*n.length)===n&&(o=o.slice(0,-1*n.length)),o}},{key:"dirname",value:function(r){var n=r.match(Oh)||[],o=n[1]||"",s=n[2]||"";return o||s?(s&&(s=s.substring(0,s.length-1)),o+s):"."}},{key:"extname",value:function(r){return(r.match(Oh)||[])[4]||""}}])}(),Lh={}.hasOwnProperty;function cb(r){if(!r||pe(r)!=="object"||r.nodeType||r.window==r)return Tt;var n,o;try{if((o=r.constructor)&&!Lh(r,"constructor")&&!Lh(o.prototype,"isPrototypeOf"))return Tt}catch{return Tt}for(n in r);return Je(n)||Lh(r,n)}var lb=(typeof HTMLElement>"u"?"undefined":ne(HTMLElement))==="object";function wv(r){return lb?r instanceof HTMLElement:r&&ne(r)==="object"&&(r.nodeType===1||r.nodeType===9)&&typeof r.nodeName=="string"}function db(r){var n=r;if(wv(r))for(;!n&&n!=document.body;)n=n.parentNode;else n=0;return!!n}function fb(r,n){return r.lastIndexOf(n,0)===0}function hb(r,n){var o=r.length-n.length;return o>=0&&r.indexOf(n,o)===o}function pb(r){return r==null?pr:String.prototype.trim.call(r)}function gb(r){var n;if(r){for(n in r)if(!Je(n))return!1}return!0}function mb(r){return me(r)?r.replace(/[^\x20-\x7E]/g,""):r}function fd(r,n,o){return r.replace(new RegExp(n,"gi"),o)}function Mh(r){return r.charAt(0).toUpperCase()+r.substr(1)}var Wh,Bh="none",Ev={getOffset:function(r,n,o){var s,u;r=r||Ze.event;for(var l,c,f=o||r.target,m=0,v=0,S=0,_=0,b=!1,I=Ze.document;f&&!isNaN(f.offsetLeft)&&!isNaN(f.offsetTop);)c=f.scrollLeft,l=f.scrollTop,f.tagName==="BODY"?b?(c=0,l=0):(c|=(s=I.documentElement)===null||s===void 0?void 0:s.scrollLeft,l|=(u=I.documentElement)===null||u===void 0?void 0:u.scrollTop):f.style.position==="fixed"&&(b=!0),m+=f.offsetLeft-c,v+=f.offsetTop-l,f=f.offsetParent;return n&&(S=n.Left,_=n.Top),{x:m=r.clientX-m-S,y:v=r.clientY-v-_}},getElDimensions:function(r,n){var o,s;return r?(o=r.style.display,r.style.display="",s=n?{offsetTop:r.offsetTop,offsetLeft:r.offsetLeft,offsetWidth:r.offsetWidth,offsetHeight:r.offsetHeight}:{clientTop:r.clientTop,clientLeft:r.clientLeft,clientWidth:r.clientWidth?r.clientWidth:parseInt(r.style.width)?parseInt(r.style.width):0,clientHeight:r.clientHeight?r.clientHeight:parseInt(r.style.height)?parseInt(r.style.height):0},r.style.display=o,s):{offsetTop:0,offsetLeft:0,offsetWidth:0,offsetHeight:0}}};function hd(r){return document.getElementById(r)}function vb(r){var n=me(r)?hd(r):r;n&&(n.length>0&&(n=n[0]),n.style.display=Bh)}function _b(r){var n=me(r)?hd(r):r;n&&(n.length>0&&(n=n[0]),n.style.display=pr)}function Av(r){var n=me(r)?hd(r):r;n&&(n.length>0&&(n=n[0]),n.style.display===Bh?n.style.display=pr:n.style.display=Bh)}function yb(r){if(r)for(;r.firstChild;)r.removeChild(r.firstChild)}function Sb(r){return encodeURIComponent(String(r))}function bb(r){return decodeURIComponent(r.replace(/\+/g," "))}if(window.trustedTypes)try{Wh=window.trustedTypes.createPolicy("d-create-script",{createScriptURL:function(r){return r}})}catch{}function pd(r){return Wh?Wh.createScriptURL(r):r}var xv=!0,Bu=document,Tb=Bu&&Bu.documentElement,Ta=Bu.getElementsByTagName("head")[0]||Tb,rl=Bu.createElement("script").readyState?function(r,n){var o=r.onreadystatechange;r.onreadystatechange=function(){var s=r.readyState;s==="loaded"||s==="complete"?(r.onreadystatechange=null,o&&o(),n.call(this,{type:"load",path:[r]})):s==="loading"||n.call(this,{type:"error",path:[r]})}}:function(r,n){r.addEventListener("load",n,Tt),r.addEventListener("error",n,Tt)};function Uh(r,n,o){return nl(r,n,!1,o)}function nl(r,n,o,s){var u,l,c=s;if(oe(c)||(c=function(){}),me(r)&&r!=pr)return u=Bu.createElement("script"),l=["",r].join(pr),u.src=pd(l),n&&(u.async=xv),u.charset="utf-8",rl(u,c),o?Ta.appendChild(u):Ta.insertBefore(u,Ta.firstChild),u;c()}function Cb(r,n,o){return Vh(r,n,!1,o)}function Vh(r,n,o,s){var u=s;if(oe(u)||(u=function(){}),ue.bJSDom)u("ok");else if(mt(r)){var l=r.length,c=function(f){f&&f.type=="load"?l--:(f&&f.type=="error"&&Yr(["Failed to load resource: ",f.target.src,"."].join("")),u()),l<=0&&u("ok")};l<=0?u("ok"):hr(r,function(f){nl(f,n,o,c)})}else u()}function jh(r,n){return gd(r,!1,n)}function gd(r,n,o){var s,u=o;if(oe(u)||(u=!1),me(r)&&r!=pr){if(!ue.bJSDom)return(s=Bu.createElement("link")).href=pd(r),s.rel="stylesheet",s.async=xv,u&&rl(s,u),n?Ta.appendChild(s):Ta.insertBefore(s,Ta.firstChild),s;u&&u()}else u&&u()}function Qs(r,n){return Uu(r,!1,n)}function Uu(r,n,o){if(ue.bJSDom)o&&o("ok");else if(mt(r)){var s=r.length,u=function(l){l&&l.type=="load"&&s--,l&&l.type!="load"&&(l&&l.type=="error"&&Yr(["Failed to load resource: ",l.target.href,"."].join("")),o()),s<=0&&o("ok")};hr(r,function(l){gd(l,n,u)})}else o&&o()}function Pv(r){var n,o;if(!ue.bJSDom){var s=document;if(s&&me(o=r.body)&&o!=pr){(n=s.createElement("script")).charset="utf-8",ue.bIE?n.text=o:n.appendChild(s.createTextNode(o)),r.language?n.language=r.language:n.language="javascript",r.type?n.type=r.type:n.type="text/javascript";var u=s&&s.documentElement,l=s.getElementsByTagName("head")[0]||u;l.insertBefore(n,l.firstChild)}}}function kv(r){Pv({body:r})}function Ib(r){Pv({body:r,language:"vbscript",type:"text/vbscript"})}function Dv(r){return r!=null&&r==r.window}var V,cs,Gh,wb=function(){return he(function r(){de(this,r),this.nil=void 0,this.bNode=!1,this.noop=function(){},this.mix=ab,this.clone=Fh,this.keys=Object.keys,this.now=ib,this.getFormatedNow=Ae,this.getRandom=ob,this.guid=Mu,this.get=hd,this.show=_b,this.hide=vb,this.toggle=Av,this.empty=yb,this.stringify=Ze.JSON.stringify,this.parse=Ze.JSON.parse,this.isDef=He,this.isUndef=Je,this.isUndefined=Je,this.isNull=Ge,this.isNaN=isNaN,this.isFunction=oe,this.isString=me,this.isObject=ye,this.isBoolean=et,this.isNumber=Ke,this.isArray=mt,this.type=pe,this.isPlainObject=cb,this.isDOM=wv,this.isDOMInBody=db,this.each=hr,this.getLogger=nr,this.setLogger=jt,this.log=Ar,this.error=Yr,this.warn=cr,this.info=Un,this.filter=Wu,this.indexOf=dd,this.uniq=Tv,this.startsWith=fb,this.endsWith=hb,this.replaceAll=fd,this.upperCaseFirst=Mh,this.removeNonPrintableChar=mb,this.trim=pb,this.makeArray=vt,this.isEmptyObject=gb,this.Path=new Iv,this.DOM=Ev,this.isWindow=Dv,this.obj={customEvent:Sa},this.addEventListener=Fr,this.removeEventListener=Qr,this.stopPropagation=ro,this.fireEvent=oi,this.base64=tb,this.utf8=Lu,this.btoa=rb,this.atob=nb,this.asyncQueue=Jt,this.sizzle=el,this.toggleWakeLock=ub,this.getWakeLock=cd,this.urlEncode=Sb,this.urlDecode=bb,this.scriptOnload=rl,this.addAllCss=Uu,this.getAllCss=Qs,this.addCss=gd,this.getCss=jh,this.addScripts=Vh,this.getScripts=Cb,this.addScript=nl,this.getScript=Uh,this.addJS=kv,this.addVBS=Ib},[{key:"debug",get:function(){return At.debug},set:function(r){At.debug=r}},{key:"showConsoleError",get:function(){return At.debug},set:function(r){At.showConsoleError=r}}])}(),p=new wb,Ce=20230515,Ue=!!((typeof global>"u"?"undefined":D(global))=="object"&&global.process&&global.process.release&&global.process.release.name&&typeof HTMLCanvasElement>"u"),bt=Ue?global:self||{},B=bt.Dynamsoft;function Wt(r){return Math.floor(r)}function ut(r,n,o){return(n=X(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function tr(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function Ut(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}function no(r){var n,o,s="0x";if(/^(rgb|RGB)/.test(r)){var u=r.replace(/[^\d,.]/g,"").split(",");for(o=0;o<3;++o)(n=Number(u[o]).toString(16)).length==1&&(n="0"+n),s+=n;u.length==4?((n=Math.round(255*Number(u[o])).toString(16)).length==1&&(n="0"+n),s+=n):s+="ff"}else if(r=="transparent")s+="00000000";else if(/^#[0-9a-fA-F]{6}$/.test(r))s+=r.replace(/#/,"")+"ff";else if(/^#[0-9a-fA-F]{3}$/.test(r)){for(o=0;o<3;++o)s+=r[o]+r[o];s+="ff"}else s="-1";return Number(s)}function Oi(r){if(r>4294967295||r<0)return null;var n;if(ue.bHTML5Edition)n="rgba("+Math.floor(r/16777216)+","+Math.floor(r/65536)%256+","+Math.floor(r/256)%256+","+r%256/255+")";else if(r%256==0)n="transparent";else{for(n=Math.floor(r/256).toString(16);n.length!=6;)n="0"+n;n="#"+n}return n}function il(r){var n,o=(r=r||window.event).wheelDelta,s=r.detail;return o&&(n=o/120),s&&(n=-(s%3==0?s/3:s)),n}B?B.Lib||(B.Lib={}):(B={Lib:{},DWT:{}},bt&&(bt.Dynamsoft=B)),B.navInfoSync=ue,V=p.mix(B.Lib,p),(cs=B).DWT||(cs.DWT={}),cs.DWT.LTS||(cs.DWT.LTS={}),cs.Lib.UI||(cs.Lib.UI={}),cs.Lib.html5||(cs.Lib.html5={}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pr)}),Gh={registedClass:[],registedObjs:[]};var Ca={LEFT:0,MIDDLE:1,RIGHT:2};function zh(r){var n=r||window.event;return n.which==null?n.button<2?Ca.LEFT:n.button==4?Ca.MIDDLE:Ca.RIGHT:n.which<2?Ca.LEFT:n.which==2?Ca.MIDDLE:Ca.RIGHT}var md,Eb,r7=/[\-#$\^*()+\[\]{}|\\,.?\s]/g,Ab={"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},xb={};function n7(r){return r.replace(/\\u([a-f\d]{4})/gi,function(n,o){return String.fromCharCode(parseInt(o,16))})}function i7(r){return(r+"").replace(function(){if(md)return md;var n=pr;return p.each(Ab,function(o){n+=o+"|"}),n=n.slice(0,-1),md=new RegExp(n,"g")}(),function(n){return xb[n]})}function o7(r){return r.replace(r7,"\\$&")}function WD(r){return r.replace(function(){if(Eb)return Eb;var n=pr;return p.each(xb,function(o){n+=o+"|"}),n+="&#(\\d{1,5});",Eb=new RegExp(n,"g")}(),function(n,o){return Ab[n]||String.fromCharCode(+o)})}p.each(Ab,function(r,n){xb[r]=n});var Pb,Rv,vd=window;vd&&p.isFunction(vd.__zone_symbol__Promise)&&(Rv=vd.__zone_symbol__Promise);var a7=he(function r(){de(this,r)});function s7(r){return(r=r||window.event).which==null?r.which=r.button<2?1:r.button==4?2:3:r.which=r.which<2?1:r.which==2?2:3,r}function u7(r,n){return r.currentStyle?r.currentStyle[n]:window.getComputedStyle?document.defaultView.getComputedStyle(r,null)[n]:null}Pb=self&&self.Promise?self.Promise:vd&&vd.Promise?vd.Promise:a7,Rv||(Rv=Pb);function BD(r){var n=ne(r);return r==null||n!=="object"&&n!=="function"}function c7(r,n,o,s){n=n||"&",o=o||"=",p.isUndefined(s)&&(s=ir);var u=[];return p.each(r,function(l,c){var f=p.urlEncode(c);BD(l)?(u.push(f),p.isDef(l)&&u.push(o,p.urlEncode(l+pr)),u.push(n)):p.isArray(l)&&l.length&&p.each(l,function(m){BD(m)&&(u.push(f,s?p.urlEncode("[]"):pr),p.isDef(m)&&u.push(o,p.urlEncode(m+pr)),u.push(n))})}),u.pop(),u.join(pr)}function l7(r,n,o){if(!p.isString(r)||!(r=p.trim(r)))return{};n=n||"&",o=o||"=";for(var s,u,l,c={},f=p.urlDecode,m=r.split(n),v=0,S=m.length;v<S;++v){if((s=p.indexOf(o,m[v]))===-1)u=f(m[v]),l=void 0;else{u=f(m[v].substring(0,s)),l=m[v].substring(s+1);try{l=f(l)}catch(_){p.error("decodeURIComponent error : "+l),p.error(_)}p.endsWith(u,"[]")&&(u=u.substring(0,u.length-2))}u in c?p.isArray(c[u])?c[u].push(l):c[u]=[c[u],l]:c[u]=l}return c}p.each({"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},function(r,n){});var or,UD=he(function r(n){de(this,r),ut(this,"tagName",void 0),ut(this,"attr",void 0),ut(this,"childNodes",void 0),this.tagName=n,this.attr={},this.childNodes=[]}),kb=he(function r(n){de(this,r),ut(this,"value",void 0),this.value=n||""}),_d=new WeakSet,d7=function(){return he(function r(){de(this,r),tr(this,_d),ut(this,"stack",void 0),ut(this,"stacks",void 0),this.stack=[],this.stacks=[]},[{key:"getStacks",value:function(){return this.stacks}},{key:"receiveInput",value:function(r){var n=this.stack;if(r.type==="startTag")n.push(new UD(r.value));else if(r.type==="attr"){var o,s,u=r.value,l=u.indexOf("=");l>-1&&(o=u.substring(0,l),s=u.charAt(l+1)==='"'||u.charAt(l+1)==="'"?u.substring(l+2,u.length-1):u.substring(l+1),n[n.length-1].attr[o]=s)}else if(r.type==="text")n.length?n[n.length-1].childNodes.push(new kb(r.value)):this.stacks.push(new kb(r.value));else if(r.type==="endTag"){var c=n.pop();n.length?n[n.length-1].childNodes.push(c):this.stacks.push(c)}}},{key:"getOutPutHtml",value:function(){var r,n=document.createDocumentFragment(),o=this.stacks;for(r=0;r<o.length;r++){var s=o[r],u=Ut(_d,this,VD).call(this,s);u&&n.appendChild(u)}return n}}])}();function f7(r){return r.replace(/-([a-z])/g,function(n,o){return o.toUpperCase()})}function h7(r){var n={};if(!r)return n;var o,s=r.split(";");for(o=0;o<s.length;o++){var u=s[o].split(":");if(u.length===2){var l=u[0].trim(),c=u[1].trim();c!==""&&(n[l=Ut(_d,this,f7).call(this,l)]=c)}}return n}function p7(r,n){var o=Ut(_d,this,h7).call(this,n);for(var s in o)r.style[s]=o[s]}function VD(r){if(r instanceof UD){var n=document.createElement(r.tagName);for(var o in r.attr)o!==""&&r.attr[o]!==""&&(o==="style"?Ut(_d,this,p7).call(this,n,r.attr[o]):n.setAttribute(o,r.attr[o]));if(r.childNodes.length)for(var s=0;s<r.childNodes.length;s++){var u=r.childNodes[s];n.appendChild(Ut(_d,this,VD).call(this,u))}return n}if(r instanceof kb)return document.createTextNode(WD(r.value))}(function(r){r[r.None=0]="None",r[r.AttrKey=1]="AttrKey",r[r.AttrKeyQuoteStart=2]="AttrKeyQuoteStart",r[r.AttrKeyQuoteEnd=3]="AttrKeyQuoteEnd",r[r.AttrValueQuoteStart=4]="AttrValueQuoteStart",r[r.AttrSpace=5]="AttrSpace",r[r.AttrSplite=6]="AttrSplite"})(or||(or={}));var Db,g7=he(function r(n,o){de(this,r),ut(this,"allChars",void 0),ut(this,"curIndex",void 0),ut(this,"state",void 0),ut(this,"attrStatus",void 0),ut(this,"attrQuoteChar",void 0),this.allChars=n,this.curIndex=0,this.state=o,this.attrStatus=or.None,this.attrQuoteChar=""}),ai=new WeakSet,m7=function(){return he(function r(n,o){de(this,r),tr(this,ai),ut(this,"token",void 0),ut(this,"tokens",void 0),ut(this,"htmlString",void 0),ut(this,"tokenHandler",void 0),ut(this,"thisStartTagName",void 0),ut(this,"attrStatus",void 0),this.token=[],this.tokens=[],this.attrStatus=or.None,this.thisStartTagName=null,p.isString(n)?this.htmlString=n:n&&(this.htmlString=n.toString()),this.tokenHandler=o},[{key:"start",value:function(r){var n=r.allChars[r.curIndex];return n==="<"?(this.token.push(n),r.state=this.tagState,r):this.textState(r)}},{key:"textState",value:function(r){var n=r.allChars[r.curIndex];return n==="<"?(Ut(ai,this,wo).call(this,"text",this.token.join("")),this.token=[],this.start(r)):(this.token.push(n),r.state=this.textState,r)}},{key:"tagState",value:function(r){var n=r.allChars[r.curIndex];return this.token.push(n),n==="/"?(r.state=this.endTagState,r):(r.state=this.startTagState,r)}},{key:"startTagState",value:function(r){var n=r.curIndex,o=r.allChars,s=o[n];if(s.match(/[a-zA-Z]/))return this.token.push(s),r.state=this.startTagState,r;if(s===" "){if(this.thisStartTagName=this.token.join("").substring(1),Ut(ai,this,wo).call(this,"startTag",this.thisStartTagName.toLowerCase()),this.token=[],n<o.length-2){var u=o[n+1],l=o[n+2];if(u==="/"&&l===">")return Ut(ai,this,wo).call(this,"endTag",this.thisStartTagName),this.token=[],r.state=this.start,r.curIndex+=2,r}return r.attrQuoteChar="",r.attrStatus=or.None,r.state=this.attrState,r}return s===">"?(this.thisStartTagName=this.token.join("").substring(1),Ut(ai,this,wo).call(this,"startTag",this.thisStartTagName.toLowerCase()),this.token=[],r.state=this.start,Ut(ai,this,Rb).call(this)&&r.curIndex++,r):void 0}},{key:"attrState",value:function(r){var n=r.curIndex,o=r.allChars,s=o[n],u=!1,l=!1;if(r.attrStatus==or.AttrSplite?s.match(/[0-9|^<&;#]/)&&(u=!0):r.attrStatus!=or.AttrKey&&r.attrStatus!=or.AttrKeyQuoteStart||(s.match(/[0-9]/)||s==="."||s==="-")&&(l=!0),s.match(/[:|a-z|A-Z|_]/)||u||l){if(r.attrStatus==or.None||r.attrStatus==or.AttrKey||r.attrStatus==or.AttrKeyQuoteStart)return this.token.push(s),r.state=this.attrState,r.attrStatus==or.None&&(r.attrStatus=or.AttrKey),r;if(r.attrStatus==or.AttrSpace)return this.token=[s],r.state=this.attrState,r.attrStatus=or.AttrKey,r;var c;if(r.attrStatus==or.AttrSplite){for(c=n;c<o.length;c++)if(this.token.push(o[c]),c+1<o.length){var f=o[c+1],m=!1,v=!1;if(f===" "||f===">"?m=!0:f==="/"&&c+2<o.length&&o[c+2]===">"&&(m=!0,v=!0),m)return r.curIndex=c,r.attrStatus=or.None,r.attrQuoteChar="",Ut(ai,this,wo).call(this,"attr",this.token.join("")),this.token=[],r.state=this.attrState,f===">"&&Ut(ai,this,Rb).call(this)&&(this.token=[],r.curIndex++,r.state=this.start),v&&(Ut(ai,this,wo).call(this,"endTag",this.thisStartTagName),this.token=[],r.curIndex+=2,r.state=this.start),r}}}if(s==="="&&(r.attrStatus==or.AttrKey||r.attrStatus==or.AttrKeyQuoteEnd||r.attrStatus==or.AttrSpace))return this.token.push(s),r.state=this.attrState,r.attrStatus=or.AttrSplite,r;if(s.match(/['"]/)){if(r.attrStatus==or.AttrValueQuoteStart||r.attrStatus==or.AttrKeyQuoteStart){if(s===r.attrQuoteChar)return r.attrStatus==or.AttrValueQuoteStart?(this.token.push(s),Ut(ai,this,wo).call(this,"attr",this.token.join("")),this.token=[],r.attrStatus=or.None):r.attrStatus=or.AttrKeyQuoteEnd,r.attrQuoteChar="",r.state=this.attrState,r;this.token.push(s)}else r.attrStatus==or.None?r.attrStatus=or.AttrKeyQuoteStart:r.attrStatus==or.AttrSplite&&(r.attrStatus=or.AttrValueQuoteStart,this.token.push(s)),r.attrQuoteChar=s;return r.state=this.attrState,r}if(r.attrStatus==or.AttrValueQuoteStart){if(this.token.push(s),s==="\\"&&n<o.length-1){var S=o[n+1];this.token.push(S),r.curIndex++}return r.state=this.attrState,r}if(s===" "){if(r.attrStatus==or.AttrKey||r.attrStatus==or.AttrKeyQuoteEnd)return r.attrStatus=or.AttrSpace,r.state=this.attrState,r;if(r.attrStatus==or.None||r.attrStatus==or.AttrSplite||r.attrStatus==or.AttrSpace)return r.state=this.attrState,r}return s==="/"?n<o.length-1&&o[n+1]===">"?(Ut(ai,this,wo).call(this,"attr",this.token.join("")),Ut(ai,this,wo).call(this,"endTag",this.thisStartTagName),this.token=[],r.state=this.start,r.curIndex++,r):(this.token.push(s),r.state=this.attrState,r):s===">"?(Ut(ai,this,wo).call(this,"attr",this.token.join("")),this.token=[],Ut(ai,this,Rb).call(this),r.state=this.start,r):(r.state=this.attrState,r)}},{key:"endTagState",value:function(r){var n=r.allChars[r.curIndex];if(n.match(/[a-zA-Z]/))return this.token.push(n.toLowerCase()),r.state=this.endTagState,r;if(n===">"){var o=this.token.join("").toLowerCase();return o=o.replace("</",""),Ut(ai,this,wo).call(this,"endTag",o),this.token=[],r.state=this.start,r}}},{key:"doParse",value:function(){if(this.htmlString){var r=this.htmlString.split(""),n=new g7(r,this.start);do n.state.bind(this)(n),n.curIndex++;while(n.curIndex<r.length)}}},{key:"getTokens",value:function(){return this.tokens}}])}();function wo(r,n){var o={type:r,value:n};r=="attr"&&n===""||(this.tokens.push(o),this.tokenHandler&&this.tokenHandler(o))}function Rb(){if(this.thisStartTagName){if(this.thisStartTagName=="img")return Ut(ai,this,wo).call(this,"endTag","img"),!0;if(this.thisStartTagName=="input")return Ut(ai,this,wo).call(this,"endTag","input"),!0}return!1}function Fb(r,n){if(document.body)if(ue.bIE)r.innerHTML=n;else{var o=new d7;new m7(n,o.receiveInput.bind(o)).doParse();var s=o.getOutPutHtml();s.children.length>0&&function(u,l){for(;u.firstChild;)u.removeChild(u.firstChild);for(;l.firstChild;){var c=l.firstChild;l.removeChild(c),u.appendChild(c)}}(r,s)}}var jD="ds-dwt-loaderBar",Ob="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjAiIHdpZHRoPSIxMDBweCIgaGVpZ2h0PSIxMDBweCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjE2IiBmaWxsPSIjZmU4ZTE0Ii8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iMTQuMzQ0IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSg0NSA2NCA2NCkiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjY0IiByPSIxMi41MzEiIGZpbGw9IiNmZThlMTQiIHRyYW5zZm9ybT0icm90YXRlKDkwIDY0IDY0KSIvPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjEwLjc1IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgxMzUgNjQgNjQpIi8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iMTAuMDYzIiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgNjQgNjQpIi8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iOC4wNjMiIGZpbGw9IiNmZThlMTQiIHRyYW5zZm9ybT0icm90YXRlKDIyNSA2NCA2NCkiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjY0IiByPSI2LjQzOCIgZmlsbD0iI2ZlOGUxNCIgdHJhbnNmb3JtPSJyb3RhdGUoMjcwIDY0IDY0KSIvPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjUuMzc1IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgzMTUgNjQgNjQpIi8+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIHZhbHVlcz0iNDUgNjQgNjQ7OTAgNjQgNjQ7MTM1IDY0IDY0OzE4MCA2NCA2NDsyMjUgNjQgNjQ7MjcwIDY0IDY0OzMxNSA2NCA2NDswIDY0IDY0IiBjYWxjTW9kZT0iZGlzY3JldGUiIGR1cj0iNzIwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+PC9nPjwvc3ZnPg==";function GD(r){var n,o,s,u="",l="230px",c="240px",f="",m="";return r&&(r.background&&(u=";background:"+r.background),r.width&&(l=r.width),r.height&&(c=r.height),r.imageSource&&(n=r.imageSource)),n||(n=Ob),s=parseInt(l)/2,p.isNumber(s)&&s>0&&(m=";width:"+s+"px"),o=parseInt(c)/2,p.isNumber(o)&&o>0&&(f=";height:"+o+"px"),['<div align="center" ','class="',jD,'" ','style="margin:0 auto;max-width:',l,";max-height:",c,";line-height:",c,u,'"><img style="user-select:none',f,m,';max-width:230px;max-height:240px;vertical-align:middle" src="',n,'" draggable="false" /></div>'].join("")}var Eo,Hh=window,on=document,zD=5e5;function v7(r,n){for(var o=0;o<r.length;++o)if(r[o]==n)return ir;return Tt}function _7(r){var n;return Hh.getComputedStyle?n=Hh.getComputedStyle(r):r.currentStyle&&(n=r.currentStyle),n&&n.position!="absolute"||r.style.top!="auto"&&r.style.top!=""||r.style.bottom!="auto"&&r.style.bottom!=""?Tt:!function(o){for(var s=0;s<on.styleSheets.length;++s){var u=on.styleSheets[s],l=void 0,c=void 0,f=void 0,m=void 0;try{l=u.cssRules,c=on.querySelectorAll}catch{}if(l&&c)for(var v=0;v<l.length;++v){f=l[v],m=Tt;try{m=c(f.selectorText)}catch{}if(m&&v7(m,o)){var S=f.style.getPropertyValue("top"),_=f.style.getPropertyValue("bottom");if(S&&S!="auto"||_&&_!="auto")return ir}}}return Tt}(r)}function HD(r){var n=on.createEvent("MouseEvents");return n==null||n.initMouseEvent(r.type,r.bubbles,r.cancelable,Hh,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget),n}function $D(r){var n;(n=on.body)===null||n===void 0||n.dispatchEvent(HD(r))}function KD(r,n){if(Eo){var o=Eo.style;o.backgroundColor=["rgba(",n,",",n,",",n,",",r,")"].join(""),o.filter=["alpha(opacity=",100*r,")"].join(""),o.opacity=o.MozOpacity=r}}function y7(r,n){Eo===Db?function(o,s){if(Eo=on.createElement("div")){var u=Eo.style;if(u.position="fixed",u.display="block",u.left=u.top=u.margin=u.padding=0,KD(o,s),u.zIndex=zD,u.width=u.height="100%",ue.bIE&&ue.IEVersion<10){var l=on.createElement("iframe");l.style.background="none",l.style.margin="0px auto",l.style.border="0",l.style.width="100%",l.style.height="100%",l.style.position="relative",l.style.zIndex="9999",l.src="javascript:''",Eo.appendChild(l)}on.createEvent&&p.addEventListener(Eo,"click",$D)}}(r,n):KD(r,n),on.body&&!on.body.contains(Eo)&&on.body.appendChild(Eo)}var Nb,Ti,Vu={pendingDialogStack:[],pendingDialogTopmostStack:[],opacity:.1,grayHex:128,_updateStacking:function(r){var n,o;(n=this.pendingDialogStack).length!=0?(r!=1&&y7(Vu.opacity,Vu.grayHex),o=zD,p.each(n,function(s){o++,s._dlgInfo.mask&&(s._dlgInfo.mask.style.zIndex=o++),s.style.zIndex=o})):Eo!==Db&&(p.removeEventListener(Eo,"click",$D),on&&on.body&&on.body.removeChild(Eo),Eo=Db)},pushDialog:function(r,n){var o,s,u=this;if(r.getBoundingClientRect(),(s=r.bTopmost?u.pendingDialogTopmostStack:u.pendingDialogStack).length>=1e3)p.error("Too many modal dialogs.");else{if((o=on.createElement("div")).style.zIndex="10000",o.className="dynamsoft-backdrop",n==1?(o.style.left=0,o.style.top=0,o.style.position="absolute"):(o.style.left=0,o.style.top=0,o.style.width="100%",o.style.height="100%",o.style.position="fixed"),on.createEvent&&p.addEventListener(o,"click",function(c){if(r.dispatchEvent){var f=HD(c);r.dispatchEvent(f)}}),r.parentNode.insertBefore(o,r.nextSibling),r._dlgInfo.mask=o,r.bTopmost){var l=501e3;r._dlgInfo.mask&&(r._dlgInfo.mask.style.zIndex=l),r.style.zIndex=501001}s.push(r),u._updateStacking(n)}},removeDialog:function(r){var n,o,s,u=this;s=r.bTopmost?u.pendingDialogTopmostStack:u.pendingDialogStack,(n=p.isArray(s)?p.indexOf(r,s):-1)!=-1&&(s.splice(n,1),(o=r._dlgInfo.mask).parentNode&&o.parentNode.removeChild(o),r._dlgInfo.mask=null,u._updateStacking())}};function YD(r,n){var o,s,u,l,c,f,m=this,v=!0,S=n==1?"absolute":"fixed",_="50%",b="50%",I="",A="",P=null;if(m._dlgInfo&&m._dlgInfo.styleConfig){var L=m._dlgInfo.styleConfig;p.isString(L.position)&&(S=L.position,v=!1),(p.isString(L.left)||p.isNumber(L.left))&&(b=L.left,v=!1),(p.isString(L.top)||p.isNumber(L.top))&&(_=L.top,v=!1),(p.isString(L.width)||p.isNumber(L.width))&&(I=L.width,v=!1),(p.isString(L.height)||p.isNumber(L.height))&&(A=L.height,v=!1),p.isString(L.transform)&&(P=L.transform,v=!1)}m.open?p.error("showDialog called on open dialog."):(m.open=ir,m.removeAttribute("closed"),m.setAttribute("open","open"),v?o=ue.bIE&&S=="fixed"?{display:"block",position:"fixed",top:"35%",margin:"0 auto",left:0,right:0}:{display:"block",position:S,left:"50%",top:"50%",transform:"translate(-50%,-50%)"}:(o={display:"block",position:S,left:b,top:_,width:I,height:A},P&&(o.transform=P)),m.tagName=="DIALOG"?(ue.bIE?o.margin="0 auto":o.margin="0",o.broderRadius="6px",o.boxShadow="2px 2px 0 0 rgba(0,0,0,.05)",o.webkitBoxSizing="border-box",o.boxSizing="border-box"):(o.border="0",ue.bIE?o.margin="0 auto":o.margin="0",o.webkitBoxSizing="border-box",o.boxSizing="border-box"),p.mix(m.style,o),_7(m)&&(s=m,f=(((u=on.body)===null||u===void 0?void 0:u.scrollTop)||((l=on.documentElement)===null||l===void 0?void 0:l.scrollTop)||0)+((Hh.innerHeight?Hh.innerHeight:(c=on.documentElement)===null||c===void 0?void 0:c.clientHeight)-s.offsetHeight)/2,s.style.top=f+"px",s._dlgInfo.isTopOverridden=ir),r&&(m._dlgInfo.modal=ir,Vu.pushDialog(m,n)))}function S7(r){var n=this;return n.open||p.error("closeDialog called on closed dialog."),n.open=Tt,n.removeAttribute("open"),n.setAttribute("closed","closed"),n.style.display="none",r!==void 0&&(n.returnValue=r),n._dlgInfo.isTopOverridden&&(n.style.top="auto"),n._dlgInfo.modal&&Vu.removeDialog(n),n.returnValue}function QD(r){p.isNumber(r.opacity)?Vu.opacity=r.opacity:Vu.opacity=.1,p.isNumber(r.grayHex)?Vu.grayHex=r.grayHex:Vu.grayHex=128}function b7(r){var n,o,s,u;if(!Ti.dlgMask){var l,c,f,m,v=!1;if(r&&(m={},(p.isString(r.top)||p.isNumber(r.top))&&(m.top=r.top),(p.isString(r.left)||p.isNumber(r.left))&&(m.left=r.left),p.isString(r.position)&&(m.position=r.position),r.confined&&(document.getElementsByClassName("dwt-viewer-imageEditor-fullScreen")[0]||(v=r.confined)),(p.isString(r.width)||p.isNumber(r.width))&&(n=r.width),(p.isString(r.height)||p.isNumber(r.height))&&(o=r.height),p.isString(r.background)&&(s=r.background),p.isString(r.imageSource)&&(u=r.imageSource),QD(r),v&&r.wrapperEl&&(c=r.wrapperEl,p.isString(c)&&(c=on.getElementById(c)))),!u){var S;if(window&&window.Dynamsoft){var _=window.Dynamsoft.DWT;_&&_.CustomizableDisplayInfo&&(S=_.CustomizableDisplayInfo)}S?(ue.bIE&&p.isString(S.loaderBarSourceIE)&&S.loaderBarSourceIE!=""&&(u=S.loaderBarSourceIE),!u&&p.isString(S.loaderBarSource)&&S.loaderBarSource!=""&&(u=S.loaderBarSource)):u=Ob}if(c&&(f=c.getBoundingClientRect(),c.style.position="relative"),l=on.createElement("div")){var b;l.className="dynamsoft-dialog-wrap",Fb(l,GD({width:n,height:o,backgroundColor:s,imageSource:u})),c?(c.appendChild(l),l.style.position="absolute",l.style.top="50%",l.style.left="50%",l.style.transform="translate(-50%, -50%)"):(b=on.body)===null||b===void 0||b.appendChild(l),v&&f&&(window.onresize?Ti.preOnresize=window.onresize:Ti.preOnresize=!1,window.onscroll?Ti.preOnscroll=window.onscroll:Ti.preOnscroll=!1),Ti.dlgMask=l,Nb.setup(l,v),m&&(l._dlgInfo.styleConfig=m),c&&(l._dlgInfo.wrapperEl=c),l.showModal()}}}function T7(){var r=Ti.dlgMask;if(r){var n;r.close(),r._dlgInfo&&r._dlgInfo.wrapperEl?(r._dlgInfo.wrapperEl.removeChild(r),r._dlgInfo.wrapperEl=null):(n=on.body)===null||n===void 0||n.removeChild(r),Ti.dlgMask=!1}Ti.preOnresize?window.onresize=Ti.preOnresize:window.onresize=null,Ti.preOnresize=!1,Ti.preOnscroll?window.onscroll=Ti.preOnscroll:window.onscroll=null,Ti.preOnscroll=!1}Nb={setup:function(r,n){r.show=YD.bind(r,Tt,n),r.showModal=YD.bind(r,ir,n),r.close=S7.bind(r),r._dlgInfo={}}},Ti={dlgMask:!1,preOnresize:!1,preOnscroll:!1};var C7=function(){return he(function r(n){de(this,r),ut(this,"div",void 0),ut(this,"container",void 0),ut(this,"docElem",void 0),ut(this,"opacity",void 0),ut(this,"cssFloat",void 0),ut(this,"clearCloneStyle",void 0),ut(this,"boxSizing",void 0),ut(this,"pixelPositionVal",void 0),ut(this,"pixelMarginRightVal",void 0),ut(this,"boxSizingReliableVal",void 0),ut(this,"pixelBoxStylesVal",void 0),ut(this,"reliableHiddenOffsetsVal",void 0),ut(this,"reliableMarginRightVal",void 0),ut(this,"reliableMarginLeftVal",void 0),ut(this,"leadingWhitespace",void 0),ut(this,"tbody",void 0),ut(this,"htmlSerialize",void 0);var o=n.createElement("div"),s=n.createElement("div");if(s.style){this.div=s,this.container=o,this.docElem=n.documentElement,s.textContent=" ";var u=document.createElement("link");s.appendChild(u);var l=document.createElement("table");s.appendChild(l);var c=document.createElement("a");c.href="/a",s.appendChild(c);var f=document.createElement("input");for(f.type="checkbox",s.appendChild(f),this.leadingWhitespace=s.firstChild.nodeType===3,this.tbody=!s.getElementsByTagName("tbody").length,this.htmlSerialize=!!s.getElementsByTagName("link").length,s.style.cssText="float:left;opacity:.5",this.opacity=s.style.opacity==="0.5",this.cssFloat=!!s.style.cssFloat,s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",this.clearCloneStyle=s.style.backgroundClip==="content-box",(o=document.createElement("div")).style.cssText="border:0;width:60px;height:0;top:0;left:-11111px;padding:0;margin-top:1px;position:absolute";s.firstChild;)s.removeChild(s.firstChild);o.appendChild(s),this.boxSizing=s.style.boxSizing===""||s.style.MozBoxSizing===""||s.style.WebkitBoxSizing===""}},[{key:"reliableHiddenOffsets",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableHiddenOffsetsVal}},{key:"boxSizingReliable",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.boxSizingReliableVal}},{key:"pixelBoxStyles",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelBoxStylesVal}},{key:"pixelMarginRight",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelMarginRightVal}},{key:"pixelPosition",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelPositionVal}},{key:"reliableMarginRight",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableMarginRightVal}},{key:"reliableMarginLeft",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableMarginLeftVal}},{key:"roundPixelMeasures",value:function(r){return Math.round(parseFloat(r))}},{key:"computeStyleTests",value:function(){var r,n,o=this.div;if(this.docElem&&this.docElem.appendChild(this.container),o.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;overflow:scroll;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:60%",this.pixelPositionVal=this.boxSizingReliableVal=this.reliableMarginLeftVal=this.pixelBoxStylesVal=!1,this.pixelMarginRightVal=this.reliableMarginRightVal=!0,window.getComputedStyle)return n=window.getComputedStyle(o),this.pixelPositionVal=(n||{}).top!=="1%",this.reliableMarginLeftVal=(n||{}).marginLeft==="2px",this.boxSizingReliableVal=(n||{width:"4px"}).width==="4px",o.style.marginRight="50%",this.pixelMarginRightVal=(n||{marginRight:"4px"}).marginRight==="4px",(r=o.appendChild(document.createElement("div"))).style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",o.style.width="1px",this.reliableMarginRightVal=!parseFloat((window.getComputedStyle(r)||{}).marginRight),o.style.right="60%",this.pixelBoxStylesVal=this.roundPixelMeasures(n.right)===36,o&&o.removeChild(r),void(o=null);if(o.style.display="none",this.reliableHiddenOffsetsVal=o.getClientRects().length===0,this.reliableHiddenOffsetsVal){o.style.display="";var s=document.createElement("table"),u=document.createElement("tr"),l=document.createElement("td");u.appendChild(l);var c=document.createElement("td");c.textContent="t",u.appendChild(c),s.appendChild(u),o.appendChild(u),o.childNodes[0].style.borderCollapse="separate",(r=o.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",this.reliableHiddenOffsetsVal=r[0].offsetHeight===0,this.reliableHiddenOffsetsVal&&(r[0].style.display="",r[1].style.display="none",this.reliableHiddenOffsetsVal=r[0].offsetHeight===0)}this.docElem&&this.docElem.removeChild(this.container)}},{key:"createHTMLDocument",get:function(){if(document.implementation){var r=document.implementation.createHTMLDocument("").body;return r.innerHTML="<form></form><form></form>",r.childNodes.length===2}return!1}}])}(),Ia=new C7(document),Fv=Ia.docElem;p.sizzle;var yd,Ov,I7=/^(top|right|bottom|left)$/,Lb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mb=new RegExp("^("+Lb+")(?!px)[a-z%]+$","i"),w7=new RegExp("^("+Lb+")(.*)$","i");window.getComputedStyle?yd=function(r){var n,o;return(o=(n=p.isFunction(r.getEL)?r.getEL():r).ownerDocument.defaultView)&&o.opener||(o=window),o.getComputedStyle(n)}:Fv&&Fv.currentStyle&&(yd=function(r){return r.currentStyle});var Wb=/^--/,XD="[\\x20\\t\\r\\n\\f]",E7=new RegExp("^"+XD+"+|((?:^|[^\\\\])(?:\\\\.)*)"+XD+"+$","g"),Sd=["Top","Right","Bottom","Left"],A7=new RegExp(Sd.join("|"),"i");window.getComputedStyle?Ov=function(r,n,o){var s,u,l,c,f=Wb.test(n),m=r.style;return(o=o||yd(r))&&(c=o.getPropertyValue(n)||o[n],f&&c&&(c=c.replace(E7,"$1")||void 0),c!==""||function(v){return Ci.contains(v.ownerDocument,v)}(r)||(c=$h(r,n)),!Ia.pixelBoxStyles()&&Mb.test(c)&&A7.test(n)&&(s=m.width,u=m.minWidth,l=m.maxWidth,m.minWidth=m.maxWidth=m.width=c,c=o.width,m.width=s,m.minWidth=u,m.maxWidth=l)),c===void 0?c:c+""}:Fv&&Fv.currentStyle&&(Ov=function(r,n,o){var s,u,l,c,f=r.style;return(c=(o=o||yd(r))?o[n]:void 0)==null&&f&&f[n]&&(c=f[n]),Mb.test(c)&&!I7.test(n)&&(s=f.left,(l=(u=r.runtimeStyle)&&u.left)&&(u.left=r.currentStyle.left),f.left=n==="fontSize"?"1em":c,c=f.pixelLeft+"px",f.left=s,l&&(u.left=l)),c===void 0?c:c+""||"auto"});var Nv,x7=/<([\w:-]+)/,P7=/<|&#?\w+;/,k7=/^-ms-/,D7=/-([\da-z])/gi,R7=/^(none|table(?!-c[ea]).+)/,F7=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,O7={position:"absolute",visibility:"hidden",display:"block"},JD={letterSpacing:"0",fontWeight:"400"},qD={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:Ia.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ZD=document.createElement("div");Nv=ZD.style,Ia.cssFloat=!!ZD.style.cssFloat;var N7=function(r,n){return n.toUpperCase()},eR=["Webkit","Moz","ms"],tR={};function rR(r){var n=Ci.cssProps[r]||tR[r];return n||(r in Nv?r:tR[r]=function(o){if(o in Nv)return o;for(var s=o.charAt(0).toUpperCase()+o.slice(1),u=eR.length;u--;)if((o=eR[u]+s)in Nv)return o}(r)||r)}var Ci={cssHooks:{},contains:function(r,n){var o=n&&n.parentNode;return r===o||!(!o||o.nodeType!==1||!(r.contains?r.contains(o):r.compareDocumentPosition&&16&r.compareDocumentPosition(o)))},merge:function(r,n){for(var o=+n.length,s=0,u=r.length;s<o;)r[u++]=n[s++];if(o!=o)for(;n[s]!==void 0;)r[u++]=n[s++];return r.length=u,r},camelCase:function(r){return r.replace(k7,"ms-").replace(D7,N7)},cssProps:{},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0}},L7=["flo","at"].join("");Ci.cssProps[L7]=Ia.cssFloat?"cssFloat":"styleFloat";function nR(r,n,o,s,u){for(var l=o===(s?"border":"content")?4:n==="width"?1:0,c=0;l<4;l+=2)o==="margin"&&(c+=wa(r,o+Sd[l],!0,u)),s?(o==="content"&&(c-=wa(r,"padding"+Sd[l],!0,u)),o!=="margin"&&(c-=wa(r,"border"+Sd[l]+"Width",!0,u))):(c+=wa(r,"padding"+Sd[l],!0,u),o!=="padding"&&(c+=wa(r,"border"+Sd[l]+"Width",!0,u)));return c}function iR(r,n,o){var s=!0,u=n==="width"?r.offsetWidth:r.offsetHeight,l=yd(r),c=Ia.boxSizing&&wa(r,"boxSizing",!1,l)==="border-box";if(u<=0||u==null){if(((u=Ov(r,n,l))<0||u==null)&&(u=r.style[n]),Mb.test(u))return u;s=c&&(Ia.boxSizingReliable()||u===r.style[n]),u=parseFloat(u)||0}return u+nR(r,n,o||(c?"border":"content"),s,l)}function oR(r){return new RegExp("^(?:([+-])=|)("+Lb+")([a-z%]*)$","i").exec(r)}function $h(r,n,o,s){if(r&&r.nodeType!==3&&r.nodeType!==8&&r.style){var u,l,c,f=Ci.camelCase(n),m=Wb.test(n),v=r.style;if(m||(n=rR(f)),c=Ci.cssHooks[n]||Ci.cssHooks[f],o===void 0)return c&&"get"in c&&(u=c.get(r,!1,s))!==void 0?u:v[n];(l=ne(o))==="string"&&(u=oR(o))&&u[1]&&(o=function(S,_,b,I){var A,P=1,L=20,$=I?function(){return I.cur()}:function(){return wa(S,_,"")},ee=$(),q=b&&b[3]||(Ci.cssNumber[_]?"":"px"),Q=(Ci.cssNumber[_]||q!=="px"&&+ee)&&oR(wa(S,_));if(Q&&Q[3]!==q){q=q||Q[3],b=b||[],Q=+ee||1;do $h(S,_,(Q/=P=P||".5")+q);while(P!==(P=$()/ee)&&P!==1&&--L)}return b&&(Q=+Q||+ee||0,A=b[1]?Q+(b[1]+1)*b[2]:+b[2],I&&(I.unit=q,I.start=Q,I.end=A)),A}(r,n,u),l="number"),o!=null&&o==o&&(l!=="number"||m||(o+=u&&u[3]||(Ci.cssNumber[f]?"":"px")),Ia.clearCloneStyle||o!==""||n.indexOf("background")!==0||(v[n]="inherit"),c&&"set"in c&&(o=c.set(r,o,s))===void 0||(m?v.setProperty(n,o):v[n]=o))}}function wa(r,n,o,s){var u,l,c,f=Ci.camelCase(n);return Wb.test(n)||(n=rR(f)),(c=Ci.cssHooks[n]||Ci.cssHooks[f])&&"get"in c&&(u=c.get(r,!0,o)),u===void 0&&(u=Ov(r,n,s)),u==="normal"&&n in JD&&(u=JD[n]),o===""||o?(l=parseFloat(u),o===!0||isFinite(l)?l||0:u):u}function Lv(r,n){if(!r||typeof r!="string")return[];if(typeof n=="boolean"&&(n=!1),!n)if(Ia.createHTMLDocument){var o=(n=document.implementation.createHTMLDocument("")).createElement("base");o.href=document.location.href,n.head.appendChild(o)}else n=document;var s=F7.exec(r);return s?[n.createElement(s[1])]:(s=function(u,l){for(var c,f,m,v,S,_=l.createDocumentFragment(),b=[],I=0,A=u.length;I<A;I++)if((c=u[I])||c===0)if(p.type(c)==="object")Ci.merge(b,c.nodeType?[c]:c);else if(P7.test(c)){for(f=f||_.appendChild(l.createElement("div")),m=(x7.exec(c)||["",""])[1].toLowerCase(),Fb(f,(v=qD[m]||qD._default)[1]+c+v[2]),S=v[0];S--;)f=f.lastChild;Ci.merge(b,f.childNodes),(f=_.firstChild).textContent=""}else b.push(l.createTextNode(c));for(_.textContent="",I=0;c=b[I++];)_.appendChild(c);return f=null,_}([r],n),Ci.merge([],s.childNodes))}p.each(["height","width"],function(r,n){Ci.cssHooks[r]={get:function(o,s,u){if(s)return R7.test(wa(o,"display"))&&o.offsetWidth===0?function(l,c,f,m){var v,S={};return p.each(c,function(_,b){S[b]=l.style[b],l.style[b]=c[b]}),v=f.apply(l,m||[]),p.each(c,function(_,b){l.style[b]=S[b]}),v}(o,O7,function(){return iR(o,r,u)}):iR(o,r,u)},set:function(o,s,u){var l=u&&yd(o);return function(c,f,m){var v=w7.exec(f);return v?Math.max(0,parseInt(v[1])-(m||0))+(v[2]||"px"):f}(0,s,u?nR(o,r,u,Ia.boxSizing&&wa(o,"boxSizing",!1,l)==="border-box",l):0)}}});var aR,sR=Array.prototype.slice,io=" ",M7=ue.bIE&&ue.IEMode<10,uR=/[\n\t\r\.]/g,Bb=function(){function r(n,o,s){de(this,r),ut(this,"isNodeList",!0),ut(this,"length",0);var u=this;return!n||p.isString(n)?u:p.isArray(n)||n.isNodeList?(Array.prototype.push.apply(u,p.makeArray(n)),u):(u[0]=n,u.length=1,u)}return he(r,[{key:"item",value:function(n){return p.isNumber(n)?n>=this.length?null:new r(this[n]):new r(n)}},{key:"slice",value:function(){return new r(sR.apply(this,arguments))}},{key:"getDOMNodes",value:function(){return sR.call(this)}},{key:"each",value:function(n,o){var s=this;return p.each(s,function(u,l){return u=new r(u),n.call(o||u,u,l,s)}),s}},{key:"getEL",value:function(){return this.length>0?this[0]:void 0}},{key:"all",value:function(n){return this.length>0?Gb(n,this):new r}},{key:"one",value:function(n){var o=this.all(n);return o.length?o.slice(0,1):o}},{key:"attr",value:function(n,o){var s=this.getEL();if(s){if(p.isUndefined(o))return n==="readonly"?s.readOnly?"readonly":"":(n!=="style"&&M7?s=s[n]:(s=s.attributes[n])&&(s=s.value),s);n=="class"?s.className=o:s[n]=o}}},{key:"addClass",value:function(n){var o=this.getEL();o&&function(s,u){var l,c,f,m,v=s.className,S=u.length;if(v){for(l=Vb(v),c=v,f=0;f<S;f++)m=jb(u[f]),l.indexOf(io+m+io)<0&&(c+=io+m);c=p.trim(c)}else c=u.join(" ");s.className=c}(o,n.split(io))}},{key:"removeClass",value:function(n){var o=this.getEL();o&&function(s,u){var l,c,f,m=s.className,v=u.length;if(m&&v){for(l=Vb(m),c=0;c<v;c++)for(f=io+jb(u[c])+io;l.indexOf(f)>=0;)l=l.replace(f,io);s.className=p.trim(l)}}(o,n.split(io))}},{key:"hasClass",value:function(n){var o=this.getEL();if(o)return function(s,u){var l,c,f,m=s.className,v=u.length;if(m&&v){for(l=Vb(m),c=0;c<v;c++)if(f=io+jb(u[c])+io,l.indexOf(f)<0)return Tt;return ir}return Tt}(o,n.split(io))}},{key:"parent",value:function(){var n=this.getEL();return n&&(n=n.parentNode),new r(n)}},{key:"remove",value:function(){var n=this.getEL();n&&n.parentNode&&n.parentNode.removeChild(n)}},{key:"offset",value:function(){var n=this.getEL();return p.DOM.getElDimensions(n,ir)}},{key:"before",value:function(n){var o=this.getEL(),s=[n];o&&(Ub(n)&&(s=Lv(n)),p.each(s,function(u){o.insertBefore(u,o.childNodes[0])}))}},{key:"append",value:function(n){var o=this.getEL(),s=[n];o&&(Ub(n)&&(s=Lv(n)),p.each(s,function(u){o.appendChild(u)}))}},{key:"html",value:function(n){var o=this.getEL();if(o){if(p.isUndefined(n))return function(s){var u=s.innerHTML;if(!document.all)return u;var l=/(\s+\w+)\s*=\s*([^<>"\s]+)(?=[^<>]*\/>)/gi,c=/"'([^'"]*)'"/gi;return(u=u.replace(l,'$1="$2"').replace(c,'"$1"')).replace(/<(\/?)(\w+)([^>]*)>/g,function(f,m,v,S){return m?"</"+v.toLowerCase()+">":("<"+v.toLowerCase()+S+">").replace(/=(("[^"]*?")|('[^']*?')|([\w\-\.]+))([\s>])/g,function(_,b,I,A,P,L,$,ee){return P?'="'+P+'"'+L:_})}).replace(/<\/?([^>]+)>/g,function(f){return f})}(o);for(;o.firstChild;)o.removeChild(o.firstChild);p.each(Lv(n),function(s){o.appendChild(s)})}}},{key:"style",value:function(n,o){var s=this.getEL();if(s)return $h(s,n,o)}},{key:"css",value:function(n){p.each(this,function(o){p.each(n,function(s,u){$h(o,u,s)})})}},{key:"show",value:function(){p.each(this,function(n){n.style.display=""})}},{key:"hide",value:function(){p.each(this,function(n){n.style.display="none"})}}])}();function Ub(r){return p.isString(r)&&(r=p.trim(r))&&r.length>=3&&p.startsWith(r,"<")&&p.endsWith(r,">")}function Vb(r){return(io+r+io).replace(uR,io)}function jb(r){return r.replace(uR,"")}function Gb(r,n){var o=n;return o&&o.isNodeList&&(o=o.getEL()),p.isString(r)?(Ub(r)&&p.error("Err 4002."),new Bb(p.sizzle(r,o))):r.isNodeList?r:new Bb(r)}function W7(r,n){var o=Gb(r,n);return o.length?o.slice(0,1):o}function B7(r){return r instanceof Bb}(aR=self||{}).Map||(aR.Map=function(){this.keys=[],this.data={},this.set=function(r,n){this.data[r]==null&&this.keys.indexOf(r)==-1&&this.keys.push(r),this.data[r]=n},this.get=function(r){return this.data[r]}});var Te=new(he(function r(){de(this,r),ut(this,"__ver",20230516),ut(this,"Events",Gh),ut(this,"EnumMouseButton",Ca),ut(this,"detectButton",zh),ut(this,"getWheelDelta",il),ut(this,"fromUnicode",n7),ut(this,"escapeHtml",i7),ut(this,"escapeRegExp",o7),ut(this,"unEscapeHtml",WD),ut(this,"param",c7),ut(this,"unparam",l7),ut(this,"colorStrToInt",no),ut(this,"IntToColorStr",Oi),ut(this,"currentStyle",u7),ut(this,"parseHTML",Lv),ut(this,"setHtml",Fb),ut(this,"css",wa),ut(this,"style",$h),ut(this,"support",Ia),ut(this,"all",Gb),ut(this,"one",W7),ut(this,"isNodeList",B7),ut(this,"Promise",Pb),ut(this,"nativePromise",Rv),ut(this,"loaderBarClassName",jD),ut(this,"loaderBarSource",Ob),ut(this,"createShowMaskContent",GD),ut(this,"switchEvent",s7),ut(this,"setBackOpacity",QD),ut(this,"showMask",b7),ut(this,"hideMask",T7),ut(this,"dialog",Nb),ut(this,"mask",Ti)})),Jo={getHex:function(r){var n=Number(r).toString(16).toUpperCase();return n.length==1&&(n=["0",n].join("")),n},getColor:function(r){var n,o,s;return s=r>>16,o=(65280&r)>>8,n=255&r,["#",Jo.getHex(s),Jo.getHex(o),Jo.getHex(n)].join("")},RGB2BGR:function(r){return(255&r)<<16|65280&r|r>>16}};Jo.BGR2RGB=Jo.RGB2BGR;var xe=!1,rt=!0,cR=/[#\/\?@]/g,U7=/[#\?]/g,lR={scheme:1,userInfo:2,hostname:3,port:4,path:5},V7=new RegExp("^(?:([\\w\\d+.-]+):)?(?://(?:([^/?#@]*)@)?([\\w\\d\\-\\u0100-\\uffff.+%]*|\\[[^\\]]+\\])(?::([0-9]+))?)?(.+)?$");function zb(r,n){return p.isString(r)&&p.isString(n)?r.toLowerCase()===n.toLowerCase():r===n}function Hb(r,n){return encodeURI(r).replace(n,function(o){return"%"+function(s){return s.length===1?"0"+s:s}(o.charCodeAt(0).toString(16))})}var dR,Mv=function(){function r(n){if(h(this,r),C(this,"scheme",""),C(this,"userInfo",""),C(this,"hostname",""),C(this,"port",""),C(this,"path",""),n instanceof r)return p.clone(n);r.getComponents(n,this)}return y(r,[{key:"clone",value:function(){var n=new r,o=this;return p.each(lR,function(s,u){n[u]=o[u]}),n}},{key:"getScheme",value:function(){return this.scheme}},{key:"setScheme",value:function(n){return this.scheme=n,this}},{key:"getHostname",value:function(){return this.hostname}},{key:"setHostname",value:function(n){return this.hostname=n,this}},{key:"setUserInfo",value:function(n){return this.userInfo=n,this}},{key:"getUserInfo",value:function(){return this.userInfo}},{key:"setPort",value:function(n){return this.port=n,this}},{key:"getPort",value:function(){return this.port}},{key:"setPath",value:function(n){return this.path=n,this}},{key:"getPath",value:function(){return this.path}},{key:"isSameOriginAs",value:function(n){var o=this;return zb(o.hostname,n.hostname)&&zb(o.scheme,n.scheme)&&zb(o.port,n.port)}},{key:"toString",value:function(n){var o,s,u,l,c,f=[],m=this;return(o=m.scheme)&&(f.push(Hb(o,cR)),f.push(":")),(s=m.hostname)&&(f.push("//"),(c=m.userInfo)&&(f.push(Hb(c,cR)),f.push("@")),f.push(encodeURIComponent(s)),(l=m.port)&&(f.push(":"),f.push(l))),(u=m.path)&&(s&&!p.startsWith(u,"/")&&(u="/"+u),f.push(Hb(u,U7))),f.join("")}}],[{key:"getComponents",value:function(n,o){var s=(n=n||pr).match(V7)||[],u=o||{};return p.each(lR,function(l,c){u[c]=s[l]}),u}}])}(),Wv=p.each,ls=p.error,$b=p.isFunction,Kb=p.isString,Yb=ue.bIE&&ue.IEVersion<=9,j7=ue.bIE&&ue.IEVersion<=10,ju=window,Qb=new Mv(location.href),fR=Qb&&/^(?:about|app|app\-storage|.+\-extension|file|widget)$/.test(Qb.getScheme()),G7=!1,Xb=function(){try{return new ju.XMLHttpRequest}catch{}},hR=function(){try{var r=xe;return Wv(["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.3.0","Msxml3.XMLHTTP"],function(n){try{if(!r)return r=new ju.ActiveXObject(n),xe}catch(o){ls("new xhr error: "+o.message)}}),r}catch{}},z7=!(fR||!ju.XMLHttpRequest)&&"withCredentials"in(Xb()||[]),H7=ju.ActiveXObject?function(r){return Yb?hR():!fR&&Xb()||hR()}:Xb,pR=function(r){return G7},$7=/^(?:GET|HEAD)$/,K7=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Jb={xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},qb=dR;j7&&(qb=p.noop);var Y7=function(){function r(){h(this,r),C(this,"url",!1),C(this,"onSuccess",!1),C(this,"onError",!1),C(this,"onComplete",!1),C(this,"method","GET"),C(this,"async",!0),C(this,"xhrFields",!1),C(this,"mimeType",!1),C(this,"username",!1),C(this,"password",!1),C(this,"data",!1),C(this,"dataType","text"),C(this,"headers",!1),C(this,"contentType","application/x-www-form-urlencoded; charset=UTF-8"),C(this,"beforeSend",!1),C(this,"afterSend",!1),C(this,"timeout",0),C(this,"cache",!0),C(this,"crossDomain",!1),C(this,"retry",0)}return y(r,[{key:"setRequestHeader",value:function(n,o){this.headers[n]=o}},{key:"getAllResponseHeaders",value:function(){return this.state===2?this.responseHeadersString:null}},{key:"getNativeXhr",value:function(){return this.nativeXhr}},{key:"getResponseHeader",value:function(n){var o,s;if(n=n.toLowerCase(),this.state===2){if(!(s=this.responseHeaders))for(s=this.responseHeaders={};o=K7.exec(this.responseHeadersString);)s[o[1].toLowerCase()]=o[2];o=s[n]}return o===void 0?null:o}},{key:"overrideMimeType",value:function(n){return this.state||(this.mimeType=n),this}},{key:"abort",value:function(n){return this.state=3,this.status=0,this.statusText=n??"abort",this.nativeXhr&&this.nativeXhr.abort(),this._callback(),this}},{key:"_ioReady",value:function(n,o){var s=!1,u=this;if(this.state!==2&&this.state!==3){this.state===1&&(this.state=2),this.readyState=4,n>=200&&n<300||n===304?n===304?(o="not modified",s=!0):(o="success",s=!0):n<0&&(n=0);try{n>=200&&this.handleResponseData()}catch(l){ls(l,"error"),o=l.message||"parser error"}return(n<200||!s)&&this.retry>0?(this.retry=this.retry-1,void setTimeout(function(){u.sendInternal()},200)):(this.status=n,this.statusText=o,this._callback(s),s)}}},{key:"_callback",value:function(n){var o=this,s=this.timeoutTimer;s&&(clearTimeout(s),this.timeoutTimer=0),Wv([n?this.onSuccess:this.onError,this.onComplete],function(u){$b(u)&&u.apply(o.context,[o.responseData,o.statusText,o])}),this.responseData=null}},{key:"handleResponseData",value:function(){var n,o=this.dataType,s=this.nativeXhr;if(o==="blob"||o==="arraybuffer")if(Yb){var u,l,c;if("responseBody"in s)u=s.responseBody,l=ju.dsVbsBinGetLength(u),n=new ju.VBArray(ju.dsVbsBinGetBytes(u,0,l)).toArray();else for(n=[],l=(u=s.responseText).length,c=0;c<l;++c)n.push(255&u.charCodeAt(c));u=null}else n=ju.Blob?s.response:"responseBody"in s?s.responseBody:s.responseText;else if(o=="json")n=s.responseType&&s.responseType.toLowerCase()=="json"?s.response:s.responseText?p.parse(s.responseText):p.parse(s.response);else if(o==="user-defined")n=s.response!==void 0?s.response:s.responseText;else{this.responseText=n=s.responseText||"";try{var f=s.responseXML;f&&f.documentElement&&(this.responseXML=f)}catch{}}this.responseData=n}},{key:"sendInternal",value:function(n){var o,s,u,l,c,f,m,v,S,_,b,I=this;if(s=(o=this._setup(n)).method,Kb(s)&&(s=s.toUpperCase()),c=o.contentType,u=o.url,l=o.dataType,v=o.mimeType,Kb(u)&&(this.nativeXhr=f=H7(o.crossDomain),f)){try{if(this.state=1,o.username?f.open(s,u,o.async,o.username,o.password):f.open(s,u,o.async),(o.async||ue.bIE)&&l&&l!="user-defined"&&"responseType"in f)try{f.responseType=l}catch{}}catch(A){return void(this.state<2?(ls(A,"error"),this._ioReady(-1,"open error: "+(p.isNumber(A.number)?"("+A.number+")":"")+(A.message||""))):ls(A))}"withCredentials"in(m=o.xhrFields||{})&&(z7||delete m.withCredentials),Wv(m,function(A,P){try{f[P]=A}catch(L){ls(L)}}),v&&f.overrideMimeType&&f.overrideMimeType(v),(S=o.headers||{})["X-Requested-With"]===!1&&delete S["X-Requested-With"],"setRequestHeader"in f&&(c&&f.setRequestHeader("Content-Type",o.contentType),f.setRequestHeader("Accept",l&&Jb[l]?Jb[l]+(l==="*"?"":", */*; q=0.01"):Jb["*"]),Wv(S,function(A,P){f.setRequestHeader(P,A)})),s!="GET"||o.cache||(f.setRequestHeader("If-Modified-Since","0"),f.setRequestHeader("Cache-Control","no-cache")),b=(_=!$7.test(o.method))&&o.data||null,_&&Yb&&(b=o.data),o.async&&o.timeout>0&&(o.timeout<300&&(o.timeout=300),this.timeoutTimer=setTimeout(function(){I.abort("timeout")},o.timeout));try{if(this.state=1,$b(this.beforeSend)&&this.beforeSend(f,I)===!1)return void this.abort("cancel");f.send(b),b=null,o.data=null,$b(this.afterSend)&&this.afterSend(I)}catch(A){this.state<2?(ls(A,"error"),this._ioReady(-1,"send error: "+(A.message||""))):ls(A)}if(!o.async||f.readyState===4)return I._xhrCallback();f.onreadystatechange=function(){I._xhrCallback()}}}},{key:"_xhrCallback",value:function(n,o){var s,u=this.nativeXhr;try{if(u.readyState===4||o)if(pR()||(u.onreadystatechange=qb),o)u.readyState!==4&&u.abort();else{pR()||(this.responseHeadersString=u.getAllResponseHeaders());var l,c=u.status;try{l=u.statusText}catch(f){ls("xhr statusText error: "),ls(f),l=""}s=this._ioReady(c,l)}}catch(f){ls(f,"error"),u.onreadystatechange=qb,o||this._ioReady(-1,f.message||"process error")}return s}},{key:"_setup",value:function(n){var o,s,u,l,c;if(n){for(s in this.context=n.context,delete n.context,n instanceof r&&(n=n.config),this.config=n,l=n.url,p.startsWith(l,"//")&&(n.url=l="http:"+l),(p.startsWith(l,"http://")||p.startsWith(l,"https://"))&&(c=new Mv(l)),o=n.dataType?n.dataType.toLowerCase():"text",n.dataType=o,n.method?n.method=n.method.toUpperCase():n.method="GET",c&&!("crossDomain"in n)&&(n.crossDomain=!c.isSameOriginAs(Qb)),u=n.headers)u[s]===dR&&delete u[s];p.mix(this,n)}return this.state=1,this}},{key:"dispose",value:function(){this.responseHeaders=null,this.responseHeadersString=null,this.responseData=null,this.responseText=null,this.responseXML=null,this.context=null,this.config=null,this.onSuccess=null,this.onError=null,this.onComplete=null,this.xhrFields=null,this.data=null,this.headers=null,this.beforeSend=null,this.afterSend=null}}])}();function Ao(r){if(r&&Kb(r.url)){var n=new Y7;return r.async?(r.async=!0,n.sendInternal(r),n):(r.async=!1,n.sendInternal(r))}p.log("the url is error.")}var Q7="Please make sure the Dynamsoft Service has been installed.",gR="Error: This browser is currently not supported.",X7="Error: Duplicate ContainerId detected while creating a Dynamic Web TWAIN object.",J7="Error: Duplicate WebTwainId detected while creating a Dynamic Web TWAIN object.",q7="Error: The ID of the target DIV for the new DWT object is invalid.",oo="18",Kh="5",Yh="1",Gu="0828",Zb="5",eT="1",Bv="".concat(oo,",").concat(Kh,",").concat(Yh,",").concat(Gu),Z7="".concat(oo,",").concat(Zb,",").concat(eT,",").concat("0828"),tT=parseInt(oo),rT=parseInt(Kh),nT=parseInt(Yh),mR=[tT,rT,nT,Gu],vR=[tT,rT,nT,Gu],_R=[tT,rT,nT,Gu],yR=[1,8,5,Gu],SR=[1,8,5,Gu],bR=[1,8,5,Gu];function TR(){if(!ue.bWin){if(ue.bMac)return vR;if(ue.bLinux)return _R}return mR}function iT(){if(!ue.bWin){if(ue.bMac)return SR;if(ue.bLinux)return bR}return yR}function Uv(){return"dcp/dwasm2_"+bd()}function bd(){return TR().join("")}var CR=ue.bWin,e9=ue.bMac,t9=ue.bLinux,r9=ue.bSafari,n9=ue.bFirefox,i9=ue.bChrome,o9=location.hostname,Ea=location.pathname,oT=0,Vv=ue.bMobile,IR=parseFloat(ue.strBrowserVersion);if(ue.bWin||ue.bMac||ue.bLinux||ue.bChromeOS){if(B.navInfo){var jv=B.navInfo;Vv=Vv||jv.bAndroid||jv.bPad||jv.biPhone||jv.biPad}}else Vv=!0;o9===""?CR&&Ea.lastIndexOf("\\")>1?Ea=Ea.substring(1,Ea.lastIndexOf("\\")).replace(/%20/g," "):(oT=1,Ea=Ea.substring(1,Ea.lastIndexOf("/")).replace(/%20/g," ")):(oT=1,Ea=Ea.substring(0,Ea.lastIndexOf("/")));var Wr={bChrome:i9,bFirefox:n9,bSafari:r9,bIE:ue.bIE,bEdge:ue.bEdge,bWin:CR,bMac:e9,bLinux:t9,iPluginLength:0,bFileSystem:ue.bFileSystem,bMobile:Vv,strIEVersion:ue.IEVersion,strChromeVersion:ue.bChrome?IR:"",strFirefoxVersion:ue.bFirefox?IR:"",basePath:Ea,pathType:oT,isDesktopViewer:function(){return ue.bWin||ue.bLinux||ue.bChromeOS||ue.bMac},isPadViewer:function(){return ue.bPad||ue.biPad},isMobileViewer:function(){return ue.bMobile||ue.biPhone||ue.bAndroid||ue.bHarmonyOS},WSVersion:"18.5.0",WSSession:new Date().getTime(),bDiscardBlankImage:xe};function a9(r){var n=r||{};n.basePath&&(Wr.basePath=n.basePath),n.pathType&&(Wr.pathType=n.pathType),p.isUndefined(n.bDiscardBlankImage)||(Wr.bDiscardBlankImage=n.bDiscardBlankImage),n.msgPrefix&&n.msgPrefix,n.msgSuffix&&n.msgSuffix,n.detectType&&(V.detect.detectType=n.detectType),n.tryTimes&&(V.detect.tryTimes=n.tryTimes);var o=B.DWT.RemoteScanConfig;o||(o={sessionTimeout:300,keepAwake:!0},B.DWT.RemoteScanConfig=o),o.keepAwake===void 0&&(o.keepAwake=!0)}function wR(){return!!p.getWakeLock()}function Gv(r){return ER.apply(this,arguments)}function ER(){return(ER=a(E().mark(function r(n){var o;return E().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(o=p.getWakeLock(),!n){s.next=7;break}if(o!=null){s.next=5;break}return s.next=5,p.toggleWakeLock();case 5:s.next=10;break;case 7:if(!o){s.next=10;break}return s.next=10,p.toggleWakeLock();case 10:case"end":return s.stop()}},r)}))).apply(this,arguments)}function s9(){for(var r,n,o,s=["dynamsoft.webtwain.install.js","dynamsoft.webtwain.viewer.js","dynamsoft.lts.js","dynamsoft.webtwain.viewer.css","dynamsoft.webtwain.css"],u=document.head.childNodes,l=u.length-1;l>=0;l--)if((n=u[l]).tagName=="LINK"?o=n.href:n.tagName=="SCRIPT"&&(o=n.src),o)for(r=0;r<s.length;r++)o.indexOf(s[r])>=0&&n.remove();V.detect.cssLoaded=!1}function AR(r){return xR.apply(this,arguments)}function xR(){return(xR=a(E().mark(function r(n){var o;return E().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n&&((o=document.createElement("style")).innerHTML=['@import url("',ds(),"/src/dynamsoft.webtwain.viewer.css",V.timestamp,'")'].join(""),n.appendChild(o));case 1:case"end":return s.stop()}},r)}))).apply(this,arguments)}function PR(r,n){var o;for(o=0;o<r.length;o++)if(r[o]==n)return!0;return!1}function ds(){var r=Ie.refResourcesPath||null;if(!r){var n,o,s;if(e.CoreModule&&e.CoreModule.engineResourcePaths?(n=e.CoreModule.engineResourcePaths.dwt,o=e.CoreModule.engineResourcePaths.rootDirectory):(s=window)!==null&&s!==void 0&&(s=s.Dynamsoft)!==null&&s!==void 0&&(s=s.Core)!==null&&s!==void 0&&(s=s.CoreModule)!==null&&s!==void 0&&(s=s.engineResourcePaths)!==null&&s!==void 0&&s.dwt&&(n=window.Dynamsoft.Core.CoreModule.engineResourcePaths.dwt,window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory&&(o=window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory)),n&&(p.isString(n)?r=n:p.isString(n.resourcesPath)&&(r=n.resourcesPath),p.isString(r))&&!(p.startsWith(r,"https://")||p.startsWith(r,"http://"))){if(o&&p.isString(o)&&o.length>0){var u="";o.charAt(o.length-1)=="/"||(u="/"),r=[o,u,r].join("")}}p.isString(r)||(r=B.DWT.ResourcesPath||""),!ue.bFileSystem&&(r!==void 0&&r!=""||(r=Wr.basePath||""),r.length>0&&r.charAt(r.length-1)=="/"&&(r=r.substr(0,r.length-1)),Ie.refResourcesPath=r)}return r}var zu=function(r){return r.enumUnknown=-1,r.enumChrome=1,r.enumFirefox=2,r.enumEdge=3,r.enumSafari=4,r.enumIE=5,r.enumOpera=6,r.enumHuaWeiBrowser=7,r}({}),Et=function(r){return r.enumUnknown=-1,r.enumWindow=0,r.enumMac=1,r.enumLinux=2,r.enumEmbed=3,r.enumChromeOS=4,r.enumHarmonyOS=5,r.enumAndroid=6,r.enumiOS=7,r}({});function Qh(){var r,n,o=Ie.refServiceInstallerLocation||null;if(!o){var s;if(e.CoreModule&&e.CoreModule.engineResourcePaths?(r=e.CoreModule.engineResourcePaths.dwt,n=e.CoreModule.engineResourcePaths.rootDirectory):(s=window)!==null&&s!==void 0&&(s=s.Dynamsoft)!==null&&s!==void 0&&(s=s.Core)!==null&&s!==void 0&&(s=s.CoreModule)!==null&&s!==void 0&&(s=s.engineResourcePaths)!==null&&s!==void 0&&s.dwt&&(r=window.Dynamsoft.Core.CoreModule.engineResourcePaths.dwt,window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory&&(n=window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory)),r&&(p.isString(r)||p.isString(r.serviceInstallerLocation)&&(o=r.serviceInstallerLocation),p.isString(o))&&!(p.startsWith(o,"https://")||p.startsWith(o,"http://"))){if(n&&p.isString(n)&&n.length>0){var u="";n.charAt(n.length-1)=="/"||(u="/"),o=[n,u,o].join("")}}if(p.isString(o)||(o=B.DWT.ServiceInstallerLocation||""),p.isString(o)&&o.length>0)o[o.length-1]!="/"&&(o+="/");else{var l=ds();if(p.isString(l)&&l.length>0){var c="";l.charAt(l.length-1)=="/"||(c="/"),o=[l,c,"dist/"].join("")}else o="Resources/dist/"}Ie.refServiceInstallerLocation=o}return o}var Ni={getDSPath:function(r){var n=Qh(),o=r;return o||(o=ue.bWin?".msi":ue.bMac?".pkg":B.navInfo.bArm64?"-arm64.deb":B.navInfo.bMips64?"-mips64el.deb":B.navInfo.bAndroid?".apk":ue.bLinux||ue.bChromeOS||ue.bHarmonyOS?".deb":".msi"),[n,"DynamsoftServiceSetup",o].join("")},getLinuxHTML5DebPath:function(){return Ni.getDSPath(".deb")},getLinuxHTML5RpmPath:function(){return Ni.getDSPath(".rpm")},getEnumPlatform:function(){return ue.bAndroid?Et.enumAndroid:ue.bMac?Et.enumMac:ue.bChromeOS?Et.enumChromeOS:ue.bHarmonyOS?Et.enumHarmonyOS:B.navInfo.bEmbed?Et.enumEmbed:ue.bLinux?Et.enumLinux:ue.biPhone||ue.biPad?Et.enumiOS:Et.enumWindow},getEnumBrowser:function(){return ue.bEdge?zu.enumEdge:ue.bChrome?zu.enumChrome:ue.bFirefox?zu.enumFirefox:ue.bIE?zu.enumIE:ue.bSafari?zu.enumSafari:ue.bHuaWeiBrowser?zu.enumHuaWeiBrowser:ue.bOpera?zu.enumOpera:zu.enumUnknown}},Aa=function(r){return r.NONE=0,r.TRACE=1,r.DEBUG=2,r.INFO=4,r.WARN=8,r.ERROR=16,r}({}),Xh=p.getLogger(),zv=(Y=function(){return y(function r(){h(this,r)},null,[{key:"LogLevel",get:function(){return this._logLevel},set:function(r){this._logLevel=r}},{key:"LogFunc",set:function(r){this._logFunc=r}},{key:"all",value:function(r,n){if((this._logLevel&r)==r)if(this._logFunc)this._logFunc(n,r);else switch(r){case Aa.DEBUG:Xh.debug(n);break;case Aa.ERROR:Xh.error(n);break;case Aa.INFO:Xh.info(n);break;case Aa.WARN:Xh.warn(n);break;case Aa.TRACE:Xh.trace(n)}}},{key:"trace",value:function(r){this.all(Aa.TRACE,r)}},{key:"debug",value:function(r){this.all(Aa.DEBUG,r)}},{key:"info",value:function(r){this.all(Aa.INFO,r)}},{key:"warn",value:function(r){this.all(Aa.WARN,r)}},{key:"error",value:function(r){this.all(Aa.ERROR,r)}}])}(),C(Y,"_logLevel",Aa.ERROR),C(Y,"_logFunc",void 0),Y);function vr(r){var n;window.console&&(r instanceof Error||p.isString(r)?(n=r,B.navInfoSync.bIE&&(n=p.stringify(r))):n=p.stringify(r),window.console.error(n))}var kR,Jh="127.0.0.1";ue.bAndroid&&ue.bSSL&&(Jh="local.dynamsoft.com"),kR=eT.toLowerCase()=="0"?"Dynamic Web TWAIN "+[oo,Zb].join("."):"Dynamic Web TWAIN "+[oo,Zb,eT].join(".");var xo={JSVersion:Z7,ServerVersionInfo:Bv,ServerLinuxVersionInfo:Bv,ServerMacVersionInfo:Bv,ServerAndroidVersionInfo:Bv,ActiveXVersion:"18,0,0,1025",ActiveXPdfVersion:"11.5.2.0312",PdfVersion:"11.5.2.0312",PdfLinuxVersion:"11.5.2.0312",PdfMacVersion:"11.5.2.0312"},u9={ProductName:kR,Containers:void 0,ContainerMap:{},WebTwainIdMap:{},RemoteScanIdMap:{},Trial:!1,ResourcesPath:"Resources",Debug:!1,IfUpdateService:!1,AutoLoad:!0,ReConnectToService:!0,OnWebTwainReady:!1,OnWebTwainError:function(r){vr(r)},OnWebTwainNotFound:!1,OnWebTwainOldPluginNotAllowed:!1,OnWebTwainNeedUpgrade:!1,OnWebTwainNeedUpgradeWebJavascript:!1,OnWebTwainInitMessage:!1,ViewerJSIntegerited:!0,ActiveXInstallWithCAB:!1,IfUseActiveXForIE10Plus:!1,IfUseEmbeddedDownloadNoticeForActiveX:!1,IfCheckDCP:!1,IfDisableDefaultSettings:!1,OnWebTwainWillInit:!1,IfAddMD5InUploadHeader:!1,IfAlwaysFocusOnPopupWindow:!0,IfConfineMaskWithinTheViewer:!1,fetchOptions:{mode:"cors",credentials:"same-origin"},HideTrialMessage:!1,CheckCertExpired:!0,ConnectWithSocket:!1,SSLPort:18623,Port:18622,showLoadingMsgDialog:!0,licenseServer:void 0,sessionPassword:void 0,organizationID:void 0,handshakeCode:void 0,UseDefaultViewer:!0,Host:Jh,DeviceFriendlyName:"",LocalHosts:["127.0.0.1","localhost","local.dynamsoftwebtwain.com","local.dynamsoft.com"],IfCheckCORS:!1,IfCheckCert:!0,IfChromeExtension:!1,IfLoadResources:!0,IfResourcesAddTimestamp:!0,IfCheckCssFiles:!0};function si(){var r=B.DWT.Host;return p.isString(r)&&r!=""||(B.DWT.Host=r=Jh),r}function c9(){var r=300,n=B.DWT.RemoteScanConfig;return n&&p.isNumber(n.sessionTimeout)&&n.sessionTimeout>0&&(r=n.sessionTimeout),r}var aT={URL:"",UpdateDaysBeforeExpired:30},Hv=!0,sT=!1,Hu=ue.bHTML5Edition,uT=0,$v=sT;ue.bIE&&((uT=ue.IEVersion)===""||uT>=10?B.DWT.IfUseActiveXForIE10Plus?(Hu=sT,$v=Hv,ue.bHTML5Edition=Hu):Hu=Hv:(Hu=sT,uT>=9&&($v=Hv))),$v||Hu||(Hu=Hv);var Pt={SSLPort:18626,Port:18625,bEnhancedMode:!1,oldDWASMVerStr:"dwasm_13000404",oldDWASMVer:[13,0,0,"0404"],wsProtocol:"dwt_command",managerVersion:mR,managerVersionMac:vR,managerVersionLinux:_R,serviceVersion:yR,serviceVersionMac:SR,serviceVersionLinux:bR,detect:{dcpStatus:0,ddmPort:0,dwtPort:0,dwtSSLPort:0,bConnected:!1,connectedResult:"",MaxManagerModuleConnectCount:1,EnumDCP_DetectStatus:{Init:0,Connected:1,CheckingManagerVer:15,CheckingServiceVer:16,NotInstalled:17,CheckedService:5,VerifyingZip:6,VerifiedZip:7,UpdatingService:8,UpdateSucceed:9,UpdateFailed:10,UpdateSkipped:11}},strSID:"",b64bit:!0,objEnhancedPorts:{}},Ie={name:"Dynamic Web TWAIN",bHTML5Edition:Hu,bActiveXEdition:$v,_iImageCaptureDriverType:3,_iBrokerProcessType:1,getChromeEditionPath:Ni.getDSPath,getPKGPath:function(){return Qh()+"DynamicWebTWAINMacEdition.pkg"},getMSIPath:function(){return Qh()+"DynamicWebTWAINPlugIn.msi"},getActiveXCABx86Path:function(){return Qh()+"DynamicWebTWAIN.cab"},getActiveXCABx64Path:function(){return Qh()+"DynamicWebTWAINx64.cab"},onlineResources:"https://demo.dynamsoft.com/DWT/Resources/",strMIMEType:"Application/DynamicWebTwain-Plugin",strFullClassID:"E7DA7F8D-27AB-4EE9-8FC0-3FEC9ECFE758",scripts:{},dwtConfigLoaded:!1,dwtConfigLoading:!1,getServerVersionInfo:function(r){var n=xo.ServerVersionInfo;return ue.bWin||(ue.bMac?n=xo.ServerMacVersionInfo:ue.bAndroid?n=xo.ServerAndroidVersionInfo:(ue.bLinux||ue.bChromeOS||ue.bHarmonyOS)&&(n=xo.ServerLinuxVersionInfo)),r?n:p.replaceAll(n,",","")},getDWTPrefix:function(){return B.DWT.CustomMode===!0?"dwtc_":"dwt_"},loadResourcePath:!1,loadingResourcePath:!1,handshakeCode:void 0,organizationID:void 0,licenseServer:void 0,sessionPassword:"",bPublicLTS:!0,refProductKey:void 0,ltsDebug:!1,bDWTLoading:!1,bDWTUnloading:!1,bAndroidConnected:!1,unloadQueue:[],appendBrowserLicenseWhenServiceMode:function(){},bDCPChecked:!1,bDWTChecked:!1,bUseDynamsoftLicenseManager:!1,bChromeEdition:Hu},Or={bFullEdition:!1,getVersionStrForCheck:function(){return"".concat(oo,"000000")},versionInfoFromServer:"",hostForCheckCert:Jh,RemoteReconnectMaxTimes:200,RemoteReconnectTimeSpan:5e3,LocalReconnectMaxTimes:60,LocaleReconnectTimeSpan:3e3,HttpConnectTimeout:ue.bSSL?3e3:1e3,WebsocketConnectTimeout:ue.bSSL?1e3:600};function qh(){return Ie.HttpConnectTimeout}function cT(){return Ie.WebSocketConnectTimeout}function ui(){return Ie.bUseDynamsoftLicenseManager?p.isString(Ie.refProductKey)&&(p.startsWith(Ie.refProductKey,"DLS2")||Ie.refProductKey===""):p.isString(Ie.handshakeCode)||p.isString(Ie.organizationID)||Ie.bPublicLTS||p.isString(B.DWT.ProductKey)&&p.startsWith(B.DWT.ProductKey,"DLS2")}function ao(r){if(r===void 0)return!0;var n;if(r){for(n=0;n<B.DWT.LocalHosts.length;n++)if(r===B.DWT.LocalHosts[n])return!0}return!1}function DR(r){return r.indexOf("text/json")!=-1||r.indexOf("application/json")!=-1}function ol(r){return r==="text/json"||r==="application/json"}var Xn=function(r){return r.LicenseInvalid=-2325,r.LicenseExpired=-2326,r.LicenseParseFailed=-2546,r.LicenseExpiredForDLS=-2808,r.LicenseNoCoreForDLS=-2809,r.LicenseNoCore=-2810,r.LicenseIsFuture=-2396,r.LicenseVersionNotCurrent=-2539,r}({});function Fe(r,n,o){r._errorCode=n,r._errorString=o}function zr(r){var n=B.DWT.licenseException;n.code=r._errorCode,n.message=r._errorString,n.fromLTS=!1}function On(){return B.DWT.IfChromeExtension?"":"Please contact the site administrator."}B.DWT.EnumDWT_LicenseErrorCode=Xn;var lT,Zh,kt=function(r){return r.UserCancelled=-1032,r.CORSErrorFromService=-2137,r.CommonError=-2201,r.ModuleNotExists=-2371,r.MustUpgrade=-2207,r.RemoteDynamsoftServiceStopped=-2613,r.ResponseDataTypeError=-2801,r.HTSTError=-2817,r.SSLCertExpired=-2818,r.SSLCertInvalid=-2819,r.CORSError=-2820,r.DWTPortNotReady=-2821,r.HTTPRedirected=-2823,r.BboError=-2827,r.HTTPServerError=-2842,r}({});function Ot(r){Fe(r,-1033,"Invalid index.")}function Vn(r){Fe(r,-1034,"Invalid value.")}function Nn(r){Fe(r,-1035,"There is no image.")}function RR(r){Fe(r,-1110,"Unrecognized file extension.")}function FR(r){Fe(r,-2007,"The system is busy, some operations are not completed. Please try later.")}function Td(r,n){var o=n?["[",n,"]"].join(""):"your device";Fe(r,kt.MustUpgrade,"The Dynamsoft Service installed on "+o+" is outdated and no longer works with the JavaScript code on the website.")}function ep(r){Fe(r,-2209,"The HTML5 edition does not support this method or property.")}function dT(r){Fe(r,-2300,"Http upload error: the HTTP Server name/ip cannot be empty.")}function Kv(r){Fe(r,-2301,"Network error.")}function fT(r){Fe(r,-2302,"The result format is invalid.")}function hT(r,n,o,s){if(n)ko(r);else if(r._errorCode=-2003,s&&s>0||o){var u=["HTTP process error: "];o&&(o.indexOf("HTTP process error: ")>=0&&(u=[""]),u.push(o)),s&&s>0&&(u.push(" ("+s+")"),s>=300&&(r._errorCode=kt.HTTPServerError));var l=u.toString().lastIndexOf(".");l>=0&&l==u.toString().length-1?r._errorString=u.join(""):r._errorString=u.join("")+"."}else r._errorString="HTTP process error."}function OR(r){Fe(r,-2304,"Http download error: the url is invalid.")}function NR(r,n,o,s){if(n)Fe(r,-2305,"User cancelled the operation.");else if(r._errorCode=-2003,s&&s>0||o){var u=["HTTP put error: "];o&&(o.indexOf("HTTP put error: ")>=0&&(u=[""]),u.push(o)),s&&s>=300&&(r._errorCode=kt.HTTPServerError);var l=u.toString().lastIndexOf(".");l>=0&&l==u.toString().length-1?r._errorString=u.join(""):r._errorString=u.join("")+"."}else r._errorString="HTTP put error."}function pT(r,n,o,s){if(n)Fe(r,-2305,"User cancelled the operation.");else if(r._errorCode=-2003,s&&s>0||o){var u=["HTTP process error: "];o&&(o.indexOf("HTTP process error: ")>=0&&(u=[""]),u.push(o));var l=u.toString().lastIndexOf(".");l>=0&&l==u.toString().length-1?r._errorString=u.join(""):r._errorString=u.join("")+"."}else r._errorString="HTTP process error."}function an(r){Fe(r,-2306,"Upload Error: the upload file cannot be empty.")}function LR(r){Fe(r,-2307,"The width or height you entered is invalid.")}function fs(r){Fe(r,-2313,"The size of the images you are about to upload has exceeded the limit.")}function ci(r){Fe(r,-2314,"The parameter cannot be empty.")}function al(r){Fe(r,-2320,"Invalid file.")}function Po(r){Fe(r,Xn.LicenseInvalid,ui()?"The license is invalid.":"The current product key is empty or invalid."),zr(r)}function MR(r,n){r._errorCode=Xn.LicenseExpired;var o="";if(n&&n!=""&&(n.indexOf("on")==-1&&(o=" on "+n),r.__licenseInfo&&(r.__licenseInfo.ExpireDate=n)),ui()){var s,u,l,c;s=B.DWT.lgdt(),r._bRemoteMode?u=(l=(c=r._dmService)===null||c===void 0||(c=c.attrs)===null||c===void 0?void 0:c.UUID)!==null&&l!==void 0?l:"":u="",r._errorString="The license has expired"+o+". Please contact the application developer.",B.DWT.lcexp(s,u).then(function(){r._errorString=B.DWT.licenseException.message})}else r._errorString="The current product key has expired"+o+". Please contact the application developer.",zr(r)}function tp(r,n){ui()?n==111?(r._errorCode=Xn.LicenseExpiredForDLS,r._errorString="The license for v"+oo+" Service Core Module has expired."):(r._errorCode=Xn.LicenseNoCoreForDLS,r._errorString="The license for v"+oo+" Service Core Module is not found."):(r._errorCode=Xn.LicenseNoCore,r._errorString="The product key for the current operating system is missing the Service Core license. "+On()),zr(r)}function Cd(r){r._errorCode=-2339,ui()?r._errorString="The license for the module pdf rasterizer is not found or has expired.":r._errorString="The current product key does not support pdf rasterizer. "+On(),zr(r)}function Id(r){Fe(r,-2351,"You cannot upload more than one image when the format is BMP, JPG or PNG")}function WR(r){Fe(r,-2352,"The indices are out of range.")}function l9(r){Fe(r,-2353,"The header name being used is a protected keyword and is not allowed.")}function wd(r){Fe(r,-2358,"The type of the parameter indices must be an Array.")}function qe(r){Fe(r,-2359,"The index is out of range.")}function BR(r){Fe(r,-2360,"The index is null or undefined.")}function Li(r){Fe(r,-2362,"The image type is not supported.")}function UR(r){Fe(r,-2363,"The data format is not supported.")}function rp(r){Fe(r,-2365,"The url is invalid.")}function gT(r){Fe(r,-2376,"The generate url failed.")}function Yv(r){Fe(r,-2377,"Failed to set Image Capture Driver Type.")}function VR(r){Fe(r,-2391,"Invalid event name.")}function jR(r){Fe(r,-2393,"Failed to convert the data to blob.")}function GR(r){Fe(r,-2399,"Invalid imageId.")}function $t(r){Fe(r,-2416,"Invalid parameter.")}function d9(r){Fe(r,-2426,"You have used a full license with a trial license which is not permitted. Please check and update Dynamsoft.DWT.ProductKey.")}function zR(r){Fe(r,-2510,"The callback is not a function.")}function HR(r){Fe(r,-2513,"The WebTwain instance has been destroyed and can not be used anymore.")}function mT(r){Fe(r,-2530,"Document name cannot be empty.")}function np(r){Fe(r,-2531,"Document name is not a string.")}function Qv(r){Fe(r,-2548,"You cannot call this function when Dynamsoft.DWT.UseDefaultViewer is set to false.")}function vT(r){Fe(r,-2549,"You cannot call this function when there is no ui binding.")}function sn(r){Fe(r,0,"")}function $R(r){var n=r;return n||(n="[]"),{code:-2601,message:"Failed to connect to the Dynamsoft Service on "+n+". Please make sure Dynamsoft Service is running or the certificate is valid."}}function KR(r){var n;return r._bRemoteMode?$R((n=r._dmService)===null||n===void 0||(n=n.attrs)===null||n===void 0?void 0:n.name).message:"The Dynamsoft Service has been stopped."}function YR(r){Fe(r,-2607,"The device selected was not found under the current service object.")}function _T(r){Fe(r,-2608,"IfShowFileDialog cannot be set to true when Object is created by CreateRemoteScanObjectAsync.")}function sl(r,n){p.isString(n)&&n!=""?Fe(r,kt.RemoteDynamsoftServiceStopped,"The Dynamsoft Service on ["+n+"] has been stopped."):Fe(r,-2308,"The Dynamsoft Service has been stopped.")}function ko(r){Fe(r,-2615,"User cancelled the operation.")}function f9(r){Fe(r,-2616,"Invalid image format type.")}function h9(r){Fe(r,-2618,"Only single index selection is allowed when enumImageType is set to BMP, JPG or PNG.")}function so(r){Fe(r,-2620,"The RemoteScan object has been disposed.")}function QR(r){Fe(r,-2621,"Dynamsoft.DWT.Containers was not set.")}function XR(r){Fe(r,-2622,'Please do not set enumImageType to "IT_MULTIPAGE_PDF", "IT_MULTIPAGE_TIF" or "IT_ALL".')}function p9(r){Fe(r,-2624,"The element within Dynamsoft.DWT.Containers should be a valid object.")}function ip(r){Fe(r,-2800,Q7)}function Mi(r){Fe(r,kt.ResponseDataTypeError,"Invalid response data was returned from the Dynamsoft Service.")}function JR(r){return{code:-2807,message:'Error: The element specified by the id "'+r+`" doesn't exist.`}}function g9(r,n){Fe(r,-2811,n)}function qR(r){Fe(r,-2812,J7)}function ZR(r){Fe(r,-2815,X7)}function eF(r,n,o){Fe(r,-2816,["HTTP process error: ",o," (",n,")."].join(""))}function tF(){return{code:kt.HTSTError,message:"The Connection from the insecure (HTTP) web page failed for HTST."}}function yT(){return{code:kt.DWTPortNotReady,message:"The Dynamsoft Service is not ready, please try again later."}}function m9(r){return{code:-2826,message:"Failed to connect the Dynamsoft Service on ["+r+"]."}}function ST(r){Fe(r,-2828,"Invalid PDF Convert Mode Value.")}function v9(r){Fe(r,-2848,"The capability value is out of range.")}function rF(r){Fe(r,-2854,"The imageId does not exist.")}function _9(r){Fe(r,-2855,"The blob cannot be empty.")}function y9(r){Fe(r,-2857,"Invalid blob value.")}function Xv(r){Fe(r,-2901,"Source document does not exist. Please check the document name or create the document before performing this operation.")}function Jv(r){Fe(r,-2902,"Target document does not exist. Please check the document name or create the document before performing this operation.")}function bT(r){Fe(r,-2906,"After initialization, the product key cannot be changed.")}var nF=ue.bIE&&ue.IEVersion<=9;lT=self&&self.fetch?self.fetch:window.fetch;var qv=0;function TT(r,n){var o,s=!1;return qv=n,lT?o=function(u,l){var c=!1,f="text",m=!1;if(l&&(l.dataType&&(f=l.dataType),l.fetchRaw&&(m=!0),l.timeout)){var v=l.timeout;v<300&&(v=300);var S=new AbortController;l.signal=S.signal,setTimeout(function(){c||S.abort("timeout")},v)}s=!1;var _=lT(u,l).then(function(b){if(b.ok){var I,A;if(c=!0,!r)return b;if(r.__clickCancel)return r.__clickCancel=!1,r.__cancelBeforObjectCreated=!1,s=!0,b;r.IfShowCancelDialogWhenImageTransfer?(Xs(!0),A=r.on("cancel",function(){s=!0})):Xs(!1);var P=b.headers.get("Content-Length"),L=0;r._onPercent&&qv==n&&r._onPercent({loaded:L,total:P});var $=b==null||(I=b.body)===null||I===void 0?void 0:I.getReader(),ee=new ReadableStream({start:function(J){var te=function(){return $.read().then(function(H){if(H.done||s)return s?$.cancel():A&&r.off("cancel",A),J.close(),void(A=null);var k=H.value;L+=k.length,r._onPercent&&qv==n&&r._onPercent({loaded:L,total:P});try{return J.enqueue(k),te()}catch(M){p.error(M)}})};$?setTimeout(te,0):J.close()}}),q=b.headers.get("Content-Type");return q&&q!=""||(q="application/octet-stream"),new Response(ee,{headers:{"Content-Type":q}})}if(b.type=="opaqueredirect")throw{code:kt.HTTPRedirected,message:"The http url redirected."};var Q;throw eF(Q={},b.status,b.statusText),{code:Q._errorCode,message:Q._errorString,httpCode:b.status}});return m?_:(_=f=="blob"?_.then(function(b){var I=b.headers.get("content-type");return ol(I)?b.json():ue.bLinux?b.arrayBuffer().then(function(A){return new Blob([A],{type:I})}):b.blob()}):f=="json"?_.then(function(b){return b.json()}):f=="arraybuffer"?_.then(function(b){return ol(b.headers.get("content-type"))?b.json():b.arrayBuffer()}):_.then(function(b){return b.text()})).then(function(b){var I;if(s)throw ko(I={}),{code:I._errorCode,message:I._errorString};return b})}:(nF&&p.addVBS([`Function dsVbsBinGetAt(strBinary,iOffset)\r
`,` dsVbsBinGetAt=AscB(MidB(strBinary,iOffset+1,1))\r
`,`End Function\r
`,`Function dsVbsBinGetBytes(strBinary,iOffset,iLength)\r
`,` Dim aBytes()\r
`,` ReDim aBytes(iLength-1)\r
`,` For i=0 To iLength-1\r
`,`  aBytes(i)=dsVbsBinGetAt(strBinary,iOffset+i)\r
`,` Next\r
`,` dsVbsBinGetBytes=aBytes\r
`,`End Function\r
`,`Function dsVbsBinGetLength(strBinary)\r
`,` dsVbsBinGetLength=LenB(strBinary)\r
`,"End Function"].join("")),o=function(u,l){return new(V.nativePromise||window.Promise)(function(c,f){var m,v=!1;m={url:u,async:!0,onSuccess:function(_,b,I){var A=!1;if(I.responseHeadersString&&DR(I.responseHeadersString)&&(p.isArray(_)||_ instanceof ArrayBuffer)&&(A=!0),A){var P=_;_ instanceof ArrayBuffer&&(P=new Uint8Array(_));var L=String.fromCharCode.apply(null,P);c(L)}else c(_)},onError:function(_,b,I){var A;eF(A={},I.status,b),f({code:A._errorCode,message:A._errorString,httpCode:I.status})},dataType:"text",method:Zh,data:Zh,headers:Zh,contentType:Zh,mimeType:Zh},l&&(l.method&&(m.method=l.method),l.body&&(m.data=l.body),l.headers&&(m.headers||(m.headers={}),p.each(l.headers,function(_,b){b.toLowerCase()=="content-type"&&(v=!0),m.headers[b]=_})),l.dataType&&(m.dataType=l.dataType),l.contentType&&(m.contentType=l.contentType),p.isNumber(l.timeout)&&l.timeout>0&&(m.timeout=l.timeout)),v&&(m.contentType=!1),m.dataType=="blob"&&nF&&(m.mimeType="text/plain; charset=x-user-defined"),r&&(r._onPercent&&(m.beforeSend=function(_,b,I){_.upload.addEventListener("progress",function(A){r._onPercent&&qv==n&&r._onPercent(A)},!1)}),r.IfShowCancelDialogWhenImageTransfer?Xs(!0):Xs(!1));var S=Ao(m);r&&r.IfShowCancelDialogWhenImageTransfer&&r.on("cancel",function(){S.abort()})})}),o}var Ed=TT(null,0);function Xs(r){var n=p.sizzle(".dynamsoft-btnCancel");if(n.length>0){var o=n[0];o.style.display=r?"":"none"}}String.prototype.startsWith||(String.prototype.startsWith=function(r){return this.indexOf(r)==0});var iF=function(r){var n,o=r,s=o._license||"",u=JSON.parse(JSON.stringify(o._licenseServer)),l=o._sessionPassword,c=0;if(s.startsWith("t")||s.startsWith("f"))c=0;else if(s.length===0||s.startsWith("P")||s.startsWith("L")||s.startsWith("Y")||s.startsWith("A"))c=1;else{c=2;var f=s.indexOf(":");if(f!=-1&&(s=s.substring(f+1)),s.startsWith("DLS2")){var m;try{var v=s.substring(4);v=K.Lib.atob(v),m=JSON.parse(v)}catch{throw new Error("Format Error: The license string you specified is invalid, please check to make sure it is correct.")}if(typeof(s=m.handshakeCode?m.handshakeCode:m.organizationID?m.organizationID:"")=="number"&&(s=JSON.stringify(s)),u.length===0){var S=[];m.mainServerURL&&(S[0]=m.mainServerURL),m.standbyServerURL&&(S[1]=m.standbyServerURL),u=function(_){if(_==null)_=[];else{_ instanceof Array||(_=[_]);for(var b=0;b<_.length;++b){if(document&&document.createElement){var I=document.createElement("a");I.href=_[b],_[b]=I.href}_[b].lastIndexOf("/")!=_[b].length-1&&(_[b]+="/")}}return _}(S)}!l&&m.sessionPassword&&(l=m.sessionPassword),n=m.remark}s&&s!=="200001"&&!s.startsWith("200001-")||(c=1)}return c===1&&(s=""),{lt:c,l:s,ls:u,sp:l,rmk:n}},ul=y(function r(n,o,s,u,l){h(this,r),this.server=n,this.port=o,this.ssl=s,this.useWS=u,this.protocol=l});function oF(r,n){return(r==null?void 0:r.port)==(n==null?void 0:n.port)&&(r==null?void 0:r.protocol)==(n==null?void 0:n.protocol)&&(r==null?void 0:r.server)==(n==null?void 0:n.server)&&(r==null?void 0:r.ssl)==(n==null?void 0:n.ssl)&&(r==null?void 0:r.useWS)==(n==null?void 0:n.useWS)}var xa=function(r){return r.OK=0,r.Custom=-1,r.NWB=-4200,r.WS_DISCONN=-4201,r.CB=-5e3,r.JSON_REQUIRED=-5001,r.OBJECT_DISPOSED=-5002,r.INVALID_TASK=-5003,r.OBJECT_DISPOSING=-5004,r}({}),op=function(r){return r.WS_DISCONN="The Web Socket connection failed.",r.JSON_REQUIRED="The input is not a JSON object or JSON styled string.",r.OBJECT_DISPOSED="The object has been disposed.",r.INVALID_TASK="The task is invalid.",r.OBJECT_DISPOSING="The object need to be disposed.",r}({}),CT=function(){return y(function r(){h(this,r)},null,[{key:"message",value:function(r){return this._errorMessage[r]}},{key:"init",value:function(){this._errorMessage[xa.OK]="Successful.",this._errorMessage[xa.WS_DISCONN]=op.WS_DISCONN,this._errorMessage[xa.JSON_REQUIRED]=op.JSON_REQUIRED,this._errorMessage[xa.OBJECT_DISPOSED]=op.OBJECT_DISPOSED,this._errorMessage[xa.INVALID_TASK]=op.INVALID_TASK,this._errorMessage[xa.OBJECT_DISPOSING]=op.OBJECT_DISPOSING}}])}();C(CT,"_errorMessage",Object.create(null)),CT.init();var Do=function(){return y(function r(n,o){h(this,r),C(this,"_code",xa.OK),this.name="DSError",this.message=o??(typeof n=="string"?n:CT.message(n)),this._code=typeof n=="string"?xa.Custom:n},[{key:"code",get:function(){return this._code}}])}();function rr(r){return{code:r._errorCode,message:r._errorString}}function uo(r){return"exception"in r&&"description"in r&&r.exception!=0&&r.description!=""}function aF(r){return r==-1416}var Br=function(r){return r.GET_TASKID=0,r.GET_EVENT_TASKID=1,r.ONMESSAGE_PROCESS_DATA=2,r.ONMESSAGE_GET_TASKID=3,r.ONMESSAGE_GET_EVENT_TASKID=4,r.HANDLE_RAW_MESSAGE=5,r.HANDLE_PROCESSED_MESSAGE=6,r}({}),sF=function(){return y(function s(u){h(this,s),C(this,"_serverInfo",void 0),C(this,"_disposed",!1),this._serverInfo=u,this._ref=1},[{key:"serverInfo",get:function(){return this._serverInfo}},{key:"requestSync",value:function(s,u){return zv.error("requestSync should be implemented in child class"),void 0}},{key:"request",value:function(s,u,l,c){return zv.error("request should be implemented in child class"),Promise.resolve(null)}},{key:"send",value:(o=a(E().mark(function s(u,l,c){return E().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:zv.error("reqsenduestSync should be implemented in child class");case 1:case"end":return f.stop()}},s)})),function(s,u,l){return o.apply(this,arguments)})},{key:"testConnection",value:function(s,u,l,c){return zv.error("testConnection should be implemented in child class"),Promise.resolve(null)}},{key:"disposed",get:function(){return this._disposed}},{key:"dispose",value:(n=a(E().mark(function s(){return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this._ref--,!(this._ref>0)){u.next=3;break}return u.abrupt("return",!1);case 3:return this._disposed=!0,u.next=6,this._terminate();case 6:case"end":return u.stop()}},s,this)})),function(){return n.apply(this,arguments)})},{key:"_terminate",value:(r=a(E().mark(function s(){return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:case"end":return u.stop()}},s)})),function(){return r.apply(this,arguments)})},{key:"addRef",value:function(){this._ref++}}]);var r,n,o}();function S9(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function IT(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var Zv,uF=p.getLogger(),e_=new WeakSet,b9=function(r){function n(){var s;h(this,n);for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];return S9(s=d(this,n,[].concat(l)),e_),s}return F(n,r),y(n,[{key:"send",value:(o=a(E().mark(function s(u,l,c){return E().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:uF.error("HTTP Client send not supported");case 1:case"end":return f.stop()}},s)})),function(s,u,l){return o.apply(this,arguments)})},{key:"requestSync",value:function(s,u,l){}},{key:"request",value:function(s,u,l,c){return IT(e_,this,cF).call(this,s,u,l,void 0,void 0,c)}},{key:"testConnection",value:function(s,u,l,c){return IT(e_,this,cF).call(this,void 0,void 0,s,u,l,c)}}]);var o}(sF);function T9(r){var n=this.serverInfo,o="";return o=n.ssl?"https://":"http://",o+=n.server,n.port&&(o+=":",o+=n.port),r&&(p.startsWith(r,"/")||p.endsWith(o,"/")||(o+="/"),p.endsWith(r,"/")?o+=r.slice(0,-1):o+=r),o}function cF(r,n,o,s,u,l){return wT.apply(this,arguments)}function wT(){return wT=a(E().mark(function r(n,o,s,u,l,c){var f,m;return E().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,f=s??{},n&&(f.body=n),f.method||(f.method="POST"),c&&(f.timeout=c),m=IT(e_,this,T9).call(this,o),uF.debug("HTTP URL: "+m),v.next=9,Ed(m,f);case 9:return v.abrupt("return",v.sent);case 12:if(v.prev=12,v.t0=v.catch(0),!(v.t0 instanceof Do||v.t0&&v.t0.code&&v.t0.message)){v.next=18;break}throw v.t0;case 18:if(!v.t0.message){v.next=20;break}throw new Do(v.t0.message);case 20:case"end":return v.stop()}},r,this,[[0,12]])})),wT.apply(this,arguments)}function C9(r){try{return D(r)==="object"?r:(r=typeof r!="string"?p.stringify(r):r,p.parse(r))}catch(n){throw n instanceof Do?n:new Do(xa.JSON_REQUIRED)}}function ap(r){return Math.random().toString(16).substring(2,2+r)}function I9(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function sp(r,n,o){return(n=function(s){var u=function(l,c){if(D(l)!="object"||!l)return l;var f=l[Symbol.toPrimitive];if(f!==void 0){var m=f.call(l,c||"default");if(D(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}(s,"string");return D(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function hs(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var t_,lF,li=p.getLogger(),Pa=new WeakSet,ET=function(r){function n(l){var c;return h(this,n),I9(c=d(this,n,[l]),Pa),sp(c,"_defaultRetries",1),sp(c,"_ws",t_),sp(c,"_events",{}),sp(c,"_bHeartBeatStarted",!1),sp(c,"_heartBeatTicks",6e4),c._ws=t_,c.bUseParentWS=!1,c._tasks=Object.create(null),c.bReady=!1,c._blob_callbacks=[],c._processing_blob=!1,c}return F(n,r),y(n,[{key:"ws",get:function(){return this._ws}},{key:"requestSync",value:function(l,c,f){return li.error("WebSocket Client requestSync not supported"),void 0}},{key:"send",value:(u=a(E().mark(function l(c,f,m){var v,S,_,b;return E().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(v=m.client,I.prev=1,(S=m.taskId)!==void 0){I.next=7;break}return I.next=6,f(c,Br.GET_TASKID,v._requestTaskId,m);case 6:S=I.sent;case 7:if(_=v._tasks[S]){I.next=11;break}throw li.error("invalid task id: "+S),new Do(xa.INVALID_TASK);case 11:return I.next=13,hs(Pa,v,PT).call(v,!1);case 13:return I.next=15,hs(Pa,v,dF).call(v,c,f,m,_);case 15:li.debug("begin to send data "+S),v.disposed||v._ws.send(c),c=null,li.debug("end to send data "+S),I.next=27;break;case 21:I.prev=21,I.t0=I.catch(1),li.debug("failed to send data."),li.error(I.t0),delete v._tasks[S],(b=_)===null||b===void 0||(b=b.resolver)===null||b===void 0||b.reject(I.t0.message);case 27:case"end":return I.stop()}},l,null,[[1,21]])})),function(l,c,f){return u.apply(this,arguments)})},{key:"request",value:function(l,c,f,m){var v=this._defaultRetries,S=c??hs(Pa,this,x9),_=f??{client:this,userData:this};return hs(Pa,this,P9).call(this,l,S,_,v,!1,void 0,m)}},{key:"connected",get:function(){var l;return((l=this._ws)===null||l===void 0?void 0:l.readyState)==WebSocket.OPEN}},{key:"testConnection",value:function(l,c,f,m){return hs(Pa,this,PT).call(this,!0,c??0,f,m)}},{key:"_terminate",value:(s=a(E().mark(function l(){var c,f;return E().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:for(f in li.debug("terminate WSClient"),this.fireEvent("disposed"),c=!1,this._tasks)this._tasks[f]!==void 0&&this._tasks[f].resolver&&(c=!0);if(this._lic_callback=t_,this._blob_callbacks=[],this._processing_blob=!1,this._ws&&(this._ws.onopen=null,this._ws.onerror=null,this._ws.onmessage=null,this._ws.onclose=null,this._ws.close()),this._ws=t_,this._tasks=Object.create(null),!c){m.next=12;break}throw new Do(xa.OBJECT_DISPOSING);case 12:case"end":return m.stop()}},l,this)})),function(){return s.apply(this,arguments)})},{key:"setRetry",value:function(l){this._defaultRetries=l??1}},{key:"addEvent",value:function(l,c,f){var m=this._events[l];m||(this._events[l]={},m=this._events[l]),p.isString(c)&&p.isFunction(f)&&(m[c]=f)}},{key:"removeEvent",value:function(l,c){var f=this._events[l];f&&p.isString(c)&&delete f[c]}},{key:"clearEvent",value:function(l){this._events[l]&&(this._events[l]={})}},{key:"fireEvent",value:function(l){var c,f=this._events[l];if(f){var m=Object.keys(f);for(c=0;c<m.length;c++)p.isFunction(f[m[c]])&&f[m[c]]()}}},{key:"getRequestTaskId",value:function(){return this._requestTaskId?this._requestTaskId:0}}],[{key:"_waitForPreBlob",value:(o=a(E().mark(function l(c){return E().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!c._processing_blob){f.next=3;break}return setTimeout(function(){n._waitForPreBlob(c)},500),f.abrupt("return");case 3:n._preBlobResolv&&n._preBlobResolv();case 4:case"end":return f.stop()}},l)})),function(l){return o.apply(this,arguments)})}]);var o,s,u}(sF);function w9(r){var n="";return n=r.ssl?"wss://":"ws://",n+=r.server,r.port&&(n+=":",n+=r.port),n}function E9(r,n,o,s){var u=this;return new V.Promise(function(l,c){try{var f,m,v=c,S=l;if(s&&(m=setTimeout(function(){var A=new Do("createWebSocket timed out.");li.debug(A.message),v&&(v(A),v=null,S=null),m&&clearTimeout(m),f&&f.close()},s)),r.bUseParentWS){var _=window,b=parent,I=_.WebSocket;try{for(;_!=b&&b&&b.WebSocket;)I=b.WebSocket,_=b.window,b=b.parent}catch{I=window.WebSocket}f=o?new I(n,o):new I(n)}else f=o?new WebSocket(n,o):new WebSocket(n);f.onopen=function(){m&&clearTimeout(m),r._ws=f,S&&(S(f),v=null,S=null)},f.onerror=function(A){f.close(),r.bReady=!1,m&&clearTimeout(m),u.fireEvent("error"),v&&(v(new Do("websocket error")),v=null,S=null)},f.onmessage=function(A){hs(Pa,r,A9).call(r,r,A.data)},f.onclose=function(A){r.bReady=!1,m&&clearTimeout(m),u.fireEvent("close"),v&&(A&&A.code==1006?v(new Do("websocket error")):v(A),v=null,S=null)}}catch(A){if(A instanceof Do||A&&A.code&&A.message)throw A;if(A.message)throw new Do(A.message)}})}function A9(r,n){return AT.apply(this,arguments)}function AT(){return AT=a(E().mark(function r(n,o){var s,u,l,c,f,m,v,S,_;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(s=n,b.prev=1,c={client:s,userData:void 0},D(o)!=="object"){b.next=17;break}if(!(s._blob_callbacks.length>0)){b.next=17;break}if(!s._processing_blob){b.next=9;break}return b.next=8,new V.Promise(function(I){Zv._preBlobResolv=I,Zv._waitForPreBlob(s)});case 8:Zv._preBlobResolv=null;case 9:return s._processing_blob=!0,f=s._blob_callbacks.shift(),b.next=13,f(o);case 13:return b.sent,s._processing_blob=!1,b.abrupt("return");case 17:if(!(s.bReady&&p.isString(o)&&(o.indexOf("Function not found")>0||o.indexOf("Version not found")>0))){b.next=19;break}return b.abrupt("return");case 19:if(s._cbToGetTaskId){b.next=21;break}return b.abrupt("return");case 21:return b.next=23,s._cbToGetTaskId(o,Br.ONMESSAGE_PROCESS_DATA,s._requestTaskId,c);case 23:return m=b.sent,v=!1,b.next=27,s._cbToGetTaskId(m,Br.ONMESSAGE_GET_TASKID,s._requestTaskId,c);case 27:if(l=b.sent){b.next=36;break}if(!m.Detail||!m.Domain){b.next=32;break}return s._lic_callback&&s._lic_callback(m),b.abrupt("return");case 32:return b.next=34,s._cbToGetTaskId(m,Br.ONMESSAGE_GET_EVENT_TASKID,s._requestTaskId,c);case 34:(l=b.sent)&&(v=!0);case 36:if(u=s._tasks[l]){b.next=46;break}if(!v){b.next=42;break}u={},b.next=44;break;case 42:return l!=""&&li.log("invalid task id: "+l),b.abrupt("return");case 44:b.next=48;break;case 46:if(!u.timedout){b.next=48;break}return b.abrupt("return");case 48:return b.next=50,s._cbToGetTaskId(o,Br.HANDLE_RAW_MESSAGE,s._requestTaskId,u.ctx);case 50:if((S=b.sent)!==void 0){b.next=55;break}return b.next=54,s._cbToGetTaskId(m,Br.HANDLE_PROCESSED_MESSAGE,s._requestTaskId,u.ctx);case 54:S=b.sent;case 55:S&&!v&&(u.tmid&&clearTimeout(u.tmid),delete s._tasks[l],u.resolver&&u.resolver.resolve(S)),b.next=64;break;case 58:b.prev=58,b.t0=b.catch(1),li.debug("failed to handle message."),b.t0 instanceof Error?li.error(b.t0):li.error(p.stringify(b.t0)),delete s._tasks[l],(_=u)===null||_===void 0||(_=_.resolver)===null||_===void 0||_.reject(b.t0.message);case 64:case"end":return b.stop()}},r,null,[[1,58]])})),AT.apply(this,arguments)}function x9(r,n,o){return xT.apply(this,arguments)}function xT(){return xT=a(E().mark(function r(n,o,s){var u,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:c.t0=o,c.next=c.t0===Br.GET_TASKID?3:c.t0===Br.HANDLE_RAW_MESSAGE?7:9;break;case 3:return(l=C9(n)).cmdId=(u=l.cmdId)!==null&&u!==void 0?u:(f=void 0,m=void 0,m=[ap(8),"-",ap(4),"-",ap(4),"-",ap(4),"-",ap(8)],f&&m.unshift(f),m.join("")),V.Promise.resolve(["cmdId"]),c.abrupt("break",9);case 7:return V.Promise.resolve(n),c.abrupt("break",9);case 9:case"end":return c.stop()}var f,m},r)})),xT.apply(this,arguments)}function PT(r,n,o,s){return kT.apply(this,arguments)}function kT(){return kT=a(E().mark(function r(n,o,s,u){var l,c,f,m;return E().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!this.connected&&!this.disposed){v.next=2;break}return v.abrupt("return");case 2:if(!(f=this)._connectPromise){v.next=7;break}return v.next=6,f._connectPromise;case 6:return v.abrupt("return");case 7:return o=(l=o)!==null&&l!==void 0?l:this._defaultRetries,s=(c=s)!==null&&c!==void 0?c:100,m=hs(Pa,f,w9).call(f,f.serverInfo),li.debug("WebSocket URL: "+m+", try to create websocket "+o+"/"+s),f._connectPromise=new V.Promise(function(S,_){var b=function(A){hs(Pa,f,E9).call(f,f,m,f.serverInfo.protocol,u).then(function(P){S(P)}).catch(function(P){li.debug("create websocket failed: "+P.message),A<o?I(A):_(P)})};function I(A,P,L){setTimeout(function(){b(++A)},s)}b(0)}),v.prev=12,v.next=15,f._connectPromise;case 15:v.next=20;break;case 17:throw v.prev=17,v.t0=v.catch(12),v.t0;case 20:return v.prev=20,f._connectPromise=null,v.finish(20);case 23:case"end":return v.stop()}},r,this,[[12,17,20,23]])})),kT.apply(this,arguments)}function dF(r,n,o,s){return DT.apply(this,arguments)}function DT(){return DT=a(E().mark(function r(n,o,s,u){var l,c,f,m;return E().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(l=this,c=s.eventTaskId,f=s.lastEventTaskId,c!==void 0){v.next=7;break}return v.next=6,o(n,Br.GET_EVENT_TASKID,l._requestTaskId,s);case 6:c=v.sent;case 7:c&&(l._tasks[c]?s&&s.userData&&s.userData.command&&((m=l._tasks[c]).ctx=s,f&&((m=l._tasks[f]).ctx=s)):(m={id:u.id,resolver:null,ctx:s,timedout:!1},l._tasks[c]=m,f&&(l._tasks[f]=m)));case 8:case"end":return v.stop()}},r,this)})),DT.apply(this,arguments)}function P9(r,n,o,s,u,l,c){return RT.apply(this,arguments)}function RT(){return RT=a(E().mark(function r(n,o,s,u,l,c,f){var m,v,S,_;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return m=this,b.prev=1,s.client=m,b.next=5,hs(Pa,m,PT).call(m,l,u,c,f);case 5:if((v=s.taskId)!="0"){b.next=12;break}return m.disposed||m._ws.send(n),n=null,b.abrupt("return");case 12:if(v!==void 0){b.next=16;break}return b.next=15,o(n,Br.GET_TASKID,null,s);case 15:v=b.sent;case 16:return v===void 0&&li.debug("websocket send: task id is invalid."),(S={}).promise=new V.Promise(function(I,A){S.resolve=I,S.reject=A}),_={id:v,resolver:S,ctx:s,timedout:!1},m._tasks[v]=_,m._requestTaskId=v,b.next=24,hs(Pa,m,dF).call(m,n,o,s,_);case 24:return m._cbToGetTaskId=o,f&&(_.tmid=setTimeout(function(){li.debug("ws request time out."),_.timedout=!0,_.resolver.reject("request timed out.")},f)),m.disposed||m._ws.send(n),li.debug("end to send task "+v),n=null,b.abrupt("return",S.promise);case 32:if(b.prev=32,b.t0=b.catch(1),v&&delete m._tasks[v],!(b.t0 instanceof Do||b.t0&&b.t0.code&&b.t0.message)){b.next=39;break}throw b.t0;case 39:if(!b.t0.message){b.next=41;break}throw new Do(b.t0.message);case 41:return b.prev=41,n=null,b.finish(41);case 44:case"end":return b.stop()}},r,this,[[1,32,41,44]])})),RT.apply(this,arguments)}function k9(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function FT(r,n,o){return(n=function(s){var u=function(l,c){if(D(l)!="object"||!l)return l;var f=l[Symbol.toPrimitive];if(f!==void 0){var m=f.call(l,c||"default");if(D(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}(s,"string");return D(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function fF(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}Zv=ET;var OT=new WeakSet,ps=function(){function r(){h(this,r),k9(this,OT),FT(this,"_maxWebSocketCon",10),FT(this,"_wsClients",[])}return y(r,[{key:"removeTerminatedWSClient",value:function(){this._wsClients=this._wsClients.filter(function(o){return!o.disposed})}},{key:"getClient",value:function(o,s){return o.useWS?fF(OT,this,R9).call(this,o,s):new b9(o)}},{key:"closeClient",value:(n=a(E().mark(function o(s){var u,l,c,f;return E().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:u=this._wsClients,l=T(u),m.prev=2,l.s();case 4:if((c=l.n()).done){m.next=12;break}if(!oF((f=c.value).serverInfo,s)){m.next=10;break}if(f.disposed){m.next=10;break}return m.next=10,f.dispose();case 10:m.next=4;break;case 12:m.next=17;break;case 14:m.prev=14,m.t0=m.catch(2),l.e(m.t0);case 17:return m.prev=17,l.f(),m.finish(17);case 20:this.removeTerminatedWSClient();case 21:case"end":return m.stop()}},o,this,[[2,14,17,20]])})),function(o){return n.apply(this,arguments)})},{key:"terminate",value:function(){var o=this._wsClients.slice();this._wsClients=[],o.forEach(function(s){s.dispose()})}}],[{key:"Instance",get:function(){return this._gClientPool||(this._gClientPool=new r),this._gClientPool}}]);var n}();function D9(r){this.removeTerminatedWSClient();var n,o=T(this._wsClients);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(oF(s.serverInfo,r)&&!s.disposed)return s.addRef(),s}}catch(u){o.e(u)}finally{o.f()}return null}function R9(r,n){var o;return n||(o=fF(OT,this,D9).call(this,r)),o||(this._wsClients.length<this._maxWebSocketCon?((o=new ET(r)).addEvent("disposed","1",function(){lF.Instance.removeTerminatedWSClient()}),this._wsClients.push(o),o):null)}lF=ps,FT(ps,"_gClientPool",null);var Js=function(){function r(){h(this,r)}return y(r,null,[{key:"getHttpClientForDcp",value:function(n,o){var s,u=B.dcp,l=V.detect.ssl;if(o||!ue.bSSL?(s=u.Port,l=!1):(s=u.SSLPort,l=!0),p.isString(n)){var c=new ul;return p.startsWith(n,"https://")?(c.ssl=!0,c.server=n.substring(8)):p.startsWith(n,"http://")?(c.ssl=!1,c.server=n.substring(7)):(c.ssl=V.detect.ssl,c.server=n),ps.Instance.getClient(c)}return r.getHttpClient(null,s,l)}},{key:"getHttpClient",value:function(n,o,s){var u=s?"https":"http",l=new ul(n||si(),o,s,!1,u);return ps.Instance.getClient(l)}},{key:"getWsClient",value:function(n,o,s,u){var l=new ul(n||si(),o,s,!0,Pt.wsProtocol);return ps.Instance.getClient(l,u)}},{key:"closeWsClient",value:function(n,o,s){var u=new ul(n||si(),o,s,!0,Pt.wsProtocol);return ps.Instance.closeClient(u)}}])}();V.ClientPool=ps;var F9=parseInt(oo),O9=parseInt(Kh),N9=parseInt(Yh),hF="ddm/",qs="ddm_"+[F9,O9,N9,Gu].join("");function pF(){return hF+qs}function L9(r){return gF.apply(this,arguments)}function gF(){return(gF=a(E().mark(function r(n){var o,s,u,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=qh(),s=[pF(),"/VersionInfo?","ts=",p.now()].join(""),u=['{"id":"',p.guid(),'","method":"VersionInfo"}'].join(""),l=Js.getHttpClientForDcp(n),c.abrupt("return",l.request(u,s,{dataType:"json"},o));case 4:case"end":return c.stop()}},r)}))).apply(this,arguments)}function Nr(r){p.log(r)}var mF="All scripts and css loaded.",vF="Getting the WebTwain port...",_F="The WebTwain version not compatible.",yF="Decoding the license...",SF="Checking the license...",gr=function(r){return r.CM_RENDERALL=1,r.CM_IMAGEONLY=2,r.CM_AUTO=3,r.CM_RENDERALLWITHANNOTATION=4,r}({});function M9(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function W9(r,n,o){return(n=function(s){var u=function(l,c){if(D(l)!="object"||!l)return l;var f=l[Symbol.toPrimitive];if(f!==void 0){var m=f.call(l,c||"default");if(D(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}(s,"string");return D(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function co(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var bF=oo+".",B9=parseInt(oo),U9=0,V9=1,j9=2,G9=3,z9=4,H9=7,$9=8,K9=9,Y9=10,Q9=50,X9=51,J9=52;function Ad(r){return p.isString(r)?p.trim(r):r}var Wi=new WeakSet,q9=function(){return y(function n(){h(this,n),M9(this,Wi),W9(this,"isLTS",ui)},[{key:"isLongKey",value:function(n){if(p.isString(n)&&n.length>0){var o=n.charAt(0);if(o=="f"||o=="t")return!0;if(p.startsWith(n,"DLS")||p.isNumber(n))return!1;var s=parseInt(n)+"-";return!p.startsWith(n,s)}return!1}},{key:"isLicenseMixed",value:function(n,o){var s,u=!1,l=n||B.DWT.ProductKey;if(B.DWT.lclex(),o&&(Ad(B.DWT.organizationID)||Ad(B.DWT.handshakeCode))&&l&&(u=!0,Fe(s={},-2444,"A license can only be specified once and has already been set using the ProductKey API.")),!u&&p.isString(l)&&(l=p.trim(l),!(p.startsWith(l,"f")||p.startsWith(l,"t")))){if(l!="")if(p.startsWith(l,"DLS2"))try{co(Wi,this,Z9).call(this,l)}catch(f){u=!0,Fe(s={},-2440,""),s._errorString=f.message}else co(Wi,this,TF).call(this,l).LTS||(u=!0,function(f){Fe(f,Xn.LicenseParseFailed,"The license is invalid.")}(s={}))}if(u&&s){zr(s);var c=B.DWT.licenseException;p.error(c.message)}return u}},{key:"getLicenseFromDynamsoftCore",value:function(){var n,o,s=null;if(e.mapPackageRegister&&e.mapPackageRegister.license)s=(o=e.mapPackageRegister.license.LicenseManager)===null||o===void 0?void 0:o.license;else if((n=window)!==null&&n!==void 0&&(n=n.Dynamsoft)!==null&&n!==void 0&&(n=n.Core)!==null&&n!==void 0&&(n=n.mapPackageRegister)!==null&&n!==void 0&&n.license){var u;s=(u=window.Dynamsoft.Core.mapPackageRegister.license.LicenseManager)===null||u===void 0?void 0:u.license}if(s!==null){if(s==="")return"";if(p.isString(s))return s=p.trim(s)}return null}},{key:"_initAR",value:function(n){var o,s;n&&(n.pk||(o=n.ar,s=n.u,o&&s&&(Ie.bUseDynamsoftLicenseManager=!0,B.DWT.lsdt(B.DWT.EnumInstance.dwt_browser),B.DWT.lsmid(s,""),B.DWT.lsar(o,""))))}},{key:"preParseProductKey",value:(r=a(E().mark(function n(o){var s,u,l,c;return E().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(s=null,u=!1,s=this.getLicenseFromDynamsoftCore(),!p.isString(s)){f.next=32;break}if(s===""||!this.isLongKey(s)){f.next=8;break}return this.isLicenseMixed(s,!1)||(this._innerResetLicense(),Ie.bPublicLTS=!1,Ie.refProductKey=s),f.abrupt("return");case 8:if(!e.mapPackageRegister||!e.mapPackageRegister.license){f.next=14;break}return f.next=11,e.mapPackageRegister.license.getAR();case 11:c=f.sent,f.next=18;break;case 14:if((l=window)===null||l===void 0||(l=l.Dynamsoft)===null||l===void 0||(l=l.Core)===null||l===void 0||(l=l.mapPackageRegister)===null||l===void 0||!l.license){f.next=18;break}return f.next=17,window.Dynamsoft.Core.mapPackageRegister.license.getAR();case 17:c=f.sent;case 18:if(!c){f.next=32;break}if(this._initAR(c),s!==""){f.next=26;break}return this._innerResetLicense(),Ie.refProductKey="",Ie.bPublicLTS=!0,Ie.handshakeCode="200001",f.abrupt("return");case 26:if(!c.pk){f.next=31;break}return this.isLicenseMixed(c.pk,!1)||(this._innerResetLicense(),Ie.bPublicLTS=!1,Ie.refProductKey=c.pk),f.abrupt("return");case 31:Ie.refProductKey!==s&&(u=!0);case 32:!u&&this.isLicenseMixed(null,!0)||this.reparseProductKey(o);case 33:case"end":return f.stop()}},n,this)})),function(n){return r.apply(this,arguments)})},{key:"reparseProductKey",value:function(n){n&&Nr("Parsing Product Key...");var o=this.getLicenseFromDynamsoftCore(),s=!1;if(o===null||o===""){var u=Ad(B.DWT.organizationID),l=Ad(B.DWT.handshakeCode),c=u||l;if(o=p.trim(B.DWT.ProductKey),!c){var f=co(Wi,this,TF).call(this,o);f.LTS&&(l=Ad(f.handshakeCode),c=(u=Ad(f.organizationID))||l)}if(c)return this._innerResetLicense(),p.isNumber(o)&&(u=o),Ie.handshakeCode=l,Ie.organizationID=u,Ie.licenseServer=B.DWT.licenseServer,Ie.sessionPassword=B.DWT.sessionPassword,void(Ie.bPublicLTS=co(Wi,this,CF).call(this,Ie.licenseServer,c))}if(Ie.refProductKey!==o&&(this._innerResetLicense(),p.isString(o)&&o.length>0&&(Ie.refProductKey=o,s=!0)),s)if(this.isLongKey(Ie.refProductKey))Ie.bPublicLTS=!1;else{var m,v={_pLoad:{isEmpty:rt},_license:Ie.refProductKey,_licenseServer:[]};try{m=iF(v)}catch(_){p.error(_),m=!1}if(m&&p.isString(m.l)){var S=p.trim(m.l);S==""?(S="200001",Ie.organizationID=S,Ie.handshakeCode=S):(S.indexOf("-")!=-1||(Ie.organizationID=S),Ie.handshakeCode=S),p.isArray(m.ls)&&m.ls.length>0&&(Ie.licenseServer=m.ls),Ie.bPublicLTS=co(Wi,this,CF).call(this,Ie.licenseServer,S),Ie.sessionPassword=m.sp}else Ie.bPublicLTS=!1,m&&p.isNumber(m.l)&&(Ie.handshakeCode=""+m.l)}}},{key:"_innerResetLicense",value:function(){Ie.refProductKey="",Ie.handshakeCode=void 0,Ie.organizationID=void 0,Ie.licenseServer=void 0,Ie.sessionPassword="",Ie.bPublicLTS=!0}},{key:"checkOSForAllowCore",value:function(n,o,s){if(Ie.bHTML5Edition){if(n)return co(Wi,this,IF).call(this,o);var u=s._bRemoteMode,l=s.__serverPlatform;return this.isOSOK(o,u,l)}return rt}},{key:"checkLocalPlatformForRemoteService",value:function(n){var o,s,u,l=n.__licenseInfo,c=Ni.getEnumPlatform(),f=!1;for(o=0;o<l.Detail.length&&(s=l.Detail[o],!((u=co(Wi,this,NT).call(this,s.EnumLicenseType,s.LicenseType)).Core&&p.isString(s.Version)&&s.Version.indexOf(bF)==0&&((f=co(Wi,this,IF).call(this,s.OS))||(f=this.isOSOK(s.OS,!0,c))||!n._blts&&n._bScanForProxyRemote&&u.RemoteScan)));o++);return f||(c==Et.enumWindow?function(m){Fe(m,-2344,"The current product key does not support Windows OS. "+On()),zr(m)}(n):c==Et.enumLinux?function(m){Fe(m,-2346,"The current product key does not support Linux OS. "+On()),zr(m)}(n):c==Et.enumMac?function(m){Fe(m,-2345,"The current product key does not support MAC OS. "+On()),zr(m)}(n):function(m){Fe(m,-2347,"The current product key does not support your OS. "+On()),zr(m)}(n)),f}},{key:"checkProductKey",value:function(n,o,s){var u,l=B.DWT.licenseException;return!o.Camera&&(n.__licenseInfo||(n.__licenseInfo={}),(u=co(Wi,this,t$).call(this,n,n.__licenseInfo,xe,o,s))||(l.code=n._errorCode,l.message=n._getErrorString(),l.fromLTS=!1),u)}},{key:"isBindDomainOK",value:function(n){if(p.isUndefined(n)||n==null||n==""||n=="*"||n=="*.*")return rt;var o=location.hostname,s=xe;if(o=="")return rt;for(var u=o.toLowerCase().split("."),l=u.length,c=n.toLowerCase().split(";"),f=0;f<c.length;f++){var m=c[f];if(m=="*.*"){s=rt;break}var v=m.split("."),S=v.length;if(S>0&&S-1<=l){for(var _=rt,b=S-1;b>0;b--){if(v[b].indexOf("*")>-1){s=rt;break}if(b+l-S>=0){if(u[b+l-S]!=v[b]){_=xe;break}}else if(v[b]!="*"){_=xe;break}}if(_&&(v[0]=="*"||l>=S&&u[l-S]==v[0])){s=rt;break}}}return s}},{key:"isExpiredOrFuture",value:function(n,o){if(n=="")return xe;if(!o){var s=n.length;if(s>2&&n[s-2]=="/"&&n[s-1]=="0")return xe}var u=xd(n),l=new Date().getTime(),c=l+5184e6;return u.getTime()<l||o&&u.getTime()>c?rt:xe}},{key:"willTrialExpire",value:function(n){if(n=="")return xe;var o=xd(n),s=new Date().getTime();return o.getTime()<s+432e6&&o.getTime()>s?rt:xe}},{key:"isOSOK",value:function(n,o,s){var u=!1,l=!1,c=!1,f=!1,m=!1,v=!1,S=!1,_=!1;return n==""||n=="0"?rt:(o?s==Et.enumWindow?c=!0:s==Et.enumLinux?l=!0:s==Et.enumMac?u=!0:s==Et.enumEmbed?m=!0:s==Et.enumChromeOS?v=!0:s==Et.enumAndroid?S=!0:s==Et.enumHarmonyOS?_=!0:s==Et.enumiOS&&(f=!0):(u=ue.bMac,l=ue.bLinux,c=ue.bWin,f=ue.biPhone||ue.biPad,v=ue.bChromeOS,m=B.navInfo.bEmbed,S=ue.bAndroid,_=ue.bHarmonyOS),(n=n.toLowerCase()).indexOf("windows")>-1&&c||n.indexOf("mac")>-1&&u||n.indexOf("linux")>-1&&(l||v||_)||n.indexOf("android")>-1&&S||n.indexOf("ios")>-1&&f||n.indexOf("embed")>-1&&m?rt:xe)}},{key:"isBrowserOK",value:function(n){if(p.isString(n)){if(n==""||n=="0")return rt;var o=(n=n.toLowerCase()).split(";"),s=xe;return p.each(o,function(u){(p.trim(u)=="chrome"&&(ue.bChrome||ue.bSafari||ue.bOpera||ue.bEdge)||p.trim(u)=="ie"&&ue.bIE||p.trim(u)=="firefox"&&ue.bFirefox)&&(s=rt)}),s}return xe}},{key:"isAllowLicenseType",value:function(n,o){return o.Core?n.Core:o.PDFRasterizer?n.PDFRasterizer:o.Webcam||o.Camera?n.Webcam:o.barcode1D?n.barcode1D:o.QR?n.QR:o.PDF417?n.PDF417:o.DataMatrix?n.DataMatrix:o.OCR?n.OCR:o.OCRPro?n.OCRPro:n.Core}},{key:"setNoAllowedLicenseTypeError",value:function(n,o,s){s.Core?tp(n):s.Webcam||s.Camera?o||s.Camera?function(u){u._errorCode=-2431,ui()?u._errorString="The license for the Camera Addon is not found or has expired.":Fe(u,-2431,"The current product key does not support Camera Addon. "+On()),zr(u)}(n):function(u){u._errorCode=-2338,ui()?u._errorString="The license for the module direct show is not found or has expired.":u._errorString="The current product key does not support Webcam. "+On(),zr(u)}(n):s.PDFRasterizer?o?function(u){u._errorCode=-2370,ui()?u._errorString="The license for the module pdf rasterizer is not found or has expired.":u._errorString="The current product key does not support Pdf Rasterizer Wasm. "+On(),zr(u)}(n):Cd(n):s.OCR?function(u){u._errorCode=-2340,ui()?u._errorString="The license for the module ocr is not found or has expired.":u._errorString="The current product key does not support OCR. "+On(),zr(u)}(n):s.OCRPro?function(u){u._errorCode=-2341,ui()?u._errorString="The license for the module ocr pro is not found or has expired.":u._errorString="The current product key does not support OCR pro. "+On(),zr(u)}(n):Po(n)}},{key:"getLicenseDateString",value:function(n){var o,s=n.getFullYear();return[(o=n.getMonth()+1)>=10?""+o:"0"+o,"/",n.getDate()>=10?""+n.getDate():"0"+n.getDate(),"/",s].join("")}},{key:"hasPDFRProductKey",value:function(n){return!!this.checkProductKey(n,{PDFRasterizer:!0},!0)||(n._resetErr(),!1)}},{key:"checkPDFProductKeyWhenNeeds",value:function(n,o){var s;return(o==B.DWT.EnumDWT_ImageType.IT_PDF||o==B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF)&&(Ie.bHTML5Edition?n.__addon&&n.__addon.PDF&&(s=n._getConvertMode()):n.Addon&&n.Addon.PDF&&(s=n._getConvertMode()),s==gr.CM_RENDERALL||s==gr.CM_RENDERALLWITHANNOTATION)?this.checkProductKey(n,{PDFRasterizer:!0},!0):rt}},{key:"getPublicLicenseContent",value:function(n){var o=[],s=n;if(!p.isString(s)){if(p.isUndefined(s))return"";s=s instanceof Error||"message"in s?s.message:""+s}var u=s.indexOf("["),l=s.indexOf("]",u),c=s.indexOf("(",l),f=s.indexOf(")",c);if(u==-1||l==-1||c==-1||f==-1)return s;u>0&&o.push(s.substring(0,u));var m=s.substring(u+1,l),v=s.substring(c+1,f);return o.push(['<a href="',v,'" target="_blank" class="dynamsoft-major-color">',m,"</a>"].join("")),o.push(s.substring(f+1)),o.join("")}},{key:"getLTSLicense",value:function(){return Ie.bPublicLTS?"":Ie.handshakeCode||Ie.organizationID}}]);var r}();function TF(r){var n,o,s=r,u=r.indexOf("-"),l=u!=-1;return o={},l&&(s=r.substring(0,u)),n=Number(s),isNaN(n)||String(Number(n))!==s||(l?o.handshakeCode=r:o.organizationID=r,o.LTS=rt),o}function Z9(r){iF({_pLoad:{isEmpty:rt},_license:r,_licenseServer:[]})}function CF(r,n){var o=!0;if(p.isArray(r)&&r.length>0){var s=r[0];p.isString(s)&&s!=""&&new Mv(s).getHostname()!=="mlts.dynamsoft.com"&&(o=!1)}return o&&(!n||n==="200001"||p.startsWith(n,"200001-"))}function e$(r,n,o){return this.checkOSForAllowCore(r,n,o)}function t$(r,n,o,s,u){var l,c=!1;if(Ie.bHTML5Edition&&p.isFunction(r._needCheckProxyRemoteScanLicense)&&(c=r._needCheckProxyRemoteScanLicense()),n&&n.LTS){if(!n||!p.isArray(n.Detail)||n.Detail.length==0)return this.isLTS()?tp(r):Po(r),xe}else if(!n||!p.isArray(n.Detail)||n.Detail.length==0)return this.isLTS()?tp(r):Po(r),xe;var f,m,v,S,_=0,b=0,I=[],A=[],P=xe,L=xe,$=xe,ee=xe,q=xe;if(!this.isBindDomainOK(n.Domain))return function(se){Fe(se,-2342,"The domain of your current site does not match the domain bound in the current product key. "+On()),zr(se)}(r),xe;for(n.Detail.length>0&&(l=(v=n.Detail[0]).Trial!="FALSE"),m=1;m<n.Detail.length;m++)if((v=n.Detail[m]).Trial=="FALSE"&&l||v.Trial=="TRUE"&&!l)return d9(r),xe;if(n.bTrial=l,s.Core||s.Webcam){var Q=[],J=!1;for(m=0;m<n.Detail.length;m++)if(v=n.Detail[m],S=co(Wi,this,NT).call(this,v.EnumLicenseType,v.LicenseType),s.Core&&S.Core&&this.checkOSForAllowCore(o,v.OS,r)||s.Core&&S.Core&&Ie.bActiveXEdition&&S.ActiveX||s.Webcam&&S.Webcam&&!o){if(!n.LTS){if(!p.isString(v.Version)||v.Version.indexOf(bF)!=0){Q.push(v);continue}}if(Ie.bHTML5Edition){if(S.ActiveX&&!S.Html5||c&&!S.RemoteScan)continue;A.push(v)}else{if(!S.ActiveX&&S.Html5)continue;A.push(v)}J=!0}if(!J&&Q.length>0)return Q.splice(0),function(se,re){var ae=On();Fe(se,Xn.LicenseVersionNotCurrent,"The current product key is not for version ".concat(re,". ").concat(ae)),zr(se)}(r,Yh.toString()=="0"?[oo,Kh].join("."):[oo,Kh,Yh].join(".")),!1;Q.splice(0)}else A=n.Detail;for(m=0;m<A.length;m++){var te=rt;if(v=A[m],S=co(Wi,this,NT).call(this,v.EnumLicenseType,v.LicenseType),s.Core&&S.Core||this.isAllowLicenseType(S,s)){f=v.ExpireDate.replace(/-/g,"/");var H=v.Trial!="FALSE";if(this.isExpiredOrFuture(f,H))I.push(f);else if(H&&S.Core&&this.willTrialExpire(f)&&(n.ExpireDate=f),n.LTS||S.Core&&Ie.bHTML5Edition&&parseInt(v.Version)>=B9||S.Core&&Ie.bActiveXEdition||!S.Core){var k=!1;if(S.Core)(this.checkOSForAllowCore(o,v.OS,r)||Ie.bActiveXEdition&&S.ActiveX)&&(k=!0);else{var M=o;s.Camera&&(M=!0),co(Wi,this,e$).call(this,M,v.OS,r)&&(k=!0)}k?this.isBrowserOK(v.Browser)||u?(_++,te=xe):L=rt:s.Core?P=rt:s.PDFRasterizer?ee=rt:(s.Webcam||s.Camera)&&(q=rt)}else $=rt;te&&b++}}if(_>0)return rt;if(b==0)return this.setNoAllowedLicenseTypeError(r,o,s),xe;if(I.length>0){var U,G=0,z=1e20,Z="",ie=new Date().getTime();for(f="",m=0;m<I.length;m++)(U=xd(I[m])).getTime()<ie&&U.getTime()>G?(G=U.getTime(),f=I[m]):U.getTime()>ie&&U.getTime()<z&&(z=U.getTime(),Z=I[m]);return f!=""?(U=xd(f),MR(r,f=this.getLicenseDateString(U))):Z!=""?(U=xd(Z),Z=this.getLicenseDateString(U),function(se){Fe(se,Xn.LicenseIsFuture,"The current product key is invalid. "+On()),zr(se)}(r)):MR(r,""),xe}return $?(function(se){Fe(se,-2348,"The current product key is invalid because it's generated with the licenses of a different major version."),zr(se)}(r),xe):L?(ue.bEdge?function(se){Fe(se,-2330,"The current product key does not support Edge. "+On()),zr(se)}(r):ue.bChrome?function(se){Fe(se,-2327,"The current product key does not support Chrome. "+On()),zr(se)}(r):ue.bFirefox?function(se){Fe(se,-2328,"The current product key does not support Firefox. "+On()),zr(se)}(r):ue.bIE?function(se){Fe(se,-2329,"The current product key does not support IE. "+On()),zr(se)}(r):ue.bSafari?function(se){Fe(se,-2392,"The current product key does not support Safari. "+On()),zr(se)}(r):function(se){Fe(se,-2343,"The current product key does not support your browser. "+On()),zr(se)}(r),xe):P?(this.setNoAllowedLicenseTypeError(r,o,{Core:!0}),xe):ee?(this.setNoAllowedLicenseTypeError(r,o,{PDFRasterizer:!0}),xe):q?(this.setNoAllowedLicenseTypeError(r,o,{Webcam:!0}),xe):(Po(r),xe)}function r$(r){var n=xe,o=xe,s=xe,u=xe,l=xe,c=xe,f=xe,m=xe,v=xe;return p.isString(r)&&r!=""&&p.each(r.split(";"),function(S){var _=1*S;_==j9||_==G9||_==U9||_==V9?n=rt:_==z9?o=rt:_==Q9?s=rt:_==X9?u=rt:_==J9?l=rt:_==H9?c=rt:_==$9?f=rt:_==K9?m=rt:_==Y9&&(v=rt)}),{Core:n,PDFRasterizer:m,Webcam:f,barcode1D:o,QR:s,PDF417:u,DataMatrix:l,OCR:c,OCRPro:v}}function NT(r,n){var o=co(Wi,this,r$).call(this,r),s=co(Wi,this,n$).call(this,n);return p.each(["Core","Html5","RemoteScan","LocalScan","ActiveX","PDFRasterizer","Webcam","barcode1D","QR","PDF417","DataMatrix","OCR","OCRPro"],function(u){o[u]=o[u]||s[u]}),o}function n$(r){var n=xe,o=xe,s=xe,u=xe,l=xe,c=xe,f=xe,m=xe,v=xe,S=xe,_=xe,b=xe,I=xe;return r&&r!=""&&((r=r.toLowerCase()).indexOf("html5")>-1||r=="win=(aph) or mac=(ph) or linux(h)"?(n=rt,r.indexOf("html5;activex;oldie")>-1?u=rt:r.indexOf("html5;activex")>-1?(o=rt,I=rt,u=rt):(o=rt,I=rt),r.indexOf(";remotescan")>-1&&(o=rt,b=rt,r.indexOf(";onlyremote")>-1&&(I=xe))):r=="1d barcode reader"?s=rt:r=="2d barcode reader(qrcode)"?l=rt:r=="2d barcode reader(pdf417)"?c=rt:r=="2d barcode reader(data matrix)"?f=rt:r=="ocr"?m=rt:r=="webcam"?v=rt:r=="pdf rasterizer"?S=rt:r=="proocr"&&(_=rt)),{Core:n,Html5:o,RemoteScan:b,LocalScan:I,ActiveX:u,PDFRasterizer:S,Webcam:v,barcode1D:s,QR:l,PDF417:c,DataMatrix:f,OCR:m,OCRPro:_}}function IF(r){var n=r.toLowerCase();return n.indexOf("wasm")>-1||n.indexOf("mobile")>-1}var _t=new q9;function wF(r,n){return EF.apply(this,arguments)}function EF(){return(EF=a(E().mark(function r(n,o){var s;return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(ui()){u.next=2;break}return u.abrupt("return");case 2:if(u.prev=2,B.DWT.li({instanceMode:B.DWT.lgdt()},"")){u.next=17;break}return o&&Nr("Getting Machine ID."),u.prev=6,u.next=9,L9();case 9:return s=u.sent,u.next=12,i$(s);case 12:u.next=17;break;case 14:u.prev=14,u.t0=u.catch(6),p.log(u.t0);case 17:u.next=22;break;case 19:u.prev=19,u.t1=u.catch(2),p.log(u.t1);case 22:case"end":return u.stop()}},r,null,[[2,19],[6,14]])}))).apply(this,arguments)}function i$(r){return AF.apply(this,arguments)}function AF(){return(AF=a(E().mark(function r(n){var o;return E().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!n){s.next=7;break}if(!(p.isArray(n.result)&&n.result.length>3)){s.next=5;break}o=n.result[3],s.next=7;break;case 5:if(!n.description){s.next=7;break}return s.abrupt("return",{code:n.exception,message:n.description});case 7:p.isString(o)&&o!=""&&(B.DWT.lsmid(o,""),B.DWT.lsmid2b(o));case 8:case"end":return s.stop()}},r)}))).apply(this,arguments)}function xd(r){var n,o=r;return o=o.replace(/-/g,"/"),n=Date.parse(o),isNaN(n)&&(n=0),(n=new Date(n)).setHours(23,59,59,999),n}function xF(r){if(r=="")return 65536;var n=xd(r),o=new Date().getTime(),s=(n.getTime()-o)/864e5;return n.getTime()<o?0:Math.ceil(s)}B.DWT.isPublicLicense=function(){return Ie.bPublicLTS};var Ii,LT=function(){return y(function r(){h(this,r),C(this,"_exec",{})},[{key:"fire",value:function(r,n){var o,s=this;r=r.toLowerCase(),o=Array.prototype.slice.call(arguments,1),p.each(s._exec[r]||[],function(u){var l=u.f,c=u.c||s;try{l.apply(c,o)}catch(f){p.error(f)}})}},{key:"on",value:function(r,n,o){r=r.toLowerCase(),this._exec[r]=this._exec[r]||[],this._exec[r].push({f:n,c:o})}},{key:"off",value:function(r,n,o){if(r&&n){r=r.toLowerCase();for(var s=this._exec[r]||[],u=s.length-1;u>=0;u--)s[u]===n&&s.splice(u,1)}else this._exec={}}}])}();function o$(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function r_(r,n,o){return(n=function(s){var u=function(l,c){if(D(l)!="object"||!l)return l;var f=l[Symbol.toPrimitive];if(f!==void 0){var m=f.call(l,c||"default");if(D(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}(s,"string");return D(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function gs(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var qo,n_="[bio]: ",PF=window,i_=PF&&PF.FormData,ka=new WeakSet,Zs=function(r){function n(o){var s;return h(this,n),o$(s=d(this,n),ka),r_(s,"_attrs",{}),p.mix(s._attrs,{action:"",data:{},bChunkedSendData:rt,ajaxConfig:{value:{},type:"post",processData:xe,cache:xe,dataType:"text",async:rt,contentType:xe,retry:0,headers:{"X-Requested-With":xe}},ajax:"",formData:"",CORS:xe,bOnlyResponseEmptyIsOK:rt}),p.mix(s._attrs,o),gs(ka,s,a$).call(s),s}return F(n,r),y(n,[{key:"get",value:function(o){return o in this._attrs?this._attrs[o]:""}},{key:"set",value:function(o,s){o in this._attrs&&(this._attrs[o]=s)}},{key:"uploadFilesToServer",value:function(o){return gs(ka,this,s$).call(this,o)}},{key:"uploadToServer",value:function(o){var s=this,u=s.get("ajaxConfig");gs(ka,s,kF).call(s),o&&o.size>0&&(gs(ka,s,DF).call(s,o),p.isString(o.name)&&o.name!=""?s.name=o.name:s.name=o.fileName,o=null),p.mix(u,{data:s.get(n.PROP.formData),url:s.get(n.PROP.action),beforeSend:function(f,m,v){f.upload.addEventListener("progress",function(S){s.fire(n.event.PROGRESS,{loaded:S.loaded,total:S.total,name:s.name})},!1)}});var l=s.get("async");if(p.mix(u,{method:"POST",async:l,onSuccess:function(f){o_(s.get(n.PROP.data)),o_(s.get(n.PROP.formData));var m=s.get(n.PROP.ajax);p.isFunction(m.dispose)&&m.dispose(),s.set(n.PROP.data,null),s.set(n.PROP.formData,null),s.set(n.PROP.ajax,null);var v=gs(ka,s,FF).call(s,f);s.fire(n.event.SUCCESS,v)},onError:function(f,m,v){var S;o_(s.get(n.PROP.data)),o_(s.get(n.PROP.formData));var _,b,I=s.get(n.PROP.ajax);p.isFunction(I.dispose)&&I.dispose(),s.set(n.PROP.data,null),s.set(n.PROP.formData,null),s.set(n.PROP.ajax,null),f&&p.isArray(f)&&f.length>2?(S=f[0],_=f[1],b=f[2]):(S=f,_=m,b=v),gs(ka,s,RF).call(s,b,_,S)}}),l){var c=Ao(u);return s.set(n.PROP.ajax,c),!0}return Ao(u)}},{key:"abort",value:function(){var o=this,s=o.get("ajax");return p.isObject(s)?(s.abort(),o.set("ajax",!1),o):(p.log(n_+"abort(), the value of io invalid!"),o)}},{key:"setRequestHeader",value:function(o,s){var u=this.get("ajaxConfig");return u.headers[o]=s,this.set("ajaxConfig",u),u=null,s}}])}(LT);function a$(){this.get("CORS");var r=this.get("ajaxConfig");return p.mix(r,{xhrFields:{withCredentials:!1}}),r}function s$(r){var n=this,o=n.get(Ii.PROP.ajaxConfig),s=[];if(gs(ka,n,kF).call(n),p.each(r,function(c){c&&c.size>0?(gs(ka,n,DF).call(n,c),p.isString(c.name)&&c.name!=""?s.push(c.name):s.push(c.fileName)):s.push("")}),p.mix(o,{data:n.get(Ii.PROP.formData),url:n.get(Ii.PROP.action),beforeSend:function(c,f,m){c.upload.addEventListener("progress",function(v){n.fire(Ii.event.PROGRESS,{loaded:v.loaded,total:v.total,name:""})},!1)}}),p.mix(o,{method:"POST",async:n.get("async"),onSuccess:function(c){var f="";s=[],c&&(c&&p.isArray(c)&&c.length>1?f=c[0]:p.isString(c)&&(f=c)),f=gs(ka,n,FF).call(n,f),n.fire(Ii.event.SUCCESS,f)},onError:function(c,f,m){var v,S;s=[],c&&p.isArray(c)&&c.length>2?(v=c[1],S=c[2]):(v=f,S=m),gs(ka,n,RF).call(n,S,v)}}),n.name="",n.get("async")){var u=Ao(o);return n.set(Ii.PROP.formData,null),n.set(Ii.PROP.ajax,u),!0}var l=Ao(o);return n.set(Ii.PROP.formData,null),l}function kF(){var r,n=this,o=n.get("data");if(i_)if(o instanceof i_)n.set(Ii.PROP.formData,o);else{r=new i_;try{p.each(o,function(s,u){r.append(u,s)}),n.set(Ii.PROP.formData,r)}catch{p.log(n_+"something error when reset FormData.")}}else p.log(n_+"the browser does not support ajax.")}function DF(r){if(!p.isObject(r))return p.log(n_+"_addFileData(), file parameter invalid!"),!1;var n=this.get(Ii.PROP.formData),o=r.name,s=r.remoteFilename;return s||(s="RemoteFile"),n.append(s,r,o),this.set(Ii.PROP.formData,n),r=null,n}function RF(r,n,o){var s=Ii.status.ERROR,u={status:s,msg:n,response:!1,name:this.name};r&&(u.httpStatus=r.status,u.response=o||r.responseText),this.fire(s,u)}function FF(r){var n,o,s,u=!1,l=this.name,c=Ii.status.SUCCESS,f=Ii.event.ERROR;if(p.log("Response from server: "+r),!this.get("bOnlyResponseEmptyIsOK"))return{status:c,msg:!1,json:!1,response:r,name:l};if(p.isUndefined(r)||r==="")n={status:c,msg:!1,json:!1,response:"",name:l};else if(p.isString(r)){try{for(o=0;o<r.length&&!(o>10);o++){if((s=r[o])=="{"){u=!0;break}if(s!=" "&&s!="\r"&&s!=`
`&&s!="	")break}if(u){var m=p.parse(r);n=m.status==1?{status:c,msg:!1,json:m,response:r,name:l}:{status:f,msg:!1,json:m,response:r,name:l}}}catch(S){u=!1,p.log(S)}if(!u){var v=String(r);n=(v=v.replace(/( |\t|\r|\n)/g,""))==""?{status:c,msg:!1,json:!1,response:r,name:l}:{status:f,msg:!1,json:!1,response:r,name:l}}}else n={status:c,msg:!1,json:!1,response:"",name:l};return n}function o_(r){r&&r instanceof i_&&r.forEach&&r.forEach(function(n,o){o&&r.delete(o)})}function u$(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function OF(r,n,o){return(n=function(s){var u=function(l,c){if(D(l)!="object"||!l)return l;var f=l[Symbol.toPrimitive];if(f!==void 0){var m=f.call(l,c||"default");if(D(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}(s,"string");return D(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function up(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}Ii=Zs,r_(Zs,"event",{SUCCESS:"success",ERROR:"error",PROGRESS:"progress"}),r_(Zs,"status",{SUCCESS:"success",ERROR:"error"}),r_(Zs,"PROP",{action:"action",data:"data",bChunkedSendData:"bChunkedSendData",ajaxConfig:"ajaxConfig",ajax:"ajax",formData:"formData",CORS:"CORS",bOnlyResponseEmptyIsOK:"bOnlyResponseEmptyIsOK"});var Pd=new WeakSet,$u=function(r){function n(o){var s;return h(this,n),u$(s=d(this,n),Pd),s._attrs={action:"",retry:0,timeout:0,CORS:xe,async:rt,dataType:"text",fileStatus:"",data:{},bOnlyResponseEmptyIsOK:rt},p.mix(s._attrs,o),up(Pd,s,l$).call(s),s}return F(n,r),y(n,[{key:"get",value:function(o){return o in this._attrs?this._attrs[o]:""}},{key:"set",value:function(o,s){o in this._attrs&&(this._attrs[o]=s)}},{key:"upload",value:function(o){var s;if(o){if(p.isArray(o))return s=this._uploadType.uploadFilesToServer(o),o=null,s;if(p.isObject(o)){var u=o;return u.size?(u.id||(u.id=p.guid("file-")),u.size&&(u.textSize=up(Pd,this,c$).call(this,u.size))):u.size=0,s=this._uploadType.uploadToServer(u),u=null,o=null,s}}return s=this._uploadType.uploadToServer(o),o=null,s}},{key:"abort",value:function(o){return this._uploadType&&this._uploadType.abort(),!0}},{key:"setRequestHeader",value:function(o,s){this._uploadType.setRequestHeader(o,s)}}])}(LT);function c$(r){var n=-1;do r/=1024,n++;while(r>99&&n<4);return Math.max(r,.1).toFixed(1)+["KB","MB","GB","TB"][n]}function l$(){var r=this,n={async:r.get(qo.PROP.async),action:r.get(qo.PROP.action),data:r.get(qo.PROP.data),CORS:r.get(qo.PROP.CORS),bOnlyResponseEmptyIsOK:r.get(qo.PROP.bOnlyResponseEmptyIsOK)};this._uploadType=new Zs(n);var o=this._uploadType.get(Zs.PROP.ajaxConfig);return o&&(o.dataType=r.get(qo.PROP.dataType),o.async=r.get(qo.PROP.async),o.retry=r.get(qo.PROP.retry)),this._uploadType.on(Zs.event.SUCCESS,up(Pd,r,NF),r),this._uploadType.on(Zs.event.ERROR,up(Pd,r,NF),r),this._uploadType.on(Zs.event.PROGRESS,up(Pd,r,d$),r),this._uploadType}function d$(r){this.fire(qo.event.PROGRESS,r)}function NF(r){var n=this,o=r.status,s=r.msg,u=n.get("file");p.mix(r,{file:u}),o==="success"?n.fire(qo.event.SUCCESS,r):(s===!1||(s==="abort"?p.mix(r,{canceled:!0}):s==="timeout"&&p.mix(r,{timeout:!0})),n.fire(qo.event.ERROR,r))}qo=$u,OF($u,"event",{SUCCESS:"success",ERROR:"error",PROGRESS:"progress"}),OF($u,"PROP",{action:"action",retry:"retry",timeout:"timeout",CORS:"CORS",async:"async",dataType:"dataType",fileStatus:"fileStatus",data:"data",bOnlyResponseEmptyIsOK:"bOnlyResponseEmptyIsOK"});var br={Loading:"Processing...",LoadingTiff:"Processing tiff...",LoadingPdf:"Processing pdf...",Encoding:"Processing...",ConvertingToBlob:"Converting to blob...",ConvertingToBase64:"Converting to base64...",SavingPdf:"Saving pdf...",SavingTiff:"Saving tiff...",Downloading:"Downloading...",Uploading:"Uploading...",Transfer:"Transferring...",CanvasLoading:"Loading ...",Err_ServiceModeNotSupportMobile:"Service Mode does not support your Operating System. Please contact the site administrator."};function MT(r,n){V.detect.bMaskShow=!0,B.DWT.ScanDirectly||p.isFunction(B.DWT.OnWebTwainPreExecute)&&B.DWT.OnWebTwainPreExecute(r,n)}function WT(){V.detect.bMaskShow=!1,B.DWT.ScanDirectly||p.isFunction(B.DWT.OnWebTwainPostExecute)&&B.DWT.OnWebTwainPostExecute()}var ar={getImageUrl:function(r,n,o,s,u){var l,c=[r];if(p.isNumber(n)&&n<0)return"";if(n!=null&&(c.push("&index="),c.push(n)),c.push("&width="),c.push(o),c.push("&height="),c.push(s),Wr.bMobile&&c.push("&type=1&quality=85"),c.push("&ticks="),u?c.push(u):c.push(Date.now()),l=c.join(""),ue.bFileSystem&&l.indexOf("dwt://")<0){var f=new Image;f.crossOrigin="anonymous",f.src=l,f=null}return l},getUrlByAct:function(r,n,o){var s=[r];return n!=null&&(s.push("&index="),s.push(n)),o&&(s.push("&act="),s.push(o)),s.push("&ticks="),s.push(Date.now()),s.join("")},output:function(r,n){p.debug&&p.log(n)},print:function(r){var n,o=0,s="";for(o=0;o<r.length;o++)s=s+'<div class="image-container"><img src="'+r[o].Url+'" /></div>';var u,l=ds()+"/src/dynamsoft.webtwain.css",c=["alwaysRaised=yes,z-look=yes,top=0,left=0,toolbar=no,menubar=no,location=no,status=no,width=",0,",height=",0].join(""),f=window.open("about:blank","_blank",c);n=["<html>",'<head><link rel="stylesheet" type="text/css" href="',l,'"></head>','<body id="D_body">',s,"</body></html>"].join(""),f&&(f.document.write(n),f.document.close(),f.focus(),(u=f.document.body)?u.onload=function(){f&&f.print(),p.log("print image...ok")}:p.log("cannot find image"))}};V.html5.Funs2=ar;var f$=p.isString,h$=p.isArray,p$=p.each;function cp(r,n){if(f$(n))r.push('"'),r.push(n),r.push('"');else if(h$(n)){var o=rt;r.push("["),p$(n,function(s){o?o=xe:r.push(","),cp(r,s)}),r.push("]")}else n===void 0?r.push('""'):r.push(n)}function Ve(){for(var r=[],n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];if(o.length>0)if(o.length===1){var u=o[0];r.push("["),cp(r,u),r.push("]")}else if(o.length===2){var l=o[0],c=o[1];r.push("["),cp(r,l),r.push(","),cp(r,c),r.push("]")}else cp(r,Array.prototype.slice.call(o));return r.join("")}function eu(r){return r instanceof ArrayBuffer||r instanceof Uint8Array||r instanceof Uint16Array||r instanceof Uint32Array||r instanceof Int8Array||r instanceof Int16Array||r instanceof Int32Array||window.Uint8ClampedArray&&r instanceof window.Uint8ClampedArray||r instanceof Float32Array||r instanceof Float64Array}var ht=function(r){return r.TWAINSCANNER=16,r.WIASCANNER=32,r.TWAINX64SCANNER=64,r.ICASCANNER=128,r.SANESCANNER=256,r.ESCLSCANNER=512,r.WIFIDIRECTSCANNER=1024,r.WIATWAINSCANNER=2048,r}(ht||{}),LF=ht.TWAINSCANNER|ht.WIASCANNER|ht.TWAINX64SCANNER|ht.ICASCANNER|ht.SANESCANNER|ht.ESCLSCANNER|ht.WIFIDIRECTSCANNER|ht.WIATWAINSCANNER,lp=ht.TWAINSCANNER|ht.WIASCANNER|ht.TWAINX64SCANNER|ht.ICASCANNER|ht.SANESCANNER,g$=ht.TWAINSCANNER|ht.WIATWAINSCANNER|ht.TWAINX64SCANNER|ht.ICASCANNER|ht.SANESCANNER;ht.TWAINSCANNER,ht.WIASCANNER,ht.WIATWAINSCANNER;var BT=ht.ESCLSCANNER|ht.WIFIDIRECTSCANNER,kd=ht.TWAINSCANNER|ht.WIATWAINSCANNER,m$=1;function dp(){return(++m$).toString()}function MF(){return["dwt_",p.getRandom()].join("")}var ms=0;function Xr(r,n,o){if(p.log("showMask:"+r+"--"+ms),ms==0)if(n){MT(n);var s=V.mask.dlgMask;if(s){s.style.zIndex="10000";var u=p.sizzle(".dynamsoft-backdrop",s.parentNode);u&&u.length>0&&(u[0].style.zIndex="10000")}}else MT(o||{});ms++}function kr(r){p.log("hideMask:"+r+"--"+ms),ms>1?ms--:ms<=1&&(WT(),ms=0)}var WF=function(){return y(function r(n,o){h(this,r),C(this,"m_server",""),C(this,"m_iUsingTime",0),C(this,"m_countMap",{}),C(this,"m_newConsum",!1),C(this,"m_mapSavedToDb",!1),this.clearData(),this.m_enumInstance=n,n==B.DWT.EnumInstance.dwt_desktop?(this.m_deploymentType="desktop",this.m_server=o):n==B.DWT.EnumInstance.dwt_browser?(this.m_deploymentType="browser",this.m_server=o):n==B.DWT.EnumInstance.dbr&&(this.m_deploymentType="browser",this.m_server="")},[{key:"clearData",value:function(){this.m_iUsingTime=0,this.m_jvUsingTime=p.nil,this.m_countMap={},this.m_newConsum=!1,this.m_mapSavedToDb=!1,this.m_minExpiredTime=p.nil,this.m_maxExpiredTime=p.nil,this.m_cu=p.nil,this.m_ar=p.nil,this.m_ltsInstance=p.nil}},{key:"set_cu",value:function(r){this.m_cu=r}},{key:"get_cu",value:function(){return this.m_cu}},{key:"set_ar",value:function(r){this.m_ar=r}},{key:"get_ar",value:function(){return this.m_ar}},{key:"get_ltsInstance",value:function(r){return this.m_ltsInstance||(this.m_ltsInstance=r(this.m_enumInstance)),this.m_ltsInstance}},{key:"inited_ltsInstance",value:function(){return!!this.m_ltsInstance}},{key:"set_maxExpiredTime",value:function(r){this.m_maxExpiredTime=r}},{key:"get_maxExpiredTime",value:function(){return this.m_maxExpiredTime}},{key:"set_minExpiredTime",value:function(r){this.m_minExpiredTime=r}},{key:"get_minExpiredTime",value:function(){return this.m_minExpiredTime}},{key:"get_deploymentType",value:function(){return this.m_deploymentType}},{key:"get_enumDeploymentType",value:function(){return this.m_enumInstance}}])}(),Ye=B.DWT;Ye.LTS=Ye.LTS||{},Ye.licenseException={code:0,message:"",fromLTS:!1},Ye.bLTSOnline=!0,Ye.axInstance=void 0,Ye.lOnUpdateDWObj=[],Ye.EnumInstance={dwt_desktop:0,dwt_browser:1,dbr:2};var tu,wi=0,Da={},fp=!1,Dd=!1,Rd=!1,UT=!1,hp=!1;function BF(){var r=Ie.handshakeCode;return p.isString(r)||(r=""),r}function UF(){var r=Ie.organizationID;return p.isNumber(r)?r=""+r:p.isString(r)||(r=""),r}function VT(){return p.replaceAll(xo.JSVersion,",",".")}function un(r,n){var o=r;return o===p.nil&&(o=B.DWT.lgdt()),o==Ye.EnumInstance.dbr?(Ye._dbrLicense||(Ye._dbrLicense=new WF(o,"")),Ye._dbrLicense):(Ye._dwtDLicense||(Ye._dwtDLicense=new WF(o,"")),Ye._dwtDLicense)}Ye.lupverfy=function(){un(Ye.lgdt()).get_ltsInstance(Ra),un(Ye.EnumInstance.dbr).get_ltsInstance(Ra)};var VF=Ye.EnumInstance.dwt_desktop;Ye.lsdt=function(r,n){VF=r},Ye.lgdt=function(r){return VF},Ye.lsmid=function(r,n){un(Ye.lgdt()).set_cu(r)},Ye.lsar=function(r,n){un(Ye.lgdt()).set_ar(r)},Ye.lsmid2b=function(r){un(Ye.lgdt("")).set_cu(r)},Ye.lgar=function(r,n){return un(r).get_ar()},Ye.laddDWTObj=function(r){var n=!1;p.each(Ye.lOnUpdateDWObj,function(o){if(o==r)return n=!0,!1}),n||Ye.lOnUpdateDWObj.push(r)},Ye.lremoveDWTObj=function(r){p.each(Ye.lOnUpdateDWObj,function(n,o){if(n==r)return Ye.lOnUpdateDWObj.splice(o,1),!1})},Ye.lsendUpdateEvt=function(r,n){var o=[];if(p.each(Ye.lOnUpdateDWObj,function(l){r==Ye.EnumInstance.dwt_desktop&&o.push(l)}),o.length==0)return V.Promise.resolve();var s,u=o[0];return u._bAx?(p.each(o,function(l){l.SetLTSInfo(un(r).get_ar(),un(r).get_cu())}),u.GetLicenseInfo().then(function(l){l&&p.isArray(l.Detail)&&l.Detail.length>0&&Ye.lsexp(r,l.Detail[0].ExpireDate,n)})):(s=u.SetLTSLicenseAsync(un(r).get_ar()).then(function(l){l&&p.isArray(l.Detail)&&l.Detail.length>0&&Ye.lsexp(r,l.Detail[0].ExpireDate,n)}),p.each(o,function(l,c){c!=0&&l.SetLTSLicenseAsync(un(r).get_ar())}),s)},Ye.lgcb=function(){var r=[];return ue.bChrome?r.push("Chrome"):ue.bFirefox?r.push("Firefox"):ue.bEdge?r.push("Edge"):ue.bIE?r.push("IE"):ue.bSafari?r.push("Safari"):ue.bOpera?r.push("Opera"):ue.b360SE?r.push("360SE"):ue.bTencentTraveler?r.push("TencentTraveler"):ue.bMaxthon?r.push("Maxthon"):ue.bMetaSr?r.push("MetaSr"):ue.bTheWorld?r.push("TheWorld"):ue.bUC?r.push("UC"):ue.bHuaWeiBrowser&&r.push("HuaWeiBrowser"),r.push(ue.strBrowserVersion),ue.bWin?r.push("Windows"):ue.bMac?r.push("Mac"):ue.bLinux?r.push("Linux"):ue.bAndroid?r.push("Android"):ue.bChromeOS?r.push("ChromeOS"):ue.bHarmonyOS?r.push("HarmonyOS"):Wr.bMobile?r.push("Mobile OS"):B.navInfo.bEmbed&&r.push("Embed OS"),r.join(" ")};var cl={NetworkError:-2440,Timedout:-2441,JsonError:-2442,CorsError:-2443,Expired:-2445,LtsJsLoadError:-2446,UUIDError:-2447};function Ra(r){var n,o,s=Ie.licenseServer;if(s&&s.length>0)for(n=0;n<s.length;n++)o=s[n],p.endsWith(o,"/")||(s[n]=o+"/");var u=un(r),l={bd:V.ltsDebug,dm:location.origin?p.startsWith(location.origin,"http")?location.origin:"https://localhost":p.startsWith(location.href,"http")?location.href:"https://localhost",hs:V.product.handshakeCode||"",pd:Ye.lgpd(r),vm:oo,dt:u.get_enumDeploymentType(),btoa:p.btoa,atob:p.atob,fol:Ye.OnFirstOffline,sutlcb:function(){p.isFunction(Ye.lonsend)&&Ye.lonsend()},lf:V.localforage,updl:function(m){u.set_ar(m.ar),u.get_cu()||u.set_cu(m.cu),Ye.lsendUpdateEvt(r,"")},mnet:function(){return u.get_maxExpiredTime()},mxet:function(){return u.get_minExpiredTime()},dwt:!0};if(r==Ye.EnumInstance.dwt_browser||r==Ye.EnumInstance.dbr?l.feab=Ye.lfeab_wasm:l.feab=Ye.lfeab_ax,!ue.bIE&&Ie.ltsDebug&&(l.log=console.log),B.LTS&&B.LTS._)return B.LTS._.createLtsInstance(l);var c={},f=function(){return V.Promise.reject({code:cl.LtsJsLoadError,message:"The dynamsoft.lts.js load failed."})};return c.i=f,c.s=f,c.u=f,c.caret=f,c}Ye.lgpd=function(r){return r==Ye.EnumInstance.dwt_desktop?"dwt|dbr|ddv":"dwt|ddv"};var jF=!1;function a_(r,n){return jT.apply(this,arguments)}function jT(){return jT=a(E().mark(function r(n,o){var s,u,l,c,f,m,v,S,_,b;return E().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(s=o??"",l=un(n),c=l.get_enumDeploymentType(),Ye.lclex(),!l.get_ar()||!l.get_cu()){I.next=10;break}if(jF){I.next=9;break}return u=l.get_ltsInstance(Ra),I.next=8,u.ih();case 8:jF=!0;case 9:return I.abrupt("return",V.Promise.resolve({ar:l.get_ar(),cu:l.get_cu()}));case 10:if((f={pd:Ye.lgpd(n),v:VT(),os:Ye.lgcb(),fn:Ye.DeviceFriendlyName||"",ls:Ie.licenseServer,sp:Ie.sessionPassword,l:_t.getLTSLicense(),mnet:function(){return l.get_maxExpiredTime()},mxet:function(){return l.get_minExpiredTime()},fol:Ye.OnFirstOffline}).dt=l.get_deploymentType(),c!=Ye.EnumInstance.dwt_desktop){I.next=20;break}if(l.get_cu()!=""){I.next=17;break}return Po(m={}),I.abrupt("return",V.Promise.reject({code:m._errorCode,message:m._errorString}));case 17:f.lsu=l.get_cu(),I.next=21;break;case 20:c==Ye.EnumInstance.dbr||(f.dwt=!0,l.get_cu()!=""&&(f.lsu=l.get_cu()),f.updl=function(A){l.set_ar(A.ar),l.get_cu()||l.set_cu(A.cu),Ye.lsendUpdateEvt(c,s)});case 21:return I.prev=21,u=l.get_ltsInstance(Ra),I.next=25,u.i(f);case 25:return v=I.sent,l.get_ar()||l.set_ar(v.ar),l.get_cu()||l.set_cu(v.cu),I.abrupt("return",v);case 31:throw I.prev=31,I.t0=I.catch(21),l.clearData(),p.isString(I.t0)?(_=GF(I.t0),Ye.lsetException(_,I.t0,!0),S=Ye.licenseException):(GT(b={},I.t0),S={code:b._errorCode,message:b._errorString}),S;case 36:case"end":return I.stop()}},r,null,[[21,31]])})),jT.apply(this,arguments)}function Ku(){return Date.now()}function ll(r){var n=r?new Date(r):new Date,o="yyyy-MM-ddTHH:mm:ss.SSSZ",s={"M+":n.getUTCMonth()+1,"d+":n.getUTCDate(),"H+":n.getUTCHours(),"h+":n.getUTCHours()%12||12,"m+":n.getUTCMinutes(),"s+":n.getUTCSeconds(),"q+":Math.floor((n.getUTCMonth()+3)/3),"S+":n.getUTCMilliseconds()};for(var u in/(y+)/.test(o)&&(o=o.replace(RegExp.$1,(n.getUTCFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+u+")").test(o)&&(o=o.replace(RegExp.$1,RegExp.$1.length==1?s[u]:("000"+s[u]).substr(("000"+s[u]).length-RegExp.$1.length)));return o}function GF(r){var n=cl.NetworkError;return r.indexOf("timed out")>-1||r.indexOf("timeout")>-1?n=cl.Timedout:(r.indexOf("access-control-allow-origin")>-1||r.indexOf("cors")>-1)&&(n=cl.CorsError),n}function GT(r,n){if(n){var o=n.code||n.ltsErrorCode,s=n.message;o==111||o==106||o==108?(tp(r,o),r._errorString=s):(r._errorCode=o,r._errorString=s),B.DWT.lsetException(r._errorCode,r._errorString,!0)}}function zT(r,n){r.__licenseInfo=n,function(o){o.__calic||(o.__calic=o.__licenseInfo)}(r)}function s_(r){var n=B.DWT.licenseException;n.code=r.code,n.message=r.message,r&&(HT(r),r instanceof Error?p.error(r):p.error(p.stringify(r)))}function HT(r){p.isFunction(B.DWT.OnWebTwainError)?B.DWT.OnWebTwainError(r):p.isFunction(window.Dynamsoft_OnError)&&window.Dynamsoft_OnError(r)}function u_(r){return r==Xn.LicenseExpiredForDLS||r==Xn.LicenseNoCoreForDLS||r==Xn.LicenseNoCore||r==Xn.LicenseInvalid||r==Xn.LicenseExpired||r==Xn.LicenseParseFailed||r==Xn.LicenseIsFuture||r==Xn.LicenseVersionNotCurrent}function zF(r){return r==Xn.LicenseExpired}function $T(r){var n=0,o=r.message;p.isNumber(r.code)?n=r.code:p.isString(o)&&(n=-1),n!=0&&function(s,u){p.isFunction(B.OnLicenseError)&&B.OnLicenseError(u,s)}(n,o)}function HF(r){$T(rr(r))}Ye.lglic=a_,Ye.lgbuuid=function(){return""},Ye.lshow=function(){return{t:tu,t2:wi,m:p.stringify(Da)}},Ye.lgct=function(r){switch(r){case 0:return"3011";case 1:return"3012";case 2:return"3014";case 3:return"3013";case 4:return"3015";case 14:return"3016";case 3001:return"3001";case 3002:return"3002";case 3003:return"3003";case 3004:return"3004";case 3005:return"3005";case 3006:return"3006";case 3007:return"3007";case 3008:return"3008";case 3009:return"3009";case 5001:return"5001";case 4001:return"4001";case 4002:return"4002";case 4003:return"4003"}return""},Ye.lcvrf=function(r){r&&(r._canConsume&&!r._canConsume()||setTimeout(function(){Ye.lcvrf_(r)},1))},Ye.lcvrf_=function(r){var n;n=Ye.lgdt();var o,s=Ye.DeviceFriendlyName||"",u=Ye.lgcb(),l=un(n),c={hs:BF(),og:UF(),cu:l.get_cu(),fn:s,cw:"",os:u,v:VT(),dt:l.get_deploymentType(),ed:"js"},f=function(_,b){var I,A,P=0;if(p.isString(_)&&_!=""&&_!="{}"&&b&&p.isArray(b)&&!(b.length<1)){if(A=un(b[0]),I=p.parse(_),Ye.lclex(),wi==0){var L=Ku(),$="";wi=L,tu=ll(L),Da={},P=0,p.each(I,function(ee,q){(q<P||P==0)&&(P=q,$=ee)}),P>0&&A.get_ltsInstance(Ra).s(Ie.licenseServer,$,P,!0).then(function(){},function(ee){})}p.each(I,function(ee,q){var Q=!1,J=parseInt(q);J>0&&J!=P&&(J+18e4<Ku()&&(Q=!0),A.get_ltsInstance(Ra).s(Ie.licenseServer,ee,q,Q).then(function(){},function(te){}))})}};if(c.pd=Ye.lgpd(n),o=p.stringify(c),!r._bAx){var m="GetBuffer",v=Ve(p.replaceAll(o,'"','\\"')),S={cmd:m,cmdId:dp(),sFun:f,fFun:function(){},params:[n]};return r._innerSendByWS(m,v,S,null,!0)}f(r.GetBuffer(o),[n,""])},Ye.lavrf=function(r,n,o,s){var u=1;if(r!=""){n>1&&(u=n);var l=Ku();if(wi>0&&wi+18e4<l){Dd?(Da={},Ye.lavrf__unload()):Ye.lavrf__(!0,o,s);var c=Ku()+1;wi=c,tu=ll(c),Da={}}fp=!0,Dd=!1,Da[r]?Da[r]+=u:Da[r]=u,wi==0&&Ye.lavrf__(!0,o,s)}},Ye.lavrf_=function(r,n,o){if(fp){var s=1;r&&(s=r),setTimeout(function(){Ye.lavrf__(!1,n,o)},s)}},Ye.lavrf__=function(r,n,o){var s,u,l,c=Ku(),f=!1,m=!!r,v=0,S=n;p.isUndefined(S)&&(S=Ye.lgdt()),l=un(S),fp=!1,wi==0&&(f=!0,wi=c,tu=ll(c)),s=wi,u=tu;var _={};_.ut=u;var b={};if(p.each(Da,function(ee,q){b[q]=ee,ee>0&&v++}),_.cts=b,m||s+18e4<c){m=!0;var I=Ku()+1;if(wi=I,tu=ll(I),Da={},Dd=!1,v==0)return}else{if(v==0)return;Dd=!0}_.dur=f?1:180;var A,P=Ye.DeviceFriendlyName||"",L=Ye.lgcb(),$={hs:BF(),og:UF(),cu:l.get_cu(),fn:P,cw:"",os:L,v:VT(),dt:l.get_deploymentType(),ed:"js",rcs:[_]};$.product=Ye.lgpd(n),A=p.stringify($),Ie.ltsDebug&&ll(),Ye.lclex(),l.get_ltsInstance(Ra).s(Ie.licenseServer,A,""+s,m).then(function(){},function(ee){})},Ye.lavrf__unload=a(E().mark(function r(){var n,o,s,u,l,c,f;return E().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(n=Ku(),o=!0,u=!1,l=un(Ye.lgdt()),c=un(Ye.EnumInstance.dbr),fp=!1,wi==0&&(wi=n,tu=ll(n)),s=wi,f=Ku()+1,wi=f,tu=ll(f),Da={},Dd=!1,s+=1,Ye.lclex(),!l.inited_ltsInstance()){m.next=20;break}return m.prev=13,m.next=16,l.get_ltsInstance(Ra).s(Ie.licenseServer,u,""+s,o);case 16:m.next=20;break;case 18:m.prev=18,m.t0=m.catch(13);case 20:if(!c.inited_ltsInstance()){m.next=28;break}return m.prev=21,m.next=24,c.get_ltsInstance(Ra).s(Ie.licenseServer,u,""+s,o);case 24:m.next=28;break;case 26:m.prev=26,m.t1=m.catch(21);case 28:case"end":return m.stop()}},r,null,[[13,18],[21,26]])})),Ye.lclex=function(){var r=Ye.licenseException;r.code=0,r.message="",r.httpResponse="",r.fromLTS=!1},Ye.li=function(r,n){var o;return r.axInstance&&(Ye.axInstance=r.axInstance,Ye.axInstance)?(o=Ye.axInstance.GetUUID(),Ie.ltsDebug&&p.log("ActiveX cu: "+o),un(r.instanceMode).set_cu(o),o):un(r.instanceMode).get_cu()},Ye.lfeab_ax=function(r){return new V.Promise(function(n,o){var s="";if(Ye.axInstance)try{s=Ye.axInstance.Encrypt(r,0)}catch{}n(s)})},Ye.lfeab_wasm=function(r){return V.Promise.resolve("")},Ye.lwsproc=function(r,n){try{r=p.parse(r)}catch(o){return void(n.fFun&&n.fFun(o))}r.method=="GetBuffer"?n.sFun&&r.result.length>0?n.sFun(r.result[0],n.params):n.sFun("",n.params):n.sFun&&n.sFun(r)},Ye.lsexp=function(r,n,o){var s,u=n;if((s=(u=p.replaceAll(u,"/","-")).split("-")).length==3){var l=s[0],c=s[1],f=s[2];c.length<2&&(c=(c="00"+c).substr(c.length-2)),f.length<2&&(f=(f="00"+f).substr(f.length-2)),u=[l,c,f].join("-")}var m=[u,"T23:59:59.999Z"].join("");un(r).set_minExpiredTime(m),un(r).set_maxExpiredTime(m)},Ye.lunload=a(E().mark(function r(){return E().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ye.lavrf__unload();case 2:wi=0,tu=p.nil,Da={},Dd=!1,fp=!1,Rd=!1,UT=!1,hp=!1,Ye.lclex(),Ye.bLTSOnline=!0,Ye.axInstance=p.nil,Ye.lOnUpdateDWObj=[];case 14:case"end":return n.stop()}},r)})),Ye.lcexp=function(r,n){return un(r).get_ltsInstance(Ra).caret().then(function(){return!1},function(o){var s=Ye.licenseException,u="";return o instanceof Error||"message"in o?u=o.message:p.isString(o)&&(u=o),Ye.lsetException(cl.Expired,u,!1),UT||(UT=!0,p.error(u),B.OnLTSLicenseError&&B.OnLTSLicenseError(_t.getPublicLicenseContent(s.message),s.code)),!0})},Ye.OnLicenseException=function(){var r=Ye.licenseException,n=r.message;if(p.isString(n)&&(n.indexOf("Error Code")>-1?n=p.replaceAll(n,"Error Code","error code"):n.indexOf("Error code")>-1&&(n=p.replaceAll(n,"Error code","error code"))),n.indexOf("(https://www.dynamsoft.com/purchase-center/)")>-1&&(n=n.replace("(https://www.dynamsoft.com/purchase-center/)","(https://www.dynamsoft.com/store/dynamic-web-twain/)"),r.message=n),n.indexOf("error code:")>-1){var o=n.substr(0,n.indexOf("message")),s=n.substr(n.indexOf("message"));o.indexOf("{")>-1&&(o=o.substr(o.indexOf("{")+1)),s.indexOf("}")>-1&&(s=s.substr(0,s.indexOf("}"))),o=p.replaceAll(o,"error code:",""),s=p.replaceAll(s,"message: ",""),Ye.lsetException(parseInt(o),s,!0),p.error(s),B.OnLTSLicenseError&&B.OnLTSLicenseError(_t.getPublicLicenseContent(n),r.code)}else{if(!r.code){var u=GF(n);Ye.lsetException(u,n,!0)}if(p.error(r.message),r.code==cl.LtsJsLoadError)return;B.OnLTSLicenseError&&B.OnLTSLicenseError(_t.getPublicLicenseContent(r.message),r.code)}},Ye.lol=function(){return Ye.bLTSOnline},Ye.OnFirstOffline=function(r){Ye.bLTSOnline=!1},Ye.lpubdlg=function(r,n){if(p.isString(r)&&r!=""){if(r=p.atob(r),console&&console.warn&&!Rd&&Ie.bUseDynamsoftLicenseManager,n==1)return Rd||Ie.bUseDynamsoftLicenseManager||(Rd=!0,B.OnLTSPublicLicenseWarning&&B.OnLTSPublicLicenseWarning(_t.getPublicLicenseContent(r))),!0;n==2&&(Rd||(Rd=!0))}return!1},Ye.lcheckLic=function(r,n,o){var s=!1;if(n){if(p.isArray(n.Detail)&&n.Detail.length>0){var u=n.Detail[0].ExpireDate;return Ye.lsexp(r,u,o),Ye.lcexp(r,o).then(function(l){var c=!1;l?c=!0:n.Trial!=1&&n.Trial!=2||(c=Ye.lpubdlg(n.Message,n.Trial)),c||Ye.bLTSOnline||hp||(hp=!0,B.OnLTSConnectionWarning&&B.OnLTSConnectionWarning())})}n.Trial!=1&&n.Trial!=2||(s=Ye.lpubdlg(n.Message,n.Trial))}return s||Ye.bLTSOnline||hp||(hp=!0,B.OnLTSConnectionWarning&&B.OnLTSConnectionWarning()),V.Promise.resolve()},Ye.lisValidID=function(r){if(p.isString(r)&&r!="")return!0;var n,o=Ye.licenseException;return Ye.lsetException(cl.UUIDError,"Failed to generate an ID for your device to license it: not enough permission.",!0),p.error(o.message),n=o.message,B.OnLTSLicenseError&&B.OnLTSLicenseError(n,o.code),!1},Ye.lsetException=function(r,n,o){var s=Ye.licenseException;s.code=r,s.message=n,o?s.fromLTS=!0:o in s&&delete s.fromLTS},Ye.lgcuid=function(r){var n=B.DWT.li({instanceMode:r},"");return n?V.Promise.resolve(n):un(r).get_ltsInstance(Ra).u().then(function(o){return B.DWT.lsmid(o,""),B.DWT.lsmid2b(o),o})};var KT=y(function r(){h(this,r)});function YT(r){var n=new KT;return n.server=r.server,n.normal=!0,r.attrs&&(n.attrs=p.clone(r.attrs)),n}var vs=function(r){return r.CONNECTING=0,r.OPEN=1,r.CLOSING=2,r.CLOSED=3,r}({});function QT(r,n,o){if(p.isString(r)&&(r.indexOf("Function not found")>0||r.indexOf("Version not found")>0))n&&n(r);else{var s=r.data;if(D(s)==="object")return s=null,r=null,void(o&&o());var u=s.replace(/\0/g,"");try{n&&n(u)}catch{p.log(s),o&&o()}s=null,r=null}}function XT(r,n){r&&r.readyState!=vs.CLOSING&&r.readyState!=vs.CLOSED?r.readyState==vs.CONNECTING?(r.onerror=function(o){o&&p.log("websocket error: "+o),r._reject&&(r._reject(o),r._reject=null),r.close()},r.onclose=function(o){r.onclose=null,r.onerror=null,r.onmessage=null,r.onopen=null,r._reject=null},r.onopen=function(){r.readyState==vs.OPEN?(r.onopen=null,r.send(n)):r.readyState==vs.CONNECTING&&(r.onopen?setTimeout(r.onopen,100):r._reject&&(r._reject(),r._reject=null))}):r.readyState==vs.OPEN&&(r.onopen=null,r.send(n)):r._reject&&(r._reject({closed:!0}),r._reject=null)}function $F(r,n,o){var s,u=o;return u||(B.DWT.ConnectWithSocket?p.startsWith(r,"wss://")||p.startsWith(r,"ws://")||(u=ue.bSSL?"wss://":"ws://"):p.startsWith(r,"https://")||p.startsWith(r,"http://")||(u=ue.bSSL?"https://":"http://")),n?(p.endsWith(r,"/")&&(r=r.substring(0,r.length-1)),s=":"+n+"/"):p.endsWith(r,"/")||(s="/"),[u,r,s].join("")}var ru=function(){function r(){h(this,r)}return y(r,null,[{key:"postStringDataByWS",value:function(n,o){return new V.Promise(function(s,u){n.onmessage=function(l){QT(l,function(c){s(c),n.close(),n=null},function(){u(),n.close(),n=null})},n._reject=u,XT(n,o)})}},{key:"postStringDataByWSUrl",value:function(n,o){var s=new V.Promise(function(u,l){var c=r.newWebsocket(n,!1);c.onmessage=function(f){QT(f,function(m){u(m),c.close(),c=null},function(m){l(m),c.close(),c=null})},c._reject=l,XT(c,o)});return ue.bEdge&&s.catch(function(){return new V.Promise(function(u,l){var c=r.newWebsocket(n,!0);c.onmessage=function(f){QT(f,function(m){u(m),c.close(),c=null},function(m){l(m),c.close(),c=null})},c._reject=l,XT(c,o)})}),s}},{key:"newWebsocket",value:function(n,o){var s,u=Pt.wsProtocol,l=window.MozWebSocket;if(l!==void 0)s=u?new l(n,u):new l(n);else{var c=window.WebSocket;if(o){var f=window,m=parent;try{for(;f!=m&&m.WebSocket;)c=m.WebSocket,f=m.window,m=m.parent}catch{c=window.WebSocket}}s=u?new c(n,u):new c(n)}return s}},{key:"getWsUrl",value:function(n,o,s){var u=s;return u===void 0&&(u=ue.bSSL),$F(n,o,u?"wss://":"ws://")}},{key:"getDDMUrl",value:function(n,o,s){var u,l,c="/";return p.startsWith(n,"https://")?u=!0:p.startsWith(n,"http://")?u=!1:n=(u=V.detect.ssl)?"https://"+n:"http://"+n,l=u?"18626/":"18625/",p.endsWith(n,"/")&&(c=""),o?[n,c,"ddm/",l,s].join(""):[n,c,s].join("")}},{key:"getModuleUrl",value:function(n){var o;return o=$F(si(),ue.bSSL?B.DWT.SSLPort:B.DWT.Port),n?o+n:o}}])}();B.DWT.NetManager=ru;var Bi=function(r){return r.ST_UNKNOWN=0,r.ST_TWAIN_DIRECT=1,r.ST_DYNAMSOFT_SERVICE=2,r.ST_ESCL=3,r.ST_WIFI_DIRECT=4,r}({}),v$=function(){return y(function r(n){h(this,r);var o=this;if(o._id=n.id,o._clientId=p.getRandom(),o._uuidForActiveUI=null,o._bReady=xe,o._destroy=xe,o._bMustUpgradeService=xe,o._wsClient=null,o._wsRetry=0,o._wsFailedTimes=0,o._bConnecting=xe,o._bNoMask=xe,o._bNotShowMessage=xe,o.__serverPlatform=Et.enumWindow,o.__productKey="",o.__licenseInfo=null,o._reconnectTimeSpan=Or.RemoteReconnectTimeSpan,o._reconnectShortSpan=300,o._reconnectShortSpanTimes=5,o._bIfShowProgressBar=rt,o.__IfShowCancelDialogWhenImageTransfer=rt,o._bLicenseErrorDispose=!0,n.dmService){var s,u,l,c,f,m,v=YT(n.dmService),S="/",_="";u=v.server;var b=new Mv(n.dmService.server),I=b.scheme;I&&(I=I.toLowerCase()),I=="https"?(s=!0,l=u.substring(8)):I=="http"?(s=!1,l=u.substring(7)):I=="wss"?(s=!0,l=u,u=p.replaceAll(u,"wss://","")):I=="ws"?(s=!1,l=u,u=p.replaceAll(u,"ws://","")):(l=u,u=(s=V.detect.ssl)?"https://"+u:"http://"+u),ao(b.hostname||b.scheme)?o._bRemoteMode=xe:o._bRemoteMode=rt,p.endsWith(u,"/")&&(S="");var A=v.attrs;if(A){var P,L;c=((P=A)===null||P===void 0?void 0:P.UUID)||"";var $=((L=A.modules)===null||L===void 0?void 0:L.length)||0;if(c!=""&&$>0){var ee;s?$>1&&$>1+(ee=A.modules[1])+2&&(f=A.modules[1+ee+2]):$>2&&(f=A.modules[2]),p.endsWith(f,"/")&&(S=""),_=[c,"/",f,"/"].join("")}}else A={UUID:"",service_type:Bi.ST_DYNAMSOFT_SERVICE};m=[u,S,_].join(""),A.url=m,o._serverInfo=new ul([l,S,_].join(""),null,s,!0,Pt.wsProtocol),o._httpUrl=m,o._dmService=v}else{var q,Q=V.detect.ssl,J=n.port,te=n.sslPort;ao(q=n.host?n.host:si())?o._bRemoteMode=!1:o._bRemoteMode=!0,J||(J=B.DWT.Port),te||(te=B.DWT.SSLPort),o._serverInfo=new ul(q,Q?te:J,Q,!0,Pt.wsProtocol),o._httpUrl=function(H){var k=H.server;if(k){if(p.startsWith(k,"wss://")||p.startsWith(k,"ws://"))return k}else k=si();return H.ssl?["https://",k,":",H.port,"/"].join(""):["http://",k,":",H.port,"/"].join("")}(o._serverInfo),o._dmService={server:o._httpUrl,attrs:{url:o._httpUrl,UUID:"",service_type:Bi.ST_DYNAMSOFT_SERVICE},normal:!0}}},[{key:"_resetErr",value:function(){this._errorCode=0,this._errorString="";var r=B.DWT.licenseException;r.code=0,r.message=""}},{key:"dispose",value:function(){this._bReady=xe,this._destroy=rt}},{key:"isDestroy",get:function(){return this._destroy}}])}(),Zo=y(function r(){h(this,r)});function KF(r,n){var o,s=[],u=n;if(p.isString(u)&&(u=p.parse(u)),p.isArray(u))for(o=0;o<u.length;o++){var l=y$(u[o]);s.push(l)}for(o=0;o<s.length;o++){var c=s[o],f=c.deviceType;c.name&&(c.name=p.base64.decode(c.name)),f&LF&&c.deviceInfo&&YF(c.deviceInfo),c.serviceInfo=r==null?void 0:r._dmService,JT(c,r==null?void 0:r._dmService),p.isBoolean(c.isSystemDefaultPrinter)||(c.isSystemDefaultPrinter=!1)}return s}function _$(r,n){return function(o,s){var u=s.deviceType;return s.name&&(s.name=p.base64.decode(s.name)),u&LF&&s.deviceInfo&&YF(s.deviceInfo),s.serviceInfo=o==null?void 0:o._dmService,JT(s,o==null?void 0:o._dmService),p.isBoolean(s.isSystemDefaultPrinter)||(s.isSystemDefaultPrinter=!1),s}(r,p.parse(n))}function JT(r,n){var o,s=r.name,u="",l=r.deviceType;l==ht.TWAINSCANNER?o="":l==ht.TWAINX64SCANNER?o="Twain64-":l==ht.WIASCANNER?o="WIA-":l==ht.WIATWAINSCANNER?(s=p.replaceAll(s,"WIA-",""),o="WIATWAIN-"):o=l==ht.ICASCANNER?"ICA-":l==ht.SANESCANNER?"Sane-":l==ht.ESCLSCANNER?"eSCL-":(ht.WIFIDIRECTSCANNER,""),n&&n.attrs&&n.attrs.ty&&(u=" on ["+n.attrs.ty+"]"),r.displayName=[o,s,u].join("")}function YF(r){if(r.ProductName){var n=r.ProductName;r.ProductName=p.base64.decode(n)}if(r.ProductFamily){var o=r.ProductFamily;r.ProductFamily=p.base64.decode(o)}if(r.Manufacturer){var s=r.Manufacturer;r.Manufacturer=p.base64.decode(s)}if(r.Version&&r.Version.Info){var u=r.Version.Info;r.Version.Info=p.base64.decode(u)}}function y$(r){var n=new Zo;return n.strDevice=p.stringify(r),r.deviceInfo&&(n.deviceInfo=p.clone(r.deviceInfo)),r.deviceType&&(n.deviceType=p.clone(r.deviceType)),r.displayName&&(n.displayName=p.clone(r.displayName)),r.name&&(n.name=p.clone(r.name)),r.serviceInfo&&(n.serviceInfo=YT(r.serviceInfo)),p.isBoolean(r.isSystemDefaultPrinter)?n.isSystemDefaultPrinter=r.isSystemDefaultPrinter:n.isSystemDefaultPrinter=!1,n}V.removeNonPrintableChar;var pp=function(r){return r.SMF_NAME=1,r.SMF_TWAINVERSION=2,r.SMF_TWAINPROTOCOL=4,r.SMF_ICAUUID=8,r.SMF_ICAMODULEVERSION=16,r.SMF_ICALOCATIONTYPE=32,r}({}),Qt=function(r){return r.IT_BMP=0,r.IT_JPG=1,r.IT_TIF=2,r.IT_PNG=3,r.IT_PDF=4,r.IT_ALL=5,r.IT_MULTIPAGE_PDF=7,r.IT_MULTIPAGE_TIF=8,r.IT_J2K=14,r}({}),gp=function(r){return r.RGBA=15,r.Auto=16,r}({});function qT(r){var n="application/octet-stream";switch(r){case Qt.IT_BMP:n="image/bmp";break;case Qt.IT_JPG:n="image/jpeg";break;case Qt.IT_TIF:n="image/tiff";break;case Qt.IT_PNG:n="image/png";break;case Qt.IT_PDF:n="application/pdf";break;case Qt.IT_J2K:n="image/jp2"}return n}var ea={isSupportLS:function(){var r=!1;if(!(ue.bEdge&&ue.bFileSystem))try{r=!!window.localStorage}catch{}return r},item:function(r,n,o){var s=null;return this.isSupportLS()?(n?(localStorage.setItem(r,n),s=n):s=localStorage.getItem(r),s===null?o:s):o},removeItem:function(r){return!!this.isSupportLS()&&(localStorage.removeItem(r),!0)}},QF=!0,XF=!1;function S$(r){if(p.isUndefined(r))return XF;var n,o,s,u=r.toString().toLowerCase(),l=(s=u.toLowerCase().replace(Ie.name.toLowerCase()+" ",""),(s=p.replaceAll(s,"[.]",",")).split(","));n=Ie.bActiveXEdition?xo.ActiveXVersion:Ie.getServerVersionInfo(!0),o=(n=p.replaceAll(String(n),"[.]",",")).split(",");for(var c=l.length>o.length?l.length:o.length,f=0;f<c;f++){if(l[f]==null&&(l[f]=0),o[f]==null&&(o[f]=0),parseInt(l[f])<parseInt(o[f]))return XF;if(parseInt(l[f])>parseInt(o[f]))return QF}return QF}function b$(r,n){var o=r.split(","),s=n.split(",");return o.length>1&&p.trim(o[0])==s[0]}function T$(r,n){var o=r.split(","),s=n.split(",");return o.length>3&&p.trim(o[0])==s[0]&&(p.trim(o[1])>s[1]||p.trim(o[1])==s[1]&&p.trim(o[2])>s[2]||p.trim(o[1])==s[1]&&p.trim(o[2])==s[2]&&parseInt(p.trim(o[3]))>=parseInt(s[3]))}function JF(r,n){V.detect.urls.splice(0),V.detect.urls.push({port:r,ssl:ue.bSSL}),V.detect.ports=[{port:r,ssl:ue.bSSL}],V.detect.cUrlIndex=0,Pt.detect.dwtPort=r,Pt.detect.dwtSSLPort=n,B.DWT.Port=r,B.DWT.SSLPort=n}function ZT(r,n,o){return qF.apply(this,arguments)}function qF(){return(qF=a(E().mark(function r(n,o,s){var u,l,c;return E().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!Ie.bDCPChecked){f.next=2;break}return f.abrupt("return",{host:n,port:B.DWT.Port,sslPort:B.DWT.SSLPort});case 2:return Nr("Initializing the service..."),f.prev=3,f.next=6,ZF(n);case 6:u=f.sent,f.next=13;break;case 9:throw f.prev=9,f.t0=f.catch(3),p.log(f.t0),yT();case 13:if(!Pt.bEnhancedMode){f.next=27;break}if(Nr("Checking the service enhanced module..."),l=V.install._dlgInstall,c=500,l&&l.open||(c=0),!(u.port<=0||u.sslPort<=0)){f.next=25;break}if(!(c>0)){f.next=21;break}return f.next=21,new V.Promise(function(m,v){setTimeout(function(){m()},c)});case 21:return Nr(vF),f.next=24,C$(n);case 24:u=f.sent;case 25:f.next=28;break;case 27:u={host:n,port:o,sslPort:s};case 28:return Ie.bDCPChecked=!0,f.abrupt("return",u);case 30:case"end":return f.stop()}},r,null,[[3,9]])}))).apply(this,arguments)}function C$(r){return eC.apply(this,arguments)}function eC(){return eC=a(E().mark(function r(n){var o,s,u,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:s=5,u=1500,l={host:n,port:0,sslPort:0},o=0;case 3:if(!(o<s)){c.next=22;break}return o>2&&(u=3e3),Nr(vF),c.prev=6,c.next=9,I$(n);case 9:l=c.sent,c.next=14;break;case 12:c.prev=12,c.t0=c.catch(6);case 14:if(!(p.isNumber(l.port)&&l.port>0&&p.isNumber(l.sslPort)&&l.sslPort>0)){c.next=17;break}return JF(l.port,l.sslPort),c.abrupt("return",l);case 17:return c.next=19,new V.Promise(function(f,m){setTimeout(function(){f()},u)});case 19:o++,c.next=3;break;case 22:throw V.detect.dcpStatus=3,yT();case 25:case"end":return c.stop()}},r,null,[[6,12]])})),eC.apply(this,arguments)}function I$(r){return tC.apply(this,arguments)}function tC(){return tC=a(E().mark(function r(n){var o,s,u,l,c,f,m,v,S;return E().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o=Ie.refProductKey,p.startsWith(n,"wss://")||p.startsWith(n,"ws://")?u=n:(l=ue.bSSL?Pt.SSLPort:Pt.Port,u=ru.getWsUrl(n,l,ue.bSSL)),c={id:p.guid(),method:"GetPorts",version:"dwasm2_"+bd(),parameter:[Pt.strSID]},_t.isLongKey(o)&&(c.productKey=o),_.next=6,ru.postStringDataByWSUrl(u,p.stringify(c));case 6:if(f=_.sent,!p.isString(f)){_.next=19;break}if(_.prev=8,(m=p.parse(f))&&"result"in m&&(s=m.result),!(p.isArray(s)&&s.length>1&&s[1])){_.next=15;break}if(!(v=s[1]).dwt){_.next=15;break}return _.abrupt("return",{host:n,port:v.dwt.port,sslPort:v.dwt.sslPort});case 15:_.next=19;break;case 17:_.prev=17,_.t0=_.catch(8);case 19:throw Mi(S={}),rr(S);case 22:case"end":return _.stop()}},r,null,[[8,17]])})),tC.apply(this,arguments)}function ZF(r){return eO.apply(this,arguments)}function eO(){return(eO=a(E().mark(function r(n){var o,s;return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return Pt.detect.bConnected=!1,u.prev=1,u.next=4,w$(n);case 4:return E$(u.sent),Pt.detect.bConnected=!0,u.abrupt("return",{host:n,port:Pt.detect.dwtPort,sslPort:Pt.detect.dwtSSLPort});case 10:if(u.prev=10,u.t0=u.catch(1),!u.t0){u.next=21;break}if(o=u.t0.code,!p.isNumber(o)){u.next=21;break}if(o!=kt.ResponseDataTypeError&&o!=kt.HTSTError&&o!=kt.CORSError&&o!=kt.CORSErrorFromService&&o!=kt.SSLCertExpired&&o!=kt.SSLCertInvalid){u.next=19;break}throw u.t0;case 19:if(o!=kt.MustUpgrade){u.next=21;break}throw u.t0;case 21:throw Pt.detect.dcpStatus=Pt.detect.EnumDCP_DetectStatus.NotInstalled,B.dcp._sendStatusEvent(),ip(s={}),{code:s._errorCode,message:s._errorString};case 26:case"end":return u.stop()}},r,null,[[1,10]])}))).apply(this,arguments)}function w$(r){return tO.apply(this,arguments)}function tO(){return(tO=a(E().mark(function r(n){var o,s,u,l,c,f,m,v,S;return E().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o=Ie.refProductKey,p.startsWith(n,"wss://")||p.startsWith(n,"ws://")?u=n:(l=ue.bSSL?Pt.SSLPort:Pt.Port,u=ru.getWsUrl(n,l,ue.bSSL)),c={id:p.guid(),method:"VersionInfo",version:"dwasm2_"+Or.getVersionStrForCheck(),parameter:[]},_t.isLongKey(o)&&(c.productKey=o),_.next=6,ru.postStringDataByWSUrl(u,p.stringify(c));case 6:if(f=_.sent,p.isString(f))try{(m=p.parse(f))&&"result"in m&&(s=m.result)}catch{}if(v={},!(p.isArray(s)&&s.length>0&&s[0])){_.next=21;break}if(S=s[0],!p.isString(S)||S==""){_.next=21;break}if(!b$(S,Ie.getServerVersionInfo(!0))){_.next=18;break}return Pt.detect.dcpStatus=Pt.detect.EnumDCP_DetectStatus.UpdateSkipped,B.dcp._sendStatusEvent(),_.abrupt("return",s);case 18:throw Nr(_F),Td(v),rr(v);case 21:throw Mi(v),rr(v);case 23:case"end":return _.stop()}},r)}))).apply(this,arguments)}function E$(r){var n="",o=!1,s=!1,u={};if(r.length>4&&(n=p.isString(r[2])?r[2]:"",o=p.isString(r[3])&&r[3]==="true",s=p.isString(r[4])&&r[4]==="64"),r.length>5&&(u=r[5]),Pt.detect.connectedResult=r,Pt.strSID=n,Pt.bEnhancedMode=o,Pt.b64bit=s,Pt.objEnhancedPorts=u,o&&u){if(u.dcp){var l=u.dcp;Pt.SSLPort=l.sslPort,Pt.Port=l.port}if(u.ddm){var c=u.ddm;c?ue.bSSL?Pt.detect.ddmPort=c.sslPort:Pt.detect.ddmPort=c.port:Pt.detect.ddmPort=0}if(B.DWT.Port=0,B.DWT.SSLPort=0,u.dwt){var f=u.dwt;f&&f.port>0&&f.sslPort>0&&JF(f.port,f.sslPort)}}}function A$(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function rC(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}B.DWT.NetManager.checkModuleManager=function(r,n){ZF(si()).then(r,n)};var c_=new WeakSet,Ui=function(r){function n(H){var k;return h(this,n),A$(k=d(this,n,[H]),c_),k._acquireDivEL=null,k.__serverId="",k.__bAcquireImageNow=xe,k._blts=ui(),k._bltsCopyImage=!1,k._b64bit=Pt.b64bit,k._logLevel=0,k._bServerAlwaysFocusOnPopupWindow=rt,k._bPageFocus=rt,k.__bOpenFileNow=xe,k._bScanForProxyRemote=xe,k}return F(n,r),y(n,[{key:"_isValid",value:function(){return!this._destroy||(HR(this),!1)}},{key:"_connnect",value:(te=a(E().mark(function H(){var k;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return k=this,M.abrupt("return",new V.Promise(function(U,G){var z,Z;z=k._serverInfo.server,Z=k._serverInfo.port,B.DWT.CheckConnectToTheService(z,Z,U,G)}));case 2:case"end":return M.stop()}},H,this)})),function(){return te.apply(this,arguments)})},{key:"_waitForConnect",value:function(){var H=this;return H._wsRetry=0,H._bReady?V.Promise.resolve():new V.Promise(function(k,M){H._wsCheckResolve=k,H._wsCheckReject=M,iO(H)})}},{key:"_getWSCallback",value:function(){return P$}},{key:"_getWSContextData",value:function(){return{}}},{key:"_additionalWSCallback",value:function(H,k,M,U){H=="ConvertToBlob"&&k._blob_callbacks.push(function(G){return M(G,Br.HANDLE_RAW_MESSAGE,"0",U)})}},{key:"_innerSendBlobByWS",value:function(H,k,M,U,G){var z={cmd:H,cmdId:dp(),sFun:function(Z){p.isFunction(U)&&U(Z)},fFun:G,contextData:{document:M.currentFileName,tag:M.currentTagName,bNeedClearTag:M.bNeedClearCurrentTagName,index:M.index,bNeedRefresh:H=="UpdateImage"},rawData:!0};return this._innerSendByWS(H,k,z,M,!0)}},{key:"_innerSendByWS",value:function(H,k,M,U,G){var z,Z,ie,se,re=this,ae=this._getWSCallback();M&&M.cmdId?(z=M.cmdId,ie=nC(re._clientId,z),se=nC(re._clientId,"")):(z=0,ie=0,se=0);var Se=dl(re._clientId,H,k,z,re._bScanForProxyRemote),ge=re._wsClient;Z={client:ge,userData:{stwain:re,command:M},taskId:z,eventTaskId:ie,lastEventTaskId:se};var ve,Me,Qe,ze,yt,at,gt,Ct,Be=0;if(!G){try{ge.request(Se,ae,Z)}catch(tt){p.log(tt)}return xe}if(Qe=new ArrayBuffer(12),U)if(U instanceof Blob)Be=U.size;else if(U instanceof ArrayBuffer||U instanceof Uint8Array)Be=U.byteLength;else if(U instanceof Array)Be=U.length;else{var Oe=U;Be=Oe.size||Oe.byteLength||Oe.length}for(Me=(ve=(gt=new Blob([Se])).size)+Be,ze=new DataView(Qe),at=0;at<8&&Me;at++)ze.setUint8(at,Me%256),Me=Math.floor(Me/256);for(at=0;at<4&&ve;at++)ze.setUint8(8+at,ve%256),ve=Math.floor(ve/256);return yt=new Blob([Qe,gt]),Ct=ge.request(yt,ae,Z),this._additionalWSCallback(H,ge,ae,Z),Be>0&&(Ct=ge.request(U,ae,Z)),Qe=null,gt=null,yt=null,ze=null,U=null,Ct}},{key:"_sendDataConnectWithSocket",value:function(H,k,M,U){var G=this;return new V.Promise(function(z,Z){G._sendData(H,k,!0,function(ie){var se=!1;try{se=p.isString(ie)?p.parse(ie):ie}catch{}if(G._resetErr(),se){if(se instanceof Blob||eu(se))return void z(se);uo(se)&&(G._errorCode=se.exception,G._errorString=se.description)}z(U?se:se.result)},function(ie){Z({code:G._errorCode,message:G._getErrorString()})})})}},{key:"_sendDataByHttpAsync",value:function(H,k,M,U,G){var z,Z=this;if(Z._resetErr(),!Z._isValid())return V.Promise.reject({code:Z._errorCode,message:Z._getErrorString()});if(n.isServerInvalid(Z))return G?V.Promise.reject({code:Z._errorCode,message:Z._getErrorString()}):Z._waitForConnect().then(function(){return Z._sendDataByHttpAsync(H,k,M)});if(B.DWT.ConnectWithSocket)return Z._sendDataConnectWithSocket(H,k,M,U);z={method:"post",async:!0,body:dl(Z._clientId,H,k,0,Z._bScanForProxyRemote),dataType:M??"text"};var ie=null,se=p.guid();return Z._bIfShowProgressBar&&(ie=V.progressContext),TT(ie,se)([Z._httpUrl,"fa/",H].join(""),z).then(function(re){var ae=!1;try{ae=p.isString(re)?p.parse(re):re}catch{}if(ae){if(ae instanceof Blob||eu(ae))return ae;if(!uo(ae))return Z._resetErr(),U?ae:ae.result;Z._errorCode=ae.exception,Z._errorString=ae.description}else fT(Z);throw{code:Z._errorCode,message:Z._getErrorString()}},function(re){if(Z._errorCode=re.code,Z._errorString=re.message,!V.page.bUnload)throw re})}},{key:"_sendData",value:function(H,k,M,U,G){var z=this,Z=null,ie=null,se=!1,re=!0;if(!z._destroy){if(H=="ActiveUI"?re=!1:se=n.isServerInvalid(z),se)return z._waitForConnect().then(function(){z._sendData(H,k,M,U,G)}).catch(function(ve){p.isFunction(G)&&G(ve.code,ve.message)});var ae;p.isFunction(U)&&(ie=U),p.isFunction(G)&&(Z=G),ae=H=="ConvertToBlob"||H=="Heartbeat"?0:dp();var Se=this._getWSContextData(),ge={cmd:H,cmdId:ae,sFun:ie,fFun:Z,contextData:Se,rawData:M!=null&&M};return z._innerSendByWS(H,k,ge,null,re)}}},{key:"_innerFunV2",value:(J=a(E().mark(function H(k,M,U){var G,z,Z;return E().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(G=this,!(Z=U)&&!p.isUndefined(Z)){ie.next=7;break}return ie.next=4,G._sendDataConnectWithSocket(k,M,"json",!0);case 4:z=ie.sent,ie.next=10;break;case 7:return ie.next=9,G._sendDataByHttpAsync(k,M,"json",!0);case 9:z=ie.sent;case 10:if(!(z&&p.isArray(z)&&z.length>0)){ie.next=12;break}return ie.abrupt("return",z[0]);case 12:if(!(z&&p.isArray(z.result)&&z.result.length>0)){ie.next=14;break}return ie.abrupt("return",z.result[0]);case 14:return ie.abrupt("return",z);case 15:case"end":return ie.stop()}},H,this)})),function(H,k,M){return J.apply(this,arguments)})},{key:"_OnReady",value:(Q=a(E().mark(function H(){var k,M;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if((k=this)._wsRetry=0,k._wsFailedTimes=0,V.detect.starting=!1,k._bRemoteMode||(V.detect.bOK=!0),k._bReady=!0,(M=k._wsClient.ws)!==null){U.next=9;break}return U.abrupt("return");case 9:M.onopen=null,k._wsClient.addEvent("close",k._clientId,function(G){G&&p.log("websocket close: "+G),k.__bAcquireImageNow=!1,k._OnWSClose(G)}),k._wsClient.addEvent("error",k._clientId,function(G){G&&p.log("websocket error: "+G),k.__bAcquireImageNow=!1,k._OnWSError(G)}),k._wsClient.addEvent("timeout",k._clientId,function(G){G&&p.log("websocket timeout: "+G),k._OnWSTimeout(G)});case 13:case"end":return U.stop()}},H,this)})),function(){return Q.apply(this,arguments)})},{key:"getServiceInfo",value:function(){return this._dmService}},{key:"_OnWSClose",value:function(H){var k,M,U,G=this;G._bReady=!1,G._wsRetry=0,G._bRemoteMode&&(k=(M=(U=G.getServiceInfo())===null||U===void 0||(U=U.attrs)===null||U===void 0?void 0:U.name)!==null&&M!==void 0?M:""),sl(G,k),G.__closeRemoteScanUI(!0),G._heartBeatTimer&&(clearTimeout(G._heartBeatTimer),G._heartBeatTimer=null),G._bNoMask||function(ie){p.log("hideMask:"+ie+"--"+ms),WT(),ms=0}("websocket close"),G.__OnWSClose&&G.__OnWSClose();var z=G._bRemoteMode?Or.RemoteReconnectMaxTimes:Or.LocalReconnectMaxTimes;if(G._wsFailedTimes<z){var Z=G._reconnectTimeSpan;G._wsFailedTimes<G._reconnectShortSpanTimes&&(Z=G._reconnectShortSpan),G._heartBeatTimer=setTimeout(function(){n.startDWTReconnect(G)},Z)}}},{key:"_OnWSError",value:function(H){var k=this;k._bReady=!1,k.__OnWSError&&k.__OnWSError()}},{key:"_OnWSTimeout",value:function(H){var k,M,U,G=this;G._bReady=!1,G._wsRetry=0,G._bRemoteMode&&(k=(M=(U=G.getServiceInfo())===null||U===void 0||(U=U.attrs)===null||U===void 0?void 0:U.name)!==null&&M!==void 0?M:""),sl(G,k),G.__closeRemoteScanUI(!0),G._heartBeatTimer&&(clearTimeout(G._heartBeatTimer),G._heartBeatTimer=null);var z=G._bRemoteMode?Or.RemoteReconnectMaxTimes:Or.LocalReconnectMaxTimes;if(G._wsFailedTimes<z){var Z=G._reconnectTimeSpan;G._wsFailedTimes<G._reconnectShortSpanTimes&&(Z=G._reconnectShortSpan),G._heartBeatTimer=setTimeout(function(){n.startDWTReconnect(G)},Z)}}},{key:"__OnRecieveMsg",value:function(H,k){var M=this;if(H.event)return M._handleEvent(H,k.contextData);if(uo(H)?(M._errorCode=H.exception,M._errorString=H.description):(M._errorCode=0,M._errorString=""),B.DWT.ConnectWithSocket){var U=H,G=k==null?void 0:k.cmd;return G=="ActiveUI"||G=="VersionInfo"||G=="ConvertToBase64"||G=="SaveSelectedImagesToBase64Binary"||G=="ConvertToBlob"?k.sFun&&p.isArray(H.result)&&H.result.length>0?(k.sFun(H.result),!0):(k.fFun&&k.fFun(H.result),!1):(M._errorCode!=0&&k.fFun&&k.fFun(M._errorString),G=="BeginSaveMem"||G=="CreateLocalStorage"||G=="LocalStorageExist"||G=="SaveToLocalStorage"||G=="LoadFromLocalStorage"||G=="RemoveLocalStorage"?k.sFun&&p.isArray(H.result)&&H.result.length>0?(k.sFun(H.result),!0):(k.fFun&&k.fFun(H.result),!1):(U=k.rawData?H:p.isArray(H.result)&&H.result.length>0?H.result[0]:H.result,k.sFun?k.sFun(U):k.fFun&&k.fFun(U),H=null,!0))}if(M._errorCode==0)return k.sFun&&p.isArray(H.result)&&H.result.length>0?(k.sFun(H.result),!0):(k.fFun(H.result),!0);var z=!1;k.fFun&&(z=k.fFun(M._errorString)),!z&&H.exception&&H.exception<0&&H.exception!=-2115&&p.isFunction(M.__OnPrintMsg)&&M.__OnPrintMsg(M._errorString)}},{key:"_handleOnBitmapChangedEvent",value:function(H,k){try{var M,U,G,z,Z,ie,se,re,ae,Se,ge,ve,Me,Qe,ze,yt,at=H.result[0],gt=H.result[1];if(p.isString(gt)){var Ct=JSON.parse(gt);M=p.isArray(Ct)?Ct:[Ct]}else p.isArray(gt)&&(M=gt);if(p.isArray(M)){for(yt=k||{},Qe=0;Qe<M.length;Qe++)if(ze=M[Qe],p.isArray(ze.images))if(U=ze.consumeType,G=ze.curImageId,z=ze.type,Z=ze.images.length,z!=vn.enumBCAppend&&z!=vn.enumBCInsert||(!yt.document&&ze.document&&(yt.document=ze.document),!yt.tag&&ze.tag&&(yt.tag=ze.tag)),z==vn.enumBCRemove){var Be=[];for(ie=0;ie<Z;ie++)Be.push(ze.images[ie].id);var Oe=[at,Be.join(","),z,G,Z,null,null,null,null,null,null,re];this._OnBitmapChanged(Oe,H,yt)}else for(ie=0;ie<Z;ie++){se=ze.images[ie].id,Se=ze.images[ie].width,ge=ze.images[ie].height,ae=ze.images[ie].depth,ve=ze.images[ie].xdpi,Me=ze.images[ie].ydpi,re=ze.images[ie].uid;var tt=[at,se.toString(),z,G,Z,Se,ge,ae,ve,Me,U,re];this._OnBitmapChanged(tt,H,yt)}}}catch(pt){vr(pt)}return rt}},{key:"_handleEvent",value:function(H,k){var M=this,U=H.result[0],G=xe;return H.event=="OnBitmapChanged"?M._handleOnBitmapChangedEvent(H,k):(p.each(k$,function(z,Z){if(H.event===z){var ie=["_",z].join("");return G=rt,p.isFunction(M[ie])&&M[ie](H.result,H),xe}}),G?(p.log("handled event:"+H.event),p.each(D$,function(z,Z){if(H.event===z)return p.log("sendback event:"+H.event),M._innerSendByWS(H.event,Ve(U),null,null,rt),xe})):(p.each(V.Addon_Events,function(z,Z){if(H.event===z){var ie=["_",z].join("");return G=rt,p.isFunction(M[ie])&&M[ie](H.result),xe}}),G&&(p.log("handled addon event:"+H.event),p.each(V.Addon_Sendback_Events,function(z,Z){if(H.event===z)return p.log("sendback addon event:"+H.event),M._innerSendByWS(H.event,Ve(U),null,null,rt),xe}))),G)}},{key:"_setProductKeyAsync",value:function(H){var k=this,M=H;return k._resetErr(),k._isValid()?Ie.bUseDynamsoftLicenseManager||k._blts?(bT(k),V.Promise.reject({code:k._errorCode,message:k._getErrorString()})):p.isString(M)?_t.isLicenseMixed(M,!1)?V.Promise.reject(B.DWT.licenseException):_t.isLongKey(M)?rC(c_,k,x$).call(k,M).then(function(U){var G=U;if(!G||G.message)throw Po(k),G&&G.message&&(k._errorString=G.message),{code:k._errorCode,message:k._getErrorString()};return zT(k,G),G}):(Po(k),V.Promise.reject({code:k._errorCode,message:k._getErrorString()})):(Po(k),V.Promise.reject({code:k._errorCode,message:k._getErrorString()})):V.Promise.reject({code:k._errorCode,message:k._getErrorString()})}},{key:"_setLTSLic",value:function(H){var k=this,M=H;return k._resetErr(),!!k._isValid()&&(p.isString(M)?k._sendDataByHttpAsync("LTSLicense",Ve(M),null,!0).then(function(U){if(U){if(uo(U))throw k._errorCode=U.exception,k._errorString=U.description,{code:k._errorCode,message:k._getErrorString()};return k._innerFunV2("GetLicenseInfo",Ve(0))}throw Po(k),{code:k._errorCode,message:k._getErrorString()}}):(Po(k),V.Promise.reject({code:k._errorCode,message:k._getErrorString()})))}},{key:"_setLTSLicenseAsync",value:function(H){var k=this;return k._resetErr(),k._isValid()?p.isString(H)?k._setLTSLic(H).then(function(M){var U=M;if(!U||U.message)throw Po(k),U&&U.message&&(k._errorString=U.message),{code:k._errorCode,message:k._getErrorString()};return zT(k,U),k.__licenseInfo&&(k.__licenseInfo.LTS=!0),U}):(Po(k),V.Promise.reject({code:k._errorCode,message:k._getErrorString()})):V.Promise.reject({code:k._errorCode,message:k._getErrorString()})}},{key:"_innerActiveUI",value:(q=a(E().mark(function H(k){var M,U,G,z,Z;return E().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return M=this,U=V.detect.ssl,G=c9(),M._bRemoteMode||(G=5),z="",M._blts&&(z=k??""),ie.next=6,new V.Promise(function(se,re){M._sendData("ActiveUI",Ve(Wr.WSVersion,Wr.WSSession,1,z,U,1,G),!1,se,re)});case 6:return Z=ie.sent,M=null,ie.abrupt("return",Z);case 9:case"end":return ie.stop()}},H,this)})),function(H){return q.apply(this,arguments)})},{key:"_reconnected",value:(ee=a(E().mark(function H(k){var M,U,G,z,Z,ie,se,re;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return(M=this)._wsFailedTimes=0,ae.next=4,M._innerActiveUI(M._uuidForActiveUI);case 4:if(U=ae.sent,G=!1,U&&(U.length>12?(M.__serverId=U[1],G=U[12]):U.length>8?(M.__serverId=U[1],G=U[8]):U.length>=2&&(M.__serverId=U[1])),M._bReady=!0,M._bRemoteMode||(V.detect.bOK=!0),V.detect.starting=!1,G){try{M._OnActiveUIClearBuffer()}catch{M._resetErr()}Fe(M,-2614,"The Dynamsoft Service has been restarted.")}if(ae.prev=11,!M._blts){ae.next=21;break}return z=M._bRemoteMode&&(Z=(ie=M._dmService)===null||ie===void 0||(ie=ie.attrs)===null||ie===void 0?void 0:ie.UUID)!==null&&Z!==void 0?Z:"",ae.next=16,a_(B.DWT.lgdt(),z);case 16:return se=ae.sent,ae.next=19,M._setLTSLicenseAsync(se.ar);case 19:ae.next=24;break;case 21:return re=Ie.refProductKey,ae.next=24,M._setProductKeyAsync(re);case 24:return ae.next=26,M._OnReconnected();case 26:ae.next=32;break;case 28:throw ae.prev=28,ae.t0=ae.catch(11),M._bRemoteMode&&tp(M),{code:M._errorCode,message:M._errorString};case 32:return ae.prev=32,M._bRemoteMode&&n.startHeartBeat(M),ae.finish(32);case 35:case"end":return ae.stop()}},H,this,[[11,28,32,35]])})),function(H){return ee.apply(this,arguments)})},{key:"_OnReconnected",value:($=a(E().mark(function H(){return E().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:case"end":return k.stop()}},H)})),function(){return $.apply(this,arguments)})},{key:"_initRemoteDiv",value:function(){if(!this._acquireDivEL){var H=document.createElement("div");H.style.position="fixed",H.style.zIndex="510000",H.style.left="0",H.style.top="0";var k=document.createElement("img");k.className="ds-img-screen",H.appendChild(k),document.body.appendChild(H),this._acquireDivEL=H}}},{key:"getHeartBeatData",value:function(H){var k,M=dl(this._clientId,H.cmd,null,H.cmdId,this._bScanForProxyRemote),U=M.length,G=U,z=new ArrayBuffer(12+G),Z=new DataView(z);for(k=0;k<8&&G;k++)Z.setUint8(k,G%256),G=Math.floor(G/256);for(k=0;k<4&&U;k++)Z.setUint8(8+k,U%256),U=Math.floor(U/256);for(k=0;k<M.length;k++)Z.setUint8(12+k,M.charCodeAt(k));return z}},{key:"__closeRemoteScanUI",value:function(H){var k=this;if(k._acquireDivEL){var M=p.sizzle(".ds-img-screen");k._acquireDivEL.evtFun?(M&&M.length>0&&p.removeEventListener(M[0],"mouseup",k._acquireDivEL.evtFun),k._acquireDivEL.evtFun=null):M&&M.length>0&&p.removeEventListener(M[0],"mouseup"),M&&M.length>0&&(M[0].src=""),H&&(document.body.removeChild(k._acquireDivEL),k._acquireDivEL=null)}}},{key:"_removeImageByIdAsync",value:(L=a(E().mark(function H(k){var M;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if((M=this)._resetErr(),M._isValid()){U.next=4;break}throw{code:M._errorCode,message:M._errorString};case 4:return U.next=6,M._innerFunV2("RemoveAllImages",Ve(k));case 6:return U.abrupt("return",U.sent);case 7:case"end":return U.stop()}},H,this)})),function(H){return L.apply(this,arguments)})},{key:"_removeAllImagesAsync",value:(P=a(E().mark(function H(k,M){var U;return E().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if((U=this)._resetErr(),U._isValid()){G.next=4;break}throw{code:U._errorCode,message:U._getErrorString()};case 4:return G.next=6,U._innerFunV2("RemoveAllImages");case 6:return G.abrupt("return",G.sent);case 7:case"end":return G.stop()}},H,this)})),function(H,k){return P.apply(this,arguments)})},{key:"_LicensePromptExpired",value:function(){}},{key:"_OnActiveUI",value:(A=a(E().mark(function H(k){var M,U,G,z,Z,ie,se,re,ae,Se,ge,ve,Me,Qe,ze,yt,at;return E().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:if(M=this,G=!1,k&&k.length>=6?(k[2],U=k[5],z=!1,Z=!1,ie=0,k.length>12?(k[6],M._b64bit=k[7]=="64",k[8],z=k[9],Z=k[10],ie=k[11],k[12]):k.length>8&&(z=k[6],Z=k[7],ie=k[8]),z?Z&&ie&&(M._bRemoteMode=!0):M._bRemoteMode=!0,p.isString(U)&&(U=="win"?M.__serverPlatform=Et.enumWindow:U=="linux"?M.__serverPlatform=Et.enumLinux:U=="mac"?M.__serverPlatform=Et.enumMac:U=="embed"?M.__serverPlatform=Et.enumEmbed:U=="chromeos"&&(M.__serverPlatform=Et.enumChromeOS))):G=!0,M._bMustUpgradeService=G,G){gt.next=67;break}if(Nr("Activating the WebTwain instance..."),se=!1,!M._blts){gt.next=44;break}return ae=M._bRemoteMode&&(Se=(ge=M._dmService)===null||ge===void 0||(ge=ge.attrs)===null||ge===void 0?void 0:ge.UUID)!==null&&Se!==void 0?Se:"",gt.prev=10,gt.next=13,a_(B.DWT.lgdt(),ae);case 13:re=gt.sent,gt.next=27;break;case 16:if(gt.prev=16,gt.t0=gt.catch(10),GT(M,gt.t0),ve=zF(M._errorCode),!M._bLicenseErrorDispose){gt.next=25;break}throw M._bRemoteMode||(ve?this._LicensePromptExpired():HF(M)),{code:M._errorCode,message:M._errorString};case 25:ve||p.warn(M._errorString),re=null;case 27:if(Nr(yF),!re){gt.next=41;break}return gt.next=31,M._setLTSLicenseAsync(re.ar);case 31:return Me=gt.sent,B.DWT.laddDWTObj(M),ae="",M._bRemoteMode&&(ae=(Qe=(ze=M._dmService)===null||ze===void 0||(ze=ze.attrs)===null||ze===void 0?void 0:ze.UUID)!==null&&Qe!==void 0?Qe:""),Nr(SF),gt.next=38,B.DWT.lcheckLic(B.DWT.lgdt(),Me,ae);case 38:se=B.DWT.licenseException.code==0,gt.next=42;break;case 41:se=!1;case 42:gt.next=62;break;case 44:return Nr(yF),yt=Ie.refProductKey,gt.prev=46,gt.next=49,M._setProductKeyAsync(yt);case 49:gt.sent&&(se=!0),gt.next=62;break;case 53:if(gt.prev=53,gt.t1=gt.catch(46),!M._bLicenseErrorDispose){gt.next=60;break}throw M._bRemoteMode||u_(gt.t1.code)&&$T(gt.t1),gt.t1;case 60:p.warn(gt.t1.message);case 61:se=!1;case 62:if(se&&(Nr(SF),_t.checkProductKey(M,{Core:!0})||(at={code:M._errorCode,message:M._getErrorString()},M._resetErr(),B.DWT.lclex(),ue.bWin&&_t.checkProductKey(M,{Webcam:!0},!0)||(M._errorCode=at.code,M._errorString=at.message))),M._errorCode==0){gt.next=67;break}if(M._bRemoteMode||(zF(M._errorCode)?this._LicensePromptExpired():HF(M)),!M._bLicenseErrorDispose){gt.next=67;break}throw{code:M._errorCode,message:M._getErrorString()};case 67:M._bRemoteMode&&n.startHeartBeat(M);case 68:case"end":return gt.stop()}},H,this,[[10,16],[46,53]])})),function(H){return A.apply(this,arguments)})},{key:"_innerConvertToArrayBufferAsync",value:(I=a(E().mark(function H(k,M,U,G){var z,Z,ie,se,re;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return z=this,Z=U,ie=G??"arraybuffer",se=",",p.isString(Z)&&Z!=""||(Z="",se=""),re=["[",k,',"',M.join(","),'"',se,Z,"]"].join(""),ae.next=6,z._sendDataByHttpAsync("ConvertToBlob",re,ie,!0);case 6:return ae.abrupt("return",ae.sent);case 7:case"end":return ae.stop()}},H,this)})),function(H,k,M,U){return I.apply(this,arguments)})},{key:"_getImageByServerId",value:(b=a(E().mark(function H(k){var M,U,G;return E().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return M=Qt.IT_PNG,z.next=3,this._innerConvertToArrayBufferAsync(M,[k],void 0,void 0);case 3:return U=z.sent,G=qT(M),z.abrupt("return",new Blob([U],{type:G}));case 6:case"end":return z.stop()}},H,this)})),function(H){return b.apply(this,arguments)})},{key:"_getSourcesAsync",value:(_=a(E().mark(function H(k,M,U){var G,z;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return G=this,Z.next=3,G._innerFunV2("GetSources",Ve(k,M!=null&&M,U!=null&&U));case 3:return z=Z.sent,Z.abrupt("return",KF(this,z));case 5:case"end":return Z.stop()}},H,this)})),function(H,k,M){return _.apply(this,arguments)})},{key:"_getDevices",value:(S=a(E().mark(function H(k,M,U){var G,z,Z,ie,se,re;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(z=[],Z="getDevices",ie=(G=this)._bRemoteMode?lp:ue.bAndroid?BT:lp,se=k??ie,G._resetErr(),G._isValid()){ae.next=5;break}return ae.abrupt("return",V.Promise.reject({code:G._errorCode,message:G._getErrorString()}));case 5:return G._bNoMask||Xr(Z,G),ae.prev=6,ae.next=9,G._getSourcesAsync(se,M,U);case 9:re=ae.sent,p.isArray(re)&&re.length>0&&(z=z.concat(re)),ae.next=16;break;case 13:throw ae.prev=13,ae.t0=ae.catch(6),ae.t0;case 16:return ae.prev=16,G._bNoMask||kr(Z),ae.finish(16);case 19:return ae.abrupt("return",z);case 20:case"end":return ae.stop()}},H,this,[[6,13,16,19]])})),function(H,k,M){return S.apply(this,arguments)})},{key:"_innerAcquireImageFromService",value:function(H,k,M){var U,G,z=this;if(G=p.clone(H),!_t.checkProductKey(z,{Core:!0}))return p.isFunction(M)&&M(z._errorCode,z._getErrorString()),!1;var Z=z._bRemoteMode?rt:xe;G.RemoteScan=Z?1:0,z._bRemoteMode&&(p.isFunction(z.__OnRemoteScanStatusAsync)||(z.__OnRemoteScanStatusAsync=function(){}),p.isFunction(z.__OnSourceUIClose)||(z.__OnSourceUIClose=function(){}));for(var ie=0,se=0;se<l_.length;se++){var re=["__",l_[se]].join("");p.isFunction(z[re])&&(ie|=1<<se)}return G.EnableEvents=ie,Z&&z._isBindViewer()&&z._initRemoteDiv(),z._bRemoteMode||(z._bPageFocus&&B.DWT.IfAlwaysFocusOnPopupWindow?z._bServerAlwaysFocusOnPopupWindow||z._OnPageFocus(!0):z._bServerAlwaysFocusOnPopupWindow&&z._OnPageBlur(!0)),U=["[",p.stringify(G),"]"].join(""),z._sendData("AcquireImage",U,!0,function(ae){k(ae)},function(ae){M(z._errorCode,z._getErrorString())}),!0}},{key:"_canConsume",value:function(){return this._blts&&!this._bltsCopyImage}},{key:"_acquireImageFromServiceAsync",value:function(H){var k=this;return new V.Promise(function(M,U){return k._innerAcquireImageFromService(H,function(){k._canConsume()&&B.DWT.lcvrf(k),M(!0)},function(G,z){U({code:G,message:z})})})}},{key:"_acquireImage",value:(v=a(E().mark(function H(k,M){var U,G,z,Z,ie;return E().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(U=this,G=M?p.clone(M):{},z="acuqireImage",U._resetErr(),U._isValid()){se.next=4;break}throw{code:U._errorCode,message:U._getErrorString()};case 4:if(_t.checkProductKey(U,{Core:!0})&&U._isValid()){se.next=6;break}throw{code:U._errorCode,message:U._getErrorString()};case 6:if(!U.__bAcquireImageNow){se.next=9;break}throw FR(U),{code:U._errorCode,message:U._getErrorString()};case 9:return U.__bAcquireImageNow=!0,U._bNoMask||Xr(z,U),Z=B.DWT.RemoteScanConfig,ie=wR(),se.prev=12,oO(G),Z&&Gv(Z.keepAwake),k!=null&&(G.Device=k.strDevice,G.DeviceMatchField=pp.SMF_NAME),se.next=18,U._acquireImageFromServiceAsync(G);case 18:se.next=23;break;case 20:throw se.prev=20,se.t0=se.catch(12),se.t0;case 23:return se.prev=23,U.__bAcquireImageNow=!1,U._bNoMask||kr(z),Gv(ie),se.finish(23);case 28:return se.abrupt("return",!0);case 29:case"end":return se.stop()}},H,this,[[12,20,23,28]])})),function(H,k){return v.apply(this,arguments)})},{key:"_getCapabilities",value:(m=a(E().mark(function H(k,M,U){var G,z,Z,ie,se;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return z=null,rC(c_,G=this,rO).call(G,k),G._initRemoteDiv(),re.next=5,G._innerSelectDeviceAsync(k);case 5:return p.isArray(U)&&(z=Ve(U)),re.next=8,G._sendDataByHttpAsync("GetCapabilities",z);case 8:if(Z=re.sent,re.prev=9,Z.length>0&&(se=Z[0]),!p.isString(se)){re.next=22;break}if(se=V.removeNonPrintableChar(se),se=p.replaceAll(se,"\\\\","\\\\"),(ie=JSON.parse(se)).errorCode!=0){re.next=17;break}return re.abrupt("return",ie.response);case 17:throw G._errorCode=ie.errorCode,G._errorString=ie.errorString,{code:G._errorCode,message:G._getErrorString()};case 22:throw Mi(G),{code:G._errorCode,message:G._getErrorString()};case 24:re.next=31;break;case 26:throw re.prev=26,re.t0=re.catch(9),G._errorCode=-2302,G._errorString=re.t0,{code:G._errorCode,message:G._getErrorString()};case 31:case"end":return re.stop()}},H,this,[[9,26]])})),function(H,k,M){return m.apply(this,arguments)})},{key:"_setCapabilities",value:(f=a(E().mark(function H(k,M,U){var G,z;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(rC(c_,G=this,rO).call(G,k),p.isObject(M)&&!p.isArray(M)){Z.next=5;break}throw $t(G),{code:G._errorCode,message:G._getErrorString()};case 5:return G._initRemoteDiv(),Z.next=8,G._innerSelectDeviceAsync(k);case 8:return z=["[",p.stringify(M),"]"].join(""),Z.next=11,G._sendDataByHttpAsync("SetCapabilities",z);case 11:return Z.abrupt("return",Z.sent);case 12:case"end":return Z.stop()}},H,this)})),function(H,k,M){return f.apply(this,arguments)})},{key:"_closeSource",value:(c=a(E().mark(function H(){var k;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return k=this,M.next=3,k._innerFunV2("CloseSource");case 3:case"end":return M.stop()}},H,this)})),function(){return c.apply(this,arguments)})},{key:"_innerSelectDeviceAsync",value:(l=a(E().mark(function H(k,M){var U,G,z,Z,ie,se,re,ae;return E().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(G=this,k&&k instanceof Zo){Se.next=4;break}throw $t(G),{code:G._errorCode,message:G._errorString};case 4:if(!(z=(U=this._dmService.attrs)===null||U===void 0?void 0:U.UUID)){Se.next=17;break}if(((Z=k.serviceInfo.attrs)===null||Z===void 0?void 0:Z.UUID)!=z){Se.next=10;break}Se.next=17;break;case 10:if(!((se=((ie=k.serviceInfo.attrs)===null||ie===void 0?void 0:ie.url)||k.serviceInfo.server)&&se.indexOf(z)>-1)){Se.next=15;break}Se.next=17;break;case 15:throw YR(G),{code:G._errorCode,message:G._errorString};case 17:return re=M??pp.SMF_NAME,ae=["[",k.strDevice,",",re,"]"].join(""),Se.next=20,G._innerFunV2("SelectSourceEx",ae);case 20:return Se.abrupt("return",Se.sent);case 21:case"end":return Se.stop()}},H,this)})),function(H,k){return l.apply(this,arguments)})},{key:"registerEvent",value:function(H,k){return p.isUndefined(H)?(ci(this),!1):!p.isString(H)||p.isString(H)&&H.trim().length==0||p.isUndefined(k)||!p.isFunction(k)?($t(this),!1):!!this._registerEvent(H,k)}},{key:"unregisterEvent",value:function(H,k){return this._unregisterEvent(H,k)}},{key:"_registerEvent",value:function(H,k){var M=this;return M._resetErr(),!!M._isValid()&&(M[["__",H].join("")]=k,!0)}},{key:"_unregisterEvent",value:function(H,k){var M=this;return M._resetErr(),!!M._isValid()&&(M[["__",H].join("")]=null,rt)}},{key:"_OnPageFocus",value:function(H){var k=this;if(k._bPageFocus=!0,k._bReady&&ue.bWin&&B.DWT.IfAlwaysFocusOnPopupWindow){var M=p.stringify({sequence:0,wnds:0,wnd:"0",type:3,x:0,y:0});if(k.__bAcquireImageNow||H||k.__bOpenFileNow){k._bServerAlwaysFocusOnPopupWindow=!0;try{k._isValid()&&k._sendDataByHttpAsync("SendEventToScannerUI",["[",M,"]"].join(""))}catch{}}}}},{key:"_OnPageBlur",value:function(H){var k=this;if(ue.bWin&&k._bReady){var M=p.stringify({sequence:0,wnds:0,wnd:"0",type:4,x:0,y:0});if((k._bPageFocus!=0||H)&&(k._bPageFocus=!1,k.__bAcquireImageNow||H||k.__bOpenFileNow)){k._bServerAlwaysFocusOnPopupWindow=!1;try{k._isValid()&&k._sendDataByHttpAsync("SendEventToScannerUI",["[",M,"]"].join(""))}catch{}}}}},{key:"_OnRemoteScanStatusAsync",value:function(H){var k,M,U,G,z,Z,ie,se=this;if(H&&H.length>=2){try{var re=new String(H[1]);k=p.parse(re)}catch(Se){p.error(Se.message),p.log("parse json failed: "+H[1])}k||(k={sequence:0,screen:[]})}if(k&&k.sequence)if(k.sequence>0&&k.screen&&k.screen.length>0){if(M=k.screen,G=k.sequence,Z=k.wnds,ie=(U=M[0]).img,p.isString(ie)&&ie!=""&&(z=U.wnd),G&&z){var ae=p.sizzle(".ds-img-screen");ae&&ae.length>0&&se._acquireDivEL&&(se._acquireDivEL.evtFun&&(p.removeEventListener(ae[0],"mouseup",se._acquireDivEL.evtFun),se._acquireDivEL.evtFun=null),ae[0].src=ie,se._acquireDivEL.evtFun=function(Se){Z||(Z="0");var ge=p.stringify({sequence:G,wnds:Z,wnd:z+"",type:2,x:Se.offsetX,y:Se.offsetY});se._sendDataByHttpAsync("SendEventToScannerUI",["[",ge,"]"].join(""))},p.addEventListener(ae[0],"mouseup",se._acquireDivEL.evtFun))}}else se.__closeRemoteScanUI(!1);return p.isFunction(se.__OnRemoteScanStatusAsync)&&se.__OnRemoteScanStatusAsync(k),!0}},{key:"_OnBitmapChanged",value:function(H,k,M){var U=this,G=H[0]=="m1",z=H[0]=="c1",Z=H[0]=="c2",ie=z||Z||G,se=H[2],re=H[3],ae=-1;if(!ie){if(H.length>10&&(ae=H[10]),ae>-1&&U._canConsume()&&(se==vn.enumBCAppend||se==vn.enumBCInsert)){var Se=B.DWT.lgct(ae);p.isFunction(U.__OnLtsverify)&&U.__OnLtsverify(Se,1)}if((se==vn.enumBCAppend||se==vn.enumBCInsert)&&p.isFunction(U.__OnBufferChanged)){var ge={action:"add",currentId:re,imageIds:[],selectedIds:[]};U.__OnBufferChanged(ge)}}}},{key:"_OnPostTransferAsync",value:function(H,k,M){var U,G=this;if(H&&H.length>=2)try{var z=String(H[1]).replace(/\\/g,"\\\\");U=p.parse(z)}catch(ie){p.error(ie)}U||(U={imageId:""});var Z=!1;if(p.isFunction(G.__OnPostTransferAsync))try{Z=G.__OnPostTransferAsync(U)}catch(ie){vr(ie)}if(p.isFunction(G.__OnPostTransferAsync2))try{G.__OnPostTransferAsync2(U)}catch(ie){vr(ie)}return Z}},{key:"_OnCurrentDeviceSelected",value:function(H,k){}},{key:"_getErrorCode",value:function(){return this._errorCode}},{key:"_getErrorString",value:function(){return this._errorCode!=0?this._errorString:"Successful."}},{key:"_isBindViewer",value:function(){return!1}},{key:"_isNoViewer",value:function(){return!0}},{key:"_isMobileMode",value:function(){return!1}},{key:"_needCheckProxyRemoteScanLicense",value:function(){if(!this._blts&&this._bScanForProxyRemote){if(this._strRemoteServiceVer=="")return!0;var H=function(k){var M=k.split(","),U=[18,3];return p.trim(M[0])>U[0]||M.length>1&&p.trim(M[0])==U[0]&&p.trim(M[1])>=U[1]}(this._strRemoteServiceVer);if(H)return!0}return!1}},{key:"_OnActiveUIClearBuffer",value:function(){}}],[{key:"isServerInvalid",value:function(H){var k,M;if(k=!H._bReady||H._wsClient===null,M=H._bMustUpgradeService,k){var U,G,z;H._bRemoteMode&&(U=(G=(z=H._dmService)===null||z===void 0||(z=z.attrs)===null||z===void 0?void 0:z.name)!==null&&G!==void 0?G:""),sl(H,U)}else M?Td(H):H.isDestroy&&HR(H);return k||M||H._errorCode==-2208||H.isDestroy}},{key:"STwainConnectToServer",value:(u=a(E().mark(function H(k){var M,U;return E().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(M=k._id,!B.DWT.WebTwainIdMap[M]){G.next=5;break}return G.next=4,k._OnReady();case 4:return G.abrupt("return");case 5:if(!k._bReady&&!k._destroy){G.next=7;break}return G.abrupt("return");case 7:return k._bConnecting=!0,(U=ps.Instance.getClient(k._serverInfo)).setRetry(0),k._bNoMask||Xr("",k),G.prev=11,G.next=14,wF(k._bRemoteMode);case 14:return G.next=17,U.testConnection(void 0,0,void 0,1e4);case 17:if(k._wsClient=U,k._wsClient.bReady=!0,V.detect.bFirst&&(R$(),V.detect.bFirst=!1),k._bReady){G.next=24;break}return k._bReady=!0,G.next=24,k._OnReady();case 24:G.next=30;break;case 26:throw G.prev=26,G.t0=G.catch(11),k._bReady=!1,{code:k._errorCode,message:k._getErrorString()};case 30:return G.prev=30,k._bConnecting=!1,k._bNoMask||kr(""),G.finish(30);case 34:case"end":return G.stop()}},H,null,[[11,26,30,34]])})),function(H){return u.apply(this,arguments)})},{key:"_innerSendHeartBeat",value:(s=a(E().mark(function H(k,M){var U,G,z,Z;return E().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(ie.prev=0,!k.__bAcquireImageNow){ie.next=4;break}ie.next=14;break;case 4:if(U={client:null,userData:null,taskId:"0",eventTaskId:"0",lastEventTaskId:"0"},G=dp(),z={cmd:"Heartbeat",cmdId:G,sFun:null,fFun:null,contextData:null,rawData:!0},Z=k.getHeartBeatData(z),!k._wsClient){ie.next=12;break}return k._wsClient.setRetry(0),ie.next=12,k._wsClient.request(Z,null,U);case 12:z=null,Z=null;case 14:ie.next=18;break;case 16:ie.prev=16,ie.t0=ie.catch(0);case 18:k._wsClient&&k._wsClient.connected&&M&&setTimeout(function(){n._innerSendHeartBeat(k,M)},k._wsClient._heartBeatTicks);case 19:case"end":return ie.stop()}},H,null,[[0,16]])})),function(H,k){return s.apply(this,arguments)})},{key:"startDWTReconnect",value:(o=a(E().mark(function H(k){var M,U,G,z,Z;return E().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(ie.prev=0,!k._destroy){ie.next=3;break}return ie.abrupt("return");case 3:if(M=k._serverInfo,!(Pt.bEnhancedMode&&M&&M.port)){ie.next=24;break}return Ie.bDCPChecked=!1,ie.prev=6,ie.next=9,ZT(si(),B.DWT.Port,B.DWT.SSLPort);case 9:if(!(U=ie.sent)){ie.next=14;break}k._serverInfo.port=ue.bSSL?U.sslPort:U.port,ie.next=16;break;case 14:throw Mi(k),rr(k);case 16:ie.next=24;break;case 18:return ie.prev=18,ie.t0=ie.catch(6),k._wsFailedTimes++,G=k._bRemoteMode?Or.RemoteReconnectMaxTimes:Or.LocalReconnectMaxTimes,k._wsFailedTimes<G&&(z=k._reconnectTimeSpan,k._wsFailedTimes<k._reconnectShortSpanTimes&&(z=k._reconnectShortSpan),k._heartBeatTimer=setTimeout(function(){n.startDWTReconnect(k)},z)),ie.abrupt("return");case 24:return k._bConnecting=!0,(Z=ps.Instance.getClient(k._serverInfo)).setRetry(0),ie.next=30,Z.testConnection(void 0,0,void 0,3e4);case 30:return k._wsClient=Z,k._wsClient.bReady=!0,k._wsRetry=0,ie.next=35,k._reconnected(Z);case 35:ie.next=40;break;case 37:ie.prev=37,ie.t1=ie.catch(0),k._wsFailedTimes++;case 40:return ie.prev=40,k._bConnecting=!1,ie.finish(40);case 43:case"end":return ie.stop()}},H,null,[[0,37,40,43],[6,18]])})),function(H){return o.apply(this,arguments)})},{key:"startHeartBeat",value:function(H){var k=H._wsClient;k&&k.connected&&!k._bHeartBeatStarted&&(k._bHeartBeatStarted=!0,setTimeout(function(){n._innerSendHeartBeat(H,!0)},k._heartBeatTicks))}},{key:"getServerImageUrlPrefix",value:function(H){var k,M=H._httpUrl;return k=H._bScanForProxyRemote?Or.getVersionStrForCheck():Ie.getServerVersionInfo(),[M,"dwt/",Ie.getDWTPrefix(),k,"/img?id=",H._clientId].join("")}}]);var o,s,u,l,c,f,m,v,S,_,b,I,A,P,L,$,ee,q,Q,J,te}(v$);function x$(r){var n,o=this,s=r;return o._resetErr(),o._isValid()?Ie.bUseDynamsoftLicenseManager||o._blts?(bT(o),V.Promise.reject({code:o._errorCode,message:o._getErrorString()})):(s=p.isString(s)?p.trim(s):"",n=o._sendDataConnectWithSocket("ProductKey",Ve(s),"json",!0),o.__productKey=s,n=n.then(function(u){if(p.isArray(u)&&u.length>0){if(o._errorCode!=0)throw o.__productKey="",{code:o._errorCode,message:o._getErrorString()};return B.DWT.ProductKey=o.__productKey,_t.reparseProductKey(),o._innerFunV2("GetLicenseInfo",Ve(0))}throw Po(o),n.context=null,{code:o._errorCode,message:o._getErrorString()}})):V.Promise.reject({code:o._errorCode,message:o._getErrorString()})}function rO(r){return nO.apply(this,arguments)}function nO(){return(nO=a(E().mark(function r(n){var o;return E().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if((o=this)._resetErr(),o._isValid()){s.next=4;break}return s.abrupt("return",V.Promise.reject({code:o._errorCode,message:o._errorString}));case 4:if(n&&n instanceof Zo){s.next=7;break}throw $t(o),{code:o._errorCode,message:o._errorString};case 7:case"end":return s.stop()}},r,this)}))).apply(this,arguments)}function dl(r,n,o,s,u){var l,c=[];return c.push("{"),c.push('"id":"'),c.push(r),c.push('"'),s&&(c.push(',"cmdId":"'),c.push(s),c.push('"')),c.push(',"method":"'),c.push(n),c.push('"'),c.push(',"module":"dwt","version":"'),l=u?[Ie.getDWTPrefix(),Or.getVersionStrForCheck()].join(""):[Ie.getDWTPrefix(),Ie.getServerVersionInfo()].join(""),c.push(l),c.push('"'),o!=null&&(c.push(',"parameter":'),p.isArray(o)?c.push(p.stringify(o)):c.push(o)),c.push("}"),c.join("")}function nC(r,n){return["evt",r,n].join("_")}function iO(r){if(r._bReady)r._wsCheckResolve();else{if(B.DWT.bConnectCanceled)return p.asyncQueue.stop(),ko(r),void r._wsCheckReject({code:r._errorCode,message:r._getErrorString()});if(r._wsRetry>10)return KR(r),void r._wsCheckReject({code:r._errorCode,message:r._getErrorString()});r._wsRetry++,setTimeout(function(){iO(r)},1100)}}function P$(r,n,o,s){return iC.apply(this,arguments)}function iC(){return iC=a(E().mark(function r(n,o,s,u){var l,c,f,m,v,S,_;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(o!=Br.GET_TASKID){b.next=4;break}return b.abrupt("return",u.taskId);case 4:if(o!=Br.GET_EVENT_TASKID){b.next=8;break}return b.abrupt("return",u.eventTaskId);case 8:if(o!=Br.ONMESSAGE_PROCESS_DATA){b.next=17;break}if(D(n)!=="object"){b.next=11;break}return b.abrupt("return",n);case 11:if(!((m=n).indexOf("Version not found")>=0||m.indexOf("Function not found")>=0)){b.next=14;break}return b.abrupt("return",{cmdId:s??0});case 14:return b.abrupt("return",p.parse(n));case 17:if(o!=Br.ONMESSAGE_GET_TASKID){b.next=25;break}if(!n){b.next=22;break}if(!n.event){b.next=21;break}return b.abrupt("return",0);case 21:return b.abrupt("return",n.cmdId);case 22:return b.abrupt("return",n);case 25:if(o!=Br.ONMESSAGE_GET_EVENT_TASKID){b.next=31;break}if(!n||!n.event){b.next=28;break}return b.abrupt("return",nC(n.id,n.cmdId));case 28:return b.abrupt("return",0);case 31:if(o!=Br.HANDLE_RAW_MESSAGE){b.next=59;break}if(l=u==null?void 0:u.userData){b.next=35;break}return b.abrupt("return",!1);case 35:if(c=l.stwain,f=l.command){b.next=39;break}return b.abrupt("return",!1);case 39:if(c&&p.isFunction(c.__OnWSMessage)&&c.__OnWSMessage(n),D(n)!=="object"){b.next=44;break}if(!B.DWT.ConnectWithSocket){b.next=44;break}return f.cmd!="ConvertToBlob"&&f.cmd!="GetImageByIndex"||f.sFun(n),b.abrupt("return",!0);case 44:if(!((v=n.replace(/\0/g,"")).indexOf('"method" : "Heartbeat"')>=0)){b.next=47;break}return b.abrupt("return",!0);case 47:if(!(v.indexOf('"method" : "EnableBuffer"')>=0||v.indexOf('"method" : "GetBuffer"')>=0)){b.next=50;break}return B.DWT.lwsproc(v,f),b.abrupt("return",!0);case 50:if(!(v.indexOf("Exception:")>=0||v.indexOf("Error")==0)){b.next=57;break}return S=n,_=!1,p.log(S+"@"+f.cmd),f.fFun&&(_=f.fFun(S)),!_&&c&&p.isFunction(c.__OnPrintMsg)&&c.__OnPrintMsg(S),b.abrupt("return",!0);case 57:b.next=70;break;case 59:if(o!=Br.HANDLE_PROCESSED_MESSAGE){b.next=70;break}if(l=u==null?void 0:u.userData){b.next=63;break}return b.abrupt("return",!1);case 63:if(c=l.stwain){b.next=66;break}return b.abrupt("return",!1);case 66:if(f=l.command){b.next=69;break}return b.abrupt("return",!1);case 69:return b.abrupt("return",c.__OnRecieveMsg(n,f));case 70:case"end":return b.stop()}},r)})),iC.apply(this,arguments)}function oO(r){r.Resolution!==void 0&&(r.Resolution=parseInt(r.Resolution)),r.PixelType!==void 0&&(r.PixelType=parseInt(r.PixelType)),r.SelectSourceByIndex!==void 0&&(r.SelectSourceByIndex=parseInt(r.SelectSourceByIndex))}var mp,l_=["OnPreAllTransfers","OnPreTransfer","OnPostTransfer","OnPostTransferAsync"],vn=function(r){return r.enumBCAppend=1,r.enumBCInsert=2,r.enumBCRemove=3,r.enumBCEdit=4,r.enumBCIndexChange=5,r.enumBCUpdate=6,r}({}),k$=["OnPostAllTransfers","OnPostTransfer","OnPostLoad","OnPreTransfer","OnPreAllTransfers","OnResult","OnTransferCancelled","OnTransferError","OnSourceUIClose","OnGetFilePath","OnPercentDone","OnPostTransferAsync","OnPreAllTransfersAsync","OnRemoteScanStatusAsync","OnConsumed","OnDiskExceedLimit","OnCurrentDeviceSelected"],D$=["OnPreAllTransfers","OnPreTransfer","OnPostTransfer","OnGetFilePath","OnPostLoad"],oC=p.each;function R$(){var r,n=ea.item("DWT_port"),o=ea.item("DWT_ssl");if(Pt.bEnhancedMode)return!0;V.detect.urls.splice(0),V.detect.cUrlIndex=0,n!==mp&&o!==mp&&(r={port:n,ssl:o=="true"});var s=function(u){return!r||!(!u||u.port==r.port&&u.ssl==r.ssl)};V.detect.detectType===1?(r!==mp&&r.ssl&&V.detect.urls.push(r),oC(V.detect.ports,function(u){u.ssl&&s(u)&&V.detect.urls.push(u)})):V.detect.detectType===0?(r===mp||r.ssl||V.detect.urls.push(r),oC(V.detect.ports,function(u){u.ssl===!1&&s(u)&&V.detect.urls.push(u)})):(r!==mp&&V.detect.urls.push(r),oC(V.detect.ports,function(u){s(u)&&V.detect.urls.push(u)}))}var qt=function(r){return r.TWAIN=0,r.ICA=3,r.SANE=3,r.TWAIN_AND_ICA=4,r.TWAIN_AND_TWAIN64=4,r.TWAIN64=5,r}({}),xt={notSupportProperty:function(r){},notSupportMethod:function(r){},refreshImageAfterInvokeFun:function(r,n,o){return o==1},loadHttpBlob:function(r,n,o,s,u,l,c,f){var m,v,S=xe;if(v={method:n,dataType:"blob"},f&&(v.headers=f),r.HTTPUserName!=""&&(v.username=r.HTTPUserName,v.password=r.HTTPPassword),r.__HTTPPostResponseString="",s){if(n=="get"){var _=p.guid();return V.progressContext&&(V.progressContext._onPercent=c),void TT(V.progressContext,_)(o,v).then(function(P){var L=P.type;if(L=="text/plain"||L=="text/html"||ol(L)){var $=new FileReader;$.readAsText(P),$.onload=function(){r.__HTTPPostResponseString=$.result,u(P)},$.onerror=function(){u(P)}}else u(P)},function(P){P&&P.code?(r._errorCode=P.code,r._errorString=P.message):P&&P.httpCode?pT(r,!1,P.message,P.httpCode):OR(r),p.isFunction(l)&&l({code:r._errorCode,message:r._errorString})})}v.onSuccess=function(P,L,$){var ee=$?$.getResponseHeader("content-type"):"";if(ee.indexOf("text/")>=0||ol(ee)){var q=new FileReader;q.readAsText(P),q.onload=function(){r.__HTTPPostResponseString=q.result,u(P)},q.onerror=function(){u(P)}}else u(P)},p.isFunction(c)&&(v.beforeSend=function(P){P.addEventListener("progress",function(L){!ue.bSafari&&L&&(delete L.totalSize,delete L.position),c(L)},xe)})}else ue.bIE?(v.dataType="arraybuffer",v.onSuccess=function(P,L,$){var ee,q;(ee=P||$.responseData)&&(q=new Uint8Array(ee)),r.__HTTPPostResponseString=$.responseText,r._errorCode=0,r._errorString="",u(q),q=null,S=rt}):(v.dataType="text",v.contentType="text/plain; charset=x-user-defined",v.mimeType="text/plain; charset=x-user-defined",v.onSuccess=function(P,L,$){var ee,q,Q;ee=$.responseText,r.__HTTPPostResponseString=ee,q=ee.length,Q=new Uint8Array(q);for(var J=0;J<q;J++)Q[J]=ee.charCodeAt(J);r._errorCode=0,r._errorString="",u(Q),Q=null,S=rt}),v.headers?p.mix(v.headers,{"X-Requested-With":xe}):v.headers={"X-Requested-With":xe};if(n=="post"){var b,I=r.httpFormFields;if(I)try{b=new FormData,p.each(I,function(P,L){if(P instanceof Blob){var $=P.name;b.append(L,P,$)}else b.append(L,P)}),p.mix(v,{data:b,processData:xe,contentType:xe})}catch{}}m=function(P,L,$){var ee,q;P&&p.isArray(P)&&P.length>2?(ee=P[1],q=P[2]):(ee=L,q=$),q.state!=2&&q.state!=3||q.status!=0?pT(r,xe,ee,q.status):q.statusText==="abort"?pT(r,!0):OR(r),p.isFunction(l)&&l()},v.url=o,v.async=s,v.onError=m,v.onComplete=function(){r._cancelableObj=null};var A=Ao(v);if(!s)return S;V.progressContext&&(V.progressContext._onPercent=c,r.IfShowCancelDialogWhenImageTransfer&&V.progressContext.on("cancel",function(){A.abort()}))},combineUrl:function(r,n,o){var s=[],u=n;return u===void 0||o===void 0?void 0:(p.isString(u)||(u=String(n)),u.indexOf("http://")==0?(u=u.replace("http://",""),s.push("http://")):u.indexOf("https://")==0?(u=u.replace("https://",""),s.push("https://")):(u.indexOf("//")==0&&(u=u.replace("//","")),r.IfSSL?s.push("https://"):s.push("http://")),s.push(u),u.indexOf(":")<0&&(r.HTTPPort||(r.HTTPPort=V.detect.ssl?443:80),(!V.detect.ssl&&r.HTTPPort!=80||V.detect.ssl&&r.HTTPPort!=443)&&(s.push(":"),s.push(r.HTTPPort))),o.indexOf("/")!==0&&s.push("/"),s.push(o),s.join(""))},httpPutImage:function(r,n,o,s,u,l,c){var f=rt,m={method:"PUT",url:n,hasContent:rt,processData:xe,async:s,data:o,onSuccess:u,onError:function(S,_,b){var I,A;f=xe,S&&p.isArray(S)&&S.length>2?(I=S[1],A=S[2]):(I=_,A=b),A.state!=2&&A.state!=3||A.status!=0?NR(r,xe,I,A.status):A.statusText==="abort"?NR(r,!0):function(P){Fe(P,-2304,"Http put error: the url is invalid.")}(r),p.isFunction(l)&&l()},onComplete:function(){r._cancelableObj=null},beforeSend:function(S){p.isFunction(c)&&S.upload.addEventListener("progress",function(_){!ue.bSafari&&_&&(delete _.totalSize,delete _.position),c(_)},xe)}};r.HTTPUserName!=""&&(m.username=r.HTTPUserName,m.password=r.HTTPPassword),s||p.mix(m,{headers:{"X-Requested-With":xe}});var v=Ao(m);return V.progressContext&&(V.progressContext._onPercent=c,V.progressContext._onCancel=function(){v.abort()}),f},GetImageInfo:function(r,n){var o=r._ImgManager.convertClientIndexToServerId(n);return o==-1?(qe(r),!1):r._innerFun("GetImageInfo",Ve(o))},getBlobTypeByImageType:qT,callbacks:[],pushCallback:function(r,n,o){var s={method:r,callback:n,ticks:o};xt.callbacks.push(s)},refreshUIRef:0,isServerInvalid:function(r){Ui.isServerInvalid(r)},replaceLocalFilename:function(r){var n;return r===void 0?"":(n=(r=String(r)).replace(/\\/g,"\\\\"),ue.bFileSystem&&(n=decodeURI(n)),n)},getImageType:function(r){if(r===void 0||r.length<4)return-1;var n=r.lastIndexOf(".");if(n===-1)return-1;var o=r.slice(n).toLowerCase();return o===".bmp"||o===".dib"?B.DWT.EnumDWT_ImageType.IT_BMP:o===".jpg"||o===".jpe"||o===".jpeg"||o===".jfif"?B.DWT.EnumDWT_ImageType.IT_JPG:o===".tif"||o===".tiff"?B.DWT.EnumDWT_ImageType.IT_TIF:o===".png"?B.DWT.EnumDWT_ImageType.IT_PNG:o===".pdf"?B.DWT.EnumDWT_ImageType.IT_PDF:o===".jp2"||o===".j2k"||o===".j2c"?B.DWT.EnumDWT_ImageType.IT_J2K:-1},makeParams:Ve,showMask:Xr,hideMask:kr};function d_(r,n,o,s,u){var l=0;return r==qt.TWAIN&&(l=kd),r==qt.TWAIN64?l=ht.TWAINX64SCANNER:r==qt.ICA?o?l=ht.SANESCANNER:s?l=ht.ICASCANNER:(n||u)&&(l=kd):r==qt.TWAIN_AND_TWAIN64&&(o?l=kd|ht.SANESCANNER:s?l=kd|ht.ICASCANNER:n?l=kd|ht.TWAINX64SCANNER:u&&(l=kd)),l}function f_(r,n){for(var o=r.HowManyImagesInBuffer,s=0;s<o;s++)n.push(r._ImgManager.convertClientIndexToServerId(s))}function aC(r,n){return r._ImgManager.count()!=0||(Nn(r),p.isFunction(n)&&n(r._errorCode,r._getErrorString()),!1)}function Yu(r,n,o){return!!aC(r,o)&&(!(isNaN(n)||!p.isNumber(n)||n<0||n>=r._ImgManager.count())||(qe(r),p.isFunction(o)&&o(r._errorCode,r._getErrorString()),!1))}function Fd(r){var n,o,s,u=[];return r._ImgManager.count()<=0||((o=r._ImgManager.getCurrentImageIndex())>=0&&(n=r._ImgManager.convertClientIndexToServerId(o)),s=r._ImgManager.getSelectedClientIndexArray(),p.isArray(s)&&p.each(s,function(l){var c=r._ImgManager.convertClientIndexToServerId(l);c!=-1&&u.push(c)}),n!=-1&&u.length==0&&u.push(n)),u}function aO(r){var n,o=[];return r._ImgManager.count()<=0||(n=r._ImgManager.getCurrentImageIndex(),o=r._ImgManager.getSelectedClientIndexArray(),n!=-1&&o.length==0&&o.push(n)),o}function Ln(r,n,o){return r._resetErr(),!!r._isValid()&&(isNaN(n)?(Ot(r),p.isFunction(o)&&o(r._errorCode,r.ErrorString),xe):n<0||n>=r._ImgManager.count()?(qe(r),p.isFunction(o)&&o(r._errorCode,r.ErrorString),xe):rt)}function F$(r){var n,o=[],s=r.HowManyImagesInBuffer;for(n=0;n<s;n++)o.push(n);return r._imageBufferWrapper.convertIndicesToServerIds(o)}function Qu(r,n){return r._imageBufferWrapper.convertIndicesToServerIds(n)}function _n(r,n,o,s,u){try{r(n,o,s,u)}catch{}n=o=s=u=null}function ft(r,n,o){try{r(n._errorCode,n._getErrorString(),o)}catch{}n=o=null}function jn(r,n,o,s,u,l){try{r(n._errorCode,n._getErrorString(),o,s,u,l)}catch{}n=o=s=u=l=null}V.html5.Funs=xt;var h_=function(){return y(function r(){h(this,r),C(this,"bIsDirty",!1),C(this,"imageWidth",0),C(this,"imageHeight",0),C(this,"iImageControlWidth",0),C(this,"iImageControlHeight",0),C(this,"imageUrl",""),C(this,"minImageUrl",""),C(this,"uuid",-1),C(this,"serverId",-1),C(this,"uidFromServer",""),C(this,"aryOverlayRectangleData",[]),C(this,"ticks",Date.now())},[{key:"Clear",value:function(){this.imageUrl="",this.minImageUrl="",this.serverId=-1,this.uuid=-1,this.uidFromServer="",this.aryOverlayRectangleData=[]}}])}(),vp=function(r){return r&&r.Math===Math&&r},Lr=vp((typeof Ki>"u"?"undefined":D(Ki))=="object"&&Ki)||vp((typeof window>"u"?"undefined":D(window))=="object"&&window)||vp((typeof self>"u"?"undefined":D(self))=="object"&&self)||vp(D(le)=="object"&&le)||vp(D(le)=="object"&&le)||function(){return this}()||Function("return this")(),mr=function(r){try{return!!r()}catch{return!0}},_p=!mr(function(){var r=(function(){}).bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),O$=_p,sO=Function.prototype,uO=sO.apply,cO=sO.call,yp=(typeof Reflect>"u"?"undefined":D(Reflect))=="object"&&Reflect.apply||(O$?cO.bind(uO):function(){return cO.apply(uO,arguments)}),lO=_p,dO=Function.prototype,sC=dO.call,N$=lO&&dO.bind.bind(sC,sC),yr=lO?N$:function(r){return function(){return sC.apply(r,arguments)}},fO=yr,L$=fO({}.toString),M$=fO("".slice),nu=function(r){return M$(L$(r),8,-1)},W$=nu,B$=yr,p_=function(r){if(W$(r)==="Function")return B$(r)},uC=(typeof document>"u"?"undefined":D(document))=="object"&&document.all,wn=uC===void 0&&uC!==void 0?function(r){return typeof r=="function"||r===uC}:function(r){return typeof r=="function"},fl={},cn=!mr(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),U$=_p,g_=Function.prototype.call,En=U$?g_.bind(g_):function(){return g_.apply(g_,arguments)},Sp={},hO={}.propertyIsEnumerable,pO=Object.getOwnPropertyDescriptor,V$=pO&&!hO.call({1:2},1);Sp.f=V$?function(r){var n=pO(this,r);return!!n&&n.enumerable}:hO;var Xu,m_,Ju=function(r,n){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:n}},j$=mr,G$=nu,cC=Object,z$=yr("".split),lC=j$(function(){return!cC("z").propertyIsEnumerable(0)})?function(r){return G$(r)==="String"?z$(r,""):cC(r)}:cC,Od=function(r){return r==null},H$=Od,$$=TypeError,Nd=function(r){if(H$(r))throw new $$("Can't call method on "+r);return r},K$=lC,Y$=Nd,Fa=function(r){return K$(Y$(r))},Q$=wn,yn=function(r){return D(r)=="object"?r!==null:Q$(r)},Jr={},dC=Jr,fC=Lr,X$=wn,gO=function(r){return X$(r)?r:void 0},Gn=function(r,n){return arguments.length<2?gO(dC[r])||gO(fC[r]):dC[r]&&dC[r][n]||fC[r]&&fC[r][n]},zn=yr({}.isPrototypeOf),mO=Lr.navigator,vO=mO&&mO.userAgent,bp=vO?String(vO):"",_O=Lr,hC=bp,yO=_O.process,SO=_O.Deno,bO=yO&&yO.versions||SO&&SO.version,TO=bO&&bO.v8;TO&&(m_=(Xu=TO.split("."))[0]>0&&Xu[0]<4?1:+(Xu[0]+Xu[1])),!m_&&hC&&(!(Xu=hC.match(/Edge\/(\d+)/))||Xu[1]>=74)&&(Xu=hC.match(/Chrome\/(\d+)/))&&(m_=+Xu[1]);var v_=m_,CO=v_,J$=mr,q$=Lr.String,Ld=!!Object.getOwnPropertySymbols&&!J$(function(){var r=Symbol("symbol detection");return!q$(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&CO&&CO<41}),IO=Ld&&!Symbol.sham&&D(Symbol.iterator)=="symbol",Z$=Gn,eK=wn,tK=zn,rK=Object,Tp=IO?function(r){return D(r)=="symbol"}:function(r){var n=Z$("Symbol");return eK(n)&&tK(n.prototype,rK(r))},nK=String,hl=function(r){try{return nK(r)}catch{return"Object"}},iK=wn,oK=hl,aK=TypeError,Ro=function(r){if(iK(r))return r;throw new aK(oK(r)+" is not a function")},sK=Ro,uK=Od,pC=function(r,n){var o=r[n];return uK(o)?void 0:sK(o)},gC=En,mC=wn,vC=yn,cK=TypeError,wO={exports:{}},lK=!0,EO=Lr,dK=Object.defineProperty,fK=Lr,hK=function(r,n){try{dK(EO,r,{value:n,configurable:!0,writable:!0})}catch{EO[r]=n}return n},AO="__core-js_shared__",xO=wO.exports=fK[AO]||hK(AO,{});(xO.versions||(xO.versions=[])).push({version:"3.38.1",mode:"pure",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"});var _C=wO.exports,PO=_C,Md=function(r,n){return PO[r]||(PO[r]=n||{})},pK=Nd,gK=Object,Oa=function(r){return gK(pK(r))},mK=Oa,vK=yr({}.hasOwnProperty),An=Object.hasOwn||function(r,n){return vK(mK(r),n)},_K=yr,yK=0,SK=Math.random(),bK=_K(1 .toString),__=function(r){return"Symbol("+(r===void 0?"":r)+")_"+bK(++yK+SK,36)},TK=Md,kO=An,CK=__,IK=Ld,wK=IO,Wd=Lr.Symbol,yC=TK("wks"),EK=wK?Wd.for||Wd:Wd&&Wd.withoutSetter||CK,Ur=function(r){return kO(yC,r)||(yC[r]=IK&&kO(Wd,r)?Wd[r]:EK("Symbol."+r)),yC[r]},AK=En,DO=yn,RO=Tp,xK=pC,PK=function(r,n){var o,s;if(n==="string"&&mC(o=r.toString)&&!vC(s=gC(o,r))||mC(o=r.valueOf)&&!vC(s=gC(o,r))||n!=="string"&&mC(o=r.toString)&&!vC(s=gC(o,r)))return s;throw new cK("Can't convert object to primitive value")},kK=TypeError,DK=Ur("toPrimitive"),RK=function(r,n){if(!DO(r)||RO(r))return r;var o,s=xK(r,DK);if(s){if(n===void 0&&(n="default"),o=AK(s,r,n),!DO(o)||RO(o))return o;throw new kK("Can't convert object to primitive value")}return n===void 0&&(n="number"),PK(r,n)},FK=Tp,SC=function(r){var n=RK(r,"string");return FK(n)?n:n+""},FO=yn,bC=Lr.document,OK=FO(bC)&&FO(bC.createElement),TC=function(r){return OK?bC.createElement(r):{}},NK=TC,OO=!cn&&!mr(function(){return Object.defineProperty(NK("div"),"a",{get:function(){return 7}}).a!==7}),LK=cn,MK=En,WK=Sp,BK=Ju,UK=Fa,VK=SC,jK=An,GK=OO,NO=Object.getOwnPropertyDescriptor;fl.f=LK?NO:function(r,n){if(r=UK(r),n=VK(n),GK)try{return NO(r,n)}catch{}if(jK(r,n))return BK(!MK(WK.f,r,n),r[n])};var zK=mr,HK=wn,$K=/#|\.prototype\./,Cp=function(r,n){var o=YK[KK(r)];return o===XK||o!==QK&&(HK(n)?zK(n):!!n)},KK=Cp.normalize=function(r){return String(r).replace($K,".").toLowerCase()},YK=Cp.data={},QK=Cp.NATIVE="N",XK=Cp.POLYFILL="P",LO=Cp,JK=Ro,qK=_p,ZK=p_(p_.bind),iu=function(r,n){return JK(r),n===void 0?r:qK?ZK(r,n):function(){return r.apply(n,arguments)}},lo={},MO=cn&&mr(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),eY=yn,tY=String,rY=TypeError,Vi=function(r){if(eY(r))return r;throw new rY(tY(r)+" is not an object")},nY=cn,iY=OO,oY=MO,y_=Vi,WO=SC,aY=TypeError,CC=Object.defineProperty,sY=Object.getOwnPropertyDescriptor,IC="enumerable",wC="configurable",EC="writable";lo.f=nY?oY?function(r,n,o){if(y_(r),n=WO(n),y_(o),typeof r=="function"&&n==="prototype"&&"value"in o&&EC in o&&!o[EC]){var s=sY(r,n);s&&s[EC]&&(r[n]=o.value,o={configurable:wC in o?o[wC]:s[wC],enumerable:IC in o?o[IC]:s[IC],writable:!1})}return CC(r,n,o)}:CC:function(r,n,o){if(y_(r),n=WO(n),y_(o),iY)try{return CC(r,n,o)}catch{}if("get"in o||"set"in o)throw new aY("Accessors not supported");return"value"in o&&(r[n]=o.value),r};var uY=lo,cY=Ju,qu=cn?function(r,n,o){return uY.f(r,n,cY(1,o))}:function(r,n,o){return r[n]=o,r},Ip=Lr,lY=yp,dY=p_,fY=wn,hY=fl.f,pY=LO,Bd=Jr,gY=iu,Ud=qu,BO=An,mY=function(r){var n=function(o,s,u){if(this instanceof n){switch(arguments.length){case 0:return new r;case 1:return new r(o);case 2:return new r(o,s)}return new r(o,s,u)}return lY(r,this,arguments)};return n.prototype=r.prototype,n},wt=function(r,n){var o,s,u,l,c,f,m,v,S,_=r.target,b=r.global,I=r.stat,A=r.proto,P=b?Ip:I?Ip[_]:Ip[_]&&Ip[_].prototype,L=b?Bd:Bd[_]||Ud(Bd,_,{})[_],$=L.prototype;for(l in n)s=!(o=pY(b?l:_+(I?".":"#")+l,r.forced))&&P&&BO(P,l),f=L[l],s&&(m=r.dontCallGetSet?(S=hY(P,l))&&S.value:P[l]),c=s&&m?m:n[l],(o||A||D(f)!=D(c))&&(v=r.bind&&s?gY(c,Ip):r.wrap&&s?mY(c):A&&fY(c)?dY(c):c,(r.sham||c&&c.sham||f&&f.sham)&&Ud(v,"sham",!0),Ud(L,l,v),A&&(BO(Bd,u=_+"Prototype")||Ud(Bd,u,{}),Ud(Bd[u],l,c),r.real&&$&&(o||!$[l])&&Ud($,l,c)))},Zu=yr([].slice),UO=yr,vY=Ro,_Y=yn,yY=An,VO=Zu,SY=_p,jO=Function,bY=UO([].concat),TY=UO([].join),AC={},GO=SY?jO.bind:function(r){var n=vY(this),o=n.prototype,s=VO(arguments,1),u=function(){var l=bY(s,VO(arguments));return this instanceof u?function(c,f,m){if(!yY(AC,f)){for(var v=[],S=0;S<f;S++)v[S]="a["+S+"]";AC[f]=jO("C,a","return new C("+TY(v,",")+")")}return AC[f](c,m)}(n,l.length,l):n.apply(r,l)};return _Y(o)&&(u.prototype=o),u},zO={};zO[Ur("toStringTag")]="z";var xC=String(zO)==="[object z]",CY=xC,IY=wn,S_=nu,wY=Ur("toStringTag"),EY=Object,AY=S_(function(){return arguments}())==="Arguments",pl=CY?S_:function(r){var n,o,s;return r===void 0?"Undefined":r===null?"Null":typeof(o=function(u,l){try{return u[l]}catch{}}(n=EY(r),wY))=="string"?o:AY?S_(n):(s=S_(n))==="Object"&&IY(n.callee)?"Arguments":s},xY=wn,PC=_C,PY=yr(Function.toString);xY(PC.inspectSource)||(PC.inspectSource=function(r){return PY(r)});var HO=PC.inspectSource,kY=yr,DY=mr,$O=wn,RY=pl,FY=HO,KO=function(){},YO=Gn("Reflect","construct"),kC=/^\s*(?:class|function)\b/,OY=kY(kC.exec),NY=!kC.test(KO),wp=function(r){if(!$O(r))return!1;try{return YO(KO,[],r),!0}catch{return!1}},QO=function(r){if(!$O(r))return!1;switch(RY(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return NY||!!OY(kC,FY(r))}catch{return!0}};QO.sham=!0;var b_=!YO||DY(function(){var r;return wp(wp.call)||!wp(Object)||!wp(function(){r=!0})||r})?QO:wp,LY=b_,MY=hl,WY=TypeError,XO=function(r){if(LY(r))return r;throw new WY(MY(r)+" is not a constructor")},T_={},BY=Math.ceil,UY=Math.floor,VY=Math.trunc||function(r){var n=+r;return(n>0?UY:BY)(n)},Ep=function(r){var n=+r;return n!=n||n===0?0:VY(n)},jY=Ep,GY=Math.max,zY=Math.min,C_=function(r,n){var o=jY(r);return o<0?GY(o+n,0):zY(o,n)},HY=Ep,$Y=Math.min,KY=function(r){var n=HY(r);return n>0?$Y(n,9007199254740991):0},ec=function(r){return KY(r.length)},YY=Fa,QY=C_,XY=ec,JO=function(r){return function(n,o,s){var u=YY(n),l=XY(u);if(l===0)return!r&&-1;var c,f=QY(s,l);if(r&&o!=o){for(;l>f;)if((c=u[f++])!=c)return!0}else for(;l>f;f++)if((r||f in u)&&u[f]===o)return r||f||0;return!r&&-1}},DC={includes:JO(!0),indexOf:JO(!1)},Ap={},RC=An,JY=Fa,qY=DC.indexOf,ZY=Ap,qO=yr([].push),ZO=function(r,n){var o,s=JY(r),u=0,l=[];for(o in s)!RC(ZY,o)&&RC(s,o)&&qO(l,o);for(;n.length>u;)RC(s,o=n[u++])&&(~qY(l,o)||qO(l,o));return l},FC=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],eQ=ZO,tQ=FC,xp=Object.keys||function(r){return eQ(r,tQ)},rQ=cn,nQ=MO,iQ=lo,oQ=Vi,aQ=Fa,sQ=xp;T_.f=rQ&&!nQ?Object.defineProperties:function(r,n){oQ(r);for(var o,s=aQ(n),u=sQ(n),l=u.length,c=0;l>c;)iQ.f(r,o=u[c++],s[o]);return r};var I_,e2=Gn("document","documentElement"),uQ=__,t2=Md("keys"),w_=function(r){return t2[r]||(t2[r]=uQ(r))},cQ=Vi,lQ=T_,r2=FC,dQ=Ap,fQ=e2,hQ=TC,OC="prototype",NC="script",n2=w_("IE_PROTO"),LC=function(){},i2=function(r){return"<"+NC+">"+r+"</"+NC+">"},o2=function(r){r.write(i2("")),r.close();var n=r.parentWindow.Object;return r=null,n},E_=function(){try{I_=new ActiveXObject("htmlfile")}catch{}var r,n,o;E_=typeof document<"u"?document.domain&&I_?o2(I_):(n=hQ("iframe"),o="java"+NC+":",n.style.display="none",fQ.appendChild(n),n.src=String(o),(r=n.contentWindow.document).open(),r.write(i2("document.F=Object")),r.close(),r.F):o2(I_);for(var s=r2.length;s--;)delete E_[OC][r2[s]];return E_()};dQ[n2]=!0;var tc=Object.create||function(r,n){var o;return r!==null?(LC[OC]=cQ(r),o=new LC,LC[OC]=null,o[n2]=r):o=E_(),n===void 0?o:lQ.f(o,n)},pQ=wt,MC=yp,gQ=GO,a2=XO,mQ=Vi,s2=yn,vQ=tc,u2=mr,WC=Gn("Reflect","construct"),_Q=Object.prototype,yQ=[].push,c2=u2(function(){function r(){}return!(WC(function(){},[],r)instanceof r)}),l2=!u2(function(){WC(function(){})}),d2=c2||l2;pQ({target:"Reflect",stat:!0,forced:d2,sham:d2},{construct:function(r,n){a2(r),mQ(n);var o=arguments.length<3?r:a2(arguments[2]);if(l2&&!c2)return WC(r,n,o);if(r===o){switch(n.length){case 0:return new r;case 1:return new r(n[0]);case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[1],n[2]);case 4:return new r(n[0],n[1],n[2],n[3])}var s=[null];return MC(yQ,s,n),new(MC(gQ,r,s))}var u=o.prototype,l=vQ(s2(u)?u:_Q),c=MC(r,l,n);return s2(c)?c:l}});var A_=fe(Jr.Reflect.construct),SQ=pl,bQ=String,Fo=function(r){if(SQ(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return bQ(r)},Pp={},TQ=ZO,CQ=FC.concat("length","prototype");Pp.f=Object.getOwnPropertyNames||function(r){return TQ(r,CQ)};var BC={},IQ=nu,wQ=Fa,f2=Pp.f,EQ=Zu,h2=(typeof window>"u"?"undefined":D(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];BC.f=function(r){return h2&&IQ(r)==="Window"?function(n){try{return f2(n)}catch{return EQ(h2)}}(r):f2(wQ(r))};var kp={};kp.f=Object.getOwnPropertySymbols;var AQ=qu,rc=function(r,n,o,s){return s&&s.enumerable?r[n]=o:AQ(r,n,o),r},xQ=lo,Dp=function(r,n,o){return xQ.f(r,n,o)},Rp={},PQ=Ur;Rp.f=PQ;var x_,Fp,P_,p2=Jr,kQ=An,DQ=Rp,RQ=lo.f,ln=function(r){var n=p2.Symbol||(p2.Symbol={});kQ(n,r)||RQ(n,r,{value:DQ.f(r)})},FQ=En,OQ=Gn,NQ=Ur,LQ=rc,g2=function(){var r=OQ("Symbol"),n=r&&r.prototype,o=n&&n.valueOf,s=NQ("toPrimitive");n&&!n[s]&&LQ(n,s,function(u){return FQ(o,this)},{arity:1})},MQ=pl,WQ=xC?{}.toString:function(){return"[object "+MQ(this)+"]"},BQ=xC,UQ=lo.f,VQ=qu,jQ=An,GQ=WQ,m2=Ur("toStringTag"),_s=function(r,n,o,s){var u=o?r:r&&r.prototype;u&&(jQ(u,m2)||UQ(u,m2,{configurable:!0,value:n}),s&&!BQ&&VQ(u,"toString",GQ))},zQ=wn,v2=Lr.WeakMap,HQ=zQ(v2)&&/native code/.test(String(v2)),_2=Lr,$Q=yn,KQ=qu,UC=An,VC=_C,YQ=w_,QQ=Ap,y2="Object already initialized",jC=_2.TypeError,XQ=_2.WeakMap;if(HQ||VC.state){var ys=VC.state||(VC.state=new XQ);ys.get=ys.get,ys.has=ys.has,ys.set=ys.set,x_=function(r,n){if(ys.has(r))throw new jC(y2);return n.facade=r,ys.set(r,n),n},Fp=function(r){return ys.get(r)||{}},P_=function(r){return ys.has(r)}}else{var Vd=YQ("state");QQ[Vd]=!0,x_=function(r,n){if(UC(r,Vd))throw new jC(y2);return n.facade=r,KQ(r,Vd,n),n},Fp=function(r){return UC(r,Vd)?r[Vd]:{}},P_=function(r){return UC(r,Vd)}}var Ss={set:x_,get:Fp,has:P_,enforce:function(r){return P_(r)?Fp(r):x_(r,{})},getterFor:function(r){return function(n){var o;if(!$Q(n)||(o=Fp(n)).type!==r)throw new jC("Incompatible receiver, "+r+" required");return o}}},JQ=nu,gl=Array.isArray||function(r){return JQ(r)==="Array"},S2=gl,qQ=b_,ZQ=yn,eX=Ur("species"),b2=Array,tX=function(r){var n;return S2(r)&&(n=r.constructor,(qQ(n)&&(n===b2||S2(n.prototype))||ZQ(n)&&(n=n[eX])===null)&&(n=void 0)),n===void 0?b2:n},GC=function(r,n){return new(tX(r))(n===0?0:n)},rX=iu,nX=lC,iX=Oa,oX=ec,aX=GC,T2=yr([].push),nc=function(r){var n=r===1,o=r===2,s=r===3,u=r===4,l=r===6,c=r===7,f=r===5||l;return function(m,v,S,_){for(var b,I,A=iX(m),P=nX(A),L=oX(P),$=rX(v,S),ee=0,q=_||aX,Q=n?q(m,L):o||c?q(m,0):void 0;L>ee;ee++)if((f||ee in P)&&(I=$(b=P[ee],ee,A),r))if(n)Q[ee]=I;else if(I)switch(r){case 3:return!0;case 5:return b;case 6:return ee;case 2:T2(Q,b)}else switch(r){case 4:return!1;case 7:T2(Q,b)}return l?-1:s||u?u:Q}},ml={forEach:nc(0),map:nc(1),filter:nc(2),some:nc(3),every:nc(4),find:nc(5),findIndex:nc(6),filterReject:nc(7)},k_=wt,Op=Lr,zC=En,sX=yr,jd=cn,Gd=Ld,uX=mr,Jn=An,cX=zn,HC=Vi,D_=Fa,$C=SC,lX=Fo,KC=Ju,zd=tc,C2=xp,dX=Pp,I2=BC,fX=kp,w2=fl,E2=lo,hX=T_,A2=Sp,x2=rc,pX=Dp,YC=Md,P2=Ap,k2=__,gX=Ur,mX=Rp,vX=ln,_X=g2,yX=_s,D2=Ss,R_=ml.forEach,fo=w_("hidden"),F_="Symbol",Np="prototype",SX=D2.set,R2=D2.getterFor(F_),Na=Object[Np],vl=Op.Symbol,O_=vl&&vl[Np],bX=Op.RangeError,TX=Op.TypeError,QC=Op.QObject,F2=w2.f,_l=E2.f,O2=I2.f,CX=A2.f,N2=sX([].push),ou=YC("symbols"),Lp=YC("op-symbols"),IX=YC("wks"),XC=!QC||!QC[Np]||!QC[Np].findChild,L2=function(r,n,o){var s=F2(Na,n);s&&delete Na[n],_l(r,n,o),s&&r!==Na&&_l(Na,n,s)},JC=jd&&uX(function(){return zd(_l({},"a",{get:function(){return _l(this,"a",{value:7}).a}})).a!==7})?L2:_l,qC=function(r,n){var o=ou[r]=zd(O_);return SX(o,{type:F_,tag:r,description:n}),jd||(o.description=n),o},N_=function(r,n,o){r===Na&&N_(Lp,n,o),HC(r);var s=$C(n);return HC(o),Jn(ou,s)?(o.enumerable?(Jn(r,fo)&&r[fo][s]&&(r[fo][s]=!1),o=zd(o,{enumerable:KC(0,!1)})):(Jn(r,fo)||_l(r,fo,KC(1,zd(null))),r[fo][s]=!0),JC(r,s,o)):_l(r,s,o)},ZC=function(r,n){HC(r);var o=D_(n),s=C2(o).concat(U2(o));return R_(s,function(u){jd&&!zC(M2,o,u)||N_(r,u,o[u])}),r},M2=function(r){var n=$C(r),o=zC(CX,this,n);return!(this===Na&&Jn(ou,n)&&!Jn(Lp,n))&&(!(o||!Jn(this,n)||!Jn(ou,n)||Jn(this,fo)&&this[fo][n])||o)},W2=function(r,n){var o=D_(r),s=$C(n);if(o!==Na||!Jn(ou,s)||Jn(Lp,s)){var u=F2(o,s);return!u||!Jn(ou,s)||Jn(o,fo)&&o[fo][s]||(u.enumerable=!0),u}},B2=function(r){var n=O2(D_(r)),o=[];return R_(n,function(s){Jn(ou,s)||Jn(P2,s)||N2(o,s)}),o},U2=function(r){var n=r===Na,o=O2(n?Lp:D_(r)),s=[];return R_(o,function(u){!Jn(ou,u)||n&&!Jn(Na,u)||N2(s,ou[u])}),s};Gd||(vl=function(){if(cX(O_,this))throw new TX("Symbol is not a constructor");var r=arguments.length&&arguments[0]!==void 0?lX(arguments[0]):void 0,n=k2(r),o=function(s){var u=this===void 0?Op:this;u===Na&&zC(o,Lp,s),Jn(u,fo)&&Jn(u[fo],n)&&(u[fo][n]=!1);var l=KC(1,s);try{JC(u,n,l)}catch(c){if(!(c instanceof bX))throw c;L2(u,n,l)}};return jd&&XC&&JC(Na,n,{configurable:!0,set:o}),qC(n,r)},x2(O_=vl[Np],"toString",function(){return R2(this).tag}),x2(vl,"withoutSetter",function(r){return qC(k2(r),r)}),A2.f=M2,E2.f=N_,hX.f=ZC,w2.f=W2,dX.f=I2.f=B2,fX.f=U2,mX.f=function(r){return qC(gX(r),r)},jd&&pX(O_,"description",{configurable:!0,get:function(){return R2(this).description}})),k_({global:!0,constructor:!0,wrap:!0,forced:!Gd,sham:!Gd},{Symbol:vl}),R_(C2(IX),function(r){vX(r)}),k_({target:F_,stat:!0,forced:!Gd},{useSetter:function(){XC=!0},useSimple:function(){XC=!1}}),k_({target:"Object",stat:!0,forced:!Gd,sham:!jd},{create:function(r,n){return n===void 0?zd(r):ZC(zd(r),n)},defineProperty:N_,defineProperties:ZC,getOwnPropertyDescriptor:W2}),k_({target:"Object",stat:!0,forced:!Gd},{getOwnPropertyNames:B2}),_X(),yX(vl,F_),P2[fo]=!0;var V2=Ld&&!!Symbol.for&&!!Symbol.keyFor,wX=wt,EX=Gn,AX=An,xX=Fo,j2=Md,PX=V2,eI=j2("string-to-symbol-registry"),kX=j2("symbol-to-string-registry");wX({target:"Symbol",stat:!0,forced:!PX},{for:function(r){var n=xX(r);if(AX(eI,n))return eI[n];var o=EX("Symbol")(n);return eI[n]=o,kX[o]=n,o}});var DX=wt,RX=An,FX=Tp,OX=hl,NX=V2,G2=Md("symbol-to-string-registry");DX({target:"Symbol",stat:!0,forced:!NX},{keyFor:function(r){if(!FX(r))throw new TypeError(OX(r)+" is not a symbol");if(RX(G2,r))return G2[r]}});var z2=gl,LX=wn,H2=nu,MX=Fo,$2=yr([].push),WX=wt,K2=Gn,Y2=yp,BX=En,Mp=yr,Q2=mr,X2=wn,J2=Tp,q2=Zu,UX=function(r){if(LX(r))return r;if(z2(r)){for(var n=r.length,o=[],s=0;s<n;s++){var u=r[s];typeof u=="string"?$2(o,u):typeof u!="number"&&H2(u)!=="Number"&&H2(u)!=="String"||$2(o,MX(u))}var l=o.length,c=!0;return function(f,m){if(c)return c=!1,m;if(z2(this))return m;for(var v=0;v<l;v++)if(o[v]===f)return m}}},VX=Ld,jX=String,ic=K2("JSON","stringify"),L_=Mp(/./.exec),Z2=Mp("".charAt),GX=Mp("".charCodeAt),zX=Mp("".replace),HX=Mp(1 .toString),$X=/[\uD800-\uDFFF]/g,eN=/^[\uD800-\uDBFF]$/,tN=/^[\uDC00-\uDFFF]$/,rN=!VX||Q2(function(){var r=K2("Symbol")("stringify detection");return ic([r])!=="[null]"||ic({a:r})!=="{}"||ic(Object(r))!=="{}"}),nN=Q2(function(){return ic("\uDF06\uD834")!=='"\\udf06\\ud834"'||ic("\uDEAD")!=='"\\udead"'}),KX=function(r,n){var o=q2(arguments),s=UX(n);if(X2(s)||r!==void 0&&!J2(r))return o[1]=function(u,l){if(X2(s)&&(l=BX(s,this,jX(u),l)),!J2(l))return l},Y2(ic,null,o)},YX=function(r,n,o){var s=Z2(o,n-1),u=Z2(o,n+1);return L_(eN,r)&&!L_(tN,u)||L_(tN,r)&&!L_(eN,s)?"\\u"+HX(GX(r,0),16):r};ic&&WX({target:"JSON",stat:!0,arity:3,forced:rN||nN},{stringify:function(r,n,o){var s=q2(arguments),u=Y2(rN?KX:ic,null,s);return nN&&typeof u=="string"?zX(u,$X,YX):u}});var iN=kp,QX=Oa;wt({target:"Object",stat:!0,forced:!Ld||mr(function(){iN.f(1)})},{getOwnPropertySymbols:function(r){var n=iN.f;return n?n(QX(r)):[]}});var oN=fe(Jr.Object.getOwnPropertySymbols),aN={exports:{}},XX=wt,JX=mr,qX=Fa,sN=fl.f,uN=cn;XX({target:"Object",stat:!0,forced:!uN||JX(function(){sN(1)}),sham:!uN},{getOwnPropertyDescriptor:function(r,n){return sN(qX(r),n)}});var cN=Jr.Object,ZX=aN.exports=function(r,n){return cN.getOwnPropertyDescriptor(r,n)};cN.getOwnPropertyDescriptor.sham&&(ZX.sham=!0);var lN=aN.exports,dN=fe(lN),eJ=Gn,tJ=Pp,rJ=kp,nJ=Vi,iJ=yr([].concat),fN=eJ("Reflect","ownKeys")||function(r){var n=tJ.f(nJ(r)),o=rJ.f;return o?iJ(n,o(r)):n},oJ=cn,aJ=lo,sJ=Ju,Wp=function(r,n,o){oJ?aJ.f(r,n,sJ(0,o)):r[n]=o},uJ=fN,cJ=Fa,lJ=fl,dJ=Wp;wt({target:"Object",stat:!0,sham:!cn},{getOwnPropertyDescriptors:function(r){for(var n,o,s=cJ(r),u=lJ.f,l=uJ(s),c={},f=0;l.length>f;)(o=u(s,n=l[f++]))!==void 0&&dJ(c,n,o);return c}});var hN=fe(Jr.Object.getOwnPropertyDescriptors),pN={exports:{}},fJ=wt,hJ=cn,gN=T_.f;fJ({target:"Object",stat:!0,forced:Object.defineProperties!==gN,sham:!hJ},{defineProperties:gN});var mN=Jr.Object,pJ=pN.exports=function(r,n){return mN.defineProperties(r,n)};mN.defineProperties.sham&&(pJ.sham=!0);var gJ=fe(pN.exports),vN=!mr(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),mJ=An,vJ=wn,_J=Oa,yJ=vN,_N=w_("IE_PROTO"),tI=Object,SJ=tI.prototype,Hd=yJ?tI.getPrototypeOf:function(r){var n=_J(r);if(mJ(n,_N))return n[_N];var o=n.constructor;return vJ(o)&&n instanceof o?o.prototype:n instanceof tI?SJ:null},bJ=yr,TJ=Ro,CJ=yn,IJ=function(r){return CJ(r)||r===null},wJ=String,EJ=TypeError,AJ=function(r,n,o){try{return bJ(TJ(Object.getOwnPropertyDescriptor(r,n)[o]))}catch{}},xJ=yn,PJ=Nd,kJ=function(r){if(IJ(r))return r;throw new EJ("Can't set "+wJ(r)+" as a prototype")},yN=Object.setPrototypeOf||("__proto__"in{}?function(){var r,n=!1,o={};try{(r=AJ(Object.prototype,"__proto__","set"))(o,[]),n=o instanceof Array}catch{}return function(s,u){return PJ(s),kJ(u),xJ(s)&&(n?r(s,u):s.__proto__=u),s}}():void 0),SN=An,DJ=fN,RJ=fl,FJ=lo,OJ=yn,NJ=qu,bN=Error,LJ=yr("".replace),MJ=String(new bN("zxcasd").stack),TN=/\n\s*at [^:]*:[^\n]*/,WJ=TN.test(MJ),BJ=Ju,UJ=!mr(function(){var r=new Error("a");return!("stack"in r)||(Object.defineProperty(r,"stack",BJ(1,7)),r.stack!==7)}),VJ=qu,jJ=function(r,n){if(WJ&&typeof r=="string"&&!bN.prepareStackTrace)for(;n--;)r=LJ(r,TN,"");return r},GJ=UJ,CN=Error.captureStackTrace,$d={},zJ=$d,HJ=Ur("iterator"),$J=Array.prototype,IN=function(r){return r!==void 0&&(zJ.Array===r||$J[HJ]===r)},KJ=pl,wN=pC,YJ=Od,QJ=$d,XJ=Ur("iterator"),Bp=function(r){if(!YJ(r))return wN(r,XJ)||wN(r,"@@iterator")||QJ[KJ(r)]},JJ=En,qJ=Ro,ZJ=Vi,eq=hl,tq=Bp,rq=TypeError,rI=function(r,n){var o=arguments.length<2?tq(r):n;if(qJ(o))return ZJ(JJ(o,r));throw new rq(eq(r)+" is not iterable")},nq=En,EN=Vi,iq=pC,M_=function(r,n,o){var s,u;EN(r);try{if(!(s=iq(r,"return"))){if(n==="throw")throw o;return o}s=nq(s,r)}catch(l){u=!0,s=l}if(n==="throw")throw o;if(u)throw s;return EN(s),o},oq=iu,aq=En,sq=Vi,uq=hl,cq=IN,lq=ec,AN=zn,dq=rI,fq=Bp,xN=M_,hq=TypeError,W_=function(r,n){this.stopped=r,this.result=n},PN=W_.prototype,yl=function(r,n,o){var s,u,l,c,f,m,v,S=o&&o.that,_=!(!o||!o.AS_ENTRIES),b=!(!o||!o.IS_RECORD),I=!(!o||!o.IS_ITERATOR),A=!(!o||!o.INTERRUPTED),P=oq(n,S),L=function(ee){return s&&xN(s,"normal",ee),new W_(!0,ee)},$=function(ee){return _?(sq(ee),A?P(ee[0],ee[1],L):P(ee[0],ee[1])):A?P(ee,L):P(ee)};if(b)s=r.iterator;else if(I)s=r;else{if(!(u=fq(r)))throw new hq(uq(r)+" is not iterable");if(cq(u)){for(l=0,c=lq(r);c>l;l++)if((f=$(r[l]))&&AN(PN,f))return f;return new W_(!1)}s=dq(r,u)}for(m=b?r.next:s.next;!(v=aq(m,s)).done;){try{f=$(v.value)}catch(ee){xN(s,"throw",ee)}if(D(f)=="object"&&f&&AN(PN,f))return f}return new W_(!1)},pq=Fo,gq=wt,mq=zn,vq=Hd,B_=yN,_q=function(r,n,o){for(var s=DJ(n),u=FJ.f,l=RJ.f,c=0;c<s.length;c++){var f=s[c];SN(r,f)||o&&SN(o,f)||u(r,f,l(n,f))}},kN=tc,nI=qu,iI=Ju,yq=function(r,n){OJ(n)&&"cause"in n&&NJ(r,"cause",n.cause)},Sq=function(r,n,o,s){GJ&&(CN?CN(r,n):VJ(r,"stack",jJ(o,s)))},bq=yl,Tq=function(r,n){return r===void 0?arguments.length<2?"":n:pq(r)},Cq=Ur("toStringTag"),U_=Error,Iq=[].push,Kd=function(r,n){var o,s=mq(oI,this);B_?o=B_(new U_,s?vq(this):oI):(o=s?this:kN(oI),nI(o,Cq,"Error")),n!==void 0&&nI(o,"message",Tq(n)),Sq(o,Kd,o.stack,1),arguments.length>2&&yq(o,arguments[2]);var u=[];return bq(r,Iq,{that:u}),nI(o,"errors",u),o};B_?B_(Kd,U_):_q(Kd,U_,{name:!0});var oI=Kd.prototype=kN(U_.prototype,{constructor:iI(1,Kd),message:iI(1,""),name:iI(1,"AggregateError")});gq({global:!0,constructor:!0,arity:2},{AggregateError:Kd});var Sl,DN,RN,aI=cn,wq=An,FN=Function.prototype,Eq=aI&&Object.getOwnPropertyDescriptor,sI=wq(FN,"name"),Aq={EXISTS:sI,PROPER:sI&&(function(){}).name==="something",CONFIGURABLE:sI&&(!aI||aI&&Eq(FN,"name").configurable)},xq=mr,Pq=wn,kq=yn,Dq=tc,ON=Hd,Rq=rc,uI=Ur("iterator"),NN=!1;[].keys&&("next"in(RN=[].keys())?(DN=ON(ON(RN)))!==Object.prototype&&(Sl=DN):NN=!0);var Fq=!kq(Sl)||xq(function(){var r={};return Sl[uI].call(r)!==r});Pq((Sl=Fq?{}:Dq(Sl))[uI])||Rq(Sl,uI,function(){return this});var LN={IteratorPrototype:Sl,BUGGY_SAFARI_ITERATORS:NN},Oq=LN.IteratorPrototype,Nq=tc,Lq=Ju,Mq=_s,Wq=$d,Bq=function(){return this},MN=function(r,n,o,s){var u=n+" Iterator";return r.prototype=Nq(Oq,{next:Lq(+!s,o)}),Mq(r,u,!1,!0),Wq[u]=Bq,r},Uq=wt,Vq=En,jq=MN,Gq=Hd,zq=_s,WN=rc,BN=$d,Hq=Aq.PROPER,V_=LN.BUGGY_SAFARI_ITERATORS,cI=Ur("iterator"),UN="keys",j_="values",VN="entries",$q=function(){return this},lI=function(r,n,o,s,u,l,c){jq(o,n,s);var f,m,v,S=function($){if($===u&&P)return P;if(!V_&&$&&$ in I)return I[$];switch($){case UN:case j_:case VN:return function(){return new o(this,$)}}return function(){return new o(this)}},_=n+" Iterator",b=!1,I=r.prototype,A=I[cI]||I["@@iterator"]||u&&I[u],P=!V_&&A||S(u),L=n==="Array"&&I.entries||A;if(L&&(f=Gq(L.call(new r)))!==Object.prototype&&f.next&&(zq(f,_,!0,!0),BN[_]=$q),Hq&&u===j_&&A&&A.name!==j_&&(b=!0,P=function(){return Vq(A,this)}),u)if(m={values:S(j_),keys:l?P:S(UN),entries:S(VN)},c)for(v in m)(V_||b||!(v in I))&&WN(I,v,m[v]);else Uq({target:n,proto:!0,forced:V_||b},m);return c&&I[cI]!==P&&WN(I,cI,P,{name:u}),BN[n]=P,m},G_=function(r,n){return{value:r,done:n}},Kq=Fa,jN=$d,GN=Ss;lo.f;var Yq=lI,z_=G_,zN="Array Iterator",Qq=GN.set,Xq=GN.getterFor(zN);Yq(Array,"Array",function(r,n){Qq(this,{type:zN,target:Kq(r),index:0,kind:n})},function(){var r=Xq(this),n=r.target,o=r.index++;if(!n||o>=n.length)return r.target=null,z_(void 0,!0);switch(r.kind){case"keys":return z_(o,!1);case"values":return z_(n[o],!1)}return z_([o,n[o]],!1)},"values"),jN.Arguments=jN.Array;var Up,Yd,HN,dI,Vp=Lr,Jq=bp,qq=nu,H_=function(r){return Jq.slice(0,r.length)===r},$N=H_("Bun/")?"BUN":H_("Cloudflare-Workers")?"CLOUDFLARE":H_("Deno/")?"DENO":H_("Node.js/")?"NODE":Vp.Bun&&typeof Bun.version=="string"?"BUN":Vp.Deno&&D(Deno.version)=="object"?"DENO":qq(Vp.process)==="process"?"NODE":Vp.window&&Vp.document?"BROWSER":"REST",fI=$N==="NODE",Zq=Gn,eZ=Dp,tZ=cn,KN=Ur("species"),YN=function(r){var n=Zq(r);tZ&&n&&!n[KN]&&eZ(n,KN,{configurable:!0,get:function(){return this}})},rZ=zn,nZ=TypeError,jp=function(r,n){if(rZ(n,r))return r;throw new nZ("Incorrect invocation")},QN=Vi,iZ=XO,oZ=Od,aZ=Ur("species"),XN=function(r,n){var o,s=QN(r).constructor;return s===void 0||oZ(o=QN(s)[aZ])?n:iZ(o)},sZ=TypeError,Gp=function(r,n){if(r<n)throw new sZ("Not enough arguments");return r},JN=/(?:ipad|iphone|ipod).*applewebkit/i.test(bp),Oo=Lr,uZ=yp,cZ=iu,qN=wn,lZ=An,ZN=mr,eL=e2,dZ=Zu,tL=TC,fZ=Gp,hZ=JN,pZ=fI,hI=Oo.setImmediate,pI=Oo.clearImmediate,gZ=Oo.process,gI=Oo.Dispatch,mZ=Oo.Function,rL=Oo.MessageChannel,vZ=Oo.String,mI=0,zp={},nL="onreadystatechange";ZN(function(){Up=Oo.location});var vI=function(r){if(lZ(zp,r)){var n=zp[r];delete zp[r],n()}},_I=function(r){return function(){vI(r)}},iL=function(r){vI(r.data)},oL=function(r){Oo.postMessage(vZ(r),Up.protocol+"//"+Up.host)};hI&&pI||(hI=function(r){fZ(arguments.length,1);var n=qN(r)?r:mZ(r),o=dZ(arguments,1);return zp[++mI]=function(){uZ(n,void 0,o)},Yd(mI),mI},pI=function(r){delete zp[r]},pZ?Yd=function(r){gZ.nextTick(_I(r))}:gI&&gI.now?Yd=function(r){gI.now(_I(r))}:rL&&!hZ?(dI=(HN=new rL).port2,HN.port1.onmessage=iL,Yd=cZ(dI.postMessage,dI)):Oo.addEventListener&&qN(Oo.postMessage)&&!Oo.importScripts&&Up&&Up.protocol!=="file:"&&!ZN(oL)?(Yd=oL,Oo.addEventListener("message",iL,!1)):Yd=nL in tL("script")?function(r){eL.appendChild(tL("script"))[nL]=function(){eL.removeChild(this),vI(r)}}:function(r){setTimeout(_I(r),0)});var aL={set:hI,clear:pI},sL=Lr,_Z=cn,yZ=Object.getOwnPropertyDescriptor,uL=function(r){if(!_Z)return sL[r];var n=yZ(sL,r);return n&&n.value},cL=function(){this.head=null,this.tail=null};cL.prototype={add:function(r){var n={item:r,next:null},o=this.tail;o?o.next=n:this.head=n,this.tail=n},get:function(){var r=this.head;if(r)return(this.head=r.next)===null&&(this.tail=null),r.item}};var Qd,yI,SI,bI,lL,dL=cL,SZ=/ipad|iphone|ipod/i.test(bp)&&typeof Pebble<"u",bZ=/web0s(?!.*chrome)/i.test(bp),Xd=Lr,TZ=uL,fL=iu,TI=aL.set,CZ=dL,IZ=JN,wZ=SZ,EZ=bZ,CI=fI,hL=Xd.MutationObserver||Xd.WebKitMutationObserver,pL=Xd.document,gL=Xd.process,$_=Xd.Promise,II=TZ("queueMicrotask");if(!II){var K_=new CZ,Y_=function(){var r,n;for(CI&&(r=gL.domain)&&r.exit();n=K_.get();)try{n()}catch(o){throw K_.head&&Qd(),o}r&&r.enter()};IZ||CI||EZ||!hL||!pL?!wZ&&$_&&$_.resolve?((bI=$_.resolve(void 0)).constructor=$_,lL=fL(bI.then,bI),Qd=function(){lL(Y_)}):CI?Qd=function(){gL.nextTick(Y_)}:(TI=fL(TI,Xd),Qd=function(){TI(Y_)}):(yI=!0,SI=pL.createTextNode(""),new hL(Y_).observe(SI,{characterData:!0}),Qd=function(){SI.data=yI=!yI}),II=function(r){K_.head||Qd(),K_.add(r)}}var AZ=II,Jd=function(r){try{return{error:!1,value:r()}}catch(n){return{error:!0,value:n}}},bl=Lr.Promise,xZ=Lr,Hp=bl,PZ=wn,kZ=LO,DZ=HO,RZ=Ur,mL=$N,wI=v_,vL=Hp&&Hp.prototype,FZ=RZ("species"),_L=!1,yL=PZ(xZ.PromiseRejectionEvent),OZ=kZ("Promise",function(){var r=DZ(Hp),n=r!==String(Hp);if(!n&&wI===66||!vL.catch||!vL.finally)return!0;if(!wI||wI<51||!/native code/.test(r)){var o=new Hp(function(u){u(1)}),s=function(u){u(function(){},function(){})};if((o.constructor={})[FZ]=s,!(_L=o.then(function(){})instanceof s))return!0}return!(n||mL!=="BROWSER"&&mL!=="DENO"||yL)}),qd={CONSTRUCTOR:OZ,REJECTION_EVENT:yL,SUBCLASSING:_L},bs={},SL=Ro,NZ=TypeError,LZ=function(r){var n,o;this.promise=new r(function(s,u){if(n!==void 0||o!==void 0)throw new NZ("Bad Promise constructor");n=s,o=u}),this.resolve=SL(n),this.reject=SL(o)};bs.f=function(r){return new LZ(r)};var EI,bL,MZ=wt,Q_=fI,oc=Lr,$p=En,WZ=rc,BZ=_s,UZ=YN,VZ=Ro,AI=wn,jZ=yn,GZ=jp,zZ=XN,TL=aL.set,xI=AZ,HZ=function(r,n){},$Z=Jd,KZ=dL,CL=Ss,PI=bl,IL=bs,X_="Promise",wL=qd.CONSTRUCTOR,YZ=qd.REJECTION_EVENT,kI=CL.getterFor(X_),QZ=CL.set,XZ=PI&&PI.prototype,Kp=PI,DI=XZ,EL=oc.TypeError,RI=oc.document,FI=oc.process,OI=IL.f,JZ=OI,qZ=!!(RI&&RI.createEvent&&oc.dispatchEvent),AL="unhandledrejection",xL=function(r){var n;return!(!jZ(r)||!AI(n=r.then))&&n},PL=function(r,n){var o,s,u,l=n.value,c=n.state===1,f=c?r.ok:r.fail,m=r.resolve,v=r.reject,S=r.domain;try{f?(c||(n.rejection===2&&eee(n),n.rejection=1),f===!0?o=l:(S&&S.enter(),o=f(l),S&&(S.exit(),u=!0)),o===r.promise?v(new EL("Promise-chain cycle")):(s=xL(o))?$p(s,o,m,v):m(o)):v(l)}catch(_){S&&!u&&S.exit(),v(_)}},kL=function(r,n){r.notified||(r.notified=!0,xI(function(){for(var o,s=r.reactions;o=s.get();)PL(o,r);r.notified=!1,n&&!r.rejection&&ZZ(r)}))},DL=function(r,n,o){var s,u;qZ?((s=RI.createEvent("Event")).promise=n,s.reason=o,s.initEvent(r,!1,!0),oc.dispatchEvent(s)):s={promise:n,reason:o},!YZ&&(u=oc["on"+r])?u(s):r===AL&&HZ()},ZZ=function(r){$p(TL,oc,function(){var n,o=r.facade,s=r.value;if(RL(r)&&(n=$Z(function(){Q_?FI.emit("unhandledRejection",s,o):DL(AL,o,s)}),r.rejection=Q_||RL(r)?2:1,n.error))throw n.value})},RL=function(r){return r.rejection!==1&&!r.parent},eee=function(r){$p(TL,oc,function(){var n=r.facade;Q_?FI.emit("rejectionHandled",n):DL("rejectionhandled",n,r.value)})},Zd=function(r,n,o){return function(s){r(n,s,o)}},ef=function(r,n,o){r.done||(r.done=!0,o&&(r=o),r.value=n,r.state=2,kL(r,!0))},NI=function(r,n,o){if(!r.done){r.done=!0,o&&(r=o);try{if(r.facade===n)throw new EL("Promise can't be resolved itself");var s=xL(n);s?xI(function(){var u={done:!1};try{$p(s,n,Zd(NI,u,r),Zd(ef,u,r))}catch(l){ef(u,l,r)}}):(r.value=n,r.state=1,kL(r,!1))}catch(u){ef({done:!1},u,r)}}};wL&&(DI=(Kp=function(r){GZ(this,DI),VZ(r),$p(EI,this);var n=kI(this);try{r(Zd(NI,n),Zd(ef,n))}catch(o){ef(n,o)}}).prototype,(EI=function(r){QZ(this,{type:X_,done:!1,notified:!1,parent:!1,reactions:new KZ,rejection:!1,state:0,value:null})}).prototype=WZ(DI,"then",function(r,n){var o=kI(this),s=OI(zZ(this,Kp));return o.parent=!0,s.ok=!AI(r)||r,s.fail=AI(n)&&n,s.domain=Q_?FI.domain:void 0,o.state===0?o.reactions.add(s):xI(function(){PL(s,o)}),s.promise}),bL=function(){var r=new EI,n=kI(r);this.promise=r,this.resolve=Zd(NI,n),this.reject=Zd(ef,n)},IL.f=OI=function(r){return r===Kp||r===void 0?new bL(r):JZ(r)}),MZ({global:!0,constructor:!0,wrap:!0,forced:wL},{Promise:Kp}),BZ(Kp,X_,!1,!0),UZ(X_);var FL=Ur("iterator"),OL=!1;try{var tee=0,NL={next:function(){return{done:!!tee++}},return:function(){OL=!0}};NL[FL]=function(){return this},Array.from(NL,function(){throw 2})}catch{}var LL=function(r,n){try{if(!n&&!OL)return!1}catch{return!1}var o=!1;try{var s={};s[FL]=function(){return{next:function(){return{done:o=!0}}}},r(s)}catch{}return o},ree=bl,J_=qd.CONSTRUCTOR||!LL(function(r){ree.all(r).then(void 0,function(){})}),nee=En,iee=Ro,oee=bs,aee=Jd,see=yl;wt({target:"Promise",stat:!0,forced:J_},{all:function(r){var n=this,o=oee.f(n),s=o.resolve,u=o.reject,l=aee(function(){var c=iee(n.resolve),f=[],m=0,v=1;see(r,function(S){var _=m++,b=!1;v++,nee(c,n,S).then(function(I){b||(b=!0,f[_]=I,--v||s(f))},u)}),--v||s(f)});return l.error&&u(l.value),o.promise}});var uee=wt,cee=qd.CONSTRUCTOR;bl&&bl.prototype,uee({target:"Promise",proto:!0,forced:cee,real:!0},{catch:function(r){return this.then(void 0,r)}});var lee=En,dee=Ro,fee=bs,hee=Jd,pee=yl;wt({target:"Promise",stat:!0,forced:J_},{race:function(r){var n=this,o=fee.f(n),s=o.reject,u=hee(function(){var l=dee(n.resolve);pee(r,function(c){lee(l,n,c).then(o.resolve,s)})});return u.error&&s(u.value),o.promise}});var gee=bs;wt({target:"Promise",stat:!0,forced:qd.CONSTRUCTOR},{reject:function(r){var n=gee.f(this);return(0,n.reject)(r),n.promise}});var mee=Vi,vee=yn,_ee=bs,ML=function(r,n){if(mee(r),vee(n)&&n.constructor===r)return n;var o=_ee.f(r);return(0,o.resolve)(n),o.promise},yee=wt,See=bl,bee=qd.CONSTRUCTOR,Tee=ML,Cee=Gn("Promise"),Iee=!bee;yee({target:"Promise",stat:!0,forced:!0},{resolve:function(r){return Tee(Iee&&this===Cee?See:this,r)}});var wee=En,Eee=Ro,Aee=bs,xee=Jd,Pee=yl;wt({target:"Promise",stat:!0,forced:J_},{allSettled:function(r){var n=this,o=Aee.f(n),s=o.resolve,u=o.reject,l=xee(function(){var c=Eee(n.resolve),f=[],m=0,v=1;Pee(r,function(S){var _=m++,b=!1;v++,wee(c,n,S).then(function(I){b||(b=!0,f[_]={status:"fulfilled",value:I},--v||s(f))},function(I){b||(b=!0,f[_]={status:"rejected",reason:I},--v||s(f))})}),--v||s(f)});return l.error&&u(l.value),o.promise}});var kee=En,Dee=Ro,Ree=Gn,Fee=bs,Oee=Jd,Nee=yl,WL="No one promise resolved";wt({target:"Promise",stat:!0,forced:J_},{any:function(r){var n=this,o=Ree("AggregateError"),s=Fee.f(n),u=s.resolve,l=s.reject,c=Oee(function(){var f=Dee(n.resolve),m=[],v=0,S=1,_=!1;Nee(r,function(b){var I=v++,A=!1;S++,kee(f,n,b).then(function(P){A||_||(_=!0,u(P))},function(P){A||_||(A=!0,m[I]=P,--S||l(new o(m,WL)))})}),--S||l(new o(m,WL))});return c.error&&l(c.value),s.promise}});var Lee=bs;wt({target:"Promise",stat:!0},{withResolvers:function(){var r=Lee.f(this);return{promise:r.promise,resolve:r.resolve,reject:r.reject}}});var Mee=wt,LI=bl,Wee=mr,Bee=Gn,Uee=wn,Vee=XN,BL=ML,jee=LI&&LI.prototype;Mee({target:"Promise",proto:!0,real:!0,forced:!!LI&&Wee(function(){jee.finally.call({then:function(){}},function(){})})},{finally:function(r){var n=Vee(this,Bee("Promise")),o=Uee(r);return this.then(o?function(s){return BL(n,r()).then(function(){return s})}:r,o?function(s){return BL(n,r()).then(function(){throw s})}:r)}});var MI=yr,Gee=Ep,zee=Fo,Hee=Nd,$ee=MI("".charAt),UL=MI("".charCodeAt),Kee=MI("".slice),VL=function(r){return function(n,o){var s,u,l=zee(Hee(n)),c=Gee(o),f=l.length;return c<0||c>=f?r?"":void 0:(s=UL(l,c))<55296||s>56319||c+1===f||(u=UL(l,c+1))<56320||u>57343?r?$ee(l,c):s:r?Kee(l,c,c+2):u-56320+(s-55296<<10)+65536}},jL={codeAt:VL(!1),charAt:VL(!0)},Yee=jL.charAt,Qee=Fo,GL=Ss,Xee=lI,zL=G_,HL="String Iterator",Jee=GL.set,qee=GL.getterFor(HL);Xee(String,"String",function(r){Jee(this,{type:HL,string:Qee(r),index:0})},function(){var r,n=qee(this),o=n.string,s=n.index;return s>=o.length?zL(void 0,!0):(r=Yee(o,s),n.index+=r.length,zL(r,!1))});var Zee=Jr.Promise,ete={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},tte=Lr,rte=_s,$L=$d;for(var WI in ete)rte(tte[WI],WI),$L[WI]=$L.Array;var KL=Zee,nte=wt,ite=yp,ote=Zu,ate=bs,ste=Ro,YL=Jd,BI=Lr.Promise,QL=!1;nte({target:"Promise",stat:!0,forced:!BI||!BI.try||YL(function(){BI.try(function(r){QL=r===8},8)}).error||!QL},{try:function(r){var n=arguments.length>1?ote(arguments,1):[],o=ate.f(this),s=YL(function(){return ite(ste(r),void 0,n)});return(s.error?o.reject:o.resolve)(s.value),o.promise}});var XL=KL,JL=fe(XL);function qL(r,n,o,s,u,l,c){try{var f=r[l](c),m=f.value}catch(v){return void o(v)}f.done?n(m):JL.resolve(m).then(s,u)}function ZL(r){return function(){var n=this,o=arguments;return new JL(function(s,u){var l=r.apply(n,o);function c(m){qL(l,s,u,c,f,"next",m)}function f(m){qL(l,s,u,c,f,"throw",m)}c(void 0)})}}function qr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var eM=An,ute=En,cte=yn,lte=Vi,dte=function(r){return r!==void 0&&(eM(r,"value")||eM(r,"writable"))},fte=fl,hte=Hd;wt({target:"Reflect",stat:!0},{get:function r(n,o){var s,u,l=arguments.length<3?n:arguments[2];return lte(n)===l?n[o]:(s=fte.f(n,o))?dte(s)?s.value:s.get===void 0?void 0:ute(s.get,l):cte(u=hte(n))?r(u,o,l):void 0}});var tM=fe(Jr.Reflect.get),rM=GO;wt({target:"Function",proto:!0,forced:Function.bind!==rM},{bind:rM});var pte=Lr,gte=Jr,ji=function(r,n){var o=gte[r+"Prototype"],s=o&&o[n];if(s)return s;var u=pte[r],l=u&&u.prototype;return l&&l[n]},mte=ji("Function","bind"),vte=zn,_te=mte,UI=Function.prototype,yte=function(r){var n=r.bind;return r===UI||vte(UI,r)&&n===UI.bind?_te:n},VI=fe(yte),Ste=fe(lN);wt({target:"Object",stat:!0},{setPrototypeOf:yN});var nM=Jr.Object.setPrototypeOf,jI=fe(nM),bte=Oa,iM=Hd,Tte=vN;wt({target:"Object",stat:!0,forced:mr(function(){iM(1)}),sham:!Tte},{getPrototypeOf:function(r){return iM(bte(r))}});var oM=Jr.Object.getPrototypeOf,aM=fe(oM);function tf(r){var n;return tf=jI?VI(n=aM).call(n):function(o){return o.__proto__||aM(o)},tf(r)}function GI(){var r;return GI=typeof Reflect<"u"&&tM?VI(r=tM).call(r):function(n,o,s){var u=function(c,f){for(;!{}.hasOwnProperty.call(c,f)&&(c=tf(c))!==null;);return c}(n,o);if(u){var l=Ste(u,o);return l.get?l.get.call(arguments.length<3?n:s):l.value}},GI.apply(null,arguments)}wt({target:"Object",stat:!0,sham:!cn},{create:tc});var Cte=Jr.Object,sM=function(r,n){return Cte.create(r,n)},Ite=fe(sM),uM={exports:{}},wte=wt,Ete=cn,cM=lo.f;wte({target:"Object",stat:!0,forced:Object.defineProperty!==cM,sham:!Ete},{defineProperty:cM});var lM=Jr.Object,Ate=uM.exports=function(r,n,o){return lM.defineProperty(r,n,o)};lM.defineProperty.sham&&(Ate.sham=!0);var dM=uM.exports,fM=dM,q_=fe(fM);function zI(r,n){var o;return zI=jI?VI(o=jI).call(o):function(s,u){return s.__proto__=u,s},zI(r,n)}function Z_(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Ite(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),q_(r,"prototype",{writable:!1}),n&&zI(r,n)}var xte=TypeError,HI=function(r){if(r>9007199254740991)throw xte("Maximum allowed index exceeded");return r},Pte=mr,kte=v_,Dte=Ur("species"),Yp=function(r){return kte>=51||!Pte(function(){var n=[];return(n.constructor={})[Dte]=function(){return{foo:1}},n[r](Boolean).foo!==1})},Rte=wt,Fte=mr,Ote=gl,Nte=yn,Lte=Oa,Mte=ec,hM=HI,pM=Wp,Wte=GC,Bte=Yp,Ute=v_,gM=Ur("isConcatSpreadable"),Vte=Ute>=51||!Fte(function(){var r=[];return r[gM]=!1,r.concat()[0]!==r}),jte=function(r){if(!Nte(r))return!1;var n=r[gM];return n!==void 0?!!n:Ote(r)};Rte({target:"Array",proto:!0,arity:1,forced:!Vte||!Bte("concat")},{concat:function(r){var n,o,s,u,l,c=Lte(this),f=Wte(c,0),m=0;for(n=-1,s=arguments.length;n<s;n++)if(jte(l=n===-1?c:arguments[n]))for(u=Mte(l),hM(m+u),o=0;o<u;o++,m++)o in l&&pM(f,m,l[o]);else hM(m+1),pM(f,m++,l);return f.length=m,f}}),ln("asyncIterator"),ln("hasInstance"),ln("isConcatSpreadable"),ln("iterator"),ln("match"),ln("matchAll"),ln("replace"),ln("search"),ln("species"),ln("split");var Gte=g2;ln("toPrimitive"),Gte();var zte=Gn,Hte=_s;ln("toStringTag"),Hte(zte("Symbol"),"Symbol"),ln("unscopables"),_s(Lr.JSON,"JSON",!0);var $te=Jr.Symbol,Kte=Ur,Yte=lo.f,mM=Kte("metadata"),vM=Function.prototype;vM[mM]===void 0&&Yte(vM,mM,{value:null}),ln("asyncDispose"),ln("dispose"),ln("metadata");var Qte=$te,Xte=yr,$I=Gn("Symbol"),Jte=$I.keyFor,qte=Xte($I.prototype.valueOf),_M=$I.isRegisteredSymbol||function(r){try{return Jte(qte(r))!==void 0}catch{return!1}};wt({target:"Symbol",stat:!0},{isRegisteredSymbol:_M});for(var Zte=Md,yM=Gn,ere=yr,tre=Tp,rre=Ur,e0=yM("Symbol"),SM=e0.isWellKnownSymbol,bM=yM("Object","getOwnPropertyNames"),nre=ere(e0.prototype.valueOf),TM=Zte("wks"),KI=0,CM=bM(e0),ire=CM.length;KI<ire;KI++)try{var IM=CM[KI];tre(e0[IM])&&rre(IM)}catch{}var wM=function(r){if(SM&&SM(r))return!0;try{for(var n=nre(r),o=0,s=bM(TM),u=s.length;o<u;o++)if(TM[s[o]]==n)return!0}catch{}return!1};wt({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:wM}),ln("customMatcher"),ln("observable"),wt({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:_M}),wt({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:wM}),ln("matcher"),ln("metadataKey"),ln("patternMatch"),ln("replaceAll");var YI=Qte,rf=fe(YI),EM=Rp.f("iterator"),ore=fe(EM);function nf(r){return nf=typeof rf=="function"&&typeof ore=="symbol"?function(n){return typeof n}:function(n){return n&&typeof rf=="function"&&n.constructor===rf&&n!==rf.prototype?"symbol":typeof n},nf(r)}wt({target:"Array",stat:!0},{isArray:gl});var AM=Jr.Array.isArray,xM=fe(AM),PM=fe(Bp),are=cn,sre=gl,ure=TypeError,cre=Object.getOwnPropertyDescriptor,kM=are&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(r){return r instanceof TypeError}}()?function(r,n){if(sre(r)&&!cre(r,"length").writable)throw new ure("Cannot set read only .length");return r.length=n}:function(r,n){return r.length=n},lre=Oa,dre=ec,fre=kM,hre=HI;wt({target:"Array",proto:!0,arity:1,forced:mr(function(){return[].push.call({length:4294967296},1)!==4294967297})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(r){return r instanceof TypeError}}()},{push:function(r){var n=lre(this),o=dre(n),s=arguments.length;hre(o+s);for(var u=0;u<s;u++)n[o]=arguments[u],o++;return fre(n,o),o}});var pre=ji("Array","push"),gre=zn,mre=pre,QI=Array.prototype,vre=function(r){var n=r.push;return r===QI||gre(QI,r)&&n===QI.push?mre:n},DM=vre,_re=fe(DM),yre=wt,RM=gl,Sre=b_,bre=yn,FM=C_,Tre=ec,Cre=Fa,Ire=Wp,wre=Ur,Ere=Zu,Are=Yp("slice"),xre=wre("species"),XI=Array,Pre=Math.max;yre({target:"Array",proto:!0,forced:!Are},{slice:function(r,n){var o,s,u,l=Cre(this),c=Tre(l),f=FM(r,c),m=FM(n===void 0?c:n,c);if(RM(l)&&(o=l.constructor,(Sre(o)&&(o===XI||RM(o.prototype))||bre(o)&&(o=o[xre])===null)&&(o=void 0),o===XI||o===void 0))return Ere(l,f,m);for(s=new(o===void 0?XI:o)(Pre(m-f,0)),u=0;f<m;f++,u++)f in l&&Ire(s,u,l[f]);return s.length=u,s}});var kre=ji("Array","slice"),Dre=zn,Rre=kre,JI=Array.prototype,Fre=function(r){var n=r.slice;return r===JI||Dre(JI,r)&&n===JI.slice?Rre:n},OM=Fre,NM=OM,Ore=fe(NM),Nre=Vi,Lre=M_,Mre=iu,Wre=En,Bre=Oa,Ure=function(r,n,o,s){try{return s?n(Nre(o)[0],o[1]):n(o)}catch(u){Lre(r,"throw",u)}},Vre=IN,jre=b_,Gre=ec,LM=Wp,zre=rI,Hre=Bp,MM=Array,WM=function(r){var n=Bre(r),o=jre(this),s=arguments.length,u=s>1?arguments[1]:void 0,l=u!==void 0;l&&(u=Mre(u,s>2?arguments[2]:void 0));var c,f,m,v,S,_,b=Hre(n),I=0;if(!b||this===MM&&Vre(b))for(c=Gre(n),f=o?new this(c):MM(c);c>I;I++)_=l?u(n[I],I):n[I],LM(f,I,_);else for(f=o?new this:[],S=(v=zre(n,b)).next;!(m=Wre(S,v)).done;I++)_=l?Ure(v,u,[m.value,I],!0):m.value,LM(f,I,_);return f.length=I,f},$re=WM;wt({target:"Array",stat:!0,forced:!LL(function(r){Array.from(r)})},{from:$re});var BM=Jr.Array.from,UM=fe(BM);function qI(r,n){(n==null||n>r.length)&&(n=r.length);for(var o=0,s=Array(n);o<n;o++)s[o]=r[o];return s}function VM(r,n){if(r){var o;if(typeof r=="string")return qI(r,n);var s=Ore(o={}.toString.call(r)).call(o,8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?UM(r):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?qI(r,n):void 0}}function of(r,n){return function(o){if(xM(o))return o}(r)||function(o,s){var u=o==null?null:rf!==void 0&&PM(o)||o["@@iterator"];if(u!=null){var l,c,f,m,v=[],S=!0,_=!1;try{if(f=(u=u.call(o)).next,s===0){if(Object(u)!==u)return;S=!1}else for(;!(S=(l=f.call(u)).done)&&(_re(v).call(v,l.value),v.length!==s);S=!0);}catch(b){_=!0,c=b}finally{try{if(!S&&u.return!=null&&(m=u.return(),Object(m)!==m))return}finally{if(_)throw c}}return v}}(r,n)||VM(r,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sn(r){return function(n){if(xM(n))return qI(n)}(r)||function(n){if(rf!==void 0&&PM(n)!=null||n["@@iterator"]!=null)return UM(n)}(r)||VM(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xn(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}var Kre=fe(Rp.f("toPrimitive"));function jM(r){var n=function(o,s){if(nf(o)!="object"||!o)return o;var u=o[Kre];if(u!==void 0){var l=u.call(o,s||"default");if(nf(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}(r,"string");return nf(n)=="symbol"?n:n+""}function GM(r,n){for(var o=0;o<n.length;o++){var s=n[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),q_(r,jM(s.key),s)}}function Pn(r,n,o){return n&&GM(r.prototype,n),o&&GM(r,o),q_(r,"prototype",{writable:!1}),r}function ct(r,n,o){return(n=jM(n))in r?q_(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}var zM={exports:{}},HM={exports:{}};(function(r){var n=YI,o=EM;function s(u){return r.exports=s=typeof n=="function"&&typeof o=="symbol"?function(l){return typeof l}:function(l){return l&&typeof n=="function"&&l.constructor===n&&l!==n.prototype?"symbol":typeof l},r.exports.__esModule=!0,r.exports.default=r.exports,s(u)}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports})(HM);var Yre=HM.exports,Qre=mr,$M=function(r,n){var o=[][r];return!!o&&Qre(function(){o.call(null,n||function(){return 1},1)})},Xre=ml.forEach,KM=$M("forEach")?[].forEach:function(r){return Xre(this,r,arguments.length>1?arguments[1]:void 0)};wt({target:"Array",proto:!0,forced:[].forEach!==KM},{forEach:KM});var Jre=ji("Array","forEach"),qre=pl,Zre=An,ene=zn,tne=Jre,ZI=Array.prototype,rne={DOMTokenList:!0,NodeList:!0},YM=function(r){var n=r.forEach;return r===ZI||ene(ZI,r)&&n===ZI.forEach||Zre(rne,qre(r))?tne:n},nne=YM,ine=wt,one=gl,ane=yr([].reverse),QM=[1,2];ine({target:"Array",proto:!0,forced:String(QM)===String(QM.reverse())},{reverse:function(){return one(this)&&(this.length=this.length),ane(this)}});var sne=ji("Array","reverse"),une=zn,cne=sne,ew=Array.prototype,lne=function(r){var n=r.reverse;return r===ew||une(ew,r)&&n===ew.reverse?cne:n},dne=lne;(function(r){var n=Yre.default,o=fM,s=YI,u=sM,l=oM,c=nne,f=DM,m=nM,v=XL,S=dne,_=NM;function b(){r.exports=b=function(){return A},r.exports.__esModule=!0,r.exports.default=r.exports;var I,A={},P=Object.prototype,L=P.hasOwnProperty,$=o||function(Be,Oe,tt){Be[Oe]=tt.value},ee=typeof s=="function"?s:{},q=ee.iterator||"@@iterator",Q=ee.asyncIterator||"@@asyncIterator",J=ee.toStringTag||"@@toStringTag";function te(Be,Oe,tt){return o(Be,Oe,{value:tt,enumerable:!0,configurable:!0,writable:!0}),Be[Oe]}try{te({},"")}catch{te=function(Oe,tt,pt){return Oe[tt]=pt}}function H(Be,Oe,tt,pt){var lt=Oe&&Oe.prototype instanceof ie?Oe:ie,Xe=u(lt.prototype),dr=new gt(pt||[]);return $(Xe,"_invoke",{value:Qe(Be,tt,dr)}),Xe}function k(Be,Oe,tt){try{return{type:"normal",arg:Be.call(Oe,tt)}}catch(pt){return{type:"throw",arg:pt}}}A.wrap=H;var M="suspendedStart",U="suspendedYield",G="executing",z="completed",Z={};function ie(){}function se(){}function re(){}var ae={};te(ae,q,function(){return this});var Se=l&&l(l(Ct([])));Se&&Se!==P&&L.call(Se,q)&&(ae=Se);var ge=re.prototype=ie.prototype=u(ae);function ve(Be){var Oe;c(Oe=["next","throw","return"]).call(Oe,function(tt){te(Be,tt,function(pt){return this._invoke(tt,pt)})})}function Me(Be,Oe){function tt(lt,Xe,dr,fn){var Gt=k(Be[lt],Be,Xe);if(Gt.type!=="throw"){var Zt=Gt.arg,xr=Zt.value;return xr&&n(xr)=="object"&&L.call(xr,"__await")?Oe.resolve(xr.__await).then(function(Ei){tt("next",Ei,dr,fn)},function(Ei){tt("throw",Ei,dr,fn)}):Oe.resolve(xr).then(function(Ei){Zt.value=Ei,dr(Zt)},function(Ei){return tt("throw",Ei,dr,fn)})}fn(Gt.arg)}var pt;$(this,"_invoke",{value:function(lt,Xe){function dr(){return new Oe(function(fn,Gt){tt(lt,Xe,fn,Gt)})}return pt=pt?pt.then(dr,dr):dr()}})}function Qe(Be,Oe,tt){var pt=M;return function(lt,Xe){if(pt===G)throw Error("Generator is already running");if(pt===z){if(lt==="throw")throw Xe;return{value:I,done:!0}}for(tt.method=lt,tt.arg=Xe;;){var dr=tt.delegate;if(dr){var fn=ze(dr,tt);if(fn){if(fn===Z)continue;return fn}}if(tt.method==="next")tt.sent=tt._sent=tt.arg;else if(tt.method==="throw"){if(pt===M)throw pt=z,tt.arg;tt.dispatchException(tt.arg)}else tt.method==="return"&&tt.abrupt("return",tt.arg);pt=G;var Gt=k(Be,Oe,tt);if(Gt.type==="normal"){if(pt=tt.done?z:U,Gt.arg===Z)continue;return{value:Gt.arg,done:tt.done}}Gt.type==="throw"&&(pt=z,tt.method="throw",tt.arg=Gt.arg)}}}function ze(Be,Oe){var tt=Oe.method,pt=Be.iterator[tt];if(pt===I)return Oe.delegate=null,tt==="throw"&&Be.iterator.return&&(Oe.method="return",Oe.arg=I,ze(Be,Oe),Oe.method==="throw")||tt!=="return"&&(Oe.method="throw",Oe.arg=new TypeError("The iterator does not provide a '"+tt+"' method")),Z;var lt=k(pt,Be.iterator,Oe.arg);if(lt.type==="throw")return Oe.method="throw",Oe.arg=lt.arg,Oe.delegate=null,Z;var Xe=lt.arg;return Xe?Xe.done?(Oe[Be.resultName]=Xe.value,Oe.next=Be.nextLoc,Oe.method!=="return"&&(Oe.method="next",Oe.arg=I),Oe.delegate=null,Z):Xe:(Oe.method="throw",Oe.arg=new TypeError("iterator result is not an object"),Oe.delegate=null,Z)}function yt(Be){var Oe,tt={tryLoc:Be[0]};1 in Be&&(tt.catchLoc=Be[1]),2 in Be&&(tt.finallyLoc=Be[2],tt.afterLoc=Be[3]),f(Oe=this.tryEntries).call(Oe,tt)}function at(Be){var Oe=Be.completion||{};Oe.type="normal",delete Oe.arg,Be.completion=Oe}function gt(Be){this.tryEntries=[{tryLoc:"root"}],c(Be).call(Be,yt,this),this.reset(!0)}function Ct(Be){if(Be||Be===""){var Oe=Be[q];if(Oe)return Oe.call(Be);if(typeof Be.next=="function")return Be;if(!isNaN(Be.length)){var tt=-1,pt=function lt(){for(;++tt<Be.length;)if(L.call(Be,tt))return lt.value=Be[tt],lt.done=!1,lt;return lt.value=I,lt.done=!0,lt};return pt.next=pt}}throw new TypeError(n(Be)+" is not iterable")}return se.prototype=re,$(ge,"constructor",{value:re,configurable:!0}),$(re,"constructor",{value:se,configurable:!0}),se.displayName=te(re,J,"GeneratorFunction"),A.isGeneratorFunction=function(Be){var Oe=typeof Be=="function"&&Be.constructor;return!!Oe&&(Oe===se||(Oe.displayName||Oe.name)==="GeneratorFunction")},A.mark=function(Be){return m?m(Be,re):(Be.__proto__=re,te(Be,J,"GeneratorFunction")),Be.prototype=u(ge),Be},A.awrap=function(Be){return{__await:Be}},ve(Me.prototype),te(Me.prototype,Q,function(){return this}),A.AsyncIterator=Me,A.async=function(Be,Oe,tt,pt,lt){lt===void 0&&(lt=v);var Xe=new Me(H(Be,Oe,tt,pt),lt);return A.isGeneratorFunction(Oe)?Xe:Xe.next().then(function(dr){return dr.done?dr.value:Xe.next()})},ve(ge),te(ge,J,"Generator"),te(ge,q,function(){return this}),te(ge,"toString",function(){return"[object Generator]"}),A.keys=function(Be){var Oe=Object(Be),tt=[];for(var pt in Oe)f(tt).call(tt,pt);return S(tt).call(tt),function lt(){for(;tt.length;){var Xe=tt.pop();if(Xe in Oe)return lt.value=Xe,lt.done=!1,lt}return lt.done=!0,lt}},A.values=Ct,gt.prototype={constructor:gt,reset:function(Be){var Oe;if(this.prev=0,this.next=0,this.sent=this._sent=I,this.done=!1,this.delegate=null,this.method="next",this.arg=I,c(Oe=this.tryEntries).call(Oe,at),!Be)for(var tt in this)tt.charAt(0)==="t"&&L.call(this,tt)&&!isNaN(+_(tt).call(tt,1))&&(this[tt]=I)},stop:function(){this.done=!0;var Be=this.tryEntries[0].completion;if(Be.type==="throw")throw Be.arg;return this.rval},dispatchException:function(Be){if(this.done)throw Be;var Oe=this;function tt(Gt,Zt){return Xe.type="throw",Xe.arg=Be,Oe.next=Gt,Zt&&(Oe.method="next",Oe.arg=I),!!Zt}for(var pt=this.tryEntries.length-1;pt>=0;--pt){var lt=this.tryEntries[pt],Xe=lt.completion;if(lt.tryLoc==="root")return tt("end");if(lt.tryLoc<=this.prev){var dr=L.call(lt,"catchLoc"),fn=L.call(lt,"finallyLoc");if(dr&&fn){if(this.prev<lt.catchLoc)return tt(lt.catchLoc,!0);if(this.prev<lt.finallyLoc)return tt(lt.finallyLoc)}else if(dr){if(this.prev<lt.catchLoc)return tt(lt.catchLoc,!0)}else{if(!fn)throw Error("try statement without catch or finally");if(this.prev<lt.finallyLoc)return tt(lt.finallyLoc)}}}},abrupt:function(Be,Oe){for(var tt=this.tryEntries.length-1;tt>=0;--tt){var pt=this.tryEntries[tt];if(pt.tryLoc<=this.prev&&L.call(pt,"finallyLoc")&&this.prev<pt.finallyLoc){var lt=pt;break}}lt&&(Be==="break"||Be==="continue")&&lt.tryLoc<=Oe&&Oe<=lt.finallyLoc&&(lt=null);var Xe=lt?lt.completion:{};return Xe.type=Be,Xe.arg=Oe,lt?(this.method="next",this.next=lt.finallyLoc,Z):this.complete(Xe)},complete:function(Be,Oe){if(Be.type==="throw")throw Be.arg;return Be.type==="break"||Be.type==="continue"?this.next=Be.arg:Be.type==="return"?(this.rval=this.arg=Be.arg,this.method="return",this.next="end"):Be.type==="normal"&&Oe&&(this.next=Oe),Z},finish:function(Be){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var tt=this.tryEntries[Oe];if(tt.finallyLoc===Be)return this.complete(tt.completion,tt.afterLoc),at(tt),Z}},catch:function(Be){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var tt=this.tryEntries[Oe];if(tt.tryLoc===Be){var pt=tt.completion;if(pt.type==="throw"){var lt=pt.arg;at(tt)}return lt}}throw Error("illegal catch attempt")},delegateYield:function(Be,Oe,tt){return this.delegate={iterator:Ct(Be),resultName:Oe,nextLoc:tt},this.method==="next"&&(this.arg=I),Z}},A}r.exports=b,r.exports.__esModule=!0,r.exports.default=r.exports})(zM);var t0=(0,zM.exports)(),fne=t0;try{regeneratorRuntime=t0}catch{(typeof Ki>"u"?"undefined":D(Ki))==="object"?Ki.regeneratorRuntime=t0:Function("r","regeneratorRuntime = r")(t0)}var r0=fe(fne),XM=fe(AM),Bt=fe(YM),hne=Oa,JM=xp;wt({target:"Object",stat:!0,forced:mr(function(){JM(1)})},{keys:function(r){return JM(hne(r))}});var n0=fe(Jr.Object.keys);wt({target:"Number",stat:!0},{isNaN:function(r){return r!=r}});var af=fe(Jr.Number.isNaN),pne=ji("Array","concat"),gne=zn,mne=pne,tw=Array.prototype,vne=function(r){var n=r.concat;return r===tw||gne(tw,r)&&n===tw.concat?mne:n},ac=fe(vne),_ne=wt,yne=yr,Sne=C_,bne=RangeError,qM=String.fromCharCode,ZM=String.fromCodePoint,Tne=yne([].join);_ne({target:"String",stat:!0,arity:1,forced:!!ZM&&ZM.length!==1},{fromCodePoint:function(r){for(var n,o=[],s=arguments.length,u=0;s>u;){if(n=+arguments[u++],Sne(n,1114111)!==n)throw new bne(n+" is not a valid code point");o[u]=n<65536?qM(n):qM(55296+((n-=65536)>>10),n%1024+56320)}return Tne(o,"")}});var Cne=mr,Ine=lK,wne=Ur("iterator"),i0=!Cne(function(){var r=new URL("b?a=1&b=2&c=3","https://a"),n=r.searchParams,o=new URLSearchParams("a=1&a=2&b=3"),s="";return r.pathname="c%20d",n.forEach(function(u,l){n.delete("b"),s+=l+u}),o.delete("a",2),o.delete("b",void 0),!r.toJSON||!o.has("a",1)||o.has("a",2)||!o.has("a",void 0)||o.has("b")||!n.size&&Ine||!n.sort||r.href!=="https://a/c%20d?a=1&c=3"||n.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!n[wne]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://").host!=="xn--e1aybc"||new URL("https://a#").hash!=="#%D0%B1"||s!=="a1c3"||new URL("https://x",void 0).host!=="x"}),Ene=rc,eW=function(r,n,o){for(var s in n)o&&o.unsafe&&r[s]?r[s]=n[s]:Ene(r,s,n[s],o);return r},tW=Zu,Ane=Math.floor,rw=function(r,n){var o=r.length;if(o<8)for(var s,u,l=1;l<o;){for(u=l,s=r[l];u&&n(r[u-1],s)>0;)r[u]=r[--u];u!==l++&&(r[u]=s)}else for(var c=Ane(o/2),f=rw(tW(r,0,c),n),m=rw(tW(r,c),n),v=f.length,S=m.length,_=0,b=0;_<v||b<S;)r[_+b]=_<v&&b<S?n(f[_],m[b])<=0?f[_++]:m[b++]:_<v?f[_++]:m[b++];return r},nw=wt,rW=Lr,iw=uL,xne=Gn,o0=En,La=yr,Qp=cn,nW=i0,iW=rc,Pne=Dp,kne=eW,Dne=_s,Rne=MN,ow=Ss,oW=jp,aw=wn,Fne=An,One=iu,Nne=pl,Lne=Vi,aW=yn,Gi=Fo,Mne=tc,sW=Ju,uW=rI,Wne=Bp,a0=G_,sf=Gp,Bne=rw,Une=Ur("iterator"),uf="URLSearchParams",cW=uf+"Iterator",lW=ow.set,ta=ow.getterFor(uf),Vne=ow.getterFor(cW),dW=iw("fetch"),s0=iw("Request"),Xp=iw("Headers"),sw=s0&&s0.prototype,fW=Xp&&Xp.prototype,jne=rW.TypeError,Gne=rW.encodeURIComponent,zne=String.fromCharCode,Hne=xne("String","fromCodePoint"),$ne=parseInt,u0=La("".charAt),hW=La([].join),sc=La([].push),pW=La("".replace),Kne=La([].shift),gW=La([].splice),mW=La("".split),vW=La("".slice),Yne=La(/./.exec),Qne=/\+/g,Xne=/^[0-9a-f]+$/i,_W=function(r,n){var o=vW(r,n,n+2);return Yne(Xne,o)?$ne(o,16):NaN},Jne=function(r){for(var n=0,o=128;o>0&&r&o;o>>=1)n++;return n},qne=function(r){var n=null;switch(r.length){case 1:n=r[0];break;case 2:n=(31&r[0])<<6|63&r[1];break;case 3:n=(15&r[0])<<12|(63&r[1])<<6|63&r[2];break;case 4:n=(7&r[0])<<18|(63&r[1])<<12|(63&r[2])<<6|63&r[3]}return n>1114111?null:n},yW=function(r){for(var n=(r=pW(r,Qne," ")).length,o="",s=0;s<n;){var u=u0(r,s);if(u==="%"){if(u0(r,s+1)==="%"||s+3>n){o+="%",s++;continue}var l=_W(r,s+1);if(l!=l){o+=u,s++;continue}s+=2;var c=Jne(l);if(c===0)u=zne(l);else{if(c===1||c>4){o+="",s++;continue}for(var f=[l],m=1;m<c&&!(++s+3>n||u0(r,s)!=="%");){var v=_W(r,s+1);if(v!=v){s+=3;break}if(v>191||v<128)break;sc(f,v),s+=2,m++}if(f.length!==c){o+="";continue}var S=qne(f);S===null?o+="":u=Hne(S)}}o+=u,s++}return o},Zne=/[!'()~]|%20/g,eie={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},tie=function(r){return eie[r]},SW=function(r){return pW(Gne(r),Zne,tie)},uw=Rne(function(r,n){lW(this,{type:cW,target:ta(r).entries,index:0,kind:n})},uf,function(){var r=Vne(this),n=r.target,o=r.index++;if(!n||o>=n.length)return r.target=null,a0(void 0,!0);var s=n[o];switch(r.kind){case"keys":return a0(s.key,!1);case"values":return a0(s.value,!1)}return a0([s.key,s.value],!1)},!0),bW=function(r){this.entries=[],this.url=null,r!==void 0&&(aW(r)?this.parseObject(r):this.parseQuery(typeof r=="string"?u0(r,0)==="?"?vW(r,1):r:Gi(r)))};bW.prototype={type:uf,bindURL:function(r){this.url=r,this.update()},parseObject:function(r){var n,o,s,u,l,c,f,m=this.entries,v=Wne(r);if(v)for(o=(n=uW(r,v)).next;!(s=o0(o,n)).done;){if(l=(u=uW(Lne(s.value))).next,(c=o0(l,u)).done||(f=o0(l,u)).done||!o0(l,u).done)throw new jne("Expected sequence with length 2");sc(m,{key:Gi(c.value),value:Gi(f.value)})}else for(var S in r)Fne(r,S)&&sc(m,{key:S,value:Gi(r[S])})},parseQuery:function(r){if(r)for(var n,o,s=this.entries,u=mW(r,"&"),l=0;l<u.length;)(n=u[l++]).length&&(o=mW(n,"="),sc(s,{key:yW(Kne(o)),value:yW(hW(o,"="))}))},serialize:function(){for(var r,n=this.entries,o=[],s=0;s<n.length;)r=n[s++],sc(o,SW(r.key)+"="+SW(r.value));return hW(o,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var c0=function(){oW(this,cf);var r=arguments.length>0?arguments[0]:void 0,n=lW(this,new bW(r));Qp||(this.size=n.entries.length)},cf=c0.prototype;if(kne(cf,{append:function(r,n){var o=ta(this);sf(arguments.length,2),sc(o.entries,{key:Gi(r),value:Gi(n)}),Qp||this.length++,o.updateURL()},delete:function(r){for(var n=ta(this),o=sf(arguments.length,1),s=n.entries,u=Gi(r),l=o<2?void 0:arguments[1],c=l===void 0?l:Gi(l),f=0;f<s.length;){var m=s[f];if(m.key!==u||c!==void 0&&m.value!==c)f++;else if(gW(s,f,1),c!==void 0)break}Qp||(this.size=s.length),n.updateURL()},get:function(r){var n=ta(this).entries;sf(arguments.length,1);for(var o=Gi(r),s=0;s<n.length;s++)if(n[s].key===o)return n[s].value;return null},getAll:function(r){var n=ta(this).entries;sf(arguments.length,1);for(var o=Gi(r),s=[],u=0;u<n.length;u++)n[u].key===o&&sc(s,n[u].value);return s},has:function(r){for(var n=ta(this).entries,o=sf(arguments.length,1),s=Gi(r),u=o<2?void 0:arguments[1],l=u===void 0?u:Gi(u),c=0;c<n.length;){var f=n[c++];if(f.key===s&&(l===void 0||f.value===l))return!0}return!1},set:function(r,n){var o=ta(this);sf(arguments.length,1);for(var s,u=o.entries,l=!1,c=Gi(r),f=Gi(n),m=0;m<u.length;m++)(s=u[m]).key===c&&(l?gW(u,m--,1):(l=!0,s.value=f));l||sc(u,{key:c,value:f}),Qp||(this.size=u.length),o.updateURL()},sort:function(){var r=ta(this);Bne(r.entries,function(n,o){return n.key>o.key?1:-1}),r.updateURL()},forEach:function(r){for(var n,o=ta(this).entries,s=One(r,arguments.length>1?arguments[1]:void 0),u=0;u<o.length;)s((n=o[u++]).value,n.key,this)},keys:function(){return new uw(this,"keys")},values:function(){return new uw(this,"values")},entries:function(){return new uw(this,"entries")}},{enumerable:!0}),iW(cf,Une,cf.entries,{name:"entries"}),iW(cf,"toString",function(){return ta(this).serialize()},{enumerable:!0}),Qp&&Pne(cf,"size",{get:function(){return ta(this).entries.length},configurable:!0,enumerable:!0}),Dne(c0,uf),nw({global:!0,constructor:!0,forced:!nW},{URLSearchParams:c0}),!nW&&aw(Xp)){var rie=La(fW.has),nie=La(fW.set),TW=function(r){if(aW(r)){var n,o=r.body;if(Nne(o)===uf)return n=r.headers?new Xp(r.headers):new Xp,rie(n,"content-type")||nie(n,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Mne(r,{body:sW(0,Gi(o)),headers:sW(0,n)})}return r};if(aw(dW)&&nw({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(r){return dW(r,arguments.length>1?TW(arguments[1]):{})}}),aw(s0)){var cw=function(r){return oW(this,sw),new s0(r,arguments.length>1?TW(arguments[1]):{})};sw.constructor=cw,cw.prototype=sw,nw({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:cw})}}var ra,iie={URLSearchParams:c0,getState:ta},CW=cn,oie=yr,aie=En,sie=mr,lw=xp,uie=kp,cie=Sp,lie=Oa,die=lC,lf=Object.assign,IW=Object.defineProperty,fie=oie([].concat),hie=!lf||sie(function(){if(CW&&lf({b:1},lf(IW({},"a",{enumerable:!0,get:function(){IW(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},n={},o=Symbol("assign detection"),s="abcdefghijklmnopqrst";return r[o]=7,s.split("").forEach(function(u){n[u]=u}),lf({},r)[o]!==7||lw(lf({},n)).join("")!==s})?function(r,n){for(var o=lie(r),s=arguments.length,u=1,l=uie.f,c=cie.f;s>u;)for(var f,m=die(arguments[u++]),v=l?fie(lw(m),l(m)):lw(m),S=v.length,_=0;S>_;)f=v[_++],CW&&!aie(c,m,f)||(o[f]=m[f]);return o}:lf,Tl=yr,dw=2147483647,pie=/[^\0-\u007E]/,wW=/[.\u3002\uFF0E\uFF61]/g,EW="Overflow: input needs wider integers to process",AW=RangeError,gie=Tl(wW.exec),df=Math.floor,fw=String.fromCharCode,xW=Tl("".charCodeAt),PW=Tl([].join),uc=Tl([].push),mie=Tl("".replace),vie=Tl("".split),_ie=Tl("".toLowerCase),kW=function(r){return r+22+75*(r<26)},yie=function(r,n,o){var s=0;for(r=o?df(r/700):r>>1,r+=df(r/n);r>455;)r=df(r/35),s+=36;return df(s+36*r/(r+38))},Sie=function(r){var n=[];r=function($){for(var ee=[],q=0,Q=$.length;q<Q;){var J=xW($,q++);if(J>=55296&&J<=56319&&q<Q){var te=xW($,q++);(64512&te)==56320?uc(ee,((1023&J)<<10)+(1023&te)+65536):(uc(ee,J),q--)}else uc(ee,J)}return ee}(r);var o,s,u=r.length,l=128,c=0,f=72;for(o=0;o<r.length;o++)(s=r[o])<128&&uc(n,fw(s));var m=n.length,v=m;for(m&&uc(n,"-");v<u;){var S=dw;for(o=0;o<r.length;o++)(s=r[o])>=l&&s<S&&(S=s);var _=v+1;if(S-l>df((dw-c)/_))throw new AW(EW);for(c+=(S-l)*_,l=S,o=0;o<r.length;o++){if((s=r[o])<l&&++c>dw)throw new AW(EW);if(s===l){for(var b=c,I=36;;){var A=I<=f?1:I>=f+26?26:I-f;if(b<A)break;var P=b-A,L=36-A;uc(n,fw(kW(A+P%L))),b=df(P/L),I+=36}uc(n,fw(kW(b))),f=yie(c,_,v===m),c=0,v++}}c++,l++}return PW(n,"")},bie=wt,hw=cn,Tie=i0,pw=Lr,DW=iu,na=yr,l0=rc,ia=Dp,Cie=jp,gw=An,mw=hie,ff=WM,Ma=Zu,Iie=jL.codeAt,wie=function(r){var n,o,s=[],u=vie(mie(_ie(r),wW,"."),".");for(n=0;n<u.length;n++)o=u[n],uc(s,gie(pie,o)?"xn--"+Sie(o):o);return PW(s,".")},au=Fo,Eie=_s,Aie=Gp,RW=iie,FW=Ss,xie=FW.set,d0=FW.getterFor("URL"),Pie=RW.URLSearchParams,kie=RW.getState,Jp=pw.URL,vw=pw.TypeError,f0=pw.parseInt,Die=Math.floor,OW=Math.pow,oa=na("".charAt),Wa=na(/./.exec),qp=na([].join),Rie=na(1 .toString),Fie=na([].pop),hf=na([].push),_w=na("".replace),Oie=na([].shift),Nie=na("".split),Zp=na("".slice),h0=na("".toLowerCase),Lie=na([].unshift),yw="Invalid scheme",Cl="Invalid host",NW="Invalid port",LW=/[a-z]/i,Mie=/[\d+-.a-z]/i,Sw=/\d/,Wie=/^0x/i,Bie=/^[0-7]+$/,Uie=/^\d+$/,MW=/^[\da-f]+$/i,Vie=/[\0\t\n\r #%/:<>?@[\\\]^|]/,jie=/[\0\t\n\r #/:<>?@[\\\]^|]/,Gie=/^[\u0000-\u0020]+/,zie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,Hie=/[\t\n\r]/g,eg=function(r){var n,o,s,u;if(typeof r=="number"){for(n=[],o=0;o<4;o++)Lie(n,r%256),r=Die(r/256);return qp(n,".")}if(D(r)=="object"){for(n="",s=function(l){for(var c=null,f=1,m=null,v=0,S=0;S<8;S++)l[S]!==0?(v>f&&(c=m,f=v),m=null,v=0):(m===null&&(m=S),++v);return v>f?m:c}(r),o=0;o<8;o++)u&&r[o]===0||(u&&(u=!1),s===o?(n+=o?":":"::",u=!0):(n+=Rie(r[o],16),o<7&&(n+=":")));return"["+n+"]"}return r},p0={},WW=mw({},p0,{" ":1,'"':1,"<":1,">":1,"`":1}),BW=mw({},WW,{"#":1,"?":1,"{":1,"}":1}),bw=mw({},BW,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),cc=function(r,n){var o=Iie(r,0);return o>32&&o<127&&!gw(n,r)?r:encodeURIComponent(r)},g0={ftp:21,file:null,http:80,https:443,ws:80,wss:443},tg=function(r,n){var o;return r.length===2&&Wa(LW,oa(r,0))&&((o=oa(r,1))===":"||!n&&o==="|")},UW=function(r){var n;return r.length>1&&tg(Zp(r,0,2))&&(r.length===2||(n=oa(r,2))==="/"||n==="\\"||n==="?"||n==="#")},$ie=function(r){return r==="."||h0(r)==="%2e"},Tw={},VW={},Cw={},jW={},GW={},Iw={},zW={},HW={},m0={},v0={},ww={},Ew={},Aw={},xw={},$W={},Pw={},pf={},Ts={},KW={},Il={},su={},kw=function(r,n,o){var s,u,l,c=au(r);if(n){if(u=this.parse(c))throw new vw(u);this.searchParams=null}else{if(o!==void 0&&(s=new kw(o,!0)),u=this.parse(c,null,s))throw new vw(u);(l=kie(new Pie)).bindURL(this),this.searchParams=l}};kw.prototype={type:"URL",parse:function(r,n,o){var s,u,l,c,f,m=this,v=n||Tw,S=0,_="",b=!1,I=!1,A=!1;for(r=au(r),n||(m.scheme="",m.username="",m.password="",m.host=null,m.port=null,m.path=[],m.query=null,m.fragment=null,m.cannotBeABaseURL=!1,r=_w(r,Gie,""),r=_w(r,zie,"$1")),r=_w(r,Hie,""),s=ff(r);S<=s.length;){switch(u=s[S],v){case Tw:if(!u||!Wa(LW,u)){if(n)return yw;v=Cw;continue}_+=h0(u),v=VW;break;case VW:if(u&&(Wa(Mie,u)||u==="+"||u==="-"||u==="."))_+=h0(u);else{if(u!==":"){if(n)return yw;_="",v=Cw,S=0;continue}if(n&&(m.isSpecial()!==gw(g0,_)||_==="file"&&(m.includesCredentials()||m.port!==null)||m.scheme==="file"&&!m.host))return;if(m.scheme=_,n)return void(m.isSpecial()&&g0[m.scheme]===m.port&&(m.port=null));_="",m.scheme==="file"?v=xw:m.isSpecial()&&o&&o.scheme===m.scheme?v=jW:m.isSpecial()?v=HW:s[S+1]==="/"?(v=GW,S++):(m.cannotBeABaseURL=!0,hf(m.path,""),v=KW)}break;case Cw:if(!o||o.cannotBeABaseURL&&u!=="#")return yw;if(o.cannotBeABaseURL&&u==="#"){m.scheme=o.scheme,m.path=Ma(o.path),m.query=o.query,m.fragment="",m.cannotBeABaseURL=!0,v=su;break}v=o.scheme==="file"?xw:Iw;continue;case jW:if(u!=="/"||s[S+1]!=="/"){v=Iw;continue}v=m0,S++;break;case GW:if(u==="/"){v=v0;break}v=Ts;continue;case Iw:if(m.scheme=o.scheme,u===ra)m.username=o.username,m.password=o.password,m.host=o.host,m.port=o.port,m.path=Ma(o.path),m.query=o.query;else if(u==="/"||u==="\\"&&m.isSpecial())v=zW;else if(u==="?")m.username=o.username,m.password=o.password,m.host=o.host,m.port=o.port,m.path=Ma(o.path),m.query="",v=Il;else{if(u!=="#"){m.username=o.username,m.password=o.password,m.host=o.host,m.port=o.port,m.path=Ma(o.path),m.path.length--,v=Ts;continue}m.username=o.username,m.password=o.password,m.host=o.host,m.port=o.port,m.path=Ma(o.path),m.query=o.query,m.fragment="",v=su}break;case zW:if(!m.isSpecial()||u!=="/"&&u!=="\\"){if(u!=="/"){m.username=o.username,m.password=o.password,m.host=o.host,m.port=o.port,v=Ts;continue}v=v0}else v=m0;break;case HW:if(v=m0,u!=="/"||oa(_,S+1)!=="/")continue;S++;break;case m0:if(u!=="/"&&u!=="\\"){v=v0;continue}break;case v0:if(u==="@"){b&&(_="%40"+_),b=!0,l=ff(_);for(var P=0;P<l.length;P++){var L=l[P];if(L!==":"||A){var $=cc(L,bw);A?m.password+=$:m.username+=$}else A=!0}_=""}else if(u===ra||u==="/"||u==="?"||u==="#"||u==="\\"&&m.isSpecial()){if(b&&_==="")return"Invalid authority";S-=ff(_).length+1,_="",v=ww}else _+=u;break;case ww:case Ew:if(n&&m.scheme==="file"){v=Pw;continue}if(u!==":"||I){if(u===ra||u==="/"||u==="?"||u==="#"||u==="\\"&&m.isSpecial()){if(m.isSpecial()&&_==="")return Cl;if(n&&_===""&&(m.includesCredentials()||m.port!==null))return;if(c=m.parseHost(_))return c;if(_="",v=pf,n)return;continue}u==="["?I=!0:u==="]"&&(I=!1),_+=u}else{if(_==="")return Cl;if(c=m.parseHost(_))return c;if(_="",v=Aw,n===Ew)return}break;case Aw:if(!Wa(Sw,u)){if(u===ra||u==="/"||u==="?"||u==="#"||u==="\\"&&m.isSpecial()||n){if(_!==""){var ee=f0(_,10);if(ee>65535)return NW;m.port=m.isSpecial()&&ee===g0[m.scheme]?null:ee,_=""}if(n)return;v=pf;continue}return NW}_+=u;break;case xw:if(m.scheme="file",u==="/"||u==="\\")v=$W;else{if(!o||o.scheme!=="file"){v=Ts;continue}switch(u){case ra:m.host=o.host,m.path=Ma(o.path),m.query=o.query;break;case"?":m.host=o.host,m.path=Ma(o.path),m.query="",v=Il;break;case"#":m.host=o.host,m.path=Ma(o.path),m.query=o.query,m.fragment="",v=su;break;default:UW(qp(Ma(s,S),""))||(m.host=o.host,m.path=Ma(o.path),m.shortenPath()),v=Ts;continue}}break;case $W:if(u==="/"||u==="\\"){v=Pw;break}o&&o.scheme==="file"&&!UW(qp(Ma(s,S),""))&&(tg(o.path[0],!0)?hf(m.path,o.path[0]):m.host=o.host),v=Ts;continue;case Pw:if(u===ra||u==="/"||u==="\\"||u==="?"||u==="#"){if(!n&&tg(_))v=Ts;else if(_===""){if(m.host="",n)return;v=pf}else{if(c=m.parseHost(_))return c;if(m.host==="localhost"&&(m.host=""),n)return;_="",v=pf}continue}_+=u;break;case pf:if(m.isSpecial()){if(v=Ts,u!=="/"&&u!=="\\")continue}else if(n||u!=="?")if(n||u!=="#"){if(u!==ra&&(v=Ts,u!=="/"))continue}else m.fragment="",v=su;else m.query="",v=Il;break;case Ts:if(u===ra||u==="/"||u==="\\"&&m.isSpecial()||!n&&(u==="?"||u==="#")){if((f=h0(f=_))===".."||f==="%2e."||f===".%2e"||f==="%2e%2e"?(m.shortenPath(),u==="/"||u==="\\"&&m.isSpecial()||hf(m.path,"")):$ie(_)?u==="/"||u==="\\"&&m.isSpecial()||hf(m.path,""):(m.scheme==="file"&&!m.path.length&&tg(_)&&(m.host&&(m.host=""),_=oa(_,0)+":"),hf(m.path,_)),_="",m.scheme==="file"&&(u===ra||u==="?"||u==="#"))for(;m.path.length>1&&m.path[0]==="";)Oie(m.path);u==="?"?(m.query="",v=Il):u==="#"&&(m.fragment="",v=su)}else _+=cc(u,BW);break;case KW:u==="?"?(m.query="",v=Il):u==="#"?(m.fragment="",v=su):u!==ra&&(m.path[0]+=cc(u,p0));break;case Il:n||u!=="#"?u!==ra&&(u==="'"&&m.isSpecial()?m.query+="%27":m.query+=u==="#"?"%23":cc(u,p0)):(m.fragment="",v=su);break;case su:u!==ra&&(m.fragment+=cc(u,WW))}S++}},parseHost:function(r){var n,o,s;if(oa(r,0)==="["){if(oa(r,r.length-1)!=="]"||(n=function(u){var l,c,f,m,v,S,_,b=[0,0,0,0,0,0,0,0],I=0,A=null,P=0,L=function(){return oa(u,P)};if(L()===":"){if(oa(u,1)!==":")return;P+=2,A=++I}for(;L();){if(I===8)return;if(L()!==":"){for(l=c=0;c<4&&Wa(MW,L());)l=16*l+f0(L(),16),P++,c++;if(L()==="."){if(c===0||(P-=c,I>6))return;for(f=0;L();){if(m=null,f>0){if(!(L()==="."&&f<4))return;P++}if(!Wa(Sw,L()))return;for(;Wa(Sw,L());){if(v=f0(L(),10),m===null)m=v;else{if(m===0)return;m=10*m+v}if(m>255)return;P++}b[I]=256*b[I]+m,++f!=2&&f!==4||I++}if(f!==4)return;break}if(L()===":"){if(P++,!L())return}else if(L())return;b[I++]=l}else{if(A!==null)return;P++,A=++I}}if(A!==null)for(S=I-A,I=7;I!==0&&S>0;)_=b[I],b[I--]=b[A+S-1],b[A+--S]=_;else if(I!==8)return;return b}(Zp(r,1,-1)),!n))return Cl;this.host=n}else if(this.isSpecial()){if(r=wie(r),Wa(Vie,r)||(n=function(u){var l,c,f,m,v,S,_,b=Nie(u,".");if(b.length&&b[b.length-1]===""&&b.length--,(l=b.length)>4)return u;for(c=[],f=0;f<l;f++){if((m=b[f])==="")return u;if(v=10,m.length>1&&oa(m,0)==="0"&&(v=Wa(Wie,m)?16:8,m=Zp(m,v===8?1:2)),m==="")S=0;else{if(!Wa(v===10?Uie:v===8?Bie:MW,m))return u;S=f0(m,v)}hf(c,S)}for(f=0;f<l;f++)if(S=c[f],f===l-1){if(S>=OW(256,5-l))return null}else if(S>255)return null;for(_=Fie(c),f=0;f<c.length;f++)_+=c[f]*OW(256,3-f);return _}(r),n===null))return Cl;this.host=n}else{if(Wa(jie,r))return Cl;for(n="",o=ff(r),s=0;s<o.length;s++)n+=cc(o[s],p0);this.host=n}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return gw(g0,this.scheme)},shortenPath:function(){var r=this.path,n=r.length;!n||this.scheme==="file"&&n===1&&tg(r[0],!0)||r.length--},serialize:function(){var r=this,n=r.scheme,o=r.username,s=r.password,u=r.host,l=r.port,c=r.path,f=r.query,m=r.fragment,v=n+":";return u!==null?(v+="//",r.includesCredentials()&&(v+=o+(s?":"+s:"")+"@"),v+=eg(u),l!==null&&(v+=":"+l)):n==="file"&&(v+="//"),v+=r.cannotBeABaseURL?c[0]:c.length?"/"+qp(c,"/"):"",f!==null&&(v+="?"+f),m!==null&&(v+="#"+m),v},setHref:function(r){var n=this.parse(r);if(n)throw new vw(n);this.searchParams.update()},getOrigin:function(){var r=this.scheme,n=this.port;if(r==="blob")try{return new gf(r.path[0]).origin}catch{return"null"}return r!=="file"&&this.isSpecial()?r+"://"+eg(this.host)+(n!==null?":"+n:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(r){this.parse(au(r)+":",Tw)},getUsername:function(){return this.username},setUsername:function(r){var n=ff(au(r));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var o=0;o<n.length;o++)this.username+=cc(n[o],bw)}},getPassword:function(){return this.password},setPassword:function(r){var n=ff(au(r));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var o=0;o<n.length;o++)this.password+=cc(n[o],bw)}},getHost:function(){var r=this.host,n=this.port;return r===null?"":n===null?eg(r):eg(r)+":"+n},setHost:function(r){this.cannotBeABaseURL||this.parse(r,ww)},getHostname:function(){var r=this.host;return r===null?"":eg(r)},setHostname:function(r){this.cannotBeABaseURL||this.parse(r,Ew)},getPort:function(){var r=this.port;return r===null?"":au(r)},setPort:function(r){this.cannotHaveUsernamePasswordPort()||((r=au(r))===""?this.port=null:this.parse(r,Aw))},getPathname:function(){var r=this.path;return this.cannotBeABaseURL?r[0]:r.length?"/"+qp(r,"/"):""},setPathname:function(r){this.cannotBeABaseURL||(this.path=[],this.parse(r,pf))},getSearch:function(){var r=this.query;return r?"?"+r:""},setSearch:function(r){(r=au(r))===""?this.query=null:(oa(r,0)==="?"&&(r=Zp(r,1)),this.query="",this.parse(r,Il)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var r=this.fragment;return r?"#"+r:""},setHash:function(r){(r=au(r))!==""?(oa(r,0)==="#"&&(r=Zp(r,1)),this.fragment="",this.parse(r,su)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var gf=function(r){var n=Cie(this,zi),o=Aie(arguments.length,1)>1?arguments[1]:void 0,s=xie(n,new kw(r,!1,o));hw||(n.href=s.serialize(),n.origin=s.getOrigin(),n.protocol=s.getProtocol(),n.username=s.getUsername(),n.password=s.getPassword(),n.host=s.getHost(),n.hostname=s.getHostname(),n.port=s.getPort(),n.pathname=s.getPathname(),n.search=s.getSearch(),n.searchParams=s.getSearchParams(),n.hash=s.getHash())},zi=gf.prototype,aa=function(r,n){return{get:function(){return d0(this)[r]()},set:n&&function(o){return d0(this)[n](o)},configurable:!0,enumerable:!0}};if(hw&&(ia(zi,"href",aa("serialize","setHref")),ia(zi,"origin",aa("getOrigin")),ia(zi,"protocol",aa("getProtocol","setProtocol")),ia(zi,"username",aa("getUsername","setUsername")),ia(zi,"password",aa("getPassword","setPassword")),ia(zi,"host",aa("getHost","setHost")),ia(zi,"hostname",aa("getHostname","setHostname")),ia(zi,"port",aa("getPort","setPort")),ia(zi,"pathname",aa("getPathname","setPathname")),ia(zi,"search",aa("getSearch","setSearch")),ia(zi,"searchParams",aa("getSearchParams")),ia(zi,"hash",aa("getHash","setHash"))),l0(zi,"toJSON",function(){return d0(this).serialize()},{enumerable:!0}),l0(zi,"toString",function(){return d0(this).serialize()},{enumerable:!0}),Jp){var YW=Jp.createObjectURL,QW=Jp.revokeObjectURL;YW&&l0(gf,"createObjectURL",DW(YW,Jp)),QW&&l0(gf,"revokeObjectURL",DW(QW,Jp))}Eie(gf,"URL"),bie({global:!0,constructor:!0,forced:!Tie,sham:!hw},{URL:gf});var Kie=wt,XW=mr,Yie=Gp,JW=Fo,Qie=i0,Dw=Gn("URL"),Xie=Qie&&XW(function(){Dw.canParse()}),Jie=XW(function(){return Dw.canParse.length!==1});Kie({target:"URL",stat:!0,forced:!Xie||Jie},{canParse:function(r){var n=Yie(arguments.length,1),o=JW(r),s=n<2||arguments[1]===void 0?void 0:JW(arguments[1]);try{return!!new Dw(o,s)}catch{return!1}}});var qie=wt,Zie=Gp,qW=Fo,eoe=i0,toe=Gn("URL");qie({target:"URL",stat:!0,forced:!eoe},{parse:function(r){var n=Zie(arguments.length,1),o=qW(r),s=n<2||arguments[1]===void 0?void 0:qW(arguments[1]);try{return new toe(o,s)}catch{return null}}});var roe=fe(Jr.URL),lc=fe(OM),noe=wt,ioe=DC.indexOf,ooe=$M,Rw=p_([].indexOf),ZW=!!Rw&&1/Rw([1],1,-0)<0;noe({target:"Array",proto:!0,forced:ZW||!ooe("indexOf")},{indexOf:function(r){var n=arguments.length>1?arguments[1]:void 0;return ZW?Rw(this,r,n)||0:ioe(this,r,n)}});var aoe=ji("Array","indexOf"),soe=zn,uoe=aoe,Fw=Array.prototype,coe=function(r){var n=r.indexOf;return r===Fw||soe(Fw,r)&&n===Fw.indexOf?uoe:n},di=fe(coe),eB=hl,loe=TypeError,doe=wt,foe=Oa,hoe=C_,poe=Ep,goe=ec,moe=kM,voe=HI,_oe=GC,yoe=Wp,Ow=function(r,n){if(!delete r[n])throw new loe("Cannot delete property "+eB(n)+" of "+eB(r))},Soe=Yp("splice"),boe=Math.max,Toe=Math.min;doe({target:"Array",proto:!0,forced:!Soe},{splice:function(r,n){var o,s,u,l,c,f,m=foe(this),v=goe(m),S=hoe(r,v),_=arguments.length;for(_===0?o=s=0:_===1?(o=0,s=v-S):(o=_-2,s=Toe(boe(poe(n),0),v-S)),voe(v+o-s),u=_oe(m,s),l=0;l<s;l++)(c=S+l)in m&&yoe(u,l,m[c]);if(u.length=s,o<s){for(l=S;l<v-s;l++)f=l+o,(c=l+s)in m?m[f]=m[c]:Ow(m,f);for(l=v;l>v-s+o;l--)Ow(m,l-1)}else if(o>s)for(l=v-s;l>S;l--)f=l+o-1,(c=l+s-1)in m?m[f]=m[c]:Ow(m,f);for(l=0;l<o;l++)m[l+S]=arguments[l+2];return moe(m,v-s+o),u}});var Coe=ji("Array","splice"),Ioe=zn,woe=Coe,Nw=Array.prototype,Eoe=function(r){var n=r.splice;return r===Nw||Ioe(Nw,r)&&n===Nw.splice?woe:n},fi=fe(Eoe),Aoe=wt,xoe=ml.findIndex,tB="findIndex",rB=!0;tB in[]&&Array(1)[tB](function(){rB=!1}),Aoe({target:"Array",proto:!0,forced:rB},{findIndex:function(r){return xoe(this,r,arguments.length>1?arguments[1]:void 0)}});var Poe=ji("Array","findIndex"),koe=zn,Doe=Poe,Lw=Array.prototype,Roe=function(r){var n=r.findIndex;return r===Lw||koe(Lw,r)&&n===Lw.findIndex?Doe:n},nB=fe(Roe),iB=cn,Foe=mr,oB=yr,Ooe=Hd,Noe=xp,Loe=Fa,aB=oB(Sp.f),Moe=oB([].push),Woe=iB&&Foe(function(){var r=Object.create(null);return r[2]=2,!aB(r,2)}),sB=function(r){return function(n){for(var o,s=Loe(n),u=Noe(s),l=Woe&&Ooe(s)===null,c=u.length,f=0,m=[];c>f;)o=u[f++],iB&&!(l?o in s:aB(s,o))||Moe(m,r?[o,s[o]]:s[o]);return m}},Boe={entries:sB(!0),values:sB(!1)}.entries;wt({target:"Object",stat:!0},{entries:function(r){return Boe(r)}});var _0=fe(Jr.Object.entries),y0=fe(KL),Uoe=wt,Voe=ml.find,uB="find",cB=!0;uB in[]&&Array(1)[uB](function(){cB=!1}),Uoe({target:"Array",proto:!0,forced:cB},{find:function(r){return Voe(this,r,arguments.length>1?arguments[1]:void 0)}});var joe=ji("Array","find"),Goe=zn,zoe=joe,Mw=Array.prototype,Hoe=function(r){var n=r.find;return r===Mw||Goe(Mw,r)&&n===Mw.find?zoe:n},rg=fe(Hoe),$oe=ml.filter;wt({target:"Array",proto:!0,forced:!Yp("filter")},{filter:function(r){return $oe(this,r,arguments.length>1?arguments[1]:void 0)}});var Koe=ji("Array","filter"),Yoe=zn,Qoe=Koe,Ww=Array.prototype,Xoe=function(r){var n=r.filter;return r===Ww||Yoe(Ww,r)&&n===Ww.filter?Qoe:n},lB=fe(Xoe),Joe=ml.map;wt({target:"Array",proto:!0,forced:!Yp("map")},{map:function(r){return Joe(this,r,arguments.length>1?arguments[1]:void 0)}});var qoe=ji("Array","map"),Zoe=zn,eae=qoe,Bw=Array.prototype,tae=function(r){var n=r.map;return r===Bw||Zoe(Bw,r)&&n===Bw.map?eae:n},ng=fe(tae),rae=DC.includes;wt({target:"Array",proto:!0,forced:mr(function(){return!Array(1).includes()})},{includes:function(r){return rae(this,r,arguments.length>1?arguments[1]:void 0)}});var nae=ji("Array","includes"),iae=yn,oae=nu,aae=Ur("match"),sae=function(r){var n;return iae(r)&&((n=r[aae])!==void 0?!!n:oae(r)==="RegExp")},uae=TypeError,cae=Ur("match"),lae=wt,dae=function(r){if(sae(r))throw new uae("The method doesn't accept regular expressions");return r},fae=Nd,dB=Fo,hae=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[cae]=!1,"/./"[r](n)}catch{}}return!1},pae=yr("".indexOf);lae({target:"String",proto:!0,forced:!hae("includes")},{includes:function(r){return!!~pae(dB(fae(this)),dB(dae(r)),arguments.length>1?arguments[1]:void 0)}});var gae=ji("String","includes"),fB=zn,mae=nae,vae=gae,Uw=Array.prototype,Vw=String.prototype,_ae=function(r){var n=r.includes;return r===Uw||fB(Uw,r)&&n===Uw.includes?mae:typeof r=="string"||r===Vw||fB(Vw,r)&&n===Vw.includes?vae:n},yae=fe(_ae),hB=`	
\v\f\r \u2028\u2029\uFEFF`,Sae=Nd,bae=Fo,jw=hB,pB=yr("".replace),Tae=RegExp("^["+jw+"]+"),Cae=RegExp("(^|[^"+jw+"])["+jw+"]+$"),Gw=function(r){return function(n){var o=bae(Sae(n));return 1&r&&(o=pB(o,Tae,"")),2&r&&(o=pB(o,Cae,"$1")),o}},Iae={start:Gw(1),end:Gw(2),trim:Gw(3)},gB=Lr,wae=mr,Eae=yr,Aae=Fo,xae=Iae.trim,mB=hB,ig=gB.parseInt,vB=gB.Symbol,_B=vB&&vB.iterator,yB=/^[+-]?0x/i,Pae=Eae(yB.exec),SB=ig(mB+"08")!==8||ig(mB+"0x16")!==22||_B&&!wae(function(){ig(Object(_B))})?function(r,n){var o=xae(Aae(r));return ig(o,n>>>0||(Pae(yB,o)?16:10))}:ig;wt({global:!0,forced:parseInt!==SB},{parseInt:SB});var og=fe(Jr.parseInt),kae=fe(BM),Dae=ji("Array","keys"),Rae=pl,Fae=An,Oae=zn,Nae=Dae,zw=Array.prototype,Lae={DOMTokenList:!0,NodeList:!0},Mae=function(r){var n=r.keys;return r===zw||Oae(zw,r)&&n===zw.keys||Fae(Lae,Rae(r))?Nae:n},Wae=fe(Mae),bB={exports:{}},Bae=mr(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}}),Uae=mr,Vae=yn,jae=nu,TB=Bae,S0=Object.isExtensible,Gae=Uae(function(){S0(1)})||TB?function(r){return!!Vae(r)&&(!TB||jae(r)!=="ArrayBuffer")&&(!S0||S0(r))}:S0,zae=!mr(function(){return Object.isExtensible(Object.preventExtensions({}))}),Hae=wt,$ae=yr,Kae=Ap,Yae=yn,Hw=An,Qae=lo.f,CB=Pp,Xae=BC,$w=Gae,Jae=zae,IB=!1,uu=__("meta"),qae=0,Kw=function(r){Qae(r,uu,{value:{objectID:"O"+qae++,weakData:{}}})},Zae=bB.exports={enable:function(){Zae.enable=function(){},IB=!0;var r=CB.f,n=$ae([].splice),o={};o[uu]=1,r(o).length&&(CB.f=function(s){for(var u=r(s),l=0,c=u.length;l<c;l++)if(u[l]===uu){n(u,l,1);break}return u},Hae({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Xae.f}))},fastKey:function(r,n){if(!Yae(r))return D(r)=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!Hw(r,uu)){if(!$w(r))return"F";if(!n)return"E";Kw(r)}return r[uu].objectID},getWeakData:function(r,n){if(!Hw(r,uu)){if(!$w(r))return!0;if(!n)return!1;Kw(r)}return r[uu].weakData},onFreeze:function(r){return Jae&&IB&&$w(r)&&!Hw(r,uu)&&Kw(r),r}};Kae[uu]=!0;var wB=bB.exports,ese=wt,tse=Lr,rse=wB,nse=mr,ise=qu,ose=yl,ase=jp,sse=wn,use=yn,cse=Od,lse=_s,dse=lo.f,fse=ml.forEach,hse=cn,pse=Ss.set,gse=Ss.getterFor,EB=tc,mse=Dp,AB=eW,vse=iu,_se=jp,yse=Od,Sse=yl,bse=lI,xB=G_,Tse=YN,ag=cn,PB=wB.fastKey,kB=Ss.set,Yw=Ss.getterFor,Cse={getConstructor:function(r,n,o,s){var u=r(function(v,S){_se(v,l),kB(v,{type:n,index:EB(null),first:null,last:null,size:0}),ag||(v.size=0),yse(S)||Sse(S,v[s],{that:v,AS_ENTRIES:o})}),l=u.prototype,c=Yw(n),f=function(v,S,_){var b,I,A=c(v),P=m(v,S);return P?P.value=_:(A.last=P={index:I=PB(S,!0),key:S,value:_,previous:b=A.last,next:null,removed:!1},A.first||(A.first=P),b&&(b.next=P),ag?A.size++:v.size++,I!=="F"&&(A.index[I]=P)),v},m=function(v,S){var _,b=c(v),I=PB(S);if(I!=="F")return b.index[I];for(_=b.first;_;_=_.next)if(_.key===S)return _};return AB(l,{clear:function(){for(var v=c(this),S=v.first;S;)S.removed=!0,S.previous&&(S.previous=S.previous.next=null),S=S.next;v.first=v.last=null,v.index=EB(null),ag?v.size=0:this.size=0},delete:function(v){var S=this,_=c(S),b=m(S,v);if(b){var I=b.next,A=b.previous;delete _.index[b.index],b.removed=!0,A&&(A.next=I),I&&(I.previous=A),_.first===b&&(_.first=I),_.last===b&&(_.last=A),ag?_.size--:S.size--}return!!b},forEach:function(v){for(var S,_=c(this),b=vse(v,arguments.length>1?arguments[1]:void 0);S=S?S.next:_.first;)for(b(S.value,S.key,this);S&&S.removed;)S=S.previous},has:function(v){return!!m(this,v)}}),AB(l,o?{get:function(v){var S=m(this,v);return S&&S.value},set:function(v,S){return f(this,v===0?0:v,S)}}:{add:function(v){return f(this,v=v===0?0:v,v)}}),ag&&mse(l,"size",{configurable:!0,get:function(){return c(this).size}}),u},setStrong:function(r,n,o){var s=n+" Iterator",u=Yw(n),l=Yw(s);bse(r,n,function(c,f){kB(this,{type:s,target:c,state:u(c),kind:f,last:null})},function(){for(var c=l(this),f=c.kind,m=c.last;m&&m.removed;)m=m.previous;return c.target&&(c.last=m=m?m.next:c.state.first)?xB(f==="keys"?m.key:f==="values"?m.value:[m.key,m.value],!1):(c.target=null,xB(void 0,!0))},o?"entries":"values",!o,!0),Tse(n)}},Ise=function(r,n,o){var s,u=r.indexOf("Map")!==-1,l=r.indexOf("Weak")!==-1,c=u?"set":"add",f=tse[r],m=f&&f.prototype,v={};if(hse&&sse(f)&&(l||m.forEach&&!nse(function(){new f().entries().next()}))){var S=(s=n(function(b,I){pse(ase(b,S),{type:r,collection:new f}),cse(I)||ose(I,b[c],{that:b,AS_ENTRIES:u})})).prototype,_=gse(r);fse(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(b){var I=b==="add"||b==="set";!(b in m)||l&&b==="clear"||ise(S,b,function(A,P){var L=_(this).collection;if(!I&&l&&!use(A))return b==="get"&&void 0;var $=L[b](A===0?0:A,P);return I?this:$})}),l||dse(S,"size",{configurable:!0,get:function(){return _(this).collection.size}})}else s=o.getConstructor(n,r,u,c),rse.enable();return lse(s,r,!1,!0),v[r]=s,ese({global:!0,forced:!0},v),l||o.setStrong(s,r,u),s};Ise("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},Cse);var wse=hl,Ese=TypeError,wl=function(r){if(D(r)=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new Ese(wse(r)+" is not a set")},Qw=function(r,n){return n===1?function(o,s){return o[r](s)}:function(o,s,u){return o[r](s,u)}},DB=Gn("Set"),Ase=DB.prototype,No={Set:DB,add:Qw("add",1),has:Qw("has",1),remove:Qw("delete",1),proto:Ase},xse=En,El=function(r,n,o){for(var s,u,l=o?r:r.iterator,c=r.next;!(s=xse(c,l)).done;)if((u=n(s.value))!==void 0)return u},Pse=El,sg=function(r,n,o){return o?Pse(r.keys(),n,!0):r.forEach(n)},kse=sg,Dse=No.Set,Rse=No.add,Xw=function(r){var n=new Dse;return kse(r,function(o){Rse(n,o)}),n},ug=function(r){return r.size},RB=Ro,FB=Vi,OB=En,Fse=Ep,Ose=function(r){return{iterator:r,next:r.next,done:!1}},NB="Invalid size",Nse=RangeError,Lse=TypeError,Mse=Math.max,LB=function(r,n){this.set=r,this.size=Mse(n,0),this.has=RB(r.has),this.keys=RB(r.keys)};LB.prototype={getIterator:function(){return Ose(FB(OB(this.keys,this.set)))},includes:function(r){return OB(this.has,this.set,r)}};var Al=function(r){FB(r);var n=+r.size;if(n!=n)throw new Lse(NB);var o=Fse(n);if(o<0)throw new Nse(NB);return new LB(r,o)},Wse=wl,Bse=Xw,Use=ug,Vse=Al,jse=sg,Gse=El,zse=No.has,MB=No.remove,xl=function(){return!1},Hse=function(r){var n=Wse(this),o=Vse(r),s=Bse(n);return Use(n)<=o.size?jse(n,function(u){o.includes(u)&&MB(s,u)}):Gse(o.getIterator(),function(u){zse(n,u)&&MB(s,u)}),s};wt({target:"Set",proto:!0,real:!0,forced:!xl()},{difference:Hse});var $se=wl,Kse=ug,Yse=Al,Qse=sg,Xse=El,Jse=No.Set,WB=No.add,qse=No.has,Zse=function(r){var n=$se(this),o=Yse(r),s=new Jse;return Kse(n)>o.size?Xse(o.getIterator(),function(u){qse(n,u)&&WB(s,u)}):Qse(n,function(u){o.includes(u)&&WB(s,u)}),s};wt({target:"Set",proto:!0,real:!0,forced:!xl()},{intersection:Zse});var eue=wl,tue=No.has,rue=ug,nue=Al,iue=sg,oue=El,aue=M_,sue=function(r){var n=eue(this),o=nue(r);if(rue(n)<=o.size)return iue(n,function(u){if(o.includes(u))return!1},!0)!==!1;var s=o.getIterator();return oue(s,function(u){if(tue(n,u))return aue(s,"normal",!1)})!==!1};wt({target:"Set",proto:!0,real:!0,forced:!xl()},{isDisjointFrom:sue});var uue=wl,cue=ug,lue=sg,due=Al,fue=function(r){var n=uue(this),o=due(r);return!(cue(n)>o.size)&&lue(n,function(s){if(!o.includes(s))return!1},!0)!==!1};wt({target:"Set",proto:!0,real:!0,forced:!xl()},{isSubsetOf:fue});var hue=wl,pue=No.has,gue=ug,mue=Al,vue=El,_ue=M_,yue=function(r){var n=hue(this),o=mue(r);if(gue(n)<o.size)return!1;var s=o.getIterator();return vue(s,function(u){if(!pue(n,u))return _ue(s,"normal",!1)})!==!1};wt({target:"Set",proto:!0,real:!0,forced:!xl()},{isSupersetOf:yue});var Sue=wl,bue=Xw,Tue=Al,Cue=El,Iue=No.add,wue=No.has,Eue=No.remove,Aue=function(r){var n=Sue(this),o=Tue(r).getIterator(),s=bue(n);return Cue(o,function(u){wue(n,u)?Eue(s,u):Iue(s,u)}),s};wt({target:"Set",proto:!0,real:!0,forced:!xl()},{symmetricDifference:Aue});var xue=wl,Pue=No.add,kue=Xw,Due=Al,Rue=El,Fue=function(r){var n=xue(this),o=Due(r).getIterator(),s=kue(n);return Rue(o,function(u){Pue(s,u)}),s};wt({target:"Set",proto:!0,real:!0,forced:!xl()},{union:Fue});var Oue=fe(Jr.Set),BB=fe(dM);function UB(r,n){var o=n0(r);if(oN){var s=oN(r);n&&(s=lB(s).call(s,function(u){return dN(r,u).enumerable})),o.push.apply(o,s)}return o}function mf(r){for(var n=1;n<arguments.length;n++){var o,s,u=arguments[n]!=null?arguments[n]:{};n%2?Bt(o=UB(Object(u),!0)).call(o,function(l){ct(r,l,u[l])}):hN?gJ(r,hN(u)):Bt(s=UB(Object(u))).call(s,function(l){BB(r,l,dN(u,l))})}return r}function b0(r){var n=function(){if(typeof Reflect>"u"||!A_||A_.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(A_(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,s=tf(r);if(n){var u=tf(this).constructor;o=A_(s,arguments,u)}else o=s.apply(this,arguments);return function(l,c){if(c&&(nf(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qr(l)}(this,o)}}var dc=function(r){return XM?XM(r):function(n){return Object.prototype.toString.call(n)}(r)==="[object Array]"},hi=function(r){return r===void 0},VB=function(r,n){var o,s;r=(o=r)!==null&&o!==void 0?o:"yyyy-MM-dd hh:mm:ss";var u=hi(n)?new Date:new Date(n),l={"M+":(u.getMonth()+1).toString(),"d+":u.getDate().toString(),"h+":u.getHours().toString(),"m+":u.getMinutes().toString(),"s+":u.getSeconds().toString(),"q+":Math.floor((u.getMonth()+3)/3).toString(),S:u.getMilliseconds().toString()};return/(y+)/.test(r)&&(r=r.replace(RegExp.$1,"".concat(u.getFullYear()).substring(4-RegExp.$1.length))),Bt(s=n0(l)).call(s,function(c){new RegExp("(".concat(c,")")).test(r)&&(r=r.replace(RegExp.$1,RegExp.$1.length===1?l[c]:"00".concat(l[c]).substring("".concat(l[c]).length)))}),r},Zr=function(r){return typeof r=="string"},Pl=function(r){return typeof r=="number"&&!af(r)},kl=function(r){return typeof r=="function"},jB=0,fc=function(){var r;return jB+=1,ac(r="".concat(new Date().getTime().toString(36))).call(r,jB.toString(36))};(function(r,n){for(var o=n0(r),s=0;s<o.length;s++){var u=o[s];if(n.call(null,r[u],u,r)===!1)break}})({"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'"',"&#x27;":"'"},function(r,n){}),function(r,n){for(var o=n0(r),s=0;s<o.length;s++){var u=o[s];if(n.call(null,r[u],u,r)===!1)break}}({"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'"',"&#x27;":"'"},function(r,n){});var T0=function(r){var n=roe||window.webkitURL;/^blob:/.test(r)&&n.revokeObjectURL(r)},GB=function(){function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";xn(this,r),ct(this,"prefix",void 0),ct(this,"postfix",void 0),ct(this,"isDestroyed",!1),ct(this,"uid",fc()),ct(this,"cacheEvents",void 0),ct(this,"events",void 0),ct(this,"isCached",void 0),this.cacheEvents=[],this.events={},this.isCached=!1,this.prefix=n,this.postfix=o}return Pn(r,[{key:"save",value:function(){this.isCached=!0}},{key:"restore",value:function(){var n,o=this;this.isCached=!1,Bt(n=this.cacheEvents).call(n,function(s){var u,l=s.eventName,c=s.param;o.emit.apply(o,ac(u=[l]).call(u,Sn(c)))}),this.cacheEvents.length=0}},{key:"destroy",value:function(){var n=this;if(!this.isDestroyed){for(var o in this.events)if(Object.prototype.hasOwnProperty.call(this.events,o)){var s,u=this.events[o];u&&Bt(s=lc(u).call(u)).call(s,function(l){var c=l.name,f=l.fn,m=l.context,v=l.once;n.off(c,f,m,v)})}this.events={},this.isDestroyed=!0}}},{key:"on",value:function(n,o,s){var u,l=arguments.length>3&&arguments[3]!==void 0&&arguments[3],c=this.events,f={name:n=this.format(n),uid:fc(),context:s,once:l,fn:o};return c[n]||(c[n]=[]),di(u=c[n]).call(u,f)<0&&c[n].push(f),f}},{key:"once",value:function(n,o,s){return this.on(n,o,s,!0)}},{key:"emit",value:function(n){for(var o,s,u=this,l=arguments.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=arguments[f];if(this.isCached)return this.cacheEvents.push({eventName:n,param:c}),!0;var m=this.events[n=this.format(n)];return!(!m||!m.length||(Bt(o=lc(m).call(m)).call(o,function(v){var S,_=v.fn,b=v.context;_.call.apply(_,ac(S=[b||null]).call(S,c))}),Bt(s=lc(m).call(m)).call(s,function(v){var S=v.fn,_=v.context,b=v.once;b&&u.off(n,S,_,b)}),0))}},{key:"off",value:function(n,o,s,u){var l=this.events[n=this.format(n)];if(!l)return!1;if(!arguments.length)return l.length=0,!0;for(var c=l.length-1;c>=0;c--){var f=l[c];o&&f.fn!==o||s&&f.context!==s||u&&f.once!==u||fi(l).call(l,c,1)}return!0}},{key:"removeAllEventListeners",value:function(n){if(n){var o,s;n=this.format(n);var u=nB(o=this.cacheEvents).call(o,function(l){return l.eventName===n});u>-1&&fi(s=this.cacheEvents).call(s,u,1),this.events[n]&&delete this.events[n]}else this.cacheEvents=[],this.events={}}},{key:"getAllEvents",value:function(){return this.events}},{key:"format",value:function(n){var o,s;return ac(o=ac(s="".concat(this.prefix||"")).call(s,n)).call(o,this.postfix||"")}}],[{key:"create",value:function(n,o){return new r(n,o)}}]),r}(),Jw="default",lr=function(){function r(){xn(this,r),ct(this,"emitter",new GB)}return Pn(r,[{key:"on",value:function(n){this.emitter.on(Jw,n)}},{key:"emit",value:function(){for(var n,o,s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];(n=this.emitter).emit.apply(n,ac(o=[Jw]).call(o,u))}},{key:"off",value:function(n){this.emitter.off(Jw,n)}}],[{key:"create",value:function(){return new r}}]),r}(),cg=function(){function r(n){xn(this,r),ct(this,"uid",void 0),ct(this,"children",void 0),this.uid=n.uid,this.children=n.children||[]}return Pn(r,[{key:"append",value:function(n){var o=this.children;return di(o).call(o,n)<0&&(o.push(n),!0)}},{key:"insert",value:function(n,o){var s=this.children;return!(o<0||(o>s.length&&(o=s.length),fi(s).call(s,o,0,n),0))}},{key:"remove",value:function(n){var o=this.children,s=di(o).call(o,n);return!(s<0||(fi(o).call(o,s,1),0))}},{key:"clear",value:function(){return this.children=[],!0}},{key:"move",value:function(n,o){if(n===o)return!0;var s=this.children,u=of(fi(s).call(s,n,1),1)[0];return fi(s).call(s,o,0,u),!0}},{key:"switch",value:function(n,o){if(n===o)return!0;var s=this.children,u=s[n];return s[n]=s[o],s[o]=u,!0}},{key:"reorder",value:function(n){var o=this.children,s=n.length,u=[],l=0;if(o.length!==s||s===0)return!1;for(var c=0;c<s;c++)n[c]===c&&(l+=1);if(l===s)return!0;for(var f=0;f<s;f++)u[f]=o[n[f]];for(var m=0;m<s;m++)o[m]=u[m];return!0}}]),r}(),zB=function(){function r(n,o){xn(this,r),ct(this,"isDestroyed",!1),ct(this,"data",void 0),ct(this,"table",["database","table","item"]),ct(this,"dbName",void 0),ct(this,"tableName",void 0),this.data={},this.dbName=n,this.tableName=o,this.createDatabase(n,o)}return Pn(r,[{key:"destroy",value:function(){if(!this.isDestroyed){for(var n=0,o=_0(this.data);n<o.length;n++){var s=of(o[n],2),u=s[0];s[1],this.data[u]=null}this.data=null,this.isDestroyed=!0}}},{key:"createDatabase",value:function(n,o){this.data[n]={},this.data[n][o]={}}},{key:"set",value:function(n,o){var s=this,u=this.dbName,l=this.tableName;return new y0(function(c,f){s.checkId(n)?f(new Error("The ".concat(n," already exists."))):(s.data[u][l][n]=o,c("Save ".concat(n," to database successful.")))})}},{key:"get",value:function(n){var o=this,s=this.dbName,u=this.tableName;return new y0(function(l,c){o.checkId(n)?l(o.data[s][u][n]):c(o.erMsg(2,n))})}},{key:"remove",value:function(n){var o=this,s=this.dbName,u=this.tableName;return new y0(function(l,c){delete o.data[s][u][n],l("Remove ".concat(n," successful."))})}},{key:"update",value:function(n,o){var s=this,u=this.dbName,l=this.tableName;return new y0(function(c,f){s.checkId(n)?(s.data[u][l][n]=o,c("Update ".concat(n," successful."))):f(s.erMsg(2,n))})}},{key:"checkId",value:function(n){var o=this.dbName,s=this.tableName;return this.data[o][s][n]!==void 0}},{key:"erMsg",value:function(n,o){var s;return ac(s="The ".concat(this.table[n]," ")).call(s,o," does not exist.")}}]),r}(),C0=function(){function r(){xn(this,r),ct(this,"isDestroyed",!1),ct(this,"data",void 0),this.data={}}return Pn(r,[{key:"destroy",value:function(){if(!this.isDestroyed){for(var n=0,o=_0(this.data);n<o.length;n++){var s,u=of(o[n],2),l=u[0];u[1],(s=this.data[l])!==null&&s!==void 0&&s.destroy(),this.data[l]=null}this.data=null,this.isDestroyed=!0}}},{key:"set",value:function(n,o){return!this.check(n)&&(this.data[n]=o,!0)}},{key:"get",value:function(n){return this.data[n]}},{key:"remove",value:function(n){return!!this.check(n)&&(delete this.data[n],!0)}},{key:"update",value:function(n,o){return!!this.check(n)&&(this.data[n]=o,!0)}},{key:"check",value:function(n){return this.data[n]!==void 0}}]),r}(),HB=function(r){Z_(o,r);var n=b0(o);function o(s){var u;return xn(this,o),ct(qr(u=n.call(this,s)),"name",void 0),ct(qr(u),"type",void 0),ct(qr(u),"fileType",void 0),ct(qr(u),"createdDate",void 0),ct(qr(u),"modifiedDate",void 0),ct(qr(u),"parent",void 0),ct(qr(u),"isRoot",!1),u.name=s.name,u.type=s.type,u.fileType=s.fileType,u.parent=s.parent||null,u.isRoot=s.isRoot||!1,u.createdDate=VB(),u.modifiedDate=u.createdDate,u}return Pn(o,[{key:"updateDate",value:function(){this.modifiedDate=VB()}},{key:"setName",value:function(s){this.name=s}},{key:"reorder",value:function(s){var u=this.type;return(u==="file"||u==="default")&&GI(tf(o.prototype),"reorder",this).call(this,s)}}]),o}(cg),Nue=function(){function r(){xn(this,r),ct(this,"root",void 0),ct(this,"currentNode",void 0),ct(this,"selectedUid",void 0),ct(this,"defaultNode",void 0),ct(this,"hooks",{fileChanged:lr.create(),beforeRemoveFile:lr.create(),removeFile:lr.create(),afterRemoveFile:lr.create(),afterRenameFile:lr.create(),destroy:lr.create()}),this.root=new HB({uid:fc(),children:[],name:"root",type:"file",fileType:"folder",parent:void 0,isRoot:!0}),this.defaultNode=this.root,this.currentNode=this.root}return Pn(r,[{key:"appendChildrenToFile",value:function(n,o,s){var u=s,l=$B(this.defaultNode,n);return l||(l=this.createFile(n),this.hooks.fileChanged.emit(this.defaultNode)),Bt(o).call(o,function(c){hi(u)?l.append(c):(l.insert(c,u),u+=1)}),l}},{key:"removeChildFromFile",value:function(n,o){Zr(o)&&(o=[o]);var s=this.getFileByUid(n);s&&Bt(o).call(o,function(u){s.remove(u)})}},{key:"findChild",value:function(n,o){var s;return rg(s=n.children).call(s,function(u){return u.name===o})}},{key:"createFile",value:function(n){var o=this.defaultNode;o||(o=this.root);var s=$B(o,n);return s&&s.type==="file"||(s=new HB({uid:fc(),children:[],name:n,type:"file",fileType:"file",parent:o,isRoot:!1}),this.currentNode.append(s),this.hooks.fileChanged.emit(this.currentNode.children)),s}},{key:"removeFile",value:function(n){for(var o=this.defaultNode.children,s=0;s<o.length;s++){var u=o[s];if(u.name===n)return this.hooks.beforeRemoveFile.emit(u),fi(o).call(o,s,1),this.hooks.afterRemoveFile.emit(u),this.hooks.fileChanged.emit(u),!0}return!1}},{key:"renameFile",value:function(n,o){var s=this.findChild(this.defaultNode,n),u=this.findChild(this.defaultNode,o);return!!s&&!u&&(s.name=o,this.hooks.afterRenameFile.emit(s),this.hooks.fileChanged.emit(this.currentNode.children),!0)}},{key:"getFile",value:function(n){return this.findChild(this.defaultNode,n)}},{key:"getFileByUid",value:function(n){return rg(this).call(this,n,this.root)}},{key:"getCurrentFileList",value:function(){return this.currentNode.children}},{key:"isFileExist",value:function(n){return!!this.findChild(this.defaultNode,n)}},{key:"createFolder",value:function(){}},{key:"find",value:function(n,o){for(var s=o.children,u=s.length,l=0;l<u;l++){if(s[l].uid===n)return s[l];if(s[l].children){var c=rg(this).call(this,n,s[l]);if(c)return c}}return null}}]),r}();function $B(r,n){var o,s=lB(o=r.children).call(o,function(u){return u.name===n});return s.length===0?null:s[0]}var KB,I0,YB=function(r){Z_(o,r);var n=b0(o);function o(s){var u;return xn(this,o),ct(qr(u=n.call(this,s)),"name",void 0),ct(qr(u),"type","tag"),u.name=s.name,u.uid=s.uid||fc(),u.type="tag",u}return Pn(o)}(cg),Lue=function(){function r(){xn(this,r),ct(this,"tags",void 0),ct(this,"defaultName",void 0),ct(this,"defaultUid",void 0),ct(this,"selectedUid",void 0),ct(this,"emptyItem",void 0),ct(this,"hooks",{beforeRemoveTag:lr.create(),afterRenameTag:lr.create(),destroy:lr.create(),load:lr.create()}),this.tags=[],this.defaultName=null,this.defaultUid=null,this.selectedUid=null,this.emptyItem=new YB({name:"defaultTag",children:[]})}return Pn(r,[{key:"appendChildToTag",value:function(n,o){var s=this.createTag(n);Zr(o)&&(o=[o]);var u=!1;return Bt(o).call(o,function(l){s.append(l)&&(u=!0)}),u}},{key:"removeChildFromTag",value:function(n,o){var s=this.getTag(n);return!!s&&(Zr(o)&&(o=[o]),Bt(o).call(o,function(u){s.remove(u)}),!0)}},{key:"createTag",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=this.getTag(n);return s||(s=new YB({name:n,children:o}),this.tags.push(s)),s}},{key:"removeTag",value:function(n){var o,s,u=this.getTag(n);if(!u)return!1;this.hooks.beforeRemoveTag.emit(u);var l=nB(o=this.tags).call(o,function(c){return c.name===n});return n===this.defaultName&&(this.defaultName=null,this.selectedUid=null),fi(s=this.tags).call(s,l,1),!0}},{key:"renameTag",value:function(n,o){if(!Zr(n)||!Zr(o))return!1;var s=this.isTagExisted(o),u=this.getTag(n);return!(!u||s||(u.name=o,this.hooks.afterRenameTag.emit(u),0))}},{key:"getTag",value:function(n){var o;return rg(o=this.tags).call(o,function(s){return s.name===n})}},{key:"getTagByUid",value:function(n){var o;return rg(o=this.tags).call(o,function(s){return s.uid===n})}},{key:"getTagList",value:function(){var n;return lc(n=this.tags).call(n)}},{key:"setDefaultTag",value:function(n){if(!n)return this.defaultName=null,this.defaultUid=null,!0;var o=this.getTag(n);return!!o&&(this.defaultName=n,this.defaultUid=o.uid,!0)}},{key:"getDefaultTag",value:function(){return this.defaultName}},{key:"isTagExisted",value:function(n){return!!this.getTag(n)}}]),r}(),Mue=function(){function r(){xn(this,r)}return Pn(r,[{key:"apply",value:function(n){var o=n.hooks,s={beforeStatus:null,afterStatus:null,operation:null,docUid:null},u=function(c){s.beforeStatus={uids:c.uids,selectedUids:[],currentUid:"",modifiedUid:c.modifiedUid,removedUids:c.removedUids}},l=function(c){s.afterStatus={uids:c.uids,selectedUids:[],currentUid:"",modifiedUid:c.modifiedUid,removedUids:c.removedUids},s.docUid=c.docUid,s.operation=c.operation,s.docType=c.docType,s.docName=c.docName,n.emit("bufferChanged",mf({},s)),s={beforeStatus:null,afterStatus:null,operation:null,docUid:null}};o.beforeBufferChanged.on(u),o.afterBufferChanged.on(l),o.destroy.on(function(){o.beforeBufferChanged.off(u),o.afterBufferChanged.off(l)})}}]),r}(),Wue=function(){function r(){xn(this,r)}return Pn(r,[{key:"apply",value:function(n){var o=n.hooks;n.customStore=new C0;var s=function(c){var f=c.data;Bt(f).call(f,function(m){var v=m.customData;v||(v={}),n.customStore.set(m.uid,v)})},u=function(c){var f=c.removedUids;Bt(f).call(f,function(m){n.customStore.remove(m)})},l=function(c){var f=c.data.customData;f&&n.customStore.update(c.modifiedUid,f)};o.loadSource.on(s),o.removeSource.on(u),o.updateSource.on(l),o.destroy.on(function(){o.loadSource.off(s),o.removeSource.off(u),o.updateSource.off(l)})}}]),r}(),Bue=function(r){Z_(o,r);var n=b0(o);function o(){var s;return xn(this,o),ct(qr(s=n.call(this,{uid:fc(),children:[]})),"name","dvs-default"),ct(qr(s),"isDestroyed",!1),ct(qr(s),"type",void 0),s}return Pn(o,[{key:"destroy",value:function(){this.isDestroyed||(this.isDestroyed=!0)}}]),o}(cg),Uue=function(){function r(){xn(this,r)}return Pn(r,[{key:"apply",value:function(n){n.defaultFile=new Bue;var o=n.hooks,s=function(l){var c,f,m,v=l.filename,S=l.index,_=l.data;if(hi(v)){var b=ng(_).call(_,function(A){return A.uid});S===void 0?(c=n.defaultFile.children).push.apply(c,Sn(b)):fi(f=n.defaultFile.children).apply(f,ac(m=[S,0]).call(m,Sn(b)));var I={docUid:n.defaultFile.uid,sourceUids:b,type:"default",index:S};n.hooks.loadToDoc.emit(I)}},u=function(l){var c=l.removedUids,f=[];Bt(c).call(c,function(m){var v=n.statusStore.get(m);v&&v.ownerDefaultFile&&(n.defaultFile.remove(m),f.push(m))}),f.length&&n.hooks.removeFromDoc.emit({docUid:n.defaultFile.uid,sourceUids:c,type:"default"})};o.loadSource.on(s),o.removeSource.on(u),o.destroy.on(function(){o.loadSource.off(s),o.removeSource.off(u)})}}]),r}(),Vue=function(){function r(){xn(this,r)}return Pn(r,[{key:"apply",value:function(n){n.dir=new Nue,this.listenDirectoryHooks(n),this.listenSpaceHooks(n)}},{key:"listenDirectoryHooks",value:function(n){var o=n.dir.hooks,s=function(l){var c;Bt(c=l.children).call(c,function(f){var m=n.statusStore.get(f);m&&m.ownerFiles.remove(l.uid)}),n.hooks.removeDoc.emit(l)},u=function(l){n.hooks.renameDoc.emit(l)};o.beforeRemoveFile.on(s),o.afterRenameFile.on(u),o.destroy.on(function(){o.beforeRemoveFile.off(s),o.afterRenameFile.off(u)})}},{key:"listenSpaceHooks",value:function(n){var o=n.hooks,s=function(c){var f=c.data,m=c.filename,v=c.index;if(!hi(m)){var S=n.dir.getFile(m);n.hooks.beforeBufferChanged.emit({docType:"file",docUid:S==null?void 0:S.uid,uids:Sn((S==null?void 0:S.children)||[]),operation:"add"});var _=ng(f).call(f,function(A){return A.uid}),b=n.dir.appendChildrenToFile(m,_,v),I={docUid:b.uid,sourceUids:_,type:"file",index:v};n.hooks.loadToDoc.emit(I),n.hooks.afterBufferChanged.emit({docType:"file",docName:m,docUid:b==null?void 0:b.uid,uids:Sn((b==null?void 0:b.children)||[]),operation:"add"})}},u=function(c){var f=c.removedUids,m={};Bt(f).call(f,function(P){var L,$,ee=n.statusStore.get(P);ee&&Bt(L=lc($=ee.ownerFiles.children).call($)).call(L,function(q){m[q]||(m[q]=[]),m[q].push(P)})});for(var v=0,S=_0(m);v<S.length;v++){var _=of(S[v],2),b=_[0],I=_[1],A=n.dir.getFileByUid(b);A&&(n.hooks.beforeBufferChanged.emit({docUid:b,uids:Sn(A.children),removedUids:Sn(I),operation:"remove"}),n.dir.removeChildFromFile(b,I),n.hooks.afterBufferChanged.emit({docType:"file",docName:A.name,docUid:b,uids:Sn(A.children),removedUids:Sn(I),operation:"remove"})),n.hooks.removeFromDoc.emit({docUid:b,sourceUids:I})}},l=function(c){var f,m,v=n.statusStore.get(c.modifiedUid);v&&Bt(f=lc(m=v.ownerFiles.children).call(m)).call(f,function(S){var _=n.dir.getFileByUid(S);_&&(n.hooks.beforeBufferChanged.emit({uids:Sn(_.children),modifiedUid:c.modifiedUid,operation:"modify"}),n.hooks.afterBufferChanged.emit({docType:"file",docName:_.name,docUid:S,uids:Sn(_.children),modifiedUid:c.modifiedUid,operation:"modify"}))})};o.loadSource.on(s),o.removeSource.on(u),o.updateSource.on(l),o.destroy.on(function(){o.loadSource.off(s),o.removeSource.off(u),o.updateSource.off(l)})}}]),r}(),jue=function(){function r(){xn(this,r)}return Pn(r,[{key:"apply",value:function(n){var o=n.hooks;n.metadataStore=new C0;var s=function(c){var f=c.data;Bt(f).call(f,function(m){var v=m.metadata;v||(v={width:void 0,height:void 0}),n.metadataStore.set(m.uid,v)})},u=function(c){var f=c.removedUids;Bt(f).call(f,function(m){n.metadataStore.remove(m)})},l=function(c){var f=c.data.metadata;f&&n.metadataStore.update(c.modifiedUid,f)};o.loadSource.on(s),o.removeSource.on(u),o.updateSource.on(l),o.destroy.on(function(){o.loadSource.off(s),o.removeSource.off(u),o.updateSource.off(l)})}}]),r}(),Gue=function(){function r(n){xn(this,r),ct(this,"uid",null),ct(this,"minData",null),ct(this,"oriData",null),ct(this,"customData",{}),ct(this,"activeOri",!1),ct(this,"activeMin",!1),ct(this,"minTask",null),ct(this,"oriTask",null),ct(this,"load",!1),ct(this,"preload",[]),ct(this,"visible",[]),ct(this,"overlays",[]),ct(this,"img",null),ct(this,"minImg",null),ct(this,"imageScale",1),ct(this,"owners",[]),ct(this,"oriType",null),ct(this,"minType",null),ct(this,"metadata",null),ct(this,"realTimeWidth",0),ct(this,"realTimeHeight",0),ct(this,"isFromFile",!1),ct(this,"isCached",!1),ct(this,"isDestroyed",!1),ct(this,"isLoading",!1),ct(this,"isMinLoading",!1),ct(this,"isSaving",!1),ct(this,"annotations",void 0),ct(this,"ownerFiles",new cg({children:[]})),ct(this,"ownerTags",new cg({children:[]})),ct(this,"ownerDefaultFile",void 0),ct(this,"operations",[]),ct(this,"useFillColor",!1),this.uid=n.uid,this.metadata=mf({},n.metadata),this.setRealTimeSize(this.metadata.width,this.metadata.height)}return Pn(r,[{key:"setRealTimeSize",value:function(n,o){this.realTimeWidth=n,this.realTimeHeight=o}},{key:"destroy",value:function(){this.isDestroyed||(this.customData=null,this.img=null,this.owners=null,this.metadata=null,this.isDestroyed=!0)}},{key:"addOwner",value:function(n){var o=this.owners;di(o).call(o,n)<0&&o.push(n)}},{key:"removeOwner",value:function(n){var o=this.owners,s=di(o).call(o,n);s>-1&&fi(o).call(o,s,1)}},{key:"removeViewer",value:function(n){var o=this.owners,s=di(o).call(o,n);s>-1&&fi(o).call(o,s,1)}},{key:"setVisible",value:function(n){var o;di(o=this.visible).call(o,n)<0&&this.visible.push(n)}},{key:"cancelVisible",value:function(n){var o,s,u=di(o=this.visible).call(o,n);u>-1&&fi(s=this.visible).call(s,u,1)}},{key:"setPreload",value:function(n){var o;di(o=this.preload).call(o,n)<0&&this.preload.push(n)}},{key:"cancelPreload",value:function(n){var o,s,u=di(o=this.preload).call(o,n);u>-1&&fi(s=this.preload).call(s,u,1)}},{key:"reset",value:function(){this.minData=null,this.oriData=null,this.img=null,this.activeOri=!1,this.activeMin=!1,this.minTask=null,this.oriTask=null,this.operations=[]}}]),r}(),zue=function(){function r(){xn(this,r)}return Pn(r,[{key:"apply",value:function(n){var o=n.hooks;n.statusStore=new C0;var s=function(v){var S=v.data;v.filename,v.index,Bt(S).call(S,function(_){var b=new Gue(_);n.statusStore.set(_.uid,b)})},u=function(v){var S=v.removedUids;Bt(S).call(S,function(_){var b,I,A=n.statusStore.get(_);A&&(T0(A.minData),T0(A.oriData),A.ownerFiles.clear(),A.ownerTags.clear(),A.ownerDefaultFile=!1,(b=A.img)!==null&&b!==void 0&&b.src&&(A.img.src=""),(I=A.minImg)!==null&&I!==void 0&&I.src&&(A.minImg.src=""),A.img=null,A.minImg=null),n.statusStore.remove(_)})},l=function(v){var S=v.modifiedUid,_=v.data,b=v.revoke,I=n.statusStore.get(S);if(I){I.img=null,I.minImg=null;var A=_.metadata;A&&(I.metadata=mf({},A),I.setRealTimeSize(A.width,A.height)),b&&(T0(I.oriData),T0(I.minData)),I.reset(),n.statusStore.update(S,I)}},c=function(v){var S;Bt(S=v.children).call(S,function(_){var b=n.statusStore.get(_);b&&(v.type==="file"?b.ownerFiles.remove(v.uid):v.type==="tag"&&b.ownerTags.remove(v.uid))})},f=function(v){var S=v.docUid,_=v.sourceUids,b=v.type;Bt(_).call(_,function(I){var A=n.statusStore.get(I);A&&(b==="file"?A.ownerFiles.append(S):b==="tag"?A.ownerTags.append(S):b==="default"&&(A.ownerDefaultFile=!0))})},m=function(v){var S=v.docUid,_=v.sourceUids,b=v.type;Bt(_).call(_,function(I){var A=n.statusStore.get(I);A&&(b==="file"?A.ownerFiles.remove(S):b==="tag"?A.ownerTags.remove(S):b==="default"&&(A.ownerDefaultFile=!0))})};o.loadSource.on(s),o.afterRemoveSource.on(u),o.updateSource.on(l),o.removeDoc.on(c),o.loadToDoc.on(f),o.removeFromDoc.on(m),o.destroy.on(function(){o.loadSource.off(s),o.afterRemoveSource.off(u),o.updateSource.off(l),o.removeDoc.off(c),o.loadToDoc.off(f),o.removeFromDoc.off(m)})}}]),r}(),Hue=function(){function r(){xn(this,r)}return Pn(r,[{key:"apply",value:function(n){var o=n.hooks;n.store=new zB("space_db","space_doc");var s=function(c){var f=c.data;f&&Bt(f).call(f,function(m){n.store.set(m.uid,m)})},u=function(c){var f;Bt(f=c.removedUids).call(f,function(m){n.store.remove(m)})},l=function(c){n.store.update(c.modifiedUid,c.data)};o.loadSource.on(s),o.removeSource.on(u),o.updateSource.on(l),o.destroy.on(function(){o.loadSource.off(s),o.removeSource.off(u),o.updateSource.off(l)})}}]),r}(),$ue=function(){function r(){xn(this,r)}return Pn(r,[{key:"apply",value:function(n){n.tag=new Lue,this.listenSpaceHooks(n),this.listenTagHooks(n)}},{key:"listenTagHooks",value:function(n){var o=n.tag.hooks,s=function(l){var c;Bt(c=l.children).call(c,function(f){var m=n.statusStore.get(f);m&&m.ownerFiles.remove(l.uid)}),n.hooks.removeDoc.emit(l)},u=function(l){n.hooks.renameDoc.emit(l)};o.beforeRemoveTag.on(s),o.afterRenameTag.on(u),o.destroy.on(function(){o.beforeRemoveTag.off(s),o.afterRenameTag.off(u)})}},{key:"listenSpaceHooks",value:function(n){var o=n.hooks,s=function(S){var _=S.data,b=n.tag.defaultName;Bt(_).call(_,function(I){var A;I.tags||(I.tags=[]),b&&di(A=I.tags).call(A,b)<0&&I.tags.push(b)})},u=function(S){var _=S.data;Bt(_).call(_,function(b){var I;(I=b.tags)===null||I===void 0||Bt(I).call(I,function(A){var P=n.tag.getTag(A);n.hooks.beforeBufferChanged.emit({uids:Sn((P==null?void 0:P.children)||[]),operation:"add"}),n.tag.appendChildToTag(A,b.uid);var L=n.tag.getTag(A),$={docUid:L.uid,sourceUids:[b.uid],type:"tag"};n.hooks.loadToDoc.emit($),n.hooks.afterBufferChanged.emit({docType:"tag",docName:A,docUid:L==null?void 0:L.uid,uids:Sn((L==null?void 0:L.children)||[]),operation:"add"})})})},l=function(S){var _=S.removedUids,b={};Bt(_).call(_,function(q){var Q,J,te=n.statusStore.get(q);te&&Bt(Q=lc(J=te.ownerTags.children).call(J)).call(Q,function(H){b[H]||(b[H]=[]),b[H].push(q)})});for(var I=0,A=_0(b);I<A.length;I++){var P=of(A[I],2),L=P[0],$=P[1],ee=n.tag.getTagByUid(L);ee&&(n.hooks.beforeBufferChanged.emit({uids:Sn(ee.children),removedUids:Sn($),operation:"remove"}),n.tag.removeChildFromTag(ee.name,$),n.hooks.afterBufferChanged.emit({docType:"tag",docName:ee.name,docUid:L,uids:Sn(ee.children),removedUids:Sn($),operation:"remove"})),n.hooks.removeFromDoc.emit({docUid:L,sourceUids:$,type:"tag"})}},c=function(S){S.type!=="tag"&&l({removedUids:S.children})},f=function(S){var _=S.docUid,b=S.sourceUids;if(S.type==="tag"){var I=n.tag.getTagByUid(_);I&&Bt(b).call(b,function(){var A=ZL(r0.mark(function P(L){var $,ee;return r0.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.prev=0,q.next=3,n.store.get(L);case 3:if(ee=q.sent,q.t0=ee&&di($=ee.tags).call($,I.name)<0,!q.t0){q.next=9;break}return ee.tags.push(I.name),q.next=9,n.store.update(L,ee);case 9:q.next=14;break;case 11:q.prev=11,q.t1=q.catch(0);case 14:case"end":return q.stop()}},P,null,[[0,11]])}));return function(P){return A.apply(this,arguments)}}())}},m=function(S){var _=S.docUid,b=S.sourceUids;if(S.type==="tag"){var I=n.tag.getTagByUid(_);I&&Bt(b).call(b,function(){var A=ZL(r0.mark(function P(L){var $,ee,q,Q;return r0.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.prev=0,J.next=3,n.store.get(L);case 3:if(!($=J.sent)){J.next=9;break}return(Q=di(ee=$.tags).call(ee,I.name))>-1&&fi(q=$.tags).call(q,Q,1),J.next=9,n.store.update(L,$);case 9:J.next=14;break;case 11:J.prev=11,J.t0=J.catch(0);case 14:case"end":return J.stop()}},P,null,[[0,11]])}));return function(P){return A.apply(this,arguments)}}())}},v=function(S){var _,b,I=n.statusStore.get(S.modifiedUid);I&&Bt(_=lc(b=I.ownerTags.children).call(b)).call(_,function(A){var P=n.tag.getTagByUid(A);P&&(n.hooks.beforeBufferChanged.emit({uids:Sn(P.children),modifiedUid:S.modifiedUid,operation:"modify"}),n.hooks.afterBufferChanged.emit({docType:"tag",docName:P.name,docUid:A,uids:Sn(P.children),modifiedUid:S.modifiedUid,operation:"modify"}))})};o.beforeLoadSource.on(s),o.loadSource.on(u),o.removeSource.on(l),o.removeDoc.on(c),o.loadToDoc.on(f),o.removeFromDoc.on(m),o.updateSource.on(v),o.destroy.on(function(){o.beforeLoadSource.off(s),o.loadSource.off(u),o.removeSource.off(l),o.removeDoc.off(c),o.loadToDoc.off(f),o.removeFromDoc.off(m),o.updateSource.off(v)})}}]),r}(),Kue=function(r){Z_(o,r);var n=b0(o);function o(){var s;return xn(this,o),ct(qr(s=n.call(this)),"uid",fc()),ct(qr(s),"hooks",{init:lr.create(),destroy:lr.create(),beforeLoadSource:lr.create(),loadSource:lr.create(),afterLoadSource:lr.create(),beforeRemoveSource:lr.create(),removeSource:lr.create(),afterRemoveSource:lr.create(),beforeUpdateSource:lr.create(),updateSource:lr.create(),afterUpdateSource:lr.create(),beforeBufferChanged:lr.create(),afterBufferChanged:lr.create(),directoryChanged:lr.create(),tagChanged:lr.create(),openDoc:lr.create(),loadToDoc:lr.create(),removeFromDoc:lr.create(),removeDoc:lr.create(),renameDoc:lr.create(),move:lr.create(),afterMove:lr.create(),switch:lr.create(),afterSwitch:lr.create(),reorder:lr.create(),afterReorder:lr.create()}),ct(qr(s),"dir",void 0),ct(qr(s),"tag",void 0),ct(qr(s),"store",void 0),ct(qr(s),"customStore",void 0),ct(qr(s),"metadataStore",void 0),ct(qr(s),"statusStore",void 0),ct(qr(s),"defaultFile",void 0),ct(qr(s),"plugins",[]),ct(qr(s),"imageLoader",void 0),s.initPlugins(),s.hooks.init.emit(),s}return Pn(o,[{key:"destroy",value:function(){this.hooks.destroy.emit()}},{key:"initPlugins",value:function(){new Hue().apply(this),new zue().apply(this),new Wue().apply(this),new jue().apply(this),new Mue().apply(this),new Uue().apply(this),new Vue().apply(this),new $ue().apply(this)}},{key:"setImageLoader",value:function(s){this.imageLoader=s}},{key:"getCustomData",value:function(s){return this.customStore.get(s)}},{key:"setCustomData",value:function(s,u){return this.customStore.set(s,u)}},{key:"getMetadata",value:function(s){return this.metadataStore.get(s)}},{key:"setMetadata",value:function(s,u){return this.metadataStore.set(s,u)}},{key:"createStore",value:function(s){var u=s.type,l=u===void 0?"sync":u,c=s.tableName,f=s.dbName;return l==="sync"?new C0:f&&c?new zB(f,c):null}},{key:"loadSource",value:function(s,u){if(hi(s))return[];var l=s.data;if(!dc(l))return[];var c=[];return Bt(l).call(l,function(f){f.uid=fc(),c.push(f.uid)}),kl(u)&&u(c),this.hooks.beforeLoadSource.emit(s),this.hooks.loadSource.emit(s),this.hooks.afterLoadSource.emit(s),c}},{key:"removeSource",value:function(s){var u=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];Zr(s)&&(s=[s]);var l={removedUids:s,docUid:"",trigger:this.uid,operation:"remove"};return this.hooks.beforeRemoveSource.emit(l),this.hooks.removeSource.emit(l),u&&this.hooks.afterRemoveSource.emit(l),!0}},{key:"updateSource",value:function(s,u){var l={modifiedUid:s,data:u,revoke:!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],operation:"modify"};return this.hooks.beforeUpdateSource.emit(l),this.hooks.updateSource.emit(l),this.hooks.afterUpdateSource.emit(l),!0}},{key:"getSource",value:function(s){return this.store.get(s)}},{key:"openDefault",value:function(s){var u={node:this.defaultFile,type:"default",config:s};this.hooks.openDoc.emit(u)}},{key:"createFile",value:function(s){return this.dir.createFile(s)}},{key:"removeFile",value:function(s){return this.dir.removeFile(s)}},{key:"renameFile",value:function(s,u){return this.dir.renameFile(s,u)}},{key:"openFile",value:function(s,u){var l=this.getFile(s);if(!l)return!1;var c={node:l,type:"file",config:u};return this.hooks.openDoc.emit(c),!0}},{key:"movePagesToFile",value:function(s,u,l,c){var f=this,m=this.getFile(s),v=this.getFile(l);if(!m||!v)return!1;for(var S=0;S<u.length;S++)if(u[S]<0||u[S]>=m.children.length)return!1;if(c<0)return!1;var _=ng(u).call(u,function(A){return m.children[A]});Bt(_).call(_,function(A){var P=f.statusStore.get(A);P&&P.ownerFiles.remove(m.uid)}),this.dir.removeChildFromFile(m.uid,_),this.hooks.removeFromDoc.emit({docUid:m.uid,sourceUids:_}),c>v.children.length&&(c=v.children.length);var b=this.dir.appendChildrenToFile(l,_,c),I={docUid:b.uid,sourceUids:_,type:"file",index:c,isSameDoc:s===l};return Bt(_).call(_,function(A){var P=f.statusStore.get(A);P&&P.ownerFiles.append(b.uid)}),this.hooks.loadToDoc.emit(I),!0}},{key:"getFile",value:function(s){return this.dir.getFile(s)}},{key:"getFileList",value:function(){return this.dir.getCurrentFileList()}},{key:"isFileExisted",value:function(s){return this.dir.isFileExist(s)}},{key:"createTag",value:function(s){return this.tag.createTag(s)}},{key:"removeTag",value:function(s){for(var u=this.getTag(s).children||[],l=0;l<u.length;l++)this.store.get(u[l]).then(function(c){var f,m,v=di(f=(c==null?void 0:c.tags)||[]).call(f,s);v!==-1&&fi(m=c.tags).call(m,v,1)});return this.tag.removeTag(s)}},{key:"renameTag",value:function(s,u){var l=this.getTag(s).children||[],c=this.tag.renameTag(s,u);if(c)for(var f=0;f<l.length;f++)this.store.get(l[f]).then(function(m){var v,S,_=di(v=(m==null?void 0:m.tags)||[]).call(v,s);_!==-1&&fi(S=m.tags).call(S,_,1,u)});return c}},{key:"openTag",value:function(s,u){var l=this.getTag(s);if(!l)return!1;var c={node:l,type:"tag",config:u};return this.hooks.openDoc.emit(c),!0}},{key:"getTag",value:function(s){return this.tag.getTag(s)}},{key:"getTagList",value:function(){return this.tag.getTagList()}},{key:"setDefaultTag",value:function(s){return this.tag.setDefaultTag(s)}},{key:"getDefaultTag",value:function(){return this.tag.getDefaultTag()}},{key:"isTagExisted",value:function(s){return this.tag.isTagExisted(s)}},{key:"addTagToSource",value:function(s,u){if(this.statusStore.get(s)){Zr(u)&&(u=[u]);for(var l=0;l<u.length;l++)if(!this.addSourceToTag(u[l],s))return!1;return!0}return!1}},{key:"removeTagFromSource",value:function(s,u){if(this.statusStore.get(s)){var l;hi(u)?u=ng(l=this.tag.tags).call(l,function(f){return f.name}):Zr(u)&&(u=[u]);for(var c=0;c<u.length;c++)if(!this.removeSourceFromTag(u[c],s))return!1;return!0}return!1}},{key:"addSourceToTag",value:function(s,u){var l=this.tag.getTag(s);if(l&&this.tag.appendChildToTag(s,u)){Zr(u)&&(u=[u]);for(var c=0;c<u.length;c++)this.store.get(u[c]).then(function(m){var v;yae(v=m.tags).call(v,s)||m.tags.push(s)});var f={sourceUids:u,docUid:l.uid,type:"tag"};return this.hooks.loadToDoc.emit(f),!0}return!1}},{key:"removeSourceFromTag",value:function(s,u){var l=this.tag.getTag(s);if(l){this.tag.removeChildFromTag(s,u),Zr(u)&&(u=[u]);for(var c=0;c<u.length;c++)this.store.get(u[c]).then(function(m){var v,S,_=di(v=(m==null?void 0:m.tags)||[]).call(v,s);_!==-1&&fi(S=m.tags).call(S,_,1)});var f={docUid:l.uid,sourceUids:u,type:"tag"};return this.hooks.removeFromDoc.emit(f),!0}return!1}},{key:"getSourceTags",value:function(s){var u,l=this,c=this.statusStore.get(s);return c?ng(u=c.ownerTags.children).call(u,function(f){return l.tag.getTagByUid(f).name}):[]}},{key:"switch",value:function(s){var u=s.one,l=s.other,c=s.type,f=s.docUid,m=s.emit,v=this.getDocNode(f,c);if(v){if(v.switch(u,l),m||hi(m)){var S={one:u,other:l,docUid:f,type:v.type,trigger:this.uid,operation:"shift"};this.hooks.switch.emit(S)}return!0}return!1}},{key:"move",value:function(s){var u=s.from,l=s.to,c=s.type,f=s.docUid,m=s.emit,v=this.getDocNode(f,c);if(v){if(v.move(u,l),m||hi(m)){var S={from:u,to:l,docUid:f,type:v.type,trigger:this.uid,operation:"shift"};this.hooks.move.emit(S)}return!0}return!1}},{key:"reorder",value:function(s){var u=s.indexes,l=s.type,c=s.docUid,f=s.emit,m=this.getDocNode(c,l);if(m&&(m.reorder(u),f||hi(f))){var v={indexes:u,docUid:c,type:m.type,trigger:this.uid,operation:"shift"};this.hooks.move.emit(v)}}},{key:"getDocNode",value:function(s,u){switch(u){case"default":return this.defaultFile;case"file":return this.dir.getFileByUid(s);case"tag":return this.tag.getTagByUid(s);default:return s===this.defaultFile.uid?this.defaultFile:this.tag.getTagByUid(s)||this.dir.getFileByUid(s)||null}}}]),o}(GB),Yue={Successful:{errorCode:0,errorString:"Successful."},InvalidIndex:{errorCode:-1033,errorString:"Invalid index."},InvalidValue:{errorCode:-1034,errorString:"Invalid value."},NoImage:{errorCode:-1035,errorString:"There is no image."},UnBindViewer:{errorCode:-2210,errorString:"You cannot call this method on this WebTwain instance because it does not use the default viewer."},AlReadyBindViewer:{errorCode:-2211,errorString:"The element is already bound to the viewer."},ParameterCannotEmpty:{errorCode:-2314,errorString:"The parameter cannot be empty."},IndicesNotArray:{errorCode:-2358,errorString:"The type of the parameter indices must be an Array."},IndexOutOfRange:{errorCode:-2359,errorString:"The index is out of range."},InvalidTagName:{errorCode:-2394,errorString:"Invalid tag name."},InvalidLeftOrTopOrRightOrBottom:{errorCode:-2417,errorString:"The left or top or right or bottom you entered is invalid."},InvalidWidth:{errorCode:-2418,errorString:"The width you entered is invalid."},InvalidHeight:{errorCode:-2419,errorString:"The height you entered is invalid."},WidthOrHeightOutOfImageSize:{errorCode:-2420,errorString:"The width or height is out of image size."},MobileServer_InvalidIndex:{errorCode:-2423,errorString:"The index is invalid."},ImageEditorExist:{errorCode:-2500,errorString:"An ImageEditor already exists."},ThumbnailViewerExist:{errorCode:-2501,errorString:"A ThumbnailViewer already exists."},CustomElementExist:{errorCode:-2502,errorString:"A CustomElement already exists."},ImageEditorDispose:{errorCode:-2504,errorString:"The ImageEditor object has been disposed."},ThumbnailViewerNotExist:{errorCode:-2505,errorString:"This ThumbnailViewer doesn't exist."},ThumbnailViewerDispose:{errorCode:-2506,errorString:"The ThumbnailViewer object has been disposed."},CallbackNotAFunction:{errorCode:-2510,errorString:"The callback is not a function."},ElementRequired:{errorCode:-2511,errorString:"Parameter 'element' is required."},ElementNotExist:{errorCode:-2512,errorString:"Parameter 'element' doesn't instanceof HTMLDivElement."},InvalidPropertyValue:{errorCode:-2514,errorString:"Invalid property value."},CursorInvalidMode:{errorCode:-2519,errorString:"The current mode does not support setting the cursor to zoom."},OldTagNameRequired:{errorCode:-2517,errorString:"Old tag name is required."},NewTagNameRequired:{errorCode:-2518,errorString:"New tag name is required."},FileNameCannotEmpty:{errorCode:-2530,errorString:"Document name cannot be empty."},FileNameNotString:{errorCode:-2531,errorString:"Document name is not a string."},FileNotExist:{errorCode:-2540,errorString:"The document does not exist."},FileExist:{errorCode:-2541,errorString:"The document already exists."},CustomElementDispose:{errorCode:-2508,errorString:"The CustomElement object has been disposed."},CustomElementNotExist:{errorCode:-2507,errorString:"This CustomElement doesn't exist."},ParameterOutRange:{errorCode:80002,errorString:"The parameter is out of range."},TagNotExist:{errorCode:80009,errorString:"Tag does not exist."},TagExist:{errorCode:80010,errorString:"The tag already exists."},OperationError:{errorCode:80022,errorString:"The operation mode is wrong."}};(I0=KB||(KB={}))[I0.Normal=0]="Normal",I0[I0.Balance=1]="Balance";var Que=function(){function r(n){var o=this;xn(this,r),ct(this,"space",void 0),ct(this,"webViewer",void 0),ct(this,"isActiveFile",!1),ct(this,"isActiveTag",!1),ct(this,"currentFileName",""),ct(this,"currentTagName",""),ct(this,"bufferConfig",null),ct(this,"currentSelected",[]),ct(this,"lastCurrentSelected",[]),this.space=new Kue,n&&(this.bufferConfig=n),this.space.on("bufferChanged",function(s,u){var l;if(!o.webViewer&&kl((l=o.bufferConfig)===null||l===void 0?void 0:l.bufferChanged)){var c,f,m,v,S,_,b=[],I=[],A=o.getCurrentDataSet().children;Bt(c=o.currentSelected).call(c,function(L){A&&A[L]&&b.push(A[L])}),Bt(f=o.lastCurrentSelected).call(f,function(L){A&&A[L]&&I.push(A[L])});var P={afterStatus:{uids:s.afterStatus.uids,selectedUids:b,modifiedUid:(s==null||(m=s.afterStatus)===null||m===void 0?void 0:m.modifiedUid)||"",removedUids:(s==null||(v=s.afterStatus)===null||v===void 0?void 0:v.removedUids)||[],currentUid:s.afterStatus.uids[s.afterStatus.uids.length-1]||""},beforeStatus:{uids:s.beforeStatus.uids,selectedUids:I,removedUids:(s==null||(S=s.beforeStatus)===null||S===void 0?void 0:S.removedUids)||[],modifiedUid:(s==null||(_=s.beforeStatus)===null||_===void 0?void 0:_.modifiedUid)||"",currentUid:s.beforeStatus.uids[s.beforeStatus.uids.length-1]||""},operation:s.operation,docUid:s.docUid,total:s.afterStatus.uids.length,curIndex:s.afterStatus.uids.length-1};o.lastCurrentSelected=Sn(o.currentSelected),o.bufferConfig.bufferChanged(P,u)}})}return Pn(r,[{key:"e",value:function(){this.setError("Successful")}},{key:"IsFileNameExist",value:function(n){var o=this.space.getFileList();if(n==="dynamsoft-default-document")return!0;if(o){for(var s=0;s<o.length;s++)if(o[s].name===n)return!0}return!1}},{key:"getCurrentDataSet",value:function(){if(this.webViewer){var n=this.webViewer.myViewer.getCurrentTab();if(n===void 0)return!1;var o=n.type;this.isActiveFile=o==="file",this.isActiveTag=o==="tag"}if(this.isActiveFile){var s=this.getCurrentFileName(),u=this.space.getFile(s);if(u)return u}if(this.isActiveTag){var l=this.space.getTag(this.currentTagName);if(l)return l}return!1}},{key:"setError",value:function(n){var o;if(n!=="Default"){if(this.webViewer)this.webViewer.setError(n);else if(this.bufferConfig&&this.bufferConfig.viewerError){var s=Yue[n],u=s.errorCode,l=s.errorString;this.bufferConfig.viewerError.setError(u,l)}}else this==null||(o=this.webViewer)===null||o===void 0||o.setDefaultError()}},{key:"emitViewerEvent",value:function(){var n,o;this.webViewer&&this.getHowManyImagesInBuffer()===0&&((n=this.webViewer)===null||n===void 0||(o=n.myViewer)===null||o===void 0||o.emit("pageRendered",-1))}},{key:"bindViewer",value:function(n){this.webViewer=n}},{key:"getCurrentTag",value:function(){return this.currentTagName}},{key:"getCurrentDocument",value:function(){return this.currentFileName}},{key:"getCurrentFileName",value:function(){var n=this,o=this.space.getFileList(),s="";return o&&Bt(o).call(o,function(u){u.name===n.currentFileName&&(s=n.currentFileName)}),s}},{key:"getCurrentIndex",value:function(){if(this.webViewer)return this.webViewer.getCurrentIndex();var n=this.getSelectedImagesIndices().length;if(n<=0){var o=this.getCurrentDataSet();return!!o&&o.children.length-1}return this.getSelectedImagesIndices()[n-1]}},{key:"getHowManyImagesInBuffer",value:function(){if(this.webViewer)return this.webViewer.getHowManyImagesInBuffer();var n=this.getCurrentDataSet();return n?n.children.length:0}},{key:"getSelectedImagesIndices",value:function(){return this.webViewer?this.webViewer.getSelectedImagesIndices():this.currentSelected}},{key:"getIndexByUid",value:function(n){if(!Zr(n)||!n)return this.setError("InvalidValue"),!1;if(this.webViewer)return this.webViewer.myViewer.getIndexByUid(n);var o=this.getCurrentDataSet(),s=o.children;return!!(o&&s&&dc(s))&&di(s).call(s,n)}},{key:"getUidByIndex",value:function(n){if(n<0||n>=this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;if(this.webViewer)return this.webViewer.myViewer.getUidByIndex(n);var o=this.getCurrentDataSet().children;return!(o&&o.length<n)&&o[n]}},{key:"getDataByUid",value:function(n){return this.space.getSource(n)}},{key:"updateDataByUid",value:function(n,o){return this.space.store.set(n,o)}},{key:"setCustomDataByUid",value:function(n,o){return Zr(n)&&n!==""?this.space.setCustomData(n,o):(this.setError("InvalidValue"),!1)}},{key:"getCustomDataByUid",value:function(n){return this.space.getCustomData(n)}},{key:"setMetadataByUid",value:function(n,o){return Zr(n)&&n!==""?this.space.setMetadata(n,o):(this.setError("InvalidValue"),!1)}},{key:"getMetadataByUid",value:function(n){return this.space.getMetadata(n)}},{key:"addImage",value:function(n,o,s){var u,l,c={},f=this.currentFileName,m="";!hi(s)&&Zr(s)?(this.IsFileNameExist(s)||this.createDocument(s),m=s):hi(f)||f===""?(this.space.isFileExisted("dynamsoft-default-document")||this.createDocument("dynamsoft-default-document"),this.webViewer&&(this.webViewer.bEmitBufferChanged=!1),this.openDocument("dynamsoft-default-document"),this.webViewer&&(this.webViewer.bEmitBufferChanged=!0),m="dynamsoft-default-document"):m=f,o&&(delete(l=mf({},o)).oriBlobData,o.oriBlobData&&(u=o.oriBlobData));var v=n.imageUrl,S=n.minImageUrl,_=n.imageId,b=n.serverId,I=n.uidFromServer,A=n.index;u&&(c=mf({},u)),_&&(c.imageId=_),b&&(c.serverId=b),I&&(c.uidFromServer=I);var P=this.getDocumentContents(m).length;!hi(A)&&Pl(A)?A>=P&&(A=P):A=P,this.isActiveFile&&(this.currentSelected=[A]);var L=this.space.loadSource({data:[{oriData:v,minData:S,metadata:l,customData:c}],filename:m,index:A},function(ee){var q=of(ee,1)[0];n.uuid=q}),$=this.getHowManyImagesInBuffer();return this.isActiveTag&&(this.currentSelected=$>0?[$-1]:[]),L}},{key:"insertImage",value:function(n,o,s){var u;if(s&&s>=0)this.currentSelected=[s],u=this.space.loadSource({data:[n],filename:o,index:s});else{u=this.space.loadSource({data:[n],filename:o});var l=this.getHowManyImagesInBuffer();this.currentSelected=l>0?[l-1]:[]}return u[0]}},{key:"updateImage",value:function(n,o){var s=n.imageUrl,u=n.minImageUrl,l=n.imageId,c=n.serverId,f=n.uidFromServer,m=n.uuid,v=mf({},o);return m&&m!==""&&m!==-1?(this.space.updateSource(m,{oriData:s,minData:u,metadata:v,customData:{imageId:l,serverId:c,uidFromServer:f}}),m):(this.setError("IndexOutOfRange"),!1)}},{key:"removeImageByUid",value:function(n){if(this.e(),this.webViewer){var o=this.webViewer.removePageByUid(n);return this.webViewer.resized(),this.emitViewerEvent(),o}return this.space.removeSource(n)}},{key:"removeImageByIndex",value:function(n){if(this.e(),n<0||n>=this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;var o=this.getCurrentIndex(),s=!1;if(this.currentSelected=n===o&&n===0?this.getHowManyImagesInBuffer()>0?[0]:[]:n<=o?[o-1]:[o],this.webViewer)s=this.webViewer.removePageByIndexes(n),this.webViewer.resized(),this.emitViewerEvent();else{var u=this.getCurrentDataSet();if(!u)return!1;s=this.space.removeSource(u.children[n])}return s||this.setError("Default"),s}},{key:"removeSelectedImages",value:function(n){this.e();var o=this.getSelectedImagesIndices();dc(n)&&n.length>0&&(o=n);var s=!1;if(this.webViewer)s=this.webViewer.removePageByIndexes(o),this.webViewer.resized(),this.emitViewerEvent();else{var u=[],l=this.getCurrentDataSet();if(!l)return!1;Bt(o).call(o,function(f){l.children[f]&&l.children[f]&&u.push(l.children[f])}),s=this.space.removeSource(u)}s||this.setError("Default");var c=this.getHowManyImagesInBuffer();return this.currentSelected=c>0?[c-1]:[],s}},{key:"removeImageByIndexArr",value:function(n){if(this.e(),!dc(n))return!1;var o=this.getCurrentDataSet();if(!o)return!1;var s,u=[];Bt(n).call(n,function(c){var f=o.children[c];f&&u.push(f)}),(s=this.space.removeSource(u))||this.setError("Default"),this.webViewer&&(this.webViewer.resized(),this.emitViewerEvent());var l=this.getHowManyImagesInBuffer();return this.currentSelected=l>0?[l-1]:[],s}},{key:"removeAllImages",value:function(){this.e();var n=!1;if(this.currentSelected=[],this.webViewer)n=this.webViewer.removeAllPages(),this.webViewer.resized(),this.emitViewerEvent();else{var o=this.getCurrentDataSet();o&&(n=this.space.removeSource(Sn(o.children)))}return n||this.setError("Default"),n}},{key:"tagImages",value:function(n,o){this.e();var s=this.getHowManyImagesInBuffer();if(!dc(n))return this.setError("IndicesNotArray"),!1;if(!Zr(o)||o==="")return this.setError("InvalidTagName"),!1;for(var u=0;u<s;u++){var l=n[u];if(af(l)||l<0||l>=s)return this.setError("IndexOutOfRange"),!1}this.space.createTag(o);for(var c=0;c<n.length;c++){var f=n[c];if(f>=0){var m=this.getUidByIndex(f);m&&m!==""&&og(m,10)!==-1&&this.space.addTagToSource(m,o)}}return!0}},{key:"removeImageTag",value:function(n,o){if(this.e(),!Pl(n))return this.setError("InvalidValue"),!1;if(n<0||n>this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;var s=this.getUidByIndex(n),u=!1;return s&&s!==""&&s!==-1&&(u=this.space.removeTagFromSource(s,o)),u||this.setError("Default"),u}},{key:"getDefaultTag",value:function(){return this.space.getDefaultTag()}},{key:"setDefaultTag",value:function(n){if(this.e(),!Zr(n))return this.setError("InvalidValue"),!1;if(n==="")return this.space.setDefaultTag(null),!0;var o;return this.space.createTag(n),(o=this.space.setDefaultTag(n))||this.setError("Default"),o}},{key:"removeTag",value:function(n,o){var s=this;if(this.e(),!Zr(n))return this.setError("InvalidValue"),!1;if(!hi(o)&&!dc(o))return this.setError("IndicesNotArray"),!1;if(!this.space.isTagExisted(n))return this.setError("TagNotExist"),!1;var u=this.currentTagName,l=!1,c=!1;if(u&&(l=u===n),hi(o))c=this.space.removeTag(n),l&&this.clearFilter();else{var f=[];Bt(o).call(o,function(v){var S=s.getUidByIndex(v);S!==-1&&f.push(S)});for(var m=0;m<(f==null?void 0:f.length);m++)if(!(c=this.space.removeTagFromSource(f[m],n)))return!1}return c||this.webViewer.setDefaultError(),c}},{key:"renameTag",value:function(n,o){if(this.e(),hi(n)||n==="")return this.setError("OldTagNameRequired"),!1;if(hi(o)||o==="")return this.setError("NewTagNameRequired"),!1;if(!this.space.isTagExisted(n))return this.setError("TagNotExist"),!1;if(this.space.isTagExisted(o))return this.setError("TagExist"),!1;var s;return n===this.currentTagName&&(this.currentTagName=o),(s=this.space.renameTag(n,o))?this.space.setDefaultTag(o):this.setError("Default"),s}},{key:"getTagContents",value:function(n){return this.e(),n&&Zr(n)&&n!==""?this.space.getTag(n).children:[]}},{key:"getTagList",value:function(){var n=this;this.e();var o=this.space.getTagList(),s=[];return o?Bt(o).call(o,function(u){var l,c=[];Bt(l=u.children).call(l,function(f){var m=n.getCustomDataByUid(f);if(m){var v=m.uidFromServer;c.push(v)}}),s.push({name:u.name,imageIds:c})}):s=[],s}},{key:"getTagListByIndex",value:function(n){if(!Pl(n))return!1;var o=this.getUidByIndex(n);return this.space.getSourceTags(o)}},{key:"clearFilter",value:function(){this.e(),this.currentTagName="";var n,o=this.getCurrentFileName();return o===""&&(o="dynamsoft-default-document"),(n=this.openDocument(o))||this.setError("Default"),n}},{key:"filterImagesByTag",value:function(n,o,s){this.e();var u=!1;if(hi(n)||n===null||n===""){this.currentTagName="";var l=this.getCurrentFileName();l===""&&(l="dynamsoft-default-document"),(u=this.openDocument(l))?kl(o)&&o():(this.setError("Default"),kl(s)&&s())}else{var c,f;if(!this.space.isTagExisted(n))return this.setError("TagNotExist"),kl(s)&&s(),!1;if(this.isActiveTag=!0,this.isActiveFile=!1,this.currentTagName=n,this.setDefaultTag(n),u=this.space.openTag(n,this==null||(c=this.webViewer)===null||c===void 0||(f=c.myViewer)===null||f===void 0?void 0:f.uid)){var m=this.space.getTag(n);if(m){var v,S=(m==null||(v=m.children)===null||v===void 0?void 0:v.length)||0;this.currentSelected=S>0?[S-1]:[]}kl(o)&&o()}else this.setError("Default"),kl(s)&&s()}return this.webViewer&&this.webViewer.render(),u}},{key:"createDocument",value:function(n){if(this.e(),!n||n===""){var o=Pl(n)?"FileNameNotString":"FileNameCannotEmpty";return this.setError(o),!1}return Zr(n)?this.space.isFileExisted(n)?(this.setError("FileExist"),!1):!!this.space.createFile(n)||(this.setError("Default"),!1):(this.setError("FileNameNotString"),!1)}},{key:"openDocument",value:function(n,o){var s,u;if(this.e(),!n||n===""){var l=Pl(n)?"FileNameNotString":"FileNameCannotEmpty";return this.setError(l),!1}if(!Zr(n))return this.setError("FileNameNotString"),!1;if(!this.space.isFileExisted(n))return this.setError("FileNotExist"),!1;var c=o&&o!==""?o:this==null||(s=this.webViewer)===null||s===void 0||(u=s.myViewer)===null||u===void 0?void 0:u.uid,f=this.space.getFile(n);if(f){var m,v=f==null||(m=f.children)===null||m===void 0?void 0:m.length;this.currentSelected=v>0?[v-1]:[]}return this.space.openFile(n,{viewerUid:c})?(this.currentFileName=n,this.isActiveFile=!0,this.isActiveTag=!1,!0):(this.setError("Default"),!1)}},{key:"getDocumentContents",value:function(n){return this.e(),n&&Zr(n)&&n!==""?this.space.getFile(n).children:[]}},{key:"renameDocument",value:function(n,o){return this.e(),Zr(n)&&Zr(o)?(n&&n!==""&&o&&o!==""||this.setError("FileNameCannotEmpty"),this.space.isFileExisted(n)?this.space.isFileExisted(o)?(this.setError("FileExist"),!1):this.space.renameFile(n,o)?(this.currentFileName===n&&(this.currentFileName=o),!0):(this.setError("Default"),!1):(this.setError("FileNotExist"),!1)):(this.setError("FileNameNotString"),!1)}},{key:"removeDocument",value:function(n){if(this.e(),!n||!Zr(n))return this.setError("FileNameNotString"),!1;if(!this.space.isFileExisted(n))return this.setError("FileNotExist"),!1;var o=this.space.removeFile(n);return o?(o&&this.webViewer&&this.webViewer.resized(),this.currentFileName===n&&(this.currentFileName=""),!0):(this.setError("Default"),!1)}},{key:"getDocumentInfoList",value:function(){var n=this;this.e();var o=this.space.getFileList(),s=[];return o?(Bt(o).call(o,function(u){if(u.children){for(var l=[],c=0;c<u.children.length;c++){var f=u.children[c],m=n.getCustomDataByUid(f);if(m){var v=m.uidFromServer;l.push(v)}}s.push({imageIds:l,name:u.name})}}),s):[]}},{key:"getDocumentInfo",value:function(n){this.e();var o=this.space.getFile(n);if(!o)return{imageIds:[],length:0};for(var s=[],u=0;u<o.children.length;u++){var l=o.children[u],c=this.getCustomDataByUid(l);if(c){var f=c.uidFromServer;s.push(f)}}return{imageIds:s,length:s.length}}},{key:"selectImages",value:function(n){this.e();var o=!0;if(!n||!dc(n))return!1;if(this.webViewer){var s=this.webViewer.getIfAutoScroll();s===!1&&this.webViewer.setIfAutoScroll(!0),o=this.webViewer.selectPages(n),s===!1&&this.webViewer.setIfAutoScroll(!1)}else{for(var u=this.getHowManyImagesInBuffer(),l=0;l<n.length;l++)if(!Pl(n[l])||n[l]<0||n[l]>=u)return this.setError("ParameterOutRange"),!1;o=!0}return o?this.currentSelected=n:this.setError("Default"),o}},{key:"selectAllImages",value:function(){this.e();var n=!0;if(this.webViewer)n=this.webViewer.myViewer.selectAll(),this.currentSelected=this.webViewer.getSelectedImagesIndices();else{var o,s=this.getCurrentDataSet();this.currentSelected=kae(Wae(o=new Array(s.children.length)).call(o))}return n||this.setError("Default"),n}},{key:"moveImage",value:function(n,o){this.e();var s=og(n,10),u=og(o,10);if(af(n)||af(o))return this.setError("InvalidIndex"),!1;var l=this.getHowManyImagesInBuffer();if(s<0||s>=l||u<0||u>l)return this.setError("IndexOutOfRange"),!1;var c=!1;if(this.webViewer)c=this.webViewer.myViewer.movePage(n,o);else{var f=this.getCurrentDataSet();if(!f)return!1;f.children.length>o&&(this.currentSelected=[o]),c=this.space.move({docUid:f.uid,type:f.type,from:n,to:o})}return c||this.setError("Default"),c}},{key:"switchImage",value:function(n,o){this.e();var s=og(n,10),u=og(o,10);if(af(n)||af(o))return this.setError("InvalidIndex"),!1;var l=this.getHowManyImagesInBuffer(),c=this.getCurrentIndex();if(s<0||s>=l||u<0||u>l)return this.setError("IndexOutOfRange"),!1;var f=!1;if(this.webViewer)f=this.webViewer.myViewer.switchPage(n,o);else{var m=this.getCurrentDataSet();if(!m)return!1;f=this.space.switch({docUid:m.uid,type:m.type,one:n,other:o})}f||this.setError("Default");var v=c;return s===c?v=u:u===c&&(v=s),this.currentSelected=[v],f}},{key:"moveImageToFile",value:function(n,o,s,u){if(!this.space.isFileExisted(n)||!this.space.isFileExisted(s))return this.setError("FileNotExist"),!1;o=Sn(new Oue(o));var l=this.getDocumentInfo(n).length;if(!dc(o)||o.length>l)return this.setError("ParameterOutRange"),!1;var c=this.getDocumentInfo(s).length,f=this.space.movePagesToFile(n,o,s,u);if(!this.webViewer&&this.isActiveFile){var m=this.getHowManyImagesInBuffer();n===this.currentFileName&&(this.currentSelected=m>0?[m-1]:[]),s===this.currentFileName&&(Pl(u)&&u<c&&u>=0?this.currentSelected=[u+o.length-1]:this.currentSelected=m>0?[m-1]:[])}return f}}]),r}();HTMLCanvasElement.prototype.toBlob||BB(HTMLCanvasElement.prototype,"toBlob",{value:function(r,n,o){for(var s=atob(this.toDataURL(n,o).split(",")[1]),u=s.length,l=new Uint8Array(u),c=0;c<u;c++)l[c]=s.charCodeAt(c);r(new Blob([l],{type:n||"image/png"}))}});var vf=function(r){function n(o){var s;if(h(this,n),s=d(this,n),o)s._baseUrl=o._baseUrl,s._buffer=o._buffer,s._serverIdMap=o._serverIdMap,s._uidMap=o._uidMap;else{var u=s,l={bufferChanged:function(c,f){u.fire("bufferChanged",[c,f])},viewerError:{setError:function(c,f){u._error={code:c,message:f},u.fire("error",u._error)}}};s._baseUrl="",s._buffer=new Que(l),s._serverIdMap={},s._uidMap={}}return s}return F(n,r),y(n,[{key:"getError",value:function(){return this._error}},{key:"BaseUrl",get:function(){return this._baseUrl}},{key:"getImageUrl",value:function(o){var s=this.convertClientIndexToServerId(o),u=Date.now();return ar.getImageUrl(this._baseUrl,s,-1,-1,u)}},{key:"getMinImageUrl",value:function(o,s,u){var l=this.convertClientIndexToServerId(o),c=Date.now();return l&&s&&u?ar.getImageUrl(this._baseUrl,l,parseInt(s),parseInt(u),c):""}},{key:"append",value:function(o,s,u,l,c){var f,m,v,S,_=Date.now(),b=s,I=u;if(f={imageId:b,serverId:s,uidFromServer:I,imageUrl:v=ar.getImageUrl(this._baseUrl,b,-1,-1,_),minImageUrl:m=l&&l.controlWidth&&l.controlWidth>0&&l.controlHeight&&l.controlHeight>0?B.navInfoSync.bMobile?ar.getImageUrl(this._baseUrl,b,Math.round(l.controlWidth*devicePixelRatio),Math.round(l.controlHeight*devicePixelRatio),_):ar.getImageUrl(this._baseUrl,b,parseInt(l.controlWidth),parseInt(l.controlHeight),_):v},S=l.currentFileName.length>0?this._buffer.addImage(f,l,l.currentFileName):this._buffer.addImage(f,l)){var A=O(S,1)[0],P=this._buffer.getCustomDataByUid(A);return P.serverId=b,P.uidFromServer=I,this._innerInsertModel(b,I,A,v,m),A}return!1}},{key:"insertBefore",value:function(o,s,u,l,c){var f,m,v,S=Date.now(),_=u,b=l;f={index:o,imageId:_,serverId:_,uidFromServer:b,imageUrl:v=ar.getImageUrl(this._baseUrl,_,-1,-1,S),minImageUrl:m=c&&c.controlWidth&&c.controlWidth>0&&c.controlHeight&&c.controlHeight>0?B.navInfoSync.bMobile?ar.getImageUrl(this._baseUrl,_,Math.round(c.controlWidth*devicePixelRatio),Math.round(c.controlHeight*devicePixelRatio),S):ar.getImageUrl(this._baseUrl,_,parseInt(c.controlWidth),parseInt(c.controlHeight),S):v};var I=this._buffer.addImage(f);if(I){var A=O(I,1)[0],P=this._buffer.getCustomDataByUid(A);return P.serverId=_,P.uidFromServer=b,this._innerInsertModel(_,b,A,v,m),this._buffer.openDocument(this.getCurrentFileName()),A}return!1}},{key:"_innerInsertModel",value:function(o,s,u,l,c){var f=new h_;f.serverId=o,f.uidFromServer=s,f.uuid=u,f.imageUrl=l,f.minImageUrl=c,this._serverIdMap[o]=f,this._uidMap[s]=f}},{key:"refresh",value:function(o,s,u,l){var c=1*o;if(u){var f=this.count();if(c<0||c>f)return!1;this._setDataImageControl(c,l)}return!0}},{key:"refreshByImageId",value:function(o,s,u){var l=o;return s&&this._setDataImageControl(l,u,!0),!0}},{key:"_setDataImageControl",value:function(o,s,u){var l,c,f,m,v,S,_=this,b=_._baseUrl;if(u)v=o;else if(v=(m=_.getCustomDataByIndex(o)).serverId,S=m.uidFromServer,v<=0)return!1;if((l=_.getImageIdMap(v))||((l=new h_).serverId=v,l.uidFromServer=S,_._serverIdMap[v]=l,_._uidMap[S]=l),b){l!=null&&(l.ticks=Date.now()),c=ar.getImageUrl(b,v,-1,-1,l.ticks),f=s&&s.controlWidth&&s.controlWidth>0&&s.controlHeight&&s.controlHeight>0?B.navInfoSync.bMobile?ar.getImageUrl(b,v,Math.round(s.controlWidth*devicePixelRatio),Math.round(s.controlHeight*devicePixelRatio),l.ticks):ar.getImageUrl(b,v,parseInt(s.controlWidth),parseInt(s.controlHeight),l.ticks):c,l.imageUrl=c,l.minImageUrl=f,s&&(s.height&&(l.height=s.height),s.width&&(l.width=s.width));var I=p.clone(l);I.imageId=v,_._buffer.updateImage(I,s)}return!0}},{key:"convertIndicesToServerIds",value:function(o){var s,u=o.length,l=[];for(s=0;s<u;s++){var c=this.convertClientIndexToServerId(o[s]);c!=-1&&l.push(c)}return l}},{key:"removeImagesByServerId",value:function(o,s){var u=this,l=s??this._buffer.getCurrentDocument(),c=[];return p.each(o,function(f,m){var v=parseInt(f);u._removeMapModelImageControlByServerId(v);var S=-1;return S=u._buffer.isActiveFile?u._convertServerIdToIndexInFile(l,v):u._convertServerIdToIndex(v),!isNaN(S)&&!(S<0||S>=u.count())&&void c.push(S)}),c.length>0&&u._buffer.removeImageByIndexArr(c)}},{key:"removeByServerId",value:function(o,s,u){var l=this,c=u??this._buffer.getCurrentDocument();l._removeMapModelImageControlByServerId(o);var f=-1;return f=this._buffer.isActiveFile?this._convertServerIdToIndexInFile(c,o):s,!isNaN(f)&&!(f<0||f>=l.count())&&l._buffer.removeImageByIndex(f)}},{key:"exists",value:function(o){if(this._serverIdMap[o])return!0;var s=-1;if(this._buffer.isActiveFile){var u=this.getCurrentFileName();s=this._convertServerIdToIndexInFile(u,o)}else s=this._convertServerIdToIndex(o);return s>-1}},{key:"removeImages",value:function(o){var s,u,l;for(l=o.length,s=0;s<l;s++)u=this.convertClientIndexToServerId(o[s]),this._removeMapModelImageControlByServerId(u);return this._buffer.removeSelectedImages(o)}},{key:"clear",value:function(){var o,s,u,l=this;for(u=l.count(),o=0;o<u;o++)s=l.convertClientIndexToServerId(o),this._removeMapModelImageControlByServerId(s);return u==Object.keys(l._serverIdMap).length&&(l._serverIdMap={},l._uidMap={}),l._buffer.removeAllImages()}},{key:"_uidFromServer2index",value:function(o){var s,u,l,c=this;if((l=c._uidMap[o])&&(u=l.uuid),u&&u!=-1)s=c._buffer.getIndexByUid(u);else if(c._buffer.isActiveFile){var f=this.getCurrentFileName();s=this._convertUidFromServerToIndexInFile(f,o)}else s=this._convertUidFromServerToIndex(o);return p.isNumber(s)||(s=-1),s}},{key:"_serverId2uidFromServer",value:function(o){if(o&&o>0){var s,u,l;if((l=this._serverIdMap[o])&&(u=l.uidFromServer))return u;if((s=this.convertServerIdToClientIndex(o))>=0)return this._index2uidFromServer(s)}return-1}},{key:"_uidFromServer2ServerId",value:function(o){if(o){var s,u,l;if((l=this._uidMap[o])&&(u=l.serverId))return u;if((s=this._uidFromServer2index(o))>=0)return this.convertClientIndexToServerId(s)}return-1}},{key:"_index2uidFromServer",value:function(o){var s=this.getCustomDataByIndex(o);return s?s.uidFromServer:-1}},{key:"convertServerIdToClientIndex",value:function(o){var s,u,l,c=this;if((l=c._serverIdMap[o])&&(u=l.uuid),u&&u!=-1)s=c._buffer.getIndexByUid(u);else if(c._buffer.isActiveFile){var f=this.getCurrentFileName();s=this._convertServerIdToIndexInFile(f,o)}else s=this._convertServerIdToIndex(o);return p.isNumber(s)||(s=-1),s}},{key:"getIndexByUid",value:function(o){var s;return(s=this._buffer.getIndexByUid(o))===!1?-1:s}},{key:"getUidByIndex",value:function(o){return this._buffer.getUidByIndex(o)}},{key:"convertClientIndexToServerId",value:function(o){var s=this.getCustomDataByIndex(o);return s?s.serverId:-1}},{key:"getCurrentImageIndex",value:function(){var o=this._buffer.getCurrentIndex();return p.isBoolean(o)?-1:o}},{key:"setCurrentImageIndex",value:function(o){return this._buffer.selectImages([o])}},{key:"getCurrentFileName",value:function(){return this._buffer.getCurrentFileName()}},{key:"setDefaultTag",value:function(o){return this._buffer.setDefaultTag(o)}},{key:"getDefaultTag",value:function(){return this._buffer.getDefaultTag()}},{key:"count",value:function(){return this._buffer.getHowManyImagesInBuffer()}},{key:"getCountByDocumentName",value:function(o){return this._buffer.getDocumentInfo(o).length}},{key:"dispose",value:function(){this.clear()}},{key:"getImageData",value:function(o){var s=this._buffer.getUidByIndex(o);return s?this._buffer.getDataByUid(s):V.Promise.resolve(null)}},{key:"getCustomDataByIndex",value:function(o){return this._buffer.getCustomDataByUid(this._buffer.getUidByIndex(o))}},{key:"getMetadataByIndex",value:function(o){return this._buffer.getMetadataByUid(this._buffer.getUidByIndex(o))}},{key:"setCustomData",value:function(o,s){var u=this._buffer.getUidByIndex(o);return!(!u||!s)&&this._buffer.setCustomDataByUid(u,s)}},{key:"openDocument",value:function(o){return this._buffer.openDocument(o)}},{key:"createDocument",value:function(o){return this._buffer.createDocument(o)}},{key:"getImageIdMap",value:function(o){return this._serverIdMap[o]}},{key:"_removeMapModelImageControlByServerId",value:function(o){var s=this;if(o>0&&s._serverIdMap[o]){var u=s._serverIdMap[o],l=u.uidFromServer;u.Clear(),delete s._serverIdMap[o],delete s._uidMap[l]}}},{key:"_convertServerIdToIndexInFile",value:function(o,s){var u,l,c=-1;for(u=this._buffer.getDocumentContents(o),l=0;l<u.length;l++){var f=u[l];if(f){var m=this._buffer.getCustomDataByUid(f);if(m&&m.serverId==s){c=l;break}}}return c}},{key:"_convertServerIdToIndex",value:function(o){var s,u=-1;for(s=0;s<this.count();s++){var l=this._buffer.getUidByIndex(s);if(l){var c=this._buffer.getCustomDataByUid(l);if(c&&c.serverId==o){u=s;break}}}return u}},{key:"_convertUidFromServerToIndexInFile",value:function(o,s){var u,l,c=-1;for(u=this._buffer.getDocumentContents(o),l=0;l<u.length;l++){var f=u[l];if(f){var m=this._buffer.getCustomDataByUid(f);if(m&&m.uidFromServer==s){c=l;break}}}return c}},{key:"_convertUidFromServerToIndex",value:function(o){var s,u=-1;for(s=0;s<this.count();s++){var l=this._buffer.getUidByIndex(s);if(l){var c=this._buffer.getCustomDataByUid(l);if(c&&c.uidFromServer==o){u=s;break}}}return u}},{key:"convertUUIDToServerId",value:function(o){var s=this._buffer.getCustomDataByUid(o);return s&&s.serverId!=-1?s.serverId:-1}},{key:"UpdateImage",value:function(o,s){return this._buffer.updateImage(o,s),!0}}],[{key:"_setBaseUrl",value:function(o,s){o._baseUrl=s}},{key:"_getBuffer",value:function(o){return o._buffer}}])}(LT),Xue=function(r){function n(u){var l;h(this,n);var c=l=d(this,n,[u]);l.__IfAppendImage=rt,l.__maxImagesInBuffer=32767,l.__insertingIndex=-1,l._aryBitmapCache=[],l._imageBufferWrapper=new vf,l._imageBufferWrapper.on("bufferChanged",function(m){if(p.isFunction(c.__OnBufferChanged)){var v,S=m[0],_=[],b=-1,I=[];S.operation&&(S.action=S.operation);for(var A=0;A<c._imageBufferWrapper.count();A++)(v=c._imageBufferWrapper.getCustomDataByIndex(A))&&v.serverId&&_.push(c._imageBufferWrapper._serverId2uidFromServer(v.serverId));if(S.imageIds=_,S.curIndex>=0&&(v=c._imageBufferWrapper.getCustomDataByIndex(S.curIndex))&&v.serverId&&(b=c._imageBufferWrapper._serverId2uidFromServer(v.serverId)),S.currentId=b,S.operation=="modify"&&S.afterStatus.modifiedUid!=""){var P=c._imageBufferWrapper.getIndexByUid(S.afterStatus.modifiedUid);P>=0&&(v=c._imageBufferWrapper.getCustomDataByIndex(P))&&v.serverId&&(S.modifiedId=c._imageBufferWrapper._serverId2uidFromServer(v.serverId))}if(S.afterStatus.selectedUids)for(var L=0;L<S.afterStatus.selectedUids.length;L++){var $=S.afterStatus.selectedUids[L];if($&&$!=-1){var ee=c._imageBufferWrapper.getIndexByUid(S.afterStatus.selectedUids[L]);ee>=0&&(v=c._imageBufferWrapper.getCustomDataByIndex(ee))&&v.serverId&&I.push(c._imageBufferWrapper._serverId2uidFromServer(v.serverId))}}S.selectedIds=I,p.mix(S,{}),delete S.uids,delete S.currentUid,delete S.selectedUids,delete S.afterStatus,delete S.beforeStatus,delete S.operation,delete S.curIndex,delete S.docUid;try{return c.__OnBufferChanged(S)}catch(q){vr(q)}}}),l._imageBufferWrapper.on("error",function(m){c._errorCode=m.code,c._errorString=m.message});var f=Ui.getServerImageUrlPrefix(l);return vf._setBaseUrl(l._imageBufferWrapper,f),l}return F(n,r),y(n,[{key:"_OnActiveUIClearBuffer",value:function(){var u=this.__OnBufferChanged;this.__OnBufferChanged=null,this._imageBufferWrapper.clear(),this.__OnBufferChanged=u}},{key:"_registerMultiEvent",value:function(u,l){var c=this;if(c._resetErr(),!c._isValid())return!1;var f=["_$",u].join("");c[f]||(c[f]={});var m=c[f],v=p.guid();return m[v]=l,v}},{key:"_unregisterMultiEvent",value:function(u,l){var c=this;if(c._resetErr(),!c._isValid())return!1;var f=["_$",u].join(""),m=c[f];if(l){var v;if(p.isString(l))return delete m[l],rt;if(p.isFunction(l)){for(v=0;v<m.length;v++)if(l==m[v])return m.splice(v,1),rt}}return c[f]=null,rt}},{key:"_getMetadata",value:function(u){return this._imageBufferWrapper.getMetadataByIndex(u)}},{key:"_updateImage",value:function(u,l,c){var f,m,v,S,_=gp.Auto,b=this;return c&&(c.width!=null&&(v=parseInt(c.width)),c.height!=null&&(S=parseInt(c.height)),_=p.isNumber(v)&&p.isNumber(S)&&l.byteLength===v*S*4?gp.RGBA:gp.Auto),f={imageId:u,serverId:u,bufferLen:l.byteLength,imageType:_},c&&_==gp.RGBA&&(f.width=v,f.height=S,c.bitDepth!=null&&(f.bit=c.bitDepth),c.resolutionX!=null&&(f.xres=parseInt(c.resolutionX)),c.resolutionY!=null&&(f.yres=parseInt(c.resolutionY)),c.uid!=null&&(f.uidFromServer=c.uid)),m=p.stringify([p.stringify(f)]),new V.Promise(function(I,A){b._innerSendBlobByWS("UpdateImage",m,l,function(P){p.log("UpdateImage success."),I(P)},function(P){p.log("UpdateImage failed."),p.error(P),A({code:b._errorCode,message:b._errorString})})})}},{key:"_removeImages",value:function(u){return this._imageBufferWrapper.removeImages(u)}},{key:"_getCurrentDocumentName",value:function(){var u="";return this._imageBufferWrapper&&(u=this._imageBufferWrapper.getCurrentFileName()),u}},{key:"_getCurrentDefaultTagName",value:function(){var u="";return this._imageBufferWrapper&&(u=this._imageBufferWrapper.getDefaultTag()||""),u}},{key:"_innerRefreshUI",value:function(u,l,c,f,m){var v=this;return c&&v._imageBufferWrapper.refresh(u,v._imageBufferWrapper.count(),!0,f),p.isFunction(v.__OnRefreshUI)&&v.__OnRefreshUI(v._imageBufferWrapper.getCurrentImageIndex(),v._imageBufferWrapper.count()),!0}},{key:"_innerRefreshUIByImageId",value:function(u,l,c,f){var m=this;return l&&m._imageBufferWrapper.refreshByImageId(u,!0,c),p.isFunction(m.__OnRefreshUI)&&m.__OnRefreshUI(m._imageBufferWrapper.getCurrentImageIndex(),m._imageBufferWrapper.count()),!0}},{key:"_getHowManyImagesInBuffer",value:function(){return this._isValid()?this._imageBufferWrapper.count():0}},{key:"_OnBitmapChanged",value:function(u,l,c){var f,m,v,S=this,_=u[0]=="m1",b=u[0]=="c1",I=u[0]=="c2",A=b||I||_,P=u[1].split(","),L=u[2],$=u[3],ee=S.__maxImagesInBuffer,q=-1,Q=!1,J=[];if(c&&(f=c.document,m=c.tag,c.bNeedClearTag&&(v=c.bNeedClearTag)),p.log("_OnBitmapChanged.currentFileName="+f+", tag="+m),f?f!=S._getCurrentDocumentName()&&(Q=!0):f=S._getCurrentDocumentName(),S._imageBufferWrapper&&(m?(S._imageBufferWrapper.setDefaultTag(m),p.log("metaDataObj.currentTag="+m)):v&&(S._imageBufferWrapper.setDefaultTag(""),p.log("metaDataObj.currentTag=''"))),!_)if(I)u.length>5&&(J=u[5]),p.isArray(J)||(J=[]);else{var te={};if(u.length>5&&(te.width=u[5]),u.length>6&&(te.height=u[6]),u.length>7&&(te.bitDepth=u[7]),u.length>8&&(te.resolutionX=u[8]),u.length>9&&(te.resolutionY=u[9]),u.length>10&&(q=u[10]),u.length>11&&p.isString(u[11])&&(te.uidFromServer=u[11]),J.push(te),q>-1&&S._canConsume()&&(L==vn.enumBCAppend||L==vn.enumBCInsert)){var H=B.DWT.lgct(q);p.isFunction(S.__OnLtsverify)&&S.__OnLtsverify(H,1)}}if(p.log("OnBitmapChanged:"+u),L==vn.enumBCInsert||L==vn.enumBCAppend&&!S.__IfAppendImage||c&&L==vn.enumBCAppend&&c.index>=0)p.each(P,function(ie,se){var re,ae,Se=parseInt(ie),ge=S._imageBufferWrapper.getCurrentImageIndex();if(se<J.length&&J[se]?(re=(ae=J[se]).uidFromServer,delete ae.uidFromServer):ae={},ae.currentFileName=f,isNaN(Se)||Se<0)return!0;if(A)S._aryBitmapCache.push(Se);else for(var ve=0;ve<S._aryBitmapCache.length;ve++)if(S._aryBitmapCache[ve]==Se)return S._aryBitmapCache.splice(ve,1),!0;if(S._imageBufferWrapper.exists(Se))return!0;S.__insertingIndex>-1&&(ge=S.__insertingIndex),ae.controlWidth=400,ae.controlHeight=400,S._controlWidth&&S._controlWidth>400&&(ae.controlWidth=S._controlWidth),S._controlHeight&&S._controlHeight>400&&(ae.controlHeight=S._controlHeight),ge==-1&&(ge=0),c.index>=0&&(ge=c.index),S._imageBufferWrapper.insertBefore(ge,ee,Se,re,ae),S.__insertingIndex>-1&&(S.__insertingIndex=S.__insertingIndex+1),c.index++}),p.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count());else if(L==vn.enumBCAppend&&S.__IfAppendImage)p.each(P,function(ie,se){var re,ae,Se=parseInt(ie);if(isNaN(Se)||Se<0)return!0;if(se<J.length&&J[se]?(re=(ae=J[se]).uidFromServer,delete ae.uidFromServer):ae={},ae.currentFileName=f,p.log("metaDataObj.currentFileName="+f),A)S._aryBitmapCache.push(Se);else for(var ge=0;ge<S._aryBitmapCache.length;ge++)if(S._aryBitmapCache[ge]==Se)return S._aryBitmapCache.splice(ge,1),!0;if(S._imageBufferWrapper.exists(Se))return!0;ae.controlWidth=400,ae.controlHeight=400,S._controlWidth&&S._controlWidth>400&&(ae.controlWidth=S._controlWidth),S._controlHeight&&S._controlHeight>400&&(ae.controlHeight=S._controlHeight),Q?S._imageBufferWrapper.append(ee,Se,re,ae,f):S._imageBufferWrapper.append(ee,Se,re,ae)}),p.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count());else if(L==vn.enumBCRemove&&A){var k=!1;if(P.length==1&&P[0]==-1&&(k=!0),k)S._imageBufferWrapper.clear();else{var M=[];p.each(P,function(ie,se){var re=parseInt(ie);if(isNaN(re)||re<0)return!0;M.push(re)}),S._imageBufferWrapper.removeImagesByServerId(M,f)}p.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count())}else if(L==vn.enumBCEdit||L==vn.enumBCUpdate)p.each(P,function(ie,se){var re,ae=parseInt(ie);if(isNaN(ae)||ae<0)return!0;if(se<J.length&&J[se]?delete(re=J[se]).uidFromServer:re={},re.currentFileName=f,ae>=0&&!S.__bLoadingImage){var Se=S._imageBufferWrapper.convertServerIdToClientIndex(ae);Se>-1?S._innerRefreshUI(Se,S._imageBufferWrapper.count(),!0,re,L):c.bNeedRefresh&&S._innerRefreshUIByImageId(ae,!0,re,L)}});else if(L==vn.enumBCIndexChange){var U;$>=0&&!S.__bLoadingImage&&((U=0<J.length&&J[0]?J[0]:{}).currentFileName=f,S.__IfAppendImage==0&&S._innerRefreshUI($,S._imageBufferWrapper.count(),!0,U,L),S._imageBufferWrapper.refresh($,S._imageBufferWrapper.count(),!1,U))}if(p.isFunction(S.__OnBitmapChanged)){if(!_){if(A){if(L!=vn.enumBCRemove){if(!ue.bFirefox&&A)return!0}}else if(L==vn.enumBCRemove||ue.bFirefox&&!A)return!0}var G=[];p.each(P,function(ie){var se,re=parseInt(ie);if(isNaN(re)||re<0)return!0;(se=S._imageBufferWrapper.convertServerIdToClientIndex(re))>-1&&G.push(se)});var z=S._imageBufferWrapper.getCurrentImageIndex(),Z=L;L==vn.enumBCAppend&&(Z=S.__IfAppendImage?vn.enumBCAppend:vn.enumBCInsert),S.__OnBitmapChanged(G,Z,z,S._imageBufferWrapper.count())}}},{key:"_removeImageAsync",value:(s=a(E().mark(function u(l,c){var f,m,v;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(f=this,m=parseInt(c),Ln(f,m)){S.next=4;break}return S.abrupt("return",!1);case 4:return v=f._imageBufferWrapper.convertClientIndexToServerId(m),S.next=7,f._removeImageByIdAsync(v);case 7:return S.abrupt("return",S.sent);case 8:case"end":return S.stop()}},u,this)})),function(u,l){return s.apply(this,arguments)})},{key:"_removeImageByIdAsync",value:(o=a(E().mark(function u(l){var c,f;return E().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(c=this,l!=-1){m.next=4;break}return qe(c),m.abrupt("return",!1);case 4:return m.next=6,c._innerFunV2("RemoveImage",Ve(l));case 6:return((f=m.sent)||c._errorCode==-1033)&&c._OnBitmapChanged(["c1",""+l,3,c._imageBufferWrapper.getCurrentImageIndex(),c._imageBufferWrapper.count()]),m.abrupt("return",f);case 9:case"end":return m.stop()}},u,this)})),function(u){return o.apply(this,arguments)})}]);var o,s}(Ui),Ba=function(r){return r.Text=0,r.Blob=1,r.ArrayBuffer=2,r.XML=3,r.JSON=4,r.UserDefined=5,r}({}),Lt=function(r){return r.Other=0,r.HTTPUpload=1,r.HTTPDownload=2,r.FTPUpload=3,r.FTPDownload=4,r.Scan=5,r.LoadImage=6,r.ConvertToBlob=7,r.HTTPPut=8,r}({}),Lo={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function Jue(r,n){if(p.isFunction("_".repeat))return r.repeat(n);for(var o=0,s=[];o<n;o++)s.push(r);return s.join("")}var qw=Object.create?Object.create(null):{};function Zw(r,n,o,s){return function(u,l){var c,f,m,v,S,_,b,I,A,P=1,L=u.length,$="";for(f=0;f<L;f++)if(typeof u[f]=="string")$+=u[f];else if(D(u[f])==="object"){if((v=u[f]).keys)for(c=l[P],m=0;m<v.keys.length;m++){if(c==null)throw new Error(Zw('[sprintf] Cannot access property "%s" of undefined value "%s"',v.keys[m],v.keys[m-1]));c=c[v.keys[m]]}else c=v.param_no?l[v.param_no]:l[P++];if(Lo.not_type.test(v.type)&&Lo.not_primitive.test(v.type)&&c instanceof Function&&(c=c()),Lo.numeric_arg.test(v.type)&&typeof c!="number"&&isNaN(c))throw new TypeError(Zw("[sprintf] expecting number but found %T",c));switch(Lo.number.test(v.type)&&(I=c>=0),v.type){case"b":c=parseInt(c,10).toString(2);break;case"c":c=String.fromCharCode(parseInt(c,10));break;case"d":case"i":c=parseInt(c,10);break;case"j":c=p.stringify(c,null,v.width?parseInt(v.width):0);break;case"e":c=v.precision?parseFloat(c).toExponential(v.precision):parseFloat(c).toExponential();break;case"f":c=v.precision?parseFloat(c).toFixed(v.precision):parseFloat(c);break;case"g":c=v.precision?String(Number(c.toPrecision(v.precision))):parseFloat(c);break;case"o":c=(parseInt(c,10)>>>0).toString(8);break;case"s":c=String(c),c=v.precision?c.substring(0,v.precision):c;break;case"t":c=String(!!c),c=v.precision?c.substring(0,v.precision):c;break;case"T":c=Object.prototype.toString.call(c).slice(8,-1).toLowerCase(),c=v.precision?c.substring(0,v.precision):c;break;case"u":c=parseInt(c,10)>>>0;break;case"v":c=c.valueOf(),c=v.precision?c.substring(0,v.precision):c;break;case"x":c=(parseInt(c,10)>>>0).toString(16);break;case"X":c=(parseInt(c,10)>>>0).toString(16).toUpperCase()}Lo.json.test(v.type)?$+=c:(!Lo.number.test(v.type)||I&&!v.sign?A="":(A=I?"+":"-",c=c.toString().replace(Lo.sign,"")),_=v.pad_char?v.pad_char==="0"?"0":v.pad_char.charAt(1):" ",b=v.width-(A+c).length,S=v.width&&b>0?Jue(_,b):"",$+=v.align?A+c+S:_==="0"?A+S+c:S+A+c)}return $}(function(u){if(qw[u])return qw[u];for(var l,c=u,f=[],m=0;c;){if((l=Lo.text.exec(c))!==null)f.push(l[0]);else if((l=Lo.modulo.exec(c))!==null)f.push("%");else{if((l=Lo.placeholder.exec(c))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(l[2]){m|=1;var v=[],S=l[2],_=[];if((_=Lo.key.exec(S))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(v.push(_[1]);(S=S.substring(_[0].length))!=="";)if((_=Lo.key_access.exec(S))!==null)v.push(_[1]);else{if((_=Lo.index_access.exec(S))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");v.push(_[1])}l[2]=v}else m|=2;if(m===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");f.push({placeholder:l[0],param_no:l[1],keys:l[2],sign:l[3],pad_char:l[4],align:l[5],width:l[6],precision:l[7],type:l[8]})}c=c.substring(l[0].length)}return qw[u]=f,f}(r),arguments)}function ho(r,n){if(p.isString(r)){var o,s,u,l,c,f=r.indexOf("<%");if(f==-1||(s=r.substring(0,f),!(f+2<(o=r.indexOf(">",s)))))return r;u=r.substring(f+1,o),l=r.substring(o+1);try{c=Zw(u,n)}catch{c=""}return[s,c,l].join("")}return""}function w0(r,n){var o,s=r.substring(r.lastIndexOf(".")).toLowerCase();if(n==B.DWT.EnumDWT_ImageType.IT_BMP){if(s==".bmp"||s==".dib")return r;o=[r,".bmp"].join("")}else if(n==B.DWT.EnumDWT_ImageType.IT_JPG){if(s==".jpg"||s==".jpe"||s==".jpeg"||s==".jfif")return r;o=[r,".jpg"].join("")}else if(n==B.DWT.EnumDWT_ImageType.IT_PNG){if(s==".png")return r;o=[r,".png"].join("")}else if(n==B.DWT.EnumDWT_ImageType.IT_TIF){if(s==".tif"||s==".tiff")return r;o=[r,".tif"].join("")}else if(n==B.DWT.EnumDWT_ImageType.IT_PDF){if(s==".pdf")return r;o=[r,".pdf"].join("")}else if(n==B.DWT.EnumDWT_ImageType.IT_J2K){if(s==".jp2")return r;o=[r,".jp2"].join("")}return o}function QB(r,n,o,s){var u,l,c,f,m=n.url,v=n.headers,S=n.retry,_=n.httpFormData,b=n.bOnlyResponseEmptyIsOK,I=n.bAsync,A=(l=n.responseType)==Ba.Text?"text":l==Ba.JSON?"json":l==Ba.Blob?"blob":l==Ba.ArrayBuffer?"arraybuffer":l==Ba.XML?"xml":l==5?"user-defined":"text",P=r.IfShowProgressBar,L=r.IfShowCancelDialogWhenImageTransfer,$=r.objUploadStatus;(u=n.content)&&(u.remoteFilename||(u.remoteFilename=n.remoteFilename),u.fileName||(u.fileName=n.fileName||u.name),u.name||(u.name=n.fileName||u.fileName));var ee,q=new $u({action:m,data:_,async:I,retry:S,bOnlyResponseEmptyIsOK:b,dataType:A});if(L&&V.progressContext&&(ee=V.progressContext.on("cancel",function(){q.abort(),q=null})),(c=q._uploadType)&&(f=c.get("ajaxConfig"),v&&f&&f.headers&&v&&p.mix(f.headers,v),r.HTTPRequestswithCredentials&&p.mix(f.xhrFields,{withCredentials:!0}),f=null),q.on($u.event.SUCCESS,function(H){if(n.content=null,q=null,ee&&V.progressContext.off("cancel",ee),H?r.HTTPPostResponse=H.response:n.responseType==Ba.ArrayBuffer?r.HTTPPostResponse=[]:n.responseType==Ba.Blob?r.HTTPPostResponse=new Blob([]):n.responseType==Ba.JSON?r.HTTPPostResponse={}:r.HTTPPostResponse="",p.isFunction(r.onHttpUploadStatus)){var k;k={fileName:H.name,percentage:100,statusCode:200,responseString:r.HTTPPostResponse},r.onHttpUploadStatus(k)}p.isFunction(o)&&o(r.HTTPPostResponse)}),q.on($u.event.ERROR,function(H){n.content=null,q=null;var k=H&&H.canceled;H&&H.timeout;var M="",U=0;ee&&V.progressContext.off("cancel",ee),H&&p.isString(H.response)?r.HTTPPostResponse=H.response:r.HTTPPostResponse="",k||(H&&H.msg&&(M=H.msg),H&&H.httpStatus&&(U=H.httpStatus));var G,z={};hT(z,k,M,U),p.isFunction(r.onHttpUploadStatus)&&(G={fileName:H.name,percentage:100,statusCode:U,responseString:r.HTTPPostResponse},r.onHttpUploadStatus(G)),p.isFunction(s)&&s(z._errorCode,z._errorString,r.HTTPPostResponse,U)}),(P||p.isFunction(r.onHttpUploadStatus))&&(q.on($u.event.PROGRESS,function(H){!ue.bSafari&&H&&(delete H.totalSize,delete H.position);var k=H.total===0?100:Math.round(100*H.loaded/H.total);if([H.loaded," / ",H.total].join(""),p.isFunction(r.onHttpUploadStatus)){var M;M={fileName:H.name,percentage:k,statusCode:0,responseString:""},r.onHttpUploadStatus(M)}r.onPercent([0,k,"","http",H.name])}),r.onPercent([0,-1,br.Uploading,"http"]),p.isFunction(r.onHttpUploadStatus))){var Q="";p.isArray(u)&&u.length>0||(u&&u.name&&u.name!=""?Q=u.name:u&&u.fileName&&(Q=u.fileName)),!Q&&n.fileName&&(Q=n.fileName),r.onHttpUploadStatus({fileName:Q,percentage:0,statusCode:0,responseString:""})}if($&&$.bCancel){$.st=2;var J={};return ko(J),n.content=null,p.isFunction(s)&&s(J._errorCode,J._errorString),!1}var te=q.upload(u);return u=null,te}function XB(r,n,o,s){var u,l,c=r.MaxUploadImageSize,f=0,m=n.content;if(!m||!p.isArray(m)||m.length<=0){n.content=null;var v={};return an(v),p.isFunction(s)&&s(v._errorCode,v._errorString),xe}for(u=0;u<m.length;u++){var S=m[u];if(!S||S.size<=0){var _={};return an(_),p.isFunction(s)&&s(_._errorCode,_._errorString),xe}var b=S.size,I=S.type;if(f+=b,I===""||I&&I!=n.contentType){var A=S.slice||S.webkitSlice||S.mozSlice,P=S.name,L=A.call(S,0,b,n.contentType);p.isString(P)&&P!=""||(P=S.fileName),L.name=ho(P,u+1),m[u]=L}m[u].remoteFilename=ho(n.remoteFilename,u+1),S=null}if(f>c&&c!=-1){var $={};return fs($),p.isFunction(s)&&s($._errorCode,$._errorString),xe}for(V.cancelFrom=Lt.HTTPUpload,l=QB(r,n,o,s),n=null,u=0;u<m.length;u++)m[u]=null;return m=null,l}function cu(r){V.dlgRef<=0||V.dialogShowStatus==0||Xs(r)}V.setBtnCancelVisibleForProgress=Xs;var Cs=function(){return y(function r(){h(this,r)},[{key:"_onProgress",value:function(r,n,o){var s=o.total===0?100:Math.round(100*o.loaded/o.total);[o.loaded," / ",o.total].join(""),r.onPercent([0,s,"","http",n])}},{key:"_uploadBlobFragment",value:function(r,n,o,s){var u=n.fileName,l=n.blockSize,c=0;n.method;var f,m,v,S=n.offset,_=this,b=function(ee,q){n.content=null,p.isFunction(s)&&s(ee,q)};if((f=n.content).size<=0){var I={};return an(I),b(I._errorCode,I._errorString),xe}if(c=f.size,(m=c-S)>0){var A;if(m>=l&&l>0?(m-=l,v=l):(v=m,m=0),!(A=S==0&&v==c?f:f.slice(S,S+v))){var P={};an(P),b(P._errorCode,P._errorString)}if(!r.IfShowProgressBar||r.IfShowProgressBar&&V.dlgRef>0){A.name=u,cu(r.IfShowCancelDialogWhenImageTransfer),n.headers["Content-Range"]=["bytes ",S,"-",S+A.size-1,"/",c].join(""),_._onProgress(r,u,{total:c,loaded:S});var L=p.clone(n);return L.content=A,L.offset=0,_.httpPostUpload(r,L,function(ee){m==0&&(V.needShowTwiceShowDialog=!1),_._onProgress(r,u,{total:c,loaded:S+v}),m==0?(n.content=null,p.isFunction(o)&&_n(o,ee)):(n.offset=n.offset+v,setTimeout(function(){_._uploadBlobFragment(r,n,o,b)},100))},b),!0}var $={};return ko($),b($._errorCode,$._errorString),!1}return V.needShowTwiceShowDialog=!1,n.content=null,p.isFunction(o)&&o(""),!0}},{key:"httpPostUploadFragment",value:function(r,n,o,s){var u;if(!(u=n.content)){var l={};return an(l),p.isFunction(s)&&s(l._errorCode,l._errorString),xe}if(p.isString(u)){if(u==""){var c={};return an(c),p.isFunction(s)&&s(c._errorCode,c._errorString),xe}var f=new Blob([u],{type:"text/plain"}),m=n.fileName;f.name=m,n.content=f,f=null}return V.cancelFrom=Lt.HTTPUpload,this._uploadBlobFragment(r,n,o,s)}},{key:"httpPostUpload",value:function(r,n,o,s){var u,l,c=n.bAsync,f=function(J,te,H,k){return n.content=null,n=null,p.isFunction(s)&&s(J,te,H,k),!1};if(!(u=n.content)){var m={};return an(m),f(m._errorCode,m._errorString),!!c&&void 0}if(p.isString(u)){var v,S=n.fileName;if(u==""){var _={};return an(_),f(_._errorCode,_._errorString),!!c&&void 0}if(v=r.MaxUploadImageSize,u.length>v&&v!=-1){var b={};return fs(b),f(b._errorCode,b._errorString),!!c&&void 0}(l=new Blob([u],{type:"text/plain"})).name=S,u=null}else if(u instanceof Blob&&(l=u,u=null,l.size<=0)){var I={};return an(I),f(I._errorCode,I._errorString),!!c&&void 0}if(l){var A,P,L=r.MaxUploadImageSize,$=l.size,ee=l.type;if($>L&&L!=-1){var q={};return fs(q),f(q._errorCode,q._errorString),!!c&&void 0}ee===""||ee&&ee!=n.contentType?(A=(l.slice||l.webkitSlice||l.mozSlice).call(l,0,$,n.contentType))instanceof File?(P=A.fileName,A.name=P):A.name=l.name||l.fileName:A=l,l=null,A&&(n.content=A),A=null}cu(r.IfShowCancelDialogWhenImageTransfer),V.cancelFrom=Lt.HTTPUpload;var Q=QB(r,n,function(J){return n.content=null,n=null,p.isFunction(o)&&o(J),J=null,!0},f);return c?void 0:!!Q}}])}(),sa=y(function r(){h(this,r),this.method="",this.httpMethod="POST",this.contentType="application/octet-stream",this.remoteFilename="RemoteFile",this.blockSize=0,this.offset=0,this.retry=0,this.bOnlyResponseEmptyIsOK=!0,this.bAsync=!0,this.responseType=Ba.Text}),JB=y(function r(){h(this,r),this.IfShowProgressBar=!1,this.IfShowCancelDialogWhenImageTransfer=!0}),hc=function(r){return r.URL=0,r.Blob=1,r.Base64=2,r}({}),E0=window.SparkMD5,eE=function(){return y(function r(n,o,s,u){h(this,r);var l=this;l._md5=s,l._length=o,l._content=u},[{key:"getLength",value:function(){return this._length}},{key:"getMD5",value:function(){return this._md5}},{key:"getData",value:function(r,n){var o=this,s=n;return p.isNumber(r)&&p.isNumber(n)?r<0||n<=0?"":r==0&&s==o._length?o._content:(r+s>o._length&&(s=o._length-r),o._content.substr(r,s)):""}}])}();V.html5.Base64Result=eE;var qB=function(r){function n(Q){var J;return h(this,n),(J=d(this,n,[Q])).__maxUploadImageSize=-1,J._strHttpContentTypeFieldValue="application/octet-stream",J}return F(n,r),y(n,[{key:"_saveBlob",value:(q=a(E().mark(function Q(J,te){var H,k;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(H=this,!B.navInfo.bIE){M.next=7;break}return M.next=5,H._innerSaveLocal(J,te);case 5:M.next=11;break;case 7:return k=URL.createObjectURL(J),M.next=10,H._innerSaveLocal(k,te);case 10:URL.revokeObjectURL(k);case 11:J=null;case 12:case"end":return M.stop()}},Q,this)})),function(Q,J){return q.apply(this,arguments)})},{key:"_saveImages",value:(ee=a(E().mark(function Q(J,te,H,k){var M,U,G,z,Z,ie;return E().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return M=this,U=w0(te,k),G=Qu(M,H),V.cancelFrom=Lt.Other,se.next=5,M._innerConvertToArrayBufferWithUIAsync(J,k,G);case 5:return z=se.sent,Z=xt.getBlobTypeByImageType(k),ie=new Blob([z],{type:Z}),se.next=10,M._saveBlob(ie,U);case 10:ie=null;case 11:case"end":return se.stop()}},Q,this)})),function(Q,J,te,H){return ee.apply(this,arguments)})},{key:"_innerSaveLocal",value:($=a(E().mark(function Q(J,te){return E().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",new V.Promise(function(k,M){var U=window,G=B.navInfo,z=U.requestFileSystem||U.webkitRequestFileSystem||U.mozRequestFileSystem;if(!G.biPad&&!G.biPhone||z||!(ue.bSafari&&parseFloat(ue.strBrowserVersion)<13)&&ue.bSafari){var Z=document.createElementNS("http://www.w3.org/1999/xhtml","a");if(Z.href=J,Z.download=te,Z.target="_blank",document.body.appendChild(Z),G.bEdge)Z.click(),J=null,Z.href=null;else if(G.bIE){var ie;(ie=window.navigator)&&"msSaveOrOpenBlob"in ie&&ie.msSaveOrOpenBlob(J,te)}else{var se=document.createEvent("MouseEvents");se.initMouseEvent("click",!0,!1),Z.dispatchEvent(se)}setTimeout(function(){document.body.removeChild(Z),Z=null,k()},6e3)}else{var re=U.open(J,"","",!1);setTimeout(function(){re.document.title=te,k()},6e3)}}));case 1:case"end":return H.stop()}},Q)})),function(Q,J){return $.apply(this,arguments)})},{key:"_OnPostTransferAsync",value:function(Q,J,te){var H,k=this;if(Q&&Q.length>=2)try{var M=String(Q[1]).replace(/\\/g,"\\\\");H=p.parse(M),!te&&H.imageId&&(H.imageId=k._serverId2uidFromServer(H.imageId))}catch{p.log(Q)}H||(H={imageId:""});var U=!1;if(p.isFunction(k.__OnPostTransferAsync))try{U=k.__OnPostTransferAsync(H)}catch(G){vr(G)}if(p.isFunction(k.__OnPostTransferAsync2))try{k.__OnPostTransferAsync2(H)}catch(G){vr(G)}return U}},{key:"_checkIndices",value:function(Q,J){return eU(Q,!p.isUndefined(J)&&J>=0?J:this._imageBufferWrapper.count(),this)}},{key:"_acquireImageForSendTo",value:(L=a(E().mark(function Q(J,te,H,k){var M,U,G,z,Z,ie,se,re;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(M=this,U=H?p.clone(H):{},z=G=k,M._resetErr(),M._isValid()){ae.next=4;break}throw{code:M._errorCode,message:M._errorString};case 4:if(p.isString(G._id)){ae.next=6;break}throw{code:-2602,message:'The parameter "SendTo" is invalid.'};case 6:if(!M.__bAcquireImageNow){ae.next=9;break}throw FR(M),{code:M._errorCode,message:M._getErrorString()};case 9:if(M.__bAcquireImageNow=!0,Xr(J,z),Z=V.Promise.resolve(),ie=B.DWT.RemoteScanConfig,se=wR(),ae.prev=13,oO(U),ie&&Gv(ie.keepAwake),_t.checkProductKey(M,{Core:!0})&&M._isValid()){ae.next=18;break}throw{code:M._errorCode,message:M._errorString};case 18:return Ui._innerSendHeartBeat(G,!1),re=function(){var Se=a(E().mark(function ge(ve){return E().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:Z=Z.then(function(){return new V.Promise(function(Qe,ze){var yt=[M._uidFromServer2ServerId(ve.imageId)],at=B.DWT.EnumDWT_ImageType.IT_PNG;V.cancelFrom=Lt.Scan,M._innerConvertToArrayBufferAsync(at,yt).then(function(gt){G._bltsCopyImage=!0,G.__LoadImageFromBytesV2(gt,at,"",!0,0,0,!1,0,function(){var Ct=a(E().mark(function Be(Oe,tt){var pt;return E().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return pt=M._uidFromServer2ServerId(ve.imageId),tt?(p.log("LoadImageFromBinary success"),G._bltsCopyImage=!1,ve.imageId=G._uidFromServer2ServerId(tt.ids),p.isFunction(G._OnPostTransferAsync)&&G._OnPostTransferAsync([!0,p.stringify(ve)],null,!0)):p.log("LoadImageFromBinary return null."),Qe(),lt.next=5,M._removeImageByIdAsync(pt);case 5:case"end":return lt.stop()}},Be)}));return function(Be,Oe){return Ct.apply(this,arguments)}}(),function(Ct,Be){p.log(Be),G._bltsCopyImage=!1,ze({code:Ct,message:Be})})},function(gt){gt&&gt.message&&p.log(gt.message),ze(gt)})})});case 1:case"end":return Me.stop()}},ge)}));return function(ge){return Se.apply(this,arguments)}}(),M._registerEvent("OnPostTransferAsync2",re),te!=null&&(U.Device=te.strDevice,U.DeviceMatchField=pp.SMF_NAME),ae.next=24,M._acquireImageFromServiceAsync(U);case 24:ae.next=29;break;case 26:throw ae.prev=26,ae.t0=ae.catch(13),ae.t0;case 29:return ae.prev=29,ae.prev=30,ae.next=33,Z;case 33:ae.next=37;break;case 35:ae.prev=35,ae.t1=ae.catch(30);case 37:return M._unregisterEvent("OnPostTransferAsync2"),M.__bAcquireImageNow=!1,kr(J),Gv(se),ae.finish(29);case 42:case"end":return ae.stop()}},Q,this,[[13,26,29,42],[30,35]])})),function(Q,J,te,H){return L.apply(this,arguments)})},{key:"_uidFromServer2index",value:function(Q){var J,te=this;return te._resetErr(),!!te._isValid()&&(p.isString(Q)?((J=te._imageBufferWrapper._uidFromServer2index(Q))==-1&&rF(te),J):(GR(te),-1))}},{key:"_index2uidFromServer",value:function(Q){var J=this;if(J._resetErr(),!J._isValid())return!1;var te=parseInt(Q);return isNaN(te)?(Ot(J),""):te<0||te>=this._imageBufferWrapper.count()?(qe(J),""):J._imageBufferWrapper._index2uidFromServer(Q)}},{key:"__LoadImageFromBytesV2",value:function(Q,J,te,H,k,M,U,G,z,Z){var ie,se=this,re=J||3,ae=0,Se=Q.name,ge=!0,ve=1;if(Q)if(Q instanceof Blob)ae=Q.size;else if(eu(Q))ae=Q.byteLength;else if(Q instanceof Array)ae=Q.length;else{var Me=Q;ae=Me.size||Me.byteLength||Me.length}!isNaN(k)&&k>=0&&!isNaN(M)&&M>0?ve=0:(k=0,M=0),ie=["[",ae,",",0,",",re,',"',te,'",',k,",",M,",",G,",",ve,",",U?"true":"false","]"].join("");var Qe=function(){if(se.__bLoadingImage=!1,ge){var ze=se._imageBufferWrapper.getCurrentImageIndex();ze>=0&&se._innerRefreshUI(ze)}return p.isFunction(Z)&&Z(se._errorCode,se._getErrorString(),Se),!1};return _t.checkProductKey(se,{Core:!0})||ue.bWin&&_t.checkProductKey(se,{Webcam:!0},!0)?_t.checkPDFProductKeyWhenNeeds(se,J)?ae===0?(Fe(se,-2312,"The file length is empty."),ge=!1,Qe()):this._innerSendBlob("LoadImageFromBytes",ie,Q,H,ve,function(ze){if(se.__bLoadingImage=!1,se._isBindViewer()){var yt=se._imageBufferWrapper.getCurrentImageIndex();H&&yt>=0&&se._innerRefreshUI(yt)}if(p.isFunction(z)){var at=ze;if(p.isArray(at)&&(at=at.length>0?at[0]:{}),H)setTimeout(function(){z(Se,at)},30);else try{z(Se,at)}catch(gt){p.error(gt.message)}}return se._canConsume()&&B.DWT.lcvrf(se),!0},Qe):(ge=!1,Qe()):(_t.checkProductKey(se,{Core:!0},!1),ge=!1,Qe())}},{key:"_innerSendBlob",value:function(Q,J,te,H,k,M,U){var G=this;if(Ui.isServerInvalid(G))return G._waitForConnect().then(function(){G._innerSendBlob(Q,J,te,H,k,M,U)});if(H)return G._innerSendBlobByWS(Q,J,te,M,U),!0;var z,Z,ie,se;return G._resetErr(),!!G._isValid()&&(Z=[G._httpUrl,"f/",Q].join(""),ie=dl(G._clientId,Q,J,0,G._bScanForProxyRemote),ie+=`\r
\r
`,se={method:"POST",url:Z,processData:!1,data:ie+=p.base64.encodeArray(te),async:!1,onSuccess:function(re,ae,Se){var ge=!1,ve=!1;try{ge=p.isString(re)&&ol(Se.getResponseHeader("content-type"))?p.parse(re):re}catch{}if(ge!=null&&(uo(ge)?(G._errorCode=ge.exception,G._errorString=ge.description):G._resetErr(),(z=ge.result)&&p.isArray(z)&&z.length>=1))if(k){var Me,Qe=z[0];Qe&&p.isObject(Qe)&&(Me=Qe.imageInfos,G._errorCode==0&&p.isString(Me)&&G._handleOnBitmapChangedEvent({result:["c1",Me]},{document:te.currentFileName,tag:te.currentTagName}),ve=!0)}else{var ze=z.join(",");G._errorCode==0&&ze.length>0&&G._OnBitmapChanged(["c1",ze,1,G._imageBufferWrapper.getCurrentImageIndex(),G._imageBufferWrapper.count()],null,{document:te.currentFileName,tag:te.currentTagName}),ve=!0}ve||(fT(G),z="")},onError:function(){Kv(G),z=""}},p.mix(se,{headers:{"X-Requested-With":!1}}),ue.bFileSystem&&(se.crossDomain=!1),Ao(se),G._errorCode==0?p.isFunction(M)&&M():p.isFunction(U)&&U(),z)}},{key:"_convertToBase64ByServerIdsWithUI",value:function(Q,J,te,H,k,M,U){this._convertToBase64ByServerIdsWithUIAsync(Q,te,J,H).then(function(G){p.isFunction(M)&&_n(M,G)},function(){p.isFunction(U)&&U()})}},{key:"_OnPercentDone",value:function(Q){var J,te,H,k,M,U=this,G=!1,z=!1,Z=0;p.isArray(Q)&&Q.length>2&&(te=Q[0],Z=Q[1],H=Q[2],Q.length>3&&(k=Q[3]),Q.length>4&&(M=Q[4]),Q.length>5&&Q[5],J=Z,Z<0?J=0:Z>100&&(J=100),J=Math.floor(J),V.cancelFrom!=Lt.HTTPUpload&&V.cancelFrom!=Lt.HTTPDownload&&V.cancelFrom!=Lt.Scan&&V.cancelFrom!=Lt.HTTPPut||(z=M)),(U._bServerPercentDone||te==0)&&((Z>0||Z==0)&&(V.cancelFrom!=Lt.HTTPUpload&&V.cancelFrom!=Lt.HTTPDownload&&V.cancelFrom!=Lt.FTPUpload&&V.cancelFrom!=Lt.FTPDownload&&V.cancelFrom!=Lt.HTTPPut||(G=!0)),U.IfShowProgressBar&&V.progressBarOnPercentDone(Z,H,k,J,z,this._containerElement),G==1&&(p.isFunction(U.__OnInternetTransferPercentage)&&U.__OnInternetTransferPercentage(J,!1),p.isFunction(U.__OnInternetTransferPercentageEx)&&U.__OnInternetTransferPercentageEx(J,!1)),p.isFunction(U.__OnPercentDone)&&U.__OnPercentDone())}},{key:"IfShowProgressBar",get:function(){return this._bIfShowProgressBar},set:function(Q){this._resetErr(),p.isBoolean(Q)?this._bIfShowProgressBar=Q:Vn(this)}},{key:"IfShowCancelDialogWhenImageTransfer",get:function(){return this.__IfShowCancelDialogWhenImageTransfer},set:function(Q){this._resetErr(),p.isBoolean(Q)?this.__IfShowCancelDialogWhenImageTransfer=Q:Vn(this)}},{key:"_getLogLevel",value:function(){return this._logLevel}},{key:"_setLogLevel",value:(P=a(E().mark(function Q(J){return E().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return this._logLevel=J,te.next=3,this._innerFunV2("LogLevel",Ve(J));case 3:case"end":return te.stop()}},Q,this)})),function(Q){return P.apply(this,arguments)})},{key:"MaxUploadImageSize",get:function(){return this.__maxUploadImageSize},set:function(Q){var J=this;J._resetErr();var te=1*Q;!p.isNumber(te)||isNaN(te)?Vn(J):J.__maxUploadImageSize=te}},{key:"HTTPRequestswithCredentials",get:function(){return this._resetErr(),this._bWithCredentials},set:function(Q){this._resetErr(),p.isBoolean(Q)?this._bWithCredentials=Q:Vn(this)}},{key:"cancelableObj",get:function(){return this._cancelableObj},set:function(Q){this._cancelableObj=Q}},{key:"_getProfile",value:(A=a(E().mark(function Q(J){var te,H;return E().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if((te=this)._resetErr(),te._isValid()){k.next=4;break}throw{code:te._errorCode,message:te._errorString};case 4:return J&&(H=p.stringify([J.strDevice])),k.abrupt("return",te._innerFunV2("GetCustomDSDataEx",H));case 6:case"end":return k.stop()}},Q,this)})),function(Q){return A.apply(this,arguments)})},{key:"_setProfile",value:(I=a(E().mark(function Q(J,te){var H,k;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if((H=this)._resetErr(),H._isValid()){M.next=4;break}throw{code:H._errorCode,message:H._errorString};case 4:return k=J?p.stringify([te,J.strDevice]):Ve(te),M.abrupt("return",this._innerFunV2("SetCustomDSDataEx",k));case 6:case"end":return M.stop()}},Q,this)})),function(Q,J){return I.apply(this,arguments)})},{key:"_removeAllImagesAsync",value:(b=a(E().mark(function Q(J,te){var H,k,M,U,G,z;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if((H=this)._resetErr(),H._isValid()){Z.next=4;break}throw{code:H._errorCode,message:H._errorString};case 4:for(M=[],G=H._getHowManyImagesInBuffer(),U=G-1;U>=0;U--)(z=H._imageBufferWrapper.convertClientIndexToServerId(U))>-1&&M.push(z);if(M.length!=0){Z.next=13;break}return Z.next=10,H._innerFunV2("RemoveAllImages");case 10:k=Z.sent,Z.next=23;break;case 13:if(!te){Z.next=19;break}return Z.next=16,H._innerFunV2("RemoveAllImages",Ve(M.join(",")));case 16:k=Z.sent,Z.next=22;break;case 19:return Z.next=21,H._innerFunV2("RemoveAllImages");case 21:k=Z.sent;case 22:(k||H._errorCode==-1033)&&H._OnBitmapChanged(["c1",M.join(","),3,H._imageBufferWrapper.getCurrentImageIndex(),H._imageBufferWrapper.count()]);case 23:return Z.abrupt("return",k);case 24:case"end":return Z.stop()}},Q,this)})),function(Q,J){return b.apply(this,arguments)})},{key:"__OnRecieveMsg",value:function(Q,J){var te=this,H=J==null?void 0:J.cmd;if(Q.event)return w(x(n.prototype),"__OnRecieveMsg",this).call(this,Q,J);if(uo(Q)?(te._errorCode=Q.exception,te._errorString=Q.description):H!="StartScan"&&H!="GetAddOnVersion"&&(te._errorCode=0,te._errorString=""),H=="ReadBarcode"||H=="OCRRecognize"||Q.request&&Q.request.method=="OCRProRecognize")return J.sFun?(J.sFun(Q),!0):(J.fFun&&J.fFun(Q),!0);if(H=="SetCapabilities"||H=="GetSkewAngleFromBinary"||H=="UpdateImage")return"exception"in Q&&Q.exception!="0"?(Q.result.errorCode&&Q.result.errorString?(te._errorCode=Q.result.errorCode,te._errorString=Q.result.errorString):(te._errorCode=Q.exception,te._errorString=Q.description),J.fFun&&J.fFun(Q.result),Q=null,!0):(J.sFun&&J.sFun(Q.result),Q=null,!0);if(Q.result&&Q.result.length&&(Q.result[0]=="1"||Q.result[0]==1||Q.result[0]=="ok"))return(J.sFun||J.sFun)&&J.sFun(Q.result),!0;if(!Q.exception)return J.sFun&&J.sFun(Q.result),Q=null,!0;var k=!1;return J.fFun&&(k=J.fFun(te._errorString)),!k&&Q.exception&&Q.exception<0&&Q.exception!=-2115&&p.isFunction(te.__OnPrintMsg)&&te.__OnPrintMsg(te._errorString),!0}},{key:"_convertServerIdToGuid",value:function(Q){return this._serverId2uidFromServer(Q)}},{key:"_convertGuidToServerId",value:function(Q){return this._uidFromServer2ServerId(Q)}},{key:"_serverId2uidFromServer",value:function(Q){return this._imageBufferWrapper._serverId2uidFromServer(Q)}},{key:"_uidFromServer2ServerId",value:function(Q){return this._imageBufferWrapper._uidFromServer2ServerId(Q)}},{key:"_innerConvertToBlobWithUI",value:function(Q,J,te,H,k,M){var U=this,G=arguments,z=function(Z){if(V.needShowTwiceShowDialog=!1,p.isFunction(M)){var ie=[];p.isArray(te)&&p.each(te,function(se){var re=U._imageBufferWrapper.convertServerIdToClientIndex(se);re>-1&&ie.push(re)}),Z&&(U._errorCode=Z.code,U._errorString=Z.message),M(ie)}return!1};U._innerConvertToArrayBufferWithUIAsync(Q,J,te,H).then(function(Z){if(!Z||Z.byteLength<=0)return jR(U),z();var ie=U.__maxUploadImageSize;if(Z.byteLength>ie&&ie!=-1)return fs(U),z();if(V.needShowTwiceShowDialog=!1,p.isFunction(k)){var se=[];p.isArray(te)&&p.each(te,function(Se){var ge=U._imageBufferWrapper.convertServerIdToClientIndex(Se);ge>-1&&se.push(ge)});var re=xt.getBlobTypeByImageType(J),ae=new Blob([Z],{type:re});try{k(ae,se,G)}catch{}ae=null}return!0},z)}},{key:"convertToBlob",value:(_=a(E().mark(function Q(J,te,H){var k,M,U,G;return E().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return M=Qu(k=this,te),V.cancelFrom=Lt.ConvertToBlob,z.next=4,k._innerConvertToArrayBufferWithUIAsync("convertToBlob",J,M,H);case 4:return U=z.sent,G=xt.getBlobTypeByImageType(J),z.abrupt("return",new Blob([U],{type:G}));case 7:case"end":return z.stop()}},Q,this)})),function(Q,J,te){return _.apply(this,arguments)})},{key:"_innerConvertToArrayBufferWithUIAsync",value:(S=a(E().mark(function Q(J,te,H,k,M){var U,G,z,Z;return E().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return G=this,Z=(U=V.progressContext)===null||U===void 0?void 0:U.IfShowCancelDialogWhenImageTransfer,ie.prev=2,G.IfShowProgressBar?V.showProgress(G,J,!1):V.hideProgress(),G._OnPercentDone([0,-1,br.Encoding]),V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=!1),ie.next=8,this._innerConvertToArrayBufferAsync(te,H,k,M);case 8:z=ie.sent;case 9:return ie.prev=9,V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=Z),G.IfShowProgressBar&&V.closeProgress(null,J),ie.finish(9);case 13:return ie.abrupt("return",z);case 14:case"end":return ie.stop()}},Q,this,[[2,,9,13]])})),function(Q,J,te,H,k){return S.apply(this,arguments)})},{key:"_innerConvertToBase64Async",value:(v=a(E().mark(function Q(J,te,H){var k,M,U,G,z,Z,ie,se,re;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return k=this,M=H,p.isString(M)&&M!=""||(M="{}"),U=["[",J,',"',te.join(","),'",',M,",1]"].join(""),ae.next=5,k._sendDataByHttpAsync("ConvertToBase64",U,"text",!0);case 5:if(G=ae.sent,z=0,Z="",ie="",se=G&&G.result,k._errorCode==0){ae.next=9;break}throw{code:k._errorCode,message:k._errorString};case 9:if(!se||!p.isArray(se)||se.length!=3){ae.next=17;break}return ie=se[0],z=se[1],Z=se[2],re=new eE(null,z,Z,ie),ae.abrupt("return",re);case 17:throw Fe(k,-2366,"Converting images to a base64 string failed."),{code:k._errorCode,message:k._errorString};case 19:case"end":return ae.stop()}},Q,this)})),function(Q,J,te){return v.apply(this,arguments)})},{key:"_convertToBase64ByServerIdsWithUIAsync",value:(m=a(E().mark(function Q(J,te,H,k){var M,U,G;return E().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return U=this,G=(M=V.progressContext)===null||M===void 0?void 0:M.IfShowCancelDialogWhenImageTransfer,z.prev=2,U.IfShowProgressBar?V.showProgress(U,J,!1):V.hideProgress(),U._OnPercentDone([0,-1,br.Encoding]),V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=U.IfShowCancelDialogWhenImageTransfer),z.next=8,this._innerConvertToBase64Async(te,H,k);case 8:return z.abrupt("return",z.sent);case 9:return z.prev=9,V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=G),U.IfShowProgressBar&&V.closeProgress(null,J),z.finish(9);case 13:case"end":return z.stop()}},Q,this,[[2,,9,13]])})),function(Q,J,te,H){return m.apply(this,arguments)})},{key:"_convertToBlobForUpload",value:function(Q,J,te,H,k,M,U){var G=this,z=arguments;if(B.DWT.ConnectWithSocket){var Z=te,ie=",";p.isString(Z)&&Z!=""||(Z="",ie="");var se=["[",Q,',"',J.join(","),'"',ie,Z,"]"].join("");return V.cancelFrom=Lt.ConvertToBlob,V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=!1),G._sendData("ConvertToBlob",se,!0,function(re){G._resetErr();var ae=re;if(ae){if(ae instanceof Blob||eu(ae))return void k(ae,"",z);uo(ae)&&(G._errorCode=ae.exception,G._errorString=ae.description)}},function(re){G._errorCode=re.code,G._errorString=re.message,M(re)}),!0}G._innerConvertToArrayBufferAsync(Q,J,te,"arraybuffer").then(function(re){var ae=G._strHttpContentTypeFieldValue,Se=new Blob([re],{type:ae});if(B.DWT.IfAddMD5InUploadHeader){var ge=new E0.ArrayBuffer;ge.append(re),p.isFunction(k)&&k(Se,ge.end(),z)}else p.isFunction(k)&&k(Se,"",z);Se=null},function(re){M(re.code,re.message)})}},{key:"dispose",value:function(){return this.__unload()}},{key:"_innerDisposeWSClient",value:function(){return this._isValid()?this._sendData("dispose",null,!0,function(){},function(){}):V.Promise.reject()}},{key:"__unload",value:(f=a(E().mark(function Q(){var J,te;return E().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(!(J=this)._bReady||V.page.bUnload){H.next=10;break}if(!J._wsClient){H.next=10;break}return H.prev=3,H.next=6,J._innerDisposeWSClient();case 6:H.next=10;break;case 8:H.prev=8,H.t0=H.catch(3);case 10:if(!J._wsClient){H.next=24;break}return J._wsClient.removeEvent("close",J._clientId),J._wsClient.removeEvent("error",J._clientId),J._wsClient.removeEvent("timeout",J._clientId),H.prev=14,H.next=17,J._wsClient.dispose();case 17:H.next=22;break;case 19:H.prev=19,H.t1=H.catch(14),te=H.t1;case 22:delete J._wsClient,J._wsClient=null;case 24:if(this._imageBufferWrapper.dispose(),this._bReady=xe,this._destroy=rt,!te){H.next=29;break}throw te;case 29:case"end":return H.stop()}},Q,this,[[3,8],[14,19]])})),function(){return f.apply(this,arguments)})},{key:"_getImages",value:(c=a(E().mark(function Q(J,te,H,k){var M,U,G,z;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if((M=this)._checkIndices(te)){Z.next=3;break}throw{code:this._errorCode,message:this._errorString};case 3:if(k!=hc.URL){Z.next=9;break}if(!(te.length>1)){Z.next=7;break}throw Fe(this,-2619,"Only single index selection is allowed when enumImageFormatType is set to url."),{code:this._errorCode,message:this._errorString};case 7:Z.next=13;break;case 9:if(H!=B.DWT.EnumDWT_ImageType.IT_BMP&&H!=B.DWT.EnumDWT_ImageType.IT_JPG&&H!=B.DWT.EnumDWT_ImageType.IT_PNG){Z.next=13;break}if(!(te.length>1)){Z.next=13;break}throw h9(this),{code:this._errorCode,message:this._errorString};case 13:if(k!=hc.URL){Z.next=17;break}return Z.abrupt("return",this._imageBufferWrapper.getImageUrl(te[0]));case 17:if(V.cancelFrom=Lt.Other,U=Qu(M,te),k!=hc.Blob){Z.next=27;break}return Z.next=22,this._innerConvertToArrayBufferWithUIAsync(J,H,U);case 22:return G=Z.sent,z=xt.getBlobTypeByImageType(H),Z.abrupt("return",new Blob([G],{type:z}));case 27:if(k!=hc.Base64){Z.next=31;break}return Z.next=30,this._convertToBase64ByServerIdsWithUIAsync(J,H,U);case 30:return Z.abrupt("return",Z.sent);case 31:throw f9(this),{code:this._errorCode,message:this._errorString};case 33:case"end":return Z.stop()}},Q,this)})),function(Q,J,te,H){return c.apply(this,arguments)})},{key:"_LicensePromptExpired",value:function(){var Q=this,J=Q.__licenseInfo.bTrial,te="";Q.__licenseInfo&&Q.__licenseInfo.ExpireDate&&(te=Q.__licenseInfo.ExpireDate);var H=xF(te);H<=0&&(J||vr(Q._getErrorString()),p.isFunction(B.OnLicenseExpiredWarning)&&B.OnLicenseExpiredWarning(te,H,J))}},{key:"__saveToViewerAfterUpdate",value:function(Q,J){var te=this,H=this._imageBufferWrapper.getIndexByUid(Q),k=this._imageBufferWrapper.convertClientIndexToServerId(H),M=ar.getUrlByAct(this._imageBufferWrapper.BaseUrl,k,2);return new V.Promise(function(U,G){Ao({method:"GET",xhrFields:{withCredentials:!0},url:M,onSuccess:function(z){var Z,ie=te._imageBufferWrapper.getMetadataByIndex(H);ie||(ie={}),ie.width=J.width,ie.height=J.height,Z=B.navInfoSync.bMobile?te._imageBufferWrapper.getMinImageUrl(H,Math.round(ie.controlWidth*devicePixelRatio),Math.round(ie.controlHeight*devicePixelRatio)):te._imageBufferWrapper.getMinImageUrl(H,ie.controlWidth,ie.controlHeight);var se=te._imageBufferWrapper.getImageIdMap(k);if(se){se.ticks=Date.now(),se.imageUrl=te._imageBufferWrapper.getImageUrl(H),se.minImageUrl=Z,se.width=J.width,se.height=J.height;var re=p.clone(se);re.imageId=k,te._imageBufferWrapper.UpdateImage(re,ie)}U()},onError:function(){U(),kr("save")}})})}},{key:"RunCommandAsync",value:(l=a(E().mark(function Q(J){var te,H,k,M,U,G;return E().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(te=this,J&&p.isString(J.command)&&J.parameter){z.next=4;break}throw $t(te),{code:te._errorCode,message:te._errorString};case 4:if(J.command!="Invert"){z.next=6;break}return z.abrupt("return",te._invert(J.parameter.index));case 6:if(H=J.parameter.index,!p.isNumber(H)){z.next=13;break}if(!(isNaN(H)||!p.isNumber(H)||H<0||H>=te._imageBufferWrapper.count())){z.next=11;break}throw qe(te),{code:te._errorCode,message:te._errorString};case 11:k=te._imageBufferWrapper.convertClientIndexToServerId(H),J.parameter.index=k;case 13:return M=["[",p.stringify(J),"]"].join(""),z.next=16,te._innerFunRawV3("runCommand",M);case 16:if(U=z.sent,!ue.bIE){z.next=21;break}if(!p.isString(U)){z.next=20;break}return z.abrupt("return",p.parse(U));case 20:return z.abrupt("return",U);case 21:if(!ol(G=U.headers.get("content-type"))){z.next=28;break}return z.next=25,U.json();case 25:return z.abrupt("return",z.sent);case 28:if(G!="text/plain"&&G!="text/html"){z.next=32;break}return z.next=31,U.text();case 31:return z.abrupt("return",z.sent);case 32:return z.next=34,U.blob();case 34:return z.abrupt("return",z.sent);case 35:case"end":return z.stop()}},Q,this)})),function(Q){return l.apply(this,arguments)})},{key:"_innerFunRawV3",value:(u=a(E().mark(function Q(J,te){var H,k,M;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(M="fa/",(H=this)._resetErr(),H._isValid()){U.next=4;break}throw{code:H._errorCode,message:H._errorString};case 4:if(!Ui.isServerInvalid(H)){U.next=7;break}return U.abrupt("return",H._waitForConnect().then(function(){return H._innerFunRawV3(J,te)}));case 7:return k={method:"post",body:dl(H._clientId,J,te,0,H._bScanForProxyRemote),fetchRaw:!0},U.next=10,Ed([H._httpUrl,M,J].join(""),k);case 10:return U.abrupt("return",U.sent);case 11:case"end":return U.stop()}},Q,this)})),function(Q,J){return u.apply(this,arguments)})},{key:"_invert",value:(s=a(E().mark(function Q(J){var te,H,k,M,U;return E().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(te=this,H=parseInt(J),te._resetErr(),te._isValid()){G.next=4;break}throw{code:te._errorCode,message:te._errorString};case 4:if(!isNaN(H)){G.next=7;break}throw Ot(te),{code:te._errorCode,message:te._errorString};case 7:if(!(H<0||H>=te._imageBufferWrapper.count())){G.next=10;break}throw qe(te),{code:te._errorCode,message:te._errorString};case 10:if((k=te._imageBufferWrapper.convertClientIndexToServerId(H))!=-1){G.next=14;break}throw qe(te),{code:te._errorCode,message:te._errorString};case 14:return G.next=16,te._innerFunV2("Invert",Ve(k),!0);case 16:if(M=G.sent,!(U=M==1)){G.next=22;break}xt.refreshImageAfterInvokeFun(te,H),G.next=23;break;case 22:throw{code:te._errorCode,message:te._errorString};case 23:return G.abrupt("return",U);case 24:case"end":return G.stop()}},Q,this)})),function(Q){return s.apply(this,arguments)})}],[{key:"create",value:(o=a(E().mark(function Q(J){var te;return E().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return te=new n(J),H.next=3,Ui.STwainConnectToServer(te);case 3:return H.abrupt("return",te);case 4:case"end":return H.stop()}},Q)})),function(Q){return o.apply(this,arguments)})}]);var o,s,u,l,c,f,m,v,S,_,b,I,A,P,L,$,ee,q}(Xue);function ZB(r){var n=r,o="",s=!1;if(n.__licenseInfo&&(n.__licenseInfo.ExpireDate&&(o=n.__licenseInfo.ExpireDate),s=n.__licenseInfo.bTrial),s&&!B.DWT.HideTrialMessage){var u=xF(o);u<=5&&(p.isFunction(B.OnLicenseExpiredWarning)&&B.OnLicenseExpiredWarning(o,u,!0),B.DWT.HideTrialMessage=!0)}}function eU(r,n,o){var s;if(!p.isArray(r))return wd(o),!1;if(r.length==0)return Fe(o,-2350,"The indices cannot be empty."),!1;if(B.DWT.ConnectWithSocket)return!0;for(s=0;s<r.length;s++){var u=r[s];if(p.isUndefined(u)||u===null)return BR(o),!1;if(u=parseInt(u),isNaN(u))return Ot(o),!1;if(u<0||u>=n)return WR(o),!1}return!0}var Ua={changeImageUISize:function(r,n,o){var s,u,l,c,f=n,m=o,v=xe;s=Te.one(r._containerElement),p.isString(n)&&n.indexOf("%")>=0?((l=Te.css(s,"width"))==0&&(s[0].style.width="100%"),l=Te.css(s,"width")*parseInt(n)/100,v=rt):f=[(l=parseInt(n))+2,"px"].join(""),p.isString(o)&&o.indexOf("%")>=0?((c=Te.css(s,"height"))==0&&(s[0].style.height="100%"),c=Te.css(s,"height")*parseInt(o)/100,v=rt):m=[(c=parseInt(o))+2,"px"].join(""),s&&(u=Te.one(".dynamsoft-dwt-container-box",s))&&u.getEL()&&(u.style("width",f),u.style("height",m)),v?(r.__funResize||(r.__funResize=function(){if(r._ImgManager&&r._containerElement){var _=Ua.__innerGetUIViewRealSize(r._containerElement,r._width,r._height);return r._UIView.ChangeSize(_.width,_.height)}return rt}),p.removeEventListener(window,"resize",r.__funResize),p.addEventListener(window,"resize",r.__funResize)):r.__funResize&&(p.removeEventListener(window,"resize",r.__funResize),r.__funResize=xe);var S=Ua.__innerGetUIViewRealSize(r._containerElement,l,c);return r._ImgManager?r._UIView.ChangeSize(S.width,S.height):rt},__innerGetUIViewRealSize:function(r,n,o){var s,u=-1,l=-1;return s=Te.one(r),p.isString(n)&&n.indexOf("%")>=0&&(u=Te.css(s,"width")*parseInt(n)/100),u<0&&n&&(u=parseInt(n)),p.isString(o)&&o.indexOf("%")>=0&&(l=Te.css(s,"height")*parseInt(o)/100),l<0&&o&&(l=parseInt(o)),{width:u,height:l}},bindUIViewEvents:function(r,n){var o=r;n.onSelected=function(s){if(!o._isNoViewer()){var u,l=s.length;l>0&&(o._ImgManager.SetSelectedImageCount(l),u=s[l-1],p.isFunction(o.__OnRefreshUI)&&o.__OnRefreshUI(u))}},n.onRefreshUI=function(s){o._isNoViewer()||Ua.__innerRefreshFromUIView(o,s)},n.onResetCurrentIndex=function(s){if(!o._isNoViewer()){var u=o._ImgManager.getCurrentImageIndex();if(s>=0&&s<o._ImgManager.count()&&u!=s&&p.isFunction(o.__OnIndexChangeDuringDragDrop))try{o.__OnIndexChangeDuringDragDrop(u,s)}catch(l){vr(l)}}},n.onMouseMove=function(s){if(!o._isNoViewer()){var u=s.index;if(s){var l=s.x,c=s.y;o.__MouseX=l,o.__MouseY=c}if(p.isFunction(o.__OnMouseMove))try{o.__OnMouseMove(u)}catch(f){vr(f)}}},n.onMouseClick=function(s){if(!o._isNoViewer()){var u=s.index;if(s){var l=s.x,c=s.y;o.__MouseX=l,o.__MouseY=c}if(p.isFunction(o.__OnMouseClick))try{o.__OnMouseClick(u)}catch(f){vr(f)}}},n.onMouseDoubleClick=function(s){if(!o._isNoViewer()){var u=s.index;if(p.isFunction(o.__OnMouseDoubleClick))try{o.__OnMouseDoubleClick(u)}catch(l){vr(l)}}},n.onMouseRightClick=function(s){if(!o._isNoViewer()){var u=s.index;if(s){var l=s.x,c=s.y;o.__MouseX=l,o.__MouseY=c}if(p.isFunction(o.__OnMouseRightClick))try{return o.__OnMouseRightClick(u)}catch(f){vr(f)}return rt}},n.onImageAreaSelected=function(s){if(!o._isNoViewer()&&p.isFunction(o.__OnImageAreaSelected))try{o.__OnImageAreaSelected(s.index,s.left,s.top,s.right,s.bottom,s.areaIndex)}catch(u){vr(u)}},n.onImageAreaDeSelected=function(s){if(!o._isNoViewer()&&p.isFunction(o.__OnImageAreaDeSelected))try{o.__OnImageAreaDeSelected(s)}catch(u){vr(u)}},n.onBufferChanged=function(s){if(p.isFunction(o.__OnBufferChanged))try{o.__OnBufferChanged(s)}catch(u){vr(u)}}},__innerRefreshFromUIView:function(r,n){var o=r;p.isFunction(o.__OnRefreshUI)&&o.__OnRefreshUI(n)}};function Xt(r,n,o){n in r||Object.defineProperty(r,n,o)}var que=function(){return y(function r(n){h(this,r);var o=this;o._parent=n,Xt(o,"width",{get:function(){return this._parent._width},set:function(s){this.SetSize(s,!1)}}),Xt(o,"height",{get:function(){return this._parent._height},set:function(s){this.SetSize(!1,s)}})},[{key:"SetSize",value:function(r,n){var o,s=this._parent,u=!1,l=!1;return!!s._isBindViewer()&&(p.isString(r)&&r.length>0&&r.charAt(r.length-1)==="%"&&(u=r),!u&&r&&(o=parseInt(r))&&(u=o+"px"),p.isString(n)&&n.length>0&&n.charAt(n.length-1)==="%"&&(l=n),!l&&n&&(o=parseInt(n))&&(l=o+"px"),u&&(s._width=u),l&&(s._height=l),Ua.changeImageUISize(s,u,l))}}])}();function tU(r){var n,o,s,u,l=r._config;V.dlgProgress||V.initProgress(r),l.bNoViewer?r._containerElement=null:(l.container?r._containerElement=l.container:l.containerId&&(r._containerElement=p.get(l.containerId)),r._width=l.width,r._height=l.height,n=Te.one(r._containerElement)),function(c,f){var m={Stwain:c},v=xe;if(f){var S,_=c._width,b=c._height;S=Te.one(c._containerElement),p.isString(_)&&_.indexOf("%")>=0?(_=Te.css(S,"width")*parseInt(_)/100,v=rt):_=parseInt(_),p.isString(b)&&b.indexOf("%")>=0?(b=Te.css(S,"height")*parseInt(b)/100,v=rt):b=parseInt(b),m={Stwain:c,Container:f,Width:_,Height:b}}Ua.bindUIViewEvents(c,m),c._UIView?c._UIView._Init(m):c._UIView=new V.UI.ImageUIView(c,m),c.Width<=0&&(c.Width=270),c.Height<=0&&(c.Height=350),v&&Ua.changeImageUISize(c,c._width,c._height)}(r,n),r._isBindViewer()&&(o=r,s=r._config,u=s||{},o.__OnImageAreaDeSelected=u.onImageAreaDeSelected||"",o.__OnImageAreaSelected=u.onImageAreaSelected||"",o.__OnMouseClick=u.onMouseClick||"",o.__OnMouseDoubleClick=u.onMouseDoubleClick||"",o.__OnMouseMove=u.onMouseMove||"",o.__OnMouseRightClick=u.onMouseRightClick||"",o.__OnTopImageInTheViewChanged=u.onTopImageInTheViewChanged||"",o.__OnBufferChanged=u.onBufferChanged||"",r.__OnMouseClick=l.onMouseClick||"",r.__OnThumbnailMouseClick="",r.__OnKeyDown=l.onKeyDown||"",r.__OnMouseWheel=l.onMouseWheel||"",r.__OnMouseDoubleClick=l.onMouseDoubleClick||"",r.__OnMouseRightClick=l.onMouseRightClick||"",r.__OnMouseMove=l.onMouseMove||"",r.__OnImageAreaSelected=l.onImageAreaSelected||"",r.__OnImageAreaDeSelected=l.onImageAreaDeSelected||"",r.__OnRefreshUI=l.onRefreshUI||"",r.__OnBufferChanged=l.onBufferChanged||"",r.__MouseX=0,r.__MouseY=0,r.__style=new que(r),r.__fSelectionRectAspectRatio=0)}V.install={_divDWTNonInstallContainerID:"dwt-NonInstallContainerID",_divDWTemessageContainer:"",_dlgInstall:!1},V.install._strNonInstallDIV=['<div style="text-align:center;" id="',V.install._divDWTNonInstallContainerID,'"></div>'].join("");var Is=B.DWT;Is.CloseDialog=function(){var r=V.install._dlgInstall;if(r){var n=p.sizzle(".dynamsoft-dialog-close");p.each(n,function(o,s){p.removeEventListener(o,"click",Is.CloseDialog)}),r.open&&r.close(),document.body.removeChild(r),V.install._dlgInstall=!1}},Is.ShowDialog=function(r,n,o,s,u){if(o!==!1){var l,c={width:r,height:n,position:"absolute"};s?(l=['<div class="dynamsoft-dwt-dialog-body">',o,"</div>"].join(""),c.closeButton=!1):l=['<div class="ds-dwt-ui-showdlg">','<div class="dynamsoft-dwt-dialog-body">','<div class="dynamsoft-dwt-dlg-header">',u?"":'<div class="dynamsoft-dialog-close"></div>',"</div>",o,"</div>","</div>"].join(""),u&&(c.closeButton=!1),Is.ShowMessage(l,c)}},Is.ShowMessage=function(r,n){var o,s,u,l,c,f=V.install,m="ds-dwt-ui-dlg",v="ds-dwt-ui-dlg-wrap",S=screen.width,_=!0,b=0,I=!0,A=!0,P=0,L="fixed",$="Error",ee=Ie.bActiveXEdition,q=!1,Q=null;if(n&&(o=n.width,s=n.height,n.seconds&&(b=n.seconds),n.headerStyle&&(P=n.headerStyle),n.backgroundStyle==1&&(q=!0),n.closeButton===!1&&(I=!1),n.bAutoClose&&(u=n.bAutoClose,I=!0),n.bReadyClosed==0&&(_=!1),n.position&&(L=n.position),n.caption&&($=n.caption),p.isFunction(n.onClose)&&(Q=n.onClose)),o?!ue.bMobile&&o>S-10&&(o=S-10):o=S>600?600:S-10,s||(s="100%"),P==1?r=['<div class="dynamsoft-dialog">','<div class="dynamsoft-dwt-dialog-body">','<div class="dynamsoft-dwt-dlg-header">',I?'<div class="dynamsoft-dialog-close"></div>':"","</div>",r,"</div></div>"].join(""):P==2&&(r=['<div class="dynamsoft-dialog">','<div class="dynamsoft-dwt-ltsdlg-header"><span style="color:#FFF;line-height:35px;margin-left:15px">',$,"</span>",I?'<div class="dynamsoft-dialog-close"></div>':"","</div>",'<div class="dynamsoft-dwt-ltsdlg-body" style="padding:25px 40px 20px 40px;">',r,"</div></div>"].join("")),p.sizzle("."+m).length==0){var J=document.createElement("div"),te=document.createElement("div"),H=document.createElement("div");if(J.className=m,te.className=v,te.style.margin="auto",te.style.zIndex="9999",te.style.position="relative",te.style.border="0",u&&((l=document.createElement("div")).className="dynamsoft-dialog-close",te.insertBefore(l,te.firstElementChild),(c=document.createElement("div")).className="dynamsoft-dialog-closeTimer",c.style.width="100%",c.style.height="2px",c.style.marginTop="-2px",c.style.backgroundColor="#fe8e14",te.insertBefore(c,te.firstElementChild)),te.appendChild(H),tE(H,r),J.appendChild(te),document.body.appendChild(J),Q){var k=Te.one(".dynamsoft-dialog-close",Te.one(J));k&&((k=k[0]).onClose=function(){p.removeEventListener(k,"click",k.onClose),k.onClose=null,Q()},p.addEventListener(k,"click",k.onClose))}if(q?Te.setBackOpacity({opacity:.4,grayHex:0}):Te.setBackOpacity({}),J.bTopmost=!0,f._dlgInstall=J,Te.dialog.setup(f._dlgInstall,!1),ue.bIE){var M=document.createElement("iframe");M.frameborder="0",M.marginheight="0",M.marginwidth="0",M.style.border="0",M.style.backgroundColor="transparent",M.style.position="absolute",M.style.left=0,M.style.top=0,M.style.width="100%",M.style.height=document.body.clientHeight+"px",M.style.margin="0 auto",M.style.zIndex="10000",M.src=["javas","cript:",'""'].join("");var U=Te.one(".dynamsoft-backdrop");if(U&&U.length>0){for(var G=U[0];G.firstChild;)G.removeChild(G.firstChild);G.style.zIndex="10000",G.appendChild(M)}}}else A=!1;var z=Te.one("."+v);if(z&&z.getEL()&&(z[0].style.width=o+"px",p.isNumber(s)&&s>0?z[0].style.height=s+"px":z[0].style.height="100%",A||p.each(z[0].childNodes,function(se){if(se.tagName=="DIV"&&se.className!="dynamsoft-dialog-close"&&se.className!="dynamsoft-dialog-closeTimer")return tE(se,r),!1})),ee){var Z=Te.one(".dynamsoft-dialog");Z&&Z.getEL()&&(Z.getEL().style.border="1px solid #999")}if(f._dlgInstall.open&&f._dlgInstall.close(),f._dlgInstall.showModal({position:L}),f._dlgInstall.bReadyClosed=_,q&&Te.setBackOpacity({}),I){var ie=p.sizzle(".dynamsoft-dialog-close");p.each(ie,function(se,re){p.addEventListener(se,"click",Is.CloseDialog)}),ie.length>0&&u&&b>0&&setTimeout(V._zdgb_xkz_dhk,100)}},Is.OnWebTwainPreExecute||(Is.OnWebTwainPreExecute=function(r,n){var o,s,u=B.DWT.IfConfineMaskWithinTheViewer;if(u&&(r&&(s=r._containerElement),s||B.DWT.Containers&&B.DWT.Containers.length>0&&B.DWT.Containers[0].ContainerId&&(s=p.get(B.DWT.Containers[0].ContainerId)),s)){o=s.getBoundingClientRect();for(var l=0;l<s.children.length;l++){var c=s.children[l];if(c&&c.className=="dvs-root dvs-web-viewer"){for(c=c.firstElementChild;c;){if(p.isFunction(c.getBoundingClientRect)){o=c.getBoundingClientRect();break}c=c.nextSibling}s=c;break}}}(s===document.body||o==null||B.DWT.Containers&&B.DWT.Containers.length>1||B.DWT.Containers&&B.DWT.Containers.length==1&&(o.width==0||o.height==0))&&(u=!1,s=null);var f=n??{};u&&(f={confined:u,wrapperEl:s}),V.showMask(f)}),Is.OnWebTwainPostExecute||(Is.OnWebTwainPostExecute=function(){Te.hideMask()});function tE(r,n){document.body&&Te.setHtml(r,n)}function Zue(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function lg(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}window.DCP_DWT_OnClickCloseInstall=function(r,n){n||B.DWT.CloseDialog();var o=p.get(V.install._divDWTNonInstallContainerID);if(o&&o.parentNode&&o.parentNode.removeChild(o),r&&p.isDOM(r)&&p.show(r),r&&p.isString(r))p.show(r);else{var s=B.DWT.WebTwainIdMap;if(s){var u,l,c=Object.keys(s);for(u=0;u<c.length;u++)s[l=c[u]]._containerElement&&p.show(s[l]._containerElement)}}V.install._divDWTemessageContainer!=""&&p.show(V.install._divDWTemessageContainer)},V._zdgb_xkz_dhk=function(){var r=V.install._dlgInstall;if(r){var n=p.sizzle(".dynamsoft-dialog-closeTimer",r);if(n.length>0){var o=n[0],s=parseInt(o.style.width);(s-=1)<=0?B.DWT.CloseDialog():(o.style.width=s+"%",setTimeout(V._zdgb_xkz_dhk,100))}}},V.ShowLicenseDialog=B.DWT.ShowMessage,V.createLoadingBarContent=function(){};var _f=new WeakSet,ece=function(r){function n(_){var b;return h(this,n),Zue(b=d(this,n,[_]),_f),b}return F(n,r),y(n,[{key:"_getWSContextData",value:function(){return{document:this._getCurrentDocumentName(),tag:this._getCurrentDefaultTagName(),bNeedClearTag:!1}}},{key:"_getErrorString",value:function(){var _=this;return _._errorCode==-2207&&_._bMustUpgradeService&&Td(_),_._errorCode!=0?_._errorString:"Successful."}},{key:"_getWebTwainId",value:function(){return this._id}},{key:"_isTwainServiceType",value:function(){return!0}},{key:"_isPC",value:function(){return ue.bWin||ue.bMac||ue.bLinux}},{key:"_serviceSyncMethodNotSupport",value:function(_){var b=this;return Fe(b,-2605,'The synchronized method "'+_+'" is not supported under the current settings.'),{code:b._errorCode,message:b._getErrorString()}}},{key:"_serviceAsyncMethodNotSupport",value:function(_){var b=this;return Fe(b,-2606,'The asynchronized method "'+_+'" is not supported under the current settings.'),{code:b._errorCode,message:b._getErrorString()}}},{key:"_serviceNotSupportAsync",value:function(_){var b=this;return Fe(b,-2397,_+" doesn't work under current settings."),Te.Promise.reject({code:b._errorCode,message:b._getErrorString()})}},{key:"_nouiNotSupport",value:function(_,b){var I=this;return Fe(I,-2210,"You cannot call this method on this WebTwain instance because it does not use the default viewer."),p.isFunction(b)&&b(I._errorCode,I._getErrorString()),!1}},{key:"_innerFunRaw",value:function(_,b,I,A,P,L,$){var ee,q,Q,J,te=this,H="f/",k=I;if(k&&(H="fa/"),B.DWT.ConnectWithSocket)this._sendData(_,b,!1,L,$);else{if(te._resetErr(),!te._isValid())return!!k&&void 0;var M=Ui.isServerInvalid(te);if(k&&M)return te._waitForConnect().then(function(){return te._innerFunRaw(_,b,k,A,P,L,$)});if(!k&&M)return KR(te),!1;if(Q={method:"POST",url:ee=[te._httpUrl,H,_].join(""),data:q=dl(te._clientId,_,b,0,te._bScanForProxyRemote),async:k,onSuccess:function(G,z,Z){var ie=!1;try{ie=p.isString(G)&&ol(Z.getResponseHeader("content-type"))?p.parse(G):G}catch{}ie?(uo(ie)?(te._errorCode=ie.exception,te._errorString=ie.description):te._resetErr(),J=P?ie:ie.result):(fT(te),J=""),p.isFunction(L)&&L(J),k&&(J=null)},onError:function(){Kv(te),J="",!V.page.bUnload&&p.isFunction($)&&$()}},!k&&A)ue.bIE?(Q.dataType="arraybuffer",Q.onSuccess=function(G,z,Z){var ie,se,re,ae=!1;if(Z.responseHeadersString&&DR(Z.responseHeadersString)&&(ae=!0),ie=Z.responseData,te._resetErr(),J=!1,ie&&(se=new Uint8Array(ie),ae?ie=String.fromCharCode.apply(null,se):(J=new Blob([se],{type:te._strHttpContentTypeFieldValue}),(re=new E0.ArrayBuffer).append(se),J.md5=re.end())),!ie||ae){var Se,ge=!1;if((Se=ae?ie:Z.responseText).length>0){if(Se.charAt(0)=="{")try{ge=p.parse(Se),ae=!0}catch{p.log(Se)}ae?uo(ge)?(te._errorCode=ge.exception,te._errorString=ge.description,J=!1):J=!0:(se=new Uint8Array(Se),J=new Blob([se],{type:te._strHttpContentTypeFieldValue}),(re=new E0.ArrayBuffer).append(se),J.md5=re.end())}}p.isFunction(L)&&L(J)}):(k||(Q.dataType="text",Q.contentType="text/plain; charset=x-user-defined",Q.mimeType="text/plain; charset=x-user-defined"),Q.onSuccess=function(G,z,Z){var ie,se,re;if(te._resetErr(),(se=(ie=Z.responseText).length)>0){var ae,Se=!1;if(ie.charAt(0)=="{")try{ae=p.parse(ie),Se=!0}catch{p.log(ie)}if(Se)uo(ae)?(te._errorCode=ae.exception,te._errorString=ae.description,J=!1):J=!0;else{re=new Uint8Array(se);for(var ge=0;ge<se;ge++)re[ge]=ie.charCodeAt(ge);J=new Blob([re],{type:te._strHttpContentTypeFieldValue});var ve=new E0.ArrayBuffer;ve.append(re),J.md5=ve.end()}}else J="";p.isFunction(L)&&L(J)});else if(k&&A){Q={method:"POST",body:q},ue.bIE?Q.dataType="arraybuffer":Q.fetchRaw=!0;var U=Ed(ee,Q);return ue.bIE||(U=U.then(function(G){var z=G.headers.get("content-type");return z.indexOf("image/")>=0||z.indexOf("application/octet-stream")>=0?G.arrayBuffer():G.json()})),U=U.then(function(G){if(te._resetErr(),eu(G))return p.isFunction(L)&&L(G),void(G=null);if(p.isObject(G)){var z=G;if(uo(z))te._errorCode=z.exception,te._errorString=z.description,p.isFunction($)&&$();else{var Z="";z.result&&(Z=z.result),p.isFunction(L)&&L(Z)}}else Kv(te),!V.page.bUnload&&p.isFunction($)&&$()},function(G){Kv(te),!V.page.bUnload&&p.isFunction($)&&$()}),!0}if(k||p.mix(Q,{headers:{"X-Requested-With":!1}}),ue.bFileSystem&&(Q.crossDomain=!1),Ao(Q),!k)return J}}},{key:"_innerSendCmd",value:function(_,b){this._innerFunRaw(_,b,!0,!1,!0)}},{key:"_innerFun",value:function(_,b){var I;return I=this._innerFunRaw(_,b,!1,!1,!1),p.isArray(I)?I[0]:I}},{key:"__OnRecieveMsg",value:function(_,b){var I=this,A=b==null?void 0:b.cmd;if(_.event)return w(x(n.prototype),"__OnRecieveMsg",this).call(this,_,b);if(B.DWT.ConnectWithSocket)return w(x(n.prototype),"__OnRecieveMsg",this).call(this,_,b);if(uo(_)?(I._errorCode=_.exception,I._errorString=_.description):A!="StartScan"&&A!="GetAddOnVersion"&&(I._errorCode=0,I._errorString=""),A=="ReadBarcode"||A=="OCRRecognize"||_.request&&_.request.method=="OCRProRecognize")return b.sFun?b.sFun(_):b.fFun&&b.fFun(_),!0;if(A=="ActiveUI"||A=="VersionInfo"||A=="ConvertToBase64"||A=="SaveSelectedImagesToBase64Binary"||A=="ConvertToBlob"||A=="BeginSaveMem")return b.sFun&&p.isArray(_.result)&&_.result.length>0?b.sFun(_.result):b.fFun&&b.fFun(_.result),!0;if(A=="ShowFileDialog"||A=="SplitTiff"||A=="SplitPDF"||A=="EncodeAsBase64"||A=="ProductKey"||A=="GetSourceNames"||A=="GetSkewAngle"||A=="GetImageInfo"||A=="GetSkewAngleFromBinary")return b.sFun?b.sFun(_.result):b.fFun&&b.fFun(_.result),!0;if(A=="SetCapabilities")return w(x(n.prototype),"__OnRecieveMsg",this).call(this,_,b);if(_.result&&_.result.length&&(_.result[0]=="1"||_.result[0]==1||_.result[0]=="ok"))(b.sFun||b.sFun)&&b.sFun(b.rawData?_:_.result);else{if(!_.exception)return b.sFun&&b.sFun(_.result),_=null,!0;var P=!1;b.fFun&&(P=b.fFun(I._errorString)),!P&&_.exception&&_.exception<0&&_.exception!=-2115&&p.isFunction(I.__OnPrintMsg)&&I.__OnPrintMsg(I._errorString)}return!0}},{key:"OnRefreshUI",value:function(_,b,I,A){return this._innerRefreshUI(_,b,I,A)}},{key:"GetCurrentDocumentName",value:function(){return this._resetErr(),!!this._isValid()&&this._getCurrentDocumentName()}},{key:"RegisterEvent",value:function(_,b){return!!this.registerEvent(_,b)}},{key:"UnregisterEvent",value:function(_,b){return this.unregisterEvent(_,b)}},{key:"onEvent",value:function(_,b){this.registerEvent(_,b)}},{key:"on",value:function(_,b){this.registerEvent(_,b)}},{key:"_OnConsumed",value:function(_){}},{key:"_OnPostLoad",value:function(_,b){var I,A,P,L,$=this;b!==void 0&&b.exception!==void 0&&b.description!==void 0&&($._errorCode=b.exception,$._errorString=b.description),p.log("OnPostLoad Results:"),A=_[1].split(","),I=p.base64.decode(A[0]),P=p.base64.decode(A[1]),p.log(I),p.log(P),p.log(A[2]),iU($,"On PostLoad"),(L=$._ImgManager.getCurrentImageIndex())>=0&&$._innerRefreshUI(L),p.isFunction($.__OnPostLoad)&&$.__OnPostLoad(I,P,A[2])}},{key:"_OnPostTransfer",value:function(_){var b=this;if(p.log("On PostTransfer Results:"+_),iU(b,"On PostTransfer"),p.isFunction(b.__OnPostTransfer))try{b.__OnPostTransfer()}catch(I){vr(I)}}},{key:"_OnPreAllTransfersAsync",value:function(_){var b=this;if(p.isFunction(b.__OnPreAllTransfersAsync)){var I={event:"beforeAcquire",result:{}};try{p.isArray(_)&&_.length>1&&(I=p.parse(_[1]))}catch{}setTimeout(function(){try{b.__OnPreAllTransfersAsync(I)}catch(A){vr(A)}},10)}}},{key:"_OnPostAllTransfers",value:function(_){var b=this;if(_.length>=2&&b._errorCode==0&&(b._errorCode=_[1],b._errorString=_[2]),p.log("On PostAllTransfers Results:"+_),b.__bLoadingImage=!1,b.__bAcquireImageNow=!1,b.__closeRemoteScanUI(!0),p.isFunction(b.__OnPostAllTransfers))try{b.__OnPostAllTransfers()}catch(I){vr(I)}}},{key:"_OnResult",value:function(_){var b=_[1];if(p.isFunction(this.__OnResult))try{this.__OnResult(b)}catch(I){vr(I)}}},{key:"_OnTransferCancelled",value:function(_){var b=this;if(b._ImgManager.getCurrentImageIndex(),b._ImgManager.count(),b.__bLoadingImage=!1,b.__bAcquireImageNow=!1,p.isFunction(b.__OnTransferCancelled))try{b.__OnTransferCancelled()}catch(I){vr(I)}}},{key:"_OnTransferError",value:function(_){if(p.isFunction(this.__OnTransferError))try{this.__OnTransferError()}catch(b){vr(b)}}},{key:"_OnSourceUIClose",value:function(_){var b=this;if(b.__closeRemoteScanUI(!0),p.isFunction(b.__OnSourceUIClose))try{b.__OnSourceUIClose()}catch(I){vr(I)}}},{key:"_OnPreTransfer",value:function(_){if(p.isFunction(this.__OnPreTransfer))try{this.__OnPreTransfer()}catch(b){vr(b)}}},{key:"_OnPreAllTransfers",value:function(_){if(p.isFunction(this.__OnPreAllTransfers))try{this.__OnPreAllTransfers()}catch(b){vr(b)}}},{key:"_OnGetFilePath",value:function(_){var b,I,A,P=this;if(b=_[1].split(","),p.log("On GetFilePath Results:"+_),I=p.base64.decode(b[3]),A=p.base64.decode(b[4]),b[2]=="-1032"&&(b[2]="-1",I=A=""),p.isFunction(P.__OnGetFilePath))try{P.__OnGetFilePath(1*b[0]>0,1*b[1],1*b[2],I,A)}catch(L){vr(L)}P.__bOpenFileNow=!1}},{key:"_OnDiskExceedLimit",value:function(){p.isFunction(this.__OnDiskExceedLimit)&&this.__OnDiskExceedLimit()}},{key:"__GetLoadEventsNum",value:function(){var _=0;return p.isFunction(this.__OnPostLoad)&&(_|=1),p.isFunction(this.__OnGetFilePath)&&(_|=2),_}},{key:"_innerSend",value:function(_,b,I,A,P){var L=this;if(B.DWT.ConnectWithSocket||_!="SaveSelectedImagesToBytes"&&_!="ConvertToBlob")return this._sendData(_,b,I,A,P);var $=dp(),ee=dl(L._clientId,_,b,$,L._bScanForProxyRemote);return L._innerFunRaw(_,ee,!0,!0,!0,A,P),Te.Promise.resolve(!0)}},{key:"_convertToBlobByIndices",value:function(_,b,I,A,P,L){var $=this,ee=!1,q=function(te){p.isFunction(L)&&jn(L,$,te,b,A),te=null};if(p.isFunction(P)&&(ee=!0),$._resetErr(),!$._isValid())return q(_),!!ee&&void 0;var Q=parseInt(b);if(!_t.checkProductKey($,{Core:!0})||!$._checkIndices(_))return q(_),!!ee&&void 0;if(Q==B.DWT.EnumDWT_ImageType.IT_BMP||Q==B.DWT.EnumDWT_ImageType.IT_JPG||Q==B.DWT.EnumDWT_ImageType.IT_PNG||Q==B.DWT.EnumDWT_ImageType.IT_J2K){if(_.length>1)return Fe($,-2372,"You cannot convert more than one image to binary when the format is BMP, JPG or PNG."),q(_),!!ee&&void 0}else if(Q!=B.DWT.EnumDWT_ImageType.IT_TIF&&Q!=B.DWT.EnumDWT_ImageType.IT_PDF)return Li($),q(_),!!ee&&void 0;var J=Qu($,_);return J.length==0?(Ot($),q(_),!!ee&&void 0):ee?(V.cancelFrom=Lt.ConvertToBlob,void $._innerConvertToBlobWithUI("ConvertToBlob",Q,J,I,function(te,H){p.isFunction(P)&&_n(P,te,H,b,A),te=H=null},q)):lg(_f,$,tce).call($,J,Q,I)}},{key:"_getDefaultDevice",value:function(){var _=this;if(_._resetErr(),!_._isValid())return null;var b="",I=ht.TWAINSCANNER,A=_._innerFun("GetDefaultSourceName");if(A.length>0)try{var P=JSON.parse(A);I=P.type,b=p.base64.decode(P.ProductName)}catch{b=""}var L=new Zo;return L.name=b,L.deviceType=I,L.isSystemDefaultPrinter=!1,JT(L),L}},{key:"_OnCurrentDeviceSelected",value:function(_,b){var I,A,P=this;if(_&&_.length>=2)try{A=parseInt(_[0]);var L=String(_[1]);(I=_$(this,L)).strDevice=L,P._curDevice=I}catch(ee){p.error(ee)}var $=!1;if(p.isFunction(P.__OnCurrentDeviceSelected))try{$=P.__OnCurrentDeviceSelected(I,A)}catch(ee){vr(ee)}return $}},{key:"_getDefaultDeviceAsync",value:(S=a(E().mark(function _(){var b,I,A,P,L,$;return E().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if((b=this)._resetErr(),b._isValid()){ee.next=4;break}return ee.abrupt("return",null);case 4:return I="",A=ht.TWAINSCANNER,ee.next=8,b._sendDataByHttpAsync("GetDefaultSourceName");case 8:if((P=ee.sent).length>0)try{L=JSON.parse(P),A=L.type,I=p.base64.decode(L.ProductName)}catch{I=""}return($=new Zo).name=I,$.deviceType=A,$.isSystemDefaultPrinter=!1,A==ht.TWAINX64SCANNER&&I.length>0?$.displayName="Twain64-"+I:A==ht.ICASCANNER&&this.__serverPlatform==Et.enumMac&&I.length>0?$.displayName="ICA-"+I:$.displayName=I,ee.abrupt("return",$);case 16:case"end":return ee.stop()}},_,this)})),function(){return S.apply(this,arguments)})},{key:"_getSources",value:function(_,b,I){return KF(this,this._innerFun("GetSources",Ve(_,b!=null&&b,I!=null&&I)))}},{key:"_getSourceCountAsync",value:(v=a(E().mark(function _(b){var I,A,P,L,$,ee,q;return E().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if((I=this)._resetErr(),I._isValid()){Q.next=4;break}return Q.abrupt("return",Te.Promise.reject({code:I._errorCode,message:I._errorString}));case 4:return lg(_f,I,rU).call(I),Xr("GetSourceCountAsync",I),A=[],Q.prev=7,b&&(I._driverType=b),P=xe,L=xe,$=xe,ee=xe,I._bRemoteMode?I.__serverPlatform==Et.enumWindow?$=!0:I.__serverPlatform==Et.enumLinux?L=!0:I.__serverPlatform==Et.enumMac?P=!0:I.__serverPlatform==Et.enumAndroid&&(ee=!0):(P=ue.bMac,L=ue.bLinux,$=ue.bWin,ee=ue.bAndroid),q=d_(I._driverType,$,L,P,ee),Q.next=15,this._getDevices(q,!0,void 0);case 15:A=Q.sent,Q.next=21;break;case 18:throw Q.prev=18,Q.t0=Q.catch(7),Q.t0;case 21:return Q.prev=21,kr("GetSourceCountAsync"),Q.finish(21);case 24:return Q.abrupt("return",I._setDevices(A));case 25:case"end":return Q.stop()}},_,this,[[7,18,21,24]])})),function(_){return v.apply(this,arguments)})},{key:"_setDevices",value:function(_){var b,I=this;return I.__devices=_,b=_.length,I.__sourceCount=b,b<=0?(I.__defaultSourceName="",I.__sourceCount=0,0):b}},{key:"_getSourceNameByIndex",value:function(_){var b=this.__devices.length;return _<0||_>=b?"":this.__devices[_].displayName}},{key:"_dwtConvertToBlobSync",value:function(_,b,I,A,P,L){var $=this,ee=I,q=",";p.isString(ee)&&ee!=""||(ee="",q="");var Q=["[",_,',"',b.join(","),'"',q,ee,"]"].join(""),J=$._innerFunRaw("ConvertToBlob",Q,!1,!0,!1),te="";if($._errorCode==0){J&&"md5"in J&&(te=J.md5);var H=!0;return p.isFunction(A)&&(H=A(J,te,L)),H}return p.isFunction(P)&&ft(P,$),!1}},{key:"_getSourceCountSync",value:function(){var _,b=this,I=xe,A=xe,P=xe,L=xe;if(b._bRemoteMode?b.__serverPlatform==Et.enumWindow?P=!0:b.__serverPlatform==Et.enumLinux?A=!0:b.__serverPlatform==Et.enumMac?I=!0:b.__serverPlatform==Et.enumAndroid&&(L=!0):(I=ue.bMac,A=ue.bLinux,P=ue.bWin,L=ue.bAndroid),_=d_(this._driverType,P,A,I,L),b._resetErr(),!b._isValid()||!_t.checkProductKey(b,{Core:!0}))return 0;lg(_f,b,rU).call(b);var $=b._getSources(_,!0,void 0);return b._setDevices($)}},{key:"_OnActiveUI",value:(m=a(E().mark(function _(b){var I;return E().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return I=this,b&&b.length>2&&(I.__strProductName=b[2]),A.next=4,w(x(n.prototype),"_OnActiveUI",this).call(this,b);case 4:return A.next=6,I._setConvertModeAsync(I._pdfConvertMode).catch(function(){});case 6:case"end":return A.stop()}},_,this)})),function(_){return m.apply(this,arguments)})},{key:"_OnReady",value:(f=a(E().mark(function _(){var b,I,A,P,L;return E().wrap(function($){for(;;)switch($.prev=$.next){case 0:return ao((b=this)._serverInfo.server)&&(ea.item("DWT_port",b._serverInfo.port),ea.item("DWT_ssl",b._serverInfo.ssl?"true":"false")),b._bNoMask||Xr("OnReady",b),$.prev=3,$.next=6,w(x(n.prototype),"_OnReady",this).call(this);case 6:if(!ui()){$.next=12;break}if(b._uuidForActiveUI){$.next=12;break}return $.next=10,B.DWT.lgcuid(B.DWT.lgdt(),"");case 10:I=$.sent,b._uuidForActiveUI=I;case 12:return $.next=14,b._innerActiveUI(b._uuidForActiveUI);case 14:return A=$.sent,$.next=17,b._OnActiveUI(A);case 17:if(Nr("Changing Map..."),(P=b._id)&&!B.DWT.WebTwainIdMap[P]&&(B.DWT.WebTwainIdMap[P]=b),tU(b),L=!1,b._bRemoteMode||(L=V.attachAddon(b)),B.DWT.IfDisableDefaultSettings){$.next=29;break}return Nr("Configuring the WebTwain instance..."),$.next=27,rce(b);case 27:$.next=32;break;case 29:if(!L){$.next=32;break}return $.next=32,new Te.Promise(function(ee){setTimeout(ee,300)});case 32:$.next=39;break;case 34:throw $.prev=34,$.t0=$.catch(3),$.t0&&(b._errorCode=$.t0.code,b._errorString=$.t0.message),b.dispose(),$.t0;case 39:return $.prev=39,b._bNoMask||kr("OnReady"),$.finish(39);case 42:case"end":return $.stop()}},_,this,[[3,34,39,42]])})),function(){return f.apply(this,arguments)})},{key:"_OnWSClose",value:function(_){w(x(n.prototype),"_OnWSClose",this).call(this,_),V.detect.bOK=!1,this.__bAcquireImageNow=!1}},{key:"_OnWSTimeout",value:function(_){w(x(n.prototype),"_OnWSTimeout",this).call(this,_),V.detect.bOK=!1}},{key:"_setConvertModeAsync",value:function(_){var b,I=this,A=1*_;return isNaN(A)?(ST(I),Te.Promise.reject({code:I._errorCode,message:I._errorString})):I._checkConvertModeInner(A)?(b=this._mixSavedPdfReaderOptions({convertMode:A,renderOptions:{renderAnnotations:!!I._pdfOptions.renderOptions.renderAnnotations}}),I._resetPdfOptionsWhenSetConvertMode(b),lg(_f,I,nU).call(I,b,A)):Te.Promise.reject({code:I._errorCode,message:I._errorString})}},{key:"_OnReconnected",value:(c=a(E().mark(function _(){var b;return E().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return b=this,I.next=3,lg(_f,b,nU).call(b,b._pdfOptions);case 3:case"end":return I.stop()}},_,this)})),function(){return c.apply(this,arguments)})},{key:"_getConvertMode",value:function(){return this._pdfConvertMode}},{key:"_setConvertMode",value:function(_){var b,I=this,A=1*_;if(isNaN(A))return ST(I),!1;if(!I._checkConvertModeInner(A))return!1;b=this._mixSavedPdfReaderOptions({convertMode:A,renderOptions:{renderAnnotations:!!I._pdfOptions.renderOptions.renderAnnotations}}),I._resetPdfOptionsWhenSetConvertMode(b);var P=I._setReaderOptions(b,!1);return P&&(I._pdfConvertMode=A,I._pdfOptions.convertMode=b.convertMode,I._pdfOptions.renderOptions.renderAnnotations=b.renderOptions.renderAnnotations,I._pdfOptions.convertMode==gr.CM_IMAGEONLY&&I._pdfConvertMode==gr.CM_RENDERALL||I._pdfOptions.convertMode==gr.CM_IMAGEONLY&&I._pdfConvertMode==gr.CM_RENDERALLWITHANNOTATION)?(I._pdfConvertMode=gr.CM_IMAGEONLY,Cd(I),!1):P}},{key:"_checkConvertModeInner",value:function(_){var b=this;return!!_t.checkProductKey(b,{Core:!0})&&(b._resetErr(),!!b._isValid()&&(_==gr.CM_RENDERALL||_==gr.CM_IMAGEONLY||_==gr.CM_AUTO||_==gr.CM_RENDERALLWITHANNOTATION||(ST(b),!1)))}},{key:"_resetPdfOptionsWhenSetConvertMode",value:function(_){var b=_.convertMode;b==gr.CM_IMAGEONLY||_t.hasPDFRProductKey(this)?_.convertMode=b:_.convertMode=gr.CM_IMAGEONLY,_.convertMode==gr.CM_IMAGEONLY||_.convertMode==gr.CM_RENDERALL?_.renderOptions.renderAnnotations=!1:_.convertMode==gr.CM_RENDERALLWITHANNOTATION&&(_.renderOptions.renderAnnotations=!0)}},{key:"_checkPDFPasswordValue",value:function(_){if(!p.isUndefined(_)){if(!p.isString(_))return Fe(this,-2852,"The password is not a string."),!1;if(_.length>32)return function(b){Fe(b,-2851,"The password must not exceed 32 characters in length.")}(this),!1}return!0}},{key:"_mixSavedPdfReaderOptions",value:function(_){var b;return b=p.clone(this._pdfOptions),_||(_={}),_.convertMode&&(b.convertMode=_.convertMode),p.isString(_.password)?b.password=_.password:p.isNumber(_.password)&&(b.password=""+_.password),_.renderOptions&&(b.renderOptions=p.mix(this._pdfOptions.renderOptions,_.renderOptions)),b}},{key:"_setReaderOptions",value:function(_,b){var I,A,P=this,L=-1;if(P._resetErr(),_&&_.renderOptions){var $=_.renderOptions.resolution,ee=_.renderOptions.maxWidth,q=_.renderOptions.maxHeight,Q=_.renderOptions.renderGrayscale;if(!p.isUndefined($)&&(!B.Lib.isNumber($)||$<=0))return Fe(P,-2830,"The PDF resolution must be a positive number."),!1;if(!p.isUndefined(ee)&&(!B.Lib.isNumber(ee)||ee<0))return function(M){Fe(M,-2831,"The PDF max width must be a positive number.")}(P),!1;if(!p.isUndefined(q)&&(!B.Lib.isNumber(q)||q<0))return function(M){Fe(M,-2832,"The PDF max height must be a positive number.")}(P),!1;if(!p.isUndefined(Q)&&!B.Lib.isBoolean(Q))return function(M){Fe(M,-2833,"The PDF render grayscale must be a boolean.")}(P),!1}if(b){I={},_||(_={}),_.convertMode?I.convertMode=_.convertMode:I.convertMode=gr.CM_AUTO,L=I.convertMode,p.isString(_.password)?I.password=_.password:p.isNumber(_.password)?I.password=""+_.password:I.password="",I.renderOptions=p.mix({renderAnnotations:!1,resolution:200,maxWidth:0,maxHeight:0,renderGrayscale:!1},_.renderOptions);var J=I.renderOptions.renderAnnotations;p.isBoolean(J)||p.isString(J)&&(I.renderOptions.renderAnnotations=J.toLowerCase()=="true");var te=I.renderOptions.renderGrayscale;if(p.isBoolean(te)||p.isString(te)&&(I.renderOptions.renderGrayscale=te.toLowerCase()=="true"),p.isNumber(I.convertMode)){if(!P._checkConvertModeInner(I.convertMode))return!1;_t.hasPDFRProductKey(P)||(I.convertMode=gr.CM_IMAGEONLY),I.convertMode==gr.CM_IMAGEONLY?I.renderOptions.renderAnnotations=!1:I.convertMode==gr.CM_RENDERALLWITHANNOTATION&&(I.renderOptions.renderAnnotations=!0)}}else{if(p.isUndefined(_))return function(M){Fe(M,-2834,"The PDF reader options is invalid.")}(P),!1;if(I=_,!(p.isString(_.password)||p.isUndefined(_.password))){if(!p.isNumber(_.password))return function(M){Fe(M,-2829,"The type of the PDF password must be a string.")}(P),!1;_.password=""+_.password}}var H=P._getPdfDllname();A=["[",p.stringify(I),',"',H,'"',"]"].join("");var k=P._innerFun("SetPDFReaderOptions",A);return k&&b&&(P._pdfOptions=p.clone(I),p.isNumber(I.convertMode)&&(I.convertMode==gr.CM_RENDERALL&&I.renderOptions.renderAnnotations&&(I.convertMode=gr.CM_RENDERALLWITHANNOTATION),P._pdfConvertMode=I.convertMode,P._pdfOptions.convertMode==gr.CM_IMAGEONLY&&L==gr.CM_RENDERALL||P._pdfOptions.convertMode==gr.CM_IMAGEONLY&&L==gr.CM_RENDERALLWITHANNOTATION))?(P._pdfConvertMode=gr.CM_IMAGEONLY,Cd(P),!1):k}},{key:"_getPdfDllname",value:function(){var _=this,b=!1,I=!1;return _._bRemoteMode?_.__serverPlatform==Et.enumWindow||(_.__serverPlatform==Et.enumLinux?I=!0:_.__serverPlatform==Et.enumMac&&(b=!0)):(b=ue.bMac,I=ue.bLinux,ue.bWin),b?_._b64bit?"libDynamicPdfCorex64_"+xo.PdfVersion+".dylib":"libDynamicPdfCore_"+xo.PdfVersion+".dylib":I?"libDynamicPdfCore_"+xo.PdfVersion+".so":_._b64bit?"DynamicPdfCorex64_"+xo.PdfVersion+".dll":"DynamicPdfCore_"+xo.PdfVersion+".dll"}},{key:"_unload_viewer",value:function(){}},{key:"__innerDeleteInMap",value:function(){return this._id,delete B.DWT.WebTwainIdMap[this._id],rt}},{key:"__unload",value:(l=a(E().mark(function _(){var b,I,A,P;return E().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(b=this,I=p.clone(B.DWT.licenseException),b.__closeRemoteScanUI(!0),!b._destroy&&!b._destroying){L.next=5;break}return L.abrupt("return");case 5:if(b._destroying=!0,this.__innerDeleteInMap(),b.__addon&&b.__addon.Camera&&b.__addon.Camera._viewer&&(b.__addon.Camera.getStatus()!=""&&b.__addon.Camera.closeSource().catch(function(){}),b.__addon.Camera._viewer.dispose(),b.__addon.Camera._viewer=null),b._unload_viewer(),b._containerElement=null,b._ImgManager&&b._ImgManager.clear(),!b._bReady||V.page.bUnload){L.next=20;break}if(!b._wsClient){L.next=20;break}return L.prev=13,L.next=16,b._innerDisposeWSClient();case 16:L.next=20;break;case 18:L.prev=18,L.t0=L.catch(13);case 20:if(!b._wsClient){L.next=34;break}return b._wsClient.removeEvent("close",b._clientId),b._wsClient.removeEvent("error",b._clientId),b._wsClient.removeEvent("timeout",b._clientId),L.prev=24,L.next=27,b._wsClient.dispose();case 27:L.next=32;break;case 29:L.prev=29,L.t1=L.catch(24),A=L.t1;case 32:delete b._wsClient,b._wsClient=null;case 34:if(b._bReady=!1,B.DWT.lremoveDWTObj(b),b.__bAcquireImageNow=!1,b._destroying=!1,b._destroy=!0,(P=B.DWT.licenseException).code=I.code,P.message=I.message,P.fromLTS=I.fromLTS,!A){L.next=45;break}throw A;case 45:case"end":return L.stop()}},_,this,[[13,18],[24,29]])})),function(){return l.apply(this,arguments)})},{key:"_setIfShowUI",value:function(_){this._resetErr(),this._isValid()&&(p.isBoolean(_)?this._innerFun("IfShowUI",Ve(_)):Vn(self))}},{key:"_setIfShowFileDialog",value:function(_){this._resetErr(),this._isValid()&&(p.isBoolean(_)?this._innerFun("IfShowFileDialog",Ve(_)):Vn(self))}},{key:"_getDevicesAsync",value:(u=a(E().mark(function _(b,I,A,P){var L,$,ee,q,Q;return E().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(L=this,$=[],!I||p.isNumber(I)){J.next=4;break}return $t(L),J.abrupt("return",Te.Promise.reject({code:L._errorCode,message:L._errorString}));case 4:if(ee=L._bRemoteMode?lp:ue.bAndroid?BT:lp,q=I??ee,L._resetErr(),L._isValid()){J.next=8;break}return J.abrupt("return",Te.Promise.reject({code:L._errorCode,message:L._errorString}));case 8:return Xr(b,L),J.prev=9,J.next=12,L._getDevices(q,A,P);case 12:Q=J.sent,p.isArray(Q)&&Q.length>0&&($=$.concat(Q)),J.next=19;break;case 16:throw J.prev=16,J.t0=J.catch(9),J.t0;case 19:return J.prev=19,kr(b),J.finish(19);case 22:return $.length>0&&this._setDevices($),J.abrupt("return",$);case 24:case"end":return J.stop()}},_,this,[[9,16,19,22]])})),function(_,b,I,A){return u.apply(this,arguments)})},{key:"_openSourceAsync",value:function(_){var b=this;return b._resetErr(),b._isValid()?(b._bRemoteMode&&b._initRemoteDiv(),b._innerFunV2("OpenSource").then(function(I){return b.__closeRemoteScanUI(!0),I},function(I){return b.__closeRemoteScanUI(!0),Te.Promise.reject(I)})):Te.Promise.reject({code:b._errorCode,message:b._errorString})}},{key:"_closeSourceAsync",value:function(_){var b=this;return b._resetErr(),b._isValid()?b._innerFunV2("CloseSource").then(function(){return b._curDevice=null,!0}):Te.Promise.reject({code:b._errorCode,message:b._errorString})}},{key:"_selectSourceAsync",value:function(_,b,I){var A=this;return A._resetErr(),A._isValid()?A._getDevicesAsync(_,b).then(function(P){var L,$,ee=document,q=P?P.length:0;Te.dialog.selectsourcedlg&&(Te.dialog.selectsourcedlg.close(),document.body.removeChild(Te.dialog.selectsourcedlg),Te.dialog.selectsourcedlg=!1);var Q,J,te,H,k=-1;for(($=ee.createElement("dialog")).className="dynamsoft-dialog-selectsource",ue.bIE&&($.style.width="300px"),$.setAttribute("closed","closed"),(Q=[]).push('<ul id="dynamsoft-dialog-selectsource-sourcelist-ul">'),L=0;L<q;L++){var M="",U=A._getSourceNameByIndex(L);(A.__defaultSourceName==""&&L==0||A.__defaultSourceName==U)&&(M=" dynamsoft-dialog-selectsource-sourcelist-li-selected",k=L),Q.push('<li class="dynamsoft-dialog-selectsource-item'+M+'" sourceindex="'+L+'">'+U+"</li>")}return Q.push("</ul>"),Q=Q.join(""),p.isArray(I)&&I.length>=3?(J=I[0],te=I[1],H=I[2]):(J="Select Source:",te="Select",H="Cancel"),tE($,["<p>",J,"</p>",'<div id="dynamsoft-dialog-selectsource-sourcelist">',Q,"</div>",'<div><input type="button" value="',te,'" class="dynamsoft-dialog-selectsource-button-select" />','<input type="button" value="',H,'" class="dynamsoft-dialog-selectsource-button-cancel" /></div>'].join("")),Te.dialog.selectsourcedlg=$,ee.body.appendChild(Te.dialog.selectsourcedlg),p.each(p.sizzle(".dynamsoft-dialog-selectsource-item"),function(G,z){p.addEventListener(G,"click",function(Z){for(var ie=Z.target,se=ie.getAttribute("sourceindex"),re=ie.parentElement.children,ae=0;ae<re.length;ae++)re[ae].className="dynamsoft-dialog-selectsource-item";ie.className="dynamsoft-dialog-selectsource-item dynamsoft-dialog-selectsource-sourcelist-li-selected",p.get("dynamsoft-dialog-selectsource-sourcelist-ul").setAttribute("selectedSourceIndex",se)})}),p.get("dynamsoft-dialog-selectsource-sourcelist-ul").setAttribute("selectedSourceIndex",k.toString()),Te.dialog.setup(Te.dialog.selectsourcedlg),Te.dialog.selectsourcedlg&&Te.dialog.selectsourcedlg.showModal(),ee.compatMode=="CSS1Compat"?ee.documentElement.scrollTop:ee.body.scrollTop,new Te.Promise(function(G,z){p.removeEventListener(Te.one(".dynamsoft-dialog-selectsource-button-select")[0],"click"),p.removeEventListener(Te.one(".dynamsoft-dialog-selectsource-button-cancel")[0],"click"),q>0&&p.addEventListener(Te.one(".dynamsoft-dialog-selectsource-button-select")[0],"click",function(){var Z=parseInt(p.get("dynamsoft-dialog-selectsource-sourcelist-ul").getAttribute("selectedSourceIndex"));Z<0||A._selectSourceByIndexAsync(_,Z).then(function(){Te.dialog.selectsourcedlg&&(Te.dialog.selectsourcedlg.close(),document.body.removeChild(Te.dialog.selectsourcedlg),Te.dialog.selectsourcedlg=!1),G(Z)})}),p.addEventListener(Te.one(".dynamsoft-dialog-selectsource-button-cancel")[0],"click",function(){Te.dialog.selectsourcedlg&&(Te.dialog.selectsourcedlg.close(),document.body.removeChild(Te.dialog.selectsourcedlg),Te.dialog.selectsourcedlg=!1);var Z={};ko(Z),z({code:Z._errorCode,message:Z._errorString})})})}):Te.Promise.reject({code:A._errorCode,message:A._errorString})}},{key:"_dwtGetCapabilities",value:function(_,b,I){var A=this,P=null,L=function(){p.isFunction(I)&&I(A._errorCode,A._errorString)};if(_){if(!p.isArray(_))return $t(A),void L();if(_.length==0)return void(p.isFunction(b)&&b([]));if(function($,ee){var q,Q,J,te;for(te=0;te<ee.length;te++){if(q=ee[te],Q=!1,J=!1,p.isString(q)){var H=q;q=parseInt(q),(p.isNaN(q)||q!=H)&&(Q=!0)}if(Q==0&&p.isNumber(q)?(q<1||q>65535)&&(J=!0):Q=!0,Q)return $t($),!1;if(J)return v9($),!1}return!0}(A,_)===!1)return void L();P=Ve(_)}A._sendDataByHttpAsync("GetCapabilities",P).then(function($){try{var ee,q;$.length>0&&(q=$[0]),p.isString(q)?(q=V.removeNonPrintableChar(q),q=p.replaceAll(q,"\\\\","\\\\"),(ee=JSON.parse(q)).errorCode==0?p.isFunction(b)&&b(ee.response):(A._errorCode=ee.errorCode,A._errorString=ee.errorString,L())):(Mi(A),L())}catch(Q){A._errorCode=-2302,A._errorString=Q,L()}},L)}},{key:"_dwtSetCapabilities",value:function(_,b,I){var A=this;if(!p.isObject(_)||p.isArray(_))return $t(A),p.isFunction(I)&&I(A._errorCode,A._getErrorString()),!1;var P=["[",p.stringify(_),"]"].join("");return A._innerSend("SetCapabilities",P,0,function(L){p.isFunction(b)&&b(L)},I),!0}},{key:"_selectDeviceAsync",value:(s=a(E().mark(function _(b,I,A){var P,L;return E().wrap(function($){for(;;)switch($.prev=$.next){case 0:return P=this,Xr(b,this),$.prev=2,$.next=5,w(x(n.prototype),"_innerSelectDeviceAsync",this).call(this,I,A);case 5:(L=$.sent)&&(P._curDevice=I,P._bSelectedSourceByServer=!1),$.next=12;break;case 9:throw $.prev=9,$.t0=$.catch(2),$.t0;case 12:return $.prev=12,kr(b),$.finish(12);case 15:return $.abrupt("return",L);case 16:case"end":return $.stop()}},_,this,[[2,9,12,15]])})),function(_,b,I){return s.apply(this,arguments)})},{key:"_selectSourceByIndexAsync",value:(o=a(E().mark(function _(b,I){var A,P,L;return E().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(P=1*I,(A=this)._resetErr(),A._isValid()){$.next=4;break}return $.abrupt("return",Te.Promise.reject({code:A._errorCode,message:A._errorString}));case 4:if(!p.isNaN(P)){$.next=7;break}return Ot(A),$.abrupt("return",Te.Promise.reject({code:A._errorCode,message:A._errorString}));case 7:if(A.__devices){$.next=10;break}return $.next=10,A._getDevicesAsync(b,null);case 10:if(!(P<0||P>=A.__devices.length)){$.next=13;break}return qe(A),$.abrupt("return",Te.Promise.reject({code:A._errorCode,message:A._errorString}));case 13:return L=A.__devices[P],$.abrupt("return",A._selectDeviceAsync(b,L));case 15:case"end":return $.stop()}},_,this)})),function(_,b){return o.apply(this,arguments)})},{key:"_removeAllImages",value:function(_){var b=this,I=!0;if(b._resetErr(),!b._isValid())return!1;var A,P=[];for(A=b._getHowManyImagesInBuffer()-1;A>=0;A--){var L=b._imageBufferWrapper.convertClientIndexToServerId(A);L>-1&&P.push(L)}if(P.length>0){if(b._OnBitmapChanged(["c1",P.join(","),3,b._ImgManager.getCurrentImageIndex(),b._ImgManager.count()]),I=b._innerFunRaw("RemoveAllImages",Ve(P.join(",")),!1,!1,!1,function(){},function(){}),p.isArray(I))return I[0]}else I=!0;return I}},{key:"_removeImage",value:function(_,b){var I,A=this,P=parseInt(b);if(!Ln(A,P))return!1;var L=A._ImgManager.convertClientIndexToServerId(P);return L==-1?(qe(A),!1):(((I=A._innerFun("RemoveImage",Ve(L)))||A._errorCode==-1033)&&A._OnBitmapChanged(["c1",""+L,3,A._ImgManager.getCurrentImageIndex(),A._ImgManager.count()]),I)}},{key:"__innerAcquireOrLoadImageAsync",value:function(_,b,I,A){var P=this;return new Te.Promise(function(L,$){var ee=_=="LoadImage"||_=="LoadImageEx"||_=="GenerateURLForUploadData",q=ee||_=="LoadDibFromClipboard";ee?V.showProgress(P,_,!1):Xr(_,P),P._innerSend(_,b,!0,function(Q){if(P.__bLoadingImage=!1,P.__bOpenFileNow=!1,P.__closeRemoteScanUI(!0),ee){if(V.closeProgress(null,_),P._isBindViewer()){var J=P._ImgManager.getCurrentImageIndex();J>=0&&P._innerRefreshUI(J)}}else kr(_);q&&P._canConsume()&&B.DWT.lcvrf(P),p.isFunction(L)&&L(Q)},function(Q){ee?V.closeProgress(null,""):kr(_),P.__bLoadingImage=!1,P.__bAcquireImageNow=!1,P.__bOpenFileNow=!1,P.__closeRemoteScanUI(!0);var J=P._ImgManager.getCurrentImageIndex();J>=0&&P._innerRefreshUI(J),aF(P._errorCode)&&Cd(P),p.isFunction($)&&$({code:P._errorCode,message:P._getErrorString()}),ee?V.closeProgress(null,_):kr(_),Q&&p.error(Q)})})}},{key:"_innerLoadImageFromBinary",value:function(_,b,I,A,P,L){var $,ee,q=this,Q=b;if(!_t.checkProductKey(q,{Core:!0}))return p.isFunction(L)&&L(q._errorCode,q._getErrorString()),!1;if(!_||_=="")return ci(q),p.isFunction(L)&&L(q._errorCode,q._getErrorString()),!1;if(p.isString(_))return $t(q),p.isFunction(L)&&L(q._errorCode,q._getErrorString()),!1;if(_ instanceof Blob)ee=_.size;else if(eu(_))ee=_.byteLength;else if(_ instanceof Array)ee=_.length;else{var J=_;ee=J.size||J.byteLength||J.length}if(!ee||ee=="")return $t(q),p.isFunction(L)&&L(q._errorCode,q._getErrorString()),!1;var te=_.currentFileName;te||(te=q._getCurrentDocumentName());var H,k=_.currentTagName;if(k||!p.isUndefined(_.bNeedClearCurrentTagName)&&_.bNeedClearCurrentTagName||(k=q._getCurrentDefaultTagName()),_ instanceof FileList){if(_.length==1)return _[0].currentFileName=te,_[0].currentTagName=k,q._innerLoadImageFromBinary(_[0],Q,I,P,L);if(_.length>1){var M;for(p.asyncQueue.stop(),M=0;M<_.length;M++)_[M].currentFileName=te,_[M].currentTagName=k,M==_.length-1?p.asyncQueue.pushToDo(q,"_innerLoadImageFromBinary",[_[M],Q,I,P,L]):p.asyncQueue.pushToDo(q,"_innerLoadImageFromBinary",[_[M],Q,I,null,L]);return p.asyncQueue.start(),!0}return ci(q),p.isFunction(L)&&L(q._errorCode,q._getErrorString()),!1}if(window.ReadableStream&&_ instanceof ReadableStream?$=new Response(_):window.Response&&_ instanceof Response&&($=_),$)$.arrayBuffer().then(function(se){var re;(re=new Blob([se])).currentFileName=_.currentFileName,re.currentTagName=_.currentTagName;var ae=A,Se=0;I&&(Se=q.__GetLoadEventsNum()),q.__LoadImageFromBytesV1(re,-1,"",Se,ae,P,L)});else{var U=_;A&&eu(U)&&((U=new Blob([_])).currentFileName=_.currentFileName,U.currentTagName=_.currentTagName);var G=-1,z=A,Z=B.DWT.EnumDWT_ImageType;p.isString(U.type)&&(U.type=="application/pdf"?G=Z.IT_PDF:U.type=="image/png"?G=Z.IT_PNG:U.type=="image/jpeg"||U.type=="image/jpg"?G=Z.IT_JPG:U.type=="image/bmp"?G=Z.IT_BMP:U.type=="image/tiff"||U.type=="image/tif"?G=Z.IT_TIF:U.type=="image/jp2"&&(G=Z.IT_J2K));var ie=0;I&&(ie=q.__GetLoadEventsNum()),H=q.__LoadImageFromBytesV1(U,G,"",ie,z,P,L)}return!!A||H}},{key:"__LoadImageFromBytes",value:function(_,b,I,A,P,L,$,ee){var q=this.__LoadImageFromBytesV2(_,b,I,A,$,ee,!1,0,P,L);return A?q:this._errorCode==0}},{key:"__LoadImageFromBytesV1",value:function(_,b,I,A,P,L,$){var ee=this.__LoadImageFromBytesV2(_,b,I,P,0,0,!1,A,L,$);return P?ee:this._errorCode==0}},{key:"_isMobileMode",value:function(){return!1}},{key:"ErrorCode",get:function(){return this._errorCode}},{key:"ErrorString",get:function(){return this._getErrorString()}},{key:"HowManyImagesInBuffer",get:function(){return this._getHowManyImagesInBuffer()}},{key:"_OnActiveUIClearBuffer",value:function(){var _=this.__OnBufferChanged;this.__OnBufferChanged=null,this._ImgManager.clear(),this.__OnBufferChanged=_}}]);var o,s,u,l,c,f,m,v,S}(qB);function tce(r,n,o){var s=this;return s._dwtConvertToBlobSync(n,r,o,function(u){if(!u||u.size<=0)return jR(s),!1;var l=s.__maxUploadImageSize;return u.size>l&&l!=-1?(fs(s),!1):u},function(u){return!1})}function rU(){this.__defaultSourceName="",this.__sourceCount=0}function nU(r,n){var o=this,s=o._getPdfDllname(),u=["[",p.stringify(r),',"',s,'"',"]"].join("");return o._innerFunV2("SetPDFReaderOptions",u).then(function(){if(p.isNumber(n)&&(o._pdfConvertMode=n),o._pdfOptions.convertMode=r.convertMode,o._pdfOptions.renderOptions.renderAnnotations=r.renderOptions.renderAnnotations,o._pdfOptions.convertMode==gr.CM_IMAGEONLY&&o._pdfConvertMode==gr.CM_RENDERALL||o._pdfOptions.convertMode==gr.CM_IMAGEONLY&&o._pdfConvertMode==gr.CM_RENDERALLWITHANNOTATION)throw o._pdfConvertMode=gr.CM_IMAGEONLY,Cd(o),{code:o._errorCode,message:o._errorString};return!0})}var iU=function(r,n){if(Wr.bDiscardBlankImage){var o=r._ImgManager.getCurrentImageIndex();r.IsBlankImage(o)&&r.RemoveImage(o);var s=["Blank Discard (",n,"): ",r.ErrorString].join("");p.isFunction(r.__OnPrintMsg)&&r.__OnPrintMsg(s)}};function rce(r){return oU.apply(this,arguments)}function oU(){return(oU=a(E().mark(function r(n){var o,s,u,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(o=n,!B.DWT.ConnectWithSocket){c.next=6;break}return c.next=4,new Te.Promise(function(f,m){o._sendData("IfDisableSourceAfterAcquire","[1]",!1,f,m)});case 4:c.next=8;break;case 6:return c.next=8,n._innerFunV2("IfDisableSourceAfterAcquire","[1]");case 8:s=qt.TWAIN,u=!1,l=!1,o._bRemoteMode?o.__serverPlatform==Et.enumWindow||(o.__serverPlatform==Et.enumLinux?l=!0:o.__serverPlatform==Et.enumMac&&(u=!0)):(u=ue.bMac,l=ue.bLinux,ue.bWin),u?s=qt.TWAIN_AND_ICA:l&&(s=qt.SANE),n._driverType=s,n._bRemoteMode&&(n._setIfShowUI(!1),n._setIfShowFileDialog(!1));case 13:case"end":return c.stop()}},r)}))).apply(this,arguments)}function nce(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function Mo(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var po=new WeakSet,ice=function(r){function n(){var s;h(this,n);for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];return nce(s=d(this,n,[].concat(l)),po),s}return F(n,r),y(n,[{key:"SaveAsGIF",value:function(s,u,l,c){var f=this,m=!1;if(p.isFunction(l)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!(_t.checkProductKey(f,{Core:!0})||ue.bWin&&_t.checkProductKey(f,{Webcam:!0},!0)))return _t.checkProductKey(f,{Core:!0},!1),p.isFunction(c)&&c(f._errorCode,f._getErrorString()),!!m&&void 0;var v,S=xt.replaceLocalFilename(s);if(!Yu(f,u,c))return!!m&&void 0;if((v=f._ImgManager.convertClientIndexToServerId(u))==-1)return qe(f),p.isFunction(c)&&ft(c,f),!!m&&void 0;var _=f.__GetLoadEventsNum(),b=f.__innerSaveImage("SaveAsGIF",Ve(S,v,_),l,c);return m?void 0:b}},{key:"SaveSelectedImagesToBase64Binary",value:function(s,u){var l=this,c=!1;if(p.isFunction(s)&&(c=!0),l._resetErr(),!l._isValid())return p.isFunction(u)&&ft(u,l),!!c&&void 0;if(!(_t.checkProductKey(l,{Core:!0})||ue.bWin&&_t.checkProductKey(l,{Webcam:!0},!0)))return _t.checkProductKey(l,{Core:!0},!1),p.isFunction(u)&&u(l._errorCode,l._getErrorString()),!!c&&void 0;var f=Fd(l);return f.length==0?(Nn(l),p.isFunction(u)&&ft(u,l),!!c&&void 0):c?void l._innerSend("SaveSelectedImagesToBase64Binary",Ve(f.join(",")),!0,s,u):l._innerFun("SaveSelectedImagesToBase64Binary",Ve(f.join(",")))}},{key:"ShowFileDialog",value:function(s,u,l,c,f,m,v,S){var _=this;if(_._resetErr(),!_._isValid())return!1;var b,I=xt.replaceLocalFilename(f);return b=_.__GetLoadEventsNum(),_._innerSend("ShowFileDialog",Ve(s,u,l,c,I,m,v,S,b),!0),!0}},{key:"FTPDownload",value:function(s,u,l,c){var f=this,m=!1;if(p.isFunction(l)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!s)return $t(f),p.isFunction(c)&&ft(c,f),!!m&&void 0;var v=xt.getImageType(u);return Mo(po,f,uU).call(f,"FTPDownload",Ve(s,u),v,l,c)}},{key:"FTPDownloadEx",value:function(s,u,l,c,f){var m=this,v=!1;return p.isFunction(c)&&(v=!0),m._resetErr(),m._isValid()?s?Mo(po,m,uU).call(m,"FTPDownloadEx",Ve(s,u,l),l,c,f):($t(m),p.isFunction(f)&&ft(f,m),!!v&&void 0):(p.isFunction(f)&&ft(f,m),!!v&&void 0)}},{key:"FTPUpload",value:function(s,u,l,c,f){var m=this,v=!1;if(p.isFunction(c)&&(v=!0),m._resetErr(),!m._isValid())return p.isFunction(f)&&ft(f,m),!!v&&void 0;if(!Yu(m,u,f))return!!v&&void 0;var S=m._ImgManager.convertClientIndexToServerId(u);if(S==-1)return qe(m),p.isFunction(f)&&ft(f,m),!!v&&void 0;var _=m.__innerFTPUpload("FTPUpload",Ve(s,S,l),c,f);return v?void 0:_}},{key:"FTPUploadEx",value:function(s,u,l,c,f,m){var v,S=this,_=!1;if(p.isFunction(f)&&(_=!0),S._resetErr(),!S._isValid())return p.isFunction(m)&&ft(m,S),!!_&&void 0;if(!Yu(S,u,m))return!!_&&void 0;if((v=S._ImgManager.convertClientIndexToServerId(u))==-1)return qe(S),p.isFunction(m)&&ft(m,S),!!_&&void 0;var b=S.__innerFTPUpload("FTPUploadEx",Ve(s,v,l,c),f,m);return _?void 0:b}},{key:"FTPUploadAllAsMultiPageTIFF",value:function(s,u,l,c){var f=this,m=!1;if(p.isFunction(l)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;var v=[];f_(f,v);var S=f.__innerFTPUpload("FTPUploadAsMultiPageTIFF",Ve(s,u,v.join(",")),l,c);return m?void 0:S}},{key:"FTPUploadAllAsPDF",value:function(s,u,l,c){var f=this,m=!1;if(p.isFunction(l)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;var v=[];f_(f,v);var S=f.__innerFTPUpload("FTPUploadAsMultiPagePDF",Ve(s,u,v.join(",")),l,c);return m?void 0:S}},{key:"FTPUploadAsMultiPagePDF",value:function(s,u,l,c){var f=this,m=!1;if(p.isFunction(l)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;var v=Fd(f),S=f.__innerFTPUpload("FTPUploadAsMultiPagePDF",Ve(s,u,v.join(",")),l,c);return m?void 0:S}},{key:"FTPUploadAsMultiPageTIFF",value:function(s,u,l,c){var f=this,m=!1;if(p.isFunction(l)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;var v=Fd(f),S=f.__innerFTPUpload("FTPUploadAsMultiPageTIFF",Ve(s,u,v.join(",")),l,c);return m?void 0:S}},{key:"HTTPDownloadDirectly",value:function(s,u,l,c,f){var m,v=this,S=!1;if(p.isFunction(c)&&(S=!0),v._resetErr(),!v._isValid()||!_t.checkProductKey(v,{Core:!0}))return p.isFunction(f)&&ft(f,v),!!S&&void 0;var _,b,I=v._GetHttpHeadersAndClear(),A=xt.combineUrl(v,s,u);if(A===void 0)return ci(v),p.isFunction(f)&&ft(f,v),!!S&&void 0;if(!l||l=="")return function(q,Q){Fe(q,-2309,"The LocalFile is empty in the name "+Q+" Function.")}(v,"HTTPDownloadDirectly"),p.isFunction(f)&&ft(f,v),!!S&&void 0;if(_=xt.getImageType(l),!_t.checkPDFProductKeyWhenNeeds(v,_))return p.isFunction(f)&&ft(f,v),!!S&&void 0;V.cancelFrom=Lt.HTTPDownload,b=xt.replaceLocalFilename(l),v.IfShowProgressBar?V.showProgress(v,"HTTPDownloadDirectly",!1):V.hideProgress();var P=(m=V.progressContext)===null||m===void 0?void 0:m.IfShowCancelDialogWhenImageTransfer,L=function(){return v.IfShowProgressBar&&V.closeProgress(null,"HTTPDownloadDirectly"),p.isFunction(c)&&c(),!0},$=function(){return V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=P),v.IfShowProgressBar&&V.closeProgress(null,"HTTPDownloadDirectly"),p.isFunction(f)&&ft(f,v),!1};v._OnPercentDone([0,-1,br.Downloading,"http"]),V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=!0);var ee=xt.loadHttpBlob(v,"get",A,S,function(q){V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=P),v._OnPercentDone([0,-1,br.Loading]);var Q=v.__GetLoadEventsNum();return v.__LoadImageFromBytesV1(q,3,b,Q,S,L,$)},$,function(q){var Q=q.total===0?100:Math.round(100*q.loaded/q.total);[q.loaded," / ",q.total].join(""),Q>=100&&q.loaded<q.total&&(Q=99),v._OnPercentDone([0,Q,"","http"])},I);return S?void 0:!!ee}},{key:"HTTPUploadThroughPostDirectly",value:function(s,u,l,c,f,m){var v=this,S=!1,_=function(){p.isFunction(m)&&ft(m,v,v.__HTTPPostResponseString)};if(p.isFunction(f)&&(S=!0),v._resetErr(),v.__HTTPPostResponseString="",!v._isValid())return _(),!!S&&void 0;var b=xt.combineUrl(v,s,l);if(!u)return al(v),_(),!!S&&void 0;if(!s)return dT(v),_(),!!S&&void 0;var I=this.IfShowProgressBar;return v._innerUploadDirectly(b,u,c,I,!1,0,!0,!1,f,_)}},{key:"_innerUploadDirectly",value:function(s,u,l,c,f,m,v,S,_,b){var I,A,P=this,L=P._GetHttpHeadersAndClear(),$="HTTPUploadThroughPostDirectly",ee=!1;if(p.isFunction(_)&&(ee=!0),s===void 0||s===!1||s==="")return ci(P),p.isFunction(b)&&ft(b,P),!!ee&&void 0;if(!_t.checkProductKey(P,{Core:!0}))return p.isFunction(b)&&ft(b,P),!!ee&&void 0;V.cancelFrom=Lt.HTTPUpload;var q=function(Q,J,te){return Q!=0&&J&&(P._errorCode=Q,P._errorString=J),te&&(P.__HTTPPostResponseString=te),V.needShowTwiceShowDialog=!1,c&&V.closeProgress(null,$),p.isFunction(b)&&ft(b,P),!1};return V.needShowTwiceShowDialog=!0,c?V.showProgress(P,$,!1):V.hideProgress(),(I=xt.replaceLocalFilename(u))&&I!=""?S&&S.bCancel?(S.st=2,ko(P),q(P._errorCode,P._errorString),!!ee&&void 0):(A=Mo(po,P,aU).call(P,I,ee,f,function(Q){if(V.needShowTwiceShowDialog=!1,S&&S.bCancel)return S.st=2,ko(P),q(P._errorCode,P._errorString),!1;if(Q&&(!c||c&&V.dlgRef>0||ee==0)){Q instanceof File?Q.fileName=l:Q.name=l,c&&cu(P.__IfShowCancelDialogWhenImageTransfer);var J=new Cs,te=P._createHttpUploaderConfig(),H=new sa;return P.__remoteFilename&&P.__remoteFilename!=""&&(H.remoteFilename=P.__remoteFilename),te.objUploadStatus=S,H.url=s,H.method=$,H.content=Q,Q=null,H.contentType=P._strHttpContentTypeFieldValue,H.headers=L,H.bAsync=ee,H.httpFormData=pc(P.httpFormFields),H.retry=m,H.bOnlyResponseEmptyIsOK=v,H.blockSize=P._moduleSize,J.httpPostUpload(te,H,function(k){return c&&V.closeProgress(null,$),p.isFunction(_)&&_n(_,k),!0},q)}return al(P),q(P._errorCode,P._errorString),!1},q),ee?void 0:!!A):(al(P),q(P._errorCode,P._errorString),!!ee&&void 0)}},{key:"_innerUploadFilesDirectly",value:function(s,u,l,c,f,m,v,S,_){var b,I=this,A=I._GetHttpHeadersAndClear(),P="HTTPUploadThroughPostDirectly",L=!1,$=[];if(p.isFunction(S)&&(L=!0),s===!1||s==="")return ci(I),p.isFunction(_)&&_({code:I._errorCode,message:I._getErrorString(),files:u}),!1;if(!_t.checkProductKey(I,{Core:!0}))return p.isFunction(_)&&_({code:I._errorCode,message:I._getErrorString(),files:u}),!1;V.cancelFrom=Lt.HTTPUpload;var ee=function(te,H,k){return te!=0&&H&&(I._errorCode=te,I._errorString=H),k&&(I.__HTTPPostResponseString=k),V.needShowTwiceShowDialog=!1,c&&V.closeProgress(null,P),p.isFunction(_)&&_({code:I._errorCode,message:I._errorString,response:k,files:u}),!1};V.needShowTwiceShowDialog=!0,c?V.showProgress(I,P,!1):V.hideProgress(),p.each(u,function(te){var H=xt.replaceLocalFilename(te);if(!H||H=="")return al(I),ee(I._errorCode,I._errorString),!1;$.push(H)});var q=[],Q=$.length,J=0;return p.each($,function(te,H){b=Mo(po,I,aU).call(I,te,L,f,function(k){if(V.needShowTwiceShowDialog=!1,!k||c&&!(c&&V.dlgRef>0)&&L!=0)return c&&V.closeProgress(null,P),hT(I),p.isFunction(ee)&&ee(I._errorCode,I._errorString),!1;var M=ho(l,H+1);if(k instanceof File?k.fileName=M:k.name=M,q[H]=k,k=null,++J==Q){c&&cu(I.__IfShowCancelDialogWhenImageTransfer);var U=I._createHttpUploaderConfig(),G=new sa;I.__remoteFilename&&I.__remoteFilename!=""&&(G.remoteFilename=I.__remoteFilename),G.url=s,G.method=P,G.content=q,q=null,G.contentType=I._strHttpContentTypeFieldValue,G.headers=A,G.bAsync=L,G.httpFormData=pc(I.httpFormFields),G.retry=m,G.bOnlyResponseEmptyIsOK=v,G.blockSize=I._moduleSize;var z=XB(U,G,function(Z){return c&&V.closeProgress(null,P),p.isFunction(S)&&_n(S,Z),!0},function(Z,ie,se){return c&&V.closeProgress(null,P),p.isFunction(ee)&&ee(Z,ie,se),!1});return L?void 0:z}},function(){return c&&V.closeProgress(null,P),p.isFunction(ee)&&ee(),!1})}),L?void 0:!!b}},{key:"_createHttpUploaderConfig",value:function(){var s=this,u=new JB;return u.IfShowProgressBar=s.IfShowProgressBar,u.IfShowCancelDialogWhenImageTransfer=s.__IfShowCancelDialogWhenImageTransfer,u.MaxUploadImageSize=s.MaxUploadImageSize,u.HTTPRequestswithCredentials=s.HTTPRequestswithCredentials,u.onPercent=function(l){s._OnPercentDone(l)},u.onHttpUploadStatus=function(l){p.isFunction(s.__OnHttpUploadStatus)&&s.__OnHttpUploadStatus(l)},u}},{key:"SetUploadSegment",value:function(s,u){var l=this;return l._resetErr(),!!l._isValid()&&(!p.isNumber(s)||s<0?(Fe(l,-2367,"Invalid value for the parameter segmentUploadThreshold."),!1):!p.isNumber(u)||u<=0?(function(c){Fe(c,-2368,"Invalid value for the parameter moduleSize.")}(l),!1):(l._segementUploadThreshold=1024*s*1024,l._moduleSize=1024*u,!0))}},{key:"ConvertToBase64",value:function(s,u,l,c){var f,m=this,v=arguments,S=!1;if(p.isFunction(l)&&(S=!0),m._resetErr(),!m._isValid())return p.isFunction(c)&&jn(c,m,s,u,v),!!S&&void 0;var _=parseInt(u);if(!_t.checkProductKey(m,{Core:!0})||!m._checkIndices(s))return p.isFunction(c)&&jn(c,m,s,u,v),!!S&&void 0;if(_==B.DWT.EnumDWT_ImageType.IT_BMP||_==B.DWT.EnumDWT_ImageType.IT_JPG||_==B.DWT.EnumDWT_ImageType.IT_PNG){if(s.length>1)return Fe(m,-2361,"You cannot convert more than one image to base64 string when the format is BMP, JPG or PNG."),p.isFunction(c)&&jn(c,m,s,u,v),!!S&&void 0}else if(_!=B.DWT.EnumDWT_ImageType.IT_TIF&&_!=B.DWT.EnumDWT_ImageType.IT_PDF)return Li(m),p.isFunction(c)&&jn(c,m,s,u,v),!!S&&void 0;if((f=Qu(m,s)).length==0)return Ot(m),p.isFunction(c)&&jn(c,m,s,u,v),!!S&&void 0;V.cancelFrom=Lt.ConvertToBlob,m._convertToBase64ByServerIdsWithUI("ConvertToBase64",f,_,!1,3,function(b){var I=[];p.isArray(f)&&p.each(f,function(A){var P=m._ImgManager.convertServerIdToClientIndex(A);P>-1&&I.push(P)}),p.isFunction(l)&&_n(l,b,I,u,v)},function(){var b=[];p.isArray(f)&&p.each(f,function(I){var A=m._ImgManager.convertServerIdToClientIndex(I);A>-1&&b.push(A)}),p.isFunction(c)&&jn(c,m,b,u,v)})}},{key:"ClearAllHTTPFormField",value:function(){var s=this;return s._resetErr(),!!s._isValid()&&(s.httpFormFields={},!0)}},{key:"SetHTTPFormField",value:function(s,u,l){var c=this;if(c._resetErr(),!c._isValid())return!1;var f=s;return p.isString(f)||(f=""+f),u instanceof Blob&&(u.name=l),c.httpFormFields[f]=u,!0}},{key:"HTTPDownloadThroughPost",value:function(s,u,l,c,f,m){var v,S,_=this,b=_._GetHttpHeadersAndClear(),I=xt.combineUrl(_,s,u),A=!1;if(p.isFunction(c)&&(A=!0),I===void 0)return ci(_),p.isFunction(f)&&ft(f,_,""),!!A&&void 0;if(!_t.checkProductKey(_,{Core:!0})||!_t.checkPDFProductKeyWhenNeeds(_,l))return p.isFunction(f)&&ft(f,_,""),!!A&&void 0;V.cancelFrom=Lt.HTTPDownload,_.IfShowProgressBar?V.showProgress(_,"HttpDownloadThroughPost",!1):V.hideProgress(),_._OnPercentDone([0,-1,br.Downloading,"http"]);var P=(v=V.progressContext)===null||v===void 0?void 0:v.IfShowCancelDialogWhenImageTransfer,L=function(){return _.IfShowProgressBar&&V.closeProgress(null,"HttpDownloadThroughPost"),p.isFunction(c)&&c(),!0},$=function(){return V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=P),_.IfShowProgressBar&&V.closeProgress(null,"HttpDownloadThroughPost"),p.isFunction(f)&&ft(f,_,_.__HTTPPostResponseString),!1};return V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=!0),S=xt.loadHttpBlob(_,"post",I,A,function(ee){V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=P),_._OnPercentDone([0,-1,br.Loading]);var q=l;q!=B.DWT.EnumDWT_ImageType.IT_BMP&&q!=B.DWT.EnumDWT_ImageType.IT_JPG&&q!=B.DWT.EnumDWT_ImageType.IT_TIF&&q!=B.DWT.EnumDWT_ImageType.IT_PNG&&q!=B.DWT.EnumDWT_ImageType.IT_PDF&&q!=B.DWT.EnumDWT_ImageType.IT_J2K&&(q=-1);var Q=_.__GetLoadEventsNum();return _.__LoadImageFromBytesV1(ee,q,"",Q,A,L,$)},$,function(ee){var q=ee.total===0?100:Math.round(100*ee.loaded/ee.total);[ee.loaded," / ",ee.total].join(""),q>=100&&ee.loaded<ee.total&&(q=99),_._OnPercentDone([0,q,"","http"])},b),A?void 0:!!S}},{key:"HTTPDownloadThroughGet",value:function(s,u,l,c,f){return this._innerHTTPDownloadThroughGet("HTTPDownload",s,u,l,c,f)}},{key:"HTTPUploadThroughPut",value:function(s,u,l,c,f){var m=xt.getImageType(l);return this.HTTPUploadThroughPutEx(s,u,l,m,c,f)}},{key:"HTTPUploadThroughPutEx",value:function(s,u,l,c,f,m){var v=this,S=v._GetHttpHeadersAndClear(),_="HTTPUploadThroughPutEx",b=xt.combineUrl(v,s,l),I=!1,A=[],P=!1,L=this.IfShowProgressBar;if(p.isFunction(f)&&(I=!0),b===void 0)return ci(v),p.isFunction(m)&&jn(m,v,"",[u],l,c),!!I&&void 0;V.cancelFrom=Lt.HTTPPut;var $,ee=function(){V.needShowTwiceShowDialog=!1,L&&V.closeProgress(null,_),p.isFunction(m)&&jn(m,v,v.__HTTPPostResponseString,A,l,c)};switch(V.needShowTwiceShowDialog=!0,L?V.showProgress(v,_,!1):V.hideProgress(),u){case-1:for(var q=0;q<v._ImgManager.count();q++)A.push(q);break;case-2:A=v._ImgManager.getSelectedClientIndexArray();break;default:if(A.push(u),!(u>=0))return qe(v),ee(),!!I&&void 0}if(s==="")return dT(v),ee(),!!I&&void 0;var Q=[];p.isArray(A)&&p.each(A,function(H){var k=v._ImgManager.convertClientIndexToServerId(H);k!=-1&&Q.push(k)});var J=!1;v._OnPercentDone([0,-1,br.Encoding,"http"]);var te=function(H,k,M){if(B.DWT.IfAddMD5InUploadHeader&&k&&k!=""&&(S["dwt-md5"]=k),V.needShowTwiceShowDialog=!1,H&&(!L||L&&V.dlgRef>0||I==0)){var U=v.__maxUploadImageSize;return H.size>U&&U!=-1?(fs(v),ee(),!!I&&void 0):($=function(G){var z=G.total===0?100:Math.round(100*G.loaded/G.total);[G.loaded," / ",G.total].join(""),z>=100&&G.loaded<G.total&&(z=99),v._OnPercentDone([0,z,"","http"])},v._OnPercentDone([0,-1,br.Uploading,"http"]),L&&cu(v.__IfShowCancelDialogWhenImageTransfer),V.cancelFrom=Lt.HTTPPut,P=xt.httpPutImage(v,b,H,I,function(G){if(G&&(v.__HTTPPostResponseString=G),L&&V.closeProgress(null,_),p.isFunction(f)){var z=[];p.isArray(Q)&&p.each(Q,function(Z){var ie=v._ImgManager.convertServerIdToClientIndex(Z);ie>-1&&z.push(ie)}),_n(f,v.__HTTPPostResponseString,z,l,c)}return!0},ee,$),H=null,I?void 0:!!P)}return H=null,L&&V.closeProgress(null,_),!!I&&void 0};if(!I)return v._dwtConvertToBlobSync(c,Q,J,te,ee);v._convertToBlobForUpload(c,Q,J,4,te,ee)}},{key:"HTTPUploadAllThroughPutAsMultiPageTIFF",value:function(s,u,l,c){return this.HTTPUploadThroughPutEx(s,-1,u,2,l,c)}},{key:"HTTPUploadThroughPutAsMultiPageTIFF",value:function(s,u,l,c){return this.HTTPUploadThroughPutEx(s,-2,u,2,l,c)}},{key:"HTTPUploadAllThroughPutAsPDF",value:function(s,u,l,c){return this.HTTPUploadThroughPutEx(s,-1,u,4,l,c)}},{key:"HTTPUploadThroughPutAsMultiPagePDF",value:function(s,u,l,c){return this.HTTPUploadThroughPutEx(s,-2,u,4,l,c)}},{key:"GetSelectedImagesSize",value:function(s){var u=this;if(u._resetErr(),!u._isValid())return!1;var l=Fd(u);return u._innerFun("GetSelectedImagesSize",Ve(s,l.join(",")))}},{key:"SetHTTPHeader",value:function(s,u){var l=this;if(l._resetErr(),!l._isValid())return!1;var c,f,m=s;if(l.__httpHeaderMap||(l.__httpHeaderMap={}),!m||!p.isString(m))return p.isUndefined(m)?Fe(l,-2356,"The header name cannot be undefined."):m===""?function(v){Fe(v,-2354,"The header name cannot be empty.")}(l):m===null?function(v){Fe(v,-2355,"The header name cannot be null.")}(l):function(v){Fe(v,-2357,"The header name you entered is invalid.")}(l),!1;for(c=["if-none-match","if-range","range","accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],m=m.toLowerCase(),f=0;f<c.length;f++)if(c[f]==m)return l9(l),!1;return p.isUndefined(u)||u===null||u===""?(s in l.__httpHeaderMap&&delete l.__httpHeaderMap[s],!0):(p.isNumber(u)&&(u=""+u),l.__httpHeaderMap[s]=u,!0)}},{key:"ConvertToBlob",value:function(s,u,l,c,f){var m=arguments;return this._convertToBlobByIndices(s,u,!1,m,l,c)}},{key:"_asyncUploadFilesCmd",value:function(s,u,l,c,f,m,v,S,_,b,I,A){var P=this,L=parseInt(f),$="HTTPUpload",ee=s,q=[];P.__HTTPPostResponseString="",V.cancelFrom=Lt.HTTPUpload;var Q=function(M,U,G){var z=[];if(p.isArray(u)&&p.each(u,function(Z){var ie=P._ImgManager.convertServerIdToClientIndex(Z);ie>-1&&z.push(ie)}),M!=0&&U&&(P._errorCode=M,P._errorString=U),G&&(P.__HTTPPostResponseString=G),P._bServerPercentDone=!0,V.needShowTwiceShowDialog=!1,S&&V.closeProgress(null,$),q.slice(0),q=null,p.isFunction(A))try{A({code:P._errorCode,message:P._errorString,response:G,indices:z})}catch{}};V.needShowTwiceShowDialog=!0,S?V.showProgress(P,$,!1):V.hideProgress();var J=u.length,te=0,H=0,k="";P._bServerPercentDone=!1,P._OnPercentDone([0,-1,br.Encoding,"http"]),p.each(u,function(M,U){P._convertToBlobForUpload(L,[M],v,4,function(G,z,Z){if(!G||G.size<=0)return an(P),Q(P._errorCode,P._errorString);var ie=P.__maxUploadImageSize;if(G.size>ie&&ie!=-1)return fs(P),Q(P._errorCode,P._errorString);var se=ho(m,U+1);if(H=(te+1)/J*100,k=[te+1,"/",J].join(""),P._OnPercentDone([0,H,k,"http",se]),G.name=se,q.push(G),++te>=J){B.DWT.IfAddMD5InUploadHeader&&z&&z!=""&&(l["dwt-md5"]=z);var re=P._createHttpUploaderConfig(),ae=new sa;P.__remoteFilename&&P.__remoteFilename!=""&&(ae.remoteFilename=P.__remoteFilename),ae.url=ee,ae.method=$,ae.content=q,ae.contentType=P._strHttpContentTypeFieldValue,ae.headers=l,ae.httpFormData=c,ae.retry=_,ae.bOnlyResponseEmptyIsOK=b,ae.blockSize=P._moduleSize,XB(re,ae,function(Se){P.__HTTPPostResponseString=re.HTTPPostResponse,function(ge){if(P._bServerPercentDone=!0,V.needShowTwiceShowDialog=!1,S&&V.closeProgress(null,$),q.slice(0),q=null,p.isFunction(I)){var ve=[];p.isArray(u)&&p.each(u,function(Me){var Qe=P._ImgManager.convertServerIdToClientIndex(Me);Qe>-1&&ve.push(Qe)}),_n(I,ge,ve)}}(Se)},Q)}G=null},Q,[M,U])})}},{key:"_getVersionInfoAsync",value:function(){return Or.versionInfoFromServer?Te.Promise.resolve(Or.versionInfoFromServer):this._innerFunV2("VersionInfo")}},{key:"__innerLoadImage",value:function(s,u,l,c,f,m,v){var S=this,_=!1;if((p.isFunction(m)||B.DWT.ConnectWithSocket)&&(_=!0),!_t.checkProductKey(S,{Core:!0}))return p.isFunction(v)&&v({code:S._errorCode,message:S._getErrorString()}),!!_&&void 0;if(!_t.checkPDFProductKeyWhenNeeds(S,l))return p.isFunction(v)&&v({code:S._errorCode,message:S._getErrorString()}),!!_&&void 0;if(_){if(S._bRemoteMode&&S._getIfShowFileDialog())return _T(S),void(p.isFunction(v)&&v({code:S._errorCode,message:S._getErrorString()}));var b=S.IfShowCancelDialogWhenImageTransfer;return S.IfShowCancelDialogWhenImageTransfer=!1,void S.__innerAcquireOrLoadImageAsync(s,u,c,!0).then(function(){S.IfShowCancelDialogWhenImageTransfer=b,p.isFunction(m)&&m()},function(P){S.IfShowCancelDialogWhenImageTransfer=b,S._errorCode=P.code,S._errorString=P.message,p.isFunction(v)&&v(P)})}if(S._bRemoteMode&&S._getIfShowFileDialog())return _T(S),!1;var I=S._getCurrentDocumentName(),A=S._getCurrentDefaultTagName();return S.__innerLoadImageFun(s,u,f,I,A)}},{key:"__innerLoadImageFun",value:function(s,u,l,c,f){var m,v=this,S=!0;if(m=v._innerFunRaw(s,u,!1,!1,!0),v.__bOpenFileNow=!1,v._errorCode!=0)return!1;if(m&&p.isArray(m.result)&&m.result.length>0){if(l){var _;if(s=="FTPDownload"||s=="FTPDownloadEx")_=JSON.stringify(m.result);else{var b=m.result[0];p.isObject(b)?_=b.imageInfos:b!=-1||s!="LoadImage"&&s!="LoadImageEx"&&s!="LoadImageFromBase64Binary"&&s!="LoadDibFromClipboard"||(S=!1)}p.isString(_)&&v._handleOnBitmapChangedEvent({result:["c1",_]},{document:c,tag:f})}else{var I=m.result.join(",");v._OnBitmapChanged(["c1",I,1,v._ImgManager.getCurrentImageIndex(),v._ImgManager.count()],null,{document:c,tag:f})}if(S)return v._canConsume()&&B.DWT.lcvrf(v),!0}return aF(v._errorCode)&&Cd(v),!1}},{key:"__innerSaveImage",value:function(s,u,l,c){var f,m=this,v=!1;if(p.isFunction(l)&&(v=!0),v&&m._OnPercentDone([0,-1,br.Encoding]),m._bRemoteMode||(B.DWT.IfAlwaysFocusOnPopupWindow?m._OnPageFocus(!0):m._OnPageBlur(!0)),v==0)return m._bRemoteMode?m._serviceSyncMethodNotSupport(s):this._innerFun(s,u);if(m._bRemoteMode&&m._getIfShowFileDialog())return _T(m),void(p.isFunction(c)&&c(m._errorCode,m._getErrorString()));var S=(f=V.progressContext)===null||f===void 0?void 0:f.IfShowCancelDialogWhenImageTransfer;m.IfShowProgressBar?V.showProgress(m,s,!1):V.hideProgress(),V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=!1),m._innerSend(s,u,!0,function(){V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=S),V.closeProgress(null,s),p.isFunction(l)&&l()},function(_){return V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=S),p.isFunction(c)&&c(m._errorCode,m._getErrorString()),V.closeProgress(null,s),_&&p.error(_),!1})}},{key:"__captureImage",value:function(s,u,l,c){var f=this.__GetLoadEventsNum();return this.__LoadImageFromBytesV2(s,u,"",!0,0,0,!0,f,l,c)}},{key:"_getIfShowFileDialog",value:function(){return this._resetErr(),this._isValid()?this._innerFun("IfShowFileDialog"):xe}},{key:"SaveAsBMP",value:function(s,u,l,c){var f=this,m=!1;if((p.isFunction(l)||ue.bAndroid)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!(_t.checkProductKey(f,{Core:!0})||ue.bWin&&_t.checkProductKey(f,{Webcam:!0},!0)))return _t.checkProductKey(f,{Core:!0},!1),p.isFunction(c)&&ft(c,f),!!m&&void 0;var v,S=xt.replaceLocalFilename(s);if(!Yu(f,u,c))return!!m&&void 0;if(ue.bAndroid){if(f._ImgManager.count()==0)return Nn(f),void(p.isFunction(c)&&ft(c,f));var _=[];return _.push(u),void f._saveImages("SaveAsBMP",S,_,Qt.IT_BMP).then(function(){p.isFunction(l)&&l()}).catch(function(A){p.isFunction(c)&&c(A.code,A.message)})}if((v=f._ImgManager.convertClientIndexToServerId(u))==-1)return qe(f),p.isFunction(c)&&ft(c,f),!!m&&void 0;var b=f.__GetLoadEventsNum(),I=f.__innerSaveImage("SaveAsBMP",Ve(S,v,b),l,c);return m?void 0:I}},{key:"SaveAsJPEG",value:function(s,u,l,c){var f=this,m=!1;if((p.isFunction(l)||ue.bAndroid)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!(_t.checkProductKey(f,{Core:!0})||ue.bWin&&_t.checkProductKey(f,{Webcam:!0},!0)))return _t.checkProductKey(f,{Core:!0},!1),p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!Yu(f,u,c))return!!m&&void 0;var v,S=xt.replaceLocalFilename(s);if(ue.bAndroid){if(f._ImgManager.count()==0)return Nn(f),void(p.isFunction(c)&&ft(c,f));var _=[];return _.push(u),void f._saveImages("SaveAsJPEG",S,_,Qt.IT_JPG).then(function(){p.isFunction(l)&&l()}).catch(function(A){p.isFunction(c)&&c(A.code,A.message)})}if((v=f._ImgManager.convertClientIndexToServerId(u))==-1)return qe(f),p.isFunction(c)&&ft(c,f),!!m&&void 0;var b=f.__GetLoadEventsNum(),I=f.__innerSaveImage("SaveAsJPEG",Ve(S,v,b),l,c);return m?void 0:I}},{key:"SaveAsPDF",value:function(s,u,l,c){var f=this,m=!1;if((p.isFunction(l)||ue.bAndroid)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!(_t.checkProductKey(f,{Core:!0})||ue.bWin&&_t.checkProductKey(f,{Webcam:!0},!0)))return _t.checkProductKey(f,{Core:!0},!1),p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!Yu(f,u,c))return!!m&&void 0;var v,S=xt.replaceLocalFilename(s);if(ue.bAndroid){if(f._ImgManager.count()==0)return Nn(f),void(p.isFunction(c)&&ft(c,f));var _=[];return _.push(u),void f._saveImages("SaveAsPDF",S,_,Qt.IT_PDF).then(function(){p.isFunction(l)&&l()}).catch(function(A){p.isFunction(c)&&c(A.code,A.message)})}if((v=f._ImgManager.convertClientIndexToServerId(u))==-1)return qe(f),p.isFunction(c)&&ft(c,f),!!m&&void 0;var b=f.__GetLoadEventsNum(),I=f.__innerSaveImage("SaveAsPDF",Ve(S,v,b),l,c);return m?void 0:I}},{key:"SaveAsPNG",value:function(s,u,l,c){var f=this,m=!1;if((p.isFunction(l)||ue.bAndroid)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!(_t.checkProductKey(f,{Core:!0})||ue.bWin&&_t.checkProductKey(f,{Webcam:!0},!0)))return _t.checkProductKey(f,{Core:!0},!1),p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!Yu(f,u,c))return!!m&&void 0;var v,S=xt.replaceLocalFilename(s);if(ue.bAndroid){if(f._ImgManager.count()==0)return Nn(f),void(p.isFunction(c)&&ft(c,f));var _=[];return _.push(u),void f._saveImages("SaveAsPNG",S,_,Qt.IT_PNG).then(function(){p.isFunction(l)&&l()}).catch(function(A){p.isFunction(c)&&c(A.code,A.message)})}if((v=f._ImgManager.convertClientIndexToServerId(u))==-1)return qe(f),p.isFunction(c)&&ft(c,f),!!m&&void 0;var b=f.__GetLoadEventsNum(),I=f.__innerSaveImage("SaveAsPNG",Ve(S,v,b),l,c);return m?void 0:I}},{key:"SaveAsTIFF",value:function(s,u,l,c){var f=this,m=!1;if((p.isFunction(l)||ue.bAndroid)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!(_t.checkProductKey(f,{Core:!0})||ue.bWin&&_t.checkProductKey(f,{Webcam:!0},!0)))return _t.checkProductKey(f,{Core:!0},!1),p.isFunction(c)&&ft(c,f),!!m&&void 0;if(!Yu(f,u,c))return!!m&&void 0;var v,S=xt.replaceLocalFilename(s);if(ue.bAndroid){if(f._ImgManager.count()==0)return Nn(f),void(p.isFunction(c)&&ft(c,f));var _=[];return _.push(u),void f._saveImages("SaveAsTIFF",S,_,Qt.IT_TIF).then(function(){p.isFunction(l)&&l()}).catch(function(A){p.isFunction(c)&&c(A.code,A.message)})}if((v=f._ImgManager.convertClientIndexToServerId(u))==-1)return qe(f),p.isFunction(c)&&ft(c,f),!!m&&void 0;var b=f.__GetLoadEventsNum(),I=f.__innerSaveImage("SaveAsTIFF",Ve(S,v,b),l,c);return m?void 0:I}},{key:"SaveSelectedImagesAsMultiPagePDF",value:function(s,u,l){var c=this,f=!1;if((p.isFunction(u)||ue.bAndroid)&&(f=!0),c._resetErr(),!c._isValid())return p.isFunction(l)&&ft(l,c),!!f&&void 0;if(!(_t.checkProductKey(c,{Core:!0})||ue.bWin&&_t.checkProductKey(c,{Webcam:!0},!0)))return _t.checkProductKey(c,{Core:!0},!1),p.isFunction(l)&&ft(l,c),!!f&&void 0;var m=xt.replaceLocalFilename(s);if(!ue.bAndroid){var v=Fd(c);if(v.length==0)return Nn(c),p.isFunction(l)&&ft(l,c),!!f&&void 0;var S=c.__GetLoadEventsNum(),_=c.__innerSaveImage("SaveSelectedImagesAsMultiPagePDF",Ve(m,v.join(","),S),u,l);return f?void 0:_}if(c._ImgManager.count()==0)return Nn(c),void(p.isFunction(l)&&ft(l,c));var b=aO(c);c._saveImages("SaveSelectedImagesAsMultiPagePDF",m,b,Qt.IT_PDF).then(function(){p.isFunction(u)&&u()}).catch(function(I){p.isFunction(l)&&l(I.code,I.message)})}},{key:"SaveSelectedImagesAsMultiPageTIFF",value:function(s,u,l){var c=this,f=!1;if((p.isFunction(u)||ue.bAndroid)&&(f=!0),c._resetErr(),!c._isValid())return p.isFunction(l)&&ft(l,c),!!f&&void 0;if(!(_t.checkProductKey(c,{Core:!0})||ue.bWin&&_t.checkProductKey(c,{Webcam:!0},!0)))return _t.checkProductKey(c,{Core:!0},!1),p.isFunction(l)&&ft(l,c),!!f&&void 0;var m=xt.replaceLocalFilename(s);if(!ue.bAndroid){var v=Fd(c);if(v.length==0)return Nn(c),p.isFunction(l)&&ft(l,c),!!f&&void 0;var S=c.__GetLoadEventsNum(),_=c.__innerSaveImage("SaveSelectedImagesAsMultiPageTIFF",Ve(m,v.join(","),S),u,l);return f?void 0:_}if(c._ImgManager.count()==0)return Nn(c),void(p.isFunction(l)&&ft(l,c));var b=aO(c);c._saveImages("SaveSelectedImagesAsMultiPageTIFF",m,b,Qt.IT_TIF).then(function(){p.isFunction(u)&&u()}).catch(function(I){p.isFunction(l)&&l(I.code,I.message)})}},{key:"SaveAllAsMultiPageTIFF",value:function(s,u,l){var c=this,f=!1;if((p.isFunction(u)||ue.bAndroid)&&(f=!0),c._resetErr(),!c._isValid())return p.isFunction(l)&&ft(l,c),!!f&&void 0;if(!(_t.checkProductKey(c,{Core:!0})||ue.bWin&&_t.checkProductKey(c,{Webcam:!0},!0)))return _t.checkProductKey(c,{Core:!0},!1),p.isFunction(l)&&ft(l,c),!!f&&void 0;if(!aC(c,l))return!!f&&void 0;var m=[],v=xt.replaceLocalFilename(s);if(!ue.bAndroid){if(f_(c,m),m.length==0)return Nn(c),p.isFunction(l)&&ft(l,c),!!f&&void 0;var S=c.__GetLoadEventsNum(),_=c.__innerSaveImage("SaveSelectedImagesAsMultiPageTIFF",Ve(v,m.join(","),S),u,l);return f?void 0:_}if(c._ImgManager.count()==0)return Nn(c),void(p.isFunction(l)&&ft(l,c));for(var b=[],I=0;I<this._ImgManager.count();I++)b.push(I);c._saveImages("SaveAllAsMultiPageTIFF",v,b,Qt.IT_TIF).then(function(){p.isFunction(u)&&u()}).catch(function(A){p.isFunction(l)&&l(A.code,A.message)})}},{key:"SaveAllAsPDF",value:function(s,u,l){var c=this,f=!1;if((p.isFunction(u)||ue.bAndroid)&&(f=!0),c._resetErr(),!c._isValid())return p.isFunction(l)&&ft(l,c),!!f&&void 0;if(!(_t.checkProductKey(c,{Core:!0})||ue.bWin&&_t.checkProductKey(c,{Webcam:!0},!0)))return _t.checkProductKey(c,{Core:!0},!1),p.isFunction(l)&&ft(l,c),!!f&&void 0;if(!aC(c,l))return!!f&&void 0;var m=[],v=xt.replaceLocalFilename(s);if(!ue.bAndroid){if(f_(c,m),m.length==0)return Nn(c),p.isFunction(l)&&ft(l,c),!!f&&void 0;var S=c.__GetLoadEventsNum(),_=c.__innerSaveImage("SaveSelectedImagesAsMultiPagePDF",Ve(v,m.join(","),S),u,l);return f?void 0:_}if(c._ImgManager.count()==0)return Nn(c),void(p.isFunction(l)&&ft(l,c));for(var b=[],I=0;I<this._ImgManager.count();I++)b.push(I);c._saveImages("SaveAllAsPDF",v,b,Qt.IT_PDF).then(function(){p.isFunction(u)&&u()}).catch(function(A){p.isFunction(l)&&l(A.code,A.message)})}},{key:"HTTPUpload",value:function(s,u,l,c,f,m,v){var S=this,_=f??"RemoteFile",b=S._GetHttpHeadersAndClear(),I=m,A=v;if(S._resetErr(),arguments.length<=3)return I=u,A=l,void this._innerFormFieldHTTPUpload(s,b,I,A);if(p.isFunction(arguments[4])&&p.isFunction(arguments[5])&&(_="RemoteFile",I=arguments[4],arguments.length>5&&(A=arguments[5])),S._isValid()){var P,L=arguments,$=function(q){p.isFunction(A)&&jn(A,S,S.__HTTPPostResponseString,q,L)};if(p.isUndefined(s)||s==="")return ci(S),void($&&$(u));if(!p.isString(s))return rp(S),void($&&$(u));if(S._checkIndices(u)){var ee=Qu(S,u);if(ee.length==0)return Ot(S),void($&&$(u));if(p.isUndefined(l))return Li(S),void($&&$(u));if(l==B.DWT.EnumDWT_ImageType.IT_BMP||l==B.DWT.EnumDWT_ImageType.IT_JPG||l==B.DWT.EnumDWT_ImageType.IT_PNG){if(ee.length>1)return Id(S),void $(u)}else if(l!=B.DWT.EnumDWT_ImageType.IT_TIF&&l!=B.DWT.EnumDWT_ImageType.IT_PDF)return Li(S),void $(u);if(p.isUndefined(c)||c!=B.DWT.EnumDWT_UploadDataFormat.Binary&&c!=B.DWT.EnumDWT_UploadDataFormat.Base64)return UR(S),void $(u);P={method:"HTTPUpload",url:s,serverIds:ee,headers:b,formData:pc(S.httpFormFields),enumImageType:l,saveSetup:!1,dataFormat:c,fileName:_,retry:0,bOnlyResponseEmptyIsOK:!0,objUploadFileStatus:!1,asyncSuccessFunc:function(q,Q){p.isFunction(I)&&_n(I,S.__HTTPPostResponseString,Q,L)},asyncFailureFunc:$},this._asyncUploadCmd(P)}else $&&$(u)}else p.isFunction(A)&&ft(A,S,"")}},{key:"_innerFormFieldHTTPUpload",value:function(s,u,l,c){var f,m=this,v="HTTPUpload",S=s,_=m.IfShowProgressBar;if(m._isValid()){if(p.isUndefined(S)||S==="")return ci(m),void(p.isFunction(c)&&ft(c,m,""));if(!p.isString(S))return rp(m),void(p.isFunction(c)&&ft(c,m,""));S.indexOf("http://")!=0&&S.indexOf("https://")!=0&&(S=V.detect.ssl?"https://"+S:"http://"+S),m.__HTTPPostResponseString="",V.cancelFrom=Lt.HTTPUpload,f=function(A,P,L){A!=0&&P&&(m._errorCode=A,m._errorString=P),L&&(m.__HTTPPostResponseString=L),V.needShowTwiceShowDialog=!1,V.closeProgress(null,v),p.isFunction(c)&&ft(c,m,m.__HTTPPostResponseString)},_?V.showProgress(m,v,!1):V.hideProgress(),V.needShowTwiceShowDialog=!0,m._OnPercentDone([0,-1,br.Uploading,"http"]);var b=m._createHttpUploaderConfig(),I=new sa;m.__remoteFilename&&m.__remoteFilename!=""&&(I.remoteFilename=m.__remoteFilename),I.url=S,I.method=v,I.content=[],I.headers=u,I.httpFormData=pc(m.httpFormFields),I.blockSize=m._moduleSize,new Cs().httpPostUpload(b,I,function(A){V.needShowTwiceShowDialog=!1,V.closeProgress(null,v),p.isFunction(l)&&_n(l,A,s,[s,l,c])},f)}else p.isFunction(c)&&ft(c,m,"")}},{key:"HTTPUploadThroughPost",value:function(s,u,l,c,f,m,v){var S=this,_=!1;if(p.isFunction(f)&&(_=!0),S._resetErr(),!S._isValid())return!!_&&void 0;var b=xt.getImageType(c),I=arguments,A=!1,P=function(L){return p.isFunction(m)&&jn(m,S,S.__HTTPPostResponseString,L,I),!1};return p.isString(c)&&c!=""?(f&&p.isFunction(f)&&(A=function(L,$){return _n(f,S.__HTTPPostResponseString,$,I),!0}),cU(S,u,b,P)?Mo(po,S,yf).call(S,s,u,l,c,b,A,P,v):!!_&&void 0):(an(S),P(),!!_&&void 0)}},{key:"HTTPUploadThroughPostEx",value:function(s,u,l,c,f,m,v,S){var _=this,b=!1;if(p.isFunction(m)&&(b=!0),_._resetErr(),!_._isValid())return p.isFunction(v)&&jn(v,_,""),!!b&&void 0;var I=arguments,A=!1,P=function(L){p.isFunction(v)&&jn(v,_,_.__HTTPPostResponseString,L,I)};return p.isString(c)&&c!=""?(m&&p.isFunction(m)&&(A=function(L,$){_n(m,_.__HTTPPostResponseString,$,I)}),cU(_,u,f,P)?Mo(po,_,yf).call(_,s,u,l,c,f,A,P,S):!!b&&void 0):(an(_),P(),!!b&&void 0)}},{key:"HTTPUploadAllThroughPostAsMultiPageTIFF",value:function(s,u,l,c,f,m){var v=this,S=!1;if(p.isFunction(c)&&(S=!0),v._resetErr(),!v._isValid())return p.isFunction(f)&&jn(f,v,""),!!S&&void 0;var _=arguments,b=!1,I=function(A){p.isFunction(f)&&jn(f,v,v.__HTTPPostResponseString,A,_)};return p.isString(l)&&l!=""?(S&&(b=function(A,P){_n(c,v.__HTTPPostResponseString,P,_)}),Mo(po,v,yf).call(v,s,-1,u,l,2,b,I,m)):(an(v),I(),!!S&&void 0)}},{key:"HTTPUploadAllThroughPostAsPDF",value:function(s,u,l,c,f,m){var v=this,S=!1;if(p.isFunction(c)&&(S=!0),v._resetErr(),!v._isValid())return p.isFunction(f)&&ft(f,v,""),!!S&&void 0;var _=arguments,b=!1,I=function(A){return p.isFunction(f)&&jn(f,v,v.__HTTPPostResponseString,A,_),!1};return p.isString(l)&&l!=""?(S&&(b=function(A,P){_n(c,v.__HTTPPostResponseString,P,_)}),Mo(po,v,yf).call(v,s,-1,u,l,4,b,I,m)):(an(v),I())}},{key:"HTTPUploadThroughPostAsMultiPagePDF",value:function(s,u,l,c,f,m){var v=this,S=!1;if(p.isFunction(c)&&(S=!0),v._resetErr(),!v._isValid())return p.isFunction(f)&&ft(f,v,""),!!S&&void 0;var _=arguments,b=!1,I=function(A){p.isFunction(f)&&jn(f,v,v.__HTTPPostResponseString,A,_)};return p.isString(l)&&l!=""?(S&&(b=function(A,P){_n(c,v.__HTTPPostResponseString,P,_)}),Mo(po,v,yf).call(v,s,-2,u,l,4,b,I,m)):(an(v),I(),!!S&&void 0)}},{key:"HTTPUploadThroughPostAsMultiPageTIFF",value:function(s,u,l,c,f,m){var v=this,S=!1;if(p.isFunction(c)&&(S=!0),v._resetErr(),!v._isValid())return p.isFunction(f)&&ft(f,v,""),!!S&&void 0;var _=arguments,b=!1,I=function(A){p.isFunction(f)&&jn(f,v,v.__HTTPPostResponseString,A,_)};return p.isString(l)&&l!=""?(S&&(b=function(A,P){_n(c,v.__HTTPPostResponseString,P,_)}),Mo(po,v,yf).call(v,s,-2,u,l,2,b,I,m)):(an(v),I(),!!S&&void 0)}},{key:"_innerHTTPDownloadThroughGet",value:function(s,u,l,c,f,m){var v,S,_=this,b=_._GetHttpHeadersAndClear(),I=_.IfShowProgressBar,A=xt.combineUrl(_,u,l),P=!1;if(p.isFunction(f)&&(P=!0),A===void 0)return ci(_),p.isFunction(m)&&ft(m,_),!!P&&void 0;if(!_t.checkProductKey(_,{Core:!0})||!_t.checkPDFProductKeyWhenNeeds(_,c))return p.isFunction(m)&&ft(m,_),!!P&&void 0;V.cancelFrom=Lt.HTTPDownload;var L=(v=V.progressContext)===null||v===void 0?void 0:v.IfShowCancelDialogWhenImageTransfer,$=_._getCurrentDocumentName(),ee=_._getCurrentDefaultTagName();return p.log("_innerHTTPDownloadThroughGet.currentFileName:"+$+", tag="+ee),I&&P?(_.__IfShowCancelDialogWhenImageTransfer&&(V.progressContext.__cancelBeforObjectCreated=!0),V.showProgress(_,s,_.__IfShowCancelDialogWhenImageTransfer)):P&&V.hideProgress(),_._OnPercentDone([0,-1,br.Downloading,"http"]),S=xt.loadHttpBlob(_,"get",A,P,function(q){V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=L),I&&P&&cu(!1),_._OnPercentDone([0,-1,br.Loading]);var Q=c;Q!=B.DWT.EnumDWT_ImageType.IT_BMP&&Q!=B.DWT.EnumDWT_ImageType.IT_JPG&&Q!=B.DWT.EnumDWT_ImageType.IT_TIF&&Q!=B.DWT.EnumDWT_ImageType.IT_PNG&&Q!=B.DWT.EnumDWT_ImageType.IT_PDF&&Q!=B.DWT.EnumDWT_ImageType.IT_J2K&&(Q=-1),q.currentFileName=$,q.currentTagName=ee;var J=_.__GetLoadEventsNum();return _.__LoadImageFromBytesV1(q,Q,"",J,P,function(){return I&&P&&V.closeProgress(null,s),p.isFunction(f)&&f(),!0},function(){return I&&P&&V.closeProgress(null,s),p.isFunction(m)&&ft(m,_),!1})},function(){return V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=L),I&&P&&V.closeProgress(null,s),p.isFunction(m)&&ft(m,_),!1},function(q){var Q=q.total===0?100:Math.round(100*q.loaded/q.total);[q.loaded," / ",q.total].join(""),Q>=100&&q.loaded<q.total&&(Q=99),_._OnPercentDone([0,Q,"","http"])},b),P?void 0:!!S}},{key:"LoadImage",value:function(s,u,l){var c=this,f=!1;if(p.isFunction(u)&&(f=!0),c._resetErr(),!c._isValid())return p.isFunction(l)&&ft(l,c),!!f&&void 0;var m,v,S,_=xt.replaceLocalFilename(s),b=xt.getImageType(_);u&&p.isFunction(u)&&(v=function(P){u()}),l&&p.isFunction(l)&&(S=function(P){l(P.code,P.message)}),m=c.__GetLoadEventsNum(),_==""&&(c.__bOpenFileNow=!0);var I=c._getCurrentDocumentName(),A=c._getCurrentDefaultTagName();return c.__innerLoadImage("LoadImage",Ve(_,m,1,I,A),b,!0,1,v,S)}},{key:"LoadImageEx",value:function(s,u,l,c){var f=this,m=!1;if(p.isFunction(l)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;var v,S,_,b=xt.replaceLocalFilename(s),I=u;if(l&&p.isFunction(l)&&(S=function(ee){l()}),c&&p.isFunction(c)&&(_=function(ee){c(ee.code,ee.message)}),!ue.bAndroid){I==B.DWT.EnumDWT_ImageType.IT_ALL&&(I=-1),v=f.__GetLoadEventsNum(),b==""&&(f.__bOpenFileNow=!0);var A=f._getCurrentDocumentName(),P=f._getCurrentDefaultTagName();return f.__innerLoadImage("LoadImageEx",Ve(b,I,v,1,A,P),I,!0,1,S,_)}var L=Te.one(".d-loadImage");if(L.length==0){var $=document.createElement("input");$._stwain=f,$.setAttribute("type","file"),$.setAttribute("multiple","multiple"),$.style.position="absolute",$.style.top="-9999px",$.style.left="-9999px",$.style.width="1px",$.style.height="1px",$.className="d-loadImage",u==B.DWT.EnumDWT_ImageType.IT_BMP?$.setAttribute("accept","image/bmp"):u==B.DWT.EnumDWT_ImageType.IT_JPG?$.setAttribute("accept","image/jpeg"):u==B.DWT.EnumDWT_ImageType.IT_TIF?$.setAttribute("accept","image/tiff"):u==B.DWT.EnumDWT_ImageType.IT_PNG?$.setAttribute("accept","image/png"):u==B.DWT.EnumDWT_ImageType.IT_PDF?$.setAttribute("accept",".pdf"):u==B.DWT.EnumDWT_ImageType.IT_J2K?$.setAttribute("accept",".jp2,.j2k,.j2c"):Wr.bMobile?$.setAttribute("accept","image/jpeg,image/png,image/tiff,image/tif"):$.setAttribute("accept","image/*,.pdf,.jp2,.j2k,.j2c"),$.ondoubleclick=function(){this.files.length>0&&this._stwain.LoadImageFromBinary(this.files,S,_),this.value="",this._stwain=null,$&&$.parentElement.removeChild($)},$.onchange=function(){this.files.length>0&&this._stwain.LoadImageFromBinary(this.files,S,_),this.value="",this._stwain=null,$&&$.parentElement.removeChild($)},document.body.appendChild($),$.click()}else u==B.DWT.EnumDWT_ImageType.IT_BMP?L[0].setAttribute("accept","image/bmp"):u==B.DWT.EnumDWT_ImageType.IT_JPG?L[0].setAttribute("accept","image/jpeg"):u==B.DWT.EnumDWT_ImageType.IT_TIF?L[0].setAttribute("accept","image/tiff"):u==B.DWT.EnumDWT_ImageType.IT_PNG?L[0].setAttribute("accept","image/png"):u==B.DWT.EnumDWT_ImageType.IT_PDF?L[0].setAttribute("accept",".pdf"):u==B.DWT.EnumDWT_ImageType.IT_J2K?L[0].setAttribute("accept",".jp2,.j2k,.j2c"):Wr.bMobile?L[0].setAttribute("accept","image/jpeg,image/png,image/tiff,image/tif"):L[0].setAttribute("accept","image/*,.pdf,.jp2,.j2k,.j2c"),L[0].value="",L[0]._stwain=f,L[0].click()}},{key:"HTTPDownload",value:function(s,u,l,c){var f=this,m=!1;if(p.isFunction(l)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(c)&&ft(c,f),!!m&&void 0;var v=xt.getImageType(u);return f._innerHTTPDownloadThroughGet("HTTPDownload",s,u,v,l,c)}},{key:"HTTPDownloadEx",value:function(s,u,l,c,f){var m=this,v=!1;return p.isFunction(c)&&(v=!0),m._resetErr(),m._isValid()?m._innerHTTPDownloadThroughGet("HTTPDownloadEx",s,u,l,c,f):(p.isFunction(f)&&ft(f,m),!!v&&void 0)}},{key:"getFormateDate",value:function(){var s=new Date,u=s.getFullYear(),l=s.getMonth()+1,c=s.getDate(),f=s.getHours(),m=s.getMinutes(),v=s.getSeconds();return l<=9&&(l="0"+l),c<=9&&(c="0"+c),f<=9&&(f="0"+f),m<=9&&(m="0"+m),v<=9&&(v="0"+v),{currentTime_title:u+"-"+l+"-"+c+" "+f+":"+m+":"+v,currentTime_info:l+"/"+c+"/"+u+" "+f+":"+m+":"+v}}},{key:"__shareImagesInner",value:function(s,u,l,c){var f=navigator;f.canShare&&f.canShare({files:s})&&f.share({files:s,title:u,text:this.getFormateDate().currentTime_info}).then(function(){p.isFunction(l)&&l()}).catch(function(m){p.isFunction(c)&&c(m)})}},{key:"ShareImages",value:(o=a(E().mark(function s(u,l,c){var f,m,v,S,_,b,I,A,P;return E().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(f=this,!ue.bAndroid){L.next=38;break}if(c!=Qt.IT_ALL&&c!=Qt.IT_MULTIPAGE_PDF&&c!=Qt.IT_MULTIPAGE_TIF){L.next=5;break}throw XR(f),{code:f._errorCode,message:f._errorString};case 5:if(m=l.sort(function($,ee){return $-ee}),!(m.length>0)){L.next=36;break}if(v="IMAGE File",c==Qt.IT_PDF&&(v="PDF File"),S=w0(u,c),p.isUndefined(S)&&(S=u),c!=Qt.IT_PDF&&c!=Qt.IT_TIF){L.next=15;break}return L.abrupt("return",new Te.Promise(function($,ee){f.ConvertToBlob(m,c,function(q,Q,J){var te=[new File([q],S,{type:q.type})];f.__shareImagesInner(te,v,function(){$()},function(H){ee({code:H.code!=0?H.code:2201,message:H.message})})},function(){ee({code:f._errorCode,message:f._errorString})})}));case 15:_=[],b=S,L.t0=c,L.next=L.t0===Qt.IT_BMP?20:L.t0===Qt.IT_JPG?22:L.t0===Qt.IT_PNG?24:26;break;case 20:return I=".bmp",L.abrupt("break",27);case 22:return I=".jpg",L.abrupt("break",27);case 24:return I=".png",L.abrupt("break",27);case 26:I=".jpg";case 27:S&&S.lastIndexOf(".")>0&&(b=S.substring(0,S.lastIndexOf(".")),I=S.substring(S.lastIndexOf("."),S.length)),A=E().mark(function $(ee){return E().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,new Te.Promise(function(Q,J){f.ConvertToBlob([m[ee]],c,function(te,H,k){ee==0?_.push(new File([te],b+I,{type:te.type})):_.push(new File([te],b+ee+I,{type:te.type})),Q()},function(){J({code:f._errorCode,message:f._errorString})})});case 2:case"end":return q.stop()}},$)}),P=0;case 30:if(!(P<m.length)){L.next=35;break}return L.delegateYield(A(P),"t1",32);case 32:P++,L.next=30;break;case 35:f.__shareImagesInner(_,v);case 36:L.next=40;break;case 38:throw Fe(f,-2617,"ShareImages is only supported on Android devices."),{code:f._errorCode,message:f._errorString};case 40:case"end":return L.stop()}},s,this)})),function(s,u,l){return o.apply(this,arguments)})},{key:"Addon",get:function(){return this.__addon}},{key:"LoadDibFromClipboard",value:function(s,u){var l,c,f=this,m=!1;if(p.isFunction(s)&&(m=!0),f._resetErr(),!f._isValid())return p.isFunction(u)&&ft(u,f),!!m&&void 0;if(f._bRemoteMode)return Fe(f,-2609,"LoadDibFromClipboard is not supported when Object is created by CreateRemoteScanObjectAsync."),p.isFunction(u)&&ft(u,f),!!m&&void 0;s&&p.isFunction(s)&&(l=function(S){s()}),u&&p.isFunction(u)&&(c=function(S){u(S.code,S.message)});var v;return v=f.__GetLoadEventsNum(),f.__innerLoadImage("LoadDibFromClipboard",Ve(v,1),-1,!0,1,l,c)}},{key:"__innerGetBarcodeResultAsyncFunction",value:function(s){var u=V.NewBarcodeResult();return s&&(u._errorCode=s.exception,u._errorString=s.description,u._resultlist=s.result,u._Count=s.result.length),u}},{key:"__innerGetOCRResultAsyncFunction",value:function(s){var u=V.NewOCRResult(this);return s&&(u._errorCode=s.exception,u._errorString=s.description,u._resultlist=s.result),u}},{key:"__innerFTPUpload",value:function(s,u,l,c){return V.cancelFrom=Lt.FTPUpload,Mo(po,this,sU).call(this,s,u,!0,l,c)}},{key:"_GetHttpHeadersAndClear",value:function(){var s=this.__httpHeaderMap;return this.__httpHeaderMap={},s||(s={}),s}},{key:"_asyncUploadCmd",value:function(s){var u,l=this,c=s.url,f=s.asyncSuccessFunc,m=s.asyncFailureFunc,v=l.IfShowCancelDialogWhenImageTransfer,S=(u=V.progressContext)===null||u===void 0?void 0:u.IfShowCancelDialogWhenImageTransfer,_=s.method,b=s.serverIds,I=s.headers,A=s.formData,P=s.enumImageType,L=s.dataFormat,$=s.fileName,ee=s.saveSetup,q=s.retry,Q=s.bOnlyResponseEmptyIsOK,J=s.objUploadFileStatus,te=function(H,k,M,U){l.IfShowCancelDialogWhenImageTransfer=v,V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=S);var G=[];if(p.isArray(b)&&p.each(b,function(z){var Z=l._ImgManager.convertServerIdToClientIndex(z);Z>-1&&G.push(Z)}),H!=0&&k&&(l._errorCode=H,l._errorString=k),M&&(l.__HTTPPostResponseString=M),p.isFunction(m))try{m(G)}catch{}return!1};return p.isNumber(q)&&q>0||(q=0),l._errorCode!=0?te(l._errorCode,l._errorString,l.__HTTPPostResponseString):(l.__HTTPPostResponseString="",l.IfShowCancelDialogWhenImageTransfer=!0,V.progressContext.IfShowCancelDialogWhenImageTransfer=l.IfShowCancelDialogWhenImageTransfer,n._innerHTTPUpload(l,_,c,I,A,b,P,L,$,ee,q,Q,J,function(H){if(l.IfShowCancelDialogWhenImageTransfer=v,V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=S),p.isFunction(f)){var k=[];p.isArray(b)&&p.each(b,function(M){var U=l._ImgManager.convertServerIdToClientIndex(M);U>-1&&k.push(U)});try{_n(f,H,k)}catch{}H=null}return!0},te))}}],[{key:"_innerHTTPUpload",value:function(s,u,l,c,f,m,v,S,_,b,I,A,P,L,$){var ee=parseInt(v),q=parseInt(S),Q=_,J=l,te=s._segementUploadThreshold;if(p.isUndefined(v))return Li(s),p.isFunction($)&&$(s._errorCode,s._errorString,""),!1;s._resetErr(),V.cancelFrom=Lt.HTTPUpload;var H,k=function(U,G,z,Z){return U!=0&&G&&(s._errorCode=U,s._errorString=G),z&&(s.__HTTPPostResponseString=z),V.needShowTwiceShowDialog=!1,s.IfShowProgressBar&&V.closeProgress(null,u),p.isFunction($)&&$(s._errorCode,s._errorString,s.__HTTPPostResponseString,Z),!1},M=s._createHttpUploaderConfig();if(M.objUploadStatus=P,Q=w0(Q,ee),V.needShowTwiceShowDialog=!0,s.IfShowProgressBar?(V.showProgress(s,u,!1),V.progressContext&&(V.progressContext._onPercent=function(U){var G=0;if(U){var z,Z;z=U.loaded,Z=U.total,(G=Math.floor(z/Z*100))>100&&(G=100)}V.progressBarOnPercentDone(-1,"Transferring...","",G,"")})):V.hideProgress(),q==B.DWT.EnumDWT_UploadDataFormat.Binary){if(P&&P.bCancel)return P.st=2,ko(s),k(s._errorCode,s._errorString);s._OnPercentDone([0,-1,br.Encoding,"http"]),s._convertToBlobForUpload(ee,m,b,4,function(U,G,z){if(H=function(Se){return V.needShowTwiceShowDialog=!1,s.IfShowProgressBar&&V.closeProgress(null,u),p.isFunction(L)&&_n(L,Se),!0},P&&P.bCancel)return P.st=2,ko(s),k(s._errorCode,s._errorString);if(!U||U.size<=0)return an(s),k(s._errorCode,s._errorString);var Z=s.__maxUploadImageSize;if(U.size>Z&&Z!=-1)return fs(s),k(s._errorCode,s._errorString);if(s._errorCode!=0)return k(s._errorCode,s._errorString);if(B.DWT.IfAddMD5InUploadHeader&&G&&G!=""&&(c["dwt-md5"]=G),te>0&&U.size>te){s._OnPercentDone([0,-1,br.Uploading,"http",Q]);var ie=new Cs,se=new sa;return s.__remoteFilename&&s.__remoteFilename!=""&&(se.remoteFilename=s.__remoteFilename),se.url=J,se.method=u,se.content=U,U=null,se.contentType=s._strHttpContentTypeFieldValue,se.headers=c,se.fileName=Q,se.httpFormData=f,se.retry=I,se.bOnlyResponseEmptyIsOK=A,se.blockSize=s._moduleSize,ie.httpPostUploadFragment(M,se,H,k)}var re=new Cs,ae=new sa;s.__remoteFilename&&s.__remoteFilename!=""&&(ae.remoteFilename=s.__remoteFilename),ae.url=J,ae.method=u,ae.content=U,U=null,ae.contentType=s._strHttpContentTypeFieldValue,ae.headers=c,ae.fileName=Q,ae.httpFormData=f,ae.retry=I,ae.bOnlyResponseEmptyIsOK=A,ae.blockSize=s._moduleSize,M.objUploadStatus=P,re.httpPostUpload(M,ae,H,k)},k)}else q==B.DWT.EnumDWT_UploadDataFormat.Base64&&s._convertToBase64ByServerIdsWithUI(u,m,ee,b,4,function(U){var G;if(!U||U.getLength()<=0)return an(s),k(s._errorCode,s._errorString);if(H=function(){return V.needShowTwiceShowDialog=!1,s.IfShowProgressBar&&V.closeProgress(null,u),p.isFunction(L)&&_n(L,U),!0},te>0&&U.getLength()>te){G=U.getMD5(),B.DWT.IfAddMD5InUploadHeader&&(c["dwt-md5"]=G),s._OnPercentDone([0,-1,br.Uploading,"http"]);var z=new sa;s.__remoteFilename&&s.__remoteFilename!=""&&(z.remoteFilename=s.__remoteFilename),z.url=J,z.method=u,z.content=U.getData(0,U.getLength()),z.headers=c,z.fileName=Q,z.httpFormData=f,z.retry=I,z.bOnlyResponseEmptyIsOK=A,z.blockSize=s._moduleSize,z.offset=0,new Cs().httpPostUploadFragment(M,z,H,k)}else{var Z;if(G=U.getMD5(),B.DWT.IfAddMD5InUploadHeader&&(c["dwt-md5"]=G),!(Z=U.getData(0,U.getLength()))||Z=="")return an(s),k(s._errorCode,s._errorString);var ie=new sa;s.__remoteFilename&&s.__remoteFilename!=""&&(ie.remoteFilename=s.__remoteFilename),ie.url=J,ie.method=u,ie.content=Z,ie.headers=c,ie.fileName=Q,ie.httpFormData=f,ie.retry=I,ie.bOnlyResponseEmptyIsOK=A,ie.blockSize=s._moduleSize,new Cs().httpPostUpload(M,ie,H,k)}},k)}}]);var o}(ece);function yf(r,n,o,s,u,l,c,f){var m,v,S=this,_="HTTPUploadThroughPostEx",b=S._GetHttpHeadersAndClear(),I=xt.combineUrl(S,r,o),A=[],P=function(J){p.isFunction(c)&&c(J)},L=!1,$=!1;if(p.isFunction(l)&&($=!0),S.__HTTPPostResponseString="",p.isNumber(n)){if(n<-2)return qe(S),P(n),!!$&&void 0}else if(!p.isArray(n))return qe(S),P(n),!!$&&void 0;if(!p.isString(s)||s=="")return an(S),P(),!!$&&void 0;if(p.isUndefined(u))return Li(S),P(n),!!$&&void 0;if(u==B.DWT.EnumDWT_ImageType.IT_BMP||u==B.DWT.EnumDWT_ImageType.IT_JPG||u==B.DWT.EnumDWT_ImageType.IT_PNG||u==B.DWT.EnumDWT_ImageType.IT_J2K){if(n==-1&&S._ImgManager.count()>1||p.isArray(n)&&n.length>1)return Id(S),P(n),!!$&&void 0;p.isArray(n)?A.push(n[0]):n==-1?A.push(0):A.push(n)}else{if(u!=B.DWT.EnumDWT_ImageType.IT_TIF&&u!=B.DWT.EnumDWT_ImageType.IT_PDF)return Li(S),P(n),!!$&&void 0;if(n==-1){if(S._ImgManager.count()==0)return Nn(S),P(),!!$&&void 0;for(v=0;v<S._ImgManager.count();v++)A.push(v)}else if(n==-2)A=S._ImgManager.getSelectedClientIndexArray();else if(p.isArray(n))for(v=0;v<n.length;v++)A.push(n[v]);else A.push(n)}if(r==="")return dT(S),P(A),!!$&&void 0;if(p.isUndefined(I)||I==="")return ci(S),P(A),!!$&&void 0;if(!p.isString(I))return rp(S),P(A),!!$&&void 0;if(I.indexOf("http://")!=0&&I.indexOf("https://")!=0&&(I=V.detect.ssl?"https://"+I:"http://"+I),!S._checkIndices(A)&&A!=-1)return P(A),!!$&&void 0;var ee=[];if(p.isArray(A)&&p.each(A,function(J){var te=S._ImgManager.convertClientIndexToServerId(J);te!=-1&&ee.push(te)}),S._resetErr(),!S._isValid())return P(A),!!$&&void 0;if(!$){V.cancelFrom=Lt.HTTPUpload;var q=this.IfShowProgressBar,Q=function(J,te,H){return J!=0&&te&&(S._errorCode=J,S._errorString=te),H&&(S.__HTTPPostResponseString=H),V.needShowTwiceShowDialog=!1,q&&V.closeProgress(null,_),P(A),!1};return V.needShowTwiceShowDialog=!0,q?V.showProgress(S,_,!1):V.hideProgress(),S._OnPercentDone([0,-1,br.Encoding,"http"]),S._dwtConvertToBlobSync(u,ee,L,function(J,te){if(V.needShowTwiceShowDialog=!1,J){var H=S.__maxUploadImageSize;if(J.size>H&&H!=-1)return fs(S),Q(S._errorCode,S._errorString),!1;B.DWT.IfAddMD5InUploadHeader&&te&&te!=""&&(b["dwt-md5"]=te),J instanceof File?J.fileName=s:J.name=s,q&&cu(S.__IfShowCancelDialogWhenImageTransfer);var k=S._createHttpUploaderConfig(),M=new sa;return S.__remoteFilename&&S.__remoteFilename!=""&&(M.remoteFilename=S.__remoteFilename),M.url=I,M.method=_,M.content=J,M.contentType=S._strHttpContentTypeFieldValue,M.headers=b,M.bAsync=!1,M.httpFormData=pc(S.httpFormFields),M.blockSize=S._moduleSize,new Cs().httpPostUpload(k,M,function(G){return q&&V.closeProgress(null,_),G},Q)}var U={};return hT(U),Q(U._errorCode,U._errorString),!1},Q)}m={method:"HTTPUploadThroughPostEx",url:I,serverIds:ee,headers:b,formData:pc(S.httpFormFields),enumImageType:u,saveSetup:L,fileName:s,retry:0,bOnlyResponseEmptyIsOK:!0,objUploadFileStatus:!1,dataFormat:B.DWT.EnumDWT_UploadDataFormat.Binary,asyncSuccessFunc:l,asyncFailureFunc:P},this._asyncUploadCmd(m)}function aU(r,n,o,s,u){var l=this,c=!0;if(n)return l._innerFunRaw("SaveSelectedImagesToBytes",Ve(0,0,r,o),n,c,!0,function(v){if(p.isFunction(s)){var S=new Blob([v],{type:l._strHttpContentTypeFieldValue});s(S),S=null}},u),!0;var f=l._innerFunRaw("SaveSelectedImagesToBytes",Ve(0,0,r,o),n,c,!1);if(l._errorCode==0){var m=s(f);return f=null,m}return f=null,u(),!1}function oce(){return this._resetErr(),!!this._isValid()&&(this._innerSend("SetCancel",null,!0),!0)}function sU(r,n,o,s,u){var l=this;if(!p.isFunction(s))return this._innerFun(r,n);l.IfShowProgressBar?(V.showProgress(l,r,o),o&&V.progressContext&&V.progressContext.on("cancel",function(){Mo(po,l,oce).call(l)})):V.hideProgress(),this._innerSend(r,n,!0,function(){V.closeProgress(null,r),p.isFunction(s)&&s()},function(c){p.isFunction(u)&&u(l._errorCode,l._getErrorString()),V.closeProgress(null,r),c&&p.error(c)})}function uU(r,n,o,s,u){var l,c=this,f=!1;if(p.isFunction(s)&&(f=!0),!_t.checkProductKey(c,{Core:!0})||!_t.checkPDFProductKeyWhenNeeds(c,o))return p.isFunction(u)&&ft(u,c),!!f&&void 0;if(V.cancelFrom=Lt.FTPDownload,!f){var m=c._getCurrentDocumentName(),v=c._getCurrentDefaultTagName();(l=c.__innerLoadImageFun(r,n,1,m,v))&&c._canConsume()&&B.DWT.lcvrf(c);var S=c._ImgManager.getCurrentImageIndex();return S>=0&&c._innerRefreshUI(S),l}Mo(po,c,sU).call(c,r,n,!0,function(){var _=c._ImgManager.getCurrentImageIndex();_>=0&&c._innerRefreshUI(_),c._canConsume()&&B.DWT.lcvrf(c),p.isFunction(s)&&s()},u)}function cU(r,n,o,s){if(r._ImgManager.count()==0)return Nn(r),p.isFunction(s)&&s(n),!1;if(p.isNumber(n)){if(isNaN(n)||n<-2||n>=r._ImgManager.count())return qe(r),p.isFunction(s)&&s(n),!1}else{if(!p.isArray(n))return qe(r),p.isFunction(s)&&s(n),!1;var u;for(u=0;u<n.length;u++){var l=n[u];if(isNaN(l)||!p.isNumber(l)||l<0||l>=r._ImgManager.count())return WR(r),p.isFunction(s)&&s(n),!1}}if(o==B.DWT.EnumDWT_ImageType.IT_BMP||o==B.DWT.EnumDWT_ImageType.IT_JPG||o==B.DWT.EnumDWT_ImageType.IT_PNG||o==B.DWT.EnumDWT_ImageType.IT_J2K)(n==-1&&r._ImgManager.count()>1||p.isArray(n)&&n.length>1)&&(Id(r),p.isFunction(s)&&s(n));else if(o!=B.DWT.EnumDWT_ImageType.IT_TIF&&o!=B.DWT.EnumDWT_ImageType.IT_PDF)return Li(r),p.isFunction(s)&&s(n),!1;return!0}function pc(r){var n;return r&&(n=new FormData,p.each(r,function(o,s){if(o instanceof Blob){var u=o.name;n.append(s,o,u)}else n.append(s,o)})),n}var ws=function(r){function n(){return h(this,n),d(this,n,arguments)}return F(n,r),y(n,[{key:"Viewer",get:function(){return this._viewer}},{key:"BindViewer",value:function(c){var f=this,m=c;return B.DWT.UseDefaultViewer?(p.isString(c)&&(m=p.get(c),p.show(m)),f._config.container!=m&&(f._config.container=m,tU(f)),f._UIView.BindView(c)):(Fe(f,-2439,"You cannot call the method bindViewer() when Dynamsoft.DWT.UseDefaultViewer is set to false."),!1)}},{key:"UnbindViewer",value:function(){return this._innerUnbindViewer(!1)}},{key:"AddText",value:function(c,f,m,v,S,_,b,I){var A=this,P=parseInt(c);if(!Ln(A,P))return!1;var L=Jo.RGB2BGR(S),$=Jo.RGB2BGR(_),ee=A._ImgManager.convertClientIndexToServerId(P);return ee==-1?(qe(A),!1):A._innerFun("AddText",Ve(ee,f,m,v,L,$,b,I))}},{key:"CreateTextFont",value:function(c,f,m,v,S,_,b,I,A,P,L,$,ee,q){return this._resetErr(),!!this._isValid()&&this._innerFun("CreateTextFont",Ve(c,f,m,v,S,_,b,I,A,P,L,$,ee,q))}},{key:"CopyToClipboard",value:function(c){var f=parseInt(c);return!!Ln(this,f)&&dg(this,"CopyToClipboard",f,null,null,!1,!1)}},{key:"CopyToClipboardAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);return isNaN(m)?(Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):m<0||m>=f._ImgManager.count()?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):function(v,S,_){var b=v._ImgManager.convertClientIndexToServerId(_);return b==-1?(qe(v),Te.Promise.reject({code:v._errorCode,message:v._errorString})):v._innerFunV2(S,Ve(b))}(f,"CopyToClipboard",m)}},{key:"getView",value:function(){return this._UIView}},{key:"Erase",value:function(c,f,m,v,S,_,b){var I=this;if(!p.isFunction(_)){var A,P=parseInt(c);if(!Ln(I,P,b))return!1;var L=I._ImgManager.convertClientIndexToServerId(P);return L==-1?(qe(I),p.isFunction(b)&&b(I._errorCode,I._getErrorString()),!1):(I.getView().ClearSelectedAreas(),(A=I._innerFun("Erase",Ve(L,f,m,v,S))==1)?p.isFunction(_)&&_():p.isFunction(b)&&b(I._errorCode,I._getErrorString()),A)}I.EraseAsync(c,f,m,v,S).then(_,function($){I._wrappeAsyncFailed(I,$,b)})}},{key:"EraseAsync",value:function(c,f,m,v,S){var _=this;if(_._resetErr(),!_._isValid())return Te.Promise.reject({code:_._errorCode,message:_._errorString});var b=parseInt(c);if(isNaN(b))return Ot(_),Te.Promise.reject({code:_._errorCode,message:_._errorString});if(b<0||b>=_._ImgManager.count())return qe(_),Te.Promise.reject({code:_._errorCode,message:_._errorString});var I=_._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(_),Te.Promise.reject({code:_._errorCode,message:_._errorString})):(_.getView().ClearSelectedAreas(),_._innerFunV2("Erase",Ve(I,f,m,v,S),!0).then(function(A){if(A!=1)throw{code:_._errorCode,message:_._errorString}}))}},{key:"GetImageBitDepth",value:function(c){var f=this,m=parseInt(c);if(!Ln(f,m))return!1;var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),!1):f._innerFun("GetImageBitDepth",Ve(v))}},{key:"GetImageWidth",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return!1;var m=parseInt(c);if(isNaN(m))return Ot(f),-1;if(m<0||m>=f._ImgManager.count())return qe(f),-1;var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),-1):f._innerFun("GetImageWidth",Ve(v))}},{key:"GetImageHeight",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return!1;var m=parseInt(c);if(isNaN(m))return Ot(f),-1;if(m<0||m>=f._ImgManager.count())return qe(f),-1;var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),-1):f._innerFun("GetImageHeight",Ve(v))}},{key:"GetImageSize",value:function(c,f,m){var v=this;if(v._resetErr(),!v._isValid())return!1;var S=parseInt(c);if(isNaN(S))return Ot(v),-1;if(S<0||S>=v._ImgManager.count())return qe(v),-1;var _=v._ImgManager.convertClientIndexToServerId(S);return _==-1?(qe(v),-1):v._innerFun("GetImageSize",Ve(_,f,m))}},{key:"GetImageSizeWithSpecifiedType",value:function(c,f){var m=this;if(m._resetErr(),!m._isValid())return!1;var v=parseInt(c);if(isNaN(v))return Ot(m),-1;if(v<0||v>=m._ImgManager.count())return qe(m),-1;var S=m._ImgManager.convertClientIndexToServerId(v);return S==-1?(qe(m),-1):m._innerFun("GetImageSizeWithSpecifiedType",Ve(S,f))}},{key:"GetImageXResolution",value:function(c){var f=this,m=parseInt(c);if(!Ln(f,m))return!1;var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),!1):f._innerFun("GetImageXResolution",Ve(v))}},{key:"GetImageYResolution",value:function(c){var f=this,m=parseInt(c);if(!Ln(f,m))return!1;var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),!1):f._innerFun("GetImageYResolution",Ve(v))}},{key:"SelectAllImages",value:function(){var c,f=this,m=f._getHowManyImagesInBuffer(),v=[];if(f._resetErr(),!f._isValid())return!1;for(c=0;c<m;c++)v.push(c);return f._ImgManager.setSelectedClientIndexArray(v),v}},{key:"SelectImages",value:function(c){var f=this;return f._resetErr(),!!f._isValid()&&f._ImgManager.setSelectedClientIndexArray(c)}},{key:"GetSkewAngle",value:function(c,f,m){var v,S=this;if(!p.isFunction(f)){var _=parseInt(c);return!!Ln(S,_,m)&&(v=dg(S,"GetSkewAngle",_,f,m,!0,!1),S._errorCode==0?(xt.refreshImageAfterInvokeFun(S,_),v):0)}S.GetSkewAngleAsync(c).then(f,function(b){S._wrappeAsyncFailed(S,b,m)})}},{key:"GetSkewAngleAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("GetSkewAngle",Ve(v),!0).then(function(S){var _=S;return p.isArray(S)&&(_=S.length>0?S[0]:0),xt.refreshImageAfterInvokeFun(f,m),_})}},{key:"GetSkewAngleEx",value:function(c,f,m,v,S){var _=this,b=parseInt(c);if(!Ln(_,b))return!1;var I=_._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(_),!1):_._innerFun("GetSkewAngleEx",Ve(I,f,m,v,S))}},{key:"GetSkewAngleFromBinaryAsync",value:function(c,f,m,v){var S=this;if(S._resetErr(),!S._isValid())return Te.Promise.reject({code:S._errorCode,message:S._errorString});var _=this._imageBufferWrapper.getCustomDataByIndex(c),b=this._imageBufferWrapper.getMetadataByIndex(c),I=this._ImgManager.convertClientIndexToServerId(c),A={imageId:I,serverId:I,bufferLen:f.size,imageType:Qt.IT_BMP,width:b.width,height:b.height,bit:b.bitDepth,xres:b.resolutionX,yres:b.resolutionY,uidFromServer:_.uidFromServer},P=p.stringify([p.stringify(A)]);return this._innerSendBlob("GetSkewAngleFromBinary",P,f,!0,!0,m,v)}},{key:"IsBlankImageEx",value:function(c,f,m,v,S,_){var b,I=this;if(!Ln(I,b=parseInt(c)))return!1;var A=I._ImgManager.convertClientIndexToServerId(b);return A==-1?(qe(I),!1):I._innerFun("IsBlankImageEx",Ve(A,f,m,v,S,_))}},{key:"MirrorAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("Mirror",Ve(v),!0).then(function(S){if(S!=1)throw{code:f._errorCode,message:f._errorString};xt.refreshImageAfterInvokeFun(f,m),f.getView().ClearSelectedAreas()})}},{key:"Mirror",value:function(c,f,m){var v=this;if(!p.isFunction(f)){var S=parseInt(c);return!!Ln(v,S,m)&&dg(v,"Mirror",S,f,m,!1,!0)}v.MirrorAsync(c).then(f,function(_){v._wrappeAsyncFailed(v,_,m)})}},{key:"RemoveAllImages",value:function(){return this._removeAllImages("RemoveAllImages")}},{key:"RemoveAllImagesAsync",value:function(){return this._removeAllImagesAsync("RemoveAllImagesAsync",!0)}},{key:"RemoveImageAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("RemoveImage",Ve(v),!0).then(function(S){return!(!S&&f._errorCode!=-1033)&&(f._OnBitmapChanged(["c1",""+v,3,f._ImgManager.getCurrentImageIndex(),f._ImgManager.count()]),!0)})}},{key:"Rotate",value:function(c,f,m,v,S){return this.RotateEx(c,f,m,-1,v,S)}},{key:"_wrappeAsyncFailed",value:function(c,f,m){f&&(c._errorCode=f.code,c._errorString=f.message),p.isFunction(m)&&m(c._errorCode,c._getErrorString())}},{key:"RotateEx",value:function(c,f,m,v,S,_){var b=this;if(!p.isFunction(S)){if(b._resetErr(),!b._isValid())return!1;var I,A=parseInt(c);if(isNaN(A))return Ot(b),p.isFunction(_)&&_(b._errorCode,b._getErrorString()),!1;if(A<0||A>=b._ImgManager.count())return qe(b),p.isFunction(_)&&_(b._errorCode,b._getErrorString()),!1;var P=b._ImgManager.convertClientIndexToServerId(A);return P==-1?(qe(b),p.isFunction(_)&&_(b._errorCode,b._getErrorString()),!1):((I=b._innerFun("RotateEx",Ve(P,f,m,v))==1)?(xt.refreshImageAfterInvokeFun(b,A),b.getView().ClearSelectedAreas(),p.isFunction(S)&&S()):p.isFunction(_)&&_(b._errorCode,b._getErrorString()),I)}b.RotateExAsync(c,f,m,v).then(S,function(L){b._wrappeAsyncFailed(b,L,_)})}},{key:"RotateLeft",value:function(c,f,m){return this.RotateEx(c,-90,!0,-1,f,m)}},{key:"RotateRight",value:function(c,f,m){return this.RotateEx(c,90,!0,-1,f,m)}},{key:"RotateAsync",value:function(c,f,m){return this.RotateExAsync(c,f,m,-1)}},{key:"RotateExAsync",value:function(c,f,m,v){var S=this;if(S._resetErr(),!S._isValid())return Te.Promise.reject({code:S._errorCode,message:S._errorString});var _=parseInt(c);if(isNaN(_))return Ot(S),Te.Promise.reject({code:S._errorCode,message:S._errorString});if(_<0||_>=S._ImgManager.count())return qe(S),Te.Promise.reject({code:S._errorCode,message:S._errorString});var b=S._ImgManager.convertClientIndexToServerId(_);return b==-1?(qe(S),Te.Promise.reject({code:S._errorCode,message:S._errorString})):S._innerFunV2("RotateEx",Ve(b,f,m,v),!0).then(function(I){if(I!=1&&I!=1)throw{code:S._errorCode,message:S._errorString};xt.refreshImageAfterInvokeFun(S,_),S.getView().ClearSelectedAreas()})}},{key:"RotateLeftAsync",value:function(c){return this.RotateExAsync(c,-90,!0,-1)}},{key:"RotateRightAsync",value:function(c){return this.RotateExAsync(c,90,!0,-1)}},{key:"ChangeImageSize",value:function(c,f,m,v,S,_){var b=this;if(!p.isFunction(S)){var I,A=parseInt(c),P=1*f,L=1*m;if(!Ln(b,A,_))return!1;if(P<=0||L<=0)return LR(b),p.isFunction(_)&&_(b._errorCode,b._getErrorString()),!1;var $=b._ImgManager.convertClientIndexToServerId(A);return $==-1?(qe(b),p.isFunction(_)&&_(b._errorCode,b._getErrorString()),!1):((I=b._innerFun("ChangeImageSize",Ve($,P,L,v))==1)?(xt.refreshImageAfterInvokeFun(b,A),p.isFunction(S)&&S()):p.isFunction(_)&&_(b._errorCode,b._getErrorString()),I)}b.ChangeImageSizeAsync(c,f,m,v).then(S,function(ee){b._wrappeAsyncFailed(b,ee,_)})}},{key:"ChangeImageSizeAsync",value:function(c,f,m,v){var S=this,_=parseInt(c),b=1*f,I=1*m;if(S._resetErr(),!S._isValid())return Te.Promise.reject({code:S._errorCode,message:S._errorString});if(isNaN(_))return Ot(S),Te.Promise.reject({code:S._errorCode,message:S._errorString});if(_<0||_>=S._ImgManager.count())return qe(S),Te.Promise.reject({code:S._errorCode,message:S._errorString});if(b<=0||I<=0)return LR(S),Te.Promise.reject({code:S._errorCode,message:S._errorString});var A=S._ImgManager.convertClientIndexToServerId(_);return A==-1?(qe(S),Te.Promise.reject({code:S._errorCode,message:S._errorString})):S._innerFunV2("ChangeImageSize",Ve(A,b,I,v),!0).then(function(P){if(P!=1)throw{code:S._errorCode,message:S._errorString};xt.refreshImageAfterInvokeFun(S,_)})}},{key:"Flip",value:function(c,f,m){var v=this;if(!p.isFunction(f)){var S=parseInt(c);return!!Ln(v,S,m)&&dg(v,"Flip",S,f,m,!1,!0)}v.FlipAsync(c).then(f,function(_){v._wrappeAsyncFailed(v,_,m)})}},{key:"FlipAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("Flip",Ve(v),!0).then(function(S){if(S!=1)throw{code:f._errorCode,message:f._errorString};xt.refreshImageAfterInvokeFun(f,m),f.getView().ClearSelectedAreas()})}},{key:"OutputSelectedAreaAsync",value:(l=a(E().mark(function c(f,m,v,S){var _,b,I,A,P,L,$,ee,q,Q,J,te,H,k;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(I="OutputSelectedArea",(b=this)._resetErr(),b._isValid()){M.next=4;break}throw{code:b._errorCode,message:b._errorString};case 4:if(A=0,P=0,L=0,$=0,!isNaN(f)){M.next=8;break}throw Ot(b),{code:b._errorCode,message:b._errorString};case 8:if(v==Qt.IT_BMP||v==Qt.IT_JPG||v==Qt.IT_TIF||v==Qt.IT_PNG||v==Qt.IT_PDF){M.next=11;break}throw $t(b),{code:b._errorCode,message:b._errorString};case 11:if(S==hc.Blob||S==hc.Base64){M.next=14;break}throw $t(b),{code:b._errorCode,message:b._errorString};case 14:if(!(f<0||f>=b._ImgManager.count())){M.next=17;break}throw qe(b),{code:b._errorCode,message:b._errorString};case 17:if((ee=b._ImgManager.convertClientIndexToServerId(f))!=-1){M.next=21;break}throw qe(b),{code:b._errorCode,message:b._errorString};case 21:return q=S==hc.Base64,Q=q?"text":"arraybuffer",m&&(V.isNumber(m.x)&&(A=m.x),V.isNumber(m.y)&&(P=m.y),V.isNumber(m.width)&&(L=m.width),V.isNumber(m.height)&&($=m.height)),te=p.stringify([{index:ee,left:A,top:P,width:L,height:$}]),H="["+te+","+v+","+S+"]",k=(_=V.progressContext)===null||_===void 0?void 0:_.IfShowCancelDialogWhenImageTransfer,M.prev=27,b.IfShowProgressBar?V.showProgress(b,I,!1):V.hideProgress(),q?b._OnPercentDone([0,-1,br.ConvertingToBase64]):b._OnPercentDone([0,-1,br.ConvertingToBlob]),V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=!1),M.next=33,b._sendDataByHttpAsync(I,H,Q,!0);case 33:J=M.sent;case 34:return M.prev=34,V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=k),b.IfShowProgressBar&&V.closeProgress(null,I),M.finish(34);case 38:if(!q){M.next=51;break}if(!J){M.next=48;break}if(!uo(J)){M.next=44;break}return b._errorCode=J.exception,b._errorString=J.description,M.abrupt("return","");case 44:if(!(p.isArray(J.result)&&J.result.length>0&&p.isString(J.result[0]))){M.next=46;break}return M.abrupt("return",J.result[0]);case 46:M.next=49;break;case 48:return M.abrupt("return","");case 49:M.next=52;break;case 51:return M.abrupt("return",new Blob([J],{type:qT(v)}));case 52:case"end":return M.stop()}},c,this,[[27,,34,38]])})),function(c,f,m,v){return l.apply(this,arguments)})},{key:"Crop",value:function(c,f,m,v,S,_,b){var I=this;if(!p.isFunction(_)){var A,P=parseInt(c);if(!Ln(I,P,b))return!1;var L,$,ee=I._ImgManager.convertClientIndexToServerId(P);return ee==-1?(qe(I),p.isFunction(b)&&b(I._errorCode,I._getErrorString()),!1):(A=I._innerFun("Crop",Ve(ee,f,m,v,S))==1,L=I._errorCode,$=I._getErrorString(),I.getView().ClearSelectedAreas(),I._errorCode=L,I._errorString=$,A?(xt.refreshImageAfterInvokeFun(I,P),p.isFunction(_)&&_()):p.isFunction(b)&&b(L,$),A)}I.CropAsync(c,f,m,v,S).then(_,function(q){I._wrappeAsyncFailed(I,q,b)})}},{key:"CropAsync",value:function(c,f,m,v,S){var _=this;if(_._resetErr(),!_._isValid())return Te.Promise.reject({code:_._errorCode,message:_._errorString});var b=parseInt(c);if(isNaN(b))return Ot(_),Te.Promise.reject({code:_._errorCode,message:_._errorString});if(b<0||b>=_._ImgManager.count())return qe(_),Te.Promise.reject({code:_._errorCode,message:_._errorString});var I=_._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(_),Te.Promise.reject({code:_._errorCode,message:_._errorString})):_._innerFunV2("Crop",Ve(I,f,m,v,S),!0).then(function(A){var P,L;if(P=_._errorCode,L=_._getErrorString(),_.getView().ClearSelectedAreas(),_._errorCode=P,_._errorString=L,A!=1)throw{code:_._errorCode,message:_._errorString};return xt.refreshImageAfterInvokeFun(_,b),!0})}},{key:"CropToClipboard",value:function(c,f,m,v,S){var _,b=this,I=parseInt(c);if(!Ln(b,I))return!1;var A=b._ImgManager.convertClientIndexToServerId(I);return A==-1?(qe(b),!1):(b.getView().ClearSelectedAreas(),(_=b._innerFun("CropToClipboard",Ve(A,f,m,v,S))==1)&&xt.refreshImageAfterInvokeFun(b,I),_)}},{key:"CutFrameToClipboard",value:function(c,f,m,v,S){var _,b=this,I=parseInt(c);if(!Ln(b,I))return!1;var A=b._ImgManager.convertClientIndexToServerId(I);return A==-1?(qe(b),!1):(b.getView().ClearSelectedAreas(),(_=b._innerFun("CutFrameToClipboard",Ve(A,f,m,v,S))==1)&&xt.refreshImageAfterInvokeFun(b,I),_)}},{key:"CutToClipboard",value:function(c){var f,m=this,v=parseInt(c);if(!Ln(m,v))return!1;var S=m._ImgManager.convertClientIndexToServerId(v);return S==-1?(qe(m),!1):((f=m._innerFun("CutToClipboard",Ve(S))==1)&&m._OnBitmapChanged(["c1",""+S,3,m._ImgManager.getCurrentImageIndex(),m._ImgManager.count()]),f)}},{key:"CutFrameToClipboardAsync",value:function(c,f,m,v,S){var _=this;if(_._resetErr(),!_._isValid())return Te.Promise.reject({code:_._errorCode,message:_._errorString});var b=parseInt(c);if(isNaN(b))return Ot(_),Te.Promise.reject({code:_._errorCode,message:_._errorString});if(b<0||b>=_._ImgManager.count())return qe(_),Te.Promise.reject({code:_._errorCode,message:_._errorString});var I=_._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(_),Te.Promise.reject({code:_._errorCode,message:_._errorString})):_._innerFunV2("CutFrameToClipboard",Ve(I,f,m,v,S)).then(function(A){var P=A==1;if(!P)throw{code:_._errorCode,message:_._errorString};return xt.refreshImageAfterInvokeFun(_,b),P})}},{key:"CropToClipboardAsync",value:function(c,f,m,v,S){var _=this;if(_._resetErr(),!_._isValid())return Te.Promise.reject({code:_._errorCode,message:_._errorString});var b=parseInt(c);if(isNaN(b))return Ot(_),Te.Promise.reject({code:_._errorCode,message:_._errorString});if(b<0||b>=_._ImgManager.count())return qe(_),Te.Promise.reject({code:_._errorCode,message:_._errorString});var I=_._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(_),Te.Promise.reject({code:_._errorCode,message:_._errorString})):_._innerFunV2("CropToClipboard",Ve(I,f,m,v,S)).then(function(A){var P=A==1;if(!P)throw{code:_._errorCode,message:_._errorString};return xt.refreshImageAfterInvokeFun(_,b),P})}},{key:"CutToClipboardAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("CutToClipboard",Ve(v)).then(function(S){var _=S==1;if(!_)throw{code:f._errorCode,message:f._errorString};return f._OnBitmapChanged(["c1",""+v,3,f._ImgManager.getCurrentImageIndex(),f._ImgManager.count()]),_})}},{key:"SetDPI",value:function(c,f,m,v,S,_,b){var I,A=this,P=!1;p.isFunction(_)&&(P=!0);var L=parseInt(c);if(!Ln(A,L,b))return!!P&&void 0;var $=A._ImgManager.convertClientIndexToServerId(L);return $==-1?(qe(A),p.isFunction(b)&&b(A._errorCode,A._getErrorString()),!!P&&void 0):((I=A._innerFun("SetDPI",Ve($,f,m,v,S))==1)?p.isFunction(_)&&_():p.isFunction(b)&&b(A._errorCode,A._getErrorString()),P?void 0:I)}},{key:"MoveImage",value:function(c,f){var m=this;if(m._resetErr(),!m._isValid())return!1;var v=parseInt(c),S=parseInt(f);return isNaN(v)||isNaN(S)?(Ot(m),!1):v<0||v>=m._ImgManager.count()||S<0||S>=m._ImgManager.count()?(qe(m),!1):m._ImgManager.moveImage(v,S)}},{key:"SwitchImage",value:function(c,f){var m=this;if(m._resetErr(),!m._isValid())return!1;var v=parseInt(c),S=parseInt(f);return isNaN(v)||isNaN(S)?(Ot(m),!1):v<0||v>=m._ImgManager.count()||S<0||S>=m._ImgManager.count()?(qe(m),!1):m._ImgManager.switchImage(v,S)}},{key:"CloseWorkingProcess",value:function(){var c=this;return c._resetErr(),!!c._isValid()&&c._innerFun("CloseWorkerProcess")}},{key:"RemoveAllSelectedImages",value:function(){var c=this;if(c._resetErr(),!c._isValid())return!1;var f=!0,m=c._ImgManager.getCurrentImageIndex(),v=c._ImgManager.getSelectedClientIndexArray(),S=[];if(p.isArray(v)&&p.each(v,function(b){var I=c._ImgManager.convertClientIndexToServerId(b);I!=-1&&S.push(I)}),S.length==0&&m>=0){var _=c._ImgManager.convertClientIndexToServerId(m);S.push(_)}return S.length>0&&(f=c._innerFun("RemoveAllSelectedImages",Ve(S.join(",")))),f&&p.each(S,function(b){c._OnBitmapChanged(["c1",""+b,3,c._ImgManager.getCurrentImageIndex(),c._ImgManager.count()])}),f}},{key:"RemoveAllSelectedImagesAsync",value:function(){var c=this;if(c._resetErr(),!c._isValid())return Te.Promise.reject({code:c._errorCode,message:c._errorString});var f=c._ImgManager.getCurrentImageIndex(),m=c._ImgManager.getSelectedClientIndexArray(),v=[];if(p.isArray(m)&&p.each(m,function(_){var b=c._ImgManager.convertClientIndexToServerId(_);b!=-1&&v.push(b)}),v.length==0&&f>=0){var S=c._ImgManager.convertClientIndexToServerId(f);v.push(S)}return v.length>0?c._innerFunV2("RemoveAllSelectedImages",Ve(v.join(","),!0)).then(function(_){_&&p.each(v,function(b){c._OnBitmapChanged(["c1",""+b,3,c._ImgManager.getCurrentImageIndex(),c._ImgManager.count()])})}):Te.Promise.resolve()}},{key:"TagImages",value:function(c,f){var m=this;if(m._resetErr(),!m._isValid())return!1;var v=!0,S=m._ImgManager.count();return p.isArray(c)?p.isString(f)&&f!=""?(p.each(c,function(_){if(isNaN(_)||_<0||_>=S)return qe(m),v=!1}),v&&m._ImgManager.addImageTag(c,f)):(Fe(m,-2394,"Invalid tag name."),!1):(wd(m),!1)}},{key:"ClearImageTags",value:function(c){var f=this;return f._resetErr(),!!f._isValid()&&(c==-1||c>=f._getHowManyImagesInBuffer()?(qe(f),!1):f._ImgManager.removeImageTag(c))}},{key:"SetDefaultTag",value:function(c){var f=this;return f._resetErr(),!!f._isValid()&&f._ImgManager.setDefaultTag(c)}},{key:"FilterImagesByTag",value:function(c,f,m){var v,S=this,_=!1;if(p.isFunction(f)&&(_=!0),S._resetErr(),!S._isValid())return!!_&&void 0;p.isFunction(m)&&(v=function(){m({code:S._errorCode,message:S._errorString})});var b=S._ImgManager.showImagesByFilter(c,f,v);return _?void 0:b}},{key:"ClearFilter",value:function(){var c=this;return c._resetErr(),!!c._isValid()&&c._ImgManager.clearFilter()}},{key:"CreateDocument",value:function(c){var f=this;return f._resetErr(),!!f._isValid()&&(c&&c!=""?p.isString(c)?f._ImgManager.CreateFile(c):(np(f),!1):(p.isNumber(c)?np(f):mT(f),!1))}},{key:"OpenDocument",value:function(c){var f=this;return f._resetErr(),!!f._isValid()&&(c&&c!=""?p.isString(c)?f._ImgManager.OpenFile(c):(np(f),!1):(p.isNumber(c)?np(f):mT(f),!1))}},{key:"RemoveDocument",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return!1;var m=f._ImgManager.GetServerIdsByFileName(c);return m.length>0&&f._innerFun("RemoveAllSelectedImages",Ve(m.join(","))),f._ImgManager.RemoveFile(c)}},{key:"RenameDocument",value:function(c,f){var m=this;return m._resetErr(),!!m._isValid()&&(p.isString(c)&&p.isString(f)?c&&c!=""&&f&&f!=""?m._ImgManager.RenameFile(c,f):(mT(m),!1):(np(m),!1))}},{key:"GetDocumentInfoList",value:function(){var c=this;return c._resetErr(),!!c._isValid()&&c._ImgManager.GetFileInfoList()}},{key:"MoveToDocumentAsync",value:(u=a(E().mark(function c(f,m,v,S){var _,b,I,A,P,L,$,ee,q,Q;return E().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if((_=this)._resetErr(),_._isValid()){J.next=4;break}throw{code:_._errorCode,message:_._errorString};case 4:if(!p.isUndefined(f)&&f.length!=0){J.next=7;break}throw Xv(_),{code:_._errorCode,message:_._errorString};case 7:if(!p.isUndefined(m)&&m.length!=0){J.next=10;break}throw Jv(_),{code:_._errorCode,message:_._errorString};case 10:b=_._ImgManager.GetFileInfoList(),P=0;case 12:if(!(P<b.length)){J.next=20;break}if(b[P].name!=f){J.next=17;break}return I=b[P],J.abrupt("break",20);case 17:P++,J.next=12;break;case 20:L=0;case 21:if(!(L<b.length)){J.next=29;break}if(b[L].name!=m){J.next=26;break}return A=b[L],J.abrupt("break",29);case 26:L++,J.next=21;break;case 29:if(!p.isUndefined(I)){J.next=32;break}throw Xv(_),{code:_._errorCode,message:_._errorString};case 32:if(!p.isUndefined(A)){J.next=35;break}throw Jv(_),{code:_._errorCode,message:_._errorString};case 35:if($=[],!p.isUndefined(v)){J.next=40;break}if(I.imageIds.length>0)for(q=0;q<I.imageIds.length;q++)$.push(q);J.next=60;break;case 40:if(!p.isArray(v)){J.next=53;break}if(_._checkIndices(v,I.imageIds.length)){J.next=43;break}throw{code:_._errorCode,message:_._errorString};case 43:if($=v,p.isUndefined(S)){J.next=51;break}if(!p.isNumber(S)){J.next=49;break}S<0?ee=0:A.imageIds.length>S&&(ee=S),J.next=51;break;case 49:throw $t(_),{code:_._errorCode,message:_._errorString};case 51:J.next=60;break;case 53:if(!p.isNumber(v)){J.next=58;break}if(I.imageIds.length>0)for(Q=0;Q<I.imageIds.length;Q++)$.push(Q);v<0?ee=0:A.imageIds.length>v&&(ee=v),J.next=60;break;case 58:throw $t(_),{code:_._errorCode,message:_._errorString};case 60:return J.abrupt("return",new Te.Promise(function(te,H){$.length==0||_._ImgManager.MoveImageToFile(f,$,m,ee)?te():H({code:_._errorCode,message:_._errorString})}));case 61:case"end":return J.stop()}},c,this)})),function(c,f,m,v){return u.apply(this,arguments)})},{key:"CopyToDocumentAsync",value:(s=a(E().mark(function c(f,m,v,S){var _,b,I,A,P,L,$,ee;return E().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if((_=this)._resetErr(),_._isValid()){q.next=4;break}throw{code:_._errorCode,message:_._errorString};case 4:if(!p.isUndefined(f)&&f.length!=0){q.next=7;break}throw Xv(_),{code:_._errorCode,message:_._errorString};case 7:if(!p.isUndefined(m)&&m.length!=0){q.next=10;break}throw Jv(_),{code:_._errorCode,message:_._errorString};case 10:b=_._ImgManager.GetFileInfoList(),P=0;case 12:if(!(P<b.length)){q.next=20;break}if(b[P].name!=f){q.next=17;break}return I=b[P],q.abrupt("break",20);case 17:P++,q.next=12;break;case 20:L=0;case 21:if(!(L<b.length)){q.next=29;break}if(b[L].name!=m){q.next=26;break}return A=b[L],q.abrupt("break",29);case 26:L++,q.next=21;break;case 29:if(!p.isUndefined(I)){q.next=32;break}throw Xv(_),{code:_._errorCode,message:_._errorString};case 32:if(!p.isUndefined(A)){q.next=35;break}throw Jv(_),{code:_._errorCode,message:_._errorString};case 35:if($=[],!p.isUndefined(v)){q.next=40;break}I.imageIds.length>0&&p.isArray(I.imageIds)&&p.each(I.imageIds,function(Q){var J=_._uidFromServer2ServerId(Q);J!=-1&&$.push(J)}),q.next=60;break;case 40:if(!p.isArray(v)){q.next=53;break}if(_._checkIndices(v,I.imageIds.length)){q.next=43;break}throw{code:_._errorCode,message:_._errorString};case 43:if(p.each(v,function(Q){var J=_._uidFromServer2ServerId(I.imageIds[Q]);J!=-1&&$.push(J)}),p.isUndefined(S)){q.next=51;break}if(!p.isNumber(S)){q.next=49;break}S<0?ee=0:A.imageIds.length>S&&(ee=S),q.next=51;break;case 49:throw $t(_),{code:_._errorCode,message:_._errorString};case 51:q.next=60;break;case 53:if(!p.isNumber(v)){q.next=58;break}I.imageIds.length>0&&p.isArray(I.imageIds)&&p.each(I.imageIds,function(Q){var J=_._uidFromServer2ServerId(Q);J!=-1&&$.push(J)}),v<0?ee=0:A.imageIds.length>v&&(ee=v),q.next=60;break;case 58:throw $t(_),{code:_._errorCode,message:_._errorString};case 60:return q.abrupt("return",new Te.Promise(function(Q,J){var te="copyToDocument";if(A.imageIds.length,$.length==0)Q();else{_.IfShowProgressBar?Xs(!1):V.hideProgress();var H=_.IfShowCancelDialogWhenImageTransfer;V.cancelFrom=Lt.LoadImage,_.IfShowCancelDialogWhenImageTransfer=!1,V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=!1),V.cancelFrom=Lt.Other,_._innerConvertToBlobWithUI(te,B.DWT.EnumDWT_ImageType.IT_PDF,$,!1,function(k,M){var U;k.currentFileName=m,k.currentTagName="",k.bNeedClearCurrentTagName=!0,k.index=ee,_.IfShowProgressBar?(Xs(!1),V.showProgress(_,te,!1),V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=!1)):V.hideProgress(),V.cancelFrom=Lt.LoadImage,_.Addon&&_.Addon.PDF&&(U=_.Addon.PDF.GetReaderOptions(),_.Addon.PDF.SetReaderOptions({convertMode:B.DWT.EnumDWT_ConvertMode.CM_IMAGEONLY})),_._innerLoadImageFromBinary(k,0,!0,!0,function(){_.Addon&&_.Addon.PDF&&U&&_.Addon.PDF.SetReaderOptions(U),_.IfShowCancelDialogWhenImageTransfer=H,_.IfShowProgressBar&&V.closeProgress(null,te),Q()},function(){_.Addon&&_.Addon.PDF&&U&&_.Addon.PDF.SetReaderOptions(U),_.IfShowCancelDialogWhenImageTransfer=H,_.IfShowProgressBar&&V.closeProgress(null,te),J({code:_._errorCode,message:_._errorString})})},function(){_.IfShowCancelDialogWhenImageTransfer=H,J({code:_._errorCode,message:_._errorString})})}}));case 61:case"end":return q.stop()}},c,this)})),function(c,f,m,v){return s.apply(this,arguments)})},{key:"Invert",value:function(c,f,m){var v=this,S=!1;if(p.isFunction(f)&&(S=!0),!S){var _=parseInt(c);return!!Ln(v,_,m)&&dg(v,"Invert",_,f,m,!1,!0)}v.InvertAsync(c).then(f,function(b){v._wrappeAsyncFailed(v,b,m)})}},{key:"InvertAsync",value:function(c){return this._invert(c)}},{key:"RenameTag",value:function(c,f){var m=this;return m._resetErr(),!!m._isValid()&&(p.isUndefined(c)?(ci(m),!1):c.length==0?(Fe(m,-2517,"Old tag name is required."),!1):p.isUndefined(f)||f.length==0?(function(v){Fe(v,-2518,"New tag name is required.")}(m),!1):m._ImgManager.renameTag(c,f))}},{key:"RemoveTag",value:function(c,f){var m=this;return m._resetErr(),!!m._isValid()&&(p.isUndefined(c)||c.length==0?(ci(m),!1):p.isUndefined(f)||p.isArray(f)?m._ImgManager.removeTag(c,f):(wd(m),!1))}},{key:"GetTagList",value:function(){var c=this;return c._resetErr(),!!c._isValid()&&c._ImgManager.getTagList()}},{key:"GetTagListByIndex",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return[];var m=parseInt(c);return isNaN(m)?(Ot(f),[]):m<0||m>=f._ImgManager.count()||f._ImgManager.convertClientIndexToServerId(m)==-1?(qe(f),[]):f._ImgManager.getTagListByIndex(m)}},{key:"GetImageBitDepthAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("GetImageBitDepth",Ve(v))}},{key:"GetImageWidthAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("GetImageWidth",Ve(v))}},{key:"GetImageHeightAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("GetImageHeight",Ve(v))}},{key:"GetImageSizeAsync",value:function(c,f,m){var v=this;if(v._resetErr(),!v._isValid())return Te.Promise.reject({code:v._errorCode,message:v._errorString});var S=parseInt(c);if(isNaN(S))return Ot(v),Te.Promise.reject({code:v._errorCode,message:v._errorString});if(S<0||S>=v._ImgManager.count())return qe(v),Te.Promise.reject({code:v._errorCode,message:v._errorString});var _=v._ImgManager.convertClientIndexToServerId(S);return _==-1?(qe(v),Te.Promise.reject({code:v._errorCode,message:v._errorString})):v._innerFunV2("GetImageSize",Ve(_,f,m))}},{key:"GetImageSizeWithSpecifiedTypeAsync",value:function(c,f){var m=this;if(m._resetErr(),!m._isValid())return Te.Promise.reject({code:m._errorCode,message:m._errorString});var v=parseInt(c);if(isNaN(v))return Ot(m),Te.Promise.reject({code:m._errorCode,message:m._errorString});if(v<0||v>=m._ImgManager.count())return qe(m),Te.Promise.reject({code:m._errorCode,message:m._errorString});var S=m._ImgManager.convertClientIndexToServerId(v);return S==-1?(qe(m),Te.Promise.reject({code:m._errorCode,message:m._errorString})):m._innerFunV2("GetImageSizeWithSpecifiedType",Ve(S,f))}},{key:"GetImageXResolutionAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("GetImageXResolution",Ve(v))}},{key:"GetImageYResolutionAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("GetImageYResolution",Ve(v))}},{key:"ChangeBrightnessAsync",value:function(c,f){var m=this,v=parseInt(c);if(!m._isValid())return Te.Promise.reject({code:m._errorCode,message:m._errorString});if(f<-1e3||f>1e3)return Vn(m),Te.Promise.reject({code:m._errorCode,message:m._errorString});var S=m._ImgManager.convertClientIndexToServerId(v);return S==-1?(qe(m),Te.Promise.reject({code:m._errorCode,message:m._errorString})):m._innerFunV2("ChangeBrightness",Ve(S,f))}},{key:"ChangeContrastAsnyc",value:function(c,f){var m=this,v=parseInt(c);if(!m._isValid())return Te.Promise.reject({code:m._errorCode,message:m._errorString});if(f<-1e3||f>1e3)return Vn(m),Te.Promise.reject({code:m._errorCode,message:m._errorString});var S=m._ImgManager.convertClientIndexToServerId(v);return S==-1?(qe(m),Te.Promise.reject({code:m._errorCode,message:m._errorString})):m._innerFunV2("ChangeContrast",Ve(S,f))}},{key:"GetImageAsync",value:function(c,f,m,v,S){var _=this;if(_._resetErr(),!_._isValid())return Te.Promise.reject({code:_._errorCode,message:_._errorString});var b=parseInt(c);if(isNaN(b))return Ot(_),Te.Promise.reject({code:_._errorCode,message:_._errorString});if(b<0||b>=_._ImgManager.count())return qe(_),Te.Promise.reject({code:_._errorCode,message:_._errorString});var I,A=_._ImgManager.convertClientIndexToServerId(b);return A==-1?(qe(_),Te.Promise.reject({code:_._errorCode,message:_._errorString})):(p.isNumber(f)?I=Ve(A,f):p.isNumber(m)&&p.isNumber(v)?I=Ve(A,m,v):p.isNumber(S)&&(I=Ve(A,-1,-1,S)),_._sendDataByHttpAsync("GetImageByIndex",I,"blob"))}},{key:"GetImageInfoAsync",value:function(c){var f=this;if(f._resetErr(),!f._isValid())return Te.Promise.reject({code:f._errorCode,message:f._errorString});var m=parseInt(c);if(isNaN(m))return Ot(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});if(m<0||m>=f._ImgManager.count())return qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString});var v=f._ImgManager.convertClientIndexToServerId(m);return v==-1?(qe(f),Te.Promise.reject({code:f._errorCode,message:f._errorString})):f._innerFunV2("GetImageInfo",Ve(v)).then(function(S){var _=0,b=0,I=S;if(p.isArray(S)&&S.length==1&&(I=S[0]),p.isString(I)){var A=I.split(",");_=parseInt(A[0]),b=parseInt(A[1])}return{width:_,height:b}})}},{key:"IfShowUI",get:function(){return this._resetErr(),this._isValid()?this._innerFun("IfShowUI"):xe},set:function(c){this._setIfShowUI(c)}},{key:"IfShowFileDialog",get:function(){return this._getIfShowFileDialog()},set:function(c){this._setIfShowFileDialog(c)}},{key:"checkErrorString",value:function(){var c=this._errorCode;if(c===-2115)return!0;if(c===-2003&&!B.DWT.IfHttpPostErrorNoWindow){var f=window.open("","ErrorMessage","height=500,width=750,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no");f==null||f.document.writeln(this.__HTTPPostResponseString)}return c===0}},{key:"OverlayRectangle",value:function(c,f,m,v,S,_,b){var I,A=this;return A._resetErr(),!!A._isValid()&&(A._isNoViewer()?A._nouiNotSupport("OverlayRectangle"):f>v||m>S||f==v&&m==S?(Fe(A,-2375,"The left or top or right or bottom you entered is invalid."),!1):(I=p.isNumber(_)?Jo.getColor(_):_,A._UIView.OverlayRectangle(c,f,m,v,S,I,b)))}},{key:"SetViewMode",value:function(c,f){var m=this;if(m._resetErr(),!m._isValid())return!1;if(m._isNoViewer())return m._nouiNotSupport("SetViewMode");if(p.isString(c)||p.isString(f)||c<-1&&f<-1)return Vn(m),xe;var v=Math.floor(c),S=Math.floor(f);return m._UIView.SetViewMode(v,S),!0}},{key:"ShowImageEditor",value:function(c,f,m,v){var S=this;return S._resetErr(),!!S._isValid()&&(S._isNoViewer()?S._nouiNotSupport("ShowImageEditor"):Ui.isServerInvalid(S)?xe:S._UIView.GetWebViewer().webViewer.imageEditor?S.ShowImageEditorEx(-1,-1,-1,-1,3):c&&f&&m?S.ShowImageEditorEx(-1,-1,f,m,0,!0,c,v):S.ShowImageEditorEx(-1,-1,-1,-1,0,!1))}},{key:"ShowImageEditorEx",value:function(c,f,m,v,S,_,b,I){var A=this;return A._resetErr(),!!A._isValid()&&(A._isNoViewer()?A._nouiNotSupport("ShowImageEditorEx"):A._UIView.ShowImageEditorEx(c,f,m,v,S,_,b,I))}},{key:"SetSelectedImageArea",value:function(c,f,m,v,S){var _=this;if(_._resetErr(),!_._isValid())return!1;if(_._isNoViewer())return _._nouiNotSupport("SetSelectedImageArea");var b=parseInt(c);return isNaN(b)||b<0||b>=_._ImgManager.count()?(qe(_),!1):!Ui.isServerInvalid(_)&&_._UIView.SetSelectedImageArea(f,m,v,S)}},{key:"first",value:function(){var c=this,f=c._ImgManager.count();return c._resetErr(),!!c._isValid()&&(c._isNoViewer()?c._nouiNotSupport("first"):(f>0&&(c._UIView.Go(0),Ua.__innerRefreshFromUIView(c,c._ImgManager.getCurrentImageIndex())),rt))}},{key:"previous",value:function(){var c=this,f=c._ImgManager.count();return c._resetErr(),!!c._isValid()&&(c._isNoViewer()?c._nouiNotSupport("previous"):(f>0&&(c._UIView.__Previous(),Ua.__innerRefreshFromUIView(c,c._ImgManager.getCurrentImageIndex())),rt))}},{key:"next",value:function(){var c=this,f=c._ImgManager.count();return c._resetErr(),!!c._isValid()&&(c._isNoViewer()?c._nouiNotSupport("next"):(f>0&&(c._UIView.__Next(),Ua.__innerRefreshFromUIView(c,c._ImgManager.getCurrentImageIndex())),rt))}},{key:"last",value:function(){var c=this,f=c._ImgManager.count();return c._resetErr(),!!c._isValid()&&(c._isNoViewer()?c._nouiNotSupport("last"):(f>0&&(c._UIView.Go(f-1),Ua.__innerRefreshFromUIView(c,c._ImgManager.getCurrentImageIndex())),rt))}},{key:"_isBindViewer",value:function(){return!(!this._viewer||!this._viewer.webViewer)&&this._viewer.webViewer.bindViewUI}},{key:"_isNoViewer",value:function(){return!this._isBindViewer()}},{key:"_innerUnbindViewer",value:function(c){var f=this;f.__funResize&&(p.removeEventListener(window,"resize",f.__funResize),f.__funResize=xe),f._viewer&&(c?f._viewer.webViewer.dispose():f._viewer.unbind()),f._config.container=null}},{key:"_unload_viewer",value:function(){var c=this;if(c._isBindViewer())c._innerUnbindViewer(!0);else{var f,m=(f=c._containerElement)===null||f===void 0?void 0:f.id;m&&delete B.DWT.ContainerMap[m]}c._ImgManager&&(c._ImgManager.dispose(),c._ImgManager=null),c._UIView&&(c._UIView.dispose(),c._UIView=null),c._viewer=null}},{key:"_innerRefreshUI",value:function(c,f,m,v,S){var _=this;return S==4&&_._isBindViewer()&&(_._ImgManager.bImageJustChangedInEditor==0?_._ImgManager.bImageChangedInViewer=!0:(_._ImgManager.bImageJustChangedInEditor=!1,_._ImgManager.bImageChangedInViewer=!1)),m&&_._ImgManager.refresh(c,_._ImgManager.count(),!0,v),p.isFunction(_.__OnRefreshUI)&&_.__OnRefreshUI(_._ImgManager.getCurrentImageIndex(),_._ImgManager.count()),!0}},{key:"updateImage",value:(o=a(E().mark(function c(f,m){var v,S,_,b;return E().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(S=this,gp.Auto,!p.isUndefined(f)&&f.length!=0){I.next=7;break}throw Fe(S,-2853,"The imageId cannot be empty."),{code:S._errorCode,message:S._errorString};case 7:if(p.isString(f)){I.next=10;break}throw GR(S),{code:S._errorCode,message:S._errorString};case 10:if((_=S._uidFromServer2ServerId(f))!=-1){I.next=14;break}throw rF(S),{code:S._errorCode,message:S._errorString};case 14:if(!p.isUndefined(m)){I.next=19;break}throw _9(S),{code:S._errorCode,message:S._errorString};case 19:if(m instanceof Blob){I.next=22;break}throw y9(S),{code:S._errorCode,message:S._errorString};case 22:return I.next=24,lU(m);case 24:return b=I.sent,I.next=27,S._updateImage(_,b);case 27:(v=S._UIView.GetWebViewer())===null||v===void 0||(v=v.webViewer)===null||v===void 0||v.resetImageEditorButton();case 28:case"end":return I.stop()}},c,this)})),function(c,f){return o.apply(this,arguments)})}],[{key:"ProcessGetBlobByQueue",value:function(){if(n._getblob_queue.length>0&&!n._processing_getblob_queue){n._processing_getblob_queue=!0;var c=n._getblob_queue.shift(),f=c[0],m=c[1],v=c[2];f._convertToBlobForUpload(B.DWT.EnumDWT_ImageType.IT_PNG,[m],!1,4,function(S,_,b){var I=b[1][0],A=f._ImgManager.getImageIdMap(I);if(A){var P={imageId:I,serverId:I,uidFromServer:A.uidFromServer,uuid:A.uuid,imageUrl:URL.createObjectURL(S),minImageUrl:URL.createObjectURL(S)};S=null,f._ImgManager.UpdateImage(P,v)}n._processing_getblob_queue=!1,setTimeout(n.ProcessGetBlobByQueue,0)},function(S){n._processing_getblob_queue=!1,setTimeout(n.ProcessGetBlobByQueue,0)})}}},{key:"_getContainer",value:function(c){return c._containerElement}},{key:"_setContainer",value:function(c,f){return c._containerElement=f}},{key:"_closeImageEditorUI",value:function(c){if(p.isFunction(c.__CloseImageEditorUI))try{c.__CloseImageEditorUI()}catch(f){vr(f)}}}]);var o,s,u,l}(ice);function dg(r,n,o,s,u,l,c){var f,m=r._ImgManager.convertClientIndexToServerId(o);if(m==-1)return qe(r),p.isFunction(u)&&u(r._errorCode,r._errorString),!1;if(f=r._innerFun(n,Ve(m)),l)return f;var v=f==1;return v?(c&&(xt.refreshImageAfterInvokeFun(r,o),r.getView().ClearSelectedAreas()),p.isFunction(s)&&s()):p.isFunction(u)&&u(r._errorCode,r._errorString),v}function lU(r){return p.isFunction(r.arrayBuffer)?r.arrayBuffer():new V.Promise(function(n,o){if(B.navInfoSync.bIE||B.navInfoSync.bSafari){var s=new FileReader;s.onload=function(){n(s.result)},s.onerror=function(l){o(l)},s.readAsArrayBuffer(r)}else{var u;Fe(u={},-2856,"Cannot convert blob to array buffer."),o({code:u._errorCode,message:u._errorString})}})}C(ws,"_processing_getblob_queue",!1),C(ws,"_getblob_queue",[]);var dU=function(r){return r.normal=0,r.balance=1,r}({}),fU="data:image/gif;base64,R0lGODlhZABkAKUAAPyOFPzKjPyuVPzmxPy+dPyeNPzarPz27PzSnPy2ZPymRPzGhPyWJPzu3PzixPzOnPyyZPzChPyiRPzevPz+/PzWrPy6dPyqVPzOlPyyXPzq1PzCfPyiPPzetPz69PzWpPy6bPyqTPyaLPySHPzKlPyuXPzmzPy+fPyePPzatPz29PzSpPy2bPymTPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAxACwAAAAAZABkAAAG/sCYcEgsGo/IpHLJbDqf0Kh0Sq1ar9hslXI4aEwHFUVLLicpjUBrBACMFKTG2Ewne1Khtl4fSnnqgFYUFSJ7hgAiFXOBjE8mDIeHIyaNlUweGZGRGX+WnkYTL5qHIhOfp0MubKN7Iy6oUhQwDSYmDTBPHiyshyydsEwUJgslCiIFCgkPcpcJvIYJv8BJBy4okW8r0kceIM97LIvTRw0Cq5ojBNtGqt9uC08qGisnBA9g4loHAt8jESpKJhT6VqqJMALn3AiYsE7QAneIFCVRkelbiYZFKDhooanAinxWHFyDKABXEhMJ0VFiAkMBqwITQE6hEAGinhRKBg3UlEim/pENzwQcyAKDn00AJ3wKucMxUogKGIsc2DlqhIMsGjgcBRBC6dI0Cla9IaHBKxEHKTWRyGKCqjsUZpeqOFArTFwiK9JGIsDW7TcOd7FU0HuIL5asWwVELfPo2wOiELYuCHzFQ4FnIzRkoYCBsCYGVz3lZZVuMRQNLiGyGOrpQORRClZuHv2tgAPKWNBA0KvgdhkPJzzrYfDBNB0uKwowYDCCQYETMHA78RDB7x6P42J4MFFhhQPWgA4YKJGWAQgHxrObkdXhhAAOHDK4wKd+GgUKHu5Lr8+/v///AAYo4IAEAgODBhNoYFKBdVCgAQkKMDdCcwq40EB6DDoBAwbW/rUhwgMLZlhFA7vxMkICmolIxQEhCLeHUCpK4YEzNvkiIhomOGACDKYNdhQDFWR4wAMCiMKAAA+AZ8QBFR2VgZIBwsACJHswwEKIRAi0FSKmDEjBLtiEYwQFJGzZBgb7eWICabIN4QEBZiKFISxAsRLBkmBumQCU/pXASwZL0rjlagMaNQqgRbwZpzoDnsDLnRmVaSYJaVoygGeTHKHlVgV5mWcvMjG5JQR8/icllcOBgCURKaDqDgM4MXgAAgJAciQCpbopqDs2ZugBDDnaYhwMF7jYxggwxihFAxm4OAIEKSq77AMdIoJBA9JW4UEDLkQ4IYUWzpmtEgcmuOq4/uimq+66/qHhwAQfVDABGOxGodECFyjnBgMoZBAAM/UuAcMJl6HDAQniZiuMVt9AAHDAQ1AwAcPuCIAtxENo0JRNECTs664QjUApxg7EycHFp/x64XpNbjVCAJVS4cAGJQhggR9kaFCtRecCsqmHk2mxgqtbFdAmIw5Y94EWNcUJAKyWeFDnISF4fIQFTrcRZCUw+BmJCNFagXXWWzdSFE9HUzG1mQwYYIkKYx+iQK5RPGAsKyKEVkkK1r2SRdJOh4ByIx48ZEgJdEfhwcYuJ/UJBSu0UIAIEriQuBQVxFnAALBsR68ZBzBuEwExC0hBBzt31LMRKqRAAAEpAESgYgfU2sSB3kscsOueBXqQnDshxOTECocsXeDpokeCImWv7QFBhlxUEIIIEx7LgAgQoBeF13sgeqMJD7gAAgEurPAwFHYb8hjGT4iqB6nsPyELkSWAWHr8+Oev//789+8/u0EAACH5BAkJADEALAAAAABkAGQAAAb+wJhwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+0uPY1JJ+XQeLxob2OhYAAAjNaika5fKYPL6M0HjC4DFHaDUSYofYgAKCaEjUweAomJAmeOlkYOe5J9Iw6Xn0MEm4kEoJ8UCqOICoKmUB4aJiYNrU4UHKp9HLWuSwcBAhwoBQolFZVMFC25fC28vUceFQWSIyEOz0gWzG8W0EoeLm6jIilNmdyeUBQNsg3IXhXjqhyMX5G5lK8uF8IKJ3S8HKDGjQU8JA5wjeKgzkmDEprejECBrYsLbm/KJXOgJ9Gfik5g4EtUwJ4WSBjfLDiIpEGENm8YKIgQ0NaKiKRYVtGgEGP+Ahi2NExIkWKChmy+QKgKUROLA4IYBTQddCCEqpJbBhxKKQCoowMXVC3aokFCSgAsDljycELVhalWUKZ0gTQNBQPzEI2IUJdKBZxiB3xSsQHwm65dPFhlNmKDzkEwXIjowwAC3CxPmbXwCspDCgICLrBYoRYNhRRQPba4bImChwMHPPTVYoLFZEQcInD+tjbFAgglSrAgYeIxb0KvYcA4MPu48+fQo0ufTr269evYs1t3DaOBdxiytXOB8VnBixEiJJwwsFt8lQEl8vJhUEKweyoUKvTcxMFA8/tG5HdbLiJU8B+AQzSwXy4csDYdBTBoAMOBF521gHYutcBBCBv+OCgEDANiVEB70lHgQAs4tRBIEvKcBUcF1x1QgiQllHbEAi6+EcF16HjUkBHb5OiNdRiMgkESSgl5HQmjkJAEji7uxaNhfvxYRItnMQCjdQeM1IcANhoBoosjXodHKn2oOBuUKV2YXQMnhCBBCAAxoWBKDYoHoYQHCshNgQciKER+CybCgYGCRuFAfJLQZ2WiIVVAgAQijPCCBARUQCKktnjQ3XfhcSrqqKSWauqpqBbhqSwTppqMCScoUIAIBRTQAgm0uGqEBw5AQCUcAAWaKAUPpLaJAiClSsEKL2AkwaOknmZsLkyl2oCXGFkgrHb5/aoKAx7aQcG2T3gwY47+ALgAigoYXCBHuFIc4G0urDThGmyhTqHCYm+gYJ8WDqD7RgHhHjABBhFYAEIEGEwQ5hMBJFICuUoYIDAAIpi06wolTFtACSsYF80yej1sRQUXZ3wEOyHIhwgDTAXqAZqImFzFBBcTvOsEhW6CwgSBioIbxUnAcLEEB5loFp7JKqHBVhkhelLP3IAgJrbcXGDzEb3uEUIKIktBAQnzbjLCv0NEIPCOnXqQ7xYN0JwSBM+Mia4Im4JCrMtXPfpA2aOM8IBzB5wAeEYrPENBAhcDkADRaHhAAN+IFBCymCQLvNlzKjygwK8jCJACUnderAC8l7CDweecQKBpXWU1zoFdBiWCYUIFKZgQ22xxN346qR6EdbEAKpQqtMCllDrB4dVMYCoF/LoYAuTVpUD5t+acKnmOJ4QtKAwgMD8CC3mPWvj180WwdakeIICi2S0g4P2o7KwgAE6hr5ArKEEAACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPyeNPzarPy+dPz27PzSnPymRPy2ZPzGhPyWJPzu3PzixPzOnPyiRPzevPzChPz+/PzWrPyqVPy6dPzOlPyyXPzq1PyiPPzetPzCfPz69PzWpPyqTPy6bPyaLPySHPzKlPyuXPzmzPyePPzatPy+fPz29PzSpPymTPy2bPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CweAydRCyVjyUyIbujkwYGQK9jGu23Xtkg1f8AJA17hEYdLSKAdSItHYWPMA0Jin8Jg5CEA4mUdCIlmIQRnH8OoGUvJSUHeVAlm5yepkwTLyMaIrgMCQWrT5KjAJaySh0OK5QiGBmsS4evgCIBjsNHZhrAApdNfZyCVRPTYS/HwAAszEq0JM8iguhNcQYrGiwO71oj5XQMEWURIAIqrLk36wSDPyIWhNsy4Zo+ACgIisngEGG/Lg0OPqxwoFCAZ3a8OAA5StieDhY4aViYxdXDYNreTDDACQJLLC806hPQkdD+A5IAQHiZ8OGhCAkSxZFDmOELBaCAQjR91KCCRhEJ2Hw5oKAcI1AHEKBA8QAPmAkZKowSAaInqAlJtcRhobNOiBYvqOkxY0FAghUCUMTUK/NAhgYp4hJezLix48eQI0ueTLmy5cuYM397kaFEhheKNS+Z4ICDAA0mNAjgYE/0lA4oQigSEQLFTdd8BJTLhrvJCxZQF7HI2zvJBA/B/zBQEVov3OYHILwM5jZyBw8QQkDwcLuIg+l0SklOseBVwhRL8oEfMdmB7D8ELiahCd6A5AkXKD1IigI8APuRTfCAfkkF4B97kkXwnl3yIfEdeOJFdoAE5klQ3REHTPJSAhf+PnZddtt1R8QEKtQ1ynLNUQNOir8lB4AIwxW3RAO6YTOYjEd0YMCCf9QmIo5EFCOBABBoAIEAEjjwI5BF0JJKCaAxKeWUVFZp5ZVYPgHOCy8kluURL5yAAgYkCICBAWWN8VwHHcAFSgoPJGDiiyZIEGUXHTSgAgYmMMCABiBEcKceHZSgITAhULBkFAdcIN1sHyi61wmP6sPAA4s68ducPbaQ4hUlVPRQCB58ikQHfujDSKZXZOgfAARESEUHC0yXqKlwGPgqABiwikQJJoAnAHFgvFCpf7HMKgGyJ4hBAacvcVBFA0X5ZwGuTsy0ax0QYAtDCTy+tBIYB8yxLaz+Nzox0qsMZFqMCi20oIKSS7yg1rkhfDLFusj+SIstDOCSiwYjDFoEjecCkC8VA7jwKgESdUCBqIpowB2GqW4bQrrbHDqdAgR18AC0yu1nSErnjjvFASC8ylw1Jb7kQqlGjOAiMBhYcUK45ZjUpAPBTmdCa0RkQMC5DUrRQcsvMXDBPSnQVx9L2u66gq9INHAsMCx0KEQGPOvjwo0NhF0OAxR4S4ShXmFArBEIbIuAESTejBAKXk/RAAhhi0CABOglwcK2LOT4gNmzWZA3FSkUYEECIYjAQAgfJLlkta9WcKoKR59t4Rd5luCAAyWYxcRS/q1g3AAKBFfBCVi7kbFpfyQ0U0ILkIcQAgH0OODlYhxsK20THXAGZeyhbJt0cS9Q/JAGb8sooN2LmCzlC+a+pED0QJaw9SgQTEVlHB8kJ8IKplv5ggS3zKaBnV/CUOgICiRAAAEJKDBCCcj3NsEBDThMA3qBiSAAACH5BAkJAC8ALAAAAABkAGQAhfyOFPzKjPyuVPzmxPyeNPy+dPzarPz27PzSnPymRPy2ZPzGhPyWJPzu3PzOnPyiRPzChPzixPz+/PzWrPyqVPy6dPzOlPyyXPzq1PyiPPzCfPzevPz69PzWpPyqTPy6bPyaLPySHPzKlPyuXPzmzPyePPy+fPzatPz29PzSpPymTPy2bPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+wJdwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CweEwum4sS1yYg2rgk53gzIgDYQ5SIfI9sJOyAAAkNfIVCEgWBgSZwhnsNKoqAKoSOchh/koIYlnKQmoKVnU4SHByNUoghmoyjTRwRDiwBKSSoUA0PkoOuTC4VBKsAIRkWKFN0gHh6vUouI5ohEAepaiIBbreppdpeHB+gww7dcQ0LCSUFtmERBOEAKtSFB3WADwNgEg7vw5yFKZJWkMPCYQE/ABsMXZAEYuAVDiwOJiwETlEJh1YkpBAGKoSoPScktfpCIsM7AfL4cFgRiMLHLhJEMAAFYgNGMhIiFKgwISX+GBQaOAICkYJDszIHHCQQFmLEBqNHy0g4QGJDhAYHbkbdyrWr169gw4odS7as2bNow3BwgcEF1LRVOJwoQCHBgwQUCpx4C7fJ1BPBopXoqRWuBAwrhEZbgaEw1QEkfH5t4EFxRw8v0TQokAGE5wcFGhR2hKLeQUAjJA9BkcKdJAIpVPfiUMAyvxAF+AopaPvOAt29NoA4zXDiEAkTZr5r0WF0HBQmeh80wZfyacxRG5gkLimDKAknpAcKccK5mQjcoxmXYJD4AvNlEKTXlGLISu4rgFuKOF9RAPsVnfaBfo6I0J8iLBwHAXcQEGgIQAcCUt8h4Z1GHnxkoBfhMMz+CGHdQS5lt92B3hGBXAv8MIchGSgkEqEJkvEWTgi/cSXcgQQYRwRrrikC2zFc0dZfCBUQKMFmnXmWQWgrxnEABfN5IFsRLpAQAQkujPXhQSF44E9fSByW2G2MNSmWBChMUIJtIQyWFZhOyEVXAhngpZeDcCpxAFsuTJnnn4AGKuigUJRyAgsfrLDABG+MUYoLDTTgliMSkGCCcoooEAGQXhyQQgEjJKDCBRA8pVIKI2oCwjQwRTACpoAQ8EFmY3AgAoq3KYBnFBykMFw4GXSIkwOwvhMCdVqcUKwmJdBKUgnpMdAcFgek+s6AZHBgQn8jZHmFBdzVRMYBy3Kp4xT+B0TCHbJiTPCimS+Q0ONp3Y6x4IEe7LrEjdzxIkaA82WgrxIn/Eqcv0uU0kAEKaRw1SlMsHRgCQMn0U56FHjrzAkCCBWCACf4KcS2+FaMhAuZEFeByC808EG5ADAwqxIQ9odtFYhwx0AKGLmggnjwaGxEAxFOAG/LBvOTmp6m8YNSmAvNl8CXVlgANAAgCGuErVffIcJA/BIXgggmKwGdeAwggNGW1zl7NncXCH3FASIkrUwGey1RIXfkJeGCAl2X2EUDJqhQAggElOCBBXIfAVF/LDhIG8x2MHCBs1hMNcAGG5DA6RLf9FekEr2+KkkICYjQeCcoSJzeCiynsYFdBgJkUIIABUzQQNlnCDkfu0yUYoopR4uhT3/jDBqB3fxkTegBUROnAMtwXXxajoQe4sDVISSf/QsQUR5z5N/bd4IKyzKgQt7lE+GpAnXhpUBs7YcJKQYH8F6/IUEAACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPy+dPyeNPzarPz27Py2ZPymRPzSnPzGhPyWJPzu3PzixPzOnPyyZPzChPyiRPzevPz+/Py6dPyqVPzOlPyyXPzq1PzCfPyiPPzetPz69Py6bPyqTPzWrPyaLPySHPzKlPyuXPzmzPy+fPyePPzatPz29Py2bPymTPzSpPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CweEwum5EUynkd7Uwuo0mHTVemTCEAIGRK1f9FFyJ6eiIjUhQdBygBJgQLIA0daoBPFAWEhCeUTm4qDJmFJCAHnJVKBy6hAAwHTwcLeauEDCoNp0yXq5tOLxWDs6EfGbhLI8CFh00HHsHBw6bFRAd4enyuuQHOzirYXB0ZICgN0VEHb3FzTS+y26sMIOVWvgUMLgUt8lBpUC3uzgLUZWmAKRQGb2QObPjn7FaWDghmGdLnxUE7hqFYaMlwMROJF2ZAgMK4SoMWFKpmJSBW5gEykoRUaOEwctVKMw9qwtTjQQv+wWAQEIoRuTPTAi0UTMxiwIJilxIdYYLY0gGCThcBnHbp8KGoHgYgtxx4IGBDAggG6LDwCkCFQKQvSmQoRUdh0RATtErbR5SkiAhv92LpkBOjiApCBWMZqzPY4bCKvxk4sS1EgMSRs1AYKyCECwagQyRoQS6zGAoZULB4AKKEH9OwY8ueTbu27duyOzRAYQJDAgwmxgXGHYVCgxYFQ+ErTbz4BAHuBOS1xM82BQ7JtxWYroTCCwcXTDxw8EJvsRIpGYYo0X0CBmQMMHCH3YHETgzDh6DITqgAB9koNPYPAyggwY4zIUAWGUReITAcBRq4o4F5dWQggVc3FXHACu7+rIBZMRNEpd4ERmSw0DYbsBSZAenB5EJaRZjozgkqKhagVwzAOE0C7iTwIS4heoWXERC6YwKFdGTAY1EZFnFgMAnSB0GD+cGw3ywFFBjbjTDBkwQF7tUU33ymHWAfTCRUKYR3DoygwQjkIVlJCQIiyF4TaciJC5j8BbOdnriBacFLoYhgAZnN4dnAAn0CsBygicKgGwe9/RbcC2pGqummnHbq6aeghlpcnqJa8p0CLWjwwASSkKFbBhmUd8oLCghA6AYBZAApniAgkIAEG6ygwp11NGCVYxY4sOuXDRBA6B6XLUtFA0tWxoG0RVDgQLWzfLTGC2f+E4JDWbxgwT/+BGBrSWEYEZApFC7944IDZrwAHUknDPBQo7OooG4TEzzrTj5YZCCwSgqCQcEDRXnwmhUoHLzKBsSGQUEERXl7RcQYUYyInEllnPAUJUgcSgLkMnFACRMowAIHJfxIBAUjFNXNYiLOAsG7QnTggAonIHOCB3IwEfBOC/DcRAUMiaAREx2MwO8JF7wrI0khaInFT9Hp1UEEJgMAWHcthJ3JzkiBwK8eTSrBsTsi/KdEBueO+A0HXa0iggoD6HVA3v98IDOYOWcyURfe4SHC4gwUwAJdTIDQ4jYvLsFnZSMoTYXPE0xQApJFkjSh5RlU0GcIGCibWQcqwORWEz4HUAFdBhioAMnDkaUQEUkOWpLCCy8coDkgFDBNUgX/mnaMYQGUOgRUGK3n/JqtM+TB8IkesDYhG4wsKpjc2oSo8xSUAMGzIkBQAvabJsIB0CGEcIIKciTf3AHeT69/qUEAACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPy+dPzarPyeNPz27PzSnPy2ZPymRPzGhPyWJPzu3PzixPzOnPyyZPzChPzevPyiRPz+/PzWrPy6dPzOlPyyXPzq1PzCfPzetPyiPPz69PzWpPy6bPyqTPyaLPySHPzKlPyuXPzmzPy+fPzatPyePPz29PzSpPy2bPymTPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj0gk5dDYPBaRx6ZxoCSv2Kx2yx2mThYDYExGfU6prnrN5r5WIbKcHFq92vg8m1ICzf9kLCVWeoWGRnwTgIsACoOHkIYHAoyMAgeRmXgPlZUPmqBdL3GdiyF3oalXDyKliyKfqrJFFBiujBiEs7MvLLeLLKhYFMS6u2olHL+AHCVXFC8lJw8PFQ4NxsdZJSjLfyjOSC8qGKRjDCAB2Npayd5zzUgZAgyvCifZ7EYvCu9yCsKGUHAgphODB/n0CbTlbwyEbIluicCnEAmnhrCMHFjR6haLBqAodMjQoEPCfea8nTIiod4vEQE6ZDrQwqUBFSeLXPSWkVb+gncfI1Fo0fGcBC0HSLy7ZKSDi3cMHERK4VIOiZwCSyj6pcBBvgYNcUIqwQxkFj5+SolwlJCsvxFY1WRgFhDLm5R/6tQl4vbdhbhdOhSUswIwkQMbLCiDZ+EEpiQvGlYwvIWCh6IAGJjtsiSDhCcLpGSogkXwuxBShUrAwGHChwwKKUR4h2HvoRePKw7AaxBhxVkdZv8SYPu3phckMDMyANv4rgYClP/hcNT5sQYmeJ9b8cj6sQ4lIgwGECKBBNLe2RE7kCHDC5Pp48ufT7++/fv48+vfn17kAfj8aQKNBAGY8IEJI2zwAmUBnlWBAE/J4QIJHsjUYB4paFDVHwz+RJDbhWq88FMpdmxxgAMbOFCcfR0Q5YoILViYBAUFgGBACAYIQNF+DWhnymZHdPBAhGQcJCN+wv2iwRUlaBdCOPh10M0yKBxZRAuMtKBfBj4yEkJzRyi1CAn6ObChK1ElwRAgGJR5ZilpIoHlIlrmx6VKYBrRJCBP6ielN1UmISSRY7jwgJX2aeDNks8UIMCNKAhQAIPO9fhLCEBC5oAEKjbYonSAwIgoiFgckACocohQIqlqZPhmkRp8yCoXFKgA4RwuCCDWrHu8sMEIBByY4IK86uEfgMUmq+yyzDbr7LPQRqveqNIicYAEF0SgwQgnZFotER2sFkJRISiAQBr+qXQQzQMqjEZpJiks8CoAqq6jyQEBTDnGPejq08ECpdR2nAWAMDCCrLtsMO8cdULy6SIM7HjMAWt2shIkBFWiAMKqnNDlHw0XQsEIpUA5y8ioAvLQIR0QUEoF2gS3DAj96tEBwZ2oELOiv4DAMRsdBFBKaruMvMxVkLRUiQErItGBA9kucIEE1B5RwcJ/RBDJARBUMkLVR5RQTkciGICByVc00M+LaBfSQFpziGBB00V04IGPIagA9hCsuFKYJhlAkJIBC9BNBAUeLy2xoCuUokCeW//6gQUPOLB33WtrfDkMDVT8R1fvqtFBCshyccItJ2gBTQvjxv1a6No07ndgFw2MgAEIIJCwQHf3UZB5JwqEnsLP9VGwWCkcwH4hJa6Q+S0Mc5YSsrQZpEyGCJBHS8EHpVigPIgvQICqCBAY3mwDFrzJgAXZP39ABQmQUkcFxH/r3wH4l/78/vz3T0QQACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPy+dPzarPyeNPz27PzSnPy2ZPymRPzGhPyWJPzu3PzixPzOnPyyZPzChPzevPz+/PzWrPy6dPyqVPzOlPyyXPzq1PzCfPzetPyiPPz69PzWpPy6bPyqTPyaLPySHPzKlPyuXPzmzPy+fPzatPyePPz29PzSpPy2bPymTPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj8ikcslsOp9QZad08lBOpUN0y+1CDyoMx8UQhVAYldbLbnMnDpAIQK/TRSDJxM3vIzsUDHaDdQwUHX6JfRMUIYSPACEUe4qVXSUKkJAKJZaeUB0EmpoEiJ+nShkuo5AMGahsGRQBEREXFGtLCKyaKrBREx0nJCFlcyIMKCslpkgQvJAQv09wAnOaIgQNlEYc0I8c003CBt8CA9xEjt+DBuMlFA8PHg4pihMn5ewsr0Yo7IPCKZlQYgUHYwwMWDiRjg0cfQBZ5BqCAaAdDEoORBD0SESCbW5SWLBYR0NDFSTp+EJyQBQrCw3cFEhJx0AnIhk4AnSFZML+iGusEjR7I4AmABER0nWoQJKAvSMlvEETcYJNiXU0BcTEKfUbpz8RAIKYGEWFzpQoBhRhhJWVpIZDGoAAaMCBlwVAUzLYYATQ2VaHkmRoy4vBSi4mjN6hcGSCBBZ57YhgoUdJicisRIzwklixiAJJwGBAYcwFBxJqmJT4m3lzlwCYAbqQsOQAFQoeTgx4yiQDRGiGvARSzOGmpRdF2RX30uA3SQxkE/mMDWnFUGAJjIp4ADdRAxbfGKhl44A6Lw5bP00owPpR0jYdVqTc3l1Rhwft62SLzqVBcnYirFBfJcIoEBsHI/DWBhzgfSMCBun9MkEDD5BgAAMJWRBBCQP+vpFBJrwECJI4QkzwQgYllJDBiJUcsAAK1DHAgQodkojKBBksIMAYyITAQQIPsGjjkEO8UIIEJ5wgQQkKEunkk1BGKeWUVFZp5ZVYZvlGCjVq6UcHDrTwAQQftODAdV76QRAGIQBlBgYcpplIBwWYZwiacr5xAmGEhFBAlyUaKWSe30HDQoQ9NbAChgysMKiWEwTAzgg1vlDRRS/kCcMBXZ3X5FoqRCYCjXm+YB4hImSaRAedDWICnleWYJFxR4TySCl5ZmBRPz2ZNYhhgEZpKoCqJvECCYOQUGyaKYAIjQL8EWFiBYxW8EKwUU7QwqSATujAtZrG1SArh4brxXr+fA7iJ6zmjjMcYOy228SabZkBQZzytpFCmBWQ2YIEn+br0AHxCmzwwQgnrPDCDDfs8MMQRywxlPhoAAEGBKQ28R8SyCGZASoU7EYHDaQI7pMdqJDuURFEy0cDC4DAAQcCjCDyJxKsTAcDNltygMf6vUrkBHOxYgCifMTXEaVDnnBqHRFUchUkAiw7jQlP06FAJe8SshyJE1xaGLZO+PqITTaGHR7ZTTiwMghIw8IUNAIlcsB/kkVwsyIUZA0AAZasRgjcRB7gXEd2VUKQAMUwEEICLg/UwAgGiqDACI8qEeooIgjtyb5WMPOGA+PWwYID2HawESQiQBC3lRkUTQhgP1+MwGfnr1fJ6iieO0FyBCxgyIEJZ+b6jyYo8LoxDOVxnvjyzPPy/PKCa8IArRsjN0rV0AtxX34McNe9EAd8gJkIH0QesbYw3oFCC2wzjOMDC0TwQAbxj6///vz3v38QACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPy+dPyeNPzarPz27Py2ZPymRPzSpPzGhPyWJPzu3PzixPzOnPyyZPzChPyiRPzevPz+/Py6dPyqVPzOlPyyXPzq1PzCfPyiPPzetPz69Py6bPyqTPzWpPyaLPySHPzKlPyuXPzmzPy+fPyePPzatPz29Py2bPymTPzGjPyWLPzy5PzWrP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj8ikcslsOp/QqHRKrUI7pcmk1LF6v9ZOxlNgmBmFSqYLbruRjQgDQK/TGZrGe/92YeyAdCIkLnyGYRWBigAVbIePThQXc4uADBcUkJpLDR+Vih96m6NGKJSfdgwopFMUHQcZEw4NBx2ZSx0LqIoLjqxMFA0KAiKpHigut0gHCLuBCAe/TR0vFsWKDBgOSgckzoAk0dJKFAstuxsoykXM33bQTi4vASwKa3wdLNe7IS/rQx0iuKvTawmFEipEFFMoIsEEX14ogDjnbkMJJKYGqsKloMAiBgsKgWmwYiAdBP+EdBoYasmLEJ9EsIDY6sE+dyIyHKEw4ub+JwYjUhJx4REVgwlfOpQ0SccEkg4evnmgSYSCiW8JhEI54NPdCqowXJDoameQyCQulu4ScdFKCaZ1Cpw10kDDKUsmRClxUHTtAy8c4NIpoDOJGBVlzhTwUEJrkZfuFniZIBgA4SYHsmwR5wQFTGcyvWSofGKuoRInvolQ4OXAXZaO2xzwBFovlQ7N4F4YZdOZii8UXrx2xsD2oxS0PxVo60UsUw2x3zhIXamFArBRKPAdKMA4JAoZMAwHcOIF9ikGPu/6wJxVBwUWToQIUWCFBtNggm/YJaDxOCEHDIACCrNEV8VBHpAFQAgRePcfKeAtsMIJBRRwwgcKNGDgg5r+UOBCA7RsyOGIJJZoIoQUiHjiHh5OcMECESwwwgTJrDiKCyYkEMI+IoSQgAn42ejGARf0pUiPF3AmZBsuRAVaBUEuOcUBEJgEj5RhaKBgJSJocJ6JWJiwwgYrmOAAWMGpN1AL/mB5kDeAiNBfSgf8IRgGStpYwn6LWGTEBFuuhdSSDViASndFEFAZHQQsmU+gAIiwwDrUVbYBoQk4s4JtkK6lIikTUGTUNkMsWkeeJaLgziqlmgoAqiSq+g2rQnSKighfjuPAeIGEQKoQfJJGqFqfJGBbIos2KuSjt7KwDqCViTCokA0IcKhxdVaGJ5YDBBvIBgMYkSZc/Xz6y0H+xMQ55xEB2VpWBLmS2IEDJnywwQdmntfOQCrAimUUDSQImgcO/ivFASMYGUiPI/hr8BQuaLBCCKcwEEKZDj9MhYccPMDCAiw8gIy5GkORIsklp6zyyiy37PLLMMcs88wcvvKhC7bQLAV4ERQVQgUToCyFGA3E26EDxNIRggJCR4KCAAVsgEFhHGaQHCAFcPAIBQrcxADV43SgwScCRPlFCgoDgIDRfBxQqSIhTLvHW98WvEkDkL5wCGWBXPZfA7uwZohrgQjA9h4uqBkIA1obUk6cckvTAbKLtHTIASxQUgDTHFIwgeJ1iBDUdwfIckDTQlBwwOkbd7S4CaifW0JlACp4EIB/Oz/9GQMfjJ7yC2+XV4ULE7wAAgpFq7wdICG0pzMuuT1z+MwNZKqIsc83kYEEi0gAdvbLXG2HBRmDL4Q+C7NgPhPOAVL2+kwEzEAxDBAMfzxamH3//vz37///AFxREAAAO2l6MlNnMjJPaEJTY1lvVkpORFI0dmF6ek1tK1ZrditmL1VXWmxseUxSc0NPYk4vVU5kVVRWeThHRmlpUWNqNWQ=",Es={loaderBarClassName:"ds-dwt-loaderBar",loaderBarBackgroundColor:"",loaderBarSource:ue.bIE?fU:V.loaderBarSource,loaderBarSourceIE:fU,loaderBarWidth:120,loaderBarHeight:120,errorMessages:{limitReachedForZoomIn:"Error: You have reached the limit for zooming in",limitReachedForZoomOut:"Error: You have reached the limit for zooming out",insufficientParas:"Error: Not enough parameters.",invalidAngle:"Error: The angle you entered is invalid.",invalidIndex:"Error: The index you entered is invalid.",invalidHeightOrWidth:"Error: The height or width you entered is invalid.",imageNotChanged:"Error: You have not changed the current image."},generalMessages:{checkingDWTVersion:"Checking WebTwain version ...",updatingDService:"Dynamsoft Service is updating ...",downloadingDWTModule:"Downloading the Dynamic Web TWAIN module.",refreshNeeded:"Please REFRESH your browser.",downloadNeeded:"Please download and install the Dynamic Web TWAIN.",DWTmoduleLoaded:"The Dynamic Web TWAIN module is loaded."},customProgressText:{upload:"Uploading...",download:"Downloading...",load:"Loading...",decode:"Processing...",decodeTIFF:"Processing tiff...",decodePDF:"Processing pdf...",encode:"Processing...",encodeTIFF:"Processing tiff...",encodePDF:"Processing pdf...",transfer:"Transferring...",canvasLoading:"Loading ..."},buttons:{titles:{previous:"Previous Image",next:"Next Image",print:"Print Image",scan:"Acquire new Image(s)",load:"Load local Image(s)",rotateleft:"Rotate Left",rotate:"Rotate",rotateright:"Rotate Right",deskew:"Deskew",crop:"Crop Selected Area",cut:"Cut Selected Area",changeimagesize:"Change Image Size",flip:"Flip Image",mirror:"Mirror Image",zoomin:"Zoom In",originalsize:"Show Original Size",zoomout:"Zoom Out",stretch:"Stretch Mode",fit:"Fit Window",fitw:"Fit Horizontally",fith:"Fit Vertically",hand:"Hand Mode",rectselect:"Select Mode",zoom:"Click to Zoom In",restore:"Restore Original Image",save:"Save Changes",close:"Close the Editor",removeall:"Remove All Images",removeselected:"Remove All Selected Images"},bShowAllButtons:!0,visibility:{scan:!0,load:!0,print:!0,removeall:!0,removeselected:!0,rotateleft:!0,rotate:!0,rotateright:!0,deskew:!0,crop:!0,cut:!0,changeimagesize:!0,flip:!0,mirror:!0,zoomin:!0,originalsize:!0,zoomout:!0,stretch:!0,fit:!0,fitw:!0,fith:!0,hand:!0,rectselect:!0,zoom:!0,restore:!0,save:!0,close:!0}},dialogText:{dlgRotateAnyAngle:["Angle :","Interpolation:","Keep size","  OK  ","Cancel"],dlgChangeImageSize:["New Height :","New Width :","Interpolation:","  OK  ","Cancel"],saveChangedImage:["You have changed the image, do you want to keep the change(s)?","  Yes  ","  No  "],selectSource:["Select Source:","Select","Cancel","There is no source available!"]}},kn=p.mix({},Es);function hU(){var r;B.DWT&&(r=B.DWT.CustomizableDisplayInfo),r&&(p.isString(r.loaderBarSource)&&r.loaderBarSource!=""?V.loaderBarSource=r.loaderBarSource:ue.bIE?(V.loaderBarSource=Es.loaderBarSourceIE,V.loaderBarSourceIE=Es.loaderBarSourceIE):V.loaderBarSource=Es.loaderBarSource,p.isString(r.loaderBarClassName)&&r.loaderBarClassName!=""?V.loaderBarClassName=r.loaderBarClassName:V.loaderBarClassName=Es.loaderBarClassName,p.isString(r.loaderBarBackgroundColor)?V.loaderBarBackgroundColor=r.loaderBarBackgroundColor:V.loaderBarBackgroundColor=Es.loaderBarBackgroundColor,r.loaderBarWidth?V.loaderBarWidth=r.loaderBarWidth:V.loaderBarWidth=Es.loaderBarWidth,r.loaderBarHeight?V.loaderBarHeight=r.loaderBarHeight:V.loaderBarHeight=Es.loaderBarHeight)}var pU=!0;function ace(){var r;pU&&(kn=p.mix({},Es),B.DWT&&(r=B.DWT.CustomizableDisplayInfo),r&&(r.errorMessages&&p.mix(kn.errorMessages,r.errorMessages),r.generalMessages&&p.mix(kn.generalMessages,r.generalMessages),r.customProgressText&&p.mix(kn.customProgressText,r.customProgressText),r.buttons&&(r.buttons.titles&&p.mix(kn.buttons.titles,r.buttons.titles),r.buttons.bShowAllButtons&&p.mix(kn.buttons.bShowAllButtons,r.buttons.bShowAllButtons),r.buttons.visibility&&p.mix(kn.buttons.visibility,r.buttons.visibility)),r.dialogText&&p.mix(kn.dialogText,r.dialogText)),hU(),pU=!1)}function rE(r){var n=r,o=window;if(o.ShadowRoot)for(;n;){if(n instanceof o.ShadowRoot)return n;n=n.parentNode}return null}function nE(r){var n=window;return!!(n.ShadowRoot&&r instanceof n.ShadowRoot)}V._funsAfterConfigLoaded=[],V._safePromptCustomMsg=function(r){r&&r()};var go=ar;B.DWT;var fg,Va={background:"#434246",topMenuBorder:"",innerBorder:"",promptToSaveChange:!0,buttons:kn.buttons,dialogText:kn.dialogText},sce=function(){return y(function n(o,s){h(this,n);var u=this;u._stwain=o,u._ImgManager=o._ImgManager,u.zoomInStep=1.2,u.zoomOutStep=.8,u.MIN_ZOOM=.02,u.MAX_ZOOM=65,u.MAX_ROWS=128,u.MAX_COLUMNS=128,u.__MousewheelValue=0,this._Init(s)},[{key:"_Init",value:function(n){var o=this;if(o.borderWidth=p.isUndefined(n.borderWidth)?1:n.borderWidth,n.BackgroundColor?o.BackgroundColorByDefault=n.BackgroundColor:o.BackgroundColorByDefault="#FFFFFF",n.BackgroundColor=o.BackgroundColorByDefault,o.BackgroundFillColor=o.BackgroundColorByDefault,n.onTopImageInTheViewChanged=function(u){p.isFunction(o._stwain.__OnTopImageInTheViewChanged)&&o._stwain.__OnTopImageInTheViewChanged(u.index,u.bByScrollBar)},n.onGetImageInfo=function(u){return{width:o._stwain.GetImageWidth(u),height:-1}},!o._stwain._viewer&&B.DWT.UseDefaultViewer){var s={viewerContainer:{},viewerEvents:{topPageChanged:function(u,l){o.__topPageChanged(u,l,o)},click:function(u){o.__click(u,o)},rightclick:function(u){o.__rightclick(u,o)},dblclick:function(u){o.__dblclick(u,o)},mousemove:function(u){o.__mousemove(u,o)},pageAreaSelected:function(u,l){o.__pageAreaSelected(u,l,o)},pageAreaUnselected:function(u){o.__pageAreaUnselected(u,o)},dragdone:function(u){o.__dragdone(u,o)},onDrop:function(u){o.__onDrop(u,o)},pageChange:function(u){o.__pageChange(u,o)},bufferChanged:function(u,l){o.__bufferChanged(o,u,l)},onBind:function(u){o.__onBindViewer(u)},onUnBind:function(u){o.__onUnBindViewer(u)},save:function(u,l,c,f){return o.__save(o,u,l,c,f)}},viewerError:{setError:function(u,l){o.__setError(u,l,o)}},imageEditorEvents:{acquire:function(u){o.__acquire(o,u)},loadImage:function(){o.__loadImage(o)},deskew:function(u,l){o.__deskew(o,u,l)},removeImage:function(){o.__remove(o)},removeAllImage:function(){o.__removeAll(o)},close:function(){o.__close(o)}},imageEditorServerCallback:{rotateRight:function(){o.__rotateRightForServer(o)},rotate:function(u,l,c){o.__rotateForServer(o,u,l,c)},rotateLeft:function(){o.__rotateLeftForServer(o)},deskew:function(u){o.__deskewForServer(o)},crop:function(u){o.__cropForServer(o,u)},erase:function(u){o.__eraseForServer(o,u)},changeImageSize:function(u,l,c){o.__changeImageSizeForServer(o,u,l,c)},flip:function(){o.__flipForServer(o)},mirror:function(){o.__mirrorForServer(o)},restore:function(u){o.__restoreForServer(o,u)},save:function(u){return o.__saveForServer(o,u)}},beforeImageEditorCreated:function(u){o.__beforeImageEditorCreated(u)}};n.Container&&(Te.isNodeList(n.Container)||p.isArray(n.Container)&&n.Container.length>0)&&(s.viewerContainer={container:n.Container[0],width:Wt(n.Width),height:Wt(n.Height)}),o._stwain._viewer=new B.DWTViewer(vf._getBuffer(o._ImgManager),s)}else n.Container&&(Te.isNodeList(n.Container)||p.isArray(n.Container)&&n.Container.length>0)&&o.__onBindViewer(n.Container[0]);o.__InitEvents(n)}},{key:"dispose",value:function(){this._stwain._viewer}},{key:"__InitEvents",value:function(n){var o=this;p.isFunction(n.onTopImageInTheViewChanged)&&(o.onTopImageInTheViewChanged=n.onTopImageInTheViewChanged),p.isFunction(n.onGetImageInfo)&&(o.onGetImageInfo=n.onGetImageInfo),p.isFunction(n.onZoomChanged)&&(o.onZoomChanged=n.onZoomChanged),p.isFunction(n.onMouseMove)&&(o.onMouseMove=n.onMouseMove),p.isFunction(n.onMouseClick)&&(o.onMouseClick=n.onMouseClick),p.isFunction(n.onMouseRightClick)&&(o.onMouseRightClick=n.onMouseRightClick),p.isFunction(n.onMouseDoubleClick)&&(o.onMouseDoubleClick=n.onMouseDoubleClick),p.isFunction(n.onImageAreaDeSelected)&&(o.onImageAreaDeSelected=n.onImageAreaDeSelected),p.isFunction(n.onImageAreaSelected)&&(o.onImageAreaSelected=n.onImageAreaSelected),p.isFunction(n.onBufferChanged)&&(o.onBufferChanged=n.onBufferChanged),p.isFunction(n.onSelected)&&(o.onSelected=n.onSelected),p.isFunction(n.onRefreshUI)&&(o.onRefreshUI=n.onRefreshUI),p.isFunction(n.onResetCurrentIndex)&&(o.onResetCurrentIndex=n.onResetCurrentIndex)}},{key:"GetWebViewer",value:function(){return this._stwain._viewer}},{key:"SetSelectedImageArea",value:function(n,o,s,u){if(this.GetWebViewer()!=null){var l=[],c={};return c.left=n,c.top=o,c.right=s,c.bottom=u,l.push(c),this.GetWebViewer().setSelectedAreas(l)}return!1}},{key:"OverlayRectangle",value:function(n,o,s,u,l,c,f){var m=this;return!!m._stwain._isNoViewer()||m.GetWebViewer()!=null&&m.GetWebViewer().webViewer.overlayRectangle(n,o,s,u,l,c,f)}},{key:"ChangeImageViewSize",value:function(n,o){var s=this;return n>=0&&(s.GetWebViewer().width,s.GetWebViewer().width=n),o>=0&&(s.GetWebViewer().height,s.GetWebViewer().height=o),!0}},{key:"ChangeSize",value:function(n,o){var s=this;return s.GetWidth()!=n&&s.SetWidth(n),s.GetHeight()!=o&&s.SetHeight(o),!0}},{key:"GetWidth",value:function(){return this.GetWebViewer().width}},{key:"SetWidth",value:function(n){var o=n;return this._stwain._isNoViewer()||(this.GetWebViewer().width=o),!0}},{key:"GetHeight",value:function(){return this.GetWebViewer().height}},{key:"SetHeight",value:function(n){var o=n;return this._stwain._isNoViewer()||(this.GetWebViewer().height=o),!0}},{key:"SetViewMode",value:function(n,o){var s=this;return s._stwain._isNoViewer()?s._stwain._nouiNotSupport("SetViewMode"):s.GetWebViewer().setViewMode(n,o)}},{key:"SetIfFitWindowAndType",value:function(n){var o;if(this.GetWebViewer()!=null){switch(n){case 1:o="height";break;case 2:o="width";break;default:o="window"}this.GetWebViewer().fitWindow(o)}return!0}},{key:"GetAllowMultiSelect",value:function(){return!this._stwain._isNoViewer()&&this.GetWebViewer().selectionMode}},{key:"SetAllowMultiSelect",value:function(n){var o=this;return o._stwain._isNoViewer()||(o.GetWebViewer().selectionMode=n?1:0),!0}},{key:"GetFitWindowType",value:function(){return this._stwain._isNoViewer(),0}},{key:"SetSelectionRectAspectRatio",value:function(n){return this.GetWebViewer().selectionRectAspectRatio=n,!0}},{key:"GetSelectionRectAspectRatio",value:function(){return this.GetWebViewer().selectionRectAspectRatio}},{key:"SetFitWindowType",value:function(n){return this._stwain._isNoViewer()||this.SetIfFitWindowAndType(n),!0}},{key:"GetIfFitWindow",value:function(){return this._stwain._isNoViewer(),!0}},{key:"SetIfFitWindow",value:function(n){var o=this;return o._stwain._isNoViewer()||(n?o.GetWebViewer().fitWindow("window"):o.GetWebViewer().zoom=1),!0}},{key:"GetImageMargin",value:function(){return this._stwain._isNoViewer()?0:this.GetWebViewer().pageMargin}},{key:"SetImageMargin",value:function(n){return this._stwain._isNoViewer()||(this.GetWebViewer().pageMargin=n),!0}},{key:"GetSelectionImageBorderColor",value:function(){return this.GetWebViewer().selectedPageBorder}},{key:"SetSelectionImageBorderColor",value:function(n){var o=n;return p.isNumber(o)&&(o=Jo.getColor(o)),o.indexOf("1px solid")==-1&&(o="1px solid "+o),this.GetWebViewer().selectedPageBorder=o,!0}},{key:"GetZoom",value:function(){return this.GetWebViewer().zoom}},{key:"SetZoom",value:function(n,o,s){var u=this;return n<u.MIN_ZOOM&&(n=u.MIN_ZOOM),n>u.MAX_ZOOM&&(n=u.MAX_ZOOM),u.GetWebViewer()!=null&&(u.GetWebViewer().zoom=n),!0}},{key:"ZoomIn",value:function(n,o){var s=this,u=s._ImgManager.getImageIdMap(s._ImgManager.convertClientIndexToServerId(s._ImgManager.getCurrentImageIndex()));if(!u)return!1;var l=s.GetWebViewer().zoom,c=Math.floor(100*l*s.zoomInStep)+1;return 1<c&&c<2501?Wt(u.imageWidth*l)>15e3||Wt(u.imageHeight*l)>15e3?(ar.output(s,kn.errorMessages.limitReachedForZoomIn),alert(kn.errorMessages.limitReachedForZoomIn),!1):(s.SetZoom(c/100,n,o),!0):(ar.output(s,kn.errorMessages.limitReachedForZoomIn),alert(kn.errorMessages.limitReachedForZoomIn),!1)}},{key:"ZoomOut",value:function(){var n=this,o=n.GetWebViewer().zoom,s=Math.floor(100*o*n.zoomOutStep)-1;return 1<s&&s<6501?(n.SetZoom(s/100),!0):(ar.output(n,kn.errorMessages.limitReachedForZoomOut),alert(kn.errorMessages.limitReachedForZoomOut),!1)}},{key:"GetMouseShape",value:function(){return this._stwain._isNoViewer()?0:this.GetWebViewer().cursor!="crosshair"}},{key:"SetMouseShape",value:function(n){var o=this;return o._stwain._isNoViewer()||(o.GetWebViewer().cursor=n?"pointer":"crosshair"),!0}},{key:"GetShowPageNumber",value:function(){return!this._stwain._isNoViewer()&&this.GetWebViewer().showPageNumber}},{key:"SetShowPageNumber",value:function(n){return this._stwain._isNoViewer()||(this.GetWebViewer().showPageNumber=n),!0}},{key:"SetBackgroundFillColor",value:function(n){var o=n;return this.BackgroundFillColor=o,!0}},{key:"GetBackgroundColor",value:function(){return this.GetWebViewer().background}},{key:"SetBackgroundColor",value:function(n){var o=n;return this._stwain._isNoViewer()||(this.GetWebViewer().background=o),!0}},{key:"Go",value:function(n){return this.GetWebViewer().gotoPage(n)}},{key:"__Previous",value:function(){return this.Go(this._ImgManager.getCurrentImageIndex()-1),!0}},{key:"__Next",value:function(){return this.Go(this._ImgManager.getCurrentImageIndex()+1),!0}},{key:"__fireEvent",value:function(n,o){if(p.isFunction(this[n]))try{return this[n](o)}catch(s){vr(s)}return!0}},{key:"GetIfAutoScroll",value:function(){return this.GetWebViewer().ifAutoScroll}},{key:"SetIfAutoScroll",value:function(n){return this.GetWebViewer().ifAutoScroll=n,!0}},{key:"BindView",value:function(n){var o,s=n;return p.isString(n)?s=p.get(n):p.isDOM(s)&&(s.id&&s.id!=""||(s.id=["dwt_",p.getRandom()].join(""))),(o=this.GetWebViewer().bind(s))&&this.GetWebViewer().show(),o}},{key:"GetIfShowVideoContainer",value:function(){var n=this,o=n.GetWebViewer();return p.isUndefined(o)?(B.DWT.UseDefaultViewer?vT(n._stwain):Qv(n._stwain),!1):o.webViewer.getIfShowVideoContainer()}},{key:"ShowVideoContainer",value:function(n){var o=this,s=o.GetWebViewer();return p.isUndefined(s)?(B.DWT.UseDefaultViewer?vT(o._stwain):Qv(o._stwain),!1):s.webViewer.showVideoContainer(n)}},{key:"UpdateVideoContainer",value:function(n){var o=this,s=o.GetWebViewer();return p.isUndefined(s)?(B.DWT.UseDefaultViewer?vT(o._stwain):Qv(o._stwain),!1):s.webViewer.updateVideoImage(n)}},{key:"ClearSelectedAreas",value:function(){var n=this.GetWebViewer();if(n)return n.clearSelectedAreas()}},{key:"OnCloseImageEditor",value:function(){return!!this.GetWebViewer().webViewer.imageEditor&&(this.GetWebViewer().createImageEditor().dispose(),!0)}},{key:"ShowImageEditorEx",value:function(n,o,s,u,l,c,f,m){var v=this;if(this._stwain._isNoViewer())return v._stwain._nouiNotSupport("ShowImageEditorEx");switch(l){case 0:case 1:case 2:break;case 3:if(v.OnCloseImageEditor())return!0}var S,_=document;if(ws._getContainer(v._stwain)==f&&(c=!1),f){var b=B.DWT.ContainerMap;if(b){var I,A=Object.keys(b);for(I=0;I<A.length;I++)if(A[I]==f.id){c=!1;break}}}if(c&&f&&(p.isDOM(f)?S=f:nE(f)?(S=document.createElement("div"),f.appendChild(S)):(S=_.getElementById(f))&&S.nodeName!="DIV"&&(c=!1)),c&&f&&p.isDOM(f)){var P=rE(f);if(P){if(B.DWT.IfLoadResources){var L,$,ee="";!ue.bFileSystem&&B.DWT.IfResourcesAddTimestamp&&(ee=V.timestamp),(L=_.createElement("link")).href=[ds(),"/src/dynamsoft.webtwain.viewer.css",ee].join(""),L.rel="stylesheet",L.async=!0,($=_.createElement("link")).href=[ds(),"/src/dynamsoft.webtwain.css",ee].join(""),$.rel="stylesheet",$.async=!0,p.scriptOnload(L,function(){p.scriptOnload($,function(){return v.ShowImageEditor(S,c,s,u)}),P.appendChild($)}),P.appendChild(L)}return!0}}return v.ShowImageEditor(S,c,s,u)}},{key:"ShowImageEditor",value:function(n,o,s,u){var l=this;return n&&s&&u?(Va.element=n,Va.width=s,Va.height=u):(Va.element=void 0,Va.width=void 0,Va.height=void 0),Va.border=l.GetWebViewer().border,Va.selectionRectAspectRatio=l.GetWebViewer().selectionRectAspectRatio,Va.workMode=dU.normal,l.GetWebViewer().createImageEditor(Va),l._stwain.ErrorCode!=0&&(l.GetWebViewer().webViewer.imageEditor&&l.GetWebViewer().webViewer.imageEditor.dispose(),l.GetWebViewer().createImageEditor(Va)),l.GetWebViewer().webViewer.imageEditor&&l.GetWebViewer().webViewer.imageEditor.show(),!0}},{key:"__beforeImageEditorCreated",value:function(n){var o=B.DWT.CustomizableDisplayInfo;if(!p.isUndefined(o)){if(!p.isUndefined(o.buttons)){var s=o.buttons.titles;p.isUndefined(s)||(p.isUndefined(s.previous)||(n.buttons.titles.previous=s.previous),p.isUndefined(s.next)||(n.buttons.titles.next=s.next),p.isUndefined(s.print)||(n.buttons.titles.print=s.print),p.isUndefined(s.scan)||(n.buttons.titles.scan=s.scan),p.isUndefined(s.load)||(n.buttons.titles.load=s.load),p.isUndefined(s.rotateleft)||(n.buttons.titles.rotateleft=s.rotateleft),p.isUndefined(s.rotate)||(n.buttons.titles.rotate=s.rotate),p.isUndefined(s.rotateright)||(n.buttons.titles.rotateright=s.rotateright),p.isUndefined(s.deskew)||(n.buttons.titles.deskew=s.deskew),p.isUndefined(s.crop)||(n.buttons.titles.crop=s.crop),p.isUndefined(s.cut)||(n.buttons.titles.cut=s.cut),p.isUndefined(s.changeimagesize)||(n.buttons.titles.changeimagesize=s.changeimagesize),p.isUndefined(s.flip)||(n.buttons.titles.flip=s.flip),p.isUndefined(s.mirror)||(n.buttons.titles.mirror=s.mirror),p.isUndefined(s.zoomin)||(n.buttons.titles.zoomin=s.zoomin),p.isUndefined(s.originalsize)||(n.buttons.titles.originalsize=s.originalsize),p.isUndefined(s.zoomout)||(n.buttons.titles.zoomout=s.zoomout),p.isUndefined(s.stretch)||(n.buttons.titles.stretch=s.stretch),p.isUndefined(s.fit)||(n.buttons.titles.fit=s.fit),p.isUndefined(s.fitw)||(n.buttons.titles.fitw=s.fitw),p.isUndefined(s.fith)||(n.buttons.titles.fith=s.fith),p.isUndefined(s.hand)||(n.buttons.titles.hand=s.hand),p.isUndefined(s.rectselect)||(n.buttons.titles.rectselect=s.rectselect),p.isUndefined(s.zoom)||(n.buttons.titles.zoom=s.zoom),p.isUndefined(s.restore)||(n.buttons.titles.restore=s.restore),p.isUndefined(s.save)||(n.buttons.titles.save=s.save),p.isUndefined(s.close)||(n.buttons.titles.close=s.close),p.isUndefined(s.removeall)||(n.buttons.titles.removeall=s.removeall),p.isUndefined(s.removeselected)||(n.buttons.titles.removeselected=s.removeselected));var u=o.buttons.bShowAllButtons;p.isUndefined(u)||(n.buttons.bShowAllButtons=u);var l=o.buttons.visibility;p.isUndefined(l)||(p.isUndefined(l.scan)||(n.buttons.visibility.scan=l.scan),p.isUndefined(l.load)||(n.buttons.visibility.load=l.load),p.isUndefined(l.print)||(n.buttons.visibility.print=l.print),p.isUndefined(l.removeall)||(n.buttons.visibility.removeall=l.removeall),p.isUndefined(l.removeselected)||(n.buttons.visibility.removeselected=l.removeselected),p.isUndefined(l.rotateleft)||(n.buttons.visibility.rotateleft=l.rotateleft),p.isUndefined(l.rotate)||(n.buttons.visibility.rotate=l.rotate),p.isUndefined(l.rotateright)||(n.buttons.visibility.rotateright=l.rotateright),p.isUndefined(l.deskew)||(n.buttons.visibility.deskew=l.deskew),p.isUndefined(l.crop)||(n.buttons.visibility.crop=l.crop),p.isUndefined(l.cut)||(n.buttons.visibility.cut=l.cut),p.isUndefined(l.changeimagesize)||(n.buttons.visibility.changeimagesize=l.changeimagesize),p.isUndefined(l.flip)||(n.buttons.visibility.flip=l.flip),p.isUndefined(l.mirror)||(n.buttons.visibility.mirror=l.mirror),p.isUndefined(l.zoomin)||(n.buttons.visibility.zoomin=l.zoomin),p.isUndefined(l.originalsize)||(n.buttons.visibility.originalsize=l.originalsize),p.isUndefined(l.zoomout)||(n.buttons.visibility.zoomout=l.zoomout),p.isUndefined(l.stretch)||(n.buttons.visibility.stretch=l.stretch),p.isUndefined(l.fit)||(n.buttons.visibility.fit=l.fit),p.isUndefined(l.fitw)||(n.buttons.visibility.fitw=l.fitw),p.isUndefined(l.fith)||(n.buttons.visibility.fith=l.fith),p.isUndefined(l.hand)||(n.buttons.visibility.hand=l.hand),p.isUndefined(l.rectselect)||(n.buttons.visibility.rectselect=l.rectselect),p.isUndefined(l.zoom)||(n.buttons.visibility.zoom=l.zoom))}var c=o.dialogText;p.isUndefined(c)||(p.isUndefined(c.dlgRotateAnyAngle)||(n.dialogText.dlgRotateAnyAngle=c.dlgRotateAnyAngle),p.isUndefined(c.dlgChangeImageSize)||(n.dialogText.dlgChangeImageSize=c.dlgChangeImageSize),p.isUndefined(c.saveChangedImage)||(n.dialogText.saveChangedImage=c.saveChangedImage),p.isUndefined(c.selectSource)||(n.dialogText.selectSource=c.selectSource))}}},{key:"__topPageChanged",value:function(n,o,s){s.__fireEvent("onTopImageInTheViewChanged",{index:n,bByScrollBar:o})}},{key:"__click",value:function(n,o){var s=o;s.__fireEvent("onMouseClick",{e:n,x:n.imageX,y:n.imageY,index:s._ImgManager.getCurrentImageIndex()})}},{key:"__rightclick",value:function(n,o){var s=o;s.__fireEvent("onMouseRightClick",{e:n,x:n.imageX,y:n.imageY,index:s._ImgManager.getCurrentImageIndex()})}},{key:"__dblclick",value:function(n,o){var s=o;s.__fireEvent("onMouseDoubleClick",{e:n,x:n.imageX,y:n.imageY,index:s._ImgManager.getCurrentImageIndex()})}},{key:"__mousemove",value:function(n,o){var s=o;s.__fireEvent("onMouseMove",{e:n,x:n.imageX,y:n.imageY,index:s._ImgManager.getCurrentImageIndex()})}},{key:"__pageAreaSelected",value:function(n,o,s){var u=s,l=1;if(o&&o.length>0){var c=o[o.length-1];c.index&&(l=Wt(c.index)+1),u.__fireEvent("onImageAreaSelected",{index:n,left:Wt(c.x),top:Wt(c.y),right:Wt(c.x+c.width),bottom:Wt(c.y+c.height),areaIndex:l})}}},{key:"__pageAreaUnselected",value:function(n,o){o.__fireEvent("onImageAreaDeSelected",n)}},{key:"__dragdone",value:function(n,o){var s=o;p.isFunction(s._stwain.__OnIndexChangeDragDropDone)&&s._stwain.__OnIndexChangeDragDropDone(n)}},{key:"__onDrop",value:function(n,o){var s=o;s.GetWebViewer().webViewer.acceptDrop&&s.__dropEvent(n,s)}},{key:"__dropEvent",value:function(n,o){var s,u,l=o,c=function(b){l._stwain._bIfShowProgressBar&&V.closeProgress(null),b&&ar.output(null,b+" was loaded successfully!")},f=function(b,I,A){l._stwain._bIfShowProgressBar&&V.closeProgress(null),l._stwain._errorCode=b,l._stwain._errorString=I,HT({code:b,message:I}),A&&ar.output(null,A+" failed to load. Error code: "+b+"Error String: "+I)};try{for(var m=n.dataTransfer.files,v=0;v<m.length;v++){if((s=m[v]).type.length==0){var S=void 0,_=s.name.indexOf(".");switch(_>0&&(S=s.name.substring(_+1)),S){case"bmp":u=B.DWT.EnumDWT_ImageType.IT_BMP;break;case"jpg":case"jpeg":u=B.DWT.EnumDWT_ImageType.IT_JPG;break;case"tif":case"tiff":u=B.DWT.EnumDWT_ImageType.IT_TIF;break;case"png":u=B.DWT.EnumDWT_ImageType.IT_PNG;break;case"pdf":u=B.DWT.EnumDWT_ImageType.IT_PDF;break;case"jp2":case"j2k":case"j2c":u=B.DWT.EnumDWT_ImageType.IT_J2K;break;default:ar.output(null,s.name+" failed to load because the file type is not supported!"),u=-1,RR(l._stwain)}}else switch(s.type){case"image/bmp":u=B.DWT.EnumDWT_ImageType.IT_BMP;break;case"image/jpg":case"image/jpeg":u=B.DWT.EnumDWT_ImageType.IT_JPG;break;case"image/tif":case"image/tiff":u=B.DWT.EnumDWT_ImageType.IT_TIF;break;case"image/png":u=B.DWT.EnumDWT_ImageType.IT_PNG;break;case"application/pdf":u=B.DWT.EnumDWT_ImageType.IT_PDF;break;case"image/jp2":u=B.DWT.EnumDWT_ImageType.IT_J2K;break;default:ar.output(null,s.name+" failed to load because the file type is not supported!"),u=-1,RR(l._stwain)}u!=-1&&(l._stwain._bIfShowProgressBar?V.showProgress(l._stwain,"DropLoading",l._stwain.IfShowCancelDialogWhenImageTransfer):V.hideProgress(),l._stwain._OnPercentDone([0,-1,br.Loading]),l._stwain.Addon&&l._stwain.Addon.PDF&&_t.checkProductKey(l._stwain,{PDFRasterizer:!0},!0),function(b){var I=new FileReader;I.readAsDataURL(b),I.onload=function(){var A=l._stwain.__GetLoadEventsNum();l._stwain.__LoadImageFromBytesV2(b,u,"",!0,0,b.size,!1,A,c,f)},I.onerror=function(A){al(l._stwain),l._stwain._errorString=this.error,f(l._stwain._errorCode,l._stwain._getErrorString())}}(m[v]))}}catch(b){p.error(b.stack||b,"error"),setTimeout(function(){throw b},0)}}},{key:"__pageChange",value:function(n,o){var s,u=o,l=u._ImgManager.count();p.log("OnPagination"),l<=0?Nn(u._stwain):l!=1&&(!/^\d+$/.test(n)||n<=0?alert(kn.errorMessages.invalidIndex):((s=Wt(n)-1)<0?s=0:s>=l&&(s=l-1),s!=u._ImgManager.getCurrentImageIndex()&&u.GetWebViewer().gotoPage(s)))}},{key:"__bufferChanged",value:function(n,o,s){var u,l=n,c=[],f=-1,m=[];o.operation&&(o.action=o.operation);for(var v=0;v<l._ImgManager.count();v++)(u=l._ImgManager.getCustomDataByIndex(v))&&u.serverId&&c.push(this._ImgManager._serverId2uidFromServer(u.serverId));if(o.imageIds=c,o.curIndex>=0&&(u=l._ImgManager.getCustomDataByIndex(o.curIndex))&&u.serverId&&(f=this._ImgManager._serverId2uidFromServer(u.serverId)),o.currentId=f,o.operation=="modify"&&o.afterStatus.modifiedUid!=""){var S=l._ImgManager.getIndexByUid(o.afterStatus.modifiedUid);S>=0&&(u=l._ImgManager.getCustomDataByIndex(S))&&u.serverId&&(o.modifiedId=this._ImgManager._serverId2uidFromServer(u.serverId))}if(o.afterStatus.selectedUids)for(var _=0;_<o.afterStatus.selectedUids.length;_++){var b=o.afterStatus.selectedUids[_];if(b&&b!=-1){var I=l._ImgManager.getIndexByUid(o.afterStatus.selectedUids[_]);I>=0&&(u=l._ImgManager.getCustomDataByIndex(I))&&u.serverId&&m.push(this._ImgManager._serverId2uidFromServer(u.serverId))}}o.selectedIds=m,p.mix(o,{}),delete o.uids,delete o.currentUid,delete o.selectedUids,delete o.afterStatus,delete o.beforeStatus,delete o.operation,delete o.curIndex,delete o.docUid,l.__fireEvent("onBufferChanged",o)}},{key:"__setError",value:function(n,o,s){var u=s;u._stwain._errorCode=n,u._stwain._errorString=o}},{key:"__acquire",value:function(n,o){var s=n;try{var u=!1;B.DWT.IfConfineMaskWithinTheViewer==1&&(B.DWT.IfConfineMaskWithinTheViewer=!1,u=!0);var l;l=p.isArray(o)&&o.length>=3?o:kn.dialogText.selectSource,s._stwain._selectSourceAsync("SelectSourceAsync",null,l).then(function(){return s._stwain.AcquireImageAsync({IfShowUI:!0,IfCloseSourceAfterAcquire:!0})}).then(function(){u&&(B.DWT.IfConfineMaskWithinTheViewer=!0)}).catch(function(c){p.log("User did not select a source"),u&&(B.DWT.IfConfineMaskWithinTheViewer=!0)})}catch{}}},{key:"__loadImage",value:function(n){try{var o=n,s=null;B.DWT.IfConfineMaskWithinTheViewer&&(s=!0,B.DWT.IfConfineMaskWithinTheViewer=!1),o._stwain._containerElement=void 0,o._stwain.IfShowFileDialog=!0,o._stwain.Addon&&o._stwain.Addon.PDF&&_t.checkProductKey(o._stwain,{PDFRasterizer:!0},!0),o._stwain.LoadImageEx("",5,function(){p.log("Loaded an image successfully."),s!=null&&(B.DWT.IfConfineMaskWithinTheViewer=s)},function(u,l){p.log("Loading failed with the error: "+l),s!=null&&(B.DWT.IfConfineMaskWithinTheViewer=s)})}catch{}}},{key:"__print",value:function(n){var o=n;sn(o._stwain),o._ImgManager.getCurrentImageIndex()<0||o._ImgManager.PrintCurrentImage()}},{key:"__save",value:(r=a(E().mark(function n(o,s,u,l,c){var f,m,v,S,_;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(m="save",sn((f=o)._stwain),!(f._ImgManager.count()<=0||f._ImgManager.getCurrentImageIndex()<0)){b.next=4;break}return b.abrupt("return");case 4:return f._stwain._containerElement=void 0,v=f.__getViewerElement(f,c),Xr(m,v),b.prev=7,S=this._ImgManager.getIndexByUid(s),_=this._ImgManager.convertClientIndexToServerId(S),b.next=12,f._stwain._updateImage(_,u,l);case 12:b.sent,b.next=17;break;case 15:b.prev=15,b.t0=b.catch(7);case 17:return b.prev=17,u=null,kr(m),b.finish(17);case 21:return b.abrupt("return",void 0);case 22:case"end":return b.stop()}},n,this,[[7,15,17,21]])})),function(n,o,s,u,l){return r.apply(this,arguments)})},{key:"__getViewerElement",value:function(n,o){var s,u=n;if(o)if(u.GetWebViewer().webViewer.imageEditor){var l=u.GetWebViewer().createImageEditor();s=l.inner.containerElement.className=="dwt-viewer-imageEditor-fullScreen"?{_containerElement:document.body}:{_containerElement:l.inner.containerElement}}else s=u._stwain;else s=u._stwain;return s}},{key:"__deskew",value:function(n,o,s){var u=this,l="deskew";sn(u._stwain);var c=u._ImgManager.getCurrentImageIndex();if(u._ImgManager.count()<=0||c<0)go.output(u,"No image in Buffer");else{var f=u.__getViewerElement(u,!0);Xr(l,f),u._stwain.GetSkewAngleFromBinaryAsync(c,o,function(m){s(m[0]),kr(l)},function(){kr(l)})}}},{key:"__remove",value:function(n){var o=this;sn(o._stwain),o._ImgManager.count()<=0||o._ImgManager.getCurrentImageIndex()<0?go.output(o,"No image in Buffer"):o._stwain.RemoveAllSelectedImages()}},{key:"__removeAll",value:function(n){var o=this;sn(o._stwain),o._ImgManager.count()<=0||o._ImgManager.getCurrentImageIndex()<0?go.output(o,"No image in Buffer"):o._stwain.RemoveAllImages()}},{key:"__onBindViewer",value:function(n){n&&(ws._setContainer(this._stwain,n),n.id&&(B.DWT.ContainerMap[n.id]=this._stwain))}},{key:"__onUnBindViewer",value:function(n){if(n){var o=ws._getContainer(this._stwain);if(o)for(;o.firstChild;)o.removeChild(o.firstChild);if(ws._setContainer(this._stwain,null),n.id){var s=B.DWT.ContainerMap;n.id in s&&delete B.DWT.ContainerMap[n.id]}}}},{key:"__close",value:function(n){sn(this._stwain),ws._closeImageEditorUI(this._stwain)}},{key:"__rotateRightForServer",value:function(n){var o=this;sn(o._stwain);var s=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||s<0?go.output(o,"No image in Buffer"):o._stwain.RotateRight(s)}},{key:"__rotateForServer",value:function(n,o,s,u){var l=this;sn(l._stwain);var c=l._ImgManager.getCurrentImageIndex();l._ImgManager.count()<=0||c<0?go.output(l,"No image in Buffer"):l._stwain.RotateEx(c,o,u,s)}},{key:"__rotateLeftForServer",value:function(n){var o=this;sn(o._stwain);var s=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||s<0?go.output(o,"No image in Buffer"):o._stwain.RotateLeft(s)}},{key:"__deskewForServer",value:function(n){var o=this;sn(o._stwain);var s=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||s<0?go.output(o,"No image in Buffer"):o._stwain.GetSkewAngleAsync(s).then(function(u){o._stwain.RotateEx(s,u,!0,5,function(){},function(){})})}},{key:"__cropForServer",value:function(n,o){var s=this;sn(s._stwain);var u=s._ImgManager.getCurrentImageIndex();if(s._ImgManager.count()<=0||u<0)go.output(s,"No image in Buffer");else{var l=o.left,c=o.top,f=l+o.width,m=c+o.height;s._stwain.Crop(u,Wt(l),Wt(c),Wt(f),Wt(m))}}},{key:"__eraseForServer",value:function(n,o){var s=this;sn(s._stwain);var u=s._ImgManager.getCurrentImageIndex();if(s._ImgManager.count()<=0||u<0)go.output(s,"No image in Buffer");else{var l=o.left,c=o.top,f=l+o.width,m=c+o.height;s._stwain.CutFrameToClipboard(u,Wt(l),Wt(c),Wt(f),Wt(m))}}},{key:"__changeImageSizeForServer",value:function(n,o,s,u){var l=this;sn(l._stwain);var c=l._ImgManager.getCurrentImageIndex();l._ImgManager.count()<=0||c<0?go.output(l,"No image in Buffer"):l._stwain.ChangeImageSize(c,o,s,u)}},{key:"__flipForServer",value:function(n){var o=this;sn(o._stwain);var s=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||s<0?go.output(o,"No image in Buffer"):o._stwain.Flip(s)}},{key:"__mirrorForServer",value:function(n){var o=this;sn(o._stwain);var s=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||s<0?go.output(o,"No image in Buffer"):o._stwain.Mirror(s)}},{key:"__restoreForServer",value:function(n,o){var s=n;if(sn(s._stwain),s._ImgManager.count()<=0||s._ImgManager.getCurrentImageIndex()<0)go.output(s,"No image in Buffer");else{var u=s._ImgManager.getIndexByUid(o);u>=0&&s.__RestoreImageInner(s,u)}}},{key:"__saveForServer",value:function(n,o){var s=n;return new Te.Promise(function(u,l){sn(s._stwain),(s._ImgManager.count()<=0||s._ImgManager.getCurrentImageIndex()<0)&&(go.output(s,"No image in Buffer"),u());var c=s._ImgManager.getIndexByUid(o);c>=0?s.__SaveImageInner(s,c,!0,function(){u()}):u()})}},{key:"__RestoreImageInner",value:function(n,o,s){var u=n,l=u._ImgManager.getImageIdMap(u._ImgManager.convertClientIndexToServerId(o));l&&u.__OnGetImageFromServerForEdit(l,o,1,function(c,f,m){if(c){p.log("__RestoreImageInner: "+[c.uuid].join(","));var v=p.clone(c);v.imageId=c.serverId,u._ImgManager.UpdateImage(v,m)}if((c&&c.serverId)==-1)return s&&s(),!1;s&&s()})}},{key:"__SaveImageInner",value:function(n,o,s,u){var l=n,c=l._ImgManager.getImageIdMap(l._ImgManager.convertClientIndexToServerId(o));return c&&l.__OnGetImageFromServerForEdit(c,o,2,function(f,m,v){if(f){if(s==1&&(p.log("__SaveImageInner: "+[f.uuid].join(",")),l._ImgManager.getCurrentImageIndex()==m)){var S=p.clone(f);S.imageId=f.serverId,l._ImgManager.UpdateImage(S,v)}if(f.serverId==-1)return u&&u(),!1}return u&&u(),!0}),!0}},{key:"__OnGetImageFromServerForEdit",value:function(n,o,s,u){var l=this;if(u&&l._ImgManager.getBaseUrl){var c=l._ImgManager.convertClientIndexToServerId(o);if(c==-1)return!1;B.DWT.ConnectWithSocket?u():Ao({method:"GET",xhrFields:{withCredentials:!0},url:ar.getUrlByAct(l._ImgManager.getBaseUrl,c,s),onSuccess:function(f){var m;n.ticks=Date.now(),m=B.navInfoSync.bMobile?ar.getImageUrl(l._ImgManager.getBaseUrl,c,Math.round(n.iImageControlWidth*devicePixelRatio),Math.round(n.iImageControlHeight*devicePixelRatio),n.ticks):ar.getImageUrl(l._ImgManager.getBaseUrl,c,Wt(n.iImageControlWidth),Wt(n.iImageControlHeight),n.ticks),n.imageUrl=ar.getImageUrl(l._ImgManager.getBaseUrl,c,-1,-1,n.ticks),n.minImageUrl=m;var v=l._ImgManager.GetMetaDataByIndex(o);if(v){var S=l._ImgManager.getImageIdMap(c);S&&S.width?v.width=S.width:v.width=l._stwain.GetImageWidth(o),S&&S.height?v.height=S.height:v.height=l._stwain.GetImageHeight(o)}u(n,o,v)},onError:function(){}})}return!0}}]);var r}(),gU=function(r){function n(o,s){var u;h(this,n);var l=u=d(this,n,[s]);return l._stwain=o,l.bImageJustChangedInEditor=!1,l.bImageChangedInViewer=!1,u}return F(n,r),y(n,[{key:"getUidByIndex",value:function(o){return this._buffer.getUidByIndex(o)}},{key:"dispose",value:function(){return!0}},{key:"append",value:function(o,s,u,l,c){var f,m,v,S,_,b=this;(this._buffer.isActiveFile||!p.isUndefined(c))&&l.currentFileName&&l.currentFileName.length>0?_=m=b.getCountByDocumentName(l.currentFileName):(m=b.count(),_=b.getCountByDocumentName(b.GetCurrentFileName())),v=b.getCurrentImageIndex();for(var I=m-1;I>=o;I--)S=b.convertClientIndexToServerId(I),b.removeByServerId(S,I);return m<o?(f=_,b._updateUIAfterAdd(f,s,u,l,!0)):(f=v>=m-1?0:v+1,S=b.convertClientIndexToServerId(f),b.removeByServerId(S,f),f==o-1?b._updateUIAfterAdd(f,s,u,l,!0):b._updateUIAfterAdd(f,s,u,l,!1))}},{key:"insertBefore",value:function(o,s,u,l,c){var f,m=1*o;return(m<0||m>s)&&(m=-1),m>=(f=this.count())&&(m=f),this._updateUIAfterAdd(m,u,l,c,!1)}},{key:"exists",value:function(o){return!p.isUndefined(this.getImageIdMap(o))}},{key:"insert",value:function(o,s,u,l,c){var f,m=1*o;return(m<0||m>s)&&(m=-1),m>=(f=this.count())&&(m=f),this._updateUIAfterAdd(m,u,l,c,!1)}},{key:"moveImage",value:function(o,s,u){return this._buffer.moveImage(o,s)}},{key:"switchImage",value:function(o,s){return this._buffer.switchImage(o,s)}},{key:"setSelectedClientIndexArray",value:function(o){return this._buffer.selectImages(o)}},{key:"getSelectedClientIndexArray",value:function(o){return this._buffer.getSelectedImagesIndices()}},{key:"showImagesByFilter",value:function(o,s,u){return this._buffer.filterImagesByTag(o,s,u)}},{key:"clearFilter",value:function(){return this._buffer.clearFilter()}},{key:"removeImageTag",value:function(o){return this._buffer.removeImageTag(o)}},{key:"addImageTag",value:function(o,s){return this._buffer.tagImages(o,s)}},{key:"getCurrentTag",value:function(){var o;return(o=this._buffer.getCurrentTag())==0?"":o}},{key:"renameTag",value:function(o,s){return this._buffer.renameTag(o,s)}},{key:"removeTag",value:function(o,s){return this._buffer.removeTag(o,s)}},{key:"getTagList",value:function(){return this._buffer.getTagList()}},{key:"getTagListByIndex",value:function(o){return this._buffer.getTagListByIndex(o)}},{key:"OpenFile",value:function(o){return this._buffer.openDocument(o)}},{key:"CreateFile",value:function(o){return this._buffer.createDocument(o)}},{key:"GetCurrentFileName",value:function(){return this._buffer.getCurrentFileName()}},{key:"RemoveFile",value:function(o){return this._buffer.removeDocument(o)}},{key:"RenameFile",value:function(o,s){return this._buffer.renameDocument(o,s)}},{key:"GetFileInfoList",value:function(){return this._buffer.getDocumentInfoList()}},{key:"MoveImageToFile",value:function(o,s,u,l){return this._buffer.moveImageToFile(o,s,u,l)}},{key:"GetServerIdsByFileName",value:function(o){var s,u=this,l=[];return(s=u.GetFileInfoList())?p.each(s,function(c){if(o==c.name){if(c.imageIds)for(var f=0;f<c.imageIds.length;f++){var m=c.imageIds[f];if(m&&m!=-1){var v=u._stwain._uidFromServer2ServerId(m);v>0&&l.push(v)}}return!1}}):l=[],l}},{key:"insertImage",value:function(o,s,u){this._buffer.insertImage(s,o,u)}},{key:"GetMetaDataByIndex",value:function(o){return this._buffer.getMetadataByUid(this._buffer.getUidByIndex(o))}},{key:"RefreshAllImages",value:function(o,s){for(var u,l,c,f=this,m=0;m<f.count();m++){u=f.convertClientIndexToServerId(m);var v=f.getImageIdMap(u);if(v){c=f.GetMetaDataByIndex(m),l=B.navInfoSync.bMobile?ar.getImageUrl(f._baseUrl,u,Math.round(o*devicePixelRatio),Math.round(s*devicePixelRatio),Date.now()):ar.getImageUrl(f._baseUrl,u,o,s,Date.now());var S=p.clone(v);S.imageId=u,S.minImageUrl=l,f._buffer.updateImage(S,c)}}}},{key:"UpdateData",value:function(o,s){var u=o,l=this.getImageIdMap(u);if(l){var c=p.clone(l);c.imageId=o,this._buffer.updateImage(c,s)}return!0}},{key:"UpdateImage",value:function(o,s){return this._buffer.updateImage(o,s),!0}},{key:"_setDataImageControl",value:function(o,s,u){var l,c,f,m,v=this;if(u)f=o;else if(f=(c=v.getCustomDataByIndex(o)).serverId,m=c.uidFromServer,f<=0)return!1;return(l=v.getImageIdMap(f))||((l=new h_).serverId=f,l.uidFromServer=m,s&&(s.height&&(l.height=s.height),s.width&&(l.width=s.width)),v._serverIdMap[f]=l,v._uidMap[m]=l),s&&(s.height&&(l.height=s.height),s.width&&(l.width=s.width)),l!=null&&(l.bIsDirty=!0),v.__GetImageAndAttach(l,f,!0,!1,!1,o,s),!0}},{key:"__AttachImages",value:function(){var o,s,u,l=this;s=l.count();for(var c=0;c<s;c++)(o=l.convertClientIndexToServerId(c))>=0&&(u=l.getImageIdMap(o))&&l.__GetImageAndAttach(u,o,!0,!1,!1,0)}},{key:"AddImage",value:function(o,s,u,l,c){var f,m=this,v=1*o;return!(s<=0)&&((f=new h_).bIsDirty=!0,f.serverId=s,f.uidFromServer=u,m._serverIdMap[s]=f,m._uidMap[u]=f,s>=0&&m.__GetImageAndAttach(f,s,!1,!0,c,v,l),!0)}},{key:"OnGetImageByURL",value:function(o,s,u,l,c,f,m,v){return s.imageUrl&&s.imageUrl!=""?(s.iImageControlWidth=u,s.iImageControlHeight=l,s.bAddImage=c,s.bAppendImage=f,s.index=m,this._attachImagesForControl(s,v),!0):this.OnGetImageFromServer(o,s,u,l,c,f,m,v)}},{key:"OnGetImageFromServer",value:function(o,s,u,l,c,f,m,v){var S,_,b=this,I=b._baseUrl;if(I){if(o<=0)return!1;s.bIsDirty&&(s.ticks=Date.now()),p.isUndefined(u)&&(u=-1),p.isUndefined(l)&&(l=-1),s.iImageControlWidth=u,s.iImageControlHeight=l,s.bAddImage=c,s.bAppendImage=f,s.index=m,B.DWT.ConnectWithSocket&&b._stwain._isBindViewer()?(b._attachImagesForControl(s,v),ws._getblob_queue.push([b._stwain,o,v]),ws.ProcessGetBlobByQueue()):(S=ar.getImageUrl(I,o,-1,-1,s.ticks),_=B.navInfoSync.bMobile?ar.getImageUrl(I,o,Math.round(u*devicePixelRatio),Math.round(l*devicePixelRatio),s.ticks):ar.getImageUrl(I,o,u,l,s.ticks),s.imageUrl=S,s.minImageUrl=_,b._attachImagesForControl(s,v))}return!0}},{key:"getBaseUrl",get:function(){return this._baseUrl}},{key:"_attachImagesForControl",value:function(o,s){var u,l,c=this;if((l=p.clone(o)).imageId=l.serverId,l.bAddImage){if(u=s.currentFileName.length>0?c._buffer.addImage(l,s,s.currentFileName):c._buffer.addImage(l,s)){var f=O(u,1)[0],m=this.getImageIdMap(l.serverId);m&&(m.uuid=f);var v=this._buffer.getCustomDataByUid(f);v&&(v.serverId&&l&&l.serverId&&(v.serverId=l.serverId),v.uidFromServer&&(v.uidFromServer=l.uidFromServer))}}else c._buffer.updateImage(l,s);return!0}},{key:"_updateUIAfterAdd",value:function(o,s,u,l,c){return!(s<0)&&this.AddImage(o,s,u,l,c)}},{key:"__GetImageAndAttach",value:function(o,s,u,l,c,f,m){var v,S,_,b=this;b._stwain._isBindViewer()?(_=b._stwain.Viewer.height>=400?b._stwain.Viewer.height:400,S=b._stwain.Viewer.width>=400?b._stwain.Viewer.width:400):(S=-1,_=-1);var I=!1;I=!!u||o.bIsDirty==1;var A=(v=b.getImageIdMap(s))===null||v===void 0?void 0:v.uuid;A&&A!=-1&&o.iImageControlWidth==S&&o.iImageControlHeight==_&&o.bIsDirty==0||b.__SetArrayControlLoadImage(s,o,S,_,I,l,c,f,m)}},{key:"__SetArrayControlLoadImage",value:function(o,s,u,l,c,f,m,v,S){c?this.OnGetImageFromServer(o,s,u,l,f,m,v,S):this.OnGetImageByURL(o,s,u,l,f,m,v,S)}},{key:"GetServerIdList",value:function(){var o,s,u,l=this,c=[];if(o=l._buffer.getDocumentContents(l._buffer.getCurrentDocument()))for(var f=0;f<o.length;f++)(s=o[f])&&s!=-1&&(u=l._buffer.getCustomDataByUid(s))&&c.push(u.serverId);return c}}])}(vf);function iE(){var r=window.Dynamsoft.Lib.Promise;if(fg)return r.resolve(fg);var n,o=navigator;if(o&&"userAgentData"in o){var s=navigator.userAgentData;if(s.platform&&s.platform!=""){var u=[];if("brands"in s&&p.isArray(s.brands)&&s.brands.length>0?u=s.brands:"uaList"in s&&p.isArray(s.uaList)&&s.uaList.length>0&&(u=s.uaList),u.length>0)return(n=function(l){var c=ue,f=l.architecture.toLowerCase(),m=l.bitness=="64",v=f.indexOf("arm")>-1,S=f.indexOf("mips")>-1;return{bUseUserAgent:!1,bWin:c.bWin,bMac:c.bMac,bLinux:c.bLinux,bAndroid:c.bAndroid,bMobile:c.bMobile,bPad:c.bPad,bChromeOS:c.bChromeOS,bHarmonyOS:c.bHarmonyOS,bArm64:v,bMips64:S,bEmbed:v||S,bOSx64:m,bIE:!1,bEdge:c.bEdge,bChrome:c.bChrome,bFirefox:c.bFirefox,bSafari:c.bSafari,bOpera:c.bOpera,bGecko:!0,bHuaWeiBrowser:!1,bHTML5Edition:!0,strBrowserVersion:c.strBrowserVersion,IEMode:0}},navigator.userAgentData.getHighEntropyValues(["platform","platformVersion","architecture","bitness"]).then(n)).then(function(l){return fg=l,l})}}return fg=ue,r.resolve(fg)}var oE=0,aE=[],sE=!(!document||!document.addEventListener),mU="DOMContentLoaded",vU="readystatechange",_U="load",yU="complete",uE=sE?function(r,n,o){r.addEventListener(n,o,!1)}:function(r,n,o){r.attachEvent("on"+n,o)},cE=sE?function(r,n,o){r.removeEventListener(n,o,!1)}:function(r,n,o){r.detachEvent("on"+n,o)};function Sf(){oE||(oE=1,iE().then(function(){document&&cE(window,_U,Sf),function(){for(var r=function(){try{aE[n]()}catch(o){p.log(o,"error"),setTimeout(function(){throw o},0)}},n=0;n<aE.length;n++)r()}()}))}function hg(r){if(oE)try{r()}catch(n){p.log(n,"error"),setTimeout(function(){throw n},0)}else aE.push(r);return this}var uce=function(r){var n=r||window.event,o=!0;return p.each(Te.Events.registedObjs,function(s){p.each(Te.Events.registedClass,function(u){if(s instanceof u&&s.bFocus&&s.handlerKeyDown&&!(o=s.handlerKeyDown(n)))return!1})}),o};function lE(r,n){for(var o in n)n.hasOwnProperty(o)&&!p.isUndefined(n[o])&&(r.hasOwnProperty(o)&&!p.isUndefined(r[o])||(r[o]=n[o]));return r}hg(function(){p.addEventListener(document.documentElement,"keydown",uce)}),lE(B.DWT,xo),lE(B.DWT,u9),B.DWT.CertificateConfig?lE(B.DWT.CertificateConfig,aT):B.DWT.CertificateConfig=aT,B.DWT.RegisterEvent=function(r,n){if(p.isUndefined(r))throw{code:-2314,message:"The parameter cannot be empty."};if(!p.isString(r)||p.isString(r)&&r.trim().length==0||p.isUndefined(n)||!p.isFunction(n))throw{code:-2416,message:"Invalid parameter."};return p.isFunction(n)&&(B.DWT[r]=n),!0};var As=function(r){return r.CAP_NONE=0,r.CAP_XFERCOUNT=1,r.ICAP_COMPRESSION=256,r.ICAP_PIXELTYPE=257,r.ICAP_UNITS=258,r.ICAP_XFERMECH=259,r.CAP_AUTHOR=4096,r.CAP_CAPTION=4097,r.CAP_FEEDERENABLED=4098,r.CAP_FEEDERLOADED=4099,r.CAP_TIMEDATE=4100,r.CAP_SUPPORTEDCAPS=4101,r.CAP_EXTENDEDCAPS=4102,r.CAP_AUTOFEED=4103,r.CAP_CLEARPAGE=4104,r.CAP_FEEDPAGE=4105,r.CAP_REWINDPAGE=4106,r.CAP_INDICATORS=4107,r.CAP_SUPPORTEDCAPSEXT=4108,r.CAP_PAPERDETECTABLE=4109,r.CAP_UICONTROLLABLE=4110,r.CAP_DEVICEONLINE=4111,r.CAP_AUTOSCAN=4112,r.CAP_THUMBNAILSENABLED=4113,r.CAP_DUPLEX=4114,r.CAP_DUPLEXENABLED=4115,r.CAP_ENABLEDSUIONLY=4116,r.CAP_CUSTOMDSDATA=4117,r.CAP_ENDORSER=4118,r.CAP_ALARMS=4120,r.CAP_ALARMVOLUME=4121,r.CAP_AUTOMATICCAPTURE=4122,r.CAP_TIMEBEFOREFIRSTCAPTURE=4123,r.CAP_TIMEBETWEENCAPTURES=4124,r.CAP_CLEARBUFFERS=4125,r.CAP_MAXBATCHBUFFERS=4126,r.CAP_DEVICETIMEDATE=4127,r.CAP_POWERSUPPLY=4128,r.CAP_CAMERAPREVIEWUI=4129,r.CAP_SERIALNUMBER=4132,r.CAP_PRINTER=4134,r.CAP_PRINTERENABLED=4135,r.CAP_PRINTERINDEX=4136,r.CAP_PRINTERMODE=4137,r.CAP_PRINTERSTRING=4138,r.CAP_PRINTERSUFFIX=4139,r.CAP_LANGUAGE=4140,r.CAP_FEEDERALIGNMENT=4141,r.CAP_FEEDERORDER=4142,r.CAP_REACQUIREALLOWED=4144,r.CAP_BATTERYMINUTES=4146,r.CAP_BATTERYPERCENTAGE=4147,r.CAP_CAMERASIDE=4148,r.CAP_SEGMENTED=4149,r.CAP_CAMERAENABLED=4150,r.CAP_CAMERAORDER=4151,r.CAP_MICRENABLED=4152,r.CAP_FEEDERPREP=4153,r.CAP_FEEDERPOCKET=4154,r.CAP_AUTOMATICSENSEMEDIUM=4155,r.CAP_CUSTOMINTERFACEGUID=4156,r.ICAP_AUTOBRIGHT=4352,r.ICAP_BRIGHTNESS=4353,r.ICAP_CONTRAST=4355,r.ICAP_CUSTHALFTONE=4356,r.ICAP_EXPOSURETIME=4357,r.ICAP_FILTER=4358,r.ICAP_FLASHUSED=4359,r.ICAP_GAMMA=4360,r.ICAP_HALFTONES=4361,r.ICAP_HIGHLIGHT=4362,r.ICAP_IMAGEFILEFORMAT=4364,r.ICAP_LAMPSTATE=4365,r.ICAP_LIGHTSOURCE=4366,r.ICAP_ORIENTATION=4368,r.ICAP_PHYSICALWIDTH=4369,r.ICAP_PHYSICALHEIGHT=4370,r.ICAP_SHADOW=4371,r.ICAP_FRAMES=4372,r.ICAP_XNATIVERESOLUTION=4374,r.ICAP_YNATIVERESOLUTION=4375,r.ICAP_XRESOLUTION=4376,r.ICAP_YRESOLUTION=4377,r.ICAP_MAXFRAMES=4378,r.ICAP_TILES=4379,r.ICAP_BITORDER=4380,r.ICAP_CCITTKFACTOR=4381,r.ICAP_LIGHTPATH=4382,r.ICAP_PIXELFLAVOR=4383,r.ICAP_PLANARCHUNKY=4384,r.ICAP_ROTATION=4385,r.ICAP_SUPPORTEDSIZES=4386,r.ICAP_THRESHOLD=4387,r.ICAP_XSCALING=4388,r.ICAP_YSCALING=4389,r.ICAP_BITORDERCODES=4390,r.ICAP_PIXELFLAVORCODES=4391,r.ICAP_JPEGPIXELTYPE=4392,r.ICAP_TIMEFILL=4394,r.ICAP_BITDEPTH=4395,r.ICAP_BITDEPTHREDUCTION=4396,r.ICAP_UNDEFINEDIMAGESIZE=4397,r.ICAP_EXTIMAGEINFO=4399,r.ICAP_MINIMUMHEIGHT=4400,r.ICAP_MINIMUMWIDTH=4401,r.ICAP_AUTODISCARDBLANKPAGES=4404,r.ICAP_FLIPROTATION=4406,r.ICAP_BARCODEDETECTIONENABLED=4407,r.ICAP_SUPPORTEDBARCODETYPES=4408,r.ICAP_BARCODEMAXSEARCHPRIORITIES=4409,r.ICAP_BARCODESEARCHPRIORITIES=4410,r.ICAP_BARCODESEARCHMODE=4411,r.ICAP_BARCODEMAXRETRIES=4412,r.ICAP_BARCODETIMEOUT=4413,r.ICAP_ZOOMFACTOR=4414,r.ICAP_PATCHCODEDETECTIONENABLED=4415,r.ICAP_SUPPORTEDPATCHCODETYPES=4416,r.ICAP_PATCHCODEMAXSEARCHPRIORITIES=4417,r.ICAP_PATCHCODESEARCHPRIORITIES=4418,r.ICAP_PATCHCODESEARCHMODE=4419,r.ICAP_PATCHCODEMAXRETRIES=4420,r.ICAP_PATCHCODETIMEOUT=4421,r.ICAP_FLASHUSED2=4422,r.ICAP_IMAGEFILTER=4423,r.ICAP_NOISEFILTER=4424,r.ICAP_OVERSCAN=4425,r.ICAP_AUTOMATICBORDERDETECTION=4432,r.ICAP_AUTOMATICDESKEW=4433,r.ICAP_AUTOMATICROTATE=4434,r.ICAP_JPEGQUALITY=4435,r.ICAP_FEEDERTYPE=4436,r.ICAP_ICCPROFILE=4437,r.ICAP_AUTOSIZE=4438,r.ICAP_AUTOMATICCROPUSESFRAME=4439,r.ICAP_AUTOMATICLENGTHDETECTION=4440,r.ICAP_AUTOMATICCOLORENABLED=4441,r.ICAP_AUTOMATICCOLORNONCOLORPIXELTYPE=4442,r.ICAP_COLORMANAGEMENTENABLED=4443,r.ICAP_IMAGEMERGE=4444,r.ICAP_IMAGEMERGEHEIGHTTHRESHOLD=4445,r.ICAP_SUPPORTEDEXTIMAGEINFO=4446,r}({}),cce=function(r){return r.TWLG_DAN=0,r.TWLG_DUT=1,r.TWLG_ENG=2,r.TWLG_FCF=3,r.TWLG_FIN=4,r.TWLG_FRN=5,r.TWLG_GER=6,r.TWLG_ICE=7,r.TWLG_ITN=8,r.TWLG_NOR=9,r.TWLG_POR=10,r.TWLG_SPA=11,r.TWLG_SWE=12,r.TWLG_USA=13,r.TWLG_USERLOCALE=-1,r.TWLG_AFRIKAANS=14,r.TWLG_ALBANIA=15,r.TWLG_ARABIC=16,r.TWLG_ARABIC_ALGERIA=17,r.TWLG_ARABIC_BAHRAIN=18,r.TWLG_ARABIC_EGYPT=19,r.TWLG_ARABIC_IRAQ=20,r.TWLG_ARABIC_JORDAN=21,r.TWLG_ARABIC_KUWAIT=22,r.TWLG_ARABIC_LEBANON=23,r.TWLG_ARABIC_LIBYA=24,r.TWLG_ARABIC_MOROCCO=25,r.TWLG_ARABIC_OMAN=26,r.TWLG_ARABIC_QATAR=27,r.TWLG_ARABIC_SAUDIARABIA=28,r.TWLG_ARABIC_SYRIA=29,r.TWLG_ARABIC_TUNISIA=30,r.TWLG_ARABIC_UAE=31,r.TWLG_ARABIC_YEMEN=32,r.TWLG_BASQUE=33,r.TWLG_BYELORUSSIAN=34,r.TWLG_BULGARIAN=35,r.TWLG_CATALAN=36,r.TWLG_CHINESE=37,r.TWLG_CHINESE_HONGKONG=38,r.TWLG_CHINESE_PRC=39,r.TWLG_CHINESE_SINGAPORE=40,r.TWLG_CHINESE_SIMPLIFIED=41,r.TWLG_CHINESE_TAIWAN=42,r.TWLG_CHINESE_TRADITIONAL=43,r.TWLG_CROATIA=44,r.TWLG_CZECH=45,r.TWLG_DANISH=0,r.TWLG_DUTCH=1,r.TWLG_DUTCH_BELGIAN=46,r.TWLG_ENGLISH=2,r.TWLG_ENGLISH_AUSTRALIAN=47,r.TWLG_ENGLISH_CANADIAN=48,r.TWLG_ENGLISH_IRELAND=49,r.TWLG_ENGLISH_NEWZEALAND=50,r.TWLG_ENGLISH_SOUTHAFRICA=51,r.TWLG_ENGLISH_UK=52,r.TWLG_ENGLISH_USA=13,r.TWLG_ESTONIAN=53,r.TWLG_FAEROESE=54,r.TWLG_FARSI=55,r.TWLG_FINNISH=4,r.TWLG_FRENCH=5,r.TWLG_FRENCH_BELGIAN=56,r.TWLG_FRENCH_CANADIAN=3,r.TWLG_FRENCH_LUXEMBOURG=57,r.TWLG_FRENCH_SWISS=58,r.TWLG_GERMAN=6,r.TWLG_GERMAN_AUSTRIAN=59,r.TWLG_GERMAN_LUXEMBOURG=60,r.TWLG_GERMAN_LIECHTENSTEIN=61,r.TWLG_GERMAN_SWISS=62,r.TWLG_GREEK=63,r.TWLG_HEBREW=64,r.TWLG_HUNGARIAN=65,r.TWLG_ICELANDIC=7,r.TWLG_INDONESIAN=66,r.TWLG_ITALIAN=8,r.TWLG_ITALIAN_SWISS=67,r.TWLG_JAPANESE=68,r.TWLG_KOREAN=69,r.TWLG_KOREAN_JOHAB=70,r.TWLG_LATVIAN=71,r.TWLG_LITHUANIAN=72,r.TWLG_NORWEGIAN=9,r.TWLG_NORWEGIAN_BOKMAL=73,r.TWLG_NORWEGIAN_NYNORSK=74,r.TWLG_POLISH=75,r.TWLG_PORTUGUESE=10,r.TWLG_PORTUGUESE_BRAZIL=76,r.TWLG_ROMANIAN=77,r.TWLG_RUSSIAN=78,r.TWLG_SERBIAN_LATIN=79,r.TWLG_SLOVAK=80,r.TWLG_SLOVENIAN=81,r.TWLG_SPANISH=11,r.TWLG_SPANISH_MEXICAN=82,r.TWLG_SPANISH_MODERN=83,r.TWLG_SWEDISH=12,r.TWLG_THAI=84,r.TWLG_TURKISH=85,r.TWLG_UKRANIAN=86,r.TWLG_ASSAMESE=87,r.TWLG_BENGALI=88,r.TWLG_BIHARI=89,r.TWLG_BODO=90,r.TWLG_DOGRI=91,r.TWLG_GUJARATI=92,r.TWLG_HARYANVI=93,r.TWLG_HINDI=94,r.TWLG_KANNADA=95,r.TWLG_KASHMIRI=96,r.TWLG_MALAYALAM=97,r.TWLG_MARATHI=98,r.TWLG_MARWARI=99,r.TWLG_MEGHALAYAN=100,r.TWLG_MIZO=101,r.TWLG_NAGA=102,r.TWLG_ORISSI=103,r.TWLG_PUNJABI=104,r.TWLG_PUSHTU=105,r.TWLG_SERBIAN_CYRILLIC=106,r.TWLG_SIKKIMI=107,r.TWLG_SWEDISH_FINLAND=108,r.TWLG_TAMIL=109,r.TWLG_TELUGU=110,r.TWLG_TRIPURI=111,r.TWLG_URDU=112,r.TWLG_VIETNAMESE=113,r}({}),lce=function(r){return r.TWSS_NONE=0,r.TWSS_A4LETTER=1,r.TWSS_B5LETTER=2,r.TWSS_USLETTER=3,r.TWSS_USLEGAL=4,r.TWSS_A5=5,r.TWSS_B4=6,r.TWSS_B6=7,r.TWSS_USLEDGER=9,r.TWSS_USEXECUTIVE=10,r.TWSS_A3=11,r.TWSS_B3=12,r.TWSS_A6=13,r.TWSS_C4=14,r.TWSS_C5=15,r.TWSS_C6=16,r.TWSS_4A0=17,r.TWSS_2A0=18,r.TWSS_A0=19,r.TWSS_A1=20,r.TWSS_A2=21,r.TWSS_A4=1,r.TWSS_A7=22,r.TWSS_A8=23,r.TWSS_A9=24,r.TWSS_A10=25,r.TWSS_ISOB0=26,r.TWSS_ISOB1=27,r.TWSS_ISOB2=28,r.TWSS_ISOB3=12,r.TWSS_ISOB4=6,r.TWSS_ISOB5=29,r.TWSS_ISOB6=7,r.TWSS_ISOB7=30,r.TWSS_ISOB8=31,r.TWSS_ISOB9=32,r.TWSS_ISOB10=33,r.TWSS_JISB0=34,r.TWSS_JISB1=35,r.TWSS_JISB2=36,r.TWSS_JISB3=37,r.TWSS_JISB4=38,r.TWSS_JISB5=2,r.TWSS_JISB6=39,r.TWSS_JISB7=40,r.TWSS_JISB8=41,r.TWSS_JISB9=42,r.TWSS_JISB10=43,r.TWSS_C0=44,r.TWSS_C1=45,r.TWSS_C2=46,r.TWSS_C3=47,r.TWSS_C7=48,r.TWSS_C8=49,r.TWSS_C9=50,r.TWSS_C10=51,r.TWSS_USSTATEMENT=52,r.TWSS_BUSINESSCARD=53,r.TWSS_MAXSIZE=54,r}({}),dce=function(r){return r.TWON_NONE=0,r.TWON_ARRAY=3,r.TWON_ENUMERATION=4,r.TWON_ONEVALUE=5,r.TWON_RANGE=6,r}({}),fce=function(r){return r.TWTY_INT8=0,r.TWTY_INT16=1,r.TWTY_INT32=2,r.TWTY_UINT8=3,r.TWTY_UINT16=4,r.TWTY_int=5,r.TWTY_BOOL=6,r.TWTY_FIX32=7,r.TWTY_FRAME=8,r.TWTY_STR32=9,r.TWTY_STR64=10,r.TWTY_STR128=11,r.TWTY_STR255=12,r}({}),hce=function(r){return r.TWFA_NONE=0,r.TWFA_LEFT=1,r.TWFA_CENTER=2,r.TWFA_RIGHT=3,r}({}),pce=function(r){return r.TWFO_FIRSTPAGEFIRST=0,r.TWFO_LASTPAGEFIRST=1,r}({}),gce=function(r){return r.TWPR_IMPRINTERTOPBEFORE=0,r.TWPR_IMPRINTERTOPAFTER=1,r.TWPR_IMPRINTERBOTTOMBEFORE=2,r.TWPR_IMPRINTERBOTTOMAFTER=3,r.TWPR_ENDORSERTOPBEFORE=4,r.TWPR_ENDORSERTOPAFTER=5,r.TWPR_ENDORSERBOTTOMBEFORE=6,r.TWPR_ENDORSERBOTTOMAFTER=7,r}({}),mce=function(r){return r.TWPM_SINGLESTRING=0,r.TWPM_MULTISTRING=1,r.TWPM_COMPOUNDSTRING=2,r}({}),vce=function(r){return r.TWBR_THRESHOLD=0,r.TWBR_HALFTONE=1,r.TWBR_CUSTHALFTONE=2,r.TWBR_DIFFUSION=3,r}({}),_ce=function(r){return r.TWBO_LSBFIRST=0,r.TWBO_MSBFIRST=1,r}({}),yce=function(r){return r.TWFT_RED=0,r.TWFT_GREEN=1,r.TWFT_BLUE=2,r.TWFT_NONE=3,r.TWFT_WHITE=4,r.TWFT_CYAN=5,r.TWFT_MAGENTA=6,r.TWFT_YELLOW=7,r.TWFT_BLACK=8,r}({}),Sce=function(r){return r.TWFL_NONE=0,r.TWFL_OFF=1,r.TWFL_ON=2,r.TWFL_AUTO=3,r.TWFL_REDEYE=4,r}({}),bce=function(r){return r.TWFR_BOOK=0,r.TWFR_FANFOLD=1,r}({}),Tce=function(r){return r.TWIF_NONE=0,r.TWIF_AUTO=1,r.TWIF_LOWPASS=2,r.TWIF_BANDPASS=3,r.TWIF_HIGHPASS=4,r.TWIF_TEXT=3,r.TWIF_FINELINE=4,r}({}),Cce=function(r){return r.TWLP_REFLECTIVE=0,r.TWLP_TRANSMISSIVE=1,r}({}),Ice=function(r){return r.TWLS_RED=0,r.TWLS_GREEN=1,r.TWLS_BLUE=2,r.TWLS_NONE=3,r.TWLS_WHITE=4,r.TWLS_UV=5,r.TWLS_IR=6,r}({}),wce=function(r){return r.TWNF_NONE=0,r.TWNF_AUTO=1,r.TWNF_LONEPIXEL=2,r.TWNF_MAJORITYRULE=3,r}({}),Ece=function(r){return r.TWOR_ROT0=0,r.TWOR_ROT90=1,r.TWOR_ROT180=2,r.TWOR_ROT270=3,r.TWOR_PORTRAIT=0,r.TWOR_LANDSCAPE=3,r.TWOR_AUTO=4,r.TWOR_AUTOTEXT=5,r.TWOR_AUTOPICTURE=6,r}({}),Ace=function(r){return r.TWOV_NONE=0,r.TWOV_AUTO=1,r.TWOV_TOPBOTTOM=2,r.TWOV_LEFTRIGHT=3,r.TWOV_ALL=4,r}({}),xce=function(r){return r.TWPF_CHOCOLATE=0,r.TWPF_VANILLA=1,r}({}),Pce=function(r){return r.TWPC_CHUNKY=0,r.TWPC_PLANAR=1,r}({}),Dl=function(r){return r.Info=1,r.Error=2,r.NotInstalledError=3,r}({}),dE=function(r){return r.Binary=0,r.Base64=1,r}({}),SU=function(r){return r.TWPT_BW=0,r.TWPT_GRAY=1,r.TWPT_RGB=2,r.TWPT_PALLETE=3,r.TWPT_CMY=4,r.TWPT_CMYK=5,r.TWPT_YUV=6,r.TWPT_YUVK=7,r.TWPT_CIEXYZ=8,r.TWPT_LAB=9,r.TWPT_SRGB=10,r.TWPT_SCRGB=11,r.TWPT_INFRARED=16,r}(SU||{}),bU=function(r){return r.TWUN_INCHES=0,r.TWUN_CENTIMETERS=1,r.TWUN_PICAS=2,r.TWUN_POINTS=3,r.TWUN_TWIPS=4,r.TWUN_PIXELS=5,r.TWUN_MILLIMETERS=6,r}(bU||{});p.mix(B.DWT,{EnumDWT_DeviceType:ht,EnumDWT_Cap:As,EnumDWT_CapLanguage:cce,EnumDWT_CapSupportedSizes:lce,EnumDWT_CapType:dce,EnumDWT_CapValueType:fce,EnumDWT_CapFeederAlignment:hce,EnumDWT_CapFeederOrder:pce,EnumDWT_CapPrinter:gce,EnumDWT_CapPrinterMode:mce,EnumDWT_CapBitdepthReduction:vce,EnumDWT_CapBitOrder:_ce,EnumDWT_CapFilterType:yce,EnumDWT_CapFlash:Sce,EnumDWT_CapFlipRotation:bce,EnumDWT_CapImageFilter:Tce,EnumDWT_CapLightPath:Cce,EnumDWT_CapLightSource:Ice,EnumDWT_CapNoiseFilter:wce,EnumDWT_CapORientation:Ece,EnumDWT_CapOverscan:Ace,EnumDWT_CapPixelFlavor:xce,EnumDWT_CapPlanarChunky:Pce,EnumDWT_ImageType:Qt,EnumDWT_ImageFormatType:hc,EnumDWT_ResponseType:Ba,EnumDWT_SourceMatchField:pp,EnumDWT_UploadDataFormat:dE,EnumDWT_WorkMode:dU,EnumDWT_ConvertMode:gr,EnumDWT_PixelType:SU,EnumDWT_UnitType:bU});var en=B.DWT;en.EnumPDF_Page={Page_Default:0,Page_Custom:1,Page_A4:2,Page_A4_Reverse:3,Page_A3:4,Page_A3_Reverse:5,Page_Letter:6,Page_Letter_Reverse:7,Page_Legal:8,Page_Legal_Reverse:9},en.EnumDWT_BorderStyle={TWBS_NONE:0,TWBS_SINGLEFLAT:1,TWBS_SINGLE3D:2},en.EnumDWT_MessageType={TWQC_GET:1,TWQC_SET:2,TWQC_GETDEFAULT:4,TWQC_GETCURRENT:8,TWQC_RESET:16},en.EnumDWT_TransferMode={TWSX_NATIVE:0,TWSX_FILE:1,TWSX_MEMORY:2},en.EnumDWT_FileFormat={TWFF_TIFF:0,TWFF_PICT:1,TWFF_BMP:2,TWFF_XBM:3,TWFF_JFIF:4,TWFF_FPX:5,TWFF_TIFFMULTI:6,TWFF_PNG:7,TWFF_SPIFF:8,TWFF_EXIF:9,TWFF_PDF:10,TWFF_JP2:11,TWFF_JPN:12,TWFF_JPX:13,TWFF_DEJAVU:14,TWFF_PDFA:15,TWFF_PDFA2:16},en.EnumDWT_TIFFCompressionType={TIFF_AUTO:0,TIFF_NONE:1,TIFF_RLE:2,TIFF_FAX3:3,TIFF_T4:3,TIFF_FAX4:4,TIFF_T6:4,TIFF_LZW:5,TIFF_JPEG:7,TIFF_PACKBITS:32773},en.EnumDWT_InterpolationMethod={IM_NEARESTNEIGHBOUR:1,IM_BILINEAR:2,IM_BICUBIC:3,IM_BESTQUALITY:5},en.EnumDWT_PDFCompressionType={PDF_AUTO:0,PDF_FAX3:1,PDF_FAX4:2,PDF_LZW:3,PDF_RLE:4,PDF_JPEG:5,PDF_JP2000:6,PDF_JBIG2:7},en.EnumDWT_ShowMode={SW_ACTIVE:0,SW_MAX:1,SW_MIN:2,SW_CLOSE:3,SW_IFLIVE:4},en.EnumDWT_DUPLEX={TWDX_NONE:0,TWDX_1PASSDUPLEX:1,TWDX_2PASSDUPLEX:2},en.EnumDWT_MagType={TWMD_MICR:0,TWMD_RAW:1,TWMD_INVALID:2},en.EnumDWT_DataSourceStatus={TWDSS_CLOSED:0,TWDSS_OPENED:1,TWDSS_ENABLED:2,TWDSS_ACQUIRING:3};var A0=function(r){return r.enumFitWindow=0,r.enumFitWindowHeight=1,r.enumFitWindowWidth=2,r}(A0||{});en.EnumDWT_FitWindowType={enumFitWindow:A0.enumFitWindow,enumFitWindowHeight:A0.enumFitWindowHeight,enumFitWindowWidth:A0.enumFitWindowWidth},en.EnumDWT_PlatformType={enumUnknown:Et.enumUnknown,enumWindow:Et.enumWindow,enumMac:Et.enumMac,enumLinux:Et.enumLinux,enumEmbed:Et.enumEmbed,enumChromeOS:Et.enumChromeOS,enumHarmonyOS:Et.enumHarmonyOS,enumAndroid:Et.enumAndroid,enumiOS:Et.enumiOS};var xs=function(r){return r.Default=0,r.Hand=1,r.Crosshair=2,r.Zoom=3,r.NWResize=4,r.EResize=5,r.NResize=6,r.Resize=7,r.Move=8,r}(xs||{});en.EnumDWT_MouseShape={Default:xs.Default,Hand:xs.Hand,Crosshair:xs.Crosshair,Zoom:xs.Zoom,NWResize:xs.NWResize,EResize:xs.EResize,NResize:xs.NResize,Resize:xs.Resize,Move:xs.Move},en.EnumDWT_Language={English:0,French:1,Arabic:2,Spanish:3,Portuguese:4,German:5,Italian:6,Russian:7,Chinese:8},en.EnumDWT_InitMsg={Info:Dl.Info,Error:Dl.Error,NotInstalledError:Dl.NotInstalledError},en.EnumDWT_Driver={TWAIN:qt.TWAIN,ICA:qt.ICA,SANE:qt.SANE,TWAIN_AND_ICA:qt.TWAIN_AND_ICA,TWAIN_AND_TWAIN64:qt.TWAIN_AND_TWAIN64,TWAIN64:qt.TWAIN64},en.EnumDWT_CompressionType={TWCP_NONE:0,TWCP_PACKBITS:1,TWCP_GROUP31D:2,TWCP_GROUP31DEOL:3,TWCP_GROUP32D:4,TWCP_GROUP4:5,TWCP_JPEG:6,TWCP_LZW:7,TWCP_JBIG:8,TWCP_PNG:9,TWCP_RLE4:10,TWCP_RLE8:11,TWCP_BITFIELDS:12,TWCP_ZIP:13,TWCP_JPEG2000:14};var fE=function(r){return r.Single=0,r.Multiple=1,r}(fE||{});en.EnumDWT_SelectionMode={Single:fE.Single,Multiple:fE.Multiple},en.EnumDWT_ConfirmExitType={Cancel:0,Exit:1,SaveAndExit:2},en.EnumDWT_WebsocketReadyState={CONNECTING:vs.CONNECTING,OPEN:vs.OPEN,CLOSING:vs.CLOSING,CLOSED:vs.CLOSED};var hE=function(r){return r.TwainService=1,r}(hE||{});en.EnumDWT_ServiceType={TwainService:hE.TwainService};var x0,P0=function(r){return r.default=0,r.standard=1,r.supported=2,r}(P0||{});en.EnumDWT_ExtImageInfo={default:P0.default,standard:P0.standard,supported:P0.supported};var k0=20230506,pE=function(){if(B.dcp){var r=B.dcp.dcpJSVer;if(p.isNumber(r))return r>=k0}return!1};if(pE())pE=x0,k0=x0;else{var dn=Pt.detect,bf={_checkService:function(r,n){dn.dcpStatus=dn.EnumDCP_DetectStatus.CheckingServiceVer,gE(null,"DSVersion").then(r,n)},_checkUpdateFile:function(r,n){gE(null,"CheckUpdateFile").then(r,n)},_updateService:function(r,n){gE(null,"UpdateService").then(r,n)},_getDSUpdateZipUrl:function(){var r,n,o="";return r="Win",ue.bMac?r="Mac":ue.bLinux&&(r="Linux"),n=ue.bFileSystem?"":"?t="+p.now(),ue.bWin&&Pt.b64bit&&(o="_x64"),[ds(),"/dist/serviceupdate/",r,"DSUpdate_",TR().join("."),o,".zip",n].join("")},getPorts:function(r,n){var o="GetPorts",s="dwasm2_"+bd();return TU(r,o,{id:p.guid(),method:o,version:s,parameter:[n]},qh())},_getStatusString:function(r,n){var o,s,u="";return r==dn.EnumDCP_DetectStatus.Init?"Getting manager version":r==dn.EnumDCP_DetectStatus.Connected?(n&&(u=n),"Getting manager version succeeded and the version is "+u):r==dn.EnumDCP_DetectStatus.CheckingManagerVer?"Getting manager version":r==dn.EnumDCP_DetectStatus.CheckingServiceVer?"Getting service version":r==dn.EnumDCP_DetectStatus.NotInstalled?"Dynamsoft Service Not Installed":r==dn.EnumDCP_DetectStatus.UpdateSkipped?"Update skipped":r==dn.EnumDCP_DetectStatus.CheckedService?(n&&(u=n),"Getting service version succeeded and the version is "+u):r==dn.EnumDCP_DetectStatus.VerifyingZip?"Verifying the update package":r==dn.EnumDCP_DetectStatus.VerifiedZip?"Update package verified":r==dn.EnumDCP_DetectStatus.UpdatingService?"Updating the service":r==dn.EnumDCP_DetectStatus.UpdateSucceed?"Update succeeded":r==dn.EnumDCP_DetectStatus.UpdateFailed?(s=".",n&&n.length>0?(n.slice(n.length-1)=="."&&(s=""),o=" with the error: "+n):o="","The update failed"+o+s):""},_sendStatusEvent:function(r,n){var o=!!r,s=window;p.isFunction(s.OnGetServiceUpdateStatus)&&s.OnGetServiceUpdateStatus(o,dn.dcpStatus,bf._getStatusString(dn.dcpStatus,n))},_getErr:function(r){var n,o="";try{p.isString(r)?(n=r.replace(/\0/g,""),n=p.parse(n)):r&&(n=r),"description"in n&&(o=n.description)}catch{}return o},_funShowUpgradeDialogWhenUpdateFailed:function(r,n){return dn.bConnected=!0,dn.dcpStatus=dn.EnumDCP_DetectStatus.UpdateFailed,r&&r(),n&&n(),bf._sendStatusEvent(!0),!0},_funUpdateFailed:function(r,n,o,s){var u,l;return dn.bConnected=!0,dn.dcpStatus=dn.EnumDCP_DetectStatus.UpdateFailed,r&&r(),s==200?(u="The update failed.",l=bf._getStatusString(dn.dcpStatus,bf._getErr(o))):l=u="The update failed. The error code is "+s,n&&n(!0,u),bf._sendStatusEvent(!0,l),!0},getDSPath:function(r,n){return Ni.getDSPath(n)},getLinuxHTML5DebPath:function(){return Ni.getDSPath(".deb")},getLinuxHTML5RpmPath:function(){return Ni.getDSPath(".rpm")},getBinaryFileInfo:function(r,n){var o="GetBinaryFileInfo",s={id:p.guid(),method:o,version:"dwasm2_"+bd(),parameter:[]},u=p.stringify(s),l=function(m,v,S){var _;m&&(_=p.parse(m)),_?r(_):n(m,v,S)};if(B.DWT.ConnectWithSocket&&ue.bHTML5Edition){var c=ru.getWsUrl(B.DWT.Host,ue.bSSL?Pt.SSLPort:Pt.Port);return ru.postStringDataByWSUrl(c,u).then(l,n),!0}var f=[Uv(),"/",o,"?type=1&dsver=",iT().join(""),"&ts=",p.now()].join("");Js.getHttpClientForDcp().request(u,f,{},500).then(l,n)}};p.mix(Pt,bf),B.dcp=Pt,B.dcp.dcpJSVer=k0,pE=x0,k0=x0}function gE(r,n,o,s){var u;return u={id:p.guid(),method:n,version:"dwasm2_"+bd(),parameter:[]},n=="VersionInfo"&&(u.version="dwasm2_"+Or.getVersionStrForCheck()),_t.isLongKey(o)&&(u.productKey=o),TU(r,n,u,qh(),s)}function TU(r,n,o,s,u){return mE.apply(this,arguments)}function mE(){return mE=a(E().mark(function r(n,o,s,u,l){var c,f,m,v,S,_,b,I,A;return E().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return c=p.stringify(s),Pt.detect.bConnected=!1,f=[Uv(),"/",o,"?type=1&dsver=",iT().join(""),"&ts=",p.now()].join(""),v=ue.bSSL,S=v?Pt.SSLPort:Pt.Port,m=Js.getHttpClient(n,S,v),_={},l&&!ue.bSSL&&(_.redirect="manual"),P.prev=8,P.next=11,m.request(c,f,_,u);case 11:b=P.sent,P.next=21;break;case 14:if(P.prev=14,P.t0=P.catch(8),!l||ue.bSSL){P.next=20;break}if((P.t0&&P.t0.code)!=kt.HTTPRedirected){P.next=20;break}throw tF();case 20:throw P.t0;case 21:if(b&&(I=p.parse(b)),!(I&&"exception"in I&&"description"in I)){P.next=24;break}throw{code:I.exception,message:I.description};case 24:if(!I||!("result"in I)){P.next=30;break}if(!Pt.detect.bConnected){P.next=27;break}return P.abrupt("return",I.result);case 27:return Pt.detect.bConnected=!0,Pt.detect.dcpStatus=Pt.detect.EnumDCP_DetectStatus.Connected,P.abrupt("return",I.result);case 30:throw Mi(A={}),rr(A);case 33:case"end":return P.stop()}},r,null,[[8,14]])})),mE.apply(this,arguments)}function CU(r){var n=Date.parse(r+"T00:00:00");return r!=""&&!isNaN(n)&&!!B.DWT.CheckCertExpired&&new Date().getTime()>=n-864e5*B.DWT.CertificateConfig.UpdateDaysBeforeExpired}B.DWT.__innerCheckCertDate=function(r){CU(r)&&(p.isFunction(B.OnCertExpired)&&B.OnCertExpired(r),setTimeout(function(){B.DWT.UpdateCert(B.DWT.CertificateConfig.URL,B.OnUpdateCertSuccess,B.OnUpdateCertFailure)},5e3))},B.DWT.__innerUpdateCert=function(r,n,o,s){var u=[Uv(),"/LoadZipFromBytes?type=",4,"&dsver=",iT().join(""),"&ts=",p.now()].join("");Js.getHttpClientForDcp(null,n).request(r,u,{},3e4).then(o,function(l){p.isFunction(s)&&s(l)})},B.DWT.__innerReboot=function(r,n){var o=[Uv(),"/admin?ts=",p.now()].join(""),s='{"id":"'+new Date().getTime().toString()+'","method":"Reboot","parameter":[],"version":"dwasm2_'+bd()+'"}';Js.getHttpClientForDcp().request(s,o,{},3e4).then(r,n)},B.DWT.UpdateCert=function(r,n,o){p.isString(r)&&r!=""?Ed(r,{mode:"cors",dataType:"arraybuffer"}).then(function(s){B.DWT.__innerUpdateCert(s,!1,function(u){var l;try{var c=V.parse(u);c.description&&(l={code:c.exception,message:c.description})}catch{var f;Mi(f={}),f=rr(f)}l?V.isFunction(o)&&o(l):(B.DWT.CheckCertExpired=!1,p.isFunction(n)&&n())},function(u){ue.bSSL?B.DWT.__innerUpdateCert(s,!0,n,o):p.isFunction(o)&&o(u)})},o):p.isFunction(o)&&o()};var vE={Errors:{FilePathSyntaxIncorrect:function(r){r._errorCode=-3123,r._errorString="The filename, directory name, or volume label syntax is incorrect."}},checkFilePath:function(r,n){return p.isString(n)&&n.length!=0?p.startsWith(n,"http://")||p.startsWith(n,"https://")||p.startsWith(n,"ftp://")?(V.File.Errors.FilePathSyntaxIncorrect(r),xe):rt:(al(r),xe)}};vE.checkFolder=vE.checkFilePath,V.File=vE,V.showProgress=function(){},V.closeProgress=function(){};var pg,kce=document.location.protocol,Dce=location.hostname,IU=ue.bSSL,Rce={detect:{ssl:IU,dcpStatus:0,dcpCallbackType:0,arySTwains:[],bFirst:rt,bOK:xe,__dialog:xe,cssLoaded:xe,viewerScriptLoaded:xe,bNoControlEvent:xe,bNeedUpgradeEvent:xe,bPromptJSOrServerOutdated:xe,detectType:IU?1:kce==="http:"||Dce===""?0:-1,tryTimes:0,ports:[{port:B.DWT.SSLPort,ssl:rt},{port:B.DWT.Port,ssl:xe}],cUrlIndex:0,urls:[],onNoControl:xe,needUpgrade:xe,OnDetectNext:xe,OnCreatWS:xe,bMaskShow:xe},page:{bUnload:xe}};function wU(){var r=aT;if(B.DWT.CertificateConfig){var n=B.DWT.CertificateConfig;p.isString(n.URL)||(n.URL=r.URL),(!p.isNumber(n.UpdateDaysBeforeExpired)||n.UpdateDaysBeforeExpired<=0)&&(n.UpdateDaysBeforeExpired=r.UpdateDaysBeforeExpired)}else B.DWT.CertificateConfig=r;ace(),p.isString(B.DWT.ProductKey)&&(B.DWT.ProductKey=p.trim(B.DWT.ProductKey)),B.navInfo&&(ue.bMac||ue.bWin)&&(B.navInfo.bEmbed=!1,B.navInfo.bArm64=!1,B.navInfo.bMips64=!1),B.DWT.Debug&&(p.debug=!0)}function _E(){return _E=a(E().mark(function r(){var n,o,s;return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!V.detect.cssLoaded){u.next=2;break}return u.abrupt("return");case 2:if(B.DWT.IfLoadResources){u.next=5;break}return V.detect.cssLoaded=rt,u.abrupt("return");case 5:return n=ds(),o="",!ue.bFileSystem&&B.DWT.IfResourcesAddTimestamp&&(o=V.timestamp),s=[[n,"/src/dynamsoft.webtwain.css",o].join("")],Ie.bHTML5Edition&&B.DWT.UseDefaultViewer&&s.push([n,"/src/dynamsoft.webtwain.viewer.css",o].join("")),V.detect.cssLoaded=rt,u.prev=10,u.next=13,new V.Promise(function(l,c){if(ue.bSafari){var f=!1;p.addAllCss(s,!1,function(m){m||(f=!0)}),f?c({code:-2804,message:"Loading the WebTwain css files failed."}):l()}else p.addAllCss(s,!1,function(m){m?l():c({code:-2804,message:"Loading the WebTwain css files failed."})})});case 13:if(!Ie.bHTML5Edition||ue.bFileSystem||!B.DWT.IfCheckCssFiles){u.next=16;break}return u.next=16,Fce(s);case 16:u.next=21;break;case 18:u.prev=18,u.t0=u.catch(10),HT(u.t0);case 21:case"end":return u.stop()}},r,null,[[10,18]])})),_E.apply(this,arguments)}function Fce(r){return EU.apply(this,arguments)}function EU(){return(EU=a(E().mark(function r(n){var o,s;return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:o=!0,u.prev=1,s=0,s=0;case 4:if(!(s<n.length)){u.next=15;break}return u.next=7,V.fetch(n[s]);case 7:if(!(u.sent.indexOf("* Author: Dynamsoft Support Team")>0)){u.next=10;break}return u.abrupt("continue",12);case 10:return o=!1,u.abrupt("break",15);case 12:s++,u.next=4;break;case 15:u.next=20;break;case 17:u.prev=17,u.t0=u.catch(1),o=!1;case 20:if(o){u.next=22;break}throw{code:-2804,message:"Loading the WebTwain css files failed."};case 22:return u.abrupt("return",o);case 23:case"end":return u.stop()}},r,null,[[1,17]])}))).apply(this,arguments)}function AU(){if(Ie.loadResourcePath||!Ie.loadingResourcePath)return pg&&pg(),void(pg=null);setTimeout(AU,100)}function Tf(r){if(Nr("Loading css..."),wU(),Ie.loadResourcePath||Ie.loadingResourcePath)return Ie.loadResourcePath||!Ie.loadingResourcePath?V.Promise.resolve():(pg=null,new V.Promise(function(f){pg=f,setTimeout(AU,100)}));Ie.loadingResourcePath=!0,(B.DWT.Port>0||B.DWT.SSLPort>0)&&(V.detect.ports=[{port:B.DWT.Port,ssl:!1},{port:B.DWT.SSLPort,ssl:!0}],ea.removeItem("DWT_port"),ea.removeItem("DWT_ssl")),p.each(V._funsAfterConfigLoaded,function(f){try{p.isFunction(f)&&f()}catch{}});var n=p.sizzle(".dynamsoft_waiting");if(n&&n.length>0){var o=n[0];o.parentNode&&o.parentNode.removeChild(o)}var s=ds(),u="";!ue.bFileSystem&&B.DWT.IfResourcesAddTimestamp&&(u=V.timestamp);var l=rt,c=[];return ue.bSafari&&(l=xe),c.push([s,"/dynamsoft.webtwain.install.js",u].join("")),B.DWT.bNpm&&(c=[]),Ie.bHTML5Edition&&B.DWT.UseDefaultViewer&&(Nr("Loading the viewer script..."),c.push([s,"/src/dynamsoft.webtwain.viewer.js",u].join(""))),B.DWT.IfLoadResources||(c=[]),function(){_E.apply(this,arguments)}(),c.length==0?(xU(),Ie.loadResourcePath=!0,void(Ie.loadingResourcePath=!1)):new V.Promise(function(f,m){p.addScripts(c,l,!1,function(v){var S=v;if(Ie.bHTML5Edition&&B.DWT.UseDefaultViewer&&!p.isFunction(B.DWTViewer)&&(S=!1),ue.bIE&&Ie.bActiveXEdition&&(p.isFunction(B.DWT._innerLoad)||(S=!1)),!S)return Ie.loadingResourcePath=!1,void m({code:-2803,message:"Loading the WebTwain JavaScript source files failed."});xU(),Ie.loadResourcePath=!0,Ie.loadingResourcePath=!1,B.DWT.OnWebTwainWillInit&&B.DWT.OnWebTwainWillInit(),f()})})}function xU(){if(!(V.bNode||ue.bJSDom)){if(p.isArray(B.aryAddonReadyFun)){for(var r=0,n=function(){var o=B.aryAddonReadyFun[r];if(p.isFunction(o))try{o(V)}catch(s){p.log(s.stack||s,"error"),setTimeout(function(){throw s},0)}};r<B.aryAddonReadyFun.length;r++)n();B.aryAddonReadyFun=[]}}}p.mix(V,Rce),V.Addon_Events=[],V.Addon_Sendback_Events=[];var gg=[],mg=[];function yE(){var r,n=gg.length;for(r=0;r<n;r++)gg[r]();gg.splice(0),mg.splice(0),vg=0}function PU(){if(vg>0&&new Date().getTime()-vg>SE){var r,n={code:-2802,message:"The file dynamsoft.webtwain.config.js timed out while loading."},o=B.DWT.Containers;o&&o.length!==0||(QR(r={}),n={code:r._errorCode,message:r._errorString}),function(f){var m,v=mg.length;for(m=0;m<v;m++)mg[m](f);gg.splice(0),mg.splice(0),vg=0}(n)}else if(B.DWT.Containers||B.DWT.ProductKey||B.DWT.licenseServer||B.DWT.organizationID||B.DWT.handshakeCode||B.DWT.bNpm||B.DWT.AutoLoad==0){if(Ie.dwtConfigLoading)return;if(Ie.dwtConfigLoaded)return void yE();Ie.dwtConfigLoading=!0;var s=ds();if(p.isArray(B.DWT.Containers)||(B.DWT.Containers=[]),ue.bIE){var u=ue.IEVersion;if((u===""||u>=10)&&B.DWT.IfUseActiveXForIE10Plus){var l=xe;ue.bHTML5Edition=l,Ie.bHTML5Edition=l,Ie.bActiveXEdition=!0,Ie.bChromeEdition=Ie.bHTML5Edition}}if(Ie.bActiveXEdition&&B.DWT.IfLoadResources){var c="";!ue.bFileSystem&&B.DWT.IfResourcesAddTimestamp&&(c=V.timestamp),p.addScript([s,"/src/dynamsoft.webtwain.activex.js",c].join(""),!0,!1,function(){Ie.dwtConfigLoaded=!0,Ie.dwtConfigLoading=!1,yE()})}else Ie.dwtConfigLoaded=!0,Ie.dwtConfigLoading=!1,yE()}else setTimeout(PU,100)}var kU,SE=3e3,vg=0;function D0(r){return Nr("Loading the config script..."),Ie.dwtConfigLoaded?V.Promise.resolve():(r&&(SE=1e3*parseInt(r))<1&&(SE=1),new V.Promise(function(n,o){gg.push(n),mg.push(o),hg(function(){vg=new Date().getTime(),setTimeout(PU,100)})}))}function DU(){var r;(r=B.DWT.WebTwainIdMap)&&p.each(r,function(n,o){n&&n._OnPageBlur&&n._OnPageBlur()})}if(Ie.bActiveXEdition){var RU=function(){var r,n,o,s,u;if(B.DWT.lunload(),V.closeAll&&V.closeAll(),s=B.DWT.ContainerMap)for(u=Object.keys(s),r=0;r<u.length;r++)(o=u[r])&&o in s&&(n=s[o])&&(n.__unload(),delete s[o]);if(s=B.DWT.WebTwainIdMap)for(u=Object.keys(s),r=0;r<u.length;r++)(o=u[r])&&o in s&&(n=s[o])&&(n.__unload(),delete s[o]);for(r=0;r<V.product.unloadQueue.length;r++){var l=V.product.unloadQueue[r];V.isFunction(l)&&l()}return V.product.unloadQueue.splice(0),V.detect.arySTwains.splice(0),V.Promise.resolve()},bE=!1;B.DWT.Unload=function(){RU();try{B.DWT.CloseDialog(),V._zdgb_xkz_dhk(),V.closeProgress(null,""),V.hideMask()}catch{}},B.DWT.Load=function(){if(!V.product.bDWTLoading)return V.product.bDWTLoading=!0,V.detect.axAutoLoadDone=!1,D0().then(Tf).then(RU).then(function(){return B.DWT._innerLoad()}).then(function(){V.product.bDWTLoading=!1,V.detect.axAutoLoadDone=!0},function(r){V.product.bDWTLoading=!1,V.detect.axAutoLoadDone=!1,s_(r)})},B.DWT.ConnectToTheService=B.DWT.Load,B.DWT.CheckConnectToTheService=function(r,n,o,s){V.product.bActiveXEdition?V.isFunction(s)&&s():V.isFunction(o)&&o()},B.DWT.CreateDWTObject=function(r,n,o,s,u,l){return V._safePromptCustomMsg(function(){l&&l(gR)}),bE},B.DWT.CreateDWTObjectEx=function(r,n,o){return V._safePromptCustomMsg(function(){o&&o(gR)}),bE},B.DWT.CreateRemoteScanObjectAsync=function(){var r={};return Fe(r,-2433,"The ActiveX edition does not support this method or property."),V.Promise.reject({code:r._errorCode,message:r._errorString})},B.DWT.DeleteDWTObject=function(r){return bE}}function TE(){return!(function(r){if(p.isString(r)){if(r=="localhost"||r=="127.0.0.1")return!0;var n=r.split(".");if(n.length==4&&/^(([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])$/.test(r)){var o=parseInt(n[0]),s=parseInt(n[1]);if(o==127||o==10||o==169&&s==254||o==172&&s>=16&&s<=31||o==192&&s==168)return!0}}return!1}(location.hostname)||ue.bSSL||ue.bFileSystem||!((ue.bChrome||ue.bEdge)&&parseInt(ue.strBrowserVersion)>=94))}function FU(r,n,o,s){return CE.apply(this,arguments)}function CE(){return CE=a(E().mark(function r(n,o,s,u){var l,c;return E().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(o!=Br.GET_TASKID){f.next=4;break}return f.abrupt("return",u.taskId);case 4:if(o!=Br.ONMESSAGE_PROCESS_DATA){f.next=8;break}return f.abrupt("return",p.parse(n));case 8:if(o!=Br.ONMESSAGE_GET_TASKID){f.next=13;break}if(!u||!u.client){f.next=11;break}return f.abrupt("return",u.client.getRequestTaskId());case 11:f.next=20;break;case 13:if(o!=Br.HANDLE_RAW_MESSAGE){f.next=20;break}if(l=u==null?void 0:u.userData){f.next=17;break}return f.abrupt("return",!1);case 17:return(c=n).indexOf("Version not found")>=0||c.indexOf("Function not found")>=0?p.isFunction(l.fFun)&&l.fFun():p.isFunction(l.sFun)&&l.sFun(c),f.abrupt("return",c);case 20:case"end":return f.stop()}},r)})),CE.apply(this,arguments)}function OU(){Ie.loadResourcePath?(Nr(mF),kU()):setTimeout(OU,100)}function R0(){return Ie.loadResourcePath?(Nr(mF),V.Promise.resolve()):new V.Promise(function(r,n){kU=r,setTimeout(OU,100)})}function NU(r){var n,o,s=r.WebTwainId,u=r.Host,l=r.Port,c=r.SSLPort;return o={},p.isString(s)&&s!==""?o.id=s:o.id=s=MF(),p.isDOM(r.Container)?(n=r.Container,p.isString(n.id)&&n.id!==""||(n.id=["dwt_node_",p.getRandom()].join("")),o.container=n,o.bNoViewer=!1):o.bNoViewer=!0,o.bNoViewer?(o.width=0,o.height=0):(p.isUndefined(r.Width)?n.style.width?o.width=n.style.width:o.width=300:o.width=r.Width,p.isUndefined(r.Height)?n.style.height?o.height=n.style.height:o.height=300:o.height=r.Height),o.dmService=r.dmService,p.isString(u)&&u!=""||(u=si()),o.host=u,l||(l=B.DWT.Port),o.port=l,c||(c=B.DWT.SSLPort),o.sslPort=c,o}function LU(r,n,o){if(r){var s=n??270,u=o??350;s<=0&&(s=270),u<=0&&(u=350),Te.one(r).before(V.install._strNonInstallDIV);var l=p.get(V.install._divDWTNonInstallContainerID);l&&(l.style.width=s,l.style.height=u),p.show(V.install._divDWTNonInstallContainerID)}}function lu(r){var n=Ni.getDSPath();if(V.install._divDWTemessageContainer!=""&&p.hide(V.install._divDWTemessageContainer),ue.bMac)r?p.isFunction(B.OnWebTwainNeedUpgradeCallback)&&B.OnWebTwainNeedUpgradeCallback(Ie.name,{default:n},Ie.bHTML5Edition,Et.enumMac,ue.bIE,ue.bSafari,V.detect.ssl,Wr.strIEVersion):p.isFunction(B.OnWebTwainNotFoundOnMacCallback)&&B.OnWebTwainNotFoundOnMacCallback(Ie.name,n,Ie.bHTML5Edition,ue.bIE,ue.bSafari,V.detect.ssl,Wr.strIEVersion);else if(ue.bLinux||B.navInfo.bEmbed||ue.bChromeOS||Wr.bMobile){var o,s,u=Ni.getEnumPlatform();if(B.navInfo.bEmbed||ue.bAndroid||ue.bChromeOS||ue.bHarmonyOS?o=n:(o=Ni.getLinuxHTML5DebPath(),s=Ni.getLinuxHTML5RpmPath()),r){if(ue.bAndroid)p.isFunction(B.OnWebTwainNeedUpgradeOnAndroidCallback)&&B.OnWebTwainNeedUpgradeOnAndroidCallback(Ie.name,n,V.detect.ssl);else if(p.isFunction(B.OnWebTwainNeedUpgradeCallback)){var l={default:o};ue.bLinux&&(l.deb=o,l.rpm=s),B.OnWebTwainNeedUpgradeCallback(Ie.name,l,Ie.bHTML5Edition,u,ue.bIE,ue.bSafari,V.detect.ssl,Wr.strIEVersion)}}else ue.bAndroid?p.isFunction(B.OnWebTwainNotFoundOnAndroidCallback)&&B.OnWebTwainNotFoundOnAndroidCallback(Ie.name,n,V.detect.ssl,!1):!Or.bFullEdition&&Wr.bMobile?p.isFunction(B.OnMobileNotSupportCallback)&&B.OnMobileNotSupportCallback():p.isFunction(B.OnWebTwainNotFoundOnLinuxCallback)&&B.OnWebTwainNotFoundOnLinuxCallback(Ie.name,o,s,Ie.bHTML5Edition,ue.bIE,ue.bSafari,V.detect.ssl,Wr.strIEVersion,u)}else if(ue.bChrome||ue.bSafari||ue.bFirefox||ue.bOpera||B.DWT.IfUseActiveXForIE10Plus==Tt||!B.DWT.ActiveXInstallWithCAB&&ue.bIE)if(r){if(p.isFunction(B.OnWebTwainNeedUpgradeCallback)){var c={default:n};B.OnWebTwainNeedUpgradeCallback(Ie.name,c,Ie.bHTML5Edition,Et.enumWindow,ue.bIE,ue.bSafari,V.detect.ssl,Wr.strIEVersion)}}else p.isFunction(B.OnWebTwainNotFoundOnWindowsCallback)&&B.OnWebTwainNotFoundOnWindowsCallback(Ie.name,n,Ie.bHTML5Edition,ue.bIE,ue.bSafari,V.detect.ssl,Wr.strIEVersion)}B.DWT.GetWebTwain=B.DWT.GetWebTwainEx=function(r){var n=r,o=B.DWT.WebTwainIdMap;if(!n){var s=Object.keys(o);return s.length>0?o[n=s[0]]:void 0}if(n in o)return o[n];var u=B.DWT.ContainerMap;return n in u?u[n]:void 0},B.DWT.NeedCheckWebTwainBySocket=TE,B.DWT.CheckWebTwainBySocket=function(r,n,o){var s,u,l,c=V.detect.urls;if(c&&c.length>0){var f=c[0];s=f.host||si(),u=f.port,l=f.ssl}else ao(s=si())?(l=!(!ue.bSSL||!ue.bSafari),s=Or.hostForCheckCert):l=ue.bSSL,u=l?B.DWT.SSLPort:B.DWT.Port;(function(m,v,S,_){var b,I=p.now(),A=p.guid(),P={id:A,method:"VersionInfo",version:[Ie.getDWTPrefix(),Or.getVersionStrForCheck()].join("")},L=FU,$={cmdId:A,cmd:null,sFun:v,fFun:S,rawData:!0},ee=cT();b={client:m,userData:$,taskId:I},m.setRetry(0),m.request(p.stringify(P),L,b,ee).then(function(q){return m.dispose(),q},function(){p.isFunction(_)&&_(),m.dispose()})})(Js.getWsClient(s,u,l,!0),r,n,o)},B.DWT.IsLocalServiceConnected=function(){return new V.Promise(function(r,n){var o,s=si();p.each(V.detect.ports,function(u){ue.bSSL?u.ssl&&(o=u.port):u.ssl||(o=u.port)}),B.DWT.CheckConnectToTheService(s,o,function(u,l,c){r(!0)},function(){n(!1)})})},V.detect.onNoControl=function(r,n,o,s){s&&s._bRemoteMode&&!s._bNotShowMessage?p.isFunction(B.OnRemoteWebTwainNotFoundCallback)&&B.OnRemoteWebTwainNotFoundCallback(Ie.name,s._serverInfo.server,s._serverInfo.port,s._serverInfo.ssl,Wr.bMobile):(LU(r,n,o),lu(!1))};var MU=!1;function Oce(r,n){ao(r)&&(ea.item("DWT_port",n),ea.item("DWT_ssl",ue.bSSL?"true":"false"))}function IE(r,n,o,s,u){return WU.apply(this,arguments)}function WU(){return(WU=a(E().mark(function r(n,o,s,u,l){var c,f,m,v,S,_,b,I,A,P,L,$,ee,q,Q,J,te,H,k,M,U,G,z,Z,ie,se;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(B.DWT.OnWebTwainInitMessage&&B.DWT.OnWebTwainInitMessage("Checking WebTwain version ...",Dl.Info),f=!1,m=!1,v=!1,S=B.DWT.ConnectWithSocket,l&&(l.bRemoteServer&&(v=!0),l.bConnectWithSocket&&(S=!0),l.bCheckCert&&(m=!0)),_=p.now(),b=['{"id":"',p.guid(),'","method":"VersionInfo","version":"',Ie.getDWTPrefix(),Or.getVersionStrForCheck(),'"}'].join(""),I=!S&&!ue.bSSL,re.prev=6,!S){re.next=18;break}return P=p.now(),L=FU,$={client:A,userData:{cmdId:P,cmd:null,sFun:null,fFun:null,rawData:!0},taskId:P},(A=Js.getWsClient(n,o,s)).setRetry(0),re.next=14,A.request(b,L,$,u);case 14:c=re.sent,f=!0,re.next=25;break;case 18:return ee="fa/VersionInfo?v=1&ts="+_,q=Js.getHttpClient(n,o,s),Q={},I&&(Q.redirect="manual"),re.next=24,q.request(b,ee,Q,u);case 24:c=re.sent;case 25:re.next=42;break;case 27:if(re.prev=27,re.t0=re.catch(6),p.log(["check DWT Version failed",p.stringify(re.t0)]),!f){re.next=34;break}re.next=42;break;case 34:if(!I){re.next=38;break}if((re.t0&&re.t0.code)!=kt.HTTPRedirected){re.next=38;break}throw tF();case 38:throw ip(J={}),B.DWT.OnWebTwainInitMessage&&B.DWT.OnWebTwainInitMessage(J._errorString,Dl.Error),{code:J._errorCode,message:J._errorString};case 42:if(te="",H="",k={},M=!1,c&&(U=p.parse(c)),!U||!("exception"in U)){re.next=49;break}uo(U)?(k._errorCode=U.exception,k._errorString=U.description):k._errorCode=kt.CommonError,re.next=91;break;case 49:if(!U||!("result"in U)){re.next=90;break}if(U=U.result,!(p.isArray(U)&&U.length>0)){re.next=87;break}if(G=U[0],te=U.length>1?U[1]:"",z=U.length>2?U[2]:0,Z=U.length>3?U[3]:"",H=U.length>4?U[4]:"",te!==""){re.next=84;break}if(ie="The WebTwain version is: "+G,B.DWT.OnWebTwainInitMessage&&B.DWT.OnWebTwainInitMessage(ie,Dl.Info),z=="32"&&ao(n)&&(Pt.b64bit=!1),ao(n)&&(B.DWT.li({instanceMode:B.DWT.lgdt()},"")||Z!=""&&(B.DWT.lsmid(Z,""),B.DWT.lsmid2b(Z))),(p.isFunction(B.DWT.OnSSLCertInfo)||p.isFunction(B.OnSSLCertInfo))&&(H!=""&&(se=Date.parse(H+"T00:00:00"),se=isNaN(se)?null:new Date(se)),MU||(p.isFunction(B.DWT.OnSSLCertInfo)?B.DWT.OnSSLCertInfo(se):p.isFunction(B.OnSSLCertInfo)&&B.OnSSLCertInfo(se)),MU=!0),!m){re.next=71;break}if(H!=""){re.next=68;break}throw{code:kt.SSLCertInvalid,message:"The Dynamsoft Service SSL certificate is invalid."};case 68:if(!CU(H)){re.next=71;break}throw{code:kt.SSLCertExpired,message:"The Dynamsoft Service SSL certificate has expired."};case 71:if(!p.isString(G)||G==""){re.next=81;break}if(Nr("Checking the WebTwain version..."),!v&&!T$(G,Ie.getServerVersionInfo(!0))){re.next=77;break}return re.abrupt("return",{host:n,port:o,bSSL:s,version:G,certExpiredDate:se});case 77:Nr(_F),Td(k);case 79:re.next=82;break;case 81:M=!0;case 82:re.next=85;break;case 84:te==="Version not found"?Td(k):g9(k,te);case 85:re.next=88;break;case 87:M=!0;case 88:re.next=91;break;case 90:M=!0;case 91:throw M&&Mi(k),B.DWT.OnWebTwainInitMessage&&B.DWT.OnWebTwainInitMessage(k._errorString,Dl.Error),{code:k._errorCode,message:k._errorString};case 94:case"end":return re.stop()}},r,null,[[6,27]])}))).apply(this,arguments)}function BU(r,n,o){return wE.apply(this,arguments)}function wE(){return wE=a(E().mark(function r(n,o,s){var u,l,c,f,m,v;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!Ie.bDWTChecked){S.next=2;break}return S.abrupt("return");case 2:return c=ue.bSSL?s:o,u=ue.bSSL?s:o,l=ue.bSSL,S.prev=5,S.next=8,UU(n,u,l,rt);case 8:f=S.sent,S.next=18;break;case 11:if(S.prev=11,S.t0=S.catch(5),S.t0.code!=kt.MustUpgrade){S.next=16;break}throw lu(!0),S.t0;case 16:return S.next=18,Lce(n,o,s);case 18:if(!TE()||B.DWT.ConnectWithSocket){S.next=21;break}return S.next=21,Mce(n,c);case 21:return m=f.host,v=f.port,V.detect.dcpStatus=2,Oce(m,v),S.next=26,wF(!1,!0);case 26:if(!ui()||!ao(n)){S.next=30;break}if(B.DWT.li({instanceMode:B.DWT.lgdt()},"")){S.next=30;break}throw{code:-2827,message:"Failed to get Machine ID."};case 30:Ie.bDWTChecked=!0;case 31:case"end":return S.stop()}},r,null,[[5,11]])})),wE.apply(this,arguments)}function UU(r,n,o,s){return VU.apply(this,arguments)}function VU(){return(VU=a(E().mark(function r(n,o,s,u){var l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return Nr("Checking the WebTwain module..."),o||p.each(V.detect.ports,function(f){ue.bSSL?f.ssl&&(o=f.port):f.ssl||(o=f.port)}),c.prev=2,c.next=5,IE(n,o,s,u?cT():qh(),{bConnectWithSocket:u});case 5:l=c.sent,c.next=12;break;case 8:throw c.prev=8,c.t0=c.catch(2),V.detect.dcpStatus=3,c.t0;case 12:return Nr("Check the WebTwain version successfully."),!Or.versionInfoFromServer&&ao(l.host)&&(Or.versionInfoFromServer=l.version),c.abrupt("return",l);case 15:case"end":return c.stop()}},r,null,[[2,8]])}))).apply(this,arguments)}function Nce(r,n,o,s,u){jU(r,n,{bRemoteServer:!0,bConnectWithSocket:o},s,u)}function jU(r,n,o,s,u){var l=0,c=r,f=n,m=V.detect.ssl,v=s,S=u;if(p.isFunction(c)&&p.isFunction(f)){for(v=c,S=f,c=si(),l=0;l<V.detect.ports.length;l++)if(ue.bSSL&&V.detect.ports[l].ssl||!ue.bSSL&&!V.detect.ports[l].ssl){f=V.detect.ports[l].port,m=ue.bSSL;break}}c||(c=si()),IE(c,f,m,qh(),o).then(function(_){var b=_.host,I=_.port,A=_.version;p.isFunction(v)&&v(b,I,A)},function(_){p.isFunction(S)&&S(_)})}function Lce(r,n,o){return EE.apply(this,arguments)}function EE(){return EE=a(E().mark(function r(n,o,s){var u,l,c,f,m,v,S;return E().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(u=ue.bSSL?s:o,!ue.bSSL||ue.bSafari||ue.bMobile||ue.bAndroid){_.next=45;break}if(_.prev=2,!B.DWT.ConnectWithSocket&&B.DWT.IfCheckCORS==1){_.next=7;break}throw ip(l={}),{code:l._errorCode,message:l._errorString};case 7:return _.next=9,AE(n,u,!1);case 9:_.next=43;break;case 11:if(_.prev=11,_.t0=_.catch(2),(c=_.t0.code)!=kt.CORSErrorFromService&&c!=kt.SSLCertExpired&&c!=kt.SSLCertInvalid){_.next=18;break}throw _.t0;case 18:if(c!=kt.MustUpgrade){_.next=21;break}throw lu(!0),_.t0;case 21:if(_.prev=21,B.DWT.IfCheckCert==1){_.next=26;break}throw ip(f={}),{code:f._errorCode,message:f._errorString};case 26:return _.next=28,IE(Jh,o,!1,cT(),{bConnectWithSocket:!0,bCheckCert:!0});case 28:_.sent,_.next=43;break;case 31:if(_.prev=31,_.t1=_.catch(21),(m=_.t1.code)!=kt.CORSErrorFromService&&m!=kt.SSLCertExpired&&m!=kt.SSLCertInvalid){_.next=38;break}throw _.t1;case 38:if(m!=kt.MustUpgrade){_.next=41;break}throw lu(!0),_.t1;case 41:throw ao(n)?lu(!1):p.isFunction(B.OnRemoteWebTwainNotFoundCallback)&&B.OnRemoteWebTwainNotFoundCallback(Ie.name,n,u,ue.bSSL,Wr.bMobile),_.t1;case 43:case 52:_.next=66;break;case 45:if(_.prev=45,!B.DWT.ConnectWithSocket&&B.DWT.IfCheckCORS!=0){_.next=50;break}throw ip(v={}),{code:v._errorCode,message:v._errorString};case 50:return _.next=52,AE(n,u,!1);case 54:if(_.prev=54,_.t2=_.catch(45),(S=_.t2.code)!=kt.CORSErrorFromService&&S!=kt.SSLCertExpired&&S!=kt.SSLCertInvalid){_.next=61;break}throw _.t2;case 61:if(S!=kt.MustUpgrade){_.next=64;break}throw lu(!0),_.t2;case 64:throw ao(n)?lu(!1):p.isFunction(B.OnRemoteWebTwainNotFoundCallback)&&B.OnRemoteWebTwainNotFoundCallback(Ie.name,n,u,ue.bSSL,Wr.bMobile),_.t2;case 66:throw yT();case 67:case"end":return _.stop()}},r,null,[[2,11],[21,31],[45,54]])})),EE.apply(this,arguments)}function Mce(r,n){return GU.apply(this,arguments)}function GU(){return(GU=a(E().mark(function r(n,o){return E().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",AE(n,o,!0));case 1:case"end":return s.stop()}},r)}))).apply(this,arguments)}function AE(r,n,o){return zU.apply(this,arguments)}function zU(){return(zU=a(E().mark(function r(n,o,s){var u,l,c;return E().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(f.prev=0,B.DWT.ConnectWithSocket){f.next=5;break}return f.next=4,UU(n,o,ue.bSSL,xe);case 4:u=f.sent;case 5:f.next=14;break;case 7:throw f.prev=7,f.t0=f.catch(0),l=f.t0,(c=f.t0.code)==kt.ResponseDataTypeError||c==kt.HTSTError||c==kt.CORSError||c==kt.SSLCertExpired||c==kt.SSLCertInvalid||c==kt.MustUpgrade||(c==kt.CORSErrorFromService?p.isFunction(B.OnCorsConfigError)&&B.OnCorsConfigError(f.t0.message):ao(n)&&s&&TE()&&(l={code:kt.CORSError,message:'The Connection from the insecure (HTTP) web page to the local "Dynamsoft Service" failed!'},c=l.code)),c==kt.CORSError&&p.isFunction(B.OnHTTPCorsError)&&B.OnHTTPCorsError(l.message),l;case 14:return f.abrupt("return",u);case 15:case"end":return f.stop()}},r,null,[[0,7]])}))).apply(this,arguments)}function Wce(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function gc(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var du=new WeakSet,Bce=function(r){function n(){var v;h(this,n);for(var S=arguments.length,_=new Array(S),b=0;b<S;b++)_[b]=arguments[b];return Wce(v=d(this,n,[].concat(_)),du),v}return F(n,r),y(n,[{key:"SetCookie",value:function(v){return this._cookie=v,document.cookie=v,rt}},{key:"LoadImageFromBase64Binary",value:function(v,S,_,b){var I=this,A=!1;if(p.isFunction(_)&&(A=!0),I._resetErr(),!I._isValid())return p.isFunction(b)&&ft(b,I),!!A&&void 0;if(!v)return $t(I),p.isFunction(b)&&ft(b,I),!!A&&void 0;var P,L,$,ee,q,Q=v,J="LoadImageFromBase64Binary",te=S,H=1;if(Q instanceof eE&&p.isFunction(Q.getLength)&&p.isFunction(Q.getData)&&(Q=Q.getData(0,Q.getLength())),p.isString(Q))if(Q.indexOf("data:image/bmp")!=-1)te=0;else if(Q.indexOf("data:image/jpeg")!=-1)te=1;else if(Q.indexOf("data:image/tif")!=-1)te=2;else if(Q.indexOf("data:image/png")!=-1)te=3;else if(Q.indexOf("data:application/pdf")!=-1)te=4;else if(Q.indexOf("data:image/jp2")!=-1)te=14;else{var k=Q.substr(0,64),M=p.base64.decode(k,!0);$=M,ee=B.DWT.EnumDWT_ImageType,q=$,($ instanceof ArrayBuffer||$ instanceof Array)&&(q=new Uint8Array($.slice(0,12))),te=function(z){return z[0]==37&&z[1]==80&&z[2]==68&&z[3]==70}(q)?ee.IT_PDF:function(z){return z[0]==73&&z[1]==73&&z[2]==42&&z[3]==0||z[0]==77&&z[1]==77&&z[2]==0&&z[3]==42}(q)?ee.IT_TIF:function(z){return z[0]==137&&z[1]==80&&z[2]==78&&z[3]==71}(q)?ee.IT_PNG:function(z){return z[0]==255&&z[1]==216}(q)?ee.IT_JPG:function(z){return z[0]==66&&z[1]==77}(q)?ee.IT_BMP:function(z){return z[0]==0&&z[1]==0&&z[2]==0&&z[3]==12&&z[4]==106&&z[5]==80&&z[6]==32&&z[7]==32||z[0]==255&&z[1]==79&&z[2]==255&&z[3]==81}(q)?ee.IT_J2K:ee.IT_PNG}if(te!=B.DWT.EnumDWT_ImageType.IT_BMP&&te!=B.DWT.EnumDWT_ImageType.IT_JPG&&te!=B.DWT.EnumDWT_ImageType.IT_TIF&&te!=B.DWT.EnumDWT_ImageType.IT_PNG&&te!=B.DWT.EnumDWT_ImageType.IT_PDF&&te!=B.DWT.EnumDWT_ImageType.IT_J2K&&(te=-1),!_t.checkProductKey(I,{Core:!0})||!_t.checkPDFProductKeyWhenNeeds(I,te))return p.isFunction(b)&&ft(b,I),!!A&&void 0;if(p.isString(Q)&&Q.indexOf("base64,")!=-1&&(Q=Q.substr(Q.indexOf("base64,")+7)),L=I.__GetLoadEventsNum(),!A){var U=I._getCurrentDocumentName(),G=I._getCurrentDefaultTagName();return(P=I.__innerLoadImageFun(J,Ve(Q,te,L,H),H,U,G))&&I._canConsume()&&B.DWT.lcvrf(I),P}V.cancelFrom=Lt.LoadImage,I.IfShowProgressBar?V.showProgress(I,J,I.__IfShowCancelDialogWhenImageTransfer):V.hideProgress(),I.__bLoadingImage=!0,H=0,I._innerSend(J,Ve(Q,te,L,H),!0,function(){if(V.closeProgress(null,J),I.__bLoadingImage=!1,I._isBindViewer()){var z=I._ImgManager.getCurrentImageIndex();z>=0&&I._innerRefreshUI(z)}I._canConsume()&&B.DWT.lcvrf(I),_&&_(Q,S)},function(){V.closeProgress(null,J),I.__bLoadingImage=!1,p.isFunction(b)&&b(I._errorCode,I._getErrorString(),Q,S)})}},{key:"SaveSelectedImagesToBytes",value:function(v,S){return ep(this),xe}},{key:"LoadImageFromBytes",value:function(v,S,_){return ep(this),xe}},{key:"SetImageWidth",value:function(v,S,_,b){var I,A=this,P=!1;if(p.isFunction(_)&&(P=!0),A._resetErr(),!A._isValid())return!!P&&void 0;var L=parseInt(v);if(isNaN(L))return Ot(A),p.isFunction(b)&&b(A._errorCode,A._getErrorString()),!!P&&void 0;if(L<0||L>=A._ImgManager.count())return qe(A),p.isFunction(b)&&b(A._errorCode,A._getErrorString()),!!P&&void 0;if(p.isUndefined(S))return $t(A),p.isFunction(b)&&b(A._errorCode,A._getErrorString()),!!P&&void 0;var $=A._ImgManager.convertClientIndexToServerId(L);return $==-1?(qe(A),p.isFunction(b)&&b(A._errorCode,A._getErrorString()),!!P&&void 0):((I=A._innerFun("SetImageWidth",Ve($,S))==1)?p.isFunction(_)&&_():p.isFunction(b)&&b(A._errorCode,A._getErrorString()),P?void 0:I)}},{key:"HTTPDownloadStreamThroughPost",value:function(v,S){return ep(this),xe}},{key:"HTTPUploadStreamThroughPost",value:function(v,S,_,b,I){return ep(this),xe}},{key:"HTTPUploadThroughPutDirectly",value:function(v,S,_,b,I){return ep(this),!1}},{key:"SetCustomDSDataEx",value:function(v){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCustomDSDataEx",Ve(v))}},{key:"SetCustomDSData",value:function(v){if(this._resetErr(),!this._isValid())return!1;var S=xt.replaceLocalFilename(v);return this._innerFun("SetCustomDSData",Ve(S))}},{key:"GetCustomDSDataEx",value:function(){var v=this;return v._resetErr(),!!v._isValid()&&v._innerFun("GetCustomDSDataEx")}},{key:"GetCustomDSData",value:function(v){var S=this;if(S._resetErr(),!S._isValid())return!1;var _=xt.replaceLocalFilename(v);return S._innerFun("GetCustomDSData",Ve(_))}},{key:"on",value:function(v,S){return this.registerEvent(v,S)}},{key:"off",value:function(v,S){return this.unregisterEvent(v,S)}},{key:"ConvertToBW",value:function(v,S,_){var b=this,I=!1;if(p.isFunction(S)&&(I=!0),b._resetErr(),!b._isValid())return!!I&&void 0;if(!_t.checkProductKey(b,{Core:!0}))return p.isFunction(_)&&_(b._errorCode,b._getErrorString()),!!I&&void 0;var A=parseInt(v);if(isNaN(A))return Ot(b),p.isFunction(_)&&_(b._errorCode,b._getErrorString()),!!I&&void 0;if(A<0||A>=b._ImgManager.count())return qe(b),p.isFunction(_)&&_(b._errorCode,b._getErrorString()),!!I&&void 0;var P=b._ImgManager.convertClientIndexToServerId(A);if(P==-1)return qe(b),!1;var L=b._innerFun("ConvertToBW",Ve(P));return L?p.isFunction(S)&&S():p.isFunction(_)&&_(b._errorCode,b._getErrorString()),I?void 0:L}},{key:"LoadImageFromBinary",value:function(v,S,_){var b,I,A=this,P="LoadImageFromBinary",L=!1;p.isFunction(S)&&(L=!0);var $=(b=V.progressContext)===null||b===void 0?void 0:b.IfShowCancelDialogWhenImageTransfer;return L&&(A.IfShowProgressBar?(V.showProgress(A,P,!1),V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=!1)):V.hideProgress()),I=A._innerLoadImageFromBinary(v,0,!0,L,function(){V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=$),p.isFunction(S)&&(A.IfShowProgressBar&&V.closeProgress(null,P),S())},function(ee,q){V.progressContext&&(V.progressContext.IfShowCancelDialogWhenImageTransfer=$),p.isFunction(S)&&A.IfShowProgressBar&&V.closeProgress(null,P),p.isFunction(_)&&_(ee,q)}),L?void 0:I}},{key:"EnableSourceUI",value:function(v,S){var _=this;return _._resetErr(),!!_._isValid()&&(_._innerSend("EnableSourceUI",null,!0,v,S),!0)}},{key:"GetIfShowVideoContainer",value:function(){return this._UIView.GetIfShowVideoContainer()}},{key:"ShowVideoContainer",value:function(v){return this._UIView.ShowVideoContainer(v)}},{key:"UpdateVideoContainer",value:function(v){return this._UIView.UpdateVideoContainer(v)}},{key:"ChangeBitDepth",value:function(v,S,_){var b,I=this;if(I._resetErr(),!I._isValid())return!1;if(b=parseInt(v),isNaN(b))return Ot(I),!1;if(b<0||b>=I._ImgManager.count())return qe(I),!1;var A=I._ImgManager.convertClientIndexToServerId(b);return A==-1?(qe(I),!1):I._innerFun("ChangeBitDepth",Ve(A,S,_))}},{key:"ConvertToGrayScale",value:function(v,S,_){var b,I=this,A=!1;if(p.isFunction(S)&&(A=!0),I._resetErr(),!I._isValid())return!!A&&void 0;var P=parseInt(v);if(isNaN(P))return Ot(I),p.isFunction(_)&&_(I._errorCode,I._getErrorString()),!!A&&void 0;if(P<0||P>=I._ImgManager.count())return qe(I),p.isFunction(_)&&_(I._errorCode,I._getErrorString()),!!A&&void 0;var L=I._ImgManager.convertClientIndexToServerId(P);return L==-1?(qe(I),p.isFunction(_)&&_(I._errorCode,I._getErrorString()),!!A&&void 0):((b=I._innerFun("ConvertToGrayScale",Ve(L))==1)?(xt.refreshImageAfterInvokeFun(I,P),p.isFunction(S)&&S()):p.isFunction(_)&&_(I._errorCode,I._getErrorString()),A?void 0:b)}},{key:"ClearTiffCustomTag",value:function(){var v=this;return v._resetErr(),!!v._isValid()&&(v._aryTiffTag.splice(0,v._aryTiffTag.length),v._innerFun("ClearTiffCustomTag"))}},{key:"SetTiffCustomTag",value:function(v,S,_){var b=this;if(b._resetErr(),!b._isValid())return!1;if(p.isUndefined(v)||p.isUndefined(S))return $t(b),!1;var I,A=1*v;if(I=p.isString(S)?p.replaceAll(S,'"','\\"'):S,A<=0||A>2147483647)return Fe(b,-2378,"Invalid value for the tiff tag code."),!1;var P,L=0,$=!1,ee=b._aryTiffTag.length;for(L=0;L<ee;L++)(P=b._aryTiffTag[L]).tag==A&&(P.Content=S,P.UseBase64Encoding=_,$=!0);return!$&&ee>=32?(function(q){Fe(q,-2428,"Tiff tag count has exceeded the limit.")}(b),!1):b._innerFun("SetTiffCustomTag",Ve(A,I,_))}},{key:"IsBlankImage",value:function(v){var S,_=this;if(_._resetErr(),!_._isValid())return!1;if(S=parseInt(v),isNaN(S))return Ot(_),!1;if(S<0||S>=_._ImgManager.count())return qe(_),!1;var b=_._ImgManager.convertClientIndexToServerId(S);return b==-1?(qe(_),!1):_._innerFun("IsBlankImage",Ve(b,xe))}},{key:"IsBlankImageExpress",value:function(v){var S=this;if(S._resetErr(),!S._isValid())return!1;var _=parseInt(v);if(isNaN(_))return Ot(S),!1;if(_<0||_>=S._ImgManager.count())return qe(S),!1;var b=S._ImgManager.convertClientIndexToServerId(_);return b==-1?(qe(S),!1):S._innerFun("IsBlankImage",Ve(b,rt))}},{key:"SetOpenSourceTimeout",value:function(v){var S=this;return S._resetErr(),!!S._isValid()&&S._innerFun("SetOpenSourceTimeout",Ve(v))}},{key:"GetImageURL",value:function(v,S,_,b,I){var A=this;if(A._resetErr(),!A._isValid())return!1;var P,L,$,ee,q=v,Q=parseInt(S),J=parseInt(_);if(b?(P="",L="dwt://"):(P=A._httpUrl,L="dwt/"),ee=A._bScanForProxyRemote?Or.getVersionStrForCheck():Ie.getServerVersionInfo(),$=[P,L,Ie.getDWTPrefix(),ee,"/img?id=",A._clientId],p.isUndefined(q)||q===null)return BR(A),"";if(I)$.push("&index=-1&width=-1&height=-1&webcam="),$.push(I);else{if(q=parseInt(q),isNaN(q))return Ot(A),"";if(q<-1||q>=A._ImgManager.count())return qe(A),"";var te=A._ImgManager.convertClientIndexToServerId(q);if(te==-1)return"";$.push("&index="),$.push(te),Q>0&&J>0?($.push("&width="),$.push(Q),$.push("&height="),$.push(J)):$.push("&width=-1&height=-1"),Wr.bMobile&&$.push("&type=1&quality=85")}if($.push("&t="),$.push(new Date().getTime()),$=$.join(""),ue.bFileSystem&&$.indexOf("dwt://")<0){var H=new Image;H.crossOrigin="anonymous",H.src=$,H=null}return $}},{key:"GetImagePartURL",value:function(v,S,_){var b=this;if(b._resetErr(),!b._isValid())return!1;var I=parseInt(v);return isNaN(I)?(Ot(b),""):I<0||I>=b._ImgManager.count()?(qe(b),""):this.GetImageURL(I,S,_,!0)}},{key:"SetLanguage",value:function(v){var S=this;return S._resetErr(),!!S._isValid()&&S._innerFun("SetLanguageForSecurity",Ve(v))}},{key:"GetLicenseInfo",value:function(v,S){var _=this;_.__licenseInfo?p.isFunction(v)&&v(_.__licenseInfo):_._innerFunRaw("GetLicenseInfo",Ve(0),rt,xe,rt,function(b){b?b.exception?p.isFunction(S)&&S(b.exception):(p.isArray(b.result)&&b.result.length>0&&zT(_,b.result[0]),p.isFunction(v)&&v(_.__licenseInfo)):p.isFunction(S)&&S()},S)}},{key:"SetProductKeyAsync",value:function(v){return this._setProductKeyAsync(v)}},{key:"GetVersionInfoAsync",value:function(){return Te.Promise.resolve(Or.versionInfoFromServer)}},{key:"isUsingActiveX",value:function(){return!1}},{key:"SetLTSLicenseAsync",value:function(v){return this._setLTSLicenseAsync(v)}},{key:"Print",value:function(v){var S=this;return S._resetErr(),S._isValid()?S._isNoViewer()?S._nouiNotSupport("Print"):v?(S._innerSend("PrintEx",Ve(!0),!0,function(){},function(){}),!0):(S._ImagePrint.Print(),!0):!1}},{key:"PrintEx",value:function(v){var S=this;return S._resetErr(),!!S._isValid()&&!!S._checkIndices(v)&&(S._isNoViewer()?S._nouiNotSupport("Print"):(S._ImagePrint.PrintEx(v),!0))}},{key:"IsBlankImageAsync",value:(m=a(E().mark(function v(S,_){var b,I,A,P;return E().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(b=this,Ni.getEnumPlatform()==Et.enumWindow){L.next=5;break}throw Fe(b,-2905,"This API is not supported on the current operating system. Please contact your system administrator."),{code:this._errorCode,message:this._getErrorString()};case 5:return A={minBlockHeight:20,maxBlockHeight:30},_&&(p.isNumber(_.minBlockHeight)&&_.minBlockHeight>=0&&(A.minBlockHeight=_.minBlockHeight),p.isNumber(_.maxBlockHeight)&&_.maxBlockHeight>=0&&(A.maxBlockHeight=_.maxBlockHeight)),I={command:"isBlankImage",parameter:{index:S,minHeight:A.minBlockHeight,maxHeight:A.maxBlockHeight}},L.next=10,b.RunCommandAsync(I);case 10:if(!((P=L.sent)&&V.isArray(P.result)&&P.result.length>0)){L.next=13;break}return L.abrupt("return",P.result[0]);case 13:return L.abrupt("return",!1);case 14:case"end":return L.stop()}},v,this)})),function(v,S){return m.apply(this,arguments)})},{key:"httpUploadBlob",value:function(v,S,_,b){var I=this,A="httpUploadBlob",P=S,L=_,$=null,ee=null,q=Ba.Text;if(I._resetErr(),!I._isValid())return V.Promise.reject({code:I._errorCode,message:I._errorString});if(p.isUndefined(v)||v==="")return ci(I),V.Promise.reject({code:I._errorCode,message:I._errorString});if(!p.isString(v))return rp(I),V.Promise.reject({code:I._errorCode,message:I._errorString});if(!(P instanceof Blob))return $t(I),V.Promise.reject({code:I._errorCode,message:I._errorString});var Q=P.type.toLocaleLowerCase();if(Q!="image/jpeg"&&Q!="image/jpg"&&Q!="image/png"&&Q!="image/bmp"&&Q!="application/pdf"&&Q!="image/tiff"&&Q!="image/tif")return Fe(I,-2845,"Only Blob of JPEG, PNG, BMP, TIFF and PDF image types can be uploaded."),V.Promise.reject({code:I._errorCode,message:I._errorString});b&&($=new FormData,p.each(b.formFields,function(k,M){var U=k.name,G=k.value;p.isString(U)&&(G instanceof Blob?$.append(U,G,k.fileName):$.append(U,G))}),ee={},p.each(b.headers,function(k,M){p.isString(k.name)&&(ee[k.name]=k.value)}),b.responseType&&(q=b.responseType));var J=I._createHttpUploaderConfig(),te=new Cs,H=new sa;return H.url=v,H.method=A,H.content=P,P=null,H.contentType=I._strHttpContentTypeFieldValue,H.headers=ee,H.fileName=L,H.httpFormData=$,I.__remoteFilename&&I.__remoteFilename!=""&&(H.remoteFilename=I.__remoteFilename),H.retry=1,H.bOnlyResponseEmptyIsOK=!1,H.responseType=q,J.objUploadStatus=void 0,I.IfShowProgressBar&&V.showProgress(I,A,!1),new V.Promise(function(k,M){te.httpPostUpload(J,H,function(U){I.IfShowProgressBar&&V.closeProgress(I,A,!1),k(U)},function(U,G){I.IfShowProgressBar&&V.closeProgress(I,A,!1),M({code:U,message:G})})})}},{key:"saveBlob",value:(f=a(E().mark(function v(S,_){var b,I,A,P,L;return E().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(A=S,(b=this)._resetErr(),b._isValid()){$.next=4;break}throw{code:b._errorCode,message:b._errorString};case 4:if(!p.isString(S)&&S!==null&&S!==void 0){$.next=8;break}$.next=10;break;case 8:case 23:throw $t(b),{code:b._errorCode,message:b._errorString};case 10:if(!(_ instanceof Blob)){$.next=23;break}if((L=_.type.toLocaleLowerCase())!="image/jpeg"&&L!="image/jpg"&&L!="image/png"&&L!="image/bmp"&&L!="application/pdf"&&L!="image/tiff"&&L!="image/tif"){$.next=16;break}$.next=18;break;case 16:throw Fe(b,-2844,"Only Blob of JPEG, PNG, BMP, TIFF and PDF image types can be saved."),{code:b._errorCode,message:b._errorString};case 18:return $.next=20,lU(_);case 20:P=$.sent,$.next=25;break;case 25:return A||(A=""),A=xt.replaceLocalFilename(A),I=Ve(A),$.next=30,new V.Promise(function(ee,q){b._innerSendBlobByWS("SaveBlobToFile",I,P,function(Q){ee(Q)},function(Q){q({code:b._errorCode,message:b._errorString})})});case 30:case"end":return $.stop()}},v,this)})),function(v,S){return f.apply(this,arguments)})},{key:"createLocalStorage",value:(c=a(E().mark(function v(S){var _,b,I,A,P;return E().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if((_=this)._resetErr(),_._isValid()){L.next=4;break}throw{code:_._errorCode,message:_._errorString};case 4:if(I="CreateLocalStorage",A=null,!S){L.next=12;break}if(P=S.password,gc(du,this,F0).call(this,P)!==!1){L.next=9;break}throw{code:_._errorCode,message:_._errorString};case 9:A=JSON.stringify([JSON.stringify(S)]),L.next=13;break;case 12:A='["{}"]';case 13:return L.next=15,new V.Promise(function($,ee){_._innerSend(I,A,!1,function(q){if(p.isArray(q)&&q.length>0){var Q=q[0];Q&&p.isString(Q.uid)&&$(Q.uid)}else Mi(_),ee({code:_._errorCode,message:_._errorString})},function(){ee({code:_._errorCode,message:_._errorString})})});case 15:return b=L.sent,L.abrupt("return",b);case 17:case"end":return L.stop()}},v,this)})),function(v){return c.apply(this,arguments)})},{key:"localStorageExist",value:(l=a(E().mark(function v(S){var _,b,I;return E().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(b="LocalStorageExist",(_=this)._resetErr(),_._isValid()){A.next=4;break}throw{code:_._errorCode,message:_._errorString};case 4:if(gc(du,_,O0).call(_,S)!=0){A.next=6;break}throw{code:_._errorCode,message:_._errorString};case 6:return A.next=8,new V.Promise(function(P,L){_._innerSend(b,Ve(S),!1,function($){if(p.isArray($)&&$.length>0){var ee=$[0];(p.isBoolean(ee)||p.isNumber(ee))&&P(!!ee)}else Mi(_),L({code:_._errorCode,message:_._errorString})},function(){L({code:_._errorCode,message:_._errorString})})});case 8:return I=A.sent,A.abrupt("return",I);case 10:case"end":return A.stop()}},v,this)})),function(v){return l.apply(this,arguments)})},{key:"saveToLocalStorage",value:(u=a(E().mark(function v(S){var _,b,I,A;return E().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(b="SaveToLocalStorage",I=null,(_=this)._resetErr(),_._isValid()){P.next=4;break}throw{code:_._errorCode,message:_._errorString};case 4:if(p.isObject(S)){P.next=7;break}throw $t(_),{code:_._errorCode,message:_._errorString};case 7:if(gc(du,_,O0).call(_,S.uid)!==!1&&gc(du,this,F0).call(this,S.password)!==!1){P.next=9;break}throw{code:_._errorCode,message:_._errorString};case 9:if(!p.isUndefined(S.indices)){P.next=13;break}S.indices=F$(_),P.next=20;break;case 13:if(!p.isArray(S.indices)||S.indices.length!=0){P.next=17;break}P.next=20;break;case 17:if(_._checkIndices(S.indices)){P.next=19;break}throw{code:_._errorCode,message:_._errorString};case 19:S.indices=Qu(_,S.indices);case 20:return I=JSON.stringify([JSON.stringify(S)]),P.next=23,new V.Promise(function(L,$){_._innerSend(b,I,!1,function(ee){if(p.isArray(ee)&&ee.length>0){var q=ee[0];q&&q.imageIds&&L(q.imageIds)}else Mi(_),$({code:_._errorCode,message:_._errorString})},function(){$({code:_._errorCode,message:_._errorString})})});case 23:return A=P.sent,P.abrupt("return",A);case 25:case"end":return P.stop()}},v,this)})),function(v){return u.apply(this,arguments)})},{key:"loadFromLocalStorage",value:(s=a(E().mark(function v(S){var _,b,I,A,P;return E().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(b="LoadFromLocalStorage",I=null,(_=this)._resetErr(),_._isValid()){L.next=4;break}throw{code:_._errorCode,message:_._errorString};case 4:if(p.isObject(S)){L.next=7;break}throw $t(_),{code:_._errorCode,message:_._errorString};case 7:if(gc(du,_,O0).call(_,S.uid)!==!1&&gc(du,this,F0).call(this,S.password)!==!1){L.next=9;break}throw{code:_._errorCode,message:_._errorString};case 9:return(P=p.clone(S)).documentName=_._getCurrentDocumentName(),P.tagName=_._getCurrentDefaultTagName(),I=JSON.stringify([JSON.stringify(P)]),V.showProgress(_,b,!1),V.progressBarOnPercentDone(-1,"Processing...","",0,""),L.next=17,new V.Promise(function($,ee){_._innerSend(b,I,!1,function(q){var Q;V.closeProgress(null,b),p.isArray(q)&&q.length>0?(Q=q[0])&&Q.mapImageIds&&$(Q.mapImageIds):(Q===!1&&_._errorCode!=0||Mi(_),ee({code:_._errorCode,message:_._errorString}))},function(){V.closeProgress(null,b),ee({code:_._errorCode,message:_._errorString})})});case 17:return A=L.sent,L.abrupt("return",A);case 19:case"end":return L.stop()}},v,this)})),function(v){return s.apply(this,arguments)})},{key:"removeLocalStorage",value:(o=a(E().mark(function v(S){var _,b,I,A;return E().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(b="RemoveLocalStorage",I=null,(_=this)._resetErr(),_._isValid()){P.next=4;break}throw{code:_._errorCode,message:_._errorString};case 4:if(p.isObject(S)){P.next=7;break}throw $t(_),{code:_._errorCode,message:_._errorString};case 7:if(gc(du,_,O0).call(_,S.uid)!==!1&&gc(du,this,F0).call(this,S.password)!==!1){P.next=9;break}throw{code:_._errorCode,message:_._errorString};case 9:return S&&(I=JSON.stringify([JSON.stringify(S)])),P.next=12,new V.Promise(function(L,$){_._innerSend(b,I,!1,function(ee){if(p.isArray(ee)&&ee.length>0){var q=ee[0];(p.isBoolean(q)||p.isNumber(q))&&L(!!q)}else Mi(_),$({code:_._errorCode,message:_._errorString})},function(){$({code:_._errorCode,message:_._errorString})})});case 12:return A=P.sent,P.abrupt("return",A);case 14:case"end":return P.stop()}},v,this)})),function(v){return o.apply(this,arguments)})}]);var o,s,u,l,c,f,m}(ws);function F0(r){if(!p.isUndefined(r)){if(!p.isString(r))return Fe(this,-2850,"The password is not a string."),!1;if(r.length>32)return function(n){Fe(n,-2849,"The password must not exceed 32 characters in length.")}(this),!1}return!0}function O0(r){return p.isUndefined(r)||r==""?(Fe(this,-2846,"The uid cannot be empty."),!1):!!p.isString(r)||(function(n){Fe(n,-2847,"The uid is invalid.")}(this),!1)}function Rl(r,n,o,s){var u;o!==0&&o!==1?u=o:(u={},o&&(u.set=s==1?function(l){var c=1*l;return!p.isNumber(c)||isNaN(c)?(Vn(r),xe):(r._resetErr(),!!r._isValid()&&r._innerFun(n,Ve(c)))}:s==2?function(l){return p.isBoolean(l)?(r._resetErr(),!!r._isValid()&&r._innerFun(n,Ve(l))):(Vn(r),xe)}:function(l){return p.isString(l)?(r._resetErr(),!!r._isValid()&&r._innerFun(n,Ve(l))):(Vn(r),xe)})),u.get||(u.get=function(){return r._resetErr(),!!r._isValid()&&r._innerFun(n)}),n in r||Object.defineProperty(r,n,u)}function Uce(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function HU(r,n,o){return(n=function(s){var u=function(l,c){if(D(l)!="object"||!l)return l;var f=l[Symbol.toPrimitive];if(f!==void 0){var m=f.call(l,c||"default");if(D(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}(s,"string");return D(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function Vce(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var $U=new WeakSet,KU=function(){return y(function o(s,u,l,c){h(this,o),Uce(this,$U),HU(this,"serverUrl",void 0),this.serverUrl=s,this.bLocal=ao(s),this.clientId=l??p.guid(),this.bGlobal=u,this.serverName=c,this.bLicenseOK=!1},[{key:"checkSource",value:function(o){if(!o)throw{code:-1003,message:"Source Manager unable to find the specified Source"}}},{key:"parseResultDefault",value:function(o){var s;if(p.isObject(o)&&o.exception&&o.exception!=0)throw{code:o.exception,message:(s=o.description)!==null&&s!==void 0?s:"general error"};if(o&&p.isArray(o.result)&&o.result.length>0){var u=o.result[o.result.length-1];try{return JSON.parse(u)}catch{return u}}throw o}},{key:"_requestAsync",value:(n=a(E().mark(function o(s,u,l){var c,f,m,v,S,_,b,I,A,P;return E().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(!B.DWT.ConnectWithSocket){L.next=12;break}return L.next=3,Vce($U,this,jce).call(this);case 3:return c=L.sent,f=0,s&&(f=s.cmdId),m={client:c,userData:{command:s},taskId:f},v=zce,L.next=9,c.request(p.stringify(s),v,m);case 9:return S=L.sent,p.isString(S)&&(S=p.parse(S)),L.abrupt("return",S);case 12:return _=[pF(),"/",s.method].join(""),u&&(I=u),A=(P=this).serverUrl?ru.getDDMUrl(P.serverUrl,P.bGlobal,[hF,s.method].join("")):ru.getModuleUrl(_),L.prev=16,L.next=19,Ed(A,{method:"post",dataType:"json",body:p.stringify(s),fetchRaw:l!=null&&l,timeout:I});case 19:b=L.sent,L.next=25;break;case 22:throw L.prev=22,L.t0=L.catch(16),L.t0;case 25:return L.abrupt("return",b);case 26:case"end":return L.stop()}},o,this,[[16,22]])})),function(o,s,u){return n.apply(this,arguments)})},{key:"_resetLicense",value:(r=a(E().mark(function o(s,u,l){return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:case"end":return c.stop()}},o)})),function(o,s,u){return r.apply(this,arguments)})}]);var r,n}();function jce(){return YU.apply(this,arguments)}function YU(){return(YU=a(E().mark(function r(){var n,o,s,u,l,c,f,m,v;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if((n=this)._wsClient){S.next=10;break}return o=new ul,(s=this.serverUrl)?(u=V.detect.ssl,c="/",l=u?"ddm/18626/":"ddm/18625/",p.endsWith(s,"/")&&(c=""),p.startsWith(s,"https://")||p.startsWith(s,"wss://")?(o.ssl=!0,f=p.startsWith(s,"https://")?p.replaceAll(s,"https://",""):p.replaceAll(s,"wss://",""),s=f+c+l):p.startsWith(s,"http://")||p.startsWith(s,"ws://")?(o.ssl=!1,m=p.startsWith(s,"http://")?p.replaceAll(s,"http://",""):p.replaceAll(s,"ws://",""),s=m+c+l):(o.ssl=V.detect.ssl,o.port=o.ssl?Pt.SSLPort:Pt.Port),o.server=s):(o.ssl=V.detect.ssl,o.server=si(),o.port=o.ssl?Pt.SSLPort:Pt.Port),o.useWS=!0,o.protocol=Pt.wsProtocol,v=ps.Instance.getClient(o),S.next=9,v.testConnection();case 9:n._wsClient=v;case 10:return S.abrupt("return",n._wsClient);case 11:case"end":return S.stop()}},r,this)}))).apply(this,arguments)}HU(KU,"logLevel",-1);var Gce=function(r){function n(){var s;h(this,n);for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];return C(s=d(this,n,[].concat(l)),"_bInited",!1),s}return F(n,r),y(n,[{key:"getDynamsoftService",value:(o=a(E().mark(function s(u,l,c,f){var m,v,S,_,b,I,A,P,L,$,ee,q,Q,J,te;return E().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return c=(m=c)!==null&&m!==void 0&&m,f=(v=f)!==null&&v!==void 0?v:30,S={id:this.clientId,cmdId:p.guid(),method:"SearchScanner",parameter:[1,"_privet._tcp.local.",!1,!0,c,f,u,l],version:qs},H.prev=5,H.next=8,this._requestAsync(S,3e4,!1);case 8:_=H.sent,this._bInited=!0,H.next=19;break;case 12:if(H.prev=12,H.t0=H.catch(5),!this.bLocal){H.next=18;break}throw sl(b={}),{code:b._errorCode,message:b._errorString};case 18:throw{code:-2604,message:"Failed to connect to the Proxy Service. Please make sure the Proxy Service is configured successfully, Dynamsoft Service is running, or the certificate is valid."};case 19:I=[],A=this.parseResultDefault(_),P=T(A),H.prev=22,P.s();case 24:if((L=P.n()).done){H.next=40;break}if(!(($=L.value).service_type&&$.service_type==Bi.ST_UNKNOWN||$.type&&$.type!="dynamsoft_private_cloud_scan"&&$.type!="twaindirect")){H.next=30;break}return H.abrupt("continue",38);case 30:if(!$.service_type){H.next=38;break}H.t1=$.service_type,H.next=H.t1===Bi.ST_DYNAMSOFT_SERVICE?34:38;break;case 34:return(ee=$.modules)&&p.isArray(ee)&&p.isString(ee[0])&&(q=ee[0].split(",")).length>=3&&q[0]>=1&&q[1]>=8&&q[2]>0&&($.bGlobalFind=!0,Q=QU(this.serverUrl,$),I.push(Q)),$.bGlobalFind||(te=(J=$==null?void 0:$.ty)!==null&&J!==void 0?J:"",p.warn(["The Dynamsoft Service on [",te,"] is old version."].join(""))),H.abrupt("break",38);case 38:H.next=24;break;case 40:H.next=45;break;case 42:H.prev=42,H.t2=H.catch(22),P.e(H.t2);case 45:return H.prev=45,P.f(),H.finish(45);case 48:return H.abrupt("return",I);case 49:case"end":return H.stop()}},s,this,[[5,12],[22,42,45,48]])})),function(s,u,l,c){return o.apply(this,arguments)})},{key:"dispose",value:function(){var s={id:this.clientId,cmdId:p.guid(),method:"dispose",version:qs};this._requestAsync(s,500)}}]);var o}(KU);function QU(r,n){var o=new KT;return o.server=r,o.attrs=n,o}function zce(r,n,o,s){return xE.apply(this,arguments)}function xE(){return xE=a(E().mark(function r(n,o,s,u){var l,c;return E().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(o!=Br.GET_TASKID){f.next=4;break}return f.abrupt("return",u.taskId);case 4:if(o!=Br.ONMESSAGE_PROCESS_DATA){f.next=8;break}return f.abrupt("return",p.parse(n));case 8:if(o!=Br.ONMESSAGE_GET_TASKID){f.next=13;break}if(!u||!u.client){f.next=11;break}return f.abrupt("return",u.client.getRequestTaskId());case 11:f.next=20;break;case 13:if(o!=Br.HANDLE_RAW_MESSAGE){f.next=20;break}if(l=u==null?void 0:u.userData){f.next=17;break}return f.abrupt("return",!1);case 17:return(c=n).indexOf("Version not found")>=0||c.indexOf("Function not found")>=0?p.isFunction(l.fFun)&&l.fFun():p.isFunction(l.sFun)&&l.sFun(c),f.abrupt("return",c);case 20:case"end":return f.stop()}},r)})),xE.apply(this,arguments)}function XU(r,n,o){return(n=function(s){var u=function(l,c){if(D(l)!="object"||!l)return l;var f=l[Symbol.toPrimitive];if(f!==void 0){var m=f.call(l,c||"default");if(D(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}(s,"string");return D(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function Hce(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function PE(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}function JU(r){var n,o=Bi.ST_UNKNOWN;return r==ht.ESCLSCANNER?o=Bi.ST_ESCL:r==ht.WIFIDIRECTSCANNER?o=Bi.ST_WIFI_DIRECT:((n=r)==ht.TWAINSCANNER||n==ht.WIATWAINSCANNER||n==ht.TWAINX64SCANNER||n==ht.ICASCANNER||n==ht.SANESCANNER)&&(o=Bi.ST_DYNAMSOFT_SERVICE),o}var N0=new WeakSet,L0=function(r){function n(){var S;h(this,n);for(var _=arguments.length,b=new Array(_),I=0;I<_;I++)b[I]=arguments[I];return Hce(S=d(this,n,[].concat(b)),N0),XU(S,"_bInited",!1),XU(S,"_currentDevice",void 0),S}return F(n,r),y(n,[{key:"getSources",value:(v=a(E().mark(function S(_,b,I){var A,P,L,$,ee,q,Q,J,te,H,k,M,U,G;return E().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(L="",$=!1,ee=[],q=!1,((Q=_??BT)&ht.ESCLSCANNER)==ht.ESCLSCANNER&&(L="_uscan._tcp.local."),(Q&ht.WIFIDIRECTSCANNER)==ht.WIFIDIRECTSCANNER&&($=!0),L.length!=0||$){z.next=9;break}return z.abrupt("return",[]);case 9:return b=(A=b)!==null&&A!==void 0&&A,I=(P=I)!==null&&P!==void 0?P:30,J={id:this.clientId,cmdId:p.guid(),method:"SearchScanner",parameter:[1,L,$,q,b,I],version:qs},z.next=14,this._requestAsync(J,3e4,!1);case 14:if(te=z.sent,this._bInited=!0,H=this.parseResultDefault(te),p.isArray(H)){z.next=19;break}throw{code:-2612,message:"The devices must be an Array."};case 19:k=T(H),z.prev=20,k.s();case 22:if((M=k.n()).done){z.next=48;break}if(!((U=M.value).service_type&&U.service_type==Bi.ST_UNKNOWN||U.type&&U.type!="dynamsoft_private_cloud_scan"&&U.type!="twaindirect")){z.next=28;break}return z.abrupt("continue",46);case 28:if(!U.service_type){z.next=46;break}z.t0=U.service_type,z.next=z.t0===Bi.ST_DYNAMSOFT_SERVICE?32:z.t0===Bi.ST_ESCL||z.t0===Bi.ST_WIFI_DIRECT?33:46;break;case 32:return z.abrupt("break",46);case 33:return(G=new Zo).name="",G.displayName="",G.deviceType=0,G.isSystemDefaultPrinter=!1,U.service_type==Bi.ST_ESCL?G.deviceType=ht.ESCLSCANNER:U.service_type==Bi.ST_WIFI_DIRECT&&(G.deviceType=ht.WIFIDIRECTSCANNER),G.name=U.ty,U.hostname&&U.hostname.length>U.ty.length&&(G.name=U.hostname),G.displayName=(U.service_type==Bi.ST_ESCL?"eSCL-":"")+G.name,this.bGlobal||(U.url=this.serverUrl,this.serverName&&(G.displayName=G.displayName+" on ["+this.serverName+"]")),G.serviceInfo=QU(this.serverUrl,U),ee.push(G),z.abrupt("break",46);case 46:z.next=22;break;case 48:z.next=53;break;case 50:z.prev=50,z.t1=z.catch(20),k.e(z.t1);case 53:return z.prev=53,k.f(),z.finish(53);case 56:return z.abrupt("return",ee);case 57:case"end":return z.stop()}},S,this,[[20,50,53,56]])})),function(S,_,b){return v.apply(this,arguments)})},{key:"getCapabilitiesAsync",value:(m=a(E().mark(function S(_){var b,I,A;return E().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return this.checkSource(_),(_.deviceType&ht.ESCLSCANNER)!=ht.ESCLSCANNER&&(_.deviceType&ht.WIFIDIRECTSCANNER)!=ht.WIFIDIRECTSCANNER||(this._currentDevice=_),b=JU(_.deviceType),I={id:this.clientId,cmdId:p.guid(),method:"SendRequestToScanner",parameter:["getCapabilities",p.stringify({UUID:_.serviceInfo.attrs.UUID,service_type:b,ty:_.name})],version:qs},P.next=6,this._requestAsync(I,0);case 6:return A=P.sent,P.abrupt("return",this.parseResultDefault(A));case 8:case"end":return P.stop()}},S,this)})),function(S){return m.apply(this,arguments)})},{key:"selectSourceAsync",value:(f=a(E().mark(function S(_){var b;return E().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,this.getCapabilitiesAsync(_);case 2:if(!(b=I.sent)&&b!=""){I.next=5;break}return I.abrupt("return",!0);case 5:case"end":return I.stop()}},S,this)})),function(S){return f.apply(this,arguments)})},{key:"versionInfo",value:(c=a(E().mark(function S(){var _,b;return E().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return _={id:this.clientId,cmdId:p.guid(),method:"VersionInfo",version:qs},I.next=3,this._requestAsync(_,5e3);case 3:return b=I.sent,this._bInited=!0,I.abrupt("return",b);case 6:case"end":return I.stop()}},S,this)})),function(){return c.apply(this,arguments)})},{key:"getLicenseInfo",value:function(S,_,b){return this._resetLicense(S,_,b)}},{key:"getImageAsArrayBuffer",value:(l=a(E().mark(function S(_,b){return E().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",PE(N0,this,qU).call(this,_,b));case 1:case"end":return I.stop()}},S,this)})),function(S,_){return l.apply(this,arguments)})},{key:"getImageToDWT",value:(u=a(E().mark(function S(_,b,I){return E().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",PE(N0,this,qU).call(this,_,b,I));case 1:case"end":return A.stop()}},S,this)})),function(S,_,b){return u.apply(this,arguments)})},{key:"acquireImage",value:(s=a(E().mark(function S(_,b,I){var A,P,L,$,ee,q,Q,J;return E().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:_=(A=_)!==null&&A!==void 0?A:this._currentDevice,this.checkSource(_),this._currentDevice=_,P=JU(_.deviceType),L=["scan",p.stringify({UUID:_.serviceInfo.attrs.UUID,service_type:P})],$=PE(N0,this,$ce).call(this,b),L[2]=p.stringify($),ee={id:this.clientId,cmdId:p.guid(),method:"SendRequestToScanner",parameter:L,version:qs},q=0;case 9:if(!(q<5)){te.next=32;break}return te.prev=10,te.next=13,this._requestAsync(ee,0);case 13:return J=te.sent,Q=this.parseResultDefault(J),p.isObject(Q)&&(Q.device=_,Q.scanOptions=$),te.abrupt("break",32);case 19:if(te.prev=19,te.t0=te.catch(10),te.t0.code!=-1004&&te.t0.code!=-1001){te.next=28;break}if(!(q>=4)){te.next=24;break}throw te.t0;case 24:return te.next=26,new V.Promise(function(H,k){setTimeout(H,2e3)});case 26:te.next=29;break;case 28:throw te.t0;case 29:q++,te.next=9;break;case 32:return te.abrupt("return",Q);case 33:case"end":return te.stop()}},S,this,[[10,19]])})),function(S,_,b){return s.apply(this,arguments)})},{key:"_resetLicense",value:(o=a(E().mark(function S(_,b,I){var A,P,L,$;return E().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return this.longKeyOrShortkey=_,this.cu=b,Kce(),A=b??"",P={id:this.clientId,cmdId:p.guid(),method:"GetLicenseInfo",parameter:[_,n.logLevel,A,I],version:qs},ee.prev=5,ee.next=8,this._requestAsync(P,1e4);case 8:return L=ee.sent,this._bInited=!0,ee.abrupt("return",this.parseResultDefault(L));case 13:if(ee.prev=13,ee.t0=ee.catch(5),!this.bLocal){ee.next=19;break}throw sl($={}),{code:$._errorCode,message:$._errorString};case 19:throw{code:-2604,message:"Failed to connect to the Proxy Service. Please make sure the Proxy Service is configured successfully, Dynamsoft Service is running, or the certificate is valid."};case 20:case"end":return ee.stop()}},S,this,[[5,13]])})),function(S,_,b){return o.apply(this,arguments)})}]);var o,s,u,l,c,f,m,v}(Gce);function qU(r,n,o){return ZU.apply(this,arguments)}function ZU(){return(ZU=a(E().mark(function r(n,o,s){var u,l,c,f,m,v;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(n!=null&&n.device){S.next=2;break}throw{code:-1011,message:"Operation out of expected sequence"};case 2:return s=(u=s)!==null&&u!==void 0?u:{ver:"",clientId:""},(l=["getImage",p.stringify({UUID:n.device.serviceInfo.attrs.UUID,service_type:o})])[2]=p.stringify(n.scanOptions),l[3]=n.scanJobs,l[4]=n.scanId,l[5]=s._clientId,l[6]=s._ver,c={id:this.clientId,cmdId:p.guid(),method:"SendRequestToScanner",parameter:l,version:qs},S.next=12,this._requestAsync(c,0,!0);case 12:if(f=S.sent,!(f.headers.get("content-type").indexOf("image/")>=0)){S.next=20;break}return S.next=17,f.arrayBuffer();case 17:return S.abrupt("return",S.sent);case 20:return S.next=22,f.json();case 22:if(m=S.sent,typeof(v=this.parseResultDefault(m))!="boolean"){S.next=28;break}return S.abrupt("return",null);case 28:return S.abrupt("return",v);case 29:case"end":return S.stop()}},r,this)}))).apply(this,arguments)}function $ce(r){var n=[];if(r){p.isNumber(r.PixelType)&&(n.push({capability:As.ICAP_PIXELTYPE,curValue:r.PixelType}),B.DWT.EnumDWT_PixelType.TWPT_BW==r.PixelType&&(n.push({capability:32771,curValue:"application/octet-stream"}),n.push({capability:32772,curValue:"application/octet-stream"})));var o=r.Resolution;o||(o=300),n.push({capability:As.ICAP_XRESOLUTION,curValue:o}),n.push({capability:As.ICAP_YRESOLUTION,curValue:o}),r.Brightness!==void 0&&n.push({capability:As.ICAP_BRIGHTNESS,curValue:r.Brightness}),r.XferCount!==void 0&&n.push({capability:As.CAP_XFERCOUNT,curValue:r.XferCount}),r.Contrast!==void 0&&n.push({capability:As.ICAP_CONTRAST,curValue:r.Contrast}),r.TransferMode!==void 0&&n.push({capability:As.ICAP_XFERMECH,curValue:r.TransferMode}),r.IfFeederEnabled!==void 0&&n.push({capability:As.CAP_FEEDERENABLED,curValue:r.IfFeederEnabled?1:0}),r.IfDuplexEnabled!==void 0&&n.push({capability:As.CAP_DUPLEXENABLED,curValue:r.IfDuplexEnabled?1:0})}return n}function Kce(){var r=L0.logLevel;p.isNumber(r)||(L0.logLevel=-1)}V.removeNonPrintableChar;var e4=function(r,n,o){o==2&&p.each(n,function(s,u){Xt(r,s,{get:function(){return r._resetErr(),r._isValid()?rt:xe},set:function(l){return r._resetErr(),r._isValid()?rt:xe}})})},t4=function(r,n){p.each(n,function(o,s){Rl(r,o,1,2)})},r4=function(r,n){p.each(n,function(o,s){Rl(r,o,1,1)})},n4=function(r,n){p.each(n,function(o,s){Rl(r,o,0)})},i4=function(r,n){p.each(n,function(o,s){Rl(r,o,1)})};function Yce(r){var n=r;n._bRemoteMode||(Xt(n,"ProductKey",{get:function(){return B.DWT.ProductKey},set:function(o){return p.isString(o)?(n._resetErr(),!!n._isValid()&&n._setProductKey(o,!1)):(Vn(n),xe)}}),Xt(n,"ProductName",{get:function(){return n.__strProductName}}),Xt(n,"VersionInfo",{get:function(){return xo.JSVersion}}),Xt(n,"DefaultSourceName",{get:function(){var o=n._getDefaultDevice();return o?o.displayName:""}}),Xt(n,"ImageCaptureDriverType",{get:function(){return n._resetErr(),n._isValid()?n._driverType:0},set:function(o){var s=!1,u=!1,l=!1;if(n._bRemoteMode?n.__serverPlatform==Et.enumWindow?l=!0:n.__serverPlatform==Et.enumLinux?u=!0:n.__serverPlatform==Et.enumMac&&(s=!0):(s=ue.bMac,u=ue.bLinux,l=ue.bWin),n._resetErr(),!n._isValid())return!1;if(o!==""){var c=1*o,f=!1;if(c<qt.TWAIN||c>qt.TWAIN64)return Yv(n),xe;if(l){if(c===qt.TWAIN_AND_TWAIN64)n._b64bit&&(n._driverType=c);else if(c!=qt.TWAIN&&c!=qt.TWAIN64)return Yv(n),xe;n._b64bit||(c=qt.TWAIN),n._driverType=c,f=!0}else if(u)c=qt.SANE,n._driverType=c,f=!0;else if(s){if(c!==qt.TWAIN_AND_ICA){if(c!=qt.ICA&&c!=qt.TWAIN&&c!=qt.TWAIN64)return Yv(n),xe}n._driverType=c,f=!0}return f&&(n._curDevice=null,n.__devices=null),!0}return Yv(n),xe}}),Xt(n,"HTTPPostResponseString",{get:function(){return n._resetErr(),n._isValid()&&n.__HTTPPostResponseString?n.__HTTPPostResponseString:""}}),Xt(n,"IfAppendImage",{get:function(){return n._resetErr(),!!n._isValid()&&n.__IfAppendImage},set:function(o){return n._resetErr(),!!n._isValid()&&(p.isBoolean(o)?n.__IfAppendImage=o:(Vn(n),xe))}}),Xt(n,"FTPPort",{get:function(){return n._resetErr(),n._isValid()?n._innerFun("FTPPort"):0},set:function(o){if(n._resetErr(),!n._isValid())return!1;if(o!==""){var s=1*o;return n._innerFun("FTPPort",Ve(s))}}}),Xt(n,"JPEGQuality",{get:function(){return n._resetErr(),n._isValid()?n._innerFun("JPEGQuality"):0},set:function(o){var s=1*o;return s>=100?s=100:s<0&&(s=0),n._resetErr(),!!n._isValid()&&n._innerFun("JPEGQuality",Ve(s))}}),Rl(n,"TIFFCompressionType",1,1),Rl(n,"BufferMemoryLimit",1,1),Xt(n,"LogLevel",{get:function(){return n._resetErr(),n._isValid()?n._innerFun("LogLevel"):0},set:function(o){if(n._resetErr(),!n._isValid())return!1;var s=1*o;return n._logLevel=s,L0.logLevel=n._logLevel,n._innerFun("LogLevel",Ve(s))}}),Xt(n,"HttpContentTypeFieldValue",{get:function(){return n._resetErr(),n._isValid()?n._strHttpContentTypeFieldValue:""},set:function(o){return n._resetErr(),!!n._isValid()&&(n._strHttpContentTypeFieldValue=o,o)}}),Xt(n,"BrokerProcessType",{get:function(){return n._resetErr(),n._isValid()?1:0},set:function(o){return n._resetErr(),!!n._isValid()}}),Xt(n,"BorderStyle",{get:function(){return n._resetErr(),!!n._isValid()&&0},set:function(o){return n._resetErr(),n._isValid(),!1}}),Xt(n,"HttpFieldNameOfUploadedImage",{get:function(){return n._resetErr(),n._isValid()?n.__remoteFilename:""},set:function(o){return n._resetErr(),n._isValid()?n.__remoteFilename=o:""}}),Xt(n,"style",{get:function(){return n._isValid()?n.__style:""}}),Xt(n,"ScaleDownThreshold",{get:function(){return n._resetErr(),n._isValid()?n._scaleDownThreshold:0},set:function(o){var s=1*o;return!p.isNumber(s)||isNaN(s)?(Vn(self),xe):(n._resetErr(),!!n._isValid()&&(n._scaleDownThreshold=o))}}),Xt(n,"CurrentImageIndexInBuffer",{get:function(){return n._isValid()&&n._ImgManager?n._ImgManager.getCurrentImageIndex():0},set:function(o){var s=1*o;return n._resetErr(),!!n._isValid()&&(s>=0&&s<n._ImgManager.count()&&(n._ImgManager.setSelectedClientIndexArray([s]),n._isBindViewer()&&Ua.__innerRefreshFromUIView(n,n._ImgManager.getCurrentImageIndex())),!0)}}),Xt(n,"SelectedImagesIndices",{get:function(){return n._resetErr(),n._isValid()?n._ImgManager.count()<=0?[]:n._ImgManager.getSelectedClientIndexArray():[]}}),Xt(n,"MaxImagesInBuffer",{get:function(){return n._resetErr(),n._isValid()?n.__maxImagesInBuffer:0},set:function(o){var s=1*o;return n._resetErr(),!!n._isValid()&&(s>0&&s<32768?n.__maxImagesInBuffer=s:Fe(n,-1010,"Data parameter out of supported range."),n.__maxImagesInBuffer)}}),Xt(n,"IfSSL",{get:function(){return n._bSSL},set:function(o){return n._bSSL=o,n._innerFun("IfSSL",Ve(o)),!0}}),Rl(n,"IfAllowLocalCache",1,2),Xt(n,"UseLocalService",{get:function(){return!0}}),Xt(n,"PDFCompressionType",{get:function(){return n._resetErr(),!!n._isValid()&&n._innerFun("PDFCompressionType")},set:function(o){var s=1*o;return s==B.DWT.EnumDWT_PDFCompressionType.PDF_FAX3&&(s=B.DWT.EnumDWT_PDFCompressionType.PDF_FAX4),n._resetErr(),!!n._isValid()&&n._innerFun("PDFCompressionType",Ve(s))}}),n._setProductKey=function(o,s,u,l){var c=!0,f=o,m=function(S){S||(n.__licenseInfo=void 0);var _=!0;return l||(_=_t.checkProductKey(n,{Core:!0})),p.isFunction(u)&&u(),_};if(n._resetErr(),!n._isValid())return!1;if(Ie.bUseDynamsoftLicenseManager||n._blts)return bT(n),!1;if(f=p.isString(f)?p.trim(f):"",B.DWT.ProductKey=f,f=="")c=!1,m();else{_t.reparseProductKey();var v=B.DWT.licenseException;if(v.code!=0)return n.__licenseInfo=void 0,n._errorCode=v.code,n._errorString=v.message,p.isFunction(u)&&u(),!1;n._innerFunRaw("ProductKey",Ve(f),s,!1,!1,function(S){var _=!1;_=p.isArray(S)?S[0]:S,p.isArray(S)&&S.length>=3&&S[1]==="1"&&p.isFunction(B.DWT.ShowMessage)&&B.DWT.ShowMessage(S[2],{width:510,height:272,headerStyle:1,seconds:10}),s||(c=_),n.__licenseInfo=void 0,n.GetLicenseInfo(function(){n._setConvertMode(n._pdfConvertMode),m(!0)},m)},function(){s||(c=!1),m()})}return c},i4(n,["ProxyServer"]),i4(n,["CapValueString","CapDescription","FTPPassword","FTPUserName","PDFAuthor","PDFCreationDate","PDFCreator","PDFKeywords","PDFModifiedDate","PDFProducer","PDFSubject","PDFTitle","PDFVersion"]),n4(n,["Manufacturer","ProductFamily","ImageBitsPerPixel","ImageLength","ImageWidth","ImageXResolution","ImageYResolution"]),n4(n,["BlankImageCurrentStdDev","CapDefaultIndex","CapDefaultValue","DataSourceStatus","Duplex","PendingXfers","ImageLayoutDocumentNumber","ImageLayoutFrameBottom","ImageLayoutFrameLeft","ImageLayoutFrameNumber","ImageLayoutFrameRight","ImageLayoutFrameTop","ImageLayoutPageNumber","ImagePixelType","MagData","MagType","IfFeederLoaded","IfPaperDetectable","IfUIControllable"]),t4(n,["AllowPluginAuthentication","IfModalUI","IfScanInNewThread","_AutoCropMethod","IfSortBySelectionOrder"]),t4(n,["IfDisableSourceAfterAcquire","IfDuplexEnabled","IfFeederEnabled","IfPASVMode","IfAutoBright","IfAutoDiscardBlankpages","IfAutoFeed","IfAutomaticBorderDetection","IfAutomaticDeskew","IfAutoScan","IfShowIndicator","IfUseTwainDSM","IfTiffMultiPage"]),r4(n,["MaxInternetTransferThreads"]),r4(n,["BlankImageMaxStdDev","BlankImageThreshold","BitDepth","Brightness","PageSize","PixelType","Resolution","Capability","CapCurrentIndex","CapCurrentValue","CapMaxValue","CapMinValue","CapNumItems","CapStepSize","CapType","CapValue","CapValueType","Contrast","PixelFlavor","TransferMode","Unit","XferCount"]),e4(n,["AsyncMode","EnableInteractiveZoom","IfThrowException","ImageEditorIfEnableEnumerator","ImageEditorIfReadonly","ImageEditorIfModal","ImageEditorWindowTitle","IfShowPrintUI","VScrollBar"],2),e4(n,["IfOpenImageWithGDIPlus"]))}V.DynamicLoadAddonFuns=[],V.attachAddon=function(r){var n=!1;return p.each(V.DynamicLoadAddonFuns,function(o){p.isFunction(o)&&(o(r),n=!0)}),!Or.bFullEdition&&r.__addon&&delete r.__addon.Camera,n};var o4=y(function r(n,o,s){h(this,r),this.Url=n,this.Width=o,this.Height=s}),Qce=function(){return y(function n(o){h(this,n),this._stwain=o,this._ImgManager=o._ImgManager},[{key:"Print",value:function(){var n=this;if(n.count()<=0)return!1;var o,s=[];for(o=0;o<n.count();o++)s.push(o);return n.PrintEx(s)}},{key:"PrintCurrentImage",value:function(){var n,o,s,u=this;if(!((n=u._ImgManager.getCurrentImageIndex())<0))return(s=u._ImgManager.convertClientIndexToServerId(n))==-1?(qe(u),!1):(o=ar.getImageUrl(u._ImgManager.getBaseUrl,s,-1,-1),u.__PrintInner(o,s,n))}},{key:"PrintEx",value:function(n){var o=this;if(!(o.count()<=0)){var s=[];return B.DWT.ConnectWithSocket?o.__GetPrintUrlforSocket(n,s):o.__GetPrintUrlforHttp(n,s),!0}}},{key:"__PrintInner",value:function(n,o,s){var u=this,l=u._ImgManager.getImageIdMap(o),c=[];if(!l)return!1;var f=p.clone(l),m=f.width;(p.isUndefined(f.width)||f.width<=0)&&(f.width=u.getImageWidthFromServer(s));var v=f.height;(p.isUndefined(f.height)||f.height<=0)&&(f.height=u.getImageHeightFromServer(s));var S=new o4(n,f.width,f.height);return c.push(S),f.width=m,f.height=v,ar.print(c),!0}},{key:"__GetPrintUrl",value:function(n,o,s){var u,l,c=this,f=0,m=0;return(u=c._ImgManager.getImageIdMap(o))&&(!u.width||u.width<=0?u.width=c.getImageWidthFromServer(s):f=u.width,!u.height||u.height<=0?u.height=c.getImageHeightFromServer(s):m=u.height,l=new o4(n,u.width,u.height),u.width=f,u.height=m),l}},{key:"__GetPrintUrlforHttp",value:(r=a(E().mark(function n(o,s){var u,l,c,f,m,v,S,_,b,I;return E().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:u=this,l=0;case 2:if(!(l<o.length)){A.next=23;break}if(c=o[l],(f=u._ImgManager.convertClientIndexToServerId(c))==-1){A.next=20;break}if(m=void 0,!(B.navInfoSync.bMac&&B.navInfoSync.bSafari||B.navInfoSync.bFirefox)){A.next=17;break}if(!(v=u._stwain._ImgManager.getImageIdMap(f))){A.next=17;break}if(!(S=v.uuid)||S==-1){A.next=17;break}return A.next=14,u._stwain.Viewer.webViewer.myDvs.getImageData(S,{type:"blob"});case 14:_=A.sent,b=window.URL||window.webkitURL,m=b.createObjectURL(_);case 17:m||(m=ar.getImageUrl(u._ImgManager.getBaseUrl,f,-1,-1)),I=u.__GetPrintUrl(m,f,c),s.push(I);case 20:l++,A.next=2;break;case 23:ar.print(s);case 24:case"end":return A.stop()}},n,this)})),function(n,o){return r.apply(this,arguments)})},{key:"__GetPrintUrlforSocket",value:function(n,o){var s,u=this,l=Te.Promise.resolve(0),c=0;return p.each(n,function(f){l=l.then(function(){var m=u._ImgManager.convertClientIndexToServerId(f);m!=-1&&u._ImgManager.getImageData(f).then(function(v){if(c++,!v){var S={};return Ot(S),void vr(S._errorString)}s=eu(v.oriData)?URL.createObjectURL(new Blob([v.oriData])):v.oriData instanceof Blob?URL.createObjectURL(v.oriData):v.oriData;var _=u.__GetPrintUrl(s,m,f);o.push(_),n.length==c&&ar.print(o)})})}),!0}},{key:"__GetPrintUrlforMobileEx",value:function(n,o){var s,u=this,l=Te.Promise.resolve(0),c=0;return p.each(n,function(f){l=l.then(function(){var m=u._ImgManager.convertClientIndexToServerId(f);m!=-1&&u._ImgManager.getImageData(f).then(function(v){if(c++,!v){var S={};return Ot(S),void vr(S._errorString)}s=eu(v.oriData)?URL.createObjectURL(new Blob([v.oriData])):v.oriData instanceof Blob?URL.createObjectURL(v.oriData):v.oriData;var _=u.__GetPrintUrl(s,m,f);o.push(_),n.length==c&&ar.print(o)})})}),!0}},{key:"count",value:function(){return this._ImgManager.count()}},{key:"getImageHeightFromServer",value:function(n){var o,s,u,l=this,c=1*n;return o=l.count(),c<0||c>o?0:(u=l._ImgManager.convertClientIndexToServerId(c),(s=l._ImgManager.getImageIdMap(u))&&s.imageHeight?s.imageHeight:l._stwain.GetImageHeight(c))}},{key:"getImageWidthFromServer",value:function(n){var o,s,u,l=this,c=1*n;return o=l.count(),c<0||c>o?0:(u=l._ImgManager.convertClientIndexToServerId(c),(s=l._ImgManager.getImageIdMap(u))&&s.imageWidth?s.imageWidth:l._stwain.GetImageWidth(c))}}]);var r}();function Xce(r,n){(function(o,s){if(s.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function Dn(r,n,o){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}V.detect.viewerScriptLoaded=rt;var bn=new WeakSet,a4=function(r){function n(u){var l,c,f;return h(this,n),Xce(l=d(this,n,[u]),bn),l._ImgManager=new gU(l,l._imageBufferWrapper),l._imageBufferWrapper=l._ImgManager,l._ImagePrint=new Qce(l),c=u||{},l._config=c,l._destroying=xe,l._iServiceType=hE.TwainService,l.__addon={},l._bNoMask=xe,l._bNotShowMessage=xe,l._bSelectedSourceByServer=xe,l._bKeepAwake=xe,l._bAx=xe,c.container&&(l._containerElement=c.container),l.__IfShowCancelDialogWhenImageTransfer=rt,l._errorCode=0,l._errorString="",l.__bLoadingImage=xe,l.__bAcquireImageNow=xe,l.__bOpenFileNow=xe,l.__defaultSourceName="",l.__sourceCount=0,l._bConnecting=xe,l.__licenseInfo=void 0,l.__strProductName=B.DWT.ProductName,l.__productKey="",l._moduleSize=1048576,l._driverType=qt.TWAIN,l.__maxUploadImageSize=-1,l._bServerPercentDone=rt,l._bSSL=ue.bSSL,l._bRegistedLoad=!1,l._logLevel=0,l._scaleDownThreshold=0,l._pdfWriteSetting={},l.__serverPlatform=Et.enumUnknown,l._reconnectTimeSpan=Or.LocaleReconnectTimeSpan,l._bRemoteMode||(l.httpFormFields={},l.HTTPPassword="",l.HTTPPort=V.detect.ssl?443:80,l.HTTPUserName="",l.__HTTPPostResponseString="",l.__remoteFilename="RemoteFile",l.__httpHeaderMap=xe,l._b64bit?l._segementUploadThreshold=4294967296:l._segementUploadThreshold=524288e3,l._aryTiffTag=[],l._tiffCompressionType=B.DWT.EnumDWT_TIFFCompressionType.TIFF_AUTO,l._jpgQuality=80,l._pdfConvertMode=3,l._pdfOptions={convertMode:gr.CM_AUTO,password:"",renderOptions:{renderAnnotations:!1,resolution:200,maxWidth:0,maxHeight:0,renderGrayscale:!1}}),Yce(l),Xt(f=l,"Width",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("Width"),""):f._UIView.GetWidth():""},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("Width"):f._UIView.SetWidth(m))}}),Xt(f,"Height",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("Height"),""):f._UIView.GetHeight():""},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("Height"):f._UIView.SetHeight(m))}}),Xt(f,"AllowMultiSelect",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?f._nouiNotSupport("AllowMultiSelect"):f._UIView.GetAllowMultiSelect():""},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("AllowMultiSelect"):void f._UIView.SetAllowMultiSelect(m))}}),Xt(f,"BackgroundColor",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("BackgroundColor"),""):f._UIView.GetBackgroundColor():""},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("BackgroundColor"):f._UIView.SetBackgroundColor(m))}}),Xt(f,"BackgroundFillColor",{get:function(){if(f._resetErr(),!f._isValid())return"";if(f._isNoViewer())return f._nouiNotSupport("BackgroundFillColor"),"";var m=f._innerFun("BackgroundFillColor");return Jo.BGR2RGB(m)},set:function(m){if(f._resetErr(),!f._isValid())return!1;if(f._isNoViewer())return f._nouiNotSupport("BackgroundFillColor");var v,S=1*m;return!p.isNumber(S)||p.isNaN(S)?(Vn(f),xe):(v=Jo.RGB2BGR(S),f._innerFun("BackgroundFillColor",Ve(v)))}}),Xt(f,"FitWindowType",{get:function(){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?(f._nouiNotSupport("FitWindowType"),0):f._UIView.GetFitWindowType())},set:function(m){if(f._resetErr(),!f._isValid())return!1;if(f._isNoViewer())return f._nouiNotSupport("FitWindowType");var v=1*m;return f._UIView.SetFitWindowType(v)}}),Xt(f,"IfFitWindow",{get:function(){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("IfFitWindow"):f._UIView.GetIfFitWindow())},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("IfFitWindow"):m?f._UIView.SetIfFitWindow(!0):f._UIView.SetIfFitWindow(!1))}}),Xt(f,"ImageMargin",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("ImageMargin"),0):f._UIView.GetImageMargin():0},set:function(m){if(f._resetErr(),!f._isValid())return!1;if(f._isNoViewer())return f._nouiNotSupport("ImageMargin");var v=parseInt(m);return!isNaN(v)&&f._UIView.SetImageMargin(v)}}),Xt(f,"MouseX",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("MouseX"),0):f.__MouseX:0}}),Xt(f,"MouseY",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("MouseY"),0):f.__MouseY:0}}),Xt(f,"SelectionImageBorderColor",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("SelectionImageBorderColor"),""):f._UIView.GetSelectionImageBorderColor():""},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("SelectionImageBorderColor"):f._UIView.SetSelectionImageBorderColor(m))}}),Xt(f,"Zoom",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("Zoom"),0):f._UIView.GetZoom():0},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("Zoom"):f._UIView.SetZoom(m))}}),Xt(f,"MouseShape",{get:function(){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("MouseShape"):f._UIView.GetMouseShape())},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("MouseShape"):f._UIView.SetMouseShape(m))}}),Xt(f,"SelectionRectAspectRatio",{get:function(){return f._resetErr(),f._isValid()?f._isNoViewer()?(f._nouiNotSupport("SelectionRectAspectRatio"),0):f._UIView.GetSelectionRectAspectRatio():0},set:function(m){if(f._resetErr(),!f._isValid())return!1;if(f._isNoViewer())return f._nouiNotSupport("SelectionRectAspectRatio");var v=parseFloat(m);return v>=0&&(f._UIView.SetSelectionRectAspectRatio(v),!0)}}),Xt(f,"ShowPageNumber",{get:function(){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("ShowPageNumber"):f._UIView.GetShowPageNumber())},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("ShowPageNumber"):f._UIView.SetShowPageNumber(m))}}),Xt(f,"IfAutoScroll",{get:function(){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("IfAutoScroll"):f._UIView.GetIfAutoScroll())},set:function(m){return f._resetErr(),!!f._isValid()&&(f._isNoViewer()?f._nouiNotSupport("IfAutoScroll"):f._UIView.SetIfAutoScroll(m))}}),l._innerInitEvents(c),l}return F(n,r),y(n,[{key:"GetImageDataAsync",value:function(u){return this._ImgManager.getImageData(u)}},{key:"SetCustomDataAsync",value:function(u,l){return this._ImgManager.setCustomData(u,l)}},{key:"style",get:function(){return this.__style}},{key:"GetSourceNamesAsync",value:(s=a(E().mark(function u(l){var c;return E().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if((c=this)._resetErr(),c._isValid()){f.next=4;break}throw{code:c._errorCode,message:c._errorString};case 4:return Xr("GetSourceNamesAsync",c),f.prev=5,f.next=8,c._getSourceCountAsync(c._driverType);case 8:f.next=13;break;case 10:throw f.prev=10,f.t0=f.catch(5),f.t0;case 13:return f.prev=13,kr("GetSourceNamesAsync"),f.finish(13);case 16:if(!l){f.next=20;break}return f.abrupt("return",Dn(bn,c,s4).call(c));case 20:return f.abrupt("return",Dn(bn,c,u4).call(c));case 21:case"end":return f.stop()}},u,this,[[5,10,13,16]])})),function(u){return s.apply(this,arguments)})},{key:"SelectSourceAsync",value:function(u){var l;return l=kn.dialogText.selectSource,this._selectSourceAsync("SelectSourceAsync",u,l)}},{key:"SelectSourceByIndexAsync",value:function(u){return this._selectSourceByIndexAsync("SelectSourceByIndex",u)}},{key:"OpenSourceAsync",value:function(){return this._openSourceAsync("OpenSourceAsync")}},{key:"CloseSourceAsync",value:function(){return this._closeSourceAsync("CloseSourceAsync")}},{key:"OpenSourceManagerAsync",value:function(){var u=this;return u._resetErr(),u._isValid()?u._innerFunV2("OpenSourceManager"):V.Promise.reject({code:u._errorCode,message:u._errorString})}},{key:"CloseSourceManagerAsync",value:function(){var u=this;return u._resetErr(),u._isValid()?u._innerFunV2("CloseSourceManager"):V.Promise.reject({code:u._errorCode,message:u._errorString})}},{key:"AcquireImage",value:function(u,l,c){var f,m=this,v=null,S=null;return m._resetErr(),!!m._isValid()&&(p.isUndefined(c)&&(p.isFunction(u)&&p.isFunction(l)||p.isFunction(u)&&p.isUndefined(l)||p.isFunction(u)&&l==null||u==null&&p.isFunction(l))?(f={},p.isFunction(u)&&(v=u),p.isFunction(l)&&(S=function(_){_&&_.code&&(m._errorCode=_.code,m._errorString=_.message),l(m._errorCode,m._errorString)})):(f=p.isUndefined(u)||u==null?{}:p.clone(u),p.isFunction(l)&&(v=function(){l(f)}),p.isFunction(c)&&(S=function(_){_&&_.code&&(m._errorCode=_.code,m._errorString=_.message),c(f,m._errorCode,m._errorString)})),v||(v=function(){}),S||(S=function(_){_&&_.code&&(m._errorCode=_.code,m._errorString=_.message)}),m.AcquireImageAsync(f).then(v,S),!Ui.isServerInvalid(m))}},{key:"GetDevicesAsync",value:function(u,l,c){return this._getDevicesAsync("GetDevicesAsync",u,l,c)}},{key:"SelectDeviceAsync",value:function(u,l){var c=this;return c._resetErr(),c._isValid()?this._selectDeviceAsync("SelectDeviceAsync",u,l):V.Promise.reject({code:c._errorCode,message:c._errorString})}},{key:"AcquireImageAsync",value:function(u){return w(x(n.prototype),"_acquireImage",this).call(this,this._curDevice,u)}},{key:"ImageIDToIndex",value:function(u){return this._uidFromServer2index(u)}},{key:"IndexToImageID",value:function(u){return this._index2uidFromServer(u)}},{key:"RemoveImage",value:function(u){return this._removeImage("RemoveImage",u)}},{key:"_innerGetSourceNamesSync",value:function(u){var l=this;return l._getSourceCountSync(),u?Dn(bn,l,s4).call(l):Dn(bn,l,u4).call(l)}},{key:"getCapabilities",value:function(u,l,c){var f,m,v,S=this;return V.isFunction(u)?(m=u,v=l):(f=u,m=l,v=c),!p.isUndefined(f)&&(!p.isArray(f)||p.isArray(f)&&f.indexOf(null)>=0||p.isString(f)&&f.trim().length==0)?($t(S),void(p.isFunction(v)&&v(S._errorCode,S._getErrorString()))):this._dwtGetCapabilities(f,m,v)}},{key:"setCapabilities",value:function(u,l,c){return this._dwtSetCapabilities(u,l,c)}},{key:"CancelAllPendingTransfers",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CancelAllPendingTransfers")}},{key:"CloseSource",value:function(){var u=this;if(u._resetErr(),!u._isValid())return!1;var l=u._innerFun("CloseSource");return l&&(u._curDevice=null),l}},{key:"CloseSourceManager",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("CloseSourceManager")}},{key:"SelectDevice",value:function(u,l){var c,f=this;if(u&&u.deviceType,f._resetErr(),B.DWT.ConnectWithSocket)return Fe(f,-2400,"SelectDevice doesn't work under current settings."),!1;var m,v=(c=this._dmService.attrs)===null||c===void 0?void 0:c.UUID;if(v&&((m=u.serviceInfo.attrs)===null||m===void 0?void 0:m.UUID)!=v){var S,_=((S=u.serviceInfo.attrs)===null||S===void 0?void 0:S.url)||u.serviceInfo.server;if(!(_&&_.indexOf(v)>-1))return YR(f),!1}var b=!1;try{(b=Dn(bn,this,Jce).call(this,u.strDevice,l))&&(this._curDevice=u,this._bSelectedSourceByServer=!1)}catch(I){b=!1,this._errorCode=kt.CommonError,I&&I.message&&(this._errorString=I.message)}return b}},{key:"DisableSource",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("DisableSource")}},{key:"FeedPage",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("FeedPage")}},{key:"GetDeviceType",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("GetDeviceType")}},{key:"GetSourceNameItems",value:function(u){var l=this;return l._resetErr(),!!l._isValid()&&(l.__sourceCount<0&&(l.__sourceCount=0),u<l.__sourceCount&&u>=0?l._getSourceNameByIndex(u):"")}},{key:"SourceNameItems",value:function(u){var l=this;return l._resetErr(),!!l._isValid()&&l.GetSourceNameItems(u)}},{key:"GetSourceNames",value:function(u){return this._innerGetSourceNamesSync(u)}},{key:"getSourceCount",value:function(u){return this._getSourceCountAsync(u)}},{key:"GetSourceCountAsync",value:function(u){return this._getSourceCountAsync(u)}},{key:"GetSourceType",value:function(u){var l=this,c=parseInt(u);if(l._resetErr(),isNaN(c))return $t(l),!1;if(l.__devices==null&&l.GetSourceNames(!1),c>=l.__devices.length||c<0)return qe(l),!1;var f,m,v,S=l.__devices[c];return f=S.deviceType,m=qt.TWAIN,(v=f&g$)==ht.TWAINSCANNER||v==ht.WIATWAINSCANNER||(v==ht.TWAINX64SCANNER?m=qt.TWAIN64:v==ht.ICASCANNER?m=qt.ICA:v==ht.SANESCANNER?m=qt.SANE:(v&ht.TWAINX64SCANNER)==ht.TWAINX64SCANNER?(v&ht.TWAINSCANNER)!=ht.TWAINSCANNER&&(v&ht.WIATWAINSCANNER)!=ht.WIATWAINSCANNER||(m=qt.TWAIN_AND_TWAIN64):(v&ht.ICASCANNER)==ht.ICASCANNER&&((v&ht.TWAINSCANNER)!=ht.TWAINSCANNER&&(v&ht.WIATWAINSCANNER)!=ht.WIATWAINSCANNER||(m=qt.TWAIN_AND_ICA))),m}},{key:"OpenSource",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&(u._bRemoteMode?(Fe(u,-2610,"OpenSource is not supported when Object is created by CreateRemoteScanObjectAsync. Please use OpenSourceAsync instead."),!1):u._innerFun("OpenSource"))}},{key:"OpenSourceManager",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("OpenSourceManager")}},{key:"ResetImageLayout",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("ResetImageLayout")}},{key:"RewindPage",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("RewindPage")}},{key:"SelectSource",value:function(u,l){var c=this,f=!1;if(p.isFunction(u)&&(f=!0),c._resetErr(),!c._isValid())return!!f&&void 0;var m=qt.TWAIN;if(!f){if(c._bRemoteMode)return Fe(c,-2438,"SelectSource cannot be used synchronously when Object is created by CreateRemoteScanObjectAsync. Please use SelectSourceAsync instead."),!1;if(c._driverType==qt.TWAIN_AND_TWAIN64)return function(P){Fe(P,-2429,"The method SelectSource() must be invoked asynchronously (i.e. with callback functions) when ImageCaptureDriverType is set to TWAIN_AND_ICA or TWAIN_AND_TWAIN64.")}(c),!1;c._driverType!=qt.ICA&&c._driverType!=qt.SANE&&c._driverType!=qt.TWAIN64||(m=c._driverType);var v=ue.bMac,S=ue.bLinux,_=d_(m,ue.bWin,S,v,ue.bAndroid);return c._bSelectedSourceByServer=!0,c._curDevice=null,c._innerFun("SelectSource",Ve(_))}c._driverType!=qt.ICA&&c._driverType!=qt.SANE&&c._driverType!=qt.TWAIN64&&c._driverType!=qt.TWAIN_AND_TWAIN64||(m=c._driverType);var b=ue.bMac,I=ue.bLinux,A=d_(m,ue.bWin,I,b,ue.bAndroid);c.SelectSourceAsync(A).then(function(){p.isFunction(u)&&u()},function(P){P&&P.code&&(c._errorCode=P.code,c._errorString=P.message),p.isFunction(l)&&l(c._errorCode,c._getErrorString())})}},{key:"GetSourceTypeAsync",value:function(u){var l=this,c=1*u;return l._resetErr(),l._isValid()?V.Promise.resolve(l.GetSourceType(c)):V.Promise.reject({code:l._errorCode,message:l._errorString})}},{key:"SetFileXferInfo",value:function(u,l){var c,f,m=this;return m._resetErr(),!!m._isValid()&&(c=ue.bFileSystem?u.replace(/<%/g,"<%25"):u,f=xt.replaceLocalFilename(c),m._innerFun("SetFileXferInfo",Ve(f,l)))}},{key:"SetImageLayout",value:function(u,l,c,f){var m=this;return m._resetErr(),!!m._isValid()&&m._innerFun("SetImageLayout",Ve(u,l,c,f))}},{key:"CapGet",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGet")}},{key:"CapGetCurrent",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetCurrent")}},{key:"CapGetDefault",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetDefault")}},{key:"CapGetFrameBottom",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameBottom",Ve(u))}},{key:"CapGetFrameLeft",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameLeft",Ve(u))}},{key:"CapGetFrameRight",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameRight",Ve(u))}},{key:"CapGetFrameTop",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameTop",Ve(u))}},{key:"CapGetHelp",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetHelp")}},{key:"CapGetLabel",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetLabel")}},{key:"CapGetLabels",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetLabels")}},{key:"CapIfSupported",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapIfSupported",Ve(u))}},{key:"CapReset",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapReset")}},{key:"CapSet",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapSet")}},{key:"CapSetFrame",value:function(u,l,c,f,m){return this._resetErr(),!!this._isValid()&&this._innerFun("CapSetFrame",Ve(u,l,c,f,m))}},{key:"GetCapItems",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("GetCapItems",Ve(u))}},{key:"GetCapItemsString",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("GetCapItemsString",Ve(u))}},{key:"SetCapItems",value:function(u,l){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCapItems",Ve(u,l))}},{key:"SetCapItemsString",value:function(u,l){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCapItemsString",Ve(u,l))}},{key:"GenerateURLForUploadData",value:function(u,l,c,f,m){var v=this,S=[];if(l==B.DWT.EnumDWT_ImageType.IT_BMP||l==B.DWT.EnumDWT_ImageType.IT_JPG||l==B.DWT.EnumDWT_ImageType.IT_PNG){if(!p.isArray(u))return wd(v),p.isFunction(f)&&f(v._errorCode,v._getErrorString(),"",u,l),"";if(u.length>1)return Id(v),p.isFunction(f)&&f(v._errorCode,v._getErrorString(),"",u,l),"";if(!v._checkIndices(u))return f(v._errorCode,v._getErrorString(),"",u,l),!1;var _=v._ImgManager.convertClientIndexToServerId(u[0]);_!=-1&&S.push(_)}else{if(l!=B.DWT.EnumDWT_ImageType.IT_TIF&&l!=B.DWT.EnumDWT_ImageType.IT_PDF)return p.isArray(u)?Li(v):wd(v),p.isFunction(f)&&f(v._errorCode,v._getErrorString(),v.__HTTPPostResponseString,u,l),"";var b,I;if(p.isArray(u)){if(!v._checkIndices(u))return f(v._errorCode,v._getErrorString(),"",u,l),!1;b=u}else{if(u!=-1)return wd(v),p.isFunction(f)&&f(v._errorCode,v._getErrorString(),v.__HTTPPostResponseString,u,l),"";for(b=[],I=0;I<v._ImgManager.count();I++)b.push(I)}p.each(b,function(A){var P=v._ImgManager.convertClientIndexToServerId(A);P!=-1&&S.push(P)})}return p.isFunction(c)&&p.isFunction(f)?(v._asyncGenerateURLForUploadData(S,l,m,c,function(A){f(v._errorCode,v._getErrorString(),v.__HTTPPostResponseString,A,l)}),!0):this._syncGenerateURLForUploadData(S,l,m)}},{key:"_syncGenerateURLForUploadData",value:function(u,l,c){var f,m=this,v=!1,S=Pt.managerVersion.join(""),_=c,b=",";p.isString(_)&&_!=""||(_="",b="");var I=["[",'"dcp","dwasm_'+S,'",',l,',"',u.join(","),'"',b,_,"]"].join("");if((f=this._innerFunRaw("GenerateURLForUploadData",I,!1,!1,!0))&&p.isArray(f.result)&&f.result.length>1){var A=f.result[0],P=f.result[1];A==1&&(v=["dcp://dwasm_",S,"/file/",P].join(""))}return p.isArray(u)&&p.each(u,function(L){m._ImgManager.convertServerIdToClientIndex(L)}),v==0?(gT(m),""):v}},{key:"_asyncGenerateURLForUploadData",value:function(u,l,c,f,m){var v=this,S=l,_=function(){if(p.isFunction(m)){var $=[];p.isArray(u)&&p.each(u,function(ee){var q=v._ImgManager.convertServerIdToClientIndex(ee);q>-1&&$.push(q)}),m($)}return""},b=",";if(S==B.DWT.EnumDWT_ImageType.IT_BMP||S==B.DWT.EnumDWT_ImageType.IT_JPG||S==B.DWT.EnumDWT_ImageType.IT_PNG){if(u.length>1)return Id(v),_(),""}else if(S!=B.DWT.EnumDWT_ImageType.IT_TIF&&S!=B.DWT.EnumDWT_ImageType.IT_PDF)return Li(v),_(),"";var I=!1,A=Pt.managerVersion.join(""),P=c;p.isString(P)&&P!=""||(P="",b="");var L=["[",'"dcp","dwasm_'+A,'",',S,',"',u.join(","),'"',b,P,"]"].join("");return this._innerFunRaw("GenerateURLForUploadData",L,!0,!1,!0,function($){if($&&p.isArray($.result)&&$.result.length>0)if($.result[0]==1&&$.result.length>1){var ee=$.result[1];I=["dcp://dwasm_",A,"/file/",ee].join("")}else $.exception!==void 0&&$.description!==void 0?(v._errorCode=$.exception,v._errorString=$.description):gT(v);else gT(v);if(I==0)return _(),"";if(p.isFunction(f)){var q=[];p.isArray(u)&&p.each(u,function(Q){var J=v._ImgManager.convertServerIdToClientIndex(Q);J>-1&&q.push(J)}),f(I,q,l)}return I},_)}},{key:"SelectSourceByIndex",value:function(u){var l=this,c=parseInt(u);if(l._resetErr(),isNaN(c))return $t(l),!1;if(l.__devices==null&&l.GetSourceNames(!1),c>=l.__devices.length||c<0)return qe(l),!1;var f=l.__devices[c];return l.SelectDevice(f)}},{key:"EnableSource",value:function(u,l,c){var f=this;return f._resetErr(),!!f._isValid()&&f.AcquireImage(u,l,c)}},{key:"SourceCount",get:function(){return this._getSourceCountSync()}},{key:"CurrentSourceName",get:function(){return this._curDevice?this._curDevice.displayName:""}},{key:"checkStartScanParams",value:function(u,l){var c=this;if(!u)return Fe(c,-2381,"scanSetup is invalid."),!1;if(!p.isUndefined(l.transferMode)&&u.transferMode!=0&&u.transferMode!=1&&u.transferMode!=2)return function(f){Fe(f,-2382,"Scanner setup error: Invalid Transfer Mode.")}(c),!1;if(u.transferMode==B.DWT.EnumDWT_TransferMode.TWSX_FILE){if(!u.fileXfer)return function(f){Fe(f,-2383,"Scanner setup error: fileXfer is invalid.")}(c),!1;if(!p.isString(u.fileXfer.fileName)||u.fileXfer.fileName=="")return function(f){Fe(f,-2384,"Scanner setup error: Invalid fileName in fileXfer.")}(c),!1;if(!p.isNumber(u.fileXfer.fileFormat)||u.fileXfer.fileFormat<0||u.fileXfer.fileFormat>16)return function(f){Fe(f,-2385,"Scanner setup error: Invalid fileFormat in fileXfer.")}(c),!1}if(l){if(!p.isString(l.type)||l.type=="")return function(f){Fe(f,-2387,"Output setup error: Invalid type in outputSetup.")}(c),!1;if(!l.httpParams)return function(f){Fe(f,-2386,"Output setup error: Invalid httpParams in outputSetup.")}(c),!1;if(u.transferMode!=B.DWT.EnumDWT_TransferMode.TWSX_FILE&&p.isUndefined(l.format))return function(f){Fe(f,-2390,"Output setup error: Invalid format in outputSetup.")}(c),!1;if(!p.isString(l.httpParams.url)||l.httpParams.url=="")return function(f){Fe(f,-2388,"Output setup error: Invalid url in outputSetup.httpParams.")}(c),!1;if(!p.isString(l.httpParams.fileName)||l.httpParams.fileName=="")return function(f){Fe(f,-2389,"Output setup error: Invalid fileName in outputSetup.httpParams.")}(c),!1}return!0}},{key:"startScan",value:function(u){var l,c=this,f=u;if(c._resetErr(),!c._isValid())return!1;if(c._startScanFlag==1)return Fe(l={},-2432,"Operation in progress, please try again when the current operation has finished."),V.Promise.reject({code:l._errorCode,message:l._errorString});c._startScanFlag=!0,p.isObject(f)||(f={});var m,v,S,_=!1,b=!1,I=!0,A=!0,P=!0,L=!1,$=f.onFinally,ee=[],q=[],Q=0,J=1,te=[],H={type:"http",format:B.DWT.EnumDWT_ImageType.IT_PDF,reTries:3,useUploader:!1,singlePost:!0,showProgressBar:!0,removeAfterOutput:!0,httpParams:{url:"",headers:{},formFields:{},remoteName:"RemoteFile",fileName:""}},k=p.clone(f),M=f;if(S=k.funcScanStatus,delete k.funcScanStatus,p.isFunction(S)?k.bfuncScanStatus=!0:k.bfuncScanStatus=!1,k.outputSetup){var U={pdfSetup:{},tiffSetup:{}};c4(k.outputSetup,H),v=k.outputSetup,delete k.outputSetup,v.pdfSetup&&(v.format!=B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF&&v.format!=B.DWT.EnumDWT_ImageType.IT_PDF||p.mix(U.pdfSetup,v.pdfSetup)),v.tiffSetup&&(v.format!=B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&v.format!=B.DWT.EnumDWT_ImageType.IT_TIF||p.mix(U.tiffSetup,v.tiffSetup)),v.format!=B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF&&v.format!=B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF||(v.singlePost=!0),v.httpParams&&p.isNumber(v.httpParams.threads)&&(J=v.httpParams.threads),_=p.stringify(U),b=c.checkStartScanParams(k,v)}else(v=H).type="",b=c.checkStartScanParams(k,!1);if(!b)return new V.Promise(function(pt,lt){I&&(lt({code:c._errorCode,message:c._getErrorString(),response:""}),I=!1,c._startScanFlag=!1)});v.funcHttpUploadStatus&&(L=v.funcHttpUploadStatus);var G,z,Z,ie,se,re,ae=c.__remoteFilename,Se=c.MaxUploadImageSize,ge=c.IfShowProgressBar,ve=c.__OnPostTransferAsync,Me=c.__OnPostAllTransfers,Qe=c.__OnHttpUploadStatus,ze=c.__insertingIndex,yt=c.__IfAppendImage,at=c.httpFormFields,gt=c._tiffCompressionType,Ct=!1,Be=v.showProgressBar;if(G=function(pt){var lt=!0;p.each(te,function(Xe,dr){Xe.st==-1&&(lt=!1)}),lt?z(pt):setTimeout(function(){G(pt)},200)},z=function(pt){pt.__OnPostTransferAsync=ve,pt.__OnPostAllTransfers=Me,pt.__OnHttpUploadStatus=Qe,pt.__remoteFilename=ae,pt.__maxUploadImageSize=Se,pt.IfShowProgressBar=ge,pt.__insertingIndex=ze,pt.__IfAppendImage=yt,pt.httpFormFields=at,pt._tiffCompressionType=gt,B.FileUploader&&(B.FileUploader.nextLoopTime=600),pt._startScanFlag=!1},Z=function(pt,lt,Xe){A?(lt(Xe),G(pt)):setTimeout(function(){Z(pt,lt,Xe)},200)},ie=function(pt,lt){Ct=!0,I&&(I=!1,A||c._innerSendCmd("CancelAllPendingTransfers"),Z(c,pt,lt))},se=function(pt,lt,Xe,dr){if(p.isFunction(L)){var fn,Gt=lt,Zt=0;p.isNumber(dr)&&dr>0&&(Zt=dr),fn={fileName:Gt,percentage:Xe,statusCode:Zt,responseString:pt.__HTTPPostResponseString},setTimeout(function(){L(fn)},10)}},c.__HTTPPostResponseString="",c.IfShowProgressBar=Be,p.isNumber(k.insertingIndex)&&k.insertingIndex>-1&&(c.__insertingIndex=k.insertingIndex,c.__IfAppendImage=!1),p.isFunction(L)?c.__OnHttpUploadStatus=L:c.__OnHttpUploadStatus=!1,v.useUploader&&!B.FileUploader)return new V.Promise(function(pt,lt){Fe(c,-2380,"Please make sure the Uploader Module has been installed.");var Xe={code:c._errorCode,message:c._getErrorString(),response:""};A=!0,ie(lt,Xe)});if(m=v.reTries,v.useUploader){if(v.httpParams&&(re=v.httpParams.url),!p.startsWith(re,"http://")&&!p.startsWith(re,"https://")){var Oe=window.location.href,tt=Oe.lastIndexOf("/");Oe=Oe.substring(0,tt+1),v.httpParams.url=Oe+re}}else v.httpParams&&(p.each(v.httpParams.headers,function(pt,lt){c.SetHTTPHeader(lt,pt)}),p.each(v.httpParams.formFields,function(pt,lt){c.SetHTTPFormField(lt,pt)}));return v.httpParams&&v.httpParams.remoteName!==""&&(c.__remoteFilename=v.httpParams.remoteName),new V.Promise(function(pt,lt){v.useUploader?B.FileUploader.Init(0,function(Xe){pt({uploadManager:Xe})},function(Xe,dr){c._errorCode=Xe,c._errorString=dr;var fn={code:Xe,message:dr,response:c.__HTTPPostResponseString};A=!0,ie(lt,fn)}):pt({})}).then(function(pt){return new V.Promise(function(lt,Xe){var dr=function(){(k.transferMode==B.DWT.EnumDWT_TransferMode.TWSX_FILE?Q==q.length:Q==ee.length)?(V.closeProgress(null,"Scan Upload"),Ct=!0,lt(M),z(c)):setTimeout(dr,100)};S&&p.isFunction(S)&&(c.__OnPreAllTransfersAsync=function(Gt){S(Gt)}),c.registerEvent("OnPostTransferAsync",function(Gt){var Zt,xr,Ei,pi,Ai,qn,ca=v.httpParams&&v.httpParams.url,Tn=c._uidFromServer2ServerId(Gt.imageId),Zn=v.singlePost,tn=k.transferMode==B.DWT.EnumDWT_TransferMode.TWSX_FILE,la=v.removeAfterOutput,Hn=0;if(P&&(A=!1,P=!1),tn?(Hn=q.length,q.push(Gt.path)):(Hn=ee.length,ee.push(Tn)),S&&p.isFunction(S)){var Sg={event:"postTransfer",bScanCompleted:!1,result:{currentPageNum:Hn+1}};setTimeout(function(){S(Sg)},10)}if(Ct)return!1;if(v.type=="http")if(v.httpParams&&(xr=ho(v.httpParams.fileName,Hn+1),Ei=ho(v.httpParams.remoteName,Hn+1)),Zn||v.type!="http")!Zn&&v.type;else if(v.httpParams&&p.isNumber(v.httpParams.maxSizeLimit)&&(c.__maxUploadImageSize=v.httpParams.maxSizeLimit),v.useUploader){Be?(B.FileUploader.nextLoopTime=300,V.showProgress(c,"Scan Upload",c.__IfShowCancelDialogWhenImageTransfer)):V.hideProgress(),pi=function(rn,Kt){return c.__HTTPPostResponseString=Kt,se(c,rn._fileName,100,200),c._OnPercentDone([0,100,"","http",rn._fileName]),Be&&V.closeProgress(null,"Scan Upload"),!tn&&v.removeAfterOutput?setTimeout(function(){c._ImgManager.convertServerIdToClientIndex(Tn)>-1?Dn(bn,c,ua).call(c,Tn,function(){Q++},function(){Q++}):Q++},100):Q++,!0};var vc,Ht=pt.uploadManager;if(Ai=function(){if(Be){var rn,Kt=0;for(Kt=tn?q.length:ee.length,rn=0;rn<Kt;rn++)V.closeProgress(null,"Scan Upload")}!tn&&v.removeAfterOutput&&setTimeout(function(){c._ImgManager.convertServerIdToClientIndex(Tn)>-1&&Dn(bn,c,ua).call(c,Tn)},100),Ht.CancelAllUpload();var da={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};return ie(Xe,da),!1},qn=function(rn,Kt,da,ja){var sr=303;Kt==Cf.TRANS_SERVICE_ERROR_404?sr=404:Kt==Cf.TRANS_SERVICE_ERROR_500?sr=500:Kt==Cf.TRANS_SERVICE_ERROR_503&&(sr=503),c._errorCode=Kt,c._errorString=da,c.__HTTPPostResponseString=ja,se(c,xr,100,sr),Ai()},vc=function(){c.__HTTPPostResponseString="",se(c,xr,100,303),Ai()},tn){var ei=Ht.CreateJob(),bg=ei.FormField;v.httpParams&&(p.each(v.httpParams.headers,function(rn,Kt){ei.HttpHeader[Kt]=rn}),p.each(v.httpParams.formFields,function(rn,Kt){bg.Add(Kt,rn)})),ei.ServerUrl=ca,ei.bDeleteFile=la,ei.reTries=m,v.httpParams&&p.isNumber(v.httpParams.maxSizeLimit)&&(ei.maxSizeLimit=v.httpParams.maxSizeLimit),ei._fileName=xr,ei.SourceValue.Add(Gt.path,xr,Ei),ei.ImageType=k.fileXfer.fileFormat,ei.ThreadNum=J,ei.OnRunSuccess=pi,ei.OnRunFailure=qn,(Be||p.isFunction(L))&&(ei.OnUploadTransferPercentage=function(rn,Kt){Kt>0&&Kt<=100&&(c._OnPercentDone([0,Kt,"","http",rn._fileName]),p.isFunction(L)&&se(c,rn._fileName,Kt,0))},V.cancelFrom=Lt.Scan,Be&&Dn(bn,c,kE).call(c,Ai),c._OnPercentDone([0,-1,br.Uploading,"http",xr]),se(c,xr,0,0)),Ht.Run(ei)}else(Zt=v.format)==B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?Zt=B.DWT.EnumDWT_ImageType.IT_PDF:Zt==B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(Zt=B.DWT.EnumDWT_ImageType.IT_TIF),V.cancelFrom=Lt.Scan,Be&&Dn(bn,c,kE).call(c,Ai),c._OnPercentDone([0,-1,br.Encoding,"http",xr]),c._asyncGenerateURLForUploadData([Tn],Zt,_,function(rn){var Kt=Ht.CreateJob(),da=Kt.FormField;v.httpParams&&(p.each(v.httpParams.headers,function(ja,sr){Kt.HttpHeader[sr]=ja}),p.each(v.httpParams.formFields,function(ja,sr){da.Add(sr,ja)})),Kt.ServerUrl=ca,Kt.bDeleteFile=la,Kt.reTries=m,v.httpParams&&p.isNumber(v.httpParams.maxSizeLimit)&&(Kt.maxSizeLimit=v.httpParams.maxSizeLimit),Kt._fileName=xr,Kt.SourceValue.Add(rn,xr,Ei),Kt.ImageType=Zt,Kt.ThreadNum=J,Kt.OnRunSuccess=pi,Kt.OnRunFailure=qn,(Be||p.isFunction(L))&&(Kt.OnUploadTransferPercentage=function(ja,sr){sr>0&&sr<=100&&(c._OnPercentDone([0,sr,"","http",ja._fileName]),p.isFunction(L)&&se(c,ja._fileName,sr,0))},c._OnPercentDone([0,-1,br.Uploading,"http",xr]),se(c,xr,0,0)),Ht.Run(Kt)},vc)}else{var Wo={id:Tn,st:-1,bCancel:!1};if(te.push(Wo),Hn==0&&(Be?V.showProgress(c,"Scan Upload",c.__IfShowCancelDialogWhenImageTransfer):V.hideProgress()),tn)pi=function(rn){return Wo.st=0,!tn&&v.removeAfterOutput?setTimeout(function(){c._ImgManager.convertServerIdToClientIndex(Tn)>-1?Dn(bn,c,ua).call(c,Tn,function(){Q++},function(){Q++}):Q++},100):Q++,!0},Ai=function(){!tn&&v.removeAfterOutput&&setTimeout(function(){c._ImgManager.convertServerIdToClientIndex(Tn)>-1&&Dn(bn,c,ua).call(c,Tn)},100);var rn={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};return V.closeProgress(null,"Scan Upload"),Wo.st==2||(Wo.st=1,p.each(te,function(Kt,da){Kt.st==-1&&(Kt.bCancel=!0)}),ie(Xe,rn)),!1},c._innerUploadDirectly(ca,Gt.path,xr,Be,la,m,!1,Wo,pi,Ai);else{if(pi=function(rn,Kt){return Wo.st=0,!tn&&v.removeAfterOutput?setTimeout(function(){c._ImgManager.convertServerIdToClientIndex(Tn)>-1?Dn(bn,c,ua).call(c,Tn,function(){Q++},function(){Q++}):Q++},100):Q++,!0},Ai=function(rn){!tn&&v.removeAfterOutput&&setTimeout(function(){c._ImgManager.convertServerIdToClientIndex(Tn)>-1&&Dn(bn,c,ua).call(c,Tn)},100);var Kt={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};return V.closeProgress(null,"Scan Upload"),Wo.st==2||(Wo.st=1,p.each(te,function(da,ja){da.st==-1&&(da.bCancel=!0)}),ie(Xe,Kt)),!1},Zt=v.format,p.isUndefined(Zt)){var W0=c._ImgManager.convertServerIdToClientIndex(Tn);return Li(c),Ai([W0]),!1}Zt==B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?Zt=B.DWT.EnumDWT_ImageType.IT_PDF:Zt==B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(Zt=B.DWT.EnumDWT_ImageType.IT_TIF);var B0={method:"startScan",url:ca,serverIds:[Tn],headers:c._GetHttpHeadersAndClear(),formData:pc(c.httpFormFields),enumImageType:Zt,saveSetup:_,fileName:xr,dataFormat:dE.Binary,retry:m,bOnlyResponseEmptyIsOK:!1,objUploadFileStatus:Wo,asyncSuccessFunc:pi,asyncFailureFunc:Ai};c._asyncUploadCmd(B0)}}}),c.__OnPostAllTransfers=function(){var Gt,Zt,xr=-1,Ei=dE.Binary,pi=v.httpParams.url,Ai=v.singlePost,qn=k.transferMode==B.DWT.EnumDWT_TransferMode.TWSX_FILE,ca=v.removeAfterOutput;if(S&&p.isFunction(S)&&(xr=qn?q.length:ee.length,Zt={event:"postTransfer",bScanCompleted:!0,result:{currentPageNum:xr}},setTimeout(function(){S(Zt)},10)),xr==0)return function(sr){Fe(sr,-1029,"Source has nothing to capture.")}(c),void setTimeout(function(){A=!0,$&&p.isFunction($)&&$();var sr={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};ie(Xe,sr)},1e3);if(xr>0&&c._errorCode==-1029)c._errorCode=0;else if(c._errorCode!=0){A=!0,$&&p.isFunction($)&&$();var Tn={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};return void ie(Xe,Tn)}if(v.type=="http"){if(Ai&&v.type=="http"){var Zn,tn,la,Hn=ee;if(v.httpParams&&p.isNumber(v.httpParams.maxSizeLimit)&&(c.__maxUploadImageSize=v.httpParams.maxSizeLimit),v.useUploader){var Sg,vc=pt.uploadManager,Ht=vc.CreateJob(),ei=Ht.FormField;if(Be?(B.FileUploader.nextLoopTime=300,V.showProgress(c,"Scan Upload",c.__IfShowCancelDialogWhenImageTransfer)):V.hideProgress(),Zn=function(sr,er){var hn=sr._fileName;return hn||(hn=""),c._bServerPercentDone=!0,c.__HTTPPostResponseString=er,se(c,hn,100,200),c._OnPercentDone([0,100,"","http"]),Be&&V.closeProgress(null,"Scan Upload"),!qn&&v.removeAfterOutput?setTimeout(function(){Q=0,p.each(Hn,function(Hi){c._ImgManager.convertServerIdToClientIndex(Hi)>-1?Dn(bn,c,ua).call(c,Hi,function(){Q++},function(){Q++}):Q++}),setTimeout(dr,100)},100):(Ct=!0,lt(M),z(c)),!0},tn=function(){Be&&V.closeProgress(null,"Scan Upload"),vc.CancelAllUpload(),c._bServerPercentDone=!0;var sr={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};return ie(Xe,sr),!qn&&v.removeAfterOutput&&setTimeout(function(){p.each(Hn,function(er){c._ImgManager.convertServerIdToClientIndex(er)>-1&&Dn(bn,c,ua).call(c,er)})},100),!1},la=function(sr,er,hn,Hi){var $i=303;er==Cf.TRANS_SERVICE_ERROR_404?$i=404:er==Cf.TRANS_SERVICE_ERROR_500?$i=500:er==Cf.TRANS_SERVICE_ERROR_503&&($i=503),c._errorCode=er,c._errorString=hn,c.__HTTPPostResponseString=Hi,se(c,"",100,$i),tn()},Sg=function(){c.__HTTPPostResponseString="",se(c,"",100,303),tn()},Be&&(V.cancelFrom=Lt.Scan,Dn(bn,c,kE).call(c,tn)),qn)v.httpParams&&(p.each(v.httpParams.headers,function(sr,er){Ht.HttpHeader[er]=sr}),p.each(v.httpParams.formFields,function(sr,er){ei.Add(er,sr)})),Ht.ServerUrl=pi,Ht.bDeleteFile=ca,Ht.reTries=m,v.httpParams&&p.isNumber(v.httpParams.maxSizeLimit)&&(Ht.maxSizeLimit=v.httpParams.maxSizeLimit),p.each(q,function(sr,er){var hn,Hi;v.httpParams&&(hn=ho(v.httpParams.fileName,er+1),Hi=ho(v.httpParams.remoteName,er+1)),Ht.SourceValue.Add(sr,hn,Hi)}),Ht.ImageType=k.fileXfer.fileFormat,Ht.ThreadNum=J,Ht.OnRunSuccess=Zn,Ht.OnRunFailure=la,(Be||p.isFunction(L))&&(Ht.OnUploadTransferPercentage=function(sr,er){er>0&&er<=100&&(c._OnPercentDone([0,er,"","http"]),p.isFunction(L)&&se(c,"",er,0))},c._OnPercentDone([0,-1,br.Uploading,"http"]),se(c,"",0,0)),vc.Run(Ht);else if((Gt=v.format)==B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF||Gt==B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF)Gt==B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?Gt=B.DWT.EnumDWT_ImageType.IT_PDF:Gt==B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(Gt=B.DWT.EnumDWT_ImageType.IT_TIF),c._OnPercentDone([0,-1,br.Encoding,"http"]),c._asyncGenerateURLForUploadData(Hn,Gt,_,function(sr){var er,hn;v.httpParams&&(p.each(v.httpParams.headers,function(Hi,$i){Ht.HttpHeader[$i]=Hi}),p.each(v.httpParams.formFields,function(Hi,$i){ei.Add($i,Hi)})),Ht.ServerUrl=pi,Ht.bDeleteFile=ca,Ht.reTries=m,v.httpParams&&p.isNumber(v.httpParams.maxSizeLimit)&&(Ht.maxSizeLimit=v.httpParams.maxSizeLimit),v.httpParams&&(er=ho(v.httpParams.fileName,1),hn=ho(v.httpParams.remoteName,1)),Ht._fileName=er,Ht.SourceValue.Add(sr,er,hn),Ht.ImageType=Gt,Ht.ThreadNum=J,Ht.OnRunSuccess=Zn,Ht.OnRunFailure=la,(Be||p.isFunction(L))&&(Ht.OnUploadTransferPercentage=function(Hi,$i){$i>0&&$i<=100&&(c._OnPercentDone([0,$i,"","http",er]),p.isFunction(L)&&se(c,er,$i,0))},c._OnPercentDone([0,-1,br.Uploading,"http",er])),vc.Run(Ht)},Sg);else{var bg=Hn.length,Wo=0,W0=0,B0="";Be&&(c._bServerPercentDone=!1),c._OnPercentDone([0,-1,br.Encoding,"http"]),p.each(Hn,function(sr,er){var hn,Hi;v.httpParams&&(hn=ho(v.httpParams.fileName,er+1),Hi=ho(v.httpParams.remoteName,er+1)),c._asyncGenerateURLForUploadData([sr],Gt,_,function($i){W0=(Wo+1)/bg*100,B0=[Wo+1,"/",bg].join(""),c._OnPercentDone([0,W0,B0,"http"]),Ht.SourceValue.Add($i,hn,Hi),++Wo>=bg&&(Be&&(c._bServerPercentDone=!0),v.httpParams&&(p.each(v.httpParams.headers,function(U0,_c){Ht.HttpHeader[_c]=U0}),p.each(v.httpParams.formFields,function(U0,_c){ei.Add(_c,U0)})),Ht.ServerUrl=pi,Ht.bDeleteFile=ca,Ht.reTries=m,v.httpParams&&p.isNumber(v.httpParams.maxSizeLimit)&&(Ht.maxSizeLimit=v.httpParams.maxSizeLimit),Ht.ImageType=Gt,Ht.ThreadNum=J,Ht.OnRunSuccess=Zn,Ht.OnRunFailure=la,(Be||p.isFunction(L))&&(Ht.OnUploadTransferPercentage=function(U0,_c){_c>0&&_c<=100&&(c._OnPercentDone([0,_c,"","http"]),p.isFunction(L)&&se(c,"",_c,0))},c._OnPercentDone([0,-1,br.Uploading,"http"])),vc.Run(Ht))},Sg)})}}else if(qn)Zn=function(sr){return c._bServerPercentDone=!0,!qn&&v.removeAfterOutput?setTimeout(function(){Q=0,p.each(Hn,function(er){c._ImgManager.convertServerIdToClientIndex(er)>-1?Dn(bn,c,ua).call(c,er,function(){Q++},function(){Q++}):Q++}),setTimeout(dr,100)},100):(Ct=!0,lt(M),z(c)),!0},tn=function(sr){c._bServerPercentDone=!0;var er={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};return ie(Xe,er),!qn&&v.removeAfterOutput&&setTimeout(function(){p.each(Hn,function(hn){c._ImgManager.convertServerIdToClientIndex(hn)>-1&&Dn(bn,c,ua).call(c,hn)})},100),!1},c._innerUploadFilesDirectly(pi,q,v.httpParams&&v.httpParams.fileName,Be,ca,m,!1,Zn,tn);else{Zn=function(sr,er){return c._bServerPercentDone=!0,!qn&&v.removeAfterOutput?setTimeout(function(){Q=0,p.each(Hn,function(hn){c._ImgManager.convertServerIdToClientIndex(hn)>-1?Dn(bn,c,ua).call(c,hn,function(){Q++},function(){Q++}):Q++}),setTimeout(dr,100)},100):(Ct=!0,lt(M),z(c)),!0},tn=function(sr){c._bServerPercentDone=!0;var er={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};return ie(Xe,er),!qn&&v.removeAfterOutput&&setTimeout(function(){p.each(Hn,function(hn){c._ImgManager.convertServerIdToClientIndex(hn)>-1&&Dn(bn,c,ua).call(c,hn)})},100),!1},Gt=v.format;var rn=c._GetHttpHeadersAndClear(),Kt=pc(c.httpFormFields);if(Gt==B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF||Gt==B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF){var da;Gt==B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?Gt=B.DWT.EnumDWT_ImageType.IT_PDF:Gt==B.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(Gt=B.DWT.EnumDWT_ImageType.IT_TIF),v.httpParams&&(da=ho(v.httpParams.fileName,1),ho(v.httpParams.remoteName,1));var ja={method:"startScan",url:pi,headers:rn,formData:Kt,serverIds:Hn,enumImageType:Gt,saveSetup:_,fileName:da,dataFormat:Ei,retry:m,bOnlyResponseEmptyIsOK:!1,objUploadFileStatus:!1,asyncSuccessFunc:Zn,asyncFailureFunc:tn};c._asyncUploadCmd(ja)}else Hn.length>0&&c._asyncUploadFilesCmd(pi,Hn,rn,Kt,Gt,v.httpParams&&v.httpParams.fileName,_,Be,m,!1,Zn,tn)}}Ai&&v.type}A=!0,$&&p.isFunction($)&&$()};var fn=function(){if(v.type!="http")return Ct=!0,lt(M),void z(c);v.singlePost?setTimeout(function(){if(!A&&c._startScanFlag)return Ct=!0,lt(M),void z(c)},300):setTimeout(dr,100)};Dn(bn,c,qce).call(c,k,fn,function(Gt){if(c._errorCode==-1029&&(k.transferMode==B.DWT.EnumDWT_TransferMode.TWSX_FILE?q.length>0:ee.length>0))return c._errorCode=0,fn();var Zt={code:c._errorCode,message:c._getErrorString(),response:c.__HTTPPostResponseString};ie(Xe,Zt)})})})}},{key:"_innerInitEvents",value:function(u){this.__OnWSReconnect=u.onWSReconnect||null,this.__OnWSClose=u.onWSClose||null,this.__OnWSMessage=u.onWSMessage||null,this.__OnWSError=u.onWSError||null,this.__OnPercentDone=u.onPercentDone||"",this.__OnPrintMsg=u.onPrintMsg||"",this.__OnResult=u.onResult||"",this.__OnAfterOperate=u.onAfterOperate||"",this.__OnBeforeOperate=u.onBeforeOperate||"",this.__OnOperateStatus=u.onOperateStatus||"",this.__OnBitmapChanged=u.onBitmapChanged||"",this.__OnGetFilePath=u.onGetFilePath||"",this.__OnPreAllTransfers=u.onPreAllTransfers||"",this.__OnPreTransfer=u.onPreTransfer||"",this.__OnPostLoad=u.onPostLoad||"",this.__OnPostTransfer=u.onPostTransfer||"",this.__OnPostAllTransfers=u.onPostAllTransfers||"",this.__OnSourceUIClose=u.onSourceUIClose||"",this.__OnTransferCancelled=u.onTransferCancelled||"",this.__OnTransferError=u.onTransferError||"",this.__OnInternetTransferPercentage=u.onInternetTransferPercentage||"",this.__OnInternetTransferPercentageEx=u.onInternetTransferPercentageEx||"",this.__OnRemoteScanStatusAsync=u.onRemoteScanStatusAsync||""}}],[{key:"create",value:(o=a(E().mark(function u(l){var c;return E().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return c=new n(l),f.next=3,Ui.STwainConnectToServer(c);case 3:return f.abrupt("return",c);case 4:case"end":return f.stop()}},u)})),function(u){return o.apply(this,arguments)})}]);var o,s}(Bce);function s4(){var r,n,o=[],s=this.__devices.length;for(r=0;r<s;r++){var u=this.__devices[r],l=u.deviceType,c={ProductName:"",DeviceInfo:{},DriverType:"",IsCurrentSource:!1,IsDefaultSource:!1,Manufacturer:"",ProductFamily:"",ProtocolMajor:0,ProtocolMinor:0,SupportedGroups:0,Version:{Country:0,Info:"",Language:0,MajorNum:0,MinorNum:0}},f=void 0,m=p.clone(u.deviceInfo);(n=l)==ht.TWAINSCANNER||n==ht.WIATWAINSCANNER||n==ht.TWAINX64SCANNER?(l==ht.TWAINSCANNER?f="TWAIN":l==ht.WIATWAINSCANNER?f="WIATWAIN":l==ht.TWAINX64SCANNER&&(f="TWAIN64"),c.Manufacturer=m.Manufacturer,c.ProductFamily=m.ProductFamily,c.ProtocolMajor=m.ProtocolMajor,c.ProtocolMinor=m.ProtocolMinor,c.SupportedGroups=m.SupportedGroups,c.Version=m.Version):l==ht.SANESCANNER?(f="SANE",c.DeviceInfo=m):l==ht.ICASCANNER?(f="ICA",c.DeviceInfo=m):l==ht.ESCLSCANNER?(f="eSCL",c.DeviceInfo=m):l==ht.WIFIDIRECTSCANNER?(f="WiFiScanner",c.DeviceInfo=m):l==ht.WIASCANNER&&(f="WIA",c.DeviceInfo=m),c.ProductName=u.displayName,c.DriverType=f,o.push(c)}return o}function u4(){var r,n=this,o=[],s=0;for(n.__devices&&(s=n.__devices.length),r=0;r<s;r++){var u=n.__devices[r];o.push(u.displayName)}return o}function Jce(r,n){var o=["[",r,",",n??pp.SMF_NAME,"]"].join("");return this._innerFun("SelectSourceEx",o)}function qce(r,n,o){var s,u,l=this,c=null,f=null;if(u=p.isUndefined(r)||r==null?{}:r,l._resetErr(),!l._isValid())return!1;if(p.isFunction(n)&&(c=function(){n(u)}),p.isFunction(o)&&(f=function(b,I){o(b,I,u)}),!_t.checkProductKey(l,{Core:!0}))return p.isFunction(f)&&f(l._errorCode,l._errorString),!1;for(var m=0,v=0;v<l_.length;v++){var S=["__",l_[v]].join("");p.isFunction(l[S])&&(m|=1<<v)}if(u.EnableEvents=m,u.scanner){var _=u.scanner;p.isString(_)||p.isString(_.strDevice)&&(u.device=_.strDevice,delete u.scanner)}return s=["[",p.stringify(u),"]"].join(""),l.__bAcquireImageNow=!0,l.__innerAcquireOrLoadImageAsync("StartScan",s,!1,!0).then(c,function(b){l._errorCode=b.code,l._errorString=b.message,p.isFunction(f)&&f(b.code,b.message)}),!0}function ua(r,n,o){var s=this;return s._innerFunRaw("RemoveImage",Ve(r),!0,!1,!0,function(){s._OnBitmapChanged(["c1",""+r,3,s._ImgManager.getCurrentImageIndex(),s._ImgManager.count()]),p.isFunction(n)&&n()},o)}function kE(r){var n=this;n.IfShowCancelDialogWhenImageTransfer?(V.progressContext&&V.progressContext.on("cancel",function(){ko(n),r()}),cu(!0)):cu(!1)}var Cf={TRANS_SERVICE_ERROR_404:12,TRANS_SERVICE_ERROR_500:13,TRANS_SERVICE_ERROR_503:14},c4=function(r,n){if(!p.isUndefined(r)&&!p.isUndefined(n)&&r!=null&&n!=null){for(var o in n)r.hasOwnProperty(o)?D(r[o])==="object"&&c4(r[o],n[o]):r[o]=n[o];return r}};function Zce(r){return DE.apply(this,arguments)}function DE(){return DE=a(E().mark(function r(n){var o,s,u,l,c,f,m,v,S;return E().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(l=n.id,c=(o=n.container)===null||o===void 0?void 0:o.id,f=window,!(s=B.DWT.GetWebTwain(l))&&c&&(u=B.DWT.GetWebTwain(c)),!s&&!u){_.next=8;break}throw m={},s?qR(m):ZR(m),{code:m._errorCode,message:m._errorString};case 8:return B.DWT.UseDefaultViewer||(n.container=null),((b=n.container)&&!p.isString(b)?rt:xe)?n.bNoViewer=!1:n.bNoViewer=!0,_.prev=10,_.next=13,a4.create(n);case 13:v=_.sent,_.next=22;break;case 16:throw _.prev=16,_.t0=_.catch(10),(S=_.t0&&_.t0.code)==kt.ResponseDataTypeError||S==kt.HTSTError||S==kt.CORSError||S==kt.CORSErrorFromService||S==kt.SSLCertExpired||S==kt.SSLCertInvalid||(S==kt.MustUpgrade?lu(!0):S==kt.ModuleNotExists&&tle(v)),v&&v.dispose(),_.t0;case 22:return _.prev=22,f.DCP_DWT_OnClickCloseInstall&&f.DCP_DWT_OnClickCloseInstall(!1,!0),_.finish(22);case 25:return l4(v),_.abrupt("return",v);case 27:case"end":return _.stop()}var b},r,null,[[10,16,22,25]])})),DE.apply(this,arguments)}function ele(r,n){if(p.isFunction(B.OnWebTwainNeedUpgradeCallback)){var o,s,u={};if(s=Ni.getDSPath(),ue.bWin)o=Et.enumWindow;else if(B.navInfo.bEmbed||ue.bAndroid||ue.bChromeOS||ue.bHarmonyOS||ue.biPhone||ue.biPad)ue.bAndroid?o=Et.enumAndroid:(u.deb=s,o=ue.biPhone||ue.biPad?Et.enumiOS:ue.bChromeOS?Et.enumChromeOS:ue.bHarmonyOS?Et.enumHarmonyOS:Et.enumEmbed);else if(ue.bLinux){var l=Ni.getLinuxHTML5DebPath(),c=Ni.getLinuxHTML5RpmPath();s=l,u.deb=l,u.rpm=c,o=Et.enumLinux}else o=Et.enumMac;u.default=s;var f=Te.one(".dynamsoft-dialog-license");f&&f.getEL()&&(f.getEL().style.display="none"),V.detect.needUpgrade=rt,B.OnWebTwainNeedUpgradeCallback(Ie.name,u,Ie.bHTML5Edition,o,ue.bIE,ue.bSafari,V.detect.ssl,Wr.strIEVersion,V.detect.bPromptJSOrServerOutdated,r,n)}}function l4(r){return d4.apply(this,arguments)}function d4(){return(d4=a(E().mark(function r(n){var o,s,u;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(n&&!n._blts){l.next=2;break}return l.abrupt("return");case 2:if(n.ErrorCode==-2207&&(V.detect.bPromptJSOrServerOutdated=rt,p.isFunction(B.DWT.OnWebTwainNeedUpgradeWebJavascript)&&B.DWT.OnWebTwainNeedUpgradeWebJavascript(n.ErrorString)),!Or.versionInfoFromServer){l.next=7;break}o=Or.versionInfoFromServer,l.next=10;break;case 7:return l.next=9,n._getVersionInfoAsync();case 9:o=l.sent;case 10:if(V.detect.bNeedUpgradeEvent||S$(o)){l.next=19;break}if(V.detect.bNeedUpgradeEvent=rt,!p.isFunction(B.DWT.OnWebTwainNeedUpgrade)){l.next=15;break}if(!B.DWT.OnWebTwainNeedUpgrade()){l.next=15;break}return l.abrupt("return");case 15:if(!n._bRemoteMode){l.next=18;break}return p.isFunction(B.OnRemoteWebTwainNeedUpgradeCallback)&&(s=n._serverInfo.port,B.OnRemoteWebTwainNeedUpgradeCallback(Ie.name,n._serverInfo.server,s,n._serverInfo.ssl)),l.abrupt("return");case 18:(Ie.bHTML5Edition&&n._isBindViewer()||!Ie.bHTML5Edition)&&((u=n._containerElement)&&(Te.one(u).before(V.install._strNonInstallDIV),p.show(V.install._divDWTNonInstallContainerID)),V.install._divDWTemessageContainer!=""&&p.hide(V.install._divDWTemessageContainer),ele());case 19:case"end":return l.stop()}},r)}))).apply(this,arguments)}function tle(r){if(!V.detect.bNoControlEvent){var n,o=0,s=0;r&&(o=r._width,s=r._height,n=r._containerElement),r&&r._bRemoteMode?r._bNotShowMessage||p.isFunction(B.OnRemoteWebTwainNotFoundCallback)&&B.OnRemoteWebTwainNotFoundCallback(Ie.name,r._serverInfo.server,r._serverInfo.port,r._serverInfo.ssl,Wr.bMobile):(LU(n,o,s),lu(!1)),V.detect.bNoControlEvent=!0}}var fu=function(r){function n(b){var I;h(this,n),(I=d(this,n,[b]))._bServerPercentDone=!0,I._bScanForProxyRemote=rt;var A=Ui.getServerImageUrlPrefix(I);return vf._setBaseUrl(I._imageBufferWrapper,A),I}return F(n,r),y(n,[{key:"getDevices",value:function(b,I,A){return this._getDevices(b,I,A)}},{key:"_connnect",value:(_=a(E().mark(function b(){var I;return E().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return I=this,A.abrupt("return",new V.Promise(function(P,L){Nce(I._serverInfo.server,I._serverInfo.port,void 0,function($,ee,q){I._strRemoteServiceVer=q,P()},L)}));case 2:case"end":return A.stop()}},b,this)})),function(){return _.apply(this,arguments)})},{key:"acquireImage",value:function(b,I){return w(x(n.prototype),"_acquireImage",this).call(this,b,I)}},{key:"_acquireImageForSendTo",value:function(b,I,A,P){return w(x(n.prototype),"_acquireImageForSendTo",this).call(this,b,I,A,P)}},{key:"getCapabilities",value:function(b,I,A){return this._getCapabilities(b,I,A)}},{key:"setCapabilities",value:function(b,I,A){return this._setCapabilities(b,I,A)}},{key:"closeSource",value:function(){return this._closeSource()}},{key:"setBufferMemoryLimit",value:(S=a(E().mark(function b(I){var A,P;return E().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(A=this,p.isNumber(I)&&!isNaN(I)){L.next=4;break}throw Vn(A),{code:A._errorCode,message:A._errorString};case 4:if(A._resetErr(),A._isValid()){L.next=7;break}throw{code:A._errorCode,message:A._errorString};case 7:return L.next=9,A._innerFunV2("BufferMemoryLimit",Ve(I));case 9:return P=L.sent,L.abrupt("return",P);case 11:case"end":return L.stop()}},b,this)})),function(b){return S.apply(this,arguments)})},{key:"setIfAllowLocalCache",value:(v=a(E().mark(function b(I){var A,P;return E().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(A=this,p.isBoolean(I)){L.next=4;break}throw Vn(self),{code:A._errorCode,message:A._errorString};case 4:if(A._resetErr(),A._isValid()){L.next=7;break}throw{code:A._errorCode,message:A._errorString};case 7:return L.next=9,A._innerFunV2("IfAllowLocalCache",Ve(I));case 9:return P=L.sent,L.abrupt("return",P);case 11:case"end":return L.stop()}},b,this)})),function(b){return v.apply(this,arguments)})},{key:"howManyImagesInBuffer",get:function(){return this._imageBufferWrapper.count()}},{key:"currentImageIndexInBuffer",get:function(){return this._imageBufferWrapper.getCurrentImageIndex()},set:function(b){this._imageBufferWrapper.setCurrentImageIndex(b)}},{key:"saveImages",value:(m=a(E().mark(function b(I,A,P,L){var $;return E().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if($="saveImages",this._checkIndices(A)){ee.next=3;break}throw{code:this._errorCode,message:this._getErrorString()};case 3:return this._containerElement=L,ee.next=6,this._saveImages($,I,A,P);case 6:case"end":return ee.stop()}},b,this)})),function(b,I,A,P){return m.apply(this,arguments)})},{key:"getImages",value:function(b,I,A,P){if(!this._checkIndices(b))throw{code:this._errorCode,message:this._getErrorString()};return this._containerElement=P,this._getImages("getImages",b,I,A)}},{key:"removeImages",value:(f=a(E().mark(function b(I){var A,P,L,$,ee;return E().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(this._checkIndices(I)){q.next=2;break}throw{code:this._errorCode,message:this._getErrorString()};case 2:for(A=I.sort(function(Q,J){return J-Q}),P=[],L=0;L<A.length;L++)$=A[L],(ee=this._imageBufferWrapper.convertClientIndexToServerId($))>0&&P.push(ee);if(P.length!=0){q.next=7;break}return q.abrupt("return");case 7:return q.next=9,this._innerFunV2("RemoveAllImages",Ve(P.join(",")));case 9:if(!q.sent&&this._errorCode!=-1033){q.next=16;break}if(this._imageBufferWrapper.removeImages(A)){q.next=14;break}throw this._imageBufferWrapper.getError();case 14:q.next=17;break;case 16:throw{code:this._errorCode,message:this._errorString};case 17:case"end":return q.stop()}},b,this)})),function(b){return f.apply(this,arguments)})},{key:"updateImage",value:function(b,I,A){var P=this._imageBufferWrapper.getIndexByUid(b),L=this._imageBufferWrapper.convertClientIndexToServerId(P);return w(x(n.prototype),"_updateImage",this).call(this,L,I,A)}},{key:"getSkewAngleFromBinaryAsync",value:function(b,I,A,P){var L=this;if(L._resetErr(),!L._isValid())return V.Promise.reject({code:L._errorCode,message:L._errorString});var $=this._imageBufferWrapper.getCustomDataByIndex(b),ee=this._imageBufferWrapper.getMetadataByIndex(b),q=this._imageBufferWrapper.convertClientIndexToServerId(b),Q={imageId:q,serverId:q,bufferLen:I.size,imageType:Qt.IT_BMP,width:ee.width,height:ee.height,bit:ee.bitDepth,xres:ee.resolutionX,yres:ee.resolutionY,uidFromServer:$.uidFromServer},J=p.stringify([p.stringify(Q)]);return this._innerSendBlob("GetSkewAngleFromBinary",J,I,!0,!0,A,P)}},{key:"httpUpload",value:(c=a(E().mark(function b(I,A,P,L,$,ee,q){var Q,J;return E().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if((Q=this)._resetErr(),Q._isValid()){te.next=4;break}throw{code:Q._errorCode,message:Q._errorString};case 4:if(!p.isUndefined(I)&&I!==""){te.next=9;break}throw ci(Q),{code:Q._errorCode,message:Q._errorString};case 9:if(p.isString(I)){te.next=12;break}throw rp(Q),{code:Q._errorCode,message:Q._errorString};case 12:if(Q._checkIndices(A)){te.next=14;break}throw{code:Q._errorCode,message:Q._errorString};case 14:if((J=Qu(Q,A)).length!=0){te.next=18;break}throw Ot(Q),{code:Q._errorCode,message:Q._errorString};case 18:if(!p.isUndefined(P)){te.next=21;break}throw Li(Q),{code:Q._errorCode,message:Q._errorString};case 21:if(P!=B.DWT.EnumDWT_ImageType.IT_BMP&&P!=B.DWT.EnumDWT_ImageType.IT_JPG&&P!=B.DWT.EnumDWT_ImageType.IT_PNG){te.next=27;break}if(!(J.length>1)){te.next=25;break}throw Id(Q),{code:Q._errorCode,message:Q._errorString};case 25:te.next=33;break;case 27:if(P!=B.DWT.EnumDWT_ImageType.IT_TIF&&P!=B.DWT.EnumDWT_ImageType.IT_PDF){te.next=31;break}te.next=33;break;case 31:throw Li(Q),{code:Q._errorCode,message:Q._errorString};case 33:if(!(p.isUndefined(L)||L!=B.DWT.EnumDWT_UploadDataFormat.Binary&&L!=B.DWT.EnumDWT_UploadDataFormat.Base64)){te.next=36;break}throw UR(Q),{code:Q._errorCode,message:Q._errorString};case 36:return te.next=38,new V.Promise(function(H,k){var M,U,G=parseInt(P),z=parseInt(L);ee!=null&&ee.formFields&&(M=new FormData,p.each(ee==null?void 0:ee.formFields,function(Z,ie){var se=Z.name,re=Z.value;p.isString(se)&&(re instanceof Blob?M.append(se,re,Z.fileName):M.append(se,re))})),ee!=null&&ee.headers&&(U={},p.each(ee==null?void 0:ee.headers,function(Z,ie){p.isString(Z.name)&&(U[Z.name]=Z.value)})),Q._containerElement=q,n._innerHTTPUpload(Q,"httpUpload",I,ee==null?void 0:ee.responseType,U,M,J,G,z,$,void 0,0,!1,void 0,function(Z){if(p.isFunction(H)){var ie=[];p.isArray(J)&&p.each(J,function(se){var re=Q._imageBufferWrapper.convertServerIdToClientIndex(se);re>-1&&ie.push(re)});try{_n(H,Z,ie)}catch{}}return Z=null,!0},function(Z){if(p.isFunction(k))try{k(Z)}catch{}return!1})});case 38:return te.abrupt("return",te.sent);case 39:case"end":return te.stop()}},b,this)})),function(b,I,A,P,L,$,ee){return c.apply(this,arguments)})},{key:"getCustomDataByIndex",value:function(b){return this._imageBufferWrapper.getCustomDataByIndex(b)}},{key:"getIndexByUid",value:function(b){return this._imageBufferWrapper.getIndexByUid(b)}},{key:"getProfile",value:function(b){return w(x(n.prototype),"_getProfile",this).call(this,b)}},{key:"setProfile",value:function(b,I){return w(x(n.prototype),"_setProfile",this).call(this,b,I)}},{key:"imageIDToIndex",value:function(b){return this._uidFromServer2index(b)}},{key:"indexToImageID",value:function(b){return this._index2uidFromServer(b)}},{key:"rotate",value:function(b,I,A,P){var L=this;if(L._resetErr(),!L._isValid())return V.Promise.reject({code:L._errorCode,message:L._errorString});var $=parseInt(b);if(isNaN($))return Ot(L),V.Promise.reject({code:L._errorCode,message:L._errorString});if($<0||$>=L.howManyImagesInBuffer)return qe(L),V.Promise.reject({code:L._errorCode,message:L._errorString});var ee=L._imageBufferWrapper.convertClientIndexToServerId($);return ee==-1?(qe(L),V.Promise.reject({code:L._errorCode,message:L._errorString})):L._innerFunV2("RotateEx",Ve(ee,I,A,P),!0).then(function(q){})}},{key:"crop",value:function(b,I){var A=this;if(A._resetErr(),!A._isValid())return V.Promise.reject({code:A._errorCode,message:A._errorString});var P=parseInt(b);if(isNaN(P))return Ot(A),V.Promise.reject({code:A._errorCode,message:A._errorString});if(P<0||P>=A.howManyImagesInBuffer)return qe(A),V.Promise.reject({code:A._errorCode,message:A._errorString});var L=A._imageBufferWrapper.convertClientIndexToServerId(P);if(L==-1)return qe(A),V.Promise.reject({code:A._errorCode,message:A._errorString});var $=I.x,ee=I.y,q=I.x+I.width,Q=I.y+I.height;return A._innerFunV2("Crop",Ve(L,$,ee,q,Q),!0).then(function(J){})}},{key:"_createHttpUploaderConfig",value:function(){var b=this,I=new JB;return I.IfShowProgressBar=b.IfShowProgressBar,I.IfShowCancelDialogWhenImageTransfer=b.IfShowCancelDialogWhenImageTransfer,I.MaxUploadImageSize=b.MaxUploadImageSize,I.HTTPRequestswithCredentials=b.HTTPRequestswithCredentials,I.onPercent=function(A){b._OnPercentDone(A)},I.onHttpUploadStatus=function(A){},I}},{key:"_OnReady",value:(l=a(E().mark(function b(){var I,A,P;return E().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return ao((I=this)._serverInfo.server)&&(ea.item("DWT_port",I._serverInfo.port),ea.item("DWT_ssl",I._serverInfo.ssl?"true":"false")),I._bNoMask||Xr("OnReady",I),L.prev=3,L.next=6,w(x(n.prototype),"_OnReady",this).call(this);case 6:return L.next=8,I._innerActiveUI(I._uuidForActiveUI);case 8:return A=L.sent,L.next=11,I._OnActiveUI(A);case 11:(P=I._id)&&!B.DWT.WebTwainIdMap[P]&&(B.DWT.WebTwainIdMap[P]=I),L.next=20;break;case 15:throw L.prev=15,L.t0=L.catch(3),L.t0&&(I._errorCode=L.t0.code,I._errorString=L.t0.message),I.dispose(),L.t0;case 20:return L.prev=20,I._bNoMask||kr("OnReady"),L.finish(20);case 23:case"end":return L.stop()}},b,this,[[3,15,20,23]])})),function(){return l.apply(this,arguments)})},{key:"_isBindViewer",value:function(){return this._bBindViewer}},{key:"_isNoViewer",value:function(){return!this._isBindViewer()}},{key:"getServiceInfo",value:function(){return w(x(n.prototype),"getServiceInfo",this).call(this)}},{key:"setViewerInfo",value:function(b){this._bBindViewer=b}},{key:"setViewerControlInfo",value:function(b){this._controlWidth=b.width,this._controlHeight=b.height}}],[{key:"create",value:(u=a(E().mark(function b(I){var A;return E().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return A=new n(I),P.next=3,Ui.STwainConnectToServer(A);case 3:return P.abrupt("return",A);case 4:case"end":return P.stop()}},b)})),function(b){return u.apply(this,arguments)})},{key:"_getBuffer",value:function(b){return vf._getBuffer(b._imageBufferWrapper)}},{key:"_setError",value:function(b,I,A){b._errorCode=I,b._errorString=A}},{key:"createByServiceInfo",value:(s=a(E().mark(function b(I,A,P){var L,$,ee;return E().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return $={id:p.guid(),dmService:A,bNoViewer:!0,bNoMask:A==null||(L=A.attrs)===null||L===void 0?void 0:L.bNoMask,bNotShowMessage:!0},(ee=new n($))._uuidForActiveUI=I,ee._bLicenseErrorDispose=!1,P&&(ee._containerElement=P),q.next=7,ee._connnect();case 7:return q.next=9,Ui.STwainConnectToServer(ee);case 9:return q.abrupt("return",ee);case 10:case"end":return q.stop()}},b)})),function(b,I,A){return s.apply(this,arguments)})},{key:"checkOnlineByServiceInfo",value:(o=a(E().mark(function b(I){var A,P;return E().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return A={id:p.guid(),dmService:I,bNoViewer:!0,bNoMask:!0,bNotShowMessage:!0},L.prev=1,P=new n(A),L.next=5,P._connnect();case 5:return P._bReady=!0,P._wsClient||(P._wsClient=new ET(null)),P.dispose(),L.abrupt("return",!0);case 11:return L.prev=11,L.t0=L.catch(1),p.warn(L.t0),L.abrupt("return",!1);case 15:case"end":return L.stop()}},b,null,[[1,11]])})),function(b){return o.apply(this,arguments)})},{key:"_isReady",value:function(b){return b._bReady}},{key:"_innerHTTPUpload",value:function(b,I,A,P,L,$,ee,q,Q,J,te,H,k,M,U,G){var z=J,Z=A;if(p.isUndefined(q))return Li(b),void(p.isFunction(G)&&G({code:b._errorCode,message:b._errorString}));V.cancelFrom=Lt.HTTPUpload;var ie,se=function(ae,Se,ge,ve){V.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&V.closeProgress(null,I),p.isFunction(G)&&G({code:ae,message:Se,response:ge,httpCode:ve})},re=b._createHttpUploaderConfig();if(re.objUploadStatus=M,z=w0(z,q),V.needShowTwiceShowDialog=!0,b.IfShowProgressBar?(V.showProgress(b,I,!1),V.progressContext&&(V.progressContext._onPercent=function(ae){var Se=0;if(ae){var ge,ve;ge=ae.loaded,ve=ae.total,(Se=Math.floor(ge/ve*100))>100&&(Se=100)}V.progressBarOnPercentDone(-1,"Transferring...","",Se,"")})):V.hideProgress(),Q==B.DWT.EnumDWT_UploadDataFormat.Binary){if(M&&M.bCancel)return M.st=2,ko(b),void se(b._errorCode,b._errorString);re.onPercent([0,-1,br.Encoding,"http"]),b._convertToBlobForUpload(q,ee,te,4,function(ae,Se,ge){if(ie=function(ze){return V.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&V.closeProgress(null,I),p.isFunction(U)&&_n(U,ze),ze=null,!0},M&&M.bCancel)return M.st=2,ko(b),se(b._errorCode,b._errorString);if(!ae||ae.size<=0)return an(b),se(b._errorCode,b._errorString);var ve=b.__maxUploadImageSize;if(ae.size>ve&&ve!=-1)return fs(b),se(b._errorCode,b._errorString);if(b._errorCode!=0)return se(b._errorCode,b._errorString);B.DWT.IfAddMD5InUploadHeader&&Se&&Se!=""&&(L["dwt-md5"]=Se);var Me=new Cs,Qe=new sa;Qe.url=Z,Qe.method=I,Qe.content=ae,ae=null,Qe.contentType=b._strHttpContentTypeFieldValue,Qe.headers=L,Qe.fileName=z,Qe.httpFormData=$,Qe.retry=H,Qe.bOnlyResponseEmptyIsOK=k,Qe.responseType=P,re.objUploadStatus=M,Me.httpPostUpload(re,Qe,ie,se)},se)}else Q==B.DWT.EnumDWT_UploadDataFormat.Base64&&b._convertToBase64ByServerIdsWithUI(I,ee,q,te,4,function(ae){var Se,ge;if(!ae||ae.getLength()<=0||(ie=function(Me){return V.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&V.closeProgress(null,I),p.isFunction(U)&&_n(U,Me),!0},Se=ae.getMD5(),B.DWT.IfAddMD5InUploadHeader&&(L["dwt-md5"]=Se),!(ge=ae.getData(0,ae.getLength()))||ge==""))return an(b),se(b._errorCode,b._errorString);var ve=new sa;ve.url=Z,ve.method=I,ve.content=ge,ge=null,ve.headers=L,ve.fileName=z,ve.httpFormData=$,ve.retry=H,ve.bOnlyResponseEmptyIsOK=k,ve.responseType=P,new Cs().httpPostUpload(re,ve,ie,se)},se)}}]);var o,s,u,l,c,f,m,v,S,_}(qB),RE=ar,rle=function(){return y(function k(M){var U=this;if(h(this,k),this._serverUrl=M,this._defaultDSScanClient=null,this._dsScanClientsMap={},this._serviceInfos=null,this._id=p.guid(),this.onBufferChanged=null,this.onPostTransferAsync=null,this._errorCode=0,this._errorString="",this._bDispose=!1,this._needSetLogLevel=!1,this._logLevel=-1,this._showProgressBar=!0,this._checkServerUrl(),this._id&&!B.DWT.RemoteScanIdMap[this._id]&&(B.DWT.RemoteScanIdMap[this._id]=this),this._uuidForRemoteScanObject="",V.dlgProgress||V.initProgress(null),B.DWT.UseDefaultViewer){var G={viewerEvents:{bufferChanged:function(z,Z){U.__bufferChanged(U,z,Z)},save:function(z,Z,ie,se){return U.__save(z,Z,ie,se)},rotate:function(z,Z,ie){return U.__rotate(z,Z,ie)},crop:function(z,Z,ie,se,re){return U.__crop(z,{x:Z,y:ie,width:se,height:re})}},viewerError:{setError:function(z,Z){U._defaultDSScanClient?fu._setError(U._defaultDSScanClient,z,Z):z==0&&Z==""||(U._errorCode=z,U._errorString=Z)}},imageEditorEvents:{deskew:function(z,Z){U.__deskew(U,z,Z)},removeImage:function(){U.__remove(U)},removeAllImage:function(){U.__removeAll(U)},close:function(){U.__close(U)}},imageEditorUiConfig:{buttons:{visibility:{scan:!1,load:!1}}},beforeImageEditorCreated:function(z){U.__beforeImageEditorCreated(z)}};this._viewer=new B.DWTViewerEx(null,G)}else this._viewer=null},[{key:"Viewer",get:function(){return this._viewer}},{key:"_disposeDSClientByKey",value:(H=a(E().mark(function k(M){var U;return E().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!(U=this._dsScanClientsMap[M])){G.next=10;break}if(U.isDestroy){G.next=9;break}if(!U.__unload){G.next=8;break}return G.next=6,U.__unload();case 6:G.next=9;break;case 8:U.dispose();case 9:delete this._dsScanClientsMap[M];case 10:case"end":return G.stop()}},k,this)})),function(k){return H.apply(this,arguments)})},{key:"_checkServerUrl",value:function(){var k=this._serverUrl;if(k&&p.isString(k)&&p.startsWith(location.href,"https://")&&p.startsWith(k,"http://")){var M={};throw function(G,z,Z){Fe(G,-2436,'Mixed Content: The page at "'+z+'" was loaded over HTTPS, but requested an insecure resource "'+Z+'/ddm/18625/ddm/SearchScanner". This request has been blocked; the content must be served over HTTPS.')}(M,location.href,k),rr(M)}if(!p.isString(k)||k==""){var U={};throw Fe(U,-2545,"The  proxy server URL is invalid."),rr(U)}}},{key:"getDynamsoftService",value:(te=a(E().mark(function k(M){var U,G,z,Z,ie,se,re,ae,Se,ge,ve,Me,Qe,ze,yt,at,gt,Ct,Be;return E().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(!this._bDispose){Oe.next=4;break}throw so(U={}),rr(U);case 4:if(G=this._serverUrl,this._checkServerUrl(),z=new L0(G,!0),Xr("getDynamsoftService",this.getViewerElement()),Oe.prev=8,!M&&this._serviceInfos){Oe.next=68;break}if(Z=null,ie=this._serviceInfos,this._serviceInfos=[],se="",re="",!ui()){Oe.next=30;break}return Oe.next=16,this._setRemoteUuid();case 16:return Oe.prev=16,Oe.next=19,a_(B.DWT.lgdt(),"");case 19:(ae=Oe.sent)&&(se=ae.ar,re=this._uuidForRemoteScanObject),Oe.next=28;break;case 23:throw Oe.prev=23,Oe.t0=Oe.catch(16),GT(Se={},Oe.t0),{code:Se._errorCode,message:Se._errorString};case 28:Oe.next=31;break;case 30:se=Ie.refProductKey;case 31:return Oe.next=33,z.getDynamsoftService(se,re,M);case 33:if(!(Z=Oe.sent)){Oe.next=68;break}ve=[],ge=0;case 37:if(!(ge<Z.length)){Oe.next=65;break}return ze=YT(Z[ge]),yt=(Me=ze==null||(Qe=ze.attrs)===null||Qe===void 0?void 0:Qe.ty)!==null&&Me!==void 0?Me:"",Oe.next=42,fu.checkOnlineByServiceInfo(ze);case 42:if(!Oe.sent){Oe.next=60;break}if(ze.attrs=ze.attrs||{},ze.attrs.bNoMask=!0,ze.attrs.bNotShowMessage=!0,!ie){Oe.next=57;break}at=void 0,at=0;case 50:if(!(at<ie.length)){Oe.next=57;break}if(!this.isSameService(ze,ie[at])){Oe.next=54;break}return ie.splice(at,1),Oe.abrupt("break",57);case 54:at++,Oe.next=50;break;case 57:this._serviceInfos.push(ze),Oe.next=61;break;case 60:yt+="(x)";case 61:ve.push(yt);case 62:ge++,Oe.next=37;break;case 65:if(p.log("Find Dynamsoft Services:"),p.log(ve.join(", ")),ie)for(gt=0;gt<ie.length;gt++)(Be=(Ct=ie[gt])===null||Ct===void 0||(Ct=Ct.attrs)===null||Ct===void 0?void 0:Ct.UUID)&&this._disposeDSClientByKey(Be);case 68:this._needSetLogLevel&&this._logLevel!=-1&&this.setLogLevel(this._logLevel),Oe.next=74;break;case 71:throw Oe.prev=71,Oe.t1=Oe.catch(8),Oe.t1;case 74:Oe.prev=74,kr("getDynamsoftService");try{z._bInited&&z.dispose()}catch{}return Oe.finish(74);case 78:return Oe.abrupt("return",this._serviceInfos);case 79:case"end":return Oe.stop()}},k,this,[[8,71,74,78],[16,23]])})),function(k){return te.apply(this,arguments)})},{key:"getDefaultDynamsoftService",value:function(){if(this._bDispose){var k={};throw so(k),rr(k)}return this._defaultDSScanClient?this._defaultDSScanClient.getServiceInfo():null}},{key:"setDefaultDynamsoftService",value:(J=a(E().mark(function k(M){var U,G,z,Z;return E().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(!this._bDispose){ie.next=4;break}throw so(U={}),rr(U);case 4:if(M!==null){ie.next=7;break}return this._defaultDSScanClient=null,ie.abrupt("return");case 7:if(M&&M instanceof KT){ie.next=11;break}throw $t(G={}),{code:G._errorCode,message:G._errorString};case 11:return z=this.getViewerElement(),ie.next=14,this._createDSClientByServiceInfo(M,!0,z._containerElement);case 14:if(!(Z=ie.sent)){ie.next=18;break}return ie.next=18,this._innerSetDefault(Z);case 18:case"end":return ie.stop()}},k,this)})),function(k){return J.apply(this,arguments)})},{key:"_innerSetDefault",value:(Q=a(E().mark(function k(M){var U,G,z;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!M){Z.next=11;break}if(fu._isReady(M)){Z.next=5;break}throw z=(U=(G=M.getServiceInfo())===null||G===void 0||(G=G.attrs)===null||G===void 0?void 0:G.name)!==null&&U!==void 0?U:"",sl(M,z),{code:M._getErrorCode(),message:M._getErrorString()};case 5:this._defaultDSScanClient=M,this._defaultDSScanClient.IfShowProgressBar=this._showProgressBar,this.Viewer&&this.Viewer.webViewer&&this.Viewer.webViewer.bindViewUI&&this._defaultDSScanClient.setViewerInfo(this.Viewer.webViewer.bindViewUI),this.__setViewerControlInfo(),this._registEventToDefaultDS(),this._viewer&&this._viewer.webViewer.setBufferService(fu._getBuffer(this._defaultDSScanClient));case 11:case"end":return Z.stop()}},k,this)})),function(k){return Q.apply(this,arguments)})},{key:"__setViewerControlInfo",value:function(){this.Viewer.webViewer.bindViewUI&&this.Viewer.width&&this.Viewer.width>0&&this.Viewer.height&&this.Viewer.height>0&&this._defaultDSScanClient.setViewerControlInfo({width:this.Viewer.width,height:this.Viewer.height})}},{key:"__beforeImageEditorCreated",value:function(k){var M=B.DWT.CustomizableDisplayInfo;if(!p.isUndefined(M)){if(!p.isUndefined(M.buttons)){var U=M.buttons.titles;p.isUndefined(U)||(p.isUndefined(U.previous)||(k.buttons.titles.previous=U.previous),p.isUndefined(U.next)||(k.buttons.titles.next=U.next),p.isUndefined(U.print)||(k.buttons.titles.print=U.print),p.isUndefined(U.scan)||(k.buttons.titles.scan=U.scan),p.isUndefined(U.load)||(k.buttons.titles.load=U.load),p.isUndefined(U.rotateleft)||(k.buttons.titles.rotateleft=U.rotateleft),p.isUndefined(U.rotate)||(k.buttons.titles.rotate=U.rotate),p.isUndefined(U.rotateright)||(k.buttons.titles.rotateright=U.rotateright),p.isUndefined(U.deskew)||(k.buttons.titles.deskew=U.deskew),p.isUndefined(U.crop)||(k.buttons.titles.crop=U.crop),p.isUndefined(U.cut)||(k.buttons.titles.cut=U.cut),p.isUndefined(U.changeimagesize)||(k.buttons.titles.changeimagesize=U.changeimagesize),p.isUndefined(U.flip)||(k.buttons.titles.flip=U.flip),p.isUndefined(U.mirror)||(k.buttons.titles.mirror=U.mirror),p.isUndefined(U.zoomin)||(k.buttons.titles.zoomin=U.zoomin),p.isUndefined(U.originalsize)||(k.buttons.titles.originalsize=U.originalsize),p.isUndefined(U.zoomout)||(k.buttons.titles.zoomout=U.zoomout),p.isUndefined(U.stretch)||(k.buttons.titles.stretch=U.stretch),p.isUndefined(U.fit)||(k.buttons.titles.fit=U.fit),p.isUndefined(U.fitw)||(k.buttons.titles.fitw=U.fitw),p.isUndefined(U.fith)||(k.buttons.titles.fith=U.fith),p.isUndefined(U.hand)||(k.buttons.titles.hand=U.hand),p.isUndefined(U.rectselect)||(k.buttons.titles.rectselect=U.rectselect),p.isUndefined(U.zoom)||(k.buttons.titles.zoom=U.zoom),p.isUndefined(U.restore)||(k.buttons.titles.restore=U.restore),p.isUndefined(U.save)||(k.buttons.titles.save=U.save),p.isUndefined(U.close)||(k.buttons.titles.close=U.close),p.isUndefined(U.removeall)||(k.buttons.titles.removeall=U.removeall),p.isUndefined(U.removeselected)||(k.buttons.titles.removeselected=U.removeselected));var G=M.buttons.bShowAllButtons;p.isUndefined(G)||(k.buttons.bShowAllButtons=G);var z=M.buttons.visibility;p.isUndefined(z)||(p.isUndefined(z.scan)||(k.buttons.visibility.scan=z.scan),p.isUndefined(z.load)||(k.buttons.visibility.load=z.load),p.isUndefined(z.print)||(k.buttons.visibility.print=z.print),p.isUndefined(z.removeall)||(k.buttons.visibility.removeall=z.removeall),p.isUndefined(z.removeselected)||(k.buttons.visibility.removeselected=z.removeselected),p.isUndefined(z.rotateleft)||(k.buttons.visibility.rotateleft=z.rotateleft),p.isUndefined(z.rotate)||(k.buttons.visibility.rotate=z.rotate),p.isUndefined(z.rotateright)||(k.buttons.visibility.rotateright=z.rotateright),p.isUndefined(z.deskew)||(k.buttons.visibility.deskew=z.deskew),p.isUndefined(z.crop)||(k.buttons.visibility.crop=z.crop),p.isUndefined(z.cut)||(k.buttons.visibility.cut=z.cut),p.isUndefined(z.changeimagesize)||(k.buttons.visibility.changeimagesize=z.changeimagesize),p.isUndefined(z.flip)||(k.buttons.visibility.flip=z.flip),p.isUndefined(z.mirror)||(k.buttons.visibility.mirror=z.mirror),p.isUndefined(z.zoomin)||(k.buttons.visibility.zoomin=z.zoomin),p.isUndefined(z.originalsize)||(k.buttons.visibility.originalsize=z.originalsize),p.isUndefined(z.zoomout)||(k.buttons.visibility.zoomout=z.zoomout),p.isUndefined(z.stretch)||(k.buttons.visibility.stretch=z.stretch),p.isUndefined(z.fit)||(k.buttons.visibility.fit=z.fit),p.isUndefined(z.fitw)||(k.buttons.visibility.fitw=z.fitw),p.isUndefined(z.fith)||(k.buttons.visibility.fith=z.fith),p.isUndefined(z.hand)||(k.buttons.visibility.hand=z.hand),p.isUndefined(z.rectselect)||(k.buttons.visibility.rectselect=z.rectselect),p.isUndefined(z.zoom)||(k.buttons.visibility.zoom=z.zoom))}var Z=M.dialogText;p.isUndefined(Z)||(p.isUndefined(Z.dlgRotateAnyAngle)||(k.dialogText.dlgRotateAnyAngle=Z.dlgRotateAnyAngle),p.isUndefined(Z.dlgChangeImageSize)||(k.dialogText.dlgChangeImageSize=Z.dlgChangeImageSize),p.isUndefined(Z.saveChangedImage)||(k.dialogText.saveChangedImage=Z.saveChangedImage),p.isUndefined(Z.selectSource)||(k.dialogText.selectSource=Z.selectSource))}}},{key:"__bufferChanged",value:function(k,M,U){var G,z=k,Z=[],ie=-1,se=[];M.operation&&(M.action=M.operation);for(var re=0;re<z.howManyImagesInBuffer;re++)(G=z._defaultDSScanClient.getCustomDataByIndex(re))&&G.uidFromServer&&Z.push(G.uidFromServer);if(M.imageIds=Z,M.curIndex>=0&&(G=z._defaultDSScanClient.getCustomDataByIndex(M.curIndex))&&G.uidFromServer&&(ie=G.uidFromServer),M.currentId=ie,M.afterStatus.selectedUids)for(var ae=0;ae<M.afterStatus.selectedUids.length;ae++){var Se=M.afterStatus.selectedUids[ae];if(Se&&Se!=-1){var ge=z._defaultDSScanClient.getIndexByUid(M.afterStatus.selectedUids[ae]);ge>=0&&(G=z._defaultDSScanClient.getCustomDataByIndex(ge))&&G.serverId&&se.push(G.uidFromServer)}}M.selectedIds=se,p.mix(M,{}),delete M.uids,delete M.currentUid,delete M.selectedUids,delete M.afterStatus,delete M.beforeStatus,delete M.operation,delete M.curIndex,delete M.docUid,z.__fireEvent("onBufferChanged",M)}},{key:"__acquire",value:function(k,M){var U=k;U._stwain.SelectSource(function(){U._stwain.CloseSource(),U._stwain.OpenSource(),U._stwain.IfShowUI=!0,B.DWT.IfConfineMaskWithinTheViewer==1?(B.DWT.IfConfineMaskWithinTheViewer=!1,U._stwain.AcquireImage({},function(){B.DWT.IfConfineMaskWithinTheViewer=!0},function(){})):U._stwain.AcquireImage()},function(){p.log("User did not select a source")})}},{key:"__remove",value:(q=a(E().mark(function k(M){var U,G;return E().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(U=this,!this._defaultDSScanClient){z.next=10;break}if(sn(this._defaultDSScanClient),!(U.howManyImagesInBuffer<=0||U.currentImageIndexInBuffer<0)){z.next=6;break}return RE.output(U,"No image in Buffer"),z.abrupt("return",!0);case 6:return G=fu._getBuffer(this._defaultDSScanClient),z.next=9,this._defaultDSScanClient.removeImages(G.getSelectedImagesIndices());case 9:return z.abrupt("return",z.sent);case 10:return z.abrupt("return",!1);case 11:case"end":return z.stop()}},k,this)})),function(k){return q.apply(this,arguments)})},{key:"__removeAll",value:(ee=a(E().mark(function k(M){return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!this._defaultDSScanClient){U.next=4;break}return sn(this._defaultDSScanClient),U.next=4,this._defaultDSScanClient._removeAllImagesAsync("removeAllImages",!0);case 4:return U.abrupt("return",!1);case 5:case"end":return U.stop()}},k,this)})),function(k){return ee.apply(this,arguments)})},{key:"__save",value:($=a(E().mark(function k(M,U,G,z){var Z,ie,se;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(ie="save",se=(Z=this).__getViewerElementForViewer(Z,z),Xr(ie,se),re.prev=3,sn(Z._defaultDSScanClient),!(Z.howManyImagesInBuffer<=0||Z.currentImageIndexInBuffer<0)){re.next=8;break}return RE.output(Z,"No image in Buffer"),re.abrupt("return");case 8:return re.next=10,Z._defaultDSScanClient.updateImage(M,U,G);case 10:return re.sent,re.next=13,Z._defaultDSScanClient.__saveToViewerAfterUpdate(M,G);case 13:re.next=17;break;case 15:re.prev=15,re.t0=re.catch(3);case 17:return re.prev=17,kr(ie),re.finish(17);case 20:case"end":return re.stop()}},k,this,[[3,15,17,20]])})),function(k,M,U,G){return $.apply(this,arguments)})},{key:"__getViewerElementForViewer",value:function(k,M){var U,G=k;if(M)if(G._viewer.webViewer.imageEditor){var z=G._viewer.createImageEditor();U=z.inner.containerElement.className=="dwt-viewer-imageEditor-fullScreen"?{_containerElement:document.body}:{_containerElement:z.inner.containerElement}}else U=G.getViewerElement();else U=G.getViewerElement();return U}},{key:"__close",value:function(k){var M=k;if(p.isFunction(M.__CloseImageEditorUI))try{M.__CloseImageEditorUI()}catch(U){vr(U)}}},{key:"__deskew",value:function(k,M,U){var G=this,z="deskew";if(sn(G._defaultDSScanClient),G.howManyImagesInBuffer<=0||G.currentImageIndexInBuffer<0)RE.output(G,"No image in Buffer");else{var Z=G.__getViewerElementForViewer(G,!0);Xr(z,Z),G._defaultDSScanClient.getSkewAngleFromBinaryAsync(G.currentImageIndexInBuffer,M,function(ie){U(ie[0]),kr(z)},function(){kr(z)})}}},{key:"__rotate",value:(L=a(E().mark(function k(M,U,G){var z;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return sn(this._defaultDSScanClient),Z.next=4,this._makeSureDefaultServiceInfo();case 4:if(this._defaultDSScanClient){Z.next=6;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 6:return Z.next=8,this._defaultDSScanClient.rotate(M,U,G,-1);case 8:return z=Z.sent,Z.abrupt("return",z);case 10:case"end":return Z.stop()}},k,this)})),function(k,M,U){return L.apply(this,arguments)})},{key:"__crop",value:(P=a(E().mark(function k(M,U){var G;return E().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return sn(this._defaultDSScanClient),z.next=4,this._makeSureDefaultServiceInfo();case 4:if(this._defaultDSScanClient){z.next=6;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 6:return z.next=8,this._defaultDSScanClient.crop(M,U);case 8:return G=z.sent,z.abrupt("return",G);case 10:case"end":return z.stop()}},k,this)})),function(k,M){return P.apply(this,arguments)})},{key:"__fireEvent",value:function(k,M){return!p.isFunction(this[k])||this[k](M)}},{key:"getDevices",value:(A=a(E().mark(function k(M){var U,G,z,Z,ie,se,re,ae,Se,ge,ve,Me,Qe,ze,yt,at,gt,Ct,Be,Oe,tt,pt,lt;return E().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:if(!this._bDispose){Xe.next=4;break}throw so(G={}),rr(G);case 4:if(z=[],Z="getDevices",ie=this.getViewerElement(),se=!1,ae=M==null?void 0:M.serviceInfo,Se=(U=M==null?void 0:M.deviceType)!==null&&U!==void 0?U:lp,Xr(Z,ie),Xe.prev=6,ve=!1,Me=[],this._serviceInfos){Xe.next=12;break}return Xe.next=12,this.getDynamsoftService();case 12:if(!ae){Xe.next=25;break}return Xe.next=15,this._createDSClientByServiceInfo(ae,!0);case 15:if(!(ze=Xe.sent)){Xe.next=21;break}Me.push(ze),ve=!1,Xe.next=23;break;case 21:throw m9(ae==null||(yt=ae.attrs)===null||yt===void 0?void 0:yt.ty);case 23:Xe.next=37;break;case 25:if(!this._serviceInfos){Xe.next=37;break}Qe=0;case 27:if(!(Qe<this._serviceInfos.length)){Xe.next=36;break}return at=this._serviceInfos[Qe],Xe.next=31,this._createDSClientByServiceInfo(at);case 31:(gt=Xe.sent)&&Me.push(gt);case 33:Qe++,Xe.next=27;break;case 36:ve=!0;case 37:Qe=0;case 38:if(!(Qe<Me.length)){Xe.next=59;break}return Ct=void 0,Xe.prev=40,Xe.next=43,Me[Qe].getDevices(Se,M==null?void 0:M.refresh,se);case 43:if(Ct=Xe.sent,p.isArray(Ct)&&Ct.length>0)for(re=0;re<Ct.length;re++)z.push(Ct[re]);Xe.next=51;break;case 47:Xe.prev=47,Xe.t0=Xe.catch(40),ge=Xe.t0;case 51:return Xe.prev=51,Be=null,this._defaultDSScanClient&&(Be=(Oe=this._defaultDSScanClient.getServiceInfo())===null||Oe===void 0||(Oe=Oe.attrs)===null||Oe===void 0?void 0:Oe.UUID,this._defaultDSScanClient.isDestroy&&(this._disposeDSClientByKey(Be),this._defaultDSScanClient=null,Be=null)),ve&&(pt=Me[Qe].getServiceInfo(),(lt=pt==null||(tt=pt.attrs)===null||tt===void 0?void 0:tt.UUID)&&lt!=Be&&this._disposeDSClientByKey(lt)),Xe.finish(51);case 56:Qe++,Xe.next=38;break;case 59:Xe.next=64;break;case 61:throw Xe.prev=61,Xe.t1=Xe.catch(6),Xe.t1;case 64:return Xe.prev=64,kr(Z),ge&&B.DWT.lsetException(ge.code,ge.message),Xe.finish(64);case 68:return Xe.abrupt("return",z);case 69:case"end":return Xe.stop()}},k,this,[[6,61,64,68],[40,47,51,56]])})),function(k){return A.apply(this,arguments)})},{key:"acquireImage",value:(I=a(E().mark(function k(M,U){var G,z,Z,ie,se,re,ae,Se,ge,ve,Me,Qe,ze,yt;return E().wrap(function(at){for(;;)switch(at.prev=at.next){case 0:if(!(G=this)._bDispose){at.next=5;break}throw so(z={}),rr(z);case 5:if(M&&M instanceof Zo){at.next=9;break}throw $t(Z={}),{code:Z._errorCode,message:Z._errorString};case 9:return se="acquireImage",re=G.getViewerElement(),ae=[],Xr(se,re),at.prev=12,p.isUndefined(U)&&(U={}),p.isUndefined(U.IfShowUI)&&(U.IfShowUI=!1),p.isUndefined(U.IfCloseSourceAfterAcquire)&&(U.IfCloseSourceAfterAcquire=!0),Se=M.serviceInfo,at.next=19,this._createDSClientByServiceInfo(Se,!0);case 19:if(!(ie=at.sent)){at.next=47;break}if(G._defaultDSScanClient){at.next=24;break}return at.next=24,G._innerSetDefault(ie);case 24:ae.push(ie),ie!=G._defaultDSScanClient&&ae.push(G._defaultDSScanClient),ge=0;case 27:if(!(ge<ae.length)){at.next=36;break}if(ve=ae[ge],fu._isReady(ve)){at.next=33;break}throw ze=(Me=(Qe=ve.getServiceInfo())===null||Qe===void 0||(Qe=Qe.attrs)===null||Qe===void 0?void 0:Qe.name)!==null&&Me!==void 0?Me:"",sl(ve,ze),{code:ve._getErrorCode(),message:ve._getErrorString()};case 33:ge++,at.next=27;break;case 36:if(G.onPostTransferAsync?ie.registerEvent("OnPostTransferAsync",G.onPostTransferAsync):ie.unregisterEvent("OnPostTransferAsync"),this.__setViewerControlInfo(),ie!=G._defaultDSScanClient){at.next=43;break}return at.next=41,ie.acquireImage(M,U);case 41:at.next=45;break;case 43:return at.next=45,ie._acquireImageForSendTo(se,M,U,G._defaultDSScanClient);case 45:at.next=49;break;case 47:throw $R(Se==null||(yt=Se.attrs)===null||yt===void 0?void 0:yt.name);case 49:at.next=54;break;case 51:throw at.prev=51,at.t0=at.catch(12),at.t0;case 54:return at.prev=54,ie&&ie.__closeRemoteScanUI(!0),kr(se),at.finish(54);case 58:case"end":return at.stop()}},k,this,[[12,51,54,58]])})),function(k,M){return I.apply(this,arguments)})},{key:"_waitForDSValid",value:function(k,M){for(var U=0,G=k.length,z=this;U<G;U++)if(!fu._isReady(k[U]))return void setTimeout(function(){z._waitForDSValid(k,M)},Or.RemoteReconnectTimeSpan);p.isFunction(z[M.command])&&z[M.command].apply(z,M.parmas)}},{key:"getCapabilities",value:(b=a(E().mark(function k(M){var U,G,z,Z,ie,se,re;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(!this._bDispose){ae.next=4;break}throw so(U={}),rr(U);case 4:if(M&&M instanceof Zo){ae.next=8;break}throw $t(G={}),rr(G);case 8:return Z="getCapabilities",ie=[],se=this.getViewerElement(),Xr(Z,se),ae.prev=10,re=M.serviceInfo,ae.next=14,this._createDSClientByServiceInfo(re,!0);case 14:if(z=ae.sent,!(z=this._findDSClientByServiceInfo(re))){ae.next=20;break}return ae.next=19,z.getCapabilities(M);case 19:ie=ae.sent;case 20:ae.next=25;break;case 22:throw ae.prev=22,ae.t0=ae.catch(10),ae.t0;case 25:return ae.prev=25,z&&z.__closeRemoteScanUI(!0),kr(Z),ae.finish(25);case 29:return ae.abrupt("return",ie);case 30:case"end":return ae.stop()}},k,this,[[10,22,25,29]])})),function(k){return b.apply(this,arguments)})},{key:"setCapabilities",value:(_=a(E().mark(function k(M,U){var G,z,Z,ie,se,re;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(!this._bDispose){ae.next=4;break}throw so(G={}),rr(G);case 4:if(M&&M instanceof Zo){ae.next=8;break}throw $t(z={}),rr(z);case 8:return ie="setCapabilities",se=this.getViewerElement(),Xr(ie,se),ae.prev=10,re=M.serviceInfo,ae.next=14,this._createDSClientByServiceInfo(re,!0);case 14:if(!(Z=ae.sent)){ae.next=18;break}return ae.next=18,Z.setCapabilities(M,U);case 18:ae.next=23;break;case 20:throw ae.prev=20,ae.t0=ae.catch(10),ae.t0;case 23:return ae.prev=23,Z&&Z.__closeRemoteScanUI(!0),kr(ie),ae.finish(23);case 27:case"end":return ae.stop()}},k,this,[[10,20,23,27]])})),function(k,M){return _.apply(this,arguments)})},{key:"closeSource",value:(S=a(E().mark(function k(M){var U,G,z,Z,ie,se;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(!this._bDispose){re.next=4;break}throw so(U={}),rr(U);case 4:if(M&&M instanceof Zo){re.next=8;break}throw $t(G={}),rr(G);case 8:return z="closeSource",Z=this.getViewerElement(),Xr(z,Z),re.prev=10,ie=M.serviceInfo,se=this._findDSClientByServiceInfo(ie),re.next=15,se.closeSource();case 15:re.next=20;break;case 17:throw re.prev=17,re.t0=re.catch(10),re.t0;case 20:return re.prev=20,kr(z),re.finish(20);case 23:case"end":return re.stop()}},k,this,[[10,17,20,23]])})),function(k){return S.apply(this,arguments)})},{key:"_putDSClientToMap",value:function(k,M){var U,G=k==null||(U=k.attrs)===null||U===void 0?void 0:U.UUID;G&&(this._dsScanClientsMap[G]=M)}},{key:"_getDSClientFromMap",value:function(k){var M,U=k==null||(M=k.attrs)===null||M===void 0?void 0:M.UUID;return U?this._dsScanClientsMap[U]:null}},{key:"_createDSClientByServiceInfo",value:(v=a(E().mark(function k(M,U,G){var z,Z,ie,se;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(this._serviceInfos){re.next=3;break}return re.next=3,this.getDynamsoftService();case 3:if(z=this._findDSClientByServiceInfo(M)){re.next=20;break}return re.next=7,this._setRemoteUuid();case 7:return re.prev=7,re.next=10,fu.createByServiceInfo(this._uuidForRemoteScanObject,M,G);case 10:(z=re.sent)&&this._putDSClientToMap(M,z),re.next=20;break;case 14:if(re.prev=14,re.t0=re.catch(7),re.t0.code==kt.MustUpgrade&&(ie=M==null||(Z=M.attrs)===null||Z===void 0?void 0:Z.ty)&&(Td(se={},ie),re.t0.message=se._errorString),!U){re.next=19;break}throw re.t0;case 19:p.warn(re.t0);case 20:return re.abrupt("return",z);case 21:case"end":return re.stop()}},k,this,[[7,14]])})),function(k,M,U){return v.apply(this,arguments)})},{key:"_makeSureDefaultServiceInfo",value:(m=a(E().mark(function k(){var M;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(this._serviceInfos){U.next=3;break}return U.next=3,this.getDynamsoftService();case 3:if(!(this._serviceInfos&&this._serviceInfos.length>0)){U.next=8;break}return M=this._serviceInfos[0],U.next=7,this._createDSClientByServiceInfo(M);case 7:return U.abrupt("return",U.sent);case 8:return U.abrupt("return",null);case 9:case"end":return U.stop()}},k,this)})),function(){return m.apply(this,arguments)})},{key:"httpUpload",value:(f=a(E().mark(function k(M,U,G,z,Z,ie){var se,re,ae,Se;return E().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(!this._bDispose){ge.next=4;break}return so(se={}),ge.abrupt("return",V.Promise.reject(rr(se)));case 4:return ae=this.getViewerElement(),Se=ae._containerElement,ge.next=7,this._makeSureDefaultServiceInfo();case 7:if(this._defaultDSScanClient){ge.next=9;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 9:return ge.next=11,this._defaultDSScanClient.httpUpload(M,U,G,z,Z,ie,Se);case 11:return re=ge.sent,ge.abrupt("return",re);case 13:case"end":return ge.stop()}},k,this)})),function(k,M,U,G,z,Z){return f.apply(this,arguments)})},{key:"runCommand",value:function(k){return this._defaultDSScanClient.RunCommandAsync(k)}},{key:"removeImages",value:(c=a(E().mark(function k(M){var U,G,z,Z,ie;return E().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(!this._bDispose){se.next=4;break}return so(U={}),se.abrupt("return",V.Promise.reject(rr(U)));case 4:return G="removeImages",Z=this.getViewerElement(),Xr(G,Z),se.prev=6,se.next=9,this._makeSureDefaultServiceInfo();case 9:if(this._defaultDSScanClient){se.next=11;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 11:if(!this._defaultDSScanClient){se.next=17;break}return se.next=14,this._defaultDSScanClient.removeImages(M);case 14:z=se.sent,se.next=21;break;case 17:if(this.howManyImagesInBuffer!=0){se.next=21;break}if(ie={},eU(M,this.howManyImagesInBuffer,ie)){se.next=21;break}throw{code:ie._errorCode,message:ie._errorString};case 21:se.next=26;break;case 23:throw se.prev=23,se.t0=se.catch(6),se.t0;case 26:return se.prev=26,kr(G),se.finish(26);case 29:return se.abrupt("return",z);case 30:case"end":return se.stop()}},k,this,[[6,23,26,29]])})),function(k){return c.apply(this,arguments)})},{key:"saveImages",value:(l=a(E().mark(function k(M,U,G){var z,Z,ie,se;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(z={},!this._bDispose){re.next=4;break}return so(z),re.abrupt("return",V.Promise.reject(rr(z)));case 4:if(this.howManyImagesInBuffer!=0){re.next=7;break}return Nn(z),re.abrupt("return",V.Promise.reject(rr(z)));case 7:if(p.isNumber(G)){re.next=10;break}return $t(z),re.abrupt("return",V.Promise.reject(rr(z)));case 10:if(G!=Qt.IT_BMP&&G!=Qt.IT_JPG&&G!=Qt.IT_PNG){re.next=16;break}if(!(U.length>1)){re.next=14;break}return Fe(z,-2623,"Saving multiple images is not allowable when the selected output format is BMP, JPG or PNG."),re.abrupt("return",V.Promise.reject(rr(z)));case 14:re.next=27;break;case 16:if(G!=Qt.IT_TIF&&G!=Qt.IT_PDF){re.next=20;break}re.next=27;break;case 20:if(G!=Qt.IT_ALL&&G!=Qt.IT_MULTIPAGE_PDF&&G!=Qt.IT_MULTIPAGE_TIF){re.next=25;break}return XR(z),re.abrupt("return",V.Promise.reject(rr(z)));case 25:return Li(z),re.abrupt("return",V.Promise.reject(rr(z)));case 27:return ie=this.getViewerElement(),se=ie._containerElement,re.next=30,this._makeSureDefaultServiceInfo();case 30:if(this._defaultDSScanClient){re.next=32;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 32:return re.next=34,this._defaultDSScanClient.saveImages(M,U,G,se);case 34:return Z=re.sent,re.abrupt("return",Z);case 36:case"end":return re.stop()}},k,this)})),function(k,M,U){return l.apply(this,arguments)})},{key:"getImages",value:(u=a(E().mark(function k(M,U,G){var z,Z,ie,se;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(z={},!this._bDispose){re.next=4;break}return so(z),re.abrupt("return",V.Promise.reject(rr(z)));case 4:if(this.howManyImagesInBuffer!=0){re.next=7;break}return Nn(z),re.abrupt("return",V.Promise.reject(rr(z)));case 7:if(p.isNumber(U)&&p.isNumber(G)){re.next=10;break}return $t(z),re.abrupt("return",V.Promise.reject(rr(z)));case 10:return ie=this.getViewerElement(),se=ie._containerElement,re.next=13,this._makeSureDefaultServiceInfo();case 13:if(this._defaultDSScanClient){re.next=15;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 15:return re.next=17,this._defaultDSScanClient.getImages(M,U,G,se);case 17:return Z=re.sent,re.abrupt("return",Z);case 19:case"end":return re.stop()}},k,this)})),function(k,M,U){return u.apply(this,arguments)})},{key:"__unload",value:(s=a(E().mark(function k(){var M,U,G,z;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(this._viewer&&this._viewer.unbind(),!this._dsScanClientsMap){Z.next=12;break}U=this._dsScanClientsMap,G=Object.keys(U),M=0;case 5:if(!(M<G.length)){Z.next=12;break}return z=G[M],Z.next=9,this._disposeDSClientByKey(z);case 9:M++,Z.next=5;break;case 12:this._dsScanClientsMap=null,this._bDispose=!0;case 14:case"end":return Z.stop()}},k,this)})),function(){return s.apply(this,arguments)})},{key:"dispose",value:function(){return this.__unload()}},{key:"setLogLevel",value:function(k){var M,U=this._dsScanClientsMap;if(U){var G=Object.keys(U);for(M=0;M<G.length;M++)U[G[M]]._setLogLevel(k);this._needSetLogLevel=!1,this._logLevel=-1}else this._needSetLogLevel=!0,this._logLevel=k;return!0}},{key:"getProfile",value:(o=a(E().mark(function k(M){var U,G,z,Z;return E().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(U="",M&&M instanceof Zo){ie.next=5;break}throw $t(G={}),{code:G._errorCode,message:G._errorString};case 5:return ie.prev=5,z=M.serviceInfo,ie.next=9,this._createDSClientByServiceInfo(z,!0);case 9:if(!(Z=ie.sent)){ie.next=14;break}return ie.next=13,Z.getProfile(M);case 13:U=ie.sent;case 14:ie.next=19;break;case 16:throw ie.prev=16,ie.t0=ie.catch(5),ie.t0;case 19:return ie.abrupt("return",U);case 20:case"end":return ie.stop()}},k,this,[[5,16]])})),function(k){return o.apply(this,arguments)})},{key:"setProfile",value:(n=a(E().mark(function k(M,U){var G,z,Z,ie;return E().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(G="",M&&M instanceof Zo){se.next=5;break}throw $t(z={}),{code:z._errorCode,message:z._errorString};case 5:return se.prev=5,Z=M.serviceInfo,se.next=9,this._createDSClientByServiceInfo(Z,!0);case 9:if(!(ie=se.sent)){se.next=14;break}return se.next=13,ie.setProfile(M,U);case 13:G=se.sent;case 14:se.next=19;break;case 16:throw se.prev=16,se.t0=se.catch(5),se.t0;case 19:return se.abrupt("return",G);case 20:case"end":return se.stop()}},k,this,[[5,16]])})),function(k,M){return n.apply(this,arguments)})},{key:"imageIDToIndex",value:function(k){return this._defaultDSScanClient?this._defaultDSScanClient.imageIDToIndex(k):0}},{key:"indexToImageID",value:function(k){return this._defaultDSScanClient?this._defaultDSScanClient.indexToImageID(k):""}},{key:"howManyImagesInBuffer",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.howManyImagesInBuffer:0}},{key:"currentImageIndexInBuffer",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.currentImageIndexInBuffer:-1},set:function(k){this._defaultDSScanClient&&(this._defaultDSScanClient.currentImageIndexInBuffer=k)}},{key:"showProgressBar",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.IfShowProgressBar:this._showProgressBar},set:function(k){this._defaultDSScanClient?(this._showProgressBar=k,this._defaultDSScanClient.IfShowProgressBar=k):this._showProgressBar}},{key:"registerEvent",value:function(k,M){if(this._bDispose){var U={};return so(U),V.Promise.reject(rr(U))}if(!p.isFunction(M)){var G={};return zR(G),V.Promise.reject(rr(G))}if(k=="onBufferChanged"||k=="OnBufferChanged")this.onBufferChanged=M;else{if(k!="onPostTransferAsync"&&k!="OnPostTransferAsync"){var z={};return VR(z),V.Promise.reject(rr(z))}this.onPostTransferAsync=M}return this._registEventToDefaultDS(),!0}},{key:"unregisterEvent",value:function(k,M){if(this._bDispose){var U={};return so(U),V.Promise.reject(rr(U))}if(k=="onBufferChanged"||k=="OnBufferChanged"){if(this.onBufferChanged=null,this._defaultDSScanClient)return this._defaultDSScanClient.unregisterEvent("OnBufferChanged",M)}else{if(k!="onPostTransferAsync"&&k!="OnPostTransferAsync"){var G={};return VR(G),V.Promise.reject(rr(G))}if(this.onPostTransferAsync=null,this._defaultDSScanClient)return this._defaultDSScanClient.unregisterEvent("OnPostTransferAsync",M)}}},{key:"getViewerElement",value:function(){return this.Viewer&&this.Viewer.webViewer&&this.Viewer.webViewer.containerElement?{_containerElement:this.Viewer.webViewer.containerElement}:{_containerElement:document.body}}},{key:"isSameService",value:function(k,M){return!(!k||!M)&&k.server==M.server&&k.attrs.UUID==M.attrs.UUID&&k.attrs.accessmode==M.attrs.accessmode&&k.attrs.name==M.attrs.name&&k.attrs.os==M.attrs.os&&k.attrs.service_type==M.attrs.service_type&&k.attrs.tags==M.attrs.tags&&k.attrs.ty==M.attrs.ty&&k.attrs.type==M.attrs.type&&k.attrs.txtvers==M.attrs.txtvers}},{key:"_findDSClientByServiceInfo",value:function(k){var M,U=this._serviceInfos;if(U)for(M=0;M<U.length;M++){var G=U[M];if(this.isSameService(k,G)){var z=this._getDSClientFromMap(G);if(z){var Z;if(fu._isReady(z))return z;z.isDestroy||z.dispose();var ie=G==null||(Z=G.attrs)===null||Z===void 0?void 0:Z.UUID;ie&&delete this._dsScanClientsMap[ie]}break}}return null}},{key:"_setRemoteUuid",value:(r=a(E().mark(function k(){var M;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!ui()){U.next=6;break}if(this._uuidForRemoteScanObject){U.next=6;break}return U.next=4,B.DWT.lgcuid(B.DWT.lgdt(),"");case 4:M=U.sent,this._uuidForRemoteScanObject=M;case 6:case"end":return U.stop()}},k,this)})),function(){return r.apply(this,arguments)})},{key:"_registEventToDefaultDS",value:function(){this._defaultDSScanClient&&(this.onBufferChanged&&this._defaultDSScanClient.registerEvent("OnBufferChanged",this.onBufferChanged),this.onPostTransferAsync&&this._defaultDSScanClient.registerEvent("OnPostTransferAsync",this.onPostTransferAsync))}}]);var r,n,o,s,u,l,c,f,m,v,S,_,b,I,A,P,L,$,ee,q,Q,J,te,H}(),M0=!1;function FE(r,n){return OE.apply(this,arguments)}function OE(){return OE=a(E().mark(function r(n,o){var s,u;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o&&Nr("Checking Product Key format..."),l.next=3,_t.preParseProductKey(o);case 3:if((s=B.DWT.licenseException).code==0){l.next=7;break}throw n&&$T(s),{code:s.code,message:s.message};case 7:if(M0){l.next=15;break}if(u=!1,ue.bIE&&(u=ue.IEVersion<=7),u||!ui()){l.next=15;break}if(B.DWT.IfLoadResources){l.next=14;break}return M0=!0,l.abrupt("return");case 14:return l.abrupt("return",new V.Promise(function(c,f){var m=ds(),v="";!ue.bFileSystem&&B.DWT.IfResourcesAddTimestamp&&(v=V.timestamp),p.addScript([m,"/src/dynamsoft.lts.js",v].join(""),!0,!1,function(S){if(B.LTS&&B.LTS._)return M0=!0,void c();if(S){if(ue.bIE)return void f({code:-2822,message:"The WebTwain JavaScript lts.js load failed."});if(S.type=="error")return void f({code:-2822,message:"The WebTwain JavaScript lts.js load failed."})}M0=!0,c()})}));case 15:case"end":return l.stop()}},r)})),OE.apply(this,arguments)}function nle(r,n,o){return NE.apply(this,arguments)}function NE(){return NE=a(E().mark(function r(n,o,s){var u,l,c,f,m,v,S,_,b,I,A;return E().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:u=B.DWT.Containers,l=0;case 2:if(!(l<u.length)){P.next=53;break}if(!(c=p.clone(u[l])).ContainerId){P.next=8;break}if(!B.DWT.ContainerMap[c.ContainerId]){P.next=8;break}return P.abrupt("continue",50);case 8:if(!c.WebTwainId){P.next=12;break}if(!B.DWT.WebTwainIdMap[c.WebTwainId]){P.next=12;break}return P.abrupt("continue",50);case 12:if(c.Host=n,c.SSLPort=s,c.Port=o,!p.isDOM(c.Container)){P.next=19;break}P.next=26;break;case 19:if(!c.ContainerId){P.next=26;break}if(v=c.ContainerId,p.isString(v)){P.next=23;break}throw{code:-2806,message:'Error: The argument passed to the parameter "conatinerId" is not a string.'};case 23:if(c.Container=p.get(v),c.Container){P.next=26;break}throw JR(v);case 26:if(!nE(c.Container)){P.next=33;break}return S=document.createElement("div"),c.Container.appendChild(S),c.Container=S,_=rE(S),P.next=33,AR(_);case 33:return a9(b=NU(c)),I=void 0,P.prev=36,P.next=39,a4.create(b);case 39:I=P.sent,P.next=46;break;case 42:throw P.prev=42,P.t0=P.catch(36),I&&I.dispose(),P.t0;case 46:if((m=B.DWT.licenseException).code===0){P.next=49;break}throw{code:m.code,message:m.message};case 49:f=I;case 50:l++,P.next=2;break;case 53:A=window,f&&(A.DCP_DWT_OnClickCloseInstall&&A.DCP_DWT_OnClickCloseInstall(!1,!0),l4(f),ZB(f)),setTimeout(function(){try{p.isFunction(B.DWT.OnWebTwainReady)?B.DWT.OnWebTwainReady():p.isFunction(A.Dynamsoft_OnReady)&&A.Dynamsoft_OnReady()}catch(L){vr(L)}},100);case 56:case"end":return P.stop()}},r,null,[[36,42]])})),NE.apply(this,arguments)}function f4(){return LE.apply(this,arguments)}function LE(){return LE=a(E().mark(function r(){var n,o,s,u,l,c,f,m,v,S,_,b,I,A;return E().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(V.page.bUnload=xe,Ie.bHTML5Edition){P.next=3;break}return P.abrupt("return",B.DWT._innerLoad());case 3:return P.next=5,FE(!0,!0);case 5:if((n=B.DWT.Containers)&&n.length!==0){P.next=10;break}throw QR(o={}),{code:o._errorCode,message:o._errorString};case 10:l=!1,c=[],f=[],s=0;case 12:if(!(s<n.length)){P.next=37;break}if(!(u=n[s])){P.next=32;break}if(p.isObject(u)){P.next=18;break}return l=!0,P.abrupt("break",37);case 18:if(!p.isString(u.WebTwainId)||u.WebTwainId==""){P.next=24;break}if(!PR(c,u.WebTwainId)){P.next=23;break}throw qR(o={}),{code:o._errorCode,message:o._errorString};case 23:c.push(u.WebTwainId);case 24:if(!p.isString(u.ContainerId)||u.ContainerId==""){P.next=30;break}if(!PR(f,u.ContainerId)){P.next=29;break}throw ZR(o={}),{code:o._errorCode,message:o._errorString};case 29:f.push(u.ContainerId);case 30:P.next=34;break;case 32:return l=!0,P.abrupt("break",37);case 34:s++,P.next=12;break;case 37:if(!l){P.next=41;break}throw p9(m={}),{code:m._errorCode,message:m._errorString};case 41:return v=si(),S=B.DWT.Port,_=B.DWT.SSLPort,P.next=44,BU(v,S,_);case 44:if(!B.DWT.IfCheckDCP){P.next=65;break}return b=ue.bSSL?_:S,P.next=48,ZT(v,S,_);case 48:if(!(I=P.sent)){P.next=54;break}S=I.port,_=I.sslPort,P.next=57;break;case 54:throw Mi(A={}),rr(A);case 57:if(!B.dcp.bEnhancedMode){P.next=65;break}return P.prev=58,P.next=61,Js.closeWsClient(v,b,ue.bSSL);case 61:P.next=65;break;case 63:P.prev=63,P.t0=P.catch(58);case 65:return Nr("Creating WebTwain from Dynamsoft.DWT.Containers..."),P.next=68,nle(v,S,_);case 68:case"end":return P.stop()}},r,null,[[58,63]])})),LE.apply(this,arguments)}var ile=new(function(){return y(function r(){h(this,r)},[{key:"InvalidValue",value:function(r){Vn(r)}},{key:"ParameterCannotEmpty",value:function(r){ci(r)}},{key:"Webcam_InvalidIndex",value:function(r,n){Fe(r,-2315,"The index is out of range.")}},{key:"Webcam_InvalidRemoteFilename",value:function(r){Fe(r,-2316,"The RemoteFile field is empty in the Webcam Download Function.")}},{key:"InvalidDestination",value:function(r){Fe(r,-2318,"Invalid destination file.")}},{key:"InvalidSourceFile",value:function(r){Fe(r,-2319,"Invalid source file.")}},{key:"InvalidFile",value:function(r){al(r)}},{key:"OCR_InvalidIndex",value:function(r,n){Fe(r,-2321,"The index is out of range.")}},{key:"OCR_InvalidLeftOrTopOrRightOrBottom",value:function(r){Fe(r,-2322,"The left or top or right or bottom you entered is invalid.")}},{key:"OCR_InvalidOutputFormat",value:function(r){Fe(r,-2323,"The OCR output format is not supported.")}},{key:"OCR_InvalidPageSetMode",value:function(r){Fe(r,-2324,"The OCR page set mode is not supported.")}},{key:"IndexOutOfRange",value:function(r){qe(r)}},{key:"OCR_InvalidRemoteFilename",value:function(r){Fe(r,-2379,"The RemoteFile field is empty in the OCR Download Function.")}},{key:"ImageEditorOpenCannotPlayVideo",value:function(r){Fe(r,-2437,"The video can not be played while the Image Editor is open.")}},{key:"EventNotExist",value:function(r){Fe(r,-2509,"The specified event doesn't exist.")}},{key:"CallbackNotAFunction",value:function(r){zR(r)}},{key:"WasmNotLoaded",value:function(r){Fe(r,-2537,"The wasm not loaded.")}},{key:"WasmNotLoaded_UseWasmFalse",value:function(r){Fe(r,-2538,"The wasm not loaded when Dynamsoft.DWT.UseCameraAddonWasm is set to false.")}},{key:"CannotDoWhenNoViewerJS",value:function(r){Qv(r)}},{key:"LicenseNoDbr",value:function(r){Fe(r,-2611,"The license for the Barcode module is invalid."),zr(r)}}])}());if(Ie.bHTML5Edition){var ole=function(){var r=a(E().mark(function n(o){var s,u,l,c,f,m,v,S;return E().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return wU(),_.next=3,FE(!0,!1);case 3:if(B.DWT.UseDefaultViewer||(o.Container=null),!nE(o.Container)){_.next=11;break}return u=document.createElement("div"),o.Container.appendChild(u),o.Container=u,l=rE(u),_.next=11,AR(l);case 11:return s=NU(o),_.next=14,Tf();case 14:return _.next=16,R0();case 16:c=3,f=0;case 18:if(!(f<c)){_.next=35;break}return _.prev=19,_.next=22,BU(s.host,s.port,s.sslPort);case 22:return _.abrupt("break",35);case 25:if(_.prev=25,_.t0=_.catch(19),!(f<c-1&&_.t0.code==kt.DWTPortNotReady)){_.next=31;break}return _.next=30,new V.Promise(function(b,I){setTimeout(function(){b()},300)});case 30:return _.abrupt("continue",32);case 31:throw _.t0;case 32:f++,_.next=18;break;case 35:if(!B.DWT.IfCheckDCP){_.next=47;break}return _.next=38,ZT(s.host,s.port,s.sslPort);case 38:if(!(m=_.sent)){_.next=44;break}s.port=m.port,s.sslPort=m.sslPort,_.next=47;break;case 44:throw Mi(v={}),rr(v);case 47:return Nr("Creating a WebTwain instance..."),_.next=50,Zce(s);case 50:return S=_.sent,_.abrupt("return",S);case 52:case"end":return _.stop()}},n,null,[[19,25]])}));return function(n){return r.apply(this,arguments)}}(),ale=window;B.DWT.OnBeforeUnload=function(r){},ale.addEventListener("beforeunload",function(r){if(V.isFunction(B.DWT.OnBeforeUnload))return B.DWT.OnBeforeUnload(r)}),B.DWT.Unload=a(E().mark(function r(){var n;return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!Ie.bDWTLoading&&!Ie.bDWTUnloading){o.next=2;break}return o.abrupt("return");case 2:return Ie.bDWTUnloading=!0,o.prev=3,o.next=6,_g(!1,!0);case 6:o.next=11;break;case 8:o.prev=8,o.t0=o.catch(3),n=o.t0;case 11:try{mc(),B.DWT.CloseDialog(),V._zdgb_xkz_dhk(),V.closeProgress(null,""),V.hideMask(),s9()}catch{}if(Ie.bDWTLoading=!1,Ie.bDWTUnloading=!1,Ie.loadResourcePath=!1,Ie.loadingResourcePath=!1,!n){o.next=18;break}throw n;case 18:case"end":return o.stop()}},r,null,[[3,8]])})),B.DWT.Load=a(E().mark(function r(){var n,o;return E().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!Ie.bDWTLoading){s.next=2;break}return s.abrupt("return");case 2:if(!Ie.bDWTUnloading){s.next=5;break}return setTimeout(B.DWT.Load,500),s.abrupt("return");case 5:return Ie.bDWTLoading=!0,yg(),s.prev=7,s.prev=8,s.next=11,D0();case 11:return s.next=13,Tf();case 13:return s.next=15,R0();case 15:s.next=21;break;case 17:throw s.prev=17,s.t0=s.catch(8),s_(s.t0),s.t0;case 21:return s.prev=21,B.Lib.closeProgress(),s.next=25,_g(!0,!0);case 25:s.next=31;break;case 27:return s.prev=27,s.t1=s.catch(21),s.next=31,_g();case 31:s.prev=31,B.DWT.CloseDialog(),n=3,o=0;case 35:if(!(o<n)){s.next=52;break}return s.prev=36,s.next=39,f4();case 39:return s.abrupt("break",52);case 42:if(s.prev=42,s.t2=s.catch(36),!(o<n-1&&s.t2.code==kt.DWTPortNotReady)){s.next=48;break}return s.next=47,new V.Promise(function(u,l){setTimeout(function(){u()},300)});case 47:return s.abrupt("continue",49);case 48:throw s.t2;case 49:o++,s.next=35;break;case 52:s.next=66;break;case 54:return s.prev=54,s.t3=s.catch(31),u_(s.t3.code)||V.detect.bOK||p.asyncQueue.pushToDo(null,B.DWT.Load),s_(s.t3),s.prev=59,s.next=62,_g();case 62:s.next=66;break;case 64:s.prev=64,s.t4=s.catch(59);case 66:return s.prev=66,Ie.bDWTLoading=!1,mc(),s.finish(66);case 70:case"end":return s.stop()}},r,null,[[7,,66,70],[8,17],[21,27],[31,54],[36,42],[59,64]])})),B.DWT.CheckConnectToTheService=function(r,n,o,s){jU(r,n,null,o,s)},B.DWT.ConnectToTheService=function(){p.asyncQueue.start()},B.DWT.CreateDWTObject=function(r,n,o,s,u,l){var c,f=u,m=l;p.isFunction(n)&&p.isFunction(o)?(f=n,m=o,c={}):c={Host:n,Port:o,SSLPort:s};var v,S=r;if(p.isString(S)&&!(S=p.get(S)))return function(I){Fe(I,-2813,q7)}(v={}),m&&m({code:v._errorCode,message:v._errorString}),xe;if(p.isDOM(S))c.Container=S;else{if(!p.isString(r)){var _={code:-2806,message:'Error: The argument passed to the parameter "conatinerId" is not a string.'};return p.isFunction(m)&&m(_),xe}if(!p.get(r)){var b=JR(r);return p.isFunction(m)&&m(b),xe}}return c.WebTwainId=MF(),B.DWT.CreateDWTObjectEx(c,f,m)},B.DWT.CreateDWTObjectEx=function(r,n,o){var s=arguments,u=!!r.bLoadingDialogOpened;return Ie.loadResourcePath?p.isString(r.WebTwainId)?(u||yg(),delete r.bLoadingDialogOpened,ole(r).then(function(l){mc(),ZB(l),p.isFunction(n)&&n(l)},function(l){if(mc(),!V.detect.bOK){var c=l&&l.code,f=B.DWT.licenseException;(c&&!u_(c)||f.code==0)&&(p.asyncQueue.stop(),p.asyncQueue.pushToDo(null,B.DWT.CreateDWTObjectEx,s))}p.isFunction(o)&&o(l)}),!0):(u&&mc(),o&&o({code:-2805,message:'Error: The "WebTwainId" is not a string.'}),xe):(u||(yg(),r.bLoadingDialogOpened=!0),void D0().then(Tf).then(function(){setTimeout(function(){B.DWT.CreateDWTObjectEx(r,n,o)},100)},function(l){mc(),o(l)}))},B.DWT.CreateRemoteScanObjectAsync=function(){var r=a(E().mark(function n(o){var s,u;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=null,o){l.next=5;break}throw $t(u={}),{code:u._errorCode,message:u._errorString};case 5:return Ie.bDWTLoading=!0,yg(),l.prev=7,l.next=10,Tf();case 10:return l.next=12,R0();case 12:return l.next=14,FE(!1,!1);case 14:s=new rle(o),Object.preventExtensions(s);case 16:return l.prev=16,Ie.bDWTLoading=!1,mc(),l.finish(16);case 20:return l.abrupt("return",s);case 21:case"end":return l.stop()}},n,null,[[7,,16,20]])}));return function(n){return r.apply(this,arguments)}}(),B.DWT.DeleteDWTObject=function(r){var n,o=r;return Ie.bHTML5Edition&&o?!!(n=p.isString(o)?B.DWT.GetWebTwain(o):o)&&(n.dispose(),!0):xe}}function _g(r,n){return ME.apply(this,arguments)}function ME(){return ME=a(E().mark(function r(n,o){var s,u,l,c,f,m,v;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(n&&Nr("Unload..."),!o){S.next=4;break}return S.next=4,B.DWT.lunload();case 4:if(V.dlgProgress=!1,V.detect.bOK=!1,V.detect.bFirst=!0,!(c=B.DWT.WebTwainIdMap)){S.next=32;break}f=Object.keys(c),s=0;case 11:if(!(s<f.length)){S.next=32;break}if(!(l=f[s])||!(l in c)){S.next=29;break}if(!(u=c[l])){S.next=29;break}if(S.prev=16,!u.__unload){S.next=22;break}return S.next=20,u.__unload();case 20:S.next=24;break;case 22:return S.next=24,u.dispose();case 24:S.next=29;break;case 26:S.prev=26,S.t0=S.catch(16),m=S.t0;case 29:s++,S.next=11;break;case 32:if(!(c=B.DWT.ContainerMap)){S.next=57;break}f=Object.keys(c),s=0;case 36:if(!(s<f.length)){S.next=57;break}if(!(l=f[s])||!(l in c)){S.next=54;break}if(!(u=c[l])){S.next=54;break}if(S.prev=41,!u.__unload){S.next=47;break}return S.next=45,u.__unload();case 45:S.next=49;break;case 47:return S.next=49,u.dispose();case 49:S.next=54;break;case 51:S.prev=51,S.t1=S.catch(41),m=S.t1;case 54:s++,S.next=36;break;case 57:if(!(c=B.DWT.RemoteScanIdMap)){S.next=82;break}f=Object.keys(c),s=0;case 61:if(!(s<f.length)){S.next=82;break}if(!(l=f[s])||!(l in c)){S.next=79;break}if(!(u=c[l])){S.next=79;break}if(S.prev=66,!u.__unload){S.next=72;break}return S.next=70,u.__unload();case 70:S.next=74;break;case 72:return S.next=74,u.dispose();case 74:S.next=79;break;case 76:S.prev=76,S.t2=S.catch(66),m=S.t2;case 79:s++,S.next=61;break;case 82:for(s=0;s<Ie.unloadQueue.length;s++)v=Ie.unloadQueue[s],p.isFunction(v)&&v();if(Ie.unloadQueue.splice(0),!m){S.next=86;break}throw m;case 86:case"end":return S.stop()}},r,null,[[16,26],[41,51],[66,76]])})),ME.apply(this,arguments)}function yg(){Ie.bHTML5Edition&&(hU(),Xr("openLoadingMsg",null,{width:V.loaderBarWidth+"px"}))}function mc(){Ie.bHTML5Edition&&kr("closeLoadingMsg:")}function st(r,n){var o,s=this,u=0;(o=p.isString(r)?document.getElementById(r):r).style.backgroundColor="transparent",s.isLoaded=!1,s.displayType=0,s.progress=0,s.progressPosition=0,s.borderWidth={left:0,right:0,top:0,bottom:0},s.orientation=n.orientation||st.Orientation.Horizontal,s.direction=n.direction||st.Direction.LeftToRight,s.creationType=n.creationType||st.CreationType.Replace,s.value=0,s.initialValue=n.value||0,s.minValue=n.minValue||0,s.maxValue=n.maxValue||100,s.showLabel=typeof n.showLabel>"u"||n.showLabel,s.labelText=n.labelText||"",s.width=n.width||"100%",s.height=n.height||20,s.borderRadius=n.borderRadius||10,s.orientation==st.Orientation.Horizontal&&s.borderRadius>s.height/2&&(s.borderRadius=Math.round(s.height/2)),p.isNumber(s.width)&&s.orientation==st.Orientation.Vertical&&s.borderRadius>s.width/2&&(s.borderRadius=Math.round(s.width/2)),s.backColor=n.backColor||"",s.color=n.color||"#50a8e1",s.animationStyle=0,s.animationInterval=n.animationInterval||100;var l=["parent","background","wrapper","left","middle","right","horizontalText","verticalText","marker"];for(s.extraClassName={},u=0;u<l.length;u++)n.extraClassName?typeof n.extraClassName=="string"?s.extraClassName[l[u]]=n.extraClassName:s.extraClassName[l[u]]=n.extraClassName[l[u]]||"":s.extraClassName[l[u]]="";s.onLoad=n.onLoad||null,s.onValueChanged=n.onValueChanged||null,s.onAnimate=n.onAnimate||null,s.creationType==st.CreationType.Replace?s.parentElement=o:(s.parentElement=document.createElement("DIV"),o.appendChild(s.parentElement)),s.finishLoading()}V.Errors=ile,hg(a(E().mark(function r(){var n,o,s,u;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if((n=window)&&(p.addEventListener(n,"focus",function(){var c;(c=B.DWT.WebTwainIdMap)&&p.each(c,function(f,m){f&&f._OnPageFocus&&f._OnPageFocus()})}),p.addEventListener(n,"blur",function(){ue.bWin&&DU()}),o=n.document,p.addEventListener(o,"visibilitychange",function(){ue.bWin&&o.visibilityState=="hidden"&&DU()})),B.navInfo){l.next=11;break}return l.prev=3,l.next=6,iE();case 6:B.navInfo=l.sent,l.next=11;break;case 9:l.prev=9,l.t0=l.catch(3);case 11:if(B.DWT.AutoLoad!==!1&&!Ie.bDWTLoading){l.next=13;break}return l.abrupt("return");case 13:return l.prev=13,l.next=16,D0();case 16:if(!(B.DWT.Containers&&B.DWT.Containers.length>0&&B.DWT.AutoLoad)||Ie.bDWTLoading){l.next=48;break}return Ie.bDWTLoading=!0,yg(),l.prev=20,l.next=23,Tf();case 23:return l.next=25,R0();case 25:s=3,u=0;case 27:if(!(u<s)){l.next=44;break}return l.prev=28,l.next=31,f4();case 31:return l.abrupt("break",44);case 34:if(l.prev=34,l.t1=l.catch(28),!(u<s-1&&l.t1.code==kt.DWTPortNotReady)){l.next=40;break}return l.next=39,new V.Promise(function(c,f){setTimeout(function(){c()},300)});case 39:return l.abrupt("continue",41);case 40:throw l.t1;case 41:u++,l.next=27;break;case 44:return l.prev=44,Ie.bDWTLoading=!1,mc(),l.finish(44);case 48:l.next=62;break;case 50:return l.prev=50,l.t2=l.catch(13),u_(l.t2.code)||V.detect.bOK||p.asyncQueue.pushToDo(null,B.DWT.Load),s_(l.t2),l.prev=55,l.next=58,_g();case 58:l.next=62;break;case 60:l.prev=60,l.t3=l.catch(55);case 62:case"end":return l.stop()}},r,null,[[3,9],[13,50],[20,,44,48],[28,34],[55,60]])}))),st.Orientation={Horizontal:0,Vertical:1},st.Direction={LeftToRight:0,RightToLeft:1,TopToBottom:0,BottomToTop:1},st.CreationType={Replace:0,AppendChild:1},st.AnimationStyle={None:0,Static:1,StaticFull:2,Custom:3,CustomFull:4,Flickering1:10,Flickering2:11,Flickering3:12,LeftToRight1:20,LeftToRight2:21,RightToLeft1:22,RightToLeft2:23,TwoWay:24},st.prototype.finishLoading=function(){var r,n=this;n.wrapperElement=null,n.backgroundElement=null,n.valueElement=null,n.leftElement=null,n.middleElement=null,n.rightElement=null,n.backgroundElement=document.createElement("DIV"),n.backgroundElement.className="progressbar_background"+(n.extraClassName.background?" ":"")+n.extraClassName.background,n.backgroundElement.style.cssText=n.backgroundElement.style.cssText+st._createBorderRadiusCss(n.borderRadius),n.parentElement.appendChild(n.backgroundElement);var o=["border-radius","border-bottom-right-radius"],s=0,u="";for(s=0;s<o.length&&!(u=st._elementCurrentStyle(n.backgroundElement,o[s]))&&typeof u!="string";s++);u!=""&&st._parseInt(u)!=n.borderRadius&&(n.borderRadius=st._parseInt(u)),n.orientation==st.Orientation.Horizontal||n.orientation==st.Orientation.Vertical?n.displayType=0:n.displayType=1,n.parentElement.className=(n.parentElement.className!=""?" ":"")+"progressbar_parent dynamsoft-progressBar"+(n.extraClassName.parent?" ":"")+n.extraClassName.parent,n.displayType==0?((r=n.wrapperElement=document.createElement("DIV")).style.border="1px solid #A0A0A0",r.style.cssFloat="left",r.style.display="inline-block",r.style.width=p.isNumber(n.width)?n.width+"px":n.width,r.style.height=n.height+"px",r.style.left="0px",r.style.top=-n.height+"px",r.style.backgroundColor=n.backColor,r.style.backgroundRepeat="no-repeat",r.style.position="relative",r.style.cssText=r.style.cssText+st._createBorderRadiusCss(n.borderRadius),n.parentElement.appendChild(r),n.borderWidth={left:st._parseInt(st._elementCurrentStyle(r,"border-left-width")),right:st._parseInt(st._elementCurrentStyle(r,"border-right-width")),top:st._parseInt(st._elementCurrentStyle(r,"border-top-width")),bottom:st._parseInt(st._elementCurrentStyle(r,"border-bottom-width"))}):n.displayType==1&&(n.orientation==st.Orientation.Horizontal?p.isNumber(n.width)&&n.borderRadius>n.width/2&&(n.borderRadius=n.width):n.orientation==st.Orientation.Vertical&&n.borderRadius>n.height/2&&(n.borderRadius=n.height),n.valueElement=document.createElement("DIV"),n.valueElement.className="",n.leftElement=document.createElement("DIV"),n.middleElement=document.createElement("DIV"),n.rightElement=document.createElement("DIV"),n.leftElement.style.border="1px solid #A0A0A0",n.leftElement.style.cssFloat="left",n.leftElement.style.display="inline-block",n.leftElement.style.backgroundColor=n.backColor,n.leftElement.style.backgroundRepeat="no-repeat",n.leftElement.style.position="relative",n.rightElement.style.border="1px solid #A0A0A0",n.rightElement.style.cssFloat="left",n.rightElement.style.display="inline-block",n.rightElement.style.backgroundColor=n.backColor,n.rightElement.style.backgroundRepeat="no-repeat",n.rightElement.style.position="relative",n.middleElement.style.border="1px solid #A0A0A0",n.middleElement.style.cssFloat="left",n.middleElement.style.display="inline-block",n.middleElement.style.overflow="hidden",n.middleElement.style.position="relative",n.valueElement.style.backgroundColor=n.backColor,n.valueElement.style.position="relative",n.orientation==st.Orientation.Horizontal?(n.leftElement.style.width=n.borderRadius+"px",n.leftElement.style.height=n.height+"px",n.leftElement.style.top=-n.height+"px",n.leftElement.style.left="0px",n.leftElement.style.borderRight="none",n.leftElement.style.cssText=n.leftElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,0,0,n.borderRadius),n.rightElement.style.width=n.borderRadius+"px",n.rightElement.style.height=n.height+"px",n.rightElement.style.top=-n.height+"px",n.rightElement.style.borderLeft="none",n.rightElement.style.cssText=n.rightElement.style.cssText+st._createBorderRadiusCss(0,n.borderRadius,n.borderRadius,0),n.middleElement.style.width=p.isNumber(n.width)?n.width-2*n.borderRadius+"px":n.width,n.middleElement.style.height=n.height+"px",n.middleElement.style.top=-n.height+"px",n.middleElement.style.borderLeft="none",n.middleElement.style.borderRight="none",n.valueElement.style.width="0px",n.valueElement.style.height=n.height+"px"):n.orientation==st.Orientation.Vertical&&(n.leftElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.leftElement.style.height=n.borderRadius+"px",n.leftElement.style.top=-n.height+"px",n.leftElement.style.left="0px",n.leftElement.style.borderBottom="none",n.leftElement.style.cssText=n.leftElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,n.borderRadius,0,0),n.rightElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.rightElement.style.height=n.borderRadius+"px",n.rightElement.style.top=-n.height+"px",n.rightElement.style.left="0px",n.rightElement.style.borderTop="none",n.rightElement.style.cssText=n.rightElement.style.cssText+st._createBorderRadiusCss(0,0,n.borderRadius,n.borderRadius),n.middleElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.middleElement.style.height=n.height-2*n.borderRadius+"px",n.middleElement.style.top=-n.height+"px",n.middleElement.style.left="0px",n.middleElement.style.borderTop="none",n.middleElement.style.borderBottom="none",n.valueElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.valueElement.style.height="0px"),n.middleElement.appendChild(n.valueElement),n.parentElement.appendChild(n.leftElement),n.parentElement.appendChild(n.middleElement),n.parentElement.appendChild(n.rightElement),n.orientation==st.Orientation.Horizontal?n.borderWidth={left:st._parseInt(st._elementCurrentStyle(n.leftElement,"border-left-width")),right:st._parseInt(st._elementCurrentStyle(n.rightElement,"border-right-width")),top:st._parseInt(st._elementCurrentStyle(n.middleElement,"border-top-width")),bottom:st._parseInt(st._elementCurrentStyle(n.middleElement,"border-bottom-width"))}:n.orientation==st.Orientation.Vertical&&(n.borderWidth={left:st._parseInt(st._elementCurrentStyle(n.middleElement,"border-left-width")),right:st._parseInt(st._elementCurrentStyle(n.middleElement,"border-right-width")),top:st._parseInt(st._elementCurrentStyle(n.leftElement,"border-top-width")),bottom:st._parseInt(st._elementCurrentStyle(n.rightElement,"border-bottom-width"))})),p.isNumber(n.width)&&(n.parentElement.style.width=n.width+n.borderWidth.left+n.borderWidth.right+"px"),n.parentElement.style.height=n.height+n.borderWidth.top+n.borderWidth.bottom+"px",n.backgroundElement.style.cssFloat="left",n.backgroundElement.style.display="inline-block",p.isNumber(n.width)&&(n.backgroundElement.style.width=n.width+n.borderWidth.left+n.borderWidth.right+"px"),n.backgroundElement.style.height=n.height+"px",n.backgroundElement.style.backgroundColor="#FFFFFF",n.backgroundElement.style.position="relative",n.displayType==0&&p.isNumber(n.width)&&(n.backgroundElement.style.width=n.width+n.borderWidth.left+n.borderWidth.right+"px"),n.backgroundElement.style.top=n.borderWidth.top+"px",n.markerElement=document.createElement("DIV"),n.markerElement.style.display="inline-block",n.markerElement.style.zoom="1.0",n.markerElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.markerElement.style.height=n.height+"px",n.markerElement.style.top=2*-n.height-n.borderWidth.top+"px",n.markerElement.style.left=n.borderWidth.left+"px",n.markerElement.style.backgroundColor=n.color,n.markerElement.style.lineHeight=n.height+"px",n.markerElement.style.position="relative",n.parentElement.appendChild(n.markerElement),n.isLoaded=!0,n.setValue(n.initialValue),n.onLoad!=null&&n.onLoad()},st.prototype.setValue=function(r){var n=this;if(r!==null&&r<n.minValue&&(r=n.minValue),r!==null&&r>n.maxValue&&(r=n.maxValue),r===null||(n.value=r),n.isLoaded){var o,s=0,u=n.width;if(p.isString(u)){var l=Te.one(".dynamsoft-progressBar");l&&l.getEL()&&(u=l.getEL().offsetWidth)}if(n.orientation==st.Orientation.Horizontal){s=n.value/n.maxValue*u,n.progressPosition=s,n.displayType==0||n.displayType==1&&(n.direction==st.Direction.LeftToRight?s<=n.borderRadius?n.valueElement.style.width="0px":s>=u-n.borderRadius?n.valueElement.style.width=n.middleElement.style.width:n.valueElement.style.width=s-n.borderRadius+"px":s<=n.borderRadius?n.valueElement.style.width="0px":s>=u-n.borderRadius?(n.valueElement.style.left="0px",n.valueElement.style.width=n.middleElement.style.width):(n.valueElement.style.left=u-s-n.borderRadius+"px",n.valueElement.style.width=s-n.borderRadius+"px")),s>0?(n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull?n.markerElement.style.width=s+"px":n.markerElement.style.width=u+"px",n.markerElement.style.visibility="visible"):(n.markerElement.style.width=u+"px",n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull&&(n.markerElement.style.visibility="hidden")),n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull?n.direction==st.Direction.LeftToRight?n.markerElement.style.left=n.borderWidth.left+"px":n.markerElement.style.left=u-s+n.borderWidth.left+"px":n.markerElement.style.left=n.borderWidth.left+"px";var c=2*-n.height-n.borderWidth.top;if(s==0||u==s)n.markerElement.style.top=c+"px",n.markerElement.style.height=n.height+"px",n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius);else if(s<n.borderRadius){var f=n.height-2.25*(n.borderRadius-Math.sqrt(Math.pow(n.borderRadius,2)-Math.pow(n.borderRadius-s,2))),m=c+n.height/2-f/2;n.markerElement.style.top=m+"px",n.markerElement.style.height=f+"px",n.direction==st.Direction.LeftToRight?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,0,0,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(0,n.borderRadius,n.borderRadius,0)}else u-s<n.borderRadius?(o=(2*(n.borderRadius-(u-s))+(n.borderRadius-Math.sqrt(Math.pow(n.borderRadius,2)-Math.pow(n.borderRadius-(u-s),2))))/3,n.direction==st.Direction.LeftToRight?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,o,o,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(o,n.borderRadius,n.borderRadius,o)):(n.markerElement.style.top=c+"px",n.markerElement.style.height=n.height+"px",n.direction==st.Direction.LeftToRight?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,0,0,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(0,n.borderRadius,n.borderRadius,0))}else if(n.orientation==st.Orientation.Vertical){s=n.value/n.maxValue*n.height,n.progressPosition=s,n.displayType==0||n.displayType==1&&(n.direction==st.Direction.TopToBottom?s<=n.borderRadius?n.valueElement.style.height="0px":s>=n.height-n.borderRadius?n.valueElement.style.height=n.middleElement.style.height:n.valueElement.style.height=s-n.borderRadius+"px":s<=n.borderRadius?n.valueElement.style.height="0px":s>=n.height-n.borderRadius?(n.valueElement.style.top="0px",n.valueElement.style.height=n.middleElement.style.height):(n.valueElement.style.top=n.height-s-n.borderRadius+"px",n.valueElement.style.height=s+2*n.borderRadius+"px")),s>0?(n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull?n.markerElement.style.height=s+"px":(n.markerElement.style.height=n.height+"px",n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius)),n.markerElement.style.visibility="visible"):(n.markerElement.style.height="0px",n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull&&(n.markerElement.style.visibility="hidden"));var v=n.borderWidth.left;if(s==0||n.height==s)n.markerElement.style.left=v+"px",n.markerElement.style.width=u+"px",n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius);else if(s<n.borderRadius){var S=2.5*s;S>u&&(S=u);var _=v+u/2-S/2;n.markerElement.style.left=_+"px",n.markerElement.style.width=S+"px",n.direction==st.Direction.BottomToTop?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(0,0,n.borderRadius,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,n.borderRadius,0,0)}else n.height-s<n.borderRadius?(o=(2*(n.borderRadius-(n.height-s))+(n.borderRadius-Math.sqrt(Math.pow(n.borderRadius,2)-Math.pow(n.borderRadius-(n.height-s),2))))/3,n.direction==st.Direction.BottomToTop?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(o,o,n.borderRadius,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,n.borderRadius,o,o)):(n.markerElement.style.left=v+"px",n.markerElement.style.width=u+"px",n.direction==st.Direction.BottomToTop?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(0,0,n.borderRadius,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,n.borderRadius,0,0));n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull?n.direction==st.Direction.TopToBottom?n.markerElement.style.top=2*-n.height-n.borderWidth.top+"px":n.markerElement.style.top=-n.height-s-n.borderWidth.top+"px":n.markerElement.style.top=2*-n.height-n.borderWidth.top+"px"}n.progress=n.value/n.maxValue}n.onValueChanged!=null&&n.onValueChanged()},st._elementCurrentStyle=function(r,n){if(r.currentStyle){var o=0,s="",u=!1;for(o=0;o<n.length;o++)n[o].toString()!="-"?(s+=u?n[o].toString().toUpperCase():n[o].toString(),u=!1):u=!0;return n=s,r.currentStyle[n]}return getComputedStyle(r,null).getPropertyValue(n)},st._parseInt=function(r){var n=parseInt(r);return isNaN(n)&&(n=0),n},st._createBorderRadiusCss=function(r,n,o,s){return r!=null&&n==null&&o==null&&s==null?";-ms-border-radius: "+r+"px;border-radius:"+r+"px;":";-ms-border-radius:"+(r=r||0)+"px "+(n=n||0)+"px "+(o=o||0)+"px "+(s=s||0)+"px;border-radius:"+r+"px "+n+"px "+o+"px "+s+"px;"};var sle=function(){return y(function r(){h(this,r),C(this,"handlers",{})},[{key:"on",value:function(r,n){var o=p.guid();return this.handlers[r]||(this.handlers[r]=[]),this.handlers[r].push({id:o,handler:n}),o}},{key:"off",value:function(r,n){if(this.handlers[r]){var o,s=this.handlers[r];if(n){for(o=0;o<s.length;o++)if(s[o].id==n){s.splice(o,1);break}}else s.splice(0)}}},{key:"fire",value:function(r){if(this.handlers[r]){var n,o=this.handlers[r];for(n=0;n<o.length;n++)o[n].handler();return o.length}return 0}},{key:"clear",value:function(){this.handlers={}}}])}(),ule=B.DWT;V.ProgressBar=st,V.progressMessage="",V.dialogShowStatus=!1,V.needShowTwiceShowDialog=!1,V.dlgProgress=!1,V.cancelFrom=Lt.Other,V.dlgRef=0,V.initProgress=function(r){var n,o;if(!V.dlgProgress){(o=[]).push('<dialog class="dynamsoft-dwt-dialogProgress" closed="closed" style="top:30%"><div class="ds-dwt-progressWrap">'),o.push('<h3 class="dynamsoft-finalMessage"> </h3>'),o.push('<p class="dynamsoft-desc"></p><p class="dynamsoft-status">0%</p>'),ue.bIE?o.push('<div class="dynamsoft-progressBar" value="" max="100"></div>'):o.push('<progress class="dynamsoft-progressBar" value="" max="100"></progress>'),o.push('<div style="width:100%;text-align:center;margin:5px 0;"><button class="dynamsoft-btnCancel" value="cancel" autofcus>cancel</button></div>'),o.push("</div></dialog>"),(n=Te.one(".dynamsoft-dwt-dialogProgress"))&&n.getEL()&&n.remove();var s=V.parseHTML(o.join(""));if(s&&s.length>0&&document.body.appendChild(s[0]),ue.bIE){var u=Te.one(".dynamsoft-progressBar"),l=u&&u.getEL();l&&(l.objProgressBar=new st(l,{height:20}));var c=Te.one(".ds-dwt-progressWrap").getEL();c&&(c.style.boxSizing="content-box")}(n=Te.one(".dynamsoft-dwt-dialogProgress"))&&n.getEL()&&(V.dlgProgress=n[0],Te.dialog.setup(V.dlgProgress)),V.dlgRef=0,V.dialogShowStatus=!1,V.cancelFrom=Lt.Other}},V.showProgressMsg=function(){};var cle=function(r){function n(){return h(this,n),d(this,n,arguments)}return F(n,r),y(n)}(sle);V.progressContext=new cle;var h4=function(){var r=V.progressContext;if(r){var n,o=r.fire("cancel");if(o>=1)for(n=0;n<o;n++)V.closeProgress(null,"");else r.__cancelBeforObjectCreated&&(V.closeProgress(null,""),r.__clickCancel=!0)}};V.hideProgress=function(){var r=V.progressContext;r&&(r.IfShowProgressBar=!1,r.IfShowCancelDialogWhenImageTransfer=!1,r.off("cancel"),r._onPercent=null)},V.showProgress=function(r,n,o){var s,u=r;if(u.IfShowProgressBar)if(V.progressContext&&(V.progressContext.IfShowProgressBar=!0,V.progressContext.IfShowCancelDialogWhenImageTransfer=u.IfShowCancelDialogWhenImageTransfer),V.dlgRef>0)V.dlgRef++;else{var l;if((s=B.DWT.IfConfineMaskWithinTheViewer)?u._isNoViewer&&u._isNoViewer()?l=document.body:u._containerElement?l=u._containerElement:B.DWT.Containers&&B.DWT.Containers.length>0&&B.DWT.Containers[0].ContainerId&&(l=p.get(B.DWT.Containers[0].ContainerId))||(l=document.body):l=document.body,l&&l!==document.body){var c=!1,f=l.firstElementChild;if(f&&f!==V.dlgProgress&&f.className=="dvs-root dvs-web-viewer"&&(l=f,c=!0),c==0){for(var m=0;m<l.children.length;m++)if((f=l.children[m])&&f!==V.dlgProgress&&f.className=="dvs-root dvs-web-viewer"){l=f;break}}var v=V.progressContext;l.style.position!==""&&l.style.position!=="static"||(l.style.position="relative",v.progressContainer={el:l})}p.log("showProgress:"+n+",bCancel:"+o),V.dlgProgress&&l.appendChild(V.dlgProgress),Xs(o);var S=Te.one(".dynamsoft-btnCancel");if(S&&S.getEL()&&(p.removeEventListener(S[0],"click",h4),p.addEventListener(S[0],"click",h4)),V.dialogShowStatus==0){V.dlgProgress&&(s&&l&&l!==document.body?Te.dialog.setup(V.dlgProgress,!0):Te.dialog.setup(V.dlgProgress),V.dlgProgress.showModal()),V.dialogShowStatus=!0;var _=Te.one(".dynamsoft-finalMessage"),b=Te.one(".dynamsoft-progressBar"),I=b&&b.getEL(),A=Te.one(".dynamsoft-status");_&&_.getEL()&&_.html(""),A&&A.getEL()&&A.html("0%"),I&&(ue.bIE&&I.objProgressBar?I.objProgressBar.setValue(0):I.value=0)}V.dlgRef++}else V.hideProgress()},V.closeProgress=function(r,n){var o=V.progressContext;p.log("closeProgress:"+n),o&&o.IfShowProgressBar?(V.dlgRef--,V.dlgRef<=0&&(V.dlgRef=0)):V.dlgRef=0,V.dlgRef==0&&(o.off("cancel"),o._onPercent=null,V.dialogShowStatus==1&&(V.dlgProgress&&(V.dlgProgress.close(),V.dlgProgress&&document.body.appendChild(V.dlgProgress),o&&o.progressContainer&&o.progressContainer.el&&(o.progressContainer.el.style.position="",o.progressContainer=null)),V.dialogShowStatus=!1),V.cancelFrom=Lt.Other)},ule.RemoveAllAuthorizations=function(){var r=ea.item("DWT_port"),n="http://";return ea.item("DWT_ssl")=="true"&&(n="https://"),Ao({method:"GET",xhrFields:{withCredentials:!0},url:[n,si(),":",r,"/dwt/",Ie.getDWTPrefix(),Ie.getServerVersionInfo(),"/RemoveAllAuthorizations?t=",p.now()].join(""),async:!0}),!0};var lle={upload:"Uploading...",download:"Downloading...",load:"Processing...",decode:"Processing...",decodeTIFF:"Processing tiff...",decodePDF:"Processing pdf...",encodeTIFF:"Processing tiff...",encodePDF:"Processing pdf...",encode:"Processing...",transfer:"Transferring..."};V.progressBarOnPercentDone=function(r,n,o,s,u,l){var c,f=Te.one(".dynamsoft-progressBar"),m=Te.one(".dynamsoft-status"),v=Te.one(".dynamsoft-finalMessage"),S=Te.one(".dynamsoft-desc");if(B.DWT.UseDefaultViewer&&B.DWT.IfConfineMaskWithinTheViewer&&l&&(f=Te.one(".dynamsoft-progressBar",l),m=Te.one(".dynamsoft-status",l),v=Te.one(".dynamsoft-finalMessage",l),S=Te.one(".dynamsoft-desc",l)),V.cancelFrom==Lt.FTPUpload||V.cancelFrom==Lt.FTPDownload){var _=o;_==0?V.setBtnCancelVisibleForProgress(!1):_==1&&V.setBtnCancelVisibleForProgress(!0)}else V.cancelFrom==Lt.HTTPUpload||V.cancelFrom==Lt.LoadImage||V.cancelFrom==Lt.HTTPPut?n=="Processing..."&&V.setBtnCancelVisibleForProgress(!1):V.cancelFrom==Lt.ConvertToBlob&&(r==-1||V.setBtnCancelVisibleForProgress(!1),s==100&&(n="",V.progressMessage="Processing..."));if(r<0?(V.progressMessage=n,c=V.progressMessage):c=n!=""&&n!="1/1"?V.progressMessage+"("+n+")":V.progressMessage,v&&v.getEL()){var b="",I="";c.indexOf(" ...")&&(c=c.replace(" ...","...")),c.indexOf("(")!=-1?(b=c.substr(0,c.indexOf("(")),I=c.substr(c.indexOf("("))):b=c,p.each(lle,function(P,L){P.indexOf(b)!=-1&&(c=kn.customProgressText[L]+I)}),c==""&&(c="&nbsp;"),v.html(c)}if(u?u==""||p.isUndefined(u)?(u="&nbsp;",S&&S.hide&&S.hide()):(p.isString(u)&&u.length>30&&(u=u.substring(0,30)+"..."),S&&(S.show&&S.show(),S.html(u))):S&&S.hide&&S.hide(),(s||s===0)&&(m&&m.getEL()&&m.html(s+"%"),f&&f.getEL())){var A=s;A>99&&(A=99),ue.bIE?f[0].objProgressBar?f[0].objProgressBar.setValue(A):f[0].value=A:(ue.bEdge&&(f[0].style.display=""),f[0].value=A)}V.dlgRef<=0&&setTimeout(function(){f&&f.getEL()&&(ue.bIE?f[0].objProgressBar?f[0].objProgressBar.setValue(0):f[0].value=0:(ue.bEdge&&(f[0].style.display="none"),f[0].value=0))},1e3)},(V.__ver||0)<Ce&&(p.mix(V,Te),V.__ver=Ce),V.bNode=Ue,V._defaultAgent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",V._defaultPlatform="Win64",V.timestamp="?t=20241010102903",p.mix(V,Jo),V.ajax=Ao,V.fetch=Ed,V.detect.showMask=MT,V.detect.hideMask=WT,V.env=Wr,V.product=Ie,V.scannerInfo=Or,V.License=_t,V.BIO=$u,V.UI.ImageUIView=sce,V.UI.ImageManager=gU,B.MSG=br,V.domReady=hg,function r(){if(!window||document&&document.body){var n=document;if(n.readyState!==yU)if(uE(window,_U,Sf),sE){var o=function(){cE(n,mU,o),Sf()};uE(n,mU,o)}else{var s,u,l,c=function(){n.readyState===yU&&(cE(n,vU,c),Sf())};uE(n,vU,c),u=n&&n.documentElement,l=u&&u.doScroll;try{s=window.frameElement===null}catch{s=!1}if(l&&s){var f=function(){try{l("left"),setTimeout(Sf,30)}catch{setTimeout(f,40)}};f()}}else Sf()}else setTimeout(r,100)}(),hg(function(){if(B.DWT.CustomizableDisplayInfo||(B.DWT.CustomizableDisplayInfo=kn),ue.bIE){B.DWT.CustomizableDisplayInfo.loaderBarSourceIE||(B.DWT.CustomizableDisplayInfo.loaderBarSourceIE=Es.loaderBarSourceIE);try{document.execCommand("BackgroundImageCache",!1,!0)}catch{}}}),B.Ready=function(r){if(!B.navInfo)return iE().then(function(n){B.navInfo=n;try{r()}catch(o){throw p.log(o.stack||o,"error"),o}});try{r()}catch(n){throw p.log(n.stack||n,"error"),n}}})({mapPackageRegister:mxe,CoreModule:Ja})}K.DWT.bNpm=!0;K.DWT.dbrCanvasMaxWH=4096;K.aryAddonReadyFun=[];K.AddonReady=function(e){K.aryAddonReadyFun.push(e)};/*! 20240828 20230310201709
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: BarcodeReader
* Version: 18.5.1
* 
*/var K=self.Dynamsoft||{};K.DWT=K.DWT||{},K.DBR=K.DBR||{},K.aryAddonReadyFun=K.aryAddonReadyFun||[],K.AddonReady=K.AddonReady||function(e){K.aryAddonReadyFun.push(e)},function(){K.BarcodeReaderAddon=K.BarcodeReaderAddon||{};var e=K.BarcodeReaderAddon;e.Version="9.6.1.0312",e._decoding=!1,e._decodeQueue=[],e._decodeNext=function(){var t,i;e._decodeQueue.length==0?e._decoding=!1:(t=(i=e._decodeQueue[0]).method,i=i.args,e._decodeQueue.splice(0,1),t.apply(null,i))},e._defaultRuntimeSettingsStr="",e._defaultTemplateStr="",e._activeXInstance=!1,e.BarcodeReaderException=function(){var i=arguments[0],t=K.DBR.EnumErrorCode.DBR_UNKNOWN,i=typeof i=="number"?(t=i,new Error(arguments[1])):new Error(i);return i.code=t,i},e.RemoveNonPrintableChar=function(t){return K.Lib.isString(t)?t.replace(/[^\x20-\x7E]|(\\")/g,""):t},e.errors={webcamNotInstalled:"The Webcam add-on not installed.",nonServiceNotSupportWebcamDecode:"The BarcodeReader add-on does not support reading barcodes from video streams.",decodeResultEmpty:"decode result is empty.",ServiceEditionNotSupportDbr:"The BarcodeReader add-on does not support your Operating System.",ServiceEditionNotSupportWasmMode:"You cannot call this method on this WebTwain instance."},e._activeXMaxIEVersion=9,e.logLevel=3,K.DBR.EnumAccompanyingTextRecognitionMode={ATRM_GENERAL:1,ATRM_SKIP:0},K.DBR.EnumBarcodeColourMode={BICM_DARK_ON_LIGHT:1,BICM_LIGHT_ON_DARK:2,BICM_DARK_ON_DARK:4,BICM_LIGHT_ON_LIGHT:8,BICM_DARK_LIGHT_MIXED:16,BICM_DARK_ON_LIGHT_DARK_SURROUNDING:32,BICM_SKIP:0},K.DBR.EnumBarcodeComplementMode={BCM_AUTO:1,BCM_GENERAL:2,BCM_SKIP:0},K.DBR.EnumBarcodeFormat={BF_ALL:-32505857,BF_ONED:2047,BF_GS1_DATABAR:260096,BF_CODE_39:1,BF_CODE_128:2,BF_CODE_93:4,BF_CODABAR:8,BF_ITF:16,BF_EAN_13:32,BF_EAN_8:64,BF_UPC_A:128,BF_UPC_E:256,BF_INDUSTRIAL_25:512,BF_CODE_39_EXTENDED:1024,BF_GS1_DATABAR_OMNIDIRECTIONAL:2048,BF_GS1_DATABAR_TRUNCATED:4096,BF_GS1_DATABAR_STACKED:8192,BF_GS1_DATABAR_STACKED_OMNIDIRECTIONAL:16384,BF_GS1_DATABAR_EXPANDED:32768,BF_GS1_DATABAR_EXPANDED_STACKED:65536,BF_GS1_DATABAR_LIMITED:131072,BF_PATCHCODE:262144,BF_PDF417:33554432,BF_QR_CODE:67108864,BF_DATAMATRIX:134217728,BF_AZTEC:268435456,BF_MAXICODE:536870912,BF_MICRO_QR:1073741824,BF_MICRO_PDF417:524288,BF_GS1_COMPOSITE:-2147483648,BF_NULL:0},K.DBR.EnumBarcodeFormat_2={BF2_NULL:0,BF2_POSTALCODE:32505856,BF2_NONSTANDARD_BARCODE:1,BF2_USPSINTELLIGENTMAIL:1048576,BF2_POSTNET:2097152,BF2_PLANET:4194304,BF2_AUSTRALIANPOST:8388608,BF2_RM4SCC:16777216,BF2_DOTCODE:2},K.DBR.EnumBinarizationMode={BM_AUTO:1,BM_LOCAL_BLOCK:2,BM_SKIP:0},K.DBR.EnumClarityCalculationMethod={ECCM_CONTRAST:1},K.DBR.EnumClarityFilterMode={CFM_GENERAL:1},K.DBR.EnumColourClusteringMode={CCM_AUTO:1,CCM_GENERAL_HSV:2,CCM_SKIP:0},K.DBR.EnumColourConversionMode={CICM_GENERAL:1,CICM_SKIP:0},K.DBR.EnumConflictMode={CM_IGNORE:1,CM_OVERWRITE:2},K.DBR.EnumDeformationResistingMode={DRM_AUTO:1,DRM_GENERAL:2,DRM_SKIP:0},K.DBR.EnumDPMCodeReadingMode={DPMCRM_AUTO:1,DPMCRM_GENERAL:2,DPMCRM_SKIP:0},K.DBR.EnumErrorCode={DBR_SYSTEM_EXCEPTION:1,DBR_SUCCESS:0,DBR_UNKNOWN:-1e4,DBR_NO_MEMORY:-10001,DBR_NULL_REFERENCE:-10002,DBR_LICENSE_INVALID:-10003,DBR_LICENSE_EXPIRED:-10004,DBR_FILE_NOT_FOUND:-10005,DBR_FILETYPE_NOT_SUPPORTED:-10006,DBR_BPP_NOT_SUPPORTED:-10007,DBR_INDEX_INVALID:-10008,DBR_BARCODE_FORMAT_INVALID:-10009,DBR_CUSTOM_REGION_INVALID:-10010,DBR_MAX_BARCODE_NUMBER_INVALID:-10011,DBR_IMAGE_READ_FAILED:-10012,DBR_TIFF_READ_FAILED:-10013,DBR_QR_LICENSE_INVALID:-10016,DBR_1D_LICENSE_INVALID:-10017,DBR_DIB_BUFFER_INVALID:-10018,DBR_PDF417_LICENSE_INVALID:-10019,DBR_DATAMATRIX_LICENSE_INVALID:-10020,DBR_PDF_READ_FAILED:-10021,DBR_PDF_DLL_MISSING:-10022,DBR_PAGE_NUMBER_INVALID:-10023,DBR_CUSTOM_SIZE_INVALID:-10024,DBR_CUSTOM_MODULESIZE_INVALID:-10025,DBR_RECOGNITION_TIMEOUT:-10026,DBR_JSON_PARSE_FAILED:-10030,DBR_JSON_TYPE_INVALID:-10031,DBR_JSON_KEY_INVALID:-10032,DBR_JSON_VALUE_INVALID:-10033,DBR_JSON_NAME_KEY_MISSING:-10034,DBR_JSON_NAME_VALUE_DUPLICATED:-10035,DBR_TEMPLATE_NAME_INVALID:-10036,DBR_JSON_NAME_REFERENCE_INVALID:-10037,DBR_PARAMETER_VALUE_INVALID:-10038,DBR_DOMAIN_NOT_MATCHED:-10039,DBR_RESERVEDINFO_NOT_MATCHED:-10040,DBR_AZTEC_LICENSE_INVALID:-10041,DBR_LICENSE_DLL_MISSING:-10042,DBR_LICENSEKEY_NOT_MATCHED:-10043,DBR_REQUESTED_FAILED:-10044,DBR_LICENSE_INIT_FAILED:-10045,DBR_PATCHCODE_LICENSE_INVALID:-10046,DBR_POSTALCODE_LICENSE_INVALID:-10047,DBR_DPM_LICENSE_INVALID:-10048,DBR_FRAME_DECODING_THREAD_EXISTS:-10049,DBR_STOP_DECODING_THREAD_FAILED:-10050,DBR_SET_MODE_ARGUMENT_ERROR:-10051,DBR_LICENSE_CONTENT_INVALID:-10052,DBR_LICENSE_KEY_INVALID:-10053,DBR_LICENSE_DEVICE_RUNS_OUT:-10054,DBR_GET_MODE_ARGUMENT_ERROR:-10055,DBR_IRT_LICENSE_INVALID:-10056,DBR_MAXICODE_LICENSE_INVALID:-10057,DBR_GS1_DATABAR_LICENSE_INVALID:-10058,DBR_GS1_COMPOSITE_LICENSE_INVALID:-10059,DBR_DOTCODE_LICENSE_INVALID:-10061,DMERR_FAILED_TO_REACH_LTS:-20200},K.DBR.EnumGrayscaleTransformationMode={GTM_INVERTED:1,GTM_ORIGINAL:2,GTM_SKIP:0},K.DBR.EnumImagePixelFormat={IPF_Binary:0,IPF_BinaryInverted:1,IPF_GrayScaled:2,IPF_NV21:3,IPF_RGB_565:4,IPF_RGB_555:5,IPF_RGB_888:6,IPF_ARGB_8888:7,IPF_RGB_161616:8,IPF_ARGB_16161616:9,IPF_ABGR_8888:10,IPF_ABGR_16161616:11,IPF_BGR_888:12},K.DBR.EnumImagePreprocessingMode={IPM_AUTO:1,IPM_GENERAL:2,IPM_GRAY_EQUALIZE:4,IPM_GRAY_SMOOTH:8,IPM_SHARPEN_SMOOTH:16,IPM_MORPHOLOGY:32,IPM_SKIP:0},K.DBR.EnumIMResultDataType={IMRDT_IMAGE:1,IMRDT_CONTOUR:2,IMRDT_LINESEGMENT:4,IMRDT_LOCALIZATIONRESULT:8,IMRDT_REGIONOFINTEREST:16,IMRDT_QUADRILATERAL:32},K.DBR.EnumIntermediateResultSavingMode={IRSM_MEMORY:1,IRSM_FILESYSTEM:2,IRSM_BOTH:4},K.DBR.EnumIntermediateResultType={IRT_NO_RESULT:0,IRT_ORIGINAL_IMAGE:1,IRT_COLOUR_CLUSTERED_IMAGE:2,IRT_COLOUR_CONVERTED_GRAYSCALE_IMAGE:4,IRT_TRANSFORMED_GRAYSCALE_IMAGE:8,IRT_PREDETECTED_REGION:16,IRT_PREPROCESSED_IMAGE:32,IRT_BINARIZED_IMAGE:64,IRT_TEXT_ZONE:128,IRT_CONTOUR:256,IRT_LINE_SEGMENT:512,IRT_FORM:1024,IRT_SEGMENTATION_BLOCK:2048,IRT_TYPED_BARCODE_ZONE:4096,IRT_PREDETECTED_QUADRILATERAL:8192},K.DBR.EnumLocalizationMode={LM_SKIP:0,LM_AUTO:1,LM_CONNECTED_BLOCKS:2,LM_LINES:8,LM_STATISTICS:4,LM_SCAN_DIRECTLY:16,LM_STATISTICS_MARKS:32,LM_STATISTICS_POSTAL_CODE:64},K.DBR.EnumPDFReadingMode={PDFRM_RASTER:1,PDFRM_AUTO:2,PDFRM_VECTOR:4},K.DBR.EnumQRCodeErrorCorrectionLevel={QRECL_ERROR_CORRECTION_H:0,QRECL_ERROR_CORRECTION_L:1,QRECL_ERROR_CORRECTION_M:2,QRECL_ERROR_CORRECTION_Q:3},K.DBR.EnumRegionPredetectionMode={RPM_AUTO:1,RPM_GENERAL:2,RPM_GENERAL_RGB_CONTRAST:4,RPM_GENERAL_GRAY_CONTRAST:8,RPM_GENERAL_HSV_CONTRAST:16,RPM_SKIP:0},K.DBR.EnumResultCoordinateType={RCT_PIXEL:1,RCT_PERCENTAGE:2},K.DBR.EnumResultType={RT_STANDARD_TEXT:0,RT_RAW_TEXT:1,RT_CANDIDATE_TEXT:2,RT_PARTIAL_TEXT:3},K.DBR.EnumScaleUpMode={SUM_AUTO:1,SUM_LINEAR_INTERPOLATION:2,SUM_NEAREST_NEIGHBOUR_INTERPOLATION:4,SUM_SKIP:0},K.DBR.EnumTerminatePhase={TP_REGION_PREDETECTED:1,TP_IMAGE_PREPROCESSED:2,TP_IMAGE_BINARIZED:4,TP_BARCODE_LOCALIZED:8,TP_BARCODE_TYPE_DETERMINED:16,TP_BARCODE_RECOGNIZED:32},K.DBR.EnumTextAssistedCorrectionMode={TACM_AUTO:1,TACM_VERIFYING:2,TACM_VERIFYING_PATCHING:4,TACM_SKIP:0},K.DBR.EnumTextFilterMode={TFM_AUTO:1,TFM_GENERAL_CONTOUR:2,TFM_SKIP:0},K.DBR.EnumTextResultOrderMode={TROM_CONFIDENCE:1,TROM_POSITION:2,TROM_FORMAT:4,TROM_SKIP:0},K.DBR.EnumTextureDetectionMode={TDM_AUTO:1,TDM_GENERAL_WIDTH_CONCENTRATION:2,TDM_SKIP:0}}(),K.AddonReady(function(e,t){var i,a=K.BarcodeReaderAddon;function d(h){return h&&h instanceof ArrayBuffer}a.Class=function(){function h(y){this._runtimeSettings=null,this._initSettingsContent=null,this._tplContentArr=[],this._stwain=y}var g;return h.prototype._decodeBlob=function(y,T){var C=this;return new e.Promise(function(w){if(!(y instanceof Blob))throw TypeError("'_decodeBlob(blob, templateName)': Type of 'blob' should be 'Blob'.");w()}).then(function(){return C._innerDecode(0,y,T)})},h.prototype._decodeArrayBuffer=function(y,T){var C=this;return new e.Promise(function(w){if(!(y instanceof ArrayBuffer))throw TypeError("'_decodeBlob(arrayBuffer, templateName)': Type of 'arrayBuffer' should be 'ArrayBuffer'.");w()}).then(function(){return C._innerDecode(0,y,T)})},h.prototype._decodeUint8Array=function(y,T){var C=this;return new e.Promise(function(w){if(!(y instanceof Uint8Array||self.Uint8ClampedArray&&y instanceof Uint8ClampedArray))throw TypeError("'_decodeBlob(uint8Array, templateName)': Type of 'uint8Array' should be 'Uint8Array'.");w()}).then(function(){return C._innerDecode(0,y,T)})},h.prototype._decodeImage=function(y,T){var C=this;return new e.Promise(function(w){if(!(y instanceof HTMLImageElement))throw TypeError("'_decodeImage(image, templateName)': Type of 'image' should be 'HTMLImageElement'.");if(y.crossOrigin&&y.crossOrigin!="anonymous")throw"cors";T=T||"",w()}).then(function(){return y.src.substring(0,11)=="data:image/"?C._decodeBase64(y.src,T):C._decodeUrl(y.src,T).catch(function(w){return 3<=a.logLevel&&console&&console.warn&&(console.warn("'_decodeImage(image, templateName)': Image src not available. Use '_decodeCanvas' instead."),console.warn(w)),self.HTMLCanvasElement?((w=document.createElement("canvas")).width=y.naturalWidth,w.height=y.naturalHeight,w.getContext("2d").drawImage(y,0,0),C._decodeCanvas(w,T)):e.Promise.reject(Error("'_decodeImage(image, templateName)': Browser not support HTMLCanvasElement."))})})},h.prototype._decodeCanvas=function(y,T){var C=this;return new e.Promise(function(w){if(!(y instanceof HTMLCanvasElement))throw TypeError("'_decodeCanvas(canvas, templateName)': Type of 'canvas' should be 'HTMLCanvasElement'.");if(y.crossOrigin&&y.crossOrigin!="anonymous")throw"cors";T=T||"",y.toBlob?y.toBlob(function(x){w(x)}):y.msToBlob?y.msToBlob(function(x){w(x)}):w(y.toDataURL())}).then(function(w){return y.toBlob||y.msToBlob?C._decodeBlob(w,T):C._decodeBase64(w,T)})},h.prototype._decodeVideo=function(y){var T,C=this,w=arguments;return new e.Promise(function(x){if(!(y instanceof HTMLVideoElement))throw TypeError("'_decodeVideo(video [ [, sx, sy, sWidth, sHeight], dWidth, dHeight] [, templateName] )': Type of 'video' should be 'HTMLVideoElement'.");if(y.crossOrigin&&y.crossOrigin!="anonymous")throw"cors";w.length<=2?(F=N=0,E=O=y.videoWidth,W=R=y.videoHeight):R=w.length<=4?(F=N=0,E=y.videoWidth,W=y.videoHeight,O=w[1],w[2]):(F=w[1],N=w[2],E=w[3],W=w[4],O=w[5],w[6]),T=typeof w[w.length-1]=="string"?w[w.length-1]:"";var F,N,E,W,O,R,D=document.createElement("canvas");D.width=O,D.height=R,D.getContext("2d").drawImage(y,F,N,E,W,0,0,O,R),x(D)}).then(function(x){return C._decodeCanvas(x,T)})},h.prototype._decodeBase64=h.prototype.decodeBase64String=function(y,T){var C=this;return new e.Promise(function(w){if(!(typeof y=="string"||typeof y=="object"&&y instanceof String))throw TypeError("'decodeBase64(base64Str, templateName)': Type of 'base64Str' should be 'String'.");y.substring(0,11)=="data:image/"&&(y=y.substring(y.indexOf(",")+1)),w()}).then(function(){return C._innerDecode(1,y,T)})},h.prototype._decodeUrl=function(y,T){var C=this;return y&&y.indexOf&&(y.indexOf("dwt://")==0||y.indexOf("dcs://")==0)?C._decodeDynamsoftServiceInnerUrl(y,T):new e.Promise(function(w,x){var F;if(!(typeof y=="string"||typeof y=="object"&&y instanceof String))throw TypeError("'_decodeUrl(url, templateName)': Type of 'url' should be 'String'.");T=T||"",a._activeXInstance?((F=new ActiveXObject("MSXML2.XMLHTTP")).open("GET",y,!0),F.overrideMimeType?F.overrideMimeType("text/plain; charset=x-user-defined"):F.setRequestHeader("Accept-Charset","x-user-defined"),F.onreadystatechange=function(){F.readyState==4&&w(new VBArray(F.responseBody).toArray())},F.send("")):((F=new XMLHttpRequest).open("GET",y,!0),F.responseType="arraybuffer",F.send(),F.onloadend=function(){w(this.response)},F.onerror=function(){x(Error(F.error))})}).then(function(w){return a._activeXInstance?C._activeXDecodeArray(w,T):C._decodeArrayBuffer(w,T)})},h.prototype._decodeDynamsoftServiceInnerUrl=function(y,T){var C=this;return new e.Promise(function(w){if(!(typeof y=="string"||typeof y=="object"&&y instanceof String))throw TypeError("'_decodeUrl(url, templateName)': Type of 'innerUrl' should be 'String'.");if(y.indexOf("dwt://")!=0&&y.indexOf("dcs://")!=0)throw TypeError("'_decodeDynamsoftServiceInnerUrl(innerUrl, templateName)': 'innerUrl' should start with 'dwt://' or 'dcs://'.");w()}).then(function(){return C._innerDecode(4e3,y,T)})},h.prototype._activeXDecodeArray=function(y,T){var C=this;return new e.Promise(function(w,x){if(!(y instanceof Array))throw TypeError("'_activeXDecodeArray(array, templateName)': Type of 'array' should be 'Array'.");T=T||"";try{w(K.Lib.btoa(String.fromCharCode.apply(String,y)))}catch(F){x(F)}}).then(function(w){return C._decodeBase64(w,T)})},h.prototype._activeXDecodeHandle=function(y,T){var C=this;return new e.Promise(function(w){T=T||"",w()}).then(function(){return C._innerDecode(4001,y,T)})},h.prototype._decode=h.prototype.decode=function(y,T){return a._activeXInstance?typeof y=="string"||y instanceof String?this._activeXDecodeHandle(y,T):e.Promise.reject(TypeError("'_decode(source, templateName)' in activeX: Type of 'source' should be 'String(partUrl)'.")):self.Blob&&y instanceof Blob?this._decodeBlob(y,T):self.ArrayBuffer&&y instanceof ArrayBuffer?this._decodeArrayBuffer(y,T):self.Uint8Array&&y instanceof Uint8Array||self.Uint8ClampedArray&&y instanceof Uint8ClampedArray?this._decodeUint8Array(y,T):y instanceof Array?this._activeXDecodeArray(y,T):self.HTMLImageElement&&y instanceof HTMLImageElement?this._decodeImage(y,T):self.HTMLCanvasElement&&y instanceof HTMLCanvasElement?this._decodeCanvas(y,T):self.HTMLVideoElement&&y instanceof HTMLVideoElement?this._decodeVideo(y,T):isNaN(y)?typeof y=="string"||y instanceof String?y.substring(0,11)=="data:image/"?this._decodeBase64(y,T):this._decodeUrl(y,T):e.Promise.reject(TypeError("'_decode(source, templateName)' in H5: Type of 'source' should be 'Blob', 'ArrayBuffer', 'Uint8Array', 'HTMLImageElement', 'HTMLCanvasElement', 'HTMLVideoElement', 'String(base64 with image mime)' or 'String(url)'.")):this._activeXDecodeHandle(y,T)},h.prototype._innerServiceCmd=function(y,T){var C=this._stwain;return new e.Promise(function(w,x){var F,N={method:"ReadBarcode",parameter:[K.Lib.product.refProductKey,4002,"",""],updateSettings:y,initSettingsContent:T};a._activeXInstance?w(a._activeXInstance.Process(e.stringify(N),location.protocol+"//"+location.host)):(C._blts?(F="",C&&C._bRemoteMode&&C._dmService&&C._dmService.attrs&&C._dmService.attrs.UUID&&(F=C._dmService.attrs.UUID),K.DWT.lglic(K.DWT.EnumInstance.dwt_desktop,F).then(function(E){return N.parameter.push(E.ar),N.parameter.push(E.cu),N.parameter.push(0),N.parameter.push(""),e.stringify(N)})):e.Promise.resolve(e.stringify(N))).then(function(E){return e.fetch(C._dbrUrlRoot+"ReadBarcode",{mode:"cors",method:"post",body:E,dataType:"arrayBuffer"})}).then(function(E){d(E)?w(String.fromCharCode.apply(null,new Uint8Array(E))):w(E)},function(E){var W="Init template & runtimeSettings failed.";E&&(W=[W," Http info: ",E.errorString," (",E.httpCode,")"].join("")),x(W)})})},h.prototype._innerDecode=function(y,T,C,w){var x=this;return x._runtimeSettings&&x._runtimeSettings.expectedBarcodesCount==0&&(x._runtimeSettings.expectedBarcodesCount=512),new e.Promise(function(F,N){function E(j,Y,de){try{var ne,X,ce,he,le=g&&g(j);for(le&&le.textResults||N(new a.BarcodeReaderException(le.exception,le.description)),e.product.bHTML5Edition&&de&&de.config.data&&(ne=e.parse(de.config.data),e.isArray(ne.parameter))&&2<ne.parameter.length&&ne.parameter[1]==4e3&&(4<ne.parameter.length&&ne.parameter[4]?le.textResults.imageid=ne.parameter[4]:0<=(he=(ce=ne.parameter[2]).indexOf("&index="))&&(le.textResults.imageid=ce.substring(he+7,ce.indexOf("&t=")))),X=0;X<le.textResults.length;X++){var fe=le.textResults[X];fe.BarcodeText=fe.barcodeText,le.exception!=K.DBR.EnumErrorCode.DBR_SUCCESS&&(fe.exception=le.exception)}le.exception!=K.DBR.EnumErrorCode.DBR_SUCCESS&&(le.textResults.exception=le.exception,le.textResults.description=le.description),a._activeXInstance&&le.records&&(K.Lib.each(le.records,function(_e,Ee){K.DWT.lavrf(Ee,_e,K.DWT.EnumInstance.dwt_desktop)}),K.DWT.lavrf_(1,K.DWT.EnumInstance.dwt_desktop)),F(le.textResults)}catch(_e){N(_e)}}var W,O,R={method:"ReadBarcode",parameter:[K.Lib.product.refProductKey,y,y!=0?T:null,C||""],updateSettings:x._runtimeSettings,conflictMode:x.conflictMode==1?"ignore":"overwrite",initSettingsContent:x._initSettingsContent,tplContent:function(){if(C){for(var j=0;j<x._tplContentArr.length;++j)if(C==x._tplContentArr[j].ImageParameter.Name)return e.stringify(x._tplContentArr[j])}return null}()},D=x._stwain;a._activeXInstance?D._blts?K.DWT.lglic(K.DWT.EnumInstance.dwt_desktop,"").then(function(j){R.parameter.push(j.ar),R.parameter.push(j.cu),R.parameter.push(0),R.parameter.push(""),E(a._activeXInstance.Process(e.stringify(R),location.protocol+"//"+location.host))}):E(a._activeXInstance.Process(e.stringify(R),location.protocol+"//"+location.host)):(W=D._dbrUrlRoot+"ReadBarcode",y==0&&(W+="/LoadZipFromBytes?cmd="+encodeURIComponent(e.stringify(R))),(y==0?e.Promise.resolve(T):D._blts?(O="",D&&D._bRemoteMode&&D._dmService&&D._dmService.attrs&&D._dmService.attrs.UUID&&(O=D._dmService.attrs.UUID),K.DWT.lglic(K.DWT.EnumInstance.dwt_desktop,O).then(function(j){return R.parameter.push(j.ar),R.parameter.push(j.cu),R.parameter.push(0),R.parameter.push([e.product.getDWTPrefix(),e.product.getServerVersionInfo(),"/verify?id=",w,"&t=",e.getRandom()].join("")),e.stringify(R)})):e.Promise.resolve(e.stringify(R))).then(function(j){return e.fetch(W,{mode:"cors",method:"post",body:j,dataType:"arrayBuffer"})}).then(function(j,Y,de){d(j)?E(String.fromCharCode.apply(null,new Uint8Array(j)),0,de):E(j,0,de)},function(j){var Y="ReadBarcode request fail.";j&&(Y=[Y," Http info: ",j.errorString," (",j.httpCode,")"].join("")),N(Error(Y))}))})},g=a._handleRetJsonString=function(y){var T;if(typeof y=="string"||typeof y=="object"&&y instanceof String)try{T=e.parse(y)}catch{T=e.parse(a.RemoveNonPrintableChar(y))}else T=y;if(!T)throw a.BarcodeReaderException(K.DBR.EnumErrorCode.DBR_UNKNOWN,a.errors.decodeResultEmpty);if("textResults"in T&&e.isArray(T.textResults)||T.exception==K.DBR.EnumErrorCode.DBR_SUCCESS)return T;throw a.BarcodeReaderException(T.exception,T.description)},h.prototype.getAllParameterTemplateNames=function(){for(var y=[],T=0;T<this._tplContentArr.length;++T)y.push(this._tplContentArr[T].ImageParameter.Name);return y},h.prototype.getRuntimeSettings=function(){return this._runtimeSettings||(this._runtimeSettings=e.parse(a._defaultRuntimeSettingsStr)),e.Promise.resolve(this._runtimeSettings)},h.prototype.updateRuntimeSettings=function(y){var T,C=this;if(typeof y=="string"||typeof y=="object"&&y instanceof String){if(y=="speed"||y=="balance"||y=="coverage"||y=="default")return C.initRuntimeSettingsWithString(y=="speed"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":3,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"bestSpeed","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"Mode":"TFM_SKIP"}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':y=="balance"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":5,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_STATISTICS"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"balance","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':y=="coverage"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":9,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"},{"Mode":"GTM_INVERTED"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_SCAN_DIRECTLY","ScanDirection":0,"ScanStride":0},{"Mode":"LM_STATISTICS"},{"Mode":"LM_LINES"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"coverage","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":214748347,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":null,"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":9,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_SCAN_DIRECTLY","ScanDirection":0,"ScanStride":0},{"Mode":"LM_STATISTICS"},{"Mode":"LM_LINES"}],"MaxAlgorithmThreadCount":4,"Name":"default","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}');T=y}else{if(typeof y!="object")throw TypeError("'setTemplateSettings(settings)': Type of 'settings' should be 'String' or 'PlainObject'.");T=e.stringify(y)}return y=e.parse(T),C._runtimeSettings=y,C._initSettingsContent=null,C._innerServiceCmd(C._runtimeSettings,null).then(function(w){return w=a._handleRetJsonString(w),C._runtimeSettings=w.settings,C._runtimeSettings||(C._runtimeSettings=e.parse(a._defaultRuntimeSettingsStr)),w.settings})},h.prototype.resetRuntimeSettings=function(){var y=this;return y._runtimeSettings=e.parse(a._defaultRuntimeSettingsStr),y._initSettingsContent=null,y._innerServiceCmd(y._runtimeSettings,null).then(function(T){return T=a._handleRetJsonString(T),y._runtimeSettings=T.settings,y._runtimeSettings||(y._runtimeSettings=e.parse(a._defaultRuntimeSettingsStr)),T.settings})},h.prototype.outputSettingsToString=function(y){if(!y)return a._defaultTemplateStr;for(var T=0;T<this._tplContentArr.length;++T)if(y==this._tplContentArr[T].ImageParameter.Name)return e.stringify(this._tplContentArr[T])},h.prototype.initRuntimeSettingsWithString=function(y){var T=this;if(e.isString(y))return T._runtimeSettings=null,T._initSettingsContent=e.parse(y),T._innerServiceCmd(null,T._initSettingsContent).then(function(C){return C=a._handleRetJsonString(C),T._runtimeSettings=C.settings,T._runtimeSettings||(T._runtimeSettings=e.parse(a._defaultRuntimeSettingsStr)),C.settings});throw TypeError("'initRuntimeSettingsWithString(settings)': Type of 'settings' should be 'String'.")},h}(),a._dbr_ax=!1,a._dbr=!1,a._initH5=function(h,g,y){return new e.Promise(function(T,C){h._bRemoteMode&&h._dmService&&h._dmService.attrs&&h._dmService.attrs.url&&(h._dbrUrlRoot=h._dmService.attrs.url+"dcp/dbr_"+a.Version.replace(/\./g,"")+"/"),h._dbrUrlRoot||(h._dbrUrlRoot=K.DWT.NetManager.getModuleUrl("dcp/dbr_"+a.Version.replace(/\./g,"")+"/"));var w=5,x={method:"POST",url:h._dbrUrlRoot+"VersionInfo?t="+e.getRandom(),data:'{"method":"VersionInfo"}',onSuccess:function(){T()},onError:function(){if(--w<=0)return C("Failed to connect to the Barcode Reader Add-on, the library may be missing in the Dynamsoft Service directory.");setTimeout(function(){e.ajax(x)},300)},dataType:"json",async:!0,timeout:800};e.ajax(x)}).then(function(){return a._dbr=new a.Class(h),a._dbr._innerServiceCmd(null,null)}).then(function(T){try{var C=a._handleRetJsonString(T);a._dbr._runtimeSettings=C.settings,a._defaultRuntimeSettingsStr=e.stringify(C.settings),a._defaultTemplateStr=e.stringify(C.outputSettings),g(a._dbr)}catch(w){y(Error("Init template & runtimeSettings failed: "+w.message)||w)}},function(T){y(T)})},a.dbrInitPromiseFun=function(h){return new e.Promise(function(g,y){a.innerDbrInit(h,g,y)})},a.innerDbrInit=function(h,g,y){var T=!1,C=!1,w=(e.product.bHTML5Edition?T=!0:C=!0,K.BarcodeReaderAddon);if(T){if(w._dbr)return void g(w._dbr)}else if(C&&w._dbr_ax)return void g(w._dbr_ax);if(T&&w._initH5(h,g,y),C){if(T=K.navInfoSync,C={method:"ReadBarcode",parameter:[K.Lib.product.refProductKey,4002,"",""]},!T.bIE)return y(Error("The DBR init error."));try{w._activeXInstance=new ActiveXObject("DBRModule.AtlDBR");var x,F=w._activeXInstance.Process(e.stringify(C),location.protocol+"//"+location.host),N=e.parse(F);return N?"settings"in N?(w._dbr_ax=new w.Class(h),w._dbr_ax._runtimeSettings=N.settings,w._defaultRuntimeSettingsStr=e.stringify(N.settings),"outputSettings"in N&&(w._defaultTemplateStr=e.stringify(N.outputSettings)),void g(w._dbr_ax)):(x=N.description||"The DBR init error.",y(Error(x))):y(Error("The DBR init error."))}catch(E){return y(Error("The DBR .dll is missing or not accessible: "+(E.message||E)))}}},e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(h){if(i=h._b64bit?"dbrx64_"+K.BarcodeReaderAddon.Version+".dll":"dbr_"+K.BarcodeReaderAddon.Version+".dll",e.product.bHTML5Edition)try{h._innerSend("GetAddOnVersion",e.html5.Funs.makeParams("barcodereader",i),!0,!1,!1).catch(function(){})}catch{}function g(T){return!e.License.checkProductKey(T,{Core:!0})||!!(K.navInfoSync.bMac||K.navInfoSync.bLinux||K.Lib.env.bMobile)&&(T._errorCode=K.DBR.EnumErrorCode.DBR_UNKNOWN,T._errorString=a.errors.ServiceEditionNotSupportDbr,!0)}var y={BarcodeReader:{decode:function(T){return g(h)?e.Promise.reject(a.BarcodeReaderException(h._errorCode,h._errorString)):!e.isNumber(T)||T<0||T>=h.HowManyImagesInBuffer?(e.Errors.IndexOutOfRange(h),e.Promise.reject(a.BarcodeReaderException(h._errorCode,h._errorString))):new e.Promise(function(C){a._decoding?a._decodeQueue.push({method:C,args:[T]}):(a._decoding=!0,C(T))}).then(function(C){var w;if(e.product.bHTML5Edition){if((w=h._ImgManager.convertClientIndexToServerId(C))==-1)throw e.Errors.IndexOutOfRange(h),setTimeout(a._decodeNext,0),a.BarcodeReaderException(h._errorCode,h._errorString)}else w=C;return new e.Promise(function(x,F){a.dbrInitPromiseFun(h).then(function(N){var E;if(!e.product.bHTML5Edition)return E=w,W=h.GetImagePartURL(E,-1,-1),N._innerDecode(4001,W,"").then(function(O){O.imageid=h.IndexToImageID(E),setTimeout(a._decodeNext,0),x(O)},function(O){setTimeout(a._decodeNext,0),F(O)});E=h._ImgManager.convertServerIdToClientIndex(w);var W=h.GetImagePartURL(E,-1,-1);return N._innerDecode(4e3,W,"",h._clientId).then(function(O){O.imageid=h.IndexToImageID(E),setTimeout(a._decodeNext,0),x(O),h._blts&&K.DWT.lcvrf(h)},function(O){setTimeout(a._decodeNext,0),F(O)})},function(N){setTimeout(a._decodeNext,0),F(N)})})})},resetRuntimeSettings:function(){return g(h)?e.Promise.reject(a.BarcodeReaderException(h._errorCode,h._errorString)):a.dbrInitPromiseFun(h).then(function(T){return T.resetRuntimeSettings()})},getRuntimeSettings:function(T){return g(h)?e.Promise.reject(a.BarcodeReaderException(h._errorCode,h._errorString)):!e.isString(T)||T!="speed"&&T!="balance"&&T!="coverage"&&T!="default"?a.dbrInitPromiseFun(h).then(function(C){return C.getRuntimeSettings()}):this.updateRuntimeSettings(T)},updateRuntimeSettings:function(T){return g(h)?e.Promise.reject(a.BarcodeReaderException(h._errorCode,h._errorString)):a.dbrInitPromiseFun(h).then(function(C){return C.updateRuntimeSettings(T)})},initRuntimeSettingsWithString:function(T){return g(h)?e.Promise.reject(a.BarcodeReaderException(h._errorCode,h._errorString)):a.dbrInitPromiseFun(h).then(function(C){return C.initRuntimeSettingsWithString(T)})}}};e.product.bHTML5Edition?(h.__addon=h.__addon||{},e.mix(h.__addon,y)):(h.Addon=h.Addon||{},e.mix(h.Addon,y))})});/*! 20241010103231
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: PDF
* Version: 18.5.1
* 
*/var K=self.Dynamsoft||{};K.DWT=K.DWT||{},K.aryAddonReadyFun=K.aryAddonReadyFun||[],K.AddonReady=K.AddonReady||function(e){K.aryAddonReadyFun.push(e)},function(){K.DWT.EnumDWT_ConvertMode={CM_RENDERALL:1,CM_IMAGEONLY:2,CM_AUTO:3,CM_RENDERALLWITHANNOTATION:4},K.DWT.EnumDWT_PDFCompressionType={PDF_AUTO:0,PDF_FAX3:1,PDF_FAX4:2,PDF_LZW:3,PDF_RLE:4,PDF_JPEG:5,PDF_JP2000:6,PDF_JBIG2:7}}(),K.AddonReady(function(e,t){var i,a;e.product.bHTML5Edition&&(i={code:-2830,message:"The PDF resolution must be a positive number."},e.DynamicLoadAddonFuns)&&e.DynamicLoadAddonFuns.push(function(d){var h,g=e.html5.Funs;a=d.__serverPlatform==K.DWT.EnumDWT_PlatformType.enumMac?d._b64bit?"libDynamicPdfCorex64_"+K.DWT.PdfVersion+".dylib":"libDynamicPdfCore_"+K.DWT.PdfVersion+".dylib":d.__serverPlatform==K.DWT.EnumDWT_PlatformType.enumLinux||d.__serverPlatform==K.DWT.EnumDWT_PlatformType.enumEmbed||d.__serverPlatform==K.DWT.EnumDWT_PlatformType.enumChromeOS?"libDynamicPdfCore_"+K.DWT.PdfVersion+".so":d._b64bit?"DynamicPdfCorex64_"+K.DWT.PdfVersion+".dll":"DynamicPdfCore_"+K.DWT.PdfVersion+".dll";try{d._innerSend("GetAddOnVersion",g.makeParams("pdf",a),!0,!1,!1).catch(function(){})}catch{}h={PDF:{IsModuleInstalled:function(){var y=d;return y._resetErr(),y._innerFun("GetAddOnVersion",g.makeParams("pdf",a))!=""},IsModuleInstalledAsync:function(){var y=d;return y._resetErr(),y._innerFunV2("GetAddOnVersion",g.makeParams("pdf",a)).then(function(T){return T!=""})},ConvertToImage:function(x,T,C,w){var x=g.replaceLocalFilename(x),F="ConvertPDFToImage",N=d;return N._resetErr(),g.showMask(F),N._innerSend(F,g.makeParams(x,T),!0,function(E){return g.hideMask(F),C&&C(),!0},function(E){return g.hideMask(F),w&&w(),!1}),!0},SetPassword:function(y){var T=d,C=y||"";return T._resetErr(),!!T._checkPDFPasswordValue(C)&&(C=T._mixSavedPdfReaderOptions({password:C}),(C=T._setReaderOptions(C,!1))&&(T._pdfOptions.password=y),C)},SetConvertMode:function(y){return d._setConvertMode(y)},SetConvertModeAsync:function(y){return d._setConvertModeAsync(y)},GetConvertMode:function(){var y=d;return y._resetErr(),y._pdfConvertMode},SetResolution:function(y){var T=d,C=y;return T._resetErr(),C=T._mixSavedPdfReaderOptions({renderOptions:{resolution:C}}),(C=T._setReaderOptions(C,!1))&&(T._pdfOptions.renderOptions.resolution=y),C},SetResolutionAsync:function(y){var T=d;return T._resetErr(),!K.Lib.isNumber(y)||y<=0?K.Lib.Promise.reject(i):T._innerFunV2("SetPDFResolution",g.makeParams(y)).then(function(C){C&&(T._pdfOptions.renderOptions.resolution=y)})},SetReaderOptions:function(y){return d._setReaderOptions(y,!0)},GetReaderOptions:function(){var y,T=d;return T._resetErr(),y=d._innerFun("GetPDFReaderOptions"),y=K.Lib.parse(y),T._pdfOptions=T._mixSavedPdfReaderOptions(y),K.Lib.clone(T._pdfOptions)},IsTextBasedPDF:function(x,T,C){var w=d,x=(w._resetErr(),g.replaceLocalFilename(x)),x=d._innerFun("IsTextBasedPDF",g.makeParams(x));return w.ErrorCode==0?e.isFunction(T)&&T(x):e.isFunction(C)&&C(w.ErrorCode,w.ErrorString),x},Write:{Setup:function(T){var T=(T=T)||{version:15},C=(2<e.stringify(T).length&&(e.isNumber(T.version)?1<=T.version&&T.version<2&&(T.version=parseInt(10*T.version)):T.version=15),e.isNumber(T.compression)&&T.compression==K.DWT.EnumDWT_PDFCompressionType.PDF_FAX3&&(T.compression=K.DWT.EnumDWT_PDFCompressionType.PDF_FAX4),d);return C._resetErr(),!(T.password&&(e.isNumber(T.password)&&(T.password=T.password.toString()),!C._checkPDFPasswordValue(T.password)))&&(T=e.stringify(T),T=e.replaceAll(T,'"','\\"'),C._innerFun("SetPDFSettings",['["',T,'"]'].join("")))}}}},d.__addon=d.__addon||{},e.mix(d.__addon,h)})}),K.AddonReady(function(e,t){e.product.bActiveXEdition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(i){var a,d,h;if(!i.getSWebTwain()||!i.getSWebTwain().Addon)return!1;K.navInfoSync.bWin&&(h=!K.navInfo.bOSx64||K.navInfo.bWOW64?"DynamicPdfCore_"+K.DWT.PdfVersion+".dll":"DynamicPdfCorex64_"+K.DWT.PdfVersion+".dll"),d=i.getSWebTwain(),a={PDF:{IsModuleInstalled:function(){var g=d.GetAddOnVersion("pdf",h);return e.setErrorString(i),g!=""},IsModuleInstalledAsync:function(){var g=d.GetAddOnVersion("pdf",h);return e.setErrorString(i),e.Promise.resolve(g!="")},ConvertToImage:function(g,y,T,C){return g=d.ConvertPDFToImage(g,y),e.wrapperRet(i,g,T,C)},SetPassword:function(g){return g=d.SetPDFPassword(g),e.wrapperRet(i,g)},SetConvertMode:function(g){return i._setConvertMode(g)},SetConvertModeAsync:function(g){return Promise.resolve(i._setConvertMode(g))},GetConvertMode:function(){return i._resetErr(),i._pdfConvertMode},SetResolution:function(g){return g=d.SetPDFResolution(g),e.wrapperRet(i,g)},SetResolutionAsync:function(g){return g=d.SetPDFResolution(g),e.Promise.resolve(e.wrapperRet(i,g))},SetReaderOptions:function(){return!1},GetReaderOptions:function(){return{}},IsTextBasedPDF:function(g){return g=d.IsTextBasedPDF(g),e.wrapperRet(i,g)}}},i.Addon=i.Addon||{},e.mix(i.Addon,a)})});/*! 20241010103231
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: OCR
* Version: 18.5.1
* 
*/var K=self.Dynamsoft||{};K.DWT=K.DWT||{},K.aryAddonReadyFun=K.aryAddonReadyFun||[],K.AddonReady=K.AddonReady||function(e){K.aryAddonReadyFun.push(e)},K.DWT.OCRVerInName="10.0.0.0618",function(){for(var e=[K.DWT],t=0;t<1;t++){var i=e[t];i.EnumDWT_OCRLanguage={OCRL_ENG:"eng",OCRL_ARA:"ara",OCRL_CHI_SIM:"chi_sim",OCRL_CHI_TRA:"chi_tra",OCRL_HIN:"hin",OCRL_URD:"urd",OCRL_SPA:"spa",OCRL_FRA:"fra",OCRL_MSA:"msa",OCRL_IND:"ind",OCRL_RUS:"rus",OCRL_BEN:"ben",OCRL_POR:"por",OCRL_PAN:"pan",OCRL_DEU:"deu",OCRL_JPN:"jpn",OCRL_FAS:"fas",OCRL_SWA:"swa",OCRL_JAV:"jav",OCRL_TEL:"tel",OCRL_TUR:"tur",OCRL_KOR:"kor",OCRL_MAR:"mar",OCRL_TAM:"tam",OCRL_VIE:"vie",OCRL_ITA:"ita",OCRL_THA:"tha"},i.EnumDWT_OCRPageSetMode={OCRPSM_OSD_ONLY:0,PSM_AUTO_OSD:1,PSM_AUTO_ONLY:2,PSM_AUTO:3,PSM_SINGLE_COLUMN:4,PSM_SINGLE_BLOCK_VERT_TEXT:5,PSM_SINGLE_BLOCK:6,PSM_SINGLE_LINE:7,PSM_SINGLE_WORD:8,PSM_CIRCLE_WORD:9,PSM_SINGLE_CHAR:10},i.EnumDWT_OCROutputFormat={OCROF_TEXT:0,OCROF_PDFPLAINTEXT:1,OCROF_PDFIMAGEOVERTEXT:2,OCROF_PDFPLAINTEXT_PDFX:3,OCROF_PDFIMAGEOVERTEXT_PDFX:4},i.EnumDWT_OCRDownloadType={OCRDT_Dll:0,OCRDT_LANGUAGE:1}}}(),K.DWT.OCRLanguageData_eng="4113088",K.DWT.OCRLanguageData_ara="1432056",K.DWT.OCRLanguageData_chi_sim="2469156",K.DWT.OCRLanguageData_chi_tra="2366642",K.DWT.OCRLanguageData_hin="1122751",K.DWT.OCRLanguageData_urd="1398718",K.DWT.OCRLanguageData_spa="2294433",K.DWT.OCRLanguageData_fra="1130365",K.DWT.OCRLanguageData_msa="1747801",K.DWT.OCRLanguageData_ind="1122661",K.DWT.OCRLanguageData_rus="3861738",K.DWT.OCRLanguageData_ben="855841",K.DWT.OCRLanguageData_por="1982756",K.DWT.OCRLanguageData_pan="497721",K.DWT.OCRLanguageData_deu="1525436",K.DWT.OCRLanguageData_jpn="2471260",K.DWT.OCRLanguageData_fas="431500",K.DWT.OCRLanguageData_swa="2167651",K.DWT.OCRLanguageData_jav="2982741",K.DWT.OCRLanguageData_tel="2769654",K.DWT.OCRLanguageData_tur="4550554",K.DWT.OCRLanguageData_kor="1677415",K.DWT.OCRLanguageData_mar="2118233",K.DWT.OCRLanguageData_tam="3237963",K.DWT.OCRLanguageData_vie="531275",K.DWT.OCRLanguageData_ita="2701314",K.DWT.OCRLanguageData_tha="1072600",K.DWT.OCRLanguageData={},K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_ENG]=K.DWT.OCRLanguageData_eng,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_ARA]=K.DWT.OCRLanguageData_ara,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_CHI_TRA]=K.DWT.OCRLanguageData_chi_tra,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_CHI_SIM]=K.DWT.OCRLanguageData_chi_sim,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_HIN]=K.DWT.OCRLanguageData_hin,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_URD]=K.DWT.OCRLanguageData_urd,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_SPA]=K.DWT.OCRLanguageData_spa,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_FRA]=K.DWT.OCRLanguageData_fra,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_MSA]=K.DWT.OCRLanguageData_msa,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_IND]=K.DWT.OCRLanguageData_ind,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_RUS]=K.DWT.OCRLanguageData_rus,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_BEN]=K.DWT.OCRLanguageData_ben,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_POR]=K.DWT.OCRLanguageData_por,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_PAN]=K.DWT.OCRLanguageData_pan,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_DEU]=K.DWT.OCRLanguageData_deu,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_JPN]=K.DWT.OCRLanguageData_jpn,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_FAS]=K.DWT.OCRLanguageData_fas,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_SWA]=K.DWT.OCRLanguageData_swa,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_JAV]=K.DWT.OCRLanguageData_jav,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_TEL]=K.DWT.OCRLanguageData_tel,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_TUR]=K.DWT.OCRLanguageData_tur,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_KOR]=K.DWT.OCRLanguageData_kor,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_MAR]=K.DWT.OCRLanguageData_mar,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_TAM]=K.DWT.OCRLanguageData_tam,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_VIE]=K.DWT.OCRLanguageData_vie,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_ITA]=K.DWT.OCRLanguageData_ita,K.DWT.OCRLanguageData[K.DWT.EnumDWT_OCRLanguage.OCRL_THA]=K.DWT.OCRLanguageData_tha,function(e){function t(){var i=this;i._text="",i._fontName="",i._fontSize="",i._left=0,i._top=0,i._right=0,i._bottom=0}t.prototype.GetText=function(){return this._text},t.prototype.GetFontName=function(){return this._fontName},t.prototype.GetFontSize=function(){return this._fontSize},t.prototype.GetWordRect=function(){var i=this;return i._left+","+i._top+","+i._right+","+i._bottom},e.NewWordBasicResult=function(){return new t}}(K.Lib),function(e){function t(){var i=this;i._count=0,i._left=0,i._top=0,i._right=0,i._bottom=0,i._wordlist=[]}t.prototype.GetWordCount=function(){return this._count},t.prototype.GetLineRect=function(){var i=this;return i._left+","+i._top+","+i._right+","+i._bottom},t.prototype.GetWordContent=function(i){var a=this,d=a._wordlist.length;return a._errorCode<0?"":i==null||d<=i||i<0?(K.Lib.Errors.OCR_InvalidIndex(a,"GetWordContent"),""):((d=K.Lib.NewWordBasicResult())._text=a._wordlist[i].text,d._fontName=a._wordlist[i].fontname,d._fontSize=a._wordlist[i].fontsize,d._left=a._wordlist[i].rect[0],d._top=a._wordlist[i].rect[1],d._right=a._wordlist[i].rect[2],d._bottom=a._wordlist[i].rect[3],d)},e.NewLineBasicResult=function(){return new t}}(K.Lib),function(e){function t(){this._count=0,this._linelist=[]}t.prototype.GetLineCount=function(){return this._count},t.prototype.GetLineContent=function(i){var a=this,d=a._linelist.length;return a._errorCode<0?"":i==null||d<=i||i<0?(K.Lib.Errors.OCR_InvalidIndex(a,"GetLineContent"),""):((d=K.Lib.NewLineBasicResult())._count=a._linelist[i].words.length,d._left=a._linelist[i].rect[0],d._top=a._linelist[i].rect[1],d._right=a._linelist[i].rect[2],d._bottom=a._linelist[i].rect[3],d._wordlist=a._linelist[i].words,d)},e.NewPageBasicResult=function(){return new t}}(K.Lib),function(e){function t(){this._count=0,this._pagelist=[]}t.prototype.GetPageCount=function(){return this._count},t.prototype.GetPageContent=function(i){var a=this,d=a._pagelist.length;return a._errorCode<0?"":i==null||d<=i||i<0?(K.Lib.Errors.OCR_InvalidIndex(a,"GetPageContent"),""):((d=K.Lib.NewPageBasicResult())._count=a._pagelist[i].lines.length,d._linelist=a._pagelist[i].lines,d)},e.NewPageSetBasicResult=function(){return new t}}(K.Lib),function(e){function t(i){var a=this;a._errorCode=0,a._errorString="",a._resultlist=[],a._stwain=i}t.prototype.GetErrorCode=function(){return this._errorCode},t.prototype.GetErrorString=function(){return this._errorString},t.prototype.GetFormat=function(){return this._resultlist[0].format},t.prototype.GetInput=function(){var i=this._resultlist[0].input;if(i){var a=Number(i);if(!isNaN(a))return this._stwain._ImgManager.convertServerIdToClientIndex(a)}return i},t.prototype.GetPageSetCount=function(){return this._resultlist[0].pagesets.length},t.prototype.GetPageSetContent=function(i){var a=this,d=a._resultlist[0].pagesets.length;return a._errorCode<0?"":i==null||d<=i||i<0?(K.Lib.Errors.OCR_InvalidIndex(a,"GetPageSetContent"),""):((d=K.Lib.NewPageSetBasicResult())._count=a._resultlist[0].pagesets[i].pages.length,d._pagelist=a._resultlist[0].pagesets[i].pages,d)},t.prototype.Get=function(){return this._stwain._innerFun("GetOCRRestult")},t.prototype.Save=function(i){return i=e.html5.Funs.replaceLocalFilename(i),this._stwain._innerFun("SaveOCRRestult",e.html5.Funs.makeParams(i))},e.NewOCRBasicResult=function(i){return new t(i)}}(K.Lib),function(e){function t(){var i=this;i.UnicodeFontName="",i.UseDetectedFont=!0,i.MinFontSizeforMoreAccurateResult=0,i.OCRLanguage=K.DWT.EnumDWT_OCRLanguage.OCRL_ENG,i.PageSetMode=K.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO,i.OutputFormat=K.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT}t.prototype.GetUnicodeFontName=function(){return this.UnicodeFontName},t.prototype.SetUnicodeFontName=function(i){return e.isString(i)||(i=""),this.UnicodeFontName=i,!0},t.prototype.GetUseDetectedFont=function(){return!!this.UseDetectedFont},t.prototype.SetUseDetectedFont=function(i){return this.UseDetectedFont=!!i,!0},t.prototype.GetMinFontSizeforMoreAccurateResult=function(){return this.MinFontSizeforMoreAccurateResult},t.prototype.SetMinFontSizeforMoreAccurateResult=function(i){return i=+i,this.MinFontSizeforMoreAccurateResult=i=i<0?0:i,!0},t.prototype.GetOCRLanguage=function(){return this.OCRLanguage},t.prototype.SetOCRLanguage=function(i){return e.isString(i)||(i=""),this.OCRLanguage=i,!0},t.prototype.GetPageSetMode=function(){return this.PageSetMode},t.prototype.SetPageSetMode=function(i){return i=+i,(i<0||i>K.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_CHAR)&&(i=K.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO),this.PageSetMode=i,!0},t.prototype.GetOutputFormat=function(){return this.OutputFormat},t.prototype.SetOutputFormat=function(i){return i=+i,(i<0||i>K.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT_PDFX)&&(i=K.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT),this.OutputFormat=i,!0},e.NewOptions=function(){return new t}}(K.Lib),K.AddonReady(function(e,t){var i;e.product.bHTML5Edition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(a){var d,h,g,y=e.html5.Funs,T=e.NewOptions();h=a,g=e.html5.Funs,i=e.env.bMac?"DynamicOCR_"+K.DWT.OCRVerInName+".dylib":e.env.bLinux?"DynamicOCR_"+K.DWT.OCRVerInName+".so":K.dcp.b64bit?"DynamicOCRx64_"+K.DWT.OCRVerInName+".dll":"DynamicOCR_"+K.DWT.OCRVerInName+".dll",h._isMobileMode()||h._innerSend("GetAddOnVersion",g.makeParams("ocr",i),!0,!1,!1),h.__innerOCRBasicReadFunction=function(C,w,x,F,N,E,W,O,R,D,j){return e.isFunction(D)?this.__innerOCRBasicAsyncReadFunction(C,w,x,F,N,E,W,O,R,D,j):this.__innerOCRSyncReadFunction(C,R)},h.__innerGetOCRBasicResultAsyncFunction=function(C){var w=K.Lib.NewOCRBasicResult(this);return C&&(w._errorCode=C.exception,w._errorString=C.description,w._resultlist=C.result),w},h.__innerOCRBasicAsyncReadFunction=function(C,w,x,F,N,E,W,O,R,D,j){var Y=this;return g.showMask(C),Y._innerSend(C,R,!0,function(de){var ne;de.exception==0?(e.isFunction(D)&&(w!=-1?(ne=Y._convertServerIdToGuid(w),F==1?D(ne,N,E,W,O,Y.__innerGetOCRBasicResultAsyncFunction(de)):D(ne,Y.__innerGetOCRBasicResultAsyncFunction(de))):x!=""?D(x,Y.__innerGetOCRBasicResultAsyncFunction(de)):D(Y.__innerGetOCRBasicResultAsyncFunction(de))),e.License.isLTS()&&K.DWT.lcvrf(h)):e.isFunction(j)&&j(de.exception,de.description),g.hideMask(C)},function(de){g.hideMask(C)}),!0},h.__innerOCRSyncReadFunction=function(C,w){return C=this._innerFunRaw(C,w,!1,!1),w=e.NewOCRBasicResult(),w._errorCode=this._errorCode,w._errorString=this._errorString,C&&e.isArray(C)&&(w._resultlist=C,w._Count=C.length,e.License.isLTS())&&K.DWT.lcvrf(h),w},h.__IsOCRBasicModuleInstalled=function(){return h._innerFun("GetAddOnVersion",g.makeParams("ocr",i)).split("|")[0]!=""},h.__innerBasicDownload=function(C,w,x,F,N){function E(){return O.IfShowProgressBar&&e.closeProgress(null,"Download"),e.isFunction(F)&&F(),!0}function W(){return O.IfShowProgressBar&&e.closeProgress(null,"Download"),e.isFunction(N)&&N(O.ErrorCode,O.ErrorString),!1}var O=h;if(e.cancelFrome=2,C=C.toString(),!e.License.checkProductKey(O,{Core:!0})||!e.License.checkProductKey(O,{OCR:!0},!0))return W();w!=K.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll&&O._innerFun("SetOCRLanguage",g.makeParams(x));var R=O._innerFun("GetAddOnVersion",g.makeParams("ocr",i)).split("|");if(w==K.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll){if(R[0]!="")return E(),!0}else if(x=K.DWT.OCRLanguageData[x],x&&R[1]==x)return E(),!0;if(!C||C=="")return e.Errors.OCR_InvalidRemoteFilename(O),W(),!1;if(g.isServerInvalid(O))return W(),!1;O.IfShowProgressBar&&e.showProgress(O,"Download",!0);var D=!0;w==K.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll?O._OnPercentDone([0,-1,"Downloading OCR Module...","http"]):O._OnPercentDone([0,-1,"Downloading OCR Language Data...","http"]),e.isFunction(F)||(D=!1),g.loadHttpBlob(O,"get",C,D,function(j){O._OnPercentDone([0,-1,"Loading..."]);var Y=100;w==K.DWT.EnumDWT_OCRDownloadType.OCRDT_LANGUAGE&&(Y=101),O.__LoadImageFromBytes(j,Y,"",D,E,W)},function(){O.IfShowProgressBar&&e.closeProgress(null,"Download"),W()},function(j){var Y=j.total===0?100:Math.round(100*j.loaded/j.total);[j.loaded," / ",j.total].join(""),O._OnPercentDone([0,Y,"","http"])})},d={OCR:{SetUnicodeFontName:function(C){var w=a;return w._resetErr(),w._isMobileMode()?w._mobileNotSupport("Addon.OCR.SetUnicodeFontName"):T.SetUnicodeFontName(C)},GetUnicodeFontName:function(){var C=a;return C._resetErr(),C._isMobileMode()?C._mobileNotSupport("Addon.OCR.GetUnicodeFontName"):T.GetUnicodeFontName()},SetIfUseDetectedFont:function(C){var w=a;return w._resetErr(),w._isMobileMode()?w._mobileNotSupport("Addon.OCR.SetIfUseDetectedFont"):T.SetUseDetectedFont(C)},GetIfUseDetectedFont:function(){var C=a;return C._resetErr(),C._isMobileMode()?C._mobileNotSupport("Addon.OCR.GetIfUseDetectedFont"):T.GetUseDetectedFont()},SetMinFontSizeforMoreAccurateResult:function(C){var w=a;return w._resetErr(),w._isMobileMode()?w._mobileNotSupport("Addon.OCR.SetMinFontSizeforMoreAccurateResult"):T.SetMinFontSizeforMoreAccurateResult(C)},GetMinFontSizeforMoreAccurateResult:function(){var C=a;return C._resetErr(),C._isMobileMode()?C._mobileNotSupport("Addon.OCR.GetMinFontSizeforMoreAccurateResult"):T.GetMinFontSizeforMoreAccurateResult()},SetLanguage:function(C){var w=a;return w._resetErr(),w._isMobileMode()?w._mobileNotSupport("Addon.OCR.SetLanguage"):T.SetOCRLanguage(C)},IsModuleInstalled:function(){var C=a;return C._resetErr(),C._isMobileMode()?C._mobileNotSupport("Addon.OCR.IsModuleInstalled"):C.__IsOCRBasicModuleInstalled()},SetPageSetMode:function(C){var w=a;return w._resetErr(),w._isMobileMode()?w._mobileNotSupport("Addon.OCR.SetPageSetMode"):(C=+C)==K.DWT.EnumDWT_OCRPageSetMode.OCRPSM_OSD_ONLY||C==K.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO_OSD||C==K.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO_ONLY||C==K.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO||C==K.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_COLUMN||C==K.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_BLOCK_VERT_TEXT||C==K.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_BLOCK||C==K.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_LINE||C==K.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_WORD||C==K.DWT.EnumDWT_OCRPageSetMode.PSM_CIRCLE_WORD||C==K.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_CHAR?T.SetPageSetMode(C):(K.Lib.Errors.OCR_InvalidPageSetMode(w),!1)},SetOutputFormat:function(C){var w=a;return w._resetErr(),w._isMobileMode()?w._mobileNotSupport("Addon.OCR.SetOutputFormat"):(C=+C)==K.DWT.EnumDWT_OCROutputFormat.OCROF_TEXT||C==K.DWT.EnumDWT_OCROutputFormat.OCROF_PDFPLAINTEXT||C==K.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT||C==K.DWT.EnumDWT_OCROutputFormat.OCROF_PDFPLAINTEXT_PDFX||C==K.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT_PDFX?T.SetOutputFormat(C):(K.Lib.Errors.OCR_InvalidOutputFormat(w),!1)},Recognize:function(C,w,x){var F=a;return F._resetErr(),F._isMobileMode()?F._mobileNotSupport("Addon.OCR.Recognize"):e.License.checkProductKey(F,{OCR:!0},!0)?(C=F._ImgManager.convertClientIndexToServerId(C),F.__innerOCRBasicReadFunction("OCRRecognize",C,"",0,0,0,0,0,y.makeParams(0,C,"",0,0,0,0,T.GetUnicodeFontName(),T.GetUseDetectedFont(),T.GetMinFontSizeforMoreAccurateResult(),T.GetOCRLanguage(),T.GetPageSetMode(),T.GetOutputFormat(),""),w,x)):(e.isFunction(x)&&x(F._errorCode,F._errorString),!1)},RecognizeRect:function(C,w,x,F,N,E,W){var O,R=a;return R._resetErr(),R._isMobileMode()?R._mobileNotSupport("Addon.OCR.RecognizeRect"):!w&&w!=0||!x&&x!=0||!F&&F!=0||!N&&N!=0?(O=K.Lib.NewOCRBasicResult(R),K.Lib.Errors.OCR_InvalidLeftOrTopOrRightOrBottom(O,"RecognizeRect"),void W(O.GetErrorCode(),O.GetErrorString())):e.License.checkProductKey(R,{OCR:!0},!0)?(O=R._ImgManager.convertClientIndexToServerId(C),R.__innerOCRBasicReadFunction("OCRRecognize",O,"",1,w,x,F,N,y.makeParams(0,O,"",w,x,F,N,T.GetUnicodeFontName(),T.GetUseDetectedFont(),T.GetMinFontSizeforMoreAccurateResult(),T.GetOCRLanguage(),T.GetPageSetMode(),T.GetOutputFormat(),""),E,W)):(e.isFunction(W)&&W(R._errorCode,R._errorString),!1)},RecognizeFile:function(C,w,x){var F=a;return F._resetErr(),F._isMobileMode()?F._mobileNotSupport("Addon.OCR.RecognizeFile"):(C=y.replaceLocalFilename(C),e.License.checkProductKey(F,{OCR:!0},!0)?F.__innerOCRBasicReadFunction("OCRRecognize",-1,C,0,0,0,0,0,y.makeParams(1,-1,C,0,0,0,0,T.GetUnicodeFontName(),T.GetUseDetectedFont(),T.GetMinFontSizeforMoreAccurateResult(),T.GetOCRLanguage(),T.GetPageSetMode(),T.GetOutputFormat(),""),w,x):(e.isFunction(x)&&x(F._errorCode,F._errorString),!1))},RecognizeSelectedImages:function(C,w){var x,F,N,E=a;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.RecognizeSelectedImages"):e.License.checkProductKey(E,{OCR:!0},!0)?(N=[],(x=E)._ImgManager.count()<=0||(F=x._ImgManager.getCurrentImageIndex(),x._ImgManager.convertClientIndexToServerId(F),F=x._ImgManager.getSelectedClientIndexArray(),e.isArray(F)&&e.each(F,function(W){W=x._ImgManager.convertClientIndexToServerId(W),N.push(W)})),F=N,E.__innerOCRBasicReadFunction("OCRRecognize",-1,"",0,0,0,0,0,y.makeParams(2,-1,"",0,0,0,0,T.GetUnicodeFontName(),T.GetUseDetectedFont(),T.GetMinFontSizeforMoreAccurateResult(),T.GetOCRLanguage(),T.GetPageSetMode(),T.GetOutputFormat(),F.join(",")),C,w)):(e.isFunction(w)&&w(E._errorCode,E._errorString),!1)}}},a.__addon=a.__addon||{},e.mix(a.__addon,d)})});var K=self.Dynamsoft||{};K.DWT=K.DWT||{};K.aryAddonReadyFun=K.aryAddonReadyFun||[];K.AddonReady=K.AddonReady||function(e){K.aryAddonReadyFun.push(e)};K.ProOCRVerInName="1.2.0.0806";(function(e){function t(){var i=this;i._text="",i._left=0,i._top=0,i._right=0,i._bottom=0}t.prototype.GetText=function(){var i=this;return i._text},t.prototype.GetLetterRect=function(){var i=this;return i._left+","+i._top+","+i._right+","+i._bottom},e.NewLetterResult=function(){return new t}})(K.Lib);(function(e){function t(){var i=this;i._count=0,i._letterlist=[],i._zoneCount=0,i._zoneWords=[]}t.prototype.GetLettersCount=function(){var i=this;return i._count},t.prototype.GetZoneCount=function(){var i=this;return i._zoneCount},t.prototype.GetLetterContent=function(i){var a=this,d=a._count;if(a._errorCode<0)return"";if(i==null||i>=d||i<0)return K.Lib.Errors.OCR_InvalidIndex(a,"GetLetterContent"),"";var h=K.Lib.NewLetterResult();return h._text=a._letterlist[i].letter,h._left=a._letterlist[i].boundary[0],h._top=a._letterlist[i].boundary[1],h._right=a._letterlist[i].boundary[2],h._bottom=a._letterlist[i].boundary[3],h},t.prototype.GetZoneContent=function(i){var a=this,d=a._zoneCount;return a._errorCode<0?"":i==null||i>=d||i<0?(K.Lib.Errors.OCR_InvalidIndex(a,"GetZoneContent"),""):a._zoneWords[i]},e.NewPageResult=function(){return new t}})(K.Lib);(function(e){function t(){var i=this;i._input=0,i._message="",i._page=-1}t.prototype.GetInput=function(){var i=this;return i._input},t.prototype.GetMessage=function(){var i=this;return i._message},t.prototype.GetPage=function(){var i=this;return i._page},e.NewErrorInfo=function(){return new t}})(K.Lib);(function(e){function t(i){var a=this;a._errorCode=0,a._errorString="",a._errorlist=[],a._request="",a._ocrTotalCount=0,a._alreadyOCRCount=0,a._resultlist=[],a._resultZoneDetail=[],a._stwain=i}t.prototype.GetErrorCode=function(){var i=this;return i._errorCode},t.prototype.GetErrorString=function(){var i=this;return i._errorString},t.prototype.GetInput=function(){var i=this;if(i._request&&i._request.input){var a=i._request.input;if(a){var d=Number(a);if(!isNaN(d))return i._stwain._ImgManager.convertServerIdToClientIndex(d)}return a}else return""},t.prototype.GetErrorDetailList=function(){var i=this,a=0;i._errorlist&&(a=i._errorlist.length);for(var d=[],h=0;h<a;h++){var g=K.Lib.NewErrorInfo();g._input=i._errorlist[h].input,g._message=i._errorlist[h].message,g._page=i._errorlist[h].page,d.push(g)}return d},t.prototype.GetOCRTotalCount=function(){var i=this;return i._ocrTotalCount?i._ocrTotalCount:0},t.prototype.GetAlreadyOCRCount=function(){var i=this;return i._alreadyOCRCount?i._alreadyOCRCount:0},t.prototype.GetPageCount=function(){var i=this;return i._resultlist&&i._resultlist.length?i._resultlist.length:0},t.prototype.GetPageContent=function(i){var a=this,d=0;if(a._resultlist&&(d=a._resultlist.length),i==null||i>=d||i<0)return K.Lib.Errors.OCR_InvalidIndex(a,"GetPageContent"),"";var h=K.Lib.NewPageResult();return a._resultlist?(h._count=a._resultlist[i].length,h._letterlist=a._resultlist[i]):h._count=0,a._resultZoneDetail?(h._zoneCount=a._resultZoneDetail[i].length,h._zoneWords=a._resultZoneDetail[i]):h._zoneCount=0,h},t.prototype.Get=function(){var i=this;return i._stwain._innerFun("GetOCRRestult")},t.prototype.Save=function(i){var a=this,d=e.html5.Funs.replaceLocalFilename(i);return a._stwain._innerFun("SaveOCRRestult",e.html5.Funs.makeParams(d))},e.NewOCRProResult=function(i){return new t(i)}})(K.Lib);(function(e){for(var t=[K.DWT],i=0;i<1;i++){var a=t[i];a.EnumDWT_OCRProRecognitionModule={OCRPM_AUTO:"AUTO",OCRPM_MOSTACCURATE:"MOSTACCURATE",OCRPM_BALANCED:"BALANCED",OCRPM_FASTEST:"FASTEST"},a.EnumDWT_OCRProOutputFormat={OCRPFT_TXTS:"TXTS",OCRPFT_TXTCSV:"TXTCSV",OCRPFT_TXTF:"TXTF",OCRPFT_XML:"XML",OCRPFT_IOTPDF:"IOTPDF",OCRPFT_IOTPDF_MRC:"IOTPDF_MRC"},a.EnumDWT_OCRProPDFVersion={OCRPPDFV_0:"1.0",OCRPPDFV_1:"1.1",OCRPPDFV_2:"1.2",OCRPPDFV_3:"1.3",OCRPPDFV_4:"1.4",OCRPPDFV_5:"1.5",OCRPPDFV_6:"1.6",OCRPPDFV_7:"1.7"},a.EnumDWT_OCRProPDFAVersion={OCRPPDFAV_1A:"pdf/a-1a",OCRPPDFAV_1B:"pdf/a-1b",OCRPPDFAV_2A:"pdf/a-2a",OCRPPDFAV_2B:"pdf/a-2b",OCRPPDFAV_2U:"pdf/a-2u",OCRPPDFAV_3A:"pdf/a-3a",OCRPPDFAV_3B:"pdf/a-3b",OCRPPDFAV_3U:"pdf/a-3u"},a.EnumDWT_OCRProType={OCRDT_File:0,OCRDT_Index:1},a.EnumDWT_OCRFindTextFlags={OCRFT_WHOLEWORD:1,OCRFT_MATCHCASE:2,OCRFT_FUZZYMATCH:4},a.EnumDWT_OCRFindTextAction={OCRFT_HIGHLIGHT:0,OCRFT_STRIKEOUT:1,OCRFT_MARKFORREDACT:2}}})();(function(e){function t(){var i=this;i.FindText="",i.FindTextFlags=K.DWT.EnumDWT_OCRFindTextFlags.OCRFT_WHOLEWORD,i.FindTextAction=K.DWT.EnumDWT_OCRFindTextAction.OCRFT_MARKFORREDACT}e.NewRedaction=function(){return new t}})(K.Lib);K.WebTwain={Addon:{OCRPro:{}}};(function(e){function t(){var i=this;i.RecognitionModule="",i.Languages="eng",i.OutputFormat="",i.PDFVersion="",i.PDFAVersion="",i.LicenseChecker="",i.Redaction=K.Lib.NewRedaction()}e.NewSettings=function(){return new t}})(K.WebTwain.Addon.OCRPro);(function(){function e(t,i,a,d){var h=this;h.left=t,h.top=i,h.right=a,h.bottom=d}K.WebTwain.Addon.OCRPro.NewOCRZone=function(t,i,a,d){return new e(t,i,a,d)}})();K.AddonReady(function(e,t){if(!e.product.bHTML5Edition)return;function i(ne){var X=e.html5.Funs;ne.__innerGetOCRProResultAsyncFunction=function(ce){var he=K.Lib.NewOCRProResult(this);return ce&&(he._errorCode=ce.code,he._errorString=ce.message,he._request=ce.request,he._errorlist=ce.errorList,he._ocrTotalCount=ce.ocrTotalCount,he._alreadyOCRCount=ce.alreadyOCRCount,he._resultlist=ce.resultDetail,he._resultZoneDetail=ce.resultZoneDetail),he},ne.__innerIsOCRTrial=function(ce,he){var le=this,fe=function(){var _e=!1;if(le.__licenseInfo.Detail)for(var Ee=0;Ee<le.__licenseInfo.Detail.length;Ee++)le.__licenseInfo.Detail[Ee].EnumLicenseType=="10"&&le.__licenseInfo.Detail[Ee].Trial=="TRUE"&&(_e=!0);return ce(_e)};return le.__licenseInfo&&le.__licenseInfo.Detail?fe():le.GetLicenseInfo(fe,he)},ne.__innerOCRReadFunction=function(ce,he,le,fe,_e,Ee,ke,Ne){var je=this;return je.__innerOCRAsyncReadFunction(ce,he,le,fe,_e,Ee,ke,Ne)},ne.__innerOCRAsyncReadFunction=function(ce,he,le,fe,_e,Ee,ke,Ne){var je=this,Ze=function(Le){Le.code==0?(e.isFunction(ke)&&(he!=-1?fe==1?ke(he,_e,je.__innerGetOCRProResultAsyncFunction(Le)):ke(he,je.__innerGetOCRProResultAsyncFunction(Le)):le!=""?ke(le,je.__innerGetOCRProResultAsyncFunction(Le)):ke(je.__innerGetOCRProResultAsyncFunction(Le))),e.License.isLTS()&&K.DWT.lcvrf(ne)):e.isFunction(Ne)&&Ne(Le.code,Le.message,je.__innerGetOCRProResultAsyncFunction(Le)),X.hideMask(ce)},De=function(Le){X.hideMask(ce)};return X.showMask(ce),je._innerSend(ce,Ee,!0,Ze,De),!0},ne.__innerGetRequestJson=function(ce,he,le,fe,_e){var Ee,ke="[{";for(ke+='"id":"'+ne.clientId+'",',ke+='"method":"OCRProRecognize",',ke+='"dllName":"'+_e+'",',ke+='"productkey":"'+K.DWT.ProductKey+'",',ce==K.DWT.EnumDWT_OCRProType.OCRDT_File?ke+='"inputType":"file",':ke+='"inputType":"index",',ke+='"input":[',Ee=0;Ee<he.length;Ee++)ce==K.DWT.EnumDWT_OCRProType.OCRDT_File?ke+='"'+he[Ee]+'"':ke+=he[Ee],Ee+1<he.length&&(ke+="|");if(ke+="],",ke+='"settings":{',ke+='"recognitionMethod": "Page"',le&&(le.RecognitionModule&&le.RecognitionModule.length>0&&(ke+=',"recognitionModule":"'+le.RecognitionModule+'"'),le.Languages&&le.Languages.length>0&&(ke+=',"languages":"'+le.Languages+'"'),le.OutputFormat&&le.OutputFormat.length>0&&(ke+=',"outputFormat":"'+le.OutputFormat+'"'),le.PDFVersion&&le.PDFVersion.length>0&&(ke+=',"pdfVersion":"'+le.PDFVersion+'"'),le.PDFAVersion&&le.PDFAVersion.length>0&&(ke+=',"pdfAVersion":"'+le.PDFAVersion+'"'),le.Redaction&&le.Redaction.FindText&&le.Redaction.FindText.length>0)){var Ne=parseInt(le.Redaction.FindTextFlags),je=parseInt(le.Redaction.FindTextAction);if(!isNaN(Ne)&&!isNaN(je)){ke+=',"redaction":{';var Ze=le.Redaction.FindText;Ze=Ze.replace(/"/g,'\\"'),ke+='"findText":"'+Ze+'"',ke+=',"findTextFlags":'+Ne,ke+=',"findTextAction":'+je,ke+="}"}}for(ke+="},",ke+='"zones":[',Ee=0;Ee<fe.length;Ee++)ke+="["+fe[Ee].left+","+fe[Ee].top+","+fe[Ee].right+","+fe[Ee].bottom+"]",Ee+1<fe.length&&(ke+=",");return ke+="],",ke+='"outputFile":""',ke+="}]",ke},ne.__LoadImageFromBytesForDownloadInner=function(ce,he,le,fe,_e,Ee,ke,Ne,je){var Ze=ne,De,Le,Ae;ce>=fe?(De=Ee*fe,Ae=he.slice(De,_e)):(De=ce*Ee,Le=(ce+1)*Ee,Ae=he.slice(De,Le));var Je=function(){K.Lib.isFunction(je)&&je()},He=function(){if(ce>=fe){K.Lib.isFunction(Ne)&&Ne();return}ce=ce+1,Ze.__LoadImageFromBytesForDownloadInner(ce,he,le,fe,_e,Ee,ke,Ne,je)};Ze.__LoadImageFromBytes(Ae,le,"",ke,He,Je,De,_e)},ne.__LoadImageFromBytesForDownload=function(ce,he,le,fe,_e,Ee){var ke=ne,Ne=2*1e3*1e3,je=ce.size||ce.length,Ze=parseInt(je/Ne),De=je%Ne;De==0&&(Ze=Ze-1),ke.__LoadImageFromBytesForDownloadInner(0,ce,he,Ze,je,Ne,fe,_e,Ee)}}var a=function(ne){var X=[],ce,he;return ne._ImgManager.count()<=0||(ce=ne._ImgManager.getCurrentImageIndex(),ne._ImgManager.convertClientIndexToServerId(ce),he=ne._ImgManager.getSelectedClientIndexArray(),e.isArray(he)&&e.each(he,function(le){var fe=ne._ImgManager.convertClientIndexToServerId(le);X.push(fe)})),X},d=function(ne,X,ce,he){var le=e.NewOCRProResult(ne);le._errorCode=X,le._errorString=ce;var fe=e.NewErrorInfo();return fe.input=he,fe.message=le._errorString,fe.page=0,le._errorlist=[fe],le},h=function(ne){var X=e.html5.Funs,ce,he;e.env.bMac?he="DynamicOCRPro_"+K.ProOCRVerInName+".dylib":e.env.bLinux?he="DynamicOCRPro_"+K.ProOCRVerInName+".so":K.dcp.b64bit?he="DynamicOCRProx64_"+K.ProOCRVerInName+".dll":he="DynamicOCRPro_"+K.ProOCRVerInName+".dll",i(ne),ce={OCRPro:{Settings:!1,Recognize:function(le,fe,_e){var Ee=[],ke,Ne,je=ne;if(je._resetErr(),je._isMobileMode())return je._mobileNotSupport("Addon.OCRPro.Recognize");if(ke=parseInt(le),e.isNaN(ke)||!e.isNumber(ke))return Ne=d(ne,-2201,"Invalid parameter type.",le),e.isFunction(_e)?_e(Ne._errorCode,Ne._errorString,Ne):e.Errors.WebviewerError(ne,Ne._errorString,Ne._errorCode),!1;var Ze=ne._ImgManager.convertClientIndexToServerId(ke);if(Ze==-1)return e.isFunction(_e)&&(e.Errors.IndexOutOfRange(ne),Ne=d(ne,ne._errorCode,ne._errorString,le),_e(Ne._errorCode,Ne._errorString,Ne)),!1;if(!e.License.checkProductKey(ne,{OCRPro:!0},!0))return e.isFunction(_e)&&(Ne=d(ne,ne._errorCode,ne._errorString,le),_e(Ne._errorCode,Ne._errorString,Ne)),!1;Ee.push(Ze);var De=[],Le=this.Settings,Ae=ne.__innerGetRequestJson(K.DWT.EnumDWT_OCRProType.OCRDT_Index,Ee,Le,De,he);return ne.__innerIsOCRTrial(function(Je){return Je||e.License.isLTS()?ne.__innerOCRReadFunction("OCRProRecognize",le,"",0,De,Ae,fe,_e):T(Le.LicenseChecker,ne,"OCRProRecognize",le,"",0,De,Ae,fe,_e)},_e)},RecognizeRect:function(le,fe,_e,Ee){var ke=[],Ne,je,Ze=ne;if(Ze._resetErr(),Ze._isMobileMode())return Ze._mobileNotSupport("Addon.OCRPro.RecognizeRect");if(Ne=parseInt(le),e.isNaN(Ne)||!e.isNumber(Ne))return je=d(ne,-2201,"Invalid parameter type.",le),e.isFunction(Ee)?Ee(je._errorCode,je._errorString,je):e.Errors.WebviewerError(ne,je._errorString,je._errorCode),!1;var De=ne._ImgManager.convertClientIndexToServerId(Ne),Le=ne._ImgManager.GetImageWidth(Ne),Ae=ne.GetImageHeight(Ne);if(De==-1)return e.isFunction(Ee)&&(e.Errors.IndexOutOfRange(ne),je=d(ne,ne._errorCode,ne._errorString,le),Ee(je._errorCode,je._errorString,je)),!1;if(!e.License.checkProductKey(ne,{OCRPro:!0},!0))return e.isFunction(Ee)&&(je=d(ne,ne._errorCode,ne._errorString,le),Ee(je._errorCode,je._errorString,je)),!1;if(Le>0&&Ae>0)for(var Je,He,Ge,nt,pe,oe,me=0;me<fe.length;me++)Je=fe[me],He=Je.left,Ge=Je.top,nt=Je.right,pe=Je.bottom,He<0&&(He=0),Ge<0&&(Ge=0),nt<0&&(nt=0),pe<0&&(pe=0),He>nt&&(oe=He,He=nt,nt=oe),Ge>pe&&(oe=Ge,Ge=pe,pe=oe),nt>Le&&(nt=Le),pe>Ae&&(pe=Ae),Je.left=He,Je.top=Ge,Je.right=nt,Je.bottom=pe;ke.push(De);var ye=this.Settings,et=ne.__innerGetRequestJson(K.DWT.EnumDWT_OCRProType.OCRDT_Index,ke,ye,fe,he);return ne.__innerIsOCRTrial(function(Ke){return Ke||e.License.isLTS()?ne.__innerOCRReadFunction("OCRProRecognize",le,"",1,fe,et,_e,Ee):T(ye.LicenseChecker,ne,"OCRProRecognize",le,"",1,fe,et,_e,Ee)},Ee)},RecognizeFile:function(le,fe,_e){var Ee=ne;if(Ee._resetErr(),Ee._isMobileMode())return Ee._mobileNotSupport("Addon.OCRPro.RecognizeFile");var ke,Ne,je;if(le.length==0)return e.isFunction(_e)&&(ke=K.Lib.NewOCRProResult(ne),ke._errorCode=-2201,ke._errorString="File name cannot be empty.",je=[],Ne=K.Lib.NewErrorInfo(),Ne.input=le,Ne.message=ke._errorString,Ne.page=0,je.push(Ne),ke._errorlist=je,_e(ke._errorCode,ke._errorString,ke)),!1;if(!e.License.checkProductKey(ne,{OCRPro:!0},!0))return e.isFunction(_e)&&(ke=K.Lib.NewOCRProResult(ne),ke._errorCode=ne._errorCode,ke._errorString=ne._errorString,je=[],Ne=K.Lib.NewErrorInfo(),Ne.input=le,Ne.message=ke._errorString,Ne.page=0,je.push(Ne),ke._errorlist=je,_e(ke._errorCode,ke._errorString,ke)),!1;var Ze=X.replaceLocalFilename(le),De=[];Ze.indexOf("|")>0?De=Ze.split("|"):Ze.indexOf(";")>0?De=Ze.split(";"):Ze.indexOf(",")>0&&(De=Ze.split(","));var Le=[];if(De.length>0)for(var Ae=0;Ae<De.length;Ae++)Le.push(De[Ae]);else Le.push(Ze);var Je=[],He=this.Settings,Ge=ne.__innerGetRequestJson(K.DWT.EnumDWT_OCRProType.OCRDT_File,Le,He,Je,he);ne.__innerIsOCRTrial(function(nt){return nt||e.License.isLTS()?ne.__innerOCRReadFunction("OCRProRecognize",-1,le,0,Je,Ge,fe,_e):T(He.LicenseChecker,ne,"OCRProRecognize",-1,le,0,Je,Ge,fe,_e)},_e)},RecognizeSelectedImages:function(le,fe){var _e,Ee,ke,Ne=ne;if(Ne._resetErr(),Ne._isMobileMode())return Ne._mobileNotSupport("Addon.OCRPro.RecognizeSelectedImages");if(!e.License.checkProductKey(ne,{OCRPro:!0},!0)){if(e.isFunction(fe)){var je=K.Lib.NewOCRProResult(ne);je._errorCode=ne._errorCode,je._errorString=ne._errorString,Ee=[],ke=K.Lib.NewErrorInfo(),ke.input="",ke.message=je._errorString,ke.page=0,Ee.push(ke),je._errorlist=Ee,fe(je._errorCode,je._errorString,je)}return!1}var Ze=[],De=this.Settings,Le=a(ne),Ae=ne.__innerGetRequestJson(K.DWT.EnumDWT_OCRProType.OCRDT_Index,Le,De,Ze,he);return ne.__innerIsOCRTrial(function(Je){Je||e.License.isLTS()?_e=ne.__innerOCRReadFunction("OCRProRecognize",-1,"",0,Ze,Ae,le,fe):_e=T(De.LicenseChecker,ne,"OCRProRecognize",-1,"",0,Ze,Ae,le,fe)},fe),_e},IsModuleInstalled:function(){var le=ne;if(le._resetErr(),le._isMobileMode())return le._mobileNotSupport("Addon.OCRPro.IsModuleInstalled");var fe=le._innerFun("GetAddOnVersion",X.makeParams("proocr",he));return fe!=""}}},ne.__addon=ne.__addon||{},e.mix(ne.__addon,ce)};e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(h);function g(ne,X,ce,he,le,fe,_e,Ee,ke,Ne){var je=this;je.STWAIN=X,je.AjaxFunctionUrl=ne,je.FunctionName=ce,je.ImageIndex=he,je.FileNames=le,je.Type=fe,je.AryZone=_e,je.JsonString=Ee,je.OnSuccess=ke,je.OnFailure=Ne}K.WebTwain.Addon.OCRPro.NewOCRReadPara=function(ne,X,ce,he,le,fe,_e,Ee,ke,Ne){return new g(ne,X,ce,he,le,fe,_e,Ee,ke,Ne)};function y(ne,X){var ce="",he=ne.responseText;if(he.length==0){var le=K.WebTwain.Addon.OCRPro.NewOCRError();K.Lib.Errors.OCR_LicenseCheckerError(le,X.AjaxFunctionUrl),he=le.responseText}ce=de(he);var fe=ce.split(";");if(fe.length==1)X.OnFailure(-1,he,K.Lib.NewOCRProResult());else if(fe[0]=="true"){var _e=function(Ee,ke,Ne){K.Lib.isUndefined(Ne)?K.Lib.isUndefined(ke)?(X.OnSuccess(Ee),C(X.AjaxFunctionUrl,Ee.GetPageCount())):(X.OnSuccess(Ee,ke),C(X.AjaxFunctionUrl,ke.GetPageCount())):(X.OnSuccess(Ee,ke,Ne),C(X.AjaxFunctionUrl,Ne.GetPageCount()))};X.STWAIN.__innerOCRReadFunction(X.FunctionName,X.ImageIndex,X.FileNames,X.Type,X.AryZone,X.JsonString,_e,X.OnFailure)}else X.OnFailure(fe[1],fe[2],K.Lib.NewOCRProResult())}function T(ne,X,ce,he,le,fe,_e,Ee,ke,Ne){var je=ne,Ze="DTW_AjaxMethod=CheckLicense&Productkey="+Y(K.DWT.ProductKey),De=K.WebTwain.Addon.OCRPro.NewOCRReadPara(ne,X,ce,he,le,fe,_e,Ee,ke,Ne);return N(je,Ze,y,De)}function C(ne,X){var ce=ne,he="DTW_AjaxMethod=WriteOCRCount&OCRCount="+Y(X+"");N(ce,he,w,null)}function w(ne,X){}function x(){var ne=this;ne.responseText="",ne.errorString=""}K.WebTwain.Addon.OCRPro.NewOCRError=function(){return new x},K.Lib.mix(K.Lib.Errors,{OCR_LicenseCheckerEmpty:function(ne){var X=-2601,ce="LicenseChecker cannot be empty.";ne.errorString=ce,ne.responseText=Y("false;"+X+";"+ce+";")},OCR_LicenseCheckerNotConnect:function(ne){var X=-2602,ce="Cannot connect to the LicenseChecker, please check and make sure it's set correctly.";ne.errorString=ce,ne.responseText=Y("false;"+X+";"+ce+";")},OCR_AccessDenied:function(ne){var X=-2603,ce="Access denied.";ne.errorString=ce,ne.responseText=Y("false;"+X+";"+ce+";")},OCR_LicenseCheckerError:function(ne,X){var ce=-2604,he="Error occured in '"+X+"'.";ne.errorString=he,ne.responseText=Y("false;"+ce+";"+he+";")},OCR_HTTPError:function(ne,X){var ce=-2605,he="HTTP Error "+X+".";ne.errorString=he,ne.responseText=Y("false;"+ce+";"+he+";")},OCR_LicenseCheckerUnauthorized:function(ne,X){var ce=-2606,he="You do not have permission to view this directory or page using the credentials you supplied (access denied due to Access Control Lists). Ask the Web server's administrator to give you access to '"+X+"'.";ne.errorString=he,ne.responseText=Y("false;"+ce+";"+he+";")},__last:!1});function F(){var ne=null,X=window;try{ne=new X.ActiveXObject("Msxml2.XMLHTTP")}catch{try{ne=new X.ActiveXObject("Microsoft.XMLHTTP")}catch{ne=new XMLHttpRequest}}return ne}function N(ne,X,ce,he){var le=K.WebTwain.Addon.OCRPro.NewOCRError();if(ne=="")return K.Lib.Errors.OCR_LicenseCheckerEmpty(le),alert(le.errorString),ce(le,he),!1;var fe=F();return fe.open("POST",ne,!0),fe.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),fe.onreadystatechange=function(){if(fe.readyState==4)if(fe.status==200)ce!=null&&typeof ce=="function"&&ce(fe,he);else return fe.status==401?(K.Lib.Errors.OCR_LicenseCheckerUnauthorized(le,he.AjaxFunctionUrl),ce(le,he),!1):fe.status==404?(K.Lib.Errors.OCR_LicenseCheckerNotConnect(le),alert(le.errorString),ce(le,he),!1):fe.status==403?(K.Lib.Errors.OCR_AccessDenied(le),ce(le,he),!1):(K.Lib.Errors.OCR_HTTPError(le,fe.status),ce(le,he),!1)},fe&&X&&fe.send(X),!0}var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function O(ne){var X,ce,he,le,fe,_e;for(he=ne.length,ce=0,X="";ce<he;){if(le=ne.charCodeAt(ce++)&255,ce==he){X+=E.charAt(le>>2),X+=E.charAt((le&3)<<4),X+="==";break}if(fe=ne.charCodeAt(ce++),ce==he){X+=E.charAt(le>>2),X+=E.charAt((le&3)<<4|(fe&240)>>4),X+=E.charAt((fe&15)<<2),X+="=";break}_e=ne.charCodeAt(ce++),X+=E.charAt(le>>2),X+=E.charAt((le&3)<<4|(fe&240)>>4),X+=E.charAt((fe&15)<<2|(_e&192)>>6),X+=E.charAt(_e&63)}return X}function R(ne){var X,ce,he,le,fe,_e,Ee;for(_e=ne.length,fe=0,Ee="";fe<_e;){do X=W[ne.charCodeAt(fe++)&255];while(fe<_e&&X==-1);if(X==-1)break;do ce=W[ne.charCodeAt(fe++)&255];while(fe<_e&&ce==-1);if(ce==-1)break;Ee+=String.fromCharCode(X<<2|(ce&48)>>4);do{if(he=ne.charCodeAt(fe++)&255,he==61)return Ee;he=W[he]}while(fe<_e&&he==-1);if(he==-1)break;Ee+=String.fromCharCode((ce&15)<<4|(he&60)>>2);do{if(le=ne.charCodeAt(fe++)&255,le==61)return Ee;le=W[le]}while(fe<_e&&le==-1);if(le==-1)break;Ee+=String.fromCharCode((he&3)<<6|le)}return Ee}function D(ne){var X,ce,he,le;for(X="",he=ne.length,ce=0;ce<he;ce++)le=ne.charCodeAt(ce),le>=1&&le<=127?X+=ne.charAt(ce):le>2047?(X+=String.fromCharCode(224|le>>12&15),X+=String.fromCharCode(128|le>>6&63),X+=String.fromCharCode(128|le>>0&63)):(X+=String.fromCharCode(192|le>>6&31),X+=String.fromCharCode(128|le>>0&63));return X}function j(ne){var X,ce,he,le,fe,_e;for(X="",he=ne.length,ce=0;ce<he;)switch(le=ne.charCodeAt(ce++),le>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:X+=ne.charAt(ce-1);break;case 12:case 13:fe=ne.charCodeAt(ce++),X+=String.fromCharCode((le&31)<<6|fe&63);break;case 14:fe=ne.charCodeAt(ce++),_e=ne.charCodeAt(ce++),X+=String.fromCharCode((le&15)<<12|(fe&63)<<6|(_e&63)<<0);break}return X}function Y(ne){return O(D(ne))}function de(ne){return j(R(ne))}});/*! 20241010103231
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: Webcam
* Version: 18.5.1
* 
*/var K=self.Dynamsoft||{};K.DWT=K.DWT||{},K.aryAddonReadyFun=K.aryAddonReadyFun||[],K.AddonReady=K.AddonReady||function(e){K.aryAddonReadyFun.push(e)},K.WebcamVerForActiveX="15.0.0.0625",K.WebcamVerInName="15.0.0.0625",function(){for(var e=[K.DWT],t=0;t<1;t++){var i=e[t];i.EnumDWT_VideoRotateMode={VRM_NONE:0,VRM_90_DEGREES_CLOCKWISE:1,VRM_180_DEGREES_CLOCKWISE:2,VRM_270_DEGREES_CLOCKWISE:3,VRM_FLIP_VERTICAL:4,VRM_FLIP_HORIZONTAL:5},i.EnumDWT_VideoProperty={VP_BRIGHTNESS:0,VP_CONTRAST:1,VP_HUE:2,VP_SATURATION:3,VP_SHARPNESS:4,VP_GAMMA:5,VP_COLORENABLE:6,VP_WHITEBALANCE:7,VP_BACKLIGHTCOMPENSATION:8,VP_GAIN:9},i.EnumDWT_CameraControlProperty={CCP_PAN:0,CCP_TILT:1,CCP_ROLL:2,CCP_ZOOM:3,CCP_EXPOSURE:4,CCP_IRIS:5,CCP_FOCUS:6}}}(),function(){K.Lib.WebcamErrors={InvalidParameter:function(e){e._errorCode=-10001,e._errorString="The parameter is invalid."},VideoNotPlayingWhenCapture:function(e){e._errorCode=-10002,e._errorString="To capture an image, the video must be playing."},VideoNotPlayingWhenGetURL:function(e){e._errorCode=-10003,e._errorString="To get the url for the current frame, the video must be playing."},Success:function(e){e._errorCode=0,e._errorString="Successful."}}}(),function(e){function t(i){var a=this;a._Count=0,a._resultlist=[],a._stwain=i}t.prototype.GetCount=function(){return e.WebcamErrors.Success(this._stwain),this._Count-1},t.prototype.Get=function(i){var a=this;return a._resultlist.length-1<=i||i<0?(K.Lib.Errors.Webcam_InvalidIndex(a._stwain,"Get"),""):(e.WebcamErrors.Success(a._stwain),a._resultlist[i])},t.prototype.GetCurrent=function(){var i=this,a=i._resultlist.length;return a==0?(K.Lib.Errors.Webcam_InvalidIndex(i._stwain,"GetCurrent"),""):(e.WebcamErrors.Success(i._stwain),i._resultlist[a-1])},e.NewWebcamValue=function(i){return new t(i)}}(K.Lib),function(e){function t(i){var a=this;a._Count=0,a._resultlist=[],a._stwain=i}t.prototype.GetValue=function(){var i=this;return i._resultlist.length==0?(K.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),""):(e.WebcamErrors.Success(i._stwain),i._resultlist[0].current)},t.prototype.GetIfAuto=function(){var i=this;return i._resultlist.length==0?(K.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),!1):(e.WebcamErrors.Success(i._stwain),i._resultlist[0].auto=="true")},e.NewWebcamSetting=function(i){return new t(i)}}(K.Lib),function(e){function t(i){var a=this;a._Count=0,a._resultlist=[],a._stwain=i}t.prototype.GetMinValue=function(){var i=this;return i._resultlist.length==0?(K.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),""):i._resultlist[0].min},t.prototype.GetMaxValue=function(){var i=this;return i._resultlist.length==0?(K.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),""):i._resultlist[0].max},t.prototype.GetSteppingDelta=function(){var i=this;return i._resultlist.length==0?(K.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),0):i._resultlist[0].step},t.prototype.GetDefaultValue=function(){var i=this;return i._resultlist.length==0?(K.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),0):i._resultlist[0].defaultValue},t.prototype.GetIfAuto=function(){var i=this;return i._resultlist.length==0?(K.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),!1):i._resultlist[0].auto=="true"},e.NewWebcamMoreSetting=function(i){return new t(i)}}(K.Lib),K.AddonReady(function(e,t){e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(i){i._innerSetWebcamValue=function(a){var d=e.NewWebcamValue(i);return a&&e.isArray(a)&&(d._resultlist=a,d._Count=a.length),d},i._innerSetWebcamSetting=function(a){var d=e.NewWebcamSetting(i);return a&&e.isArray(a)&&(d._resultlist=a,d._Count=a.length),d},i._innerSetWebcamMoreSetting=function(a){var d=e.NewWebcamMoreSetting(i);return a&&e.isArray(a)&&(d._resultlist=a,d._Count=a.length),d}}),e.Addon_Events.push("OnFrameCaptured"),e.Addon_Events.push("OnCaptureSuccess"),e.Addon_Events.push("OnCaptureError")}),K.AddonReady(function(e,t){e.product.bHTML5Edition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(i){var a,d=e.html5.Funs,h=e.env.bMac?"DynamicWebcam_"+K.WebcamVerInName+".dylib":e.env.bLinux?"DynamicWebcam_"+K.WebcamVerInName+".so":i._b64bit?"DynamicWebcamx64_"+K.WebcamVerInName+".dll":"DynamicWebcam_"+K.WebcamVerInName+".dll";try{i._innerSend("GetAddOnVersion",d.makeParams("webcam",h),!0,!1,!1)}catch{}(a=i)._innerWebcamValueFunction=function(g,y){return g=this._innerFunRaw(g,y,!1,!1),this._innerSetWebcamValue(g)},a._innerWebcamSettingFunction=function(g,y){return g=this._innerFunRaw(g,y,!1,!1),this._innerSetWebcamSetting(g)},a._innerWebcamMoreSettingFunction=function(g,y){return g=this._innerFunRaw(g,y,!1,!1),this._innerSetWebcamMoreSetting(g)},a._OnCaptureSuccess=function(g){K.Lib.isFunction(this.__OnCaptureSuccess)&&this.__OnCaptureSuccess()},a._OnCaptureError=function(T){var y=T[1],T=T[2];K.Lib.isFunction(this.__OnCaptureError)&&this.__OnCaptureError(y,T)},a._OnFrameCaptured=function(g){var y,T=this,C=K.Lib;T.__videoPause||(y=(y=T.__videoQuality)||60,T.__videoDest&&T.__videoDest.UpdateVideoContainer(T.GetImageURL(-1,-1,-1,0,y))),C.isFunction(T.__OnFrameCaptured)&&T.__OnFrameCaptured(g)},a={Webcam:{IsModuleInstalled:function(){var g=i;return g._resetErr(),g._innerFun("GetAddOnVersion",d.makeParams("webcam",h))!=""},GetSourceList:function(){var g,y=i;return y._resetErr(),e.License.checkProductKey(y,{Webcam:!0},!0)?(g=y._innerFunRaw("GetWebcamSourceList"),y.ErrorCode==0&&g&&1<g.length&&g.splice(g.length-1,1),g):[]},SelectSource:function(g){var y=i;return y._resetErr(),!!e.License.checkProductKey(y,{Webcam:!0},!0)&&y._innerFun("SelectWebcam",d.makeParams(g))},CloseSource:function(){var g=i;return g._resetErr(),this._clear(),g._innerFun("StopCapture")},GetFramePartURL:function(){var g=i;return g._resetErr(),this._isPlaying()?g.GetImageURL(-1,-1,-1,!0,g.__videoQuality):(e.WebcamErrors.VideoNotPlayingWhenGetURL(g),"")},GetFrameURL:function(){var g=i;return g._resetErr(),this._isPlaying()?g.GetImageURL(-1,-1,-1,0,g.__videoQuality):(e.WebcamErrors.VideoNotPlayingWhenGetURL(g),"")},PlayVideo:function(g,y,T,C,w){function x(){return E._clear(),K.Lib.isFunction(w)&&w(i._errorCode,i._errorString),!1}var F=i,N=(F._resetErr(),60),E=this;return K.DWT.UseDefaultViewer?g?e.License.checkProductKey(i,{Webcam:!0},!0)?(F.__videoDest=g,F.__videoDest.ShowVideoContainer(!0),K.Lib.isFunction(T)&&(i.__OnFrameCaptured=T),i.__videoPause?(i.__videoPause=!1,e.isFunction(C)&&C()):(i.__videoPause=!1,i.__videoQuality=y?N=(N=+y)<1?60:N:N,i._innerSend("PlayVideo",d.makeParams(!0),!0,C,x)),!0):x():(K.Lib.Errors.ParameterCannotEmpty(i),x()):(K.Lib.Errors.CannotDoWhenNoViewerJS(i),!1)},PauseVideo:function(){var g=i;return g._resetErr(),this._isPlaying()&&(g.__videoPause=!0),!0},_clear:function(){var g=i;g.__videoPause=!1,g.__OnFrameCaptured=!1,g.__videoQuality=60,g.__videoDest&&g.__videoDest.ShowVideoContainer(!1),g.__videoDest=!1},_isPlaying:function(){return i.GetIfShowVideoContainer()},StopVideo:function(){var g=i,y=(g._resetErr(),this._clear(),g._innerFun("PlayVideo",d.makeParams(!1,0)));return g._innerFun("StopCapture"),y},CaptureImage:function(g,y){var T=i;if(T._resetErr(),!e.License.checkProductKey(T,{Webcam:!0},!0))return e.isFunction(y)&&y(T._errorCode,T._errorString),!1;function C(){d.hideMask(w),e.isFunction(y)&&y(T._errorCode,T._errorString)}var w="CaptureImage";d.showMask(w),T.__OnCaptureError=C,T._innerSend(w,d.makeParams(!1),!0,function(){d.hideMask(),T.ErrorCode==0?(d.hideMask(w),e.isFunction(g)&&setTimeout(g,0),e.License.isLTS()&&K.DWT.lcvrf(i)):C(T.ErrorCode,T.ErrorString)},C)},GetMediaType:function(){var g=i;return g._resetErr(),g._innerWebcamValueFunction("GetMediaType")},SetMediaType:function(g){var y=i;return y._resetErr(),e.isString(g)?y._innerFun("SetMediaType",d.makeParams(g)):(e.Errors.InvalidValue(y),!1)},GetResolution:function(){var g=i,g=(g._resetErr(),g._innerWebcamValueFunction("GetResolution"));if(g&&g._resultlist){var y,T,C=g._resultlist,w=[],x=[];for((T=0<C.length?C[C.length-1]:T)==""&&0<C.length&&(T=C[0]),y=0;y<C.length-1;y++){for(var F,N=(F=C[y]).toLowerCase().split("x"),E=(O=W=E=void 0,{value:F,p1:parseInt(N[0]),p2:parseInt(N[1])}),W=w,O=W.length-1;0<=O&&W[O].p1>=E.p1&&!(W[O].p1==E.p1&&W[O].p2<E.p2);)W[O+1]=W[O],O--;W[O+1]=E}for(y=0;y<w.length;y++)F=w[y].value,x.push(F);T&&x.push(T),g._resultlist=x,x=w=null}return g},SetResolution:function(g){var y=i;return y._resetErr(),e.isNumber(g)||e.isString(g)?y._innerFun("SetResolution",d.makeParams(g)):(e.Errors.InvalidValue(y),!1)},GetFrameRate:function(){var g=i;return g._resetErr(),g._innerWebcamValueFunction("GetFrameRate")},SetFrameRate:function(g){var y=i;return y._resetErr(),e.isNumber(g)?i._innerFun("SetFrameRate",d.makeParams(g)):(e.Errors.InvalidValue(y),!1)},GetVideoPropertySetting:function(g){var y=i;return y._resetErr(),y._innerWebcamSettingFunction("GetWebcamVideoPropertySetting",d.makeParams(g))},GetVideoPropertyMoreSetting:function(g){var y=i;return y._resetErr(),y._innerWebcamMoreSettingFunction("GetWebcamVideoPropertyMoreSetting",d.makeParams(g))},SetVideoPropertySetting:function(g,y,T){var C=i;return C._resetErr(),C._innerFun("SetWebcamVideoPropertySetting",d.makeParams(g,y,T))},SetVideoRotateMode:function(g){var y=i;return y._resetErr(),y._innerFun("SetVideoRotateMode",d.makeParams(g))},GetCameraControlPropertySetting:function(g){var y=i;return y._resetErr(),y._innerWebcamSettingFunction("GetWebcamCameraControlSetting",d.makeParams(g))},GetCameraControlPropertyMoreSetting:function(g){var y=i;return y._resetErr(),y._innerWebcamMoreSettingFunction("GetWebcamCameraControlMoreSetting",d.makeParams(g))},SetCameraControlPropertySetting:function(g,y,T){var C=i;return C._resetErr(),C._innerFun("SetWebcamCameraControlPropertySetting",d.makeParams(g,y,T))}}},i.__addon=i.__addon||{},e.mix(i.__addon,a)})}),K.AddonReady(function(e,t){var i;e.product.bActiveXEdition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(a){var d,h,g;if(!a.getSWebTwain()||!a.getSWebTwain().Addon)return!1;K.navInfoSync.bWin&&(g=!K.navInfo.bOSx64||K.navInfo.bWOW64,i=g?"DynamicWebcam_"+K.WebcamVerForActiveX+".dll":"DynamicWebcamx64_"+K.WebcamVerForActiveX+".dll"),d=a.getSWebTwain();try{d.GetAddOnVersion("webcam",i)}catch{}(g=a)._innerRead=function(y){var T;try{T=K.Lib.parse(y)}catch{}return T.result},g._innerWebcamValueFunctionPlugin=function(y){return y=this._innerRead(y),this._innerSetWebcamValue(y)},g._innerWebcamSettingFunctionPlugin=function(y){return y=this._innerRead(y),this._innerSetWebcamSetting(y)},g._innerWebcamMoreSettingFunctionPlugin=function(y){return y=this._innerRead(y),this._innerSetWebcamMoreSetting(y)},h={Webcam:{IsModuleInstalled:function(){var y=d.GetAddOnVersion("webcam",i);return e.setErrorString(a),y!=""},GetSourceList:function(){var y,T;return e.License.checkProductKey(a,{Webcam:!0},!0)?(y=d.GetWebcamSourceList(),T=[],e.setErrorString(a),a._errorCode==0&&(T=a._innerRead(y))&&1<T.length&&T.splice(T.length-1,1),T):[]},SelectSource:function(y){return!!e.License.checkProductKey(a,{Webcam:!0},!0)&&(y=d.SelectWebcam(y),e.setErrorString(a),y)},CloseSource:function(){a._playVideoDWT=null;var y=d.StopCapture();return e.setErrorString(a),y},GetFramePartURL:function(){var y;return this._isPlaying()?(y=d.GetDIB(-1),e.setErrorString(a),y):(e.WebcamErrors.VideoNotPlayingWhenGetURL(a),"")},GetFrameURL:function(){return""},PlayVideo:function(y,T,C,w,x){function F(){return a._playVideoDWT=null,K.Lib.isFunction(x)&&x(a.ErrorCode,a.ErrorString),!1}var N;return y&&y.getSWebTwain()?e.License.checkProductKey(a,{Webcam:!0},!0)?(N=y.getSWebTwain().CurrentHWND)?(a._playVideoDWT=y,setTimeout(function(){var E=d.RunWebcamCmd("PlayVideo",N,null,null,C);e.wrapperRet(a,E,w,F)},0),!0):(e.WebcamErrors.InvalidParameter(a),F()):F():(K.Lib.WebcamErrors.InvalidParameter(a),F())},PauseVideo:function(){return!0},StopVideo:function(){a._playVideoDWT=null;var y=d.RunWebcamCmd("StopVideo",0,null,null,null);return e.setErrorString(a),d.StopCapture(),y},CaptureImage:function(y,T){function C(){return K.Lib.isFunction(T)&&T(a.ErrorCode,a.ErrorString),!1}var w;return e.License.checkProductKey(a,{Webcam:!0},!0)?(w=d.RunWebcamCmd("Capture",0,function(){e.isFunction(y)&&setTimeout(y,0),e.License.isLTS()&&K.DWT.lcvrf(a)},C,null),e.setErrorString(a),w):C()},GetMediaType:function(){var y=a._innerWebcamValueFunctionPlugin(d.GetMediaType());return e.setErrorString(a),y},SetMediaType:function(y){return e.isString(y)?(y=d.SetMediaType(y),e.setErrorString(a),y):(e.Errors.InvalidValue(a),!1)},GetResolution:function(){var y=a._innerWebcamValueFunctionPlugin(d.GetResolution());if(e.setErrorString(a),y&&y._resultlist){var T,C,w=y._resultlist,x=[],F=[];for(0<w.length&&(C=w[w.length-1]),T=0;T<w.length-1;T++){for(var N,E=(N=w[T]).toLowerCase().split("x"),W=(R=O=W=void 0,{value:N,p1:parseInt(E[0]),p2:parseInt(E[1])}),O=x,R=O.length-1;0<=R&&O[R].p1>=W.p1&&!(O[R].p1==W.p1&&O[R].p2<W.p2);)O[R+1]=O[R],R--;O[R+1]=W}for(T=0;T<x.length;T++)N=x[T].value,F.push(N);C&&F.push(C),y._resultlist=F,F=x=null}return y},SetResolution:function(y){return e.isNumber(y)||e.isString(y)?(y=d.SetResolution(y),e.setErrorString(a),y):(e.Errors.InvalidValue(a),!1)},GetFrameRate:function(){var y=a._innerWebcamValueFunctionPlugin(d.GetFrameRate());return e.setErrorString(a),y},SetFrameRate:function(y){return e.isNumber(y)?(y=d.SetFrameRate(y),e.setErrorString(a),y):(e.Errors.InvalidValue(a),!1)},GetVideoPropertySetting:function(y){return y=d.GetWebcamVideoPropertySetting(y),e.setErrorString(a),a._innerWebcamSettingFunctionPlugin(y)},GetVideoPropertyMoreSetting:function(y){return y=d.GetWebcamVideoPropertyMoreSetting(y),e.setErrorString(a),a._innerWebcamMoreSettingFunctionPlugin(y)},SetVideoPropertySetting:function(y,T,C){return y=d.SetWebcamVideoPropertySetting(y,T,C),e.setErrorString(a),y},SetVideoRotateMode:function(y){return y=d.SetVideoRotateMode(y),e.setErrorString(a),y},GetCameraControlPropertySetting:function(y){return y=d.GetWebcamCameraControlSetting(y),e.setErrorString(a),a._innerWebcamSettingFunctionPlugin(y)},GetCameraControlPropertyMoreSetting:function(y){return y=d.GetWebcamCameraControlMoreSetting(y),e.setErrorString(a),a._innerWebcamMoreSettingFunctionPlugin(y)},SetCameraControlPropertySetting:function(y,T,C){return y=d.SetWebcamCameraControlPropertySetting(y,T,C),e.setErrorString(a),y},_isPlaying:function(){return!!a._playVideoDWT}}},a.Addon=a.Addon||{},e.mix(a.Addon,h)})});/*! 20241010103231
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: Upload
* Version: 18.5.1
* 
*/var K=window.Dynamsoft||{};(function(e){e.DWT||(e.DWT={}),e.Lib||(e.Lib={})})(K),K.aryAddonReadyFun=K.aryAddonReadyFun||[],K.AddonReady=K.AddonReady||function(e){K.aryAddonReadyFun.push(e)},K.AddonReady(function(e,t){K.DWT.EnumTransferErrorCode={TRANS_OK:0,TRANS_URL_MALFFORMAT:1,TRANS_FAILED_RESOLVE_PROXY:2,TRANS_FAILED_RESOLVE_HOST:3,TRANS_FAILED_CONNECT:4,TRANS_REMOTE_ACCESS_DENIED:5,TRANS_PARTIAL_FILE:6,TRANS_UPLOAD_FAILED:7,TRANS_READ_FAILED:8,TRANS_OUT_OF_MEMORY:9,TRANS_REMOTE_FULL_DISK:10,TRANS_OPERATION_TIMEOUT:11,TRANS_SERVICE_ERROR_404:12,TRANS_SERVICE_ERROR_500:13,TRANS_SERVICE_ERROR_503:14,TRANS_SERVICE_ERROR:15,TRANS_NOT_SEND:16,TRANS_WAITFOR_SEND:17,TRANS_SENDING:18,TRANS_PAUSE:19,TRANS_FINISHED:20,TRANS_NULL_POINTER:21,TRANS_INVALID_ID:22,TRANS_Failed:23,TRANS_SERVICE_ERROR_MORE_THAN_500:24,TRANS_SERVICE_ERROR_LESS_THAN_200:25,TRANS_SERVICE_ERROR_MORE_THAN_300:26,TRANS_CANNOT_FINDFILE:27,TRANS_ABORT:28,TRANS_NOT_FINISHED:29,TRANS_TASK_PREPARE_INIT:30,TRANS_TASK_INIT:31,TRANS_BEYOND_MAXSIZE:32};var i=K,a=e.guid(),d=5,h=(K.dcp,[1,8,4,"0926"]),g="upload_"+h.join(""),y={Version:"1.0",HttpVersion:"1.1",ServerUrl:"",FileName:"",VERIFYPEER:!1,VERIFYHOST:!1,BlockSize:10240,ThreadNum:1,OnUploadTransferPercentage:function(X,ce){},OnRunSuccess:function(X){},OnRunFailure:function(X,ce,he){}},T=0,C="",w=function(){T=-2,C="Upload failed because the url to upload to is invalid."},x=function(X,ce,he){T=-3,X?C="Upload cancelled.":(C=ce&&ce!=""?"Upload failed with error: "+ce:"Upload failed.",ce&&ce!=""&&(C=C+"("+he+")"))},F=function(){T=-4,C="Upload failed because the file to upload has invalid content."},N=function(){T=-5,C="Invalid upload job id."},E=function(){T=-6,C="Cannot create an upload job."},W=function(){T=-7,C="The file name is incorrect in the upload job."},O=function(){T=-8,C="Can not cancel all jobs when at least one job is still being created."},R=function(){T=0,C=""};function D(){}function j(X){this.job=X}function Y(X){this.job=X}D.prototype={runWaiting:0,CreateJob:function(){var X={HttpHeader:{},documents:[],formFields:[],bEvent:!1};return e.mix(X,y),X.SourceValue=new j(X),X.FormField=new Y(X),X},Run:function(X){var ce,he=this,le='""',fe=X.ServerUrl,_e="";if(!e.isString(fe)||fe=="")return X.id=-1,w(),!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1),!1;if(!X.documents||!e.isArray(X.documents)||X.documents.length<=0)return X.id=-1,F(),!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1),!1;if(!X.ar||!X.cu){K.Lib.License.isLicenseMixed(null,!0)||K.Lib.License.reparseProductKey();var ke=K.DWT.licenseException;if(ke.code!=0)return X.id=-1,T=ke.code,C=ke.message,!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1),!1;if(K.Lib.License.isLTS())return K.DWT.lglic(K.DWT.EnumInstance.dwt_desktop,"").then(function(De){X.ar=De.ar,X.cu=De.cu,he.Run(X)}),!0;e.product.refProductKey&&(le='"'+e.product.refProductKey+'"')}for(X.Url=fe,delete X.ServerUrl,ce=0;ce<X.documents;ce++){var Ee=X.documents[ce];if(!e.isString(Ee.files)||Ee.files=="")return X.id=-1,W(),!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1),!1;e.isString(Ee.remoteName)&&Ee.remoteName!=""||(Ee.remoteName="RemoteFile")}var ke=X.SourceValue,Ne=(delete X.SourceValue,X.FormField),je=(delete X.FormField,e.stringify(X)),je=e.replaceAll(je,'"',"'");return X.ServerUrl=fe,delete X.Url,X.SourceValue=ke,X.FormField=Ne,fe=['{"id":"',a,'","method":"RunUploadFile","version":"',g,'","parameter":[',le,',"',je,'"'],X.ar&&X.cu?(_e=[',"',X.ar,'","',X.cu,'",0]}'].join(""),delete X.ar,delete X.cu,fe.push(_e)):fe.push("]}"),ke=fe.join(""),he.runWaiting++,K.FileUploader._sendCmd("RunUploadFile",ke,function(Ze){var De;he.runWaiting--,Ze&&((De=Ze.UploadId)&&0<De?(X.id=De,i.FileUploader.map[X.id]=X,i.FileUploader.ids.push(Ze.UploadId),X.OnUploadTransferPercentage&&X.OnUploadTransferPercentage(X,0)):(De=Ze.errorcode,Ze=Ze.errorstring,De&&Ze?(T=De,C=Ze):E(),!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1)))},function(Ze,De,Le){he.runWaiting--,i.FileUploader.parseHttpErrors(Ze,De,Le),!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1)}),!0},Cancel:function(X){var ce;return!X.id||X.id<0?(N(),!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1),!1):(ce='{"id":"'+a+'","method":"DeleteUploadTask","version":"'+g+'","parameter":["'+X.id+'"]}',K.FileUploader._sendCmd("DeleteUploadTask",ce,function(he){i.FileUploader.deleteJobById(X.id)},function(he,le,fe){i.FileUploader.parseHttpErrors(he,le,fe),!X.bEvent&&e.isFunction(X.OnRunFailure)&&(X.bEvent=!0,X.OnRunFailure(X,T,C),X.bEvent=!1)}),!0)},CancelAllUpload:function(){var X=i.FileUploader.ids,ce='{"id":"'+a+'","method":"DeleteUploadTask","version":"'+g+'","parameter":["'+X.join(",")+'"]}';return 0<this.runWaiting?(O(),!1):(this.runWaiting<0&&(this.runWaiting=0),X.length<=0||K.FileUploader._sendCmd("DeleteUploadTask",ce,function(he){for(var le=0;le<X.length;le++)i.FileUploader.deleteJobById(X[le]);i.FileUploader.ids=[],i.FileUploader.map=[]},function(he,le,fe){i.FileUploader.parseHttpErrors(he,le,fe)}),!0)},OnUploadTransferPercentage:function(X,ce){},OnRunSuccess:function(X){},OnRunFailure:function(X,ce,he){}},(i.SourceValue=j).prototype.Add=function(X,ce,he){var le=this.job;e.isString(X)&&X!=""?(he=he||"RemoteFile",X=K.Lib.replaceAll(X,"\\\\","\\\\"),le.documents.push({files:[X],fileName:ce,remoteName:he})):(W(),!le.bEvent&&e.isFunction(le.OnRunFailure)&&(le.bEvent=!0,le.OnRunFailure(le,T,C),le.bEvent=!1))},i.FormField=Y,i.FileUploader={ids:[],map:{},port:18625,protocol:"https://",ip:"127.0.0.1",wsUrl:"",running:!(Y.prototype.Add=function(X,ce){var he,le,fe=ce,_e=X;if(fe==null&&(fe=""),!e.isString(_e)||_e==""||!e.isString(fe)||(fe=encodeURI(fe),-1<(_e=encodeURI(_e)).indexOf("'")||-1<fe.indexOf("'")))return!1;for(he=0;he<this.job.formFields.length;he++)if((le=this.job.formFields[he]).name==_e)return le.value=fe,!0;return this.job.formFields.push({name:_e,value:fe}),!0}),ws:null,nextLoopTime:600,deleteJobById:function(X){var ce;if(R(),X){for(ce=0;ce<i.FileUploader.ids.length;ce++)if(X==i.FileUploader.ids[ce]){i.FileUploader.ids.splice(ce,1);break}var he=i.FileUploader.map[X];for(he.SourceValue.job=null,delete he.SourceValue,he.FormField.job=null,delete he.FormField,delete i.FileUploader.map[X],ce=he.documents.length-1;0<=ce;ce--)he.documents.splice(ce,1);for(ce=he.formFields.length-1;0<=ce;ce--)he.formFields.splice(ce,1);var le='{"id":"'+a+'","method":"DeleteUploadTask","version":"'+g+'","parameter":["'+X+'"]}';K.FileUploader._sendCmd("DeleteUploadTask",le)}},_sendCmdByWS:function(X,ce,he){var le=i.FileUploader.ws;return le&&le.readyState!=K.DWT.EnumDWT_WebsocketReadyState.CLOSING&&le.readyState!=K.DWT.EnumDWT_WebsocketReadyState.CLOSED||(le=K.DWT.NetManager.newWebsocket(i.FileUploader.wsUrl),i.FileUploader.ws=le),K.DWT.NetManager.postStringDataByWS(le,X).then(function(fe){fe=e.parse(fe),fe&&"result"in fe?e.isFunction(ce)&&ce(fe.result):e.isFunction(he)&&he()},he),!0},_sendCmd:function(X,ce,he,le){return K.DWT.ConnectWithSocket?i.FileUploader._sendCmdByWS(ce,he,le):(X=[i.FileUploader.protocol,i.FileUploader.ip,":",i.FileUploader.port,"/dcp/",g,"/",X,"?type=1&dsver=",h.join(""),"&ts=",e.now()].join(""),e.ajax({url:X,method:"post",dataType:"json",processData:!1,data:ce,onSuccess:he,onError:le}))},parseHttpErrors:function(fe,ce,he){var le,fe=fe&&e.isArray(fe)&&2<fe.length?(le=fe[1],fe[2]):(le=ce,he);fe.state==2&&fe.status==0?fe.statusText==="abort"?x(!0):w():x(!1,le,fe.status)},loadHttpBlob:function(X,ce,he,le,fe,_e,Ee){X={method:X,url:ce,dataType:"blob",async:he,onSuccess:le,onError:function(ke,Ne,je){i.FileUploader.parseHttpErrors(ke,Ne,je),e.isFunction(fe)&&fe()}},e.isFunction(_e)&&(X.beforeSend=function(ke){ke.addEventListener("progress",function(Ne){delete Ne.totalSize,delete Ne.position,_e(Ne)},!1)}),e.ajax(X)},_OnPercentDone:function(){},Init:function(X,ce,he){if(R(),!K.Lib.detect.bOK)return--d<=0?(e.isFunction(he)&&he(),void(d=5)):void setTimeout(function(){K.FileUploader.Init(X,ce,he)},300);function le(){var fe,_e=K.navInfoSync.bSSL?(fe="https://",K.dcp.SSLPort):(fe="http://",K.dcp.Port);i.FileUploader.port=_e,i.FileUploader.protocol=fe,i.FileUploader.ip=K.DWT.Host,i.FileUploader.wsUrl=K.DWT.NetManager.getWsUrl(K.DWT.Host,_e),i.FileUploader.running=!0,e.isFunction(ce)&&ce(new D),setTimeout(i.FileUploader.StatusLoop,500)}K.dcp.detect.bConnected?le():K.DWT.NetManager.checkModuleManager(le,function(){--d<=0?(e.isFunction(he)&&he(),d=5):setTimeout(function(){K.FileUploader.Init(X,ce,he)},500)})},Close:function(){var X;K.DWT.ConnectWithSocket&&(X=K.FileUploader.ws)&&(X.readyState!=K.DWT.EnumDWT_WebsocketReadyState.CLOSED&&X.readyState!=K.DWT.EnumDWT_WebsocketReadyState.CLOSING&&X.close(),K.FileUploader.ws=null),K.FileUploader.running=!1},VersionInfo:function(X,ce){R();var he='{"id":"'+a+'","method":"VersionInfo","version":"'+g+'","parameter":[]}';return K.FileUploader._sendCmd("VersionInfo",he,X,function(le,fe,_e){i.FileUploader.parseHttpErrors(le,fe,_e),e.isFunction(ce)&&ce(T,C)}),!0},StatusLoop:function(){return R(),i.FileUploader.GetUploadStatus(),i.FileUploader.running&&setTimeout(i.FileUploader.StatusLoop,i.FileUploader.nextLoopTime),!0},GetUploadStatus:function(){var X;return R(),i.FileUploader.ids.length<=0||(X='{"id":"'+a+'","method":"GetUploadStatus","version":"'+g+'","parameter":["'+i.FileUploader.ids.join(",")+'"]}',K.FileUploader._sendCmd("GetUploadStatus",X,function(ce){if(e.isArray(ce))for(var he=0;he<ce.length;he++){var le=(Ne=ce[he]).id,fe=i.FileUploader.map[le],_e=Ne.percentage,Ee=Ne.errorcode,ke=Ne.response,Ne=Ne.errorstring;fe&&(Ee==K.DWT.EnumTransferErrorCode.TRANS_FINISHED?(fe.OnUploadTransferPercentage(fe,100,ne(ke)),!fe.bEvent&&e.isFunction(fe.OnRunSuccess)&&(fe.bEvent=!0,fe.OnRunSuccess(fe,ne(ke)),fe.bEvent=!1),i.FileUploader.deleteJobById(le)):Ee==K.DWT.EnumTransferErrorCode.TRANS_OK||Ee==K.DWT.EnumTransferErrorCode.TRANS_NOT_SEND||Ee==K.DWT.EnumTransferErrorCode.TRANS_WAITFOR_SEND||Ee==K.DWT.EnumTransferErrorCode.TRANS_SENDING||Ee==K.DWT.EnumTransferErrorCode.TRANS_PAUSE||Ee==K.DWT.EnumTransferErrorCode.TRANS_TASK_PREPARE_INIT||Ee==K.DWT.EnumTransferErrorCode.TRANS_TASK_INIT?fe.OnUploadTransferPercentage(fe,_e,ne(ke)):(!fe.bEvent&&e.isFunction(fe.OnRunFailure)&&(fe.bEvent=!0,fe.OnRunFailure(fe,Ee,Ne,ne(ke)),fe.bEvent=!1),i.FileUploader.deleteJobById(le)))}},function(ce,he,le){})),!0}};var de=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function ne(X){for(var ce,he,le,fe,_e=X.length,Ee=0,ke="";Ee<_e;){for(;ce=de[255&X.charCodeAt(Ee++)],Ee<_e&&ce==-1;);if(ce==-1)break;for(;he=de[255&X.charCodeAt(Ee++)],Ee<_e&&he==-1;);if(he==-1)break;ke+=String.fromCharCode(ce<<2|(48&he)>>4);do if((le=255&X.charCodeAt(Ee++))==61)return ke;while(le=de[le],Ee<_e&&le==-1);if(le==-1)break;ke+=String.fromCharCode((15&he)<<4|(60&le)>>2);do if((fe=255&X.charCodeAt(Ee++))==61)return ke;while(fe=de[fe],Ee<_e&&fe==-1);if(fe==-1)break;ke+=String.fromCharCode((3&le)<<6|fe)}return ke}});/*! 20240828181423453
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
* Version: 18.5.1
*/(function(){var e=620;K.navInfoSync.bMobile&&screen.width<620&&(e=screen.width-10),K.OnWebTwainNotFoundOnWindowsCallback=function(i,a,d,h,g,y,T){var C=K,w={default:a};C._show_install_dialog(i,w,d,K.DWT.EnumDWT_PlatformType.enumWindow,h,g,y,T,!1)},K.OnWebTwainNotFoundOnLinuxCallback=function(i,a,d,h,g,y,T,C,w){var x=K,F={default:a,deb:a,rpm:d};w||(w=K.DWT.EnumDWT_PlatformType.enumLinux),x._show_install_dialog(i,F,h,w,g,y,T,C,!1)},K.OnWebTwainNotFoundOnMacCallback=function(i,a,d,h,g,y,T){var C=K,w={default:a};C._show_install_dialog(i,w,d,K.DWT.EnumDWT_PlatformType.enumMac,h,g,y,T,!1)},K.OnWebTwainNotFoundOnAndroidCallback=function(i,a,d,h){var g={default:"https://demo.dynamsoft.com/DWT/Resources/dist/DynamsoftServiceSetup.apk"},y=Math.random(),T=K.DWT.ServiceInstallerLocation;if(K.Lib.isString(T)&&T.length>0){var C="";T[T.length-1]!="/"&&(C="/"),g.default=[T,C,"DynamsoftServiceSetup.apk"].join("")}g.openService="intent://dynamsoft.com/#Intent;scheme=http;package=com.dynamsoft.mobilescan;S.timestamp="+y+";end",K.DWT.Host="local.dynamsoft.com",K._show_android_install_dialog(g,h)},K.OnMobileNotSupportCallback=function(){var i=[];K.DWT?(i.push('<div class="ds-dwt-ui-dlg-android" style="padding-bottom:30px">'),i.push("Service Mode does not support your Operating System, please contact the site administrator."),i.push("</div>"),K.DWT.ShowMessage(i.join(""),{width:335,headerStyle:1,backgroundStyle:1})):console.log("The Dynamsoft namespace is missing")},K.OnHTTPCorsError=function(i){var a=["<div>",i,"</div>",'<div style="margin-top:10px">To fix the issue, please update your website to HTTPS or refer to <br /><a target="_blank" href="https://www.dynamsoft.com/web-twain/docs/faq/http-insecure-websites-in-chromium-browser.html?ver=latest">this article</a> for other workarounds.</div>'].join("");K.DWT.ShowMessage(a,{width:e,headerStyle:2})},K._show_install_dialog=function(i,a,d,h,g,y,T,C,w){var x=K,F,N,E,W=K.DWT.EnumDWT_PlatformType,O=h==W.enumLinux||h==W.enumEmbed||h==W.enumChromeOS||h==W.enumHarmonyOS,R={icn_download:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAABqxJREFUaEPlm01y2zYUxwHJe6cniHMCU7K7tnoCK8uuYp+gzglsn8DOCapuuo1ygsjr2hKz6jLKtpvY61pA/g8ARZDiBwiCnMyYM5omKQnih/fw8L7I2Qu7eNe8o9GvJ/QOKUU0GPBX+s9swrl8ZIzH9Hch5JrzwVrK/59iXF3OKThwFEUHjA1PBgM21WAa0vWSkuDZQgg+Z+z5DvxYmHBXMOAoOnoHuAtMNrKnB4AvkOQjJArJcTV5IdgCcn4Fiat7cQ8WieMnDzDG6yyenAP+Qxzf45n2V2tggE4BeYOJYsL6AsAn/CAhsYCE1k2mCQ2B6g8mUvIzjHmYjskWUj6/b6vy3sBRdAx1ZZf4TQzkN0BexfFy1gSw6l6wQwv2LrCE+PF9s5wzITbXTRcyeY8X8Hh8fIMBMAmF+gSjcxESNL8IKTi7NIv7iMWFtJsvbiNg/eLhn1jtqZnUtRDPt6ENS5nUySByPryFqp+ae66Wy/vrJhrlDKxftvdRGyWSKp+GMiRNJkz3jsdjaNeAtIw0jFSc9raTNXcCJkOClf1MRwxZXSk3Z22NR1PIXTU/muLog73g+zj+Yhi031yga4GNGq00LLvDwJCs22q2hap73ghiTkcZQa9W96O6ZyqBac9CjSFZFhEsBlQW+We6jF1ZaysuZ8vlw3nV/CqBx+Ojj2SgjBpPfhbJFlhxnN3DhYYW75fL5W0ZdCkwYPEQ/0MbqA3BdurjttWaKBqfwWHBCaJ887dx/ADHZ/cqBCanAgbhs36YwRiEcevaQtU9D//gCvdcQiNxTm/eFGlkIfBodEz7lvbrNc45GiToNRodxRQgYL8Z5yXc8Jj7AmNThFY49x1g8o3h1GPvKlU+6GLfQhKSELGYtadE06VItNNIeZR3QXdeiNX/SoGAEOLcx3VzmWCXwPR+MMzA8A7Qf61WD2f2nDLAycbHjd9w44HL5H3u6RqYfAcEHV+1DXqmvbxO5pkBhv7DwWBRl9KlF3cNbEsZW/ODbSu2wPaqdLG3bE3oAzjdy1kPzALW5xgF71DnJBry0djaZ/oA1pp0RHmzfVutt8DY6OSTnnatzn2pdFatU+/LBv5OAUJ+k9eKy+OGviRsGeGt1ipg6+z6AnXOJOE8eGof6Q9YpYi+22d+DrifiKgv4KLto4DTDELWhNeKyvOGPoG1G8sPsVXJ64oNsHa68evEd86vS7/A2rdOgqCXCZxEGH2Fgn1KOAkZE+1VEk7P4PLA2XO7Fj7WL3CSyNBn8ctU6bzYfaSpffHhjSmDVKaDXCWsHQd+UpeYq5pvfruac3jrR+/Ej67wydFmAm/KEZdCuwBnc1T6SHGdi31fGt/rMDGo42EF3pRTKoWuA87CtktE5N9lgKlEubeiYjRcyzc+K5k84wJdBRwSNg155RO2hSrM28EDKu/8deKRdAldBhwS1vYg7VSPDazyQHWJbNeFqJJ0EXBo2Oxxm24LKwGgs5WuNRoX8DLoPHAXsKamrCIlaO0vSfbVTvFsQyn7Bhew6mNhm0HcGjIbuAtYmk+SbqYykR3y5pJ4OusROojIS5oMpF55cZ6WR9pZ4/yip8WEbK0pl6bVJZaqUoWvxG1ojKEtJsKYBDxkDjwtFe0WEwoS8dWlCl9gY0SUYYRkGSTbCax+T3mpqKDUos9ks9kzSew2sNY5/Tegf+9Csnrvbr1GdBVtonypqKSYpg0NkthzHNhvQ4DaY4xG4/+wbf6N45VqSwx16QL+kLoVSktFhcAmEKDOudoCc6jJhhjHLuCXJSNLq3euBeYQEw0xhmsBvxSYJpErMFdGQCEm7TtGVjjVBfxKYNuyNmkN8p24z3N2S5VL1aQW2BgCZP74oUus6zNp32dsyRbVgovGrQXWpl5ZPwvar8/RF6zoObvf0xWWxnECts5Qc1ypf2nc5xgCON/v6aLG9nsbAWtDlvY5Yl+jh5mhlbefLh/dhM6udG+2X79nY2Ct4mmfo1491eDp3cNcJ/mC3mzvfk8v4GRfFzVvSzmYrVb/3NVB1P1/Ul3G9k4gUfqsYKKWFb0nbZvQvYGTCZvmU1IzuKJG3mgMwyTxrQJ927D55Nr6ZD4QOUVcAcBtTzahPuHvtyF6s1sD2+DIS19gT+MbiPyHGurTHUqzqp5makrDf6g719Si1ccd2JfZi4J3fByC7SJmrotWpznBgO0XaV98gKZUTp/xJN3rdXNRksQizAGKBRHzUJD2izsBLiIjjwh7UgX+WmXFoxADk1x/Xvt+tOGwiplbegNuOrGu7v8BEbL8eSr8LDEAAAAASUVORK5CYII=",icn_install:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAAB51JREFUaEPtW91V20gU1sje5yQVhK0AY3iPUwGkgiUVhFQQqCBQQZwKAhXEvIPtrSDeCgLPizX7ffPjGY1lz0iWDQ+rc3zg6Gd0v/s/916JbItHr3d0nOdZj6+QMhuYV70WYnFuinMPPI9zI/4timw6nd7dbIss0ebCvV5vL8s67wDyBBDw2+SQ1wB/nWXzW3BgtslK/rOtAIYkB5DQF/ysFNU7pJR/CyFAtJKckmCWPT0AACWbgUGQfvc1/weT1LN45gTP7PtEQjtG+F1A8maN5vA3ArwMVD5q4iRAFtfApdS17gE+gAk5geNHRohXmhlc++mzZVjddXl/I8BU3TzvfMHjp/ql8hH/X47Hd+dNiIg90+8fYV15ZoHj/2FRzCHx+qpeG3Cvd0iufwP3IQUNtCieLptKMwbWXqfU87wL0BkYrVT/ARL/OJ3eK5NJPWoBBthPeS4uzQtvpJyfNeFyKnFV91G7hOhcguHHvF4UEjTcX6WumQy43z/85lS4+DwejxXw5zr6/T6knX81JjUcj+8/ptASBUxVEqL7U8dO+Qhve1pXjVIIaXIPzQvefUjbhnpP4dDex0xrLWAfLGzmH6jwySYesgmo2DMMbVDxa6j4W4KeTO4O1j2zFrBVYwO2F+NejLhtXdeC6UwJmh58nXqvBOxshGo8H7w0yYbMo6QRKkc6dK32MZWAtW2IH8YLfngpNhvTkBS6lwAbtz/RcXb33thmb1BN2CZpsBmWHILx32OgrWbqOD0/CMPmEuCDg8MhXvQXHriZTO433ADEyHPXdWLRYehb+U7E3CRtAwY6sWNg+A4Mpz4VJcDkLtz8Tx1+5nRSs3SSm98Zhj68/7woCmZQDzYkciMCidGXRPNznfp2f2mTfKKU1WaFRwnwwcER4+0A5y+2lRdXscXTKoJi6JsFIXEBlnaKNd7Gsiudf2dfuOFAqHq/BDiQ7l4KJ5vLtKTKldIA8+FHsp4v2V6vf5rnOdR+WXIhLcZEoKHiFZIlJCR6a7mQ8HNJ10mibG84Lw2wN2S+D5bnq+wzBF0lZQXY6bx8RNBWnnFXh1XnMCJYwDAt4YM1RYV9qOotVJXmt/ZA8gSbp5Sf/qSpGMBaVXbtmUmpBQwnha3eeGipt4B9NJSqlGJIx5qSRpr1lce26yvA1o2HL41xr43rVu2wVslRwsRGsOF37h3yCtp3ZpMLShohBxua9YfVDitMBTi0l9gibV03iT8iQ3qSAxVFBshYnZYUmcLBb9JM84B96DQylWPbAJvigPheZ8sqT0iOJNBgbiz2mbiIVSrVFrCqdXzJpoIFnSztnHO9uqbnY/QAp6nIpoyIgXUpJt8kkCFJxOKMefVeE7DGZMkoMuxCWOfgB+dNQa16PgWsq66EqzTfptqkiqFsZ4DrgNXZlbxEqNyD+s6gxKNN8voA8OEvqosNzNuQbn2waZuEVFp1caA7YeymDasUji47dYE69z03WEurxblVwC8FrHFcSrCw4cMZi19tq/RLAutUGs29Nrw0Nx+mTToAE7H5EKgRyzNmUFVxdtVet46p1Lm3VS8N22D1nz2fpeMlgCVRJcDITdEyEZ9Sc1OLKqxBMTkXQo6KQsx0r1c8hFWTXUvWc1gu8WiaWrokPi0heC6wxmE5wG7zEG9TOOnaunVase85wZJmWy5SmwffZcNTq3JKzCHY/XOqGXhl0+TKY4yG1OtL20PNAV3HTd2F+PtnFdsW3UVNRlgpdJEgra6cCiblvsoCQHgytpAPeFWy72duTf1EjI6U66EwS0U8tidQNnkTW8gCVrlpUEqtSlWbRoIYHSnXAfg384FSEc8Ytq0hRYvwzob1aJLtCPjVRV/CuN9sUFx9OIXYTe/xyrSLCudiw+CCs2pCsaS50nl5JlAJFmxQBTftEPVoAnvM0J69TUGkPq8jQ4eMhnQrCvF1pUwgcHLo6JWL5H52Ve4U7NZhVUlXOVifY16SXdlqrOKua9Eo78w5iw+YrtuHbSOX1tN1qd4/VXqx+5KbaVrKul0K8q+hliB+/VGepgnvZWLCsSJXYI+t18Z1mwVG26V8meZOB8Wz9aMDZc3grKU8xTOYoWLRTcB7FxgO1SrfBojUNYJRjaWW7/8jD5aTwegA558WTeVUbu/yvtQuxto6lteonpl5iZ2qZyrDTAjiXMperLAfLdzZNgUWImjMWLwsSRvJ/jBgow22KGDDPWRhAj3ZZhOsqZKqe58/2Zs6AxIFbIlw4ar+BGtdICn3B5O9S9M6q9ZIBswFgglWhJ05p9NnKQS2dY8Jm6ij2fGmej2xWoB1nHYTrAYERoyerrYdb81GHrU33UFsOtlbG7BNTpCYn+uMTE+n439+AnDRliT9ddgqtWVf8z6MPszPm2hXI8CWGO0hu5hO16MJGniGyqX6/OamqdQpTdS5+c3TCb938kYQb5GrI1VtHik2AuyAq894IHF/JkNvJnBOfZOAdHOk//77aAnWDPtDfbGClHSgr2f8pqI0u8E2J36Q6DN/xhOqr+5A5JQIP8FR3yQ0PVjnxg/M2qxVGr6/FQmvAmVKwEpa7lM8iY25/hCLsZMFey1h+ymehALU+1KlDlP/Axl/TQ2HYDZNAAAAAElFTkSuQmCC",icn_scan:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAACBBJREFUaEPNW7tuG0cU3VkynQHbVdJF/gJTtLsEsIw06SQB7i0XqW1/gekuqSL3AUx/gaUvMAUknUXRboRUpj8gsNQEBkLu5Jx57ItLzswO9ViAEMXdmbln7p37XpFc4NXr3d9O06THJaRMtsxSt4TIf5vgtzP+jt9G/JtlyWQyeX94UWSJdU7c6/U2kqTzACB3AAGfmEseAPxBksyPsAPTmJnKY9cCGJzcAode4GO5qNaQUn4QQoBoxTnFwSSZnQEAOZtgg8D97i1+xyapsRizgzF3y0RCOkb4vATnzRzt4UcBXgQqzzVxEiCzA+BS4hp6YR+wCSmB48ONEDf1ZnDu2XO7YaHz8vlWgCm6adp5geF7elF5ju/74/H7QRsiXGP6/fuYVz6zwPF9mGVzcDxc1IMB93r3uOuvsfvgggaaZbP9ttx0gbX3yfU07QJ0go1Won8Gjj+ZTI7VkfG9ggAD7NM0FftmwUMp58/a7LIvcU3PUbqE6Oxjw7d5P8skaDh+5TunN+B+/97rQoSz5+PxWAG/qqvf74Pb6e/mSA3H4+MnPrQ4AVOUhOi+07ZTnkPb7oWKkQ8hbZ7h8YJ2H/JsQ7wnUGgPXUdrJeAyWJyZzxDhnRgN2QaUawxNG0T8ACL+PUGfnLzfXDVmJWArxgZsz7V7LuIu6r5mTGdC0NTgq8R7KeDijFCM51vXjbP1zSOnYSpH2nQt1zGNgPXZEG+NFty9LmfWJSE+dC8ANmr/RNvZMG1sRItjN1zE2fs4LvmjUIzwn+ewre08NE5kJVPb6flm3WwuAN7cvDcEwY8x4PDk5DgoAKCrCa35zhds03O+2nbVGsBAJbYNDG+AYa/8bAVwQbA6t1RS0xDi7XgQfQRtueUzVruNyQsQ9xv+/szAIRa0dn27n/SRnJHLKljhVQG8uXmf9paEvmzjF8cA5pp0UaFtR+sAXWxkMsLmP1wAXOPuRptzFAuYm2z0QA7aZVeXSZH2vTuQUHETzhIcEh1a5hyO5S4niwMsh1KmQ84jZXYDkvYHvn4npciJ9Tki5WeauKwAFzIvz2G0VUDe5tK2sHsSdobLPvHiqrPZ7JePHycE3+qC84SYnFye3aFOMoD7e2mavm6jmetUYAGEi8nI13YbMzgAURvVuSQ3/sbXr//+dHp6+rkVWgyyGjvLMpi78VABrv/oM7nOSnSZv1JJusu6mORDmuiDrwXp9arMVIAh68r6g+23fZRVNQlwWVCLdbRTIZHqGQ9dq5vEwRc+B6UohHXHmHCDkfbiFiTiE70pBhX0jiCOrXJXLmIX78tb0A/MdSEyUp4Uz6VzbdDLwOIukgW7wmoyTO5le61iYmxMBWcU3mMjIW98RS0cbDECAKYEXTY3q+YrYywB9vOby6YHATd2u0NuK80esusxgKkYIVVPfX39CmDYXxj55IHvblUBZ0Ot3ZMjwEWuyX/X4wBrd9RfKrWPTzpFHGC5zzCSnCUAcrruu8YAWzY2/BhWAGsFZA2zi8C6N2WjKz1OvsK5Zir1Qq9wwLlDNOEZViaJKtuHyib3UdeUElbBpj5zxD4TCpjrWZxrARwLIHR8FOBCxWtf07W4K0AwGQdVC4q9YDdReFtMsocCLnx8FPdilFY9yC9sdCzUYnyT9QgHvCYtvQjYTkwPTAxjYEPz7y0zc1GAQ414IdJyClf0ThmUS9xDNmCV5OEeEoVJz9d3WOJp+bmWWuPpGFOXLQUTZsoOI3BHPMxqovwLZ+9HXRX4Jug8S/nfOXNQ8PH/xFw/sFgmRKpyUuA6shgSiUVdpvU1pRXARfDgLlNYDpUmqDCNGVfsPAn7B5mKR20zmIxdUSj7FeO/tXMuSoe/zS8kAsFD2Ub5hocco8VX7gBYHmFpDqio5G/0ZiAD2aHPG5hBUVEQuKrqRZyLbRN5RCSEnAQmGFhXLsJDEt8mAdB0Hi/rDIfogsYEQP3HkAmvQmmF0NeY4rFJPAYB0Ly3QyZcBhihI8USee4wkdYhptiFLhiERHHLaAbgLyaoKZJ4Wqx1mIivXokAl0gTcFHNC9lCVj1U90404FKaNq+E5AFDyb56p07qMK7TGTYJfZWcaEzEr4PL1wlwE3eJsVZMs3Fjc6nRJZjXBbB3Mc2YKFUuhftwgGB+1wWyqrR01Q6KZwrHYS9k7OKzGelgYqJS/fOZE54givkCPoKjXKodCtVlB1dudevACq2oUqI+hLmeYRoYVmPD9Vz5fq1VY6Hku/aWB71hKXY3DSqm10EJkaEbQPVrQlr8rlYtD3bqWusA+5/yorLf8pf7lGlfMnY/sKnFklpqf5iafglnlv9yYerVyr0lTee2TJMzcWfLFFREAI2OnuvFacPZt6b04ywXOQFXK/LtOlgviuvloh5rY2AI+8lWSqETcF28+X9oB+tFAK519i506yxb0xswJ6h1sLKnit3p3lp0HcCN2UQXrX2nwq8mZtcOAqwVRNHBaiYZwDl45RKlWLCmzosCWjLQc7Xr7A0GbLQim7QRzdAj01VDfOcrAC9jgTWNh1/MPi6Em3mV8g3O66CNdLUCbInSGrKL3ioVVhrgyci8fnPYluu6naLDd57gwCR4Y8YCTY4YdsZYiijABXD1Go+KX8scYked7hDgZoiR/quzkkZS8qwmclVb+j4r/NW+EZY58QFHr/g1nrr46aJaSo6wLUG9k9D2YkcRPtisDB1B61OMa+HwMlDGt1VZzeJVPIlmbh1c0Hba/pDiVTwJfGFvqoRs6v/IOTkNXX2kbQAAAABJRU5ErkJggg=="};if(w?N="Please update your document scanning service":N="Please download and install the Dynamic Web TWAIN service",F=['<div class="dynamsoft-dwt-dlg-title">',N,'</div><div class="dynamsoft-dwt-dlg-title-error" style="display:none"></div>'],x.DWT){var D=K.navInfoSync.bFirefox;O||D?E="RESTART":E="REFRESH",F.push('<div class="dynamsoft-dwt-installdlg-iconholder"> ');var j="134px";F.push('<div class="dynamsoft-dwt-installdlg-splitline" style="left: '+j+'"></div>'),F.push('<div class="dynamsoft-dwt-installdlg-splitline" style="left: 328px"></div>');var Y="133px";if(F.push('<img style="margin: 0px '+Y+' 0px 0px" src="'+R.icn_download+'" alt="download" />'),F.push('<img style="margin: 2px '+Y+' 2px 0px" src="'+R.icn_install+'" alt="install" />'),F.push('<img src="'+R.icn_scan+'" alt="scan" />'),F.push('<div><span class="dynamsoft-dwt-installdlg-text" style="right: 160px">Download</span>'),F.push('<span class="dynamsoft-dwt-installdlg-text" style="right: 18px">Install</span>'),F.push('<span class="dynamsoft-dwt-installdlg-text" style="left: 140px">Scan</span>'),F.push("</div>"),F.push("</div>"),d&&O){F.push('<div style="margin:10px 0 0 60px;">'),F.push('<div id="dwt-install-url-div">');var de=K.navInfo.bArm64,ne=K.navInfo.bMips64,X=K.navInfoSync.bChromeOS,ce=K.navInfoSync.bHarmonyOS;de||ne||X||ce||(F.push(`<div><input id="dwt-install-url-deb" name="dwt-install-url" type="radio" onclick="Dynamsoft._dwt_change_install_url('`+a.deb+`')" checked="checked" /><label for="dwt-install-url-deb">64 bit .deb (For Ubuntu/Debian)</label></div>`),F.push(`<div><input id="dwt-install-url-rpm" name="dwt-install-url" type="radio" onclick="Dynamsoft._dwt_change_install_url('`+a.rpm+`')" /><label for="dwt-install-url-rpm">64 bit .rpm (For Fedora)</label></div>`)),F.push("</div></div>")}F.push('<div><a id="dwt-btn-install" target="_blank" href="'),F.push(a.default),F.push('"'),d?F.push(' html5="1"'):F.push(' html5="0"'),F.push(' onclick="Dynamsoft._dcp_dwt_onclickDownloadButton()"><div class="dynamsoft-dwt-dlg-button">Download</div></a></div>'),d?g?(F.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left; padding-left: 80px">'),F.push("If you still see the dialog after installing the Dynamsoft Service, please<br />"),F.push("1. Add the website to the zone of trusted sites.<br />"),F.push("IE | Tools | Internet Options | Security | Trusted Sites.<br />"),F.push("2. Refresh your browser."),F.push("</div>")):O?(F.push('<div class="dynamsoft-dwt-dlg-tail">'),F.push('<div class="dynamsoft-dwt-dlg-red">After the installation, please <strong>'+E+"</strong>  your browser.</div>"),F.push("</div>")):F.push("<div><br /></div>"):(F.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left; padding-left: 80px">'),F.push("After the installation, please<br />"),F.push("1. Restart the browser<br />"),F.push('2. Allow "DynamicWebTWAIN" add-on to run by right clicking on the Information Bar in the browser.'),F.push("</div>")),x.DWT.ShowMessage(F.join(""),{width:e,headerStyle:1})}else console.log("The Dynamsoft namespace is missing");K.DWT&&K.DWT.OnWebTwainNotFound&&K.DWT.OnWebTwainNotFound()},K._dwt_change_install_url=function(i){var a=document.getElementById("dwt-btn-install");a&&(a.href=i)};var t=0;K._dcp_dwt_onclickDownloadButton=function(){var i=document.getElementById("dwt-install-url-div");i&&(i.style.display="none");var a=document.getElementById("dwt-btn-install");if(a)if(a.getAttribute("html5")=="1"){var d=a.parentNode,h=document.createElement("div");h.id="dwt-btn-install",h.style.textAlign="center",h.style.paddingBottom="15px",h.style.fontSize="14px",h.innerHTML='Please proceed with the installation. Once done, <a href="javascript:void(0)" onclick="Dynamsoft._dcp_dwt_onclickInstallButton()">click here to verify completion.</a>',h.setAttribute("html5","1"),d.removeChild(a),d.appendChild(h)}else{var d=a.parentNode;d.removeChild(a)}return!0},K._dcp_dwt_onclickInstallButton=function(){var i=document.getElementById("dwt-install-url-div");i&&(i.style.display="none");var a=K.Lib.one(".dynamsoft-dwt-dlg-title");a&&a.style("display","");var d=K.Lib.one(".dynamsoft-dwt-dlg-title-error");d&&d.style("display","none");var h=document.getElementById("dwt-btn-install");return h&&setTimeout(function(){if(h.getAttribute("html5")=="1"){var g=h.parentNode,y=document.createElement("div");y.id="dwt-btn-install",y.style.textAlign="center",y.style.paddingBottom="15px",y.style.fontSize="14px",y.innerHTML="Connecting to the service...",y.setAttribute("html5","1"),g.removeChild(h),g.appendChild(y),t=new Date,setTimeout(K._dwt_Reconnect,10)}else{var g=h.parentNode;g.removeChild(h)}},10),!0},K._dwt_Reconnect=function(){var i=K;if((new Date-t)/1e3>10){var a=document.getElementById("dwt-btn-install");a&&(a.innerHTML='Please make sure your installation is successful. <a href="javascript:void(0)" onclick="Dynamsoft._dcp_dwt_onclickInstallButton()">Click here to try reconnecting</a>.');var d=K.Lib.one(".dynamsoft-dwt-dlg-title");d&&d.style("display","none");var h=K.Lib.one(".dynamsoft-dwt-dlg-title-error");h&&(h.html("Failed to connect to the service!"),h.style("display",""));return}if(i.DWT){var g=500;navigator.userAgent.indexOf("Safari")>-1&&(g=2e3),i.DWT.CheckConnectToTheService(function(){K.DWT.CloseDialog(),K.DWT.ConnectToTheService()},function(){if(K.DWT.NeedCheckWebTwainBySocket()){K.DWT.CheckWebTwainBySocket(function(){K.OnHTTPCorsError()},function(){setTimeout(K._dwt_Reconnect,g)},function(){setTimeout(K._dwt_Reconnect,g)});return}setTimeout(K._dwt_Reconnect,g)})}else console.log("The Dynamsoft namespace is missing")},K._show_android_install_dialog=function(i,a){var d;if(K.DWT.bNpm&&K.navInfoSync.bFileSystem)return K._show_online_download_dialog(i,bHTML5,iPlatform);d=[],K.DWT?(d.push('<div class="ds-dwt-ui-dlg-android">'),d.push("<div>Please download and "),a?d.push("update"):d.push("install"),d.push(" the <strong>DYNAMSOFT SERVICE</strong> app via the </div>"),d.push('<div><a target="_blank" href="'),d.push(i.default),d.push('" onclick="Dynamsoft._dwt_ReconnectForAndroid()">direct APK download link</a>.</div>'),d.push("</div>"),d.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left">'),d.push("If you have "),a?d.push("updated"):d.push("installed"),d.push(" it, please click on the button below to initiate the connection."),d.push('<a target="_blank" href="'),d.push(i.openService),d.push('" onclick="Dynamsoft._dwt_ReconnectForAndroid()"><div class="dynamsoft-dwt-dlg-button-android">Open Service</div></a>'),d.push("</div>"),d.push("</div>"),K.DWT.ShowMessage(d.join(""),{width:335,headerStyle:1,backgroundStyle:1})):console.log("The Dynamsoft namespace is missing"),K.DWT&&K.DWT.OnWebTwainNotFound&&K.DWT.OnWebTwainNotFound()},K._dwt_ReconnectForAndroid=function(){K.DWT.CheckConnectToTheService(function(i){i?(K.DWT.CloseDialog(),K.DWT.ConnectToTheService()):setTimeout(K._dwt_ReconnectForAndroid,500)},function(){setTimeout(K._dwt_ReconnectForAndroid,500)})},K.OnWebTwainNeedUpgradeCallback=function(i,a,d,h,g,y,T,C){K._show_install_dialog(i,a,d,h,g,y,T,C,!0,!0)},K.OnWebTwainNeedUpgradeOnAndroidCallback=function(i,a,d){K.OnWebTwainNotFoundOnAndroidCallback(i,a,d,!0)},K.OnLTSLicenseError=function(i,a){var d="",h;if(a==-2440||a==-2441||a==-2443||a==-2446||i.indexOf("Internet connection")>-1||i.indexOf("Storage")>-1){var g="https://www.dynamsoft.com/customer/license/trialLicense?product=dwt&deploymenttype=js";d='<div>You can register for a free 30-day trial <a href="'+g+'" target="_blank" class="dynamsoft-major-color">here</a>. Make sure to select the product Dynamic Web TWAIN.</div>'}h=[i,d],K.DWT.ShowMessage(h.join(""),{width:e,headerStyle:2})},K.OnLTSConnectionWarning=function(){var i=["Warning: You are seeing this dialog because Dynamic Web TWAIN has failed to connect to the License Tracking Server. ","A cached authorization is being used, and you can continue to use the software as usual. ","Please get connected to the network as soon as possible. ",K.DWT.isPublicLicense()?'<a class="dynamsoft-major-color" href="https://www.dynamsoft.com/company/contact/">Contact Dynamsoft</a> ':"Contact the site administrator ","for more information."].join("");K.DWT.ShowMessage(i,{width:e,caption:"Warning",headerStyle:2})},K.OnLTSPublicLicenseWarning=function(i){K.DWT.ShowMessage(i,{width:e,caption:"Warning",headerStyle:2})},K.OnLicenseExpiredWarning=function(i,a,d){var h,g,y='<a target="_blank" href="https://www.dynamsoft.com/store/dynamic-web-twain/#DynamicWebTWAIN">online store</a>',T="https://www.dynamsoft.com/customer/license/trialLicense?product=dwt&utm_source=in-product";if(!(a>5||!d)){if(a>0){var C;a<=1?C="1 day":C=parseInt(a)+" days",g="Warning",h=['<div style="padding:0 0 10px 0">Kindly note your trial key is expiring in ',C,". Two quick steps to extend your trial:</div>",'<div style="margin:0 0 0 10px">1. <a target="_blank" href="',T,'">Request a new trial key</a> and follow the instructions to set the new key</div>','<div style="margin:0 0 0 10px">2. Refresh your scan page and try again</div>','<div style="padding:0">If you are ready to purchase a full license, please go to the ',y,".</div>"].join("")}else h=['<div style="padding:0">Sorry. Your product key has expired on ',i,". You can purchase a full license at the ",y,".</div>",'<div style="padding:0">Or, you can try requesting a new product key at <a target="_blank" href="',T,'">this page</a>.</div>'].join("");h&&K.DWT.ShowMessage(h,{width:e,caption:g,headerStyle:2})}},K.OnLicenseError=K.OnLicenseError||function(i,a){K.DWT.ShowMessage(K.ProcessLicenseErrorContent(i),{width:e,headerStyle:2})},K.OnCorsConfigError=function(i){var a=[i," Please contact the Administrator to configure 'Access-Control-Allow-Origin'."].join("");K.DWT.ShowMessage(a,{width:e,headerStyle:2})},K.ProcessLicenseErrorContent=function(i){var a=[],d=i;if(typeof d!="string"){if(d===void 0)return"";d instanceof Error||"message"in d?d=d.message:d=""+d}var h=d.indexOf("["),g=d.indexOf("]",h),y=d.indexOf("(",g),T=d.indexOf(")",y);if(h==-1||g==-1||y==-1||T==-1)return d;h>0&&a.push(d.substring(0,h));var C=d.substring(h+1,g),w=d.substring(y+1,T);return a.push(['<a href="',w,'" target="_blank" class="dynamsoft-major-color">',C,"</a>"].join("")),a.push(d.substring(T+1)),a.join("")},K._show_online_download_dialog=function(i,a,d){var h,g=K.DWT.JSVersion.split(","),y=g[0]+"."+g[1],T=location.pathname,C,w,x;T=T.substring(0,T.lastIndexOf("/")+1),d==K.DWT.EnumDWT_PlatformType.enumLinux&&(arm64||mips64)&&(arm64?i.default=getDebPath("arm64"):mips64&&(i.default=getDebPath("mips64el"))),x=i.default.substr(i.default.length-3),C=["https://www.dynamsoft.com/web-twain/install-dynamsoft-service/?productId=1000001","&downloadLink=https://demo.dynamsoft.com/DWT/Resources/dist/DynamsoftServiceSetup_",y,".",x].join(""),w=K.Lib.Path.normalize([T,i.default].join("")),d==K.DWT.EnumDWT_PlatformType.enumWindow&&w.indexOf("/")==0&&(w=w.substr(1)),h=['<div class="dynamsoft-dwt-ltsdlg-body" style="padding:0 20px 20px 20px">',"<div>To support document scanning, please complete one-time installation of the DynamsoftServiceSetup.",x," on this machine.</div>","<div>You can download the file via this trust site:</div>",'<div><a id="dwt-btn-install" target="_blank" href="',C,'"><div class="dynamsoft-dwt-dlg-button">Open Site</div></a></div>','<div style="word-break: break-word;">Or, go to <br />',w," if the file exists.</div>","<div>After the installation, please <strong>REFRESH</strong>  your browser.<br /></div>","</div>"],K.DWT.ShowMessage(h.join(""),{width:e,headerStyle:1,closeButton:!1})}})();K.DWT.AutoLoad=!1;K.DWT.IfAddMD5InUploadHeader=!1;K.DWT.IfConfineMaskWithinTheViewer=!1;const Cy=K,yxe=({onHandleImage:e})=>{const t=be.useRef(null);be.useEffect(()=>((async()=>{var d;try{await Cy.DWT.Load();const h=Cy.DWT.GetWebTwain((d=t.current)==null?void 0:d.id);h&&(h.IfShowUI=!1,h.Width=580,h.Height=600)}catch(h){console.error("Error initializing DWT:",h)}})(),()=>{Cy.DWT.Unload()}),[]);const i=()=>{var d;const a=Cy.DWT.GetWebTwain((d=t.current)==null?void 0:d.id);a&&a.AcquireImage({IfShowUI:!1,OnPostTransfer:async()=>{await a.ConvertToBlob([a.CurrentImageIndexInBuffer],1,h=>{const g=new File([h],"scanned_image.png",{type:"image/png"});e(g)},(h,g)=>{console.error(h,g)})}})};return Re.jsxs("div",{children:[Re.jsx("div",{ref:t,style:{width:"580px",height:"600px"}}),Re.jsx("button",{onClick:i,children:"Scan"})]})},Sxe=function({onSuccess:e,onFailure:t}){const[i,a]=be.useState(!1),[d,h]=be.useState(void 0),[g,y]=be.useState(void 0);return be.useEffect(()=>{wP.get("https://cors-anywhere.herokuapp.com/www.google.com").then(T=>(a(!0),T)).catch(()=>a(!1))},[void 0]),be.useEffect(()=>{const T=new URLSearchParams(window.location.search).get("code");T&&i&&(h(T),wP.post("https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token ",{code:T,client_id:JEe,client_secret:qEe},{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}}).then(C=>{y(C.data),e(C.data)}).catch(C=>t(C)))},[e,t,i]),Re.jsxs(qa,{justifyContent:"space-around",children:[i?Re.jsx(Af,{children:"CorsOk"}):Re.jsx(_8,{href:"https://cors-anywhere.herokuapp.com/corsdemo",children:"CorsAnywere"}),d?Re.jsx(Af,{children:"Code Git Ok"}):Re.jsxs(Af,{children:["CodeGit Ko",Re.jsx(vAe,{})]}),g?Re.jsx(Af,{children:"Token Git Ok"}):Re.jsx(Af,{children:"Token Ko"})]})};function bxe({onHandleImage:e}){const[t,i]=be.useState();return Re.jsxs(qa,{flexDirection:"column",style:{minHeight:"300px"},children:[Re.jsxs(qa,{children:[t==="photo"&&Re.jsx(ZEe,{onHandleImage:e}),t==="photo2"&&Re.jsx(sxe,{onHandleImage:e}),t==="photo3"&&Re.jsx(yxe,{onHandleImage:e}),t==="file"&&Re.jsx(eAe,{onHandleImage:e}),t==="url"&&Re.jsx(tAe,{onHandleImage:e})]}),Re.jsxs(qa,{justifyContent:"space-around",children:[Re.jsx(bu,{variant:"solid",size:"md",onClick:()=>i("photo"),children:"Photo"}),Re.jsx(bu,{variant:"solid",size:"md",onClick:()=>i("photo2"),children:"Photo Pro"})," ",Re.jsx(bu,{variant:"solid",size:"md",onClick:()=>i("photo3"),children:"dwt"}),Re.jsx(bu,{variant:"solid",size:"md",onClick:()=>i("file"),children:"File"}),Re.jsx(bu,{variant:"solid",size:"md",onClick:()=>i("url"),children:"Url"})]})]})}function Txe({image:e,handleSvg:t}){const i=be.useRef(null),[a,d]=be.useState("");be.useEffect(()=>{kV(e,150,200).then(g=>{const y=i==null?void 0:i.current;if(y){y.width=512,y.height=256;const T=y.getContext("2d");T&&T.putImageData(g,0,0)}})},[e]);function h(){console.log("handleProcess"),kV(e,150,200).then(g=>{console.log("fileToImageData");const y=i.current;if(y){const T=y.getContext("2d");if(T){T.putImageData(g,0,0);const w=new mAe(XS.Presets.posterized1).traceImage(g);console.log("svgstr",w),d(w),t(w)}}})}return Re.jsxs(qa,{flexDirection:"column",children:[Re.jsxs(qa,{children:[Re.jsx("canvas",{ref:i,style:{width:"50%"},width:"50%",height:"auto"}),a&&Re.jsx("div",{dangerouslySetInnerHTML:{__html:a},style:{width:"50%"}})]}),Re.jsxs(qa,{children:[Re.jsx(bu,{variant:"solid",size:"md",onClick:()=>h(),children:"Process"}),Re.jsx(bu,{variant:"solid",size:"md",children:"Parametrage"})]}),Re.jsx(qa,{})]})}function Cxe({fileContent:e,token:t}){const[i,a]=be.useState(null),[d,h]=be.useState("sarahBuisson"),[g,y]=be.useState("content-generator2"),[T,C]=be.useState("src/assets"),[w,x]=be.useState("svg.svg"),[F,N]=be.useState(""),E=O=>{O.target.files&&a(O.target.files[0])};async function W(){if(console.log("file",i),!i)return;const O=`https://api.github.com/repos/${d}/${g}/contents/${T}/${w}.svg`;console.log(O);let R=await i.text();console.log(R);try{R=btoa(R),N("Save as "+O)}catch(j){console.error(j),N("error"+j)}const D=await wP.put("https://cors-anywhere.herokuapp.com/"+O,{message:`Add ${i.name}`,content:e},{headers:{Authorization:`token ${t}`}});console.log(D.data)}return Re.jsx(qa,{children:Re.jsxs("ul",{children:[Re.jsx("li",{children:Re.jsx("input",{type:"hidden",onChange:E})}),Re.jsxs("li",{children:["user:",Re.jsx("input",{value:d,onChange:O=>h(O.target.value)})]}),Re.jsxs("li",{children:["repo:",Re.jsx("input",{value:g,onChange:O=>y(O.target.value)})]}),Re.jsxs("li",{children:["path:",Re.jsx("input",{value:T,onChange:O=>C(O.target.value)})]}),Re.jsxs("li",{children:["name:",Re.jsx("input",{value:w,onChange:O=>x(O.target.value)})]}),Re.jsx(bu,{variant:"solid",size:"md",onClick:W,children:"Save"}),F]})})}function Ixe(){const[e,t]=be.useState(),[i,a]=be.useState(),[d,h]=be.useState(),g=y=>{h(y.access_token)};return Re.jsxs(gwe,{resetCSS:!0,children:[Re.jsx(Sxe,{onFailure:console.error,onSuccess:g}),Re.jsx(bxe,{onHandleImage:t}),e&&Re.jsx(Txe,{image:e,handleSvg:a}),Re.jsx(Cxe,{fileContent:i,token:d})]})}KA.createRoot(document.getElementById("root")).render(Re.jsx(_i.StrictMode,{children:Re.jsx(Ixe,{})}))});export default wxe();
