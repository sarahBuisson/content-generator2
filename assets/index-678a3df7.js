var nde=Object.defineProperty;var ide=(e,t,i)=>t in e?nde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var ode=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var mi=(e,t,i)=>(ide(e,typeof t!="symbol"?t+"":t,i),i);var QPe=ode((uk,yS)=>{function ade(e,t){for(var i=0;i<t.length;i++){const o=t[i];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in e)){const f=Object.getOwnPropertyDescriptor(o,c);f&&Object.defineProperty(e,c,f.get?f:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();var Jg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m6={exports:{}},bb={},v6={exports:{}},cr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv=Symbol.for("react.element"),sde=Symbol.for("react.portal"),ude=Symbol.for("react.fragment"),cde=Symbol.for("react.strict_mode"),lde=Symbol.for("react.profiler"),dde=Symbol.for("react.provider"),fde=Symbol.for("react.context"),hde=Symbol.for("react.forward_ref"),pde=Symbol.for("react.suspense"),gde=Symbol.for("react.memo"),mde=Symbol.for("react.lazy"),V4=Symbol.iterator;function vde(e){return e===null||typeof e!="object"?null:(e=V4&&e[V4]||e["@@iterator"],typeof e=="function"?e:null)}var _6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y6=Object.assign,S6={};function Oh(e,t,i){this.props=e,this.context=t,this.refs=S6,this.updater=i||_6}Oh.prototype.isReactComponent={};Oh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function b6(){}b6.prototype=Oh.prototype;function ck(e,t,i){this.props=e,this.context=t,this.refs=S6,this.updater=i||_6}var lk=ck.prototype=new b6;lk.constructor=ck;y6(lk,Oh.prototype);lk.isPureReactComponent=!0;var j4=Array.isArray,C6=Object.prototype.hasOwnProperty,dk={current:null},T6={key:!0,ref:!0,__self:!0,__source:!0};function I6(e,t,i){var o,c={},f=null,g=null;if(t!=null)for(o in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(f=""+t.key),t)C6.call(t,o)&&!T6.hasOwnProperty(o)&&(c[o]=t[o]);var v=arguments.length-2;if(v===1)c.children=i;else if(1<v){for(var C=Array(v),T=0;T<v;T++)C[T]=arguments[T+2];c.children=C}if(e&&e.defaultProps)for(o in v=e.defaultProps,v)c[o]===void 0&&(c[o]=v[o]);return{$$typeof:mv,type:e,key:f,ref:g,props:c,_owner:dk.current}}function _de(e,t){return{$$typeof:mv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fk(e){return typeof e=="object"&&e!==null&&e.$$typeof===mv}function yde(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var G4=/\/+/g;function rx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yde(""+e.key):t.toString(36)}function Wy(e,t,i,o,c){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case mv:case sde:g=!0}}if(g)return g=e,c=c(g),e=o===""?"."+rx(g,0):o,j4(c)?(i="",e!=null&&(i=e.replace(G4,"$&/")+"/"),Wy(c,t,i,"",function(T){return T})):c!=null&&(fk(c)&&(c=_de(c,i+(!c.key||g&&g.key===c.key?"":(""+c.key).replace(G4,"$&/")+"/")+e)),t.push(c)),1;if(g=0,o=o===""?".":o+":",j4(e))for(var v=0;v<e.length;v++){f=e[v];var C=o+rx(f,v);g+=Wy(f,t,i,C,c)}else if(C=vde(e),typeof C=="function")for(e=C.call(e),v=0;!(f=e.next()).done;)f=f.value,C=o+rx(f,v++),g+=Wy(f,t,i,C,c);else if(f==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function ty(e,t,i){if(e==null)return e;var o=[],c=0;return Wy(e,o,"","",function(f){return t.call(i,f,c++)}),o}function Sde(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var to={current:null},By={transition:null},bde={ReactCurrentDispatcher:to,ReactCurrentBatchConfig:By,ReactCurrentOwner:dk};function w6(){throw Error("act(...) is not supported in production builds of React.")}cr.Children={map:ty,forEach:function(e,t,i){ty(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return ty(e,function(){t++}),t},toArray:function(e){return ty(e,function(t){return t})||[]},only:function(e){if(!fk(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};cr.Component=Oh;cr.Fragment=ude;cr.Profiler=lde;cr.PureComponent=ck;cr.StrictMode=cde;cr.Suspense=pde;cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bde;cr.act=w6;cr.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=y6({},e.props),c=e.key,f=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(f=t.ref,g=dk.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var v=e.type.defaultProps;for(C in t)C6.call(t,C)&&!T6.hasOwnProperty(C)&&(o[C]=t[C]===void 0&&v!==void 0?v[C]:t[C])}var C=arguments.length-2;if(C===1)o.children=i;else if(1<C){v=Array(C);for(var T=0;T<C;T++)v[T]=arguments[T+2];o.children=v}return{$$typeof:mv,type:e.type,key:c,ref:f,props:o,_owner:g}};cr.createContext=function(e){return e={$$typeof:fde,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dde,_context:e},e.Consumer=e};cr.createElement=I6;cr.createFactory=function(e){var t=I6.bind(null,e);return t.type=e,t};cr.createRef=function(){return{current:null}};cr.forwardRef=function(e){return{$$typeof:hde,render:e}};cr.isValidElement=fk;cr.lazy=function(e){return{$$typeof:mde,_payload:{_status:-1,_result:e},_init:Sde}};cr.memo=function(e,t){return{$$typeof:gde,type:e,compare:t===void 0?null:t}};cr.startTransition=function(e){var t=By.transition;By.transition={};try{e()}finally{By.transition=t}};cr.unstable_act=w6;cr.useCallback=function(e,t){return to.current.useCallback(e,t)};cr.useContext=function(e){return to.current.useContext(e)};cr.useDebugValue=function(){};cr.useDeferredValue=function(e){return to.current.useDeferredValue(e)};cr.useEffect=function(e,t){return to.current.useEffect(e,t)};cr.useId=function(){return to.current.useId()};cr.useImperativeHandle=function(e,t,i){return to.current.useImperativeHandle(e,t,i)};cr.useInsertionEffect=function(e,t){return to.current.useInsertionEffect(e,t)};cr.useLayoutEffect=function(e,t){return to.current.useLayoutEffect(e,t)};cr.useMemo=function(e,t){return to.current.useMemo(e,t)};cr.useReducer=function(e,t,i){return to.current.useReducer(e,t,i)};cr.useRef=function(e){return to.current.useRef(e)};cr.useState=function(e){return to.current.useState(e)};cr.useSyncExternalStore=function(e,t,i){return to.current.useSyncExternalStore(e,t,i)};cr.useTransition=function(){return to.current.useTransition()};cr.version="18.3.1";v6.exports=cr;var ve=v6.exports;const zt=Fh(ve),z4=ade({__proto__:null,default:zt},[ve]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cde=ve,Tde=Symbol.for("react.element"),Ide=Symbol.for("react.fragment"),wde=Object.prototype.hasOwnProperty,Ede=Cde.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xde={key:!0,ref:!0,__self:!0,__source:!0};function E6(e,t,i){var o,c={},f=null,g=null;i!==void 0&&(f=""+i),t.key!==void 0&&(f=""+t.key),t.ref!==void 0&&(g=t.ref);for(o in t)wde.call(t,o)&&!xde.hasOwnProperty(o)&&(c[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)c[o]===void 0&&(c[o]=t[o]);return{$$typeof:Tde,type:e,key:f,ref:g,props:c,_owner:Ede.current}}bb.Fragment=Ide;bb.jsx=E6;bb.jsxs=E6;m6.exports=bb;var Ie=m6.exports,dA={},x6={exports:{}},Qo={},A6={exports:{}},P6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Re,Me){var Ae=Re.length;Re.push(Me);e:for(;0<Ae;){var Je=Ae-1>>>1,He=Re[Je];if(0<c(He,Me))Re[Je]=Me,Re[Ae]=He,Ae=Je;else break e}}function i(Re){return Re.length===0?null:Re[0]}function o(Re){if(Re.length===0)return null;var Me=Re[0],Ae=Re.pop();if(Ae!==Me){Re[0]=Ae;e:for(var Je=0,He=Re.length,Ge=He>>>1;Je<Ge;){var nt=2*(Je+1)-1,pe=Re[nt],oe=nt+1,me=Re[oe];if(0>c(pe,Ae))oe<He&&0>c(me,pe)?(Re[Je]=me,Re[oe]=Ae,Je=oe):(Re[Je]=pe,Re[nt]=Ae,Je=nt);else if(oe<He&&0>c(me,Ae))Re[Je]=me,Re[oe]=Ae,Je=oe;else break e}}return Me}function c(Re,Me){var Ae=Re.sortIndex-Me.sortIndex;return Ae!==0?Ae:Re.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var g=Date,v=g.now();e.unstable_now=function(){return g.now()-v}}var C=[],T=[],E=1,A=null,P=3,O=!1,w=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(Re){for(var Me=i(T);Me!==null;){if(Me.callback===null)o(T);else if(Me.startTime<=Re)o(T),Me.sortIndex=Me.expirationTime,t(C,Me);else break;Me=i(T)}}function K(Re){if(N=!1,L(Re),!w)if(i(C)!==null)w=!0,je(de);else{var Me=i(T);Me!==null&&Ze(K,Me.startTime-Re)}}function de(Re,Me){w=!1,N&&(N=!1,k(ce),ce=-1),O=!0;var Ae=P;try{for(L(Me),A=i(C);A!==null&&(!(A.expirationTime>Me)||Re&&!fe());){var Je=A.callback;if(typeof Je=="function"){A.callback=null,P=A.priorityLevel;var He=Je(A.expirationTime<=Me);Me=e.unstable_now(),typeof He=="function"?A.callback=He:A===i(C)&&o(C),L(Me)}else o(C);A=i(C)}if(A!==null)var Ge=!0;else{var nt=i(T);nt!==null&&Ze(K,nt.startTime-Me),Ge=!1}return Ge}finally{A=null,P=Ae,O=!1}}var ee=!1,Q=null,ce=-1,he=5,le=-1;function fe(){return!(e.unstable_now()-le<he)}function ye(){if(Q!==null){var Re=e.unstable_now();le=Re;var Me=!0;try{Me=Q(!0,Re)}finally{Me?xe():(ee=!1,Q=null)}}else ee=!1}var xe;if(typeof R=="function")xe=function(){R(ye)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Ne=De.port2;De.port1.onmessage=ye,xe=function(){Ne.postMessage(null)}}else xe=function(){M(ye,0)};function je(Re){Q=Re,ee||(ee=!0,xe())}function Ze(Re,Me){ce=M(function(){Re(e.unstable_now())},Me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Re){Re.callback=null},e.unstable_continueExecution=function(){w||O||(w=!0,je(de))},e.unstable_forceFrameRate=function(Re){0>Re||125<Re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<Re?Math.floor(1e3/Re):5},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return i(C)},e.unstable_next=function(Re){switch(P){case 1:case 2:case 3:var Me=3;break;default:Me=P}var Ae=P;P=Me;try{return Re()}finally{P=Ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Re,Me){switch(Re){case 1:case 2:case 3:case 4:case 5:break;default:Re=3}var Ae=P;P=Re;try{return Me()}finally{P=Ae}},e.unstable_scheduleCallback=function(Re,Me,Ae){var Je=e.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?Je+Ae:Je):Ae=Je,Re){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=Ae+He,Re={id:E++,callback:Me,priorityLevel:Re,startTime:Ae,expirationTime:He,sortIndex:-1},Ae>Je?(Re.sortIndex=Ae,t(T,Re),i(C)===null&&Re===i(T)&&(N?(k(ce),ce=-1):N=!0,Ze(K,Ae-Je))):(Re.sortIndex=He,t(C,Re),w||O||(w=!0,je(de))),Re},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(Re){var Me=P;return function(){var Ae=P;P=Me;try{return Re.apply(this,arguments)}finally{P=Ae}}}})(P6);A6.exports=P6;var Ade=A6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pde=ve,Yo=Ade;function dt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k6=new Set,Nm={};function ld(e,t){_h(e,t),_h(e+"Capture",t)}function _h(e,t){for(Nm[e]=t,e=0;e<t.length;e++)k6.add(t[e])}var Ru=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fA=Object.prototype.hasOwnProperty,kde=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H4={},$4={};function Dde(e){return fA.call($4,e)?!0:fA.call(H4,e)?!1:kde.test(e)?$4[e]=!0:(H4[e]=!0,!1)}function Rde(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fde(e,t,i,o){if(t===null||typeof t>"u"||Rde(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ro(e,t,i,o,c,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var Ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ci[e]=new ro(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ci[t]=new ro(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ci[e]=new ro(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ci[e]=new ro(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ci[e]=new ro(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ci[e]=new ro(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ci[e]=new ro(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ci[e]=new ro(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ci[e]=new ro(e,5,!1,e.toLowerCase(),null,!1,!1)});var hk=/[\-:]([a-z])/g;function pk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hk,pk);Ci[t]=new ro(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hk,pk);Ci[t]=new ro(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hk,pk);Ci[t]=new ro(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ci[e]=new ro(e,1,!1,e.toLowerCase(),null,!1,!1)});Ci.xlinkHref=new ro("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ci[e]=new ro(e,1,!1,e.toLowerCase(),null,!0,!0)});function gk(e,t,i,o){var c=Ci.hasOwnProperty(t)?Ci[t]:null;(c!==null?c.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fde(t,i,c,o)&&(i=null),o||c===null?Dde(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,o=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var Wu=Pde.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ry=Symbol.for("react.element"),Wf=Symbol.for("react.portal"),Bf=Symbol.for("react.fragment"),mk=Symbol.for("react.strict_mode"),hA=Symbol.for("react.profiler"),D6=Symbol.for("react.provider"),R6=Symbol.for("react.context"),vk=Symbol.for("react.forward_ref"),pA=Symbol.for("react.suspense"),gA=Symbol.for("react.suspense_list"),_k=Symbol.for("react.memo"),Dc=Symbol.for("react.lazy"),F6=Symbol.for("react.offscreen"),K4=Symbol.iterator;function Og(e){return e===null||typeof e!="object"?null:(e=K4&&e[K4]||e["@@iterator"],typeof e=="function"?e:null)}var vn=Object.assign,nx;function qg(e){if(nx===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);nx=t&&t[1]||""}return`
`+nx+e}var ix=!1;function ox(e,t){if(!e||ix)return"";ix=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var o=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){o=T}e.call(t.prototype)}else{try{throw Error()}catch(T){o=T}e()}}catch(T){if(T&&o&&typeof T.stack=="string"){for(var c=T.stack.split(`
`),f=o.stack.split(`
`),g=c.length-1,v=f.length-1;1<=g&&0<=v&&c[g]!==f[v];)v--;for(;1<=g&&0<=v;g--,v--)if(c[g]!==f[v]){if(g!==1||v!==1)do if(g--,v--,0>v||c[g]!==f[v]){var C=`
`+c[g].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=g&&0<=v);break}}}finally{ix=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?qg(e):""}function Ode(e){switch(e.tag){case 5:return qg(e.type);case 16:return qg("Lazy");case 13:return qg("Suspense");case 19:return qg("SuspenseList");case 0:case 2:case 15:return e=ox(e.type,!1),e;case 11:return e=ox(e.type.render,!1),e;case 1:return e=ox(e.type,!0),e;default:return""}}function mA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bf:return"Fragment";case Wf:return"Portal";case hA:return"Profiler";case mk:return"StrictMode";case pA:return"Suspense";case gA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case R6:return(e.displayName||"Context")+".Consumer";case D6:return(e._context.displayName||"Context")+".Provider";case vk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _k:return t=e.displayName||null,t!==null?t:mA(e.type)||"Memo";case Dc:t=e._payload,e=e._init;try{return mA(e(t))}catch{}}return null}function Nde(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mA(t);case 8:return t===mk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function O6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mde(e){var t=O6(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ny(e){e._valueTracker||(e._valueTracker=Mde(e))}function N6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=O6(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function SS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vA(e,t){var i=t.checked;return vn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Y4(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=qc(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function M6(e,t){t=t.checked,t!=null&&gk(e,"checked",t,!1)}function _A(e,t){M6(e,t);var i=qc(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yA(e,t.type,i):t.hasOwnProperty("defaultValue")&&yA(e,t.type,qc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function X4(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function yA(e,t,i){(t!=="number"||SS(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Zg=Array.isArray;function oh(e,t,i,o){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&o&&(e[i].defaultSelected=!0)}else{for(i=""+qc(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function SA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(dt(91));return vn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Q4(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(dt(92));if(Zg(i)){if(1<i.length)throw Error(dt(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:qc(i)}}function L6(e,t){var i=qc(t.value),o=qc(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function J4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function W6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?W6(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var iy,B6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(iy=iy||document.createElement("div"),iy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=iy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mm(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var cm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lde=["Webkit","ms","Moz","O"];Object.keys(cm).forEach(function(e){Lde.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cm[t]=cm[e]})});function U6(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||cm.hasOwnProperty(e)&&cm[e]?(""+t).trim():t+"px"}function V6(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,c=U6(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,c):e[i]=c}}var Wde=vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function CA(e,t){if(t){if(Wde[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(dt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(dt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(dt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(dt(62))}}function TA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IA=null;function yk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wA=null,ah=null,sh=null;function q4(e){if(e=yv(e)){if(typeof wA!="function")throw Error(dt(280));var t=e.stateNode;t&&(t=Eb(t),wA(e.stateNode,e.type,t))}}function j6(e){ah?sh?sh.push(e):sh=[e]:ah=e}function G6(){if(ah){var e=ah,t=sh;if(sh=ah=null,q4(e),t)for(e=0;e<t.length;e++)q4(t[e])}}function z6(e,t){return e(t)}function H6(){}var ax=!1;function $6(e,t,i){if(ax)return e(t,i);ax=!0;try{return z6(e,t,i)}finally{ax=!1,(ah!==null||sh!==null)&&(H6(),G6())}}function Lm(e,t){var i=e.stateNode;if(i===null)return null;var o=Eb(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(dt(231,t,typeof i));return i}var EA=!1;if(Ru)try{var Ng={};Object.defineProperty(Ng,"passive",{get:function(){EA=!0}}),window.addEventListener("test",Ng,Ng),window.removeEventListener("test",Ng,Ng)}catch{EA=!1}function Bde(e,t,i,o,c,f,g,v,C){var T=Array.prototype.slice.call(arguments,3);try{t.apply(i,T)}catch(E){this.onError(E)}}var lm=!1,bS=null,CS=!1,xA=null,Ude={onError:function(e){lm=!0,bS=e}};function Vde(e,t,i,o,c,f,g,v,C){lm=!1,bS=null,Bde.apply(Ude,arguments)}function jde(e,t,i,o,c,f,g,v,C){if(Vde.apply(this,arguments),lm){if(lm){var T=bS;lm=!1,bS=null}else throw Error(dt(198));CS||(CS=!0,xA=T)}}function dd(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function K6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Z4(e){if(dd(e)!==e)throw Error(dt(188))}function Gde(e){var t=e.alternate;if(!t){if(t=dd(e),t===null)throw Error(dt(188));return t!==e?null:e}for(var i=e,o=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){i=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return Z4(c),e;if(f===o)return Z4(c),t;f=f.sibling}throw Error(dt(188))}if(i.return!==o.return)i=c,o=f;else{for(var g=!1,v=c.child;v;){if(v===i){g=!0,i=c,o=f;break}if(v===o){g=!0,o=c,i=f;break}v=v.sibling}if(!g){for(v=f.child;v;){if(v===i){g=!0,i=f,o=c;break}if(v===o){g=!0,o=f,i=c;break}v=v.sibling}if(!g)throw Error(dt(189))}}if(i.alternate!==o)throw Error(dt(190))}if(i.tag!==3)throw Error(dt(188));return i.stateNode.current===i?e:t}function Y6(e){return e=Gde(e),e!==null?X6(e):null}function X6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=X6(e);if(t!==null)return t;e=e.sibling}return null}var Q6=Yo.unstable_scheduleCallback,e3=Yo.unstable_cancelCallback,zde=Yo.unstable_shouldYield,Hde=Yo.unstable_requestPaint,Fn=Yo.unstable_now,$de=Yo.unstable_getCurrentPriorityLevel,Sk=Yo.unstable_ImmediatePriority,J6=Yo.unstable_UserBlockingPriority,TS=Yo.unstable_NormalPriority,Kde=Yo.unstable_LowPriority,q6=Yo.unstable_IdlePriority,Cb=null,Hs=null;function Yde(e){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(Cb,e,void 0,(e.current.flags&128)===128)}catch{}}var ns=Math.clz32?Math.clz32:Jde,Xde=Math.log,Qde=Math.LN2;function Jde(e){return e>>>=0,e===0?32:31-(Xde(e)/Qde|0)|0}var oy=64,ay=4194304;function em(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function IS(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,c=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var v=g&~c;v!==0?o=em(v):(f&=g,f!==0&&(o=em(f)))}else g=i&~c,g!==0?o=em(g):f!==0&&(o=em(f));if(o===0)return 0;if(t!==0&&t!==o&&!(t&c)&&(c=o&-o,f=t&-t,c>=f||c===16&&(f&4194240)!==0))return t;if(o&4&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-ns(t),c=1<<i,o|=e[i],t&=~c;return o}function qde(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zde(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-ns(f),v=1<<g,C=c[g];C===-1?(!(v&i)||v&o)&&(c[g]=qde(v,t)):C<=t&&(e.expiredLanes|=v),f&=~v}}function AA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Z6(){var e=oy;return oy<<=1,!(oy&4194240)&&(oy=64),e}function sx(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function vv(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ns(t),e[t]=i}function efe(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-ns(i),f=1<<c;t[c]=0,o[c]=-1,e[c]=-1,i&=~f}}function bk(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-ns(i),c=1<<o;c&t|e[o]&t&&(e[o]|=t),i&=~c}}var Rr=0;function eG(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tG,Ck,rG,nG,iG,PA=!1,sy=[],Gc=null,zc=null,Hc=null,Wm=new Map,Bm=new Map,Nc=[],tfe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function t3(e,t){switch(e){case"focusin":case"focusout":Gc=null;break;case"dragenter":case"dragleave":zc=null;break;case"mouseover":case"mouseout":Hc=null;break;case"pointerover":case"pointerout":Wm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bm.delete(t.pointerId)}}function Mg(e,t,i,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},t!==null&&(t=yv(t),t!==null&&Ck(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function rfe(e,t,i,o,c){switch(t){case"focusin":return Gc=Mg(Gc,e,t,i,o,c),!0;case"dragenter":return zc=Mg(zc,e,t,i,o,c),!0;case"mouseover":return Hc=Mg(Hc,e,t,i,o,c),!0;case"pointerover":var f=c.pointerId;return Wm.set(f,Mg(Wm.get(f)||null,e,t,i,o,c)),!0;case"gotpointercapture":return f=c.pointerId,Bm.set(f,Mg(Bm.get(f)||null,e,t,i,o,c)),!0}return!1}function oG(e){var t=$l(e.target);if(t!==null){var i=dd(t);if(i!==null){if(t=i.tag,t===13){if(t=K6(i),t!==null){e.blockedOn=t,iG(e.priority,function(){rG(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=kA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);IA=o,i.target.dispatchEvent(o),IA=null}else return t=yv(i),t!==null&&Ck(t),e.blockedOn=i,!1;t.shift()}return!0}function r3(e,t,i){Uy(e)&&i.delete(t)}function nfe(){PA=!1,Gc!==null&&Uy(Gc)&&(Gc=null),zc!==null&&Uy(zc)&&(zc=null),Hc!==null&&Uy(Hc)&&(Hc=null),Wm.forEach(r3),Bm.forEach(r3)}function Lg(e,t){e.blockedOn===t&&(e.blockedOn=null,PA||(PA=!0,Yo.unstable_scheduleCallback(Yo.unstable_NormalPriority,nfe)))}function Um(e){function t(c){return Lg(c,e)}if(0<sy.length){Lg(sy[0],e);for(var i=1;i<sy.length;i++){var o=sy[i];o.blockedOn===e&&(o.blockedOn=null)}}for(Gc!==null&&Lg(Gc,e),zc!==null&&Lg(zc,e),Hc!==null&&Lg(Hc,e),Wm.forEach(t),Bm.forEach(t),i=0;i<Nc.length;i++)o=Nc[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<Nc.length&&(i=Nc[0],i.blockedOn===null);)oG(i),i.blockedOn===null&&Nc.shift()}var uh=Wu.ReactCurrentBatchConfig,wS=!0;function ife(e,t,i,o){var c=Rr,f=uh.transition;uh.transition=null;try{Rr=1,Tk(e,t,i,o)}finally{Rr=c,uh.transition=f}}function ofe(e,t,i,o){var c=Rr,f=uh.transition;uh.transition=null;try{Rr=4,Tk(e,t,i,o)}finally{Rr=c,uh.transition=f}}function Tk(e,t,i,o){if(wS){var c=kA(e,t,i,o);if(c===null)vx(e,t,o,ES,i),t3(e,o);else if(rfe(c,e,t,i,o))o.stopPropagation();else if(t3(e,o),t&4&&-1<tfe.indexOf(e)){for(;c!==null;){var f=yv(c);if(f!==null&&tG(f),f=kA(e,t,i,o),f===null&&vx(e,t,o,ES,i),f===c)break;c=f}c!==null&&o.stopPropagation()}else vx(e,t,o,null,i)}}var ES=null;function kA(e,t,i,o){if(ES=null,e=yk(o),e=$l(e),e!==null)if(t=dd(e),t===null)e=null;else if(i=t.tag,i===13){if(e=K6(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ES=e,null}function aG(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($de()){case Sk:return 1;case J6:return 4;case TS:case Kde:return 16;case q6:return 536870912;default:return 16}default:return 16}}var Bc=null,Ik=null,Vy=null;function sG(){if(Vy)return Vy;var e,t=Ik,i=t.length,o,c="value"in Bc?Bc.value:Bc.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(o=1;o<=g&&t[i-o]===c[f-o];o++);return Vy=c.slice(e,1<o?1-o:void 0)}function jy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uy(){return!0}function n3(){return!1}function Jo(e){function t(i,o,c,f,g){this._reactName=i,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?uy:n3,this.isPropagationStopped=n3,this}return vn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=uy)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=uy)},persist:function(){},isPersistent:uy}),t}var Nh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wk=Jo(Nh),_v=vn({},Nh,{view:0,detail:0}),afe=Jo(_v),ux,cx,Wg,Tb=vn({},_v,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ek,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wg&&(Wg&&e.type==="mousemove"?(ux=e.screenX-Wg.screenX,cx=e.screenY-Wg.screenY):cx=ux=0,Wg=e),ux)},movementY:function(e){return"movementY"in e?e.movementY:cx}}),i3=Jo(Tb),sfe=vn({},Tb,{dataTransfer:0}),ufe=Jo(sfe),cfe=vn({},_v,{relatedTarget:0}),lx=Jo(cfe),lfe=vn({},Nh,{animationName:0,elapsedTime:0,pseudoElement:0}),dfe=Jo(lfe),ffe=vn({},Nh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hfe=Jo(ffe),pfe=vn({},Nh,{data:0}),o3=Jo(pfe),gfe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mfe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vfe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _fe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vfe[e])?!!t[e]:!1}function Ek(){return _fe}var yfe=vn({},_v,{key:function(e){if(e.key){var t=gfe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mfe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ek,charCode:function(e){return e.type==="keypress"?jy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sfe=Jo(yfe),bfe=vn({},Tb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a3=Jo(bfe),Cfe=vn({},_v,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ek}),Tfe=Jo(Cfe),Ife=vn({},Nh,{propertyName:0,elapsedTime:0,pseudoElement:0}),wfe=Jo(Ife),Efe=vn({},Tb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xfe=Jo(Efe),Afe=[9,13,27,32],xk=Ru&&"CompositionEvent"in window,dm=null;Ru&&"documentMode"in document&&(dm=document.documentMode);var Pfe=Ru&&"TextEvent"in window&&!dm,uG=Ru&&(!xk||dm&&8<dm&&11>=dm),s3=String.fromCharCode(32),u3=!1;function cG(e,t){switch(e){case"keyup":return Afe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lG(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uf=!1;function kfe(e,t){switch(e){case"compositionend":return lG(t);case"keypress":return t.which!==32?null:(u3=!0,s3);case"textInput":return e=t.data,e===s3&&u3?null:e;default:return null}}function Dfe(e,t){if(Uf)return e==="compositionend"||!xk&&cG(e,t)?(e=sG(),Vy=Ik=Bc=null,Uf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uG&&t.locale!=="ko"?null:t.data;default:return null}}var Rfe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rfe[e.type]:t==="textarea"}function dG(e,t,i,o){j6(o),t=xS(t,"onChange"),0<t.length&&(i=new wk("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var fm=null,Vm=null;function Ffe(e){CG(e,0)}function Ib(e){var t=Gf(e);if(N6(t))return e}function Ofe(e,t){if(e==="change")return t}var fG=!1;if(Ru){var dx;if(Ru){var fx="oninput"in document;if(!fx){var l3=document.createElement("div");l3.setAttribute("oninput","return;"),fx=typeof l3.oninput=="function"}dx=fx}else dx=!1;fG=dx&&(!document.documentMode||9<document.documentMode)}function d3(){fm&&(fm.detachEvent("onpropertychange",hG),Vm=fm=null)}function hG(e){if(e.propertyName==="value"&&Ib(Vm)){var t=[];dG(t,Vm,e,yk(e)),$6(Ffe,t)}}function Nfe(e,t,i){e==="focusin"?(d3(),fm=t,Vm=i,fm.attachEvent("onpropertychange",hG)):e==="focusout"&&d3()}function Mfe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ib(Vm)}function Lfe(e,t){if(e==="click")return Ib(t)}function Wfe(e,t){if(e==="input"||e==="change")return Ib(t)}function Bfe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var us=typeof Object.is=="function"?Object.is:Bfe;function jm(e,t){if(us(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var c=i[o];if(!fA.call(t,c)||!us(e[c],t[c]))return!1}return!0}function f3(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function h3(e,t){var i=f3(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=f3(i)}}function pG(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pG(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gG(){for(var e=window,t=SS();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=SS(e.document)}return t}function Ak(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ufe(e){var t=gG(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&pG(i.ownerDocument.documentElement,i)){if(o!==null&&Ak(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(o.start,c);o=o.end===void 0?f:Math.min(o.end,c),!e.extend&&f>o&&(c=o,o=f,f=c),c=h3(i,f);var g=h3(i,o);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),f>o?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vfe=Ru&&"documentMode"in document&&11>=document.documentMode,Vf=null,DA=null,hm=null,RA=!1;function p3(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;RA||Vf==null||Vf!==SS(o)||(o=Vf,"selectionStart"in o&&Ak(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),hm&&jm(hm,o)||(hm=o,o=xS(DA,"onSelect"),0<o.length&&(t=new wk("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=Vf)))}function cy(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var jf={animationend:cy("Animation","AnimationEnd"),animationiteration:cy("Animation","AnimationIteration"),animationstart:cy("Animation","AnimationStart"),transitionend:cy("Transition","TransitionEnd")},hx={},mG={};Ru&&(mG=document.createElement("div").style,"AnimationEvent"in window||(delete jf.animationend.animation,delete jf.animationiteration.animation,delete jf.animationstart.animation),"TransitionEvent"in window||delete jf.transitionend.transition);function wb(e){if(hx[e])return hx[e];if(!jf[e])return e;var t=jf[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in mG)return hx[e]=t[i];return e}var vG=wb("animationend"),_G=wb("animationiteration"),yG=wb("animationstart"),SG=wb("transitionend"),bG=new Map,g3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tl(e,t){bG.set(e,t),ld(t,[e])}for(var px=0;px<g3.length;px++){var gx=g3[px],jfe=gx.toLowerCase(),Gfe=gx[0].toUpperCase()+gx.slice(1);tl(jfe,"on"+Gfe)}tl(vG,"onAnimationEnd");tl(_G,"onAnimationIteration");tl(yG,"onAnimationStart");tl("dblclick","onDoubleClick");tl("focusin","onFocus");tl("focusout","onBlur");tl(SG,"onTransitionEnd");_h("onMouseEnter",["mouseout","mouseover"]);_h("onMouseLeave",["mouseout","mouseover"]);_h("onPointerEnter",["pointerout","pointerover"]);_h("onPointerLeave",["pointerout","pointerover"]);ld("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ld("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ld("onBeforeInput",["compositionend","keypress","textInput","paste"]);ld("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ld("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ld("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zfe=new Set("cancel close invalid load scroll toggle".split(" ").concat(tm));function m3(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,jde(o,t,void 0,e),e.currentTarget=null}function CG(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],c=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var g=o.length-1;0<=g;g--){var v=o[g],C=v.instance,T=v.currentTarget;if(v=v.listener,C!==f&&c.isPropagationStopped())break e;m3(c,v,T),f=C}else for(g=0;g<o.length;g++){if(v=o[g],C=v.instance,T=v.currentTarget,v=v.listener,C!==f&&c.isPropagationStopped())break e;m3(c,v,T),f=C}}}if(CS)throw e=xA,CS=!1,xA=null,e}function $r(e,t){var i=t[LA];i===void 0&&(i=t[LA]=new Set);var o=e+"__bubble";i.has(o)||(TG(t,e,2,!1),i.add(o))}function mx(e,t,i){var o=0;t&&(o|=4),TG(i,e,o,t)}var ly="_reactListening"+Math.random().toString(36).slice(2);function Gm(e){if(!e[ly]){e[ly]=!0,k6.forEach(function(i){i!=="selectionchange"&&(zfe.has(i)||mx(i,!1,e),mx(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ly]||(t[ly]=!0,mx("selectionchange",!1,t))}}function TG(e,t,i,o){switch(aG(t)){case 1:var c=ife;break;case 4:c=ofe;break;default:c=Tk}i=c.bind(null,t,i,e),c=void 0,!EA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function vx(e,t,i,o,c){var f=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&(C=g.stateNode.containerInfo,C===c||C.nodeType===8&&C.parentNode===c))return;g=g.return}for(;v!==null;){if(g=$l(v),g===null)return;if(C=g.tag,C===5||C===6){o=f=g;continue e}v=v.parentNode}}o=o.return}$6(function(){var T=f,E=yk(i),A=[];e:{var P=bG.get(e);if(P!==void 0){var O=wk,w=e;switch(e){case"keypress":if(jy(i)===0)break e;case"keydown":case"keyup":O=Sfe;break;case"focusin":w="focus",O=lx;break;case"focusout":w="blur",O=lx;break;case"beforeblur":case"afterblur":O=lx;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=i3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=ufe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=Tfe;break;case vG:case _G:case yG:O=dfe;break;case SG:O=wfe;break;case"scroll":O=afe;break;case"wheel":O=xfe;break;case"copy":case"cut":case"paste":O=hfe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=a3}var N=(t&4)!==0,M=!N&&e==="scroll",k=N?P!==null?P+"Capture":null:P;N=[];for(var R=T,L;R!==null;){L=R;var K=L.stateNode;if(L.tag===5&&K!==null&&(L=K,k!==null&&(K=Lm(R,k),K!=null&&N.push(zm(R,K,L)))),M)break;R=R.return}0<N.length&&(P=new O(P,w,null,i,E),A.push({event:P,listeners:N}))}}if(!(t&7)){e:{if(P=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",P&&i!==IA&&(w=i.relatedTarget||i.fromElement)&&($l(w)||w[Fu]))break e;if((O||P)&&(P=E.window===E?E:(P=E.ownerDocument)?P.defaultView||P.parentWindow:window,O?(w=i.relatedTarget||i.toElement,O=T,w=w?$l(w):null,w!==null&&(M=dd(w),w!==M||w.tag!==5&&w.tag!==6)&&(w=null)):(O=null,w=T),O!==w)){if(N=i3,K="onMouseLeave",k="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(N=a3,K="onPointerLeave",k="onPointerEnter",R="pointer"),M=O==null?P:Gf(O),L=w==null?P:Gf(w),P=new N(K,R+"leave",O,i,E),P.target=M,P.relatedTarget=L,K=null,$l(E)===T&&(N=new N(k,R+"enter",w,i,E),N.target=L,N.relatedTarget=M,K=N),M=K,O&&w)t:{for(N=O,k=w,R=0,L=N;L;L=Df(L))R++;for(L=0,K=k;K;K=Df(K))L++;for(;0<R-L;)N=Df(N),R--;for(;0<L-R;)k=Df(k),L--;for(;R--;){if(N===k||k!==null&&N===k.alternate)break t;N=Df(N),k=Df(k)}N=null}else N=null;O!==null&&v3(A,P,O,N,!1),w!==null&&M!==null&&v3(A,M,w,N,!0)}}e:{if(P=T?Gf(T):window,O=P.nodeName&&P.nodeName.toLowerCase(),O==="select"||O==="input"&&P.type==="file")var de=Ofe;else if(c3(P))if(fG)de=Wfe;else{de=Mfe;var ee=Nfe}else(O=P.nodeName)&&O.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(de=Lfe);if(de&&(de=de(e,T))){dG(A,de,i,E);break e}ee&&ee(e,P,T),e==="focusout"&&(ee=P._wrapperState)&&ee.controlled&&P.type==="number"&&yA(P,"number",P.value)}switch(ee=T?Gf(T):window,e){case"focusin":(c3(ee)||ee.contentEditable==="true")&&(Vf=ee,DA=T,hm=null);break;case"focusout":hm=DA=Vf=null;break;case"mousedown":RA=!0;break;case"contextmenu":case"mouseup":case"dragend":RA=!1,p3(A,i,E);break;case"selectionchange":if(Vfe)break;case"keydown":case"keyup":p3(A,i,E)}var Q;if(xk)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Uf?cG(e,i)&&(ce="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ce="onCompositionStart");ce&&(uG&&i.locale!=="ko"&&(Uf||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Uf&&(Q=sG()):(Bc=E,Ik="value"in Bc?Bc.value:Bc.textContent,Uf=!0)),ee=xS(T,ce),0<ee.length&&(ce=new o3(ce,e,null,i,E),A.push({event:ce,listeners:ee}),Q?ce.data=Q:(Q=lG(i),Q!==null&&(ce.data=Q)))),(Q=Pfe?kfe(e,i):Dfe(e,i))&&(T=xS(T,"onBeforeInput"),0<T.length&&(E=new o3("onBeforeInput","beforeinput",null,i,E),A.push({event:E,listeners:T}),E.data=Q))}CG(A,t)})}function zm(e,t,i){return{instance:e,listener:t,currentTarget:i}}function xS(e,t){for(var i=t+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Lm(e,i),f!=null&&o.unshift(zm(e,f,c)),f=Lm(e,t),f!=null&&o.push(zm(e,f,c))),e=e.return}return o}function Df(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function v3(e,t,i,o,c){for(var f=t._reactName,g=[];i!==null&&i!==o;){var v=i,C=v.alternate,T=v.stateNode;if(C!==null&&C===o)break;v.tag===5&&T!==null&&(v=T,c?(C=Lm(i,f),C!=null&&g.unshift(zm(i,C,v))):c||(C=Lm(i,f),C!=null&&g.push(zm(i,C,v)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Hfe=/\r\n?/g,$fe=/\u0000|\uFFFD/g;function _3(e){return(typeof e=="string"?e:""+e).replace(Hfe,`
`).replace($fe,"")}function dy(e,t,i){if(t=_3(t),_3(e)!==t&&i)throw Error(dt(425))}function AS(){}var FA=null,OA=null;function NA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var MA=typeof setTimeout=="function"?setTimeout:void 0,Kfe=typeof clearTimeout=="function"?clearTimeout:void 0,y3=typeof Promise=="function"?Promise:void 0,Yfe=typeof queueMicrotask=="function"?queueMicrotask:typeof y3<"u"?function(e){return y3.resolve(null).then(e).catch(Xfe)}:MA;function Xfe(e){setTimeout(function(){throw e})}function _x(e,t){var i=t,o=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(o===0){e.removeChild(c),Um(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=c}while(i);Um(t)}function $c(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function S3(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Mh=Math.random().toString(36).slice(2),Vs="__reactFiber$"+Mh,Hm="__reactProps$"+Mh,Fu="__reactContainer$"+Mh,LA="__reactEvents$"+Mh,Qfe="__reactListeners$"+Mh,Jfe="__reactHandles$"+Mh;function $l(e){var t=e[Vs];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Fu]||i[Vs]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=S3(e);e!==null;){if(i=e[Vs])return i;e=S3(e)}return t}e=i,i=e.parentNode}return null}function yv(e){return e=e[Vs]||e[Fu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(dt(33))}function Eb(e){return e[Hm]||null}var WA=[],zf=-1;function rl(e){return{current:e}}function Yr(e){0>zf||(e.current=WA[zf],WA[zf]=null,zf--)}function Gr(e,t){zf++,WA[zf]=e.current,e.current=t}var Zc={},Fi=rl(Zc),Co=rl(!1),nd=Zc;function yh(e,t){var i=e.type.contextTypes;if(!i)return Zc;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=t[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function To(e){return e=e.childContextTypes,e!=null}function PS(){Yr(Co),Yr(Fi)}function b3(e,t,i){if(Fi.current!==Zc)throw Error(dt(168));Gr(Fi,t),Gr(Co,i)}function IG(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var c in o)if(!(c in t))throw Error(dt(108,Nde(e)||"Unknown",c));return vn({},i,o)}function kS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zc,nd=Fi.current,Gr(Fi,e),Gr(Co,Co.current),!0}function C3(e,t,i){var o=e.stateNode;if(!o)throw Error(dt(169));i?(e=IG(e,t,nd),o.__reactInternalMemoizedMergedChildContext=e,Yr(Co),Yr(Fi),Gr(Fi,e)):Yr(Co),Gr(Co,i)}var bu=null,xb=!1,yx=!1;function wG(e){bu===null?bu=[e]:bu.push(e)}function qfe(e){xb=!0,wG(e)}function nl(){if(!yx&&bu!==null){yx=!0;var e=0,t=Rr;try{var i=bu;for(Rr=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}bu=null,xb=!1}catch(c){throw bu!==null&&(bu=bu.slice(e+1)),Q6(Sk,nl),c}finally{Rr=t,yx=!1}}return null}var Hf=[],$f=0,DS=null,RS=0,va=[],_a=0,id=null,Eu=1,xu="";function Vl(e,t){Hf[$f++]=RS,Hf[$f++]=DS,DS=e,RS=t}function EG(e,t,i){va[_a++]=Eu,va[_a++]=xu,va[_a++]=id,id=e;var o=Eu;e=xu;var c=32-ns(o)-1;o&=~(1<<c),i+=1;var f=32-ns(t)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,Eu=1<<32-ns(t)+c|i<<c|o,xu=f+e}else Eu=1<<f|i<<c|o,xu=e}function Pk(e){e.return!==null&&(Vl(e,1),EG(e,1,0))}function kk(e){for(;e===DS;)DS=Hf[--$f],Hf[$f]=null,RS=Hf[--$f],Hf[$f]=null;for(;e===id;)id=va[--_a],va[_a]=null,xu=va[--_a],va[_a]=null,Eu=va[--_a],va[_a]=null}var zo=null,Go=null,on=!1,Za=null;function xG(e,t){var i=ya(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function T3(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zo=e,Go=$c(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zo=e,Go=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=id!==null?{id:Eu,overflow:xu}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=ya(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,zo=e,Go=null,!0):!1;default:return!1}}function BA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function UA(e){if(on){var t=Go;if(t){var i=t;if(!T3(e,t)){if(BA(e))throw Error(dt(418));t=$c(i.nextSibling);var o=zo;t&&T3(e,t)?xG(o,i):(e.flags=e.flags&-4097|2,on=!1,zo=e)}}else{if(BA(e))throw Error(dt(418));e.flags=e.flags&-4097|2,on=!1,zo=e}}}function I3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zo=e}function fy(e){if(e!==zo)return!1;if(!on)return I3(e),on=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!NA(e.type,e.memoizedProps)),t&&(t=Go)){if(BA(e))throw AG(),Error(dt(418));for(;t;)xG(e,t),t=$c(t.nextSibling)}if(I3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(dt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Go=$c(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Go=null}}else Go=zo?$c(e.stateNode.nextSibling):null;return!0}function AG(){for(var e=Go;e;)e=$c(e.nextSibling)}function Sh(){Go=zo=null,on=!1}function Dk(e){Za===null?Za=[e]:Za.push(e)}var Zfe=Wu.ReactCurrentBatchConfig;function Bg(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(dt(309));var o=i.stateNode}if(!o)throw Error(dt(147,e));var c=o,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var v=c.refs;g===null?delete v[f]:v[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(dt(284));if(!i._owner)throw Error(dt(290,e))}return e}function hy(e,t){throw e=Object.prototype.toString.call(t),Error(dt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function w3(e){var t=e._init;return t(e._payload)}function PG(e){function t(k,R){if(e){var L=k.deletions;L===null?(k.deletions=[R],k.flags|=16):L.push(R)}}function i(k,R){if(!e)return null;for(;R!==null;)t(k,R),R=R.sibling;return null}function o(k,R){for(k=new Map;R!==null;)R.key!==null?k.set(R.key,R):k.set(R.index,R),R=R.sibling;return k}function c(k,R){return k=Qc(k,R),k.index=0,k.sibling=null,k}function f(k,R,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<R?(k.flags|=2,R):L):(k.flags|=2,R)):(k.flags|=1048576,R)}function g(k){return e&&k.alternate===null&&(k.flags|=2),k}function v(k,R,L,K){return R===null||R.tag!==6?(R=Ex(L,k.mode,K),R.return=k,R):(R=c(R,L),R.return=k,R)}function C(k,R,L,K){var de=L.type;return de===Bf?E(k,R,L.props.children,K,L.key):R!==null&&(R.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Dc&&w3(de)===R.type)?(K=c(R,L.props),K.ref=Bg(k,R,L),K.return=k,K):(K=Xy(L.type,L.key,L.props,null,k.mode,K),K.ref=Bg(k,R,L),K.return=k,K)}function T(k,R,L,K){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=xx(L,k.mode,K),R.return=k,R):(R=c(R,L.children||[]),R.return=k,R)}function E(k,R,L,K,de){return R===null||R.tag!==7?(R=Zl(L,k.mode,K,de),R.return=k,R):(R=c(R,L),R.return=k,R)}function A(k,R,L){if(typeof R=="string"&&R!==""||typeof R=="number")return R=Ex(""+R,k.mode,L),R.return=k,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ry:return L=Xy(R.type,R.key,R.props,null,k.mode,L),L.ref=Bg(k,null,R),L.return=k,L;case Wf:return R=xx(R,k.mode,L),R.return=k,R;case Dc:var K=R._init;return A(k,K(R._payload),L)}if(Zg(R)||Og(R))return R=Zl(R,k.mode,L,null),R.return=k,R;hy(k,R)}return null}function P(k,R,L,K){var de=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return de!==null?null:v(k,R,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ry:return L.key===de?C(k,R,L,K):null;case Wf:return L.key===de?T(k,R,L,K):null;case Dc:return de=L._init,P(k,R,de(L._payload),K)}if(Zg(L)||Og(L))return de!==null?null:E(k,R,L,K,null);hy(k,L)}return null}function O(k,R,L,K,de){if(typeof K=="string"&&K!==""||typeof K=="number")return k=k.get(L)||null,v(R,k,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ry:return k=k.get(K.key===null?L:K.key)||null,C(R,k,K,de);case Wf:return k=k.get(K.key===null?L:K.key)||null,T(R,k,K,de);case Dc:var ee=K._init;return O(k,R,L,ee(K._payload),de)}if(Zg(K)||Og(K))return k=k.get(L)||null,E(R,k,K,de,null);hy(R,K)}return null}function w(k,R,L,K){for(var de=null,ee=null,Q=R,ce=R=0,he=null;Q!==null&&ce<L.length;ce++){Q.index>ce?(he=Q,Q=null):he=Q.sibling;var le=P(k,Q,L[ce],K);if(le===null){Q===null&&(Q=he);break}e&&Q&&le.alternate===null&&t(k,Q),R=f(le,R,ce),ee===null?de=le:ee.sibling=le,ee=le,Q=he}if(ce===L.length)return i(k,Q),on&&Vl(k,ce),de;if(Q===null){for(;ce<L.length;ce++)Q=A(k,L[ce],K),Q!==null&&(R=f(Q,R,ce),ee===null?de=Q:ee.sibling=Q,ee=Q);return on&&Vl(k,ce),de}for(Q=o(k,Q);ce<L.length;ce++)he=O(Q,k,ce,L[ce],K),he!==null&&(e&&he.alternate!==null&&Q.delete(he.key===null?ce:he.key),R=f(he,R,ce),ee===null?de=he:ee.sibling=he,ee=he);return e&&Q.forEach(function(fe){return t(k,fe)}),on&&Vl(k,ce),de}function N(k,R,L,K){var de=Og(L);if(typeof de!="function")throw Error(dt(150));if(L=de.call(L),L==null)throw Error(dt(151));for(var ee=de=null,Q=R,ce=R=0,he=null,le=L.next();Q!==null&&!le.done;ce++,le=L.next()){Q.index>ce?(he=Q,Q=null):he=Q.sibling;var fe=P(k,Q,le.value,K);if(fe===null){Q===null&&(Q=he);break}e&&Q&&fe.alternate===null&&t(k,Q),R=f(fe,R,ce),ee===null?de=fe:ee.sibling=fe,ee=fe,Q=he}if(le.done)return i(k,Q),on&&Vl(k,ce),de;if(Q===null){for(;!le.done;ce++,le=L.next())le=A(k,le.value,K),le!==null&&(R=f(le,R,ce),ee===null?de=le:ee.sibling=le,ee=le);return on&&Vl(k,ce),de}for(Q=o(k,Q);!le.done;ce++,le=L.next())le=O(Q,k,ce,le.value,K),le!==null&&(e&&le.alternate!==null&&Q.delete(le.key===null?ce:le.key),R=f(le,R,ce),ee===null?de=le:ee.sibling=le,ee=le);return e&&Q.forEach(function(ye){return t(k,ye)}),on&&Vl(k,ce),de}function M(k,R,L,K){if(typeof L=="object"&&L!==null&&L.type===Bf&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case ry:e:{for(var de=L.key,ee=R;ee!==null;){if(ee.key===de){if(de=L.type,de===Bf){if(ee.tag===7){i(k,ee.sibling),R=c(ee,L.props.children),R.return=k,k=R;break e}}else if(ee.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Dc&&w3(de)===ee.type){i(k,ee.sibling),R=c(ee,L.props),R.ref=Bg(k,ee,L),R.return=k,k=R;break e}i(k,ee);break}else t(k,ee);ee=ee.sibling}L.type===Bf?(R=Zl(L.props.children,k.mode,K,L.key),R.return=k,k=R):(K=Xy(L.type,L.key,L.props,null,k.mode,K),K.ref=Bg(k,R,L),K.return=k,k=K)}return g(k);case Wf:e:{for(ee=L.key;R!==null;){if(R.key===ee)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){i(k,R.sibling),R=c(R,L.children||[]),R.return=k,k=R;break e}else{i(k,R);break}else t(k,R);R=R.sibling}R=xx(L,k.mode,K),R.return=k,k=R}return g(k);case Dc:return ee=L._init,M(k,R,ee(L._payload),K)}if(Zg(L))return w(k,R,L,K);if(Og(L))return N(k,R,L,K);hy(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,R!==null&&R.tag===6?(i(k,R.sibling),R=c(R,L),R.return=k,k=R):(i(k,R),R=Ex(L,k.mode,K),R.return=k,k=R),g(k)):i(k,R)}return M}var bh=PG(!0),kG=PG(!1),FS=rl(null),OS=null,Kf=null,Rk=null;function Fk(){Rk=Kf=OS=null}function Ok(e){var t=FS.current;Yr(FS),e._currentValue=t}function VA(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function ch(e,t){OS=e,Rk=Kf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bo=!0),e.firstContext=null)}function ba(e){var t=e._currentValue;if(Rk!==e)if(e={context:e,memoizedValue:t,next:null},Kf===null){if(OS===null)throw Error(dt(308));Kf=e,OS.dependencies={lanes:0,firstContext:e}}else Kf=Kf.next=e;return t}var Kl=null;function Nk(e){Kl===null?Kl=[e]:Kl.push(e)}function DG(e,t,i,o){var c=t.interleaved;return c===null?(i.next=i,Nk(t)):(i.next=c.next,c.next=i),t.interleaved=i,Ou(e,o)}function Ou(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Rc=!1;function Mk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RG(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ku(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kc(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,yr&2){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,Ou(e,i)}return c=o.interleaved,c===null?(t.next=t,Nk(o)):(t.next=c.next,c.next=t),o.interleaved=t,Ou(e,i)}function Gy(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,bk(e,i)}}function E3(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function NS(e,t,i,o){var c=e.updateQueue;Rc=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var C=v,T=C.next;C.next=null,g===null?f=T:g.next=T,g=C;var E=e.alternate;E!==null&&(E=E.updateQueue,v=E.lastBaseUpdate,v!==g&&(v===null?E.firstBaseUpdate=T:v.next=T,E.lastBaseUpdate=C))}if(f!==null){var A=c.baseState;g=0,E=T=C=null,v=f;do{var P=v.lane,O=v.eventTime;if((o&P)===P){E!==null&&(E=E.next={eventTime:O,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var w=e,N=v;switch(P=t,O=i,N.tag){case 1:if(w=N.payload,typeof w=="function"){A=w.call(O,A,P);break e}A=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=N.payload,P=typeof w=="function"?w.call(O,A,P):w,P==null)break e;A=vn({},A,P);break e;case 2:Rc=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,P=c.effects,P===null?c.effects=[v]:P.push(v))}else O={eventTime:O,lane:P,tag:v.tag,payload:v.payload,callback:v.callback,next:null},E===null?(T=E=O,C=A):E=E.next=O,g|=P;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;P=v,v=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(1);if(E===null&&(C=A),c.baseState=C,c.firstBaseUpdate=T,c.lastBaseUpdate=E,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else f===null&&(c.shared.lanes=0);ad|=g,e.lanes=g,e.memoizedState=A}}function x3(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],c=o.callback;if(c!==null){if(o.callback=null,o=i,typeof c!="function")throw Error(dt(191,c));c.call(o)}}}var Sv={},$s=rl(Sv),$m=rl(Sv),Km=rl(Sv);function Yl(e){if(e===Sv)throw Error(dt(174));return e}function Lk(e,t){switch(Gr(Km,t),Gr($m,e),Gr($s,Sv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bA(t,e)}Yr($s),Gr($s,t)}function Ch(){Yr($s),Yr($m),Yr(Km)}function FG(e){Yl(Km.current);var t=Yl($s.current),i=bA(t,e.type);t!==i&&(Gr($m,e),Gr($s,i))}function Wk(e){$m.current===e&&(Yr($s),Yr($m))}var gn=rl(0);function MS(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sx=[];function Bk(){for(var e=0;e<Sx.length;e++)Sx[e]._workInProgressVersionPrimary=null;Sx.length=0}var zy=Wu.ReactCurrentDispatcher,bx=Wu.ReactCurrentBatchConfig,od=0,mn=null,Yn=null,ri=null,LS=!1,pm=!1,Ym=0,ehe=0;function Pi(){throw Error(dt(321))}function Uk(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!us(e[i],t[i]))return!1;return!0}function Vk(e,t,i,o,c,f){if(od=f,mn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zy.current=e===null||e.memoizedState===null?ihe:ohe,e=i(o,c),pm){f=0;do{if(pm=!1,Ym=0,25<=f)throw Error(dt(301));f+=1,ri=Yn=null,t.updateQueue=null,zy.current=ahe,e=i(o,c)}while(pm)}if(zy.current=WS,t=Yn!==null&&Yn.next!==null,od=0,ri=Yn=mn=null,LS=!1,t)throw Error(dt(300));return e}function jk(){var e=Ym!==0;return Ym=0,e}function Ms(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ri===null?mn.memoizedState=ri=e:ri=ri.next=e,ri}function Ca(){if(Yn===null){var e=mn.alternate;e=e!==null?e.memoizedState:null}else e=Yn.next;var t=ri===null?mn.memoizedState:ri.next;if(t!==null)ri=t,Yn=e;else{if(e===null)throw Error(dt(310));Yn=e,e={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},ri===null?mn.memoizedState=ri=e:ri=ri.next=e}return ri}function Xm(e,t){return typeof t=="function"?t(e):t}function Cx(e){var t=Ca(),i=t.queue;if(i===null)throw Error(dt(311));i.lastRenderedReducer=e;var o=Yn,c=o.baseQueue,f=i.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}o.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,o=o.baseState;var v=g=null,C=null,T=f;do{var E=T.lane;if((od&E)===E)C!==null&&(C=C.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),o=T.hasEagerState?T.eagerState:e(o,T.action);else{var A={lane:E,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};C===null?(v=C=A,g=o):C=C.next=A,mn.lanes|=E,ad|=E}T=T.next}while(T!==null&&T!==f);C===null?g=o:C.next=v,us(o,t.memoizedState)||(bo=!0),t.memoizedState=o,t.baseState=g,t.baseQueue=C,i.lastRenderedState=o}if(e=i.interleaved,e!==null){c=e;do f=c.lane,mn.lanes|=f,ad|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Tx(e){var t=Ca(),i=t.queue;if(i===null)throw Error(dt(311));i.lastRenderedReducer=e;var o=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);us(f,t.memoizedState)||(bo=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,o]}function OG(){}function NG(e,t){var i=mn,o=Ca(),c=t(),f=!us(o.memoizedState,c);if(f&&(o.memoizedState=c,bo=!0),o=o.queue,Gk(WG.bind(null,i,o,e),[e]),o.getSnapshot!==t||f||ri!==null&&ri.memoizedState.tag&1){if(i.flags|=2048,Qm(9,LG.bind(null,i,o,c,t),void 0,null),ni===null)throw Error(dt(349));od&30||MG(i,t,c)}return c}function MG(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=mn.updateQueue,t===null?(t={lastEffect:null,stores:null},mn.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function LG(e,t,i,o){t.value=i,t.getSnapshot=o,BG(t)&&UG(e)}function WG(e,t,i){return i(function(){BG(t)&&UG(e)})}function BG(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!us(e,i)}catch{return!0}}function UG(e){var t=Ou(e,1);t!==null&&is(t,e,1,-1)}function A3(e){var t=Ms();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:e},t.queue=e,e=e.dispatch=nhe.bind(null,mn,e),[t.memoizedState,e]}function Qm(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=mn.updateQueue,t===null?(t={lastEffect:null,stores:null},mn.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function VG(){return Ca().memoizedState}function Hy(e,t,i,o){var c=Ms();mn.flags|=e,c.memoizedState=Qm(1|t,i,void 0,o===void 0?null:o)}function Ab(e,t,i,o){var c=Ca();o=o===void 0?null:o;var f=void 0;if(Yn!==null){var g=Yn.memoizedState;if(f=g.destroy,o!==null&&Uk(o,g.deps)){c.memoizedState=Qm(t,i,f,o);return}}mn.flags|=e,c.memoizedState=Qm(1|t,i,f,o)}function P3(e,t){return Hy(8390656,8,e,t)}function Gk(e,t){return Ab(2048,8,e,t)}function jG(e,t){return Ab(4,2,e,t)}function GG(e,t){return Ab(4,4,e,t)}function zG(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function HG(e,t,i){return i=i!=null?i.concat([e]):null,Ab(4,4,zG.bind(null,t,e),i)}function zk(){}function $G(e,t){var i=Ca();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Uk(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function KG(e,t){var i=Ca();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Uk(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function YG(e,t,i){return od&21?(us(i,t)||(i=Z6(),mn.lanes|=i,ad|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=i)}function the(e,t){var i=Rr;Rr=i!==0&&4>i?i:4,e(!0);var o=bx.transition;bx.transition={};try{e(!1),t()}finally{Rr=i,bx.transition=o}}function XG(){return Ca().memoizedState}function rhe(e,t,i){var o=Xc(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},QG(e))JG(t,i);else if(i=DG(e,t,i,o),i!==null){var c=Zi();is(i,e,o,c),qG(i,t,o)}}function nhe(e,t,i){var o=Xc(e),c={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(QG(e))JG(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,v=f(g,i);if(c.hasEagerState=!0,c.eagerState=v,us(v,g)){var C=t.interleaved;C===null?(c.next=c,Nk(t)):(c.next=C.next,C.next=c),t.interleaved=c;return}}catch{}finally{}i=DG(e,t,c,o),i!==null&&(c=Zi(),is(i,e,o,c),qG(i,t,o))}}function QG(e){var t=e.alternate;return e===mn||t!==null&&t===mn}function JG(e,t){pm=LS=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function qG(e,t,i){if(i&4194240){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,bk(e,i)}}var WS={readContext:ba,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useInsertionEffect:Pi,useLayoutEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useMutableSource:Pi,useSyncExternalStore:Pi,useId:Pi,unstable_isNewReconciler:!1},ihe={readContext:ba,useCallback:function(e,t){return Ms().memoizedState=[e,t===void 0?null:t],e},useContext:ba,useEffect:P3,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Hy(4194308,4,zG.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Hy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hy(4,2,e,t)},useMemo:function(e,t){var i=Ms();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=Ms();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=rhe.bind(null,mn,e),[o.memoizedState,e]},useRef:function(e){var t=Ms();return e={current:e},t.memoizedState=e},useState:A3,useDebugValue:zk,useDeferredValue:function(e){return Ms().memoizedState=e},useTransition:function(){var e=A3(!1),t=e[0];return e=the.bind(null,e[1]),Ms().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=mn,c=Ms();if(on){if(i===void 0)throw Error(dt(407));i=i()}else{if(i=t(),ni===null)throw Error(dt(349));od&30||MG(o,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,P3(WG.bind(null,o,f,e),[e]),o.flags|=2048,Qm(9,LG.bind(null,o,f,i,t),void 0,null),i},useId:function(){var e=Ms(),t=ni.identifierPrefix;if(on){var i=xu,o=Eu;i=(o&~(1<<32-ns(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=Ym++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=ehe++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ohe={readContext:ba,useCallback:$G,useContext:ba,useEffect:Gk,useImperativeHandle:HG,useInsertionEffect:jG,useLayoutEffect:GG,useMemo:KG,useReducer:Cx,useRef:VG,useState:function(){return Cx(Xm)},useDebugValue:zk,useDeferredValue:function(e){var t=Ca();return YG(t,Yn.memoizedState,e)},useTransition:function(){var e=Cx(Xm)[0],t=Ca().memoizedState;return[e,t]},useMutableSource:OG,useSyncExternalStore:NG,useId:XG,unstable_isNewReconciler:!1},ahe={readContext:ba,useCallback:$G,useContext:ba,useEffect:Gk,useImperativeHandle:HG,useInsertionEffect:jG,useLayoutEffect:GG,useMemo:KG,useReducer:Tx,useRef:VG,useState:function(){return Tx(Xm)},useDebugValue:zk,useDeferredValue:function(e){var t=Ca();return Yn===null?t.memoizedState=e:YG(t,Yn.memoizedState,e)},useTransition:function(){var e=Tx(Xm)[0],t=Ca().memoizedState;return[e,t]},useMutableSource:OG,useSyncExternalStore:NG,useId:XG,unstable_isNewReconciler:!1};function Ja(e,t){if(e&&e.defaultProps){t=vn({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function jA(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:vn({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Pb={isMounted:function(e){return(e=e._reactInternals)?dd(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=Zi(),c=Xc(e),f=ku(o,c);f.payload=t,i!=null&&(f.callback=i),t=Kc(e,f,c),t!==null&&(is(t,e,c,o),Gy(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=Zi(),c=Xc(e),f=ku(o,c);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=Kc(e,f,c),t!==null&&(is(t,e,c,o),Gy(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Zi(),o=Xc(e),c=ku(i,o);c.tag=2,t!=null&&(c.callback=t),t=Kc(e,c,o),t!==null&&(is(t,e,o,i),Gy(t,e,o))}};function k3(e,t,i,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):t.prototype&&t.prototype.isPureReactComponent?!jm(i,o)||!jm(c,f):!0}function ZG(e,t,i){var o=!1,c=Zc,f=t.contextType;return typeof f=="object"&&f!==null?f=ba(f):(c=To(t)?nd:Fi.current,o=t.contextTypes,f=(o=o!=null)?yh(e,c):Zc),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pb,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),t}function D3(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Pb.enqueueReplaceState(t,t.state,null)}function GA(e,t,i,o){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},Mk(e);var f=t.contextType;typeof f=="object"&&f!==null?c.context=ba(f):(f=To(t)?nd:Fi.current,c.context=yh(e,f)),c.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(jA(e,t,f,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Pb.enqueueReplaceState(c,c.state,null),NS(e,i,c,o),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Th(e,t){try{var i="",o=t;do i+=Ode(o),o=o.return;while(o);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:c,digest:null}}function Ix(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function zA(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var she=typeof WeakMap=="function"?WeakMap:Map;function ez(e,t,i){i=ku(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){US||(US=!0,eP=o),zA(e,t)},i}function tz(e,t,i){i=ku(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var c=t.value;i.payload=function(){return o(c)},i.callback=function(){zA(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){zA(e,t),typeof o!="function"&&(Yc===null?Yc=new Set([this]):Yc.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function R3(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new she;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(i)||(c.add(i),e=bhe.bind(null,e,t,i),t.then(e,e))}function F3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function O3(e,t,i,o,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=ku(-1,1),t.tag=2,Kc(i,t,1))),i.lanes|=1),e)}var uhe=Wu.ReactCurrentOwner,bo=!1;function Qi(e,t,i,o){t.child=e===null?kG(t,null,i,o):bh(t,e.child,i,o)}function N3(e,t,i,o,c){i=i.render;var f=t.ref;return ch(t,c),o=Vk(e,t,i,o,f,c),i=jk(),e!==null&&!bo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Nu(e,t,c)):(on&&i&&Pk(t),t.flags|=1,Qi(e,t,o,c),t.child)}function M3(e,t,i,o,c){if(e===null){var f=i.type;return typeof f=="function"&&!qk(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,rz(e,t,f,o,c)):(e=Xy(i.type,null,o,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:jm,i(g,o)&&e.ref===t.ref)return Nu(e,t,c)}return t.flags|=1,e=Qc(f,o),e.ref=t.ref,e.return=t,t.child=e}function rz(e,t,i,o,c){if(e!==null){var f=e.memoizedProps;if(jm(f,o)&&e.ref===t.ref)if(bo=!1,t.pendingProps=o=f,(e.lanes&c)!==0)e.flags&131072&&(bo=!0);else return t.lanes=e.lanes,Nu(e,t,c)}return HA(e,t,i,o,c)}function nz(e,t,i){var o=t.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gr(Xf,Vo),Vo|=i;else{if(!(i&1073741824))return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gr(Xf,Vo),Vo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:i,Gr(Xf,Vo),Vo|=o}else f!==null?(o=f.baseLanes|i,t.memoizedState=null):o=i,Gr(Xf,Vo),Vo|=o;return Qi(e,t,c,i),t.child}function iz(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function HA(e,t,i,o,c){var f=To(i)?nd:Fi.current;return f=yh(t,f),ch(t,c),i=Vk(e,t,i,o,f,c),o=jk(),e!==null&&!bo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Nu(e,t,c)):(on&&o&&Pk(t),t.flags|=1,Qi(e,t,i,c),t.child)}function L3(e,t,i,o,c){if(To(i)){var f=!0;kS(t)}else f=!1;if(ch(t,c),t.stateNode===null)$y(e,t),ZG(t,i,o),GA(t,i,o,c),o=!0;else if(e===null){var g=t.stateNode,v=t.memoizedProps;g.props=v;var C=g.context,T=i.contextType;typeof T=="object"&&T!==null?T=ba(T):(T=To(i)?nd:Fi.current,T=yh(t,T));var E=i.getDerivedStateFromProps,A=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function";A||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==o||C!==T)&&D3(t,g,o,T),Rc=!1;var P=t.memoizedState;g.state=P,NS(t,o,g,c),C=t.memoizedState,v!==o||P!==C||Co.current||Rc?(typeof E=="function"&&(jA(t,i,E,o),C=t.memoizedState),(v=Rc||k3(t,i,v,o,P,C,T))?(A||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=C),g.props=o,g.state=C,g.context=T,o=v):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{g=t.stateNode,RG(e,t),v=t.memoizedProps,T=t.type===t.elementType?v:Ja(t.type,v),g.props=T,A=t.pendingProps,P=g.context,C=i.contextType,typeof C=="object"&&C!==null?C=ba(C):(C=To(i)?nd:Fi.current,C=yh(t,C));var O=i.getDerivedStateFromProps;(E=typeof O=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==A||P!==C)&&D3(t,g,o,C),Rc=!1,P=t.memoizedState,g.state=P,NS(t,o,g,c);var w=t.memoizedState;v!==A||P!==w||Co.current||Rc?(typeof O=="function"&&(jA(t,i,O,o),w=t.memoizedState),(T=Rc||k3(t,i,T,o,P,w,C)||!1)?(E||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,w,C),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,w,C)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=w),g.props=o,g.state=w,g.context=C,o=T):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),o=!1)}return $A(e,t,i,o,f,c)}function $A(e,t,i,o,c,f){iz(e,t);var g=(t.flags&128)!==0;if(!o&&!g)return c&&C3(t,i,!1),Nu(e,t,f);o=t.stateNode,uhe.current=t;var v=g&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&g?(t.child=bh(t,e.child,null,f),t.child=bh(t,null,v,f)):Qi(e,t,v,f),t.memoizedState=o.state,c&&C3(t,i,!0),t.child}function oz(e){var t=e.stateNode;t.pendingContext?b3(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b3(e,t.context,!1),Lk(e,t.containerInfo)}function W3(e,t,i,o,c){return Sh(),Dk(c),t.flags|=256,Qi(e,t,i,o),t.child}var KA={dehydrated:null,treeContext:null,retryLane:0};function YA(e){return{baseLanes:e,cachePool:null,transitions:null}}function az(e,t,i){var o=t.pendingProps,c=gn.current,f=!1,g=(t.flags&128)!==0,v;if((v=g)||(v=e!==null&&e.memoizedState===null?!1:(c&2)!==0),v?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Gr(gn,c&1),e===null)return UA(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=o.children,e=o.fallback,f?(o=t.mode,f=t.child,g={mode:"hidden",children:g},!(o&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Rb(g,o,0,null),e=Zl(e,o,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=YA(i),t.memoizedState=KA,e):Hk(t,g));if(c=e.memoizedState,c!==null&&(v=c.dehydrated,v!==null))return che(e,t,g,o,v,c,i);if(f){f=o.fallback,g=t.mode,c=e.child,v=c.sibling;var C={mode:"hidden",children:o.children};return!(g&1)&&t.child!==c?(o=t.child,o.childLanes=0,o.pendingProps=C,t.deletions=null):(o=Qc(c,C),o.subtreeFlags=c.subtreeFlags&14680064),v!==null?f=Qc(v,f):(f=Zl(f,g,i,null),f.flags|=2),f.return=t,o.return=t,o.sibling=f,t.child=o,o=f,f=t.child,g=e.child.memoizedState,g=g===null?YA(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=KA,o}return f=e.child,e=f.sibling,o=Qc(f,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Hk(e,t){return t=Rb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function py(e,t,i,o){return o!==null&&Dk(o),bh(t,e.child,null,i),e=Hk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function che(e,t,i,o,c,f,g){if(i)return t.flags&256?(t.flags&=-257,o=Ix(Error(dt(422))),py(e,t,g,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=o.fallback,c=t.mode,o=Rb({mode:"visible",children:o.children},c,0,null),f=Zl(f,c,g,null),f.flags|=2,o.return=t,f.return=t,o.sibling=f,t.child=o,t.mode&1&&bh(t,e.child,null,g),t.child.memoizedState=YA(g),t.memoizedState=KA,f);if(!(t.mode&1))return py(e,t,g,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var v=o.dgst;return o=v,f=Error(dt(419)),o=Ix(f,o,void 0),py(e,t,g,o)}if(v=(g&e.childLanes)!==0,bo||v){if(o=ni,o!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(o.suspendedLanes|g)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,Ou(e,c),is(o,e,c,-1))}return Jk(),o=Ix(Error(dt(421))),py(e,t,g,o)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Che.bind(null,e),c._reactRetry=t,null):(e=f.treeContext,Go=$c(c.nextSibling),zo=t,on=!0,Za=null,e!==null&&(va[_a++]=Eu,va[_a++]=xu,va[_a++]=id,Eu=e.id,xu=e.overflow,id=t),t=Hk(t,o.children),t.flags|=4096,t)}function B3(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),VA(e.return,t,i)}function wx(e,t,i,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=i,f.tailMode=c)}function sz(e,t,i){var o=t.pendingProps,c=o.revealOrder,f=o.tail;if(Qi(e,t,o.children,i),o=gn.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&B3(e,i,t);else if(e.tag===19)B3(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Gr(gn,o),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&MS(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),wx(t,!1,c,i,f);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&MS(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}wx(t,!0,i,null,f);break;case"together":wx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $y(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nu(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ad|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(dt(153));if(t.child!==null){for(e=t.child,i=Qc(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Qc(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function lhe(e,t,i){switch(t.tag){case 3:oz(t),Sh();break;case 5:FG(t);break;case 1:To(t.type)&&kS(t);break;case 4:Lk(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,c=t.memoizedProps.value;Gr(FS,o._currentValue),o._currentValue=c;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Gr(gn,gn.current&1),t.flags|=128,null):i&t.child.childLanes?az(e,t,i):(Gr(gn,gn.current&1),e=Nu(e,t,i),e!==null?e.sibling:null);Gr(gn,gn.current&1);break;case 19:if(o=(i&t.childLanes)!==0,e.flags&128){if(o)return sz(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Gr(gn,gn.current),o)break;return null;case 22:case 23:return t.lanes=0,nz(e,t,i)}return Nu(e,t,i)}var uz,XA,cz,lz;uz=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};XA=function(){};cz=function(e,t,i,o){var c=e.memoizedProps;if(c!==o){e=t.stateNode,Yl($s.current);var f=null;switch(i){case"input":c=vA(e,c),o=vA(e,o),f=[];break;case"select":c=vn({},c,{value:void 0}),o=vn({},o,{value:void 0}),f=[];break;case"textarea":c=SA(e,c),o=SA(e,o),f=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=AS)}CA(i,o);var g;i=null;for(T in c)if(!o.hasOwnProperty(T)&&c.hasOwnProperty(T)&&c[T]!=null)if(T==="style"){var v=c[T];for(g in v)v.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(Nm.hasOwnProperty(T)?f||(f=[]):(f=f||[]).push(T,null));for(T in o){var C=o[T];if(v=c!=null?c[T]:void 0,o.hasOwnProperty(T)&&C!==v&&(C!=null||v!=null))if(T==="style")if(v){for(g in v)!v.hasOwnProperty(g)||C&&C.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in C)C.hasOwnProperty(g)&&v[g]!==C[g]&&(i||(i={}),i[g]=C[g])}else i||(f||(f=[]),f.push(T,i)),i=C;else T==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,v=v?v.__html:void 0,C!=null&&v!==C&&(f=f||[]).push(T,C)):T==="children"?typeof C!="string"&&typeof C!="number"||(f=f||[]).push(T,""+C):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(Nm.hasOwnProperty(T)?(C!=null&&T==="onScroll"&&$r("scroll",e),f||v===C||(f=[])):(f=f||[]).push(T,C))}i&&(f=f||[]).push("style",i);var T=f;(t.updateQueue=T)&&(t.flags|=4)}};lz=function(e,t,i,o){i!==o&&(t.flags|=4)};function Ug(e,t){if(!on)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ki(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function dhe(e,t,i){var o=t.pendingProps;switch(kk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ki(t),null;case 1:return To(t.type)&&PS(),ki(t),null;case 3:return o=t.stateNode,Ch(),Yr(Co),Yr(Fi),Bk(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(fy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Za!==null&&(nP(Za),Za=null))),XA(e,t),ki(t),null;case 5:Wk(t);var c=Yl(Km.current);if(i=t.type,e!==null&&t.stateNode!=null)cz(e,t,i,o,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(dt(166));return ki(t),null}if(e=Yl($s.current),fy(t)){o=t.stateNode,i=t.type;var f=t.memoizedProps;switch(o[Vs]=t,o[Hm]=f,e=(t.mode&1)!==0,i){case"dialog":$r("cancel",o),$r("close",o);break;case"iframe":case"object":case"embed":$r("load",o);break;case"video":case"audio":for(c=0;c<tm.length;c++)$r(tm[c],o);break;case"source":$r("error",o);break;case"img":case"image":case"link":$r("error",o),$r("load",o);break;case"details":$r("toggle",o);break;case"input":Y4(o,f),$r("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!f.multiple},$r("invalid",o);break;case"textarea":Q4(o,f),$r("invalid",o)}CA(i,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var v=f[g];g==="children"?typeof v=="string"?o.textContent!==v&&(f.suppressHydrationWarning!==!0&&dy(o.textContent,v,e),c=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(f.suppressHydrationWarning!==!0&&dy(o.textContent,v,e),c=["children",""+v]):Nm.hasOwnProperty(g)&&v!=null&&g==="onScroll"&&$r("scroll",o)}switch(i){case"input":ny(o),X4(o,f,!0);break;case"textarea":ny(o),J4(o);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(o.onclick=AS)}o=c,t.updateQueue=o,o!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=W6(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(i,{is:o.is}):(e=g.createElement(i),i==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,i),e[Vs]=t,e[Hm]=o,uz(e,t,!1,!1),t.stateNode=e;e:{switch(g=TA(i,o),i){case"dialog":$r("cancel",e),$r("close",e),c=o;break;case"iframe":case"object":case"embed":$r("load",e),c=o;break;case"video":case"audio":for(c=0;c<tm.length;c++)$r(tm[c],e);c=o;break;case"source":$r("error",e),c=o;break;case"img":case"image":case"link":$r("error",e),$r("load",e),c=o;break;case"details":$r("toggle",e),c=o;break;case"input":Y4(e,o),c=vA(e,o),$r("invalid",e);break;case"option":c=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},c=vn({},o,{value:void 0}),$r("invalid",e);break;case"textarea":Q4(e,o),c=SA(e,o),$r("invalid",e);break;default:c=o}CA(i,c),v=c;for(f in v)if(v.hasOwnProperty(f)){var C=v[f];f==="style"?V6(e,C):f==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&B6(e,C)):f==="children"?typeof C=="string"?(i!=="textarea"||C!=="")&&Mm(e,C):typeof C=="number"&&Mm(e,""+C):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Nm.hasOwnProperty(f)?C!=null&&f==="onScroll"&&$r("scroll",e):C!=null&&gk(e,f,C,g))}switch(i){case"input":ny(e),X4(e,o,!1);break;case"textarea":ny(e),J4(e);break;case"option":o.value!=null&&e.setAttribute("value",""+qc(o.value));break;case"select":e.multiple=!!o.multiple,f=o.value,f!=null?oh(e,!!o.multiple,f,!1):o.defaultValue!=null&&oh(e,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=AS)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ki(t),null;case 6:if(e&&t.stateNode!=null)lz(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(dt(166));if(i=Yl(Km.current),Yl($s.current),fy(t)){if(o=t.stateNode,i=t.memoizedProps,o[Vs]=t,(f=o.nodeValue!==i)&&(e=zo,e!==null))switch(e.tag){case 3:dy(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dy(o.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Vs]=t,t.stateNode=o}return ki(t),null;case 13:if(Yr(gn),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(on&&Go!==null&&t.mode&1&&!(t.flags&128))AG(),Sh(),t.flags|=98560,f=!1;else if(f=fy(t),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(dt(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(dt(317));f[Vs]=t}else Sh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ki(t),f=!1}else Za!==null&&(nP(Za),Za=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||gn.current&1?Xn===0&&(Xn=3):Jk())),t.updateQueue!==null&&(t.flags|=4),ki(t),null);case 4:return Ch(),XA(e,t),e===null&&Gm(t.stateNode.containerInfo),ki(t),null;case 10:return Ok(t.type._context),ki(t),null;case 17:return To(t.type)&&PS(),ki(t),null;case 19:if(Yr(gn),f=t.memoizedState,f===null)return ki(t),null;if(o=(t.flags&128)!==0,g=f.rendering,g===null)if(o)Ug(f,!1);else{if(Xn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=MS(e),g!==null){for(t.flags|=128,Ug(f,!1),o=g.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)f=i,e=o,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Gr(gn,gn.current&1|2),t.child}e=e.sibling}f.tail!==null&&Fn()>Ih&&(t.flags|=128,o=!0,Ug(f,!1),t.lanes=4194304)}else{if(!o)if(e=MS(g),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Ug(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!on)return ki(t),null}else 2*Fn()-f.renderingStartTime>Ih&&i!==1073741824&&(t.flags|=128,o=!0,Ug(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Fn(),t.sibling=null,i=gn.current,Gr(gn,o?i&1|2:i&1),t):(ki(t),null);case 22:case 23:return Qk(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Vo&1073741824&&(ki(t),t.subtreeFlags&6&&(t.flags|=8192)):ki(t),null;case 24:return null;case 25:return null}throw Error(dt(156,t.tag))}function fhe(e,t){switch(kk(t),t.tag){case 1:return To(t.type)&&PS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ch(),Yr(Co),Yr(Fi),Bk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wk(t),null;case 13:if(Yr(gn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(dt(340));Sh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yr(gn),null;case 4:return Ch(),null;case 10:return Ok(t.type._context),null;case 22:case 23:return Qk(),null;case 24:return null;default:return null}}var gy=!1,Ri=!1,hhe=typeof WeakSet=="function"?WeakSet:Set,It=null;function Yf(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){In(e,t,o)}else i.current=null}function QA(e,t,i){try{i()}catch(o){In(e,t,o)}}var U3=!1;function phe(e,t){if(FA=wS,e=gG(),Ak(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,v=-1,C=-1,T=0,E=0,A=e,P=null;t:for(;;){for(var O;A!==i||c!==0&&A.nodeType!==3||(v=g+c),A!==f||o!==0&&A.nodeType!==3||(C=g+o),A.nodeType===3&&(g+=A.nodeValue.length),(O=A.firstChild)!==null;)P=A,A=O;for(;;){if(A===e)break t;if(P===i&&++T===c&&(v=g),P===f&&++E===o&&(C=g),(O=A.nextSibling)!==null)break;A=P,P=A.parentNode}A=O}i=v===-1||C===-1?null:{start:v,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(OA={focusedElem:e,selectionRange:i},wS=!1,It=t;It!==null;)if(t=It,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,It=e;else for(;It!==null;){t=It;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var N=w.memoizedProps,M=w.memoizedState,k=t.stateNode,R=k.getSnapshotBeforeUpdate(t.elementType===t.type?N:Ja(t.type,N),M);k.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(dt(163))}}catch(K){In(t,t.return,K)}if(e=t.sibling,e!==null){e.return=t.return,It=e;break}It=t.return}return w=U3,U3=!1,w}function gm(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&QA(t,i,f)}c=c.next}while(c!==o)}}function kb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function JA(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function dz(e){var t=e.alternate;t!==null&&(e.alternate=null,dz(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vs],delete t[Hm],delete t[LA],delete t[Qfe],delete t[Jfe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fz(e){return e.tag===5||e.tag===3||e.tag===4}function V3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fz(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qA(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=AS));else if(o!==4&&(e=e.child,e!==null))for(qA(e,t,i),e=e.sibling;e!==null;)qA(e,t,i),e=e.sibling}function ZA(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(ZA(e,t,i),e=e.sibling;e!==null;)ZA(e,t,i),e=e.sibling}var yi=null,qa=!1;function Cc(e,t,i){for(i=i.child;i!==null;)hz(e,t,i),i=i.sibling}function hz(e,t,i){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(Cb,i)}catch{}switch(i.tag){case 5:Ri||Yf(i,t);case 6:var o=yi,c=qa;yi=null,Cc(e,t,i),yi=o,qa=c,yi!==null&&(qa?(e=yi,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):yi.removeChild(i.stateNode));break;case 18:yi!==null&&(qa?(e=yi,i=i.stateNode,e.nodeType===8?_x(e.parentNode,i):e.nodeType===1&&_x(e,i),Um(e)):_x(yi,i.stateNode));break;case 4:o=yi,c=qa,yi=i.stateNode.containerInfo,qa=!0,Cc(e,t,i),yi=o,qa=c;break;case 0:case 11:case 14:case 15:if(!Ri&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&QA(i,t,g),c=c.next}while(c!==o)}Cc(e,t,i);break;case 1:if(!Ri&&(Yf(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){In(i,t,v)}Cc(e,t,i);break;case 21:Cc(e,t,i);break;case 22:i.mode&1?(Ri=(o=Ri)||i.memoizedState!==null,Cc(e,t,i),Ri=o):Cc(e,t,i);break;default:Cc(e,t,i)}}function j3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new hhe),t.forEach(function(o){var c=The.bind(null,e,o);i.has(o)||(i.add(o),o.then(c,c))})}}function $a(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];try{var f=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 5:yi=v.stateNode,qa=!1;break e;case 3:yi=v.stateNode.containerInfo,qa=!0;break e;case 4:yi=v.stateNode.containerInfo,qa=!0;break e}v=v.return}if(yi===null)throw Error(dt(160));hz(f,g,c),yi=null,qa=!1;var C=c.alternate;C!==null&&(C.return=null),c.return=null}catch(T){In(c,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pz(t,e),t=t.sibling}function pz(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($a(t,e),Fs(e),o&4){try{gm(3,e,e.return),kb(3,e)}catch(N){In(e,e.return,N)}try{gm(5,e,e.return)}catch(N){In(e,e.return,N)}}break;case 1:$a(t,e),Fs(e),o&512&&i!==null&&Yf(i,i.return);break;case 5:if($a(t,e),Fs(e),o&512&&i!==null&&Yf(i,i.return),e.flags&32){var c=e.stateNode;try{Mm(c,"")}catch(N){In(e,e.return,N)}}if(o&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,v=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{v==="input"&&f.type==="radio"&&f.name!=null&&M6(c,f),TA(v,g);var T=TA(v,f);for(g=0;g<C.length;g+=2){var E=C[g],A=C[g+1];E==="style"?V6(c,A):E==="dangerouslySetInnerHTML"?B6(c,A):E==="children"?Mm(c,A):gk(c,E,A,T)}switch(v){case"input":_A(c,f);break;case"textarea":L6(c,f);break;case"select":var P=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var O=f.value;O!=null?oh(c,!!f.multiple,O,!1):P!==!!f.multiple&&(f.defaultValue!=null?oh(c,!!f.multiple,f.defaultValue,!0):oh(c,!!f.multiple,f.multiple?[]:"",!1))}c[Hm]=f}catch(N){In(e,e.return,N)}}break;case 6:if($a(t,e),Fs(e),o&4){if(e.stateNode===null)throw Error(dt(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(N){In(e,e.return,N)}}break;case 3:if($a(t,e),Fs(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Um(t.containerInfo)}catch(N){In(e,e.return,N)}break;case 4:$a(t,e),Fs(e);break;case 13:$a(t,e),Fs(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Yk=Fn())),o&4&&j3(e);break;case 22:if(E=i!==null&&i.memoizedState!==null,e.mode&1?(Ri=(T=Ri)||E,$a(t,e),Ri=T):$a(t,e),Fs(e),o&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!E&&e.mode&1)for(It=e,E=e.child;E!==null;){for(A=It=E;It!==null;){switch(P=It,O=P.child,P.tag){case 0:case 11:case 14:case 15:gm(4,P,P.return);break;case 1:Yf(P,P.return);var w=P.stateNode;if(typeof w.componentWillUnmount=="function"){o=P,i=P.return;try{t=o,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(N){In(o,i,N)}}break;case 5:Yf(P,P.return);break;case 22:if(P.memoizedState!==null){z3(A);continue}}O!==null?(O.return=P,It=O):z3(A)}E=E.sibling}e:for(E=null,A=e;;){if(A.tag===5){if(E===null){E=A;try{c=A.stateNode,T?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(v=A.stateNode,C=A.memoizedProps.style,g=C!=null&&C.hasOwnProperty("display")?C.display:null,v.style.display=U6("display",g))}catch(N){In(e,e.return,N)}}}else if(A.tag===6){if(E===null)try{A.stateNode.nodeValue=T?"":A.memoizedProps}catch(N){In(e,e.return,N)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;E===A&&(E=null),A=A.return}E===A&&(E=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:$a(t,e),Fs(e),o&4&&j3(e);break;case 21:break;default:$a(t,e),Fs(e)}}function Fs(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(fz(i)){var o=i;break e}i=i.return}throw Error(dt(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(Mm(c,""),o.flags&=-33);var f=V3(e);ZA(e,f,c);break;case 3:case 4:var g=o.stateNode.containerInfo,v=V3(e);qA(e,v,g);break;default:throw Error(dt(161))}}catch(C){In(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ghe(e,t,i){It=e,gz(e)}function gz(e,t,i){for(var o=(e.mode&1)!==0;It!==null;){var c=It,f=c.child;if(c.tag===22&&o){var g=c.memoizedState!==null||gy;if(!g){var v=c.alternate,C=v!==null&&v.memoizedState!==null||Ri;v=gy;var T=Ri;if(gy=g,(Ri=C)&&!T)for(It=c;It!==null;)g=It,C=g.child,g.tag===22&&g.memoizedState!==null?H3(c):C!==null?(C.return=g,It=C):H3(c);for(;f!==null;)It=f,gz(f),f=f.sibling;It=c,gy=v,Ri=T}G3(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,It=f):G3(e)}}function G3(e){for(;It!==null;){var t=It;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ri||kb(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ri)if(i===null)o.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:Ja(t.type,i.memoizedProps);o.componentDidUpdate(c,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&x3(t,f,o);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}x3(t,g,i)}break;case 5:var v=t.stateNode;if(i===null&&t.flags&4){i=v;var C=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&i.focus();break;case"img":C.src&&(i.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var E=T.memoizedState;if(E!==null){var A=E.dehydrated;A!==null&&Um(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(dt(163))}Ri||t.flags&512&&JA(t)}catch(P){In(t,t.return,P)}}if(t===e){It=null;break}if(i=t.sibling,i!==null){i.return=t.return,It=i;break}It=t.return}}function z3(e){for(;It!==null;){var t=It;if(t===e){It=null;break}var i=t.sibling;if(i!==null){i.return=t.return,It=i;break}It=t.return}}function H3(e){for(;It!==null;){var t=It;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{kb(4,t)}catch(C){In(t,i,C)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var c=t.return;try{o.componentDidMount()}catch(C){In(t,c,C)}}var f=t.return;try{JA(t)}catch(C){In(t,f,C)}break;case 5:var g=t.return;try{JA(t)}catch(C){In(t,g,C)}}}catch(C){In(t,t.return,C)}if(t===e){It=null;break}var v=t.sibling;if(v!==null){v.return=t.return,It=v;break}It=t.return}}var mhe=Math.ceil,BS=Wu.ReactCurrentDispatcher,$k=Wu.ReactCurrentOwner,Sa=Wu.ReactCurrentBatchConfig,yr=0,ni=null,Bn=null,bi=0,Vo=0,Xf=rl(0),Xn=0,Jm=null,ad=0,Db=0,Kk=0,mm=null,yo=null,Yk=0,Ih=1/0,yu=null,US=!1,eP=null,Yc=null,my=!1,Uc=null,VS=0,vm=0,tP=null,Ky=-1,Yy=0;function Zi(){return yr&6?Fn():Ky!==-1?Ky:Ky=Fn()}function Xc(e){return e.mode&1?yr&2&&bi!==0?bi&-bi:Zfe.transition!==null?(Yy===0&&(Yy=Z6()),Yy):(e=Rr,e!==0||(e=window.event,e=e===void 0?16:aG(e.type)),e):1}function is(e,t,i,o){if(50<vm)throw vm=0,tP=null,Error(dt(185));vv(e,i,o),(!(yr&2)||e!==ni)&&(e===ni&&(!(yr&2)&&(Db|=i),Xn===4&&Mc(e,bi)),Io(e,o),i===1&&yr===0&&!(t.mode&1)&&(Ih=Fn()+500,xb&&nl()))}function Io(e,t){var i=e.callbackNode;Zde(e,t);var o=IS(e,e===ni?bi:0);if(o===0)i!==null&&e3(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&e3(i),t===1)e.tag===0?qfe($3.bind(null,e)):wG($3.bind(null,e)),Yfe(function(){!(yr&6)&&nl()}),i=null;else{switch(eG(o)){case 1:i=Sk;break;case 4:i=J6;break;case 16:i=TS;break;case 536870912:i=q6;break;default:i=TS}i=Tz(i,mz.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function mz(e,t){if(Ky=-1,Yy=0,yr&6)throw Error(dt(327));var i=e.callbackNode;if(lh()&&e.callbackNode!==i)return null;var o=IS(e,e===ni?bi:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=jS(e,o);else{t=o;var c=yr;yr|=2;var f=_z();(ni!==e||bi!==t)&&(yu=null,Ih=Fn()+500,ql(e,t));do try{yhe();break}catch(v){vz(e,v)}while(1);Fk(),BS.current=f,yr=c,Bn!==null?t=0:(ni=null,bi=0,t=Xn)}if(t!==0){if(t===2&&(c=AA(e),c!==0&&(o=c,t=rP(e,c))),t===1)throw i=Jm,ql(e,0),Mc(e,o),Io(e,Fn()),i;if(t===6)Mc(e,o);else{if(c=e.current.alternate,!(o&30)&&!vhe(c)&&(t=jS(e,o),t===2&&(f=AA(e),f!==0&&(o=f,t=rP(e,f))),t===1))throw i=Jm,ql(e,0),Mc(e,o),Io(e,Fn()),i;switch(e.finishedWork=c,e.finishedLanes=o,t){case 0:case 1:throw Error(dt(345));case 2:jl(e,yo,yu);break;case 3:if(Mc(e,o),(o&130023424)===o&&(t=Yk+500-Fn(),10<t)){if(IS(e,0)!==0)break;if(c=e.suspendedLanes,(c&o)!==o){Zi(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=MA(jl.bind(null,e,yo,yu),t);break}jl(e,yo,yu);break;case 4:if(Mc(e,o),(o&4194240)===o)break;for(t=e.eventTimes,c=-1;0<o;){var g=31-ns(o);f=1<<g,g=t[g],g>c&&(c=g),o&=~f}if(o=c,o=Fn()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*mhe(o/1960))-o,10<o){e.timeoutHandle=MA(jl.bind(null,e,yo,yu),o);break}jl(e,yo,yu);break;case 5:jl(e,yo,yu);break;default:throw Error(dt(329))}}}return Io(e,Fn()),e.callbackNode===i?mz.bind(null,e):null}function rP(e,t){var i=mm;return e.current.memoizedState.isDehydrated&&(ql(e,t).flags|=256),e=jS(e,t),e!==2&&(t=yo,yo=i,t!==null&&nP(t)),e}function nP(e){yo===null?yo=e:yo.push.apply(yo,e)}function vhe(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var c=i[o],f=c.getSnapshot;c=c.value;try{if(!us(f(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mc(e,t){for(t&=~Kk,t&=~Db,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-ns(t),o=1<<i;e[i]=-1,t&=~o}}function $3(e){if(yr&6)throw Error(dt(327));lh();var t=IS(e,0);if(!(t&1))return Io(e,Fn()),null;var i=jS(e,t);if(e.tag!==0&&i===2){var o=AA(e);o!==0&&(t=o,i=rP(e,o))}if(i===1)throw i=Jm,ql(e,0),Mc(e,t),Io(e,Fn()),i;if(i===6)throw Error(dt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jl(e,yo,yu),Io(e,Fn()),null}function Xk(e,t){var i=yr;yr|=1;try{return e(t)}finally{yr=i,yr===0&&(Ih=Fn()+500,xb&&nl())}}function sd(e){Uc!==null&&Uc.tag===0&&!(yr&6)&&lh();var t=yr;yr|=1;var i=Sa.transition,o=Rr;try{if(Sa.transition=null,Rr=1,e)return e()}finally{Rr=o,Sa.transition=i,yr=t,!(yr&6)&&nl()}}function Qk(){Vo=Xf.current,Yr(Xf)}function ql(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Kfe(i)),Bn!==null)for(i=Bn.return;i!==null;){var o=i;switch(kk(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&PS();break;case 3:Ch(),Yr(Co),Yr(Fi),Bk();break;case 5:Wk(o);break;case 4:Ch();break;case 13:Yr(gn);break;case 19:Yr(gn);break;case 10:Ok(o.type._context);break;case 22:case 23:Qk()}i=i.return}if(ni=e,Bn=e=Qc(e.current,null),bi=Vo=t,Xn=0,Jm=null,Kk=Db=ad=0,yo=mm=null,Kl!==null){for(t=0;t<Kl.length;t++)if(i=Kl[t],o=i.interleaved,o!==null){i.interleaved=null;var c=o.next,f=i.pending;if(f!==null){var g=f.next;f.next=c,o.next=g}i.pending=o}Kl=null}return e}function vz(e,t){do{var i=Bn;try{if(Fk(),zy.current=WS,LS){for(var o=mn.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}LS=!1}if(od=0,ri=Yn=mn=null,pm=!1,Ym=0,$k.current=null,i===null||i.return===null){Xn=1,Jm=t,Bn=null;break}e:{var f=e,g=i.return,v=i,C=t;if(t=bi,v.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var T=C,E=v,A=E.tag;if(!(E.mode&1)&&(A===0||A===11||A===15)){var P=E.alternate;P?(E.updateQueue=P.updateQueue,E.memoizedState=P.memoizedState,E.lanes=P.lanes):(E.updateQueue=null,E.memoizedState=null)}var O=F3(g);if(O!==null){O.flags&=-257,O3(O,g,v,f,t),O.mode&1&&R3(f,T,t),t=O,C=T;var w=t.updateQueue;if(w===null){var N=new Set;N.add(C),t.updateQueue=N}else w.add(C);break e}else{if(!(t&1)){R3(f,T,t),Jk();break e}C=Error(dt(426))}}else if(on&&v.mode&1){var M=F3(g);if(M!==null){!(M.flags&65536)&&(M.flags|=256),O3(M,g,v,f,t),Dk(Th(C,v));break e}}f=C=Th(C,v),Xn!==4&&(Xn=2),mm===null?mm=[f]:mm.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var k=ez(f,C,t);E3(f,k);break e;case 1:v=C;var R=f.type,L=f.stateNode;if(!(f.flags&128)&&(typeof R.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Yc===null||!Yc.has(L)))){f.flags|=65536,t&=-t,f.lanes|=t;var K=tz(f,v,t);E3(f,K);break e}}f=f.return}while(f!==null)}Sz(i)}catch(de){t=de,Bn===i&&i!==null&&(Bn=i=i.return);continue}break}while(1)}function _z(){var e=BS.current;return BS.current=WS,e===null?WS:e}function Jk(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),ni===null||!(ad&268435455)&&!(Db&268435455)||Mc(ni,bi)}function jS(e,t){var i=yr;yr|=2;var o=_z();(ni!==e||bi!==t)&&(yu=null,ql(e,t));do try{_he();break}catch(c){vz(e,c)}while(1);if(Fk(),yr=i,BS.current=o,Bn!==null)throw Error(dt(261));return ni=null,bi=0,Xn}function _he(){for(;Bn!==null;)yz(Bn)}function yhe(){for(;Bn!==null&&!zde();)yz(Bn)}function yz(e){var t=Cz(e.alternate,e,Vo);e.memoizedProps=e.pendingProps,t===null?Sz(e):Bn=t,$k.current=null}function Sz(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=fhe(i,t),i!==null){i.flags&=32767,Bn=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xn=6,Bn=null;return}}else if(i=dhe(i,t,Vo),i!==null){Bn=i;return}if(t=t.sibling,t!==null){Bn=t;return}Bn=t=e}while(t!==null);Xn===0&&(Xn=5)}function jl(e,t,i){var o=Rr,c=Sa.transition;try{Sa.transition=null,Rr=1,She(e,t,i,o)}finally{Sa.transition=c,Rr=o}return null}function She(e,t,i,o){do lh();while(Uc!==null);if(yr&6)throw Error(dt(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(dt(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(efe(e,f),e===ni&&(Bn=ni=null,bi=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||my||(my=!0,Tz(TS,function(){return lh(),null})),f=(i.flags&15990)!==0,i.subtreeFlags&15990||f){f=Sa.transition,Sa.transition=null;var g=Rr;Rr=1;var v=yr;yr|=4,$k.current=null,phe(e,i),pz(i,e),Ufe(OA),wS=!!FA,OA=FA=null,e.current=i,ghe(i),Hde(),yr=v,Rr=g,Sa.transition=f}else e.current=i;if(my&&(my=!1,Uc=e,VS=c),f=e.pendingLanes,f===0&&(Yc=null),Yde(i.stateNode),Io(e,Fn()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],o(c.value,{componentStack:c.stack,digest:c.digest});if(US)throw US=!1,e=eP,eP=null,e;return VS&1&&e.tag!==0&&lh(),f=e.pendingLanes,f&1?e===tP?vm++:(vm=0,tP=e):vm=0,nl(),null}function lh(){if(Uc!==null){var e=eG(VS),t=Sa.transition,i=Rr;try{if(Sa.transition=null,Rr=16>e?16:e,Uc===null)var o=!1;else{if(e=Uc,Uc=null,VS=0,yr&6)throw Error(dt(331));var c=yr;for(yr|=4,It=e.current;It!==null;){var f=It,g=f.child;if(It.flags&16){var v=f.deletions;if(v!==null){for(var C=0;C<v.length;C++){var T=v[C];for(It=T;It!==null;){var E=It;switch(E.tag){case 0:case 11:case 15:gm(8,E,f)}var A=E.child;if(A!==null)A.return=E,It=A;else for(;It!==null;){E=It;var P=E.sibling,O=E.return;if(dz(E),E===T){It=null;break}if(P!==null){P.return=O,It=P;break}It=O}}}var w=f.alternate;if(w!==null){var N=w.child;if(N!==null){w.child=null;do{var M=N.sibling;N.sibling=null,N=M}while(N!==null)}}It=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,It=g;else e:for(;It!==null;){if(f=It,f.flags&2048)switch(f.tag){case 0:case 11:case 15:gm(9,f,f.return)}var k=f.sibling;if(k!==null){k.return=f.return,It=k;break e}It=f.return}}var R=e.current;for(It=R;It!==null;){g=It;var L=g.child;if(g.subtreeFlags&2064&&L!==null)L.return=g,It=L;else e:for(g=R;It!==null;){if(v=It,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:kb(9,v)}}catch(de){In(v,v.return,de)}if(v===g){It=null;break e}var K=v.sibling;if(K!==null){K.return=v.return,It=K;break e}It=v.return}}if(yr=c,nl(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(Cb,e)}catch{}o=!0}return o}finally{Rr=i,Sa.transition=t}}return!1}function K3(e,t,i){t=Th(i,t),t=ez(e,t,1),e=Kc(e,t,1),t=Zi(),e!==null&&(vv(e,1,t),Io(e,t))}function In(e,t,i){if(e.tag===3)K3(e,e,i);else for(;t!==null;){if(t.tag===3){K3(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Yc===null||!Yc.has(o))){e=Th(i,e),e=tz(t,e,1),t=Kc(t,e,1),e=Zi(),t!==null&&(vv(t,1,e),Io(t,e));break}}t=t.return}}function bhe(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=Zi(),e.pingedLanes|=e.suspendedLanes&i,ni===e&&(bi&i)===i&&(Xn===4||Xn===3&&(bi&130023424)===bi&&500>Fn()-Yk?ql(e,0):Kk|=i),Io(e,t)}function bz(e,t){t===0&&(e.mode&1?(t=ay,ay<<=1,!(ay&130023424)&&(ay=4194304)):t=1);var i=Zi();e=Ou(e,t),e!==null&&(vv(e,t,i),Io(e,i))}function Che(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),bz(e,i)}function The(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(dt(314))}o!==null&&o.delete(t),bz(e,i)}var Cz;Cz=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Co.current)bo=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return bo=!1,lhe(e,t,i);bo=!!(e.flags&131072)}else bo=!1,on&&t.flags&1048576&&EG(t,RS,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;$y(e,t),e=t.pendingProps;var c=yh(t,Fi.current);ch(t,i),c=Vk(null,t,o,e,c,i);var f=jk();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,To(o)?(f=!0,kS(t)):f=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Mk(t),c.updater=Pb,t.stateNode=c,c._reactInternals=t,GA(t,o,e,i),t=$A(null,t,o,!0,f,i)):(t.tag=0,on&&f&&Pk(t),Qi(null,t,c,i),t=t.child),t;case 16:o=t.elementType;e:{switch($y(e,t),e=t.pendingProps,c=o._init,o=c(o._payload),t.type=o,c=t.tag=whe(o),e=Ja(o,e),c){case 0:t=HA(null,t,o,e,i);break e;case 1:t=L3(null,t,o,e,i);break e;case 11:t=N3(null,t,o,e,i);break e;case 14:t=M3(null,t,o,Ja(o.type,e),i);break e}throw Error(dt(306,o,""))}return t;case 0:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Ja(o,c),HA(e,t,o,c,i);case 1:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Ja(o,c),L3(e,t,o,c,i);case 3:e:{if(oz(t),e===null)throw Error(dt(387));o=t.pendingProps,f=t.memoizedState,c=f.element,RG(e,t),NS(t,o,null,i);var g=t.memoizedState;if(o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){c=Th(Error(dt(423)),t),t=W3(e,t,o,i,c);break e}else if(o!==c){c=Th(Error(dt(424)),t),t=W3(e,t,o,i,c);break e}else for(Go=$c(t.stateNode.containerInfo.firstChild),zo=t,on=!0,Za=null,i=kG(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Sh(),o===c){t=Nu(e,t,i);break e}Qi(e,t,o,i)}t=t.child}return t;case 5:return FG(t),e===null&&UA(t),o=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,NA(o,c)?g=null:f!==null&&NA(o,f)&&(t.flags|=32),iz(e,t),Qi(e,t,g,i),t.child;case 6:return e===null&&UA(t),null;case 13:return az(e,t,i);case 4:return Lk(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=bh(t,null,o,i):Qi(e,t,o,i),t.child;case 11:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Ja(o,c),N3(e,t,o,c,i);case 7:return Qi(e,t,t.pendingProps,i),t.child;case 8:return Qi(e,t,t.pendingProps.children,i),t.child;case 12:return Qi(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,c=t.pendingProps,f=t.memoizedProps,g=c.value,Gr(FS,o._currentValue),o._currentValue=g,f!==null)if(us(f.value,g)){if(f.children===c.children&&!Co.current){t=Nu(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var v=f.dependencies;if(v!==null){g=f.child;for(var C=v.firstContext;C!==null;){if(C.context===o){if(f.tag===1){C=ku(-1,i&-i),C.tag=2;var T=f.updateQueue;if(T!==null){T=T.shared;var E=T.pending;E===null?C.next=C:(C.next=E.next,E.next=C),T.pending=C}}f.lanes|=i,C=f.alternate,C!==null&&(C.lanes|=i),VA(f.return,i,t),v.lanes|=i;break}C=C.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(dt(341));g.lanes|=i,v=g.alternate,v!==null&&(v.lanes|=i),VA(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}Qi(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,o=t.pendingProps.children,ch(t,i),c=ba(c),o=o(c),t.flags|=1,Qi(e,t,o,i),t.child;case 14:return o=t.type,c=Ja(o,t.pendingProps),c=Ja(o.type,c),M3(e,t,o,c,i);case 15:return rz(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Ja(o,c),$y(e,t),t.tag=1,To(o)?(e=!0,kS(t)):e=!1,ch(t,i),ZG(t,o,c),GA(t,o,c,i),$A(null,t,o,!0,e,i);case 19:return sz(e,t,i);case 22:return nz(e,t,i)}throw Error(dt(156,t.tag))};function Tz(e,t){return Q6(e,t)}function Ihe(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ya(e,t,i,o){return new Ihe(e,t,i,o)}function qk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function whe(e){if(typeof e=="function")return qk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vk)return 11;if(e===_k)return 14}return 2}function Qc(e,t){var i=e.alternate;return i===null?(i=ya(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Xy(e,t,i,o,c,f){var g=2;if(o=e,typeof e=="function")qk(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Bf:return Zl(i.children,c,f,t);case mk:g=8,c|=8;break;case hA:return e=ya(12,i,t,c|2),e.elementType=hA,e.lanes=f,e;case pA:return e=ya(13,i,t,c),e.elementType=pA,e.lanes=f,e;case gA:return e=ya(19,i,t,c),e.elementType=gA,e.lanes=f,e;case F6:return Rb(i,c,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D6:g=10;break e;case R6:g=9;break e;case vk:g=11;break e;case _k:g=14;break e;case Dc:g=16,o=null;break e}throw Error(dt(130,e==null?e:typeof e,""))}return t=ya(g,i,t,c),t.elementType=e,t.type=o,t.lanes=f,t}function Zl(e,t,i,o){return e=ya(7,e,o,t),e.lanes=i,e}function Rb(e,t,i,o){return e=ya(22,e,o,t),e.elementType=F6,e.lanes=i,e.stateNode={isHidden:!1},e}function Ex(e,t,i){return e=ya(6,e,null,t),e.lanes=i,e}function xx(e,t,i){return t=ya(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ehe(e,t,i,o,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sx(0),this.expirationTimes=sx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sx(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Zk(e,t,i,o,c,f,g,v,C){return e=new Ehe(e,t,i,v,C),t===1?(t=1,f===!0&&(t|=8)):t=0,f=ya(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mk(f),e}function xhe(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wf,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function Iz(e){if(!e)return Zc;e=e._reactInternals;e:{if(dd(e)!==e||e.tag!==1)throw Error(dt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(To(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(dt(171))}if(e.tag===1){var i=e.type;if(To(i))return IG(e,i,t)}return t}function wz(e,t,i,o,c,f,g,v,C){return e=Zk(i,o,!0,e,c,f,g,v,C),e.context=Iz(null),i=e.current,o=Zi(),c=Xc(i),f=ku(o,c),f.callback=t??null,Kc(i,f,c),e.current.lanes=c,vv(e,c,o),Io(e,o),e}function Fb(e,t,i,o){var c=t.current,f=Zi(),g=Xc(c);return i=Iz(i),t.context===null?t.context=i:t.pendingContext=i,t=ku(f,g),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Kc(c,t,g),e!==null&&(is(e,c,g,f),Gy(e,c,g)),g}function GS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Y3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function eD(e,t){Y3(e,t),(e=e.alternate)&&Y3(e,t)}function Ahe(){return null}var Ez=typeof reportError=="function"?reportError:function(e){console.error(e)};function tD(e){this._internalRoot=e}Ob.prototype.render=tD.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(dt(409));Fb(e,t,null,null)};Ob.prototype.unmount=tD.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sd(function(){Fb(null,e,null,null)}),t[Fu]=null}};function Ob(e){this._internalRoot=e}Ob.prototype.unstable_scheduleHydration=function(e){if(e){var t=nG();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Nc.length&&t!==0&&t<Nc[i].priority;i++);Nc.splice(i,0,e),i===0&&oG(e)}};function rD(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function X3(){}function Phe(e,t,i,o,c){if(c){if(typeof o=="function"){var f=o;o=function(){var T=GS(g);f.call(T)}}var g=wz(t,o,e,0,null,!1,!1,"",X3);return e._reactRootContainer=g,e[Fu]=g.current,Gm(e.nodeType===8?e.parentNode:e),sd(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof o=="function"){var v=o;o=function(){var T=GS(C);v.call(T)}}var C=Zk(e,0,!1,null,null,!1,!1,"",X3);return e._reactRootContainer=C,e[Fu]=C.current,Gm(e.nodeType===8?e.parentNode:e),sd(function(){Fb(t,C,i,o)}),C}function Mb(e,t,i,o,c){var f=i._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var v=c;c=function(){var C=GS(g);v.call(C)}}Fb(t,g,e,c)}else g=Phe(i,t,e,c,o);return GS(g)}tG=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=em(t.pendingLanes);i!==0&&(bk(t,i|1),Io(t,Fn()),!(yr&6)&&(Ih=Fn()+500,nl()))}break;case 13:sd(function(){var o=Ou(e,1);if(o!==null){var c=Zi();is(o,e,1,c)}}),eD(e,1)}};Ck=function(e){if(e.tag===13){var t=Ou(e,134217728);if(t!==null){var i=Zi();is(t,e,134217728,i)}eD(e,134217728)}};rG=function(e){if(e.tag===13){var t=Xc(e),i=Ou(e,t);if(i!==null){var o=Zi();is(i,e,t,o)}eD(e,t)}};nG=function(){return Rr};iG=function(e,t){var i=Rr;try{return Rr=e,t()}finally{Rr=i}};wA=function(e,t,i){switch(t){case"input":if(_A(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var c=Eb(o);if(!c)throw Error(dt(90));N6(o),_A(o,c)}}}break;case"textarea":L6(e,i);break;case"select":t=i.value,t!=null&&oh(e,!!i.multiple,t,!1)}};z6=Xk;H6=sd;var khe={usingClientEntryPoint:!1,Events:[yv,Gf,Eb,j6,G6,Xk]},Vg={findFiberByHostInstance:$l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dhe={bundleType:Vg.bundleType,version:Vg.version,rendererPackageName:Vg.rendererPackageName,rendererConfig:Vg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Y6(e),e===null?null:e.stateNode},findFiberByHostInstance:Vg.findFiberByHostInstance||Ahe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vy.isDisabled&&vy.supportsFiber)try{Cb=vy.inject(Dhe),Hs=vy}catch{}}Qo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=khe;Qo.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rD(t))throw Error(dt(200));return xhe(e,t,null,i)};Qo.createRoot=function(e,t){if(!rD(e))throw Error(dt(299));var i=!1,o="",c=Ez;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Zk(e,1,!1,null,null,i,!1,o,c),e[Fu]=t.current,Gm(e.nodeType===8?e.parentNode:e),new tD(t)};Qo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(dt(188)):(e=Object.keys(e).join(","),Error(dt(268,e)));return e=Y6(t),e=e===null?null:e.stateNode,e};Qo.flushSync=function(e){return sd(e)};Qo.hydrate=function(e,t,i){if(!Nb(t))throw Error(dt(200));return Mb(null,e,t,!0,i)};Qo.hydrateRoot=function(e,t,i){if(!rD(e))throw Error(dt(405));var o=i!=null&&i.hydratedSources||null,c=!1,f="",g=Ez;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=wz(t,null,e,1,i??null,c,!1,f,g),e[Fu]=t.current,Gm(e),o)for(e=0;e<o.length;e++)i=o[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new Ob(t)};Qo.render=function(e,t,i){if(!Nb(t))throw Error(dt(200));return Mb(null,e,t,!1,i)};Qo.unmountComponentAtNode=function(e){if(!Nb(e))throw Error(dt(40));return e._reactRootContainer?(sd(function(){Mb(null,null,e,!1,function(){e._reactRootContainer=null,e[Fu]=null})}),!0):!1};Qo.unstable_batchedUpdates=Xk;Qo.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Nb(i))throw Error(dt(200));if(e==null||e._reactInternals===void 0)throw Error(dt(38));return Mb(e,t,i,!1,o)};Qo.version="18.3.1-next-f1338f8080-20240426";function xz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xz)}catch(e){console.error(e)}}xz(),x6.exports=Qo;var nD=x6.exports,Q3=nD;dA.createRoot=Q3.createRoot,dA.hydrateRoot=Q3.hydrateRoot;function Rhe(){return!!(globalThis!=null&&globalThis.document)}function Fhe(e,...t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const i={...e};for(const o of t)if(o!=null)for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&(c in i&&delete i[c],i[c]=o[c]);return i}const J3=e=>e?"":void 0;function Ohe(e){return Array.isArray(e)}function os(e){const t=typeof e;return e!=null&&(t==="object"||t==="function")&&!Ohe(e)}function Nhe(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}function Mhe(e){const t=parseFloat(e.toString()),i=e.toString().replace(String(t),"");return{unitless:!i,value:t,unit:i}}function iP(e){if(e==null)return e;const{unitless:t}=Mhe(e);return t||typeof e=="number"?`${e}px`:e}const Az=(e,t)=>parseInt(e[1],10)>parseInt(t[1],10)?1:-1,iD=e=>Object.fromEntries(Object.entries(e).sort(Az));function q3(e){const t=iD(e);return Object.assign(Object.values(t),t)}function Lhe(e){const t=Object.keys(iD(e));return new Set(t)}function Z3(e){if(!e)return e;e=iP(e)??e;const t=-.02;return typeof e=="number"?`${e+t}`:e.replace(/(\d+\.?\d*)/u,i=>`${parseFloat(i)+t}`)}function rm(e,t){const i=["@media screen"];return e&&i.push("and",`(min-width: ${iP(e)})`),t&&i.push("and",`(max-width: ${iP(t)})`),i.join(" ")}function Whe(e){if(!e)return null;e.base=e.base??"0px";const t=q3(e),i=Object.entries(e).sort(Az).map(([f,g],v,C)=>{let[,T]=C[v+1]??[];return T=parseFloat(T)>0?Z3(T):void 0,{_minW:Z3(g),breakpoint:f,minW:g,maxW:T,maxWQuery:rm(null,T),minWQuery:rm(g),minMaxQuery:rm(g,T)}}),o=Lhe(e),c=Array.from(o.values());return{keys:o,normalized:t,isResponsive(f){const g=Object.keys(f);return g.length>0&&g.every(v=>o.has(v))},asObject:iD(e),asArray:q3(e),details:i,get(f){return i.find(g=>g.breakpoint===f)},media:[null,...t.map(f=>rm(f)).slice(1)],toArrayValue(f){if(!os(f))throw new Error("toArrayValue: value must be an object");const g=c.map(v=>f[v]??null);for(;Nhe(g)===null;)g.pop();return g},toObjectValue(f){if(!Array.isArray(f))throw new Error("toObjectValue: value must be an array");return f.reduce((g,v,C)=>{const T=c[C];return T!=null&&v!=null&&(g[T]=v),g},{})}}}function oD(e){const t=Object.assign({},e);for(let i in t)t[i]===void 0&&delete t[i];return t}function Bhe(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function fd(e={}){const{name:t,strict:i=!0,hookName:o="useContext",providerName:c="Provider",errorMessage:f,defaultValue:g}=e,v=ve.createContext(g);v.displayName=t;function C(){var E;const T=ve.useContext(v);if(!T&&i){const A=new Error(f??Bhe(o,c));throw A.name="ContextError",(E=Error.captureStackTrace)==null||E.call(Error,A,C),A}return T}return[v.Provider,C,v]}const cs=(...e)=>e.filter(Boolean).join(" ");function Uhe(e,t,i,o){const c=typeof t=="string"?t.split("."):[t];for(o=0;o<c.length&&e;o+=1)e=e[c[o]];return e===void 0?i:e}const Vhe=e=>{const t=new WeakMap;return(o,c,f,g)=>{if(typeof o>"u")return e(o,c,f);t.has(o)||t.set(o,new Map);const v=t.get(o);if(v.has(c))return v.get(c);const C=e(o,c,f,g);return v.set(c,C),C}},Pz=Vhe(Uhe),jhe=e=>e.default||e;function kz(e,t=[]){const i=Object.assign({},e);for(const o of t)o in i&&delete i[o];return i}function Ghe(e,t){const i={};for(const o of t)o in e&&(i[o]=e[o]);return i}const zhe=e=>typeof e=="function";function js(e,...t){return zhe(e)?e(...t):e}function Hhe(e,...t){const i=Object.getOwnPropertyDescriptors(e),o=Object.keys(i),c=g=>{const v={};for(let C=0;C<g.length;C++){const T=g[C];i[T]&&(Object.defineProperty(v,T,i[T]),delete i[T])}return v},f=g=>c(Array.isArray(g)?g:o.filter(g));return t.map(f).concat(c(o))}function e5(e,t,i={}){const{stop:o,getKey:c}=i;function f(g,v=[]){if(os(g)||Array.isArray(g)){const C={};for(const[T,E]of Object.entries(g)){const A=(c==null?void 0:c(T))??T,P=[...v,A];if(o!=null&&o(g,P))return t(g,v);C[A]=f(E,P)}return C}return t(g,v)}return f(e)}var zS={exports:{}};zS.exports;(function(e,t){var i=200,o="__lodash_hash_undefined__",c=800,f=16,g=9007199254740991,v="[object Arguments]",C="[object Array]",T="[object AsyncFunction]",E="[object Boolean]",A="[object Date]",P="[object Error]",O="[object Function]",w="[object GeneratorFunction]",N="[object Map]",M="[object Number]",k="[object Null]",R="[object Object]",L="[object Proxy]",K="[object RegExp]",de="[object Set]",ee="[object String]",Q="[object Undefined]",ce="[object WeakMap]",he="[object ArrayBuffer]",le="[object DataView]",fe="[object Float32Array]",ye="[object Float64Array]",xe="[object Int8Array]",De="[object Int16Array]",Ne="[object Int32Array]",je="[object Uint8Array]",Ze="[object Uint8ClampedArray]",Re="[object Uint16Array]",Me="[object Uint32Array]",Ae=/[\\^$.*+?()[\]{}|]/g,Je=/^\[object .+?Constructor\]$/,He=/^(?:0|[1-9]\d*)$/,Ge={};Ge[fe]=Ge[ye]=Ge[xe]=Ge[De]=Ge[Ne]=Ge[je]=Ge[Ze]=Ge[Re]=Ge[Me]=!0,Ge[v]=Ge[C]=Ge[he]=Ge[E]=Ge[le]=Ge[A]=Ge[P]=Ge[O]=Ge[N]=Ge[M]=Ge[R]=Ge[K]=Ge[de]=Ge[ee]=Ge[ce]=!1;var nt=typeof Jg=="object"&&Jg&&Jg.Object===Object&&Jg,pe=typeof self=="object"&&self&&self.Object===Object&&self,oe=nt||pe||Function("return this")(),me=t&&!t.nodeType&&t,Se=me&&!0&&e&&!e.nodeType&&e,et=Se&&Se.exports===me,Ke=et&&nt.process,mt=function(){try{var p=Se&&Se.require&&Se.require("util").types;return p||Ke&&Ke.binding&&Ke.binding("util")}catch{}}(),vt=mt&&mt.isTypedArray;function Vt(p,Te,Ue){switch(Ue.length){case 0:return p.call(Te);case 1:return p.call(Te,Ue[0]);case 2:return p.call(Te,Ue[0],Ue[1]);case 3:return p.call(Te,Ue[0],Ue[1],Ue[2])}return p.apply(Te,Ue)}function Nt(p,Te){for(var Ue=-1,bt=Array(p);++Ue<p;)bt[Ue]=Te(Ue);return bt}function xt(p){return function(Te){return p(Te)}}function ir(p,Te){return p==null?void 0:p[Te]}function jt(p,Te){return function(Ue){return p(Te(Ue))}}var Ar=Array.prototype,Xr=Function.prototype,lr=Object.prototype,Vn=oe["__core-js_shared__"],qt=Xr.toString,or=lr.hasOwnProperty,Ct=function(){var p=/[^.]+$/.exec(Vn&&Vn.keys&&Vn.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),pr=lr.toString,Zo=qt.call(Object),Ta=RegExp("^"+qt.call(or).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gr=et?oe.Buffer:void 0,ue=oe.Symbol,kr=oe.Uint8Array,ke=gr?gr.allocUnsafe:void 0,We=jt(Object.getPrototypeOf,Object),it=Object.create,ot=lr.propertyIsEnumerable,St=Ar.splice,Dt=ue?ue.toStringTag:void 0,Ht=function(){try{var p=Xh(Object,"defineProperty");return p({},"",{}),p}catch{}}(),br=gr?gr.isBuffer:void 0,Or=Math.max,Qr=Date.now,no=Xh(oe,"Map"),ai=Xh(Object,"create"),il=function(){function p(){}return function(Te){if(!Zs(Te))return{};if(it)return it(Te);p.prototype=Te;var Ue=new p;return p.prototype=void 0,Ue}}();function Oi(p){var Te=-1,Ue=p==null?0:p.length;for(this.clear();++Te<Ue;){var bt=p[Te];this.set(bt[0],bt[1])}}function ds(){this.__data__=ai?ai(null):{},this.size=0}function Gh(p){var Te=this.has(p)&&delete this.__data__[p];return this.size-=Te?1:0,Te}function ol(p){var Te=this.__data__;if(ai){var Ue=Te[p];return Ue===o?void 0:Ue}return or.call(Te,p)?Te[p]:void 0}function Rv(p){var Te=this.__data__;return ai?Te[p]!==void 0:or.call(Te,p)}function zh(p,Te){var Ue=this.__data__;return this.size+=this.has(p)?0:1,Ue[p]=ai&&Te===void 0?o:Te,this}Oi.prototype.clear=ds,Oi.prototype.delete=Gh,Oi.prototype.get=ol,Oi.prototype.has=Rv,Oi.prototype.set=zh;function Ia(p){var Te=-1,Ue=p==null?0:p.length;for(this.clear();++Te<Ue;){var bt=p[Te];this.set(bt[0],bt[1])}}function _1(){this.__data__=[],this.size=0}function Fv(p){var Te=this.__data__,Ue=md(Te,p);if(Ue<0)return!1;var bt=Te.length-1;return Ue==bt?Te.pop():St.call(Te,Ue,1),--this.size,!0}function al(p){var Te=this.__data__,Ue=md(Te,p);return Ue<0?void 0:Te[Ue][1]}function Wr(p){return md(this.__data__,p)>-1}function y1(p,Te){var Ue=this.__data__,bt=md(Ue,p);return bt<0?(++this.size,Ue.push([p,Te])):Ue[bt][1]=Te,this}Ia.prototype.clear=_1,Ia.prototype.delete=Fv,Ia.prototype.get=al,Ia.prototype.has=Wr,Ia.prototype.set=y1;function Bu(p){var Te=-1,Ue=p==null?0:p.length;for(this.clear();++Te<Ue;){var bt=p[Te];this.set(bt[0],bt[1])}}function gd(){this.size=0,this.__data__={hash:new Oi,map:new(no||Ia),string:new Oi}}function S1(p){var Te=yd(this,p).delete(p);return this.size-=Te?1:0,Te}function b1(p){return yd(this,p).get(p)}function Hh(p){return yd(this,p).has(p)}function sl(p,Te){var Ue=yd(this,p),bt=Ue.size;return Ue.set(p,Te),this.size+=Ue.size==bt?0:1,this}Bu.prototype.clear=gd,Bu.prototype.delete=S1,Bu.prototype.get=b1,Bu.prototype.has=Hh,Bu.prototype.set=sl;function Uu(p){var Te=this.__data__=new Ia(p);this.size=Te.size}function Ov(){this.__data__=new Ia,this.size=0}function C1(p){var Te=this.__data__,Ue=Te.delete(p);return this.size=Te.size,Ue}function T1(p){return this.__data__.get(p)}function I1(p){return this.__data__.has(p)}function w1(p,Te){var Ue=this.__data__;if(Ue instanceof Ia){var bt=Ue.__data__;if(!no||bt.length<i-1)return bt.push([p,Te]),this.size=++Ue.size,this;Ue=this.__data__=new Bu(bt)}return Ue.set(p,Te),this.size=Ue.size,this}Uu.prototype.clear=Ov,Uu.prototype.delete=C1,Uu.prototype.get=T1,Uu.prototype.has=I1,Uu.prototype.set=w1;function Nv(p,Te){var Ue=qh(p),bt=!Ue&&ul(p),U=!Ue&&!bt&&Zh(p),Wt=!Ue&&!bt&&!U&&zv(p),ut=Ue||bt||U||Wt,rr=ut?Nt(p.length,String):[],Ut=rr.length;for(var io in p)(Te||or.call(p,io))&&!(ut&&(io=="length"||U&&(io=="offset"||io=="parent")||Wt&&(io=="buffer"||io=="byteLength"||io=="byteOffset")||Uv(io,Ut)))&&rr.push(io);return rr}function fs(p,Te,Ue){(Ue!==void 0&&!wa(p[Te],Ue)||Ue===void 0&&!(Te in p))&&vd(p,Te,Ue)}function E1(p,Te,Ue){var bt=p[Te];(!(or.call(p,Te)&&wa(bt,Ue))||Ue===void 0&&!(Te in p))&&vd(p,Te,Ue)}function md(p,Te){for(var Ue=p.length;Ue--;)if(wa(p[Ue][0],Te))return Ue;return-1}function vd(p,Te,Ue){Te=="__proto__"&&Ht?Ht(p,Te,{configurable:!0,enumerable:!0,value:Ue,writable:!0}):p[Te]=Ue}var Vu=O1();function _d(p){return p==null?p===void 0?Q:k:Dt&&Dt in Object(p)?Qh(p):W1(p)}function Mv(p){return Gu(p)&&_d(p)==v}function $h(p){if(!Zs(p)||M1(p))return!1;var Te=ep(p)?Ta:Je;return Te.test(U1(p))}function Lv(p){return Gu(p)&&Cd(p.length)&&!!Ge[_d(p)]}function Kh(p){if(!Zs(p))return L1(p);var Te=Vv(p),Ue=[];for(var bt in p)bt=="constructor"&&(Te||!or.call(p,bt))||Ue.push(bt);return Ue}function Wv(p,Te,Ue,bt,U){p!==Te&&Vu(Te,function(Wt,ut){if(U||(U=new Uu),Zs(Wt))Yh(p,Te,ut,Ue,Wv,bt,U);else{var rr=bt?bt(bd(p,ut),Wt,ut+"",p,Te,U):void 0;rr===void 0&&(rr=Wt),fs(p,ut,rr)}},Hv)}function Yh(p,Te,Ue,bt,U,Wt,ut){var rr=bd(p,Ue),Ut=bd(Te,Ue),io=ut.get(Ut);if(io){fs(p,Ue,io);return}var Ni=Wt?Wt(rr,Ut,Ue+"",p,Te,ut):void 0,ll=Ni===void 0;if(ll){var Ea=qh(Ut),rp=!Ea&&Zh(Ut),Td=!Ea&&!rp&&zv(Ut);Ni=Ut,Ea||rp||Td?qh(rr)?Ni=rr:V1(rr)?Ni=D1(rr):rp?(ll=!1,Ni=Bv(Ut,!0)):Td?(ll=!1,Ni=k1(Ut,!0)):Ni=[]:Gv(Ut)||ul(Ut)?(Ni=rr,ul(rr)?Ni=j1(rr):(!Zs(rr)||ep(rr))&&(Ni=Jh(Ut))):ll=!1}ll&&(ut.set(Ut,Ni),U(Ni,Ut,bt,Wt,ut),ut.delete(Ut)),fs(p,Ue,Ni)}function x1(p,Te){return jv(B1(p,Te,tp),p+"")}var A1=Ht?function(p,Te){return Ht(p,"toString",{configurable:!0,enumerable:!1,value:hs(Te),writable:!0})}:tp;function Bv(p,Te){if(Te)return p.slice();var Ue=p.length,bt=ke?ke(Ue):new p.constructor(Ue);return p.copy(bt),bt}function P1(p){var Te=new p.constructor(p.byteLength);return new kr(Te).set(new kr(p)),Te}function k1(p,Te){var Ue=Te?P1(p.buffer):p.buffer;return new p.constructor(Ue,p.byteOffset,p.length)}function D1(p,Te){var Ue=-1,bt=p.length;for(Te||(Te=Array(bt));++Ue<bt;)Te[Ue]=p[Ue];return Te}function R1(p,Te,Ue,bt){var U=!Ue;Ue||(Ue={});for(var Wt=-1,ut=Te.length;++Wt<ut;){var rr=Te[Wt],Ut=bt?bt(Ue[rr],p[rr],rr,Ue,p):void 0;Ut===void 0&&(Ut=p[rr]),U?vd(Ue,rr,Ut):E1(Ue,rr,Ut)}return Ue}function F1(p){return x1(function(Te,Ue){var bt=-1,U=Ue.length,Wt=U>1?Ue[U-1]:void 0,ut=U>2?Ue[2]:void 0;for(Wt=p.length>3&&typeof Wt=="function"?(U--,Wt):void 0,ut&&Sd(Ue[0],Ue[1],ut)&&(Wt=U<3?void 0:Wt,U=1),Te=Object(Te);++bt<U;){var rr=Ue[bt];rr&&p(Te,rr,bt,Wt)}return Te})}function O1(p){return function(Te,Ue,bt){for(var U=-1,Wt=Object(Te),ut=bt(Te),rr=ut.length;rr--;){var Ut=ut[p?rr:++U];if(Ue(Wt[Ut],Ut,Wt)===!1)break}return Te}}function yd(p,Te){var Ue=p.__data__;return N1(Te)?Ue[typeof Te=="string"?"string":"hash"]:Ue.map}function Xh(p,Te){var Ue=ir(p,Te);return $h(Ue)?Ue:void 0}function Qh(p){var Te=or.call(p,Dt),Ue=p[Dt];try{p[Dt]=void 0;var bt=!0}catch{}var U=pr.call(p);return bt&&(Te?p[Dt]=Ue:delete p[Dt]),U}function Jh(p){return typeof p.constructor=="function"&&!Vv(p)?il(We(p)):{}}function Uv(p,Te){var Ue=typeof p;return Te=Te??g,!!Te&&(Ue=="number"||Ue!="symbol"&&He.test(p))&&p>-1&&p%1==0&&p<Te}function Sd(p,Te,Ue){if(!Zs(Ue))return!1;var bt=typeof Te;return(bt=="number"?cl(Ue)&&Uv(Te,Ue.length):bt=="string"&&Te in Ue)?wa(Ue[Te],p):!1}function N1(p){var Te=typeof p;return Te=="string"||Te=="number"||Te=="symbol"||Te=="boolean"?p!=="__proto__":p===null}function M1(p){return!!Ct&&Ct in p}function Vv(p){var Te=p&&p.constructor,Ue=typeof Te=="function"&&Te.prototype||lr;return p===Ue}function L1(p){var Te=[];if(p!=null)for(var Ue in Object(p))Te.push(Ue);return Te}function W1(p){return pr.call(p)}function B1(p,Te,Ue){return Te=Or(Te===void 0?p.length-1:Te,0),function(){for(var bt=arguments,U=-1,Wt=Or(bt.length-Te,0),ut=Array(Wt);++U<Wt;)ut[U]=bt[Te+U];U=-1;for(var rr=Array(Te+1);++U<Te;)rr[U]=bt[U];return rr[Te]=Ue(ut),Vt(p,this,rr)}}function bd(p,Te){if(!(Te==="constructor"&&typeof p[Te]=="function")&&Te!="__proto__")return p[Te]}var jv=ju(A1);function ju(p){var Te=0,Ue=0;return function(){var bt=Qr(),U=f-(bt-Ue);if(Ue=bt,U>0){if(++Te>=c)return arguments[0]}else Te=0;return p.apply(void 0,arguments)}}function U1(p){if(p!=null){try{return qt.call(p)}catch{}try{return p+""}catch{}}return""}function wa(p,Te){return p===Te||p!==p&&Te!==Te}var ul=Mv(function(){return arguments}())?Mv:function(p){return Gu(p)&&or.call(p,"callee")&&!ot.call(p,"callee")},qh=Array.isArray;function cl(p){return p!=null&&Cd(p.length)&&!ep(p)}function V1(p){return Gu(p)&&cl(p)}var Zh=br||G1;function ep(p){if(!Zs(p))return!1;var Te=_d(p);return Te==O||Te==w||Te==T||Te==L}function Cd(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=g}function Zs(p){var Te=typeof p;return p!=null&&(Te=="object"||Te=="function")}function Gu(p){return p!=null&&typeof p=="object"}function Gv(p){if(!Gu(p)||_d(p)!=R)return!1;var Te=We(p);if(Te===null)return!0;var Ue=or.call(Te,"constructor")&&Te.constructor;return typeof Ue=="function"&&Ue instanceof Ue&&qt.call(Ue)==Zo}var zv=vt?xt(vt):Lv;function j1(p){return R1(p,Hv(p))}function Hv(p){return cl(p)?Nv(p,!0):Kh(p)}var j=F1(function(p,Te,Ue,bt){Wv(p,Te,Ue,bt)});function hs(p){return function(){return p}}function tp(p){return p}function G1(){return!1}e.exports=j})(zS,zS.exports);var $he=zS.exports;const Gs=Fh($he);function Khe(e,t=[]){const i=ve.useRef(e);return ve.useEffect(()=>{i.current=e}),ve.useCallback((...o)=>{var c;return(c=i.current)==null?void 0:c.call(i,...o)},t)}const oP=globalThis!=null&&globalThis.document?ve.useLayoutEffect:ve.useEffect,t5=(e,t)=>{const i=ve.useRef(!1),o=ve.useRef(!1);ve.useEffect(()=>{if(i.current&&o.current)return e();o.current=!0},t),ve.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[])};function Yhe(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function Xhe(...e){return t=>{e.forEach(i=>{Yhe(i,t)})}}function Qhe(...e){return ve.useMemo(()=>Xhe(...e),e)}function Jhe(e,t){const i=Khe(e);ve.useEffect(()=>{if(t==null)return;let o=null;return o=window.setTimeout(()=>{i()},t),()=>{o&&window.clearTimeout(o)}},[t,i])}const Dz=1/60*1e3,qhe=typeof performance<"u"?()=>performance.now():()=>Date.now(),Rz=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(qhe()),Dz);function Zhe(e){let t=[],i=[],o=0,c=!1,f=!1;const g=new WeakSet,v={schedule:(C,T=!1,E=!1)=>{const A=E&&c,P=A?t:i;return T&&g.add(C),P.indexOf(C)===-1&&(P.push(C),A&&c&&(o=t.length)),C},cancel:C=>{const T=i.indexOf(C);T!==-1&&i.splice(T,1),g.delete(C)},process:C=>{if(c){f=!0;return}if(c=!0,[t,i]=[i,t],i.length=0,o=t.length,o)for(let T=0;T<o;T++){const E=t[T];E(C),g.has(E)&&(v.schedule(E),e())}c=!1,f&&(f=!1,v.process(C))}};return v}const epe=40;let aP=!0,qm=!1,sP=!1;const dh={delta:0,timestamp:0},bv=["read","update","preRender","render","postRender"],Lb=bv.reduce((e,t)=>(e[t]=Zhe(()=>qm=!0),e),{}),as=bv.reduce((e,t)=>{const i=Lb[t];return e[t]=(o,c=!1,f=!1)=>(qm||rpe(),i.schedule(o,c,f)),e},{}),wh=bv.reduce((e,t)=>(e[t]=Lb[t].cancel,e),{}),Ax=bv.reduce((e,t)=>(e[t]=()=>Lb[t].process(dh),e),{}),tpe=e=>Lb[e].process(dh),Fz=e=>{qm=!1,dh.delta=aP?Dz:Math.max(Math.min(e-dh.timestamp,epe),1),dh.timestamp=e,sP=!0,bv.forEach(tpe),sP=!1,qm&&(aP=!1,Rz(Fz))},rpe=()=>{qm=!0,aP=!0,sP||Rz(Fz)},HS=()=>dh,Kn={open:(e,t)=>`${e}[data-open], ${e}[open], ${e}[data-state=open] ${t}`,closed:(e,t)=>`${e}[data-closed], ${e}[data-state=closed] ${t}`,hover:(e,t)=>`${e}:hover ${t}, ${e}[data-hover] ${t}`,focus:(e,t)=>`${e}:focus ${t}, ${e}[data-focus] ${t}`,focusVisible:(e,t)=>`${e}:focus-visible ${t}`,focusWithin:(e,t)=>`${e}:focus-within ${t}`,active:(e,t)=>`${e}:active ${t}, ${e}[data-active] ${t}`,disabled:(e,t)=>`${e}:disabled ${t}, ${e}[data-disabled] ${t}`,invalid:(e,t)=>`${e}:invalid ${t}, ${e}[data-invalid] ${t}`,checked:(e,t)=>`${e}:checked ${t}, ${e}[data-checked] ${t}`,indeterminate:(e,t)=>`${e}:indeterminate ${t}, ${e}[aria-checked=mixed] ${t}, ${e}[data-indeterminate] ${t}`,readOnly:(e,t)=>`${e}:read-only ${t}, ${e}[readonly] ${t}, ${e}[data-read-only] ${t}`,expanded:(e,t)=>`${e}:read-only ${t}, ${e}[aria-expanded=true] ${t}, ${e}[data-expanded] ${t}`,placeholderShown:(e,t)=>`${e}:placeholder-shown ${t}`},Os=e=>Oz(t=>e(t,"&"),"[role=group]","[data-group]",".group"),vu=e=>Oz(t=>e(t,"~ &"),"[data-peer]",".peer"),Oz=(e,...t)=>t.map(e).join(", "),npe={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:Os(Kn.open),_groupClosed:Os(Kn.closed),_groupHover:Os(Kn.hover),_peerHover:vu(Kn.hover),_groupFocus:Os(Kn.focus),_peerFocus:vu(Kn.focus),_groupFocusVisible:Os(Kn.focusVisible),_peerFocusVisible:vu(Kn.focusVisible),_groupActive:Os(Kn.active),_peerActive:vu(Kn.active),_groupDisabled:Os(Kn.disabled),_peerDisabled:vu(Kn.disabled),_groupInvalid:Os(Kn.invalid),_peerInvalid:vu(Kn.invalid),_groupChecked:Os(Kn.checked),_peerChecked:vu(Kn.checked),_groupFocusWithin:Os(Kn.focusWithin),_peerFocusWithin:vu(Kn.focusWithin),_peerPlaceholderShown:vu(Kn.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"};function Wb(e){const t=e.conditions??{},i=Object.fromEntries(Object.entries(t).map(([o,c])=>[`_${o}`,c]));return{...npe,...i}}function Nz(e){return Object.keys(Wb(e))}const ipe=e=>/!(important)?$/.test(e),r5=e=>typeof e=="string"?e.replace(/!(important)?$/,"").trim():e,ope=(e,t)=>i=>{const o=String(t),c=ipe(o),f=r5(o),g=e?`${e}.${f}`:f;let v=os(i.__cssMap)&&g in i.__cssMap?i.__cssMap[g].varRef:t;return v=r5(v),c?`${v} !important`:v};function aD(e){const{scale:t,transform:i,compose:o}=e;return(f,g)=>{const v=ope(t,f)(g);let C=(i==null?void 0:i(v,g))??v;return o&&(C=o(C,g)),C}}const _y=(...e)=>t=>e.reduce((i,o)=>o(i),t);function ga(e,t){return i=>{const o={property:i,scale:e};return o.transform=aD({scale:e,transform:t}),o}}const ape=({rtl:e,ltr:t})=>i=>i.direction==="rtl"?e:t;function spe(e){const{property:t,scale:i,transform:o}=e;return{scale:i,property:ape(t),transform:i?aD({scale:i,compose:o}):o}}const Mz=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function upe(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...Mz].join(" ")}function cpe(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...Mz].join(" ")}const lpe={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},dpe={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function fpe(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const hpe={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},uP={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},ppe=new Set(Object.values(uP)),cP=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),gpe=e=>e.trim();function mpe(e,t){if(e==null||cP.has(e))return e;if(!(lP(e)||cP.has(e)))return`url('${e}')`;const c=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),f=c==null?void 0:c[1],g=c==null?void 0:c[2];if(!f||!g)return e;const v=f.includes("-gradient")?f:`${f}-gradient`,[C,...T]=g.split(",").map(gpe).filter(Boolean);if((T==null?void 0:T.length)===0)return e;const E=C in uP?uP[C]:C;T.unshift(E);const A=T.map(P=>{if(ppe.has(P))return P;const O=P.indexOf(" "),[w,N]=O!==-1?[P.substr(0,O),P.substr(O+1)]:[P],M=lP(N)?N:N&&N.split(" "),k=`colors.${w}`,R=k in t.__cssMap?t.__cssMap[k].varRef:w;return M?[R,...Array.isArray(M)?M:[M]].join(" "):R});return`${v}(${A.join(", ")})`}const lP=e=>typeof e=="string"&&e.includes("(")&&e.includes(")"),vpe=(e,t)=>mpe(e,t??{});function _pe(e){return/^var\(--.+\)$/.test(e)}const ype=e=>{const t=parseFloat(e.toString()),i=e.toString().replace(String(t),"");return{unitless:!i,value:t,unit:i}},Ns=e=>t=>`${e}(${t})`,hr={filter(e){return e!=="auto"?e:lpe},backdropFilter(e){return e!=="auto"?e:dpe},ring(e){return fpe(hr.px(e))},bgClip(e){return e==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform(e){return e==="auto"?upe():e==="auto-gpu"?cpe():e},vh(e){return e==="$100vh"?"var(--chakra-vh)":e},px(e){if(e==null)return e;const{unitless:t}=ype(e);return t||typeof e=="number"?`${e}px`:e},fraction(e){return typeof e!="number"||e>1?e:`${e*100}%`},float(e,t){const i={left:"right",right:"left"};return t.direction==="rtl"?i[e]:e},degree(e){if(_pe(e)||e==null)return e;const t=typeof e=="string"&&!e.endsWith("deg");return typeof e=="number"||t?`${e}deg`:e},gradient:vpe,blur:Ns("blur"),opacity:Ns("opacity"),brightness:Ns("brightness"),contrast:Ns("contrast"),dropShadow:Ns("drop-shadow"),grayscale:Ns("grayscale"),hueRotate:e=>Ns("hue-rotate")(hr.degree(e)),invert:Ns("invert"),saturate:Ns("saturate"),sepia:Ns("sepia"),bgImage(e){return e==null||lP(e)||cP.has(e)?e:`url(${e})`},outline(e){const t=String(e)==="0"||String(e)==="none";return e!==null&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){const{space:t,divide:i}=hpe[e]??{},o={flexDirection:e};return t&&(o[t]=1),i&&(o[i]=1),o}},Ee={borderWidths:ga("borderWidths"),borderStyles:ga("borderStyles"),colors:ga("colors"),borders:ga("borders"),gradients:ga("gradients",hr.gradient),radii:ga("radii",hr.px),space:ga("space",_y(hr.vh,hr.px)),spaceT:ga("space",_y(hr.vh,hr.px)),degreeT(e){return{property:e,transform:hr.degree}},prop(e,t,i){return{property:e,scale:t,...t&&{transform:aD({scale:t,transform:i})}}},propT(e,t){return{property:e,transform:t}},sizes:ga("sizes",_y(hr.vh,hr.px)),sizesT:ga("sizes",_y(hr.vh,hr.fraction)),shadows:ga("shadows"),logical:spe,blur:ga("blur",hr.blur)},Qy={background:Ee.colors("background"),backgroundColor:Ee.colors("backgroundColor"),backgroundImage:Ee.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:hr.bgClip},bgSize:Ee.prop("backgroundSize"),bgPosition:Ee.prop("backgroundPosition"),bg:Ee.colors("background"),bgColor:Ee.colors("backgroundColor"),bgPos:Ee.prop("backgroundPosition"),bgRepeat:Ee.prop("backgroundRepeat"),bgAttachment:Ee.prop("backgroundAttachment"),bgGradient:Ee.gradients("backgroundImage"),bgClip:{transform:hr.bgClip}};Object.assign(Qy,{bgImage:Qy.backgroundImage,bgImg:Qy.backgroundImage});const Tr={border:Ee.borders("border"),borderWidth:Ee.borderWidths("borderWidth"),borderStyle:Ee.borderStyles("borderStyle"),borderColor:Ee.colors("borderColor"),borderRadius:Ee.radii("borderRadius"),borderTop:Ee.borders("borderTop"),borderBlockStart:Ee.borders("borderBlockStart"),borderTopLeftRadius:Ee.radii("borderTopLeftRadius"),borderStartStartRadius:Ee.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:Ee.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:Ee.radii("borderTopRightRadius"),borderStartEndRadius:Ee.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:Ee.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:Ee.borders("borderRight"),borderInlineEnd:Ee.borders("borderInlineEnd"),borderBottom:Ee.borders("borderBottom"),borderBlockEnd:Ee.borders("borderBlockEnd"),borderBottomLeftRadius:Ee.radii("borderBottomLeftRadius"),borderBottomRightRadius:Ee.radii("borderBottomRightRadius"),borderLeft:Ee.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:Ee.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:Ee.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:Ee.borders(["borderLeft","borderRight"]),borderInline:Ee.borders("borderInline"),borderY:Ee.borders(["borderTop","borderBottom"]),borderBlock:Ee.borders("borderBlock"),borderTopWidth:Ee.borderWidths("borderTopWidth"),borderBlockStartWidth:Ee.borderWidths("borderBlockStartWidth"),borderTopColor:Ee.colors("borderTopColor"),borderBlockStartColor:Ee.colors("borderBlockStartColor"),borderTopStyle:Ee.borderStyles("borderTopStyle"),borderBlockStartStyle:Ee.borderStyles("borderBlockStartStyle"),borderBottomWidth:Ee.borderWidths("borderBottomWidth"),borderBlockEndWidth:Ee.borderWidths("borderBlockEndWidth"),borderBottomColor:Ee.colors("borderBottomColor"),borderBlockEndColor:Ee.colors("borderBlockEndColor"),borderBottomStyle:Ee.borderStyles("borderBottomStyle"),borderBlockEndStyle:Ee.borderStyles("borderBlockEndStyle"),borderLeftWidth:Ee.borderWidths("borderLeftWidth"),borderInlineStartWidth:Ee.borderWidths("borderInlineStartWidth"),borderLeftColor:Ee.colors("borderLeftColor"),borderInlineStartColor:Ee.colors("borderInlineStartColor"),borderLeftStyle:Ee.borderStyles("borderLeftStyle"),borderInlineStartStyle:Ee.borderStyles("borderInlineStartStyle"),borderRightWidth:Ee.borderWidths("borderRightWidth"),borderInlineEndWidth:Ee.borderWidths("borderInlineEndWidth"),borderRightColor:Ee.colors("borderRightColor"),borderInlineEndColor:Ee.colors("borderInlineEndColor"),borderRightStyle:Ee.borderStyles("borderRightStyle"),borderInlineEndStyle:Ee.borderStyles("borderInlineEndStyle"),borderTopRadius:Ee.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:Ee.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:Ee.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:Ee.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Tr,{rounded:Tr.borderRadius,roundedTop:Tr.borderTopRadius,roundedTopLeft:Tr.borderTopLeftRadius,roundedTopRight:Tr.borderTopRightRadius,roundedTopStart:Tr.borderStartStartRadius,roundedTopEnd:Tr.borderStartEndRadius,roundedBottom:Tr.borderBottomRadius,roundedBottomLeft:Tr.borderBottomLeftRadius,roundedBottomRight:Tr.borderBottomRightRadius,roundedBottomStart:Tr.borderEndStartRadius,roundedBottomEnd:Tr.borderEndEndRadius,roundedLeft:Tr.borderLeftRadius,roundedRight:Tr.borderRightRadius,roundedStart:Tr.borderInlineStartRadius,roundedEnd:Tr.borderInlineEndRadius,borderStart:Tr.borderInlineStart,borderEnd:Tr.borderInlineEnd,borderTopStartRadius:Tr.borderStartStartRadius,borderTopEndRadius:Tr.borderStartEndRadius,borderBottomStartRadius:Tr.borderEndStartRadius,borderBottomEndRadius:Tr.borderEndEndRadius,borderStartRadius:Tr.borderInlineStartRadius,borderEndRadius:Tr.borderInlineEndRadius,borderStartWidth:Tr.borderInlineStartWidth,borderEndWidth:Tr.borderInlineEndWidth,borderStartColor:Tr.borderInlineStartColor,borderEndColor:Tr.borderInlineEndColor,borderStartStyle:Tr.borderInlineStartStyle,borderEndStyle:Tr.borderInlineEndStyle});const Spe={color:Ee.colors("color"),textColor:Ee.colors("color"),fill:Ee.colors("fill"),stroke:Ee.colors("stroke"),accentColor:Ee.colors("accentColor"),textFillColor:Ee.colors("textFillColor")},$S={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:hr.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:Ee.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:Ee.space("gap"),rowGap:Ee.space("rowGap"),columnGap:Ee.space("columnGap")};Object.assign($S,{flexDir:$S.flexDirection});const ma={width:Ee.sizesT("width"),inlineSize:Ee.sizesT("inlineSize"),height:Ee.sizes("height"),blockSize:Ee.sizes("blockSize"),boxSize:Ee.sizes(["width","height"]),minWidth:Ee.sizes("minWidth"),minInlineSize:Ee.sizes("minInlineSize"),minHeight:Ee.sizes("minHeight"),minBlockSize:Ee.sizes("minBlockSize"),maxWidth:Ee.sizes("maxWidth"),maxInlineSize:Ee.sizes("maxInlineSize"),maxHeight:Ee.sizes("maxHeight"),maxBlockSize:Ee.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var c,f;return{[`@media screen and (min-width: ${((f=(c=t.__breakpoints)==null?void 0:c.get(e))==null?void 0:f.minW)??e})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var c,f;return{[`@media screen and (max-width: ${((f=(c=t.__breakpoints)==null?void 0:c.get(e))==null?void 0:f._minW)??e})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:Ee.propT("float",hr.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(ma,{w:ma.width,h:ma.height,minW:ma.minWidth,maxW:ma.maxWidth,minH:ma.minHeight,maxH:ma.maxHeight,overscroll:ma.overscrollBehavior,overscrollX:ma.overscrollBehaviorX,overscrollY:ma.overscrollBehaviorY});const bpe={filter:{transform:hr.filter},blur:Ee.blur("--chakra-blur"),brightness:Ee.propT("--chakra-brightness",hr.brightness),contrast:Ee.propT("--chakra-contrast",hr.contrast),hueRotate:Ee.propT("--chakra-hue-rotate",hr.hueRotate),invert:Ee.propT("--chakra-invert",hr.invert),saturate:Ee.propT("--chakra-saturate",hr.saturate),dropShadow:Ee.propT("--chakra-drop-shadow",hr.dropShadow),backdropFilter:{transform:hr.backdropFilter},backdropBlur:Ee.blur("--chakra-backdrop-blur"),backdropBrightness:Ee.propT("--chakra-backdrop-brightness",hr.brightness),backdropContrast:Ee.propT("--chakra-backdrop-contrast",hr.contrast),backdropHueRotate:Ee.propT("--chakra-backdrop-hue-rotate",hr.hueRotate),backdropInvert:Ee.propT("--chakra-backdrop-invert",hr.invert),backdropSaturate:Ee.propT("--chakra-backdrop-saturate",hr.saturate)},Cpe={ring:{transform:hr.ring},ringColor:Ee.colors("--chakra-ring-color"),ringOffset:Ee.prop("--chakra-ring-offset-width"),ringOffsetColor:Ee.colors("--chakra-ring-offset-color"),ringInset:Ee.prop("--chakra-ring-inset")},Tpe={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:hr.outline},outlineOffset:!0,outlineColor:Ee.colors("outlineColor")},Lz={gridGap:Ee.space("gridGap"),gridColumnGap:Ee.space("gridColumnGap"),gridRowGap:Ee.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function Ipe(e,t,i,o){const c=typeof t=="string"?t.split("."):[t];for(o=0;o<c.length&&e;o+=1)e=e[c[o]];return e===void 0?i:e}const wpe=e=>{const t=new WeakMap;return(o,c,f,g)=>{if(typeof o>"u")return e(o,c,f);t.has(o)||t.set(o,new Map);const v=t.get(o);if(v.has(c))return v.get(c);const C=e(o,c,f,g);return v.set(c,C),C}},Epe=wpe(Ipe),xpe={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},Ape={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},Px=(e,t,i)=>{const o={},c=Epe(e,t,{});for(const f in c)f in i&&i[f]!=null||(o[f]=c[f]);return o},Ppe={srOnly:{transform(e){return e===!0?xpe:e==="focusable"?Ape:{}}},layerStyle:{processResult:!0,transform:(e,t,i)=>Px(t,`layerStyles.${e}`,i)},textStyle:{processResult:!0,transform:(e,t,i)=>Px(t,`textStyles.${e}`,i)},apply:{processResult:!0,transform:(e,t,i)=>Px(t,e,i)}},_m={position:!0,pos:Ee.prop("position"),zIndex:Ee.prop("zIndex","zIndices"),inset:Ee.spaceT("inset"),insetX:Ee.spaceT(["left","right"]),insetInline:Ee.spaceT("insetInline"),insetY:Ee.spaceT(["top","bottom"]),insetBlock:Ee.spaceT("insetBlock"),top:Ee.spaceT("top"),insetBlockStart:Ee.spaceT("insetBlockStart"),bottom:Ee.spaceT("bottom"),insetBlockEnd:Ee.spaceT("insetBlockEnd"),left:Ee.spaceT("left"),insetInlineStart:Ee.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:Ee.spaceT("right"),insetInlineEnd:Ee.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(_m,{insetStart:_m.insetInlineStart,insetEnd:_m.insetInlineEnd});const dP={boxShadow:Ee.shadows("boxShadow"),mixBlendMode:!0,blendMode:Ee.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:Ee.prop("backgroundBlendMode"),opacity:!0};Object.assign(dP,{shadow:dP.boxShadow});const Kr={margin:Ee.spaceT("margin"),marginTop:Ee.spaceT("marginTop"),marginBlockStart:Ee.spaceT("marginBlockStart"),marginRight:Ee.spaceT("marginRight"),marginInlineEnd:Ee.spaceT("marginInlineEnd"),marginBottom:Ee.spaceT("marginBottom"),marginBlockEnd:Ee.spaceT("marginBlockEnd"),marginLeft:Ee.spaceT("marginLeft"),marginInlineStart:Ee.spaceT("marginInlineStart"),marginX:Ee.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:Ee.spaceT("marginInline"),marginY:Ee.spaceT(["marginTop","marginBottom"]),marginBlock:Ee.spaceT("marginBlock"),padding:Ee.space("padding"),paddingTop:Ee.space("paddingTop"),paddingBlockStart:Ee.space("paddingBlockStart"),paddingRight:Ee.space("paddingRight"),paddingBottom:Ee.space("paddingBottom"),paddingBlockEnd:Ee.space("paddingBlockEnd"),paddingLeft:Ee.space("paddingLeft"),paddingInlineStart:Ee.space("paddingInlineStart"),paddingInlineEnd:Ee.space("paddingInlineEnd"),paddingX:Ee.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:Ee.space("paddingInline"),paddingY:Ee.space(["paddingTop","paddingBottom"]),paddingBlock:Ee.space("paddingBlock")};Object.assign(Kr,{m:Kr.margin,mt:Kr.marginTop,mr:Kr.marginRight,me:Kr.marginInlineEnd,marginEnd:Kr.marginInlineEnd,mb:Kr.marginBottom,ml:Kr.marginLeft,ms:Kr.marginInlineStart,marginStart:Kr.marginInlineStart,mx:Kr.marginX,my:Kr.marginY,p:Kr.padding,pt:Kr.paddingTop,py:Kr.paddingY,px:Kr.paddingX,pb:Kr.paddingBottom,pl:Kr.paddingLeft,ps:Kr.paddingInlineStart,paddingStart:Kr.paddingInlineStart,pr:Kr.paddingRight,pe:Kr.paddingInlineEnd,paddingEnd:Kr.paddingInlineEnd});const kpe={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:Ee.spaceT("scrollMargin"),scrollMarginTop:Ee.spaceT("scrollMarginTop"),scrollMarginBottom:Ee.spaceT("scrollMarginBottom"),scrollMarginLeft:Ee.spaceT("scrollMarginLeft"),scrollMarginRight:Ee.spaceT("scrollMarginRight"),scrollMarginX:Ee.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:Ee.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:Ee.spaceT("scrollPadding"),scrollPaddingTop:Ee.spaceT("scrollPaddingTop"),scrollPaddingBottom:Ee.spaceT("scrollPaddingBottom"),scrollPaddingLeft:Ee.spaceT("scrollPaddingLeft"),scrollPaddingRight:Ee.spaceT("scrollPaddingRight"),scrollPaddingX:Ee.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:Ee.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},Dpe={fontFamily:Ee.prop("fontFamily","fonts"),fontSize:Ee.prop("fontSize","fontSizes",hr.px),fontWeight:Ee.prop("fontWeight","fontWeights"),lineHeight:Ee.prop("lineHeight","lineHeights"),letterSpacing:Ee.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(e===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},Rpe={textDecorationColor:Ee.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:Ee.shadows("textShadow")},Fpe={clipPath:!0,transform:Ee.propT("transform",hr.transform),transformOrigin:!0,translateX:Ee.spaceT("--chakra-translate-x"),translateY:Ee.spaceT("--chakra-translate-y"),skewX:Ee.degreeT("--chakra-skew-x"),skewY:Ee.degreeT("--chakra-skew-y"),scaleX:Ee.prop("--chakra-scale-x"),scaleY:Ee.prop("--chakra-scale-y"),scale:Ee.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:Ee.degreeT("--chakra-rotate")},Ope={listStyleType:!0,listStylePosition:!0,listStylePos:Ee.prop("listStylePosition"),listStyleImage:!0,listStyleImg:Ee.prop("listStyleImage")},Npe={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:Ee.prop("transitionDuration","transition.duration"),transitionProperty:Ee.prop("transitionProperty","transition.property"),transitionTimingFunction:Ee.prop("transitionTimingFunction","transition.easing")},sD=Gs({},Qy,Tr,Spe,$S,ma,bpe,Cpe,Tpe,Lz,Ppe,_m,dP,Kr,kpe,Dpe,Rpe,Fpe,Ope,Npe);Object.assign({},Kr,ma,$S,Lz,_m);const Mpe=e=>[...Object.keys(sD),...Nz(e)],Lpe=e=>{const t=Wb(e),i={...sD,...t};return o=>Object.hasOwnProperty.call(i,o)},Wpe=e=>t=>{if(!t.__breakpoints)return e;const{isResponsive:i,toArrayValue:o,media:c}=t.__breakpoints,f={};for(const g in e){let v=js(e[g],t);if(v==null)continue;if(v=os(v)&&i(v)?o(v):v,!Array.isArray(v)){f[g]=v;continue}const C=v.slice(0,c.length).length;for(let T=0;T<C;T+=1){const E=c==null?void 0:c[T];if(!E){f[g]=v[T];continue}f[E]=f[E]||{},v[T]!=null&&(f[E][g]=v[T])}}return f};function Bpe(e){const t=[];let i="",o=!1;for(let c=0;c<e.length;c++){const f=e[c];f==="("?(o=!0,i+=f):f===")"?(o=!1,i+=f):f===","&&!o?(t.push(i),i=""):i+=f}return i=i.trim(),i&&t.push(i),t}function Upe(e){return/^var\(--.+\)$/.test(e)}const Vpe=(e,t)=>e.startsWith("--")&&typeof t=="string"&&!Upe(t),jpe=(e,t)=>{if(t==null)return t;const i=g=>{var v,C;return(C=(v=e.__cssMap)==null?void 0:v[g])==null?void 0:C.varRef},o=g=>i(g)??g,[c,f]=Bpe(t);return t=i(c)??o(f)??o(t),t};function Gpe(e){const{configs:t={},pseudos:i={},theme:o}=e,c=(f,g=!1)=>{var E;const v=js(f,o),C=Wpe(v)(o);let T={};for(let A in C){const P=C[A];let O=js(P,o);A in i&&(A=i[A]),Vpe(A,O)&&(O=jpe(o,O));let w=t[A];if(w===!0&&(w={property:A}),os(O)){T[A]=T[A]??{},T[A]=Gs({},T[A],c(O,!0));continue}let N=((E=w==null?void 0:w.transform)==null?void 0:E.call(w,O,o,v))??O;N=w!=null&&w.processResult?c(N,!0):N;const M=js(w==null?void 0:w.property,o);if(!g&&(w!=null&&w.static)){const k=js(w.static,o);T=Gs({},T,k)}if(M&&Array.isArray(M)){for(const k of M)T[k]=N;continue}if(M){M==="&"&&os(N)?T=Gs({},T,N):T[M]=N;continue}if(os(N)){T=Gs({},T,N);continue}T[A]=N}return T};return c}const Wz=e=>t=>Gpe({theme:t,pseudos:Wb(t),configs:sD})(e);function zr(e){return{definePartsStyle(t){return t},defineMultiStyleConfig(t){return{parts:e,...t}}}}function zpe(e,t){if(Array.isArray(e))return e;if(os(e))return t(e);if(e!=null)return[e]}function Hpe(e,t){for(let i=t+1;i<e.length;i++)if(e[i]!=null)return i;return-1}function $pe(e){const t=e.__breakpoints;return function(o,c,f,g){var P,O;if(!t)return;const v={},C=zpe(f,t.toArrayValue);if(!C)return v;const T=C.length,E=T===1,A=!!o.parts;for(let w=0;w<T;w++){const N=t.details[w],M=t.details[Hpe(C,w)],k=rm(N.minW,M==null?void 0:M._minW),R=js((P=o[c])==null?void 0:P[C[w]],g);if(R){if(A){(O=o.parts)==null||O.forEach(L=>{Gs(v,{[L]:E?R[L]:{[k]:R[L]}})});continue}if(!A){E?Gs(v,R):v[k]=R;continue}v[k]=R}}return v}}function Kpe(e){return t=>{const{variant:i,size:o,theme:c}=t,f=$pe(c);return Gs({},js(e.baseStyle??{},t),f(e,"sizes",o,t),f(e,"variants",i,t))}}function Lh(e){return kz(e,["styleConfig","size","variant","colorScheme"])}function Bz(e){return os(e)&&e.reference?e.reference:String(e)}const Bb=(e,...t)=>t.map(Bz).join(` ${e} `).replace(/calc/g,""),n5=(...e)=>`calc(${Bb("+",...e)})`,i5=(...e)=>`calc(${Bb("-",...e)})`,fP=(...e)=>`calc(${Bb("*",...e)})`,o5=(...e)=>`calc(${Bb("/",...e)})`,a5=e=>{const t=Bz(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:fP(t,-1)},Cu=Object.assign(e=>({add:(...t)=>Cu(n5(e,...t)),subtract:(...t)=>Cu(i5(e,...t)),multiply:(...t)=>Cu(fP(e,...t)),divide:(...t)=>Cu(o5(e,...t)),negate:()=>Cu(a5(e)),toString:()=>e.toString()}),{add:n5,subtract:i5,multiply:fP,divide:o5,negate:a5});function Ype(e,t="-"){return e.replace(/\s+/g,t)}function Xpe(e){const t=Ype(e.toString());return Jpe(Qpe(t))}function Qpe(e){return e.includes("\\.")?e:!Number.isInteger(parseFloat(e.toString()))?e.replace(".","\\."):e}function Jpe(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function qpe(e,t=""){return[t,e].filter(Boolean).join("-")}function Zpe(e,t){return`var(${e}${t?`, ${t}`:""})`}function ege(e,t=""){return Xpe(`--${qpe(e,t)}`)}function Ft(e,t,i){const o=ege(e,i);return{variable:o,reference:Zpe(o,t)}}function tge(e,t){const i={};for(const o of t){if(Array.isArray(o)){const[c,f]=o;i[c]=Ft(`${e}-${c}`,f);continue}i[o]=Ft(`${e}-${o}`)}return i}const rge=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function nge(e){return Ghe(e,rge)}function ige(e){return e.semanticTokens}function oge(e){const{__cssMap:t,__cssVars:i,__breakpoints:o,...c}=e;return c}function age(e){const t=nge(e),i=ige(e),o=Nz(e),c=g=>o.includes(g)||g==="default",f={};return e5(t,(g,v)=>{g!=null&&(f[v.join(".")]={isSemantic:!1,value:g})}),e5(i,(g,v)=>{g!=null&&(f[v.join(".")]={isSemantic:!0,value:g})},{stop:g=>Object.keys(g).every(c)}),f}function s5(e,t){return Ft(String(e).replace(/\./g,"-"),void 0,t)}function sge(e){var v;const t=age(e),i=(v=e.config)==null?void 0:v.cssVarPrefix,o=Wb(e);let c={};const f={};function g(C,T){const A=[String(C).split(".")[0],T].join(".");if(!t[A])return T;const{reference:O}=s5(A,i);return O}for(const[C,T]of Object.entries(t)){const{isSemantic:E,value:A}=T,{variable:P,reference:O}=s5(C,i);if(!E){if(C.startsWith("space")){const N=C.split("."),[M,...k]=N,R=`${M}.-${k.join(".")}`,L=Cu.negate(A),K=Cu.negate(O);f[R]={value:L,var:P,varRef:K}}c[P]=A,f[C]={value:A,var:P,varRef:O};continue}const w=os(A)?A:{default:A};c=Gs(c,Object.entries(w).reduce((N,[M,k])=>{if(!k)return N;const R=g(C,`${k}`);if(M==="default")return N[P]=R,N;const L=(o==null?void 0:o[M])??M;return N[L]={[P]:R},N},{})),f[C]={value:O,var:P,varRef:O}}return{cssVars:c,cssMap:f}}function uge(e){const t=oge(e),{cssMap:i,cssVars:o}=sge(t),c={"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},f=Lpe(t);return Object.assign(t,{__cssVars:{...c,...o},__cssMap:i,__breakpoints:Whe(t.breakpoints),__isStyleProp:f}),t}function xr(e,t={}){let i=!1;function o(){if(!i){i=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function c(...E){o();for(const A of E)t[A]=C(A);return xr(e,t)}function f(...E){for(const A of E)A in t||(t[A]=C(A));return xr(e,t)}function g(){return Object.fromEntries(Object.entries(t).map(([A,P])=>[A,P.selector]))}function v(){return Object.fromEntries(Object.entries(t).map(([A,P])=>[A,P.className]))}function C(E){const O=`chakra-${(["container","root"].includes(E??"")?[e]:[e,E]).filter(Boolean).join("__")}`;return{className:O,selector:`.${O}`,toString:()=>E}}return{parts:c,toPart:C,extend:f,selectors:g,classnames:v,get keys(){return Object.keys(t)},__type:{}}}const cge=xr("accordion").parts("root","container","button","panel","icon"),lge=xr("alert").parts("title","description","container","icon","spinner"),dge=xr("avatar").parts("label","badge","container","excessLabel","group"),fge=xr("breadcrumb").parts("link","item","container","separator");xr("button").parts();const hge=xr("checkbox").parts("control","icon","container","label");xr("progress").parts("track","filledTrack","label");const pge=xr("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),gge=xr("editable").parts("preview","input","textarea"),mge=xr("form").parts("container","requiredIndicator","helperText"),vge=xr("formError").parts("text","icon"),_ge=xr("input").parts("addon","field","element","group"),yge=xr("list").parts("container","item","icon"),Sge=xr("menu").parts("button","list","item","groupTitle","icon","command","divider"),bge=xr("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),Cge=xr("numberinput").parts("root","field","stepperGroup","stepper");xr("pininput").parts("field");const Tge=xr("popover").parts("content","header","body","footer","popper","arrow","closeButton"),Ige=xr("progress").parts("label","filledTrack","track"),wge=xr("radio").parts("container","control","label"),Ege=xr("select").parts("field","icon"),xge=xr("slider").parts("container","track","thumb","filledTrack","mark"),Age=xr("stat").parts("container","label","helpText","number","icon"),Pge=xr("switch").parts("container","track","thumb","label"),kge=xr("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),Dge=xr("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),Rge=xr("tag").parts("container","label","closeButton"),Fge=xr("card").parts("container","header","body","footer");xr("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:Oge,defineMultiStyleConfig:Nge}=zr(cge.keys),Mge={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},Lge={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},Wge={pt:"2",px:"4",pb:"5"},Bge={fontSize:"1.25em"},Uge=Oge({container:Mge,button:Lge,panel:Wge,icon:Bge}),Vge=Nge({baseStyle:Uge});function Xl(e,t,i){return Math.min(Math.max(e,i),t)}class jge extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var nm=jge;function uD(e){if(typeof e!="string")throw new nm(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=Qge.test(e)?Hge(e):e;const i=$ge.exec(t);if(i){const g=Array.from(i).slice(1);return[...g.slice(0,3).map(v=>parseInt(Zm(v,2),16)),parseInt(Zm(g[3]||"f",2),16)/255]}const o=Kge.exec(t);if(o){const g=Array.from(o).slice(1);return[...g.slice(0,3).map(v=>parseInt(v,16)),parseInt(g[3]||"ff",16)/255]}const c=Yge.exec(t);if(c){const g=Array.from(c).slice(1);return[...g.slice(0,3).map(v=>parseInt(v,10)),parseFloat(g[3]||"1")]}const f=Xge.exec(t);if(f){const[g,v,C,T]=Array.from(f).slice(1).map(parseFloat);if(Xl(0,100,v)!==v)throw new nm(e);if(Xl(0,100,C)!==C)throw new nm(e);return[...Jge(g,v,C),Number.isNaN(T)?1:T]}throw new nm(e)}function Gge(e){let t=5381,i=e.length;for(;i;)t=t*33^e.charCodeAt(--i);return(t>>>0)%2341}const u5=e=>parseInt(e.replace(/_/g,""),36),zge="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const i=u5(t.substring(0,3)),o=u5(t.substring(3)).toString(16);let c="";for(let f=0;f<6-o.length;f++)c+="0";return e[i]=`${c}${o}`,e},{});function Hge(e){const t=e.toLowerCase().trim(),i=zge[Gge(t)];if(!i)throw new nm(e);return`#${i}`}const Zm=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),$ge=new RegExp(`^#${Zm("([a-f0-9])",3)}([a-f0-9])?$`,"i"),Kge=new RegExp(`^#${Zm("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Yge=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Zm(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),Xge=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,Qge=/^[a-z]+$/i,c5=e=>Math.round(e*255),Jge=(e,t,i)=>{let o=i/100;if(t===0)return[o,o,o].map(c5);const c=(e%360+360)%360/60,f=(1-Math.abs(2*o-1))*(t/100),g=f*(1-Math.abs(c%2-1));let v=0,C=0,T=0;c>=0&&c<1?(v=f,C=g):c>=1&&c<2?(v=g,C=f):c>=2&&c<3?(C=f,T=g):c>=3&&c<4?(C=g,T=f):c>=4&&c<5?(v=g,T=f):c>=5&&c<6&&(v=f,T=g);const E=o-f/2,A=v+E,P=C+E,O=T+E;return[A,P,O].map(c5)};function qge(e,t,i,o){return`rgba(${Xl(0,255,e).toFixed()}, ${Xl(0,255,t).toFixed()}, ${Xl(0,255,i).toFixed()}, ${parseFloat(Xl(0,1,o).toFixed(3))})`}function Zge(e,t){const[i,o,c,f]=uD(e);return qge(i,o,c,f-t)}function eme(e){const[t,i,o,c]=uD(e);let f=g=>{const v=Xl(0,255,g).toString(16);return v.length===1?`0${v}`:v};return`#${f(t)}${f(i)}${f(o)}${c<1?f(Math.round(c*255)):""}`}const tme=e=>Object.keys(e).length===0;function rme(e,t,i,o,c){for(t=t.split?t.split("."):t,o=0;o<t.length;o++)e=e?e[t[o]]:c;return e===c?i:e}const qi=(e,t,i)=>{const o=rme(e,`colors.${t}`,t);try{return eme(o),o}catch{return i??"#000000"}},nme=e=>{const[t,i,o]=uD(e);return(t*299+i*587+o*114)/1e3},ime=e=>t=>{const i=qi(t,e);return nme(i)<128?"dark":"light"},ome=e=>t=>ime(e)(t)==="dark",Eh=(e,t)=>i=>{const o=qi(i,e);return Zge(o,1-t)};function l5(e="1rem",t="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${t} 25%,
    transparent 25%,
    transparent 50%,
    ${t} 50%,
    ${t} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${e} ${e}`}}const ame=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function sme(e){const t=ame();return!e||tme(e)?t:e.string&&e.colors?cme(e.string,e.colors):e.string&&!e.colors?ume(e.string):e.colors&&!e.string?lme(e.colors):t}function ume(e){let t=0;if(e.length===0)return t.toString();for(let o=0;o<e.length;o+=1)t=e.charCodeAt(o)+((t<<5)-t),t=t&t;let i="#";for(let o=0;o<3;o+=1){const c=t>>o*8&255;i+=`00${c.toString(16)}`.substr(-2)}return i}function cme(e,t){let i=0;if(e.length===0)return t[0];for(let o=0;o<e.length;o+=1)i=e.charCodeAt(o)+((i<<5)-i),i=i&i;return i=(i%t.length+t.length)%t.length,t[i]}function lme(e){return e[Math.floor(Math.random()*e.length)]}function Rt(e,t){return i=>i.colorMode==="dark"?t:e}function cD(e){const{orientation:t,vertical:i,horizontal:o}=e;return t?t==="vertical"?i:o:{}}function Uz(e){return os(e)&&e.reference?e.reference:String(e)}const Ub=(e,...t)=>t.map(Uz).join(` ${e} `).replace(/calc/g,""),d5=(...e)=>`calc(${Ub("+",...e)})`,f5=(...e)=>`calc(${Ub("-",...e)})`,hP=(...e)=>`calc(${Ub("*",...e)})`,h5=(...e)=>`calc(${Ub("/",...e)})`,p5=e=>{const t=Uz(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:hP(t,-1)},Tu=Object.assign(e=>({add:(...t)=>Tu(d5(e,...t)),subtract:(...t)=>Tu(f5(e,...t)),multiply:(...t)=>Tu(hP(e,...t)),divide:(...t)=>Tu(h5(e,...t)),negate:()=>Tu(p5(e)),toString:()=>e.toString()}),{add:d5,subtract:f5,multiply:hP,divide:h5,negate:p5});function dme(e){return!Number.isInteger(parseFloat(e.toString()))}function fme(e,t="-"){return e.replace(/\s+/g,t)}function Vz(e){const t=fme(e.toString());return t.includes("\\.")?e:dme(e)?t.replace(".","\\."):e}function hme(e,t=""){return[t,Vz(e)].filter(Boolean).join("-")}function pme(e,t){return`var(${Vz(e)}${t?`, ${t}`:""})`}function gme(e,t=""){return`--${hme(e,t)}`}function Qn(e,t){const i=gme(e,t==null?void 0:t.prefix);return{variable:i,reference:pme(i,mme(t==null?void 0:t.fallback))}}function mme(e){return typeof e=="string"?e:e==null?void 0:e.reference}const{definePartsStyle:Cv,defineMultiStyleConfig:vme}=zr(lge.keys),Ho=Ft("alert-fg"),Mu=Ft("alert-bg"),_me=Cv({container:{bg:Mu.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Ho.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Ho.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function lD(e){const{theme:t,colorScheme:i}=e,o=Eh(`${i}.200`,.16)(t);return{light:`colors.${i}.100`,dark:o}}const yme=Cv(e=>{const{colorScheme:t}=e,i=lD(e);return{container:{[Ho.variable]:`colors.${t}.600`,[Mu.variable]:i.light,_dark:{[Ho.variable]:`colors.${t}.200`,[Mu.variable]:i.dark}}}}),Sme=Cv(e=>{const{colorScheme:t}=e,i=lD(e);return{container:{[Ho.variable]:`colors.${t}.600`,[Mu.variable]:i.light,_dark:{[Ho.variable]:`colors.${t}.200`,[Mu.variable]:i.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Ho.reference}}}),bme=Cv(e=>{const{colorScheme:t}=e,i=lD(e);return{container:{[Ho.variable]:`colors.${t}.600`,[Mu.variable]:i.light,_dark:{[Ho.variable]:`colors.${t}.200`,[Mu.variable]:i.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Ho.reference}}}),Cme=Cv(e=>{const{colorScheme:t}=e;return{container:{[Ho.variable]:"colors.white",[Mu.variable]:`colors.${t}.600`,_dark:{[Ho.variable]:"colors.gray.900",[Mu.variable]:`colors.${t}.200`},color:Ho.reference}}}),Tme={subtle:yme,"left-accent":Sme,"top-accent":bme,solid:Cme},Ime=vme({baseStyle:_me,variants:Tme,defaultProps:{variant:"subtle",colorScheme:"blue"}}),jz={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},wme={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},Eme={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},Gz={...jz,...wme,container:Eme},xme=e=>typeof e=="function";function eo(e,...t){return xme(e)?e(...t):e}const{definePartsStyle:zz,defineMultiStyleConfig:Ame}=zr(dge.keys),fh=Ft("avatar-border-color"),ym=Ft("avatar-bg"),ev=Ft("avatar-font-size"),xh=Ft("avatar-size"),Pme={borderRadius:"full",border:"0.2em solid",borderColor:fh.reference,[fh.variable]:"white",_dark:{[fh.variable]:"colors.gray.800"}},kme={bg:ym.reference,fontSize:ev.reference,width:xh.reference,height:xh.reference,lineHeight:"1",[ym.variable]:"colors.gray.200",_dark:{[ym.variable]:"colors.whiteAlpha.400"}},Dme=e=>{const{name:t,theme:i}=e,o=t?sme({string:t}):"colors.gray.400",c=ome(o)(i);let f="white";return c||(f="gray.800"),{bg:ym.reference,fontSize:ev.reference,color:f,borderColor:fh.reference,verticalAlign:"top",width:xh.reference,height:xh.reference,"&:not([data-loaded])":{[ym.variable]:o},[fh.variable]:"colors.white",_dark:{[fh.variable]:"colors.gray.800"}}},Rme={fontSize:ev.reference,lineHeight:"1"},Fme=zz(e=>({badge:eo(Pme,e),excessLabel:eo(kme,e),container:eo(Dme,e),label:Rme}));function Tc(e){const t=e!=="100%"?Gz[e]:void 0;return zz({container:{[xh.variable]:t??e,[ev.variable]:`calc(${t??e} / 2.5)`},excessLabel:{[xh.variable]:t??e,[ev.variable]:`calc(${t??e} / 2.5)`}})}const Ome={"2xs":Tc(4),xs:Tc(6),sm:Tc(8),md:Tc(12),lg:Tc(16),xl:Tc(24),"2xl":Tc(32),full:Tc("100%")},Nme=Ame({baseStyle:Fme,sizes:Ome,defaultProps:{size:"md"}}),On=tge("badge",["bg","color","shadow"]),Mme={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:On.bg.reference,color:On.color.reference,boxShadow:On.shadow.reference},Lme=e=>{const{colorScheme:t,theme:i}=e,o=Eh(`${t}.500`,.6)(i);return{[On.bg.variable]:`colors.${t}.500`,[On.color.variable]:"colors.white",_dark:{[On.bg.variable]:o,[On.color.variable]:"colors.whiteAlpha.800"}}},Wme=e=>{const{colorScheme:t,theme:i}=e,o=Eh(`${t}.200`,.16)(i);return{[On.bg.variable]:`colors.${t}.100`,[On.color.variable]:`colors.${t}.800`,_dark:{[On.bg.variable]:o,[On.color.variable]:`colors.${t}.200`}}},Bme=e=>{const{colorScheme:t,theme:i}=e,o=Eh(`${t}.200`,.8)(i);return{[On.color.variable]:`colors.${t}.500`,_dark:{[On.color.variable]:o},[On.shadow.variable]:`inset 0 0 0px 1px ${On.color.reference}`}},Ume={solid:Lme,subtle:Wme,outline:Bme},Sm={baseStyle:Mme,variants:Ume,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:Vme,definePartsStyle:jme}=zr(fge.keys),kx=Ft("breadcrumb-link-decor"),Gme={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:kx.reference,[kx.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[kx.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},zme=jme({link:Gme}),Hme=Vme({baseStyle:zme}),$me={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},Hz=e=>{const{colorScheme:t,theme:i}=e;if(t==="gray")return{color:Rt("gray.800","whiteAlpha.900")(e),_hover:{bg:Rt("gray.100","whiteAlpha.200")(e)},_active:{bg:Rt("gray.200","whiteAlpha.300")(e)}};const o=Eh(`${t}.200`,.12)(i),c=Eh(`${t}.200`,.24)(i);return{color:Rt(`${t}.600`,`${t}.200`)(e),bg:"transparent",_hover:{bg:Rt(`${t}.50`,o)(e)},_active:{bg:Rt(`${t}.100`,c)(e)}}},Kme=e=>{const{colorScheme:t}=e,i=Rt("gray.200","whiteAlpha.300")(e);return{border:"1px solid",borderColor:t==="gray"?i:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...eo(Hz,e)}},Yme={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},Xme=e=>{const{colorScheme:t}=e;if(t==="gray"){const v=Rt("gray.100","whiteAlpha.200")(e);return{bg:v,color:Rt("gray.800","whiteAlpha.900")(e),_hover:{bg:Rt("gray.200","whiteAlpha.300")(e),_disabled:{bg:v}},_active:{bg:Rt("gray.300","whiteAlpha.400")(e)}}}const{bg:i=`${t}.500`,color:o="white",hoverBg:c=`${t}.600`,activeBg:f=`${t}.700`}=Yme[t]??{},g=Rt(i,`${t}.200`)(e);return{bg:g,color:Rt(o,"gray.800")(e),_hover:{bg:Rt(c,`${t}.300`)(e),_disabled:{bg:g}},_active:{bg:Rt(f,`${t}.400`)(e)}}},Qme=e=>{const{colorScheme:t}=e;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Rt(`${t}.500`,`${t}.200`)(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Rt(`${t}.700`,`${t}.500`)(e)}}},Jme={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},qme={ghost:Hz,outline:Kme,solid:Xme,link:Qme,unstyled:Jme},Zme={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},eve={baseStyle:$me,variants:qme,sizes:Zme,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:ed,defineMultiStyleConfig:tve}=zr(Fge.keys),KS=Ft("card-bg"),Du=Ft("card-padding"),$z=Ft("card-shadow"),Jy=Ft("card-radius"),Kz=Ft("card-border-width","0"),Yz=Ft("card-border-color"),rve=ed({container:{[KS.variable]:"colors.chakra-body-bg",backgroundColor:KS.reference,boxShadow:$z.reference,borderRadius:Jy.reference,color:"chakra-body-text",borderWidth:Kz.reference,borderColor:Yz.reference},body:{padding:Du.reference,flex:"1 1 0%"},header:{padding:Du.reference},footer:{padding:Du.reference}}),nve={sm:ed({container:{[Jy.variable]:"radii.base",[Du.variable]:"space.3"}}),md:ed({container:{[Jy.variable]:"radii.md",[Du.variable]:"space.5"}}),lg:ed({container:{[Jy.variable]:"radii.xl",[Du.variable]:"space.7"}})},ive={elevated:ed({container:{[$z.variable]:"shadows.base",_dark:{[KS.variable]:"colors.gray.700"}}}),outline:ed({container:{[Kz.variable]:"1px",[Yz.variable]:"colors.chakra-border-color"}}),filled:ed({container:{[KS.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[Du.variable]:0},header:{[Du.variable]:0},footer:{[Du.variable]:0}}},ove=tve({baseStyle:rve,variants:ive,sizes:nve,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:qy,defineMultiStyleConfig:ave}=zr(hge.keys),bm=Ft("checkbox-size"),sve=e=>{const{colorScheme:t}=e;return{w:bm.reference,h:bm.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Rt(`${t}.500`,`${t}.200`)(e),borderColor:Rt(`${t}.500`,`${t}.200`)(e),color:Rt("white","gray.900")(e),_hover:{bg:Rt(`${t}.600`,`${t}.300`)(e),borderColor:Rt(`${t}.600`,`${t}.300`)(e)},_disabled:{borderColor:Rt("gray.200","transparent")(e),bg:Rt("gray.200","whiteAlpha.300")(e),color:Rt("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:Rt(`${t}.500`,`${t}.200`)(e),borderColor:Rt(`${t}.500`,`${t}.200`)(e),color:Rt("white","gray.900")(e)},_disabled:{bg:Rt("gray.100","whiteAlpha.100")(e),borderColor:Rt("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Rt("red.500","red.300")(e)}}},uve={_disabled:{cursor:"not-allowed"}},cve={userSelect:"none",_disabled:{opacity:.4}},lve={transitionProperty:"transform",transitionDuration:"normal"},dve=qy(e=>({icon:lve,container:uve,control:eo(sve,e),label:cve})),fve={sm:qy({control:{[bm.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:qy({control:{[bm.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:qy({control:{[bm.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},Fc=ave({baseStyle:dve,sizes:fve,defaultProps:{size:"md",colorScheme:"blue"}}),Cm=Qn("close-button-size"),jg=Qn("close-button-bg"),hve={w:[Cm.reference],h:[Cm.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[jg.variable]:"colors.blackAlpha.100",_dark:{[jg.variable]:"colors.whiteAlpha.100"}},_active:{[jg.variable]:"colors.blackAlpha.200",_dark:{[jg.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:jg.reference},pve={lg:{[Cm.variable]:"sizes.10",fontSize:"md"},md:{[Cm.variable]:"sizes.8",fontSize:"xs"},sm:{[Cm.variable]:"sizes.6",fontSize:"2xs"}},gve={baseStyle:hve,sizes:pve,defaultProps:{size:"md"}},{variants:mve,defaultProps:vve}=Sm,_ve={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:On.bg.reference,color:On.color.reference,boxShadow:On.shadow.reference},yve={baseStyle:_ve,variants:mve,defaultProps:vve},Sve={w:"100%",mx:"auto",maxW:"prose",px:"4"},bve={baseStyle:Sve},Cve={opacity:.6,borderColor:"inherit"},Tve={borderStyle:"solid"},Ive={borderStyle:"dashed"},wve={solid:Tve,dashed:Ive},Eve={baseStyle:Cve,variants:wve,defaultProps:{variant:"solid"}},{definePartsStyle:pP,defineMultiStyleConfig:xve}=zr(pge.keys),Dx=Ft("drawer-bg"),Rx=Ft("drawer-box-shadow");function Rf(e){return pP(e==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}const Ave={bg:"blackAlpha.600",zIndex:"modal"},Pve={display:"flex",zIndex:"modal",justifyContent:"center"},kve=e=>{const{isFullHeight:t}=e;return{...t&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[Dx.variable]:"colors.white",[Rx.variable]:"shadows.lg",_dark:{[Dx.variable]:"colors.gray.700",[Rx.variable]:"shadows.dark-lg"},bg:Dx.reference,boxShadow:Rx.reference}},Dve={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Rve={position:"absolute",top:"2",insetEnd:"3"},Fve={px:"6",py:"2",flex:"1",overflow:"auto"},Ove={px:"6",py:"4"},Nve=pP(e=>({overlay:Ave,dialogContainer:Pve,dialog:eo(kve,e),header:Dve,closeButton:Rve,body:Fve,footer:Ove})),Mve={xs:Rf("xs"),sm:Rf("md"),md:Rf("lg"),lg:Rf("2xl"),xl:Rf("4xl"),full:Rf("full")},Lve=xve({baseStyle:Nve,sizes:Mve,defaultProps:{size:"xs"}}),{definePartsStyle:Wve,defineMultiStyleConfig:Bve}=zr(gge.keys),Uve={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},Vve={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},jve={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},Gve=Wve({preview:Uve,input:Vve,textarea:jve}),zve=Bve({baseStyle:Gve}),{definePartsStyle:Hve,defineMultiStyleConfig:$ve}=zr(mge.keys),hh=Ft("form-control-color"),Kve={marginStart:"1",[hh.variable]:"colors.red.500",_dark:{[hh.variable]:"colors.red.300"},color:hh.reference},Yve={mt:"2",[hh.variable]:"colors.gray.600",_dark:{[hh.variable]:"colors.whiteAlpha.600"},color:hh.reference,lineHeight:"normal",fontSize:"sm"},Xve=Hve({container:{width:"100%",position:"relative"},requiredIndicator:Kve,helperText:Yve}),Qve=$ve({baseStyle:Xve}),{definePartsStyle:Jve,defineMultiStyleConfig:qve}=zr(vge.keys),ph=Ft("form-error-color"),Zve={[ph.variable]:"colors.red.500",_dark:{[ph.variable]:"colors.red.300"},color:ph.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},e_e={marginEnd:"0.5em",[ph.variable]:"colors.red.500",_dark:{[ph.variable]:"colors.red.300"},color:ph.reference},t_e=Jve({text:Zve,icon:e_e}),r_e=qve({baseStyle:t_e}),n_e={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},i_e={baseStyle:n_e},o_e={fontFamily:"heading",fontWeight:"bold"},a_e={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},s_e={baseStyle:o_e,sizes:a_e,defaultProps:{size:"xl"}},{definePartsStyle:Au,defineMultiStyleConfig:u_e}=zr(_ge.keys),Qf=Ft("input-height"),Jf=Ft("input-font-size"),qf=Ft("input-padding"),Zf=Ft("input-border-radius"),c_e=Au({addon:{height:Qf.reference,fontSize:Jf.reference,px:qf.reference,borderRadius:Zf.reference},field:{width:"100%",height:Qf.reference,fontSize:Jf.reference,px:qf.reference,borderRadius:Zf.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),Ic={lg:{[Jf.variable]:"fontSizes.lg",[qf.variable]:"space.4",[Zf.variable]:"radii.md",[Qf.variable]:"sizes.12"},md:{[Jf.variable]:"fontSizes.md",[qf.variable]:"space.4",[Zf.variable]:"radii.md",[Qf.variable]:"sizes.10"},sm:{[Jf.variable]:"fontSizes.sm",[qf.variable]:"space.3",[Zf.variable]:"radii.sm",[Qf.variable]:"sizes.8"},xs:{[Jf.variable]:"fontSizes.xs",[qf.variable]:"space.2",[Zf.variable]:"radii.sm",[Qf.variable]:"sizes.6"}},l_e={lg:Au({field:Ic.lg,group:Ic.lg}),md:Au({field:Ic.md,group:Ic.md}),sm:Au({field:Ic.sm,group:Ic.sm}),xs:Au({field:Ic.xs,group:Ic.xs})};function dD(e){const{focusBorderColor:t,errorBorderColor:i}=e;return{focusBorderColor:t||Rt("blue.500","blue.300")(e),errorBorderColor:i||Rt("red.500","red.300")(e)}}const d_e=Au(e=>{const{theme:t}=e,{focusBorderColor:i,errorBorderColor:o}=dD(e);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Rt("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:qi(t,o),boxShadow:`0 0 0 1px ${qi(t,o)}`},_focusVisible:{zIndex:1,borderColor:qi(t,i),boxShadow:`0 0 0 1px ${qi(t,i)}`}},addon:{border:"1px solid",borderColor:Rt("inherit","whiteAlpha.50")(e),bg:Rt("gray.100","whiteAlpha.300")(e)}}}),f_e=Au(e=>{const{theme:t}=e,{focusBorderColor:i,errorBorderColor:o}=dD(e);return{field:{border:"2px solid",borderColor:"transparent",bg:Rt("gray.100","whiteAlpha.50")(e),_hover:{bg:Rt("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:qi(t,o)},_focusVisible:{bg:"transparent",borderColor:qi(t,i)}},addon:{border:"2px solid",borderColor:"transparent",bg:Rt("gray.100","whiteAlpha.50")(e)}}}),h_e=Au(e=>{const{theme:t}=e,{focusBorderColor:i,errorBorderColor:o}=dD(e);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:qi(t,o),boxShadow:`0px 1px 0px 0px ${qi(t,o)}`},_focusVisible:{borderColor:qi(t,i),boxShadow:`0px 1px 0px 0px ${qi(t,i)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),p_e=Au({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),g_e={outline:d_e,filled:f_e,flushed:h_e,unstyled:p_e},Er=u_e({baseStyle:c_e,sizes:l_e,variants:g_e,defaultProps:{size:"md",variant:"outline"}}),Fx=Ft("kbd-bg"),m_e={[Fx.variable]:"colors.gray.100",_dark:{[Fx.variable]:"colors.whiteAlpha.100"},bg:Fx.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},v_e={baseStyle:m_e},__e={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},y_e={baseStyle:__e},{defineMultiStyleConfig:S_e,definePartsStyle:b_e}=zr(yge.keys),C_e={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},T_e=b_e({icon:C_e}),I_e=S_e({baseStyle:T_e}),{defineMultiStyleConfig:w_e,definePartsStyle:E_e}=zr(Sge.keys),Ws=Ft("menu-bg"),Ox=Ft("menu-shadow"),x_e={[Ws.variable]:"#fff",[Ox.variable]:"shadows.sm",_dark:{[Ws.variable]:"colors.gray.700",[Ox.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:Ws.reference,boxShadow:Ox.reference},A_e={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Ws.variable]:"colors.gray.100",_dark:{[Ws.variable]:"colors.whiteAlpha.100"}},_active:{[Ws.variable]:"colors.gray.200",_dark:{[Ws.variable]:"colors.whiteAlpha.200"}},_expanded:{[Ws.variable]:"colors.gray.100",_dark:{[Ws.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Ws.reference},P_e={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},k_e={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},D_e={opacity:.6},R_e={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},F_e={transitionProperty:"common",transitionDuration:"normal"},O_e=E_e({button:F_e,list:x_e,item:A_e,groupTitle:P_e,icon:k_e,command:D_e,divider:R_e}),N_e=w_e({baseStyle:O_e}),{defineMultiStyleConfig:M_e,definePartsStyle:gP}=zr(bge.keys),Nx=Ft("modal-bg"),Mx=Ft("modal-shadow"),L_e={bg:"blackAlpha.600",zIndex:"modal"},W_e=e=>{const{isCentered:t,scrollBehavior:i}=e;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:t?"center":"flex-start",overflow:i==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},B_e=e=>{const{isCentered:t,scrollBehavior:i}=e;return{borderRadius:"md",color:"inherit",my:t?"auto":"16",mx:t?"auto":void 0,zIndex:"modal",maxH:i==="inside"?"calc(100% - 7.5rem)":void 0,[Nx.variable]:"colors.white",[Mx.variable]:"shadows.lg",_dark:{[Nx.variable]:"colors.gray.700",[Mx.variable]:"shadows.dark-lg"},bg:Nx.reference,boxShadow:Mx.reference}},U_e={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},V_e={position:"absolute",top:"2",insetEnd:"3"},j_e=e=>{const{scrollBehavior:t}=e;return{px:"6",py:"2",flex:"1",overflow:t==="inside"?"auto":void 0}},G_e={px:"6",py:"4"},z_e=gP(e=>({overlay:L_e,dialogContainer:eo(W_e,e),dialog:eo(B_e,e),header:U_e,closeButton:V_e,body:eo(j_e,e),footer:G_e}));function Ka(e){return gP(e==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}const H_e={xs:Ka("xs"),sm:Ka("sm"),md:Ka("md"),lg:Ka("lg"),xl:Ka("xl"),"2xl":Ka("2xl"),"3xl":Ka("3xl"),"4xl":Ka("4xl"),"5xl":Ka("5xl"),"6xl":Ka("6xl"),full:Ka("full")},$_e=M_e({baseStyle:z_e,sizes:H_e,defaultProps:{size:"md"}}),Xz={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:K_e,definePartsStyle:Qz}=zr(Cge.keys),fD=Qn("number-input-stepper-width"),Jz=Qn("number-input-input-padding"),Y_e=Tu(fD).add("0.5rem").toString(),Lx=Qn("number-input-bg"),Wx=Qn("number-input-color"),Bx=Qn("number-input-border-color"),X_e={[fD.variable]:"sizes.6",[Jz.variable]:Y_e},Q_e=e=>{var t;return((t=eo(Er.baseStyle,e))==null?void 0:t.field)??{}},J_e={width:fD.reference},q_e={borderStart:"1px solid",borderStartColor:Bx.reference,color:Wx.reference,bg:Lx.reference,[Wx.variable]:"colors.chakra-body-text",[Bx.variable]:"colors.chakra-border-color",_dark:{[Wx.variable]:"colors.whiteAlpha.800",[Bx.variable]:"colors.whiteAlpha.300"},_active:{[Lx.variable]:"colors.gray.200",_dark:{[Lx.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},Z_e=Qz(e=>({root:X_e,field:eo(Q_e,e)??{},stepperGroup:J_e,stepper:q_e}));function yy(e){var f,g;const t=(f=Er.sizes)==null?void 0:f[e],i={lg:"md",md:"md",sm:"sm",xs:"sm"},o=((g=t.field)==null?void 0:g.fontSize)??"md",c=Xz.fontSizes[o];return Qz({field:{...t.field,paddingInlineEnd:Jz.reference,verticalAlign:"top"},stepper:{fontSize:Tu(c).multiply(.75).toString(),_first:{borderTopEndRadius:i[e]},_last:{borderBottomEndRadius:i[e],mt:"-1px",borderTopWidth:1}}})}const e0e={xs:yy("xs"),sm:yy("sm"),md:yy("md"),lg:yy("lg")},t0e=K_e({baseStyle:Z_e,sizes:e0e,variants:Er.variants,defaultProps:Er.defaultProps});var Zj;const r0e={...(Zj=Er.baseStyle)==null?void 0:Zj.field,textAlign:"center"},n0e={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var e6;const i0e={outline:e=>{var t,i;return((i=eo((t=Er.variants)==null?void 0:t.outline,e))==null?void 0:i.field)??{}},flushed:e=>{var t,i;return((i=eo((t=Er.variants)==null?void 0:t.flushed,e))==null?void 0:i.field)??{}},filled:e=>{var t,i;return((i=eo((t=Er.variants)==null?void 0:t.filled,e))==null?void 0:i.field)??{}},unstyled:((e6=Er.variants)==null?void 0:e6.unstyled.field)??{}},o0e={baseStyle:r0e,sizes:n0e,variants:i0e,defaultProps:Er.defaultProps},{defineMultiStyleConfig:a0e,definePartsStyle:s0e}=zr(Tge.keys),Sy=Qn("popper-bg"),u0e=Qn("popper-arrow-bg"),g5=Qn("popper-arrow-shadow-color"),c0e={zIndex:"popover"},l0e={[Sy.variable]:"colors.white",bg:Sy.reference,[u0e.variable]:Sy.reference,[g5.variable]:"colors.gray.200",_dark:{[Sy.variable]:"colors.gray.700",[g5.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},d0e={px:3,py:2,borderBottomWidth:"1px"},f0e={px:3,py:2},h0e={px:3,py:2,borderTopWidth:"1px"},p0e={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},g0e=s0e({popper:c0e,content:l0e,header:d0e,body:f0e,footer:h0e,closeButton:p0e}),m0e=a0e({baseStyle:g0e}),{defineMultiStyleConfig:v0e,definePartsStyle:im}=zr(Ige.keys),_0e=e=>{const{colorScheme:t,theme:i,isIndeterminate:o,hasStripe:c}=e,f=Rt(l5(),l5("1rem","rgba(0,0,0,0.1)"))(e),g=Rt(`${t}.500`,`${t}.200`)(e),v=`linear-gradient(
    to right,
    transparent 0%,
    ${qi(i,g)} 50%,
    transparent 100%
  )`;return{...!o&&c&&f,...o?{bgImage:v}:{bgColor:g}}},y0e={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},S0e=e=>({bg:Rt("gray.100","whiteAlpha.300")(e)}),b0e=e=>({transitionProperty:"common",transitionDuration:"slow",..._0e(e)}),C0e=im(e=>({label:y0e,filledTrack:b0e(e),track:S0e(e)})),T0e={xs:im({track:{h:"1"}}),sm:im({track:{h:"2"}}),md:im({track:{h:"3"}}),lg:im({track:{h:"4"}})},I0e=v0e({sizes:T0e,baseStyle:C0e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:w0e,definePartsStyle:Zy}=zr(wge.keys),E0e=e=>{var i;const t=(i=eo(Fc.baseStyle,e))==null?void 0:i.control;return{...t,borderRadius:"full",_checked:{...t==null?void 0:t._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},x0e=Zy(e=>{var t,i;return{label:(t=Fc.baseStyle)==null?void 0:t.call(Fc,e).label,container:(i=Fc.baseStyle)==null?void 0:i.call(Fc,e).container,control:E0e(e)}}),A0e={md:Zy({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Zy({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Zy({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},P0e=w0e({baseStyle:x0e,sizes:A0e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:k0e,definePartsStyle:D0e}=zr(Ege.keys),by=Ft("select-bg");var t6;const R0e={...(t6=Er.baseStyle)==null?void 0:t6.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:by.reference,[by.variable]:"colors.white",_dark:{[by.variable]:"colors.gray.700"},"> option, > optgroup":{bg:by.reference}},F0e={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},O0e=D0e({field:R0e,icon:F0e}),Cy={paddingInlineEnd:"8"};var r6,n6,i6,o6,a6,s6,u6,c6;const N0e={lg:{...(r6=Er.sizes)==null?void 0:r6.lg,field:{...(n6=Er.sizes)==null?void 0:n6.lg.field,...Cy}},md:{...(i6=Er.sizes)==null?void 0:i6.md,field:{...(o6=Er.sizes)==null?void 0:o6.md.field,...Cy}},sm:{...(a6=Er.sizes)==null?void 0:a6.sm,field:{...(s6=Er.sizes)==null?void 0:s6.sm.field,...Cy}},xs:{...(u6=Er.sizes)==null?void 0:u6.xs,field:{...(c6=Er.sizes)==null?void 0:c6.xs.field,...Cy},icon:{insetEnd:"1"}}},M0e=k0e({baseStyle:O0e,sizes:N0e,variants:Er.variants,defaultProps:Er.defaultProps}),Ux=Ft("skeleton-start-color"),Vx=Ft("skeleton-end-color"),L0e={[Ux.variable]:"colors.gray.100",[Vx.variable]:"colors.gray.400",_dark:{[Ux.variable]:"colors.gray.800",[Vx.variable]:"colors.gray.600"},background:Ux.reference,borderColor:Vx.reference,opacity:.7,borderRadius:"sm"},W0e={baseStyle:L0e},jx=Ft("skip-link-bg"),B0e={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[jx.variable]:"colors.white",_dark:{[jx.variable]:"colors.gray.700"},bg:jx.reference}},U0e={baseStyle:B0e},{defineMultiStyleConfig:V0e,definePartsStyle:Vb}=zr(xge.keys),ud=Ft("slider-thumb-size"),tv=Ft("slider-track-size"),Lc=Ft("slider-bg"),j0e=e=>{const{orientation:t}=e;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...cD({orientation:t,vertical:{h:"100%",px:Cu(ud.reference).divide(2).toString()},horizontal:{w:"100%",py:Cu(ud.reference).divide(2).toString()}})}},G0e=e=>({...cD({orientation:e.orientation,horizontal:{h:tv.reference},vertical:{w:tv.reference}}),overflow:"hidden",borderRadius:"sm",[Lc.variable]:"colors.gray.200",_dark:{[Lc.variable]:"colors.whiteAlpha.200"},_disabled:{[Lc.variable]:"colors.gray.300",_dark:{[Lc.variable]:"colors.whiteAlpha.300"}},bg:Lc.reference}),z0e=e=>{const{orientation:t}=e;return{...cD({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:ud.reference,h:ud.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},H0e=e=>{const{colorScheme:t}=e;return{width:"inherit",height:"inherit",[Lc.variable]:`colors.${t}.500`,_dark:{[Lc.variable]:`colors.${t}.200`},bg:Lc.reference}},$0e=Vb(e=>({container:j0e(e),track:G0e(e),thumb:z0e(e),filledTrack:H0e(e)})),K0e=Vb({container:{[ud.variable]:"sizes.4",[tv.variable]:"sizes.1"}}),Y0e=Vb({container:{[ud.variable]:"sizes.3.5",[tv.variable]:"sizes.1"}}),X0e=Vb({container:{[ud.variable]:"sizes.2.5",[tv.variable]:"sizes.0.5"}}),Q0e={lg:K0e,md:Y0e,sm:X0e},J0e=V0e({baseStyle:$0e,sizes:Q0e,defaultProps:{size:"md",colorScheme:"blue"}}),Gl=Qn("spinner-size"),q0e={width:[Gl.reference],height:[Gl.reference]},Z0e={xs:{[Gl.variable]:"sizes.3"},sm:{[Gl.variable]:"sizes.4"},md:{[Gl.variable]:"sizes.6"},lg:{[Gl.variable]:"sizes.8"},xl:{[Gl.variable]:"sizes.12"}},eye={baseStyle:q0e,sizes:Z0e,defaultProps:{size:"md"}},{defineMultiStyleConfig:tye,definePartsStyle:qz}=zr(Age.keys),rye={fontWeight:"medium"},nye={opacity:.8,marginBottom:"2"},iye={verticalAlign:"baseline",fontWeight:"semibold"},oye={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},aye=qz({container:{},label:rye,helpText:nye,number:iye,icon:oye}),sye={md:qz({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},uye=tye({baseStyle:aye,sizes:sye,defaultProps:{size:"md"}}),{defineMultiStyleConfig:cye,definePartsStyle:om}=zr(["stepper","step","title","description","indicator","separator","icon","number"]),Iu=Ft("stepper-indicator-size"),eh=Ft("stepper-icon-size"),th=Ft("stepper-title-font-size"),am=Ft("stepper-description-font-size"),Gg=Ft("stepper-accent-color"),lye=om(({colorScheme:e})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Gg.variable]:`colors.${e}.500`,_dark:{[Gg.variable]:`colors.${e}.200`}},title:{fontSize:th.reference,fontWeight:"medium"},description:{fontSize:am.reference,color:"chakra-subtle-text"},number:{fontSize:th.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:eh.reference,height:eh.reference},indicator:{flexShrink:0,borderRadius:"full",width:Iu.reference,height:Iu.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Gg.reference},"&[data-status=complete]":{bg:Gg.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Gg.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${Iu.reference} - 8px)`,top:`calc(${Iu.reference} + 4px)`,insetStart:`calc(${Iu.reference} / 2 - 1px)`}}})),dye=cye({baseStyle:lye,sizes:{xs:om({stepper:{[Iu.variable]:"sizes.4",[eh.variable]:"sizes.3",[th.variable]:"fontSizes.xs",[am.variable]:"fontSizes.xs"}}),sm:om({stepper:{[Iu.variable]:"sizes.6",[eh.variable]:"sizes.4",[th.variable]:"fontSizes.sm",[am.variable]:"fontSizes.xs"}}),md:om({stepper:{[Iu.variable]:"sizes.8",[eh.variable]:"sizes.5",[th.variable]:"fontSizes.md",[am.variable]:"fontSizes.sm"}}),lg:om({stepper:{[Iu.variable]:"sizes.10",[eh.variable]:"sizes.6",[th.variable]:"fontSizes.lg",[am.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:fye,definePartsStyle:eS}=zr(Pge.keys),Tm=Qn("switch-track-width"),td=Qn("switch-track-height"),Gx=Qn("switch-track-diff"),hye=Tu.subtract(Tm,td),mP=Qn("switch-thumb-x"),zg=Qn("switch-bg"),pye=e=>{const{colorScheme:t}=e;return{borderRadius:"full",p:"0.5",width:[Tm.reference],height:[td.reference],transitionProperty:"common",transitionDuration:"fast",[zg.variable]:"colors.gray.300",_dark:{[zg.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[zg.variable]:`colors.${t}.500`,_dark:{[zg.variable]:`colors.${t}.200`}},bg:zg.reference}},gye={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[td.reference],height:[td.reference],_checked:{transform:`translateX(${mP.reference})`}},mye=eS(e=>({container:{[Gx.variable]:hye,[mP.variable]:Gx.reference,_rtl:{[mP.variable]:Tu(Gx).negate().toString()}},track:pye(e),thumb:gye})),vye={sm:eS({container:{[Tm.variable]:"1.375rem",[td.variable]:"sizes.3"}}),md:eS({container:{[Tm.variable]:"1.875rem",[td.variable]:"sizes.4"}}),lg:eS({container:{[Tm.variable]:"2.875rem",[td.variable]:"sizes.6"}})},_ye=fye({baseStyle:mye,sizes:vye,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:yye,definePartsStyle:gh}=zr(kge.keys),Sye=gh({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),YS={"&[data-is-numeric=true]":{textAlign:"end"}},bye=gh(e=>{const{colorScheme:t}=e;return{th:{color:Rt("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e),...YS},td:{borderBottom:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e),...YS},caption:{color:Rt("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),Cye=gh(e=>{const{colorScheme:t}=e;return{th:{color:Rt("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e),...YS},td:{borderBottom:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e),...YS},caption:{color:Rt("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Rt(`${t}.100`,`${t}.700`)(e)},td:{background:Rt(`${t}.100`,`${t}.700`)(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),Tye={simple:bye,striped:Cye,unstyled:{}},Iye={sm:gh({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:gh({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:gh({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},wye=yye({baseStyle:Sye,variants:Tye,sizes:Iye,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),So=Ft("tabs-color"),es=Ft("tabs-bg"),Ty=Ft("tabs-border-color"),{defineMultiStyleConfig:Eye,definePartsStyle:Ks}=zr(Dge.keys),xye=e=>{const{orientation:t}=e;return{display:t==="vertical"?"flex":"block"}},Aye=e=>{const{isFitted:t}=e;return{flex:t?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},Pye=e=>{const{align:t="start",orientation:i}=e;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[t],flexDirection:i==="vertical"?"column":"row"}},kye={p:4},Dye=Ks(e=>({root:xye(e),tab:Aye(e),tablist:Pye(e),tabpanel:kye})),Rye={sm:Ks({tab:{py:1,px:4,fontSize:"sm"}}),md:Ks({tab:{fontSize:"md",py:2,px:4}}),lg:Ks({tab:{fontSize:"lg",py:3,px:4}})},Fye=Ks(e=>{const{colorScheme:t,orientation:i}=e,o=i==="vertical",c=o?"borderStart":"borderBottom",f=o?"marginStart":"marginBottom";return{tablist:{[c]:"2px solid",borderColor:"inherit"},tab:{[c]:"2px solid",borderColor:"transparent",[f]:"-2px",_selected:{[So.variable]:`colors.${t}.600`,_dark:{[So.variable]:`colors.${t}.300`},borderColor:"currentColor"},_active:{[es.variable]:"colors.gray.200",_dark:{[es.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:So.reference,bg:es.reference}}}),Oye=Ks(e=>{const{colorScheme:t}=e;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[Ty.variable]:"transparent",_selected:{[So.variable]:`colors.${t}.600`,[Ty.variable]:"colors.white",_dark:{[So.variable]:`colors.${t}.300`,[Ty.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:Ty.reference},color:So.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),Nye=Ks(e=>{const{colorScheme:t}=e;return{tab:{border:"1px solid",borderColor:"inherit",[es.variable]:"colors.gray.50",_dark:{[es.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[es.variable]:"colors.white",[So.variable]:`colors.${t}.600`,_dark:{[es.variable]:"colors.gray.800",[So.variable]:`colors.${t}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:So.reference,bg:es.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),Mye=Ks(e=>{const{colorScheme:t,theme:i}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:qi(i,`${t}.700`),bg:qi(i,`${t}.100`)}}}}),Lye=Ks(e=>{const{colorScheme:t}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",[So.variable]:"colors.gray.600",_dark:{[So.variable]:"inherit"},_selected:{[So.variable]:"colors.white",[es.variable]:`colors.${t}.600`,_dark:{[So.variable]:"colors.gray.800",[es.variable]:`colors.${t}.300`}},color:So.reference,bg:es.reference}}}),Wye=Ks({}),Bye={line:Fye,enclosed:Oye,"enclosed-colored":Nye,"soft-rounded":Mye,"solid-rounded":Lye,unstyled:Wye},Uye=Eye({baseStyle:Dye,sizes:Rye,variants:Bye,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:Vye,definePartsStyle:rd}=zr(Rge.keys),m5=Ft("tag-bg"),v5=Ft("tag-color"),zx=Ft("tag-shadow"),tS=Ft("tag-min-height"),rS=Ft("tag-min-width"),nS=Ft("tag-font-size"),iS=Ft("tag-padding-inline"),jye={fontWeight:"medium",lineHeight:1.2,outline:0,[v5.variable]:On.color.reference,[m5.variable]:On.bg.reference,[zx.variable]:On.shadow.reference,color:v5.reference,bg:m5.reference,boxShadow:zx.reference,borderRadius:"md",minH:tS.reference,minW:rS.reference,fontSize:nS.reference,px:iS.reference,_focusVisible:{[zx.variable]:"shadows.outline"}},Gye={lineHeight:1.2,overflow:"visible"},zye={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},Hye=rd({container:jye,label:Gye,closeButton:zye}),$ye={sm:rd({container:{[tS.variable]:"sizes.5",[rS.variable]:"sizes.5",[nS.variable]:"fontSizes.xs",[iS.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:rd({container:{[tS.variable]:"sizes.6",[rS.variable]:"sizes.6",[nS.variable]:"fontSizes.sm",[iS.variable]:"space.2"}}),lg:rd({container:{[tS.variable]:"sizes.8",[rS.variable]:"sizes.8",[nS.variable]:"fontSizes.md",[iS.variable]:"space.3"}})},Kye={subtle:rd(e=>{var t;return{container:(t=Sm.variants)==null?void 0:t.subtle(e)}}),solid:rd(e=>{var t;return{container:(t=Sm.variants)==null?void 0:t.solid(e)}}),outline:rd(e=>{var t;return{container:(t=Sm.variants)==null?void 0:t.outline(e)}})},Yye=Vye({variants:Kye,baseStyle:Hye,sizes:$ye,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var l6;const Xye={...(l6=Er.baseStyle)==null?void 0:l6.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var d6;const Qye={outline:e=>{var t;return((t=Er.variants)==null?void 0:t.outline(e).field)??{}},flushed:e=>{var t;return((t=Er.variants)==null?void 0:t.flushed(e).field)??{}},filled:e=>{var t;return((t=Er.variants)==null?void 0:t.filled(e).field)??{}},unstyled:((d6=Er.variants)==null?void 0:d6.unstyled.field)??{}};var f6,h6,p6,g6;const Jye={xs:((f6=Er.sizes)==null?void 0:f6.xs.field)??{},sm:((h6=Er.sizes)==null?void 0:h6.sm.field)??{},md:((p6=Er.sizes)==null?void 0:p6.md.field)??{},lg:((g6=Er.sizes)==null?void 0:g6.lg.field)??{}},qye={baseStyle:Xye,sizes:Jye,variants:Qye,defaultProps:{size:"md",variant:"outline"}},Iy=Qn("tooltip-bg"),Hx=Qn("tooltip-fg"),Zye=Qn("popper-arrow-bg"),eSe={bg:Iy.reference,color:Hx.reference,[Iy.variable]:"colors.gray.700",[Hx.variable]:"colors.whiteAlpha.900",_dark:{[Iy.variable]:"colors.gray.300",[Hx.variable]:"colors.gray.900"},[Zye.variable]:Iy.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tSe={baseStyle:eSe},rSe={Accordion:Vge,Alert:Ime,Avatar:Nme,Badge:Sm,Breadcrumb:Hme,Button:eve,Checkbox:Fc,CloseButton:gve,Code:yve,Container:bve,Divider:Eve,Drawer:Lve,Editable:zve,Form:Qve,FormError:r_e,FormLabel:i_e,Heading:s_e,Input:Er,Kbd:v_e,Link:y_e,List:I_e,Menu:N_e,Modal:$_e,NumberInput:t0e,PinInput:o0e,Popover:m0e,Progress:I0e,Radio:P0e,Select:M0e,Skeleton:W0e,SkipLink:U0e,Slider:J0e,Spinner:eye,Stat:uye,Switch:_ye,Table:wye,Tabs:Uye,Tag:Yye,Textarea:qye,Tooltip:tSe,Card:ove,Stepper:dye},nSe={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},iSe={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},oSe={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},aSe={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},sSe={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},uSe={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},cSe={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},lSe={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},dSe={property:uSe,easing:cSe,duration:lSe},fSe={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},hSe={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},pSe={breakpoints:iSe,zIndices:fSe,radii:aSe,blur:hSe,colors:oSe,...Xz,sizes:Gz,shadows:sSe,space:jz,borders:nSe,transition:dSe},gSe={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},mSe={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},vSe="ltr",_Se={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},ySe={semanticTokens:gSe,direction:vSe,...pSe,components:rSe,styles:mSe,config:_Se};var SSe=!1;function bSe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function CSe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var TSe=function(){function e(i){var o=this;this._insertTag=function(c){var f;o.tags.length===0?o.insertionPoint?f=o.insertionPoint.nextSibling:o.prepend?f=o.container.firstChild:f=o.before:f=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(c,f),o.tags.push(c)},this.isSpeedy=i.speedy===void 0?!SSe:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(o){o.forEach(this._insertTag)},t.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(CSe(this));var c=this.tags[this.tags.length-1];if(this.isSpeedy){var f=bSe(c);try{f.insertRule(o,f.cssRules.length)}catch{}}else c.appendChild(document.createTextNode(o));this.ctr++},t.flush=function(){this.tags.forEach(function(o){var c;return(c=o.parentNode)==null?void 0:c.removeChild(o)}),this.tags=[],this.ctr=0},e}(),Di="-ms-",XS="-moz-",Ir="-webkit-",Zz="comm",hD="rule",pD="decl",ISe="@import",eH="@keyframes",wSe="@layer",ESe=Math.abs,jb=String.fromCharCode,xSe=Object.assign;function ASe(e,t){return Si(e,0)^45?(((t<<2^Si(e,0))<<2^Si(e,1))<<2^Si(e,2))<<2^Si(e,3):0}function tH(e){return e.trim()}function PSe(e,t){return(e=t.exec(e))?e[0]:e}function wr(e,t,i){return e.replace(t,i)}function vP(e,t){return e.indexOf(t)}function Si(e,t){return e.charCodeAt(t)|0}function rv(e,t,i){return e.slice(t,i)}function Bs(e){return e.length}function gD(e){return e.length}function wy(e,t){return t.push(e),e}function kSe(e,t){return e.map(t).join("")}var Gb=1,Ah=1,rH=0,Eo=0,Wn=0,Wh="";function zb(e,t,i,o,c,f,g){return{value:e,root:t,parent:i,type:o,props:c,children:f,line:Gb,column:Ah,length:g,return:""}}function Hg(e,t){return xSe(zb("",null,null,"",null,null,0),e,{length:-e.length},t)}function DSe(){return Wn}function RSe(){return Wn=Eo>0?Si(Wh,--Eo):0,Ah--,Wn===10&&(Ah=1,Gb--),Wn}function $o(){return Wn=Eo<rH?Si(Wh,Eo++):0,Ah++,Wn===10&&(Ah=1,Gb++),Wn}function Ys(){return Si(Wh,Eo)}function oS(){return Eo}function Tv(e,t){return rv(Wh,e,t)}function nv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nH(e){return Gb=Ah=1,rH=Bs(Wh=e),Eo=0,[]}function iH(e){return Wh="",e}function aS(e){return tH(Tv(Eo-1,_P(e===91?e+2:e===40?e+1:e)))}function FSe(e){for(;(Wn=Ys())&&Wn<33;)$o();return nv(e)>2||nv(Wn)>3?"":" "}function OSe(e,t){for(;--t&&$o()&&!(Wn<48||Wn>102||Wn>57&&Wn<65||Wn>70&&Wn<97););return Tv(e,oS()+(t<6&&Ys()==32&&$o()==32))}function _P(e){for(;$o();)switch(Wn){case e:return Eo;case 34:case 39:e!==34&&e!==39&&_P(Wn);break;case 40:e===41&&_P(e);break;case 92:$o();break}return Eo}function NSe(e,t){for(;$o()&&e+Wn!==47+10;)if(e+Wn===42+42&&Ys()===47)break;return"/*"+Tv(t,Eo-1)+"*"+jb(e===47?e:$o())}function MSe(e){for(;!nv(Ys());)$o();return Tv(e,Eo)}function LSe(e){return iH(sS("",null,null,null,[""],e=nH(e),0,[0],e))}function sS(e,t,i,o,c,f,g,v,C){for(var T=0,E=0,A=g,P=0,O=0,w=0,N=1,M=1,k=1,R=0,L="",K=c,de=f,ee=o,Q=L;M;)switch(w=R,R=$o()){case 40:if(w!=108&&Si(Q,A-1)==58){vP(Q+=wr(aS(R),"&","&\f"),"&\f")!=-1&&(k=-1);break}case 34:case 39:case 91:Q+=aS(R);break;case 9:case 10:case 13:case 32:Q+=FSe(w);break;case 92:Q+=OSe(oS()-1,7);continue;case 47:switch(Ys()){case 42:case 47:wy(WSe(NSe($o(),oS()),t,i),C);break;default:Q+="/"}break;case 123*N:v[T++]=Bs(Q)*k;case 125*N:case 59:case 0:switch(R){case 0:case 125:M=0;case 59+E:k==-1&&(Q=wr(Q,/\f/g,"")),O>0&&Bs(Q)-A&&wy(O>32?y5(Q+";",o,i,A-1):y5(wr(Q," ","")+";",o,i,A-2),C);break;case 59:Q+=";";default:if(wy(ee=_5(Q,t,i,T,E,c,v,L,K=[],de=[],A),f),R===123)if(E===0)sS(Q,t,ee,ee,K,f,A,v,de);else switch(P===99&&Si(Q,3)===110?100:P){case 100:case 108:case 109:case 115:sS(e,ee,ee,o&&wy(_5(e,ee,ee,0,0,c,v,L,c,K=[],A),de),c,de,A,v,o?K:de);break;default:sS(Q,ee,ee,ee,[""],de,0,v,de)}}T=E=O=0,N=k=1,L=Q="",A=g;break;case 58:A=1+Bs(Q),O=w;default:if(N<1){if(R==123)--N;else if(R==125&&N++==0&&RSe()==125)continue}switch(Q+=jb(R),R*N){case 38:k=E>0?1:(Q+="\f",-1);break;case 44:v[T++]=(Bs(Q)-1)*k,k=1;break;case 64:Ys()===45&&(Q+=aS($o())),P=Ys(),E=A=Bs(L=Q+=MSe(oS())),R++;break;case 45:w===45&&Bs(Q)==2&&(N=0)}}return f}function _5(e,t,i,o,c,f,g,v,C,T,E){for(var A=c-1,P=c===0?f:[""],O=gD(P),w=0,N=0,M=0;w<o;++w)for(var k=0,R=rv(e,A+1,A=ESe(N=g[w])),L=e;k<O;++k)(L=tH(N>0?P[k]+" "+R:wr(R,/&\f/g,P[k])))&&(C[M++]=L);return zb(e,t,i,c===0?hD:v,C,T,E)}function WSe(e,t,i){return zb(e,t,i,Zz,jb(DSe()),rv(e,2,-2),0)}function y5(e,t,i,o){return zb(e,t,i,pD,rv(e,0,o),rv(e,o+1,-1),o)}function mh(e,t){for(var i="",o=gD(e),c=0;c<o;c++)i+=t(e[c],c,e,t)||"";return i}function BSe(e,t,i,o){switch(e.type){case wSe:if(e.children.length)break;case ISe:case pD:return e.return=e.return||e.value;case Zz:return"";case eH:return e.return=e.value+"{"+mh(e.children,o)+"}";case hD:e.value=e.props.join(",")}return Bs(i=mh(e.children,o))?e.return=e.value+"{"+i+"}":""}function USe(e){var t=gD(e);return function(i,o,c,f){for(var g="",v=0;v<t;v++)g+=e[v](i,o,c,f)||"";return g}}function VSe(e){return function(t){t.root||(t=t.return)&&e(t)}}var S5=function(t){var i=new WeakMap;return function(o){if(i.has(o))return i.get(o);var c=t(o);return i.set(o,c),c}};function oH(e){var t=Object.create(null);return function(i){return t[i]===void 0&&(t[i]=e(i)),t[i]}}var jSe=function(t,i,o){for(var c=0,f=0;c=f,f=Ys(),c===38&&f===12&&(i[o]=1),!nv(f);)$o();return Tv(t,Eo)},GSe=function(t,i){var o=-1,c=44;do switch(nv(c)){case 0:c===38&&Ys()===12&&(i[o]=1),t[o]+=jSe(Eo-1,i,o);break;case 2:t[o]+=aS(c);break;case 4:if(c===44){t[++o]=Ys()===58?"&\f":"",i[o]=t[o].length;break}default:t[o]+=jb(c)}while(c=$o());return t},zSe=function(t,i){return iH(GSe(nH(t),i))},b5=new WeakMap,HSe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var i=t.value,o=t.parent,c=t.column===o.column&&t.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(t.props.length===1&&i.charCodeAt(0)!==58&&!b5.get(o))&&!c){b5.set(t,!0);for(var f=[],g=zSe(i,f),v=o.props,C=0,T=0;C<g.length;C++)for(var E=0;E<v.length;E++,T++)t.props[T]=f[C]?g[C].replace(/&\f/g,v[E]):v[E]+" "+g[C]}}},$Se=function(t){if(t.type==="decl"){var i=t.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(t.return="",t.value="")}};function aH(e,t){switch(ASe(e,t)){case 5103:return Ir+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ir+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ir+e+XS+e+Di+e+e;case 6828:case 4268:return Ir+e+Di+e+e;case 6165:return Ir+e+Di+"flex-"+e+e;case 5187:return Ir+e+wr(e,/(\w+).+(:[^]+)/,Ir+"box-$1$2"+Di+"flex-$1$2")+e;case 5443:return Ir+e+Di+"flex-item-"+wr(e,/flex-|-self/,"")+e;case 4675:return Ir+e+Di+"flex-line-pack"+wr(e,/align-content|flex-|-self/,"")+e;case 5548:return Ir+e+Di+wr(e,"shrink","negative")+e;case 5292:return Ir+e+Di+wr(e,"basis","preferred-size")+e;case 6060:return Ir+"box-"+wr(e,"-grow","")+Ir+e+Di+wr(e,"grow","positive")+e;case 4554:return Ir+wr(e,/([^-])(transform)/g,"$1"+Ir+"$2")+e;case 6187:return wr(wr(wr(e,/(zoom-|grab)/,Ir+"$1"),/(image-set)/,Ir+"$1"),e,"")+e;case 5495:case 3959:return wr(e,/(image-set\([^]*)/,Ir+"$1$`$1");case 4968:return wr(wr(e,/(.+:)(flex-)?(.*)/,Ir+"box-pack:$3"+Di+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ir+e+e;case 4095:case 3583:case 4068:case 2532:return wr(e,/(.+)-inline(.+)/,Ir+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bs(e)-1-t>6)switch(Si(e,t+1)){case 109:if(Si(e,t+4)!==45)break;case 102:return wr(e,/(.+:)(.+)-([^]+)/,"$1"+Ir+"$2-$3$1"+XS+(Si(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~vP(e,"stretch")?aH(wr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Si(e,t+1)!==115)break;case 6444:switch(Si(e,Bs(e)-3-(~vP(e,"!important")&&10))){case 107:return wr(e,":",":"+Ir)+e;case 101:return wr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ir+(Si(e,14)===45?"inline-":"")+"box$3$1"+Ir+"$2$3$1"+Di+"$2box$3")+e}break;case 5936:switch(Si(e,t+11)){case 114:return Ir+e+Di+wr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ir+e+Di+wr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ir+e+Di+wr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ir+e+Di+e+e}return e}var KSe=function(t,i,o,c){if(t.length>-1&&!t.return)switch(t.type){case pD:t.return=aH(t.value,t.length);break;case eH:return mh([Hg(t,{value:wr(t.value,"@","@"+Ir)})],c);case hD:if(t.length)return kSe(t.props,function(f){switch(PSe(f,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mh([Hg(t,{props:[wr(f,/:(read-\w+)/,":"+XS+"$1")]})],c);case"::placeholder":return mh([Hg(t,{props:[wr(f,/:(plac\w+)/,":"+Ir+"input-$1")]}),Hg(t,{props:[wr(f,/:(plac\w+)/,":"+XS+"$1")]}),Hg(t,{props:[wr(f,/:(plac\w+)/,Di+"input-$1")]})],c)}return""})}},YSe=[KSe],XSe=function(t){var i=t.key;if(i==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(N){var M=N.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(N),N.setAttribute("data-s",""))})}var c=t.stylisPlugins||YSe,f={},g,v=[];g=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(N){for(var M=N.getAttribute("data-emotion").split(" "),k=1;k<M.length;k++)f[M[k]]=!0;v.push(N)});var C,T=[HSe,$Se];{var E,A=[BSe,VSe(function(N){E.insert(N)})],P=USe(T.concat(c,A)),O=function(M){return mh(LSe(M),P)};C=function(M,k,R,L){E=R,O(M?M+"{"+k.styles+"}":k.styles),L&&(w.inserted[k.name]=!0)}}var w={key:i,sheet:new TSe({key:i,container:g,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:f,registered:{},insert:C};return w.sheet.hydrate(v),w};function QS(){return QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)({}).hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},QS.apply(null,arguments)}var sH={exports:{}},Fr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oi=typeof Symbol=="function"&&Symbol.for,mD=oi?Symbol.for("react.element"):60103,vD=oi?Symbol.for("react.portal"):60106,Hb=oi?Symbol.for("react.fragment"):60107,$b=oi?Symbol.for("react.strict_mode"):60108,Kb=oi?Symbol.for("react.profiler"):60114,Yb=oi?Symbol.for("react.provider"):60109,Xb=oi?Symbol.for("react.context"):60110,_D=oi?Symbol.for("react.async_mode"):60111,Qb=oi?Symbol.for("react.concurrent_mode"):60111,Jb=oi?Symbol.for("react.forward_ref"):60112,qb=oi?Symbol.for("react.suspense"):60113,QSe=oi?Symbol.for("react.suspense_list"):60120,Zb=oi?Symbol.for("react.memo"):60115,e1=oi?Symbol.for("react.lazy"):60116,JSe=oi?Symbol.for("react.block"):60121,qSe=oi?Symbol.for("react.fundamental"):60117,ZSe=oi?Symbol.for("react.responder"):60118,ebe=oi?Symbol.for("react.scope"):60119;function qo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case mD:switch(e=e.type,e){case _D:case Qb:case Hb:case Kb:case $b:case qb:return e;default:switch(e=e&&e.$$typeof,e){case Xb:case Jb:case e1:case Zb:case Yb:return e;default:return t}}case vD:return t}}}function uH(e){return qo(e)===Qb}Fr.AsyncMode=_D;Fr.ConcurrentMode=Qb;Fr.ContextConsumer=Xb;Fr.ContextProvider=Yb;Fr.Element=mD;Fr.ForwardRef=Jb;Fr.Fragment=Hb;Fr.Lazy=e1;Fr.Memo=Zb;Fr.Portal=vD;Fr.Profiler=Kb;Fr.StrictMode=$b;Fr.Suspense=qb;Fr.isAsyncMode=function(e){return uH(e)||qo(e)===_D};Fr.isConcurrentMode=uH;Fr.isContextConsumer=function(e){return qo(e)===Xb};Fr.isContextProvider=function(e){return qo(e)===Yb};Fr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===mD};Fr.isForwardRef=function(e){return qo(e)===Jb};Fr.isFragment=function(e){return qo(e)===Hb};Fr.isLazy=function(e){return qo(e)===e1};Fr.isMemo=function(e){return qo(e)===Zb};Fr.isPortal=function(e){return qo(e)===vD};Fr.isProfiler=function(e){return qo(e)===Kb};Fr.isStrictMode=function(e){return qo(e)===$b};Fr.isSuspense=function(e){return qo(e)===qb};Fr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Hb||e===Qb||e===Kb||e===$b||e===qb||e===QSe||typeof e=="object"&&e!==null&&(e.$$typeof===e1||e.$$typeof===Zb||e.$$typeof===Yb||e.$$typeof===Xb||e.$$typeof===Jb||e.$$typeof===qSe||e.$$typeof===ZSe||e.$$typeof===ebe||e.$$typeof===JSe)};Fr.typeOf=qo;sH.exports=Fr;var yD=sH.exports,SD=yD,tbe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},rbe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nbe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cH={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bD={};bD[SD.ForwardRef]=nbe;bD[SD.Memo]=cH;function C5(e){return SD.isMemo(e)?cH:bD[e.$$typeof]||tbe}var ibe=Object.defineProperty,obe=Object.getOwnPropertyNames,T5=Object.getOwnPropertySymbols,abe=Object.getOwnPropertyDescriptor,sbe=Object.getPrototypeOf,I5=Object.prototype;function lH(e,t,i){if(typeof t!="string"){if(I5){var o=sbe(t);o&&o!==I5&&lH(e,o,i)}var c=obe(t);T5&&(c=c.concat(T5(t)));for(var f=C5(e),g=C5(t),v=0;v<c.length;++v){var C=c[v];if(!rbe[C]&&!(i&&i[C])&&!(g&&g[C])&&!(f&&f[C])){var T=abe(t,C);try{ibe(e,C,T)}catch{}}}}return e}var ube=lH;const cbe=Fh(ube);var lbe=!0;function dbe(e,t,i){var o="";return i.split(" ").forEach(function(c){e[c]!==void 0?t.push(e[c]+";"):c&&(o+=c+" ")}),o}var dH=function(t,i,o){var c=t.key+"-"+i.name;(o===!1||lbe===!1)&&t.registered[c]===void 0&&(t.registered[c]=i.styles)},fH=function(t,i,o){dH(t,i,o);var c=t.key+"-"+i.name;if(t.inserted[i.name]===void 0){var f=i;do t.insert(i===f?"."+c:"",f,t.sheet,!0),f=f.next;while(f!==void 0)}};function fbe(e){for(var t=0,i,o=0,c=e.length;c>=4;++o,c-=4)i=e.charCodeAt(o)&255|(e.charCodeAt(++o)&255)<<8|(e.charCodeAt(++o)&255)<<16|(e.charCodeAt(++o)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,t=(i&65535)*1540483477+((i>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(c){case 3:t^=(e.charCodeAt(o+2)&255)<<16;case 2:t^=(e.charCodeAt(o+1)&255)<<8;case 1:t^=e.charCodeAt(o)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var hbe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pbe=!1,gbe=/[A-Z]|^ms/g,mbe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,hH=function(t){return t.charCodeAt(1)===45},w5=function(t){return t!=null&&typeof t!="boolean"},$x=oH(function(e){return hH(e)?e:e.replace(gbe,"-$&").toLowerCase()}),E5=function(t,i){switch(t){case"animation":case"animationName":if(typeof i=="string")return i.replace(mbe,function(o,c,f){return Us={name:c,styles:f,next:Us},c})}return hbe[t]!==1&&!hH(t)&&typeof i=="number"&&i!==0?i+"px":i},vbe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function iv(e,t,i){if(i==null)return"";var o=i;if(o.__emotion_styles!==void 0)return o;switch(typeof i){case"boolean":return"";case"object":{var c=i;if(c.anim===1)return Us={name:c.name,styles:c.styles,next:Us},c.name;var f=i;if(f.styles!==void 0){var g=f.next;if(g!==void 0)for(;g!==void 0;)Us={name:g.name,styles:g.styles,next:Us},g=g.next;var v=f.styles+";";return v}return _be(e,t,i)}case"function":{if(e!==void 0){var C=Us,T=i(e);return Us=C,iv(e,t,T)}break}}var E=i;if(t==null)return E;var A=t[E];return A!==void 0?A:E}function _be(e,t,i){var o="";if(Array.isArray(i))for(var c=0;c<i.length;c++)o+=iv(e,t,i[c])+";";else for(var f in i){var g=i[f];if(typeof g!="object"){var v=g;t!=null&&t[v]!==void 0?o+=f+"{"+t[v]+"}":w5(v)&&(o+=$x(f)+":"+E5(f,v)+";")}else{if(f==="NO_COMPONENT_SELECTOR"&&pbe)throw new Error(vbe);if(Array.isArray(g)&&typeof g[0]=="string"&&(t==null||t[g[0]]===void 0))for(var C=0;C<g.length;C++)w5(g[C])&&(o+=$x(f)+":"+E5(f,g[C])+";");else{var T=iv(e,t,g);switch(f){case"animation":case"animationName":{o+=$x(f)+":"+T+";";break}default:o+=f+"{"+T+"}"}}}}return o}var x5=/label:\s*([^\s;{]+)\s*(;|$)/g,Us;function CD(e,t,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var o=!0,c="";Us=void 0;var f=e[0];if(f==null||f.raw===void 0)o=!1,c+=iv(i,t,f);else{var g=f;c+=g[0]}for(var v=1;v<e.length;v++)if(c+=iv(i,t,e[v]),o){var C=f;c+=C[v]}x5.lastIndex=0;for(var T="",E;(E=x5.exec(c))!==null;)T+="-"+E[1];var A=fbe(c)+T;return{name:A,styles:c,next:Us}}var ybe=function(t){return t()},pH=z4["useInsertionEffect"]?z4["useInsertionEffect"]:!1,Sbe=pH||ybe,A5=pH||ve.useLayoutEffect,gH=ve.createContext(typeof HTMLElement<"u"?XSe({key:"css"}):null);gH.Provider;var TD=function(t){return ve.forwardRef(function(i,o){var c=ve.useContext(gH);return t(i,c,o)})},ov=ve.createContext({}),bbe=function(t,i){if(typeof i=="function"){var o=i(t);return o}return QS({},t,i)},Cbe=S5(function(e){return S5(function(t){return bbe(e,t)})}),Tbe=function(t){var i=ve.useContext(ov);return t.theme!==i&&(i=Cbe(i)(t.theme)),ve.createElement(ov.Provider,{value:i},t.children)},t1=TD(function(e,t){var i=e.styles,o=CD([i],void 0,ve.useContext(ov)),c=ve.useRef();return A5(function(){var f=t.key+"-global",g=new t.sheet.constructor({key:f,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),v=!1,C=document.querySelector('style[data-emotion="'+f+" "+o.name+'"]');return t.sheet.tags.length&&(g.before=t.sheet.tags[0]),C!==null&&(v=!0,C.setAttribute("data-emotion",f),g.hydrate([C])),c.current=[g,v],function(){g.flush()}},[t]),A5(function(){var f=c.current,g=f[0],v=f[1];if(v){f[1]=!1;return}if(o.next!==void 0&&fH(t,o.next,!0),g.tags.length){var C=g.tags[g.tags.length-1].nextElementSibling;g.before=C,g.flush()}t.insert("",o,g,!1)},[t,o.name]),null});function Ibe(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return CD(t)}var wbe=function(){var t=Ibe.apply(void 0,arguments),i="animation-"+t.name;return{name:i,styles:"@keyframes "+i+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const ID=ve.createContext({});ID.displayName="ColorModeContext";function wD(){const e=ve.useContext(ID);if(e===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return e}const Ey={light:"chakra-ui-light",dark:"chakra-ui-dark"};function Ebe(e={}){const{preventTransition:t=!0,nonce:i}=e,o={setDataset:c=>{const f=t?o.preventTransition():void 0;document.documentElement.dataset.theme=c,document.documentElement.style.colorScheme=c,f==null||f()},setClassName(c){document.body.classList.add(c?Ey.dark:Ey.light),document.body.classList.remove(c?Ey.light:Ey.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(c){return o.query().matches??c==="dark"?"dark":"light"},addListener(c){const f=o.query(),g=v=>{c(v.matches?"dark":"light")};return typeof f.addListener=="function"?f.addListener(g):f.addEventListener("change",g),()=>{typeof f.removeListener=="function"?f.removeListener(g):f.removeEventListener("change",g)}},preventTransition(){const c=document.createElement("style");return c.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),i!==void 0&&(c.nonce=i),document.head.appendChild(c),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(c)})})}}};return o}const xbe="chakra-ui-color-mode";function Abe(e){return{ssr:!1,type:"localStorage",get(t){if(!(globalThis!=null&&globalThis.document))return t;let i;try{i=localStorage.getItem(e)||t}catch{}return i||t},set(t){try{localStorage.setItem(e,t)}catch{}}}}const Pbe=Abe(xbe),P5=()=>{},kbe=Rhe()?ve.useLayoutEffect:ve.useEffect;function k5(e,t){return e.type==="cookie"&&e.ssr?e.get(t):t}const mH=TD(function(t,i){const{value:o,children:c,options:{useSystemColorMode:f,initialColorMode:g,disableTransitionOnChange:v}={},colorModeManager:C=Pbe}=t,T=g==="dark"?"dark":"light",[E,A]=ve.useState(()=>k5(C,T)),[P,O]=ve.useState(()=>k5(C)),{getSystemTheme:w,setClassName:N,setDataset:M,addListener:k}=ve.useMemo(()=>Ebe({preventTransition:v,nonce:i==null?void 0:i.nonce}),[v,i==null?void 0:i.nonce]),R=g==="system"&&!E?P:E,L=ve.useCallback(ee=>{const Q=ee==="system"?w():ee;A(Q),N(Q==="dark"),M(Q),C.set(Q)},[C,w,N,M]);kbe(()=>{g==="system"&&O(w())},[]),ve.useEffect(()=>{const ee=C.get();if(ee){L(ee);return}if(g==="system"){L("system");return}L(T)},[C,T,g,L]);const K=ve.useCallback(()=>{L(R==="dark"?"light":"dark")},[R,L]);ve.useEffect(()=>{if(f)return k(L)},[f,k,L]);const de=ve.useMemo(()=>({colorMode:o??R,toggleColorMode:o?P5:K,setColorMode:o?P5:L,forced:o!==void 0}),[R,K,L,o]);return Ie.jsx(ID.Provider,{value:de,children:c})});mH.displayName="ColorModeProvider";const vH=String.raw,_H=vH`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,Dbe=()=>Ie.jsx(t1,{styles:_H}),Rbe=({scope:e=""})=>Ie.jsx(t1,{styles:vH`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${e} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${e} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${e} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${e} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${e} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${e} :where(b, strong) {
        font-weight: bold;
      }

      ${e} small {
        font-size: 80%;
      }

      ${e} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${e} sub {
        bottom: -0.25em;
      }

      ${e} sup {
        top: -0.5em;
      }

      ${e} img {
        border-style: none;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${e} :where(button, input) {
        overflow: visible;
      }

      ${e} :where(button, select) {
        text-transform: none;
      }

      ${e} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${e} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${e} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${e} progress {
        vertical-align: baseline;
      }

      ${e} textarea {
        overflow: auto;
      }

      ${e} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${e} input[type="number"]::-webkit-inner-spin-button,
      ${e} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${e} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${e} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${e} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${e} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${e} details {
        display: block;
      }

      ${e} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${e} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${e} button {
        background: transparent;
        padding: 0;
      }

      ${e} fieldset {
        margin: 0;
        padding: 0;
      }

      ${e} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${e} textarea {
        resize: vertical;
      }

      ${e} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${e} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${e} table {
        border-collapse: collapse;
      }

      ${e} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${e} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${e} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${e} select::-ms-expand {
        display: none;
      }

      ${_H}
    `});function Fbe(e){const{cssVarsRoot:t,theme:i,children:o}=e,c=ve.useMemo(()=>uge(i),[i]);return Ie.jsxs(Tbe,{theme:c,children:[Ie.jsx(Obe,{root:t}),o]})}function Obe({root:e=":host, :root"}){const t=[e,"[data-theme]"].join(",");return Ie.jsx(t1,{styles:i=>({[t]:i.__cssVars})})}fd({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function Nbe(){const{colorMode:e}=wD();return Ie.jsx(t1,{styles:t=>{const i=Pz(t,"styles.global"),o=js(i,{theme:t,colorMode:e});return o?Wz(o)(t):void 0}})}const[Mbe,Lbe]=fd({strict:!1,name:"PortalManagerContext"});function yH(e){const{children:t,zIndex:i}=e;return Ie.jsx(Mbe,{value:{zIndex:i},children:t})}yH.displayName="PortalManager";const SH=ve.createContext({getDocument(){return document},getWindow(){return window}});SH.displayName="EnvironmentContext";function bH(e){const{children:t,environment:i,disabled:o}=e,c=ve.useRef(null),f=ve.useMemo(()=>i||{getDocument:()=>{var v;return((v=c.current)==null?void 0:v.ownerDocument)??document},getWindow:()=>{var v;return((v=c.current)==null?void 0:v.ownerDocument.defaultView)??window}},[i]),g=!o||!i;return Ie.jsxs(SH.Provider,{value:f,children:[t,g&&Ie.jsx("span",{id:"__chakra_env",hidden:!0,ref:c})]})}bH.displayName="EnvironmentProvider";const Wbe=e=>{const{children:t,colorModeManager:i,portalZIndex:o,resetScope:c,resetCSS:f=!0,theme:g={},environment:v,cssVarsRoot:C,disableEnvironment:T,disableGlobalStyle:E}=e,A=Ie.jsx(bH,{environment:v,disabled:T,children:t});return Ie.jsx(Fbe,{theme:g,cssVarsRoot:C,children:Ie.jsxs(mH,{colorModeManager:i,options:g.config,children:[f?Ie.jsx(Rbe,{scope:c}):Ie.jsx(Dbe,{}),!E&&Ie.jsx(Nbe,{}),o?Ie.jsx(yH,{zIndex:o,children:A}):A]})})},ED=ve.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),r1=ve.createContext({});function Bbe(){return ve.useContext(r1).visualElement}const Bh=ve.createContext(null),hd=typeof document<"u",JS=hd?ve.useLayoutEffect:ve.useEffect,CH=ve.createContext({strict:!1});function Ube(e,t,i,o){const c=Bbe(),f=ve.useContext(CH),g=ve.useContext(Bh),v=ve.useContext(ED).reducedMotion,C=ve.useRef(void 0);o=o||f.renderer,!C.current&&o&&(C.current=o(e,{visualState:t,parent:c,props:i,presenceId:g?g.id:void 0,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:v}));const T=C.current;return JS(()=>{T&&T.syncRender()}),ve.useEffect(()=>{T&&T.animationState&&T.animationState.animateChanges()}),JS(()=>()=>T&&T.notifyUnmount(),[]),T}function rh(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Vbe(e,t,i){return ve.useCallback(o=>{o&&e.mount&&e.mount(o),t&&(o?t.mount(o):t.unmount()),i&&(typeof i=="function"?i(o):rh(i)&&(i.current=o))},[t])}function av(e){return typeof e=="string"||Array.isArray(e)}function n1(e){return typeof e=="object"&&typeof e.start=="function"}const jbe=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function i1(e){return n1(e.animate)||jbe.some(t=>av(e[t]))}function TH(e){return!!(i1(e)||e.variants)}function Gbe(e,t){if(i1(e)){const{initial:i,animate:o}=e;return{initial:i===!1||av(i)?i:void 0,animate:av(o)?o:void 0}}return e.inherit!==!1?t:{}}function zbe(e){const{initial:t,animate:i}=Gbe(e,ve.useContext(r1));return ve.useMemo(()=>({initial:t,animate:i}),[D5(t),D5(i)])}function D5(e){return Array.isArray(e)?e.join(" "):e}const _u=e=>({isEnabled:t=>e.some(i=>!!t[i])}),sv={measureLayout:_u(["layout","layoutId","drag"]),animation:_u(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:_u(["exit"]),drag:_u(["drag","dragControls"]),focus:_u(["whileFocus"]),hover:_u(["whileHover","onHoverStart","onHoverEnd"]),tap:_u(["whileTap","onTap","onTapStart","onTapCancel"]),pan:_u(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:_u(["whileInView","onViewportEnter","onViewportLeave"])};function Hbe(e){for(const t in e)t==="projectionNodeConstructor"?sv.projectionNodeConstructor=e[t]:sv[t].Component=e[t]}function o1(e){const t=ve.useRef(null);return t.current===null&&(t.current=e()),t.current}const Im={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let $be=1;function Kbe(){return o1(()=>{if(Im.hasEverUpdated)return $be++})}const xD=ve.createContext({});class Ybe extends zt.Component{getSnapshotBeforeUpdate(){const{visualElement:t,props:i}=this.props;return t&&t.setProps(i),null}componentDidUpdate(){}render(){return this.props.children}}const IH=ve.createContext({});function Xbe({preloadedFeatures:e,createVisualElement:t,projectionNodeConstructor:i,useRender:o,useVisualState:c,Component:f}){e&&Hbe(e);function g(v,C){const T={...ve.useContext(ED),...v,layoutId:Qbe(v)},{isStatic:E}=T;let A=null;const P=zbe(v),O=E?void 0:Kbe(),w=c(v,E);if(!E&&hd){P.visualElement=Ube(f,w,T,t);const N=ve.useContext(CH).strict,M=ve.useContext(IH);P.visualElement&&(A=P.visualElement.loadFeatures(v,N,e,O,i||sv.projectionNodeConstructor,M))}return ve.createElement(Ybe,{visualElement:P.visualElement,props:T},A,ve.createElement(r1.Provider,{value:P},o(f,v,O,Vbe(w,P.visualElement,C),w,E,P.visualElement)))}return ve.forwardRef(g)}function Qbe({layoutId:e}){const t=ve.useContext(xD).id;return t&&e!==void 0?t+"-"+e:e}function Jbe(e){function t(o,c={}){return Xbe(e(o,c))}if(typeof Proxy>"u")return t;const i=new Map;return new Proxy(t,{get:(o,c)=>(i.has(c)||i.set(c,t(c)),i.get(c))})}const qbe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function AD(e){return typeof e!="string"||e.includes("-")?!1:!!(qbe.indexOf(e)>-1||/[A-Z]/.test(e))}const qS={};function Zbe(e){Object.assign(qS,e)}const ZS=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","skew","skewX","skewY"],Iv=new Set(ZS);function wH(e,{layout:t,layoutId:i}){return Iv.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!qS[e]||e==="opacity")}const Qs=e=>e===void 0?!1:!!e.getVelocity,e1e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t1e=(e,t)=>ZS.indexOf(e)-ZS.indexOf(t);function r1e({transform:e,transformKeys:t},{enableHardwareAcceleration:i=!0,allowTransformNone:o=!0},c,f){let g="";t.sort(t1e);for(const v of t)g+=`${e1e[v]||v}(${e[v]}) `;return i&&!e.z&&(g+="translateZ(0)"),g=g.trim(),f?g=f(e,c?"":g):o&&c&&(g="none"),g}function EH(e){return e.startsWith("--")}const n1e=(e,t)=>t&&typeof e=="number"?t.transform(e):e,xH=(e,t)=>i=>Math.max(Math.min(i,t),e),wm=e=>e%1?Number(e.toFixed(5)):e,uv=/(-)?([\d]*\.?[\d])+/g,yP=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,i1e=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function wv(e){return typeof e=="string"}const pd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Em=Object.assign(Object.assign({},pd),{transform:xH(0,1)}),xy=Object.assign(Object.assign({},pd),{default:1}),Ev=e=>({test:t=>wv(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ac=Ev("deg"),Xs=Ev("%"),Lt=Ev("px"),o1e=Ev("vh"),a1e=Ev("vw"),R5=Object.assign(Object.assign({},Xs),{parse:e=>Xs.parse(e)/100,transform:e=>Xs.transform(e*100)}),PD=(e,t)=>i=>!!(wv(i)&&i1e.test(i)&&i.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(i,t)),AH=(e,t,i)=>o=>{if(!wv(o))return o;const[c,f,g,v]=o.match(uv);return{[e]:parseFloat(c),[t]:parseFloat(f),[i]:parseFloat(g),alpha:v!==void 0?parseFloat(v):1}},Ql={test:PD("hsl","hue"),parse:AH("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:o=1})=>"hsla("+Math.round(e)+", "+Xs.transform(wm(t))+", "+Xs.transform(wm(i))+", "+wm(Em.transform(o))+")"},s1e=xH(0,255),Kx=Object.assign(Object.assign({},pd),{transform:e=>Math.round(s1e(e))}),Vc={test:PD("rgb","red"),parse:AH("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:o=1})=>"rgba("+Kx.transform(e)+", "+Kx.transform(t)+", "+Kx.transform(i)+", "+wm(Em.transform(o))+")"};function u1e(e){let t="",i="",o="",c="";return e.length>5?(t=e.substr(1,2),i=e.substr(3,2),o=e.substr(5,2),c=e.substr(7,2)):(t=e.substr(1,1),i=e.substr(2,1),o=e.substr(3,1),c=e.substr(4,1),t+=t,i+=i,o+=o,c+=c),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(o,16),alpha:c?parseInt(c,16)/255:1}}const SP={test:PD("#"),parse:u1e,transform:Vc.transform},Xi={test:e=>Vc.test(e)||SP.test(e)||Ql.test(e),parse:e=>Vc.test(e)?Vc.parse(e):Ql.test(e)?Ql.parse(e):SP.parse(e),transform:e=>wv(e)?e:e.hasOwnProperty("red")?Vc.transform(e):Ql.transform(e)},PH="${c}",kH="${n}";function c1e(e){var t,i,o,c;return isNaN(e)&&wv(e)&&((i=(t=e.match(uv))===null||t===void 0?void 0:t.length)!==null&&i!==void 0?i:0)+((c=(o=e.match(yP))===null||o===void 0?void 0:o.length)!==null&&c!==void 0?c:0)>0}function DH(e){typeof e=="number"&&(e=`${e}`);const t=[];let i=0;const o=e.match(yP);o&&(i=o.length,e=e.replace(yP,PH),t.push(...o.map(Xi.parse)));const c=e.match(uv);return c&&(e=e.replace(uv,kH),t.push(...c.map(pd.parse))),{values:t,numColors:i,tokenised:e}}function RH(e){return DH(e).values}function FH(e){const{values:t,numColors:i,tokenised:o}=DH(e),c=t.length;return f=>{let g=o;for(let v=0;v<c;v++)g=g.replace(v<i?PH:kH,v<i?Xi.transform(f[v]):wm(f[v]));return g}}const l1e=e=>typeof e=="number"?0:e;function d1e(e){const t=RH(e);return FH(e)(t.map(l1e))}const Lu={test:c1e,parse:RH,createTransformer:FH,getAnimatableNone:d1e},f1e=new Set(["brightness","contrast","saturate","opacity"]);function h1e(e){let[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=i.match(uv)||[];if(!o)return e;const c=i.replace(o,"");let f=f1e.has(t)?1:0;return o!==i&&(f*=100),t+"("+f+c+")"}const p1e=/([a-z-]*)\(.*?\)/g,bP=Object.assign(Object.assign({},Lu),{getAnimatableNone:e=>{const t=e.match(p1e);return t?t.map(h1e).join(" "):e}}),F5={...pd,transform:Math.round},OH={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,radius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,size:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,rotate:Ac,rotateX:Ac,rotateY:Ac,rotateZ:Ac,scale:xy,scaleX:xy,scaleY:xy,scaleZ:xy,skew:Ac,skewX:Ac,skewY:Ac,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:Em,originX:R5,originY:R5,originZ:Lt,zIndex:F5,fillOpacity:Em,strokeOpacity:Em,numOctaves:F5};function kD(e,t,i,o){const{style:c,vars:f,transform:g,transformKeys:v,transformOrigin:C}=e;v.length=0;let T=!1,E=!1,A=!0;for(const P in t){const O=t[P];if(EH(P)){f[P]=O;continue}const w=OH[P],N=n1e(O,w);if(Iv.has(P)){if(T=!0,g[P]=N,v.push(P),!A)continue;O!==(w.default||0)&&(A=!1)}else P.startsWith("origin")?(E=!0,C[P]=N):c[P]=N}if(T||o?c.transform=r1e(e,i,A,o):!t.transform&&c.transform&&(c.transform="none"),E){const{originX:P="50%",originY:O="50%",originZ:w=0}=C;c.transformOrigin=`${P} ${O} ${w}`}}const DD=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function NH(e,t,i){for(const o in t)!Qs(t[o])&&!wH(o,i)&&(e[o]=t[o])}function g1e({transformTemplate:e},t,i){return ve.useMemo(()=>{const o=DD();return kD(o,t,{enableHardwareAcceleration:!i},e),Object.assign({},o.vars,o.style)},[t])}function m1e(e,t,i){const o=e.style||{},c={};return NH(c,o,e),Object.assign(c,g1e(e,t,i)),e.transformValues?e.transformValues(c):c}function v1e(e,t,i){const o={},c=m1e(e,t,i);return e.drag&&e.dragListener!==!1&&(o.draggable=!1,c.userSelect=c.WebkitUserSelect=c.WebkitTouchCallout="none",c.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),o.style=c,o}const _1e=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],y1e=["whileTap","onTap","onTapStart","onTapCancel"],S1e=["onPan","onPanStart","onPanSessionStart","onPanEnd"],b1e=["whileInView","onViewportEnter","onViewportLeave","viewport"],C1e=new Set(["initial","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...b1e,...y1e,..._1e,...S1e]);function eb(e){return C1e.has(e)}let MH=e=>!eb(e);function T1e(e){e&&(MH=t=>t.startsWith("on")?!eb(t):e(t))}try{T1e(require("@emotion/is-prop-valid").default)}catch{}function I1e(e,t,i){const o={};for(const c in e)(MH(c)||i===!0&&eb(c)||!t&&!eb(c)||e.draggable&&c.startsWith("onDrag"))&&(o[c]=e[c]);return o}function O5(e,t,i){return typeof e=="string"?e:Lt.transform(t+i*e)}function w1e(e,t,i){const o=O5(t,e.x,e.width),c=O5(i,e.y,e.height);return`${o} ${c}`}const E1e={offset:"stroke-dashoffset",array:"stroke-dasharray"},x1e={offset:"strokeDashoffset",array:"strokeDasharray"};function A1e(e,t,i=1,o=0,c=!0){e.pathLength=1;const f=c?E1e:x1e;e[f.offset]=Lt.transform(-o);const g=Lt.transform(t),v=Lt.transform(i);e[f.array]=`${g} ${v}`}function RD(e,{attrX:t,attrY:i,originX:o,originY:c,pathLength:f,pathSpacing:g=1,pathOffset:v=0,...C},T,E){kD(e,C,T,E),e.attrs=e.style,e.style={};const{attrs:A,style:P,dimensions:O}=e;A.transform&&(O&&(P.transform=A.transform),delete A.transform),O&&(o!==void 0||c!==void 0||P.transform)&&(P.transformOrigin=w1e(O,o!==void 0?o:.5,c!==void 0?c:.5)),t!==void 0&&(A.x=t),i!==void 0&&(A.y=i),f!==void 0&&A1e(A,f,g,v,!1)}const LH=()=>({...DD(),attrs:{}});function P1e(e,t){const i=ve.useMemo(()=>{const o=LH();return RD(o,t,{enableHardwareAcceleration:!1},e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};NH(o,e.style,e),i.style={...o,...i.style}}return i}function k1e(e=!1){return(i,o,c,f,{latestValues:g},v)=>{const T=(AD(i)?P1e:v1e)(o,g,v),A={...I1e(o,typeof i=="string",e),...T,ref:f};return c&&(A["data-projection-id"]=c),ve.createElement(i,A)}}const WH=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function BH(e,{style:t,vars:i},o,c){Object.assign(e.style,t,c&&c.getProjectionStyles(o));for(const f in i)e.style.setProperty(f,i[f])}const UH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function VH(e,t,i,o){BH(e,t,void 0,o);for(const c in t.attrs)e.setAttribute(UH.has(c)?c:WH(c),t.attrs[c])}function FD(e){const{style:t}=e,i={};for(const o in t)(Qs(t[o])||wH(o,e))&&(i[o]=t[o]);return i}function jH(e){const t=FD(e);for(const i in e)if(Qs(e[i])){const o=i==="x"||i==="y"?"attr"+i.toUpperCase():i;t[o]=e[i]}return t}function GH(e,t,i,o={},c={}){return typeof t=="function"&&(t=t(i!==void 0?i:e.custom,o,c)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(i!==void 0?i:e.custom,o,c)),t}const cv=e=>Array.isArray(e),D1e=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),zH=e=>cv(e)?e[e.length-1]||0:e;function uS(e){const t=Qs(e)?e.get():e;return D1e(t)?t.toValue():t}function R1e({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:i},o,c,f){const g={latestValues:F1e(o,c,f,e),renderState:t()};return i&&(g.mount=v=>i(o,v,g)),g}const HH=e=>(t,i)=>{const o=ve.useContext(r1),c=ve.useContext(Bh),f=()=>R1e(e,t,o,c);return i?f():o1(f)};function F1e(e,t,i,o){const c={},f=o(e);for(const P in f)c[P]=uS(f[P]);let{initial:g,animate:v}=e;const C=i1(e),T=TH(e);t&&T&&!C&&e.inherit!==!1&&(g===void 0&&(g=t.initial),v===void 0&&(v=t.animate));let E=i?i.initial===!1:!1;E=E||g===!1;const A=E?v:g;return A&&typeof A!="boolean"&&!n1(A)&&(Array.isArray(A)?A:[A]).forEach(O=>{const w=GH(e,O);if(!w)return;const{transitionEnd:N,transition:M,...k}=w;for(const R in k){let L=k[R];if(Array.isArray(L)){const K=E?L.length-1:0;L=L[K]}L!==null&&(c[R]=L)}for(const R in N)c[R]=N[R]}),c}const O1e={useVisualState:HH({scrapeMotionValuesFromProps:jH,createRenderState:LH,onMount:(e,t,{renderState:i,latestValues:o})=>{try{i.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}RD(i,o,{enableHardwareAcceleration:!1},e.transformTemplate),VH(t,i)}})},N1e={useVisualState:HH({scrapeMotionValuesFromProps:FD,createRenderState:DD})};function M1e(e,{forwardMotionProps:t=!1},i,o,c){return{...AD(e)?O1e:N1e,preloadedFeatures:i,useRender:k1e(t),createVisualElement:o,projectionNodeConstructor:c,Component:e}}var jr;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(jr||(jr={}));function a1(e,t,i,o={passive:!0}){return e.addEventListener(t,i,o),()=>e.removeEventListener(t,i)}function CP(e,t,i,o){ve.useEffect(()=>{const c=e.current;if(i&&c)return a1(c,t,i,o)},[e,t,i,o])}function L1e({whileFocus:e,visualElement:t}){const{animationState:i}=t,o=()=>{i&&i.setActive(jr.Focus,!0)},c=()=>{i&&i.setActive(jr.Focus,!1)};CP(t,"focus",e?o:void 0),CP(t,"blur",e?c:void 0)}function $H(e){return typeof PointerEvent<"u"&&e instanceof PointerEvent?e.pointerType==="mouse":e instanceof MouseEvent}function KH(e){return!!e.touches}function W1e(e){return t=>{const i=t instanceof MouseEvent;(!i||i&&t.button===0)&&e(t)}}const B1e={pageX:0,pageY:0};function U1e(e,t="page"){const o=e.touches[0]||e.changedTouches[0]||B1e;return{x:o[t+"X"],y:o[t+"Y"]}}function V1e(e,t="page"){return{x:e[t+"X"],y:e[t+"Y"]}}function OD(e,t="page"){return{point:KH(e)?U1e(e,t):V1e(e,t)}}const YH=(e,t=!1)=>{const i=o=>e(o,OD(o));return t?W1e(i):i},j1e=()=>hd&&window.onpointerdown===null,G1e=()=>hd&&window.ontouchstart===null,z1e=()=>hd&&window.onmousedown===null,H1e={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},$1e={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function XH(e){return j1e()?e:G1e()?$1e[e]:z1e()?H1e[e]:e}function vh(e,t,i,o){return a1(e,XH(t),YH(i,t==="pointerdown"),o)}function tb(e,t,i,o){return CP(e,XH(t),i&&YH(i,t==="pointerdown"),o)}function QH(e){let t=null;return()=>{const i=()=>{t=null};return t===null?(t=e,i):!1}}const N5=QH("dragHorizontal"),M5=QH("dragVertical");function JH(e){let t=!1;if(e==="y")t=M5();else if(e==="x")t=N5();else{const i=N5(),o=M5();i&&o?t=()=>{i(),o()}:(i&&i(),o&&o())}return t}function qH(){const e=JH(!0);return e?(e(),!1):!0}function L5(e,t,i){return(o,c)=>{!$H(o)||qH()||(e.animationState&&e.animationState.setActive(jr.Hover,t),i&&i(o,c))}}function K1e({onHoverStart:e,onHoverEnd:t,whileHover:i,visualElement:o}){tb(o,"pointerenter",e||i?L5(o,!0,e):void 0,{passive:!e}),tb(o,"pointerleave",t||i?L5(o,!1,t):void 0,{passive:!t})}const ZH=(e,t)=>t?e===t?!0:ZH(e,t.parentElement):!1;function ND(e){return ve.useEffect(()=>()=>e(),[])}function e8(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(i[o[c]]=e[o[c]]);return i}var Y1e=function(){},rb=function(){};const nb=(e,t,i)=>Math.min(Math.max(i,e),t),Yx=.001,X1e=.01,W5=10,Q1e=.05,J1e=1;function q1e({duration:e=800,bounce:t=.25,velocity:i=0,mass:o=1}){let c,f;Y1e(e<=W5*1e3);let g=1-t;g=nb(Q1e,J1e,g),e=nb(X1e,W5,e/1e3),g<1?(c=T=>{const E=T*g,A=E*e,P=E-i,O=TP(T,g),w=Math.exp(-A);return Yx-P/O*w},f=T=>{const A=T*g*e,P=A*i+i,O=Math.pow(g,2)*Math.pow(T,2)*e,w=Math.exp(-A),N=TP(Math.pow(T,2),g);return(-c(T)+Yx>0?-1:1)*((P-O)*w)/N}):(c=T=>{const E=Math.exp(-T*e),A=(T-i)*e+1;return-Yx+E*A},f=T=>{const E=Math.exp(-T*e),A=(i-T)*(e*e);return E*A});const v=5/e,C=eCe(c,f,v);if(e=e*1e3,isNaN(C))return{stiffness:100,damping:10,duration:e};{const T=Math.pow(C,2)*o;return{stiffness:T,damping:g*2*Math.sqrt(o*T),duration:e}}}const Z1e=12;function eCe(e,t,i){let o=i;for(let c=1;c<Z1e;c++)o=o-e(o)/t(o);return o}function TP(e,t){return e*Math.sqrt(1-t*t)}const tCe=["duration","bounce"],rCe=["stiffness","damping","mass"];function B5(e,t){return t.some(i=>e[i]!==void 0)}function nCe(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!B5(e,rCe)&&B5(e,tCe)){const i=q1e(e);t=Object.assign(Object.assign(Object.assign({},t),i),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function MD(e){var{from:t=0,to:i=1,restSpeed:o=2,restDelta:c}=e,f=e8(e,["from","to","restSpeed","restDelta"]);const g={done:!1,value:t};let{stiffness:v,damping:C,mass:T,velocity:E,duration:A,isResolvedFromDuration:P}=nCe(f),O=U5,w=U5;function N(){const M=E?-(E/1e3):0,k=i-t,R=C/(2*Math.sqrt(v*T)),L=Math.sqrt(v/T)/1e3;if(c===void 0&&(c=Math.min(Math.abs(i-t)/100,.4)),R<1){const K=TP(L,R);O=de=>{const ee=Math.exp(-R*L*de);return i-ee*((M+R*L*k)/K*Math.sin(K*de)+k*Math.cos(K*de))},w=de=>{const ee=Math.exp(-R*L*de);return R*L*ee*(Math.sin(K*de)*(M+R*L*k)/K+k*Math.cos(K*de))-ee*(Math.cos(K*de)*(M+R*L*k)-K*k*Math.sin(K*de))}}else if(R===1)O=K=>i-Math.exp(-L*K)*(k+(M+L*k)*K);else{const K=L*Math.sqrt(R*R-1);O=de=>{const ee=Math.exp(-R*L*de),Q=Math.min(K*de,300);return i-ee*((M+R*L*k)*Math.sinh(Q)+K*k*Math.cosh(Q))/K}}}return N(),{next:M=>{const k=O(M);if(P)g.done=M>=A;else{const R=w(M)*1e3,L=Math.abs(R)<=o,K=Math.abs(i-k)<=c;g.done=L&&K}return g.value=g.done?i:k,g},flipTarget:()=>{E=-E,[t,i]=[i,t],N()}}}MD.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const U5=e=>0,lv=(e,t,i)=>{const o=t-e;return o===0?1:(i-e)/o},wn=(e,t,i)=>-i*e+i*t+e;function Xx(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function V5({hue:e,saturation:t,lightness:i,alpha:o}){e/=360,t/=100,i/=100;let c=0,f=0,g=0;if(!t)c=f=g=i;else{const v=i<.5?i*(1+t):i+t-i*t,C=2*i-v;c=Xx(C,v,e+1/3),f=Xx(C,v,e),g=Xx(C,v,e-1/3)}return{red:Math.round(c*255),green:Math.round(f*255),blue:Math.round(g*255),alpha:o}}const iCe=(e,t,i)=>{const o=e*e,c=t*t;return Math.sqrt(Math.max(0,i*(c-o)+o))},oCe=[SP,Vc,Ql],j5=e=>oCe.find(t=>t.test(e)),t8=(e,t)=>{let i=j5(e),o=j5(t),c=i.parse(e),f=o.parse(t);i===Ql&&(c=V5(c),i=Vc),o===Ql&&(f=V5(f),o=Vc);const g=Object.assign({},c);return v=>{for(const C in g)C!=="alpha"&&(g[C]=iCe(c[C],f[C],v));return g.alpha=wn(c.alpha,f.alpha,v),i.transform(g)}},IP=e=>typeof e=="number",aCe=(e,t)=>i=>t(e(i)),s1=(...e)=>e.reduce(aCe);function r8(e,t){return IP(e)?i=>wn(e,t,i):Xi.test(e)?t8(e,t):i8(e,t)}const n8=(e,t)=>{const i=[...e],o=i.length,c=e.map((f,g)=>r8(f,t[g]));return f=>{for(let g=0;g<o;g++)i[g]=c[g](f);return i}},sCe=(e,t)=>{const i=Object.assign(Object.assign({},e),t),o={};for(const c in i)e[c]!==void 0&&t[c]!==void 0&&(o[c]=r8(e[c],t[c]));return c=>{for(const f in o)i[f]=o[f](c);return i}};function G5(e){const t=Lu.parse(e),i=t.length;let o=0,c=0,f=0;for(let g=0;g<i;g++)o||typeof t[g]=="number"?o++:t[g].hue!==void 0?f++:c++;return{parsed:t,numNumbers:o,numRGB:c,numHSL:f}}const i8=(e,t)=>{const i=Lu.createTransformer(t),o=G5(e),c=G5(t);return o.numHSL===c.numHSL&&o.numRGB===c.numRGB&&o.numNumbers>=c.numNumbers?s1(n8(o.parsed,c.parsed),i):g=>`${g>0?t:e}`},uCe=(e,t)=>i=>wn(e,t,i);function cCe(e){if(typeof e=="number")return uCe;if(typeof e=="string")return Xi.test(e)?t8:i8;if(Array.isArray(e))return n8;if(typeof e=="object")return sCe}function lCe(e,t,i){const o=[],c=i||cCe(e[0]),f=e.length-1;for(let g=0;g<f;g++){let v=c(e[g],e[g+1]);if(t){const C=Array.isArray(t)?t[g]:t;v=s1(C,v)}o.push(v)}return o}function dCe([e,t],[i]){return o=>i(lv(e,t,o))}function fCe(e,t){const i=e.length,o=i-1;return c=>{let f=0,g=!1;if(c<=e[0]?g=!0:c>=e[o]&&(f=o-1,g=!0),!g){let C=1;for(;C<i&&!(e[C]>c||C===o);C++);f=C-1}const v=lv(e[f],e[f+1],c);return t[f](v)}}function o8(e,t,{clamp:i=!0,ease:o,mixer:c}={}){const f=e.length;rb(f===t.length),rb(!o||!Array.isArray(o)||o.length===f-1),e[0]>e[f-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const g=lCe(t,o,c),v=f===2?dCe(e,g):fCe(e,g);return i?C=>v(nb(e[0],e[f-1],C)):v}const u1=e=>t=>1-e(1-t),LD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hCe=e=>t=>Math.pow(t,e),a8=e=>t=>t*t*((e+1)*t-e),pCe=e=>{const t=a8(e);return i=>(i*=2)<1?.5*t(i):.5*(2-Math.pow(2,-10*(i-1)))},s8=1.525,gCe=4/11,mCe=8/11,vCe=9/10,WD=e=>e,BD=hCe(2),_Ce=u1(BD),u8=LD(BD),c8=e=>1-Math.sin(Math.acos(e)),UD=u1(c8),yCe=LD(UD),VD=a8(s8),SCe=u1(VD),bCe=LD(VD),CCe=pCe(s8),TCe=4356/361,ICe=35442/1805,wCe=16061/1805,ib=e=>{if(e===1||e===0)return e;const t=e*e;return e<gCe?7.5625*t:e<mCe?9.075*t-9.9*e+3.4:e<vCe?TCe*t-ICe*e+wCe:10.8*e*e-20.52*e+10.72},ECe=u1(ib),xCe=e=>e<.5?.5*(1-ib(1-e*2)):.5*ib(e*2-1)+.5;function ACe(e,t){return e.map(()=>t||u8).splice(0,e.length-1)}function PCe(e){const t=e.length;return e.map((i,o)=>o!==0?o/(t-1):0)}function kCe(e,t){return e.map(i=>i*t)}function cS({from:e=0,to:t=1,ease:i,offset:o,duration:c=300}){const f={done:!1,value:e},g=Array.isArray(t)?t:[e,t],v=kCe(o&&o.length===g.length?o:PCe(g),c);function C(){return o8(v,g,{ease:Array.isArray(i)?i:ACe(g,i)})}let T=C();return{next:E=>(f.value=T(E),f.done=E>=c,f),flipTarget:()=>{g.reverse(),T=C()}}}function DCe({velocity:e=0,from:t=0,power:i=.8,timeConstant:o=350,restDelta:c=.5,modifyTarget:f}){const g={done:!1,value:t};let v=i*e;const C=t+v,T=f===void 0?C:f(C);return T!==C&&(v=T-t),{next:E=>{const A=-v*Math.exp(-E/o);return g.done=!(A>c||A<-c),g.value=g.done?T:T+A,g},flipTarget:()=>{}}}const z5={keyframes:cS,spring:MD,decay:DCe};function RCe(e){if(Array.isArray(e.to))return cS;if(z5[e.type])return z5[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?cS:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?MD:cS}function l8(e,t,i=0){return e-t-i}function FCe(e,t,i=0,o=!0){return o?l8(t+-e,t,i):t-(e-t)+i}function OCe(e,t,i,o){return o?e>=t+i:e<=-i}const NCe=e=>{const t=({delta:i})=>e(i);return{start:()=>as.update(t,!0),stop:()=>wh.update(t)}};function d8(e){var t,i,{from:o,autoplay:c=!0,driver:f=NCe,elapsed:g=0,repeat:v=0,repeatType:C="loop",repeatDelay:T=0,onPlay:E,onStop:A,onComplete:P,onRepeat:O,onUpdate:w}=e,N=e8(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:M}=N,k,R=0,L=N.duration,K,de=!1,ee=!0,Q;const ce=RCe(N);!((i=(t=ce).needsInterpolation)===null||i===void 0)&&i.call(t,o,M)&&(Q=o8([0,100],[o,M],{clamp:!1}),o=0,M=100);const he=ce(Object.assign(Object.assign({},N),{from:o,to:M}));function le(){R++,C==="reverse"?(ee=R%2===0,g=FCe(g,L,T,ee)):(g=l8(g,L,T),C==="mirror"&&he.flipTarget()),de=!1,O&&O()}function fe(){k.stop(),P&&P()}function ye(De){if(ee||(De=-De),g+=De,!de){const Ne=he.next(Math.max(0,g));K=Ne.value,Q&&(K=Q(K)),de=ee?Ne.done:g<=0}w==null||w(K),de&&(R===0&&(L??(L=g)),R<v?OCe(g,L,T,ee)&&le():fe())}function xe(){E==null||E(),k=f(ye),k.start()}return c&&xe(),{stop:()=>{A==null||A(),k.stop()}}}function f8(e,t){return t?e*(1e3/t):0}function MCe({from:e=0,velocity:t=0,min:i,max:o,power:c=.8,timeConstant:f=750,bounceStiffness:g=500,bounceDamping:v=10,restDelta:C=1,modifyTarget:T,driver:E,onUpdate:A,onComplete:P,onStop:O}){let w;function N(L){return i!==void 0&&L<i||o!==void 0&&L>o}function M(L){return i===void 0?o:o===void 0||Math.abs(i-L)<Math.abs(o-L)?i:o}function k(L){w==null||w.stop(),w=d8(Object.assign(Object.assign({},L),{driver:E,onUpdate:K=>{var de;A==null||A(K),(de=L.onUpdate)===null||de===void 0||de.call(L,K)},onComplete:P,onStop:O}))}function R(L){k(Object.assign({type:"spring",stiffness:g,damping:v,restDelta:C},L))}if(N(e))R({from:e,velocity:t,to:M(e)});else{let L=c*t+e;typeof T<"u"&&(L=T(L));const K=M(L),de=K===i?-1:1;let ee,Q;const ce=he=>{ee=Q,Q=he,t=f8(he-ee,HS().delta),(de===1&&he>K||de===-1&&he<K)&&R({from:he,to:K,velocity:t})};k({type:"decay",from:e,velocity:t,timeConstant:f,power:c,restDelta:C,modifyTarget:T,onUpdate:N(L)?ce:void 0})}return{stop:()=>w==null?void 0:w.stop()}}const wP=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),H5=e=>wP(e)&&e.hasOwnProperty("z"),Ay=(e,t)=>Math.abs(e-t);function jD(e,t){if(IP(e)&&IP(t))return Ay(e,t);if(wP(e)&&wP(t)){const i=Ay(e.x,t.x),o=Ay(e.y,t.y),c=H5(e)&&H5(t)?Ay(e.z,t.z):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2)+Math.pow(c,2))}}const h8=(e,t)=>1-3*t+3*e,p8=(e,t)=>3*t-6*e,g8=e=>3*e,ob=(e,t,i)=>((h8(t,i)*e+p8(t,i))*e+g8(t))*e,m8=(e,t,i)=>3*h8(t,i)*e*e+2*p8(t,i)*e+g8(t),LCe=1e-7,WCe=10;function BCe(e,t,i,o,c){let f,g,v=0;do g=t+(i-t)/2,f=ob(g,o,c)-e,f>0?i=g:t=g;while(Math.abs(f)>LCe&&++v<WCe);return g}const UCe=8,VCe=.001;function jCe(e,t,i,o){for(let c=0;c<UCe;++c){const f=m8(t,i,o);if(f===0)return t;const g=ob(t,i,o)-e;t-=g/f}return t}const lS=11,Py=1/(lS-1);function GCe(e,t,i,o){if(e===t&&i===o)return WD;const c=new Float32Array(lS);for(let g=0;g<lS;++g)c[g]=ob(g*Py,e,i);function f(g){let v=0,C=1;const T=lS-1;for(;C!==T&&c[C]<=g;++C)v+=Py;--C;const E=(g-c[C])/(c[C+1]-c[C]),A=v+E*Py,P=m8(A,e,i);return P>=VCe?jCe(g,A,e,i):P===0?A:BCe(g,v,v+Py,e,i)}return g=>g===0||g===1?g:ob(f(g),t,o)}function zCe({onTap:e,onTapStart:t,onTapCancel:i,whileTap:o,visualElement:c}){const f=e||t||i||o,g=ve.useRef(!1),v=ve.useRef(null),C={passive:!(t||e||i||O)};function T(){v.current&&v.current(),v.current=null}function E(){return T(),g.current=!1,c.animationState&&c.animationState.setActive(jr.Tap,!1),!qH()}function A(w,N){E()&&(ZH(c.getInstance(),w.target)?e&&e(w,N):i&&i(w,N))}function P(w,N){E()&&i&&i(w,N)}function O(w,N){T(),!g.current&&(g.current=!0,v.current=s1(vh(window,"pointerup",A,C),vh(window,"pointercancel",P,C)),c.animationState&&c.animationState.setActive(jr.Tap,!0),t&&t(w,N))}tb(c,"pointerdown",f?O:void 0,C),ND(T)}const HCe="production",v8=typeof process>"u"||process.env===void 0?HCe:"production",$5=new Set;function _8(e,t,i){e||$5.has(t)||(console.warn(t),i&&console.warn(i),$5.add(t))}const EP=new WeakMap,Qx=new WeakMap,$Ce=e=>{const t=EP.get(e.target);t&&t(e)},KCe=e=>{e.forEach($Ce)};function YCe({root:e,...t}){const i=e||document;Qx.has(i)||Qx.set(i,{});const o=Qx.get(i),c=JSON.stringify(t);return o[c]||(o[c]=new IntersectionObserver(KCe,{root:e,...t})),o[c]}function XCe(e,t,i){const o=YCe(t);return EP.set(e,i),o.observe(e),()=>{EP.delete(e),o.unobserve(e)}}function QCe({visualElement:e,whileInView:t,onViewportEnter:i,onViewportLeave:o,viewport:c={}}){const f=ve.useRef({hasEnteredView:!1,isInView:!1});let g=!!(t||i||o);c.once&&f.current.hasEnteredView&&(g=!1),(typeof IntersectionObserver>"u"?ZCe:qCe)(g,f.current,e,c)}const JCe={some:0,all:1};function qCe(e,t,i,{root:o,margin:c,amount:f="some",once:g}){ve.useEffect(()=>{if(!e)return;const v={root:o==null?void 0:o.current,rootMargin:c,threshold:typeof f=="number"?f:JCe[f]},C=T=>{const{isIntersecting:E}=T;if(t.isInView===E||(t.isInView=E,g&&!E&&t.hasEnteredView))return;E&&(t.hasEnteredView=!0),i.animationState&&i.animationState.setActive(jr.InView,E);const A=i.getProps(),P=E?A.onViewportEnter:A.onViewportLeave;P&&P(T)};return XCe(i.getInstance(),v,C)},[e,o,c,f])}function ZCe(e,t,i,{fallback:o=!0}){ve.useEffect(()=>{!e||!o||(v8!=="production"&&_8(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{t.hasEnteredView=!0;const{onViewportEnter:c}=i.getProps();c&&c(null),i.animationState&&i.animationState.setActive(jr.InView,!0)}))},[e])}const jc=e=>t=>(e(t),null),eTe={inView:jc(QCe),tap:jc(zCe),focus:jc(L1e),hover:jc(K1e)};function y8(){const e=ve.useContext(Bh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:o}=e,c=ve.useId();return ve.useEffect(()=>o(c),[]),!t&&i?[!1,()=>i&&i(c)]:[!0]}function tTe(){return rTe(ve.useContext(Bh))}function rTe(e){return e===null?!0:e.isPresent}function S8(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let o=0;o<i;o++)if(t[o]!==e[o])return!1;return!0}const ab=e=>e*1e3,nTe={linear:WD,easeIn:BD,easeInOut:u8,easeOut:_Ce,circIn:c8,circInOut:yCe,circOut:UD,backIn:VD,backInOut:bCe,backOut:SCe,anticipate:CCe,bounceIn:ECe,bounceInOut:xCe,bounceOut:ib},K5=e=>{if(Array.isArray(e)){rb(e.length===4);const[t,i,o,c]=e;return GCe(t,i,o,c)}else if(typeof e=="string")return nTe[e];return e},iTe=e=>Array.isArray(e)&&typeof e[0]!="number",Y5=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Lu.test(t)&&!t.startsWith("url(")),Bl=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),ky=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Jx=()=>({type:"keyframes",ease:"linear",duration:.3}),oTe=e=>({type:"keyframes",duration:.8,values:e}),X5={x:Bl,y:Bl,z:Bl,rotate:Bl,rotateX:Bl,rotateY:Bl,rotateZ:Bl,scaleX:ky,scaleY:ky,scale:ky,opacity:Jx,backgroundColor:Jx,color:Jx,default:ky},aTe=(e,t)=>{let i;return cv(t)?i=oTe:i=X5[e]||X5.default,{to:t,...i(t)}},sTe={...OH,color:Xi,backgroundColor:Xi,outlineColor:Xi,fill:Xi,stroke:Xi,borderColor:Xi,borderTopColor:Xi,borderRightColor:Xi,borderBottomColor:Xi,borderLeftColor:Xi,filter:bP,WebkitFilter:bP},GD=e=>sTe[e];function zD(e,t){var i;let o=GD(e);return o!==bP&&(o=Lu),(i=o.getAnimatableNone)===null||i===void 0?void 0:i.call(o,t)}function uTe({when:e,delay:t,delayChildren:i,staggerChildren:o,staggerDirection:c,repeat:f,repeatType:g,repeatDelay:v,from:C,...T}){return!!Object.keys(T).length}function cTe({ease:e,times:t,yoyo:i,flip:o,loop:c,...f}){const g={...f};return t&&(g.offset=t),f.duration&&(g.duration=ab(f.duration)),f.repeatDelay&&(g.repeatDelay=ab(f.repeatDelay)),e&&(g.ease=iTe(e)?e.map(K5):K5(e)),f.type==="tween"&&(g.type="keyframes"),(i||c||o)&&(i?g.repeatType="reverse":c?g.repeatType="loop":o&&(g.repeatType="mirror"),g.repeat=c||i||o||f.repeat),f.type!=="spring"&&(g.type="keyframes"),g}function lTe(e,t){var i,o;return(o=(i=(HD(e,t)||{}).delay)!==null&&i!==void 0?i:e.delay)!==null&&o!==void 0?o:0}function dTe(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=[...e.to],e.to[0]=e.from),e}function fTe(e,t,i){return Array.isArray(t.to)&&e.duration===void 0&&(e.duration=.8),dTe(t),uTe(e)||(e={...e,...aTe(i,t.to)}),{...t,...cTe(e)}}function hTe(e,t,i,o,c){const f=HD(o,e)||{};let g=f.from!==void 0?f.from:t.get();const v=Y5(e,i);g==="none"&&v&&typeof i=="string"?g=zD(e,i):Q5(g)&&typeof i=="string"?g=J5(i):!Array.isArray(i)&&Q5(i)&&typeof g=="string"&&(i=J5(g));const C=Y5(e,g);function T(){const A={from:g,to:i,velocity:t.getVelocity(),onComplete:c,onUpdate:P=>t.set(P)};return f.type==="inertia"||f.type==="decay"?MCe({...A,...f}):d8({...fTe(f,A,e),onUpdate:P=>{A.onUpdate(P),f.onUpdate&&f.onUpdate(P)},onComplete:()=>{A.onComplete(),f.onComplete&&f.onComplete()}})}function E(){const A=zH(i);return t.set(A),c(),f.onUpdate&&f.onUpdate(A),f.onComplete&&f.onComplete(),{stop:()=>{}}}return!C||!v||f.type===!1?E:T}function Q5(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function J5(e){return typeof e=="number"?0:zD("",e)}function HD(e,t){return e[t]||e.default||e}function $D(e,t,i,o={}){return t.start(c=>{let f,g;const v=hTe(e,t,i,o,c),C=lTe(o,e),T=()=>g=v();return C?f=window.setTimeout(T,ab(C)):T(),()=>{clearTimeout(f),g&&g.stop()}})}const pTe=e=>/^\-?\d*\.?\d+$/.test(e),gTe=e=>/^0[^.\s]+$/.test(e);function KD(e,t){e.indexOf(t)===-1&&e.push(t)}function YD(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class xm{constructor(){this.subscriptions=[]}add(t){return KD(this.subscriptions,t),()=>YD(this.subscriptions,t)}notify(t,i,o){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](t,i,o);else for(let f=0;f<c;f++){const g=this.subscriptions[f];g&&g(t,i,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mTe=e=>!isNaN(parseFloat(e));class vTe{constructor(t){this.version="7.3.0",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new xm,this.velocityUpdateSubscribers=new xm,this.renderSubscribers=new xm,this.canTrackVelocity=!1,this.updateAndNotify=(i,o=!0)=>{this.prev=this.current,this.current=i;const{delta:c,timestamp:f}=HS();this.lastUpdated!==f&&(this.timeDelta=c,this.lastUpdated=f,as.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),o&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>as.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=mTe(this.current)}onChange(t){return this.updateSubscribers.add(t)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(t){return t(this.get()),this.renderSubscribers.add(t)}attach(t){this.passiveEffect=t}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?f8(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.stopAnimation=t(i)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function Ph(e){return new vTe(e)}const b8=e=>t=>t.test(e),_Te={test:e=>e==="auto",parse:e=>e},C8=[pd,Lt,Xs,Ac,a1e,o1e,_Te],$g=e=>C8.find(b8(e)),yTe=[...C8,Xi,Lu],STe=e=>yTe.find(b8(e));function bTe(e){const t={};return e.forEachValue((i,o)=>t[o]=i.get()),t}function CTe(e){const t={};return e.forEachValue((i,o)=>t[o]=i.getVelocity()),t}function c1(e,t,i){const o=e.getProps();return GH(o,t,i!==void 0?i:o.custom,bTe(e),CTe(e))}function TTe(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,Ph(i))}function ITe(e,t){const i=c1(e,t);let{transitionEnd:o={},transition:c={},...f}=i?e.makeTargetAnimatable(i,!1):{};f={...f,...o};for(const g in f){const v=zH(f[g]);TTe(e,g,v)}}function wTe(e,t,i){var o,c;const f=Object.keys(t).filter(v=>!e.hasValue(v)),g=f.length;if(g)for(let v=0;v<g;v++){const C=f[v],T=t[C];let E=null;Array.isArray(T)&&(E=T[0]),E===null&&(E=(c=(o=i[C])!==null&&o!==void 0?o:e.readValue(C))!==null&&c!==void 0?c:t[C]),E!=null&&(typeof E=="string"&&(pTe(E)||gTe(E))?E=parseFloat(E):!STe(E)&&Lu.test(T)&&(E=zD(C,T)),e.addValue(C,Ph(E)),i[C]===void 0&&(i[C]=E),e.setBaseTarget(C,E))}}function ETe(e,t){return t?(t[e]||t.default||t).from:void 0}function xTe(e,t,i){var o;const c={};for(const f in e){const g=ETe(f,t);c[f]=g!==void 0?g:(o=i.getValue(f))===null||o===void 0?void 0:o.get()}return c}function sb(e){return!!(Qs(e)&&e.add)}function ATe(e,t,i={}){e.notifyAnimationStart(t);let o;if(Array.isArray(t)){const c=t.map(f=>xP(e,f,i));o=Promise.all(c)}else if(typeof t=="string")o=xP(e,t,i);else{const c=typeof t=="function"?c1(e,t,i.custom):t;o=T8(e,c,i)}return o.then(()=>e.notifyAnimationComplete(t))}function xP(e,t,i={}){var o;const c=c1(e,t,i.custom);let{transition:f=e.getDefaultTransition()||{}}=c||{};i.transitionOverride&&(f=i.transitionOverride);const g=c?()=>T8(e,c,i):()=>Promise.resolve(),v=!((o=e.variantChildren)===null||o===void 0)&&o.size?(T=0)=>{const{delayChildren:E=0,staggerChildren:A,staggerDirection:P}=f;return PTe(e,t,E+T,A,P,i)}:()=>Promise.resolve(),{when:C}=f;if(C){const[T,E]=C==="beforeChildren"?[g,v]:[v,g];return T().then(E)}else return Promise.all([g(),v(i.delay)])}function T8(e,t,{delay:i=0,transitionOverride:o,type:c}={}){var f;let{transition:g=e.getDefaultTransition(),transitionEnd:v,...C}=e.makeTargetAnimatable(t);const T=e.getValue("willChange");o&&(g=o);const E=[],A=c&&((f=e.animationState)===null||f===void 0?void 0:f.getState()[c]);for(const P in C){const O=e.getValue(P),w=C[P];if(!O||w===void 0||A&&DTe(A,P))continue;let N={delay:i,...g};e.shouldReduceMotion&&Iv.has(P)&&(N={...N,type:!1,delay:0});let M=$D(P,O,w,N);sb(T)&&(T.add(P),M=M.then(()=>T.remove(P))),E.push(M)}return Promise.all(E).then(()=>{v&&ITe(e,v)})}function PTe(e,t,i=0,o=0,c=1,f){const g=[],v=(e.variantChildren.size-1)*o,C=c===1?(T=0)=>T*o:(T=0)=>v-T*o;return Array.from(e.variantChildren).sort(kTe).forEach((T,E)=>{g.push(xP(T,t,{...f,delay:i+C(E)}).then(()=>T.notifyAnimationComplete(t)))}),Promise.all(g)}function kTe(e,t){return e.sortNodePosition(t)}function DTe({protectedKeys:e,needsAnimating:t},i){const o=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,o}const XD=[jr.Animate,jr.InView,jr.Focus,jr.Hover,jr.Tap,jr.Drag,jr.Exit],RTe=[...XD].reverse(),FTe=XD.length;function OTe(e){return t=>Promise.all(t.map(({animation:i,options:o})=>ATe(e,i,o)))}function NTe(e){let t=OTe(e);const i=LTe();let o=!0;const c=(C,T)=>{const E=c1(e,T);if(E){const{transition:A,transitionEnd:P,...O}=E;C={...C,...O,...P}}return C};function f(C){t=C(e)}function g(C,T){var E;const A=e.getProps(),P=e.getVariantContext(!0)||{},O=[],w=new Set;let N={},M=1/0;for(let R=0;R<FTe;R++){const L=RTe[R],K=i[L],de=(E=A[L])!==null&&E!==void 0?E:P[L],ee=av(de),Q=L===T?K.isActive:null;Q===!1&&(M=R);let ce=de===P[L]&&de!==A[L]&&ee;if(ce&&o&&e.manuallyAnimateOnMount&&(ce=!1),K.protectedKeys={...N},!K.isActive&&Q===null||!de&&!K.prevProp||n1(de)||typeof de=="boolean")continue;const he=MTe(K.prevProp,de);let le=he||L===T&&K.isActive&&!ce&&ee||R>M&&ee;const fe=Array.isArray(de)?de:[de];let ye=fe.reduce(c,{});Q===!1&&(ye={});const{prevResolvedValues:xe={}}=K,De={...xe,...ye},Ne=je=>{le=!0,w.delete(je),K.needsAnimating[je]=!0};for(const je in De){const Ze=ye[je],Re=xe[je];N.hasOwnProperty(je)||(Ze!==Re?cv(Ze)&&cv(Re)?!S8(Ze,Re)||he?Ne(je):K.protectedKeys[je]=!0:Ze!==void 0?Ne(je):w.add(je):Ze!==void 0&&w.has(je)?Ne(je):K.protectedKeys[je]=!0)}K.prevProp=de,K.prevResolvedValues=ye,K.isActive&&(N={...N,...ye}),o&&e.blockInitialAnimation&&(le=!1),le&&!ce&&O.push(...fe.map(je=>({animation:je,options:{type:L,...C}})))}if(w.size){const R={};w.forEach(L=>{const K=e.getBaseTarget(L);K!==void 0&&(R[L]=K)}),O.push({animation:R})}let k=!!O.length;return o&&A.initial===!1&&!e.manuallyAnimateOnMount&&(k=!1),o=!1,k?t(O):Promise.resolve()}function v(C,T,E){var A;if(i[C].isActive===T)return Promise.resolve();(A=e.variantChildren)===null||A===void 0||A.forEach(O=>{var w;return(w=O.animationState)===null||w===void 0?void 0:w.setActive(C,T)}),i[C].isActive=T;const P=g(E,C);for(const O in i)i[O].protectedKeys={};return P}return{animateChanges:g,setActive:v,setAnimateFunction:f,getState:()=>i}}function MTe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!S8(t,e):!1}function Ul(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LTe(){return{[jr.Animate]:Ul(!0),[jr.InView]:Ul(),[jr.Hover]:Ul(),[jr.Tap]:Ul(),[jr.Drag]:Ul(),[jr.Focus]:Ul(),[jr.Exit]:Ul()}}const WTe={animation:jc(({visualElement:e,animate:t})=>{e.animationState||(e.animationState=NTe(e)),n1(t)&&ve.useEffect(()=>t.subscribe(e),[t])}),exit:jc(e=>{const{custom:t,visualElement:i}=e,[o,c]=y8(),f=ve.useContext(Bh);ve.useEffect(()=>{i.isPresent=o;const g=i.animationState&&i.animationState.setActive(jr.Exit,!o,{custom:f&&f.custom||t});g&&!o&&g.then(c)},[o])})};class I8{constructor(t,i,{transformPagePoint:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Zx(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=jD(T.offset,{x:0,y:0})>=3;if(!E&&!A)return;const{point:P}=T,{timestamp:O}=HS();this.history.push({...P,timestamp:O});const{onStart:w,onMove:N}=this.handlers;E||(w&&w(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,T)},this.handlePointerMove=(T,E)=>{if(this.lastMoveEvent=T,this.lastMoveEventInfo=qx(E,this.transformPagePoint),$H(T)&&T.buttons===0){this.handlePointerUp(T,E);return}as.update(this.updatePoint,!0)},this.handlePointerUp=(T,E)=>{this.end();const{onEnd:A,onSessionEnd:P}=this.handlers,O=Zx(qx(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(T,O),P&&P(T,O)},KH(t)&&t.touches.length>1)return;this.handlers=i,this.transformPagePoint=o;const c=OD(t),f=qx(c,this.transformPagePoint),{point:g}=f,{timestamp:v}=HS();this.history=[{...g,timestamp:v}];const{onSessionStart:C}=i;C&&C(t,Zx(f,this.history)),this.removeListeners=s1(vh(window,"pointermove",this.handlePointerMove),vh(window,"pointerup",this.handlePointerUp),vh(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wh.update(this.updatePoint)}}function qx(e,t){return t?{point:t(e.point)}:e}function q5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zx({point:e},t){return{point:e,delta:q5(e,w8(t)),offset:q5(e,BTe(t)),velocity:UTe(t,.1)}}function BTe(e){return e[0]}function w8(e){return e[e.length-1]}function UTe(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,o=null;const c=w8(e);for(;i>=0&&(o=e[i],!(c.timestamp-o.timestamp>ab(t)));)i--;if(!o)return{x:0,y:0};const f=(c.timestamp-o.timestamp)/1e3;if(f===0)return{x:0,y:0};const g={x:(c.x-o.x)/f,y:(c.y-o.y)/f};return g.x===1/0&&(g.x=0),g.y===1/0&&(g.y=0),g}function Xo(e){return e.max-e.min}function Z5(e,t=0,i=.01){return jD(e,t)<i}function eV(e,t,i,o=.5){e.origin=o,e.originPoint=wn(t.min,t.max,e.origin),e.scale=Xo(i)/Xo(t),(Z5(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=wn(i.min,i.max,e.origin)-e.originPoint,(Z5(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Am(e,t,i,o){eV(e.x,t.x,i.x,o==null?void 0:o.originX),eV(e.y,t.y,i.y,o==null?void 0:o.originY)}function tV(e,t,i){e.min=i.min+t.min,e.max=e.min+Xo(t)}function VTe(e,t,i){tV(e.x,t.x,i.x),tV(e.y,t.y,i.y)}function rV(e,t,i){e.min=t.min-i.min,e.max=e.min+Xo(t)}function Pm(e,t,i){rV(e.x,t.x,i.x),rV(e.y,t.y,i.y)}function jTe(e,{min:t,max:i},o){return t!==void 0&&e<t?e=o?wn(t,e,o.min):Math.max(e,t):i!==void 0&&e>i&&(e=o?wn(i,e,o.max):Math.min(e,i)),e}function nV(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function GTe(e,{top:t,left:i,bottom:o,right:c}){return{x:nV(e.x,i,c),y:nV(e.y,t,o)}}function iV(e,t){let i=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,o]=[o,i]),{min:i,max:o}}function zTe(e,t){return{x:iV(e.x,t.x),y:iV(e.y,t.y)}}function HTe(e,t){let i=.5;const o=Xo(e),c=Xo(t);return c>o?i=lv(t.min,t.max-o,e.min):o>c&&(i=lv(e.min,e.max-c,t.min)),nb(0,1,i)}function $Te(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const AP=.35;function KTe(e=AP){return e===!1?e=0:e===!0&&(e=AP),{x:oV(e,"left","right"),y:oV(e,"top","bottom")}}function oV(e,t,i){return{min:aV(e,t),max:aV(e,i)}}function aV(e,t){var i;return typeof e=="number"?e:(i=e[t])!==null&&i!==void 0?i:0}const sV=()=>({translate:0,scale:1,origin:0,originPoint:0}),km=()=>({x:sV(),y:sV()}),uV=()=>({min:0,max:0}),vi=()=>({x:uV(),y:uV()});function Ls(e){return[e("x"),e("y")]}function E8({top:e,left:t,right:i,bottom:o}){return{x:{min:t,max:i},y:{min:e,max:o}}}function YTe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function XTe(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:o.y,right:o.x}}function eA(e){return e===void 0||e===1}function x8({scale:e,scaleX:t,scaleY:i}){return!eA(e)||!eA(t)||!eA(i)}function Pc(e){return x8(e)||cV(e.x)||cV(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function cV(e){return e&&e!=="0%"}function ub(e,t,i){const o=e-i,c=t*o;return i+c}function lV(e,t,i,o,c){return c!==void 0&&(e=ub(e,c,o)),ub(e,i,o)+t}function PP(e,t=0,i=1,o,c){e.min=lV(e.min,t,i,o,c),e.max=lV(e.max,t,i,o,c)}function A8(e,{x:t,y:i}){PP(e.x,t.translate,t.scale,t.originPoint),PP(e.y,i.translate,i.scale,i.originPoint)}function QTe(e,t,i,o=!1){var c,f;const g=i.length;if(!g)return;t.x=t.y=1;let v,C;for(let T=0;T<g;T++)v=i[T],C=v.projectionDelta,((f=(c=v.instance)===null||c===void 0?void 0:c.style)===null||f===void 0?void 0:f.display)!=="contents"&&(o&&v.options.layoutScroll&&v.scroll&&v!==v.root&&nh(e,{x:-v.scroll.x,y:-v.scroll.y}),C&&(t.x*=C.x.scale,t.y*=C.y.scale,A8(e,C)),o&&Pc(v.latestValues)&&nh(e,v.latestValues))}function Oc(e,t){e.min=e.min+t,e.max=e.max+t}function dV(e,t,[i,o,c]){const f=t[c]!==void 0?t[c]:.5,g=wn(e.min,e.max,f);PP(e,t[i],t[o],g,t.scale)}const JTe=["x","scaleX","originX"],qTe=["y","scaleY","originY"];function nh(e,t){dV(e.x,t,JTe),dV(e.y,t,qTe)}function P8(e,t){return E8(XTe(e.getBoundingClientRect(),t))}function ZTe(e,t,i){const o=P8(e,i),{scroll:c}=t;return c&&(Oc(o.x,c.x),Oc(o.y,c.y)),o}const eIe=new WeakMap;class tIe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vi(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){if(this.visualElement.isPresent===!1)return;const o=v=>{this.stopAnimation(),i&&this.snapToCursor(OD(v,"page").point)},c=(v,C)=>{var T;const{drag:E,dragPropagation:A,onDragStart:P}=this.getProps();E&&!A&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=JH(E),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ls(O=>{var w,N;let M=this.getAxisMotionValue(O).get()||0;if(Xs.test(M)){const k=(N=(w=this.visualElement.projection)===null||w===void 0?void 0:w.layout)===null||N===void 0?void 0:N.actual[O];k&&(M=Xo(k)*(parseFloat(M)/100))}this.originPoint[O]=M}),P==null||P(v,C),(T=this.visualElement.animationState)===null||T===void 0||T.setActive(jr.Drag,!0))},f=(v,C)=>{const{dragPropagation:T,dragDirectionLock:E,onDirectionLock:A,onDrag:P}=this.getProps();if(!T&&!this.openGlobalLock)return;const{offset:O}=C;if(E&&this.currentDirection===null){this.currentDirection=rIe(O),this.currentDirection!==null&&(A==null||A(this.currentDirection));return}this.updateAxis("x",C.point,O),this.updateAxis("y",C.point,O),this.visualElement.syncRender(),P==null||P(v,C)},g=(v,C)=>this.stop(v,C);this.panSession=new I8(t,{onSessionStart:o,onStart:c,onMove:f,onSessionEnd:g},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,i){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:c}=i;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f==null||f(t,i)}cancel(){var t,i;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(i=this.visualElement.animationState)===null||i===void 0||i.setActive(jr.Drag,!1)}updateAxis(t,i,o){const{drag:c}=this.getProps();if(!o||!Dy(t,c,this.currentDirection))return;const f=this.getAxisMotionValue(t);let g=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(g=jTe(g,this.constraints[t],this.elastic[t])),f.set(g)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),{layout:o}=this.visualElement.projection||{},c=this.constraints;t&&rh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=GTe(o.actual,t):this.constraints=!1,this.elastic=KTe(i),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Ls(f=>{this.getAxisMotionValue(f)&&(this.constraints[f]=$Te(o.actual[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!rh(t))return!1;const o=t.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const f=ZTe(o,c.root,this.visualElement.getTransformPagePoint());let g=zTe(c.layout.actual,f);if(i){const v=i(YTe(g));this.hasMutatedConstraints=!!v,v&&(g=E8(v))}return g}startAnimation(t){const{drag:i,dragMomentum:o,dragElastic:c,dragTransition:f,dragSnapToOrigin:g,onDragTransitionEnd:v}=this.getProps(),C=this.constraints||{},T=Ls(E=>{var A;if(!Dy(E,i,this.currentDirection))return;let P=(A=C==null?void 0:C[E])!==null&&A!==void 0?A:{};g&&(P={min:0,max:0});const O=c?200:1e6,w=c?40:1e7,N={type:"inertia",velocity:o?t[E]:0,bounceStiffness:O,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...f,...P};return this.startAxisValueAnimation(E,N)});return Promise.all(T).then(v)}startAxisValueAnimation(t,i){const o=this.getAxisMotionValue(t);return $D(t,o,0,i)}stopAnimation(){Ls(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){var i,o;const c="_drag"+t.toUpperCase(),f=this.visualElement.getProps()[c];return f||this.visualElement.getValue(t,(o=(i=this.visualElement.getProps().initial)===null||i===void 0?void 0:i[t])!==null&&o!==void 0?o:0)}snapToCursor(t){Ls(i=>{const{drag:o}=this.getProps();if(!Dy(i,o,this.currentDirection))return;const{projection:c}=this.visualElement,f=this.getAxisMotionValue(i);if(c&&c.layout){const{min:g,max:v}=c.layout.actual[i];f.set(t[i]-wn(g,v,.5))}})}scalePositionWithinConstraints(){var t;const{drag:i,dragConstraints:o}=this.getProps(),{projection:c}=this.visualElement;if(!rh(o)||!c||!this.constraints)return;this.stopAnimation();const f={x:0,y:0};Ls(v=>{const C=this.getAxisMotionValue(v);if(C){const T=C.get();f[v]=HTe({min:T,max:T},this.constraints[v])}});const{transformTemplate:g}=this.visualElement.getProps();this.visualElement.getInstance().style.transform=g?g({},""):"none",(t=c.root)===null||t===void 0||t.updateScroll(),c.updateLayout(),this.resolveConstraints(),Ls(v=>{if(!Dy(v,i,null))return;const C=this.getAxisMotionValue(v),{min:T,max:E}=this.constraints[v];C.set(wn(T,E,f[v]))})}addListeners(){var t;eIe.set(this.visualElement,this);const i=this.visualElement.getInstance(),o=vh(i,"pointerdown",T=>{const{drag:E,dragListener:A=!0}=this.getProps();E&&A&&this.start(T)}),c=()=>{const{dragConstraints:T}=this.getProps();rh(T)&&(this.constraints=this.resolveRefConstraints())},{projection:f}=this.visualElement,g=f.addEventListener("measure",c);f&&!f.layout&&((t=f.root)===null||t===void 0||t.updateScroll(),f.updateLayout()),c();const v=a1(window,"resize",()=>this.scalePositionWithinConstraints()),C=f.addEventListener("didUpdate",({delta:T,hasLayoutChanged:E})=>{this.isDragging&&E&&(Ls(A=>{const P=this.getAxisMotionValue(A);P&&(this.originPoint[A]+=T[A].translate,P.set(P.get()+T[A].translate))}),this.visualElement.syncRender())});return()=>{v(),o(),g(),C==null||C()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:o=!1,dragPropagation:c=!1,dragConstraints:f=!1,dragElastic:g=AP,dragMomentum:v=!0}=t;return{...t,drag:i,dragDirectionLock:o,dragPropagation:c,dragConstraints:f,dragElastic:g,dragMomentum:v}}}function Dy(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function rIe(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}function nIe(e){const{dragControls:t,visualElement:i}=e,o=o1(()=>new tIe(i));ve.useEffect(()=>t&&t.subscribe(o),[o,t]),ve.useEffect(()=>o.addListeners(),[o])}function iIe({onPan:e,onPanStart:t,onPanEnd:i,onPanSessionStart:o,visualElement:c}){const f=e||t||i||o,g=ve.useRef(null),{transformPagePoint:v}=ve.useContext(ED),C={onSessionStart:o,onStart:t,onMove:e,onEnd:(E,A)=>{g.current=null,i&&i(E,A)}};ve.useEffect(()=>{g.current!==null&&g.current.updateHandlers(C)});function T(E){g.current=new I8(E,C,{transformPagePoint:v})}tb(c,"pointerdown",f&&T),ND(()=>g.current&&g.current.end())}const oIe={pan:jc(iIe),drag:jc(nIe)},kP={current:null},k8={current:!1};function aIe(){if(k8.current=!0,!!hd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>kP.current=e.matches;e.addListener(t),t()}else kP.current=!1}const Ry=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function sIe(){const e=Ry.map(()=>new xm),t={},i={clearAllListeners:()=>e.forEach(o=>o.clear()),updatePropListeners:o=>{Ry.forEach(c=>{var f;const g="on"+c,v=o[g];(f=t[c])===null||f===void 0||f.call(t),v&&(t[c]=i[g](v))})}};return e.forEach((o,c)=>{i["on"+Ry[c]]=f=>o.add(f),i["notify"+Ry[c]]=(...f)=>o.notify(...f)}),i}function uIe(e,t,i){const{willChange:o}=t;for(const c in t){const f=t[c],g=i[c];if(Qs(f))e.addValue(c,f),sb(o)&&o.add(c);else if(Qs(g))e.addValue(c,Ph(f)),sb(o)&&o.remove(c);else if(g!==f)if(e.hasValue(c)){const v=e.getValue(c);!v.hasAnimated&&v.set(f)}else{const v=e.getStaticValue(c);e.addValue(c,Ph(v!==void 0?v:f))}}for(const c in i)t[c]===void 0&&e.removeValue(c);return t}const D8=Object.keys(sv),cIe=D8.length,R8=({treeType:e="",build:t,getBaseTarget:i,makeTargetAnimatable:o,measureViewportBox:c,render:f,readValueFromInstance:g,removeValueFromRenderState:v,sortNodePosition:C,scrapeMotionValuesFromProps:T})=>({parent:E,props:A,presenceId:P,blockInitialAnimation:O,visualState:w,reducedMotionConfig:N},M={})=>{let k=!1;const{latestValues:R,renderState:L}=w;let K;const de=sIe(),ee=new Map,Q=new Map;let ce={};const he={...R};let le;function fe(){!K||!k||(ye(),f(K,L,A.style,Me.projection))}function ye(){t(Me,L,R,M,A)}function xe(){de.notifyUpdate(R)}function De(Ae,Je){const He=Je.onChange(nt=>{R[Ae]=nt,A.onUpdate&&as.update(xe,!1,!0)}),Ge=Je.onRenderRequest(Me.scheduleRender);Q.set(Ae,()=>{He(),Ge()})}const{willChange:Ne,...je}=T(A);for(const Ae in je){const Je=je[Ae];R[Ae]!==void 0&&Qs(Je)&&(Je.set(R[Ae],!1),sb(Ne)&&Ne.add(Ae))}const Ze=i1(A),Re=TH(A),Me={treeType:e,current:null,depth:E?E.depth+1:0,parent:E,children:new Set,presenceId:P,shouldReduceMotion:null,variantChildren:Re?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!(E!=null&&E.isMounted()),blockInitialAnimation:O,isMounted:()=>!!K,mount(Ae){k=!0,K=Me.current=Ae,Me.projection&&Me.projection.mount(Ae),Re&&E&&!Ze&&(le=E==null?void 0:E.addVariantChild(Me)),ee.forEach((Je,He)=>De(He,Je)),k8.current||aIe(),Me.shouldReduceMotion=N==="never"?!1:N==="always"?!0:kP.current,E==null||E.children.add(Me),Me.setProps(A)},unmount(){var Ae;(Ae=Me.projection)===null||Ae===void 0||Ae.unmount(),wh.update(xe),wh.render(fe),Q.forEach(Je=>Je()),le==null||le(),E==null||E.children.delete(Me),de.clearAllListeners(),K=void 0,k=!1},loadFeatures(Ae,Je,He,Ge,nt,pe){const oe=[];for(let me=0;me<cIe;me++){const Se=D8[me],{isEnabled:et,Component:Ke}=sv[Se];et(A)&&Ke&&oe.push(ve.createElement(Ke,{key:Se,...Ae,visualElement:Me}))}if(!Me.projection&&nt){Me.projection=new nt(Ge,Me.getLatestValues(),E&&E.projection);const{layoutId:me,layout:Se,drag:et,dragConstraints:Ke,layoutScroll:mt}=Ae;Me.projection.setOptions({layoutId:me,layout:Se,alwaysMeasureLayout:!!et||Ke&&rh(Ke),visualElement:Me,scheduleRender:()=>Me.scheduleRender(),animationType:typeof Se=="string"?Se:"both",initialPromotionConfig:pe,layoutScroll:mt})}return oe},addVariantChild(Ae){var Je;const He=Me.getClosestVariantNode();if(He)return(Je=He.variantChildren)===null||Je===void 0||Je.add(Ae),()=>He.variantChildren.delete(Ae)},sortNodePosition(Ae){return!C||e!==Ae.treeType?0:C(Me.getInstance(),Ae.getInstance())},getClosestVariantNode:()=>Re?Me:E==null?void 0:E.getClosestVariantNode(),getLayoutId:()=>A.layoutId,getInstance:()=>K,getStaticValue:Ae=>R[Ae],setStaticValue:(Ae,Je)=>R[Ae]=Je,getLatestValues:()=>R,setVisibility(Ae){Me.isVisible!==Ae&&(Me.isVisible=Ae,Me.scheduleRender())},makeTargetAnimatable(Ae,Je=!0){return o(Me,Ae,A,Je)},measureViewportBox(){return c(K,A)},addValue(Ae,Je){Me.hasValue(Ae)&&Me.removeValue(Ae),ee.set(Ae,Je),R[Ae]=Je.get(),De(Ae,Je)},removeValue(Ae){var Je;ee.delete(Ae),(Je=Q.get(Ae))===null||Je===void 0||Je(),Q.delete(Ae),delete R[Ae],v(Ae,L)},hasValue:Ae=>ee.has(Ae),getValue(Ae,Je){let He=ee.get(Ae);return He===void 0&&Je!==void 0&&(He=Ph(Je),Me.addValue(Ae,He)),He},forEachValue:Ae=>ee.forEach(Ae),readValue:Ae=>R[Ae]!==void 0?R[Ae]:g(K,Ae,M),setBaseTarget(Ae,Je){he[Ae]=Je},getBaseTarget(Ae){if(i){const Je=i(A,Ae);if(Je!==void 0&&!Qs(Je))return Je}return he[Ae]},...de,build(){return ye(),L},scheduleRender(){as.render(fe,!1,!0)},syncRender:fe,setProps(Ae){(Ae.transformTemplate||A.transformTemplate)&&Me.scheduleRender(),A=Ae,de.updatePropListeners(Ae),ce=uIe(Me,T(A),ce)},getProps:()=>A,getVariant:Ae=>{var Je;return(Je=A.variants)===null||Je===void 0?void 0:Je[Ae]},getDefaultTransition:()=>A.transition,getTransformPagePoint:()=>A.transformPagePoint,getVariantContext(Ae=!1){if(Ae)return E==null?void 0:E.getVariantContext();if(!Ze){const He=(E==null?void 0:E.getVariantContext())||{};return A.initial!==void 0&&(He.initial=A.initial),He}const Je={};for(let He=0;He<lIe;He++){const Ge=F8[He],nt=A[Ge];(av(nt)||nt===!1)&&(Je[Ge]=nt)}return Je}};return Me},F8=["initial",...XD],lIe=F8.length;function DP(e){return typeof e=="string"&&e.startsWith("var(--")}const O8=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function dIe(e){const t=O8.exec(e);if(!t)return[,];const[,i,o]=t;return[i,o]}function RP(e,t,i=1){const[o,c]=dIe(e);if(!o)return;const f=window.getComputedStyle(t).getPropertyValue(o);return f?f.trim():DP(c)?RP(c,t,i+1):c}function fIe(e,{...t},i){const o=e.getInstance();if(!(o instanceof Element))return{target:t,transitionEnd:i};i&&(i={...i}),e.forEachValue(c=>{const f=c.get();if(!DP(f))return;const g=RP(f,o);g&&c.set(g)});for(const c in t){const f=t[c];if(!DP(f))continue;const g=RP(f,o);g&&(t[c]=g,i&&i[c]===void 0&&(i[c]=f))}return{target:t,transitionEnd:i}}const hIe=new Set(["width","height","top","left","right","bottom","x","y"]),N8=e=>hIe.has(e),pIe=e=>Object.keys(e).some(N8),M8=(e,t)=>{e.set(t,!1),e.set(t)},fV=e=>e===pd||e===Lt;var hV;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(hV||(hV={}));const pV=(e,t)=>parseFloat(e.split(", ")[t]),gV=(e,t)=>(i,{transform:o})=>{if(o==="none"||!o)return 0;const c=o.match(/^matrix3d\((.+)\)$/);if(c)return pV(c[1],t);{const f=o.match(/^matrix\((.+)\)$/);return f?pV(f[1],e):0}},gIe=new Set(["x","y","z"]),mIe=ZS.filter(e=>!gIe.has(e));function vIe(e){const t=[];return mIe.forEach(i=>{const o=e.getValue(i);o!==void 0&&(t.push([i,o.get()]),o.set(i.startsWith("scale")?1:0))}),t.length&&e.syncRender(),t}const mV={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:gV(4,13),y:gV(5,14)},_Ie=(e,t,i)=>{const o=t.measureViewportBox(),c=t.getInstance(),f=getComputedStyle(c),{display:g}=f,v={};g==="none"&&t.setStaticValue("display",e.display||"block"),i.forEach(T=>{v[T]=mV[T](o,f)}),t.syncRender();const C=t.measureViewportBox();return i.forEach(T=>{const E=t.getValue(T);M8(E,v[T]),e[T]=mV[T](C,f)}),e},yIe=(e,t,i={},o={})=>{t={...t},o={...o};const c=Object.keys(t).filter(N8);let f=[],g=!1;const v=[];if(c.forEach(C=>{const T=e.getValue(C);if(!e.hasValue(C))return;let E=i[C],A=$g(E);const P=t[C];let O;if(cv(P)){const w=P.length,N=P[0]===null?1:0;E=P[N],A=$g(E);for(let M=N;M<w;M++)O?rb($g(P[M])===O):O=$g(P[M])}else O=$g(P);if(A!==O)if(fV(A)&&fV(O)){const w=T.get();typeof w=="string"&&T.set(parseFloat(w)),typeof P=="string"?t[C]=parseFloat(P):Array.isArray(P)&&O===Lt&&(t[C]=P.map(parseFloat))}else A!=null&&A.transform&&(O!=null&&O.transform)&&(E===0||P===0)?E===0?T.set(O.transform(E)):t[C]=A.transform(P):(g||(f=vIe(e),g=!0),v.push(C),o[C]=o[C]!==void 0?o[C]:t[C],M8(T,P))}),v.length){const C=v.indexOf("height")>=0?window.pageYOffset:null,T=_Ie(t,e,v);return f.length&&f.forEach(([E,A])=>{e.getValue(E).set(A)}),e.syncRender(),hd&&C!==null&&window.scrollTo({top:C}),{target:T,transitionEnd:o}}else return{target:t,transitionEnd:o}};function SIe(e,t,i,o){return pIe(t)?yIe(e,t,i,o):{target:t,transitionEnd:o}}const bIe=(e,t,i,o)=>{const c=fIe(e,t,o);return t=c.target,o=c.transitionEnd,SIe(e,t,i,o)};function CIe(e){return window.getComputedStyle(e)}const L8={treeType:"dom",readValueFromInstance(e,t){if(Iv.has(t)){const i=GD(t);return i&&i.default||0}else{const i=CIe(e),o=(EH(t)?i.getPropertyValue(t):i[t])||0;return typeof o=="string"?o.trim():o}},sortNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1},getBaseTarget(e,t){var i;return(i=e.style)===null||i===void 0?void 0:i[t]},measureViewportBox(e,{transformPagePoint:t}){return P8(e,t)},resetTransform(e,t,i){const{transformTemplate:o}=i;t.style.transform=o?o({},""):"none",e.scheduleRender()},restoreTransform(e,t){e.style.transform=t.style.transform},removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]},makeTargetAnimatable(e,{transition:t,transitionEnd:i,...o},{transformValues:c},f=!0){let g=xTe(o,t||{},e);if(c&&(i&&(i=c(i)),o&&(o=c(o)),g&&(g=c(g))),f){wTe(e,o,g);const v=bIe(e,o,g,i);i=v.transitionEnd,o=v.target}return{transition:t,transitionEnd:i,...o}},scrapeMotionValuesFromProps:FD,build(e,t,i,o,c){e.isVisible!==void 0&&(t.style.visibility=e.isVisible?"visible":"hidden"),kD(t,i,o,c.transformTemplate)},render:BH},TIe=R8(L8),IIe=R8({...L8,getBaseTarget(e,t){return e[t]},readValueFromInstance(e,t){var i;return Iv.has(t)?((i=GD(t))===null||i===void 0?void 0:i.default)||0:(t=UH.has(t)?t:WH(t),e.getAttribute(t))},scrapeMotionValuesFromProps:jH,build(e,t,i,o,c){RD(t,i,o,c.transformTemplate)},render:VH}),wIe=(e,t)=>AD(e)?IIe(t,{enableHardwareAcceleration:!1}):TIe(t,{enableHardwareAcceleration:!0});function vV(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Kg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Lt.test(e))e=parseFloat(e);else return e;const i=vV(e,t.target.x),o=vV(e,t.target.y);return`${i}% ${o}%`}},_V="_$css",EIe={correct:(e,{treeScale:t,projectionDelta:i})=>{const o=e,c=e.includes("var("),f=[];c&&(e=e.replace(O8,O=>(f.push(O),_V)));const g=Lu.parse(e);if(g.length>5)return o;const v=Lu.createTransformer(e),C=typeof g[0]!="number"?1:0,T=i.x.scale*t.x,E=i.y.scale*t.y;g[0+C]/=T,g[1+C]/=E;const A=wn(T,E,.5);typeof g[2+C]=="number"&&(g[2+C]/=A),typeof g[3+C]=="number"&&(g[3+C]/=A);let P=v(g);if(c){let O=0;P=P.replace(_V,()=>{const w=f[O];return O++,w})}return P}};class xIe extends zt.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:o,layoutId:c}=this.props,{projection:f}=t;Zbe(PIe),f&&(i.group&&i.group.add(f),o&&o.register&&c&&o.register(f),f.root.didUpdate(),f.addEventListener("animationComplete",()=>{this.safeToRemove()}),f.setOptions({...f.options,onExitComplete:()=>this.safeToRemove()})),Im.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:o,drag:c,isPresent:f}=this.props,g=o.projection;return g&&(g.isPresent=f,c||t.layoutDependency!==i||i===void 0?g.willUpdate():this.safeToRemove(),t.isPresent!==f&&(f?g.promote():g.relegate()||as.postRender(()=>{var v;!((v=g.getStack())===null||v===void 0)&&v.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:o}=this.props,{projection:c}=t;c&&(c.scheduleCheckAfterUnmount(),i!=null&&i.group&&i.group.remove(c),o!=null&&o.deregister&&o.deregister(c))}safeToRemove(){const{safeToRemove:t}=this.props;t==null||t()}render(){return null}}function AIe(e){const[t,i]=y8(),o=ve.useContext(xD);return zt.createElement(xIe,{...e,layoutGroup:o,switchLayoutGroup:ve.useContext(IH),isPresent:t,safeToRemove:i})}const PIe={borderRadius:{...Kg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kg,borderTopRightRadius:Kg,borderBottomLeftRadius:Kg,borderBottomRightRadius:Kg,boxShadow:EIe},kIe={measureLayout:AIe};function DIe(e,t,i={}){const o=Qs(e)?e:Ph(e);return $D("",o,t,i),{stop:()=>o.stop(),isAnimating:()=>o.isAnimating()}}const W8=["TopLeft","TopRight","BottomLeft","BottomRight"],RIe=W8.length,yV=e=>typeof e=="string"?parseFloat(e):e,SV=e=>typeof e=="number"||Lt.test(e);function FIe(e,t,i,o,c,f){var g,v,C,T;c?(e.opacity=wn(0,(g=i.opacity)!==null&&g!==void 0?g:1,OIe(o)),e.opacityExit=wn((v=t.opacity)!==null&&v!==void 0?v:1,0,NIe(o))):f&&(e.opacity=wn((C=t.opacity)!==null&&C!==void 0?C:1,(T=i.opacity)!==null&&T!==void 0?T:1,o));for(let E=0;E<RIe;E++){const A=`border${W8[E]}Radius`;let P=bV(t,A),O=bV(i,A);if(P===void 0&&O===void 0)continue;P||(P=0),O||(O=0),P===0||O===0||SV(P)===SV(O)?(e[A]=Math.max(wn(yV(P),yV(O),o),0),(Xs.test(O)||Xs.test(P))&&(e[A]+="%")):e[A]=O}(t.rotate||i.rotate)&&(e.rotate=wn(t.rotate||0,i.rotate||0,o))}function bV(e,t){var i;return(i=e[t])!==null&&i!==void 0?i:e.borderRadius}const OIe=B8(0,.5,UD),NIe=B8(.5,.95,WD);function B8(e,t,i){return o=>o<e?0:o>t?1:i(lv(e,t,o))}function CV(e,t){e.min=t.min,e.max=t.max}function Ya(e,t){CV(e.x,t.x),CV(e.y,t.y)}function TV(e,t,i,o,c){return e-=t,e=ub(e,1/i,o),c!==void 0&&(e=ub(e,1/c,o)),e}function MIe(e,t=0,i=1,o=.5,c,f=e,g=e){if(Xs.test(t)&&(t=parseFloat(t),t=wn(g.min,g.max,t/100)-g.min),typeof t!="number")return;let v=wn(f.min,f.max,o);e===f&&(v-=t),e.min=TV(e.min,t,i,v,c),e.max=TV(e.max,t,i,v,c)}function IV(e,t,[i,o,c],f,g){MIe(e,t[i],t[o],t[c],t.scale,f,g)}const LIe=["x","scaleX","originX"],WIe=["y","scaleY","originY"];function wV(e,t,i,o){IV(e.x,t,LIe,i==null?void 0:i.x,o==null?void 0:o.x),IV(e.y,t,WIe,i==null?void 0:i.y,o==null?void 0:o.y)}function EV(e){return e.translate===0&&e.scale===1}function U8(e){return EV(e.x)&&EV(e.y)}function V8(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function xV(e){return Xo(e.x)/Xo(e.y)}function BIe(e,t,i=.01){return jD(e,t)<=i}class UIe{constructor(){this.members=[]}add(t){KD(this.members,t),t.scheduleRender()}remove(t){if(YD(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(c=>t===c);if(i===0)return!1;let o;for(let c=i;c>=0;c--){const f=this.members[c];if(f.isPresent!==!1){o=f;break}}return o?(this.promote(o),!0):!1}promote(t,i){var o;const c=this.lead;if(t!==c&&(this.prevLead=c,this.lead=t,t.show(),c)){c.instance&&c.scheduleRender(),t.scheduleRender(),t.resumeFrom=c,i&&(t.resumeFrom.preserveOpacity=!0),c.snapshot&&(t.snapshot=c.snapshot,t.snapshot.latestValues=c.animationValues||c.latestValues,t.snapshot.isShared=!0),!((o=t.root)===null||o===void 0)&&o.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:f}=t.options;f===!1&&c.hide()}}exitAnimationComplete(){this.members.forEach(t=>{var i,o,c,f,g;(o=(i=t.options).onExitComplete)===null||o===void 0||o.call(i),(g=(c=t.resumingFrom)===null||c===void 0?void 0:(f=c.options).onExitComplete)===null||g===void 0||g.call(f)})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const VIe="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function AV(e,t,i){const o=e.x.translate/t.x,c=e.y.translate/t.y;let f=`translate3d(${o}px, ${c}px, 0) `;if(f+=`scale(${1/t.x}, ${1/t.y}) `,i){const{rotate:C,rotateX:T,rotateY:E}=i;C&&(f+=`rotate(${C}deg) `),T&&(f+=`rotateX(${T}deg) `),E&&(f+=`rotateY(${E}deg) `)}const g=e.x.scale*t.x,v=e.y.scale*t.y;return f+=`scale(${g}, ${v})`,f===VIe?"none":f}const jIe=(e,t)=>e.depth-t.depth;class GIe{constructor(){this.children=[],this.isDirty=!1}add(t){KD(this.children,t),this.isDirty=!0}remove(t){YD(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jIe),this.isDirty=!1,this.children.forEach(t)}}const PV=["","X","Y","Z"],kV=1e3;function j8({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:o,resetTransform:c}){return class{constructor(g,v={},C=t==null?void 0:t()){this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(XIe),this.nodes.forEach(QIe)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=g,this.latestValues=v,this.root=C?C.root||C:this,this.path=C?[...C.path,C]:[],this.parent=C,this.depth=C?C.depth+1:0,g&&this.root.registerPotentialNode(g,this);for(let T=0;T<this.path.length;T++)this.path[T].shouldResetTransform=!0;this.root===this&&(this.nodes=new GIe)}addEventListener(g,v){return this.eventHandlers.has(g)||this.eventHandlers.set(g,new xm),this.eventHandlers.get(g).add(v)}notifyListeners(g,...v){const C=this.eventHandlers.get(g);C==null||C.notify(...v)}hasListeners(g){return this.eventHandlers.has(g)}registerPotentialNode(g,v){this.potentialNodes.set(g,v)}mount(g,v=!1){var C;if(this.instance)return;this.isSVG=g instanceof SVGElement&&g.tagName!=="svg",this.instance=g;const{layoutId:T,layout:E,visualElement:A}=this.options;if(A&&!A.getInstance()&&A.mount(g),this.root.nodes.add(this),(C=this.parent)===null||C===void 0||C.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),v&&(E||T)&&(this.isLayoutDirty=!0),e){let P;const O=()=>this.root.updateBlockedByResize=!1;e(g,()=>{this.root.updateBlockedByResize=!0,clearTimeout(P),P=window.setTimeout(O,250),Im.hasAnimatedSinceResize&&(Im.hasAnimatedSinceResize=!1,this.nodes.forEach(YIe))})}T&&this.root.registerSharedNode(T,this),this.options.animate!==!1&&A&&(T||E)&&this.addEventListener("didUpdate",({delta:P,hasLayoutChanged:O,hasRelativeTargetChanged:w,layout:N})=>{var M,k,R,L,K;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const de=(k=(M=this.options.transition)!==null&&M!==void 0?M:A.getDefaultTransition())!==null&&k!==void 0?k:twe,{onLayoutAnimationStart:ee,onLayoutAnimationComplete:Q}=A.getProps(),ce=!this.targetLayout||!V8(this.targetLayout,N)||w,he=!O&&w;if(!((R=this.resumeFrom)===null||R===void 0)&&R.instance||he||O&&(ce||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(P,he);const le={...HD(de,"layout"),onPlay:ee,onComplete:Q};A.shouldReduceMotion&&(le.delay=0,le.type=!1),this.startAnimation(le)}else!O&&this.animationProgress===0&&this.finishAnimation(),this.isLead()&&((K=(L=this.options).onExitComplete)===null||K===void 0||K.call(L));this.targetLayout=N})}unmount(){var g,v;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(g=this.getStack())===null||g===void 0||g.remove(this),(v=this.parent)===null||v===void 0||v.children.delete(this),this.instance=void 0,wh.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var g;return this.isAnimationBlocked||((g=this.parent)===null||g===void 0?void 0:g.isTreeAnimationBlocked())||!1}startUpdate(){var g;this.isUpdateBlocked()||(this.isUpdating=!0,(g=this.nodes)===null||g===void 0||g.forEach(JIe))}willUpdate(g=!0){var v,C,T;if(this.root.isUpdateBlocked()){(C=(v=this.options).onExitComplete)===null||C===void 0||C.call(v);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let O=0;O<this.path.length;O++){const w=this.path[O];w.shouldResetTransform=!0,w.updateScroll()}const{layoutId:E,layout:A}=this.options;if(E===void 0&&!A)return;const P=(T=this.options.visualElement)===null||T===void 0?void 0:T.getProps().transformTemplate;this.prevTransformTemplateValue=P==null?void 0:P(this.latestValues,""),this.updateSnapshot(),g&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DV);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(rwe),this.potentialNodes.clear()),this.nodes.forEach(KIe),this.nodes.forEach(zIe),this.nodes.forEach(HIe),this.clearAllSnapshots(),Ax.update(),Ax.preRender(),Ax.render())}clearAllSnapshots(){this.nodes.forEach($Ie),this.sharedNodes.forEach(qIe)}scheduleUpdateProjection(){as.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){as.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){if(this.snapshot||!this.instance)return;const g=this.measure(),v=this.removeTransform(this.removeElementScroll(g));NV(v),this.snapshot={measured:g,layout:v,latestValues:{}}}updateLayout(){var g;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let T=0;T<this.path.length;T++)this.path[T].updateScroll();const v=this.measure();NV(v);const C=this.layout;this.layout={measured:v,actual:this.removeElementScroll(v)},this.layoutCorrected=vi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(g=this.options.visualElement)===null||g===void 0||g.notifyLayoutMeasure(this.layout.actual,C==null?void 0:C.actual)}updateScroll(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=o(this.instance),this.scroll=i(this.instance))}resetTransform(){var g;if(!c)return;const v=this.isLayoutDirty||this.shouldResetTransform,C=this.projectionDelta&&!U8(this.projectionDelta),T=(g=this.options.visualElement)===null||g===void 0?void 0:g.getProps().transformTemplate,E=T==null?void 0:T(this.latestValues,""),A=E!==this.prevTransformTemplateValue;v&&(C||Pc(this.latestValues)||A)&&(c(this.instance,E),this.shouldResetTransform=!1,this.scheduleRender())}measure(){const{visualElement:g}=this.options;if(!g)return vi();const v=g.measureViewportBox(),{scroll:C}=this.root;return C&&(Oc(v.x,C.x),Oc(v.y,C.y)),v}removeElementScroll(g){const v=vi();Ya(v,g);for(let C=0;C<this.path.length;C++){const T=this.path[C],{scroll:E,options:A,isScrollRoot:P}=T;if(T!==this.root&&E&&A.layoutScroll){if(P){Ya(v,g);const{scroll:O}=this.root;O&&(Oc(v.x,-O.x),Oc(v.y,-O.y))}Oc(v.x,E.x),Oc(v.y,E.y)}}return v}applyTransform(g,v=!1){const C=vi();Ya(C,g);for(let T=0;T<this.path.length;T++){const E=this.path[T];!v&&E.options.layoutScroll&&E.scroll&&E!==E.root&&nh(C,{x:-E.scroll.x,y:-E.scroll.y}),Pc(E.latestValues)&&nh(C,E.latestValues)}return Pc(this.latestValues)&&nh(C,this.latestValues),C}removeTransform(g){var v;const C=vi();Ya(C,g);for(let T=0;T<this.path.length;T++){const E=this.path[T];if(!E.instance||!Pc(E.latestValues))continue;x8(E.latestValues)&&E.updateSnapshot();const A=vi(),P=E.measure();Ya(A,P),wV(C,E.latestValues,(v=E.snapshot)===null||v===void 0?void 0:v.layout,A)}return Pc(this.latestValues)&&wV(C,this.latestValues),C}setTargetDelta(g){this.targetDelta=g,this.root.scheduleUpdateProjection()}setOptions(g){this.options={...this.options,...g,crossfade:g.crossfade!==void 0?g.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var g;const{layout:v,layoutId:C}=this.options;!this.layout||!(v||C)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=vi(),this.relativeTargetOrigin=vi(),Pm(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),Ya(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vi(),this.targetWithTransforms=vi()),this.relativeTarget&&this.relativeTargetOrigin&&(!((g=this.relativeParent)===null||g===void 0)&&g.target)?VTe(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):Ya(this.target,this.layout.actual),A8(this.target,this.targetDelta)):Ya(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=vi(),this.relativeTargetOrigin=vi(),Pm(this.relativeTargetOrigin,this.target,this.relativeParent.target),Ya(this.relativeTarget,this.relativeTargetOrigin)))))}getClosestProjectingParent(){if(!(!this.parent||Pc(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var g;const{layout:v,layoutId:C}=this.options;if(this.isTreeAnimating=!!(!((g=this.parent)===null||g===void 0)&&g.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||C))return;const T=this.getLead();Ya(this.layoutCorrected,this.layout.actual),QTe(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==T);const{target:E}=T;if(!E)return;this.projectionDelta||(this.projectionDelta=km(),this.projectionDeltaWithTransform=km());const A=this.treeScale.x,P=this.treeScale.y,O=this.projectionTransform;Am(this.projectionDelta,this.layoutCorrected,E,this.latestValues),this.projectionTransform=AV(this.projectionDelta,this.treeScale),(this.projectionTransform!==O||this.treeScale.x!==A||this.treeScale.y!==P)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(g=!0){var v,C,T;(C=(v=this.options).scheduleRender)===null||C===void 0||C.call(v),g&&((T=this.getStack())===null||T===void 0||T.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(g,v=!1){var C;const T=this.snapshot,E=(T==null?void 0:T.latestValues)||{},A={...this.latestValues},P=km();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!v;const O=vi(),w=T==null?void 0:T.isShared,N=(((C=this.getStack())===null||C===void 0?void 0:C.members.length)||0)<=1,M=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(ewe));this.animationProgress=0,this.mixTargetDelta=k=>{var R;const L=k/1e3;RV(P.x,g.x,L),RV(P.y,g.y,L),this.setTargetDelta(P),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((R=this.relativeParent)===null||R===void 0)&&R.layout)&&(Pm(O,this.layout.actual,this.relativeParent.layout.actual),ZIe(this.relativeTarget,this.relativeTargetOrigin,O,L)),w&&(this.animationValues=A,FIe(A,E,this.latestValues,L,M,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(0)}startAnimation(g){var v,C;this.notifyListeners("animationStart"),(v=this.currentAnimation)===null||v===void 0||v.stop(),this.resumingFrom&&((C=this.resumingFrom.currentAnimation)===null||C===void 0||C.stop()),this.pendingAnimation&&(wh.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=as.update(()=>{Im.hasAnimatedSinceResize=!0,this.currentAnimation=DIe(0,kV,{...g,onUpdate:T=>{var E;this.mixTargetDelta(T),(E=g.onUpdate)===null||E===void 0||E.call(g,T)},onComplete:()=>{var T;(T=g.onComplete)===null||T===void 0||T.call(g),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var g;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(g=this.getStack())===null||g===void 0||g.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var g;this.currentAnimation&&((g=this.mixTargetDelta)===null||g===void 0||g.call(this,kV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const g=this.getLead();let{targetWithTransforms:v,target:C,layout:T,latestValues:E}=g;if(!(!v||!C||!T)){if(this!==g&&this.layout&&T&&G8(this.options.animationType,this.layout.actual,T.actual)){C=this.target||vi();const A=Xo(this.layout.actual.x);C.x.min=g.target.x.min,C.x.max=C.x.min+A;const P=Xo(this.layout.actual.y);C.y.min=g.target.y.min,C.y.max=C.y.min+P}Ya(v,C),nh(v,E),Am(this.projectionDeltaWithTransform,this.layoutCorrected,v,E)}}registerSharedNode(g,v){var C,T,E;this.sharedNodes.has(g)||this.sharedNodes.set(g,new UIe),this.sharedNodes.get(g).add(v),v.promote({transition:(C=v.options.initialPromotionConfig)===null||C===void 0?void 0:C.transition,preserveFollowOpacity:(E=(T=v.options.initialPromotionConfig)===null||T===void 0?void 0:T.shouldPreserveFollowOpacity)===null||E===void 0?void 0:E.call(T,v)})}isLead(){const g=this.getStack();return g?g.lead===this:!0}getLead(){var g;const{layoutId:v}=this.options;return v?((g=this.getStack())===null||g===void 0?void 0:g.lead)||this:this}getPrevLead(){var g;const{layoutId:v}=this.options;return v?(g=this.getStack())===null||g===void 0?void 0:g.prevLead:void 0}getStack(){const{layoutId:g}=this.options;if(g)return this.root.sharedNodes.get(g)}promote({needsReset:g,transition:v,preserveFollowOpacity:C}={}){const T=this.getStack();T&&T.promote(this,C),g&&(this.projectionDelta=void 0,this.needsReset=!0),v&&this.setOptions({transition:v})}relegate(){const g=this.getStack();return g?g.relegate(this):!1}resetRotation(){const{visualElement:g}=this.options;if(!g)return;let v=!1;const C={};for(let T=0;T<PV.length;T++){const A="rotate"+PV[T];g.getStaticValue(A)&&(v=!0,C[A]=g.getStaticValue(A),g.setStaticValue(A,0))}if(v){g==null||g.syncRender();for(const T in C)g.setStaticValue(T,C[T]);g.scheduleRender()}}getProjectionStyles(g={}){var v,C,T;const E={};if(!this.instance||this.isSVG)return E;if(this.isVisible)E.visibility="";else return{visibility:"hidden"};const A=(v=this.options.visualElement)===null||v===void 0?void 0:v.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,E.opacity="",E.pointerEvents=uS(g.pointerEvents)||"",E.transform=A?A(this.latestValues,""):"none",E;const P=this.getLead();if(!this.projectionDelta||!this.layout||!P.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=uS(g.pointerEvents)||""),this.hasProjected&&!Pc(this.latestValues)&&(M.transform=A?A({},""):"none",this.hasProjected=!1),M}const O=P.animationValues||P.latestValues;this.applyTransformsToTarget(),E.transform=AV(this.projectionDeltaWithTransform,this.treeScale,O),A&&(E.transform=A(O,E.transform));const{x:w,y:N}=this.projectionDelta;E.transformOrigin=`${w.origin*100}% ${N.origin*100}% 0`,P.animationValues?E.opacity=P===this?(T=(C=O.opacity)!==null&&C!==void 0?C:this.latestValues.opacity)!==null&&T!==void 0?T:1:this.preserveOpacity?this.latestValues.opacity:O.opacityExit:E.opacity=P===this?O.opacity!==void 0?O.opacity:"":O.opacityExit!==void 0?O.opacityExit:0;for(const M in qS){if(O[M]===void 0)continue;const{correct:k,applyTo:R}=qS[M],L=k(O[M],P);if(R){const K=R.length;for(let de=0;de<K;de++)E[R[de]]=L}else E[M]=L}return this.options.layoutId&&(E.pointerEvents=P===this?uS(g.pointerEvents)||"":"none"),E}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(g=>{var v;return(v=g.currentAnimation)===null||v===void 0?void 0:v.stop()}),this.root.nodes.forEach(DV),this.root.sharedNodes.clear()}}}function zIe(e){e.updateLayout()}function HIe(e){var t,i,o;const c=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&c&&e.hasListeners("didUpdate")){const{actual:f,measured:g}=e.layout,{animationType:v}=e.options;v==="size"?Ls(P=>{const O=c.isShared?c.measured[P]:c.layout[P],w=Xo(O);O.min=f[P].min,O.max=O.min+w}):G8(v,c.layout,f)&&Ls(P=>{const O=c.isShared?c.measured[P]:c.layout[P],w=Xo(f[P]);O.max=O.min+w});const C=km();Am(C,f,c.layout);const T=km();c.isShared?Am(T,e.applyTransform(g,!0),c.measured):Am(T,f,c.layout);const E=!U8(C);let A=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){const{snapshot:P,layout:O}=e.relativeParent;if(P&&O){const w=vi();Pm(w,c.layout,P.layout);const N=vi();Pm(N,f,O.actual),V8(w,N)||(A=!0)}}e.notifyListeners("didUpdate",{layout:f,snapshot:c,delta:T,layoutDelta:C,hasLayoutChanged:E,hasRelativeTargetChanged:A})}else e.isLead()&&((o=(i=e.options).onExitComplete)===null||o===void 0||o.call(i));e.options.transition=void 0}function $Ie(e){e.clearSnapshot()}function DV(e){e.clearMeasurements()}function KIe(e){const{visualElement:t}=e.options;t!=null&&t.getProps().onBeforeLayoutMeasure&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function YIe(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function XIe(e){e.resolveTargetDelta()}function QIe(e){e.calcProjection()}function JIe(e){e.resetRotation()}function qIe(e){e.removeLeadSnapshot()}function RV(e,t,i){e.translate=wn(t.translate,0,i),e.scale=wn(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function FV(e,t,i,o){e.min=wn(t.min,i.min,o),e.max=wn(t.max,i.max,o)}function ZIe(e,t,i,o){FV(e.x,t.x,i.x,o),FV(e.y,t.y,i.y,o)}function ewe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const twe={duration:.45,ease:[.4,0,.1,1]};function rwe(e,t){let i=e.root;for(let f=e.path.length-1;f>=0;f--)if(e.path[f].instance){i=e.path[f];break}const c=(i&&i!==e.root?i.instance:document).querySelector(`[data-projection-id="${t}"]`);c&&e.mount(c,!0)}function OV(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function NV(e){OV(e.x),OV(e.y)}function G8(e,t,i){return e==="position"||e==="preserve-aspect"&&!BIe(xV(t),xV(i))}const nwe=j8({attachResizeListener:(e,t)=>a1(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tA={current:void 0},iwe=j8({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!tA.current){const e=new nwe(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),tA.current=e}return tA.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),owe={...WTe,...eTe,...oIe,...kIe},awe=Jbe((e,t)=>M1e(e,t,owe,wIe,iwe));function z8(){const e=ve.useRef(!1);return JS(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function swe(){const e=z8(),[t,i]=ve.useState(0),o=ve.useCallback(()=>{e.current&&i(t+1)},[t]);return[ve.useCallback(()=>as.postRender(o),[o]),t]}class uwe extends ve.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=i.offsetHeight||0,o.width=i.offsetWidth||0,o.top=i.offsetTop,o.left=i.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function cwe({children:e,isPresent:t}){const i=ve.useId(),o=ve.useRef(null),c=ve.useRef({width:0,height:0,top:0,left:0});return ve.useInsertionEffect(()=>{const{width:f,height:g,top:v,left:C}=c.current;if(t||!o.current||!f||!g)return;o.current.dataset.motionPopId=i;const T=document.createElement("style");return document.head.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${g}px !important;
            top: ${v}px !important;
            left: ${C}px !important;
          }
        `),()=>{document.head.removeChild(T)}},[t]),ve.createElement(uwe,{isPresent:t,childRef:o,sizeRef:c},ve.cloneElement(e,{ref:o}))}const rA=({children:e,initial:t,isPresent:i,onExitComplete:o,custom:c,presenceAffectsLayout:f,mode:g})=>{const v=o1(lwe),C=ve.useId(),T=ve.useMemo(()=>({id:C,initial:t,isPresent:i,custom:c,onExitComplete:E=>{v.set(E,!0);for(const A of v.values())if(!A)return;o&&o()},register:E=>(v.set(E,!1),()=>v.delete(E))}),f?void 0:[i]);return ve.useMemo(()=>{v.forEach((E,A)=>v.set(A,!1))},[i]),ve.useEffect(()=>{!i&&!v.size&&o&&o()},[i]),g==="popLayout"&&(e=ve.createElement(cwe,{isPresent:i},e)),ve.createElement(Bh.Provider,{value:T},e)};function lwe(){return new Map}const Mf=e=>e.key||"";function dwe(e,t){e.forEach(i=>{const o=Mf(i);t.set(o,i)})}function fwe(e){const t=[];return ve.Children.forEach(e,i=>{ve.isValidElement(i)&&t.push(i)}),t}const hwe=({children:e,custom:t,initial:i=!0,onExitComplete:o,exitBeforeEnter:c,presenceAffectsLayout:f=!0,mode:g="sync"})=>{c&&(g="wait",_8(!1,"Replace exitBeforeEnter with mode='wait'"));let[v]=swe();const C=ve.useContext(xD).forceRender;C&&(v=C);const T=z8(),E=fwe(e);let A=E;const P=new Set,O=ve.useRef(A),w=ve.useRef(new Map).current,N=ve.useRef(!0);if(JS(()=>{N.current=!1,dwe(E,w),O.current=A}),ND(()=>{N.current=!0,w.clear(),P.clear()}),N.current)return ve.createElement(ve.Fragment,null,A.map(L=>ve.createElement(rA,{key:Mf(L),isPresent:!0,initial:i?void 0:!1,presenceAffectsLayout:f,mode:g},L)));A=[...A];const M=O.current.map(Mf),k=E.map(Mf),R=M.length;for(let L=0;L<R;L++){const K=M[L];k.indexOf(K)===-1&&P.add(K)}return g==="wait"&&P.size&&(A=[]),P.forEach(L=>{if(k.indexOf(L)!==-1)return;const K=w.get(L);if(!K)return;const de=M.indexOf(L),ee=()=>{w.delete(L),P.delete(L);const Q=O.current.findIndex(ce=>ce.key===L);if(O.current.splice(Q,1),!P.size){if(O.current=E,T.current===!1)return;v(),o&&o()}};A.splice(de,0,ve.createElement(rA,{key:Mf(K),isPresent:!1,onExitComplete:ee,custom:t,presenceAffectsLayout:f,mode:g},K))}),A=A.map(L=>{const K=L.key;return P.has(K)?L:ve.createElement(rA,{key:Mf(L),isPresent:!0,presenceAffectsLayout:f,mode:g},L)}),v8!=="production"&&g==="wait"&&A.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),ve.createElement(ve.Fragment,null,P.size?A:A.map(L=>ve.cloneElement(L)))};var FP=function(e,t){return FP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])},FP(e,t)};function pwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");FP(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var _i=function(){return _i=Object.assign||function(t){for(var i,o=1,c=arguments.length;o<c;o++){i=arguments[o];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(t[f]=i[f])}return t},_i.apply(this,arguments)};const gwe=(e,t)=>e.find(i=>i.id===t);function MV(e,t){const i=H8(e,t),o=i?e[i].findIndex(c=>c.id===t):-1;return{position:i,index:o}}function H8(e,t){for(const[i,o]of Object.entries(e))if(gwe(o,t))return i}function mwe(e){const t=e.includes("right"),i=e.includes("left");let o="center";return t&&(o="flex-end"),i&&(o="flex-start"),{display:"flex",flexDirection:"column",alignItems:o}}function vwe(e){const i=e==="top"||e==="bottom"?"0 auto":void 0,o=e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,c=e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,f=e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",g=e.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:i,top:o,bottom:c,right:f,left:g}}var _we=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,OP=oH(function(e){return _we.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),ywe=OP,Swe=function(t){return t!=="theme"},LV=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?ywe:Swe},WV=function(t,i,o){var c;if(i){var f=i.shouldForwardProp;c=t.__emotion_forwardProp&&f?function(g){return t.__emotion_forwardProp(g)&&f(g)}:f}return typeof c!="function"&&o&&(c=t.__emotion_forwardProp),c},bwe=!1,Cwe=function(t){var i=t.cache,o=t.serialized,c=t.isStringTag;return dH(i,o,c),Sbe(function(){return fH(i,o,c)}),null},Twe=function e(t,i){var o=t.__emotion_real===t,c=o&&t.__emotion_base||t,f,g;i!==void 0&&(f=i.label,g=i.target);var v=WV(t,i,o),C=v||LV(c),T=!C("as");return function(){var E=arguments,A=o&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(f!==void 0&&A.push("label:"+f+";"),E[0]==null||E[0].raw===void 0)A.push.apply(A,E);else{A.push(E[0][0]);for(var P=E.length,O=1;O<P;O++)A.push(E[O],E[0][O])}var w=TD(function(N,M,k){var R=T&&N.as||c,L="",K=[],de=N;if(N.theme==null){de={};for(var ee in N)de[ee]=N[ee];de.theme=ve.useContext(ov)}typeof N.className=="string"?L=dbe(M.registered,K,N.className):N.className!=null&&(L=N.className+" ");var Q=CD(A.concat(K),M.registered,de);L+=M.key+"-"+Q.name,g!==void 0&&(L+=" "+g);var ce=T&&v===void 0?LV(R):C,he={};for(var le in N)T&&le==="as"||ce(le)&&(he[le]=N[le]);return he.className=L,k&&(he.ref=k),ve.createElement(ve.Fragment,null,ve.createElement(Cwe,{cache:M,serialized:Q,isStringTag:typeof R=="string"}),ve.createElement(R,he))});return w.displayName=f!==void 0?f:"Styled("+(typeof c=="string"?c:c.displayName||c.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=c,w.__emotion_styles=A,w.__emotion_forwardProp=v,Object.defineProperty(w,"toString",{value:function(){return g===void 0&&bwe?"NO_COMPONENT_SELECTOR":"."+g}}),w.withComponent=function(N,M){return e(N,QS({},i,M,{shouldForwardProp:WV(w,M,!0)})).apply(void 0,A)},w}},Iwe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],NP=Twe.bind();Iwe.forEach(function(e){NP[e]=NP(e)});const wwe=new Set([...Mpe({}),"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),Ewe=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function xwe(e){return(Ewe.has(e)||!wwe.has(e))&&e[0]!=="_"}const Awe=jhe(NP),Pwe=({baseStyle:e})=>t=>{const{theme:i,css:o,__css:c,sx:f,...g}=t,[v]=Hhe(g,i.__isStyleProp),C=js(e,t),T=Fhe({},c,C,oD(v),f),E=Wz(T)(t.theme);return o?[E,o]:E};function nA(e,t){const{baseStyle:i,...o}=t??{};o.shouldForwardProp||(o.shouldForwardProp=xwe);const c=Pwe({baseStyle:i}),f=Awe(e,o)(c);return ve.forwardRef(function(C,T){const{children:E,...A}=C,{colorMode:P,forced:O}=wD(),w=O?P:void 0;return ve.createElement(f,{ref:T,"data-theme":w,...A},E)})}function kwe(){const e=new Map;return new Proxy(nA,{apply(t,i,o){return nA(...o)},get(t,i){return e.has(i)||e.set(i,nA(i)),e.get(i)}})}const ii=kwe(),Dwe={initial:e=>{const{position:t}=e,i=["top","bottom"].includes(t)?"y":"x";let o=["top-right","bottom-right"].includes(t)?1:-1;return t==="bottom"&&(o=1),{opacity:0,[i]:o*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},$8=ve.memo(e=>{const{id:t,message:i,onCloseComplete:o,onRequestRemove:c,requestClose:f=!1,position:g="bottom",duration:v=5e3,containerStyle:C,motionVariants:T=Dwe,toastSpacing:E="0.5rem"}=e,[A,P]=ve.useState(v),O=tTe();t5(()=>{O||o==null||o()},[O]),t5(()=>{P(v)},[v]);const w=()=>P(null),N=()=>P(v),M=()=>{O&&c()};ve.useEffect(()=>{O&&f&&c()},[O,f,c]),Jhe(M,A);const k=ve.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:E,...C}),[C,E]),R=ve.useMemo(()=>mwe(g),[g]);return Ie.jsx(awe.div,{layout:!0,className:"chakra-toast",variants:T,initial:"initial",animate:"animate",exit:"exit",onHoverStart:w,onHoverEnd:N,custom:{position:g},style:R,children:Ie.jsx(ii.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:k,children:js(i,{id:t,onClose:M})})})});$8.displayName="ToastComponent";function qs(e){return ve.forwardRef(e)}var Rwe=typeof Element<"u",Fwe=typeof Map=="function",Owe=typeof Set=="function",Nwe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function dS(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,o,c;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(o=i;o--!==0;)if(!dS(e[o],t[o]))return!1;return!0}var f;if(Fwe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(f=e.entries();!(o=f.next()).done;)if(!t.has(o.value[0]))return!1;for(f=e.entries();!(o=f.next()).done;)if(!dS(o.value[1],t.get(o.value[0])))return!1;return!0}if(Owe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(f=e.entries();!(o=f.next()).done;)if(!t.has(o.value[0]))return!1;return!0}if(Nwe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(i=e.length,i!=t.length)return!1;for(o=i;o--!==0;)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(c=Object.keys(e),i=c.length,i!==Object.keys(t).length)return!1;for(o=i;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,c[o]))return!1;if(Rwe&&e instanceof Element)return!1;for(o=i;o--!==0;)if(!((c[o]==="_owner"||c[o]==="__v"||c[o]==="__o")&&e.$$typeof)&&!dS(e[c[o]],t[c[o]]))return!1;return!0}return e!==e&&t!==t}var Mwe=function(t,i){try{return dS(t,i)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}};const Lwe=Fh(Mwe);function Wwe(){const e=ve.useContext(ov);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}function Bwe(){const e=wD(),t=Wwe();return{...e,theme:t}}function K8(e,t={}){const{styleConfig:i,...o}=t,{theme:c,colorMode:f}=Bwe(),g=e?Pz(c,`components.${e}`):void 0,v=i||g,C=Gs({theme:c,colorMode:f},(v==null?void 0:v.defaultProps)??{},oD(kz(o,["children"])),(E,A)=>E?void 0:A),T=ve.useRef({});if(v){const A=Kpe(v)(C);Lwe(T.current,A)||(T.current=A)}return T.current}function Uh(e,t={}){return K8(e,t)}function Uwe(e,t={}){return K8(e,t)}const BV={path:Ie.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[Ie.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),Ie.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),Ie.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},xv=qs((e,t)=>{const{as:i,viewBox:o,color:c="currentColor",focusable:f=!1,children:g,className:v,__css:C,...T}=e,E=cs("chakra-icon",v),A=Uh("Icon",e),P={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:c,...C,...A},O={ref:t,focusable:f,className:E,__css:P},w=o??BV.viewBox;if(i&&typeof i!="string")return Ie.jsx(ii.svg,{as:i,...O,...T});const N=g??BV.path;return Ie.jsx(ii.svg,{verticalAlign:"middle",viewBox:w,...O,...T,children:N})});xv.displayName="Icon";function Vwe(e){return Ie.jsx(xv,{viewBox:"0 0 24 24",...e,children:Ie.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function jwe(e){return Ie.jsx(xv,{viewBox:"0 0 24 24",...e,children:Ie.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function UV(e){return Ie.jsx(xv,{viewBox:"0 0 24 24",...e,children:Ie.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const Gwe=wbe({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),QD=qs((e,t)=>{const i=Uh("Spinner",e),{label:o="Loading...",thickness:c="2px",speed:f="0.45s",emptyColor:g="transparent",className:v,...C}=Lh(e),T=cs("chakra-spinner",v),E={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:c,borderBottomColor:g,borderLeftColor:g,animation:`${Gwe} ${f} linear infinite`,...i};return Ie.jsx(ii.div,{ref:t,__css:E,className:T,...C,children:o&&Ie.jsx(ii.span,{srOnly:!0,children:o})})});QD.displayName="Spinner";const[zwe,JD]=fd({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[Hwe,qD]=fd({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),Y8={info:{icon:jwe,colorScheme:"blue"},warning:{icon:UV,colorScheme:"orange"},success:{icon:Vwe,colorScheme:"green"},error:{icon:UV,colorScheme:"red"},loading:{icon:QD,colorScheme:"blue"}};function $we(e){return Y8[e].colorScheme}function Kwe(e){return Y8[e].icon}const X8=qs(function(t,i){const{status:o="info",addRole:c=!0,...f}=Lh(t),g=t.colorScheme??$we(o),v=Uwe("Alert",{...t,colorScheme:g}),C={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...v.container};return Ie.jsx(zwe,{value:{status:o},children:Ie.jsx(Hwe,{value:v,children:Ie.jsx(ii.div,{"data-status":o,role:c?"alert":void 0,ref:i,...f,className:cs("chakra-alert",t.className),__css:C})})})});X8.displayName="Alert";function Q8(e){const{status:t}=JD(),i=Kwe(t),o=qD(),c=t==="loading"?o.spinner:o.icon;return Ie.jsx(ii.span,{display:"inherit","data-status":t,...e,className:cs("chakra-alert__icon",e.className),__css:c,children:e.children||Ie.jsx(i,{h:"100%",w:"100%"})})}Q8.displayName="AlertIcon";const J8=qs(function(t,i){const o=qD(),{status:c}=JD();return Ie.jsx(ii.div,{ref:i,"data-status":c,...t,className:cs("chakra-alert__title",t.className),__css:o.title})});J8.displayName="AlertTitle";const q8=qs(function(t,i){const{status:o}=JD(),c=qD(),f={display:"inline",...c.description};return Ie.jsx(ii.div,{ref:i,"data-status":o,...t,className:cs("chakra-alert__desc",t.className),__css:f})});q8.displayName="AlertDescription";function Ywe(e){return Ie.jsx(xv,{focusable:"false","aria-hidden":!0,...e,children:Ie.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const Z8=qs(function(t,i){const o=Uh("CloseButton",t),{children:c,isDisabled:f,__css:g,...v}=Lh(t),C={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return Ie.jsx(ii.button,{type:"button","aria-label":"Close",ref:i,disabled:f,__css:{...C,...o,...g},...v,children:c||Ie.jsx(Ywe,{width:"1em",height:"1em"})})});Z8.displayName="CloseButton";const Xwe=e=>{const{status:t,variant:i="solid",id:o,title:c,isClosable:f,onClose:g,description:v,colorScheme:C,icon:T}=e,E=o?{root:`toast-${o}`,title:`toast-${o}-title`,description:`toast-${o}-description`}:void 0;return Ie.jsxs(X8,{addRole:!1,status:t,variant:i,id:E==null?void 0:E.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:C,children:[Ie.jsx(Q8,{children:T}),Ie.jsxs(ii.div,{flex:"1",maxWidth:"100%",children:[c&&Ie.jsx(J8,{id:E==null?void 0:E.title,children:c}),v&&Ie.jsx(q8,{id:E==null?void 0:E.description,display:"block",children:v})]}),f&&Ie.jsx(Z8,{size:"sm",onClick:g,position:"absolute",insetEnd:1,top:1})]})};function Qwe(e={}){const{render:t,toastComponent:i=Xwe}=e;return c=>typeof t=="function"?t({...c,...e}):Ie.jsx(i,{...c,...e})}const Jwe={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},Dm=qwe(Jwe);function qwe(e){let t=e;const i=new Set,o=c=>{t=c(t),i.forEach(f=>f())};return{getState:()=>t,subscribe:c=>(i.add(c),()=>{o(()=>e),i.delete(c)}),removeToast:(c,f)=>{o(g=>({...g,[f]:g[f].filter(v=>v.id!=c)}))},notify:(c,f)=>{const g=Zwe(c,f),{position:v,id:C}=g;return o(T=>{const A=v.includes("top")?[g,...T[v]??[]]:[...T[v]??[],g];return{...T,[v]:A}}),C},update:(c,f)=>{c&&o(g=>{const v={...g},{position:C,index:T}=MV(v,c);return C&&T!==-1&&(v[C][T]={...v[C][T],...f,message:Qwe(f)}),v})},closeAll:({positions:c}={})=>{o(f=>(c??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((C,T)=>(C[T]=f[T].map(E=>({...E,requestClose:!0})),C),{...f}))},close:c=>{o(f=>{const g=H8(f,c);return g?{...f,[g]:f[g].map(v=>v.id==c?{...v,requestClose:!0}:v)}:f})},isActive:c=>!!MV(Dm.getState(),c).position}}let VV=0;function Zwe(e,t={}){VV+=1;const i=t.id??VV,o=t.position??"bottom";return{id:i,message:e,position:o,duration:t.duration,onCloseComplete:t.onCloseComplete,onRequestRemove:()=>Dm.removeToast(String(i),o),status:t.status,requestClose:!1,containerStyle:t.containerStyle}}const[e7,eEe]=fd({strict:!1,name:"PortalContext"}),ZD="chakra-portal",tEe=".chakra-portal",rEe=e=>Ie.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children}),nEe=e=>{const{appendToParentPortal:t,children:i}=e,[o,c]=ve.useState(null),f=ve.useRef(null),[,g]=ve.useState({});ve.useEffect(()=>g({}),[]);const v=eEe(),C=Lbe();oP(()=>{if(!o)return;const E=o.ownerDocument,A=t?v??E.body:E.body;if(!A)return;f.current=E.createElement("div"),f.current.className=ZD,A.appendChild(f.current),g({});const P=f.current;return()=>{A.contains(P)&&A.removeChild(P)}},[o]);const T=C!=null&&C.zIndex?Ie.jsx(rEe,{zIndex:C==null?void 0:C.zIndex,children:i}):i;return f.current?nD.createPortal(Ie.jsx(e7,{value:f.current,children:T}),f.current):Ie.jsx("span",{ref:E=>{E&&c(E)}})},iEe=e=>{const{children:t,containerRef:i,appendToParentPortal:o}=e,c=i.current,f=c??(typeof window<"u"?document.body:void 0),g=ve.useMemo(()=>{const C=c==null?void 0:c.ownerDocument.createElement("div");return C&&(C.className=ZD),C},[c]),[,v]=ve.useState({});return oP(()=>v({}),[]),oP(()=>{if(!(!g||!f))return f.appendChild(g),()=>{f.removeChild(g)}},[g,f]),f&&g?nD.createPortal(Ie.jsx(e7,{value:o?g:null,children:t}),g):null};function l1(e){const t={appendToParentPortal:!0,...e},{containerRef:i,...o}=t;return i?Ie.jsx(iEe,{containerRef:i,...o}):Ie.jsx(nEe,{...o})}l1.className=ZD;l1.selector=tEe;l1.displayName="Portal";const[oEe,ZPe]=fd({name:"ToastOptionsContext",strict:!1}),aEe=e=>{const t=ve.useSyncExternalStore(Dm.subscribe,Dm.getState,Dm.getState),{motionVariants:i,component:o=$8,portalProps:c,animatePresenceProps:f}=e,v=Object.keys(t).map(C=>{const T=t[C];return Ie.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${C}`,id:`chakra-toast-manager-${C}`,style:vwe(C),children:Ie.jsx(hwe,{...f,initial:!1,children:T.map(E=>Ie.jsx(o,{motionVariants:i,...E},E.id))})},C)});return Ie.jsx(l1,{...c,children:v})},sEe=e=>function({children:i,theme:o=e,toastOptions:c,...f}){return Ie.jsxs(Wbe,{theme:o,...f,children:[Ie.jsx(oEe,{value:c==null?void 0:c.defaultOptions,children:i}),Ie.jsx(aEe,{...c})]})},uEe=sEe(ySe),[eke,cEe]=fd({strict:!1,name:"ButtonGroupContext"});function sm(e){const{children:t,className:i,...o}=e,c=ve.isValidElement(t)?ve.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,f=cs("chakra-button__icon",i);return Ie.jsx(ii.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...o,className:f,children:c})}sm.displayName="ButtonIcon";function MP(e){const{label:t,placement:i,spacing:o="0.5rem",children:c=Ie.jsx(QD,{color:"currentColor",width:"1em",height:"1em"}),className:f,__css:g,...v}=e,C=cs("chakra-button__spinner",f),T=i==="start"?"marginEnd":"marginStart",E=ve.useMemo(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[T]:t?o:0,fontSize:"1em",lineHeight:"normal",...g}),[g,t,T,o]);return Ie.jsx(ii.div,{className:C,...v,__css:E,children:c})}MP.displayName="ButtonSpinner";function lEe(e){const[t,i]=ve.useState(!e);return{ref:ve.useCallback(f=>{f&&i(f.tagName==="BUTTON")},[]),type:t?"button":void 0}}const jo=qs((e,t)=>{const i=cEe(),o=Uh("Button",{...i,...e}),{isDisabled:c=i==null?void 0:i.isDisabled,isLoading:f,isActive:g,children:v,leftIcon:C,rightIcon:T,loadingText:E,iconSpacing:A="0.5rem",type:P,spinner:O,spinnerPlacement:w="start",className:N,as:M,shouldWrapChildren:k,...R}=Lh(e),L=ve.useMemo(()=>{const Q={...o==null?void 0:o._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...o,...!!i&&{_focus:Q}}},[o,i]),{ref:K,type:de}=lEe(M),ee={rightIcon:T,leftIcon:C,iconSpacing:A,children:v,shouldWrapChildren:k};return Ie.jsxs(ii.button,{disabled:c||f,ref:Qhe(t,K),as:M,type:P??de,"data-active":J3(g),"data-loading":J3(f),__css:L,className:cs("chakra-button",N),...R,children:[f&&w==="start"&&Ie.jsx(MP,{className:"chakra-button__spinner--start",label:E,placement:"start",spacing:A,children:O}),f?E||Ie.jsx(ii.span,{opacity:0,children:Ie.jsx(jV,{...ee})}):Ie.jsx(jV,{...ee}),f&&w==="end"&&Ie.jsx(MP,{className:"chakra-button__spinner--end",label:E,placement:"end",spacing:A,children:O})]})});jo.displayName="Button";function jV(e){const{leftIcon:t,rightIcon:i,children:o,iconSpacing:c,shouldWrapChildren:f}=e;return f?Ie.jsxs("span",{style:{display:"contents"},children:[t&&Ie.jsx(sm,{marginEnd:c,children:t}),o,i&&Ie.jsx(sm,{marginStart:c,children:i})]}):Ie.jsxs(Ie.Fragment,{children:[t&&Ie.jsx(sm,{marginEnd:c,children:t}),o,i&&Ie.jsx(sm,{marginStart:c,children:i})]})}const rs=qs(function(t,i){const{direction:o,align:c,justify:f,wrap:g,basis:v,grow:C,shrink:T,...E}=t,A={display:"flex",flexDirection:o,alignItems:c,justifyContent:f,flexWrap:g,flexBasis:v,flexGrow:C,flexShrink:T};return Ie.jsx(ii.div,{ref:i,__css:A,...E})});rs.displayName="Flex";const t7=qs(function(t,i){const o=Uh("Link",t),{className:c,isExternal:f,...g}=Lh(t);return Ie.jsx(ii.a,{target:f?"_blank":void 0,rel:f?"noopener":void 0,ref:i,className:cs("chakra-link",c),...g,__css:o})});t7.displayName="Link";const Lf=qs(function(t,i){const o=Uh("Text",t),{className:c,align:f,decoration:g,casing:v,...C}=Lh(t),T=oD({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return Ie.jsx(ii.p,{ref:i,className:cs("chakra-text",t.className),...T,...C,__css:o})});Lf.displayName="Text";function r7(e,t){return function(){return e.apply(t,arguments)}}const{toString:dEe}=Object.prototype,{getPrototypeOf:eR}=Object,d1=(e=>t=>{const i=dEe.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),ls=e=>(e=e.toLowerCase(),t=>d1(t)===e),f1=e=>t=>typeof t===e,{isArray:Vh}=Array,dv=f1("undefined");function fEe(e){return e!==null&&!dv(e)&&e.constructor!==null&&!dv(e.constructor)&&Ko(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const n7=ls("ArrayBuffer");function hEe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&n7(e.buffer),t}const pEe=f1("string"),Ko=f1("function"),i7=f1("number"),h1=e=>e!==null&&typeof e=="object",gEe=e=>e===!0||e===!1,fS=e=>{if(d1(e)!=="object")return!1;const t=eR(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mEe=ls("Date"),vEe=ls("File"),_Ee=ls("Blob"),yEe=ls("FileList"),SEe=e=>h1(e)&&Ko(e.pipe),bEe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ko(e.append)&&((t=d1(e))==="formdata"||t==="object"&&Ko(e.toString)&&e.toString()==="[object FormData]"))},CEe=ls("URLSearchParams"),[TEe,IEe,wEe,EEe]=["ReadableStream","Request","Response","Headers"].map(ls),xEe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Av(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let o,c;if(typeof e!="object"&&(e=[e]),Vh(e))for(o=0,c=e.length;o<c;o++)t.call(null,e[o],o,e);else{const f=i?Object.getOwnPropertyNames(e):Object.keys(e),g=f.length;let v;for(o=0;o<g;o++)v=f[o],t.call(null,e[v],v,e)}}function o7(e,t){t=t.toLowerCase();const i=Object.keys(e);let o=i.length,c;for(;o-- >0;)if(c=i[o],t===c.toLowerCase())return c;return null}const Jl=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),a7=e=>!dv(e)&&e!==Jl;function LP(){const{caseless:e}=a7(this)&&this||{},t={},i=(o,c)=>{const f=e&&o7(t,c)||c;fS(t[f])&&fS(o)?t[f]=LP(t[f],o):fS(o)?t[f]=LP({},o):Vh(o)?t[f]=o.slice():t[f]=o};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&Av(arguments[o],i);return t}const AEe=(e,t,i,{allOwnKeys:o}={})=>(Av(t,(c,f)=>{i&&Ko(c)?e[f]=r7(c,i):e[f]=c},{allOwnKeys:o}),e),PEe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),kEe=(e,t,i,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},DEe=(e,t,i,o)=>{let c,f,g;const v={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),f=c.length;f-- >0;)g=c[f],(!o||o(g,e,t))&&!v[g]&&(t[g]=e[g],v[g]=!0);e=i!==!1&&eR(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},REe=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const o=e.indexOf(t,i);return o!==-1&&o===i},FEe=e=>{if(!e)return null;if(Vh(e))return e;let t=e.length;if(!i7(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},OEe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&eR(Uint8Array)),NEe=(e,t)=>{const o=(e&&e[Symbol.iterator]).call(e);let c;for(;(c=o.next())&&!c.done;){const f=c.value;t.call(e,f[0],f[1])}},MEe=(e,t)=>{let i;const o=[];for(;(i=e.exec(t))!==null;)o.push(i);return o},LEe=ls("HTMLFormElement"),WEe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,c){return o.toUpperCase()+c}),GV=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),BEe=ls("RegExp"),s7=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),o={};Av(i,(c,f)=>{let g;(g=t(c,f,e))!==!1&&(o[f]=g||c)}),Object.defineProperties(e,o)},UEe=e=>{s7(e,(t,i)=>{if(Ko(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=e[i];if(Ko(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},VEe=(e,t)=>{const i={},o=c=>{c.forEach(f=>{i[f]=!0})};return Vh(e)?o(e):o(String(e).split(t)),i},jEe=()=>{},GEe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,iA="abcdefghijklmnopqrstuvwxyz",zV="0123456789",u7={DIGIT:zV,ALPHA:iA,ALPHA_DIGIT:iA+iA.toUpperCase()+zV},zEe=(e=16,t=u7.ALPHA_DIGIT)=>{let i="";const{length:o}=t;for(;e--;)i+=t[Math.random()*o|0];return i};function HEe(e){return!!(e&&Ko(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const $Ee=e=>{const t=new Array(10),i=(o,c)=>{if(h1(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[c]=o;const f=Vh(o)?[]:{};return Av(o,(g,v)=>{const C=i(g,c+1);!dv(C)&&(f[v]=C)}),t[c]=void 0,f}}return o};return i(e,0)},KEe=ls("AsyncFunction"),YEe=e=>e&&(h1(e)||Ko(e))&&Ko(e.then)&&Ko(e.catch),c7=((e,t)=>e?setImmediate:t?((i,o)=>(Jl.addEventListener("message",({source:c,data:f})=>{c===Jl&&f===i&&o.length&&o.shift()()},!1),c=>{o.push(c),Jl.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Ko(Jl.postMessage)),XEe=typeof queueMicrotask<"u"?queueMicrotask.bind(Jl):typeof process<"u"&&process.nextTick||c7,$e={isArray:Vh,isArrayBuffer:n7,isBuffer:fEe,isFormData:bEe,isArrayBufferView:hEe,isString:pEe,isNumber:i7,isBoolean:gEe,isObject:h1,isPlainObject:fS,isReadableStream:TEe,isRequest:IEe,isResponse:wEe,isHeaders:EEe,isUndefined:dv,isDate:mEe,isFile:vEe,isBlob:_Ee,isRegExp:BEe,isFunction:Ko,isStream:SEe,isURLSearchParams:CEe,isTypedArray:OEe,isFileList:yEe,forEach:Av,merge:LP,extend:AEe,trim:xEe,stripBOM:PEe,inherits:kEe,toFlatObject:DEe,kindOf:d1,kindOfTest:ls,endsWith:REe,toArray:FEe,forEachEntry:NEe,matchAll:MEe,isHTMLForm:LEe,hasOwnProperty:GV,hasOwnProp:GV,reduceDescriptors:s7,freezeMethods:UEe,toObjectSet:VEe,toCamelCase:WEe,noop:jEe,toFiniteNumber:GEe,findKey:o7,global:Jl,isContextDefined:a7,ALPHABET:u7,generateString:zEe,isSpecCompliantForm:HEe,toJSONObject:$Ee,isAsyncFn:KEe,isThenable:YEe,setImmediate:c7,asap:XEe};function Xt(e,t,i,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),o&&(this.request=o),c&&(this.response=c,this.status=c.status?c.status:null)}$e.inherits(Xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$e.toJSONObject(this.config),code:this.code,status:this.status}}});const l7=Xt.prototype,d7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{d7[e]={value:e}});Object.defineProperties(Xt,d7);Object.defineProperty(l7,"isAxiosError",{value:!0});Xt.from=(e,t,i,o,c,f)=>{const g=Object.create(l7);return $e.toFlatObject(e,g,function(C){return C!==Error.prototype},v=>v!=="isAxiosError"),Xt.call(g,e.message,t,i,o,c),g.cause=e,g.name=e.name,f&&Object.assign(g,f),g};const QEe=null;function WP(e){return $e.isPlainObject(e)||$e.isArray(e)}function f7(e){return $e.endsWith(e,"[]")?e.slice(0,-2):e}function HV(e,t,i){return e?e.concat(t).map(function(c,f){return c=f7(c),!i&&f?"["+c+"]":c}).join(i?".":""):t}function JEe(e){return $e.isArray(e)&&!e.some(WP)}const qEe=$e.toFlatObject($e,{},null,function(t){return/^is[A-Z]/.test(t)});function p1(e,t,i){if(!$e.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=$e.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,M){return!$e.isUndefined(M[N])});const o=i.metaTokens,c=i.visitor||E,f=i.dots,g=i.indexes,C=(i.Blob||typeof Blob<"u"&&Blob)&&$e.isSpecCompliantForm(t);if(!$e.isFunction(c))throw new TypeError("visitor must be a function");function T(w){if(w===null)return"";if($e.isDate(w))return w.toISOString();if(!C&&$e.isBlob(w))throw new Xt("Blob is not supported. Use a Buffer instead.");return $e.isArrayBuffer(w)||$e.isTypedArray(w)?C&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function E(w,N,M){let k=w;if(w&&!M&&typeof w=="object"){if($e.endsWith(N,"{}"))N=o?N:N.slice(0,-2),w=JSON.stringify(w);else if($e.isArray(w)&&JEe(w)||($e.isFileList(w)||$e.endsWith(N,"[]"))&&(k=$e.toArray(w)))return N=f7(N),k.forEach(function(L,K){!($e.isUndefined(L)||L===null)&&t.append(g===!0?HV([N],K,f):g===null?N:N+"[]",T(L))}),!1}return WP(w)?!0:(t.append(HV(M,N,f),T(w)),!1)}const A=[],P=Object.assign(qEe,{defaultVisitor:E,convertValue:T,isVisitable:WP});function O(w,N){if(!$e.isUndefined(w)){if(A.indexOf(w)!==-1)throw Error("Circular reference detected in "+N.join("."));A.push(w),$e.forEach(w,function(k,R){(!($e.isUndefined(k)||k===null)&&c.call(t,k,$e.isString(R)?R.trim():R,N,P))===!0&&O(k,N?N.concat(R):[R])}),A.pop()}}if(!$e.isObject(e))throw new TypeError("data must be an object");return O(e),t}function $V(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function tR(e,t){this._pairs=[],e&&p1(e,this,t)}const h7=tR.prototype;h7.append=function(t,i){this._pairs.push([t,i])};h7.toString=function(t){const i=t?function(o){return t.call(this,o,$V)}:$V;return this._pairs.map(function(c){return i(c[0])+"="+i(c[1])},"").join("&")};function ZEe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function p7(e,t,i){if(!t)return e;const o=i&&i.encode||ZEe,c=i&&i.serialize;let f;if(c?f=c(t,i):f=$e.isURLSearchParams(t)?t.toString():new tR(t,i).toString(o),f){const g=e.indexOf("#");g!==-1&&(e=e.slice(0,g)),e+=(e.indexOf("?")===-1?"?":"&")+f}return e}class exe{constructor(){this.handlers=[]}use(t,i,o){return this.handlers.push({fulfilled:t,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$e.forEach(this.handlers,function(o){o!==null&&t(o)})}}const KV=exe,g7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},txe=typeof URLSearchParams<"u"?URLSearchParams:tR,rxe=typeof FormData<"u"?FormData:null,nxe=typeof Blob<"u"?Blob:null,ixe={isBrowser:!0,classes:{URLSearchParams:txe,FormData:rxe,Blob:nxe},protocols:["http","https","file","blob","url","data"]},rR=typeof window<"u"&&typeof document<"u",BP=typeof navigator=="object"&&navigator||void 0,oxe=rR&&(!BP||["ReactNative","NativeScript","NS"].indexOf(BP.product)<0),axe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),sxe=rR&&window.location.href||"http://localhost",uxe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rR,hasStandardBrowserEnv:oxe,hasStandardBrowserWebWorkerEnv:axe,navigator:BP,origin:sxe},Symbol.toStringTag,{value:"Module"})),wo={...uxe,...ixe};function cxe(e,t){return p1(e,new wo.classes.URLSearchParams,Object.assign({visitor:function(i,o,c,f){return wo.isNode&&$e.isBuffer(i)?(this.append(o,i.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},t))}function lxe(e){return $e.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function dxe(e){const t={},i=Object.keys(e);let o;const c=i.length;let f;for(o=0;o<c;o++)f=i[o],t[f]=e[f];return t}function m7(e){function t(i,o,c,f){let g=i[f++];if(g==="__proto__")return!0;const v=Number.isFinite(+g),C=f>=i.length;return g=!g&&$e.isArray(c)?c.length:g,C?($e.hasOwnProp(c,g)?c[g]=[c[g],o]:c[g]=o,!v):((!c[g]||!$e.isObject(c[g]))&&(c[g]=[]),t(i,o,c[g],f)&&$e.isArray(c[g])&&(c[g]=dxe(c[g])),!v)}if($e.isFormData(e)&&$e.isFunction(e.entries)){const i={};return $e.forEachEntry(e,(o,c)=>{t(lxe(o),c,i,0)}),i}return null}function fxe(e,t,i){if($e.isString(e))try{return(t||JSON.parse)(e),$e.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(e)}const nR={transitional:g7,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const o=i.getContentType()||"",c=o.indexOf("application/json")>-1,f=$e.isObject(t);if(f&&$e.isHTMLForm(t)&&(t=new FormData(t)),$e.isFormData(t))return c?JSON.stringify(m7(t)):t;if($e.isArrayBuffer(t)||$e.isBuffer(t)||$e.isStream(t)||$e.isFile(t)||$e.isBlob(t)||$e.isReadableStream(t))return t;if($e.isArrayBufferView(t))return t.buffer;if($e.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let v;if(f){if(o.indexOf("application/x-www-form-urlencoded")>-1)return cxe(t,this.formSerializer).toString();if((v=$e.isFileList(t))||o.indexOf("multipart/form-data")>-1){const C=this.env&&this.env.FormData;return p1(v?{"files[]":t}:t,C&&new C,this.formSerializer)}}return f||c?(i.setContentType("application/json",!1),fxe(t)):t}],transformResponse:[function(t){const i=this.transitional||nR.transitional,o=i&&i.forcedJSONParsing,c=this.responseType==="json";if($e.isResponse(t)||$e.isReadableStream(t))return t;if(t&&$e.isString(t)&&(o&&!this.responseType||c)){const g=!(i&&i.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(v){if(g)throw v.name==="SyntaxError"?Xt.from(v,Xt.ERR_BAD_RESPONSE,this,null,this.response):v}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wo.classes.FormData,Blob:wo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$e.forEach(["delete","get","head","post","put","patch"],e=>{nR.headers[e]={}});const iR=nR,hxe=$e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pxe=e=>{const t={};let i,o,c;return e&&e.split(`
`).forEach(function(g){c=g.indexOf(":"),i=g.substring(0,c).trim().toLowerCase(),o=g.substring(c+1).trim(),!(!i||t[i]&&hxe[i])&&(i==="set-cookie"?t[i]?t[i].push(o):t[i]=[o]:t[i]=t[i]?t[i]+", "+o:o)}),t},YV=Symbol("internals");function Yg(e){return e&&String(e).trim().toLowerCase()}function hS(e){return e===!1||e==null?e:$e.isArray(e)?e.map(hS):String(e)}function gxe(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(e);)t[o[1]]=o[2];return t}const mxe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function oA(e,t,i,o,c){if($e.isFunction(o))return o.call(this,t,i);if(c&&(t=i),!!$e.isString(t)){if($e.isString(o))return t.indexOf(o)!==-1;if($e.isRegExp(o))return o.test(t)}}function vxe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,o)=>i.toUpperCase()+o)}function _xe(e,t){const i=$e.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+i,{value:function(c,f,g){return this[o].call(this,t,c,f,g)},configurable:!0})})}class g1{constructor(t){t&&this.set(t)}set(t,i,o){const c=this;function f(v,C,T){const E=Yg(C);if(!E)throw new Error("header name must be a non-empty string");const A=$e.findKey(c,E);(!A||c[A]===void 0||T===!0||T===void 0&&c[A]!==!1)&&(c[A||C]=hS(v))}const g=(v,C)=>$e.forEach(v,(T,E)=>f(T,E,C));if($e.isPlainObject(t)||t instanceof this.constructor)g(t,i);else if($e.isString(t)&&(t=t.trim())&&!mxe(t))g(pxe(t),i);else if($e.isHeaders(t))for(const[v,C]of t.entries())f(C,v,o);else t!=null&&f(i,t,o);return this}get(t,i){if(t=Yg(t),t){const o=$e.findKey(this,t);if(o){const c=this[o];if(!i)return c;if(i===!0)return gxe(c);if($e.isFunction(i))return i.call(this,c,o);if($e.isRegExp(i))return i.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Yg(t),t){const o=$e.findKey(this,t);return!!(o&&this[o]!==void 0&&(!i||oA(this,this[o],o,i)))}return!1}delete(t,i){const o=this;let c=!1;function f(g){if(g=Yg(g),g){const v=$e.findKey(o,g);v&&(!i||oA(o,o[v],v,i))&&(delete o[v],c=!0)}}return $e.isArray(t)?t.forEach(f):f(t),c}clear(t){const i=Object.keys(this);let o=i.length,c=!1;for(;o--;){const f=i[o];(!t||oA(this,this[f],f,t,!0))&&(delete this[f],c=!0)}return c}normalize(t){const i=this,o={};return $e.forEach(this,(c,f)=>{const g=$e.findKey(o,f);if(g){i[g]=hS(c),delete i[f];return}const v=t?vxe(f):String(f).trim();v!==f&&delete i[f],i[v]=hS(c),o[v]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return $e.forEach(this,(o,c)=>{o!=null&&o!==!1&&(i[c]=t&&$e.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const o=new this(t);return i.forEach(c=>o.set(c)),o}static accessor(t){const o=(this[YV]=this[YV]={accessors:{}}).accessors,c=this.prototype;function f(g){const v=Yg(g);o[v]||(_xe(c,g),o[v]=!0)}return $e.isArray(t)?t.forEach(f):f(t),this}}g1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$e.reduceDescriptors(g1.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[i]=o}}});$e.freezeMethods(g1);const ss=g1;function aA(e,t){const i=this||iR,o=t||i,c=ss.from(o.headers);let f=o.data;return $e.forEach(e,function(v){f=v.call(i,f,c.normalize(),t?t.status:void 0)}),c.normalize(),f}function v7(e){return!!(e&&e.__CANCEL__)}function jh(e,t,i){Xt.call(this,e??"canceled",Xt.ERR_CANCELED,t,i),this.name="CanceledError"}$e.inherits(jh,Xt,{__CANCEL__:!0});function _7(e,t,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?e(i):t(new Xt("Request failed with status code "+i.status,[Xt.ERR_BAD_REQUEST,Xt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function yxe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Sxe(e,t){e=e||10;const i=new Array(e),o=new Array(e);let c=0,f=0,g;return t=t!==void 0?t:1e3,function(C){const T=Date.now(),E=o[f];g||(g=T),i[c]=C,o[c]=T;let A=f,P=0;for(;A!==c;)P+=i[A++],A=A%e;if(c=(c+1)%e,c===f&&(f=(f+1)%e),T-g<t)return;const O=E&&T-E;return O?Math.round(P*1e3/O):void 0}}function bxe(e,t){let i=0,o=1e3/t,c,f;const g=(T,E=Date.now())=>{i=E,c=null,f&&(clearTimeout(f),f=null),e.apply(null,T)};return[(...T)=>{const E=Date.now(),A=E-i;A>=o?g(T,E):(c=T,f||(f=setTimeout(()=>{f=null,g(c)},o-A)))},()=>c&&g(c)]}const cb=(e,t,i=3)=>{let o=0;const c=Sxe(50,250);return bxe(f=>{const g=f.loaded,v=f.lengthComputable?f.total:void 0,C=g-o,T=c(C),E=g<=v;o=g;const A={loaded:g,total:v,progress:v?g/v:void 0,bytes:C,rate:T||void 0,estimated:T&&v&&E?(v-g)/T:void 0,event:f,lengthComputable:v!=null,[t?"download":"upload"]:!0};e(A)},i)},XV=(e,t)=>{const i=e!=null;return[o=>t[0]({lengthComputable:i,total:e,loaded:o}),t[1]]},QV=e=>(...t)=>$e.asap(()=>e(...t)),Cxe=wo.hasStandardBrowserEnv?function(){const t=wo.navigator&&/(msie|trident)/i.test(wo.navigator.userAgent),i=document.createElement("a");let o;function c(f){let g=f;return t&&(i.setAttribute("href",g),g=i.href),i.setAttribute("href",g),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return o=c(window.location.href),function(g){const v=$e.isString(g)?c(g):g;return v.protocol===o.protocol&&v.host===o.host}}():function(){return function(){return!0}}(),Txe=wo.hasStandardBrowserEnv?{write(e,t,i,o,c,f){const g=[e+"="+encodeURIComponent(t)];$e.isNumber(i)&&g.push("expires="+new Date(i).toGMTString()),$e.isString(o)&&g.push("path="+o),$e.isString(c)&&g.push("domain="+c),f===!0&&g.push("secure"),document.cookie=g.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ixe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function wxe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function y7(e,t){return e&&!Ixe(t)?wxe(e,t):t}const JV=e=>e instanceof ss?{...e}:e;function cd(e,t){t=t||{};const i={};function o(T,E,A){return $e.isPlainObject(T)&&$e.isPlainObject(E)?$e.merge.call({caseless:A},T,E):$e.isPlainObject(E)?$e.merge({},E):$e.isArray(E)?E.slice():E}function c(T,E,A){if($e.isUndefined(E)){if(!$e.isUndefined(T))return o(void 0,T,A)}else return o(T,E,A)}function f(T,E){if(!$e.isUndefined(E))return o(void 0,E)}function g(T,E){if($e.isUndefined(E)){if(!$e.isUndefined(T))return o(void 0,T)}else return o(void 0,E)}function v(T,E,A){if(A in t)return o(T,E);if(A in e)return o(void 0,T)}const C={url:f,method:f,data:f,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:v,headers:(T,E)=>c(JV(T),JV(E),!0)};return $e.forEach(Object.keys(Object.assign({},e,t)),function(E){const A=C[E]||c,P=A(e[E],t[E],E);$e.isUndefined(P)&&A!==v||(i[E]=P)}),i}const S7=e=>{const t=cd({},e);let{data:i,withXSRFToken:o,xsrfHeaderName:c,xsrfCookieName:f,headers:g,auth:v}=t;t.headers=g=ss.from(g),t.url=p7(y7(t.baseURL,t.url),e.params,e.paramsSerializer),v&&g.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):"")));let C;if($e.isFormData(i)){if(wo.hasStandardBrowserEnv||wo.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if((C=g.getContentType())!==!1){const[T,...E]=C?C.split(";").map(A=>A.trim()).filter(Boolean):[];g.setContentType([T||"multipart/form-data",...E].join("; "))}}if(wo.hasStandardBrowserEnv&&(o&&$e.isFunction(o)&&(o=o(t)),o||o!==!1&&Cxe(t.url))){const T=c&&f&&Txe.read(f);T&&g.set(c,T)}return t},Exe=typeof XMLHttpRequest<"u",xxe=Exe&&function(e){return new Promise(function(i,o){const c=S7(e);let f=c.data;const g=ss.from(c.headers).normalize();let{responseType:v,onUploadProgress:C,onDownloadProgress:T}=c,E,A,P,O,w;function N(){O&&O(),w&&w(),c.cancelToken&&c.cancelToken.unsubscribe(E),c.signal&&c.signal.removeEventListener("abort",E)}let M=new XMLHttpRequest;M.open(c.method.toUpperCase(),c.url,!0),M.timeout=c.timeout;function k(){if(!M)return;const L=ss.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),de={data:!v||v==="text"||v==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:L,config:e,request:M};_7(function(Q){i(Q),N()},function(Q){o(Q),N()},de),M=null}"onloadend"in M?M.onloadend=k:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(k)},M.onabort=function(){M&&(o(new Xt("Request aborted",Xt.ECONNABORTED,e,M)),M=null)},M.onerror=function(){o(new Xt("Network Error",Xt.ERR_NETWORK,e,M)),M=null},M.ontimeout=function(){let K=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const de=c.transitional||g7;c.timeoutErrorMessage&&(K=c.timeoutErrorMessage),o(new Xt(K,de.clarifyTimeoutError?Xt.ETIMEDOUT:Xt.ECONNABORTED,e,M)),M=null},f===void 0&&g.setContentType(null),"setRequestHeader"in M&&$e.forEach(g.toJSON(),function(K,de){M.setRequestHeader(de,K)}),$e.isUndefined(c.withCredentials)||(M.withCredentials=!!c.withCredentials),v&&v!=="json"&&(M.responseType=c.responseType),T&&([P,w]=cb(T,!0),M.addEventListener("progress",P)),C&&M.upload&&([A,O]=cb(C),M.upload.addEventListener("progress",A),M.upload.addEventListener("loadend",O)),(c.cancelToken||c.signal)&&(E=L=>{M&&(o(!L||L.type?new jh(null,e,M):L),M.abort(),M=null)},c.cancelToken&&c.cancelToken.subscribe(E),c.signal&&(c.signal.aborted?E():c.signal.addEventListener("abort",E)));const R=yxe(c.url);if(R&&wo.protocols.indexOf(R)===-1){o(new Xt("Unsupported protocol "+R+":",Xt.ERR_BAD_REQUEST,e));return}M.send(f||null)})},Axe=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let o=new AbortController,c;const f=function(T){if(!c){c=!0,v();const E=T instanceof Error?T:this.reason;o.abort(E instanceof Xt?E:new jh(E instanceof Error?E.message:E))}};let g=t&&setTimeout(()=>{g=null,f(new Xt(`timeout ${t} of ms exceeded`,Xt.ETIMEDOUT))},t);const v=()=>{e&&(g&&clearTimeout(g),g=null,e.forEach(T=>{T.unsubscribe?T.unsubscribe(f):T.removeEventListener("abort",f)}),e=null)};e.forEach(T=>T.addEventListener("abort",f));const{signal:C}=o;return C.unsubscribe=()=>$e.asap(v),C}},Pxe=Axe,kxe=function*(e,t){let i=e.byteLength;if(!t||i<t){yield e;return}let o=0,c;for(;o<i;)c=o+t,yield e.slice(o,c),o=c},Dxe=async function*(e,t){for await(const i of Rxe(e))yield*kxe(i,t)},Rxe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:o}=await t.read();if(i)break;yield o}}finally{await t.cancel()}},qV=(e,t,i,o)=>{const c=Dxe(e,t);let f=0,g,v=C=>{g||(g=!0,o&&o(C))};return new ReadableStream({async pull(C){try{const{done:T,value:E}=await c.next();if(T){v(),C.close();return}let A=E.byteLength;if(i){let P=f+=A;i(P)}C.enqueue(new Uint8Array(E))}catch(T){throw v(T),T}},cancel(C){return v(C),c.return()}},{highWaterMark:2})},m1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",b7=m1&&typeof ReadableStream=="function",Fxe=m1&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),C7=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Oxe=b7&&C7(()=>{let e=!1;const t=new Request(wo.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ZV=64*1024,UP=b7&&C7(()=>$e.isReadableStream(new Response("").body)),lb={stream:UP&&(e=>e.body)};m1&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!lb[t]&&(lb[t]=$e.isFunction(e[t])?i=>i[t]():(i,o)=>{throw new Xt(`Response type '${t}' is not supported`,Xt.ERR_NOT_SUPPORT,o)})})})(new Response);const Nxe=async e=>{if(e==null)return 0;if($e.isBlob(e))return e.size;if($e.isSpecCompliantForm(e))return(await new Request(wo.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if($e.isArrayBufferView(e)||$e.isArrayBuffer(e))return e.byteLength;if($e.isURLSearchParams(e)&&(e=e+""),$e.isString(e))return(await Fxe(e)).byteLength},Mxe=async(e,t)=>{const i=$e.toFiniteNumber(e.getContentLength());return i??Nxe(t)},Lxe=m1&&(async e=>{let{url:t,method:i,data:o,signal:c,cancelToken:f,timeout:g,onDownloadProgress:v,onUploadProgress:C,responseType:T,headers:E,withCredentials:A="same-origin",fetchOptions:P}=S7(e);T=T?(T+"").toLowerCase():"text";let O=Pxe([c,f&&f.toAbortSignal()],g),w;const N=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let M;try{if(C&&Oxe&&i!=="get"&&i!=="head"&&(M=await Mxe(E,o))!==0){let de=new Request(t,{method:"POST",body:o,duplex:"half"}),ee;if($e.isFormData(o)&&(ee=de.headers.get("content-type"))&&E.setContentType(ee),de.body){const[Q,ce]=XV(M,cb(QV(C)));o=qV(de.body,ZV,Q,ce)}}$e.isString(A)||(A=A?"include":"omit");const k="credentials"in Request.prototype;w=new Request(t,{...P,signal:O,method:i.toUpperCase(),headers:E.normalize().toJSON(),body:o,duplex:"half",credentials:k?A:void 0});let R=await fetch(w);const L=UP&&(T==="stream"||T==="response");if(UP&&(v||L&&N)){const de={};["status","statusText","headers"].forEach(he=>{de[he]=R[he]});const ee=$e.toFiniteNumber(R.headers.get("content-length")),[Q,ce]=v&&XV(ee,cb(QV(v),!0))||[];R=new Response(qV(R.body,ZV,Q,()=>{ce&&ce(),N&&N()}),de)}T=T||"text";let K=await lb[$e.findKey(lb,T)||"text"](R,e);return!L&&N&&N(),await new Promise((de,ee)=>{_7(de,ee,{data:K,headers:ss.from(R.headers),status:R.status,statusText:R.statusText,config:e,request:w})})}catch(k){throw N&&N(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new Xt("Network Error",Xt.ERR_NETWORK,e,w),{cause:k.cause||k}):Xt.from(k,k&&k.code,e,w)}}),VP={http:QEe,xhr:xxe,fetch:Lxe};$e.forEach(VP,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ej=e=>`- ${e}`,Wxe=e=>$e.isFunction(e)||e===null||e===!1,T7={getAdapter:e=>{e=$e.isArray(e)?e:[e];const{length:t}=e;let i,o;const c={};for(let f=0;f<t;f++){i=e[f];let g;if(o=i,!Wxe(i)&&(o=VP[(g=String(i)).toLowerCase()],o===void 0))throw new Xt(`Unknown adapter '${g}'`);if(o)break;c[g||"#"+f]=o}if(!o){const f=Object.entries(c).map(([v,C])=>`adapter ${v} `+(C===!1?"is not supported by the environment":"is not available in the build"));let g=t?f.length>1?`since :
`+f.map(ej).join(`
`):" "+ej(f[0]):"as no adapter specified";throw new Xt("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return o},adapters:VP};function sA(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new jh(null,e)}function tj(e){return sA(e),e.headers=ss.from(e.headers),e.data=aA.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),T7.getAdapter(e.adapter||iR.adapter)(e).then(function(o){return sA(e),o.data=aA.call(e,e.transformResponse,o),o.headers=ss.from(o.headers),o},function(o){return v7(o)||(sA(e),o&&o.response&&(o.response.data=aA.call(e,e.transformResponse,o.response),o.response.headers=ss.from(o.response.headers))),Promise.reject(o)})}const I7="1.7.7",oR={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{oR[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const rj={};oR.transitional=function(t,i,o){function c(f,g){return"[Axios v"+I7+"] Transitional option '"+f+"'"+g+(o?". "+o:"")}return(f,g,v)=>{if(t===!1)throw new Xt(c(g," has been removed"+(i?" in "+i:"")),Xt.ERR_DEPRECATED);return i&&!rj[g]&&(rj[g]=!0,console.warn(c(g," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(f,g,v):!0}};function Bxe(e,t,i){if(typeof e!="object")throw new Xt("options must be an object",Xt.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let c=o.length;for(;c-- >0;){const f=o[c],g=t[f];if(g){const v=e[f],C=v===void 0||g(v,f,e);if(C!==!0)throw new Xt("option "+f+" must be "+C,Xt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Xt("Unknown option "+f,Xt.ERR_BAD_OPTION)}}const jP={assertOptions:Bxe,validators:oR},wc=jP.validators;class db{constructor(t){this.defaults=t,this.interceptors={request:new KV,response:new KV}}async request(t,i){try{return await this._request(t,i)}catch(o){if(o instanceof Error){let c;Error.captureStackTrace?Error.captureStackTrace(c={}):c=new Error;const f=c.stack?c.stack.replace(/^.+\n/,""):"";try{o.stack?f&&!String(o.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+f):o.stack=f}catch{}}throw o}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=cd(this.defaults,i);const{transitional:o,paramsSerializer:c,headers:f}=i;o!==void 0&&jP.assertOptions(o,{silentJSONParsing:wc.transitional(wc.boolean),forcedJSONParsing:wc.transitional(wc.boolean),clarifyTimeoutError:wc.transitional(wc.boolean)},!1),c!=null&&($e.isFunction(c)?i.paramsSerializer={serialize:c}:jP.assertOptions(c,{encode:wc.function,serialize:wc.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let g=f&&$e.merge(f.common,f[i.method]);f&&$e.forEach(["delete","get","head","post","put","patch","common"],w=>{delete f[w]}),i.headers=ss.concat(g,f);const v=[];let C=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(i)===!1||(C=C&&N.synchronous,v.unshift(N.fulfilled,N.rejected))});const T=[];this.interceptors.response.forEach(function(N){T.push(N.fulfilled,N.rejected)});let E,A=0,P;if(!C){const w=[tj.bind(this),void 0];for(w.unshift.apply(w,v),w.push.apply(w,T),P=w.length,E=Promise.resolve(i);A<P;)E=E.then(w[A++],w[A++]);return E}P=v.length;let O=i;for(A=0;A<P;){const w=v[A++],N=v[A++];try{O=w(O)}catch(M){N.call(this,M);break}}try{E=tj.call(this,O)}catch(w){return Promise.reject(w)}for(A=0,P=T.length;A<P;)E=E.then(T[A++],T[A++]);return E}getUri(t){t=cd(this.defaults,t);const i=y7(t.baseURL,t.url);return p7(i,t.params,t.paramsSerializer)}}$e.forEach(["delete","get","head","options"],function(t){db.prototype[t]=function(i,o){return this.request(cd(o||{},{method:t,url:i,data:(o||{}).data}))}});$e.forEach(["post","put","patch"],function(t){function i(o){return function(f,g,v){return this.request(cd(v||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:f,data:g}))}}db.prototype[t]=i(),db.prototype[t+"Form"]=i(!0)});const pS=db;class aR{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(f){i=f});const o=this;this.promise.then(c=>{if(!o._listeners)return;let f=o._listeners.length;for(;f-- >0;)o._listeners[f](c);o._listeners=null}),this.promise.then=c=>{let f;const g=new Promise(v=>{o.subscribe(v),f=v}).then(c);return g.cancel=function(){o.unsubscribe(f)},g},t(function(f,g,v){o.reason||(o.reason=new jh(f,g,v),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=o=>{t.abort(o)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new aR(function(c){t=c}),cancel:t}}}const Uxe=aR;function Vxe(e){return function(i){return e.apply(null,i)}}function jxe(e){return $e.isObject(e)&&e.isAxiosError===!0}const GP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(GP).forEach(([e,t])=>{GP[t]=e});const Gxe=GP;function w7(e){const t=new pS(e),i=r7(pS.prototype.request,t);return $e.extend(i,pS.prototype,t,{allOwnKeys:!0}),$e.extend(i,t,null,{allOwnKeys:!0}),i.create=function(c){return w7(cd(e,c))},i}const Un=w7(iR);Un.Axios=pS;Un.CanceledError=jh;Un.CancelToken=Uxe;Un.isCancel=v7;Un.VERSION=I7;Un.toFormData=p1;Un.AxiosError=Xt;Un.Cancel=Un.CanceledError;Un.all=function(t){return Promise.all(t)};Un.spread=Vxe;Un.isAxiosError=jxe;Un.mergeConfig=cd;Un.AxiosHeaders=ss;Un.formToJSON=e=>m7($e.isHTMLForm(e)?new FormData(e):e);Un.getAdapter=T7.getAdapter;Un.HttpStatusCode=Gxe;Un.default=Un;const zP=Un,zxe="Iv23liZzMuid1Me3knW8",Hxe="806e26a9145804211bf7d255fc871e06f4f24235",$xe=({onHandleImage:e})=>{const t=ve.useRef(null),i=ve.useRef(null),o=async()=>{const f=await navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"environment"}}});t.current&&(t.current.srcObject=f)},c=()=>{if(i.current&&t.current){const f=i.current.getContext("2d");f&&(f.drawImage(t.current,0,0,i.current.width,i.current.height),i.current.toBlob(g=>{if(g){const v=new File([g],"photo.jpg",{type:"image/jpeg"});e(v)}},"image/jpeg"))}};return Ie.jsxs("div",{children:[Ie.jsx("video",{ref:t,autoPlay:!0,width:"300",height:"200"}),Ie.jsx("button",{onClick:o,children:"Start Camera"}),Ie.jsx("button",{onClick:c,children:"Take Photo"}),Ie.jsx("canvas",{ref:i,style:{display:"none"},width:"300",height:"200"})]})},Kxe=({onHandleImage:e})=>{const t=i=>{var c;const o=(c=i.target.files)==null?void 0:c[0];o&&e(o)};return Ie.jsx("div",{children:Ie.jsx("input",{type:"file",accept:"image/*",onChange:t})})},Yxe=({onHandleImage:e})=>{const[t,i]=zt.useState(""),o=async()=>{const f=await(await fetch(t)).blob(),g=new File([f],"image.jpg",{type:"image/jpeg"});e(g)};return Ie.jsxs("div",{children:[Ie.jsx("input",{type:"text",value:t,onChange:c=>i(c.target.value),placeholder:"Enter image URL"}),Ie.jsx("button",{onClick:o,children:"Import Image"})]})};function nj(e,t,i){return new Promise((o,c)=>{const f=new FileReader;f.onload=g=>{var C;const v=new Image;v.onload=()=>{const T=document.createElement("canvas");let E=v.width,A=v.height;console.log("ww"),E>A?E>t&&(A*=t/E,E=t):A>i&&(E*=i/A,A=i),T.width=E,T.height=A;const P=T.getContext("2d");if(P){P.drawImage(v,0,0,E,A);const O=P.getImageData(0,0,E,A);o(O)}else c(new Error("Could not get canvas context"))},v.onerror=T=>c(T),v.src=(C=g.target)==null?void 0:C.result},f.onerror=g=>c(g),f.readAsDataURL(e)})}var ij;(function(e){function t(i){return`RgbColor(${i.r},${i.g},${i.b})`}e.toString=t})(ij||(ij={}));const Su=class Su{constructor(t=0,i=0,o=0,c=255){mi(this,"r");mi(this,"g");mi(this,"b");mi(this,"a");this.r=t,this.g=i,this.b=o,this.a=c}static fromRgbColorData(t){return new Su(t.r,t.g,t.b,t.a??255)}static createRandomColor(){const t=new Su;return t.randomize(),t}static fromPixelArray(t,i,o=!0){const c=new Su;return c.setFromPixelArray(t,i,o),c}static fromHex(t){var o;const i=(o=t.substring(1).match(/.{1,2}/g))==null?void 0:o.map(c=>parseInt(c,16));return Su.fromPixelArray(i,0,i.length>3)}static buildColorAverage(t){const i=Math.floor(t.r/t.n),o=Math.floor(t.g/t.n),c=Math.floor(t.b/t.n),f=Math.floor(t.a/t.n);return new Su(i,o,c,f)}isInvisible(){return this.a<Su.MINIMUM_A}hasOpacity(){return this.a<255}setFromColorCounts(t){this.r=Math.floor(t.r/t.n),this.g=Math.floor(t.g/t.n),this.b=Math.floor(t.b/t.n),this.a=Math.floor(t.a/t.n)}randomize(){this.r=Math.floor(Math.random()*256),this.g=Math.floor(Math.random()*256),this.b=Math.floor(Math.random()*256),this.a=Math.floor(Math.random()*128)+128}setFromPixelArray(t,i,o=!0){const f=i*(o?4:3);this.r=t[f+0],this.g=t[f+1],this.b=t[f+2],this.a=o?t[f+3]:255}get[Symbol.toStringTag](){return`RgbaColor(${this.r},${this.g},${this.b},${this.a})`}calculateDistanceToPixelInArray(t,i,o=!0){const c=o?t[i+3]:255;return Math.abs(this.r-t[i])+Math.abs(this.g-t[i+1])+Math.abs(this.b-t[i+2])+Math.abs(this.a-c)}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===(t.a??255)}toCssColor(){return this.hasOpacity()?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toCssColorHex(){let i=this.toInt32().toString(16);const o=(this.hasOpacity()?8:6)-i.length;return o>0&&(i="0".repeat(o)+i),"#"+i.toUpperCase()}toInt32(){return this.hasOpacity()?(this.r<<24|this.g<<16|this.b<<8|this.a)>>>0:(this.r<<16|this.g<<8|this.b)>>>0}};mi(Su,"MINIMUM_A",13);let Js=Su;var fv;(function(e){e.OFF="off",e.ON="on",e.REASONABLE="reasonable"})(fv||(fv={}));class Xxe{constructor(t,i,o){mi(this,"rows");mi(this,"palette");mi(this,"options");mi(this,"verbose");this.options=i,this.verbose=i.verbose??!1,this.palette=this.buildPalette(t,o),this.verbose&&console.time(" - Color Quantization"),this.rows=this.buildColorData(t,this.palette),this.verbose&&console.timeEnd(" - Color Quantization")}buildPalette(t,i){const o=Math.max(this.options.numberOfColors,2),c=i(t,o);return this.options.verbose&&console.log(`Created palette with ${c.length} colors.`),c.map(f=>f instanceof Js?f:Js.fromRgbColorData(f))}buildColorData(t,i){let o;const c=Math.max(this.options.colorClusteringCycles,1);for(let f=1;f<=c;f++){const g=f===c,v=this.runClusteringCycle(t,i,g),C=g||o&&this.colorIndexesEqual(o,v);if(o=v,C){this.options.verbose&&console.log(`Ran ${f} clustering cycles`);break}}return o}runClusteringCycle(t,i,o){const c=this.buildImageColorIndex(t,i),f=this.buildColorCounts(t,c,i.length),g=t.width*t.height;return this.adjustPaletteToColorAverages(i,f,g,o),c}colorIndexesEqual(t,i){if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++){const c=t[o],f=i[o];if(c.length!==f.length)return!1;for(let g=0;g<c.length;g++)if(c[g]!==f[g])return!1}return!0}adjustPaletteToColorAverages(t,i,o,c){for(let f=0;f<t.length;f++){const g=i[f];this.options.minColorQuota>0&&g.n/o<this.options.minColorQuota&&!c?t[f].randomize():g.n>0&&t[f].setFromColorCounts(g)}}buildImageColorIndex(t,i){const o=this.options.colorDistanceBuffering;return o===fv.ON||o===fv.REASONABLE&&i.length>=32?this.buildImageColorIndexBuffered(t,i):this.buildImageColorIndexUnbuffered(t,i)}buildImageColorIndexUnbuffered(t,i){const o=this.initColorIndexArray(t.width,t.height);for(let c=0;c<t.height;c++)for(let f=0;f<t.width;f++){const g=(c*t.width+f)*4,v=this.findClosestPaletteColorIx(t,g,i);o[c+1][f+1]=v}return o}buildImageColorIndexBuffered(t,i){const o=this.initColorIndexArray(t.width,t.height),c=[];let f=0,g=0;for(let v=0;v<t.height;v++)for(let C=0;C<t.width;C++){const T=(v*t.width+C)*4,E=this.getPixelColorId(t,T);c[E]!==void 0?f++:(c[E]=this.findClosestPaletteColorIx(t,T,i),g++),o[v+1][C+1]=c[E]}return this.verbose&&console.log(`Buffered ${g} colors to skip ${f} comparisons (`,Math.round(100*f/(f+g)),"%)"),o}getPixelColorId(t,i){return(t.data[i]<<24|t.data[i+1]<<16|t.data[i+2]<<8|t.data[i+3])>>>0}initColorIndexArray(t,i){const o=[];for(let c=0;c<i+2;c++)o[c]=new Array(t+2).fill(-1);return o}buildColorCounts(t,i,o){const c=this.initColorCounts(o);for(let f=0;f<t.height;f++)for(let g=0;g<t.width;g++){const v=i[f+1][g+1],C=c[v],T=(f*t.width+g)*4;C.r+=t.data[T],C.g+=t.data[T+1],C.b+=t.data[T+2],C.a+=t.data[T+3],C.n++}return c}initColorCounts(t){const i=[];for(let o=0;o<t;o++)i[o]={r:0,g:0,b:0,a:0,n:0};return i}findClosestPaletteColorIx(t,i,o){let c=0,f=1024;for(let g=0;g<o.length;g++){const C=o[g].calculateDistanceToPixelInArray(t.data,i);C>=f||(f=C,c=g)}return c}}var Qa;(function(e){e[e.RIGHT=0]="RIGHT",e[e.DOWN_RIGHT=1]="DOWN_RIGHT",e[e.DOWN=2]="DOWN",e[e.DOWN_LEFT=3]="DOWN_LEFT",e[e.LEFT=4]="LEFT",e[e.UP_LEFT=5]="UP_LEFT",e[e.UP=6]="UP",e[e.UP_RIGHT=7]="UP_RIGHT",e[e.NONE=0]="NONE"})(Qa||(Qa={}));var hv;(function(e){e.OFF="off",e.INTERPOLATE="interpolate"})(hv||(hv={}));class oj{interpolate(t,i,o){const c=[];for(const f of i){const v={points:this.interpolatePointsUsingMode(t,f.points,o),boundingBox:f.boundingBox,childHoles:f.childHoles,isHole:f.isHole};c.push(v)}return c}interpolatePointsUsingMode(t,i,o){switch(t){case hv.OFF:return i.map((c,f)=>this.trajectoryPointFromEdgePoint(i,f));default:case hv.INTERPOLATE:return this.buildInterpolatedPoints(i,o)}}trajectoryPointFromEdgePoint(t,i){const o=t[i],c=(i+1)%t.length,f=t[c];return{x:o.x,y:o.y,data:this.geTrajectory(o.x,o.y,f.x,f.y)}}buildInterpolatedPoints(t,i){const o=[];for(let c=0;c<t.length;c++){if(i&&this.isRightAngle(t,c)){const g=this.buildCornerPoint(t,c);this.updateLastPointTrajectory(o,t[c]),o.push(g)}const f=this.interpolateNextTwoPoints(t,c);o.push(f)}return o}updateLastPointTrajectory(t,i){if(t.length===0)return;const o=t.length-1,c=t[o];c.data=this.geTrajectory(c.x,c.y,i.x,i.y)}interpolateNextTwoPoints(t,i){const o=t.length,c=(i+1)%o,f=(i+2)%o,g=t[i],v=t[c],C=t[f],T=(g.x+v.x)/2,E=(g.y+v.y)/2,A=(v.x+C.x)/2,P=(v.y+C.y)/2;return{x:T,y:E,data:this.geTrajectory(T,E,A,P)}}isRightAngle(t,i){const o=t.length,c=t[i],f=(i+1)%o,g=(i+2)%o,v=(i-1+o)%o,C=(i-2+o)%o;return c.x===t[C].x&&c.x===t[v].x&&c.y===t[f].y&&c.y===t[g].y||c.y===t[C].y&&c.y===t[v].y&&c.x===t[f].x&&c.x===t[g].x}buildCornerPoint(t,i){const o=(i+1)%t.length,c=t[i],f=t[o],g=(c.x+f.x)/2,v=(c.y+f.y)/2,C=this.geTrajectory(c.x,c.y,g,v);return{x:c.x,y:c.y,data:C}}geTrajectory(t,i,o,c){return t<o?i<c?Qa.DOWN_RIGHT:i>c?Qa.UP_RIGHT:Qa.RIGHT:t>o?i<c?Qa.DOWN_LEFT:i>c?Qa.UP_LEFT:Qa.LEFT:i<c?Qa.DOWN:i>c?Qa.UP:Qa.NONE}}var pv;(function(e){e.OFF="off",e.KEEP_RATIO="ratio",e.ALL="all"})(pv||(pv={}));var Wc;(function(e){e.FILL="fill",e.STROKE="stroke",e.STROKE_FILL="stroke+fill"})(Wc||(Wc={}));const E7={strokeWidth:1,lineFilter:!1,scale:1,decimalPlaces:1,viewBox:!0,desc:!1,segmentEndpointRadius:0,curveControlPointRadius:0,fillStyle:Wc.STROKE_FILL,trim:pv.OFF};var Ji;(function(e){e.GENERATE="generate",e.SAMPLE="sample",e.SCAN="scan",e.PALETTE="palette"})(Ji||(Ji={}));var fb;(function(e){e[e.SEQUENTIAL=1]="SEQUENTIAL",e[e.PARALLEL=2]="PARALLEL"})(fb||(fb={}));var hb;(function(e){function t(c){return Object.assign({},i,c??{})}e.buildFrom=t;const i=Object.assign(E7,{lineErrorMargin:1,curveErrorMargin:1,minShapeOutline:8,enhanceRightAngles:!0,colorSamplingMode:Ji.SCAN,palette:null,numberOfColors:16,minColorQuota:0,colorClusteringCycles:3,colorDistanceBuffering:fv.REASONABLE,layeringMode:fb.PARALLEL,interpolation:hv.INTERPOLATE,blurRadius:0,blurDelta:20,sharpen:!1,sharpenThreshold:20}),o=c=>c;e.Presets=o({default:i,posterized1:{colorSamplingMode:Ji.GENERATE,numberOfColors:2},posterized2:{numberOfColors:4,blurRadius:5},curvy:{lineErrorMargin:.01,lineFilter:!0,enhanceRightAngles:!1},sharp:{curveErrorMargin:.01,lineFilter:!1},detailed:{minShapeOutline:0,decimalPlaces:2,lineErrorMargin:.5,curveErrorMargin:.5,numberOfColors:64},smoothed:{blurRadius:5,blurDelta:64},grayscale:{colorSamplingMode:Ji.GENERATE,colorClusteringCycles:1,numberOfColors:7},fixedpalette:{colorSamplingMode:Ji.GENERATE,colorClusteringCycles:1,numberOfColors:27},randomsampling1:{colorSamplingMode:Ji.SAMPLE,numberOfColors:8},randomsampling2:{colorSamplingMode:Ji.SAMPLE,numberOfColors:64},artistic1:{colorSamplingMode:Ji.GENERATE,colorClusteringCycles:1,minShapeOutline:0,blurRadius:5,blurDelta:64,lineErrorMargin:.01,lineFilter:!0,numberOfColors:16,strokeWidth:2},artistic2:{curveErrorMargin:.01,colorSamplingMode:Ji.GENERATE,colorClusteringCycles:1,numberOfColors:4,strokeWidth:0},artistic3:{curveErrorMargin:10,lineErrorMargin:10,numberOfColors:8},artistic4:{curveErrorMargin:10,lineErrorMargin:10,numberOfColors:64,blurRadius:5,blurDelta:256,strokeWidth:2},posterized3:{lineErrorMargin:1,curveErrorMargin:1,minShapeOutline:20,enhanceRightAngles:!0,colorSamplingMode:Ji.GENERATE,numberOfColors:3,minColorQuota:0,colorClusteringCycles:3,blurRadius:3,blurDelta:20,strokeWidth:0,lineFilter:!1,decimalPlaces:1,palette:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}})})(hb||(hb={}));const Qxe=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}];class Jxe{drawLayersToDiv(t,i,o){i=i||1;var c,f,g,v,C,T;o?(T=document.getElementById(o),T||(T=document.createElement("div"),T.id=o,document.body.appendChild(T))):(T=document.createElement("div"),document.body.appendChild(T));for(C in t){if(!t.hasOwnProperty(C))continue;c=t[C][0].length,f=t[C].length;const E=document.createElement("canvas");E.width=c*i,E.height=f*i;const A=this.getCanvasContext(E),P=Qxe;for(v=0;v<f;v++)for(g=0;g<c;g++){const O=t[C][v][g]%P.length,w=P[O];A.fillStyle=this.toRgbaLiteral(w),A.fillRect(g*i,v*i,i,i)}T.appendChild(E)}}toRgbaLiteral(t){return"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"}getCanvasContext(t){const i=t.getContext("2d");if(!i)throw new Error("Could not read canvas");return i}}class aj{static buildForColors(t){const i=t.rows,o=i.length,c=i[0].length,f=[];for(let w=0;w<t.palette.length;w++){f[w]=[];for(let N=0;N<o;N++)f[w][N]=new Array(c).fill(0)}let g,v,C,T,E,A,P,O;for(let w=1;w<o-1;w++)for(let N=1;N<c-1;N++){const M=i[w][N];g=i[w-1][N-1]===M?1:0,v=i[w-1][N]===M?1:0,C=i[w-1][N+1]===M?1:0,T=i[w][N-1]===M?1:0,E=i[w][N+1]===M?1:0,A=i[w+1][N-1]===M?1:0,P=i[w+1][N]===M?1:0,O=i[w+1][N+1]===M?1:0;const k=f[M];k[w+1][N+1]=1+E*2+O*4+P*8,T||(k[w+1][N]=0+2+P*4+A*8),v||(k[w][N+1]=0+C*2+E*4+8),g||(k[w][N]=0+v*2+4+T*8)}return f}static buildForColor(t,i){const o=t.rows,c=o.length,f=o[0].length,g=[];for(let v=0;v<c;v++)g[v]=new Array(f).fill(0);for(let v=1;v<c;v++)for(let C=1;C<f;C++)g[v][C]=(o[v-1][C-1]===i?1:0)+(o[v-1][C]===i?2:0)+(o[v][C-1]===i?8:0)+(o[v][C]===i?4:0);return g}}const qxe=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]];class sj{scan(t,i){const o=t[0].length,c=t.length,f=[];let g=0;for(let v=0;v<c;v++)for(let C=0;C<o;C++){const T=t[v][C];if(T!==4&&T!==11)continue;let E=C,A=v;const P={points:[],boundingBox:[E,A,E,A],childHoles:[],isHole:T===11};f[g]=P;let O=!1,w=1;for(;!O;){const N=t[A][E];this.addPointToArea(P,E-1,A-1,N);const M=qxe[N][w];if(t[A][E]=M[0],w=M[1],E+=M[2],A+=M[3],E-1===P.points[0].x&&A-1===P.points[0].y){if(O=!0,P.points.length<i){f.pop();continue}if(P.isHole){const k=this.findParentId(P,f,g,o,c);f[k].childHoles.push(g)}g++}}}return f}addPointToArea(t,i,o,c){const f={x:i,y:o,data:c};return i<t.boundingBox[0]&&(t.boundingBox[0]=i),o<t.boundingBox[1]&&(t.boundingBox[1]=o),i>t.boundingBox[2]&&(t.boundingBox[2]=i),o>t.boundingBox[3]&&(t.boundingBox[3]=o),t.points.push(f)}findParentId(t,i,o,c,f){let g=0,v=[-1,-1,c+1,f+1];for(let C=0;C<o;C++){const T=i[C];!T.isHole&&this.boundingBoxIncludes(T.boundingBox,t.boundingBox)&&this.boundingBoxIncludes(v,T.boundingBox)&&this.pointInPolygon(t.points[0],T.points)&&(g=C,v=T.boundingBox)}return g}boundingBoxIncludes(t,i){return t[0]<i[0]&&t[1]<i[1]&&t[2]>i[2]&&t[3]>i[3]}pointInPolygon(t,i){let o=!1;for(let c=0,f=i.length-1;c<i.length;f=c++)o=i[c].y>t.y!=i[f].y>t.y&&t.x<(i[f].x-i[c].x)*(t.y-i[c].y)/(i[f].y-i[c].y)+i[c].x?!o:o;return o}}var HP;(function(e){function t(i){const o=`${i.type} ${i.x1} ${i.y1} ${i.x2} ${i.y2}`;return i.type==="L"?o:o+` ${i.x3} ${i.y3}`}e.toString=t})(HP||(HP={}));class uj{trace(t,i,o){const c=[],f=[].concat(t.points);f.push(f[0]);for(let g=0;g<f.length-1;){const v=this.findNextSequenceStartIx(f,g),C=this.getPathCommandsOfSequence(f,i,o,g,v);c.push(...C),g=v}return{lineAttributes:c,boundingBox:t.boundingBox,childHoles:t.childHoles,isHole:t.isHole}}findNextSequenceStartIx(t,i){const o=t[i].data;let c=i+1,f=t[c],g=null;for(;(f.data===o||f.data===g||g===null)&&c<t.length-1;)f.data!==o&&g===null&&(g=f.data),c++,f=t[c];return c===t.length-2?c+1:c}getPathCommandsOfSequence(t,i,o,c,f){if(f>t.length||f<0)return[];const g=this.checkSequenceFitsLine(t,i,c,f);if(typeof g=="object")return[g];const v=this.checkSequenceFitsCurve(t,o,c,f,g);if(typeof v=="object")return[v];const C=g,T=this.getPathCommandsOfSequence(t,i,o,c,C),E=this.getPathCommandsOfSequence(t,i,o,C,f);return T.concat(E)}checkSequenceFitsLine(t,i,o,c){const f=c-o,g=t[o],v=t[c],C=(v.x-g.x)/f,T=(v.y-g.y)/f;let E=!0,A=o,P=0;for(let O=o+1;O<c;O++){const w=O-o,N=g.x+w*C,M=g.y+w*T,k=t[O],R=(k.x-N)*(k.x-N)+(k.y-M)*(k.y-M);R>i&&(E=!1),R>P&&(A=O,P=R)}return E?{type:"L",x1:g.x,y1:g.y,x2:v.x,y2:v.y}:A}checkSequenceFitsCurve(t,i,o,c,f){const g=c-o,v=t[o],C=t[c];let T=!0,E=0,A=o,P=f-o,O=P/g,w=(1-O)*(1-O),N=2*(1-O)*O,M=O*O;const k=(w*v.x+M*C.x-t[f].x)/-N,R=(w*v.y+M*C.y-t[f].y)/-N;for(let L=o+1;L!=c;L=(L+1)%t.length){P=L-o,O=P/g,w=(1-O)*(1-O),N=2*(1-O)*O,M=O*O;const K=w*v.x+N*k+M*C.x,de=w*v.y+N*R+M*C.y,ee=t[L],Q=(ee.x-K)*(ee.x-K)+(ee.y-de)*(ee.y-de);Q>i&&(T=!1),Q>E&&(A=L,E=Q)}return T?{type:"Q",x1:v.x,y1:v.y,x2:k,y2:R,x3:C.x,y3:C.y}:A}}var $P;(function(e){function t(f,g,v,C=!1){const T=i(f,g);v&&o(T,f),!(T.minX===0&&T.maxX===f.width&&T.minY===0&&T.maxY===f.height)&&(C&&console.log(`Trimming x[${T.minX}|${T.maxX}]/${f.width}, y[${T.minY}|${T.maxY}]/${f.height}`),c(f,T))}e.trim=t;function i(f,g){let v=f.width,C=f.height,T=0,E=0;for(let P=0;P<f.areasByColor.length;P++){if(f.colors[P].a===0)continue;const w=f.areasByColor[P];for(const N of w)for(const M of N.lineAttributes){const k=M.type==="Q";v=Math.min(v,M.x1,M.x2,k?M.x3:v),T=Math.max(T,M.x1,M.x2,k?M.x3:0),C=Math.min(C,M.y1,M.y2,k?M.y3:C),E=Math.max(E,M.y1,M.y2,k?M.y3:0)}}const A=Math.floor(g/2);return v-=A,C-=A,T+=A,E+=A,{minX:v,maxX:T,minY:C,maxY:E}}function o(f,g){const v=f.maxX-f.minX,C=f.maxY-f.minY,T=g.width,E=g.height,A=Math.ceil(C*T/E);if(v===A)return;if(A>v){const w=(A-v)/2;f.minX-=Math.ceil(w),f.maxX+=Math.floor(w);return}const O=(Math.ceil(v*E/T)-C)/2;f.minY-=Math.ceil(O),f.maxY+=Math.floor(O)}function c(f,g){const{minX:v,maxX:C,minY:T,maxY:E}=g;for(const A of f.areasByColor)for(const P of A)for(const O of P.lineAttributes)O.x1-=v,O.x2-=v,O.y1-=T,O.y2-=T,O.type==="Q"&&(O.x3-=v,O.y3-=T);f.height=E-T,f.width=C-v}})($P||($P={}));class cj{constructor(t){mi(this,"options");mi(this,"useStroke");mi(this,"useFill");this.options=Object.assign({},E7,t),this.useFill=[Wc.FILL,Wc.STROKE_FILL].includes(this.options.fillStyle),this.useStroke=[Wc.STROKE,Wc.STROKE_FILL].includes(this.options.fillStyle)}fixValue(t){return this.options.scale!==1&&(t*=this.options.scale),this.options.decimalPlaces===-1?t:+t.toFixed(this.options.decimalPlaces)}draw(t){this.init(t);const i=[];for(let o=0;o<t.areasByColor.length;o++)for(let c=0;c<t.areasByColor[o].length;c++)t.areasByColor[o][c].isHole||i.push(...this.buildSegmentTags(t,o,c));return this.options.verbose&&console.log(`Adding ${i.length} <path> tags to SVG.`),this.buildSvgTag(t,i)}init(t){if(this.options.trim!==pv.OFF){const i=this.options.fillStyle===Wc.FILL?0:this.options.strokeWidth,o=this.options.trim===pv.KEEP_RATIO;$P.trim(t,i,o,this.options.verbose)}}buildSegmentTags(t,i,o){const c=t.areasByColor[i],f=c[o],g=t.colors[i];if(!this.isValidLine(g,f.lineAttributes))return[];const v=[],C=this.options.desc?this.getDescriptionAttribute(t,i,o):"",T=this.buildPathTag(f,c,g,C);if(v.push(T),this.options.segmentEndpointRadius||this.options.curveControlPointRadius){const E=this.drawControlOutput(f,c);v.push(...E)}return v}isValidLine(t,i){const o=!this.options.lineFilter||i.length>=3;return!t.isInvisible()&&o}getDescriptionAttribute(t,i,o){const f=t.areasByColor[i][o].isHole?1:0,g=t.colors[i],v=`r:${g.r} g:${g.g} b:${g.b}`;return this.options.desc?`desc="colorId:${i} segment:${o} ${v} isHole:${f}" `:""}buildPath(t,i){const o=t.lineAttributes,c=[];c.push("M",this.fixValue(o[0].x1),this.fixValue(o[0].y1));for(const f of o)c.push(f.type,this.fixValue(f.x2),this.fixValue(f.y2)),"x3"in f&&c.push(this.fixValue(f.x3),this.fixValue(f.y3));c.push("Z");for(const f of t.childHoles){const g=i[f],v=g.lineAttributes[g.lineAttributes.length-1];c.push("M"),v.type==="Q"?c.push(this.fixValue(v.x3),this.fixValue(v.y3)):c.push(this.fixValue(v.x2),this.fixValue(v.y2));for(const C of g.lineAttributes.reverse())c.push(C.type),C.type==="Q"&&c.push(this.fixValue(C.x2),this.fixValue(C.y2)),c.push(this.fixValue(C.x1),this.fixValue(C.y1));c.push("Z")}return c.join(" ")}drawControlOutput(t,i){const o=this.drawControlPoint(t);for(let c of t.childHoles){const f=i[c],g=this.drawControlPoint(f);o.push(...g)}return o}drawControlPoint(t){const i=[];for(const o of t.lineAttributes){const c="x3"in o;if(this.options.segmentEndpointRadius){const f=c?o.x3:o.x2,g=c?o.y3:o.y2,v=this.buildCircleTag(f,g,this.options.segmentEndpointRadius,"white");i.push(v)}if(c&&this.options.curveControlPointRadius){const f="cyan",g=this.options.curveControlPointRadius*.2;i.push(this.buildCircleTag(o.x2,o.y2,this.options.curveControlPointRadius,f),this.buildLineTag(o.x1,o.y1,o.x2,o.y2,f,g),this.buildLineTag(o.x2,o.y2,o.x3,o.y3,f,g))}}return i}buildSvgTag(t,i){const o=Math.ceil(t.width*this.options.scale),c=Math.ceil(t.height*this.options.scale),f=this.options.viewBox?`viewBox="0 0 ${o} ${c}"`:`width="${o}" height="${c}"`,g=i.join(`
 `);return`<svg ${f} version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer-ts 1.0.2" >
 ${g}
</svg>`}buildPathTag(t,i,o,c=""){const f=this.buildPath(t,i),g=this.buildColorAttributes(o,t);return`<path ${c}${g}d="${f}" />`}buildCircleTag(t,i,o,c){const f=this.fixValue(t),g=this.fixValue(i),v=o*.2;return`<circle cx="${f}" cy="${g}" r="${o}" fill="${c}" stroke-width="${v}" stroke="black" />`}buildLineTag(t,i,o,c,f,g){const v=this.fixValue(t),C=this.fixValue(i),T=this.fixValue(o),E=this.fixValue(c);return`<line x1="${v}" y1="${C}" x2="${T}" y2="${E}" stroke-width="${g}" stroke="${f}" />`}buildColorAttributes(t,i){const o=this.colorToRgbString(t);let f=`fill="${this.useFill?o:"none"}" `;this.useStroke&&(f+=`stroke="${o}" stroke-width="${this.options.strokeWidth}" `);const g=(t.a/255).toPrecision(1);return g!=="1"&&(f+=`opacity="${g}" `),f}colorToRgbString(t){return`rgb(${t.r},${t.g},${t.b})`}}function Zxe(e,t=null){switch(e){case Ji.GENERATE:return(i,o)=>eAe(o);case Ji.SAMPLE:return nAe;case Ji.PALETTE:if(!t||t.length===0)throw new Error("No color palette in options but mode is set to palette");return(i,o)=>t.map(Js.fromRgbColorData);case Ji.SCAN:default:return iAe}}function eAe(e){return e<8?rAe(e):tAe(e)}function tAe(e){const t=[],i=Math.floor(Math.pow(e,.3333333333333333)),o=Math.floor(255/(i-1));for(let f=0,g=0;f<i;f++,g+=o)for(let v=0,C=0;v<i;v++,C+=o)for(let T=0,E=0;T<i;T++,E+=o)t.push(new Js(g,C,E));const c=e-t.length;for(let f=0;f<c;f++)t.push(Js.createRandomColor());return t}function rAe(e){const t=[],i=Math.floor(255/(e-1));for(let o=0;o<e;o++){const c=o*i,f=new Js(c,c,c);t.push(f)}return t}function nAe(e,t){const i=[],o=e.data.length/4;for(let c=4*t;c>0;c--){const f=Math.floor(Math.random()*o),g=Js.fromPixelArray(e.data,f);if(!i.some(v=>v.equals(g))&&(i.push(g),i.length===t))break}return i}function iAe(e,t){const i=[],o=Math.ceil(Math.sqrt(t)),c=e.width/(o+1),f=e.height/(o+1);for(let g=1;g<=o;g++){const v=g*f*e.width;for(let C=1;C<=o;C++){const T=Math.floor(v+C*c),E=Js.fromPixelArray(e.data,T);if(!i.some(A=>E.equals(A))&&(i.push(E),i.length===t))break}}return i}var KP;(function(e){function t(o,c=!1){if(i(o))return o;c&&console.log("Transforming image data from RGB to RGBA");const f=o.width*o.height,g=f*4,v=new Uint8ClampedArray(g);for(let C=0;C<f;C++){const T=C*3,E=C*4;v[E+0]=o.data[T+0],v[E+1]=o.data[T+1],v[E+2]=o.data[T+2],v[E+3]=255}return{width:o.width,height:o.height,colorSpace:o.colorSpace,data:v}}e.process=t;function i(o){const f=o.width*o.height*4;return o.data.length>=f}})(KP||(KP={}));const oAe=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]];class Rm{static blur(t,i,o){if(i=Math.floor(i),i<1)return t;i>5&&(i=5),o=Math.abs(o),o>1024&&(o=1024);const c=oAe[i-1],f={width:t.width,height:t.height,colorSpace:t.colorSpace,data:new Uint8ClampedArray(t.width*t.height*4)};return Rm.blurHorizontally(t,i,c,f.data),Rm.blurVertically(f,i,c),Rm.checkDelta(t,f.data,o),f}static blurHorizontally(t,i,o,c){for(let f=0;f<t.height;f++)for(let g=0;g<t.width;g++){const v=f*t.width+g;let C=0,T=0,E=0,A=0,P=0;for(let w=-i;w<=i;w++){if(g+w<0||g+w>=t.width)continue;const N=(v+w)*4,M=o[w+i];C+=t.data[N+0]*M,T+=t.data[N+1]*M,E+=t.data[N+2]*M,A+=t.data[N+3]*M,P+=M}const O=v*4;c[O+0]=Math.floor(C/P),c[O+1]=Math.floor(T/P),c[O+2]=Math.floor(E/P),c[O+3]=Math.floor(A/P),c[O+0]}}static blurVertically(t,i,o){const c=new Uint8ClampedArray(t.data);for(let f=0;f<t.height;f++)for(let g=0;g<t.width;g++){let v=0,C=0,T=0,E=0,A=0;for(let O=-i;O<=i;O++){const w=f+O;if(w<0||w>=t.height)continue;const N=(w*t.width+g)*4,M=o[O+i];v+=c[N+0]*M,C+=c[N+1]*M,T+=c[N+2]*M,E+=c[N+3]*M,A+=M}const P=(f*t.width+g)*4;t.data[P+0]=Math.floor(v/A),t.data[P+1]=Math.floor(C/A),t.data[P+2]=Math.floor(T/A),t.data[P+3]=Math.floor(E/A)}}static checkDelta(t,i,o){for(let c=0;c<t.height;c++)for(let f=0;f<t.width;f++){const g=(c*t.width+f)*4;Math.abs(i[g+0]-t.data[g+0])+Math.abs(i[g+1]-t.data[g+1])+Math.abs(i[g+2]-t.data[g+2])+Math.abs(i[g+3]-t.data[g+3])>o&&(i[g+0]=t.data[g],i[g+1]=t.data[g+1],i[g+2]=t.data[g+2],i[g+3]=t.data[g+3])}}}const aAe=[[0,-1,0],[-1,5,-1],[0,-1,0]];function sAe(e,t){return new uAe(aAe).apply(e,t)}class uAe{constructor(t){mi(this,"kernel");mi(this,"kernelWeight");this.kernel=t,this.kernelWeight=t.flat().reduce((i,o)=>i+o,0)}apply(t,i){const o=new Uint8ClampedArray(4*t.width*t.height);for(let c=0;c<t.height;c++)for(let f=0;f<t.width;f++)this.applyKernelToPixel(t,f,c,o);return this.applyThreshold(t,o,i),{width:t.width,height:t.height,colorSpace:t.colorSpace,data:o}}applyKernelToPixel(t,i,o,c){const f=Math.floor(this.kernel.length/2),g=(o*t.width+i)*4;for(let v=0;v<4;v++){let C=0,T=0;for(let E=-f;E<=f;E++)if(!(o+E<0||o+E>=t.height))for(let A=-f;A<=f;A++){if(i+A<0||i+A>=t.width)continue;const P=((o+E)*t.width+(i+A))*4+v,O=this.kernel[E+f][A+f];C+=t.data[P]*O,T+=O}T!==this.kernelWeight&&(C*=this.kernelWeight===0?0:T/this.kernelWeight),c[g+v]=C}}applyThreshold(t,i,o){if(!(o<=0||o===1||o>=1024)){o=o<1?1024*o:o;for(let c=0;c<t.data.length;c+=4){let f=0;for(let g=c;g<c+4;g++)f+=Math.abs(t.data[g]-i[g]);if(!(f<=o))for(let g=c;g<c+4;g++)i[g]=t.data[g]}}}}var lj;(function(e){function t(i){const o=[];for(let c=0;c<i.areasByColor.length;c++){const f=i.areasByColor[c];if(f.length!==0){o.push(i.colors[c].toString());for(const g of f){const v=g.lineAttributes.map(C=>HP.toString(C)).join(" ");o.push(v)}}}return o.join(`
`)}e.toString=t})(lj||(lj={}));class cAe{constructor(t=null){mi(this,"options");mi(this,"colorQuantizeFunction");this.options=hb.buildFrom(t),this.colorQuantizeFunction=Zxe(this.options.colorSamplingMode,this.options.palette)}setColorQuantizeFunction(t){return this.colorQuantizeFunction=t,this}traceImageToSvg(t){const i=new cj(this.options);return this.traceImage(t,i)}traceImage(t,i=null){i||(i=new cj(this.options));const o=this.isVerbose();o&&console.time(" - Preprocessing time"),t=this.preProcessImage(t),o&&console.timeEnd(" - Preprocessing time"),o&&console.time(" - Color indexing time");const c=new Xxe(t,this.options,this.colorQuantizeFunction);o&&console.timeEnd(" - Color indexing time"),o&&console.time(" - Trace time");const f=this.imageDataToTraceData(t,c);o&&console.timeEnd(" - Trace time"),o&&console.time(" - Draw time");const g=i.draw(f);return o&&console.timeEnd(" - Draw time"),g}isVerbose(){return this.options.verbose??!1}preProcessImage(t){return t=KP.process(t,this.isVerbose()),this.options.blurRadius>0&&(t=Rm.blur(t,this.options.blurRadius,this.options.blurDelta)),this.options.sharpen&&(t=sAe(t,this.options.sharpenThreshold)),t}imageDataToTraceData(t,i){return this.options.layeringMode===fb.SEQUENTIAL?this.imageDataToTraceDataWithSequentialLayering(t,i):this.imageDataToTraceDataWithParallelLayering(t,i)}imageDataToTraceDataWithSequentialLayering(t,i){const o=[],c=new sj,f=new oj,g=new uj;for(let v=0;v<i.palette.length;v++){const C=aj.buildForColor(i,v),T=c.scan(C,this.options.minShapeOutline),A=f.interpolate(this.options.interpolation,T,this.options.enhanceRightAngles).map(P=>g.trace(P,this.options.lineErrorMargin,this.options.curveErrorMargin));o.push(A)}return{areasByColor:o,colors:i.palette,width:i.rows[0].length-2,height:i.rows.length-2}}imageDataToTraceDataWithParallelLayering(t,i){const o=aj.buildForColors(i);this.options.layerContainerId&&new Jxe().drawLayersToDiv(o,this.options.scale,this.options.layerContainerId);const c=new sj,f=o.map(O=>c.scan(O,this.options.minShapeOutline)),g=new oj,v=this.options.interpolation,C=this.options.enhanceRightAngles,T=f.map(O=>g.interpolate(v,O,C)),E=new uj,A=O=>E.trace(O,this.options.lineErrorMargin,this.options.curveErrorMargin);return{areasByColor:T.map(O=>O.map(A)),colors:i.palette,width:t.width,height:t.height}}}function lAe(){const e=()=>{const t="Iv23liZzMuid1Me3knW8",i="https://sarahbuisson.github.io/content-generator2/";window.location.href=`https://github.com/login/oauth/authorize?client_id=${t}&redirect_uri=${i}`};return Ie.jsx("button",{onClick:e,children:"Login with GitHub"})}function dAe(e){function t(He,Ge,nt,pe,oe){for(var me=0,Se=0,et=0,Ke=0,mt,vt,Vt=0,Nt=0,xt,ir=xt=mt=0,jt=0,Ar=0,Xr=0,lr=0,Vn=nt.length,qt=Vn-1,or,Ct="",pr="",Zo="",Ta="",gr;jt<Vn;){if(vt=nt.charCodeAt(jt),jt===qt&&Se+Ke+et+me!==0&&(Se!==0&&(vt=Se===47?10:47),Ke=et=me=0,Vn++,qt++),Se+Ke+et+me===0){if(jt===qt&&(0<Ar&&(Ct=Ct.replace(P,"")),0<Ct.trim().length)){switch(vt){case 32:case 9:case 59:case 13:case 10:break;default:Ct+=nt.charAt(jt)}vt=59}switch(vt){case 123:for(Ct=Ct.trim(),mt=Ct.charCodeAt(0),xt=1,lr=++jt;jt<Vn;){switch(vt=nt.charCodeAt(jt)){case 123:xt++;break;case 125:xt--;break;case 47:switch(vt=nt.charCodeAt(jt+1)){case 42:case 47:e:{for(ir=jt+1;ir<qt;++ir)switch(nt.charCodeAt(ir)){case 47:if(vt===42&&nt.charCodeAt(ir-1)===42&&jt+2!==ir){jt=ir+1;break e}break;case 10:if(vt===47){jt=ir+1;break e}}jt=ir}}break;case 91:vt++;case 40:vt++;case 34:case 39:for(;jt++<qt&&nt.charCodeAt(jt)!==vt;);}if(xt===0)break;jt++}switch(xt=nt.substring(lr,jt),mt===0&&(mt=(Ct=Ct.replace(A,"").trim()).charCodeAt(0)),mt){case 64:switch(0<Ar&&(Ct=Ct.replace(P,"")),vt=Ct.charCodeAt(1),vt){case 100:case 109:case 115:case 45:Ar=Ge;break;default:Ar=je}if(xt=t(Ge,Ar,xt,vt,oe+1),lr=xt.length,0<Re&&(Ar=i(je,Ct,Xr),gr=v(3,xt,Ar,Ge,xe,ye,lr,vt,oe,pe),Ct=Ar.join(""),gr!==void 0&&(lr=(xt=gr.trim()).length)===0&&(vt=0,xt="")),0<lr)switch(vt){case 115:Ct=Ct.replace(ee,g);case 100:case 109:case 45:xt=Ct+"{"+xt+"}";break;case 107:Ct=Ct.replace(R,"$1 $2"),xt=Ct+"{"+xt+"}",xt=Ne===1||Ne===2&&f("@"+xt,3)?"@-webkit-"+xt+"@"+xt:"@"+xt;break;default:xt=Ct+xt,pe===112&&(xt=(pr+=xt,""))}else xt="";break;default:xt=t(Ge,i(Ge,Ct,Xr),xt,pe,oe+1)}Zo+=xt,xt=Xr=Ar=ir=mt=0,Ct="",vt=nt.charCodeAt(++jt);break;case 125:case 59:if(Ct=(0<Ar?Ct.replace(P,""):Ct).trim(),1<(lr=Ct.length))switch(ir===0&&(mt=Ct.charCodeAt(0),mt===45||96<mt&&123>mt)&&(lr=(Ct=Ct.replace(" ",":")).length),0<Re&&(gr=v(1,Ct,Ge,He,xe,ye,pr.length,pe,oe,pe))!==void 0&&(lr=(Ct=gr.trim()).length)===0&&(Ct="\0\0"),mt=Ct.charCodeAt(0),vt=Ct.charCodeAt(1),mt){case 0:break;case 64:if(vt===105||vt===99){Ta+=Ct+nt.charAt(jt);break}default:Ct.charCodeAt(lr-1)!==58&&(pr+=c(Ct,mt,vt,Ct.charCodeAt(2)))}Xr=Ar=ir=mt=0,Ct="",vt=nt.charCodeAt(++jt)}}switch(vt){case 13:case 10:Se===47?Se=0:1+mt===0&&pe!==107&&0<Ct.length&&(Ar=1,Ct+="\0"),0<Re*Ae&&v(0,Ct,Ge,He,xe,ye,pr.length,pe,oe,pe),ye=1,xe++;break;case 59:case 125:if(Se+Ke+et+me===0){ye++;break}default:switch(ye++,or=nt.charAt(jt),vt){case 9:case 32:if(Ke+me+Se===0)switch(Vt){case 44:case 58:case 9:case 32:or="";break;default:vt!==32&&(or=" ")}break;case 0:or="\\0";break;case 12:or="\\f";break;case 11:or="\\v";break;case 38:Ke+Se+me===0&&(Ar=Xr=1,or="\f"+or);break;case 108:if(Ke+Se+me+De===0&&0<ir)switch(jt-ir){case 2:Vt===112&&nt.charCodeAt(jt-3)===58&&(De=Vt);case 8:Nt===111&&(De=Nt)}break;case 58:Ke+Se+me===0&&(ir=jt);break;case 44:Se+et+Ke+me===0&&(Ar=1,or+="\r");break;case 34:case 39:Se===0&&(Ke=Ke===vt?0:Ke===0?vt:Ke);break;case 91:Ke+Se+et===0&&me++;break;case 93:Ke+Se+et===0&&me--;break;case 41:Ke+Se+me===0&&et--;break;case 40:if(Ke+Se+me===0){if(mt===0)switch(2*Vt+3*Nt){case 533:break;default:mt=1}et++}break;case 64:Se+et+Ke+me+ir+xt===0&&(xt=1);break;case 42:case 47:if(!(0<Ke+me+et))switch(Se){case 0:switch(2*vt+3*nt.charCodeAt(jt+1)){case 235:Se=47;break;case 220:lr=jt,Se=42}break;case 42:vt===47&&Vt===42&&lr+2!==jt&&(nt.charCodeAt(lr+2)===33&&(pr+=nt.substring(lr,jt+1)),or="",Se=0)}}Se===0&&(Ct+=or)}Nt=Vt,Vt=vt,jt++}if(lr=pr.length,0<lr){if(Ar=Ge,0<Re&&(gr=v(2,pr,Ar,He,xe,ye,lr,pe,oe,pe),gr!==void 0&&(pr=gr).length===0))return Ta+pr+Zo;if(pr=Ar.join(",")+"{"+pr+"}",Ne*De!==0){switch(Ne!==2||f(pr,2)||(De=0),De){case 111:pr=pr.replace(K,":-moz-$1")+pr;break;case 112:pr=pr.replace(L,"::-webkit-input-$1")+pr.replace(L,"::-moz-$1")+pr.replace(L,":-ms-input-$1")+pr}De=0}}return Ta+pr+Zo}function i(He,Ge,nt){var pe=Ge.trim().split(M);Ge=pe;var oe=pe.length,me=He.length;switch(me){case 0:case 1:var Se=0;for(He=me===0?"":He[0]+" ";Se<oe;++Se)Ge[Se]=o(He,Ge[Se],nt).trim();break;default:var et=Se=0;for(Ge=[];Se<oe;++Se)for(var Ke=0;Ke<me;++Ke)Ge[et++]=o(He[Ke]+" ",pe[Se],nt).trim()}return Ge}function o(He,Ge,nt){var pe=Ge.charCodeAt(0);switch(33>pe&&(pe=(Ge=Ge.trim()).charCodeAt(0)),pe){case 38:return Ge.replace(k,"$1"+He.trim());case 58:return He.trim()+Ge.replace(k,"$1"+He.trim());default:if(0<1*nt&&0<Ge.indexOf("\f"))return Ge.replace(k,(He.charCodeAt(0)===58?"":"$1")+He.trim())}return He+Ge}function c(He,Ge,nt,pe){var oe=He+";",me=2*Ge+3*nt+4*pe;if(me===944){He=oe.indexOf(":",9)+1;var Se=oe.substring(He,oe.length-1).trim();return Se=oe.substring(0,He).trim()+Se+";",Ne===1||Ne===2&&f(Se,1)?"-webkit-"+Se+Se:Se}if(Ne===0||Ne===2&&!f(oe,1))return oe;switch(me){case 1015:return oe.charCodeAt(10)===97?"-webkit-"+oe+oe:oe;case 951:return oe.charCodeAt(3)===116?"-webkit-"+oe+oe:oe;case 963:return oe.charCodeAt(5)===110?"-webkit-"+oe+oe:oe;case 1009:if(oe.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+oe+oe;case 978:return"-webkit-"+oe+"-moz-"+oe+oe;case 1019:case 983:return"-webkit-"+oe+"-moz-"+oe+"-ms-"+oe+oe;case 883:if(oe.charCodeAt(8)===45)return"-webkit-"+oe+oe;if(0<oe.indexOf("image-set(",11))return oe.replace(fe,"$1-webkit-$2")+oe;break;case 932:if(oe.charCodeAt(4)===45)switch(oe.charCodeAt(5)){case 103:return"-webkit-box-"+oe.replace("-grow","")+"-webkit-"+oe+"-ms-"+oe.replace("grow","positive")+oe;case 115:return"-webkit-"+oe+"-ms-"+oe.replace("shrink","negative")+oe;case 98:return"-webkit-"+oe+"-ms-"+oe.replace("basis","preferred-size")+oe}return"-webkit-"+oe+"-ms-"+oe+oe;case 964:return"-webkit-"+oe+"-ms-flex-"+oe+oe;case 1023:if(oe.charCodeAt(8)!==99)break;return Se=oe.substring(oe.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Se+"-webkit-"+oe+"-ms-flex-pack"+Se+oe;case 1005:return w.test(oe)?oe.replace(O,":-webkit-")+oe.replace(O,":-moz-")+oe:oe;case 1e3:switch(Se=oe.substring(13).trim(),Ge=Se.indexOf("-")+1,Se.charCodeAt(0)+Se.charCodeAt(Ge)){case 226:Se=oe.replace(de,"tb");break;case 232:Se=oe.replace(de,"tb-rl");break;case 220:Se=oe.replace(de,"lr");break;default:return oe}return"-webkit-"+oe+"-ms-"+Se+oe;case 1017:if(oe.indexOf("sticky",9)===-1)break;case 975:switch(Ge=(oe=He).length-10,Se=(oe.charCodeAt(Ge)===33?oe.substring(0,Ge):oe).substring(He.indexOf(":",7)+1).trim(),me=Se.charCodeAt(0)+(Se.charCodeAt(7)|0)){case 203:if(111>Se.charCodeAt(8))break;case 115:oe=oe.replace(Se,"-webkit-"+Se)+";"+oe;break;case 207:case 102:oe=oe.replace(Se,"-webkit-"+(102<me?"inline-":"")+"box")+";"+oe.replace(Se,"-webkit-"+Se)+";"+oe.replace(Se,"-ms-"+Se+"box")+";"+oe}return oe+";";case 938:if(oe.charCodeAt(5)===45)switch(oe.charCodeAt(6)){case 105:return Se=oe.replace("-items",""),"-webkit-"+oe+"-webkit-box-"+Se+"-ms-flex-"+Se+oe;case 115:return"-webkit-"+oe+"-ms-flex-item-"+oe.replace(ce,"")+oe;default:return"-webkit-"+oe+"-ms-flex-line-pack"+oe.replace("align-content","").replace(ce,"")+oe}break;case 973:case 989:if(oe.charCodeAt(3)!==45||oe.charCodeAt(4)===122)break;case 931:case 953:if(le.test(He)===!0)return(Se=He.substring(He.indexOf(":")+1)).charCodeAt(0)===115?c(He.replace("stretch","fill-available"),Ge,nt,pe).replace(":fill-available",":stretch"):oe.replace(Se,"-webkit-"+Se)+oe.replace(Se,"-moz-"+Se.replace("fill-",""))+oe;break;case 962:if(oe="-webkit-"+oe+(oe.charCodeAt(5)===102?"-ms-"+oe:"")+oe,nt+pe===211&&oe.charCodeAt(13)===105&&0<oe.indexOf("transform",10))return oe.substring(0,oe.indexOf(";",27)+1).replace(N,"$1-webkit-$2")+oe}return oe}function f(He,Ge){var nt=He.indexOf(Ge===1?":":"{"),pe=He.substring(0,Ge!==3?nt:10);return nt=He.substring(nt+1,He.length-1),Me(Ge!==2?pe:pe.replace(he,"$1"),nt,Ge)}function g(He,Ge){var nt=c(Ge,Ge.charCodeAt(0),Ge.charCodeAt(1),Ge.charCodeAt(2));return nt!==Ge+";"?nt.replace(Q," or ($1)").substring(4):"("+Ge+")"}function v(He,Ge,nt,pe,oe,me,Se,et,Ke,mt){for(var vt=0,Vt=Ge,Nt;vt<Re;++vt)switch(Nt=Ze[vt].call(E,He,Vt,nt,pe,oe,me,Se,et,Ke,mt)){case void 0:case!1:case!0:case null:break;default:Vt=Nt}if(Vt!==Ge)return Vt}function C(He){switch(He){case void 0:case null:Re=Ze.length=0;break;default:if(typeof He=="function")Ze[Re++]=He;else if(typeof He=="object")for(var Ge=0,nt=He.length;Ge<nt;++Ge)C(He[Ge]);else Ae=!!He|0}return C}function T(He){return He=He.prefix,He!==void 0&&(Me=null,He?typeof He!="function"?Ne=1:(Ne=2,Me=He):Ne=0),T}function E(He,Ge){var nt=He;if(33>nt.charCodeAt(0)&&(nt=nt.trim()),Je=nt,nt=[Je],0<Re){var pe=v(-1,Ge,nt,nt,xe,ye,0,0,0,0);pe!==void 0&&typeof pe=="string"&&(Ge=pe)}var oe=t(je,nt,Ge,0,0);return 0<Re&&(pe=v(-2,oe,nt,nt,xe,ye,oe.length,0,0,0),pe!==void 0&&(oe=pe)),Je="",De=0,ye=xe=1,oe}var A=/^\0+/g,P=/[\0\r\f]/g,O=/: */g,w=/zoo|gra/,N=/([,: ])(transform)/g,M=/,\r+?/g,k=/([\t\r\n ])*\f?&/g,R=/@(k\w+)\s*(\S*)\s*/,L=/::(place)/g,K=/:(read-only)/g,de=/[svh]\w+-[tblr]{2}/,ee=/\(\s*(.*)\s*\)/g,Q=/([\s\S]*?);/g,ce=/-self|flex-/g,he=/[^]*?(:[rp][el]a[\w-]+)[^]*/,le=/stretch|:\s*\w+\-(?:conte|avail)/,fe=/([^-])(image-set\()/,ye=1,xe=1,De=0,Ne=1,je=[],Ze=[],Re=0,Me=null,Ae=0,Je="";return E.use=C,E.set=T,e!==void 0&&T(e),E}var fAe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Pu(){return(Pu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}).apply(this,arguments)}var dj=function(e,t){for(var i=[e[0]],o=0,c=t.length;o<c;o+=1)i.push(t[o],e[o+1]);return i},YP=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!yD.typeOf(e)},pb=Object.freeze([]),Jc=Object.freeze({});function gv(e){return typeof e=="function"}function fj(e){return e.displayName||e.name||"Component"}function sR(e){return e&&typeof e.styledComponentId=="string"}var kh=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",uR=typeof window<"u"&&"HTMLElement"in window,hAe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY));function Pv(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(i.length>0?" Args: "+i.join(", "):""))}var pAe=function(){function e(i){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=i}var t=e.prototype;return t.indexOfGroup=function(i){for(var o=0,c=0;c<i;c++)o+=this.groupSizes[c];return o},t.insertRules=function(i,o){if(i>=this.groupSizes.length){for(var c=this.groupSizes,f=c.length,g=f;i>=g;)(g<<=1)<0&&Pv(16,""+i);this.groupSizes=new Uint32Array(g),this.groupSizes.set(c),this.length=g;for(var v=f;v<g;v++)this.groupSizes[v]=0}for(var C=this.indexOfGroup(i+1),T=0,E=o.length;T<E;T++)this.tag.insertRule(C,o[T])&&(this.groupSizes[i]++,C++)},t.clearGroup=function(i){if(i<this.length){var o=this.groupSizes[i],c=this.indexOfGroup(i),f=c+o;this.groupSizes[i]=0;for(var g=c;g<f;g++)this.tag.deleteRule(c)}},t.getGroup=function(i){var o="";if(i>=this.length||this.groupSizes[i]===0)return o;for(var c=this.groupSizes[i],f=this.indexOfGroup(i),g=f+c,v=f;v<g;v++)o+=this.tag.getRule(v)+`/*!sc*/
`;return o},e}(),gS=new Map,gb=new Map,Fm=1,Fy=function(e){if(gS.has(e))return gS.get(e);for(;gb.has(Fm);)Fm++;var t=Fm++;return gS.set(e,t),gb.set(t,e),t},gAe=function(e){return gb.get(e)},mAe=function(e,t){t>=Fm&&(Fm=t+1),gS.set(e,t),gb.set(t,e)},vAe="style["+kh+'][data-styled-version="5.3.11"]',_Ae=new RegExp("^"+kh+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),yAe=function(e,t,i){for(var o,c=i.split(","),f=0,g=c.length;f<g;f++)(o=c[f])&&e.registerName(t,o)},SAe=function(e,t){for(var i=(t.textContent||"").split(`/*!sc*/
`),o=[],c=0,f=i.length;c<f;c++){var g=i[c].trim();if(g){var v=g.match(_Ae);if(v){var C=0|parseInt(v[1],10),T=v[2];C!==0&&(mAe(T,C),yAe(e,T,v[3]),e.getTag().insertRules(C,o)),o.length=0}else o.push(g)}}},bAe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},x7=function(e){var t=document.head,i=e||t,o=document.createElement("style"),c=function(v){for(var C=v.childNodes,T=C.length;T>=0;T--){var E=C[T];if(E&&E.nodeType===1&&E.hasAttribute(kh))return E}}(i),f=c!==void 0?c.nextSibling:null;o.setAttribute(kh,"active"),o.setAttribute("data-styled-version","5.3.11");var g=bAe();return g&&o.setAttribute("nonce",g),i.insertBefore(o,f),o},CAe=function(){function e(i){var o=this.element=x7(i);o.appendChild(document.createTextNode("")),this.sheet=function(c){if(c.sheet)return c.sheet;for(var f=document.styleSheets,g=0,v=f.length;g<v;g++){var C=f[g];if(C.ownerNode===c)return C}Pv(17)}(o),this.length=0}var t=e.prototype;return t.insertRule=function(i,o){try{return this.sheet.insertRule(o,i),this.length++,!0}catch{return!1}},t.deleteRule=function(i){this.sheet.deleteRule(i),this.length--},t.getRule=function(i){var o=this.sheet.cssRules[i];return o!==void 0&&typeof o.cssText=="string"?o.cssText:""},e}(),TAe=function(){function e(i){var o=this.element=x7(i);this.nodes=o.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(i,o){if(i<=this.length&&i>=0){var c=document.createTextNode(o),f=this.nodes[i];return this.element.insertBefore(c,f||null),this.length++,!0}return!1},t.deleteRule=function(i){this.element.removeChild(this.nodes[i]),this.length--},t.getRule=function(i){return i<this.length?this.nodes[i].textContent:""},e}(),IAe=function(){function e(i){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(i,o){return i<=this.length&&(this.rules.splice(i,0,o),this.length++,!0)},t.deleteRule=function(i){this.rules.splice(i,1),this.length--},t.getRule=function(i){return i<this.length?this.rules[i]:""},e}(),hj=uR,wAe={isServer:!uR,useCSSOMInjection:!hAe},A7=function(){function e(i,o,c){i===void 0&&(i=Jc),o===void 0&&(o={}),this.options=Pu({},wAe,{},i),this.gs=o,this.names=new Map(c),this.server=!!i.isServer,!this.server&&uR&&hj&&(hj=!1,function(f){for(var g=document.querySelectorAll(vAe),v=0,C=g.length;v<C;v++){var T=g[v];T&&T.getAttribute(kh)!=="active"&&(SAe(f,T),T.parentNode&&T.parentNode.removeChild(T))}}(this))}e.registerId=function(i){return Fy(i)};var t=e.prototype;return t.reconstructWithOptions=function(i,o){return o===void 0&&(o=!0),new e(Pu({},this.options,{},i),this.gs,o&&this.names||void 0)},t.allocateGSInstance=function(i){return this.gs[i]=(this.gs[i]||0)+1},t.getTag=function(){return this.tag||(this.tag=(c=(o=this.options).isServer,f=o.useCSSOMInjection,g=o.target,i=c?new IAe(g):f?new CAe(g):new TAe(g),new pAe(i)));var i,o,c,f,g},t.hasNameForId=function(i,o){return this.names.has(i)&&this.names.get(i).has(o)},t.registerName=function(i,o){if(Fy(i),this.names.has(i))this.names.get(i).add(o);else{var c=new Set;c.add(o),this.names.set(i,c)}},t.insertRules=function(i,o,c){this.registerName(i,o),this.getTag().insertRules(Fy(i),c)},t.clearNames=function(i){this.names.has(i)&&this.names.get(i).clear()},t.clearRules=function(i){this.getTag().clearGroup(Fy(i)),this.clearNames(i)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(i){for(var o=i.getTag(),c=o.length,f="",g=0;g<c;g++){var v=gAe(g);if(v!==void 0){var C=i.names.get(v),T=o.getGroup(g);if(C&&T&&C.size){var E=kh+".g"+g+'[id="'+v+'"]',A="";C!==void 0&&C.forEach(function(P){P.length>0&&(A+=P+",")}),f+=""+T+E+'{content:"'+A+`"}/*!sc*/
`}}}return f}(this)},e}(),EAe=/(a)(d)/gi,pj=function(e){return String.fromCharCode(e+(e>25?39:97))};function XP(e){var t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=pj(t%52)+i;return(pj(t%52)+i).replace(EAe,"$1-$2")}var ih=function(e,t){for(var i=t.length;i;)e=33*e^t.charCodeAt(--i);return e},P7=function(e){return ih(5381,e)};function xAe(e){for(var t=0;t<e.length;t+=1){var i=e[t];if(gv(i)&&!sR(i))return!1}return!0}var AAe=P7("5.3.11"),PAe=function(){function e(t,i,o){this.rules=t,this.staticRulesId="",this.isStatic=(o===void 0||o.isStatic)&&xAe(t),this.componentId=i,this.baseHash=ih(AAe,i),this.baseStyle=o,A7.registerId(i)}return e.prototype.generateAndInjectStyles=function(t,i,o){var c=this.componentId,f=[];if(this.baseStyle&&f.push(this.baseStyle.generateAndInjectStyles(t,i,o)),this.isStatic&&!o.hash)if(this.staticRulesId&&i.hasNameForId(c,this.staticRulesId))f.push(this.staticRulesId);else{var g=Dh(this.rules,t,i,o).join(""),v=XP(ih(this.baseHash,g)>>>0);if(!i.hasNameForId(c,v)){var C=o(g,"."+v,void 0,c);i.insertRules(c,v,C)}f.push(v),this.staticRulesId=v}else{for(var T=this.rules.length,E=ih(this.baseHash,o.hash),A="",P=0;P<T;P++){var O=this.rules[P];if(typeof O=="string")A+=O;else if(O){var w=Dh(O,t,i,o),N=Array.isArray(w)?w.join(""):w;E=ih(E,N+P),A+=N}}if(A){var M=XP(E>>>0);if(!i.hasNameForId(c,M)){var k=o(A,"."+M,void 0,c);i.insertRules(c,M,k)}f.push(M)}}return f.join(" ")},e}(),kAe=/^\s*\/\/.*$/gm,DAe=[":","[",".","#"];function RAe(e){var t,i,o,c,f=e===void 0?Jc:e,g=f.options,v=g===void 0?Jc:g,C=f.plugins,T=C===void 0?pb:C,E=new dAe(v),A=[],P=function(N){function M(k){if(k)try{N(k+"}")}catch{}}return function(k,R,L,K,de,ee,Q,ce,he,le){switch(k){case 1:if(he===0&&R.charCodeAt(0)===64)return N(R+";"),"";break;case 2:if(ce===0)return R+"/*|*/";break;case 3:switch(ce){case 102:case 112:return N(L[0]+R),"";default:return R+(le===0?"/*|*/":"")}case-2:R.split("/*|*/}").forEach(M)}}}(function(N){A.push(N)}),O=function(N,M,k){return M===0&&DAe.indexOf(k[i.length])!==-1||k.match(c)?N:"."+t};function w(N,M,k,R){R===void 0&&(R="&");var L=N.replace(kAe,""),K=M&&k?k+" "+M+" { "+L+" }":L;return t=R,i=M,o=new RegExp("\\"+i+"\\b","g"),c=new RegExp("(\\"+i+"\\b){2,}"),E(k||!M?"":M,K)}return E.use([].concat(T,[function(N,M,k){N===2&&k.length&&k[0].lastIndexOf(i)>0&&(k[0]=k[0].replace(o,O))},P,function(N){if(N===-2){var M=A;return A=[],M}}])),w.hash=T.length?T.reduce(function(N,M){return M.name||Pv(15),ih(N,M.name)},5381).toString():"",w}var k7=zt.createContext();k7.Consumer;var D7=zt.createContext(),FAe=(D7.Consumer,new A7),QP=RAe();function OAe(){return ve.useContext(k7)||FAe}function NAe(){return ve.useContext(D7)||QP}var MAe=function(){function e(t,i){var o=this;this.inject=function(c,f){f===void 0&&(f=QP);var g=o.name+f.hash;c.hasNameForId(o.id,g)||c.insertRules(o.id,g,f(o.rules,g,"@keyframes"))},this.toString=function(){return Pv(12,String(o.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=i}return e.prototype.getName=function(t){return t===void 0&&(t=QP),this.name+t.hash},e}(),LAe=/([A-Z])/,WAe=/([A-Z])/g,BAe=/^ms-/,UAe=function(e){return"-"+e.toLowerCase()};function gj(e){return LAe.test(e)?e.replace(WAe,UAe).replace(BAe,"-ms-"):e}var mj=function(e){return e==null||e===!1||e===""};function Dh(e,t,i,o){if(Array.isArray(e)){for(var c,f=[],g=0,v=e.length;g<v;g+=1)(c=Dh(e[g],t,i,o))!==""&&(Array.isArray(c)?f.push.apply(f,c):f.push(c));return f}if(mj(e))return"";if(sR(e))return"."+e.styledComponentId;if(gv(e)){if(typeof(T=e)!="function"||T.prototype&&T.prototype.isReactComponent||!t)return e;var C=e(t);return Dh(C,t,i,o)}var T;return e instanceof MAe?i?(e.inject(i,o),e.getName(o)):e:YP(e)?function E(A,P){var O,w,N=[];for(var M in A)A.hasOwnProperty(M)&&!mj(A[M])&&(Array.isArray(A[M])&&A[M].isCss||gv(A[M])?N.push(gj(M)+":",A[M],";"):YP(A[M])?N.push.apply(N,E(A[M],M)):N.push(gj(M)+": "+(O=M,(w=A[M])==null||typeof w=="boolean"||w===""?"":typeof w!="number"||w===0||O in fAe||O.startsWith("--")?String(w).trim():w+"px")+";"));return P?[P+" {"].concat(N,["}"]):N}(e):e.toString()}var vj=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function VAe(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return gv(e)||YP(e)?vj(Dh(dj(pb,[e].concat(i)))):i.length===0&&e.length===1&&typeof e[0]=="string"?e:vj(Dh(dj(e,i)))}var jAe=function(e,t,i){return i===void 0&&(i=Jc),e.theme!==i.theme&&e.theme||t||i.theme},GAe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,zAe=/(^-|-$)/g;function uA(e){return e.replace(GAe,"-").replace(zAe,"")}var HAe=function(e){return XP(P7(e)>>>0)};function Oy(e){return typeof e=="string"&&!0}var JP=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},$Ae=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function KAe(e,t,i){var o=e[i];JP(t)&&JP(o)?R7(o,t):e[i]=t}function R7(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];for(var c=0,f=i;c<f.length;c++){var g=f[c];if(JP(g))for(var v in g)$Ae(v)&&KAe(e,g[v],v)}return e}var F7=zt.createContext();F7.Consumer;var cA={};function O7(e,t,i){var o=sR(e),c=!Oy(e),f=t.attrs,g=f===void 0?pb:f,v=t.componentId,C=v===void 0?function(R,L){var K=typeof R!="string"?"sc":uA(R);cA[K]=(cA[K]||0)+1;var de=K+"-"+HAe("5.3.11"+K+cA[K]);return L?L+"-"+de:de}(t.displayName,t.parentComponentId):v,T=t.displayName,E=T===void 0?function(R){return Oy(R)?"styled."+R:"Styled("+fj(R)+")"}(e):T,A=t.displayName&&t.componentId?uA(t.displayName)+"-"+t.componentId:t.componentId||C,P=o&&e.attrs?Array.prototype.concat(e.attrs,g).filter(Boolean):g,O=t.shouldForwardProp;o&&e.shouldForwardProp&&(O=t.shouldForwardProp?function(R,L,K){return e.shouldForwardProp(R,L,K)&&t.shouldForwardProp(R,L,K)}:e.shouldForwardProp);var w,N=new PAe(i,A,o?e.componentStyle:void 0),M=N.isStatic&&g.length===0,k=function(R,L){return function(K,de,ee,Q){var ce=K.attrs,he=K.componentStyle,le=K.defaultProps,fe=K.foldedComponentIds,ye=K.shouldForwardProp,xe=K.styledComponentId,De=K.target,Ne=function(pe,oe,me){pe===void 0&&(pe=Jc);var Se=Pu({},oe,{theme:pe}),et={};return me.forEach(function(Ke){var mt,vt,Vt,Nt=Ke;for(mt in gv(Nt)&&(Nt=Nt(Se)),Nt)Se[mt]=et[mt]=mt==="className"?(vt=et[mt],Vt=Nt[mt],vt&&Vt?vt+" "+Vt:vt||Vt):Nt[mt]}),[Se,et]}(jAe(de,ve.useContext(F7),le)||Jc,de,ce),je=Ne[0],Ze=Ne[1],Re=function(pe,oe,me,Se){var et=OAe(),Ke=NAe(),mt=oe?pe.generateAndInjectStyles(Jc,et,Ke):pe.generateAndInjectStyles(me,et,Ke);return mt}(he,Q,je),Me=ee,Ae=Ze.$as||de.$as||Ze.as||de.as||De,Je=Oy(Ae),He=Ze!==de?Pu({},de,{},Ze):de,Ge={};for(var nt in He)nt[0]!=="$"&&nt!=="as"&&(nt==="forwardedAs"?Ge.as=He[nt]:(ye?ye(nt,OP,Ae):!Je||OP(nt))&&(Ge[nt]=He[nt]));return de.style&&Ze.style!==de.style&&(Ge.style=Pu({},de.style,{},Ze.style)),Ge.className=Array.prototype.concat(fe,xe,Re!==xe?Re:null,de.className,Ze.className).filter(Boolean).join(" "),Ge.ref=Me,ve.createElement(Ae,Ge)}(w,R,L,M)};return k.displayName=E,(w=zt.forwardRef(k)).attrs=P,w.componentStyle=N,w.displayName=E,w.shouldForwardProp=O,w.foldedComponentIds=o?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):pb,w.styledComponentId=A,w.target=o?e.target:e,w.withComponent=function(R){var L=t.componentId,K=function(ee,Q){if(ee==null)return{};var ce,he,le={},fe=Object.keys(ee);for(he=0;he<fe.length;he++)ce=fe[he],Q.indexOf(ce)>=0||(le[ce]=ee[ce]);return le}(t,["componentId"]),de=L&&L+"-"+(Oy(R)?R:uA(fj(R)));return O7(R,Pu({},K,{attrs:P,componentId:de}),i)},Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(R){this._foldedDefaultProps=o?R7({},e.defaultProps,R):R}}),Object.defineProperty(w,"toString",{value:function(){return"."+w.styledComponentId}}),c&&cbe(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),w}var qP=function(e){return function t(i,o,c){if(c===void 0&&(c=Jc),!yD.isValidElementType(o))return Pv(1,String(o));var f=function(){return i(o,c,VAe.apply(void 0,arguments))};return f.withConfig=function(g){return t(i,o,Pu({},c,{},g))},f.attrs=function(g){return t(i,o,Pu({},c,{attrs:Array.prototype.concat(c.attrs,g).filter(Boolean)}))},f}(O7,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){qP[e]=qP(e)});const kv=qP;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function mb(e,t,i,o){return new(i||(i=Promise))(function(c,f){function g(T){try{C(o.next(T))}catch(E){f(E)}}function v(T){try{C(o.throw(T))}catch(E){f(E)}}function C(T){T.done?c(T.value):new i(function(E){E(T.value)}).then(g,v)}C((o=o.apply(e,t||[])).next())})}function vb(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,c,f,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(T){return function(E){return C([T,E])}}function C(T){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,c&&(f=T[0]&2?c.return:T[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,T[1])).done)return f;switch(c=0,f&&(T=[T[0]&2,f.value]),T[0]){case 0:case 1:f=T;break;case 4:return i.label++,{value:T[1],done:!1};case 5:i.label++,c=T[1],T=[0];continue;case 7:T=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(T[0]===6||T[0]===2)){i=0;continue}if(T[0]===3&&(!f||T[1]>f[0]&&T[1]<f[3])){i.label=T[1];break}if(T[0]===6&&i.label<f[1]){i.label=f[1],f=T;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(T);break}f[2]&&i.ops.pop(),i.trys.pop();continue}T=t.call(e,i)}catch(E){T=[6,E],c=0}finally{o=f=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}}function Dv(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var YAe=kv.div(yj||(yj=Dv([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`],[`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),XAe=kv.div(Sj||(Sj=Dv([`
  width: 100%;
  `,`
`],[`
  width: 100%;
  `,`
`])),function(e){var t=e.aspectRatio;return t==="cover"?`
    position: absolute;
    bottom: 0;
    top: 0;
    left: 0;
    right: 0;`:`
    position: relative;
    padding-bottom: `+100/t+"%;"}),_j=kv.div(bj||(bj=Dv([`
  padding: 40px;
`],[`
  padding: 40px;
`]))),QAe=kv.video(Cj||(Cj=Dv([`
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
  transform: rotateY(`,`);
`],[`
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
  transform: rotateY(`,`);
`])),function(e){var t=e.mirrored;return t?"180deg":"0deg"}),JAe=kv.canvas(Tj||(Tj=Dv([`
  display: none;
`],[`
  display: none;
`]))),yj,Sj,bj,Cj,Tj,N7=zt.forwardRef(function(e,t){var i=e.facingMode,o=i===void 0?"user":i,c=e.aspectRatio,f=c===void 0?"cover":c,g=e.numberOfCamerasCallback,v=g===void 0?function(){return null}:g,C=e.videoSourceDeviceId,T=C===void 0?void 0:C,E=e.errorMessages,A=E===void 0?{noCameraAccessible:"No camera device accessible. Please connect your camera or try a different browser.",permissionDenied:"Permission denied. Please refresh and give camera permission.",switchCamera:"It is not possible to switch camera to different one because there is only one video device accessible.",canvas:"Canvas is not supported."}:E,P=e.videoReadyCallback,O=P===void 0?function(){return null}:P,w=ve.useRef(null),N=ve.useRef(null),M=ve.useRef(null),k=ve.useRef(null),R=ve.useState(0),L=R[0],K=R[1],de=ve.useState(null),ee=de[0],Q=de[1],ce=ve.useState(o),he=ce[0],le=ce[1],fe=ve.useState(!1),ye=fe[0],xe=fe[1],De=ve.useState(!1),Ne=De[0],je=De[1],Ze=ve.useState(!1),Re=Ze[0],Me=Ze[1],Ae=ve.useState(!1),Je=Ae[0],He=Ae[1],Ge=ve.useRef(!1);ve.useEffect(function(){return Ge.current=!0,function(){Ge.current=!1}},[]),ve.useEffect(function(){v(L)},[L]);var nt=function(pe){return pe===void 0&&(pe=!1),mb(void 0,void 0,void 0,function(){var oe,me;return vb(this,function(Se){switch(Se.label){case 0:if(!(ee&&(navigator!=null&&navigator.mediaDevices)&&Ge.current))return[3,4];if(oe=navigator.mediaDevices.getSupportedConstraints(),me=ee.getTracks()[0],!(oe&&"torch"in oe&&me))return[3,4];Se.label=1;case 1:return Se.trys.push([1,3,,4]),[4,me.applyConstraints({advanced:[{torch:pe}]})];case 2:return Se.sent(),[2,!0];case 3:return Se.sent(),[2,!1];case 4:return[2,!1]}})})};return ve.useEffect(function(){nt(Je)},[Je]),ve.useImperativeHandle(t,function(){return{takePhoto:function(pe){var oe,me,Se,et,Ke;if(L<1)throw new Error(A.noCameraAccessible);if(N!=null&&N.current){var mt=((oe=w==null?void 0:w.current)===null||oe===void 0?void 0:oe.videoWidth)||1280,vt=((me=w==null?void 0:w.current)===null||me===void 0?void 0:me.videoHeight)||720,Vt=mt/vt,Nt=((Se=k==null?void 0:k.current)===null||Se===void 0?void 0:Se.offsetWidth)||1280,xt=((et=k==null?void 0:k.current)===null||et===void 0?void 0:et.offsetHeight)||1280,ir=Nt/xt,jt=void 0,Ar=void 0,Xr=void 0,lr=void 0,Vn=void 0;switch(Vt>ir?(lr=vt,Xr=vt*ir,jt=(mt-Xr)/2,Ar=0):(Xr=mt,lr=mt/ir,jt=0,Ar=(vt-lr)/2),N.current.width=Xr,N.current.height=lr,M.current||(M.current=N.current.getContext("2d",{willReadFrequently:!0})),M.current&&(w!=null&&w.current)&&M.current.drawImage(w.current,jt,Ar,Xr,lr,0,0,Xr,lr),pe){case"imgData":Vn=(Ke=M.current)===null||Ke===void 0?void 0:Ke.getImageData(0,0,Xr,lr);break;default:Vn=N.current.toDataURL("image/jpeg");break}return Vn}else throw new Error(A.canvas)},switchCamera:function(){if(L<1)throw new Error(A.noCameraAccessible);L<2&&console.error("Error: Unable to switch camera. Only one device is accessible.");var pe=he==="user"?"environment":"user";return le(pe),pe},getNumberOfCameras:function(){return L},toggleTorch:function(){var pe=!Je;return He(pe),pe},torchSupported:Re}}),ve.useEffect(function(){ZAe(ee,Q,he,T,K,xe,je,!!Ge.current)},[he,T]),ve.useEffect(function(){return nt(!1).then(function(pe){return Me(pe)}),ee&&w&&w.current&&(w.current.srcObject=ee),function(){ee&&ee.getTracks().forEach(function(pe){pe.stop()})}},[ee]),zt.createElement(XAe,{ref:k,aspectRatio:f},zt.createElement(YAe,null,ye?zt.createElement(_j,null,A.noCameraAccessible):null,Ne?zt.createElement(_j,null,A.permissionDenied):null,zt.createElement(QAe,{ref:w,id:"video",muted:!0,autoPlay:!0,playsInline:!0,mirrored:he==="user",onLoadedData:function(){O()}}),zt.createElement(JAe,{ref:N})))});N7.displayName="Camera";var qAe=function(e){return mb(void 0,void 0,void 0,function(){var t;return vb(this,function(i){switch(i.label){case 0:return t=[],e!=="environment"?[3,2]:[4,navigator.mediaDevices.enumerateDevices().then(function(o){var c=o.filter(function(f){return f.kind=="videoinput"});c.forEach(function(f){var g=f.getCapabilities();g.facingMode&&g.facingMode.indexOf("environment")>=0&&g.deviceId&&t.push(g.deviceId)})})];case 1:i.sent(),i.label=2;case 2:return t.length>1?[2,t.pop()]:[2,void 0]}})})},ZAe=function(e,t,i,o,c,f,g,v){return mb(void 0,void 0,void 0,function(){var C,T,E,A,P;return vb(this,function(O){switch(O.label){case 0:return e&&e.getTracks().forEach(function(w){w.stop()}),[4,qAe(i)];case 1:return T=O.sent(),T?C=T:C=o?{exact:o}:void 0,E={audio:!1,video:{deviceId:C,facingMode:i}},!((P=navigator==null?void 0:navigator.mediaDevices)===null||P===void 0)&&P.getUserMedia?navigator.mediaDevices.getUserMedia(E).then(function(w){v&&t(Ij(w,c))}).catch(function(w){wj(w,f,g)}):(A=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,A?A(E,function(w){return mb(void 0,void 0,void 0,function(){return vb(this,function(N){return v&&t(Ij(w,c)),[2]})})},function(w){wj(w,f,g)}):f(!0)),[2]}})})},Ij=function(e,t){return navigator.mediaDevices.enumerateDevices().then(function(i){return t(i.filter(function(o){return o.kind==="videoinput"}).length)}),e},wj=function(e,t,i){console.error(e),e.name==="PermissionDeniedError"?i(!0):t(!0)};const ePe=({onHandleImage:e})=>{const[t,i]=ve.useState(0),[o,c]=ve.useState("some.jpg"),f=ve.useRef(null),g=ve.useRef(null),v=ve.useRef(null),C=[{action:()=>{f.current&&f.current.switchCamera()},label:"Switch"},{action:()=>{f.current&&f.current.toggleTorch()},label:"Torch"}];function T(){var E,A;if(f.current){const P=f.current.takePhoto();c(P);const O=(E=g==null?void 0:g.current)==null?void 0:E.getContext("2d");O&&(g!=null&&g.current)&&(O.drawImage(v==null?void 0:v.current,0,0,g.current.width,g.current.height),(A=g==null?void 0:g.current)==null||A.toBlob(w=>{if(w){const N=new File([w],"photo.jpg",{type:"image/jpeg"});e(N)}},"image/jpeg"))}}return o?Ie.jsxs(Ie.Fragment,{children:[Ie.jsx("div",{className:"absolute top-10 w-full flex justify-between",children:Ie.jsx("button",{className:"w-16 h-16 bg-white rounded-full",onClick:()=>c(null),children:"clear"})}),Ie.jsx("img",{style:{objectFit:"cover",width:"100px"},src:o}),Ie.jsx("div",{className:"absolute bottom-10",children:Ie.jsx("button",{children:"Simpan"})})]}):Ie.jsxs(Ie.Fragment,{children:[" ",Ie.jsx("button",{onClick:()=>{T()},children:"takePicture2"}),Ie.jsxs("div",{className:" top-10 left-5 z-10",children:[" captureMenu",C.map(E=>Ie.jsxs("button",{className:"w-16 h-16 bg-white rounded-full basis-1/3",disabled:E.label==="Switch"&&t<=1,onClick:E.action,children:["switch",E.label]},E.label)),Ie.jsx("button",{onClick:()=>{T()},children:"takePicture2"})]}),Ie.jsx("button",{onClick:()=>{T()},children:"takePicture2"}),Ie.jsx(rs,{children:Ie.jsx(N7,{ref:f,facingMode:"environment",numberOfCamerasCallback:E=>i(E),errorMessages:{noCameraAccessible:"No camera device accessible. Please connect your camera or try a different browser.",permissionDenied:"Permission denied. Please refresh and give camera permission.",switchCamera:"It is not possible to switch camera to different one because there is only one video device accessible.",canvas:"Canvas is not supported."},videoReadyCallback:()=>{console.log("Video feed ready.")}})}),Ie.jsxs("div",{className:" bottom-10 flex w-full justify-center",children:["BUU  ",Ie.jsx("button",{className:"w-16 h-16 bg-white rounded-full",onClick:()=>{T()},children:"takePicture"}),o&&Ie.jsx("img",{src:o,alt:"Captured",ref:v}),Ie.jsx("canvas",{ref:g,style:{display:"none"},width:"30px",height:"20px"})]}),Ie.jsx("button",{onClick:()=>{T()},children:"takePicture2"})]})};/*!
 * Dynamsoft JavaScript Library
 * @product Dynamsoft Core JS Edition
 * @website https://www.dynamsoft.com
 * @copyright Copyright 2024, Dynamsoft Corporation
 * @author Dynamsoft
 * @version 3.4.21
 * @fileoverview Dynamsoft JavaScript Library for Core
 * More info on Dynamsoft Core JS: https://www.dynamsoft.com/capture-vision/docs/web/programming/javascript/api-reference/core/core-module.html
 */var Ej,xj,Aj;typeof SuppressedError=="function"&&SuppressedError,function(e){e[e.BOPM_BLOCK=0]="BOPM_BLOCK",e[e.BOPM_UPDATE=1]="BOPM_UPDATE"}(Ej||(Ej={})),function(e){e[e.CCUT_AUTO=0]="CCUT_AUTO",e[e.CCUT_FULL_CHANNEL=1]="CCUT_FULL_CHANNEL",e[e.CCUT_Y_CHANNEL_ONLY=2]="CCUT_Y_CHANNEL_ONLY",e[e.CCUT_RGB_R_CHANNEL_ONLY=3]="CCUT_RGB_R_CHANNEL_ONLY",e[e.CCUT_RGB_G_CHANNEL_ONLY=4]="CCUT_RGB_G_CHANNEL_ONLY",e[e.CCUT_RGB_B_CHANNEL_ONLY=5]="CCUT_RGB_B_CHANNEL_ONLY"}(xj||(xj={})),function(e){e[e.IPF_BINARY=0]="IPF_BINARY",e[e.IPF_BINARYINVERTED=1]="IPF_BINARYINVERTED",e[e.IPF_GRAYSCALED=2]="IPF_GRAYSCALED",e[e.IPF_NV21=3]="IPF_NV21",e[e.IPF_RGB_565=4]="IPF_RGB_565",e[e.IPF_RGB_555=5]="IPF_RGB_555",e[e.IPF_RGB_888=6]="IPF_RGB_888",e[e.IPF_ARGB_8888=7]="IPF_ARGB_8888",e[e.IPF_RGB_161616=8]="IPF_RGB_161616",e[e.IPF_ARGB_16161616=9]="IPF_ARGB_16161616",e[e.IPF_ABGR_8888=10]="IPF_ABGR_8888",e[e.IPF_ABGR_16161616=11]="IPF_ABGR_16161616",e[e.IPF_BGR_888=12]="IPF_BGR_888",e[e.IPF_BINARY_8=13]="IPF_BINARY_8",e[e.IPF_NV12=14]="IPF_NV12",e[e.IPF_BINARY_8_INVERTED=15]="IPF_BINARY_8_INVERTED"}(Aj||(Aj={}));const _b=typeof self>"u",Pj=(()=>{if(!_b&&document.currentScript){let e=document.currentScript.src,t=e.indexOf("?");if(t!=-1)e=e.substring(0,t);else{let i=e.indexOf("#");i!=-1&&(e=e.substring(0,i))}return e.substring(0,e.lastIndexOf("/")+1)}return"./"})(),M7=e=>{if(e==null&&(e="./"),!_b){let t=document.createElement("a");t.href=e,e=t.href}return e.endsWith("/")||(e+="/"),e},tPe=(e,t)=>{const i={};for(let o in t){const c=o;let f=e[c];f&&typeof f!="string"&&f.path&&(f=f.path),e.rootDirectory&&!e.rootDirectory.endsWith("/")&&(e.rootDirectory=e.rootDirectory+"/"),f===void 0?e.rootDirectory?f=`${e.rootDirectory}${rPe[c]}@${t[c].version}/dist/`:(f=t[c].path,f||(f=t[c])):f.startsWith("@engineRootDirectory/")&&(f=f.replace("@engineRootDirectory/",e.rootDirectory)),i[c]=M7(f)}return i},rPe={std:"dynamsoft-capture-vision-std",dip:"dynamsoft-image-processing",core:"dynamsoft-core",dnn:"dynamsoft-capture-vision-dnn",license:"dynamsoft-license",utility:"dynamsoft-utility",cvr:"dynamsoft-capture-vision-router",dbr:"dynamsoft-barcode-reader",dlr:"dynamsoft-label-recognizer",ddn:"dynamsoft-document-normalizer",dcp:"dynamsoft-code-parser",dcpd:"dynamsoft-code-parser",dlrData:"dynamsoft-label-recognizer-data",dce:"dynamsoft-camera-enhancer"},kj=e=>e&&typeof e=="object"&&typeof e.then=="function";let cR=class extends Promise{get status(){return this._s}get isPending(){return this._s==="pending"}get isFulfilled(){return this._s==="fulfilled"}get isRejected(){return this._s==="rejected"}get task(){return this._task}set task(t){let i;this._task=t,kj(t)?i=t:typeof t=="function"&&(i=new Promise(t)),i&&(async()=>{try{const o=await i;t===this._task&&this.resolve(o)}catch(o){t===this._task&&this.reject(o)}})()}get isEmpty(){return this._task==null}constructor(t){let i,o;super((c,f)=>{i=c,o=f}),this._s="pending",this.resolve=c=>{this.isPending&&(kj(c)?this.task=c:(this._s="fulfilled",i(c)))},this.reject=c=>{this.isPending&&(this._s="rejected",o(c))},this.task=t}},Xg,wu,Ny,yb,_o;typeof navigator<"u"&&(Xg=navigator,wu=Xg.userAgent,Ny=Xg.platform,yb=Xg.mediaDevices),function(){if(!_b){const e={Edge:{search:"Edg",verSearch:"Edg"},OPR:null,Chrome:null,Safari:{str:Xg.vendor,search:"Apple",verSearch:["Version","iPhone OS","CPU OS"]},Firefox:null,Explorer:{search:"MSIE",verSearch:"MSIE"}},t={HarmonyOS:null,Android:null,iPhone:null,iPad:null,Windows:{str:Ny,search:"Win"},Mac:{str:Ny},Linux:{str:Ny}};let i="unknownBrowser",o=0,c="unknownOS";for(let f in e){const g=e[f]||{};let v=g.str||wu,C=g.search||f,T=g.verStr||wu,E=g.verSearch||f;if(E instanceof Array||(E=[E]),v.indexOf(C)!=-1){i=f;for(let A of E){let P=T.indexOf(A);if(P!=-1){o=parseFloat(T.substring(P+A.length+1));break}}break}}for(let f in t){const g=t[f]||{};let v=g.str||wu,C=g.search||f;if(v.indexOf(C)!=-1){c=f;break}}c=="Linux"&&wu.indexOf("Windows NT")!=-1&&(c="HarmonyOS"),_o={browser:i,version:o,OS:c}}_b&&(_o={browser:"ssr",version:0,OS:"ssr"})}();const nPe=typeof WebAssembly<"u"&&wu&&!(/Safari/.test(wu)&&!/Chrome/.test(wu)&&/\(.+\s11_2_([2-6]).*\)/.test(wu)),iPe=!(typeof Worker>"u"),L7=!(!yb||!yb.getUserMedia),oPe=async()=>{let e=!1;if(L7)try{(await yb.getUserMedia({video:!0})).getTracks().forEach(t=>{t.stop()}),e=!0}catch{}return e};_o.browser==="Chrome"&&_o.version>66||_o.browser==="Safari"&&_o.version>13||_o.browser==="OPR"&&_o.version>43||_o.browser==="Edge"&&_o.version;const el={},Dj=async e=>{let t=typeof e=="string"?[e]:e,i=[];for(let o of t)i.push(el[o]=el[o]||new cR);await Promise.all(i)},aPe=async(e,t)=>{let i,o=typeof e=="string"?[e]:e,c=[];for(let f of o){let g;c.push(g=el[f]=el[f]||new cR(i=i||t())),g.isEmpty&&(g.task=i=i||t())}await Promise.all(c)};let zs,W7=0;const Rj=()=>W7++,zl={};let Om;const sPe=e=>{Om=e,zs&&zs.postMessage({type:"setBLog",body:{value:!!e}})};let lR=!1;const uPe=e=>{lR=e,zs&&zs.postMessage({type:"setBDebug",body:{value:!!e}})},um={},cPe={},lPe={std:{version:"1.4.10",path:M7(Pj+"../../dynamsoft-capture-vision-std@1.4.10/dist/")},core:{version:"3.4.21",path:Pj}},lA={dip:{wasm:!0}},ZP={},dPe=async e=>{let t;e instanceof Array||(e=e?[e]:[]);let i=el.core;t=!i||i.isEmpty;let o=new Map;const c=v=>{if((v=v.toLowerCase())=="std"||v=="core")return;if(!lA[v])throw Error("The '"+v+"' module cannot be found.");let C=lA[v].deps;if(C!=null&&C.length)for(let E of C)c(E);let T=el[v];o.has(v)||o.set(v,!T||T.isEmpty)};for(let v of e)c(v);let f=[];t&&f.push("core"),f.push(...o.keys());const g=[...o.entries()].filter(v=>!v[1]).map(v=>v[0]);await aPe(f,async()=>{const v=[...o.entries()].filter(O=>O[1]).map(O=>O[0]);await Dj(g);const C=tPe(ZP,lPe),T={};for(let O of v)T[O]=lA[O];const E={engineResourcePaths:C,autoResources:T,names:v};let A=new cR;if(t){E.needLoadCore=!0;let O=C.core+ts._workerName;O.startsWith(location.origin)||(O=await fetch(O).then(w=>w.blob()).then(w=>URL.createObjectURL(w))),zs=new Worker(O),zs.onerror=w=>{let N=new Error(w.message);A.reject(N)},zs.addEventListener("message",w=>{let N=w.data?w.data:w,M=N.type,k=N.id,R=N.body;switch(M){case"log":Om&&Om(N.message);break;case"task":try{zl[k](R),delete zl[k]}catch(L){throw delete zl[k],L}break;case"event":try{zl[k](R)}catch(L){throw L}break;default:console.log(w)}}),E.bLog=!!Om,E.bd=lR,E.dm=location.origin.startsWith("http")?location.origin:"https://localhost"}else await Dj("core");let P=W7++;zl[P]=O=>{if(O.success)Object.assign(um,O.versions),JSON.stringify(O.versions)!=="{}"&&(ts._versions=O.versions),A.resolve(void 0);else{const w=Error(O.message);O.stack&&(w.stack=O.stack),A.reject(w)}},zs.postMessage({type:"loadWasm",body:E,id:P}),await A})};class ts{static get engineResourcePaths(){return ZP}static set engineResourcePaths(t){Object.assign(ZP,t)}static get bSupportDce4Module(){return this._bSupportDce4Module}static get bSupportIRTModule(){return this._bSupportIRTModule}static get versions(){return this._versions}static get _onLog(){return Om}static set _onLog(t){sPe(t)}static get _bDebug(){return lR}static set _bDebug(t){uPe(t)}static isModuleLoaded(t){return t=(t=t||"core").toLowerCase(),!!el[t]&&el[t].isFulfilled}static async loadWasm(t){return await dPe(t)}static async detectEnvironment(){return await(async()=>({wasm:nPe,worker:iPe,getUserMedia:L7,camera:await oPe(),browser:_o.browser,version:_o.version,OS:_o.OS}))()}static async getModuleVersion(){return await new Promise((t,i)=>{let o=Rj();zl[o]=async c=>{if(c.success)return t(c.versions);{let f=new Error(c.message);return f.stack=c.stack+`
`+f.stack,i(f)}},zs.postMessage({type:"getModuleVersion",id:o})})}static getVersion(){const t=um.core&&um.core.worker,i=um.core&&um.core.wasm;return`3.4.21(Worker: ${t||"Not Loaded"}, Wasm: ${i||"Not Loaded"})`}static enableLogging(){ts._onLog=console.log}static disableLogging(){ts._onLog=null}static async cfd(t){return await new Promise((i,o)=>{let c=Rj();zl[c]=async f=>{if(f.success)return i();{let g=new Error(f.message);return g.stack=f.stack+`
`+g.stack,o(g)}},zs.postMessage({type:"cfd",id:c,body:{count:t}})})}}var Fj,Oj,Nj,Mj,Lj,Wj,Bj,Uj;ts._bSupportDce4Module=-1,ts._bSupportIRTModule=-1,ts._versions=null,ts._workerName="core.worker.js",ts.browserInfo=_o,function(e){e[e.CRIT_ORIGINAL_IMAGE=1]="CRIT_ORIGINAL_IMAGE",e[e.CRIT_BARCODE=2]="CRIT_BARCODE",e[e.CRIT_TEXT_LINE=4]="CRIT_TEXT_LINE",e[e.CRIT_DETECTED_QUAD=8]="CRIT_DETECTED_QUAD",e[e.CRIT_NORMALIZED_IMAGE=16]="CRIT_NORMALIZED_IMAGE",e[e.CRIT_PARSED_RESULT=32]="CRIT_PARSED_RESULT"}(Fj||(Fj={})),function(e){e[e.CT_NORMAL_INTERSECTED=0]="CT_NORMAL_INTERSECTED",e[e.CT_T_INTERSECTED=1]="CT_T_INTERSECTED",e[e.CT_CROSS_INTERSECTED=2]="CT_CROSS_INTERSECTED",e[e.CT_NOT_INTERSECTED=3]="CT_NOT_INTERSECTED"}(Oj||(Oj={})),function(e){e[e.EC_OK=0]="EC_OK",e[e.EC_UNKNOWN=-1e4]="EC_UNKNOWN",e[e.EC_NO_MEMORY=-10001]="EC_NO_MEMORY",e[e.EC_NULL_POINTER=-10002]="EC_NULL_POINTER",e[e.EC_LICENSE_INVALID=-10003]="EC_LICENSE_INVALID",e[e.EC_LICENSE_EXPIRED=-10004]="EC_LICENSE_EXPIRED",e[e.EC_FILE_NOT_FOUND=-10005]="EC_FILE_NOT_FOUND",e[e.EC_FILE_TYPE_NOT_SUPPORTED=-10006]="EC_FILE_TYPE_NOT_SUPPORTED",e[e.EC_BPP_NOT_SUPPORTED=-10007]="EC_BPP_NOT_SUPPORTED",e[e.EC_INDEX_INVALID=-10008]="EC_INDEX_INVALID",e[e.EC_CUSTOM_REGION_INVALID=-10010]="EC_CUSTOM_REGION_INVALID",e[e.EC_IMAGE_READ_FAILED=-10012]="EC_IMAGE_READ_FAILED",e[e.EC_TIFF_READ_FAILED=-10013]="EC_TIFF_READ_FAILED",e[e.EC_DIB_BUFFER_INVALID=-10018]="EC_DIB_BUFFER_INVALID",e[e.EC_PDF_READ_FAILED=-10021]="EC_PDF_READ_FAILED",e[e.EC_PDF_DLL_MISSING=-10022]="EC_PDF_DLL_MISSING",e[e.EC_PAGE_NUMBER_INVALID=-10023]="EC_PAGE_NUMBER_INVALID",e[e.EC_CUSTOM_SIZE_INVALID=-10024]="EC_CUSTOM_SIZE_INVALID",e[e.EC_TIMEOUT=-10026]="EC_TIMEOUT",e[e.EC_JSON_PARSE_FAILED=-10030]="EC_JSON_PARSE_FAILED",e[e.EC_JSON_TYPE_INVALID=-10031]="EC_JSON_TYPE_INVALID",e[e.EC_JSON_KEY_INVALID=-10032]="EC_JSON_KEY_INVALID",e[e.EC_JSON_VALUE_INVALID=-10033]="EC_JSON_VALUE_INVALID",e[e.EC_JSON_NAME_KEY_MISSING=-10034]="EC_JSON_NAME_KEY_MISSING",e[e.EC_JSON_NAME_VALUE_DUPLICATED=-10035]="EC_JSON_NAME_VALUE_DUPLICATED",e[e.EC_TEMPLATE_NAME_INVALID=-10036]="EC_TEMPLATE_NAME_INVALID",e[e.EC_JSON_NAME_REFERENCE_INVALID=-10037]="EC_JSON_NAME_REFERENCE_INVALID",e[e.EC_PARAMETER_VALUE_INVALID=-10038]="EC_PARAMETER_VALUE_INVALID",e[e.EC_DOMAIN_NOT_MATCH=-10039]="EC_DOMAIN_NOT_MATCH",e[e.EC_RESERVED_INFO_NOT_MATCH=-10040]="EC_RESERVED_INFO_NOT_MATCH",e[e.EC_LICENSE_KEY_NOT_MATCH=-10043]="EC_LICENSE_KEY_NOT_MATCH",e[e.EC_REQUEST_FAILED=-10044]="EC_REQUEST_FAILED",e[e.EC_LICENSE_INIT_FAILED=-10045]="EC_LICENSE_INIT_FAILED",e[e.EC_SET_MODE_ARGUMENT_ERROR=-10051]="EC_SET_MODE_ARGUMENT_ERROR",e[e.EC_LICENSE_CONTENT_INVALID=-10052]="EC_LICENSE_CONTENT_INVALID",e[e.EC_LICENSE_KEY_INVALID=-10053]="EC_LICENSE_KEY_INVALID",e[e.EC_LICENSE_DEVICE_RUNS_OUT=-10054]="EC_LICENSE_DEVICE_RUNS_OUT",e[e.EC_GET_MODE_ARGUMENT_ERROR=-10055]="EC_GET_MODE_ARGUMENT_ERROR",e[e.EC_IRT_LICENSE_INVALID=-10056]="EC_IRT_LICENSE_INVALID",e[e.EC_FILE_SAVE_FAILED=-10058]="EC_FILE_SAVE_FAILED",e[e.EC_STAGE_TYPE_INVALID=-10059]="EC_STAGE_TYPE_INVALID",e[e.EC_IMAGE_ORIENTATION_INVALID=-10060]="EC_IMAGE_ORIENTATION_INVALID",e[e.EC_CONVERT_COMPLEX_TEMPLATE_ERROR=-10061]="EC_CONVERT_COMPLEX_TEMPLATE_ERROR",e[e.EC_CALL_REJECTED_WHEN_CAPTURING=-10062]="EC_CALL_REJECTED_WHEN_CAPTURING",e[e.EC_NO_IMAGE_SOURCE=-10063]="EC_NO_IMAGE_SOURCE",e[e.EC_READ_DIRECTORY_FAILED=-10064]="EC_READ_DIRECTORY_FAILED",e[e.EC_MODULE_NOT_FOUND=-10065]="EC_MODULE_NOT_FOUND",e[e.EC_MULTI_PAGES_NOT_SUPPORTED=-10066]="EC_MULTI_PAGES_NOT_SUPPORTED",e[e.EC_FILE_ALREADY_EXISTS=-10067]="EC_FILE_ALREADY_EXISTS",e[e.EC_CREATE_FILE_FAILED=-10068]="EC_CREATE_FILE_FAILED",e[e.EC_IMGAE_DATA_INVALID=-10069]="EC_IMGAE_DATA_INVALID",e[e.EC_IMAGE_SIZE_NOT_MATCH=-10070]="EC_IMAGE_SIZE_NOT_MATCH",e[e.EC_IMAGE_PIXEL_FORMAT_NOT_MATCH=-10071]="EC_IMAGE_PIXEL_FORMAT_NOT_MATCH",e[e.EC_SECTION_LEVEL_RESULT_IRREPLACEABLE=-10072]="EC_SECTION_LEVEL_RESULT_IRREPLACEABLE",e[e.EC_AXIS_DEFINITION_INCORRECT=-10073]="EC_AXIS_DEFINITION_INCORRECT",e[e.EC_RESULT_TYPE_MISMATCH_IRREPLACEABLE=-10074]="EC_RESULT_TYPE_MISMATCH_IRREPLACEABLE",e[e.EC_PDF_LIBRARY_LOAD_FAILED=-10075]="EC_PDF_LIBRARY_LOAD_FAILED",e[e.EC_NO_LICENSE=-2e4]="EC_NO_LICENSE",e[e.EC_HANDSHAKE_CODE_INVALID=-20001]="EC_HANDSHAKE_CODE_INVALID",e[e.EC_LICENSE_BUFFER_FAILED=-20002]="EC_LICENSE_BUFFER_FAILED",e[e.EC_LICENSE_SYNC_FAILED=-20003]="EC_LICENSE_SYNC_FAILED",e[e.EC_DEVICE_NOT_MATCH=-20004]="EC_DEVICE_NOT_MATCH",e[e.EC_BIND_DEVICE_FAILED=-20005]="EC_BIND_DEVICE_FAILED",e[e.EC_INSTANCE_COUNT_OVER_LIMIT=-20008]="EC_INSTANCE_COUNT_OVER_LIMIT",e[e.EC_LICENSE_INIT_SEQUENCE_FAILED=-20009]="EC_LICENSE_INIT_SEQUENCE_FAILED",e[e.EC_TRIAL_LICENSE=-20010]="EC_TRIAL_LICENSE",e[e.EC_FAILED_TO_REACH_DLS=-20200]="EC_FAILED_TO_REACH_DLS",e[e.EC_LICENSE_CACHE_USED=-20012]="EC_LICENSE_CACHE_USED",e[e.EC_BARCODE_FORMAT_INVALID=-30009]="EC_BARCODE_FORMAT_INVALID",e[e.EC_QR_LICENSE_INVALID=-30016]="EC_QR_LICENSE_INVALID",e[e.EC_1D_LICENSE_INVALID=-30017]="EC_1D_LICENSE_INVALID",e[e.EC_PDF417_LICENSE_INVALID=-30019]="EC_PDF417_LICENSE_INVALID",e[e.EC_DATAMATRIX_LICENSE_INVALID=-30020]="EC_DATAMATRIX_LICENSE_INVALID",e[e.EC_CUSTOM_MODULESIZE_INVALID=-30025]="EC_CUSTOM_MODULESIZE_INVALID",e[e.EC_AZTEC_LICENSE_INVALID=-30041]="EC_AZTEC_LICENSE_INVALID",e[e.EC_PATCHCODE_LICENSE_INVALID=-30046]="EC_PATCHCODE_LICENSE_INVALID",e[e.EC_POSTALCODE_LICENSE_INVALID=-30047]="EC_POSTALCODE_LICENSE_INVALID",e[e.EC_DPM_LICENSE_INVALID=-30048]="EC_DPM_LICENSE_INVALID",e[e.EC_FRAME_DECODING_THREAD_EXISTS=-30049]="EC_FRAME_DECODING_THREAD_EXISTS",e[e.EC_STOP_DECODING_THREAD_FAILED=-30050]="EC_STOP_DECODING_THREAD_FAILED",e[e.EC_MAXICODE_LICENSE_INVALID=-30057]="EC_MAXICODE_LICENSE_INVALID",e[e.EC_GS1_DATABAR_LICENSE_INVALID=-30058]="EC_GS1_DATABAR_LICENSE_INVALID",e[e.EC_GS1_COMPOSITE_LICENSE_INVALID=-30059]="EC_GS1_COMPOSITE_LICENSE_INVALID",e[e.EC_DOTCODE_LICENSE_INVALID=-30061]="EC_DOTCODE_LICENSE_INVALID",e[e.EC_PHARMACODE_LICENSE_INVALID=-30062]="EC_PHARMACODE_LICENSE_INVALID",e[e.EC_CHARACTER_MODEL_FILE_NOT_FOUND=-40100]="EC_CHARACTER_MODEL_FILE_NOT_FOUND",e[e.EC_TEXT_LINE_GROUP_LAYOUT_CONFLICT=-40101]="EC_TEXT_LINE_GROUP_LAYOUT_CONFLICT",e[e.EC_TEXT_LINE_GROUP_REGEX_CONFLICT=-40102]="EC_TEXT_LINE_GROUP_REGEX_CONFLICT",e[e.EC_QUADRILATERAL_INVALID=-50057]="EC_QUADRILATERAL_INVALID",e[e.EC_PANORAMA_LICENSE_INVALID=-70060]="EC_PANORAMA_LICENSE_INVALID",e[e.EC_RESOURCE_PATH_NOT_EXIST=-90001]="EC_RESOURCE_PATH_NOT_EXIST",e[e.EC_RESOURCE_LOAD_FAILED=-90002]="EC_RESOURCE_LOAD_FAILED",e[e.EC_CODE_SPECIFICATION_NOT_FOUND=-90003]="EC_CODE_SPECIFICATION_NOT_FOUND",e[e.EC_FULL_CODE_EMPTY=-90004]="EC_FULL_CODE_EMPTY",e[e.EC_FULL_CODE_PREPROCESS_FAILED=-90005]="EC_FULL_CODE_PREPROCESS_FAILED",e[e.EC_ZA_DL_LICENSE_INVALID=-90006]="EC_ZA_DL_LICENSE_INVALID",e[e.EC_AAMVA_DL_ID_LICENSE_INVALID=-90007]="EC_AAMVA_DL_ID_LICENSE_INVALID",e[e.EC_AADHAAR_LICENSE_INVALID=-90008]="EC_AADHAAR_LICENSE_INVALID",e[e.EC_MRTD_LICENSE_INVALID=-90009]="EC_MRTD_LICENSE_INVALID",e[e.EC_VIN_LICENSE_INVALID=-90010]="EC_VIN_LICENSE_INVALID",e[e.EC_CUSTOMIZED_CODE_TYPE_LICENSE_INVALID=-90011]="EC_CUSTOMIZED_CODE_TYPE_LICENSE_INVALID",e[e.EC_LICENSE_WARNING=-10076]="EC_LICENSE_WARNING",e[e.EC_BARCODE_READER_LICENSE_NOT_FOUND=-30063]="EC_BARCODE_READER_LICENSE_NOT_FOUND",e[e.EC_LABEL_RECOGNIZER_LICENSE_NOT_FOUND=-40103]="EC_LABEL_RECOGNIZER_LICENSE_NOT_FOUND",e[e.EC_DOCUMENT_NORMALIZER_LICENSE_NOT_FOUND=-50058]="EC_DOCUMENT_NORMALIZER_LICENSE_NOT_FOUND",e[e.EC_CODE_PARSER_LICENSE_NOT_FOUND=-90012]="EC_CODE_PARSER_LICENSE_NOT_FOUND"}(Nj||(Nj={})),function(e){e[e.GEM_SKIP=0]="GEM_SKIP",e[e.GEM_AUTO=1]="GEM_AUTO",e[e.GEM_GENERAL=2]="GEM_GENERAL",e[e.GEM_GRAY_EQUALIZE=4]="GEM_GRAY_EQUALIZE",e[e.GEM_GRAY_SMOOTH=8]="GEM_GRAY_SMOOTH",e[e.GEM_SHARPEN_SMOOTH=16]="GEM_SHARPEN_SMOOTH",e[e.GEM_REV=-2147483648]="GEM_REV"}(Mj||(Mj={})),function(e){e[e.GTM_SKIP=0]="GTM_SKIP",e[e.GTM_INVERTED=1]="GTM_INVERTED",e[e.GTM_ORIGINAL=2]="GTM_ORIGINAL",e[e.GTM_AUTO=4]="GTM_AUTO",e[e.GTM_REV=-2147483648]="GTM_REV"}(Lj||(Lj={})),function(e){e[e.ITT_FILE_IMAGE=0]="ITT_FILE_IMAGE",e[e.ITT_VIDEO_FRAME=1]="ITT_VIDEO_FRAME"}(Wj||(Wj={})),function(e){e[e.PDFRM_VECTOR=1]="PDFRM_VECTOR",e[e.PDFRM_RASTER=2]="PDFRM_RASTER",e[e.PDFRM_REV=-2147483648]="PDFRM_REV"}(Bj||(Bj={})),function(e){e[e.RDS_RASTERIZED_PAGES=0]="RDS_RASTERIZED_PAGES",e[e.RDS_EXTRACTED_IMAGES=1]="RDS_EXTRACTED_IMAGES"}(Uj||(Uj={}));BigInt(0),BigInt(1),BigInt(2),BigInt(4),BigInt(8),BigInt(16),BigInt(32),BigInt(64),BigInt(128),BigInt(256),BigInt(512),BigInt(1024),BigInt(2048),BigInt(4096),BigInt(8192),BigInt(16384),BigInt(32768),BigInt(65536),BigInt(1<<17),BigInt(1<<18),BigInt(1<<19),BigInt(1<<20),BigInt(1<<21),BigInt(1<<22),BigInt(1<<23),BigInt(1<<24),BigInt(1<<25),BigInt(1<<26),BigInt(1<<27),BigInt(1<<28),BigInt("0xFFFFFFFFFFFFFFFF");var Vj,jj;(function(e){e[e.ROET_PREDETECTED_REGION=0]="ROET_PREDETECTED_REGION",e[e.ROET_LOCALIZED_BARCODE=1]="ROET_LOCALIZED_BARCODE",e[e.ROET_DECODED_BARCODE=2]="ROET_DECODED_BARCODE",e[e.ROET_LOCALIZED_TEXT_LINE=3]="ROET_LOCALIZED_TEXT_LINE",e[e.ROET_RECOGNIZED_TEXT_LINE=4]="ROET_RECOGNIZED_TEXT_LINE",e[e.ROET_DETECTED_QUAD=5]="ROET_DETECTED_QUAD",e[e.ROET_NORMALIZED_IMAGE=6]="ROET_NORMALIZED_IMAGE",e[e.ROET_SOURCE_IMAGE=7]="ROET_SOURCE_IMAGE",e[e.ROET_TARGET_ROI=8]="ROET_TARGET_ROI"})(Vj||(Vj={})),function(e){e[e.ST_NULL=0]="ST_NULL",e[e.ST_REGION_PREDETECTION=1]="ST_REGION_PREDETECTION",e[e.ST_BARCODE_LOCALIZATION=2]="ST_BARCODE_LOCALIZATION",e[e.ST_BARCODE_DECODING=3]="ST_BARCODE_DECODING",e[e.ST_TEXT_LINE_LOCALIZATION=4]="ST_TEXT_LINE_LOCALIZATION",e[e.ST_TEXT_LINE_RECOGNITION=5]="ST_TEXT_LINE_RECOGNITION",e[e.ST_DOCUMENT_DETECTION=6]="ST_DOCUMENT_DETECTION",e[e.ST_DOCUMENT_NORMALIZATION=7]="ST_DOCUMENT_NORMALIZATION"}(jj||(jj={}));/*! 20241010102903 - 20230504
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
* Version: 18.5.1
*/var Yi=self||window||{},Y=Yi.Dynamsoft||{};(function(e){e.DWT||(e.DWT={}),e.DWT.LTS||(e.DWT.LTS={}),e.Lib||(e.Lib={}),e.Lib.UI||(e.Lib.UI={}),e.Lib.html5||(e.Lib.html5={}),Yi.Dynamsoft=e})(Y);(function(e){if(!e.WeakSet){let C=function(T){this.name="__st"+(1e9*Math.random()>>>0)+(t+++"__"),T&&T.forEach&&T.forEach(this.add,this)};var g=C;e.WeakSet=C;var t=Date.now()%1e9,i=C.prototype;i.add=function(T){var E=this.name;return T[E]||Object.defineProperty(T,E,{value:!0,writable:!0}),this},i.delete=function(T){return T[this.name]?(T[this.name]=void 0,!0):!1},i.has=function(T){return!!T[this.name]}}if(!e.WeakMap){let C=function(T){return Object(T)===T};var v=C,o=Object.prototype.hasOwnProperty,c=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),f=function(T,E,A){c?Object.defineProperty(T,E,{configurable:!0,writable:!0,value:A}):T[E]=A};e.WeakMap=function(){function T(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(f(this,"_id",A("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}f(T.prototype,"delete",function(O){if(E(this,"delete"),!C(O))return!1;var w=O[this._id];return w&&w[0]===O?(delete O[this._id],!0):!1}),f(T.prototype,"get",function(O){if(E(this,"get"),!!C(O)){var w=O[this._id];if(w&&w[0]===O)return w[1]}}),f(T.prototype,"has",function(O){if(E(this,"has"),!C(O))return!1;var w=O[this._id];return!!(w&&w[0]===O)}),f(T.prototype,"set",function(O,w){if(E(this,"set"),!C(O))throw new TypeError("Invalid value used as weak map key");var N=O[this._id];return N&&N[0]===O?(N[1]=w,this):(f(O,this._id,[O,w]),this)});function E(O,w){if(!C(O)||!o.call(O,"_id"))throw new TypeError(w+" method called on incompatible receiver "+typeof O)}function A(O){return O+"_"+P()+"."+P()}function P(){return Math.random().toString().substring(2)}return f(T,"_polyfill",!0),T}()}})(typeof Yi<"u"?Yi:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:globalThis);if(!Y.Lib.jsinited){if(Y.Lib.jsinited=1,function(e){if(typeof uk=="object")yS.exports=e();else if(typeof define=="function"&&define.amd)define(e);else{var t;try{t=window}catch{t=self}t.SparkMD5=e()}}(function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(N,M){var k=N[0],R=N[1],L=N[2],K=N[3];k+=(R&L|~R&K)+M[0]-680876936|0,k=(k<<7|k>>>25)+R|0,K+=(k&R|~k&L)+M[1]-389564586|0,K=(K<<12|K>>>20)+k|0,L+=(K&k|~K&R)+M[2]+606105819|0,L=(L<<17|L>>>15)+K|0,R+=(L&K|~L&k)+M[3]-1044525330|0,R=(R<<22|R>>>10)+L|0,k+=(R&L|~R&K)+M[4]-176418897|0,k=(k<<7|k>>>25)+R|0,K+=(k&R|~k&L)+M[5]+1200080426|0,K=(K<<12|K>>>20)+k|0,L+=(K&k|~K&R)+M[6]-1473231341|0,L=(L<<17|L>>>15)+K|0,R+=(L&K|~L&k)+M[7]-45705983|0,R=(R<<22|R>>>10)+L|0,k+=(R&L|~R&K)+M[8]+1770035416|0,k=(k<<7|k>>>25)+R|0,K+=(k&R|~k&L)+M[9]-1958414417|0,K=(K<<12|K>>>20)+k|0,L+=(K&k|~K&R)+M[10]-42063|0,L=(L<<17|L>>>15)+K|0,R+=(L&K|~L&k)+M[11]-1990404162|0,R=(R<<22|R>>>10)+L|0,k+=(R&L|~R&K)+M[12]+1804603682|0,k=(k<<7|k>>>25)+R|0,K+=(k&R|~k&L)+M[13]-40341101|0,K=(K<<12|K>>>20)+k|0,L+=(K&k|~K&R)+M[14]-1502002290|0,L=(L<<17|L>>>15)+K|0,R+=(L&K|~L&k)+M[15]+1236535329|0,R=(R<<22|R>>>10)+L|0,k+=(R&K|L&~K)+M[1]-165796510|0,k=(k<<5|k>>>27)+R|0,K+=(k&L|R&~L)+M[6]-1069501632|0,K=(K<<9|K>>>23)+k|0,L+=(K&R|k&~R)+M[11]+643717713|0,L=(L<<14|L>>>18)+K|0,R+=(L&k|K&~k)+M[0]-373897302|0,R=(R<<20|R>>>12)+L|0,k+=(R&K|L&~K)+M[5]-701558691|0,k=(k<<5|k>>>27)+R|0,K+=(k&L|R&~L)+M[10]+38016083|0,K=(K<<9|K>>>23)+k|0,L+=(K&R|k&~R)+M[15]-660478335|0,L=(L<<14|L>>>18)+K|0,R+=(L&k|K&~k)+M[4]-405537848|0,R=(R<<20|R>>>12)+L|0,k+=(R&K|L&~K)+M[9]+568446438|0,k=(k<<5|k>>>27)+R|0,K+=(k&L|R&~L)+M[14]-1019803690|0,K=(K<<9|K>>>23)+k|0,L+=(K&R|k&~R)+M[3]-187363961|0,L=(L<<14|L>>>18)+K|0,R+=(L&k|K&~k)+M[8]+1163531501|0,R=(R<<20|R>>>12)+L|0,k+=(R&K|L&~K)+M[13]-1444681467|0,k=(k<<5|k>>>27)+R|0,K+=(k&L|R&~L)+M[2]-51403784|0,K=(K<<9|K>>>23)+k|0,L+=(K&R|k&~R)+M[7]+1735328473|0,L=(L<<14|L>>>18)+K|0,R+=(L&k|K&~k)+M[12]-1926607734|0,R=(R<<20|R>>>12)+L|0,k+=(R^L^K)+M[5]-378558|0,k=(k<<4|k>>>28)+R|0,K+=(k^R^L)+M[8]-2022574463|0,K=(K<<11|K>>>21)+k|0,L+=(K^k^R)+M[11]+1839030562|0,L=(L<<16|L>>>16)+K|0,R+=(L^K^k)+M[14]-35309556|0,R=(R<<23|R>>>9)+L|0,k+=(R^L^K)+M[1]-1530992060|0,k=(k<<4|k>>>28)+R|0,K+=(k^R^L)+M[4]+1272893353|0,K=(K<<11|K>>>21)+k|0,L+=(K^k^R)+M[7]-155497632|0,L=(L<<16|L>>>16)+K|0,R+=(L^K^k)+M[10]-1094730640|0,R=(R<<23|R>>>9)+L|0,k+=(R^L^K)+M[13]+681279174|0,k=(k<<4|k>>>28)+R|0,K+=(k^R^L)+M[0]-358537222|0,K=(K<<11|K>>>21)+k|0,L+=(K^k^R)+M[3]-722521979|0,L=(L<<16|L>>>16)+K|0,R+=(L^K^k)+M[6]+76029189|0,R=(R<<23|R>>>9)+L|0,k+=(R^L^K)+M[9]-640364487|0,k=(k<<4|k>>>28)+R|0,K+=(k^R^L)+M[12]-421815835|0,K=(K<<11|K>>>21)+k|0,L+=(K^k^R)+M[15]+530742520|0,L=(L<<16|L>>>16)+K|0,R+=(L^K^k)+M[2]-995338651|0,R=(R<<23|R>>>9)+L|0,k+=(L^(R|~K))+M[0]-198630844|0,k=(k<<6|k>>>26)+R|0,K+=(R^(k|~L))+M[7]+1126891415|0,K=(K<<10|K>>>22)+k|0,L+=(k^(K|~R))+M[14]-1416354905|0,L=(L<<15|L>>>17)+K|0,R+=(K^(L|~k))+M[5]-57434055|0,R=(R<<21|R>>>11)+L|0,k+=(L^(R|~K))+M[12]+1700485571|0,k=(k<<6|k>>>26)+R|0,K+=(R^(k|~L))+M[3]-1894986606|0,K=(K<<10|K>>>22)+k|0,L+=(k^(K|~R))+M[10]-1051523|0,L=(L<<15|L>>>17)+K|0,R+=(K^(L|~k))+M[1]-2054922799|0,R=(R<<21|R>>>11)+L|0,k+=(L^(R|~K))+M[8]+1873313359|0,k=(k<<6|k>>>26)+R|0,K+=(R^(k|~L))+M[15]-30611744|0,K=(K<<10|K>>>22)+k|0,L+=(k^(K|~R))+M[6]-1560198380|0,L=(L<<15|L>>>17)+K|0,R+=(K^(L|~k))+M[13]+1309151649|0,R=(R<<21|R>>>11)+L|0,k+=(L^(R|~K))+M[4]-145523070|0,k=(k<<6|k>>>26)+R|0,K+=(R^(k|~L))+M[11]-1120210379|0,K=(K<<10|K>>>22)+k|0,L+=(k^(K|~R))+M[2]+718787259|0,L=(L<<15|L>>>17)+K|0,R+=(K^(L|~k))+M[9]-343485551|0,R=(R<<21|R>>>11)+L|0,N[0]=k+N[0]|0,N[1]=R+N[1]|0,N[2]=L+N[2]|0,N[3]=K+N[3]|0}function o(N){var M=[],k;for(k=0;k<64;k+=4)M[k>>2]=N.charCodeAt(k)+(N.charCodeAt(k+1)<<8)+(N.charCodeAt(k+2)<<16)+(N.charCodeAt(k+3)<<24);return M}function c(N){var M=[],k;for(k=0;k<64;k+=4)M[k>>2]=N[k]+(N[k+1]<<8)+(N[k+2]<<16)+(N[k+3]<<24);return M}function f(N){var M=N.length,k=[1732584193,-271733879,-1732584194,271733878],R,L,K,de,ee,Q;for(R=64;R<=M;R+=64)i(k,o(N.substring(R-64,R)));for(N=N.substring(R-64),L=N.length,K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=0;R<L;R+=1)K[R>>2]|=N.charCodeAt(R)<<(R%4<<3);if(K[R>>2]|=128<<(R%4<<3),R>55)for(i(k,K),R=0;R<16;R+=1)K[R]=0;return de=M*8,de=de.toString(16).match(/(.*?)(.{0,8})$/),ee=parseInt(de[2],16),Q=parseInt(de[1],16)||0,K[14]=ee,K[15]=Q,i(k,K),k}function g(N){var M=N.length,k=[1732584193,-271733879,-1732584194,271733878],R,L,K,de,ee,Q;for(R=64;R<=M;R+=64)i(k,c(N.subarray(R-64,R)));for(N=R-64<M?N.subarray(R-64):new Uint8Array(0),L=N.length,K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=0;R<L;R+=1)K[R>>2]|=N[R]<<(R%4<<3);if(K[R>>2]|=128<<(R%4<<3),R>55)for(i(k,K),R=0;R<16;R+=1)K[R]=0;return de=M*8,de=de.toString(16).match(/(.*?)(.{0,8})$/),ee=parseInt(de[2],16),Q=parseInt(de[1],16)||0,K[14]=ee,K[15]=Q,i(k,K),k}function v(N){var M="",k;for(k=0;k<4;k+=1)M+=t[N>>k*8+4&15]+t[N>>k*8&15];return M}function C(N){var M;for(M=0;M<N.length;M+=1)N[M]=v(N[M]);return N.join("")}C(f("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function N(M,k){return M=M|0||0,M<0?Math.max(M+k,0):Math.min(M,k)}ArrayBuffer.prototype.slice=function(M,k){var R=this.byteLength,L=N(M,R),K=R,de,ee,Q,ce;return k!==e&&(K=N(k,R)),L>K?new ArrayBuffer(0):(de=K-L,ee=new ArrayBuffer(de),Q=new Uint8Array(ee),ce=new Uint8Array(this,L,de),Q.set(ce),ee)}}();function T(N){return/[\u0080-\uFFFF]/.test(N)&&(N=unescape(encodeURIComponent(N))),N}function E(N,M){var k=N.length,R=new ArrayBuffer(k),L=new Uint8Array(R),K;for(K=0;K<k;K+=1)L[K]=N.charCodeAt(K);return M?L:R}function A(N){return String.fromCharCode.apply(null,new Uint8Array(N))}function P(N,M,k){var R=new Uint8Array(N.byteLength+M.byteLength);return R.set(new Uint8Array(N)),R.set(new Uint8Array(M),N.byteLength),k?R:R.buffer}function O(N){var M=[],k=N.length,R;for(R=0;R<k-1;R+=2)M.push(parseInt(N.substr(R,2),16));return String.fromCharCode.apply(String,M)}function w(){this.reset()}return w.prototype.append=function(N){return this.appendBinary(T(N)),this},w.prototype.appendBinary=function(N){this._buff+=N,this._length+=N.length;var M=this._buff.length,k;for(k=64;k<=M;k+=64)i(this._hash,o(this._buff.substring(k-64,k)));return this._buff=this._buff.substring(k-64),this},w.prototype.end=function(N){var M=this._buff,k=M.length,R,L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],K;for(R=0;R<k;R+=1)L[R>>2]|=M.charCodeAt(R)<<(R%4<<3);return this._finish(L,k),K=C(this._hash),N&&(K=O(K)),this.reset(),K},w.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},w.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},w.prototype.setState=function(N){return this._buff=N.buff,this._length=N.length,this._hash=N.hash,this},w.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},w.prototype._finish=function(N,M){var k=M,R,L,K;if(N[k>>2]|=128<<(k%4<<3),k>55)for(i(this._hash,N),k=0;k<16;k+=1)N[k]=0;R=this._length*8,R=R.toString(16).match(/(.*?)(.{0,8})$/),L=parseInt(R[2],16),K=parseInt(R[1],16)||0,N[14]=L,N[15]=K,i(this._hash,N)},w.hash=function(N,M){return w.hashBinary(T(N),M)},w.hashBinary=function(N,M){var k=f(N),R=C(k);return M?O(R):R},w.ArrayBuffer=function(){this.reset()},w.ArrayBuffer.prototype.append=function(N){var M=P(this._buff.buffer,N,!0),k=M.length,R;for(this._length+=N.byteLength,R=64;R<=k;R+=64)i(this._hash,c(M.subarray(R-64,R)));return this._buff=R-64<k?new Uint8Array(M.buffer.slice(R-64)):new Uint8Array(0),this},w.ArrayBuffer.prototype.end=function(N){var M=this._buff,k=M.length,R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L,K;for(L=0;L<k;L+=1)R[L>>2]|=M[L]<<(L%4<<3);return this._finish(R,k),K=C(this._hash),N&&(K=O(K)),this.reset(),K},w.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},w.ArrayBuffer.prototype.getState=function(){var N=w.prototype.getState.call(this);return N.buff=A(N.buff),N},w.ArrayBuffer.prototype.setState=function(N){return N.buff=E(N.buff,!0),w.prototype.setState.call(this,N)},w.ArrayBuffer.prototype.destroy=w.prototype.destroy,w.ArrayBuffer.prototype._finish=w.prototype._finish,w.ArrayBuffer.hash=function(N,M){var k=g(new Uint8Array(N)),R=C(k);return M?O(R):R},w}),window&&!window.Promise){/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(e){if(typeof uk=="object"&&typeof yS<"u")yS.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"&&(t=self),t.Promise=e()}})(function(){return function e(t,i,o){function c(v,C){if(!i[v]){if(!t[v]){var T=typeof _dereq_=="function"&&_dereq_;if(!C&&T)return T(v,!0);if(f)return f(v,!0);var E=new Error("Cannot find module '"+v+"'");throw E.code="MODULE_NOT_FOUND",E}var A=i[v]={exports:{}};t[v][0].call(A.exports,function(P){var O=t[v][1][P];return c(O||P)},A,A.exports,e,t,i,o)}return i[v].exports}for(var f=typeof _dereq_=="function"&&_dereq_,g=0;g<o.length;g++)c(o[g]);return c}({1:[function(e,t,i){t.exports=function(o){function c(g){var v=new f(g),C=v.promise();return v.setHowMany(1),v.setUnwrap(),v.init(),C}var f=o._SomePromiseArray;o.any=function(g){return c(g)},o.prototype.any=function(){return c(this)}}},{}],2:[function(e,t,i){function o(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new A(16),this._normalQueue=new A(16),this._haveDrainedQueues=!1;var P=this;this.drainQueues=function(){P._drainQueues()},this._schedule=E}function c(P,O,w){this._lateQueue.push(P,O,w),this._queueTick()}function f(P,O,w){this._normalQueue.push(P,O,w),this._queueTick()}function g(P){this._normalQueue._pushOne(P),this._queueTick()}function v(P){for(;P.length()>0;)C(P)}function C(P){var O=P.shift();if(typeof O!="function")O._settlePromises();else{var w=P.shift(),N=P.shift();O.call(w,N)}}var T;try{throw new Error}catch(P){T=P}var E=e("./schedule"),A=e("./queue");o.prototype.setScheduler=function(P){var O=this._schedule;return this._schedule=P,this._customScheduler=!0,O},o.prototype.hasCustomScheduler=function(){return this._customScheduler},o.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},o.prototype.fatalError=function(P,O){O?(process.stderr.write("Fatal "+(P instanceof Error?P.stack:P)+`
`),process.exit(2)):this.throwLater(P)},o.prototype.throwLater=function(P,O){if(arguments.length===1&&(O=P,P=function(){throw O}),typeof setTimeout<"u")setTimeout(function(){P(O)},0);else try{this._schedule(function(){P(O)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},o.prototype.invokeLater=c,o.prototype.invoke=f,o.prototype.settlePromises=g,o.prototype._drainQueues=function(){v(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,v(this._lateQueue)},o.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},o.prototype._reset=function(){this._isTickUsed=!1},t.exports=o,t.exports.firstLineError=T},{"./queue":26,"./schedule":29}],3:[function(e,t,i){t.exports=function(o,c,f,g){var v=!1,C=function(P,O){this._reject(O)},T=function(P,O){O.promiseRejectionQueued=!0,O.bindingPromise._then(C,C,null,this,P)},E=function(P,O){!(50397184&this._bitField)&&this._resolveCallback(O.target)},A=function(P,O){O.promiseRejectionQueued||this._reject(P)};o.prototype.bind=function(P){v||(v=!0,o.prototype._propagateFrom=g.propagateFromFunction(),o.prototype._boundValue=g.boundValueFunction());var O=f(P),w=new o(c);w._propagateFrom(this,1);var N=this._target();if(w._setBoundTo(O),O instanceof o){var M={promiseRejectionQueued:!1,promise:w,target:N,bindingPromise:O};N._then(c,T,void 0,w,M),O._then(E,A,void 0,w,M),w._setOnCancel(O)}else w._resolveCallback(N);return w},o.prototype._setBoundTo=function(P){P!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=P):this._bitField=-2097153&this._bitField},o.prototype._isBound=function(){return(2097152&this._bitField)===2097152},o.bind=function(P,O){return o.resolve(O).bind(P)}}},{}],4:[function(e,t,i){function o(){try{Promise===f&&(Promise=c)}catch{}return f}var c;typeof Promise<"u"&&(c=Promise);var f=e("./promise")();f.noConflict=o,t.exports=f},{"./promise":22}],5:[function(e,t,i){var o=Object.create;if(o){var c=o(null),f=o(null);c[" size"]=f[" size"]=0}t.exports=function(g){function v(w,N){var M;if(w!=null&&(M=w[N]),typeof M!="function"){var k="Object "+P.classString(w)+" has no method '"+P.toString(N)+"'";throw new g.TypeError(k)}return M}function C(w){var N=this.pop(),M=v(w,N);return M.apply(w,this)}function T(w){return w[this]}function E(w){var N=+this;return 0>N&&(N=Math.max(0,N+w.length)),w[N]}var A,P=e("./util"),O=P.canEvaluate;P.isIdentifier,g.prototype.call=function(w){var N=[].slice.call(arguments,1);return N.push(w),this._then(C,void 0,void 0,N,void 0)},g.prototype.get=function(w){var N,M=typeof w=="number";if(M)N=E;else if(O){var k=A(w);N=k!==null?k:T}else N=T;return this._then(N,void 0,void 0,w,void 0)}}},{"./util":36}],6:[function(e,t,i){t.exports=function(o,c,f,g){var v=e("./util"),C=v.tryCatch,T=v.errorObj,E=o._async;o.prototype.break=o.prototype.cancel=function(){if(!g.cancellation())return this._warn("cancellation is disabled");for(var A=this,P=A;A._isCancellable();){if(!A._cancelBy(P)){P._isFollowing()?P._followee().cancel():P._cancelBranched();break}var O=A._cancellationParent;if(O==null||!O._isCancellable()){A._isFollowing()?A._followee().cancel():A._cancelBranched();break}A._isFollowing()&&A._followee().cancel(),A._setWillBeCancelled(),P=A,A=O}},o.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},o.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},o.prototype._cancelBy=function(A){return A===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},o.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},o.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),E.invoke(this._cancelPromises,this,void 0))},o.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},o.prototype._unsetOnCancel=function(){this._onCancelField=void 0},o.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},o.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},o.prototype._doInvokeOnCancel=function(A,P){if(v.isArray(A))for(var O=0;O<A.length;++O)this._doInvokeOnCancel(A[O],P);else if(A!==void 0)if(typeof A=="function"){if(!P){var w=C(A).call(this._boundValue());w===T&&(this._attachExtraTrace(w.e),E.throwLater(w.e))}}else A._resultCancelled(this)},o.prototype._invokeOnCancel=function(){var A=this._onCancel();this._unsetOnCancel(),E.invoke(this._doInvokeOnCancel,this,A)},o.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},o.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,i){t.exports=function(o){function c(T,E,A){return function(P){var O=A._boundValue();e:for(var w=0;w<T.length;++w){var N=T[w];if(N===Error||N!=null&&N.prototype instanceof Error){if(P instanceof N)return v(E).call(O,P)}else if(typeof N=="function"){var M=v(N).call(O,P);if(M===C)return M;if(M)return v(E).call(O,P)}else if(f.isObject(P)){for(var k=g(N),R=0;R<k.length;++R){var L=k[R];if(N[L]!=P[L])continue e}return v(E).call(O,P)}}return o}}var f=e("./util"),g=e("./es5").keys,v=f.tryCatch,C=f.errorObj;return c}},{"./es5":13,"./util":36}],8:[function(e,t,i){t.exports=function(o){function c(){this._trace=new c.CapturedTrace(g())}function f(){return v?new c:void 0}function g(){var T=C.length-1;return T>=0?C[T]:void 0}var v=!1,C=[];return o.prototype._promiseCreated=function(){},o.prototype._pushContext=function(){},o.prototype._popContext=function(){return null},o._peekContext=o.prototype._peekContext=function(){},c.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,C.push(this._trace))},c.prototype._popContext=function(){if(this._trace!==void 0){var T=C.pop(),E=T._promiseCreated;return T._promiseCreated=null,E}return null},c.CapturedTrace=null,c.create=f,c.deactivateLongStackTraces=function(){},c.activateLongStackTraces=function(){var T=o.prototype._pushContext,E=o.prototype._popContext,A=o._peekContext,P=o.prototype._peekContext,O=o.prototype._promiseCreated;c.deactivateLongStackTraces=function(){o.prototype._pushContext=T,o.prototype._popContext=E,o._peekContext=A,o.prototype._peekContext=P,o.prototype._promiseCreated=O,v=!1},v=!0,o.prototype._pushContext=c.prototype._pushContext,o.prototype._popContext=c.prototype._popContext,o._peekContext=o.prototype._peekContext=g,o.prototype._promiseCreated=function(){var w=this._peekContext();w&&w._promiseCreated==null&&(w._promiseCreated=this)}},c}},{}],9:[function(e,t,i){t.exports=function(o,c,f,g){function v(ke,We){return{promise:We}}function C(){return!1}function T(ke,We,it){var ot=this;try{ke(We,it,function(St){if(typeof St!="function")throw new TypeError("onCancel must be a function, got: "+me.toString(St));ot._attachCancellationCallback(St)})}catch(St){return St}}function E(ke){if(!this._isCancellable())return this;var We=this._onCancel();We!==void 0?me.isArray(We)?We.push(ke):this._setOnCancel([We,ke]):this._setOnCancel(ke)}function A(){return this._onCancelField}function P(ke){this._onCancelField=ke}function O(){this._cancellationParent=void 0,this._onCancelField=void 0}function w(ke,We){if(1&We){this._cancellationParent=ke;var it=ke._branchesRemainingToCancel;it===void 0&&(it=0),ke._branchesRemainingToCancel=it+1}2&We&&ke._isBound()&&this._setBoundTo(ke._boundTo)}function N(ke,We){2&We&&ke._isBound()&&this._setBoundTo(ke._boundTo)}function M(){var ke=this._boundTo;return ke!==void 0&&ke instanceof o?ke.isFulfilled()?ke.value():void 0:ke}function k(){this._trace=new Ae(this._peekContext())}function R(ke,We){if(et(ke)){var it=this._trace;if(it!==void 0&&We&&(it=it._parent),it!==void 0)it.attachExtraTrace(ke);else if(!ke.__stackCleaned__){var ot=ye(ke);me.notEnumerableProp(ke,"stack",ot.message+`
`+ot.stack.join(`
`)),me.notEnumerableProp(ke,"__stackCleaned__",!0)}}}function L(){this._trace=void 0}function K(ke,We,it,ot,St){if(ke===void 0&&We!==null&&Xr){if(St!==void 0&&St._returnedNonUndefined()||!(65535&ot._bitField))return;it&&(it+=" ");var Dt="",Ht="";if(We._trace){for(var br=We._trace.stack.split(`
`),Or=le(br),Qr=Or.length-1;Qr>=0;--Qr){var no=Or[Qr];if(!mt.test(no)){var ai=no.match(vt);ai&&(Dt="at "+ai[1]+":"+ai[2]+":"+ai[3]+" ");break}}if(Or.length>0){for(var il=Or[0],Qr=0;Qr<br.length;++Qr)if(br[Qr]===il){Qr>0&&(Ht=`
`+br[Qr-1]);break}}}var Oi="a promise was created in a "+it+"handler "+Dt+"but was not returned from it, see http://goo.gl/rRqMUw"+Ht;ot._warn(Oi,!0,We)}}function de(ke,We){var it=ke+" is deprecated and will be removed in a future version.";return We&&(it+=" Use "+We+" instead."),ee(it)}function ee(ke,We,it){if(kr.warnings){var ot,St=new oe(ke);if(We)it._attachExtraTrace(St);else if(kr.longStackTraces&&(ot=o._peekContext()))ot.attachExtraTrace(St);else{var Dt=ye(St);St.stack=Dt.message+`
`+Dt.stack.join(`
`)}pr("warning",St)||xe(St,"",!0)}}function Q(ke,We){for(var it=0;it<We.length-1;++it)We[it].push("From previous event:"),We[it]=We[it].join(`
`);return it<We.length&&(We[it]=We[it].join(`
`)),ke+`
`+We.join(`
`)}function ce(ke){for(var We=0;We<ke.length;++We)(ke[We].length===0||We+1<ke.length&&ke[We][0]===ke[We+1][0])&&(ke.splice(We,1),We--)}function he(ke){for(var We=ke[0],it=1;it<ke.length;++it){for(var ot=ke[it],St=We.length-1,Dt=We[St],Ht=-1,br=ot.length-1;br>=0;--br)if(ot[br]===Dt){Ht=br;break}for(var br=Ht;br>=0;--br){var Or=ot[br];if(We[St]!==Or)break;We.pop(),St--}We=ot}}function le(ke){for(var We=[],it=0;it<ke.length;++it){var ot=ke[it],St=ot==="    (No stack trace)"||Vt.test(ot),Dt=St&&Ta(ot);St&&!Dt&&(xt&&ot.charAt(0)!==" "&&(ot="    "+ot),We.push(ot))}return We}function fe(ke){for(var We=ke.stack.replace(/\s+$/g,"").split(`
`),it=0;it<We.length;++it){var ot=We[it];if(ot==="    (No stack trace)"||Vt.test(ot))break}return it>0&&ke.name!="SyntaxError"&&(We=We.slice(it)),We}function ye(ke){var We=ke.stack,it=ke.toString();return We=typeof We=="string"&&We.length>0?fe(ke):["    (No stack trace)"],{message:it,stack:ke.name=="SyntaxError"?We:le(We)}}function xe(ke,We,it){if(typeof console<"u"){var ot;if(me.isObject(ke)){var St=ke.stack;ot=We+Nt(St,ke)}else ot=We+String(ke);typeof Ge=="function"?Ge(ot,it):(typeof console.log=="function"||typeof console.log=="object")&&console.log(ot)}}function De(ke,We,it,ot){var St=!1;try{typeof We=="function"&&(St=!0,ke==="rejectionHandled"?We(ot):We(it,ot))}catch(Dt){pe.throwLater(Dt)}ke==="unhandledRejection"?pr(ke,it,ot)||St||xe(it,"Unhandled rejection "):pr(ke,ot)}function Ne(ke){var We;if(typeof ke=="function")We="[function "+(ke.name||"anonymous")+"]";else{We=ke&&typeof ke.toString=="function"?ke.toString():me.toString(ke);var it=/\[object [a-zA-Z0-9$_]+\]/;if(it.test(We))try{var ot=JSON.stringify(ke);We=ot}catch{}We.length===0&&(We="(empty array)")}return"(<"+je(We)+">, no stack trace)"}function je(ke){var We=41;return ke.length<We?ke:ke.substr(0,We-3)+"..."}function Ze(){return typeof ue=="function"}function Re(ke){var We=ke.match(gr);return We?{fileName:We[1],line:parseInt(We[2],10)}:void 0}function Me(ke,We){if(Ze()){for(var it,ot,St=(ke.stack||"").split(`
`),Dt=(We.stack||"").split(`
`),Ht=-1,br=-1,Or=0;Or<St.length;++Or){var Qr=Re(St[Or]);if(Qr){it=Qr.fileName,Ht=Qr.line;break}}for(var Or=0;Or<Dt.length;++Or){var Qr=Re(Dt[Or]);if(Qr){ot=Qr.fileName,br=Qr.line;break}}0>Ht||0>br||!it||!ot||it!==ot||Ht>=br||(Ta=function(no){if(Ke.test(no))return!0;var ai=Re(no);return!!(ai&&ai.fileName===it&&Ht<=ai.line&&ai.line<=br)})}}function Ae(ke){this._parent=ke,this._promisesCreated=0;var We=this._length=1+(ke===void 0?0:ke._length);ue(this,Ae),We>32&&this.uncycle()}var Je,He,Ge,nt,pe=o._async,oe=e("./errors").Warning,me=e("./util"),Se=e("./es5"),et=me.canAttachTrace,Ke=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,mt=/\((?:timers\.js):\d+:\d+\)/,vt=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,Vt=null,Nt=null,xt=!1,ir=!(me.env("BLUEBIRD_DEBUG")==0||!me.env("BLUEBIRD_DEBUG")&&me.env("NODE_ENV")!=="development"),jt=!(me.env("BLUEBIRD_WARNINGS")==0||!ir&&!me.env("BLUEBIRD_WARNINGS")),Ar=!(me.env("BLUEBIRD_LONG_STACK_TRACES")==0||!ir&&!me.env("BLUEBIRD_LONG_STACK_TRACES")),Xr=me.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(jt||!!me.env("BLUEBIRD_W_FORGOTTEN_RETURN"));(function(){function ke(){for(var ot=0;ot<it.length;++ot)it[ot]._notifyUnhandledRejection();We()}function We(){it.length=0}var it=[];nt=function(ot){it.push(ot),setTimeout(ke,1)},Se.defineProperty(o,"_unhandledRejectionCheck",{value:ke}),Se.defineProperty(o,"_unhandledRejectionClear",{value:We})})(),o.prototype.suppressUnhandledRejections=function(){var ke=this._target();ke._bitField=-1048577&ke._bitField|524288},o.prototype._ensurePossibleRejectionHandled=function(){!(524288&this._bitField)&&(this._setRejectionIsUnhandled(),nt(this))},o.prototype._notifyUnhandledRejectionIsHandled=function(){De("rejectionHandled",Je,void 0,this)},o.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},o.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!==0},o.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ke=this._settledValue();this._setUnhandledRejectionIsNotified(),De("unhandledRejection",He,ke,this)}},o.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},o.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},o.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},o.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},o.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},o.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},o.prototype._warn=function(ke,We,it){return ee(ke,We,it||this)},o.onPossiblyUnhandledRejection=function(ke){var We=o._getContext();He=me.contextBind(We,ke)},o.onUnhandledRejectionHandled=function(ke){var We=o._getContext();Je=me.contextBind(We,ke)};var lr=function(){};o.longStackTraces=function(){if(pe.haveItemsQueued()&&!kr.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!kr.longStackTraces&&Ze()){var ke=o.prototype._captureStackTrace,We=o.prototype._attachExtraTrace,it=o.prototype._dereferenceTrace;kr.longStackTraces=!0,lr=function(){if(pe.haveItemsQueued()&&!kr.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);o.prototype._captureStackTrace=ke,o.prototype._attachExtraTrace=We,o.prototype._dereferenceTrace=it,c.deactivateLongStackTraces(),kr.longStackTraces=!1},o.prototype._captureStackTrace=k,o.prototype._attachExtraTrace=R,o.prototype._dereferenceTrace=L,c.activateLongStackTraces()}},o.hasLongStackTraces=function(){return kr.longStackTraces&&Ze()};var Vn={unhandledrejection:{before:function(){var ke=me.global.onunhandledrejection;return me.global.onunhandledrejection=null,ke},after:function(ke){me.global.onunhandledrejection=ke}},rejectionhandled:{before:function(){var ke=me.global.onrejectionhandled;return me.global.onrejectionhandled=null,ke},after:function(ke){me.global.onrejectionhandled=ke}}},qt=function(){var ke=function(it,ot){if(!it)return!me.global.dispatchEvent(ot);var St;try{return St=it.before(),!me.global.dispatchEvent(ot)}finally{it.after(St)}};try{if(typeof CustomEvent=="function"){var We=new CustomEvent("CustomEvent");return me.global.dispatchEvent(We),function(ot,St){ot=ot.toLowerCase();var Dt={detail:St,cancelable:!0},Ht=new CustomEvent(ot,Dt);return Se.defineProperty(Ht,"promise",{value:St.promise}),Se.defineProperty(Ht,"reason",{value:St.reason}),ke(Vn[ot],Ht)}}if(typeof Event=="function"){var We=new Event("CustomEvent");return me.global.dispatchEvent(We),function(ot,St){ot=ot.toLowerCase();var Dt=new Event(ot,{cancelable:!0});return Dt.detail=St,Se.defineProperty(Dt,"promise",{value:St.promise}),Se.defineProperty(Dt,"reason",{value:St.reason}),ke(Vn[ot],Dt)}}var We=document.createEvent("CustomEvent");return We.initCustomEvent("testingtheevent",!1,!0,{}),me.global.dispatchEvent(We),function(it,ot){it=it.toLowerCase();var St=document.createEvent("CustomEvent");return St.initCustomEvent(it,!1,!0,ot),ke(Vn[it],St)}}catch{}return function(){return!1}}(),or=function(){return me.isNode?function(){return process.emit.apply(process,arguments)}:me.global?function(ke){var We="on"+ke.toLowerCase(),it=me.global[We];return it?(it.apply(me.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}(),Ct={promiseCreated:v,promiseFulfilled:v,promiseRejected:v,promiseResolved:v,promiseCancelled:v,promiseChained:function(ke,We,it){return{promise:We,child:it}},warning:function(ke,We){return{warning:We}},unhandledRejection:function(ke,We,it){return{reason:We,promise:it}},rejectionHandled:v},pr=function(ke){var We=!1;try{We=or.apply(null,arguments)}catch(ot){pe.throwLater(ot),We=!0}var it=!1;try{it=qt(ke,Ct[ke].apply(null,arguments))}catch(ot){pe.throwLater(ot),it=!0}return it||We};o.config=function(ke){if(ke=Object(ke),"longStackTraces"in ke&&(ke.longStackTraces?o.longStackTraces():!ke.longStackTraces&&o.hasLongStackTraces()&&lr()),"warnings"in ke){var We=ke.warnings;kr.warnings=!!We,Xr=kr.warnings,me.isObject(We)&&"wForgottenReturn"in We&&(Xr=!!We.wForgottenReturn)}if("cancellation"in ke&&ke.cancellation&&!kr.cancellation){if(pe.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");o.prototype._clearCancellationData=O,o.prototype._propagateFrom=w,o.prototype._onCancel=A,o.prototype._setOnCancel=P,o.prototype._attachCancellationCallback=E,o.prototype._execute=T,Zo=w,kr.cancellation=!0}if("monitoring"in ke&&(ke.monitoring&&!kr.monitoring?(kr.monitoring=!0,o.prototype._fireEvent=pr):!ke.monitoring&&kr.monitoring&&(kr.monitoring=!1,o.prototype._fireEvent=C)),"asyncHooks"in ke&&me.nodeSupportsAsyncResource){var it=kr.asyncHooks,ot=!!ke.asyncHooks;it!==ot&&(kr.asyncHooks=ot,ot?f():g())}return o},o.prototype._fireEvent=C,o.prototype._execute=function(ke,We,it){try{ke(We,it)}catch(ot){return ot}},o.prototype._onCancel=function(){},o.prototype._setOnCancel=function(ke){},o.prototype._attachCancellationCallback=function(ke){},o.prototype._captureStackTrace=function(){},o.prototype._attachExtraTrace=function(){},o.prototype._dereferenceTrace=function(){},o.prototype._clearCancellationData=function(){},o.prototype._propagateFrom=function(ke,We){};var Zo=N,Ta=function(){return!1},gr=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;me.inherits(Ae,Error),c.CapturedTrace=Ae,Ae.prototype.uncycle=function(){var ke=this._length;if(!(2>ke)){for(var We=[],it={},ot=0,St=this;St!==void 0;++ot)We.push(St),St=St._parent;ke=this._length=ot;for(var ot=ke-1;ot>=0;--ot){var Dt=We[ot].stack;it[Dt]===void 0&&(it[Dt]=ot)}for(var ot=0;ke>ot;++ot){var Ht=We[ot].stack,br=it[Ht];if(br!==void 0&&br!==ot){br>0&&(We[br-1]._parent=void 0,We[br-1]._length=1),We[ot]._parent=void 0,We[ot]._length=1;var Or=ot>0?We[ot-1]:this;ke-1>br?(Or._parent=We[br+1],Or._parent.uncycle(),Or._length=Or._parent._length+1):(Or._parent=void 0,Or._length=1);for(var Qr=Or._length+1,no=ot-2;no>=0;--no)We[no]._length=Qr,Qr++;return}}}},Ae.prototype.attachExtraTrace=function(ke){if(!ke.__stackCleaned__){this.uncycle();for(var We=ye(ke),it=We.message,ot=[We.stack],St=this;St!==void 0;)ot.push(le(St.stack.split(`
`))),St=St._parent;he(ot),ce(ot),me.notEnumerableProp(ke,"stack",Q(it,ot)),me.notEnumerableProp(ke,"__stackCleaned__",!0)}};var ue=function(){var ke=/^\s*at\s*/,We=function(Dt,Ht){return typeof Dt=="string"?Dt:Ht.name!==void 0&&Ht.message!==void 0?Ht.toString():Ne(Ht)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,Vt=ke,Nt=We;var it=Error.captureStackTrace;return Ta=function(Dt){return Ke.test(Dt)},function(Dt,Ht){Error.stackTraceLimit+=6,it(Dt,Ht),Error.stackTraceLimit-=6}}var ot=new Error;if(typeof ot.stack=="string"&&ot.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return Vt=/@/,Nt=We,xt=!0,function(Dt){Dt.stack=new Error().stack};var St;try{throw new Error}catch(Dt){St="stack"in Dt}return"stack"in ot||!St||typeof Error.stackTraceLimit!="number"?(Nt=function(Dt,Ht){return typeof Dt=="string"?Dt:typeof Ht!="object"&&typeof Ht!="function"||Ht.name===void 0||Ht.message===void 0?Ne(Ht):Ht.toString()},null):(Vt=ke,Nt=We,function(Dt){Error.stackTraceLimit+=6;try{throw new Error}catch(Ht){Dt.stack=Ht.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&typeof console.warn<"u"&&(Ge=function(ke){console.warn(ke)},me.isNode&&process.stderr.isTTY?Ge=function(ke,We){var it=We?"\x1B[33m":"\x1B[31m";console.warn(it+ke+`\x1B[0m
`)}:me.isNode||typeof new Error().stack!="string"||(Ge=function(ke,We){console.warn("%c"+ke,We?"color: darkorange":"color: red")}));var kr={warnings:jt,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return Ar&&o.longStackTraces(),{asyncHooks:function(){return kr.asyncHooks},longStackTraces:function(){return kr.longStackTraces},warnings:function(){return kr.warnings},cancellation:function(){return kr.cancellation},monitoring:function(){return kr.monitoring},propagateFromFunction:function(){return Zo},boundValueFunction:function(){return M},checkForgottenReturns:K,setBounds:Me,warn:ee,deprecated:de,CapturedTrace:Ae,fireDomEvent:qt,fireGlobalEvent:or}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,t,i){t.exports=function(o){function c(){return this.value}function f(){throw this.reason}o.prototype.return=o.prototype.thenReturn=function(g){return g instanceof o&&g.suppressUnhandledRejections(),this._then(c,void 0,void 0,{value:g},void 0)},o.prototype.throw=o.prototype.thenThrow=function(g){return this._then(f,void 0,void 0,{reason:g},void 0)},o.prototype.catchThrow=function(g){if(arguments.length<=1)return this._then(void 0,f,void 0,{reason:g},void 0);var v=arguments[1],C=function(){throw v};return this.caught(g,C)},o.prototype.catchReturn=function(g){if(arguments.length<=1)return g instanceof o&&g.suppressUnhandledRejections(),this._then(void 0,c,void 0,{value:g},void 0);var v=arguments[1];v instanceof o&&v.suppressUnhandledRejections();var C=function(){return v};return this.caught(g,C)}}},{}],11:[function(e,t,i){t.exports=function(o,c){function f(){return C(this)}function g(T,E){return v(T,E,c,c)}var v=o.reduce,C=o.all;o.prototype.each=function(T){return v(this,T,c,0)._then(f,void 0,void 0,this,void 0)},o.prototype.mapSeries=function(T){return v(this,T,c,c)},o.each=function(T,E){return v(T,E,c,0)._then(f,void 0,void 0,T,void 0)},o.mapSeries=g}},{}],12:[function(e,t,i){function o(K,de){function ee(Q){return this instanceof ee?(A(this,"message",typeof Q=="string"?Q:de),A(this,"name",K),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new ee(Q)}return E(ee,Error),ee}function c(K){return this instanceof c?(A(this,"name","OperationalError"),A(this,"message",K),this.cause=K,this.isOperational=!0,void(K instanceof Error?(A(this,"message",K.message),A(this,"stack",K.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new c(K)}var f,g,v=e("./es5"),C=v.freeze,T=e("./util"),E=T.inherits,A=T.notEnumerableProp,P=o("Warning","warning"),O=o("CancellationError","cancellation error"),w=o("TimeoutError","timeout error"),N=o("AggregateError","aggregate error");try{f=TypeError,g=RangeError}catch{f=o("TypeError","type error"),g=o("RangeError","range error")}for(var M="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),k=0;k<M.length;++k)typeof Array.prototype[M[k]]=="function"&&(N.prototype[M[k]]=Array.prototype[M[k]]);v.defineProperty(N.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),N.prototype.isOperational=!0;var R=0;N.prototype.toString=function(){var K=Array(4*R+1).join(" "),de=`
`+K+`AggregateError of:
`;R++,K=Array(4*R+1).join(" ");for(var ee=0;ee<this.length;++ee){for(var Q=this[ee]===this?"[Circular AggregateError]":this[ee]+"",ce=Q.split(`
`),he=0;he<ce.length;++he)ce[he]=K+ce[he];Q=ce.join(`
`),de+=Q+`
`}return R--,de},E(c,Error);var L=Error.__BluebirdErrorTypes__;L||(L=C({CancellationError:O,TimeoutError:w,OperationalError:c,RejectionError:c,AggregateError:N}),v.defineProperty(Error,"__BluebirdErrorTypes__",{value:L,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error,TypeError:f,RangeError:g,CancellationError:L.CancellationError,OperationalError:L.OperationalError,TimeoutError:L.TimeoutError,AggregateError:L.AggregateError,Warning:P}},{"./es5":13,"./util":36}],13:[function(e,t,i){var o=function(){return this===void 0}();if(o)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:o,propertyIsWritable:function(O,w){var N=Object.getOwnPropertyDescriptor(O,w);return!(N&&!N.writable&&!N.set)}};else{var c={}.hasOwnProperty,f={}.toString,g={}.constructor.prototype,v=function(O){var w=[];for(var N in O)c.call(O,N)&&w.push(N);return w},C=function(O,w){return{value:O[w]}},T=function(O,w,N){return O[w]=N.value,O},E=function(O){return O},A=function(O){try{return Object(O).constructor.prototype}catch{return g}},P=function(O){try{return f.call(O)==="[object Array]"}catch{return!1}};t.exports={isArray:P,keys:v,names:v,defineProperty:T,getDescriptor:C,freeze:E,getPrototypeOf:A,isES5:o,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,i){t.exports=function(o,c){var f=o.map;o.prototype.filter=function(g,v){return f(this,g,v,c)},o.filter=function(g,v,C){return f(g,v,C,c)}}},{}],15:[function(e,t,i){t.exports=function(o,c,f){function g(M,k,R){this.promise=M,this.type=k,this.handler=R,this.called=!1,this.cancelPromise=null}function v(M){this.finallyHandler=M}function C(M,k){return M.cancelPromise!=null?(arguments.length>1?M.cancelPromise._reject(k):M.cancelPromise._cancel(),M.cancelPromise=null,!0):!1}function T(){return A.call(this,this.promise._target()._settledValue())}function E(M){return C(this,M)?void 0:(w.e=M,w)}function A(M){var k=this.promise,R=this.handler;if(!this.called){this.called=!0;var L=this.isFinallyHandler()?R.call(k._boundValue()):R.call(k._boundValue(),M);if(L===f)return L;if(L!==void 0){k._setReturnedNonUndefined();var K=c(L,k);if(K instanceof o){if(this.cancelPromise!=null){if(K._isCancelled()){var de=new O("late cancellation observer");return k._attachExtraTrace(de),w.e=de,w}K.isPending()&&K._attachCancellationCallback(new v(this))}return K._then(T,E,void 0,this,void 0)}}}return k.isRejected()?(C(this),w.e=M,w):(C(this),M)}var P=e("./util"),O=o.CancellationError,w=P.errorObj,N=e("./catch_filter")(f);return g.prototype.isFinallyHandler=function(){return this.type===0},v.prototype._resultCancelled=function(){C(this.finallyHandler)},o.prototype._passThrough=function(M,k,R,L){return typeof M!="function"?this.then():this._then(R,L,void 0,new g(this,k,M),void 0)},o.prototype.lastly=o.prototype.finally=function(M){return this._passThrough(M,0,A,A)},o.prototype.tap=function(M){return this._passThrough(M,1,A)},o.prototype.tapCatch=function(M){var k=arguments.length;if(k===1)return this._passThrough(M,1,void 0,A);var R,L=new Array(k-1),K=0;for(R=0;k-1>R;++R){var de=arguments[R];if(!P.isObject(de))return o.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+P.classString(de)));L[K++]=de}L.length=K;var ee=arguments[R];return this._passThrough(N(L,ee,this),1,void 0,A)},g}},{"./catch_filter":7,"./util":36}],16:[function(e,t,i){t.exports=function(o,c,f,g,v,C){function T(k,R,L){for(var K=0;K<R.length;++K){L._pushContext();var de=N(R[K])(k);if(L._popContext(),de===w){L._pushContext();var ee=o.reject(w.e);return L._popContext(),ee}var Q=g(de,L);if(Q instanceof o)return Q}return null}function E(k,R,L,K){if(C.cancellation()){var de=new o(f),ee=this._finallyPromise=new o(f);this._promise=de.lastly(function(){return ee}),de._captureStackTrace(),de._setOnCancel(this)}else{var Q=this._promise=new o(f);Q._captureStackTrace()}this._stack=K,this._generatorFunction=k,this._receiver=R,this._generator=void 0,this._yieldHandlers=typeof L=="function"?[L].concat(M):M,this._yieldedPromise=null,this._cancellationPhase=!1}var A=e("./errors"),P=A.TypeError,O=e("./util"),w=O.errorObj,N=O.tryCatch,M=[];O.inherits(E,v),E.prototype._isResolved=function(){return this._promise===null},E.prototype._cleanup=function(){this._promise=this._generator=null,C.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},E.prototype._promiseCancelled=function(){if(!this._isResolved()){var k,R=typeof this._generator.return<"u";if(R)this._promise._pushContext(),k=N(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var L=new o.CancellationError("generator .return() sentinel");o.coroutine.returnSentinel=L,this._promise._attachExtraTrace(L),this._promise._pushContext(),k=N(this._generator.throw).call(this._generator,L),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(k)}},E.prototype._promiseFulfilled=function(k){this._yieldedPromise=null,this._promise._pushContext();var R=N(this._generator.next).call(this._generator,k);this._promise._popContext(),this._continue(R)},E.prototype._promiseRejected=function(k){this._yieldedPromise=null,this._promise._attachExtraTrace(k),this._promise._pushContext();var R=N(this._generator.throw).call(this._generator,k);this._promise._popContext(),this._continue(R)},E.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof o){var k=this._yieldedPromise;this._yieldedPromise=null,k.cancel()}},E.prototype.promise=function(){return this._promise},E.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},E.prototype._continue=function(k){var R=this._promise;if(k===w)return this._cleanup(),this._cancellationPhase?R.cancel():R._rejectCallback(k.e,!1);var L=k.value;if(k.done===!0)return this._cleanup(),this._cancellationPhase?R.cancel():R._resolveCallback(L);var K=g(L,this._promise);if(!(K instanceof o)&&(K=T(K,this._yieldHandlers,this._promise),K===null))return void this._promiseRejected(new P(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(L))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));K=K._target();var de=K._bitField;50397184&de?33554432&de?o._async.invoke(this._promiseFulfilled,this,K._value()):16777216&de?o._async.invoke(this._promiseRejected,this,K._reason()):this._promiseCancelled():(this._yieldedPromise=K,K._proxy(this,null))},o.coroutine=function(k,R){if(typeof k!="function")throw new P(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var L=Object(R).yieldHandler,K=E,de=new Error().stack;return function(){var ee=k.apply(this,arguments),Q=new K(void 0,void 0,L,de),ce=Q.promise();return Q._generator=ee,Q._promiseFulfilled(void 0),ce}},o.coroutine.addYieldHandler=function(k){if(typeof k!="function")throw new P("expecting a function but got "+O.classString(k));M.push(k)},o.spawn=function(k){if(C.deprecated("Promise.spawn()","Promise.coroutine()"),typeof k!="function")return c(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var R=new E(k,this),L=R.promise();return R._run(o.spawn),L}}},{"./errors":12,"./util":36}],17:[function(e,t,i){t.exports=function(o,c,f,g,v){var C=e("./util");C.canEvaluate,C.tryCatch,C.errorObj,o.join=function(){var T,E=arguments.length-1;if(E>0&&typeof arguments[E]=="function"){T=arguments[E];var P}var A=[].slice.call(arguments);T&&A.pop();var P=new c(A).promise();return T!==void 0?P.spread(T):P}}},{"./util":36}],18:[function(e,t,i){t.exports=function(o,c,f,g,v,C){function T(N,M,k,R){this.constructor$(N),this._promise._captureStackTrace();var L=o._getContext();if(this._callback=A.contextBind(L,M),this._preservedValues=R===v?new Array(this.length()):null,this._limit=k,this._inFlight=0,this._queue=[],w.invoke(this._asyncInit,this,void 0),A.isArray(N))for(var K=0;K<N.length;++K){var de=N[K];de instanceof o&&de.suppressUnhandledRejections()}}function E(N,M,k,R){if(typeof M!="function")return f("expecting a function but got "+A.classString(M));var L=0;if(k!==void 0){if(typeof k!="object"||k===null)return o.reject(new TypeError("options argument must be an object but it is "+A.classString(k)));if(typeof k.concurrency!="number")return o.reject(new TypeError("'concurrency' must be a number but it is "+A.classString(k.concurrency)));L=k.concurrency}return L=typeof L=="number"&&isFinite(L)&&L>=1?L:0,new T(N,M,L,R).promise()}var A=e("./util"),P=A.tryCatch,O=A.errorObj,w=o._async;A.inherits(T,c),T.prototype._asyncInit=function(){this._init$(void 0,-2)},T.prototype._init=function(){},T.prototype._promiseFulfilled=function(N,M){var k=this._values,R=this.length(),L=this._preservedValues,K=this._limit;if(0>M){if(M=-1*M-1,k[M]=N,K>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(K>=1&&this._inFlight>=K)return k[M]=N,this._queue.push(M),!1;L!==null&&(L[M]=N);var de=this._promise,ee=this._callback,Q=de._boundValue();de._pushContext();var ce=P(ee).call(Q,N,M,R),he=de._popContext();if(C.checkForgottenReturns(ce,he,L!==null?"Promise.filter":"Promise.map",de),ce===O)return this._reject(ce.e),!0;var le=g(ce,this._promise);if(le instanceof o){le=le._target();var fe=le._bitField;if(!(50397184&fe))return K>=1&&this._inFlight++,k[M]=le,le._proxy(this,-1*(M+1)),!1;if(!(33554432&fe))return 16777216&fe?(this._reject(le._reason()),!0):(this._cancel(),!0);ce=le._value()}k[M]=ce}var ye=++this._totalResolved;return ye>=R?(L!==null?this._filter(k,L):this._resolve(k),!0):!1},T.prototype._drainQueue=function(){for(var N=this._queue,M=this._limit,k=this._values;N.length>0&&this._inFlight<M;){if(this._isResolved())return;var R=N.pop();this._promiseFulfilled(k[R],R)}},T.prototype._filter=function(N,M){for(var k=M.length,R=new Array(k),L=0,K=0;k>K;++K)N[K]&&(R[L++]=M[K]);R.length=L,this._resolve(R)},T.prototype.preservedValues=function(){return this._preservedValues},o.prototype.map=function(N,M){return E(this,N,M,null)},o.map=function(N,M,k,R){return E(N,M,k,R)}}},{"./util":36}],19:[function(e,t,i){t.exports=function(o,c,f,g,v){var C=e("./util"),T=C.tryCatch;o.method=function(E){if(typeof E!="function")throw new o.TypeError("expecting a function but got "+C.classString(E));return function(){var A=new o(c);A._captureStackTrace(),A._pushContext();var P=T(E).apply(this,arguments),O=A._popContext();return v.checkForgottenReturns(P,O,"Promise.method",A),A._resolveFromSyncValue(P),A}},o.attempt=o.try=function(E){if(typeof E!="function")return g("expecting a function but got "+C.classString(E));var A=new o(c);A._captureStackTrace(),A._pushContext();var P;if(arguments.length>1){v.deprecated("calling Promise.try with more than 1 argument");var O=arguments[1],w=arguments[2];P=C.isArray(O)?T(E).apply(w,O):T(E).call(w,O)}else P=T(E)();var N=A._popContext();return v.checkForgottenReturns(P,N,"Promise.try",A),A._resolveFromSyncValue(P),A},o.prototype._resolveFromSyncValue=function(E){E===C.errorObj?this._rejectCallback(E.e,!1):this._resolveCallback(E,!0)}}},{"./util":36}],20:[function(e,t,i){function o(P){return P instanceof Error&&E.getPrototypeOf(P)===Error.prototype}function c(P){var O;if(o(P)){O=new T(P),O.name=P.name,O.message=P.message,O.stack=P.stack;for(var w=E.keys(P),N=0;N<w.length;++N){var M=w[N];A.test(M)||(O[M]=P[M])}return O}return g.markAsOriginatingFromRejection(P),P}function f(P,O){return function(w,N){if(P!==null){if(w){var M=c(v(w));P._attachExtraTrace(M),P._reject(M)}else if(O){var k=[].slice.call(arguments,1);P._fulfill(k)}else P._fulfill(N);P=null}}}var g=e("./util"),v=g.maybeWrapAsError,C=e("./errors"),T=C.OperationalError,E=e("./es5"),A=/^(?:name|message|stack|cause)$/;t.exports=f},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,i){t.exports=function(o){function c(A,P){var O=this;if(!v.isArray(A))return f.call(O,A,P);var w=T(P).apply(O._boundValue(),[null].concat(A));w===E&&C.throwLater(w.e)}function f(A,P){var O=this,w=O._boundValue(),N=A===void 0?T(P).call(w,null):T(P).call(w,null,A);N===E&&C.throwLater(N.e)}function g(A,P){var O=this;if(!A){var w=new Error(A+"");w.cause=A,A=w}var N=T(P).call(O._boundValue(),A);N===E&&C.throwLater(N.e)}var v=e("./util"),C=o._async,T=v.tryCatch,E=v.errorObj;o.prototype.asCallback=o.prototype.nodeify=function(A,P){if(typeof A=="function"){var O=f;P!==void 0&&Object(P).spread&&(O=c),this._then(O,g,void 0,this,A)}return this}}},{"./util":36}],22:[function(e,t,i){t.exports=function(){function o(){}function c(pe,oe){if(pe==null||pe.constructor!==f&&typeof Promise<"u"&&pe.constructor!==Promise)throw new le(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof oe!="function")throw new le("expecting a function but got "+O.classString(oe))}function f(pe){pe!==ye&&c(this,pe),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(pe),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function g(pe){this.promise._resolveCallback(pe)}function v(pe){this.promise._rejectCallback(pe,!1)}function C(pe){var oe=new f(ye);oe._fulfillmentHandler0=pe,oe._rejectionHandler0=pe,oe._promise0=pe,oe._receiver0=pe}var T=function(){return new le(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},E=function(){return new f.PromiseInspection(this._target())},A=function(pe){return f.reject(new le(pe))},P={},O=e("./util");O.setReflectHandler(E);var w=function(){var pe=process.domain;return pe===void 0?null:pe},N=function(){return null},M=function(){return{domain:w(),async:null}},k=O.isNode&&O.nodeSupportsAsyncResource?e("async_hooks").AsyncResource:null,R=function(){return{domain:w(),async:new k("Bluebird::Promise")}},L=O.isNode?M:N;O.notEnumerableProp(f,"_getContext",L);var K=function(){L=R,O.notEnumerableProp(f,"_getContext",R)},de=function(){L=M,O.notEnumerableProp(f,"_getContext",M)},ee=e("./es5"),Q=e("./async"),ce=new Q;ee.defineProperty(f,"_async",{value:ce});var he=e("./errors"),le=f.TypeError=he.TypeError;f.RangeError=he.RangeError;var fe=f.CancellationError=he.CancellationError;f.TimeoutError=he.TimeoutError,f.OperationalError=he.OperationalError,f.RejectionError=he.OperationalError,f.AggregateError=he.AggregateError;var ye=function(){},xe={},De={},Ne=e("./thenables")(f,ye),je=e("./promise_array")(f,ye,Ne,A,o),Ze=e("./context")(f),Re=Ze.create,Me=e("./debuggability")(f,Ze,K,de),Ae=(Me.CapturedTrace,e("./finally")(f,Ne,De)),Je=e("./catch_filter")(De),He=e("./nodeback"),Ge=O.errorObj,nt=O.tryCatch;return f.prototype.toString=function(){return"[object Promise]"},f.prototype.caught=f.prototype.catch=function(pe){var oe=arguments.length;if(oe>1){var me,Se=new Array(oe-1),et=0;for(me=0;oe-1>me;++me){var Ke=arguments[me];if(!O.isObject(Ke))return A("Catch statement predicate: expecting an object but got "+O.classString(Ke));Se[et++]=Ke}if(Se.length=et,pe=arguments[me],typeof pe!="function")throw new le("The last argument to .catch() must be a function, got "+O.toString(pe));return this.then(void 0,Je(Se,pe,this))}return this.then(void 0,pe)},f.prototype.reflect=function(){return this._then(E,E,void 0,this,void 0)},f.prototype.then=function(pe,oe){if(Me.warnings()&&arguments.length>0&&typeof pe!="function"&&typeof oe!="function"){var me=".then() only accepts functions but was passed: "+O.classString(pe);arguments.length>1&&(me+=", "+O.classString(oe)),this._warn(me)}return this._then(pe,oe,void 0,void 0,void 0)},f.prototype.done=function(pe,oe){var me=this._then(pe,oe,void 0,void 0,void 0);me._setIsFinal()},f.prototype.spread=function(pe){return typeof pe!="function"?A("expecting a function but got "+O.classString(pe)):this.all()._then(pe,void 0,void 0,xe,void 0)},f.prototype.toJSON=function(){var pe={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(pe.fulfillmentValue=this.value(),pe.isFulfilled=!0):this.isRejected()&&(pe.rejectionReason=this.reason(),pe.isRejected=!0),pe},f.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new je(this).promise()},f.prototype.error=function(pe){return this.caught(O.originatesFromRejection,pe)},f.getNewLibraryCopy=t.exports,f.is=function(pe){return pe instanceof f},f.fromNode=f.fromCallback=function(pe){var oe=new f(ye);oe._captureStackTrace();var me=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,Se=nt(pe)(He(oe,me));return Se===Ge&&oe._rejectCallback(Se.e,!0),oe._isFateSealed()||oe._setAsyncGuaranteed(),oe},f.all=function(pe){return new je(pe).promise()},f.cast=function(pe){var oe=Ne(pe);return oe instanceof f||(oe=new f(ye),oe._captureStackTrace(),oe._setFulfilled(),oe._rejectionHandler0=pe),oe},f.resolve=f.fulfilled=f.cast,f.reject=f.rejected=function(pe){var oe=new f(ye);return oe._captureStackTrace(),oe._rejectCallback(pe,!0),oe},f.setScheduler=function(pe){if(typeof pe!="function")throw new le("expecting a function but got "+O.classString(pe));return ce.setScheduler(pe)},f.prototype._then=function(pe,oe,me,Se,et){var Ke=et!==void 0,mt=Ke?et:new f(ye),vt=this._target(),Vt=vt._bitField;Ke||(mt._propagateFrom(this,3),mt._captureStackTrace(),Se===void 0&&2097152&this._bitField&&(Se=50397184&Vt?this._boundValue():vt===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,mt));var Nt=L();if(50397184&Vt){var xt,ir,jt=vt._settlePromiseCtx;33554432&Vt?(ir=vt._rejectionHandler0,xt=pe):16777216&Vt?(ir=vt._fulfillmentHandler0,xt=oe,vt._unsetRejectionIsUnhandled()):(jt=vt._settlePromiseLateCancellationObserver,ir=new fe("late cancellation observer"),vt._attachExtraTrace(ir),xt=oe),ce.invoke(jt,vt,{handler:O.contextBind(Nt,xt),promise:mt,receiver:Se,value:ir})}else vt._addCallbacks(pe,oe,mt,Se,Nt);return mt},f.prototype._length=function(){return 65535&this._bitField},f.prototype._isFateSealed=function(){return(117506048&this._bitField)!==0},f.prototype._isFollowing=function(){return(67108864&this._bitField)===67108864},f.prototype._setLength=function(pe){this._bitField=-65536&this._bitField|65535&pe},f.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},f.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},f.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},f.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},f.prototype._isFinal=function(){return(4194304&this._bitField)>0},f.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},f.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},f.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},f.prototype._setAsyncGuaranteed=function(){if(!ce.hasCustomScheduler()){var pe=this._bitField;this._bitField=pe|(536870912&pe)>>2^134217728}},f.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},f.prototype._receiverAt=function(pe){var oe=pe===0?this._receiver0:this[4*pe-4+3];return oe===P?void 0:oe===void 0&&this._isBound()?this._boundValue():oe},f.prototype._promiseAt=function(pe){return this[4*pe-4+2]},f.prototype._fulfillmentHandlerAt=function(pe){return this[4*pe-4+0]},f.prototype._rejectionHandlerAt=function(pe){return this[4*pe-4+1]},f.prototype._boundValue=function(){},f.prototype._migrateCallback0=function(pe){var oe=(pe._bitField,pe._fulfillmentHandler0),me=pe._rejectionHandler0,Se=pe._promise0,et=pe._receiverAt(0);et===void 0&&(et=P),this._addCallbacks(oe,me,Se,et,null)},f.prototype._migrateCallbackAt=function(pe,oe){var me=pe._fulfillmentHandlerAt(oe),Se=pe._rejectionHandlerAt(oe),et=pe._promiseAt(oe),Ke=pe._receiverAt(oe);Ke===void 0&&(Ke=P),this._addCallbacks(me,Se,et,Ke,null)},f.prototype._addCallbacks=function(pe,oe,me,Se,et){var Ke=this._length();if(Ke>=65531&&(Ke=0,this._setLength(0)),Ke===0)this._promise0=me,this._receiver0=Se,typeof pe=="function"&&(this._fulfillmentHandler0=O.contextBind(et,pe)),typeof oe=="function"&&(this._rejectionHandler0=O.contextBind(et,oe));else{var mt=4*Ke-4;this[mt+2]=me,this[mt+3]=Se,typeof pe=="function"&&(this[mt+0]=O.contextBind(et,pe)),typeof oe=="function"&&(this[mt+1]=O.contextBind(et,oe))}return this._setLength(Ke+1),Ke},f.prototype._proxy=function(pe,oe){this._addCallbacks(void 0,void 0,oe,pe,null)},f.prototype._resolveCallback=function(pe,oe){if(!(117506048&this._bitField)){if(pe===this)return this._rejectCallback(T(),!1);var me=Ne(pe,this);if(!(me instanceof f))return this._fulfill(pe);oe&&this._propagateFrom(me,2);var Se=me._target();if(Se===this)return void this._reject(T());var et=Se._bitField;if(50397184&et)if(33554432&et)this._fulfill(Se._value());else if(16777216&et)this._reject(Se._reason());else{var vt=new fe("late cancellation observer");Se._attachExtraTrace(vt),this._reject(vt)}else{var Ke=this._length();Ke>0&&Se._migrateCallback0(this);for(var mt=1;Ke>mt;++mt)Se._migrateCallbackAt(this,mt);this._setFollowing(),this._setLength(0),this._setFollowee(me)}}},f.prototype._rejectCallback=function(pe,oe,me){var Se=O.ensureErrorObject(pe),et=Se===pe;if(!et&&!me&&Me.warnings()){var Ke="a promise was rejected with a non-error: "+O.classString(pe);this._warn(Ke,!0)}this._attachExtraTrace(Se,oe?et:!1),this._reject(pe)},f.prototype._resolveFromExecutor=function(pe){if(pe!==ye){var oe=this;this._captureStackTrace(),this._pushContext();var me=!0,Se=this._execute(pe,function(et){oe._resolveCallback(et)},function(et){oe._rejectCallback(et,me)});me=!1,this._popContext(),Se!==void 0&&oe._rejectCallback(Se,!0)}},f.prototype._settlePromiseFromHandler=function(pe,oe,me,Se){var et=Se._bitField;if(!(65536&et)){Se._pushContext();var Ke;oe===xe?me&&typeof me.length=="number"?Ke=nt(pe).apply(this._boundValue(),me):(Ke=Ge,Ke.e=new le("cannot .spread() a non-array: "+O.classString(me))):Ke=nt(pe).call(oe,me);var mt=Se._popContext();et=Se._bitField,!(65536&et)&&(Ke===De?Se._reject(me):Ke===Ge?Se._rejectCallback(Ke.e,!1):(Me.checkForgottenReturns(Ke,mt,"",Se,this),Se._resolveCallback(Ke)))}},f.prototype._target=function(){for(var pe=this;pe._isFollowing();)pe=pe._followee();return pe},f.prototype._followee=function(){return this._rejectionHandler0},f.prototype._setFollowee=function(pe){this._rejectionHandler0=pe},f.prototype._settlePromise=function(pe,oe,me,Se){var et=pe instanceof f,Ke=this._bitField,mt=(134217728&Ke)!==0;65536&Ke?(et&&pe._invokeInternalOnCancel(),me instanceof Ae&&me.isFinallyHandler()?(me.cancelPromise=pe,nt(oe).call(me,Se)===Ge&&pe._reject(Ge.e)):oe===E?pe._fulfill(E.call(me)):me instanceof o?me._promiseCancelled(pe):et||pe instanceof je?pe._cancel():me.cancel()):typeof oe=="function"?et?(mt&&pe._setAsyncGuaranteed(),this._settlePromiseFromHandler(oe,me,Se,pe)):oe.call(me,Se,pe):me instanceof o?me._isResolved()||(33554432&Ke?me._promiseFulfilled(Se,pe):me._promiseRejected(Se,pe)):et&&(mt&&pe._setAsyncGuaranteed(),33554432&Ke?pe._fulfill(Se):pe._reject(Se))},f.prototype._settlePromiseLateCancellationObserver=function(pe){var oe=pe.handler,me=pe.promise,Se=pe.receiver,et=pe.value;typeof oe=="function"?me instanceof f?this._settlePromiseFromHandler(oe,Se,et,me):oe.call(Se,et,me):me instanceof f&&me._reject(et)},f.prototype._settlePromiseCtx=function(pe){this._settlePromise(pe.promise,pe.handler,pe.receiver,pe.value)},f.prototype._settlePromise0=function(pe,oe,me){var Se=this._promise0,et=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(Se,pe,et,oe)},f.prototype._clearCallbackDataAtIndex=function(pe){var oe=4*pe-4;this[oe+2]=this[oe+3]=this[oe+0]=this[oe+1]=void 0},f.prototype._fulfill=function(pe){var oe=this._bitField;if(!((117506048&oe)>>>16)){if(pe===this){var me=T();return this._attachExtraTrace(me),this._reject(me)}this._setFulfilled(),this._rejectionHandler0=pe,(65535&oe)>0&&(134217728&oe?this._settlePromises():ce.settlePromises(this),this._dereferenceTrace())}},f.prototype._reject=function(pe){var oe=this._bitField;if(!((117506048&oe)>>>16))return this._setRejected(),this._fulfillmentHandler0=pe,this._isFinal()?ce.fatalError(pe,O.isNode):void((65535&oe)>0?ce.settlePromises(this):this._ensurePossibleRejectionHandled())},f.prototype._fulfillPromises=function(pe,oe){for(var me=1;pe>me;me++){var Se=this._fulfillmentHandlerAt(me),et=this._promiseAt(me),Ke=this._receiverAt(me);this._clearCallbackDataAtIndex(me),this._settlePromise(et,Se,Ke,oe)}},f.prototype._rejectPromises=function(pe,oe){for(var me=1;pe>me;me++){var Se=this._rejectionHandlerAt(me),et=this._promiseAt(me),Ke=this._receiverAt(me);this._clearCallbackDataAtIndex(me),this._settlePromise(et,Se,Ke,oe)}},f.prototype._settlePromises=function(){var pe=this._bitField,oe=65535&pe;if(oe>0){if(16842752&pe){var me=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,me,pe),this._rejectPromises(oe,me)}else{var Se=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,Se,pe),this._fulfillPromises(oe,Se)}this._setLength(0)}this._clearCancellationData()},f.prototype._settledValue=function(){var pe=this._bitField;return 33554432&pe?this._rejectionHandler0:16777216&pe?this._fulfillmentHandler0:void 0},typeof Symbol<"u"&&Symbol.toStringTag&&ee.defineProperty(f.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),f.defer=f.pending=function(){Me.deprecated("Promise.defer","new Promise");var pe=new f(ye);return{promise:pe,resolve:g,reject:v}},O.notEnumerableProp(f,"_makeSelfResolutionError",T),e("./method")(f,ye,Ne,A,Me),e("./bind")(f,ye,Ne,Me),e("./cancel")(f,je,A,Me),e("./direct_resolve")(f),e("./synchronous_inspection")(f),e("./join")(f,je,Ne,ye,ce),f.Promise=f,f.version="3.7.2",e("./call_get.js")(f),e("./generators.js")(f,A,ye,Ne,o,Me),e("./map.js")(f,je,A,Ne,ye,Me),e("./nodeify.js")(f),e("./promisify.js")(f,ye),e("./props.js")(f,je,Ne,A),e("./race.js")(f,ye,Ne,A),e("./reduce.js")(f,je,A,Ne,ye,Me),e("./settle.js")(f,je,Me),e("./some.js")(f,je,A),e("./timers.js")(f,ye,Me),e("./using.js")(f,A,Ne,Re,ye,Me),e("./any.js")(f),e("./each.js")(f,ye),e("./filter.js")(f,ye),O.toFastProperties(f),O.toFastProperties(f.prototype),C({a:1}),C({b:2}),C({c:3}),C(1),C(function(){}),C(void 0),C(!1),C(new f(ye)),Me.setBounds(Q.firstLineError,O.lastLineError),f}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(e,t,i){t.exports=function(o,c,f,g,v){function C(A){switch(A){case-2:return[];case-3:return{};case-6:return new Map}}function T(A){var P=this._promise=new o(c);A instanceof o&&(P._propagateFrom(A,3),A.suppressUnhandledRejections()),P._setOnCancel(this),this._values=A,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var E=e("./util");return E.isArray,E.inherits(T,v),T.prototype.length=function(){return this._length},T.prototype.promise=function(){return this._promise},T.prototype._init=function A(P,O){var w=f(this._values,this._promise);if(w instanceof o){w=w._target();var N=w._bitField;if(this._values=w,(50397184&N)===0)return this._promise._setAsyncGuaranteed(),w._then(A,this._reject,void 0,this,O);if(!(33554432&N))return 16777216&N?this._reject(w._reason()):this._cancel();w=w._value()}if(w=E.asArray(w),w===null){var M=g("expecting an array or an iterable object but got "+E.classString(w)).reason();return void this._promise._rejectCallback(M,!1)}return w.length===0?void(O===-5?this._resolveEmptyArray():this._resolve(C(O))):void this._iterate(w)},T.prototype._iterate=function(A){var P=this.getActualLength(A.length);this._length=P,this._values=this.shouldCopyValues()?new Array(P):this._values;for(var O=this._promise,w=!1,N=null,M=0;P>M;++M){var k=f(A[M],O);k instanceof o?(k=k._target(),N=k._bitField):N=null,w?N!==null&&k.suppressUnhandledRejections():N!==null?50397184&N?w=33554432&N?this._promiseFulfilled(k._value(),M):16777216&N?this._promiseRejected(k._reason(),M):this._promiseCancelled(M):(k._proxy(this,M),this._values[M]=k):w=this._promiseFulfilled(k,M)}w||O._setAsyncGuaranteed()},T.prototype._isResolved=function(){return this._values===null},T.prototype._resolve=function(A){this._values=null,this._promise._fulfill(A)},T.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},T.prototype._reject=function(A){this._values=null,this._promise._rejectCallback(A,!1)},T.prototype._promiseFulfilled=function(A,P){this._values[P]=A;var O=++this._totalResolved;return O>=this._length?(this._resolve(this._values),!0):!1},T.prototype._promiseCancelled=function(){return this._cancel(),!0},T.prototype._promiseRejected=function(A){return this._totalResolved++,this._reject(A),!0},T.prototype._resultCancelled=function(){if(!this._isResolved()){var A=this._values;if(this._cancel(),A instanceof o)A.cancel();else for(var P=0;P<A.length;++P)A[P]instanceof o&&A[P].cancel()}},T.prototype.shouldCopyValues=function(){return!0},T.prototype.getActualLength=function(A){return A},T}},{"./util":36}],24:[function(e,t,i){t.exports=function(o,c){function f(ye){return!ce.test(ye)}function g(ye){try{return ye.__isPromisified__===!0}catch{return!1}}function v(ye,xe,De){var Ne=N.getDataPropertyOrDefault(ye,xe+De,ee);return Ne?g(Ne):!1}function C(ye,xe,De){for(var Ne=0;Ne<ye.length;Ne+=2){var je=ye[Ne];if(De.test(je)){for(var Ze=je.replace(De,""),Re=0;Re<ye.length;Re+=2)if(ye[Re]===Ze)throw new K(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",xe))}}}function T(ye,xe,De,Ne){for(var je=N.inheritedDataKeys(ye),Ze=[],Re=0;Re<je.length;++Re){var Me=je[Re],Ae=ye[Me],Je=Ne===he?!0:he(Me);typeof Ae!="function"||g(Ae)||v(ye,Me,xe)||!Ne(Me,Ae,ye,Je)||Ze.push(Me,Ae)}return C(Ze,xe,De),Ze}function E(ye,xe,De,Ne,je,Ze){function Re(){var Je=xe;xe===w&&(Je=this);var He=new o(c);He._captureStackTrace();var Ge=typeof Ae=="string"&&this!==Me?this[Ae]:ye,nt=M(He,Ze);try{Ge.apply(Je,k(arguments,nt))}catch(pe){He._rejectCallback(R(pe),!0,!0)}return He._isFateSealed()||He._setAsyncGuaranteed(),He}var Me=function(){return this}(),Ae=ye;return typeof Ae=="string"&&(ye=Ne),N.notEnumerableProp(Re,"__isPromisified__",!0),Re}function A(ye,xe,De,Ne,je){for(var Ze=new RegExp(le(xe)+"$"),Re=T(ye,xe,Ze,De),Me=0,Ae=Re.length;Ae>Me;Me+=2){var Je=Re[Me],He=Re[Me+1],Ge=Je+xe;if(Ne===fe)ye[Ge]=fe(Je,w,Je,He,xe,je);else{var nt=Ne(He,function(){return fe(Je,w,Je,He,xe,je)});N.notEnumerableProp(nt,"__isPromisified__",!0),ye[Ge]=nt}}return N.toFastProperties(ye),ye}function P(ye,xe,De){return fe(ye,xe,void 0,ye,null,De)}var O,w={},N=e("./util"),M=e("./nodeback"),k=N.withAppended,R=N.maybeWrapAsError,L=N.canEvaluate,K=e("./errors").TypeError,de="Async",ee={__isPromisified__:!0},Q=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],ce=new RegExp("^(?:"+Q.join("|")+")$"),he=function(ye){return N.isIdentifier(ye)&&ye.charAt(0)!=="_"&&ye!=="constructor"},le=function(ye){return ye.replace(new RegExp(/\$/,"g"),"\\$")},fe=L?O:E;o.promisify=function(ye,xe){if(typeof ye!="function")throw new K("expecting a function but got "+N.classString(ye));if(g(ye))return ye;xe=Object(xe);var De=xe.context===void 0?w:xe.context,Ne=!!xe.multiArgs,je=P(ye,De,Ne);return N.copyDescriptors(ye,je,f),je},o.promisifyAll=function(ye,xe){if(typeof ye!="function"&&typeof ye!="object")throw new K(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);xe=Object(xe);var De=!!xe.multiArgs,Ne=xe.suffix;typeof Ne!="string"&&(Ne=de);var je=xe.filter;typeof je!="function"&&(je=he);var Ze=xe.promisifier;if(typeof Ze!="function"&&(Ze=fe),!N.isIdentifier(Ne))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var Re=N.inheritedDataKeys(ye),Me=0;Me<Re.length;++Me){var Ae=ye[Re[Me]];Re[Me]!=="constructor"&&N.isClass(Ae)&&(A(Ae.prototype,Ne,je,Ze,De),A(Ae,Ne,je,Ze,De))}return A(ye,Ne,je,Ze,De)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,i){t.exports=function(o,c,f,g){function v(N){var M,k=!1;if(T!==void 0&&N instanceof T)M=O(N),k=!0;else{var R=P.keys(N),L=R.length;M=new Array(2*L);for(var K=0;L>K;++K){var de=R[K];M[K]=N[de],M[K+L]=de}}this.constructor$(M),this._isMap=k,this._init$(void 0,k?-6:-3)}function C(N){var M,k=f(N);return A(k)?(M=k instanceof o?k._then(o.props,void 0,void 0,void 0,void 0):new v(k).promise(),k instanceof o&&M._propagateFrom(k,2),M):g(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}var T,E=e("./util"),A=E.isObject,P=e("./es5");typeof Map=="function"&&(T=Map);var O=function(){function N(R,L){this[M]=R,this[M+k]=L,M++}var M=0,k=0;return function(R){k=R.size,M=0;var L=new Array(2*R.size);return R.forEach(N,L),L}}(),w=function(N){for(var M=new T,k=N.length/2|0,R=0;k>R;++R){var L=N[k+R],K=N[R];M.set(L,K)}return M};E.inherits(v,c),v.prototype._init=function(){},v.prototype._promiseFulfilled=function(N,M){this._values[M]=N;var k=++this._totalResolved;if(k>=this._length){var R;if(this._isMap)R=w(this._values);else{R={};for(var L=this.length(),K=0,de=this.length();de>K;++K)R[this._values[K+L]]=this._values[K]}return this._resolve(R),!0}return!1},v.prototype.shouldCopyValues=function(){return!1},v.prototype.getActualLength=function(N){return N>>1},o.prototype.props=function(){return C(this)},o.props=function(N){return C(N)}}},{"./es5":13,"./util":36}],26:[function(e,t,i){function o(f,g,v,C,T){for(var E=0;T>E;++E)v[E+C]=f[E+g],f[E+g]=void 0}function c(f){this._capacity=f,this._length=0,this._front=0}c.prototype._willBeOverCapacity=function(f){return this._capacity<f},c.prototype._pushOne=function(f){var g=this.length();this._checkCapacity(g+1);var v=this._front+g&this._capacity-1;this[v]=f,this._length=g+1},c.prototype.push=function(f,g,v){var C=this.length()+3;if(this._willBeOverCapacity(C))return this._pushOne(f),this._pushOne(g),void this._pushOne(v);var T=this._front+C-3;this._checkCapacity(C);var E=this._capacity-1;this[T+0&E]=f,this[T+1&E]=g,this[T+2&E]=v,this._length=C},c.prototype.shift=function(){var f=this._front,g=this[f];return this[f]=void 0,this._front=f+1&this._capacity-1,this._length--,g},c.prototype.length=function(){return this._length},c.prototype._checkCapacity=function(f){this._capacity<f&&this._resizeTo(this._capacity<<1)},c.prototype._resizeTo=function(f){var g=this._capacity;this._capacity=f;var v=this._front,C=this._length,T=v+C&g-1;o(this,0,this,g,T)},t.exports=c},{}],27:[function(e,t,i){t.exports=function(o,c,f,g){function v(E,A){var P=f(E);if(P instanceof o)return T(P);if(E=C.asArray(E),E===null)return g("expecting an array or an iterable object but got "+C.classString(E));var O=new o(c);A!==void 0&&O._propagateFrom(A,3);for(var w=O._fulfill,N=O._reject,M=0,k=E.length;k>M;++M){var R=E[M];(R!==void 0||M in E)&&o.cast(R)._then(w,N,void 0,O,null)}return O}var C=e("./util"),T=function(E){return E.then(function(A){return v(A,E)})};o.race=function(E){return v(E,void 0)},o.prototype.race=function(){return v(this,void 0)}}},{"./util":36}],28:[function(e,t,i){t.exports=function(o,c,f,g,v,C){function T(M,k,R,L){this.constructor$(M);var K=o._getContext();this._fn=w.contextBind(K,k),R!==void 0&&(R=o.resolve(R),R._attachCancellationCallback(this)),this._initialValue=R,this._currentCancellable=null,L===v?this._eachValues=Array(this._length):L===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function E(M,k){this.isFulfilled()?k._resolve(M):k._reject(M)}function A(M,k,R,L){if(typeof k!="function")return f("expecting a function but got "+w.classString(k));var K=new T(M,k,R,L);return K.promise()}function P(M){this.accum=M,this.array._gotAccum(M);var k=g(this.value,this.array._promise);return k instanceof o?(this.array._currentCancellable=k,k._then(O,void 0,void 0,this,void 0)):O.call(this,k)}function O(M){var k=this.array,R=k._promise,L=N(k._fn);R._pushContext();var K;K=k._eachValues!==void 0?L.call(R._boundValue(),M,this.index,this.length):L.call(R._boundValue(),this.accum,M,this.index,this.length),K instanceof o&&(k._currentCancellable=K);var de=R._popContext();return C.checkForgottenReturns(K,de,k._eachValues!==void 0?"Promise.each":"Promise.reduce",R),K}var w=e("./util"),N=w.tryCatch;w.inherits(T,c),T.prototype._gotAccum=function(M){this._eachValues!==void 0&&this._eachValues!==null&&M!==v&&this._eachValues.push(M)},T.prototype._eachComplete=function(M){return this._eachValues!==null&&this._eachValues.push(M),this._eachValues},T.prototype._init=function(){},T.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},T.prototype.shouldCopyValues=function(){return!1},T.prototype._resolve=function(M){this._promise._resolveCallback(M),this._values=null},T.prototype._resultCancelled=function(M){return M===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof o&&this._currentCancellable.cancel(),this._initialValue instanceof o&&this._initialValue.cancel()))},T.prototype._iterate=function(M){this._values=M;var k,R,L=M.length;this._initialValue!==void 0?(k=this._initialValue,R=0):(k=o.resolve(M[0]),R=1),this._currentCancellable=k;for(var K=R;L>K;++K){var de=M[K];de instanceof o&&de.suppressUnhandledRejections()}if(!k.isRejected())for(;L>R;++R){var ee={accum:null,value:M[R],index:R,length:L,array:this};k=k._then(P,void 0,void 0,ee,void 0),!(127&R)&&k._setNoAsyncGuarantee()}this._eachValues!==void 0&&(k=k._then(this._eachComplete,void 0,void 0,this,void 0)),k._then(E,E,void 0,k,this)},o.prototype.reduce=function(M,k){return A(this,M,k,null)},o.reduce=function(M,k,R,L){return A(M,k,R,L)}}},{"./util":36}],29:[function(e,t,i){var o,c=e("./util"),f=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},g=c.getNativePromise();if(c.isNode&&typeof MutationObserver>"u"){var v=global.setImmediate,C=process.nextTick;o=c.isRecentNode?function(E){v.call(global,E)}:function(E){C.call(process,E)}}else if(typeof g=="function"&&typeof g.resolve=="function"){var T=g.resolve();o=function(E){T.then(E)}}else o=typeof MutationObserver<"u"&&(typeof window>"u"||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var E=document.createElement("div"),A={attributes:!0},P=!1,O=document.createElement("div"),w=new MutationObserver(function(){E.classList.toggle("foo"),P=!1});w.observe(O,A);var N=function(){P||(P=!0,O.classList.toggle("foo"))};return function(M){var k=new MutationObserver(function(){k.disconnect(),M()});k.observe(E,A),N()}}():typeof setImmediate<"u"?function(E){setImmediate(E)}:typeof setTimeout<"u"?function(E){setTimeout(E,0)}:f;t.exports=o},{"./util":36}],30:[function(e,t,i){t.exports=function(o,c,f){function g(T){this.constructor$(T)}var v=o.PromiseInspection,C=e("./util");C.inherits(g,c),g.prototype._promiseResolved=function(T,E){this._values[T]=E;var A=++this._totalResolved;return A>=this._length?(this._resolve(this._values),!0):!1},g.prototype._promiseFulfilled=function(T,E){var A=new v;return A._bitField=33554432,A._settledValueField=T,this._promiseResolved(E,A)},g.prototype._promiseRejected=function(T,E){var A=new v;return A._bitField=16777216,A._settledValueField=T,this._promiseResolved(E,A)},o.settle=function(T){return f.deprecated(".settle()",".reflect()"),new g(T).promise()},o.allSettled=function(T){return new g(T).promise()},o.prototype.settle=function(){return o.settle(this)}}},{"./util":36}],31:[function(e,t,i){t.exports=function(o,c,f){function g(O){this.constructor$(O),this._howMany=0,this._unwrap=!1,this._initialized=!1}function v(O,w){if((0|w)!==w||0>w)return f(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var N=new g(O),M=N.promise();return N.setHowMany(w),N.init(),M}var C=e("./util"),T=e("./errors").RangeError,E=e("./errors").AggregateError,A=C.isArray,P={};C.inherits(g,c),g.prototype._init=function(){if(this._initialized){if(this._howMany===0)return void this._resolve([]);this._init$(void 0,-5);var O=A(this._values);!this._isResolved()&&O&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},g.prototype.init=function(){this._initialized=!0,this._init()},g.prototype.setUnwrap=function(){this._unwrap=!0},g.prototype.howMany=function(){return this._howMany},g.prototype.setHowMany=function(O){this._howMany=O},g.prototype._promiseFulfilled=function(O){return this._addFulfilled(O),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},g.prototype._promiseRejected=function(O){return this._addRejected(O),this._checkOutcome()},g.prototype._promiseCancelled=function(){return this._values instanceof o||this._values==null?this._cancel():(this._addRejected(P),this._checkOutcome())},g.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var O=new E,w=this.length();w<this._values.length;++w)this._values[w]!==P&&O.push(this._values[w]);return O.length>0?this._reject(O):this._cancel(),!0}return!1},g.prototype._fulfilled=function(){return this._totalResolved},g.prototype._rejected=function(){return this._values.length-this.length()},g.prototype._addRejected=function(O){this._values.push(O)},g.prototype._addFulfilled=function(O){this._values[this._totalResolved++]=O},g.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},g.prototype._getRangeError=function(O){var w="Input array must contain at least "+this._howMany+" items but contains only "+O+" items";return new T(w)},g.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},o.some=function(O,w){return v(O,w)},o.prototype.some=function(O){return v(this,O)},o._SomePromiseArray=g}},{"./errors":12,"./util":36}],32:[function(e,t,i){t.exports=function(o){function c(A){A!==void 0?(A=A._target(),this._bitField=A._bitField,this._settledValueField=A._isFateSealed()?A._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}c.prototype._settledValue=function(){return this._settledValueField};var f=c.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},g=c.prototype.error=c.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},v=c.prototype.isFulfilled=function(){return(33554432&this._bitField)!==0},C=c.prototype.isRejected=function(){return(16777216&this._bitField)!==0},T=c.prototype.isPending=function(){return(50397184&this._bitField)===0},E=c.prototype.isResolved=function(){return(50331648&this._bitField)!==0};c.prototype.isCancelled=function(){return(8454144&this._bitField)!==0},o.prototype.__isCancelled=function(){return(65536&this._bitField)===65536},o.prototype._isCancelled=function(){return this._target().__isCancelled()},o.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!==0},o.prototype.isPending=function(){return T.call(this._target())},o.prototype.isRejected=function(){return C.call(this._target())},o.prototype.isFulfilled=function(){return v.call(this._target())},o.prototype.isResolved=function(){return E.call(this._target())},o.prototype.value=function(){return f.call(this._target())},o.prototype.reason=function(){var A=this._target();return A._unsetRejectionIsUnhandled(),g.call(A)},o.prototype._value=function(){return this._settledValue()},o.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},o.PromiseInspection=c}},{}],33:[function(e,t,i){t.exports=function(o,c){function f(w,N){if(P(w)){if(w instanceof o)return w;var M=v(w);if(M===A){N&&N._pushContext();var k=o.reject(M.e);return N&&N._popContext(),k}if(typeof M=="function"){if(C(w)){var k=new o(c);return w._then(k._fulfill,k._reject,void 0,k,null),k}return T(w,M,N)}}return w}function g(w){return w.then}function v(w){try{return g(w)}catch(N){return A.e=N,A}}function C(w){try{return O.call(w,"_promise0")}catch{return!1}}function T(w,N,M){function k(Q){L&&(L._resolveCallback(Q),L=null)}function R(Q){L&&(L._rejectCallback(Q,de,!0),L=null)}var L=new o(c),K=L;M&&M._pushContext(),L._captureStackTrace(),M&&M._popContext();var de=!0,ee=E.tryCatch(N).call(w,k,R);return de=!1,L&&ee===A&&(L._rejectCallback(ee.e,!0,!0),L=null),K}var E=e("./util"),A=E.errorObj,P=E.isObject,O={}.hasOwnProperty;return f}},{"./util":36}],34:[function(e,t,i){t.exports=function(o,c,f){function g(w){this.handle=w}function v(w){return clearTimeout(this.handle),w}function C(w){throw clearTimeout(this.handle),w}var T=e("./util"),E=o.TimeoutError;g.prototype._resultCancelled=function(){clearTimeout(this.handle)};var A=function(w){return P(+this).thenReturn(w)},P=o.delay=function(w,N){var M,k;return N!==void 0?(M=o.resolve(N)._then(A,null,null,w,void 0),f.cancellation()&&N instanceof o&&M._setOnCancel(N)):(M=new o(c),k=setTimeout(function(){M._fulfill()},+w),f.cancellation()&&M._setOnCancel(new g(k)),M._captureStackTrace()),M._setAsyncGuaranteed(),M};o.prototype.delay=function(w){return P(w,this)};var O=function(w,N,M){var k;k=typeof N!="string"?N instanceof Error?N:new E("operation timed out"):new E(N),T.markAsOriginatingFromRejection(k),w._attachExtraTrace(k),w._reject(k),M!=null&&M.cancel()};o.prototype.timeout=function(w,N){w=+w;var M,k,R=new g(setTimeout(function(){M.isPending()&&O(M,N,k)},w));return f.cancellation()?(k=this.then(),M=k._then(v,C,void 0,R,void 0),M._setOnCancel(R)):M=this._then(v,C,void 0,R,void 0),M}}},{"./util":36}],35:[function(e,t,i){t.exports=function(o,c,f,g,v,C){function T(ee){setTimeout(function(){throw ee},0)}function E(ee){var Q=f(ee);return Q!==ee&&typeof ee._isDisposable=="function"&&typeof ee._getDisposer=="function"&&ee._isDisposable()&&Q._setDisposable(ee._getDisposer()),Q}function A(ee,Q){function ce(){if(he>=le)return fe._fulfill();var ye=E(ee[he++]);if(ye instanceof o&&ye._isDisposable()){try{ye=f(ye._getDisposer().tryDispose(Q),ee.promise)}catch(xe){return T(xe)}if(ye instanceof o)return ye._then(ce,T,null,null,null)}ce()}var he=0,le=ee.length,fe=new o(v);return ce(),fe}function P(ee,Q,ce){this._data=ee,this._promise=Q,this._context=ce}function O(ee,Q,ce){this.constructor$(ee,Q,ce)}function w(ee){return P.isDisposer(ee)?(this.resources[this.index]._setDisposable(ee),ee.promise()):ee}function N(ee){this.length=ee,this.promise=null,this[ee-1]=null}var M=e("./util"),k=e("./errors").TypeError,R=e("./util").inherits,L=M.errorObj,K=M.tryCatch,de={};P.prototype.data=function(){return this._data},P.prototype.promise=function(){return this._promise},P.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():de},P.prototype.tryDispose=function(ee){var Q=this.resource(),ce=this._context;ce!==void 0&&ce._pushContext();var he=Q!==de?this.doDispose(Q,ee):null;return ce!==void 0&&ce._popContext(),this._promise._unsetDisposable(),this._data=null,he},P.isDisposer=function(ee){return ee!=null&&typeof ee.resource=="function"&&typeof ee.tryDispose=="function"},R(O,P),O.prototype.doDispose=function(ee,Q){var ce=this.data();return ce.call(ee,ee,Q)},N.prototype._resultCancelled=function(){for(var ee=this.length,Q=0;ee>Q;++Q){var ce=this[Q];ce instanceof o&&ce.cancel()}},o.using=function(){var ee=arguments.length;if(2>ee)return c("you must pass at least 2 arguments to Promise.using");var Q=arguments[ee-1];if(typeof Q!="function")return c("expecting a function but got "+M.classString(Q));var ce,he=!0;ee===2&&Array.isArray(arguments[0])?(ce=arguments[0],ee=ce.length,he=!1):(ce=arguments,ee--);for(var le=new N(ee),fe=0;ee>fe;++fe){var ye=ce[fe];if(P.isDisposer(ye)){var xe=ye;ye=ye.promise(),ye._setDisposable(xe)}else{var De=f(ye);De instanceof o&&(ye=De._then(w,null,null,{resources:le,index:fe},void 0))}le[fe]=ye}for(var Ne=new Array(le.length),fe=0;fe<Ne.length;++fe)Ne[fe]=o.resolve(le[fe]).reflect();var je=o.all(Ne).then(function(Re){for(var Me=0;Me<Re.length;++Me){var Ae=Re[Me];if(Ae.isRejected())return L.e=Ae.error(),L;if(!Ae.isFulfilled())return void je.cancel();Re[Me]=Ae.value()}Ze._pushContext(),Q=K(Q);var Je=he?Q.apply(void 0,Re):Q(Re),He=Ze._popContext();return C.checkForgottenReturns(Je,He,"Promise.using",Ze),Je}),Ze=je.lastly(function(){var Re=new o.PromiseInspection(je);return A(le,Re)});return le.promise=Ze,Ze._setOnCancel(le),Ze},o.prototype._setDisposable=function(ee){this._bitField=131072|this._bitField,this._disposer=ee},o.prototype._isDisposable=function(){return(131072&this._bitField)>0},o.prototype._getDisposer=function(){return this._disposer},o.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},o.prototype.disposer=function(ee){if(typeof ee=="function")return new O(ee,this,g());throw new k}}},{"./errors":12,"./util":36}],36:[function(e,t,i){function o(){try{var oe=xe;return xe=null,oe.apply(this,arguments)}catch(me){return ye.e=me,ye}}function c(oe){return xe=oe,o}function f(oe){return oe==null||oe===!0||oe===!1||typeof oe=="string"||typeof oe=="number"}function g(oe){return typeof oe=="function"||typeof oe=="object"&&oe!==null}function v(oe){return f(oe)?new Error(M(oe)):oe}function C(oe,me){var Se,et=oe.length,Ke=new Array(et+1);for(Se=0;et>Se;++Se)Ke[Se]=oe[Se];return Ke[Se]=me,Ke}function T(oe,me,Se){if(!le.isES5)return{}.hasOwnProperty.call(oe,me)?oe[me]:void 0;var et=Object.getOwnPropertyDescriptor(oe,me);return et!=null?et.get==null&&et.set==null?et.value:Se:void 0}function E(oe,me,Se){if(f(oe))return oe;var et={value:Se,configurable:!0,enumerable:!1,writable:!0};return le.defineProperty(oe,me,et),oe}function A(oe){throw oe}function P(oe){try{if(typeof oe=="function"){var me=le.names(oe.prototype),Se=le.isES5&&me.length>1,et=me.length>0&&!(me.length===1&&me[0]==="constructor"),Ke=Ze.test(oe+"")&&le.names(oe).length>0;if(Se||et||Ke)return!0}return!1}catch{return!1}}function O(oe){function me(){}function Se(){return typeof et.foo}me.prototype=oe;var et=new me;return Se(),Se(),oe}function w(oe){return Re.test(oe)}function N(oe,me,Se){for(var et=new Array(oe),Ke=0;oe>Ke;++Ke)et[Ke]=me+Ke+Se;return et}function M(oe){try{return oe+""}catch{return"[no string representation]"}}function k(oe){return oe instanceof Error||oe!==null&&typeof oe=="object"&&typeof oe.message=="string"&&typeof oe.name=="string"}function R(oe){try{E(oe,"isOperational",!0)}catch{}}function L(oe){return oe==null?!1:oe instanceof Error.__BluebirdErrorTypes__.OperationalError||oe.isOperational===!0}function K(oe){return k(oe)&&le.propertyIsWritable(oe,"stack")}function de(oe){return{}.toString.call(oe)}function ee(oe,me,Se){for(var et=le.names(oe),Ke=0;Ke<et.length;++Ke){var mt=et[Ke];if(Se(mt))try{le.defineProperty(me,mt,le.getDescriptor(oe,mt))}catch{}}}function Q(oe){return Ge?process.env[oe]:void 0}function ce(){if(typeof Promise=="function")try{var oe=new Promise(function(){});if(de(oe)==="[object Promise]")return Promise}catch{}}function he(oe,me){if(oe===null||typeof me!="function"||me===nt)return me;oe.domain!==null&&(me=oe.domain.bind(me));var Se=oe.async;if(Se!==null){var et=me;me=function(){var Ke=new Array(2).concat([].slice.call(arguments));return Ke[0]=et,Ke[1]=this,Se.runInAsyncScope.apply(Se,Ke)}}return me}var le=e("./es5"),fe=typeof navigator>"u",ye={e:{}},xe,De=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:this!==void 0?this:null,Ne=function(oe,me){function Se(){this.constructor=oe,this.constructor$=me;for(var Ke in me.prototype)et.call(me.prototype,Ke)&&Ke.charAt(Ke.length-1)!=="$"&&(this[Ke+"$"]=me.prototype[Ke])}var et={}.hasOwnProperty;return Se.prototype=me.prototype,oe.prototype=new Se,oe.prototype},je=function(){var oe=[Array.prototype,Object.prototype,Function.prototype],me=function(Ke){for(var mt=0;mt<oe.length;++mt)if(oe[mt]===Ke)return!0;return!1};if(le.isES5){var Se=Object.getOwnPropertyNames;return function(Ke){for(var mt=[],vt=Object.create(null);Ke!=null&&!me(Ke);){var Vt;try{Vt=Se(Ke)}catch{return mt}for(var Nt=0;Nt<Vt.length;++Nt){var xt=Vt[Nt];if(!vt[xt]){vt[xt]=!0;var ir=Object.getOwnPropertyDescriptor(Ke,xt);ir!=null&&ir.get==null&&ir.set==null&&mt.push(xt)}}Ke=le.getPrototypeOf(Ke)}return mt}}var et={}.hasOwnProperty;return function(Ke){if(me(Ke))return[];var mt=[];e:for(var vt in Ke)if(et.call(Ke,vt))mt.push(vt);else{for(var Vt=0;Vt<oe.length;++Vt)if(et.call(oe[Vt],vt))continue e;mt.push(vt)}return mt}}(),Ze=/this\s*\.\s*\S+\s*=/,Re=/^[a-z$_][a-z$_0-9]*$/i,Me=function(){return"stack"in new Error?function(oe){return K(oe)?oe:new Error(M(oe))}:function(oe){if(K(oe))return oe;try{throw new Error(M(oe))}catch(me){return me}}}(),Ae=function(oe){return le.isArray(oe)?oe:null};if(typeof Symbol<"u"&&Symbol.iterator){var Je=typeof Array.from=="function"?function(oe){return Array.from(oe)}:function(oe){for(var me,Se=[],et=oe[Symbol.iterator]();!(me=et.next()).done;)Se.push(me.value);return Se};Ae=function(oe){return le.isArray(oe)?oe:oe!=null&&typeof oe[Symbol.iterator]=="function"?Je(oe):null}}var He=typeof process<"u"&&de(process).toLowerCase()==="[object process]",Ge=typeof process<"u"&&typeof process.env<"u",nt,pe={setReflectHandler:function(oe){nt=oe},isClass:P,isIdentifier:w,inheritedDataKeys:je,getDataPropertyOrDefault:T,thrower:A,isArray:le.isArray,asArray:Ae,notEnumerableProp:E,isPrimitive:f,isObject:g,isError:k,canEvaluate:fe,errorObj:ye,tryCatch:c,inherits:Ne,withAppended:C,maybeWrapAsError:v,toFastProperties:O,filledRange:N,toString:M,canAttachTrace:K,ensureErrorObject:Me,originatesFromRejection:L,markAsOriginatingFromRejection:R,classString:de,copyDescriptors:ee,isNode:He,hasEnvVariables:Ge,env:Q,global:De,getNativePromise:ce,contextBind:he};pe.isRecentNode=pe.isNode&&function(){var oe;return process.versions&&process.versions.node?oe=process.versions.node.split(".").map(Number):process.version&&(oe=process.version.split(".").map(Number)),oe[0]===0&&oe[1]>10||oe[0]>0}(),pe.nodeSupportsAsyncResource=pe.isNode&&function(){var oe=!1;try{var me=e("async_hooks").AsyncResource;oe=typeof me.prototype.runInAsyncScope=="function"}catch{oe=!1}return oe}(),pe.isNode&&pe.toFastProperties(process);try{throw new Error}catch(oe){pe.lastLineError=oe}t.exports=pe},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}(function(e){function t(r,n){(n==null||n>r.length)&&(n=r.length);for(var a=0,s=Array(n);a<n;a++)s[a]=r[a];return s}function i(r,n,a,s,u,d,l){try{var h=r[d](l),m=h.value}catch(_){return void a(_)}h.done?n(m):Promise.resolve(m).then(s,u)}function o(r){return function(){var n=this,a=arguments;return new Promise(function(s,u){var d=r.apply(n,a);function l(m){i(d,s,u,l,h,"next",m)}function h(m){i(d,s,u,l,h,"throw",m)}l(void 0)})}}function c(r,n,a){return n=A(n),function(s,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(s)}(r,O()?Reflect.construct(n,a||[],A(r).constructor):n.apply(r,a))}function f(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function g(r,n){for(var a=0;a<n.length;a++){var s=n[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,k(s.key),s)}}function v(r,n,a){return n&&g(r.prototype,n),a&&g(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}function C(r,n){var a=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!a){if(Array.isArray(r)||(a=L(r))||n&&r&&typeof r.length=="number"){a&&(r=a);var s=0,u=function(){};return{s:u,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(m){throw m},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d,l=!0,h=!1;return{s:function(){a=a.call(r)},n:function(){var m=a.next();return l=m.done,m},e:function(m){h=!0,d=m},f:function(){try{l||a.return==null||a.return()}finally{if(h)throw d}}}}function T(r,n,a){return(n=k(n))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}function E(){return E=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,n,a){var s=function(d,l){for(;!{}.hasOwnProperty.call(d,l)&&(d=A(d))!==null;);return d}(r,n);if(s){var u=Object.getOwnPropertyDescriptor(s,n);return u.get?u.get.call(arguments.length<3?r:a):u.value}},E.apply(null,arguments)}function A(r){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A(r)}function P(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&N(r,n)}function O(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!r})()}function w(){w=function(){return n};var r,n={},a=Object.prototype,s=a.hasOwnProperty,u=Object.defineProperty||function(ne,ae,be){ne[ae]=be.value},d=typeof Symbol=="function"?Symbol:{},l=d.iterator||"@@iterator",h=d.asyncIterator||"@@asyncIterator",m=d.toStringTag||"@@toStringTag";function _(ne,ae,be){return Object.defineProperty(ne,ae,{value:be,enumerable:!0,configurable:!0,writable:!0}),ne[ae]}try{_({},"")}catch{_=function(ae,be,ge){return ae[be]=ge}}function S(ne,ae,be,ge){var _e=ae&&ae.prototype instanceof $?ae:$,Le=Object.create(_e.prototype),Xe=new ie(ge||[]);return u(Le,"_invoke",{value:V(ne,be,Xe)}),Le}function y(ne,ae,be){try{return{type:"normal",arg:ne.call(ae,be)}}catch(ge){return{type:"throw",arg:ge}}}n.wrap=S;var b="suspendedStart",I="suspendedYield",x="executing",D="completed",W={};function $(){}function te(){}function q(){}var X={};_(X,l,function(){return this});var J=Object.getPrototypeOf,re=J&&J(J(se([])));re&&re!==a&&s.call(re,l)&&(X=re);var H=q.prototype=$.prototype=Object.create(X);function F(ne){["next","throw","return"].forEach(function(ae){_(ne,ae,function(be){return this._invoke(ae,be)})})}function B(ne,ae){function be(_e,Le,Xe,ze){var yt=y(ne[_e],ne,Le);if(yt.type!=="throw"){var at=yt.arg,gt=at.value;return gt&&typeof gt=="object"&&s.call(gt,"__await")?ae.resolve(gt.__await).then(function(Tt){be("next",Tt,Xe,ze)},function(Tt){be("throw",Tt,Xe,ze)}):ae.resolve(gt).then(function(Tt){at.value=Tt,Xe(at)},function(Tt){return be("throw",Tt,Xe,ze)})}ze(yt.arg)}var ge;u(this,"_invoke",{value:function(_e,Le){function Xe(){return new ae(function(ze,yt){be(_e,Le,ze,yt)})}return ge=ge?ge.then(Xe,Xe):Xe()}})}function V(ne,ae,be){var ge=b;return function(_e,Le){if(ge===x)throw Error("Generator is already running");if(ge===D){if(_e==="throw")throw Le;return{value:r,done:!0}}for(be.method=_e,be.arg=Le;;){var Xe=be.delegate;if(Xe){var ze=G(Xe,be);if(ze){if(ze===W)continue;return ze}}if(be.method==="next")be.sent=be._sent=be.arg;else if(be.method==="throw"){if(ge===b)throw ge=D,be.arg;be.dispatchException(be.arg)}else be.method==="return"&&be.abrupt("return",be.arg);ge=x;var yt=y(ne,ae,be);if(yt.type==="normal"){if(ge=be.done?D:I,yt.arg===W)continue;return{value:yt.arg,done:be.done}}yt.type==="throw"&&(ge=D,be.method="throw",be.arg=yt.arg)}}}function G(ne,ae){var be=ae.method,ge=ne.iterator[be];if(ge===r)return ae.delegate=null,be==="throw"&&ne.iterator.return&&(ae.method="return",ae.arg=r,G(ne,ae),ae.method==="throw")||be!=="return"&&(ae.method="throw",ae.arg=new TypeError("The iterator does not provide a '"+be+"' method")),W;var _e=y(ge,ne.iterator,ae.arg);if(_e.type==="throw")return ae.method="throw",ae.arg=_e.arg,ae.delegate=null,W;var Le=_e.arg;return Le?Le.done?(ae[ne.resultName]=Le.value,ae.next=ne.nextLoc,ae.method!=="return"&&(ae.method="next",ae.arg=r),ae.delegate=null,W):Le:(ae.method="throw",ae.arg=new TypeError("iterator result is not an object"),ae.delegate=null,W)}function z(ne){var ae={tryLoc:ne[0]};1 in ne&&(ae.catchLoc=ne[1]),2 in ne&&(ae.finallyLoc=ne[2],ae.afterLoc=ne[3]),this.tryEntries.push(ae)}function Z(ne){var ae=ne.completion||{};ae.type="normal",delete ae.arg,ne.completion=ae}function ie(ne){this.tryEntries=[{tryLoc:"root"}],ne.forEach(z,this),this.reset(!0)}function se(ne){if(ne||ne===""){var ae=ne[l];if(ae)return ae.call(ne);if(typeof ne.next=="function")return ne;if(!isNaN(ne.length)){var be=-1,ge=function _e(){for(;++be<ne.length;)if(s.call(ne,be))return _e.value=ne[be],_e.done=!1,_e;return _e.value=r,_e.done=!0,_e};return ge.next=ge}}throw new TypeError(typeof ne+" is not iterable")}return te.prototype=q,u(H,"constructor",{value:q,configurable:!0}),u(q,"constructor",{value:te,configurable:!0}),te.displayName=_(q,m,"GeneratorFunction"),n.isGeneratorFunction=function(ne){var ae=typeof ne=="function"&&ne.constructor;return!!ae&&(ae===te||(ae.displayName||ae.name)==="GeneratorFunction")},n.mark=function(ne){return Object.setPrototypeOf?Object.setPrototypeOf(ne,q):(ne.__proto__=q,_(ne,m,"GeneratorFunction")),ne.prototype=Object.create(H),ne},n.awrap=function(ne){return{__await:ne}},F(B.prototype),_(B.prototype,h,function(){return this}),n.AsyncIterator=B,n.async=function(ne,ae,be,ge,_e){_e===void 0&&(_e=Promise);var Le=new B(S(ne,ae,be,ge),_e);return n.isGeneratorFunction(ae)?Le:Le.next().then(function(Xe){return Xe.done?Xe.value:Le.next()})},F(H),_(H,m,"Generator"),_(H,l,function(){return this}),_(H,"toString",function(){return"[object Generator]"}),n.keys=function(ne){var ae=Object(ne),be=[];for(var ge in ae)be.push(ge);return be.reverse(),function _e(){for(;be.length;){var Le=be.pop();if(Le in ae)return _e.value=Le,_e.done=!1,_e}return _e.done=!0,_e}},n.values=se,ie.prototype={constructor:ie,reset:function(ne){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(Z),!ne)for(var ae in this)ae.charAt(0)==="t"&&s.call(this,ae)&&!isNaN(+ae.slice(1))&&(this[ae]=r)},stop:function(){this.done=!0;var ne=this.tryEntries[0].completion;if(ne.type==="throw")throw ne.arg;return this.rval},dispatchException:function(ne){if(this.done)throw ne;var ae=this;function be(yt,at){return Le.type="throw",Le.arg=ne,ae.next=yt,at&&(ae.method="next",ae.arg=r),!!at}for(var ge=this.tryEntries.length-1;ge>=0;--ge){var _e=this.tryEntries[ge],Le=_e.completion;if(_e.tryLoc==="root")return be("end");if(_e.tryLoc<=this.prev){var Xe=s.call(_e,"catchLoc"),ze=s.call(_e,"finallyLoc");if(Xe&&ze){if(this.prev<_e.catchLoc)return be(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return be(_e.finallyLoc)}else if(Xe){if(this.prev<_e.catchLoc)return be(_e.catchLoc,!0)}else{if(!ze)throw Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return be(_e.finallyLoc)}}}},abrupt:function(ne,ae){for(var be=this.tryEntries.length-1;be>=0;--be){var ge=this.tryEntries[be];if(ge.tryLoc<=this.prev&&s.call(ge,"finallyLoc")&&this.prev<ge.finallyLoc){var _e=ge;break}}_e&&(ne==="break"||ne==="continue")&&_e.tryLoc<=ae&&ae<=_e.finallyLoc&&(_e=null);var Le=_e?_e.completion:{};return Le.type=ne,Le.arg=ae,_e?(this.method="next",this.next=_e.finallyLoc,W):this.complete(Le)},complete:function(ne,ae){if(ne.type==="throw")throw ne.arg;return ne.type==="break"||ne.type==="continue"?this.next=ne.arg:ne.type==="return"?(this.rval=this.arg=ne.arg,this.method="return",this.next="end"):ne.type==="normal"&&ae&&(this.next=ae),W},finish:function(ne){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var be=this.tryEntries[ae];if(be.finallyLoc===ne)return this.complete(be.completion,be.afterLoc),Z(be),W}},catch:function(ne){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var be=this.tryEntries[ae];if(be.tryLoc===ne){var ge=be.completion;if(ge.type==="throw"){var _e=ge.arg;Z(be)}return _e}}throw Error("illegal catch attempt")},delegateYield:function(ne,ae,be){return this.delegate={iterator:se(ne),resultName:ae,nextLoc:be},this.method==="next"&&(this.arg=r),W}},n}function N(r,n){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},N(r,n)}function M(r,n){return function(a){if(Array.isArray(a))return a}(r)||function(a,s){var u=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(u!=null){var d,l,h,m,_=[],S=!0,y=!1;try{if(h=(u=u.call(a)).next,s===0){if(Object(u)!==u)return;S=!1}else for(;!(S=(d=h.call(u)).done)&&(_.push(d.value),_.length!==s);S=!0);}catch(b){y=!0,l=b}finally{try{if(!S&&u.return!=null&&(m=u.return(),Object(m)!==m))return}finally{if(y)throw l}}return _}}(r,n)||L(r,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(r){var n=function(a,s){if(typeof a!="object"||!a)return a;var u=a[Symbol.toPrimitive];if(u!==void 0){var d=u.call(a,s||"default");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}(r,"string");return typeof n=="symbol"?n:n+""}function R(r){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},R(r)}function L(r,n){if(r){if(typeof r=="string")return t(r,n);var a={}.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(r,n):void 0}}var K;function de(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function ee(r){return ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ee(r)}function Q(r){var n=function(a,s){if(ee(a)!="object"||!a)return a;var u=a[Symbol.toPrimitive];if(u!==void 0){var d=u.call(a,s||"default");if(ee(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}(r,"string");return ee(n)=="symbol"?n:n+""}function ce(r,n){for(var a=0;a<n.length;a++){var s=n[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,Q(s.key),s)}}function he(r,n,a){return n&&ce(r.prototype,n),a&&ce(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}var le=typeof Yi<"u"?Yi:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ye={exports:{}},xe={exports:{}};(function(r){function n(a){return r.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r.exports.__esModule=!0,r.exports.default=r.exports,n(a)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports})(xe);var De=xe.exports;(function(r){var n=De.default;function a(){r.exports=a=function(){return u},r.exports.__esModule=!0,r.exports.default=r.exports;var s,u={},d=Object.prototype,l=d.hasOwnProperty,h=Object.defineProperty||function(ge,_e,Le){ge[_e]=Le.value},m=typeof Symbol=="function"?Symbol:{},_=m.iterator||"@@iterator",S=m.asyncIterator||"@@asyncIterator",y=m.toStringTag||"@@toStringTag";function b(ge,_e,Le){return Object.defineProperty(ge,_e,{value:Le,enumerable:!0,configurable:!0,writable:!0}),ge[_e]}try{b({},"")}catch{b=function(_e,Le,Xe){return _e[Le]=Xe}}function I(ge,_e,Le,Xe){var ze=_e&&_e.prototype instanceof X?_e:X,yt=Object.create(ze.prototype),at=new ae(Xe||[]);return h(yt,"_invoke",{value:Z(ge,Le,at)}),yt}function x(ge,_e,Le){try{return{type:"normal",arg:ge.call(_e,Le)}}catch(Xe){return{type:"throw",arg:Xe}}}u.wrap=I;var D="suspendedStart",W="suspendedYield",$="executing",te="completed",q={};function X(){}function J(){}function re(){}var H={};b(H,_,function(){return this});var F=Object.getPrototypeOf,B=F&&F(F(be([])));B&&B!==d&&l.call(B,_)&&(H=B);var V=re.prototype=X.prototype=Object.create(H);function G(ge){["next","throw","return"].forEach(function(_e){b(ge,_e,function(Le){return this._invoke(_e,Le)})})}function z(ge,_e){function Le(ze,yt,at,gt){var Tt=x(ge[ze],ge,yt);if(Tt.type!=="throw"){var Be=Tt.arg,Oe=Be.value;return Oe&&n(Oe)=="object"&&l.call(Oe,"__await")?_e.resolve(Oe.__await).then(function(tt){Le("next",tt,at,gt)},function(tt){Le("throw",tt,at,gt)}):_e.resolve(Oe).then(function(tt){Be.value=tt,at(Be)},function(tt){return Le("throw",tt,at,gt)})}gt(Tt.arg)}var Xe;h(this,"_invoke",{value:function(ze,yt){function at(){return new _e(function(gt,Tt){Le(ze,yt,gt,Tt)})}return Xe=Xe?Xe.then(at,at):at()}})}function Z(ge,_e,Le){var Xe=D;return function(ze,yt){if(Xe===$)throw Error("Generator is already running");if(Xe===te){if(ze==="throw")throw yt;return{value:s,done:!0}}for(Le.method=ze,Le.arg=yt;;){var at=Le.delegate;if(at){var gt=ie(at,Le);if(gt){if(gt===q)continue;return gt}}if(Le.method==="next")Le.sent=Le._sent=Le.arg;else if(Le.method==="throw"){if(Xe===D)throw Xe=te,Le.arg;Le.dispatchException(Le.arg)}else Le.method==="return"&&Le.abrupt("return",Le.arg);Xe=$;var Tt=x(ge,_e,Le);if(Tt.type==="normal"){if(Xe=Le.done?te:W,Tt.arg===q)continue;return{value:Tt.arg,done:Le.done}}Tt.type==="throw"&&(Xe=te,Le.method="throw",Le.arg=Tt.arg)}}}function ie(ge,_e){var Le=_e.method,Xe=ge.iterator[Le];if(Xe===s)return _e.delegate=null,Le==="throw"&&ge.iterator.return&&(_e.method="return",_e.arg=s,ie(ge,_e),_e.method==="throw")||Le!=="return"&&(_e.method="throw",_e.arg=new TypeError("The iterator does not provide a '"+Le+"' method")),q;var ze=x(Xe,ge.iterator,_e.arg);if(ze.type==="throw")return _e.method="throw",_e.arg=ze.arg,_e.delegate=null,q;var yt=ze.arg;return yt?yt.done?(_e[ge.resultName]=yt.value,_e.next=ge.nextLoc,_e.method!=="return"&&(_e.method="next",_e.arg=s),_e.delegate=null,q):yt:(_e.method="throw",_e.arg=new TypeError("iterator result is not an object"),_e.delegate=null,q)}function se(ge){var _e={tryLoc:ge[0]};1 in ge&&(_e.catchLoc=ge[1]),2 in ge&&(_e.finallyLoc=ge[2],_e.afterLoc=ge[3]),this.tryEntries.push(_e)}function ne(ge){var _e=ge.completion||{};_e.type="normal",delete _e.arg,ge.completion=_e}function ae(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(se,this),this.reset(!0)}function be(ge){if(ge||ge===""){var _e=ge[_];if(_e)return _e.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Le=-1,Xe=function ze(){for(;++Le<ge.length;)if(l.call(ge,Le))return ze.value=ge[Le],ze.done=!1,ze;return ze.value=s,ze.done=!0,ze};return Xe.next=Xe}}throw new TypeError(n(ge)+" is not iterable")}return J.prototype=re,h(V,"constructor",{value:re,configurable:!0}),h(re,"constructor",{value:J,configurable:!0}),J.displayName=b(re,y,"GeneratorFunction"),u.isGeneratorFunction=function(ge){var _e=typeof ge=="function"&&ge.constructor;return!!_e&&(_e===J||(_e.displayName||_e.name)==="GeneratorFunction")},u.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,re):(ge.__proto__=re,b(ge,y,"GeneratorFunction")),ge.prototype=Object.create(V),ge},u.awrap=function(ge){return{__await:ge}},G(z.prototype),b(z.prototype,S,function(){return this}),u.AsyncIterator=z,u.async=function(ge,_e,Le,Xe,ze){ze===void 0&&(ze=Promise);var yt=new z(I(ge,_e,Le,Xe),ze);return u.isGeneratorFunction(_e)?yt:yt.next().then(function(at){return at.done?at.value:yt.next()})},G(V),b(V,y,"Generator"),b(V,_,function(){return this}),b(V,"toString",function(){return"[object Generator]"}),u.keys=function(ge){var _e=Object(ge),Le=[];for(var Xe in _e)Le.push(Xe);return Le.reverse(),function ze(){for(;Le.length;){var yt=Le.pop();if(yt in _e)return ze.value=yt,ze.done=!1,ze}return ze.done=!0,ze}},u.values=be,ae.prototype={constructor:ae,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(ne),!ge)for(var _e in this)_e.charAt(0)==="t"&&l.call(this,_e)&&!isNaN(+_e.slice(1))&&(this[_e]=s)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var _e=this;function Le(Tt,Be){return yt.type="throw",yt.arg=ge,_e.next=Tt,Be&&(_e.method="next",_e.arg=s),!!Be}for(var Xe=this.tryEntries.length-1;Xe>=0;--Xe){var ze=this.tryEntries[Xe],yt=ze.completion;if(ze.tryLoc==="root")return Le("end");if(ze.tryLoc<=this.prev){var at=l.call(ze,"catchLoc"),gt=l.call(ze,"finallyLoc");if(at&&gt){if(this.prev<ze.catchLoc)return Le(ze.catchLoc,!0);if(this.prev<ze.finallyLoc)return Le(ze.finallyLoc)}else if(at){if(this.prev<ze.catchLoc)return Le(ze.catchLoc,!0)}else{if(!gt)throw Error("try statement without catch or finally");if(this.prev<ze.finallyLoc)return Le(ze.finallyLoc)}}}},abrupt:function(ge,_e){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var Xe=this.tryEntries[Le];if(Xe.tryLoc<=this.prev&&l.call(Xe,"finallyLoc")&&this.prev<Xe.finallyLoc){var ze=Xe;break}}ze&&(ge==="break"||ge==="continue")&&ze.tryLoc<=_e&&_e<=ze.finallyLoc&&(ze=null);var yt=ze?ze.completion:{};return yt.type=ge,yt.arg=_e,ze?(this.method="next",this.next=ze.finallyLoc,q):this.complete(yt)},complete:function(ge,_e){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&_e&&(this.next=_e),q},finish:function(ge){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var Le=this.tryEntries[_e];if(Le.finallyLoc===ge)return this.complete(Le.completion,Le.afterLoc),ne(Le),q}},catch:function(ge){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var Le=this.tryEntries[_e];if(Le.tryLoc===ge){var Xe=Le.completion;if(Xe.type==="throw"){var ze=Xe.arg;ne(Le)}return ze}}throw Error("illegal catch attempt")},delegateYield:function(ge,_e,Le){return this.delegate={iterator:be(ge),resultName:_e,nextLoc:Le},this.method==="next"&&(this.arg=s),q}},u}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports})(ye);var Ne=(0,ye.exports)(),je=Ne;try{regeneratorRuntime=Ne}catch{(typeof Yi>"u"?"undefined":R(Yi))==="object"?Yi.regeneratorRuntime=Ne:Function("r","regeneratorRuntime = r")(Ne)}var Ze,Re,Me=fe(je);function Ae(r){var n=r?new Date(r):new Date,a="yyyy-MM-dd HH:mm:ss.SSSZ",s={"M+":n.getUTCMonth()+1,"d+":n.getUTCDate(),"H+":n.getUTCHours(),"h+":n.getUTCHours()%12||12,"m+":n.getUTCMinutes(),"s+":n.getUTCSeconds(),"q+":Math.floor((n.getUTCMonth()+3)/3),"S+":n.getUTCMilliseconds()};for(var u in/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(n.getUTCFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+u+")").test(a)&&(a=a.replace(RegExp.$1,RegExp.$1.length==1?s[u]:("000"+s[u]).substr(("000"+s[u]).length-RegExp.$1.length)));return a}function Je(r){return r===Re}function He(r){return r!==Re}function Ge(r){return r===null}Ze=(typeof window>"u"?"undefined":ee(window))==="object"?window:{};var nt={"[object Function]":"function","[object AsyncFunction]":"function","[object String]":"string","[object Object]":"object","[object Boolean]":"boolean","[object Number]":"number","[object Array]":"array"};function pe(r){return Ge(r)||Je(r)?String(r):nt[{}.toString.call(r)]||"object"}function oe(r){return pe(r)==="function"}function me(r){return pe(r)==="string"}function Se(r){return pe(r)==="object"}function et(r){return pe(r)==="boolean"}function Ke(r){return pe(r)==="number"}function mt(r){return Array.isArray?Array.isArray(r):pe(r)==="array"}function vt(r){if(r==null)return[];if(mt(r))return r;var n=ee(r.length),a=ee(r);if(n!=="number"||r.alert||a==="string"||a==="function"&&(!("item"in r)||n!=="number"))return[r];for(var s=[],u=0,d=r.length;u<d;u++)s[u]=r[u];return s}var Vt,Nt,xt={debug:!1,showConsoleError:!1};function ir(){return Vt}function jt(r){Vt=r}function Ar(r,n,a,s){if(xt.debug&&Nt&&oe(Nt.log)){var u=Ae(new Date().getTime()),d=vt(arguments);Nt.log(["[",u,"] ",d].join(""))}}function Xr(r,n,a,s){if((xt.debug||xt.showConsoleError)&&Nt&&oe(Nt.error)){var u=Ae(new Date().getTime()),d=vt(arguments);Nt.error(["[",u,"] ",d].join(""))}}function lr(r,n,a,s){if(xt.debug&&Nt&&oe(Nt.warn)){var u=Ae(new Date().getTime()),d=vt(arguments);Nt.warn(["[",u,"] ",d].join(""))}}function Vn(r,n,a,s){if(xt.debug&&Nt&&oe(Nt.info)){var u=Ae(new Date().getTime()),d=vt(arguments);Nt.info(["[",u,"] ",d].join(""))}}Ze&&He(Ze.console)&&(oe((Nt=Ze.console).log)&&oe(Nt.error)?Vt={log:Ar,error:Xr,info:Vn,warn:lr,debug:function(r,n,a,s){if(xt.debug&&Nt&&oe(Nt.debug)){var u=Ae(new Date().getTime()),d=vt(arguments);Nt.debug(["[",u,"] ",d].join(""))}}}:(Nt=!1,Vt=!1));var qt={queue:[],doNextStarted:!1,timer:null,pushToDo:function(r,n,a){qt.queue.push({obj:r,method:n,args:a})},doNext:function(){if(qt.doNextStarted)if(qt.queue.length!=0){var r=qt.queue[0],n=r.obj,a=r.method,s=r.args;if(qt.queue.splice(0,1),n&&oe(n[a])){var u=!1;if(s.length>2){var d=s[s.length-2],l=s[s.length-1];oe(d)&&oe(l)&&(s[s.length-2]=function(){try{d.apply(n,arguments)}catch{}qt.timer=setTimeout(qt.doNext,0)},s[s.length-1]=function(){try{l.apply(n,arguments)}catch{}qt.timer=setTimeout(qt.doNext,0)},u=!0)}try{n[a].apply(n,s)}catch{}u||(qt.timer=setTimeout(qt.doNext,0))}else if(n===null&&oe(a)){try{a.apply(null,s)}catch{}qt.timer=setTimeout(qt.doNext,0)}else Ar("not invoke a function: "+a),qt.timer=setTimeout(qt.doNext,0)}else qt.stop();else qt.stop()},start:function(){qt.doNextStarted||(qt.doNextStarted=!0,qt.timer=setTimeout(qt.doNext,0))},stop:function(){clearTimeout(qt.timer),qt.timer=null,qt.doNextStarted=!1,qt.queue=[]}},or=!0,Ct=!1;function pr(r,n,a){if(r){var s,u,d,l=0,h=r.length;if(a=a||null,Je(h)||oe(r))for(d=Object.keys(r);l<d.length&&(s=d[l],n.call(a,r[s],s,r)!==Ct);l++);else for(u=r[0];l<h&&n.call(a,u,l,r)!==Ct;u=r[++l]);}return r}var Zo,Ta={fire:function(r){var n,a=this;a.exec=a.exec||{},r=r.toLowerCase(),n=Array.prototype.slice.call(arguments,1),pr(a.exec[r]||[],function(s){var u=s.f,d=s.c||a;try{u.apply(d,n)}catch(l){Ar(l)}})},on:function(r,n,a){var s=this;s.exec=s.exec||{},r=r.toLowerCase(),s.exec[r]=s.exec[r]||[],s.exec[r].push({f:n,c:a})},off:function(r,n,a){var s=this.exec;if(s)if(r)if(r=r.toLowerCase(),n)for(var u=s[r]||[],d=u.length-1;d>=0;d--)u[d]===n&&u.splice(d,1);else s[r]=null;else this.exec=null}},gr="",ue,kr,ke,We,it=navigator,ot=!0;if("userAgentData"in it){var St=it.userAgentData,Dt=[];St.platform&&St.platform!=""&&("brands"in St&&Array.isArray(St.brands)&&St.brands.length>0?Dt=St.brands:"uaList"in St&&Array.isArray(St.uaList)&&St.uaList.length>0&&(Dt=St.uaList),Dt.length>0&&(ot=!1,kr=St.platform.toLowerCase(),ue=function(r,n,a){var s,u,d,l,h,m,_,S,y,b=!1,I=!1,x=!1,D=r.mobile,W=!1,$=gr,te=navigator.maxTouchPoints||0;for(u=n.length,s=0;s<u;s++){var q=n[s].brand.toLowerCase();if(q.indexOf("chrome")>=0){x=!0,$=n[s].version;break}if(q.indexOf("edge")>=0){b=!0,$=n[s].version;break}if(q.indexOf("opera")>=0){I=!0,$=n[s].version;break}}return x||b||I||(x=!0,$="100"),d=/windows/g.test(a),l=/mac/g.test(a),h=/linux/g.test(a),m=/android/g.test(a),_=/harmony/g.test(a),S=/(chromeos|chrome\sos)/g.test(a),y=/iphone/g.test(a),d||m||h||y||(W=/macintel/g.test(a)&&te>1),(m||_||y||W)&&(D=!0),{bUseUserAgent:!1,bWin:d,bMac:l,bLinux:h,bAndroid:m,bHarmonyOS:_,bChromeOS:S,bIE:!1,bEdge:b,bUC:!1,bPlaybook:!1,bBlackBerry:!1,bHuaWeiBrowser:!1,bOpera:I,bFirefox:!1,bChrome:x,bJSDom:!1,biPhone:y,biPad:W,bPad:m&&!r.mobile,bSafari:!1,bMobile:D,strBrowserVersion:$,bHTML5Edition:!0,IEVersion:0,IEMode:0}}(St,Dt,kr)))}ot&&(ke||(ke=it.userAgent.toLowerCase()),We||(We=it.platform.toLowerCase()),ue=function(r,n){var a,s=r.toLowerCase(),u=n.toLowerCase(),d=/harmonyos/g.test(s);u=="linux"&&s.indexOf("windows nt")>=0&&(u="harmonyos",d=!0);var l=!d&&/cros/.test(s),h=!d&&/android/g.test(s)||/android/g.test(u),m=/iphone/g.test(s)||/iphone/g.test(u),_=/macintosh/.test(s),S=navigator.maxTouchPoints||0,y=/ipad/g.test(s)||(_||u=="macintel")&&S>1,b=/ucweb|ucbrowser/g.test(s),I=!b&&/nexus/g.test(s)&&/version\/[\d.]+.*safari\//g.test(s),x=/playbook/g.test(s),D=/hp-tablet/g.test(s),W=/blackberry|bb10/g.test(s),$=/symbian/g.test(s),te=/windows phone/g.test(s),q=/mobile/g.test(s),X=/arm64|aarch64/g.test(s),J=/mips64/g.test(s),re=/huaweibrowser/g.test(s),H=/jsdom/g.test(s),F=x||y||D,B=!F&&!l&&(m||I||W||$||te||h||d||q),V=!B&&!F&&!l,G=V&&/win32|win64|windows/.test(u),z=G&&/win64|x64/.test(s),Z=V&&/mac68k|macppc|macintosh|macintel/.test(s),ie=V&&/linux/.test(u),se=u=="win64"||/wow64|x86_64|win64|x64/.test(s)||X||J,ne=/wow64/g.test(s),ae=Ct,be=/opera|opr/g.test(s),ge=/360se/g.test(s),_e=/maxthon/g.test(s),Le=/tencenttraveler|qqbrowser/g.test(s),Xe=/the world/g.test(s),ze=/metasr/g.test(s),yt=/avant/g.test(s),at=/firefox|fxios/g.test(s),gt=/gecko/g.test(s),Tt=!(at||re)&&/edge\/|edga\/|edgios\/|edg\//g.test(s),Be=!(W||x||b||be||Tt||re||H)&&/chrome|crios/g.test(s),Oe=!1,tt=gr,pt=0,lt=0,Qe=gr;if(G&&!Tt&&!at&&!Be){var fr=s.indexOf("msie "),hn=s.indexOf("trident"),Gt=s.indexOf("rv:");Oe=fr!=-1||hn!=-1||Gt!=-1}if(!(Z||m||y||G||W||x||I)||b||be||Tt||Oe||at||(a=s.match(/version\/([\d.]+).*safari\//))&&(W||x||I||(ae=or,Be=Ct),Qe=a[1]),Tt){var er=s.indexOf("edge/");er>-1?er+=5:(er=s.indexOf("edg/"))>-1?er+=4:(er=s.indexOf("edga/"))>-1?er+=5:(er=s.indexOf("edgios/"))>-1&&(er+=7),er>-1&&(a=(Qe=s.slice(er)).indexOf(" "))>-1&&(Qe=Qe.slice(0,a))}else if(at)if((a=s.indexOf("firefox/"))>-1){var Pr=(a=s.slice(a+8)).indexOf(" ");Pr>-1&&(a=a.slice(0,Pr)),Qe=a,(Pr=a.indexOf("."))>-1&&(a=Qe.slice(0,Pr))}else(m||y)&&(a=s.indexOf("fxios/"))>-1&&(Qe=a=(a=s.slice(a+6)).slice(0,a.indexOf(" ")));else if(Oe){var xi=s.indexOf("msie "),gi=s.indexOf("trident"),Ai=s.indexOf("rv:");xi!=-1?tt=a=(a=s.slice(xi+5)).slice(0,a.indexOf(";")):Ai!=-1?tt=a=(a=(a=s.slice(Ai+3)).slice(0,a.indexOf(";"))).slice(0,a.indexOf(")")):gi!=-1&&(tt=a=(a=s.slice(gi+7)).slice(0,a.indexOf(";"))),Qe=a}else if(ae)(a=Qe.indexOf("."))>-1&&(a=Qe.slice(0,a));else if(b)(a=s.indexOf("ucweb"))>-1?Qe=s.slice(a+5):(a=s.indexOf("ucbrowser/"))>-1&&(a=(Qe=s.slice(a+10)).indexOf(" "))>-1&&(Qe=Qe.slice(0,a));else if(be)(a=s.indexOf("version/"))>-1?Qe=s.slice(a+8):(a=s.indexOf("opr/"))>-1&&(Qe=s.slice(a+4));else if($)(a=s.indexOf("browserng/"))>-1&&(Qe=s.slice(a+10));else if(te)(a=s.indexOf("iemobile/"))>-1&&(Qe=s.slice(a+9));else if(Be){var Zn=s.indexOf("chrome/");Zn>-1?(a=(Qe=s.slice(Zn+7)).indexOf(" "))>-1&&(Qe=Qe.slice(0,a)):(Zn=s.indexOf("crios/"))>-1&&(a=(Qe=s.slice(Zn+6)).indexOf(" "))>-1&&(Qe=Qe.slice(0,a)),(a=Qe.indexOf("."))>-1&&(a=Qe.slice(0,a))}else if(re){var fa=s.indexOf("huaweibrowser");fa>-1&&(a=(Qe=s.slice(fa+14)).indexOf(" "))>-1&&(Qe=Qe.slice(0,a))}else if(H){var Tn=s.indexOf("jsdom");Tn>-1&&(a=(Qe=s.slice(Tn+6)).indexOf(" "))>-1&&(Qe=Qe.slice(0,a))}if(Tt||Oe){var ei=window.document;ei&&ei.documentMode?pt=ei.documentMode:(pt=5,ei.compatMode&&ei.compatMode=="CSS1Compat"&&(pt=7)),Oe&&(lt=parseInt(Qe))}(Z||ie)&&(se=!0,Z&&(a=s.match(/mac os x (\d+)(_|\.)(\d+)/))&&a.length>3&&(a[1]==10&&a[3]<14||a[1]<10)&&(se=!1)),G||Z||ie||X||J||(B=!0);var rn=!0;if(Oe)if(tt===""||parseInt(tt)>=10){var ha=Ze.Dynamsoft;ha&&ha.DWT&&ha.DWT.IfUseActiveXForIE10Plus&&(rn=Ct)}else rn=Ct;return{bUseUserAgent:!0,bWin:G,bMac:Z,bLinux:ie,bMobile:B,bPad:F,bChromeOS:l,bHarmonyOS:d,bArm64:X,bMips64:J,bEmbed:X||J,bAndroid:h,biPhone:m,biPad:y,bWin64:z,bWOW64:ne,bOSx64:se,bIE:Oe,bEdge:Tt,bChrome:Be,bFirefox:at,bSafari:ae,bOpera:be,bNexus:I,bUC:b,b360SE:ge,bMaxthon:_e,bTencentTraveler:Le,bTheWorld:Xe,bMetaSr:ze,bAvant:yt,bHuaWeiBrowser:re,bJSDom:H,bGecko:gt,bHTML5Edition:rn,strBrowserVersion:Qe,IEVersion:lt,IEMode:pt}}(ke,We));var Ht=(Zo=document==null?void 0:document.location)===null||Zo===void 0?void 0:Zo.protocol;function br(r){return ue.bGecko&&r==="mousewheel"?"DOMMouseScroll":r}function Or(r,n,a){var s=br(n);r&&r.addEventListener(s,a,!1)}function Qr(r,n,a){var s=br(n);r&&r.removeEventListener(s,a,!1)}function no(r){var n=r||Ze.event;n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.returnValue=!1,n.cancelBubble=!0}function ai(r,n){var a=Ze.document.createEvent("HTMLEvents");a.initEvent(r,or,or),n.dispatchEvent&&n.dispatchEvent(a)}Ht||(Ht="https:"),ue.protocol=Ht,ue.bSSL=Ht==="https:",ue.bFileSystem=Ht!=="https:"&&Ht!=="http:";var il,Oi,ds,Gh,ol=Ze.document,Rv=[],zh=Rv.push,Ia=Rv.slice,_1=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Fv=function(){Oi()};function al(r,n,a,s){var u,d,l,h=n&&n.ownerDocument,m=n?n.nodeType:9;if(a=a||[],typeof r!="string"||!r||m!==1&&m!==9&&m!==11)return a;if(!s&&((n?n.ownerDocument||n:ol)!==ds&&Oi(n),n=n||ds,m!==11&&(l=_1.exec(r))))if(u=l[1]){if(m===9){if(!(d=n.getElementById(u)))return a;if(d.id===u)return a.push(d),a}else if(h&&(d=h.getElementById(u))&&Gh(n,d)&&d.id===u)return a.push(d),a}else{if(l[2])return zh.apply(a,n.getElementsByTagName(r)),a;if((u=l[3])&&n.getElementsByClassName)return zh.apply(a,n.getElementsByClassName(u)),a}return a}zh.apply(Ia.call(ol.childNodes),ol.childNodes),Oi=al.setDocument=function(r){var n,a=r?r.ownerDocument||r:ol;return a!==ds&&a.nodeType===9&&a.documentElement&&(ol!==(ds=a)&&(n=ds.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Fv,!1):n.attachEvent&&n.attachEvent("onunload",Fv)),Gh=function(s,u){if(u){for(;u=u.parentNode;)if(u===s)return!0}return!1}),ds},al.contains=function(r,n){return(r.ownerDocument||r)!==ds&&Oi(r),Gh(r,n)},al.error=function(r){throw new Error("Syntax error: "+r)},il=al.getText=function(r){var n,a="",s=0,u=r.nodeType;if(u){if(u===1||u===9||u===11){if(typeof r.textContent=="string")return r.textContent;for(r=r.firstChild;r;r=r.nextSibling)a+=il(r)}else if(u===3||u===4)return r.nodeValue}else for(;n=r[s++];)a+=il(n);return a},Oi();var Wr={encodeChars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeChars:[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1]},y1={UTF16ToUTF8:function(r){for(var n,a,s=[],u=r.length,d=0;d<u;d++){var l=r.charCodeAt(d);if(l>0&&l<=127)s.push(r.charAt(d));else if(l>=128&&l<=2047)n=192|l>>6&31,a=128|63&l,s.push(String.fromCharCode(n),String.fromCharCode(a));else if(l>=2048&&l<=65535){n=224|l>>12&15,a=128|l>>6&63;var h=128|63&l;s.push(String.fromCharCode(n),String.fromCharCode(a),String.fromCharCode(h))}}return s.join("")},UTF8ToUTF16:function(r){var n,a,s,u,d=[],l=r.length;for(n=0;n<l;n++)(a=r.charCodeAt(n))>>7&255?(a>>5&255)==6?(u=(31&a)<<6|63&(s=r.charCodeAt(++n)),d.push(String.fromCharCode(u))):(a>>4&255)==14&&(u=(255&(a<<4|(s=r.charCodeAt(++n))>>2&15))<<8|((3&s)<<6|63&r.charCodeAt(++n)),d.push(String.fromCharCode(u))):d.push(r.charAt(n));return d.join("")},encode:function(r){for(var n,a,s,u=this.UTF16ToUTF8(r),d=[],l=0,h=u.length;l<h;){if(n=255&u.charCodeAt(l++),l==h){d.push(Wr.encodeChars.charAt(n>>2)),d.push(Wr.encodeChars.charAt((3&n)<<4)),d.push("==");break}if(a=u.charCodeAt(l++),l==h){d.push(Wr.encodeChars.charAt(n>>2)),d.push(Wr.encodeChars.charAt((3&n)<<4|(240&a)>>4)),d.push(Wr.encodeChars.charAt((15&a)<<2)),d.push("=");break}s=u.charCodeAt(l++),d.push(Wr.encodeChars.charAt(n>>2)),d.push(Wr.encodeChars.charAt((3&n)<<4|(240&a)>>4)),d.push(Wr.encodeChars.charAt((15&a)<<2|(192&s)>>6)),d.push(Wr.encodeChars.charAt(63&s))}return d.join("")},encodeArray:function(r){for(var n,a,s,u=[],d=0,l=r.length;d<l;){if(n=255&r[d++],d==l){u.push(Wr.encodeChars.charAt(n>>2)),u.push(Wr.encodeChars.charAt((3&n)<<4)),u.push("==");break}if(a=255&r[d++],d==l){u.push(Wr.encodeChars.charAt(n>>2)),u.push(Wr.encodeChars.charAt((3&n)<<4|(240&a)>>4)),u.push(Wr.encodeChars.charAt((15&a)<<2)),u.push("=");break}s=255&r[d++],u.push(Wr.encodeChars.charAt(n>>2)),u.push(Wr.encodeChars.charAt((3&n)<<4|(240&a)>>4)),u.push(Wr.encodeChars.charAt((15&a)<<2|(192&s)>>6)),u.push(Wr.encodeChars.charAt(63&s))}return u.join("")},decode:function(r,n){for(var a,s,u,d,l=this,h=[],m=0,_=r.length;m<_;){do a=Wr.decodeChars[255&r.charCodeAt(m++)];while(m<_&&a==-1);if(a==-1)break;do s=Wr.decodeChars[255&r.charCodeAt(m++)];while(m<_&&s==-1);if(s==-1)break;n?h.push(a<<2|(48&s)>>4):h.push(String.fromCharCode(a<<2|(48&s)>>4));do{if((u=255&r.charCodeAt(m++))==61)return n?h:l.UTF8ToUTF16(h.join(""));u=Wr.decodeChars[u]}while(m<_&&u==-1);if(u==-1)break;n?h.push((15&s)<<4|(60&u)>>2):h.push(String.fromCharCode((15&s)<<4|(60&u)>>2));do{if((d=255&r.charCodeAt(m++))==61)return n?h:l.UTF8ToUTF16(h.join(""));d=Wr.decodeChars[d]}while(m<_&&d==-1);if(d==-1)break;n?h.push((3&u)<<6|d):h.push(String.fromCharCode((3&u)<<6|d))}return n?h:l.UTF8ToUTF16(h.join(""))}},Bu={fromUTF16:function(r){for(var n,a=[],s=0,u=r.length;s<u;)(n=r.charCodeAt(s))>=1&&n<=127?a.push(r.charAt(s)):n>2047?(a.push(String.fromCharCode(224|n>>12&15)),a.push(String.fromCharCode(128|n>>6&63)),a.push(String.fromCharCode(128|63&n))):(a.push(String.fromCharCode(192|n>>6&31)),a.push(String.fromCharCode(128|63&n))),s++;return a.join("")},toUTF16:function(r){for(var n,a,s,u=[],d=0,l=r.length;d<l;)switch((n=r.charCodeAt(d++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u.push(r.charAt(d-1));break;case 12:case 13:a=r.charCodeAt(d++),u.push(String.fromCharCode((31&n)<<6|63&a));break;case 14:a=r.charCodeAt(d++),s=r.charCodeAt(d++),u.push(String.fromCharCode((15&n)<<12|(63&a)<<6|63&s))}return u.join("")}},gd=typeof self<"u"?self:global,S1=gd.btoa?function(r){return gd.btoa(r)}:function(r){for(var n,a,s=String(r),u=0,d=Wr.encodeChars,l="";s.charAt(0|u)||(d="=",u%1);l+=d.charAt(63&n>>8-u%1*8)){if((a=s.charCodeAt(u+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|a}return l},b1=gd.atob?function(r){return gd.atob(r)}:function(r){var n=String(r).replace(/[=]+$/,"");if(n.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var a,s,u=0,d=0,l="";s=n.charAt(d++);~s&&(a=u%4?64*a+s:s,u++%4)?l+=String.fromCharCode(255&a>>(-2*u&6)):0)s=Wr.encodeChars.indexOf(s);return l};function Hh(r){if(r==null||ee(r)!="object")return r;var n,a,s;if(r instanceof Date)return(n=new Date).setTime(r.getTime()),n;if(r instanceof Array){for(n=[],s=r.length,a=0;a<s;a++)n[a]=Hh(r[a]);return n}if(r instanceof Object){for(a in n={},r)r.hasOwnProperty(a)&&(n[a]=Hh(r[a]));return n}return 0}function sl(r){return Math.random().toString(16).substring(2,2+r)}function Uu(r){var n=[sl(8),"-",sl(4),"-",sl(4),"-",sl(4),"-",sl(8)];return r&&n.unshift(r),n.join("")}var Ov=Date.now||function(){return+new Date},C1=function(){return""+Ov()};function T1(){for(var r,n=Ov()%1e4,a=[],s=0;s<5;s++)r=Math.floor(10*Math.random()),s!=0||r!=0?a.push(r):s=-1;return n<10?a.push("000"):n<100?a.push("00"):n<1e3&&a.push("0"),a.push(n),a.join("")}function I1(r,n){var a;for(a in n)n.hasOwnProperty(a)&&(r[a]=n[a]);return r}function w1(r,n,a,s){return new(a||(a=Promise))(function(u,d){function l(_){try{m(s.next(_))}catch(S){d(S)}}function h(_){try{m(s.throw(_))}catch(S){d(S)}}function m(_){var S;_.done?u(_.value):(S=_.value,S instanceof a?S:new a(function(y){y(S)})).then(l,h)}m((s=s.apply(r,n||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;var Nv=!1;"wakeLock"in navigator&&(Nv=!0);var fs=null;function E1(){Nv&&(fs==null?function(){w1(this,void 0,void 0,Me.mark(function r(){return Me.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.wakeLock.request("screen");case 3:fs=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),fs=null;case 9:case"end":return n.stop()}},r,null,[[0,6]])}))}():fs.release().then(function(){fs=null}))}function md(){return fs}var vd=Array.prototype;function Vu(r,n,a){return vd.filter.call(r,n,a||this)}function _d(r,n){return vd.indexOf.call(n,r)}function Mv(r){var n,a,s=[],u=r.length;for(n=0;n<u;n++){for(a=n+1;a<u;a++)r[n]===r[a]&&(a=++n);s.push(r[n])}return s}var $h=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/;function Lv(r,n){var a,s=[];for(a=0;a<r.length;a++){var u=r[a];u&&u!=="."&&(u===".."?s.length&&s[s.length-1]!==".."?s.pop():n&&s.push(".."):s.push(u))}return s}function Kh(r){var n=r.charAt(0)==="/",a=r.slice(-1)==="/";return(r=Lv(Vu(r.split("/"),function(s){return!!s}),!n).join("/"))||n||(r="."),r&&a&&(r+="/"),(n?"/":"")+r}var Wv=function(){return he(function r(){de(this,r)},[{key:"resolve",value:function(){var r,n,a="",s=arguments,u=!1;for(r=s.length-1;r>=0&&!u;r--)me(n=s[r])&&n&&(a=n+"/"+a,u=n.charAt(0)==="/");return(u?"/":"")+Lv(Vu(a.split("/"),function(d){return!!d}),!u).join("/")||"."}},{key:"join",value:function(){return Kh(Vu(vt(arguments),function(r){return r&&me(r)}).join("/"))}},{key:"relative",value:function(r,n){r=Kh(r),n=Kh(n);var a,s,u=Vu(r.split("/"),function(m){return!!m}),d=[],l=Vu(n.split("/"),function(m){return!!m}),h=Math.min(u.length,l.length);for(a=0;a<h&&u[a]===l[a];a++);for(s=a;a<u.length;)d.push(".."),a++;return(d=d.concat(l.slice(s))).join("/")}},{key:"basename",value:function(r,n){var a;return a=(r.match($h)||[])[3]||"",n&&a&&a.slice(-1*n.length)===n&&(a=a.slice(0,-1*n.length)),a}},{key:"dirname",value:function(r){var n=r.match($h)||[],a=n[1]||"",s=n[2]||"";return a||s?(s&&(s=s.substring(0,s.length-1)),a+s):"."}},{key:"extname",value:function(r){return(r.match($h)||[])[4]||""}}])}(),Yh={}.hasOwnProperty;function x1(r){if(!r||pe(r)!=="object"||r.nodeType||r.window==r)return Ct;var n,a;try{if((a=r.constructor)&&!Yh(r,"constructor")&&!Yh(a.prototype,"isPrototypeOf"))return Ct}catch{return Ct}for(n in r);return Je(n)||Yh(r,n)}var A1=(typeof HTMLElement>"u"?"undefined":ee(HTMLElement))==="object";function Bv(r){return A1?r instanceof HTMLElement:r&&ee(r)==="object"&&(r.nodeType===1||r.nodeType===9)&&typeof r.nodeName=="string"}function P1(r){var n=r;if(Bv(r))for(;!n&&n!=document.body;)n=n.parentNode;else n=0;return!!n}function k1(r,n){return r.lastIndexOf(n,0)===0}function D1(r,n){var a=r.length-n.length;return a>=0&&r.indexOf(n,a)===a}function R1(r){return r==null?gr:String.prototype.trim.call(r)}function F1(r){var n;if(r){for(n in r)if(!Je(n))return!1}return!0}function O1(r){return me(r)?r.replace(/[^\x20-\x7E]/g,""):r}function yd(r,n,a){return r.replace(new RegExp(n,"gi"),a)}function Xh(r){return r.charAt(0).toUpperCase()+r.substr(1)}var Qh,Jh="none",Uv={getOffset:function(r,n,a){var s,u;r=r||Ze.event;for(var d,l,h=a||r.target,m=0,_=0,S=0,y=0,b=!1,I=Ze.document;h&&!isNaN(h.offsetLeft)&&!isNaN(h.offsetTop);)l=h.scrollLeft,d=h.scrollTop,h.tagName==="BODY"?b?(l=0,d=0):(l|=(s=I.documentElement)===null||s===void 0?void 0:s.scrollLeft,d|=(u=I.documentElement)===null||u===void 0?void 0:u.scrollTop):h.style.position==="fixed"&&(b=!0),m+=h.offsetLeft-l,_+=h.offsetTop-d,h=h.offsetParent;return n&&(S=n.Left,y=n.Top),{x:m=r.clientX-m-S,y:_=r.clientY-_-y}},getElDimensions:function(r,n){var a,s;return r?(a=r.style.display,r.style.display="",s=n?{offsetTop:r.offsetTop,offsetLeft:r.offsetLeft,offsetWidth:r.offsetWidth,offsetHeight:r.offsetHeight}:{clientTop:r.clientTop,clientLeft:r.clientLeft,clientWidth:r.clientWidth?r.clientWidth:parseInt(r.style.width)?parseInt(r.style.width):0,clientHeight:r.clientHeight?r.clientHeight:parseInt(r.style.height)?parseInt(r.style.height):0},r.style.display=a,s):{offsetTop:0,offsetLeft:0,offsetWidth:0,offsetHeight:0}}};function Sd(r){return document.getElementById(r)}function N1(r){var n=me(r)?Sd(r):r;n&&(n.length>0&&(n=n[0]),n.style.display=Jh)}function M1(r){var n=me(r)?Sd(r):r;n&&(n.length>0&&(n=n[0]),n.style.display=gr)}function Vv(r){var n=me(r)?Sd(r):r;n&&(n.length>0&&(n=n[0]),n.style.display===Jh?n.style.display=gr:n.style.display=Jh)}function L1(r){if(r)for(;r.firstChild;)r.removeChild(r.firstChild)}function W1(r){return encodeURIComponent(String(r))}function B1(r){return decodeURIComponent(r.replace(/\+/g," "))}if(window.trustedTypes)try{Qh=window.trustedTypes.createPolicy("d-create-script",{createScriptURL:function(r){return r}})}catch{}function bd(r){return Qh?Qh.createScriptURL(r):r}var jv=!0,ju=document,U1=ju&&ju.documentElement,wa=ju.getElementsByTagName("head")[0]||U1,ul=ju.createElement("script").readyState?function(r,n){var a=r.onreadystatechange;r.onreadystatechange=function(){var s=r.readyState;s==="loaded"||s==="complete"?(r.onreadystatechange=null,a&&a(),n.call(this,{type:"load",path:[r]})):s==="loading"||n.call(this,{type:"error",path:[r]})}}:function(r,n){r.addEventListener("load",n,Ct),r.addEventListener("error",n,Ct)};function qh(r,n,a){return cl(r,n,!1,a)}function cl(r,n,a,s){var u,d,l=s;if(oe(l)||(l=function(){}),me(r)&&r!=gr)return u=ju.createElement("script"),d=["",r].join(gr),u.src=bd(d),n&&(u.async=jv),u.charset="utf-8",ul(u,l),a?wa.appendChild(u):wa.insertBefore(u,wa.firstChild),u;l()}function V1(r,n,a){return Zh(r,n,!1,a)}function Zh(r,n,a,s){var u=s;if(oe(u)||(u=function(){}),ue.bJSDom)u("ok");else if(mt(r)){var d=r.length,l=function(h){h&&h.type=="load"?d--:(h&&h.type=="error"&&Xr(["Failed to load resource: ",h.target.src,"."].join("")),u()),d<=0&&u("ok")};d<=0?u("ok"):pr(r,function(h){cl(h,n,a,l)})}else u()}function ep(r,n){return Cd(r,!1,n)}function Cd(r,n,a){var s,u=a;if(oe(u)||(u=!1),me(r)&&r!=gr){if(!ue.bJSDom)return(s=ju.createElement("link")).href=bd(r),s.rel="stylesheet",s.async=jv,u&&ul(s,u),n?wa.appendChild(s):wa.insertBefore(s,wa.firstChild),s;u&&u()}else u&&u()}function Zs(r,n){return Gu(r,!1,n)}function Gu(r,n,a){if(ue.bJSDom)a&&a("ok");else if(mt(r)){var s=r.length,u=function(d){d&&d.type=="load"&&s--,d&&d.type!="load"&&(d&&d.type=="error"&&Xr(["Failed to load resource: ",d.target.href,"."].join("")),a()),s<=0&&a("ok")};pr(r,function(d){Cd(d,n,u)})}else a&&a()}function Gv(r){var n,a;if(!ue.bJSDom){var s=document;if(s&&me(a=r.body)&&a!=gr){(n=s.createElement("script")).charset="utf-8",ue.bIE?n.text=a:n.appendChild(s.createTextNode(a)),r.language?n.language=r.language:n.language="javascript",r.type?n.type=r.type:n.type="text/javascript";var u=s&&s.documentElement,d=s.getElementsByTagName("head")[0]||u;d.insertBefore(n,d.firstChild)}}}function zv(r){Gv({body:r})}function j1(r){Gv({body:r,language:"vbscript",type:"text/vbscript"})}function Hv(r){return r!=null&&r==r.window}var j,hs,tp,G1=function(){return he(function r(){de(this,r),this.nil=void 0,this.bNode=!1,this.noop=function(){},this.mix=I1,this.clone=Hh,this.keys=Object.keys,this.now=C1,this.getFormatedNow=Ae,this.getRandom=T1,this.guid=Uu,this.get=Sd,this.show=M1,this.hide=N1,this.toggle=Vv,this.empty=L1,this.stringify=Ze.JSON.stringify,this.parse=Ze.JSON.parse,this.isDef=He,this.isUndef=Je,this.isUndefined=Je,this.isNull=Ge,this.isNaN=isNaN,this.isFunction=oe,this.isString=me,this.isObject=Se,this.isBoolean=et,this.isNumber=Ke,this.isArray=mt,this.type=pe,this.isPlainObject=x1,this.isDOM=Bv,this.isDOMInBody=P1,this.each=pr,this.getLogger=ir,this.setLogger=jt,this.log=Ar,this.error=Xr,this.warn=lr,this.info=Vn,this.filter=Vu,this.indexOf=_d,this.uniq=Mv,this.startsWith=k1,this.endsWith=D1,this.replaceAll=yd,this.upperCaseFirst=Xh,this.removeNonPrintableChar=O1,this.trim=R1,this.makeArray=vt,this.isEmptyObject=F1,this.Path=new Wv,this.DOM=Uv,this.isWindow=Hv,this.obj={customEvent:Ta},this.addEventListener=Or,this.removeEventListener=Qr,this.stopPropagation=no,this.fireEvent=ai,this.base64=y1,this.utf8=Bu,this.btoa=S1,this.atob=b1,this.asyncQueue=qt,this.sizzle=al,this.toggleWakeLock=E1,this.getWakeLock=md,this.urlEncode=W1,this.urlDecode=B1,this.scriptOnload=ul,this.addAllCss=Gu,this.getAllCss=Zs,this.addCss=Cd,this.getCss=ep,this.addScripts=Zh,this.getScripts=V1,this.addScript=cl,this.getScript=qh,this.addJS=zv,this.addVBS=j1},[{key:"debug",get:function(){return xt.debug},set:function(r){xt.debug=r}},{key:"showConsoleError",get:function(){return xt.debug},set:function(r){xt.showConsoleError=r}}])}(),p=new G1,Te=20230515,Ue=!!((typeof global>"u"?"undefined":R(global))=="object"&&global.process&&global.process.release&&global.process.release.name&&typeof HTMLCanvasElement>"u"),bt=Ue?global:self||{},U=bt.Dynamsoft;function Wt(r){return Math.floor(r)}function ut(r,n,a){return(n=Q(n))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}function rr(r,n){(function(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function Ut(r,n,a){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:a;throw new TypeError("Private element is not present on this object")}function io(r){var n,a,s="0x";if(/^(rgb|RGB)/.test(r)){var u=r.replace(/[^\d,.]/g,"").split(",");for(a=0;a<3;++a)(n=Number(u[a]).toString(16)).length==1&&(n="0"+n),s+=n;u.length==4?((n=Math.round(255*Number(u[a])).toString(16)).length==1&&(n="0"+n),s+=n):s+="ff"}else if(r=="transparent")s+="00000000";else if(/^#[0-9a-fA-F]{6}$/.test(r))s+=r.replace(/#/,"")+"ff";else if(/^#[0-9a-fA-F]{3}$/.test(r)){for(a=0;a<3;++a)s+=r[a]+r[a];s+="ff"}else s="-1";return Number(s)}function Ni(r){if(r>4294967295||r<0)return null;var n;if(ue.bHTML5Edition)n="rgba("+Math.floor(r/16777216)+","+Math.floor(r/65536)%256+","+Math.floor(r/256)%256+","+r%256/255+")";else if(r%256==0)n="transparent";else{for(n=Math.floor(r/256).toString(16);n.length!=6;)n="0"+n;n="#"+n}return n}function ll(r){var n,a=(r=r||window.event).wheelDelta,s=r.detail;return a&&(n=a/120),s&&(n=-(s%3==0?s/3:s)),n}U?U.Lib||(U.Lib={}):(U={Lib:{},DWT:{}},bt&&(bt.Dynamsoft=U)),U.navInfoSync=ue,j=p.mix(U.Lib,p),(hs=U).DWT||(hs.DWT={}),hs.DWT.LTS||(hs.DWT.LTS={}),hs.Lib.UI||(hs.Lib.UI={}),hs.Lib.html5||(hs.Lib.html5={}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gr)}),tp={registedClass:[],registedObjs:[]};var Ea={LEFT:0,MIDDLE:1,RIGHT:2};function rp(r){var n=r||window.event;return n.which==null?n.button<2?Ea.LEFT:n.button==4?Ea.MIDDLE:Ea.RIGHT:n.which<2?Ea.LEFT:n.which==2?Ea.MIDDLE:Ea.RIGHT}var Td,z1,Y7=/[\-#$\^*()+\[\]{}|\\,.?\s]/g,H1={"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},$1={};function X7(r){return r.replace(/\\u([a-f\d]{4})/gi,function(n,a){return String.fromCharCode(parseInt(a,16))})}function Q7(r){return(r+"").replace(function(){if(Td)return Td;var n=gr;return p.each(H1,function(a){n+=a+"|"}),n=n.slice(0,-1),Td=new RegExp(n,"g")}(),function(n){return $1[n]})}function J7(r){return r.replace(Y7,"\\$&")}function dR(r){return r.replace(function(){if(z1)return z1;var n=gr;return p.each($1,function(a){n+=a+"|"}),n+="&#(\\d{1,5});",z1=new RegExp(n,"g")}(),function(n,a){return H1[n]||String.fromCharCode(+a)})}p.each(H1,function(r,n){$1[r]=n});var K1,$v,Id=window;Id&&p.isFunction(Id.__zone_symbol__Promise)&&($v=Id.__zone_symbol__Promise);var q7=he(function r(){de(this,r)});function Z7(r){return(r=r||window.event).which==null?r.which=r.button<2?1:r.button==4?2:3:r.which=r.which<2?1:r.which==2?2:3,r}function e9(r,n){return r.currentStyle?r.currentStyle[n]:window.getComputedStyle?document.defaultView.getComputedStyle(r,null)[n]:null}K1=self&&self.Promise?self.Promise:Id&&Id.Promise?Id.Promise:q7,$v||($v=K1);function fR(r){var n=ee(r);return r==null||n!=="object"&&n!=="function"}function t9(r,n,a,s){n=n||"&",a=a||"=",p.isUndefined(s)&&(s=or);var u=[];return p.each(r,function(d,l){var h=p.urlEncode(l);fR(d)?(u.push(h),p.isDef(d)&&u.push(a,p.urlEncode(d+gr)),u.push(n)):p.isArray(d)&&d.length&&p.each(d,function(m){fR(m)&&(u.push(h,s?p.urlEncode("[]"):gr),p.isDef(m)&&u.push(a,p.urlEncode(m+gr)),u.push(n))})}),u.pop(),u.join(gr)}function r9(r,n,a){if(!p.isString(r)||!(r=p.trim(r)))return{};n=n||"&",a=a||"=";for(var s,u,d,l={},h=p.urlDecode,m=r.split(n),_=0,S=m.length;_<S;++_){if((s=p.indexOf(a,m[_]))===-1)u=h(m[_]),d=void 0;else{u=h(m[_].substring(0,s)),d=m[_].substring(s+1);try{d=h(d)}catch(y){p.error("decodeURIComponent error : "+d),p.error(y)}p.endsWith(u,"[]")&&(u=u.substring(0,u.length-2))}u in l?p.isArray(l[u])?l[u].push(d):l[u]=[l[u],d]:l[u]=d}return l}p.each({"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},function(r,n){});var ar,hR=he(function r(n){de(this,r),ut(this,"tagName",void 0),ut(this,"attr",void 0),ut(this,"childNodes",void 0),this.tagName=n,this.attr={},this.childNodes=[]}),Y1=he(function r(n){de(this,r),ut(this,"value",void 0),this.value=n||""}),wd=new WeakSet,n9=function(){return he(function r(){de(this,r),rr(this,wd),ut(this,"stack",void 0),ut(this,"stacks",void 0),this.stack=[],this.stacks=[]},[{key:"getStacks",value:function(){return this.stacks}},{key:"receiveInput",value:function(r){var n=this.stack;if(r.type==="startTag")n.push(new hR(r.value));else if(r.type==="attr"){var a,s,u=r.value,d=u.indexOf("=");d>-1&&(a=u.substring(0,d),s=u.charAt(d+1)==='"'||u.charAt(d+1)==="'"?u.substring(d+2,u.length-1):u.substring(d+1),n[n.length-1].attr[a]=s)}else if(r.type==="text")n.length?n[n.length-1].childNodes.push(new Y1(r.value)):this.stacks.push(new Y1(r.value));else if(r.type==="endTag"){var l=n.pop();n.length?n[n.length-1].childNodes.push(l):this.stacks.push(l)}}},{key:"getOutPutHtml",value:function(){var r,n=document.createDocumentFragment(),a=this.stacks;for(r=0;r<a.length;r++){var s=a[r],u=Ut(wd,this,pR).call(this,s);u&&n.appendChild(u)}return n}}])}();function i9(r){return r.replace(/-([a-z])/g,function(n,a){return a.toUpperCase()})}function o9(r){var n={};if(!r)return n;var a,s=r.split(";");for(a=0;a<s.length;a++){var u=s[a].split(":");if(u.length===2){var d=u[0].trim(),l=u[1].trim();l!==""&&(n[d=Ut(wd,this,i9).call(this,d)]=l)}}return n}function a9(r,n){var a=Ut(wd,this,o9).call(this,n);for(var s in a)r.style[s]=a[s]}function pR(r){if(r instanceof hR){var n=document.createElement(r.tagName);for(var a in r.attr)a!==""&&r.attr[a]!==""&&(a==="style"?Ut(wd,this,a9).call(this,n,r.attr[a]):n.setAttribute(a,r.attr[a]));if(r.childNodes.length)for(var s=0;s<r.childNodes.length;s++){var u=r.childNodes[s];n.appendChild(Ut(wd,this,pR).call(this,u))}return n}if(r instanceof Y1)return document.createTextNode(dR(r.value))}(function(r){r[r.None=0]="None",r[r.AttrKey=1]="AttrKey",r[r.AttrKeyQuoteStart=2]="AttrKeyQuoteStart",r[r.AttrKeyQuoteEnd=3]="AttrKeyQuoteEnd",r[r.AttrValueQuoteStart=4]="AttrValueQuoteStart",r[r.AttrSpace=5]="AttrSpace",r[r.AttrSplite=6]="AttrSplite"})(ar||(ar={}));var X1,s9=he(function r(n,a){de(this,r),ut(this,"allChars",void 0),ut(this,"curIndex",void 0),ut(this,"state",void 0),ut(this,"attrStatus",void 0),ut(this,"attrQuoteChar",void 0),this.allChars=n,this.curIndex=0,this.state=a,this.attrStatus=ar.None,this.attrQuoteChar=""}),si=new WeakSet,u9=function(){return he(function r(n,a){de(this,r),rr(this,si),ut(this,"token",void 0),ut(this,"tokens",void 0),ut(this,"htmlString",void 0),ut(this,"tokenHandler",void 0),ut(this,"thisStartTagName",void 0),ut(this,"attrStatus",void 0),this.token=[],this.tokens=[],this.attrStatus=ar.None,this.thisStartTagName=null,p.isString(n)?this.htmlString=n:n&&(this.htmlString=n.toString()),this.tokenHandler=a},[{key:"start",value:function(r){var n=r.allChars[r.curIndex];return n==="<"?(this.token.push(n),r.state=this.tagState,r):this.textState(r)}},{key:"textState",value:function(r){var n=r.allChars[r.curIndex];return n==="<"?(Ut(si,this,xo).call(this,"text",this.token.join("")),this.token=[],this.start(r)):(this.token.push(n),r.state=this.textState,r)}},{key:"tagState",value:function(r){var n=r.allChars[r.curIndex];return this.token.push(n),n==="/"?(r.state=this.endTagState,r):(r.state=this.startTagState,r)}},{key:"startTagState",value:function(r){var n=r.curIndex,a=r.allChars,s=a[n];if(s.match(/[a-zA-Z]/))return this.token.push(s),r.state=this.startTagState,r;if(s===" "){if(this.thisStartTagName=this.token.join("").substring(1),Ut(si,this,xo).call(this,"startTag",this.thisStartTagName.toLowerCase()),this.token=[],n<a.length-2){var u=a[n+1],d=a[n+2];if(u==="/"&&d===">")return Ut(si,this,xo).call(this,"endTag",this.thisStartTagName),this.token=[],r.state=this.start,r.curIndex+=2,r}return r.attrQuoteChar="",r.attrStatus=ar.None,r.state=this.attrState,r}return s===">"?(this.thisStartTagName=this.token.join("").substring(1),Ut(si,this,xo).call(this,"startTag",this.thisStartTagName.toLowerCase()),this.token=[],r.state=this.start,Ut(si,this,Q1).call(this)&&r.curIndex++,r):void 0}},{key:"attrState",value:function(r){var n=r.curIndex,a=r.allChars,s=a[n],u=!1,d=!1;if(r.attrStatus==ar.AttrSplite?s.match(/[0-9|^<&;#]/)&&(u=!0):r.attrStatus!=ar.AttrKey&&r.attrStatus!=ar.AttrKeyQuoteStart||(s.match(/[0-9]/)||s==="."||s==="-")&&(d=!0),s.match(/[:|a-z|A-Z|_]/)||u||d){if(r.attrStatus==ar.None||r.attrStatus==ar.AttrKey||r.attrStatus==ar.AttrKeyQuoteStart)return this.token.push(s),r.state=this.attrState,r.attrStatus==ar.None&&(r.attrStatus=ar.AttrKey),r;if(r.attrStatus==ar.AttrSpace)return this.token=[s],r.state=this.attrState,r.attrStatus=ar.AttrKey,r;var l;if(r.attrStatus==ar.AttrSplite){for(l=n;l<a.length;l++)if(this.token.push(a[l]),l+1<a.length){var h=a[l+1],m=!1,_=!1;if(h===" "||h===">"?m=!0:h==="/"&&l+2<a.length&&a[l+2]===">"&&(m=!0,_=!0),m)return r.curIndex=l,r.attrStatus=ar.None,r.attrQuoteChar="",Ut(si,this,xo).call(this,"attr",this.token.join("")),this.token=[],r.state=this.attrState,h===">"&&Ut(si,this,Q1).call(this)&&(this.token=[],r.curIndex++,r.state=this.start),_&&(Ut(si,this,xo).call(this,"endTag",this.thisStartTagName),this.token=[],r.curIndex+=2,r.state=this.start),r}}}if(s==="="&&(r.attrStatus==ar.AttrKey||r.attrStatus==ar.AttrKeyQuoteEnd||r.attrStatus==ar.AttrSpace))return this.token.push(s),r.state=this.attrState,r.attrStatus=ar.AttrSplite,r;if(s.match(/['"]/)){if(r.attrStatus==ar.AttrValueQuoteStart||r.attrStatus==ar.AttrKeyQuoteStart){if(s===r.attrQuoteChar)return r.attrStatus==ar.AttrValueQuoteStart?(this.token.push(s),Ut(si,this,xo).call(this,"attr",this.token.join("")),this.token=[],r.attrStatus=ar.None):r.attrStatus=ar.AttrKeyQuoteEnd,r.attrQuoteChar="",r.state=this.attrState,r;this.token.push(s)}else r.attrStatus==ar.None?r.attrStatus=ar.AttrKeyQuoteStart:r.attrStatus==ar.AttrSplite&&(r.attrStatus=ar.AttrValueQuoteStart,this.token.push(s)),r.attrQuoteChar=s;return r.state=this.attrState,r}if(r.attrStatus==ar.AttrValueQuoteStart){if(this.token.push(s),s==="\\"&&n<a.length-1){var S=a[n+1];this.token.push(S),r.curIndex++}return r.state=this.attrState,r}if(s===" "){if(r.attrStatus==ar.AttrKey||r.attrStatus==ar.AttrKeyQuoteEnd)return r.attrStatus=ar.AttrSpace,r.state=this.attrState,r;if(r.attrStatus==ar.None||r.attrStatus==ar.AttrSplite||r.attrStatus==ar.AttrSpace)return r.state=this.attrState,r}return s==="/"?n<a.length-1&&a[n+1]===">"?(Ut(si,this,xo).call(this,"attr",this.token.join("")),Ut(si,this,xo).call(this,"endTag",this.thisStartTagName),this.token=[],r.state=this.start,r.curIndex++,r):(this.token.push(s),r.state=this.attrState,r):s===">"?(Ut(si,this,xo).call(this,"attr",this.token.join("")),this.token=[],Ut(si,this,Q1).call(this),r.state=this.start,r):(r.state=this.attrState,r)}},{key:"endTagState",value:function(r){var n=r.allChars[r.curIndex];if(n.match(/[a-zA-Z]/))return this.token.push(n.toLowerCase()),r.state=this.endTagState,r;if(n===">"){var a=this.token.join("").toLowerCase();return a=a.replace("</",""),Ut(si,this,xo).call(this,"endTag",a),this.token=[],r.state=this.start,r}}},{key:"doParse",value:function(){if(this.htmlString){var r=this.htmlString.split(""),n=new s9(r,this.start);do n.state.bind(this)(n),n.curIndex++;while(n.curIndex<r.length)}}},{key:"getTokens",value:function(){return this.tokens}}])}();function xo(r,n){var a={type:r,value:n};r=="attr"&&n===""||(this.tokens.push(a),this.tokenHandler&&this.tokenHandler(a))}function Q1(){if(this.thisStartTagName){if(this.thisStartTagName=="img")return Ut(si,this,xo).call(this,"endTag","img"),!0;if(this.thisStartTagName=="input")return Ut(si,this,xo).call(this,"endTag","input"),!0}return!1}function J1(r,n){if(document.body)if(ue.bIE)r.innerHTML=n;else{var a=new n9;new u9(n,a.receiveInput.bind(a)).doParse();var s=a.getOutPutHtml();s.children.length>0&&function(u,d){for(;u.firstChild;)u.removeChild(u.firstChild);for(;d.firstChild;){var l=d.firstChild;d.removeChild(l),u.appendChild(l)}}(r,s)}}var gR="ds-dwt-loaderBar",q1="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjAiIHdpZHRoPSIxMDBweCIgaGVpZ2h0PSIxMDBweCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjE2IiBmaWxsPSIjZmU4ZTE0Ii8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iMTQuMzQ0IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSg0NSA2NCA2NCkiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjY0IiByPSIxMi41MzEiIGZpbGw9IiNmZThlMTQiIHRyYW5zZm9ybT0icm90YXRlKDkwIDY0IDY0KSIvPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjEwLjc1IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgxMzUgNjQgNjQpIi8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iMTAuMDYzIiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgNjQgNjQpIi8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iOC4wNjMiIGZpbGw9IiNmZThlMTQiIHRyYW5zZm9ybT0icm90YXRlKDIyNSA2NCA2NCkiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjY0IiByPSI2LjQzOCIgZmlsbD0iI2ZlOGUxNCIgdHJhbnNmb3JtPSJyb3RhdGUoMjcwIDY0IDY0KSIvPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjUuMzc1IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgzMTUgNjQgNjQpIi8+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIHZhbHVlcz0iNDUgNjQgNjQ7OTAgNjQgNjQ7MTM1IDY0IDY0OzE4MCA2NCA2NDsyMjUgNjQgNjQ7MjcwIDY0IDY0OzMxNSA2NCA2NDswIDY0IDY0IiBjYWxjTW9kZT0iZGlzY3JldGUiIGR1cj0iNzIwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+PC9nPjwvc3ZnPg==";function mR(r){var n,a,s,u="",d="230px",l="240px",h="",m="";return r&&(r.background&&(u=";background:"+r.background),r.width&&(d=r.width),r.height&&(l=r.height),r.imageSource&&(n=r.imageSource)),n||(n=q1),s=parseInt(d)/2,p.isNumber(s)&&s>0&&(m=";width:"+s+"px"),a=parseInt(l)/2,p.isNumber(a)&&a>0&&(h=";height:"+a+"px"),['<div align="center" ','class="',gR,'" ','style="margin:0 auto;max-width:',d,";max-height:",l,";line-height:",l,u,'"><img style="user-select:none',h,m,';max-width:230px;max-height:240px;vertical-align:middle" src="',n,'" draggable="false" /></div>'].join("")}var Ao,np=window,an=document,vR=5e5;function c9(r,n){for(var a=0;a<r.length;++a)if(r[a]==n)return or;return Ct}function l9(r){var n;return np.getComputedStyle?n=np.getComputedStyle(r):r.currentStyle&&(n=r.currentStyle),n&&n.position!="absolute"||r.style.top!="auto"&&r.style.top!=""||r.style.bottom!="auto"&&r.style.bottom!=""?Ct:!function(a){for(var s=0;s<an.styleSheets.length;++s){var u=an.styleSheets[s],d=void 0,l=void 0,h=void 0,m=void 0;try{d=u.cssRules,l=an.querySelectorAll}catch{}if(d&&l)for(var _=0;_<d.length;++_){h=d[_],m=Ct;try{m=l(h.selectorText)}catch{}if(m&&c9(m,a)){var S=h.style.getPropertyValue("top"),y=h.style.getPropertyValue("bottom");if(S&&S!="auto"||y&&y!="auto")return or}}}return Ct}(r)}function _R(r){var n=an.createEvent("MouseEvents");return n==null||n.initMouseEvent(r.type,r.bubbles,r.cancelable,np,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget),n}function yR(r){var n;(n=an.body)===null||n===void 0||n.dispatchEvent(_R(r))}function SR(r,n){if(Ao){var a=Ao.style;a.backgroundColor=["rgba(",n,",",n,",",n,",",r,")"].join(""),a.filter=["alpha(opacity=",100*r,")"].join(""),a.opacity=a.MozOpacity=r}}function d9(r,n){Ao===X1?function(a,s){if(Ao=an.createElement("div")){var u=Ao.style;if(u.position="fixed",u.display="block",u.left=u.top=u.margin=u.padding=0,SR(a,s),u.zIndex=vR,u.width=u.height="100%",ue.bIE&&ue.IEVersion<10){var d=an.createElement("iframe");d.style.background="none",d.style.margin="0px auto",d.style.border="0",d.style.width="100%",d.style.height="100%",d.style.position="relative",d.style.zIndex="9999",d.src="javascript:''",Ao.appendChild(d)}an.createEvent&&p.addEventListener(Ao,"click",yR)}}(r,n):SR(r,n),an.body&&!an.body.contains(Ao)&&an.body.appendChild(Ao)}var Z1,Ti,zu={pendingDialogStack:[],pendingDialogTopmostStack:[],opacity:.1,grayHex:128,_updateStacking:function(r){var n,a;(n=this.pendingDialogStack).length!=0?(r!=1&&d9(zu.opacity,zu.grayHex),a=vR,p.each(n,function(s){a++,s._dlgInfo.mask&&(s._dlgInfo.mask.style.zIndex=a++),s.style.zIndex=a})):Ao!==X1&&(p.removeEventListener(Ao,"click",yR),an&&an.body&&an.body.removeChild(Ao),Ao=X1)},pushDialog:function(r,n){var a,s,u=this;if(r.getBoundingClientRect(),(s=r.bTopmost?u.pendingDialogTopmostStack:u.pendingDialogStack).length>=1e3)p.error("Too many modal dialogs.");else{if((a=an.createElement("div")).style.zIndex="10000",a.className="dynamsoft-backdrop",n==1?(a.style.left=0,a.style.top=0,a.style.position="absolute"):(a.style.left=0,a.style.top=0,a.style.width="100%",a.style.height="100%",a.style.position="fixed"),an.createEvent&&p.addEventListener(a,"click",function(l){if(r.dispatchEvent){var h=_R(l);r.dispatchEvent(h)}}),r.parentNode.insertBefore(a,r.nextSibling),r._dlgInfo.mask=a,r.bTopmost){var d=501e3;r._dlgInfo.mask&&(r._dlgInfo.mask.style.zIndex=d),r.style.zIndex=501001}s.push(r),u._updateStacking(n)}},removeDialog:function(r){var n,a,s,u=this;s=r.bTopmost?u.pendingDialogTopmostStack:u.pendingDialogStack,(n=p.isArray(s)?p.indexOf(r,s):-1)!=-1&&(s.splice(n,1),(a=r._dlgInfo.mask).parentNode&&a.parentNode.removeChild(a),r._dlgInfo.mask=null,u._updateStacking())}};function bR(r,n){var a,s,u,d,l,h,m=this,_=!0,S=n==1?"absolute":"fixed",y="50%",b="50%",I="",x="",D=null;if(m._dlgInfo&&m._dlgInfo.styleConfig){var W=m._dlgInfo.styleConfig;p.isString(W.position)&&(S=W.position,_=!1),(p.isString(W.left)||p.isNumber(W.left))&&(b=W.left,_=!1),(p.isString(W.top)||p.isNumber(W.top))&&(y=W.top,_=!1),(p.isString(W.width)||p.isNumber(W.width))&&(I=W.width,_=!1),(p.isString(W.height)||p.isNumber(W.height))&&(x=W.height,_=!1),p.isString(W.transform)&&(D=W.transform,_=!1)}m.open?p.error("showDialog called on open dialog."):(m.open=or,m.removeAttribute("closed"),m.setAttribute("open","open"),_?a=ue.bIE&&S=="fixed"?{display:"block",position:"fixed",top:"35%",margin:"0 auto",left:0,right:0}:{display:"block",position:S,left:"50%",top:"50%",transform:"translate(-50%,-50%)"}:(a={display:"block",position:S,left:b,top:y,width:I,height:x},D&&(a.transform=D)),m.tagName=="DIALOG"?(ue.bIE?a.margin="0 auto":a.margin="0",a.broderRadius="6px",a.boxShadow="2px 2px 0 0 rgba(0,0,0,.05)",a.webkitBoxSizing="border-box",a.boxSizing="border-box"):(a.border="0",ue.bIE?a.margin="0 auto":a.margin="0",a.webkitBoxSizing="border-box",a.boxSizing="border-box"),p.mix(m.style,a),l9(m)&&(s=m,h=(((u=an.body)===null||u===void 0?void 0:u.scrollTop)||((d=an.documentElement)===null||d===void 0?void 0:d.scrollTop)||0)+((np.innerHeight?np.innerHeight:(l=an.documentElement)===null||l===void 0?void 0:l.clientHeight)-s.offsetHeight)/2,s.style.top=h+"px",s._dlgInfo.isTopOverridden=or),r&&(m._dlgInfo.modal=or,zu.pushDialog(m,n)))}function f9(r){var n=this;return n.open||p.error("closeDialog called on closed dialog."),n.open=Ct,n.removeAttribute("open"),n.setAttribute("closed","closed"),n.style.display="none",r!==void 0&&(n.returnValue=r),n._dlgInfo.isTopOverridden&&(n.style.top="auto"),n._dlgInfo.modal&&zu.removeDialog(n),n.returnValue}function CR(r){p.isNumber(r.opacity)?zu.opacity=r.opacity:zu.opacity=.1,p.isNumber(r.grayHex)?zu.grayHex=r.grayHex:zu.grayHex=128}function h9(r){var n,a,s,u;if(!Ti.dlgMask){var d,l,h,m,_=!1;if(r&&(m={},(p.isString(r.top)||p.isNumber(r.top))&&(m.top=r.top),(p.isString(r.left)||p.isNumber(r.left))&&(m.left=r.left),p.isString(r.position)&&(m.position=r.position),r.confined&&(document.getElementsByClassName("dwt-viewer-imageEditor-fullScreen")[0]||(_=r.confined)),(p.isString(r.width)||p.isNumber(r.width))&&(n=r.width),(p.isString(r.height)||p.isNumber(r.height))&&(a=r.height),p.isString(r.background)&&(s=r.background),p.isString(r.imageSource)&&(u=r.imageSource),CR(r),_&&r.wrapperEl&&(l=r.wrapperEl,p.isString(l)&&(l=an.getElementById(l)))),!u){var S;if(window&&window.Dynamsoft){var y=window.Dynamsoft.DWT;y&&y.CustomizableDisplayInfo&&(S=y.CustomizableDisplayInfo)}S?(ue.bIE&&p.isString(S.loaderBarSourceIE)&&S.loaderBarSourceIE!=""&&(u=S.loaderBarSourceIE),!u&&p.isString(S.loaderBarSource)&&S.loaderBarSource!=""&&(u=S.loaderBarSource)):u=q1}if(l&&(h=l.getBoundingClientRect(),l.style.position="relative"),d=an.createElement("div")){var b;d.className="dynamsoft-dialog-wrap",J1(d,mR({width:n,height:a,backgroundColor:s,imageSource:u})),l?(l.appendChild(d),d.style.position="absolute",d.style.top="50%",d.style.left="50%",d.style.transform="translate(-50%, -50%)"):(b=an.body)===null||b===void 0||b.appendChild(d),_&&h&&(window.onresize?Ti.preOnresize=window.onresize:Ti.preOnresize=!1,window.onscroll?Ti.preOnscroll=window.onscroll:Ti.preOnscroll=!1),Ti.dlgMask=d,Z1.setup(d,_),m&&(d._dlgInfo.styleConfig=m),l&&(d._dlgInfo.wrapperEl=l),d.showModal()}}}function p9(){var r=Ti.dlgMask;if(r){var n;r.close(),r._dlgInfo&&r._dlgInfo.wrapperEl?(r._dlgInfo.wrapperEl.removeChild(r),r._dlgInfo.wrapperEl=null):(n=an.body)===null||n===void 0||n.removeChild(r),Ti.dlgMask=!1}Ti.preOnresize?window.onresize=Ti.preOnresize:window.onresize=null,Ti.preOnresize=!1,Ti.preOnscroll?window.onscroll=Ti.preOnscroll:window.onscroll=null,Ti.preOnscroll=!1}Z1={setup:function(r,n){r.show=bR.bind(r,Ct,n),r.showModal=bR.bind(r,or,n),r.close=f9.bind(r),r._dlgInfo={}}},Ti={dlgMask:!1,preOnresize:!1,preOnscroll:!1};var g9=function(){return he(function r(n){de(this,r),ut(this,"div",void 0),ut(this,"container",void 0),ut(this,"docElem",void 0),ut(this,"opacity",void 0),ut(this,"cssFloat",void 0),ut(this,"clearCloneStyle",void 0),ut(this,"boxSizing",void 0),ut(this,"pixelPositionVal",void 0),ut(this,"pixelMarginRightVal",void 0),ut(this,"boxSizingReliableVal",void 0),ut(this,"pixelBoxStylesVal",void 0),ut(this,"reliableHiddenOffsetsVal",void 0),ut(this,"reliableMarginRightVal",void 0),ut(this,"reliableMarginLeftVal",void 0),ut(this,"leadingWhitespace",void 0),ut(this,"tbody",void 0),ut(this,"htmlSerialize",void 0);var a=n.createElement("div"),s=n.createElement("div");if(s.style){this.div=s,this.container=a,this.docElem=n.documentElement,s.textContent=" ";var u=document.createElement("link");s.appendChild(u);var d=document.createElement("table");s.appendChild(d);var l=document.createElement("a");l.href="/a",s.appendChild(l);var h=document.createElement("input");for(h.type="checkbox",s.appendChild(h),this.leadingWhitespace=s.firstChild.nodeType===3,this.tbody=!s.getElementsByTagName("tbody").length,this.htmlSerialize=!!s.getElementsByTagName("link").length,s.style.cssText="float:left;opacity:.5",this.opacity=s.style.opacity==="0.5",this.cssFloat=!!s.style.cssFloat,s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",this.clearCloneStyle=s.style.backgroundClip==="content-box",(a=document.createElement("div")).style.cssText="border:0;width:60px;height:0;top:0;left:-11111px;padding:0;margin-top:1px;position:absolute";s.firstChild;)s.removeChild(s.firstChild);a.appendChild(s),this.boxSizing=s.style.boxSizing===""||s.style.MozBoxSizing===""||s.style.WebkitBoxSizing===""}},[{key:"reliableHiddenOffsets",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableHiddenOffsetsVal}},{key:"boxSizingReliable",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.boxSizingReliableVal}},{key:"pixelBoxStyles",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelBoxStylesVal}},{key:"pixelMarginRight",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelMarginRightVal}},{key:"pixelPosition",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelPositionVal}},{key:"reliableMarginRight",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableMarginRightVal}},{key:"reliableMarginLeft",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableMarginLeftVal}},{key:"roundPixelMeasures",value:function(r){return Math.round(parseFloat(r))}},{key:"computeStyleTests",value:function(){var r,n,a=this.div;if(this.docElem&&this.docElem.appendChild(this.container),a.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;overflow:scroll;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:60%",this.pixelPositionVal=this.boxSizingReliableVal=this.reliableMarginLeftVal=this.pixelBoxStylesVal=!1,this.pixelMarginRightVal=this.reliableMarginRightVal=!0,window.getComputedStyle)return n=window.getComputedStyle(a),this.pixelPositionVal=(n||{}).top!=="1%",this.reliableMarginLeftVal=(n||{}).marginLeft==="2px",this.boxSizingReliableVal=(n||{width:"4px"}).width==="4px",a.style.marginRight="50%",this.pixelMarginRightVal=(n||{marginRight:"4px"}).marginRight==="4px",(r=a.appendChild(document.createElement("div"))).style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",a.style.width="1px",this.reliableMarginRightVal=!parseFloat((window.getComputedStyle(r)||{}).marginRight),a.style.right="60%",this.pixelBoxStylesVal=this.roundPixelMeasures(n.right)===36,a&&a.removeChild(r),void(a=null);if(a.style.display="none",this.reliableHiddenOffsetsVal=a.getClientRects().length===0,this.reliableHiddenOffsetsVal){a.style.display="";var s=document.createElement("table"),u=document.createElement("tr"),d=document.createElement("td");u.appendChild(d);var l=document.createElement("td");l.textContent="t",u.appendChild(l),s.appendChild(u),a.appendChild(u),a.childNodes[0].style.borderCollapse="separate",(r=a.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",this.reliableHiddenOffsetsVal=r[0].offsetHeight===0,this.reliableHiddenOffsetsVal&&(r[0].style.display="",r[1].style.display="none",this.reliableHiddenOffsetsVal=r[0].offsetHeight===0)}this.docElem&&this.docElem.removeChild(this.container)}},{key:"createHTMLDocument",get:function(){if(document.implementation){var r=document.implementation.createHTMLDocument("").body;return r.innerHTML="<form></form><form></form>",r.childNodes.length===2}return!1}}])}(),xa=new g9(document),Kv=xa.docElem;p.sizzle;var Ed,Yv,m9=/^(top|right|bottom|left)$/,eC=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tC=new RegExp("^("+eC+")(?!px)[a-z%]+$","i"),v9=new RegExp("^("+eC+")(.*)$","i");window.getComputedStyle?Ed=function(r){var n,a;return(a=(n=p.isFunction(r.getEL)?r.getEL():r).ownerDocument.defaultView)&&a.opener||(a=window),a.getComputedStyle(n)}:Kv&&Kv.currentStyle&&(Ed=function(r){return r.currentStyle});var rC=/^--/,TR="[\\x20\\t\\r\\n\\f]",_9=new RegExp("^"+TR+"+|((?:^|[^\\\\])(?:\\\\.)*)"+TR+"+$","g"),xd=["Top","Right","Bottom","Left"],y9=new RegExp(xd.join("|"),"i");window.getComputedStyle?Yv=function(r,n,a){var s,u,d,l,h=rC.test(n),m=r.style;return(a=a||Ed(r))&&(l=a.getPropertyValue(n)||a[n],h&&l&&(l=l.replace(_9,"$1")||void 0),l!==""||function(_){return Ii.contains(_.ownerDocument,_)}(r)||(l=ip(r,n)),!xa.pixelBoxStyles()&&tC.test(l)&&y9.test(n)&&(s=m.width,u=m.minWidth,d=m.maxWidth,m.minWidth=m.maxWidth=m.width=l,l=a.width,m.width=s,m.minWidth=u,m.maxWidth=d)),l===void 0?l:l+""}:Kv&&Kv.currentStyle&&(Yv=function(r,n,a){var s,u,d,l,h=r.style;return(l=(a=a||Ed(r))?a[n]:void 0)==null&&h&&h[n]&&(l=h[n]),tC.test(l)&&!m9.test(n)&&(s=h.left,(d=(u=r.runtimeStyle)&&u.left)&&(u.left=r.currentStyle.left),h.left=n==="fontSize"?"1em":l,l=h.pixelLeft+"px",h.left=s,d&&(u.left=d)),l===void 0?l:l+""||"auto"});var Xv,S9=/<([\w:-]+)/,b9=/<|&#?\w+;/,C9=/^-ms-/,T9=/-([\da-z])/gi,I9=/^(none|table(?!-c[ea]).+)/,w9=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,E9={position:"absolute",visibility:"hidden",display:"block"},IR={letterSpacing:"0",fontWeight:"400"},wR={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:xa.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ER=document.createElement("div");Xv=ER.style,xa.cssFloat=!!ER.style.cssFloat;var x9=function(r,n){return n.toUpperCase()},xR=["Webkit","Moz","ms"],AR={};function PR(r){var n=Ii.cssProps[r]||AR[r];return n||(r in Xv?r:AR[r]=function(a){if(a in Xv)return a;for(var s=a.charAt(0).toUpperCase()+a.slice(1),u=xR.length;u--;)if((a=xR[u]+s)in Xv)return a}(r)||r)}var Ii={cssHooks:{},contains:function(r,n){var a=n&&n.parentNode;return r===a||!(!a||a.nodeType!==1||!(r.contains?r.contains(a):r.compareDocumentPosition&&16&r.compareDocumentPosition(a)))},merge:function(r,n){for(var a=+n.length,s=0,u=r.length;s<a;)r[u++]=n[s++];if(a!=a)for(;n[s]!==void 0;)r[u++]=n[s++];return r.length=u,r},camelCase:function(r){return r.replace(C9,"ms-").replace(T9,x9)},cssProps:{},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0}},A9=["flo","at"].join("");Ii.cssProps[A9]=xa.cssFloat?"cssFloat":"styleFloat";function kR(r,n,a,s,u){for(var d=a===(s?"border":"content")?4:n==="width"?1:0,l=0;d<4;d+=2)a==="margin"&&(l+=Aa(r,a+xd[d],!0,u)),s?(a==="content"&&(l-=Aa(r,"padding"+xd[d],!0,u)),a!=="margin"&&(l-=Aa(r,"border"+xd[d]+"Width",!0,u))):(l+=Aa(r,"padding"+xd[d],!0,u),a!=="padding"&&(l+=Aa(r,"border"+xd[d]+"Width",!0,u)));return l}function DR(r,n,a){var s=!0,u=n==="width"?r.offsetWidth:r.offsetHeight,d=Ed(r),l=xa.boxSizing&&Aa(r,"boxSizing",!1,d)==="border-box";if(u<=0||u==null){if(((u=Yv(r,n,d))<0||u==null)&&(u=r.style[n]),tC.test(u))return u;s=l&&(xa.boxSizingReliable()||u===r.style[n]),u=parseFloat(u)||0}return u+kR(r,n,a||(l?"border":"content"),s,d)}function RR(r){return new RegExp("^(?:([+-])=|)("+eC+")([a-z%]*)$","i").exec(r)}function ip(r,n,a,s){if(r&&r.nodeType!==3&&r.nodeType!==8&&r.style){var u,d,l,h=Ii.camelCase(n),m=rC.test(n),_=r.style;if(m||(n=PR(h)),l=Ii.cssHooks[n]||Ii.cssHooks[h],a===void 0)return l&&"get"in l&&(u=l.get(r,!1,s))!==void 0?u:_[n];(d=ee(a))==="string"&&(u=RR(a))&&u[1]&&(a=function(S,y,b,I){var x,D=1,W=20,$=I?function(){return I.cur()}:function(){return Aa(S,y,"")},te=$(),q=b&&b[3]||(Ii.cssNumber[y]?"":"px"),X=(Ii.cssNumber[y]||q!=="px"&&+te)&&RR(Aa(S,y));if(X&&X[3]!==q){q=q||X[3],b=b||[],X=+te||1;do ip(S,y,(X/=D=D||".5")+q);while(D!==(D=$()/te)&&D!==1&&--W)}return b&&(X=+X||+te||0,x=b[1]?X+(b[1]+1)*b[2]:+b[2],I&&(I.unit=q,I.start=X,I.end=x)),x}(r,n,u),d="number"),a!=null&&a==a&&(d!=="number"||m||(a+=u&&u[3]||(Ii.cssNumber[h]?"":"px")),xa.clearCloneStyle||a!==""||n.indexOf("background")!==0||(_[n]="inherit"),l&&"set"in l&&(a=l.set(r,a,s))===void 0||(m?_.setProperty(n,a):_[n]=a))}}function Aa(r,n,a,s){var u,d,l,h=Ii.camelCase(n);return rC.test(n)||(n=PR(h)),(l=Ii.cssHooks[n]||Ii.cssHooks[h])&&"get"in l&&(u=l.get(r,!0,a)),u===void 0&&(u=Yv(r,n,s)),u==="normal"&&n in IR&&(u=IR[n]),a===""||a?(d=parseFloat(u),a===!0||isFinite(d)?d||0:u):u}function Qv(r,n){if(!r||typeof r!="string")return[];if(typeof n=="boolean"&&(n=!1),!n)if(xa.createHTMLDocument){var a=(n=document.implementation.createHTMLDocument("")).createElement("base");a.href=document.location.href,n.head.appendChild(a)}else n=document;var s=w9.exec(r);return s?[n.createElement(s[1])]:(s=function(u,d){for(var l,h,m,_,S,y=d.createDocumentFragment(),b=[],I=0,x=u.length;I<x;I++)if((l=u[I])||l===0)if(p.type(l)==="object")Ii.merge(b,l.nodeType?[l]:l);else if(b9.test(l)){for(h=h||y.appendChild(d.createElement("div")),m=(S9.exec(l)||["",""])[1].toLowerCase(),J1(h,(_=wR[m]||wR._default)[1]+l+_[2]),S=_[0];S--;)h=h.lastChild;Ii.merge(b,h.childNodes),(h=y.firstChild).textContent=""}else b.push(d.createTextNode(l));for(y.textContent="",I=0;l=b[I++];)y.appendChild(l);return h=null,y}([r],n),Ii.merge([],s.childNodes))}p.each(["height","width"],function(r,n){Ii.cssHooks[r]={get:function(a,s,u){if(s)return I9.test(Aa(a,"display"))&&a.offsetWidth===0?function(d,l,h,m){var _,S={};return p.each(l,function(y,b){S[b]=d.style[b],d.style[b]=l[b]}),_=h.apply(d,m||[]),p.each(l,function(y,b){d.style[b]=S[b]}),_}(a,E9,function(){return DR(a,r,u)}):DR(a,r,u)},set:function(a,s,u){var d=u&&Ed(a);return function(l,h,m){var _=v9.exec(h);return _?Math.max(0,parseInt(_[1])-(m||0))+(_[2]||"px"):h}(0,s,u?kR(a,r,u,xa.boxSizing&&Aa(a,"boxSizing",!1,d)==="border-box",d):0)}}});var FR,OR=Array.prototype.slice,oo=" ",P9=ue.bIE&&ue.IEMode<10,NR=/[\n\t\r\.]/g,nC=function(){function r(n,a,s){de(this,r),ut(this,"isNodeList",!0),ut(this,"length",0);var u=this;return!n||p.isString(n)?u:p.isArray(n)||n.isNodeList?(Array.prototype.push.apply(u,p.makeArray(n)),u):(u[0]=n,u.length=1,u)}return he(r,[{key:"item",value:function(n){return p.isNumber(n)?n>=this.length?null:new r(this[n]):new r(n)}},{key:"slice",value:function(){return new r(OR.apply(this,arguments))}},{key:"getDOMNodes",value:function(){return OR.call(this)}},{key:"each",value:function(n,a){var s=this;return p.each(s,function(u,d){return u=new r(u),n.call(a||u,u,d,s)}),s}},{key:"getEL",value:function(){return this.length>0?this[0]:void 0}},{key:"all",value:function(n){return this.length>0?sC(n,this):new r}},{key:"one",value:function(n){var a=this.all(n);return a.length?a.slice(0,1):a}},{key:"attr",value:function(n,a){var s=this.getEL();if(s){if(p.isUndefined(a))return n==="readonly"?s.readOnly?"readonly":"":(n!=="style"&&P9?s=s[n]:(s=s.attributes[n])&&(s=s.value),s);n=="class"?s.className=a:s[n]=a}}},{key:"addClass",value:function(n){var a=this.getEL();a&&function(s,u){var d,l,h,m,_=s.className,S=u.length;if(_){for(d=oC(_),l=_,h=0;h<S;h++)m=aC(u[h]),d.indexOf(oo+m+oo)<0&&(l+=oo+m);l=p.trim(l)}else l=u.join(" ");s.className=l}(a,n.split(oo))}},{key:"removeClass",value:function(n){var a=this.getEL();a&&function(s,u){var d,l,h,m=s.className,_=u.length;if(m&&_){for(d=oC(m),l=0;l<_;l++)for(h=oo+aC(u[l])+oo;d.indexOf(h)>=0;)d=d.replace(h,oo);s.className=p.trim(d)}}(a,n.split(oo))}},{key:"hasClass",value:function(n){var a=this.getEL();if(a)return function(s,u){var d,l,h,m=s.className,_=u.length;if(m&&_){for(d=oC(m),l=0;l<_;l++)if(h=oo+aC(u[l])+oo,d.indexOf(h)<0)return Ct;return or}return Ct}(a,n.split(oo))}},{key:"parent",value:function(){var n=this.getEL();return n&&(n=n.parentNode),new r(n)}},{key:"remove",value:function(){var n=this.getEL();n&&n.parentNode&&n.parentNode.removeChild(n)}},{key:"offset",value:function(){var n=this.getEL();return p.DOM.getElDimensions(n,or)}},{key:"before",value:function(n){var a=this.getEL(),s=[n];a&&(iC(n)&&(s=Qv(n)),p.each(s,function(u){a.insertBefore(u,a.childNodes[0])}))}},{key:"append",value:function(n){var a=this.getEL(),s=[n];a&&(iC(n)&&(s=Qv(n)),p.each(s,function(u){a.appendChild(u)}))}},{key:"html",value:function(n){var a=this.getEL();if(a){if(p.isUndefined(n))return function(s){var u=s.innerHTML;if(!document.all)return u;var d=/(\s+\w+)\s*=\s*([^<>"\s]+)(?=[^<>]*\/>)/gi,l=/"'([^'"]*)'"/gi;return(u=u.replace(d,'$1="$2"').replace(l,'"$1"')).replace(/<(\/?)(\w+)([^>]*)>/g,function(h,m,_,S){return m?"</"+_.toLowerCase()+">":("<"+_.toLowerCase()+S+">").replace(/=(("[^"]*?")|('[^']*?')|([\w\-\.]+))([\s>])/g,function(y,b,I,x,D,W,$,te){return D?'="'+D+'"'+W:y})}).replace(/<\/?([^>]+)>/g,function(h){return h})}(a);for(;a.firstChild;)a.removeChild(a.firstChild);p.each(Qv(n),function(s){a.appendChild(s)})}}},{key:"style",value:function(n,a){var s=this.getEL();if(s)return ip(s,n,a)}},{key:"css",value:function(n){p.each(this,function(a){p.each(n,function(s,u){ip(a,u,s)})})}},{key:"show",value:function(){p.each(this,function(n){n.style.display=""})}},{key:"hide",value:function(){p.each(this,function(n){n.style.display="none"})}}])}();function iC(r){return p.isString(r)&&(r=p.trim(r))&&r.length>=3&&p.startsWith(r,"<")&&p.endsWith(r,">")}function oC(r){return(oo+r+oo).replace(NR,oo)}function aC(r){return r.replace(NR,"")}function sC(r,n){var a=n;return a&&a.isNodeList&&(a=a.getEL()),p.isString(r)?(iC(r)&&p.error("Err 4002."),new nC(p.sizzle(r,a))):r.isNodeList?r:new nC(r)}function k9(r,n){var a=sC(r,n);return a.length?a.slice(0,1):a}function D9(r){return r instanceof nC}(FR=self||{}).Map||(FR.Map=function(){this.keys=[],this.data={},this.set=function(r,n){this.data[r]==null&&this.keys.indexOf(r)==-1&&this.keys.push(r),this.data[r]=n},this.get=function(r){return this.data[r]}});var Ce=new(he(function r(){de(this,r),ut(this,"__ver",20230516),ut(this,"Events",tp),ut(this,"EnumMouseButton",Ea),ut(this,"detectButton",rp),ut(this,"getWheelDelta",ll),ut(this,"fromUnicode",X7),ut(this,"escapeHtml",Q7),ut(this,"escapeRegExp",J7),ut(this,"unEscapeHtml",dR),ut(this,"param",t9),ut(this,"unparam",r9),ut(this,"colorStrToInt",io),ut(this,"IntToColorStr",Ni),ut(this,"currentStyle",e9),ut(this,"parseHTML",Qv),ut(this,"setHtml",J1),ut(this,"css",Aa),ut(this,"style",ip),ut(this,"support",xa),ut(this,"all",sC),ut(this,"one",k9),ut(this,"isNodeList",D9),ut(this,"Promise",K1),ut(this,"nativePromise",$v),ut(this,"loaderBarClassName",gR),ut(this,"loaderBarSource",q1),ut(this,"createShowMaskContent",mR),ut(this,"switchEvent",Z7),ut(this,"setBackOpacity",CR),ut(this,"showMask",h9),ut(this,"hideMask",p9),ut(this,"dialog",Z1),ut(this,"mask",Ti)})),ea={getHex:function(r){var n=Number(r).toString(16).toUpperCase();return n.length==1&&(n=["0",n].join("")),n},getColor:function(r){var n,a,s;return s=r>>16,a=(65280&r)>>8,n=255&r,["#",ea.getHex(s),ea.getHex(a),ea.getHex(n)].join("")},RGB2BGR:function(r){return(255&r)<<16|65280&r|r>>16}};ea.BGR2RGB=ea.RGB2BGR;var Pe=!1,rt=!0,MR=/[#\/\?@]/g,R9=/[#\?]/g,LR={scheme:1,userInfo:2,hostname:3,port:4,path:5},F9=new RegExp("^(?:([\\w\\d+.-]+):)?(?://(?:([^/?#@]*)@)?([\\w\\d\\-\\u0100-\\uffff.+%]*|\\[[^\\]]+\\])(?::([0-9]+))?)?(.+)?$");function uC(r,n){return p.isString(r)&&p.isString(n)?r.toLowerCase()===n.toLowerCase():r===n}function cC(r,n){return encodeURI(r).replace(n,function(a){return"%"+function(s){return s.length===1?"0"+s:s}(a.charCodeAt(0).toString(16))})}var WR,Jv=function(){function r(n){if(f(this,r),T(this,"scheme",""),T(this,"userInfo",""),T(this,"hostname",""),T(this,"port",""),T(this,"path",""),n instanceof r)return p.clone(n);r.getComponents(n,this)}return v(r,[{key:"clone",value:function(){var n=new r,a=this;return p.each(LR,function(s,u){n[u]=a[u]}),n}},{key:"getScheme",value:function(){return this.scheme}},{key:"setScheme",value:function(n){return this.scheme=n,this}},{key:"getHostname",value:function(){return this.hostname}},{key:"setHostname",value:function(n){return this.hostname=n,this}},{key:"setUserInfo",value:function(n){return this.userInfo=n,this}},{key:"getUserInfo",value:function(){return this.userInfo}},{key:"setPort",value:function(n){return this.port=n,this}},{key:"getPort",value:function(){return this.port}},{key:"setPath",value:function(n){return this.path=n,this}},{key:"getPath",value:function(){return this.path}},{key:"isSameOriginAs",value:function(n){var a=this;return uC(a.hostname,n.hostname)&&uC(a.scheme,n.scheme)&&uC(a.port,n.port)}},{key:"toString",value:function(n){var a,s,u,d,l,h=[],m=this;return(a=m.scheme)&&(h.push(cC(a,MR)),h.push(":")),(s=m.hostname)&&(h.push("//"),(l=m.userInfo)&&(h.push(cC(l,MR)),h.push("@")),h.push(encodeURIComponent(s)),(d=m.port)&&(h.push(":"),h.push(d))),(u=m.path)&&(s&&!p.startsWith(u,"/")&&(u="/"+u),h.push(cC(u,R9))),h.join("")}}],[{key:"getComponents",value:function(n,a){var s=(n=n||gr).match(F9)||[],u=a||{};return p.each(LR,function(d,l){u[l]=s[d]}),u}}])}(),qv=p.each,ps=p.error,lC=p.isFunction,dC=p.isString,fC=ue.bIE&&ue.IEVersion<=9,O9=ue.bIE&&ue.IEVersion<=10,Hu=window,hC=new Jv(location.href),BR=hC&&/^(?:about|app|app\-storage|.+\-extension|file|widget)$/.test(hC.getScheme()),N9=!1,pC=function(){try{return new Hu.XMLHttpRequest}catch{}},UR=function(){try{var r=Pe;return qv(["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.3.0","Msxml3.XMLHTTP"],function(n){try{if(!r)return r=new Hu.ActiveXObject(n),Pe}catch(a){ps("new xhr error: "+a.message)}}),r}catch{}},M9=!(BR||!Hu.XMLHttpRequest)&&"withCredentials"in(pC()||[]),L9=Hu.ActiveXObject?function(r){return fC?UR():!BR&&pC()||UR()}:pC,VR=function(r){return N9},W9=/^(?:GET|HEAD)$/,B9=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,gC={xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},mC=WR;O9&&(mC=p.noop);var U9=function(){function r(){f(this,r),T(this,"url",!1),T(this,"onSuccess",!1),T(this,"onError",!1),T(this,"onComplete",!1),T(this,"method","GET"),T(this,"async",!0),T(this,"xhrFields",!1),T(this,"mimeType",!1),T(this,"username",!1),T(this,"password",!1),T(this,"data",!1),T(this,"dataType","text"),T(this,"headers",!1),T(this,"contentType","application/x-www-form-urlencoded; charset=UTF-8"),T(this,"beforeSend",!1),T(this,"afterSend",!1),T(this,"timeout",0),T(this,"cache",!0),T(this,"crossDomain",!1),T(this,"retry",0)}return v(r,[{key:"setRequestHeader",value:function(n,a){this.headers[n]=a}},{key:"getAllResponseHeaders",value:function(){return this.state===2?this.responseHeadersString:null}},{key:"getNativeXhr",value:function(){return this.nativeXhr}},{key:"getResponseHeader",value:function(n){var a,s;if(n=n.toLowerCase(),this.state===2){if(!(s=this.responseHeaders))for(s=this.responseHeaders={};a=B9.exec(this.responseHeadersString);)s[a[1].toLowerCase()]=a[2];a=s[n]}return a===void 0?null:a}},{key:"overrideMimeType",value:function(n){return this.state||(this.mimeType=n),this}},{key:"abort",value:function(n){return this.state=3,this.status=0,this.statusText=n??"abort",this.nativeXhr&&this.nativeXhr.abort(),this._callback(),this}},{key:"_ioReady",value:function(n,a){var s=!1,u=this;if(this.state!==2&&this.state!==3){this.state===1&&(this.state=2),this.readyState=4,n>=200&&n<300||n===304?n===304?(a="not modified",s=!0):(a="success",s=!0):n<0&&(n=0);try{n>=200&&this.handleResponseData()}catch(d){ps(d,"error"),a=d.message||"parser error"}return(n<200||!s)&&this.retry>0?(this.retry=this.retry-1,void setTimeout(function(){u.sendInternal()},200)):(this.status=n,this.statusText=a,this._callback(s),s)}}},{key:"_callback",value:function(n){var a=this,s=this.timeoutTimer;s&&(clearTimeout(s),this.timeoutTimer=0),qv([n?this.onSuccess:this.onError,this.onComplete],function(u){lC(u)&&u.apply(a.context,[a.responseData,a.statusText,a])}),this.responseData=null}},{key:"handleResponseData",value:function(){var n,a=this.dataType,s=this.nativeXhr;if(a==="blob"||a==="arraybuffer")if(fC){var u,d,l;if("responseBody"in s)u=s.responseBody,d=Hu.dsVbsBinGetLength(u),n=new Hu.VBArray(Hu.dsVbsBinGetBytes(u,0,d)).toArray();else for(n=[],d=(u=s.responseText).length,l=0;l<d;++l)n.push(255&u.charCodeAt(l));u=null}else n=Hu.Blob?s.response:"responseBody"in s?s.responseBody:s.responseText;else if(a=="json")n=s.responseType&&s.responseType.toLowerCase()=="json"?s.response:s.responseText?p.parse(s.responseText):p.parse(s.response);else if(a==="user-defined")n=s.response!==void 0?s.response:s.responseText;else{this.responseText=n=s.responseText||"";try{var h=s.responseXML;h&&h.documentElement&&(this.responseXML=h)}catch{}}this.responseData=n}},{key:"sendInternal",value:function(n){var a,s,u,d,l,h,m,_,S,y,b,I=this;if(s=(a=this._setup(n)).method,dC(s)&&(s=s.toUpperCase()),l=a.contentType,u=a.url,d=a.dataType,_=a.mimeType,dC(u)&&(this.nativeXhr=h=L9(a.crossDomain),h)){try{if(this.state=1,a.username?h.open(s,u,a.async,a.username,a.password):h.open(s,u,a.async),(a.async||ue.bIE)&&d&&d!="user-defined"&&"responseType"in h)try{h.responseType=d}catch{}}catch(x){return void(this.state<2?(ps(x,"error"),this._ioReady(-1,"open error: "+(p.isNumber(x.number)?"("+x.number+")":"")+(x.message||""))):ps(x))}"withCredentials"in(m=a.xhrFields||{})&&(M9||delete m.withCredentials),qv(m,function(x,D){try{h[D]=x}catch(W){ps(W)}}),_&&h.overrideMimeType&&h.overrideMimeType(_),(S=a.headers||{})["X-Requested-With"]===!1&&delete S["X-Requested-With"],"setRequestHeader"in h&&(l&&h.setRequestHeader("Content-Type",a.contentType),h.setRequestHeader("Accept",d&&gC[d]?gC[d]+(d==="*"?"":", */*; q=0.01"):gC["*"]),qv(S,function(x,D){h.setRequestHeader(D,x)})),s!="GET"||a.cache||(h.setRequestHeader("If-Modified-Since","0"),h.setRequestHeader("Cache-Control","no-cache")),b=(y=!W9.test(a.method))&&a.data||null,y&&fC&&(b=a.data),a.async&&a.timeout>0&&(a.timeout<300&&(a.timeout=300),this.timeoutTimer=setTimeout(function(){I.abort("timeout")},a.timeout));try{if(this.state=1,lC(this.beforeSend)&&this.beforeSend(h,I)===!1)return void this.abort("cancel");h.send(b),b=null,a.data=null,lC(this.afterSend)&&this.afterSend(I)}catch(x){this.state<2?(ps(x,"error"),this._ioReady(-1,"send error: "+(x.message||""))):ps(x)}if(!a.async||h.readyState===4)return I._xhrCallback();h.onreadystatechange=function(){I._xhrCallback()}}}},{key:"_xhrCallback",value:function(n,a){var s,u=this.nativeXhr;try{if(u.readyState===4||a)if(VR()||(u.onreadystatechange=mC),a)u.readyState!==4&&u.abort();else{VR()||(this.responseHeadersString=u.getAllResponseHeaders());var d,l=u.status;try{d=u.statusText}catch(h){ps("xhr statusText error: "),ps(h),d=""}s=this._ioReady(l,d)}}catch(h){ps(h,"error"),u.onreadystatechange=mC,a||this._ioReady(-1,h.message||"process error")}return s}},{key:"_setup",value:function(n){var a,s,u,d,l;if(n){for(s in this.context=n.context,delete n.context,n instanceof r&&(n=n.config),this.config=n,d=n.url,p.startsWith(d,"//")&&(n.url=d="http:"+d),(p.startsWith(d,"http://")||p.startsWith(d,"https://"))&&(l=new Jv(d)),a=n.dataType?n.dataType.toLowerCase():"text",n.dataType=a,n.method?n.method=n.method.toUpperCase():n.method="GET",l&&!("crossDomain"in n)&&(n.crossDomain=!l.isSameOriginAs(hC)),u=n.headers)u[s]===WR&&delete u[s];p.mix(this,n)}return this.state=1,this}},{key:"dispose",value:function(){this.responseHeaders=null,this.responseHeadersString=null,this.responseData=null,this.responseText=null,this.responseXML=null,this.context=null,this.config=null,this.onSuccess=null,this.onError=null,this.onComplete=null,this.xhrFields=null,this.data=null,this.headers=null,this.beforeSend=null,this.afterSend=null}}])}();function Po(r){if(r&&dC(r.url)){var n=new U9;return r.async?(r.async=!0,n.sendInternal(r),n):(r.async=!1,n.sendInternal(r))}p.log("the url is error.")}var V9="Please make sure the Dynamsoft Service has been installed.",jR="Error: This browser is currently not supported.",j9="Error: Duplicate ContainerId detected while creating a Dynamic Web TWAIN object.",G9="Error: Duplicate WebTwainId detected while creating a Dynamic Web TWAIN object.",z9="Error: The ID of the target DIV for the new DWT object is invalid.",ao="18",op="5",ap="1",$u="0828",vC="5",_C="1",Zv="".concat(ao,",").concat(op,",").concat(ap,",").concat($u),H9="".concat(ao,",").concat(vC,",").concat(_C,",").concat("0828"),yC=parseInt(ao),SC=parseInt(op),bC=parseInt(ap),GR=[yC,SC,bC,$u],zR=[yC,SC,bC,$u],HR=[yC,SC,bC,$u],$R=[1,8,5,$u],KR=[1,8,5,$u],YR=[1,8,5,$u];function XR(){if(!ue.bWin){if(ue.bMac)return zR;if(ue.bLinux)return HR}return GR}function CC(){if(!ue.bWin){if(ue.bMac)return KR;if(ue.bLinux)return YR}return $R}function e_(){return"dcp/dwasm2_"+Ad()}function Ad(){return XR().join("")}var QR=ue.bWin,$9=ue.bMac,K9=ue.bLinux,Y9=ue.bSafari,X9=ue.bFirefox,Q9=ue.bChrome,J9=location.hostname,Pa=location.pathname,TC=0,t_=ue.bMobile,JR=parseFloat(ue.strBrowserVersion);if(ue.bWin||ue.bMac||ue.bLinux||ue.bChromeOS){if(U.navInfo){var r_=U.navInfo;t_=t_||r_.bAndroid||r_.bPad||r_.biPhone||r_.biPad}}else t_=!0;J9===""?QR&&Pa.lastIndexOf("\\")>1?Pa=Pa.substring(1,Pa.lastIndexOf("\\")).replace(/%20/g," "):(TC=1,Pa=Pa.substring(1,Pa.lastIndexOf("/")).replace(/%20/g," ")):(TC=1,Pa=Pa.substring(0,Pa.lastIndexOf("/")));var Br={bChrome:Q9,bFirefox:X9,bSafari:Y9,bIE:ue.bIE,bEdge:ue.bEdge,bWin:QR,bMac:$9,bLinux:K9,iPluginLength:0,bFileSystem:ue.bFileSystem,bMobile:t_,strIEVersion:ue.IEVersion,strChromeVersion:ue.bChrome?JR:"",strFirefoxVersion:ue.bFirefox?JR:"",basePath:Pa,pathType:TC,isDesktopViewer:function(){return ue.bWin||ue.bLinux||ue.bChromeOS||ue.bMac},isPadViewer:function(){return ue.bPad||ue.biPad},isMobileViewer:function(){return ue.bMobile||ue.biPhone||ue.bAndroid||ue.bHarmonyOS},WSVersion:"18.5.0",WSSession:new Date().getTime(),bDiscardBlankImage:Pe};function q9(r){var n=r||{};n.basePath&&(Br.basePath=n.basePath),n.pathType&&(Br.pathType=n.pathType),p.isUndefined(n.bDiscardBlankImage)||(Br.bDiscardBlankImage=n.bDiscardBlankImage),n.msgPrefix&&n.msgPrefix,n.msgSuffix&&n.msgSuffix,n.detectType&&(j.detect.detectType=n.detectType),n.tryTimes&&(j.detect.tryTimes=n.tryTimes);var a=U.DWT.RemoteScanConfig;a||(a={sessionTimeout:300,keepAwake:!0},U.DWT.RemoteScanConfig=a),a.keepAwake===void 0&&(a.keepAwake=!0)}function qR(){return!!p.getWakeLock()}function n_(r){return ZR.apply(this,arguments)}function ZR(){return(ZR=o(w().mark(function r(n){var a;return w().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a=p.getWakeLock(),!n){s.next=7;break}if(a!=null){s.next=5;break}return s.next=5,p.toggleWakeLock();case 5:s.next=10;break;case 7:if(!a){s.next=10;break}return s.next=10,p.toggleWakeLock();case 10:case"end":return s.stop()}},r)}))).apply(this,arguments)}function Z9(){for(var r,n,a,s=["dynamsoft.webtwain.install.js","dynamsoft.webtwain.viewer.js","dynamsoft.lts.js","dynamsoft.webtwain.viewer.css","dynamsoft.webtwain.css"],u=document.head.childNodes,d=u.length-1;d>=0;d--)if((n=u[d]).tagName=="LINK"?a=n.href:n.tagName=="SCRIPT"&&(a=n.src),a)for(r=0;r<s.length;r++)a.indexOf(s[r])>=0&&n.remove();j.detect.cssLoaded=!1}function eF(r){return tF.apply(this,arguments)}function tF(){return(tF=o(w().mark(function r(n){var a;return w().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n&&((a=document.createElement("style")).innerHTML=['@import url("',gs(),"/src/dynamsoft.webtwain.viewer.css",j.timestamp,'")'].join(""),n.appendChild(a));case 1:case"end":return s.stop()}},r)}))).apply(this,arguments)}function rF(r,n){var a;for(a=0;a<r.length;a++)if(r[a]==n)return!0;return!1}function gs(){var r=we.refResourcesPath||null;if(!r){var n,a,s;if(e.CoreModule&&e.CoreModule.engineResourcePaths?(n=e.CoreModule.engineResourcePaths.dwt,a=e.CoreModule.engineResourcePaths.rootDirectory):(s=window)!==null&&s!==void 0&&(s=s.Dynamsoft)!==null&&s!==void 0&&(s=s.Core)!==null&&s!==void 0&&(s=s.CoreModule)!==null&&s!==void 0&&(s=s.engineResourcePaths)!==null&&s!==void 0&&s.dwt&&(n=window.Dynamsoft.Core.CoreModule.engineResourcePaths.dwt,window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory&&(a=window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory)),n&&(p.isString(n)?r=n:p.isString(n.resourcesPath)&&(r=n.resourcesPath),p.isString(r))&&!(p.startsWith(r,"https://")||p.startsWith(r,"http://"))){if(a&&p.isString(a)&&a.length>0){var u="";a.charAt(a.length-1)=="/"||(u="/"),r=[a,u,r].join("")}}p.isString(r)||(r=U.DWT.ResourcesPath||""),!ue.bFileSystem&&(r!==void 0&&r!=""||(r=Br.basePath||""),r.length>0&&r.charAt(r.length-1)=="/"&&(r=r.substr(0,r.length-1)),we.refResourcesPath=r)}return r}var Ku=function(r){return r.enumUnknown=-1,r.enumChrome=1,r.enumFirefox=2,r.enumEdge=3,r.enumSafari=4,r.enumIE=5,r.enumOpera=6,r.enumHuaWeiBrowser=7,r}({}),Et=function(r){return r.enumUnknown=-1,r.enumWindow=0,r.enumMac=1,r.enumLinux=2,r.enumEmbed=3,r.enumChromeOS=4,r.enumHarmonyOS=5,r.enumAndroid=6,r.enumiOS=7,r}({});function sp(){var r,n,a=we.refServiceInstallerLocation||null;if(!a){var s;if(e.CoreModule&&e.CoreModule.engineResourcePaths?(r=e.CoreModule.engineResourcePaths.dwt,n=e.CoreModule.engineResourcePaths.rootDirectory):(s=window)!==null&&s!==void 0&&(s=s.Dynamsoft)!==null&&s!==void 0&&(s=s.Core)!==null&&s!==void 0&&(s=s.CoreModule)!==null&&s!==void 0&&(s=s.engineResourcePaths)!==null&&s!==void 0&&s.dwt&&(r=window.Dynamsoft.Core.CoreModule.engineResourcePaths.dwt,window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory&&(n=window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory)),r&&(p.isString(r)||p.isString(r.serviceInstallerLocation)&&(a=r.serviceInstallerLocation),p.isString(a))&&!(p.startsWith(a,"https://")||p.startsWith(a,"http://"))){if(n&&p.isString(n)&&n.length>0){var u="";n.charAt(n.length-1)=="/"||(u="/"),a=[n,u,a].join("")}}if(p.isString(a)||(a=U.DWT.ServiceInstallerLocation||""),p.isString(a)&&a.length>0)a[a.length-1]!="/"&&(a+="/");else{var d=gs();if(p.isString(d)&&d.length>0){var l="";d.charAt(d.length-1)=="/"||(l="/"),a=[d,l,"dist/"].join("")}else a="Resources/dist/"}we.refServiceInstallerLocation=a}return a}var Mi={getDSPath:function(r){var n=sp(),a=r;return a||(a=ue.bWin?".msi":ue.bMac?".pkg":U.navInfo.bArm64?"-arm64.deb":U.navInfo.bMips64?"-mips64el.deb":U.navInfo.bAndroid?".apk":ue.bLinux||ue.bChromeOS||ue.bHarmonyOS?".deb":".msi"),[n,"DynamsoftServiceSetup",a].join("")},getLinuxHTML5DebPath:function(){return Mi.getDSPath(".deb")},getLinuxHTML5RpmPath:function(){return Mi.getDSPath(".rpm")},getEnumPlatform:function(){return ue.bAndroid?Et.enumAndroid:ue.bMac?Et.enumMac:ue.bChromeOS?Et.enumChromeOS:ue.bHarmonyOS?Et.enumHarmonyOS:U.navInfo.bEmbed?Et.enumEmbed:ue.bLinux?Et.enumLinux:ue.biPhone||ue.biPad?Et.enumiOS:Et.enumWindow},getEnumBrowser:function(){return ue.bEdge?Ku.enumEdge:ue.bChrome?Ku.enumChrome:ue.bFirefox?Ku.enumFirefox:ue.bIE?Ku.enumIE:ue.bSafari?Ku.enumSafari:ue.bHuaWeiBrowser?Ku.enumHuaWeiBrowser:ue.bOpera?Ku.enumOpera:Ku.enumUnknown}},ka=function(r){return r.NONE=0,r.TRACE=1,r.DEBUG=2,r.INFO=4,r.WARN=8,r.ERROR=16,r}({}),up=p.getLogger(),i_=(K=function(){return v(function r(){f(this,r)},null,[{key:"LogLevel",get:function(){return this._logLevel},set:function(r){this._logLevel=r}},{key:"LogFunc",set:function(r){this._logFunc=r}},{key:"all",value:function(r,n){if((this._logLevel&r)==r)if(this._logFunc)this._logFunc(n,r);else switch(r){case ka.DEBUG:up.debug(n);break;case ka.ERROR:up.error(n);break;case ka.INFO:up.info(n);break;case ka.WARN:up.warn(n);break;case ka.TRACE:up.trace(n)}}},{key:"trace",value:function(r){this.all(ka.TRACE,r)}},{key:"debug",value:function(r){this.all(ka.DEBUG,r)}},{key:"info",value:function(r){this.all(ka.INFO,r)}},{key:"warn",value:function(r){this.all(ka.WARN,r)}},{key:"error",value:function(r){this.all(ka.ERROR,r)}}])}(),T(K,"_logLevel",ka.ERROR),T(K,"_logFunc",void 0),K);function _r(r){var n;window.console&&(r instanceof Error||p.isString(r)?(n=r,U.navInfoSync.bIE&&(n=p.stringify(r))):n=p.stringify(r),window.console.error(n))}var nF,cp="127.0.0.1";ue.bAndroid&&ue.bSSL&&(cp="local.dynamsoft.com"),nF=_C.toLowerCase()=="0"?"Dynamic Web TWAIN "+[ao,vC].join("."):"Dynamic Web TWAIN "+[ao,vC,_C].join(".");var ko={JSVersion:H9,ServerVersionInfo:Zv,ServerLinuxVersionInfo:Zv,ServerMacVersionInfo:Zv,ServerAndroidVersionInfo:Zv,ActiveXVersion:"18,0,0,1025",ActiveXPdfVersion:"11.5.2.0312",PdfVersion:"11.5.2.0312",PdfLinuxVersion:"11.5.2.0312",PdfMacVersion:"11.5.2.0312"},e$={ProductName:nF,Containers:void 0,ContainerMap:{},WebTwainIdMap:{},RemoteScanIdMap:{},Trial:!1,ResourcesPath:"Resources",Debug:!1,IfUpdateService:!1,AutoLoad:!0,ReConnectToService:!0,OnWebTwainReady:!1,OnWebTwainError:function(r){_r(r)},OnWebTwainNotFound:!1,OnWebTwainOldPluginNotAllowed:!1,OnWebTwainNeedUpgrade:!1,OnWebTwainNeedUpgradeWebJavascript:!1,OnWebTwainInitMessage:!1,ViewerJSIntegerited:!0,ActiveXInstallWithCAB:!1,IfUseActiveXForIE10Plus:!1,IfUseEmbeddedDownloadNoticeForActiveX:!1,IfCheckDCP:!1,IfDisableDefaultSettings:!1,OnWebTwainWillInit:!1,IfAddMD5InUploadHeader:!1,IfAlwaysFocusOnPopupWindow:!0,IfConfineMaskWithinTheViewer:!1,fetchOptions:{mode:"cors",credentials:"same-origin"},HideTrialMessage:!1,CheckCertExpired:!0,ConnectWithSocket:!1,SSLPort:18623,Port:18622,showLoadingMsgDialog:!0,licenseServer:void 0,sessionPassword:void 0,organizationID:void 0,handshakeCode:void 0,UseDefaultViewer:!0,Host:cp,DeviceFriendlyName:"",LocalHosts:["127.0.0.1","localhost","local.dynamsoftwebtwain.com","local.dynamsoft.com"],IfCheckCORS:!1,IfCheckCert:!0,IfChromeExtension:!1,IfLoadResources:!0,IfResourcesAddTimestamp:!0,IfCheckCssFiles:!0};function ui(){var r=U.DWT.Host;return p.isString(r)&&r!=""||(U.DWT.Host=r=cp),r}function t$(){var r=300,n=U.DWT.RemoteScanConfig;return n&&p.isNumber(n.sessionTimeout)&&n.sessionTimeout>0&&(r=n.sessionTimeout),r}var IC={URL:"",UpdateDaysBeforeExpired:30},o_=!0,wC=!1,Yu=ue.bHTML5Edition,EC=0,a_=wC;ue.bIE&&((EC=ue.IEVersion)===""||EC>=10?U.DWT.IfUseActiveXForIE10Plus?(Yu=wC,a_=o_,ue.bHTML5Edition=Yu):Yu=o_:(Yu=wC,EC>=9&&(a_=o_))),a_||Yu||(Yu=o_);var Pt={SSLPort:18626,Port:18625,bEnhancedMode:!1,oldDWASMVerStr:"dwasm_13000404",oldDWASMVer:[13,0,0,"0404"],wsProtocol:"dwt_command",managerVersion:GR,managerVersionMac:zR,managerVersionLinux:HR,serviceVersion:$R,serviceVersionMac:KR,serviceVersionLinux:YR,detect:{dcpStatus:0,ddmPort:0,dwtPort:0,dwtSSLPort:0,bConnected:!1,connectedResult:"",MaxManagerModuleConnectCount:1,EnumDCP_DetectStatus:{Init:0,Connected:1,CheckingManagerVer:15,CheckingServiceVer:16,NotInstalled:17,CheckedService:5,VerifyingZip:6,VerifiedZip:7,UpdatingService:8,UpdateSucceed:9,UpdateFailed:10,UpdateSkipped:11}},strSID:"",b64bit:!0,objEnhancedPorts:{}},we={name:"Dynamic Web TWAIN",bHTML5Edition:Yu,bActiveXEdition:a_,_iImageCaptureDriverType:3,_iBrokerProcessType:1,getChromeEditionPath:Mi.getDSPath,getPKGPath:function(){return sp()+"DynamicWebTWAINMacEdition.pkg"},getMSIPath:function(){return sp()+"DynamicWebTWAINPlugIn.msi"},getActiveXCABx86Path:function(){return sp()+"DynamicWebTWAIN.cab"},getActiveXCABx64Path:function(){return sp()+"DynamicWebTWAINx64.cab"},onlineResources:"https://demo.dynamsoft.com/DWT/Resources/",strMIMEType:"Application/DynamicWebTwain-Plugin",strFullClassID:"E7DA7F8D-27AB-4EE9-8FC0-3FEC9ECFE758",scripts:{},dwtConfigLoaded:!1,dwtConfigLoading:!1,getServerVersionInfo:function(r){var n=ko.ServerVersionInfo;return ue.bWin||(ue.bMac?n=ko.ServerMacVersionInfo:ue.bAndroid?n=ko.ServerAndroidVersionInfo:(ue.bLinux||ue.bChromeOS||ue.bHarmonyOS)&&(n=ko.ServerLinuxVersionInfo)),r?n:p.replaceAll(n,",","")},getDWTPrefix:function(){return U.DWT.CustomMode===!0?"dwtc_":"dwt_"},loadResourcePath:!1,loadingResourcePath:!1,handshakeCode:void 0,organizationID:void 0,licenseServer:void 0,sessionPassword:"",bPublicLTS:!0,refProductKey:void 0,ltsDebug:!1,bDWTLoading:!1,bDWTUnloading:!1,bAndroidConnected:!1,unloadQueue:[],appendBrowserLicenseWhenServiceMode:function(){},bDCPChecked:!1,bDWTChecked:!1,bUseDynamsoftLicenseManager:!1,bChromeEdition:Yu},Nr={bFullEdition:!1,getVersionStrForCheck:function(){return"".concat(ao,"000000")},versionInfoFromServer:"",hostForCheckCert:cp,RemoteReconnectMaxTimes:200,RemoteReconnectTimeSpan:5e3,LocalReconnectMaxTimes:60,LocaleReconnectTimeSpan:3e3,HttpConnectTimeout:ue.bSSL?3e3:1e3,WebsocketConnectTimeout:ue.bSSL?1e3:600};function lp(){return we.HttpConnectTimeout}function xC(){return we.WebSocketConnectTimeout}function ci(){return we.bUseDynamsoftLicenseManager?p.isString(we.refProductKey)&&(p.startsWith(we.refProductKey,"DLS2")||we.refProductKey===""):p.isString(we.handshakeCode)||p.isString(we.organizationID)||we.bPublicLTS||p.isString(U.DWT.ProductKey)&&p.startsWith(U.DWT.ProductKey,"DLS2")}function so(r){if(r===void 0)return!0;var n;if(r){for(n=0;n<U.DWT.LocalHosts.length;n++)if(r===U.DWT.LocalHosts[n])return!0}return!1}function iF(r){return r.indexOf("text/json")!=-1||r.indexOf("application/json")!=-1}function dl(r){return r==="text/json"||r==="application/json"}var Jn=function(r){return r.LicenseInvalid=-2325,r.LicenseExpired=-2326,r.LicenseParseFailed=-2546,r.LicenseExpiredForDLS=-2808,r.LicenseNoCoreForDLS=-2809,r.LicenseNoCore=-2810,r.LicenseIsFuture=-2396,r.LicenseVersionNotCurrent=-2539,r}({});function Fe(r,n,a){r._errorCode=n,r._errorString=a}function Hr(r){var n=U.DWT.licenseException;n.code=r._errorCode,n.message=r._errorString,n.fromLTS=!1}function Nn(){return U.DWT.IfChromeExtension?"":"Please contact the site administrator."}U.DWT.EnumDWT_LicenseErrorCode=Jn;var AC,dp,kt=function(r){return r.UserCancelled=-1032,r.CORSErrorFromService=-2137,r.CommonError=-2201,r.ModuleNotExists=-2371,r.MustUpgrade=-2207,r.RemoteDynamsoftServiceStopped=-2613,r.ResponseDataTypeError=-2801,r.HTSTError=-2817,r.SSLCertExpired=-2818,r.SSLCertInvalid=-2819,r.CORSError=-2820,r.DWTPortNotReady=-2821,r.HTTPRedirected=-2823,r.BboError=-2827,r.HTTPServerError=-2842,r}({});function Ot(r){Fe(r,-1033,"Invalid index.")}function jn(r){Fe(r,-1034,"Invalid value.")}function Mn(r){Fe(r,-1035,"There is no image.")}function oF(r){Fe(r,-1110,"Unrecognized file extension.")}function aF(r){Fe(r,-2007,"The system is busy, some operations are not completed. Please try later.")}function Pd(r,n){var a=n?["[",n,"]"].join(""):"your device";Fe(r,kt.MustUpgrade,"The Dynamsoft Service installed on "+a+" is outdated and no longer works with the JavaScript code on the website.")}function fp(r){Fe(r,-2209,"The HTML5 edition does not support this method or property.")}function PC(r){Fe(r,-2300,"Http upload error: the HTTP Server name/ip cannot be empty.")}function s_(r){Fe(r,-2301,"Network error.")}function kC(r){Fe(r,-2302,"The result format is invalid.")}function DC(r,n,a,s){if(n)Ro(r);else if(r._errorCode=-2003,s&&s>0||a){var u=["HTTP process error: "];a&&(a.indexOf("HTTP process error: ")>=0&&(u=[""]),u.push(a)),s&&s>0&&(u.push(" ("+s+")"),s>=300&&(r._errorCode=kt.HTTPServerError));var d=u.toString().lastIndexOf(".");d>=0&&d==u.toString().length-1?r._errorString=u.join(""):r._errorString=u.join("")+"."}else r._errorString="HTTP process error."}function sF(r){Fe(r,-2304,"Http download error: the url is invalid.")}function uF(r,n,a,s){if(n)Fe(r,-2305,"User cancelled the operation.");else if(r._errorCode=-2003,s&&s>0||a){var u=["HTTP put error: "];a&&(a.indexOf("HTTP put error: ")>=0&&(u=[""]),u.push(a)),s&&s>=300&&(r._errorCode=kt.HTTPServerError);var d=u.toString().lastIndexOf(".");d>=0&&d==u.toString().length-1?r._errorString=u.join(""):r._errorString=u.join("")+"."}else r._errorString="HTTP put error."}function RC(r,n,a,s){if(n)Fe(r,-2305,"User cancelled the operation.");else if(r._errorCode=-2003,s&&s>0||a){var u=["HTTP process error: "];a&&(a.indexOf("HTTP process error: ")>=0&&(u=[""]),u.push(a));var d=u.toString().lastIndexOf(".");d>=0&&d==u.toString().length-1?r._errorString=u.join(""):r._errorString=u.join("")+"."}else r._errorString="HTTP process error."}function sn(r){Fe(r,-2306,"Upload Error: the upload file cannot be empty.")}function cF(r){Fe(r,-2307,"The width or height you entered is invalid.")}function ms(r){Fe(r,-2313,"The size of the images you are about to upload has exceeded the limit.")}function li(r){Fe(r,-2314,"The parameter cannot be empty.")}function fl(r){Fe(r,-2320,"Invalid file.")}function Do(r){Fe(r,Jn.LicenseInvalid,ci()?"The license is invalid.":"The current product key is empty or invalid."),Hr(r)}function lF(r,n){r._errorCode=Jn.LicenseExpired;var a="";if(n&&n!=""&&(n.indexOf("on")==-1&&(a=" on "+n),r.__licenseInfo&&(r.__licenseInfo.ExpireDate=n)),ci()){var s,u,d,l;s=U.DWT.lgdt(),r._bRemoteMode?u=(d=(l=r._dmService)===null||l===void 0||(l=l.attrs)===null||l===void 0?void 0:l.UUID)!==null&&d!==void 0?d:"":u="",r._errorString="The license has expired"+a+". Please contact the application developer.",U.DWT.lcexp(s,u).then(function(){r._errorString=U.DWT.licenseException.message})}else r._errorString="The current product key has expired"+a+". Please contact the application developer.",Hr(r)}function hp(r,n){ci()?n==111?(r._errorCode=Jn.LicenseExpiredForDLS,r._errorString="The license for v"+ao+" Service Core Module has expired."):(r._errorCode=Jn.LicenseNoCoreForDLS,r._errorString="The license for v"+ao+" Service Core Module is not found."):(r._errorCode=Jn.LicenseNoCore,r._errorString="The product key for the current operating system is missing the Service Core license. "+Nn()),Hr(r)}function kd(r){r._errorCode=-2339,ci()?r._errorString="The license for the module pdf rasterizer is not found or has expired.":r._errorString="The current product key does not support pdf rasterizer. "+Nn(),Hr(r)}function Dd(r){Fe(r,-2351,"You cannot upload more than one image when the format is BMP, JPG or PNG")}function dF(r){Fe(r,-2352,"The indices are out of range.")}function r$(r){Fe(r,-2353,"The header name being used is a protected keyword and is not allowed.")}function Rd(r){Fe(r,-2358,"The type of the parameter indices must be an Array.")}function qe(r){Fe(r,-2359,"The index is out of range.")}function fF(r){Fe(r,-2360,"The index is null or undefined.")}function Li(r){Fe(r,-2362,"The image type is not supported.")}function hF(r){Fe(r,-2363,"The data format is not supported.")}function pp(r){Fe(r,-2365,"The url is invalid.")}function FC(r){Fe(r,-2376,"The generate url failed.")}function u_(r){Fe(r,-2377,"Failed to set Image Capture Driver Type.")}function pF(r){Fe(r,-2391,"Invalid event name.")}function gF(r){Fe(r,-2393,"Failed to convert the data to blob.")}function mF(r){Fe(r,-2399,"Invalid imageId.")}function Kt(r){Fe(r,-2416,"Invalid parameter.")}function n$(r){Fe(r,-2426,"You have used a full license with a trial license which is not permitted. Please check and update Dynamsoft.DWT.ProductKey.")}function vF(r){Fe(r,-2510,"The callback is not a function.")}function _F(r){Fe(r,-2513,"The WebTwain instance has been destroyed and can not be used anymore.")}function OC(r){Fe(r,-2530,"Document name cannot be empty.")}function gp(r){Fe(r,-2531,"Document name is not a string.")}function c_(r){Fe(r,-2548,"You cannot call this function when Dynamsoft.DWT.UseDefaultViewer is set to false.")}function NC(r){Fe(r,-2549,"You cannot call this function when there is no ui binding.")}function un(r){Fe(r,0,"")}function yF(r){var n=r;return n||(n="[]"),{code:-2601,message:"Failed to connect to the Dynamsoft Service on "+n+". Please make sure Dynamsoft Service is running or the certificate is valid."}}function SF(r){var n;return r._bRemoteMode?yF((n=r._dmService)===null||n===void 0||(n=n.attrs)===null||n===void 0?void 0:n.name).message:"The Dynamsoft Service has been stopped."}function bF(r){Fe(r,-2607,"The device selected was not found under the current service object.")}function MC(r){Fe(r,-2608,"IfShowFileDialog cannot be set to true when Object is created by CreateRemoteScanObjectAsync.")}function hl(r,n){p.isString(n)&&n!=""?Fe(r,kt.RemoteDynamsoftServiceStopped,"The Dynamsoft Service on ["+n+"] has been stopped."):Fe(r,-2308,"The Dynamsoft Service has been stopped.")}function Ro(r){Fe(r,-2615,"User cancelled the operation.")}function i$(r){Fe(r,-2616,"Invalid image format type.")}function o$(r){Fe(r,-2618,"Only single index selection is allowed when enumImageType is set to BMP, JPG or PNG.")}function uo(r){Fe(r,-2620,"The RemoteScan object has been disposed.")}function CF(r){Fe(r,-2621,"Dynamsoft.DWT.Containers was not set.")}function TF(r){Fe(r,-2622,'Please do not set enumImageType to "IT_MULTIPAGE_PDF", "IT_MULTIPAGE_TIF" or "IT_ALL".')}function a$(r){Fe(r,-2624,"The element within Dynamsoft.DWT.Containers should be a valid object.")}function mp(r){Fe(r,-2800,V9)}function Wi(r){Fe(r,kt.ResponseDataTypeError,"Invalid response data was returned from the Dynamsoft Service.")}function IF(r){return{code:-2807,message:'Error: The element specified by the id "'+r+`" doesn't exist.`}}function s$(r,n){Fe(r,-2811,n)}function wF(r){Fe(r,-2812,G9)}function EF(r){Fe(r,-2815,j9)}function xF(r,n,a){Fe(r,-2816,["HTTP process error: ",a," (",n,")."].join(""))}function AF(){return{code:kt.HTSTError,message:"The Connection from the insecure (HTTP) web page failed for HTST."}}function LC(){return{code:kt.DWTPortNotReady,message:"The Dynamsoft Service is not ready, please try again later."}}function u$(r){return{code:-2826,message:"Failed to connect the Dynamsoft Service on ["+r+"]."}}function WC(r){Fe(r,-2828,"Invalid PDF Convert Mode Value.")}function c$(r){Fe(r,-2848,"The capability value is out of range.")}function PF(r){Fe(r,-2854,"The imageId does not exist.")}function l$(r){Fe(r,-2855,"The blob cannot be empty.")}function d$(r){Fe(r,-2857,"Invalid blob value.")}function l_(r){Fe(r,-2901,"Source document does not exist. Please check the document name or create the document before performing this operation.")}function d_(r){Fe(r,-2902,"Target document does not exist. Please check the document name or create the document before performing this operation.")}function BC(r){Fe(r,-2906,"After initialization, the product key cannot be changed.")}var kF=ue.bIE&&ue.IEVersion<=9;AC=self&&self.fetch?self.fetch:window.fetch;var f_=0;function UC(r,n){var a,s=!1;return f_=n,AC?a=function(u,d){var l=!1,h="text",m=!1;if(d&&(d.dataType&&(h=d.dataType),d.fetchRaw&&(m=!0),d.timeout)){var _=d.timeout;_<300&&(_=300);var S=new AbortController;d.signal=S.signal,setTimeout(function(){l||S.abort("timeout")},_)}s=!1;var y=AC(u,d).then(function(b){if(b.ok){var I,x;if(l=!0,!r)return b;if(r.__clickCancel)return r.__clickCancel=!1,r.__cancelBeforObjectCreated=!1,s=!0,b;r.IfShowCancelDialogWhenImageTransfer?(eu(!0),x=r.on("cancel",function(){s=!0})):eu(!1);var D=b.headers.get("Content-Length"),W=0;r._onPercent&&f_==n&&r._onPercent({loaded:W,total:D});var $=b==null||(I=b.body)===null||I===void 0?void 0:I.getReader(),te=new ReadableStream({start:function(J){var re=function(){return $.read().then(function(H){if(H.done||s)return s?$.cancel():x&&r.off("cancel",x),J.close(),void(x=null);var F=H.value;W+=F.length,r._onPercent&&f_==n&&r._onPercent({loaded:W,total:D});try{return J.enqueue(F),re()}catch(B){p.error(B)}})};$?setTimeout(re,0):J.close()}}),q=b.headers.get("Content-Type");return q&&q!=""||(q="application/octet-stream"),new Response(te,{headers:{"Content-Type":q}})}if(b.type=="opaqueredirect")throw{code:kt.HTTPRedirected,message:"The http url redirected."};var X;throw xF(X={},b.status,b.statusText),{code:X._errorCode,message:X._errorString,httpCode:b.status}});return m?y:(y=h=="blob"?y.then(function(b){var I=b.headers.get("content-type");return dl(I)?b.json():ue.bLinux?b.arrayBuffer().then(function(x){return new Blob([x],{type:I})}):b.blob()}):h=="json"?y.then(function(b){return b.json()}):h=="arraybuffer"?y.then(function(b){return dl(b.headers.get("content-type"))?b.json():b.arrayBuffer()}):y.then(function(b){return b.text()})).then(function(b){var I;if(s)throw Ro(I={}),{code:I._errorCode,message:I._errorString};return b})}:(kF&&p.addVBS([`Function dsVbsBinGetAt(strBinary,iOffset)\r
`,` dsVbsBinGetAt=AscB(MidB(strBinary,iOffset+1,1))\r
`,`End Function\r
`,`Function dsVbsBinGetBytes(strBinary,iOffset,iLength)\r
`,` Dim aBytes()\r
`,` ReDim aBytes(iLength-1)\r
`,` For i=0 To iLength-1\r
`,`  aBytes(i)=dsVbsBinGetAt(strBinary,iOffset+i)\r
`,` Next\r
`,` dsVbsBinGetBytes=aBytes\r
`,`End Function\r
`,`Function dsVbsBinGetLength(strBinary)\r
`,` dsVbsBinGetLength=LenB(strBinary)\r
`,"End Function"].join("")),a=function(u,d){return new(j.nativePromise||window.Promise)(function(l,h){var m,_=!1;m={url:u,async:!0,onSuccess:function(y,b,I){var x=!1;if(I.responseHeadersString&&iF(I.responseHeadersString)&&(p.isArray(y)||y instanceof ArrayBuffer)&&(x=!0),x){var D=y;y instanceof ArrayBuffer&&(D=new Uint8Array(y));var W=String.fromCharCode.apply(null,D);l(W)}else l(y)},onError:function(y,b,I){var x;xF(x={},I.status,b),h({code:x._errorCode,message:x._errorString,httpCode:I.status})},dataType:"text",method:dp,data:dp,headers:dp,contentType:dp,mimeType:dp},d&&(d.method&&(m.method=d.method),d.body&&(m.data=d.body),d.headers&&(m.headers||(m.headers={}),p.each(d.headers,function(y,b){b.toLowerCase()=="content-type"&&(_=!0),m.headers[b]=y})),d.dataType&&(m.dataType=d.dataType),d.contentType&&(m.contentType=d.contentType),p.isNumber(d.timeout)&&d.timeout>0&&(m.timeout=d.timeout)),_&&(m.contentType=!1),m.dataType=="blob"&&kF&&(m.mimeType="text/plain; charset=x-user-defined"),r&&(r._onPercent&&(m.beforeSend=function(y,b,I){y.upload.addEventListener("progress",function(x){r._onPercent&&f_==n&&r._onPercent(x)},!1)}),r.IfShowCancelDialogWhenImageTransfer?eu(!0):eu(!1));var S=Po(m);r&&r.IfShowCancelDialogWhenImageTransfer&&r.on("cancel",function(){S.abort()})})}),a}var Fd=UC(null,0);function eu(r){var n=p.sizzle(".dynamsoft-btnCancel");if(n.length>0){var a=n[0];a.style.display=r?"":"none"}}String.prototype.startsWith||(String.prototype.startsWith=function(r){return this.indexOf(r)==0});var DF=function(r){var n,a=r,s=a._license||"",u=JSON.parse(JSON.stringify(a._licenseServer)),d=a._sessionPassword,l=0;if(s.startsWith("t")||s.startsWith("f"))l=0;else if(s.length===0||s.startsWith("P")||s.startsWith("L")||s.startsWith("Y")||s.startsWith("A"))l=1;else{l=2;var h=s.indexOf(":");if(h!=-1&&(s=s.substring(h+1)),s.startsWith("DLS2")){var m;try{var _=s.substring(4);_=Y.Lib.atob(_),m=JSON.parse(_)}catch{throw new Error("Format Error: The license string you specified is invalid, please check to make sure it is correct.")}if(typeof(s=m.handshakeCode?m.handshakeCode:m.organizationID?m.organizationID:"")=="number"&&(s=JSON.stringify(s)),u.length===0){var S=[];m.mainServerURL&&(S[0]=m.mainServerURL),m.standbyServerURL&&(S[1]=m.standbyServerURL),u=function(y){if(y==null)y=[];else{y instanceof Array||(y=[y]);for(var b=0;b<y.length;++b){if(document&&document.createElement){var I=document.createElement("a");I.href=y[b],y[b]=I.href}y[b].lastIndexOf("/")!=y[b].length-1&&(y[b]+="/")}}return y}(S)}!d&&m.sessionPassword&&(d=m.sessionPassword),n=m.remark}s&&s!=="200001"&&!s.startsWith("200001-")||(l=1)}return l===1&&(s=""),{lt:l,l:s,ls:u,sp:d,rmk:n}},pl=v(function r(n,a,s,u,d){f(this,r),this.server=n,this.port=a,this.ssl=s,this.useWS=u,this.protocol=d});function RF(r,n){return(r==null?void 0:r.port)==(n==null?void 0:n.port)&&(r==null?void 0:r.protocol)==(n==null?void 0:n.protocol)&&(r==null?void 0:r.server)==(n==null?void 0:n.server)&&(r==null?void 0:r.ssl)==(n==null?void 0:n.ssl)&&(r==null?void 0:r.useWS)==(n==null?void 0:n.useWS)}var Da=function(r){return r.OK=0,r.Custom=-1,r.NWB=-4200,r.WS_DISCONN=-4201,r.CB=-5e3,r.JSON_REQUIRED=-5001,r.OBJECT_DISPOSED=-5002,r.INVALID_TASK=-5003,r.OBJECT_DISPOSING=-5004,r}({}),vp=function(r){return r.WS_DISCONN="The Web Socket connection failed.",r.JSON_REQUIRED="The input is not a JSON object or JSON styled string.",r.OBJECT_DISPOSED="The object has been disposed.",r.INVALID_TASK="The task is invalid.",r.OBJECT_DISPOSING="The object need to be disposed.",r}({}),VC=function(){return v(function r(){f(this,r)},null,[{key:"message",value:function(r){return this._errorMessage[r]}},{key:"init",value:function(){this._errorMessage[Da.OK]="Successful.",this._errorMessage[Da.WS_DISCONN]=vp.WS_DISCONN,this._errorMessage[Da.JSON_REQUIRED]=vp.JSON_REQUIRED,this._errorMessage[Da.OBJECT_DISPOSED]=vp.OBJECT_DISPOSED,this._errorMessage[Da.INVALID_TASK]=vp.INVALID_TASK,this._errorMessage[Da.OBJECT_DISPOSING]=vp.OBJECT_DISPOSING}}])}();T(VC,"_errorMessage",Object.create(null)),VC.init();var Fo=function(){return v(function r(n,a){f(this,r),T(this,"_code",Da.OK),this.name="DSError",this.message=a??(typeof n=="string"?n:VC.message(n)),this._code=typeof n=="string"?Da.Custom:n},[{key:"code",get:function(){return this._code}}])}();function nr(r){return{code:r._errorCode,message:r._errorString}}function co(r){return"exception"in r&&"description"in r&&r.exception!=0&&r.description!=""}function FF(r){return r==-1416}var Ur=function(r){return r.GET_TASKID=0,r.GET_EVENT_TASKID=1,r.ONMESSAGE_PROCESS_DATA=2,r.ONMESSAGE_GET_TASKID=3,r.ONMESSAGE_GET_EVENT_TASKID=4,r.HANDLE_RAW_MESSAGE=5,r.HANDLE_PROCESSED_MESSAGE=6,r}({}),OF=function(){return v(function s(u){f(this,s),T(this,"_serverInfo",void 0),T(this,"_disposed",!1),this._serverInfo=u,this._ref=1},[{key:"serverInfo",get:function(){return this._serverInfo}},{key:"requestSync",value:function(s,u){return i_.error("requestSync should be implemented in child class"),void 0}},{key:"request",value:function(s,u,d,l){return i_.error("request should be implemented in child class"),Promise.resolve(null)}},{key:"send",value:(a=o(w().mark(function s(u,d,l){return w().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:i_.error("reqsenduestSync should be implemented in child class");case 1:case"end":return h.stop()}},s)})),function(s,u,d){return a.apply(this,arguments)})},{key:"testConnection",value:function(s,u,d,l){return i_.error("testConnection should be implemented in child class"),Promise.resolve(null)}},{key:"disposed",get:function(){return this._disposed}},{key:"dispose",value:(n=o(w().mark(function s(){return w().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this._ref--,!(this._ref>0)){u.next=3;break}return u.abrupt("return",!1);case 3:return this._disposed=!0,u.next=6,this._terminate();case 6:case"end":return u.stop()}},s,this)})),function(){return n.apply(this,arguments)})},{key:"_terminate",value:(r=o(w().mark(function s(){return w().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:case"end":return u.stop()}},s)})),function(){return r.apply(this,arguments)})},{key:"addRef",value:function(){this._ref++}}]);var r,n,a}();function f$(r,n){(function(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function jC(r,n,a){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:a;throw new TypeError("Private element is not present on this object")}var h_,NF=p.getLogger(),p_=new WeakSet,h$=function(r){function n(){var s;f(this,n);for(var u=arguments.length,d=new Array(u),l=0;l<u;l++)d[l]=arguments[l];return f$(s=c(this,n,[].concat(d)),p_),s}return P(n,r),v(n,[{key:"send",value:(a=o(w().mark(function s(u,d,l){return w().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:NF.error("HTTP Client send not supported");case 1:case"end":return h.stop()}},s)})),function(s,u,d){return a.apply(this,arguments)})},{key:"requestSync",value:function(s,u,d){}},{key:"request",value:function(s,u,d,l){return jC(p_,this,MF).call(this,s,u,d,void 0,void 0,l)}},{key:"testConnection",value:function(s,u,d,l){return jC(p_,this,MF).call(this,void 0,void 0,s,u,d,l)}}]);var a}(OF);function p$(r){var n=this.serverInfo,a="";return a=n.ssl?"https://":"http://",a+=n.server,n.port&&(a+=":",a+=n.port),r&&(p.startsWith(r,"/")||p.endsWith(a,"/")||(a+="/"),p.endsWith(r,"/")?a+=r.slice(0,-1):a+=r),a}function MF(r,n,a,s,u,d){return GC.apply(this,arguments)}function GC(){return GC=o(w().mark(function r(n,a,s,u,d,l){var h,m;return w().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.prev=0,h=s??{},n&&(h.body=n),h.method||(h.method="POST"),l&&(h.timeout=l),m=jC(p_,this,p$).call(this,a),NF.debug("HTTP URL: "+m),_.next=9,Fd(m,h);case 9:return _.abrupt("return",_.sent);case 12:if(_.prev=12,_.t0=_.catch(0),!(_.t0 instanceof Fo||_.t0&&_.t0.code&&_.t0.message)){_.next=18;break}throw _.t0;case 18:if(!_.t0.message){_.next=20;break}throw new Fo(_.t0.message);case 20:case"end":return _.stop()}},r,this,[[0,12]])})),GC.apply(this,arguments)}function g$(r){try{return R(r)==="object"?r:(r=typeof r!="string"?p.stringify(r):r,p.parse(r))}catch(n){throw n instanceof Fo?n:new Fo(Da.JSON_REQUIRED)}}function _p(r){return Math.random().toString(16).substring(2,2+r)}function m$(r,n){(function(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function yp(r,n,a){return(n=function(s){var u=function(d,l){if(R(d)!="object"||!d)return d;var h=d[Symbol.toPrimitive];if(h!==void 0){var m=h.call(d,l||"default");if(R(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(s,"string");return R(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}function vs(r,n,a){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:a;throw new TypeError("Private element is not present on this object")}var g_,LF,di=p.getLogger(),Ra=new WeakSet,zC=function(r){function n(d){var l;return f(this,n),m$(l=c(this,n,[d]),Ra),yp(l,"_defaultRetries",1),yp(l,"_ws",g_),yp(l,"_events",{}),yp(l,"_bHeartBeatStarted",!1),yp(l,"_heartBeatTicks",6e4),l._ws=g_,l.bUseParentWS=!1,l._tasks=Object.create(null),l.bReady=!1,l._blob_callbacks=[],l._processing_blob=!1,l}return P(n,r),v(n,[{key:"ws",get:function(){return this._ws}},{key:"requestSync",value:function(d,l,h){return di.error("WebSocket Client requestSync not supported"),void 0}},{key:"send",value:(u=o(w().mark(function d(l,h,m){var _,S,y,b;return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(_=m.client,I.prev=1,(S=m.taskId)!==void 0){I.next=7;break}return I.next=6,h(l,Ur.GET_TASKID,_._requestTaskId,m);case 6:S=I.sent;case 7:if(y=_._tasks[S]){I.next=11;break}throw di.error("invalid task id: "+S),new Fo(Da.INVALID_TASK);case 11:return I.next=13,vs(Ra,_,KC).call(_,!1);case 13:return I.next=15,vs(Ra,_,WF).call(_,l,h,m,y);case 15:di.debug("begin to send data "+S),_.disposed||_._ws.send(l),l=null,di.debug("end to send data "+S),I.next=27;break;case 21:I.prev=21,I.t0=I.catch(1),di.debug("failed to send data."),di.error(I.t0),delete _._tasks[S],(b=y)===null||b===void 0||(b=b.resolver)===null||b===void 0||b.reject(I.t0.message);case 27:case"end":return I.stop()}},d,null,[[1,21]])})),function(d,l,h){return u.apply(this,arguments)})},{key:"request",value:function(d,l,h,m){var _=this._defaultRetries,S=l??vs(Ra,this,S$),y=h??{client:this,userData:this};return vs(Ra,this,b$).call(this,d,S,y,_,!1,void 0,m)}},{key:"connected",get:function(){var d;return((d=this._ws)===null||d===void 0?void 0:d.readyState)==WebSocket.OPEN}},{key:"testConnection",value:function(d,l,h,m){return vs(Ra,this,KC).call(this,!0,l??0,h,m)}},{key:"_terminate",value:(s=o(w().mark(function d(){var l,h;return w().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:for(h in di.debug("terminate WSClient"),this.fireEvent("disposed"),l=!1,this._tasks)this._tasks[h]!==void 0&&this._tasks[h].resolver&&(l=!0);if(this._lic_callback=g_,this._blob_callbacks=[],this._processing_blob=!1,this._ws&&(this._ws.onopen=null,this._ws.onerror=null,this._ws.onmessage=null,this._ws.onclose=null,this._ws.close()),this._ws=g_,this._tasks=Object.create(null),!l){m.next=12;break}throw new Fo(Da.OBJECT_DISPOSING);case 12:case"end":return m.stop()}},d,this)})),function(){return s.apply(this,arguments)})},{key:"setRetry",value:function(d){this._defaultRetries=d??1}},{key:"addEvent",value:function(d,l,h){var m=this._events[d];m||(this._events[d]={},m=this._events[d]),p.isString(l)&&p.isFunction(h)&&(m[l]=h)}},{key:"removeEvent",value:function(d,l){var h=this._events[d];h&&p.isString(l)&&delete h[l]}},{key:"clearEvent",value:function(d){this._events[d]&&(this._events[d]={})}},{key:"fireEvent",value:function(d){var l,h=this._events[d];if(h){var m=Object.keys(h);for(l=0;l<m.length;l++)p.isFunction(h[m[l]])&&h[m[l]]()}}},{key:"getRequestTaskId",value:function(){return this._requestTaskId?this._requestTaskId:0}}],[{key:"_waitForPreBlob",value:(a=o(w().mark(function d(l){return w().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!l._processing_blob){h.next=3;break}return setTimeout(function(){n._waitForPreBlob(l)},500),h.abrupt("return");case 3:n._preBlobResolv&&n._preBlobResolv();case 4:case"end":return h.stop()}},d)})),function(d){return a.apply(this,arguments)})}]);var a,s,u}(OF);function v$(r){var n="";return n=r.ssl?"wss://":"ws://",n+=r.server,r.port&&(n+=":",n+=r.port),n}function _$(r,n,a,s){var u=this;return new j.Promise(function(d,l){try{var h,m,_=l,S=d;if(s&&(m=setTimeout(function(){var x=new Fo("createWebSocket timed out.");di.debug(x.message),_&&(_(x),_=null,S=null),m&&clearTimeout(m),h&&h.close()},s)),r.bUseParentWS){var y=window,b=parent,I=y.WebSocket;try{for(;y!=b&&b&&b.WebSocket;)I=b.WebSocket,y=b.window,b=b.parent}catch{I=window.WebSocket}h=a?new I(n,a):new I(n)}else h=a?new WebSocket(n,a):new WebSocket(n);h.onopen=function(){m&&clearTimeout(m),r._ws=h,S&&(S(h),_=null,S=null)},h.onerror=function(x){h.close(),r.bReady=!1,m&&clearTimeout(m),u.fireEvent("error"),_&&(_(new Fo("websocket error")),_=null,S=null)},h.onmessage=function(x){vs(Ra,r,y$).call(r,r,x.data)},h.onclose=function(x){r.bReady=!1,m&&clearTimeout(m),u.fireEvent("close"),_&&(x&&x.code==1006?_(new Fo("websocket error")):_(x),_=null,S=null)}}catch(x){if(x instanceof Fo||x&&x.code&&x.message)throw x;if(x.message)throw new Fo(x.message)}})}function y$(r,n){return HC.apply(this,arguments)}function HC(){return HC=o(w().mark(function r(n,a){var s,u,d,l,h,m,_,S,y;return w().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(s=n,b.prev=1,l={client:s,userData:void 0},R(a)!=="object"){b.next=17;break}if(!(s._blob_callbacks.length>0)){b.next=17;break}if(!s._processing_blob){b.next=9;break}return b.next=8,new j.Promise(function(I){h_._preBlobResolv=I,h_._waitForPreBlob(s)});case 8:h_._preBlobResolv=null;case 9:return s._processing_blob=!0,h=s._blob_callbacks.shift(),b.next=13,h(a);case 13:return b.sent,s._processing_blob=!1,b.abrupt("return");case 17:if(!(s.bReady&&p.isString(a)&&(a.indexOf("Function not found")>0||a.indexOf("Version not found")>0))){b.next=19;break}return b.abrupt("return");case 19:if(s._cbToGetTaskId){b.next=21;break}return b.abrupt("return");case 21:return b.next=23,s._cbToGetTaskId(a,Ur.ONMESSAGE_PROCESS_DATA,s._requestTaskId,l);case 23:return m=b.sent,_=!1,b.next=27,s._cbToGetTaskId(m,Ur.ONMESSAGE_GET_TASKID,s._requestTaskId,l);case 27:if(d=b.sent){b.next=36;break}if(!m.Detail||!m.Domain){b.next=32;break}return s._lic_callback&&s._lic_callback(m),b.abrupt("return");case 32:return b.next=34,s._cbToGetTaskId(m,Ur.ONMESSAGE_GET_EVENT_TASKID,s._requestTaskId,l);case 34:(d=b.sent)&&(_=!0);case 36:if(u=s._tasks[d]){b.next=46;break}if(!_){b.next=42;break}u={},b.next=44;break;case 42:return d!=""&&di.log("invalid task id: "+d),b.abrupt("return");case 44:b.next=48;break;case 46:if(!u.timedout){b.next=48;break}return b.abrupt("return");case 48:return b.next=50,s._cbToGetTaskId(a,Ur.HANDLE_RAW_MESSAGE,s._requestTaskId,u.ctx);case 50:if((S=b.sent)!==void 0){b.next=55;break}return b.next=54,s._cbToGetTaskId(m,Ur.HANDLE_PROCESSED_MESSAGE,s._requestTaskId,u.ctx);case 54:S=b.sent;case 55:S&&!_&&(u.tmid&&clearTimeout(u.tmid),delete s._tasks[d],u.resolver&&u.resolver.resolve(S)),b.next=64;break;case 58:b.prev=58,b.t0=b.catch(1),di.debug("failed to handle message."),b.t0 instanceof Error?di.error(b.t0):di.error(p.stringify(b.t0)),delete s._tasks[d],(y=u)===null||y===void 0||(y=y.resolver)===null||y===void 0||y.reject(b.t0.message);case 64:case"end":return b.stop()}},r,null,[[1,58]])})),HC.apply(this,arguments)}function S$(r,n,a){return $C.apply(this,arguments)}function $C(){return $C=o(w().mark(function r(n,a,s){var u,d;return w().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.t0=a,l.next=l.t0===Ur.GET_TASKID?3:l.t0===Ur.HANDLE_RAW_MESSAGE?7:9;break;case 3:return(d=g$(n)).cmdId=(u=d.cmdId)!==null&&u!==void 0?u:(h=void 0,m=void 0,m=[_p(8),"-",_p(4),"-",_p(4),"-",_p(4),"-",_p(8)],h&&m.unshift(h),m.join("")),j.Promise.resolve(["cmdId"]),l.abrupt("break",9);case 7:return j.Promise.resolve(n),l.abrupt("break",9);case 9:case"end":return l.stop()}var h,m},r)})),$C.apply(this,arguments)}function KC(r,n,a,s){return YC.apply(this,arguments)}function YC(){return YC=o(w().mark(function r(n,a,s,u){var d,l,h,m;return w().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!this.connected&&!this.disposed){_.next=2;break}return _.abrupt("return");case 2:if(!(h=this)._connectPromise){_.next=7;break}return _.next=6,h._connectPromise;case 6:return _.abrupt("return");case 7:return a=(d=a)!==null&&d!==void 0?d:this._defaultRetries,s=(l=s)!==null&&l!==void 0?l:100,m=vs(Ra,h,v$).call(h,h.serverInfo),di.debug("WebSocket URL: "+m+", try to create websocket "+a+"/"+s),h._connectPromise=new j.Promise(function(S,y){var b=function(x){vs(Ra,h,_$).call(h,h,m,h.serverInfo.protocol,u).then(function(D){S(D)}).catch(function(D){di.debug("create websocket failed: "+D.message),x<a?I(x):y(D)})};function I(x,D,W){setTimeout(function(){b(++x)},s)}b(0)}),_.prev=12,_.next=15,h._connectPromise;case 15:_.next=20;break;case 17:throw _.prev=17,_.t0=_.catch(12),_.t0;case 20:return _.prev=20,h._connectPromise=null,_.finish(20);case 23:case"end":return _.stop()}},r,this,[[12,17,20,23]])})),YC.apply(this,arguments)}function WF(r,n,a,s){return XC.apply(this,arguments)}function XC(){return XC=o(w().mark(function r(n,a,s,u){var d,l,h,m;return w().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(d=this,l=s.eventTaskId,h=s.lastEventTaskId,l!==void 0){_.next=7;break}return _.next=6,a(n,Ur.GET_EVENT_TASKID,d._requestTaskId,s);case 6:l=_.sent;case 7:l&&(d._tasks[l]?s&&s.userData&&s.userData.command&&((m=d._tasks[l]).ctx=s,h&&((m=d._tasks[h]).ctx=s)):(m={id:u.id,resolver:null,ctx:s,timedout:!1},d._tasks[l]=m,h&&(d._tasks[h]=m)));case 8:case"end":return _.stop()}},r,this)})),XC.apply(this,arguments)}function b$(r,n,a,s,u,d,l){return QC.apply(this,arguments)}function QC(){return QC=o(w().mark(function r(n,a,s,u,d,l,h){var m,_,S,y;return w().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return m=this,b.prev=1,s.client=m,b.next=5,vs(Ra,m,KC).call(m,d,u,l,h);case 5:if((_=s.taskId)!="0"){b.next=12;break}return m.disposed||m._ws.send(n),n=null,b.abrupt("return");case 12:if(_!==void 0){b.next=16;break}return b.next=15,a(n,Ur.GET_TASKID,null,s);case 15:_=b.sent;case 16:return _===void 0&&di.debug("websocket send: task id is invalid."),(S={}).promise=new j.Promise(function(I,x){S.resolve=I,S.reject=x}),y={id:_,resolver:S,ctx:s,timedout:!1},m._tasks[_]=y,m._requestTaskId=_,b.next=24,vs(Ra,m,WF).call(m,n,a,s,y);case 24:return m._cbToGetTaskId=a,h&&(y.tmid=setTimeout(function(){di.debug("ws request time out."),y.timedout=!0,y.resolver.reject("request timed out.")},h)),m.disposed||m._ws.send(n),di.debug("end to send task "+_),n=null,b.abrupt("return",S.promise);case 32:if(b.prev=32,b.t0=b.catch(1),_&&delete m._tasks[_],!(b.t0 instanceof Fo||b.t0&&b.t0.code&&b.t0.message)){b.next=39;break}throw b.t0;case 39:if(!b.t0.message){b.next=41;break}throw new Fo(b.t0.message);case 41:return b.prev=41,n=null,b.finish(41);case 44:case"end":return b.stop()}},r,this,[[1,32,41,44]])})),QC.apply(this,arguments)}function C$(r,n){(function(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function JC(r,n,a){return(n=function(s){var u=function(d,l){if(R(d)!="object"||!d)return d;var h=d[Symbol.toPrimitive];if(h!==void 0){var m=h.call(d,l||"default");if(R(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(s,"string");return R(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}function BF(r,n,a){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:a;throw new TypeError("Private element is not present on this object")}h_=zC;var qC=new WeakSet,_s=function(){function r(){f(this,r),C$(this,qC),JC(this,"_maxWebSocketCon",10),JC(this,"_wsClients",[])}return v(r,[{key:"removeTerminatedWSClient",value:function(){this._wsClients=this._wsClients.filter(function(a){return!a.disposed})}},{key:"getClient",value:function(a,s){return a.useWS?BF(qC,this,I$).call(this,a,s):new h$(a)}},{key:"closeClient",value:(n=o(w().mark(function a(s){var u,d,l,h;return w().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:u=this._wsClients,d=C(u),m.prev=2,d.s();case 4:if((l=d.n()).done){m.next=12;break}if(!RF((h=l.value).serverInfo,s)){m.next=10;break}if(h.disposed){m.next=10;break}return m.next=10,h.dispose();case 10:m.next=4;break;case 12:m.next=17;break;case 14:m.prev=14,m.t0=m.catch(2),d.e(m.t0);case 17:return m.prev=17,d.f(),m.finish(17);case 20:this.removeTerminatedWSClient();case 21:case"end":return m.stop()}},a,this,[[2,14,17,20]])})),function(a){return n.apply(this,arguments)})},{key:"terminate",value:function(){var a=this._wsClients.slice();this._wsClients=[],a.forEach(function(s){s.dispose()})}}],[{key:"Instance",get:function(){return this._gClientPool||(this._gClientPool=new r),this._gClientPool}}]);var n}();function T$(r){this.removeTerminatedWSClient();var n,a=C(this._wsClients);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(RF(s.serverInfo,r)&&!s.disposed)return s.addRef(),s}}catch(u){a.e(u)}finally{a.f()}return null}function I$(r,n){var a;return n||(a=BF(qC,this,T$).call(this,r)),a||(this._wsClients.length<this._maxWebSocketCon?((a=new zC(r)).addEvent("disposed","1",function(){LF.Instance.removeTerminatedWSClient()}),this._wsClients.push(a),a):null)}LF=_s,JC(_s,"_gClientPool",null);var tu=function(){function r(){f(this,r)}return v(r,null,[{key:"getHttpClientForDcp",value:function(n,a){var s,u=U.dcp,d=j.detect.ssl;if(a||!ue.bSSL?(s=u.Port,d=!1):(s=u.SSLPort,d=!0),p.isString(n)){var l=new pl;return p.startsWith(n,"https://")?(l.ssl=!0,l.server=n.substring(8)):p.startsWith(n,"http://")?(l.ssl=!1,l.server=n.substring(7)):(l.ssl=j.detect.ssl,l.server=n),_s.Instance.getClient(l)}return r.getHttpClient(null,s,d)}},{key:"getHttpClient",value:function(n,a,s){var u=s?"https":"http",d=new pl(n||ui(),a,s,!1,u);return _s.Instance.getClient(d)}},{key:"getWsClient",value:function(n,a,s,u){var d=new pl(n||ui(),a,s,!0,Pt.wsProtocol);return _s.Instance.getClient(d,u)}},{key:"closeWsClient",value:function(n,a,s){var u=new pl(n||ui(),a,s,!0,Pt.wsProtocol);return _s.Instance.closeClient(u)}}])}();j.ClientPool=_s;var w$=parseInt(ao),E$=parseInt(op),x$=parseInt(ap),UF="ddm/",ru="ddm_"+[w$,E$,x$,$u].join("");function VF(){return UF+ru}function A$(r){return jF.apply(this,arguments)}function jF(){return(jF=o(w().mark(function r(n){var a,s,u,d;return w().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=lp(),s=[VF(),"/VersionInfo?","ts=",p.now()].join(""),u=['{"id":"',p.guid(),'","method":"VersionInfo"}'].join(""),d=tu.getHttpClientForDcp(n),l.abrupt("return",d.request(u,s,{dataType:"json"},a));case 4:case"end":return l.stop()}},r)}))).apply(this,arguments)}function Mr(r){p.log(r)}var GF="All scripts and css loaded.",zF="Getting the WebTwain port...",HF="The WebTwain version not compatible.",$F="Decoding the license...",KF="Checking the license...",mr=function(r){return r.CM_RENDERALL=1,r.CM_IMAGEONLY=2,r.CM_AUTO=3,r.CM_RENDERALLWITHANNOTATION=4,r}({});function P$(r,n){(function(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function k$(r,n,a){return(n=function(s){var u=function(d,l){if(R(d)!="object"||!d)return d;var h=d[Symbol.toPrimitive];if(h!==void 0){var m=h.call(d,l||"default");if(R(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(s,"string");return R(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}function lo(r,n,a){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:a;throw new TypeError("Private element is not present on this object")}var YF=ao+".",D$=parseInt(ao),R$=0,F$=1,O$=2,N$=3,M$=4,L$=7,W$=8,B$=9,U$=10,V$=50,j$=51,G$=52;function Od(r){return p.isString(r)?p.trim(r):r}var Bi=new WeakSet,z$=function(){return v(function n(){f(this,n),P$(this,Bi),k$(this,"isLTS",ci)},[{key:"isLongKey",value:function(n){if(p.isString(n)&&n.length>0){var a=n.charAt(0);if(a=="f"||a=="t")return!0;if(p.startsWith(n,"DLS")||p.isNumber(n))return!1;var s=parseInt(n)+"-";return!p.startsWith(n,s)}return!1}},{key:"isLicenseMixed",value:function(n,a){var s,u=!1,d=n||U.DWT.ProductKey;if(U.DWT.lclex(),a&&(Od(U.DWT.organizationID)||Od(U.DWT.handshakeCode))&&d&&(u=!0,Fe(s={},-2444,"A license can only be specified once and has already been set using the ProductKey API.")),!u&&p.isString(d)&&(d=p.trim(d),!(p.startsWith(d,"f")||p.startsWith(d,"t")))){if(d!="")if(p.startsWith(d,"DLS2"))try{lo(Bi,this,H$).call(this,d)}catch(h){u=!0,Fe(s={},-2440,""),s._errorString=h.message}else lo(Bi,this,XF).call(this,d).LTS||(u=!0,function(h){Fe(h,Jn.LicenseParseFailed,"The license is invalid.")}(s={}))}if(u&&s){Hr(s);var l=U.DWT.licenseException;p.error(l.message)}return u}},{key:"getLicenseFromDynamsoftCore",value:function(){var n,a,s=null;if(e.mapPackageRegister&&e.mapPackageRegister.license)s=(a=e.mapPackageRegister.license.LicenseManager)===null||a===void 0?void 0:a.license;else if((n=window)!==null&&n!==void 0&&(n=n.Dynamsoft)!==null&&n!==void 0&&(n=n.Core)!==null&&n!==void 0&&(n=n.mapPackageRegister)!==null&&n!==void 0&&n.license){var u;s=(u=window.Dynamsoft.Core.mapPackageRegister.license.LicenseManager)===null||u===void 0?void 0:u.license}if(s!==null){if(s==="")return"";if(p.isString(s))return s=p.trim(s)}return null}},{key:"_initAR",value:function(n){var a,s;n&&(n.pk||(a=n.ar,s=n.u,a&&s&&(we.bUseDynamsoftLicenseManager=!0,U.DWT.lsdt(U.DWT.EnumInstance.dwt_browser),U.DWT.lsmid(s,""),U.DWT.lsar(a,""))))}},{key:"preParseProductKey",value:(r=o(w().mark(function n(a){var s,u,d,l;return w().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(s=null,u=!1,s=this.getLicenseFromDynamsoftCore(),!p.isString(s)){h.next=32;break}if(s===""||!this.isLongKey(s)){h.next=8;break}return this.isLicenseMixed(s,!1)||(this._innerResetLicense(),we.bPublicLTS=!1,we.refProductKey=s),h.abrupt("return");case 8:if(!e.mapPackageRegister||!e.mapPackageRegister.license){h.next=14;break}return h.next=11,e.mapPackageRegister.license.getAR();case 11:l=h.sent,h.next=18;break;case 14:if((d=window)===null||d===void 0||(d=d.Dynamsoft)===null||d===void 0||(d=d.Core)===null||d===void 0||(d=d.mapPackageRegister)===null||d===void 0||!d.license){h.next=18;break}return h.next=17,window.Dynamsoft.Core.mapPackageRegister.license.getAR();case 17:l=h.sent;case 18:if(!l){h.next=32;break}if(this._initAR(l),s!==""){h.next=26;break}return this._innerResetLicense(),we.refProductKey="",we.bPublicLTS=!0,we.handshakeCode="200001",h.abrupt("return");case 26:if(!l.pk){h.next=31;break}return this.isLicenseMixed(l.pk,!1)||(this._innerResetLicense(),we.bPublicLTS=!1,we.refProductKey=l.pk),h.abrupt("return");case 31:we.refProductKey!==s&&(u=!0);case 32:!u&&this.isLicenseMixed(null,!0)||this.reparseProductKey(a);case 33:case"end":return h.stop()}},n,this)})),function(n){return r.apply(this,arguments)})},{key:"reparseProductKey",value:function(n){n&&Mr("Parsing Product Key...");var a=this.getLicenseFromDynamsoftCore(),s=!1;if(a===null||a===""){var u=Od(U.DWT.organizationID),d=Od(U.DWT.handshakeCode),l=u||d;if(a=p.trim(U.DWT.ProductKey),!l){var h=lo(Bi,this,XF).call(this,a);h.LTS&&(d=Od(h.handshakeCode),l=(u=Od(h.organizationID))||d)}if(l)return this._innerResetLicense(),p.isNumber(a)&&(u=a),we.handshakeCode=d,we.organizationID=u,we.licenseServer=U.DWT.licenseServer,we.sessionPassword=U.DWT.sessionPassword,void(we.bPublicLTS=lo(Bi,this,QF).call(this,we.licenseServer,l))}if(we.refProductKey!==a&&(this._innerResetLicense(),p.isString(a)&&a.length>0&&(we.refProductKey=a,s=!0)),s)if(this.isLongKey(we.refProductKey))we.bPublicLTS=!1;else{var m,_={_pLoad:{isEmpty:rt},_license:we.refProductKey,_licenseServer:[]};try{m=DF(_)}catch(y){p.error(y),m=!1}if(m&&p.isString(m.l)){var S=p.trim(m.l);S==""?(S="200001",we.organizationID=S,we.handshakeCode=S):(S.indexOf("-")!=-1||(we.organizationID=S),we.handshakeCode=S),p.isArray(m.ls)&&m.ls.length>0&&(we.licenseServer=m.ls),we.bPublicLTS=lo(Bi,this,QF).call(this,we.licenseServer,S),we.sessionPassword=m.sp}else we.bPublicLTS=!1,m&&p.isNumber(m.l)&&(we.handshakeCode=""+m.l)}}},{key:"_innerResetLicense",value:function(){we.refProductKey="",we.handshakeCode=void 0,we.organizationID=void 0,we.licenseServer=void 0,we.sessionPassword="",we.bPublicLTS=!0}},{key:"checkOSForAllowCore",value:function(n,a,s){if(we.bHTML5Edition){if(n)return lo(Bi,this,JF).call(this,a);var u=s._bRemoteMode,d=s.__serverPlatform;return this.isOSOK(a,u,d)}return rt}},{key:"checkLocalPlatformForRemoteService",value:function(n){var a,s,u,d=n.__licenseInfo,l=Mi.getEnumPlatform(),h=!1;for(a=0;a<d.Detail.length&&(s=d.Detail[a],!((u=lo(Bi,this,ZC).call(this,s.EnumLicenseType,s.LicenseType)).Core&&p.isString(s.Version)&&s.Version.indexOf(YF)==0&&((h=lo(Bi,this,JF).call(this,s.OS))||(h=this.isOSOK(s.OS,!0,l))||!n._blts&&n._bScanForProxyRemote&&u.RemoteScan)));a++);return h||(l==Et.enumWindow?function(m){Fe(m,-2344,"The current product key does not support Windows OS. "+Nn()),Hr(m)}(n):l==Et.enumLinux?function(m){Fe(m,-2346,"The current product key does not support Linux OS. "+Nn()),Hr(m)}(n):l==Et.enumMac?function(m){Fe(m,-2345,"The current product key does not support MAC OS. "+Nn()),Hr(m)}(n):function(m){Fe(m,-2347,"The current product key does not support your OS. "+Nn()),Hr(m)}(n)),h}},{key:"checkProductKey",value:function(n,a,s){var u,d=U.DWT.licenseException;return!a.Camera&&(n.__licenseInfo||(n.__licenseInfo={}),(u=lo(Bi,this,K$).call(this,n,n.__licenseInfo,Pe,a,s))||(d.code=n._errorCode,d.message=n._getErrorString(),d.fromLTS=!1),u)}},{key:"isBindDomainOK",value:function(n){if(p.isUndefined(n)||n==null||n==""||n=="*"||n=="*.*")return rt;var a=location.hostname,s=Pe;if(a=="")return rt;for(var u=a.toLowerCase().split("."),d=u.length,l=n.toLowerCase().split(";"),h=0;h<l.length;h++){var m=l[h];if(m=="*.*"){s=rt;break}var _=m.split("."),S=_.length;if(S>0&&S-1<=d){for(var y=rt,b=S-1;b>0;b--){if(_[b].indexOf("*")>-1){s=rt;break}if(b+d-S>=0){if(u[b+d-S]!=_[b]){y=Pe;break}}else if(_[b]!="*"){y=Pe;break}}if(y&&(_[0]=="*"||d>=S&&u[d-S]==_[0])){s=rt;break}}}return s}},{key:"isExpiredOrFuture",value:function(n,a){if(n=="")return Pe;if(!a){var s=n.length;if(s>2&&n[s-2]=="/"&&n[s-1]=="0")return Pe}var u=Nd(n),d=new Date().getTime(),l=d+5184e6;return u.getTime()<d||a&&u.getTime()>l?rt:Pe}},{key:"willTrialExpire",value:function(n){if(n=="")return Pe;var a=Nd(n),s=new Date().getTime();return a.getTime()<s+432e6&&a.getTime()>s?rt:Pe}},{key:"isOSOK",value:function(n,a,s){var u=!1,d=!1,l=!1,h=!1,m=!1,_=!1,S=!1,y=!1;return n==""||n=="0"?rt:(a?s==Et.enumWindow?l=!0:s==Et.enumLinux?d=!0:s==Et.enumMac?u=!0:s==Et.enumEmbed?m=!0:s==Et.enumChromeOS?_=!0:s==Et.enumAndroid?S=!0:s==Et.enumHarmonyOS?y=!0:s==Et.enumiOS&&(h=!0):(u=ue.bMac,d=ue.bLinux,l=ue.bWin,h=ue.biPhone||ue.biPad,_=ue.bChromeOS,m=U.navInfo.bEmbed,S=ue.bAndroid,y=ue.bHarmonyOS),(n=n.toLowerCase()).indexOf("windows")>-1&&l||n.indexOf("mac")>-1&&u||n.indexOf("linux")>-1&&(d||_||y)||n.indexOf("android")>-1&&S||n.indexOf("ios")>-1&&h||n.indexOf("embed")>-1&&m?rt:Pe)}},{key:"isBrowserOK",value:function(n){if(p.isString(n)){if(n==""||n=="0")return rt;var a=(n=n.toLowerCase()).split(";"),s=Pe;return p.each(a,function(u){(p.trim(u)=="chrome"&&(ue.bChrome||ue.bSafari||ue.bOpera||ue.bEdge)||p.trim(u)=="ie"&&ue.bIE||p.trim(u)=="firefox"&&ue.bFirefox)&&(s=rt)}),s}return Pe}},{key:"isAllowLicenseType",value:function(n,a){return a.Core?n.Core:a.PDFRasterizer?n.PDFRasterizer:a.Webcam||a.Camera?n.Webcam:a.barcode1D?n.barcode1D:a.QR?n.QR:a.PDF417?n.PDF417:a.DataMatrix?n.DataMatrix:a.OCR?n.OCR:a.OCRPro?n.OCRPro:n.Core}},{key:"setNoAllowedLicenseTypeError",value:function(n,a,s){s.Core?hp(n):s.Webcam||s.Camera?a||s.Camera?function(u){u._errorCode=-2431,ci()?u._errorString="The license for the Camera Addon is not found or has expired.":Fe(u,-2431,"The current product key does not support Camera Addon. "+Nn()),Hr(u)}(n):function(u){u._errorCode=-2338,ci()?u._errorString="The license for the module direct show is not found or has expired.":u._errorString="The current product key does not support Webcam. "+Nn(),Hr(u)}(n):s.PDFRasterizer?a?function(u){u._errorCode=-2370,ci()?u._errorString="The license for the module pdf rasterizer is not found or has expired.":u._errorString="The current product key does not support Pdf Rasterizer Wasm. "+Nn(),Hr(u)}(n):kd(n):s.OCR?function(u){u._errorCode=-2340,ci()?u._errorString="The license for the module ocr is not found or has expired.":u._errorString="The current product key does not support OCR. "+Nn(),Hr(u)}(n):s.OCRPro?function(u){u._errorCode=-2341,ci()?u._errorString="The license for the module ocr pro is not found or has expired.":u._errorString="The current product key does not support OCR pro. "+Nn(),Hr(u)}(n):Do(n)}},{key:"getLicenseDateString",value:function(n){var a,s=n.getFullYear();return[(a=n.getMonth()+1)>=10?""+a:"0"+a,"/",n.getDate()>=10?""+n.getDate():"0"+n.getDate(),"/",s].join("")}},{key:"hasPDFRProductKey",value:function(n){return!!this.checkProductKey(n,{PDFRasterizer:!0},!0)||(n._resetErr(),!1)}},{key:"checkPDFProductKeyWhenNeeds",value:function(n,a){var s;return(a==U.DWT.EnumDWT_ImageType.IT_PDF||a==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF)&&(we.bHTML5Edition?n.__addon&&n.__addon.PDF&&(s=n._getConvertMode()):n.Addon&&n.Addon.PDF&&(s=n._getConvertMode()),s==mr.CM_RENDERALL||s==mr.CM_RENDERALLWITHANNOTATION)?this.checkProductKey(n,{PDFRasterizer:!0},!0):rt}},{key:"getPublicLicenseContent",value:function(n){var a=[],s=n;if(!p.isString(s)){if(p.isUndefined(s))return"";s=s instanceof Error||"message"in s?s.message:""+s}var u=s.indexOf("["),d=s.indexOf("]",u),l=s.indexOf("(",d),h=s.indexOf(")",l);if(u==-1||d==-1||l==-1||h==-1)return s;u>0&&a.push(s.substring(0,u));var m=s.substring(u+1,d),_=s.substring(l+1,h);return a.push(['<a href="',_,'" target="_blank" class="dynamsoft-major-color">',m,"</a>"].join("")),a.push(s.substring(h+1)),a.join("")}},{key:"getLTSLicense",value:function(){return we.bPublicLTS?"":we.handshakeCode||we.organizationID}}]);var r}();function XF(r){var n,a,s=r,u=r.indexOf("-"),d=u!=-1;return a={},d&&(s=r.substring(0,u)),n=Number(s),isNaN(n)||String(Number(n))!==s||(d?a.handshakeCode=r:a.organizationID=r,a.LTS=rt),a}function H$(r){DF({_pLoad:{isEmpty:rt},_license:r,_licenseServer:[]})}function QF(r,n){var a=!0;if(p.isArray(r)&&r.length>0){var s=r[0];p.isString(s)&&s!=""&&new Jv(s).getHostname()!=="mlts.dynamsoft.com"&&(a=!1)}return a&&(!n||n==="200001"||p.startsWith(n,"200001-"))}function $$(r,n,a){return this.checkOSForAllowCore(r,n,a)}function K$(r,n,a,s,u){var d,l=!1;if(we.bHTML5Edition&&p.isFunction(r._needCheckProxyRemoteScanLicense)&&(l=r._needCheckProxyRemoteScanLicense()),n&&n.LTS){if(!n||!p.isArray(n.Detail)||n.Detail.length==0)return this.isLTS()?hp(r):Do(r),Pe}else if(!n||!p.isArray(n.Detail)||n.Detail.length==0)return this.isLTS()?hp(r):Do(r),Pe;var h,m,_,S,y=0,b=0,I=[],x=[],D=Pe,W=Pe,$=Pe,te=Pe,q=Pe;if(!this.isBindDomainOK(n.Domain))return function(se){Fe(se,-2342,"The domain of your current site does not match the domain bound in the current product key. "+Nn()),Hr(se)}(r),Pe;for(n.Detail.length>0&&(d=(_=n.Detail[0]).Trial!="FALSE"),m=1;m<n.Detail.length;m++)if((_=n.Detail[m]).Trial=="FALSE"&&d||_.Trial=="TRUE"&&!d)return n$(r),Pe;if(n.bTrial=d,s.Core||s.Webcam){var X=[],J=!1;for(m=0;m<n.Detail.length;m++)if(_=n.Detail[m],S=lo(Bi,this,ZC).call(this,_.EnumLicenseType,_.LicenseType),s.Core&&S.Core&&this.checkOSForAllowCore(a,_.OS,r)||s.Core&&S.Core&&we.bActiveXEdition&&S.ActiveX||s.Webcam&&S.Webcam&&!a){if(!n.LTS){if(!p.isString(_.Version)||_.Version.indexOf(YF)!=0){X.push(_);continue}}if(we.bHTML5Edition){if(S.ActiveX&&!S.Html5||l&&!S.RemoteScan)continue;x.push(_)}else{if(!S.ActiveX&&S.Html5)continue;x.push(_)}J=!0}if(!J&&X.length>0)return X.splice(0),function(se,ne){var ae=Nn();Fe(se,Jn.LicenseVersionNotCurrent,"The current product key is not for version ".concat(ne,". ").concat(ae)),Hr(se)}(r,ap.toString()=="0"?[ao,op].join("."):[ao,op,ap].join(".")),!1;X.splice(0)}else x=n.Detail;for(m=0;m<x.length;m++){var re=rt;if(_=x[m],S=lo(Bi,this,ZC).call(this,_.EnumLicenseType,_.LicenseType),s.Core&&S.Core||this.isAllowLicenseType(S,s)){h=_.ExpireDate.replace(/-/g,"/");var H=_.Trial!="FALSE";if(this.isExpiredOrFuture(h,H))I.push(h);else if(H&&S.Core&&this.willTrialExpire(h)&&(n.ExpireDate=h),n.LTS||S.Core&&we.bHTML5Edition&&parseInt(_.Version)>=D$||S.Core&&we.bActiveXEdition||!S.Core){var F=!1;if(S.Core)(this.checkOSForAllowCore(a,_.OS,r)||we.bActiveXEdition&&S.ActiveX)&&(F=!0);else{var B=a;s.Camera&&(B=!0),lo(Bi,this,$$).call(this,B,_.OS,r)&&(F=!0)}F?this.isBrowserOK(_.Browser)||u?(y++,re=Pe):W=rt:s.Core?D=rt:s.PDFRasterizer?te=rt:(s.Webcam||s.Camera)&&(q=rt)}else $=rt;re&&b++}}if(y>0)return rt;if(b==0)return this.setNoAllowedLicenseTypeError(r,a,s),Pe;if(I.length>0){var V,G=0,z=1e20,Z="",ie=new Date().getTime();for(h="",m=0;m<I.length;m++)(V=Nd(I[m])).getTime()<ie&&V.getTime()>G?(G=V.getTime(),h=I[m]):V.getTime()>ie&&V.getTime()<z&&(z=V.getTime(),Z=I[m]);return h!=""?(V=Nd(h),lF(r,h=this.getLicenseDateString(V))):Z!=""?(V=Nd(Z),Z=this.getLicenseDateString(V),function(se){Fe(se,Jn.LicenseIsFuture,"The current product key is invalid. "+Nn()),Hr(se)}(r)):lF(r,""),Pe}return $?(function(se){Fe(se,-2348,"The current product key is invalid because it's generated with the licenses of a different major version."),Hr(se)}(r),Pe):W?(ue.bEdge?function(se){Fe(se,-2330,"The current product key does not support Edge. "+Nn()),Hr(se)}(r):ue.bChrome?function(se){Fe(se,-2327,"The current product key does not support Chrome. "+Nn()),Hr(se)}(r):ue.bFirefox?function(se){Fe(se,-2328,"The current product key does not support Firefox. "+Nn()),Hr(se)}(r):ue.bIE?function(se){Fe(se,-2329,"The current product key does not support IE. "+Nn()),Hr(se)}(r):ue.bSafari?function(se){Fe(se,-2392,"The current product key does not support Safari. "+Nn()),Hr(se)}(r):function(se){Fe(se,-2343,"The current product key does not support your browser. "+Nn()),Hr(se)}(r),Pe):D?(this.setNoAllowedLicenseTypeError(r,a,{Core:!0}),Pe):te?(this.setNoAllowedLicenseTypeError(r,a,{PDFRasterizer:!0}),Pe):q?(this.setNoAllowedLicenseTypeError(r,a,{Webcam:!0}),Pe):(Do(r),Pe)}function Y$(r){var n=Pe,a=Pe,s=Pe,u=Pe,d=Pe,l=Pe,h=Pe,m=Pe,_=Pe;return p.isString(r)&&r!=""&&p.each(r.split(";"),function(S){var y=1*S;y==O$||y==N$||y==R$||y==F$?n=rt:y==M$?a=rt:y==V$?s=rt:y==j$?u=rt:y==G$?d=rt:y==L$?l=rt:y==W$?h=rt:y==B$?m=rt:y==U$&&(_=rt)}),{Core:n,PDFRasterizer:m,Webcam:h,barcode1D:a,QR:s,PDF417:u,DataMatrix:d,OCR:l,OCRPro:_}}function ZC(r,n){var a=lo(Bi,this,Y$).call(this,r),s=lo(Bi,this,X$).call(this,n);return p.each(["Core","Html5","RemoteScan","LocalScan","ActiveX","PDFRasterizer","Webcam","barcode1D","QR","PDF417","DataMatrix","OCR","OCRPro"],function(u){a[u]=a[u]||s[u]}),a}function X$(r){var n=Pe,a=Pe,s=Pe,u=Pe,d=Pe,l=Pe,h=Pe,m=Pe,_=Pe,S=Pe,y=Pe,b=Pe,I=Pe;return r&&r!=""&&((r=r.toLowerCase()).indexOf("html5")>-1||r=="win=(aph) or mac=(ph) or linux(h)"?(n=rt,r.indexOf("html5;activex;oldie")>-1?u=rt:r.indexOf("html5;activex")>-1?(a=rt,I=rt,u=rt):(a=rt,I=rt),r.indexOf(";remotescan")>-1&&(a=rt,b=rt,r.indexOf(";onlyremote")>-1&&(I=Pe))):r=="1d barcode reader"?s=rt:r=="2d barcode reader(qrcode)"?d=rt:r=="2d barcode reader(pdf417)"?l=rt:r=="2d barcode reader(data matrix)"?h=rt:r=="ocr"?m=rt:r=="webcam"?_=rt:r=="pdf rasterizer"?S=rt:r=="proocr"&&(y=rt)),{Core:n,Html5:a,RemoteScan:b,LocalScan:I,ActiveX:u,PDFRasterizer:S,Webcam:_,barcode1D:s,QR:d,PDF417:l,DataMatrix:h,OCR:m,OCRPro:y}}function JF(r){var n=r.toLowerCase();return n.indexOf("wasm")>-1||n.indexOf("mobile")>-1}var _t=new z$;function qF(r,n){return ZF.apply(this,arguments)}function ZF(){return(ZF=o(w().mark(function r(n,a){var s;return w().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(ci()){u.next=2;break}return u.abrupt("return");case 2:if(u.prev=2,U.DWT.li({instanceMode:U.DWT.lgdt()},"")){u.next=17;break}return a&&Mr("Getting Machine ID."),u.prev=6,u.next=9,A$();case 9:return s=u.sent,u.next=12,Q$(s);case 12:u.next=17;break;case 14:u.prev=14,u.t0=u.catch(6),p.log(u.t0);case 17:u.next=22;break;case 19:u.prev=19,u.t1=u.catch(2),p.log(u.t1);case 22:case"end":return u.stop()}},r,null,[[2,19],[6,14]])}))).apply(this,arguments)}function Q$(r){return eO.apply(this,arguments)}function eO(){return(eO=o(w().mark(function r(n){var a;return w().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!n){s.next=7;break}if(!(p.isArray(n.result)&&n.result.length>3)){s.next=5;break}a=n.result[3],s.next=7;break;case 5:if(!n.description){s.next=7;break}return s.abrupt("return",{code:n.exception,message:n.description});case 7:p.isString(a)&&a!=""&&(U.DWT.lsmid(a,""),U.DWT.lsmid2b(a));case 8:case"end":return s.stop()}},r)}))).apply(this,arguments)}function Nd(r){var n,a=r;return a=a.replace(/-/g,"/"),n=Date.parse(a),isNaN(n)&&(n=0),(n=new Date(n)).setHours(23,59,59,999),n}function tO(r){if(r=="")return 65536;var n=Nd(r),a=new Date().getTime(),s=(n.getTime()-a)/864e5;return n.getTime()<a?0:Math.ceil(s)}U.DWT.isPublicLicense=function(){return we.bPublicLTS};var wi,eT=function(){return v(function r(){f(this,r),T(this,"_exec",{})},[{key:"fire",value:function(r,n){var a,s=this;r=r.toLowerCase(),a=Array.prototype.slice.call(arguments,1),p.each(s._exec[r]||[],function(u){var d=u.f,l=u.c||s;try{d.apply(l,a)}catch(h){p.error(h)}})}},{key:"on",value:function(r,n,a){r=r.toLowerCase(),this._exec[r]=this._exec[r]||[],this._exec[r].push({f:n,c:a})}},{key:"off",value:function(r,n,a){if(r&&n){r=r.toLowerCase();for(var s=this._exec[r]||[],u=s.length-1;u>=0;u--)s[u]===n&&s.splice(u,1)}else this._exec={}}}])}();function J$(r,n){(function(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function m_(r,n,a){return(n=function(s){var u=function(d,l){if(R(d)!="object"||!d)return d;var h=d[Symbol.toPrimitive];if(h!==void 0){var m=h.call(d,l||"default");if(R(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(s,"string");return R(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}function ys(r,n,a){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:a;throw new TypeError("Private element is not present on this object")}var ta,v_="[bio]: ",rO=window,__=rO&&rO.FormData,Fa=new WeakSet,nu=function(r){function n(a){var s;return f(this,n),J$(s=c(this,n),Fa),m_(s,"_attrs",{}),p.mix(s._attrs,{action:"",data:{},bChunkedSendData:rt,ajaxConfig:{value:{},type:"post",processData:Pe,cache:Pe,dataType:"text",async:rt,contentType:Pe,retry:0,headers:{"X-Requested-With":Pe}},ajax:"",formData:"",CORS:Pe,bOnlyResponseEmptyIsOK:rt}),p.mix(s._attrs,a),ys(Fa,s,q$).call(s),s}return P(n,r),v(n,[{key:"get",value:function(a){return a in this._attrs?this._attrs[a]:""}},{key:"set",value:function(a,s){a in this._attrs&&(this._attrs[a]=s)}},{key:"uploadFilesToServer",value:function(a){return ys(Fa,this,Z$).call(this,a)}},{key:"uploadToServer",value:function(a){var s=this,u=s.get("ajaxConfig");ys(Fa,s,nO).call(s),a&&a.size>0&&(ys(Fa,s,iO).call(s,a),p.isString(a.name)&&a.name!=""?s.name=a.name:s.name=a.fileName,a=null),p.mix(u,{data:s.get(n.PROP.formData),url:s.get(n.PROP.action),beforeSend:function(h,m,_){h.upload.addEventListener("progress",function(S){s.fire(n.event.PROGRESS,{loaded:S.loaded,total:S.total,name:s.name})},!1)}});var d=s.get("async");if(p.mix(u,{method:"POST",async:d,onSuccess:function(h){y_(s.get(n.PROP.data)),y_(s.get(n.PROP.formData));var m=s.get(n.PROP.ajax);p.isFunction(m.dispose)&&m.dispose(),s.set(n.PROP.data,null),s.set(n.PROP.formData,null),s.set(n.PROP.ajax,null);var _=ys(Fa,s,aO).call(s,h);s.fire(n.event.SUCCESS,_)},onError:function(h,m,_){var S;y_(s.get(n.PROP.data)),y_(s.get(n.PROP.formData));var y,b,I=s.get(n.PROP.ajax);p.isFunction(I.dispose)&&I.dispose(),s.set(n.PROP.data,null),s.set(n.PROP.formData,null),s.set(n.PROP.ajax,null),h&&p.isArray(h)&&h.length>2?(S=h[0],y=h[1],b=h[2]):(S=h,y=m,b=_),ys(Fa,s,oO).call(s,b,y,S)}}),d){var l=Po(u);return s.set(n.PROP.ajax,l),!0}return Po(u)}},{key:"abort",value:function(){var a=this,s=a.get("ajax");return p.isObject(s)?(s.abort(),a.set("ajax",!1),a):(p.log(v_+"abort(), the value of io invalid!"),a)}},{key:"setRequestHeader",value:function(a,s){var u=this.get("ajaxConfig");return u.headers[a]=s,this.set("ajaxConfig",u),u=null,s}}])}(eT);function q$(){this.get("CORS");var r=this.get("ajaxConfig");return p.mix(r,{xhrFields:{withCredentials:!1}}),r}function Z$(r){var n=this,a=n.get(wi.PROP.ajaxConfig),s=[];if(ys(Fa,n,nO).call(n),p.each(r,function(l){l&&l.size>0?(ys(Fa,n,iO).call(n,l),p.isString(l.name)&&l.name!=""?s.push(l.name):s.push(l.fileName)):s.push("")}),p.mix(a,{data:n.get(wi.PROP.formData),url:n.get(wi.PROP.action),beforeSend:function(l,h,m){l.upload.addEventListener("progress",function(_){n.fire(wi.event.PROGRESS,{loaded:_.loaded,total:_.total,name:""})},!1)}}),p.mix(a,{method:"POST",async:n.get("async"),onSuccess:function(l){var h="";s=[],l&&(l&&p.isArray(l)&&l.length>1?h=l[0]:p.isString(l)&&(h=l)),h=ys(Fa,n,aO).call(n,h),n.fire(wi.event.SUCCESS,h)},onError:function(l,h,m){var _,S;s=[],l&&p.isArray(l)&&l.length>2?(_=l[1],S=l[2]):(_=h,S=m),ys(Fa,n,oO).call(n,S,_)}}),n.name="",n.get("async")){var u=Po(a);return n.set(wi.PROP.formData,null),n.set(wi.PROP.ajax,u),!0}var d=Po(a);return n.set(wi.PROP.formData,null),d}function nO(){var r,n=this,a=n.get("data");if(__)if(a instanceof __)n.set(wi.PROP.formData,a);else{r=new __;try{p.each(a,function(s,u){r.append(u,s)}),n.set(wi.PROP.formData,r)}catch{p.log(v_+"something error when reset FormData.")}}else p.log(v_+"the browser does not support ajax.")}function iO(r){if(!p.isObject(r))return p.log(v_+"_addFileData(), file parameter invalid!"),!1;var n=this.get(wi.PROP.formData),a=r.name,s=r.remoteFilename;return s||(s="RemoteFile"),n.append(s,r,a),this.set(wi.PROP.formData,n),r=null,n}function oO(r,n,a){var s=wi.status.ERROR,u={status:s,msg:n,response:!1,name:this.name};r&&(u.httpStatus=r.status,u.response=a||r.responseText),this.fire(s,u)}function aO(r){var n,a,s,u=!1,d=this.name,l=wi.status.SUCCESS,h=wi.event.ERROR;if(p.log("Response from server: "+r),!this.get("bOnlyResponseEmptyIsOK"))return{status:l,msg:!1,json:!1,response:r,name:d};if(p.isUndefined(r)||r==="")n={status:l,msg:!1,json:!1,response:"",name:d};else if(p.isString(r)){try{for(a=0;a<r.length&&!(a>10);a++){if((s=r[a])=="{"){u=!0;break}if(s!=" "&&s!="\r"&&s!=`
`&&s!="	")break}if(u){var m=p.parse(r);n=m.status==1?{status:l,msg:!1,json:m,response:r,name:d}:{status:h,msg:!1,json:m,response:r,name:d}}}catch(S){u=!1,p.log(S)}if(!u){var _=String(r);n=(_=_.replace(/( |\t|\r|\n)/g,""))==""?{status:l,msg:!1,json:!1,response:r,name:d}:{status:h,msg:!1,json:!1,response:r,name:d}}}else n={status:l,msg:!1,json:!1,response:"",name:d};return n}function y_(r){r&&r instanceof __&&r.forEach&&r.forEach(function(n,a){a&&r.delete(a)})}function eK(r,n){(function(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function sO(r,n,a){return(n=function(s){var u=function(d,l){if(R(d)!="object"||!d)return d;var h=d[Symbol.toPrimitive];if(h!==void 0){var m=h.call(d,l||"default");if(R(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(s,"string");return R(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}function Sp(r,n,a){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:a;throw new TypeError("Private element is not present on this object")}wi=nu,m_(nu,"event",{SUCCESS:"success",ERROR:"error",PROGRESS:"progress"}),m_(nu,"status",{SUCCESS:"success",ERROR:"error"}),m_(nu,"PROP",{action:"action",data:"data",bChunkedSendData:"bChunkedSendData",ajaxConfig:"ajaxConfig",ajax:"ajax",formData:"formData",CORS:"CORS",bOnlyResponseEmptyIsOK:"bOnlyResponseEmptyIsOK"});var Md=new WeakSet,Xu=function(r){function n(a){var s;return f(this,n),eK(s=c(this,n),Md),s._attrs={action:"",retry:0,timeout:0,CORS:Pe,async:rt,dataType:"text",fileStatus:"",data:{},bOnlyResponseEmptyIsOK:rt},p.mix(s._attrs,a),Sp(Md,s,rK).call(s),s}return P(n,r),v(n,[{key:"get",value:function(a){return a in this._attrs?this._attrs[a]:""}},{key:"set",value:function(a,s){a in this._attrs&&(this._attrs[a]=s)}},{key:"upload",value:function(a){var s;if(a){if(p.isArray(a))return s=this._uploadType.uploadFilesToServer(a),a=null,s;if(p.isObject(a)){var u=a;return u.size?(u.id||(u.id=p.guid("file-")),u.size&&(u.textSize=Sp(Md,this,tK).call(this,u.size))):u.size=0,s=this._uploadType.uploadToServer(u),u=null,a=null,s}}return s=this._uploadType.uploadToServer(a),a=null,s}},{key:"abort",value:function(a){return this._uploadType&&this._uploadType.abort(),!0}},{key:"setRequestHeader",value:function(a,s){this._uploadType.setRequestHeader(a,s)}}])}(eT);function tK(r){var n=-1;do r/=1024,n++;while(r>99&&n<4);return Math.max(r,.1).toFixed(1)+["KB","MB","GB","TB"][n]}function rK(){var r=this,n={async:r.get(ta.PROP.async),action:r.get(ta.PROP.action),data:r.get(ta.PROP.data),CORS:r.get(ta.PROP.CORS),bOnlyResponseEmptyIsOK:r.get(ta.PROP.bOnlyResponseEmptyIsOK)};this._uploadType=new nu(n);var a=this._uploadType.get(nu.PROP.ajaxConfig);return a&&(a.dataType=r.get(ta.PROP.dataType),a.async=r.get(ta.PROP.async),a.retry=r.get(ta.PROP.retry)),this._uploadType.on(nu.event.SUCCESS,Sp(Md,r,uO),r),this._uploadType.on(nu.event.ERROR,Sp(Md,r,uO),r),this._uploadType.on(nu.event.PROGRESS,Sp(Md,r,nK),r),this._uploadType}function nK(r){this.fire(ta.event.PROGRESS,r)}function uO(r){var n=this,a=r.status,s=r.msg,u=n.get("file");p.mix(r,{file:u}),a==="success"?n.fire(ta.event.SUCCESS,r):(s===!1||(s==="abort"?p.mix(r,{canceled:!0}):s==="timeout"&&p.mix(r,{timeout:!0})),n.fire(ta.event.ERROR,r))}ta=Xu,sO(Xu,"event",{SUCCESS:"success",ERROR:"error",PROGRESS:"progress"}),sO(Xu,"PROP",{action:"action",retry:"retry",timeout:"timeout",CORS:"CORS",async:"async",dataType:"dataType",fileStatus:"fileStatus",data:"data",bOnlyResponseEmptyIsOK:"bOnlyResponseEmptyIsOK"});var Cr={Loading:"Processing...",LoadingTiff:"Processing tiff...",LoadingPdf:"Processing pdf...",Encoding:"Processing...",ConvertingToBlob:"Converting to blob...",ConvertingToBase64:"Converting to base64...",SavingPdf:"Saving pdf...",SavingTiff:"Saving tiff...",Downloading:"Downloading...",Uploading:"Uploading...",Transfer:"Transferring...",CanvasLoading:"Loading ...",Err_ServiceModeNotSupportMobile:"Service Mode does not support your Operating System. Please contact the site administrator."};function tT(r,n){j.detect.bMaskShow=!0,U.DWT.ScanDirectly||p.isFunction(U.DWT.OnWebTwainPreExecute)&&U.DWT.OnWebTwainPreExecute(r,n)}function rT(){j.detect.bMaskShow=!1,U.DWT.ScanDirectly||p.isFunction(U.DWT.OnWebTwainPostExecute)&&U.DWT.OnWebTwainPostExecute()}var sr={getImageUrl:function(r,n,a,s,u){var d,l=[r];if(p.isNumber(n)&&n<0)return"";if(n!=null&&(l.push("&index="),l.push(n)),l.push("&width="),l.push(a),l.push("&height="),l.push(s),Br.bMobile&&l.push("&type=1&quality=85"),l.push("&ticks="),u?l.push(u):l.push(Date.now()),d=l.join(""),ue.bFileSystem&&d.indexOf("dwt://")<0){var h=new Image;h.crossOrigin="anonymous",h.src=d,h=null}return d},getUrlByAct:function(r,n,a){var s=[r];return n!=null&&(s.push("&index="),s.push(n)),a&&(s.push("&act="),s.push(a)),s.push("&ticks="),s.push(Date.now()),s.join("")},output:function(r,n){p.debug&&p.log(n)},print:function(r){var n,a=0,s="";for(a=0;a<r.length;a++)s=s+'<div class="image-container"><img src="'+r[a].Url+'" /></div>';var u,d=gs()+"/src/dynamsoft.webtwain.css",l=["alwaysRaised=yes,z-look=yes,top=0,left=0,toolbar=no,menubar=no,location=no,status=no,width=",0,",height=",0].join(""),h=window.open("about:blank","_blank",l);n=["<html>",'<head><link rel="stylesheet" type="text/css" href="',d,'"></head>','<body id="D_body">',s,"</body></html>"].join(""),h&&(h.document.write(n),h.document.close(),h.focus(),(u=h.document.body)?u.onload=function(){h&&h.print(),p.log("print image...ok")}:p.log("cannot find image"))}};j.html5.Funs2=sr;var iK=p.isString,oK=p.isArray,aK=p.each;function bp(r,n){if(iK(n))r.push('"'),r.push(n),r.push('"');else if(oK(n)){var a=rt;r.push("["),aK(n,function(s){a?a=Pe:r.push(","),bp(r,s)}),r.push("]")}else n===void 0?r.push('""'):r.push(n)}function Ve(){for(var r=[],n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];if(a.length>0)if(a.length===1){var u=a[0];r.push("["),bp(r,u),r.push("]")}else if(a.length===2){var d=a[0],l=a[1];r.push("["),bp(r,d),r.push(","),bp(r,l),r.push("]")}else bp(r,Array.prototype.slice.call(a));return r.join("")}function iu(r){return r instanceof ArrayBuffer||r instanceof Uint8Array||r instanceof Uint16Array||r instanceof Uint32Array||r instanceof Int8Array||r instanceof Int16Array||r instanceof Int32Array||window.Uint8ClampedArray&&r instanceof window.Uint8ClampedArray||r instanceof Float32Array||r instanceof Float64Array}var ht=function(r){return r.TWAINSCANNER=16,r.WIASCANNER=32,r.TWAINX64SCANNER=64,r.ICASCANNER=128,r.SANESCANNER=256,r.ESCLSCANNER=512,r.WIFIDIRECTSCANNER=1024,r.WIATWAINSCANNER=2048,r}(ht||{}),cO=ht.TWAINSCANNER|ht.WIASCANNER|ht.TWAINX64SCANNER|ht.ICASCANNER|ht.SANESCANNER|ht.ESCLSCANNER|ht.WIFIDIRECTSCANNER|ht.WIATWAINSCANNER,Cp=ht.TWAINSCANNER|ht.WIASCANNER|ht.TWAINX64SCANNER|ht.ICASCANNER|ht.SANESCANNER,sK=ht.TWAINSCANNER|ht.WIATWAINSCANNER|ht.TWAINX64SCANNER|ht.ICASCANNER|ht.SANESCANNER;ht.TWAINSCANNER,ht.WIASCANNER,ht.WIATWAINSCANNER;var nT=ht.ESCLSCANNER|ht.WIFIDIRECTSCANNER,Ld=ht.TWAINSCANNER|ht.WIATWAINSCANNER,uK=1;function Tp(){return(++uK).toString()}function lO(){return["dwt_",p.getRandom()].join("")}var Ss=0;function Jr(r,n,a){if(p.log("showMask:"+r+"--"+Ss),Ss==0)if(n){tT(n);var s=j.mask.dlgMask;if(s){s.style.zIndex="10000";var u=p.sizzle(".dynamsoft-backdrop",s.parentNode);u&&u.length>0&&(u[0].style.zIndex="10000")}}else tT(a||{});Ss++}function Dr(r){p.log("hideMask:"+r+"--"+Ss),Ss>1?Ss--:Ss<=1&&(rT(),Ss=0)}var dO=function(){return v(function r(n,a){f(this,r),T(this,"m_server",""),T(this,"m_iUsingTime",0),T(this,"m_countMap",{}),T(this,"m_newConsum",!1),T(this,"m_mapSavedToDb",!1),this.clearData(),this.m_enumInstance=n,n==U.DWT.EnumInstance.dwt_desktop?(this.m_deploymentType="desktop",this.m_server=a):n==U.DWT.EnumInstance.dwt_browser?(this.m_deploymentType="browser",this.m_server=a):n==U.DWT.EnumInstance.dbr&&(this.m_deploymentType="browser",this.m_server="")},[{key:"clearData",value:function(){this.m_iUsingTime=0,this.m_jvUsingTime=p.nil,this.m_countMap={},this.m_newConsum=!1,this.m_mapSavedToDb=!1,this.m_minExpiredTime=p.nil,this.m_maxExpiredTime=p.nil,this.m_cu=p.nil,this.m_ar=p.nil,this.m_ltsInstance=p.nil}},{key:"set_cu",value:function(r){this.m_cu=r}},{key:"get_cu",value:function(){return this.m_cu}},{key:"set_ar",value:function(r){this.m_ar=r}},{key:"get_ar",value:function(){return this.m_ar}},{key:"get_ltsInstance",value:function(r){return this.m_ltsInstance||(this.m_ltsInstance=r(this.m_enumInstance)),this.m_ltsInstance}},{key:"inited_ltsInstance",value:function(){return!!this.m_ltsInstance}},{key:"set_maxExpiredTime",value:function(r){this.m_maxExpiredTime=r}},{key:"get_maxExpiredTime",value:function(){return this.m_maxExpiredTime}},{key:"set_minExpiredTime",value:function(r){this.m_minExpiredTime=r}},{key:"get_minExpiredTime",value:function(){return this.m_minExpiredTime}},{key:"get_deploymentType",value:function(){return this.m_deploymentType}},{key:"get_enumDeploymentType",value:function(){return this.m_enumInstance}}])}(),Ye=U.DWT;Ye.LTS=Ye.LTS||{},Ye.licenseException={code:0,message:"",fromLTS:!1},Ye.bLTSOnline=!0,Ye.axInstance=void 0,Ye.lOnUpdateDWObj=[],Ye.EnumInstance={dwt_desktop:0,dwt_browser:1,dbr:2};var ou,Ei=0,Oa={},Ip=!1,Wd=!1,Bd=!1,iT=!1,wp=!1;function fO(){var r=we.handshakeCode;return p.isString(r)||(r=""),r}function hO(){var r=we.organizationID;return p.isNumber(r)?r=""+r:p.isString(r)||(r=""),r}function oT(){return p.replaceAll(ko.JSVersion,",",".")}function cn(r,n){var a=r;return a===p.nil&&(a=U.DWT.lgdt()),a==Ye.EnumInstance.dbr?(Ye._dbrLicense||(Ye._dbrLicense=new dO(a,"")),Ye._dbrLicense):(Ye._dwtDLicense||(Ye._dwtDLicense=new dO(a,"")),Ye._dwtDLicense)}Ye.lupverfy=function(){cn(Ye.lgdt()).get_ltsInstance(Na),cn(Ye.EnumInstance.dbr).get_ltsInstance(Na)};var pO=Ye.EnumInstance.dwt_desktop;Ye.lsdt=function(r,n){pO=r},Ye.lgdt=function(r){return pO},Ye.lsmid=function(r,n){cn(Ye.lgdt()).set_cu(r)},Ye.lsar=function(r,n){cn(Ye.lgdt()).set_ar(r)},Ye.lsmid2b=function(r){cn(Ye.lgdt("")).set_cu(r)},Ye.lgar=function(r,n){return cn(r).get_ar()},Ye.laddDWTObj=function(r){var n=!1;p.each(Ye.lOnUpdateDWObj,function(a){if(a==r)return n=!0,!1}),n||Ye.lOnUpdateDWObj.push(r)},Ye.lremoveDWTObj=function(r){p.each(Ye.lOnUpdateDWObj,function(n,a){if(n==r)return Ye.lOnUpdateDWObj.splice(a,1),!1})},Ye.lsendUpdateEvt=function(r,n){var a=[];if(p.each(Ye.lOnUpdateDWObj,function(d){r==Ye.EnumInstance.dwt_desktop&&a.push(d)}),a.length==0)return j.Promise.resolve();var s,u=a[0];return u._bAx?(p.each(a,function(d){d.SetLTSInfo(cn(r).get_ar(),cn(r).get_cu())}),u.GetLicenseInfo().then(function(d){d&&p.isArray(d.Detail)&&d.Detail.length>0&&Ye.lsexp(r,d.Detail[0].ExpireDate,n)})):(s=u.SetLTSLicenseAsync(cn(r).get_ar()).then(function(d){d&&p.isArray(d.Detail)&&d.Detail.length>0&&Ye.lsexp(r,d.Detail[0].ExpireDate,n)}),p.each(a,function(d,l){l!=0&&d.SetLTSLicenseAsync(cn(r).get_ar())}),s)},Ye.lgcb=function(){var r=[];return ue.bChrome?r.push("Chrome"):ue.bFirefox?r.push("Firefox"):ue.bEdge?r.push("Edge"):ue.bIE?r.push("IE"):ue.bSafari?r.push("Safari"):ue.bOpera?r.push("Opera"):ue.b360SE?r.push("360SE"):ue.bTencentTraveler?r.push("TencentTraveler"):ue.bMaxthon?r.push("Maxthon"):ue.bMetaSr?r.push("MetaSr"):ue.bTheWorld?r.push("TheWorld"):ue.bUC?r.push("UC"):ue.bHuaWeiBrowser&&r.push("HuaWeiBrowser"),r.push(ue.strBrowserVersion),ue.bWin?r.push("Windows"):ue.bMac?r.push("Mac"):ue.bLinux?r.push("Linux"):ue.bAndroid?r.push("Android"):ue.bChromeOS?r.push("ChromeOS"):ue.bHarmonyOS?r.push("HarmonyOS"):Br.bMobile?r.push("Mobile OS"):U.navInfo.bEmbed&&r.push("Embed OS"),r.join(" ")};var gl={NetworkError:-2440,Timedout:-2441,JsonError:-2442,CorsError:-2443,Expired:-2445,LtsJsLoadError:-2446,UUIDError:-2447};function Na(r){var n,a,s=we.licenseServer;if(s&&s.length>0)for(n=0;n<s.length;n++)a=s[n],p.endsWith(a,"/")||(s[n]=a+"/");var u=cn(r),d={bd:j.ltsDebug,dm:location.origin?p.startsWith(location.origin,"http")?location.origin:"https://localhost":p.startsWith(location.href,"http")?location.href:"https://localhost",hs:j.product.handshakeCode||"",pd:Ye.lgpd(r),vm:ao,dt:u.get_enumDeploymentType(),btoa:p.btoa,atob:p.atob,fol:Ye.OnFirstOffline,sutlcb:function(){p.isFunction(Ye.lonsend)&&Ye.lonsend()},lf:j.localforage,updl:function(m){u.set_ar(m.ar),u.get_cu()||u.set_cu(m.cu),Ye.lsendUpdateEvt(r,"")},mnet:function(){return u.get_maxExpiredTime()},mxet:function(){return u.get_minExpiredTime()},dwt:!0};if(r==Ye.EnumInstance.dwt_browser||r==Ye.EnumInstance.dbr?d.feab=Ye.lfeab_wasm:d.feab=Ye.lfeab_ax,!ue.bIE&&we.ltsDebug&&(d.log=console.log),U.LTS&&U.LTS._)return U.LTS._.createLtsInstance(d);var l={},h=function(){return j.Promise.reject({code:gl.LtsJsLoadError,message:"The dynamsoft.lts.js load failed."})};return l.i=h,l.s=h,l.u=h,l.caret=h,l}Ye.lgpd=function(r){return r==Ye.EnumInstance.dwt_desktop?"dwt|dbr|ddv":"dwt|ddv"};var gO=!1;function S_(r,n){return aT.apply(this,arguments)}function aT(){return aT=o(w().mark(function r(n,a){var s,u,d,l,h,m,_,S,y,b;return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(s=a??"",d=cn(n),l=d.get_enumDeploymentType(),Ye.lclex(),!d.get_ar()||!d.get_cu()){I.next=10;break}if(gO){I.next=9;break}return u=d.get_ltsInstance(Na),I.next=8,u.ih();case 8:gO=!0;case 9:return I.abrupt("return",j.Promise.resolve({ar:d.get_ar(),cu:d.get_cu()}));case 10:if((h={pd:Ye.lgpd(n),v:oT(),os:Ye.lgcb(),fn:Ye.DeviceFriendlyName||"",ls:we.licenseServer,sp:we.sessionPassword,l:_t.getLTSLicense(),mnet:function(){return d.get_maxExpiredTime()},mxet:function(){return d.get_minExpiredTime()},fol:Ye.OnFirstOffline}).dt=d.get_deploymentType(),l!=Ye.EnumInstance.dwt_desktop){I.next=20;break}if(d.get_cu()!=""){I.next=17;break}return Do(m={}),I.abrupt("return",j.Promise.reject({code:m._errorCode,message:m._errorString}));case 17:h.lsu=d.get_cu(),I.next=21;break;case 20:l==Ye.EnumInstance.dbr||(h.dwt=!0,d.get_cu()!=""&&(h.lsu=d.get_cu()),h.updl=function(x){d.set_ar(x.ar),d.get_cu()||d.set_cu(x.cu),Ye.lsendUpdateEvt(l,s)});case 21:return I.prev=21,u=d.get_ltsInstance(Na),I.next=25,u.i(h);case 25:return _=I.sent,d.get_ar()||d.set_ar(_.ar),d.get_cu()||d.set_cu(_.cu),I.abrupt("return",_);case 31:throw I.prev=31,I.t0=I.catch(21),d.clearData(),p.isString(I.t0)?(y=mO(I.t0),Ye.lsetException(y,I.t0,!0),S=Ye.licenseException):(sT(b={},I.t0),S={code:b._errorCode,message:b._errorString}),S;case 36:case"end":return I.stop()}},r,null,[[21,31]])})),aT.apply(this,arguments)}function Qu(){return Date.now()}function ml(r){var n=r?new Date(r):new Date,a="yyyy-MM-ddTHH:mm:ss.SSSZ",s={"M+":n.getUTCMonth()+1,"d+":n.getUTCDate(),"H+":n.getUTCHours(),"h+":n.getUTCHours()%12||12,"m+":n.getUTCMinutes(),"s+":n.getUTCSeconds(),"q+":Math.floor((n.getUTCMonth()+3)/3),"S+":n.getUTCMilliseconds()};for(var u in/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(n.getUTCFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+u+")").test(a)&&(a=a.replace(RegExp.$1,RegExp.$1.length==1?s[u]:("000"+s[u]).substr(("000"+s[u]).length-RegExp.$1.length)));return a}function mO(r){var n=gl.NetworkError;return r.indexOf("timed out")>-1||r.indexOf("timeout")>-1?n=gl.Timedout:(r.indexOf("access-control-allow-origin")>-1||r.indexOf("cors")>-1)&&(n=gl.CorsError),n}function sT(r,n){if(n){var a=n.code||n.ltsErrorCode,s=n.message;a==111||a==106||a==108?(hp(r,a),r._errorString=s):(r._errorCode=a,r._errorString=s),U.DWT.lsetException(r._errorCode,r._errorString,!0)}}function uT(r,n){r.__licenseInfo=n,function(a){a.__calic||(a.__calic=a.__licenseInfo)}(r)}function b_(r){var n=U.DWT.licenseException;n.code=r.code,n.message=r.message,r&&(cT(r),r instanceof Error?p.error(r):p.error(p.stringify(r)))}function cT(r){p.isFunction(U.DWT.OnWebTwainError)?U.DWT.OnWebTwainError(r):p.isFunction(window.Dynamsoft_OnError)&&window.Dynamsoft_OnError(r)}function C_(r){return r==Jn.LicenseExpiredForDLS||r==Jn.LicenseNoCoreForDLS||r==Jn.LicenseNoCore||r==Jn.LicenseInvalid||r==Jn.LicenseExpired||r==Jn.LicenseParseFailed||r==Jn.LicenseIsFuture||r==Jn.LicenseVersionNotCurrent}function vO(r){return r==Jn.LicenseExpired}function lT(r){var n=0,a=r.message;p.isNumber(r.code)?n=r.code:p.isString(a)&&(n=-1),n!=0&&function(s,u){p.isFunction(U.OnLicenseError)&&U.OnLicenseError(u,s)}(n,a)}function _O(r){lT(nr(r))}Ye.lglic=S_,Ye.lgbuuid=function(){return""},Ye.lshow=function(){return{t:ou,t2:Ei,m:p.stringify(Oa)}},Ye.lgct=function(r){switch(r){case 0:return"3011";case 1:return"3012";case 2:return"3014";case 3:return"3013";case 4:return"3015";case 14:return"3016";case 3001:return"3001";case 3002:return"3002";case 3003:return"3003";case 3004:return"3004";case 3005:return"3005";case 3006:return"3006";case 3007:return"3007";case 3008:return"3008";case 3009:return"3009";case 5001:return"5001";case 4001:return"4001";case 4002:return"4002";case 4003:return"4003"}return""},Ye.lcvrf=function(r){r&&(r._canConsume&&!r._canConsume()||setTimeout(function(){Ye.lcvrf_(r)},1))},Ye.lcvrf_=function(r){var n;n=Ye.lgdt();var a,s=Ye.DeviceFriendlyName||"",u=Ye.lgcb(),d=cn(n),l={hs:fO(),og:hO(),cu:d.get_cu(),fn:s,cw:"",os:u,v:oT(),dt:d.get_deploymentType(),ed:"js"},h=function(y,b){var I,x,D=0;if(p.isString(y)&&y!=""&&y!="{}"&&b&&p.isArray(b)&&!(b.length<1)){if(x=cn(b[0]),I=p.parse(y),Ye.lclex(),Ei==0){var W=Qu(),$="";Ei=W,ou=ml(W),Oa={},D=0,p.each(I,function(te,q){(q<D||D==0)&&(D=q,$=te)}),D>0&&x.get_ltsInstance(Na).s(we.licenseServer,$,D,!0).then(function(){},function(te){})}p.each(I,function(te,q){var X=!1,J=parseInt(q);J>0&&J!=D&&(J+18e4<Qu()&&(X=!0),x.get_ltsInstance(Na).s(we.licenseServer,te,q,X).then(function(){},function(re){}))})}};if(l.pd=Ye.lgpd(n),a=p.stringify(l),!r._bAx){var m="GetBuffer",_=Ve(p.replaceAll(a,'"','\\"')),S={cmd:m,cmdId:Tp(),sFun:h,fFun:function(){},params:[n]};return r._innerSendByWS(m,_,S,null,!0)}h(r.GetBuffer(a),[n,""])},Ye.lavrf=function(r,n,a,s){var u=1;if(r!=""){n>1&&(u=n);var d=Qu();if(Ei>0&&Ei+18e4<d){Wd?(Oa={},Ye.lavrf__unload()):Ye.lavrf__(!0,a,s);var l=Qu()+1;Ei=l,ou=ml(l),Oa={}}Ip=!0,Wd=!1,Oa[r]?Oa[r]+=u:Oa[r]=u,Ei==0&&Ye.lavrf__(!0,a,s)}},Ye.lavrf_=function(r,n,a){if(Ip){var s=1;r&&(s=r),setTimeout(function(){Ye.lavrf__(!1,n,a)},s)}},Ye.lavrf__=function(r,n,a){var s,u,d,l=Qu(),h=!1,m=!!r,_=0,S=n;p.isUndefined(S)&&(S=Ye.lgdt()),d=cn(S),Ip=!1,Ei==0&&(h=!0,Ei=l,ou=ml(l)),s=Ei,u=ou;var y={};y.ut=u;var b={};if(p.each(Oa,function(te,q){b[q]=te,te>0&&_++}),y.cts=b,m||s+18e4<l){m=!0;var I=Qu()+1;if(Ei=I,ou=ml(I),Oa={},Wd=!1,_==0)return}else{if(_==0)return;Wd=!0}y.dur=h?1:180;var x,D=Ye.DeviceFriendlyName||"",W=Ye.lgcb(),$={hs:fO(),og:hO(),cu:d.get_cu(),fn:D,cw:"",os:W,v:oT(),dt:d.get_deploymentType(),ed:"js",rcs:[y]};$.product=Ye.lgpd(n),x=p.stringify($),we.ltsDebug&&ml(),Ye.lclex(),d.get_ltsInstance(Na).s(we.licenseServer,x,""+s,m).then(function(){},function(te){})},Ye.lavrf__unload=o(w().mark(function r(){var n,a,s,u,d,l,h;return w().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(n=Qu(),a=!0,u=!1,d=cn(Ye.lgdt()),l=cn(Ye.EnumInstance.dbr),Ip=!1,Ei==0&&(Ei=n,ou=ml(n)),s=Ei,h=Qu()+1,Ei=h,ou=ml(h),Oa={},Wd=!1,s+=1,Ye.lclex(),!d.inited_ltsInstance()){m.next=20;break}return m.prev=13,m.next=16,d.get_ltsInstance(Na).s(we.licenseServer,u,""+s,a);case 16:m.next=20;break;case 18:m.prev=18,m.t0=m.catch(13);case 20:if(!l.inited_ltsInstance()){m.next=28;break}return m.prev=21,m.next=24,l.get_ltsInstance(Na).s(we.licenseServer,u,""+s,a);case 24:m.next=28;break;case 26:m.prev=26,m.t1=m.catch(21);case 28:case"end":return m.stop()}},r,null,[[13,18],[21,26]])})),Ye.lclex=function(){var r=Ye.licenseException;r.code=0,r.message="",r.httpResponse="",r.fromLTS=!1},Ye.li=function(r,n){var a;return r.axInstance&&(Ye.axInstance=r.axInstance,Ye.axInstance)?(a=Ye.axInstance.GetUUID(),we.ltsDebug&&p.log("ActiveX cu: "+a),cn(r.instanceMode).set_cu(a),a):cn(r.instanceMode).get_cu()},Ye.lfeab_ax=function(r){return new j.Promise(function(n,a){var s="";if(Ye.axInstance)try{s=Ye.axInstance.Encrypt(r,0)}catch{}n(s)})},Ye.lfeab_wasm=function(r){return j.Promise.resolve("")},Ye.lwsproc=function(r,n){try{r=p.parse(r)}catch(a){return void(n.fFun&&n.fFun(a))}r.method=="GetBuffer"?n.sFun&&r.result.length>0?n.sFun(r.result[0],n.params):n.sFun("",n.params):n.sFun&&n.sFun(r)},Ye.lsexp=function(r,n,a){var s,u=n;if((s=(u=p.replaceAll(u,"/","-")).split("-")).length==3){var d=s[0],l=s[1],h=s[2];l.length<2&&(l=(l="00"+l).substr(l.length-2)),h.length<2&&(h=(h="00"+h).substr(h.length-2)),u=[d,l,h].join("-")}var m=[u,"T23:59:59.999Z"].join("");cn(r).set_minExpiredTime(m),cn(r).set_maxExpiredTime(m)},Ye.lunload=o(w().mark(function r(){return w().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ye.lavrf__unload();case 2:Ei=0,ou=p.nil,Oa={},Wd=!1,Ip=!1,Bd=!1,iT=!1,wp=!1,Ye.lclex(),Ye.bLTSOnline=!0,Ye.axInstance=p.nil,Ye.lOnUpdateDWObj=[];case 14:case"end":return n.stop()}},r)})),Ye.lcexp=function(r,n){return cn(r).get_ltsInstance(Na).caret().then(function(){return!1},function(a){var s=Ye.licenseException,u="";return a instanceof Error||"message"in a?u=a.message:p.isString(a)&&(u=a),Ye.lsetException(gl.Expired,u,!1),iT||(iT=!0,p.error(u),U.OnLTSLicenseError&&U.OnLTSLicenseError(_t.getPublicLicenseContent(s.message),s.code)),!0})},Ye.OnLicenseException=function(){var r=Ye.licenseException,n=r.message;if(p.isString(n)&&(n.indexOf("Error Code")>-1?n=p.replaceAll(n,"Error Code","error code"):n.indexOf("Error code")>-1&&(n=p.replaceAll(n,"Error code","error code"))),n.indexOf("(https://www.dynamsoft.com/purchase-center/)")>-1&&(n=n.replace("(https://www.dynamsoft.com/purchase-center/)","(https://www.dynamsoft.com/store/dynamic-web-twain/)"),r.message=n),n.indexOf("error code:")>-1){var a=n.substr(0,n.indexOf("message")),s=n.substr(n.indexOf("message"));a.indexOf("{")>-1&&(a=a.substr(a.indexOf("{")+1)),s.indexOf("}")>-1&&(s=s.substr(0,s.indexOf("}"))),a=p.replaceAll(a,"error code:",""),s=p.replaceAll(s,"message: ",""),Ye.lsetException(parseInt(a),s,!0),p.error(s),U.OnLTSLicenseError&&U.OnLTSLicenseError(_t.getPublicLicenseContent(n),r.code)}else{if(!r.code){var u=mO(n);Ye.lsetException(u,n,!0)}if(p.error(r.message),r.code==gl.LtsJsLoadError)return;U.OnLTSLicenseError&&U.OnLTSLicenseError(_t.getPublicLicenseContent(r.message),r.code)}},Ye.lol=function(){return Ye.bLTSOnline},Ye.OnFirstOffline=function(r){Ye.bLTSOnline=!1},Ye.lpubdlg=function(r,n){if(p.isString(r)&&r!=""){if(r=p.atob(r),console&&console.warn&&!Bd&&we.bUseDynamsoftLicenseManager,n==1)return Bd||we.bUseDynamsoftLicenseManager||(Bd=!0,U.OnLTSPublicLicenseWarning&&U.OnLTSPublicLicenseWarning(_t.getPublicLicenseContent(r))),!0;n==2&&(Bd||(Bd=!0))}return!1},Ye.lcheckLic=function(r,n,a){var s=!1;if(n){if(p.isArray(n.Detail)&&n.Detail.length>0){var u=n.Detail[0].ExpireDate;return Ye.lsexp(r,u,a),Ye.lcexp(r,a).then(function(d){var l=!1;d?l=!0:n.Trial!=1&&n.Trial!=2||(l=Ye.lpubdlg(n.Message,n.Trial)),l||Ye.bLTSOnline||wp||(wp=!0,U.OnLTSConnectionWarning&&U.OnLTSConnectionWarning())})}n.Trial!=1&&n.Trial!=2||(s=Ye.lpubdlg(n.Message,n.Trial))}return s||Ye.bLTSOnline||wp||(wp=!0,U.OnLTSConnectionWarning&&U.OnLTSConnectionWarning()),j.Promise.resolve()},Ye.lisValidID=function(r){if(p.isString(r)&&r!="")return!0;var n,a=Ye.licenseException;return Ye.lsetException(gl.UUIDError,"Failed to generate an ID for your device to license it: not enough permission.",!0),p.error(a.message),n=a.message,U.OnLTSLicenseError&&U.OnLTSLicenseError(n,a.code),!1},Ye.lsetException=function(r,n,a){var s=Ye.licenseException;s.code=r,s.message=n,a?s.fromLTS=!0:a in s&&delete s.fromLTS},Ye.lgcuid=function(r){var n=U.DWT.li({instanceMode:r},"");return n?j.Promise.resolve(n):cn(r).get_ltsInstance(Na).u().then(function(a){return U.DWT.lsmid(a,""),U.DWT.lsmid2b(a),a})};var dT=v(function r(){f(this,r)});function fT(r){var n=new dT;return n.server=r.server,n.normal=!0,r.attrs&&(n.attrs=p.clone(r.attrs)),n}var bs=function(r){return r.CONNECTING=0,r.OPEN=1,r.CLOSING=2,r.CLOSED=3,r}({});function hT(r,n,a){if(p.isString(r)&&(r.indexOf("Function not found")>0||r.indexOf("Version not found")>0))n&&n(r);else{var s=r.data;if(R(s)==="object")return s=null,r=null,void(a&&a());var u=s.replace(/\0/g,"");try{n&&n(u)}catch{p.log(s),a&&a()}s=null,r=null}}function pT(r,n){r&&r.readyState!=bs.CLOSING&&r.readyState!=bs.CLOSED?r.readyState==bs.CONNECTING?(r.onerror=function(a){a&&p.log("websocket error: "+a),r._reject&&(r._reject(a),r._reject=null),r.close()},r.onclose=function(a){r.onclose=null,r.onerror=null,r.onmessage=null,r.onopen=null,r._reject=null},r.onopen=function(){r.readyState==bs.OPEN?(r.onopen=null,r.send(n)):r.readyState==bs.CONNECTING&&(r.onopen?setTimeout(r.onopen,100):r._reject&&(r._reject(),r._reject=null))}):r.readyState==bs.OPEN&&(r.onopen=null,r.send(n)):r._reject&&(r._reject({closed:!0}),r._reject=null)}function yO(r,n,a){var s,u=a;return u||(U.DWT.ConnectWithSocket?p.startsWith(r,"wss://")||p.startsWith(r,"ws://")||(u=ue.bSSL?"wss://":"ws://"):p.startsWith(r,"https://")||p.startsWith(r,"http://")||(u=ue.bSSL?"https://":"http://")),n?(p.endsWith(r,"/")&&(r=r.substring(0,r.length-1)),s=":"+n+"/"):p.endsWith(r,"/")||(s="/"),[u,r,s].join("")}var au=function(){function r(){f(this,r)}return v(r,null,[{key:"postStringDataByWS",value:function(n,a){return new j.Promise(function(s,u){n.onmessage=function(d){hT(d,function(l){s(l),n.close(),n=null},function(){u(),n.close(),n=null})},n._reject=u,pT(n,a)})}},{key:"postStringDataByWSUrl",value:function(n,a){var s=new j.Promise(function(u,d){var l=r.newWebsocket(n,!1);l.onmessage=function(h){hT(h,function(m){u(m),l.close(),l=null},function(m){d(m),l.close(),l=null})},l._reject=d,pT(l,a)});return ue.bEdge&&s.catch(function(){return new j.Promise(function(u,d){var l=r.newWebsocket(n,!0);l.onmessage=function(h){hT(h,function(m){u(m),l.close(),l=null},function(m){d(m),l.close(),l=null})},l._reject=d,pT(l,a)})}),s}},{key:"newWebsocket",value:function(n,a){var s,u=Pt.wsProtocol,d=window.MozWebSocket;if(d!==void 0)s=u?new d(n,u):new d(n);else{var l=window.WebSocket;if(a){var h=window,m=parent;try{for(;h!=m&&m.WebSocket;)l=m.WebSocket,h=m.window,m=m.parent}catch{l=window.WebSocket}}s=u?new l(n,u):new l(n)}return s}},{key:"getWsUrl",value:function(n,a,s){var u=s;return u===void 0&&(u=ue.bSSL),yO(n,a,u?"wss://":"ws://")}},{key:"getDDMUrl",value:function(n,a,s){var u,d,l="/";return p.startsWith(n,"https://")?u=!0:p.startsWith(n,"http://")?u=!1:n=(u=j.detect.ssl)?"https://"+n:"http://"+n,d=u?"18626/":"18625/",p.endsWith(n,"/")&&(l=""),a?[n,l,"ddm/",d,s].join(""):[n,l,s].join("")}},{key:"getModuleUrl",value:function(n){var a;return a=yO(ui(),ue.bSSL?U.DWT.SSLPort:U.DWT.Port),n?a+n:a}}])}();U.DWT.NetManager=au;var Ui=function(r){return r.ST_UNKNOWN=0,r.ST_TWAIN_DIRECT=1,r.ST_DYNAMSOFT_SERVICE=2,r.ST_ESCL=3,r.ST_WIFI_DIRECT=4,r}({}),cK=function(){return v(function r(n){f(this,r);var a=this;if(a._id=n.id,a._clientId=p.getRandom(),a._uuidForActiveUI=null,a._bReady=Pe,a._destroy=Pe,a._bMustUpgradeService=Pe,a._wsClient=null,a._wsRetry=0,a._wsFailedTimes=0,a._bConnecting=Pe,a._bNoMask=Pe,a._bNotShowMessage=Pe,a.__serverPlatform=Et.enumWindow,a.__productKey="",a.__licenseInfo=null,a._reconnectTimeSpan=Nr.RemoteReconnectTimeSpan,a._reconnectShortSpan=300,a._reconnectShortSpanTimes=5,a._bIfShowProgressBar=rt,a.__IfShowCancelDialogWhenImageTransfer=rt,a._bLicenseErrorDispose=!0,n.dmService){var s,u,d,l,h,m,_=fT(n.dmService),S="/",y="";u=_.server;var b=new Jv(n.dmService.server),I=b.scheme;I&&(I=I.toLowerCase()),I=="https"?(s=!0,d=u.substring(8)):I=="http"?(s=!1,d=u.substring(7)):I=="wss"?(s=!0,d=u,u=p.replaceAll(u,"wss://","")):I=="ws"?(s=!1,d=u,u=p.replaceAll(u,"ws://","")):(d=u,u=(s=j.detect.ssl)?"https://"+u:"http://"+u),so(b.hostname||b.scheme)?a._bRemoteMode=Pe:a._bRemoteMode=rt,p.endsWith(u,"/")&&(S="");var x=_.attrs;if(x){var D,W;l=((D=x)===null||D===void 0?void 0:D.UUID)||"";var $=((W=x.modules)===null||W===void 0?void 0:W.length)||0;if(l!=""&&$>0){var te;s?$>1&&$>1+(te=x.modules[1])+2&&(h=x.modules[1+te+2]):$>2&&(h=x.modules[2]),p.endsWith(h,"/")&&(S=""),y=[l,"/",h,"/"].join("")}}else x={UUID:"",service_type:Ui.ST_DYNAMSOFT_SERVICE};m=[u,S,y].join(""),x.url=m,a._serverInfo=new pl([d,S,y].join(""),null,s,!0,Pt.wsProtocol),a._httpUrl=m,a._dmService=_}else{var q,X=j.detect.ssl,J=n.port,re=n.sslPort;so(q=n.host?n.host:ui())?a._bRemoteMode=!1:a._bRemoteMode=!0,J||(J=U.DWT.Port),re||(re=U.DWT.SSLPort),a._serverInfo=new pl(q,X?re:J,X,!0,Pt.wsProtocol),a._httpUrl=function(H){var F=H.server;if(F){if(p.startsWith(F,"wss://")||p.startsWith(F,"ws://"))return F}else F=ui();return H.ssl?["https://",F,":",H.port,"/"].join(""):["http://",F,":",H.port,"/"].join("")}(a._serverInfo),a._dmService={server:a._httpUrl,attrs:{url:a._httpUrl,UUID:"",service_type:Ui.ST_DYNAMSOFT_SERVICE},normal:!0}}},[{key:"_resetErr",value:function(){this._errorCode=0,this._errorString="";var r=U.DWT.licenseException;r.code=0,r.message=""}},{key:"dispose",value:function(){this._bReady=Pe,this._destroy=rt}},{key:"isDestroy",get:function(){return this._destroy}}])}(),ra=v(function r(){f(this,r)});function SO(r,n){var a,s=[],u=n;if(p.isString(u)&&(u=p.parse(u)),p.isArray(u))for(a=0;a<u.length;a++){var d=dK(u[a]);s.push(d)}for(a=0;a<s.length;a++){var l=s[a],h=l.deviceType;l.name&&(l.name=p.base64.decode(l.name)),h&cO&&l.deviceInfo&&bO(l.deviceInfo),l.serviceInfo=r==null?void 0:r._dmService,gT(l,r==null?void 0:r._dmService),p.isBoolean(l.isSystemDefaultPrinter)||(l.isSystemDefaultPrinter=!1)}return s}function lK(r,n){return function(a,s){var u=s.deviceType;return s.name&&(s.name=p.base64.decode(s.name)),u&cO&&s.deviceInfo&&bO(s.deviceInfo),s.serviceInfo=a==null?void 0:a._dmService,gT(s,a==null?void 0:a._dmService),p.isBoolean(s.isSystemDefaultPrinter)||(s.isSystemDefaultPrinter=!1),s}(r,p.parse(n))}function gT(r,n){var a,s=r.name,u="",d=r.deviceType;d==ht.TWAINSCANNER?a="":d==ht.TWAINX64SCANNER?a="Twain64-":d==ht.WIASCANNER?a="WIA-":d==ht.WIATWAINSCANNER?(s=p.replaceAll(s,"WIA-",""),a="WIATWAIN-"):a=d==ht.ICASCANNER?"ICA-":d==ht.SANESCANNER?"Sane-":d==ht.ESCLSCANNER?"eSCL-":(ht.WIFIDIRECTSCANNER,""),n&&n.attrs&&n.attrs.ty&&(u=" on ["+n.attrs.ty+"]"),r.displayName=[a,s,u].join("")}function bO(r){if(r.ProductName){var n=r.ProductName;r.ProductName=p.base64.decode(n)}if(r.ProductFamily){var a=r.ProductFamily;r.ProductFamily=p.base64.decode(a)}if(r.Manufacturer){var s=r.Manufacturer;r.Manufacturer=p.base64.decode(s)}if(r.Version&&r.Version.Info){var u=r.Version.Info;r.Version.Info=p.base64.decode(u)}}function dK(r){var n=new ra;return n.strDevice=p.stringify(r),r.deviceInfo&&(n.deviceInfo=p.clone(r.deviceInfo)),r.deviceType&&(n.deviceType=p.clone(r.deviceType)),r.displayName&&(n.displayName=p.clone(r.displayName)),r.name&&(n.name=p.clone(r.name)),r.serviceInfo&&(n.serviceInfo=fT(r.serviceInfo)),p.isBoolean(r.isSystemDefaultPrinter)?n.isSystemDefaultPrinter=r.isSystemDefaultPrinter:n.isSystemDefaultPrinter=!1,n}j.removeNonPrintableChar;var Ep=function(r){return r.SMF_NAME=1,r.SMF_TWAINVERSION=2,r.SMF_TWAINPROTOCOL=4,r.SMF_ICAUUID=8,r.SMF_ICAMODULEVERSION=16,r.SMF_ICALOCATIONTYPE=32,r}({}),Qt=function(r){return r.IT_BMP=0,r.IT_JPG=1,r.IT_TIF=2,r.IT_PNG=3,r.IT_PDF=4,r.IT_ALL=5,r.IT_MULTIPAGE_PDF=7,r.IT_MULTIPAGE_TIF=8,r.IT_J2K=14,r}({}),xp=function(r){return r.RGBA=15,r.Auto=16,r}({});function mT(r){var n="application/octet-stream";switch(r){case Qt.IT_BMP:n="image/bmp";break;case Qt.IT_JPG:n="image/jpeg";break;case Qt.IT_TIF:n="image/tiff";break;case Qt.IT_PNG:n="image/png";break;case Qt.IT_PDF:n="application/pdf";break;case Qt.IT_J2K:n="image/jp2"}return n}var na={isSupportLS:function(){var r=!1;if(!(ue.bEdge&&ue.bFileSystem))try{r=!!window.localStorage}catch{}return r},item:function(r,n,a){var s=null;return this.isSupportLS()?(n?(localStorage.setItem(r,n),s=n):s=localStorage.getItem(r),s===null?a:s):a},removeItem:function(r){return!!this.isSupportLS()&&(localStorage.removeItem(r),!0)}},CO=!0,TO=!1;function fK(r){if(p.isUndefined(r))return TO;var n,a,s,u=r.toString().toLowerCase(),d=(s=u.toLowerCase().replace(we.name.toLowerCase()+" ",""),(s=p.replaceAll(s,"[.]",",")).split(","));n=we.bActiveXEdition?ko.ActiveXVersion:we.getServerVersionInfo(!0),a=(n=p.replaceAll(String(n),"[.]",",")).split(",");for(var l=d.length>a.length?d.length:a.length,h=0;h<l;h++){if(d[h]==null&&(d[h]=0),a[h]==null&&(a[h]=0),parseInt(d[h])<parseInt(a[h]))return TO;if(parseInt(d[h])>parseInt(a[h]))return CO}return CO}function hK(r,n){var a=r.split(","),s=n.split(",");return a.length>1&&p.trim(a[0])==s[0]}function pK(r,n){var a=r.split(","),s=n.split(",");return a.length>3&&p.trim(a[0])==s[0]&&(p.trim(a[1])>s[1]||p.trim(a[1])==s[1]&&p.trim(a[2])>s[2]||p.trim(a[1])==s[1]&&p.trim(a[2])==s[2]&&parseInt(p.trim(a[3]))>=parseInt(s[3]))}function IO(r,n){j.detect.urls.splice(0),j.detect.urls.push({port:r,ssl:ue.bSSL}),j.detect.ports=[{port:r,ssl:ue.bSSL}],j.detect.cUrlIndex=0,Pt.detect.dwtPort=r,Pt.detect.dwtSSLPort=n,U.DWT.Port=r,U.DWT.SSLPort=n}function vT(r,n,a){return wO.apply(this,arguments)}function wO(){return(wO=o(w().mark(function r(n,a,s){var u,d,l;return w().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!we.bDCPChecked){h.next=2;break}return h.abrupt("return",{host:n,port:U.DWT.Port,sslPort:U.DWT.SSLPort});case 2:return Mr("Initializing the service..."),h.prev=3,h.next=6,EO(n);case 6:u=h.sent,h.next=13;break;case 9:throw h.prev=9,h.t0=h.catch(3),p.log(h.t0),LC();case 13:if(!Pt.bEnhancedMode){h.next=27;break}if(Mr("Checking the service enhanced module..."),d=j.install._dlgInstall,l=500,d&&d.open||(l=0),!(u.port<=0||u.sslPort<=0)){h.next=25;break}if(!(l>0)){h.next=21;break}return h.next=21,new j.Promise(function(m,_){setTimeout(function(){m()},l)});case 21:return Mr(zF),h.next=24,gK(n);case 24:u=h.sent;case 25:h.next=28;break;case 27:u={host:n,port:a,sslPort:s};case 28:return we.bDCPChecked=!0,h.abrupt("return",u);case 30:case"end":return h.stop()}},r,null,[[3,9]])}))).apply(this,arguments)}function gK(r){return _T.apply(this,arguments)}function _T(){return _T=o(w().mark(function r(n){var a,s,u,d;return w().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:s=5,u=1500,d={host:n,port:0,sslPort:0},a=0;case 3:if(!(a<s)){l.next=22;break}return a>2&&(u=3e3),Mr(zF),l.prev=6,l.next=9,mK(n);case 9:d=l.sent,l.next=14;break;case 12:l.prev=12,l.t0=l.catch(6);case 14:if(!(p.isNumber(d.port)&&d.port>0&&p.isNumber(d.sslPort)&&d.sslPort>0)){l.next=17;break}return IO(d.port,d.sslPort),l.abrupt("return",d);case 17:return l.next=19,new j.Promise(function(h,m){setTimeout(function(){h()},u)});case 19:a++,l.next=3;break;case 22:throw j.detect.dcpStatus=3,LC();case 25:case"end":return l.stop()}},r,null,[[6,12]])})),_T.apply(this,arguments)}function mK(r){return yT.apply(this,arguments)}function yT(){return yT=o(w().mark(function r(n){var a,s,u,d,l,h,m,_,S;return w().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return a=we.refProductKey,p.startsWith(n,"wss://")||p.startsWith(n,"ws://")?u=n:(d=ue.bSSL?Pt.SSLPort:Pt.Port,u=au.getWsUrl(n,d,ue.bSSL)),l={id:p.guid(),method:"GetPorts",version:"dwasm2_"+Ad(),parameter:[Pt.strSID]},_t.isLongKey(a)&&(l.productKey=a),y.next=6,au.postStringDataByWSUrl(u,p.stringify(l));case 6:if(h=y.sent,!p.isString(h)){y.next=19;break}if(y.prev=8,(m=p.parse(h))&&"result"in m&&(s=m.result),!(p.isArray(s)&&s.length>1&&s[1])){y.next=15;break}if(!(_=s[1]).dwt){y.next=15;break}return y.abrupt("return",{host:n,port:_.dwt.port,sslPort:_.dwt.sslPort});case 15:y.next=19;break;case 17:y.prev=17,y.t0=y.catch(8);case 19:throw Wi(S={}),nr(S);case 22:case"end":return y.stop()}},r,null,[[8,17]])})),yT.apply(this,arguments)}function EO(r){return xO.apply(this,arguments)}function xO(){return(xO=o(w().mark(function r(n){var a,s;return w().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return Pt.detect.bConnected=!1,u.prev=1,u.next=4,vK(n);case 4:return _K(u.sent),Pt.detect.bConnected=!0,u.abrupt("return",{host:n,port:Pt.detect.dwtPort,sslPort:Pt.detect.dwtSSLPort});case 10:if(u.prev=10,u.t0=u.catch(1),!u.t0){u.next=21;break}if(a=u.t0.code,!p.isNumber(a)){u.next=21;break}if(a!=kt.ResponseDataTypeError&&a!=kt.HTSTError&&a!=kt.CORSError&&a!=kt.CORSErrorFromService&&a!=kt.SSLCertExpired&&a!=kt.SSLCertInvalid){u.next=19;break}throw u.t0;case 19:if(a!=kt.MustUpgrade){u.next=21;break}throw u.t0;case 21:throw Pt.detect.dcpStatus=Pt.detect.EnumDCP_DetectStatus.NotInstalled,U.dcp._sendStatusEvent(),mp(s={}),{code:s._errorCode,message:s._errorString};case 26:case"end":return u.stop()}},r,null,[[1,10]])}))).apply(this,arguments)}function vK(r){return AO.apply(this,arguments)}function AO(){return(AO=o(w().mark(function r(n){var a,s,u,d,l,h,m,_,S;return w().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return a=we.refProductKey,p.startsWith(n,"wss://")||p.startsWith(n,"ws://")?u=n:(d=ue.bSSL?Pt.SSLPort:Pt.Port,u=au.getWsUrl(n,d,ue.bSSL)),l={id:p.guid(),method:"VersionInfo",version:"dwasm2_"+Nr.getVersionStrForCheck(),parameter:[]},_t.isLongKey(a)&&(l.productKey=a),y.next=6,au.postStringDataByWSUrl(u,p.stringify(l));case 6:if(h=y.sent,p.isString(h))try{(m=p.parse(h))&&"result"in m&&(s=m.result)}catch{}if(_={},!(p.isArray(s)&&s.length>0&&s[0])){y.next=21;break}if(S=s[0],!p.isString(S)||S==""){y.next=21;break}if(!hK(S,we.getServerVersionInfo(!0))){y.next=18;break}return Pt.detect.dcpStatus=Pt.detect.EnumDCP_DetectStatus.UpdateSkipped,U.dcp._sendStatusEvent(),y.abrupt("return",s);case 18:throw Mr(HF),Pd(_),nr(_);case 21:throw Wi(_),nr(_);case 23:case"end":return y.stop()}},r)}))).apply(this,arguments)}function _K(r){var n="",a=!1,s=!1,u={};if(r.length>4&&(n=p.isString(r[2])?r[2]:"",a=p.isString(r[3])&&r[3]==="true",s=p.isString(r[4])&&r[4]==="64"),r.length>5&&(u=r[5]),Pt.detect.connectedResult=r,Pt.strSID=n,Pt.bEnhancedMode=a,Pt.b64bit=s,Pt.objEnhancedPorts=u,a&&u){if(u.dcp){var d=u.dcp;Pt.SSLPort=d.sslPort,Pt.Port=d.port}if(u.ddm){var l=u.ddm;l?ue.bSSL?Pt.detect.ddmPort=l.sslPort:Pt.detect.ddmPort=l.port:Pt.detect.ddmPort=0}if(U.DWT.Port=0,U.DWT.SSLPort=0,u.dwt){var h=u.dwt;h&&h.port>0&&h.sslPort>0&&IO(h.port,h.sslPort)}}}function yK(r,n){(function(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function ST(r,n,a){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:a;throw new TypeError("Private element is not present on this object")}U.DWT.NetManager.checkModuleManager=function(r,n){EO(ui()).then(r,n)};var T_=new WeakSet,Vi=function(r){function n(H){var F;return f(this,n),yK(F=c(this,n,[H]),T_),F._acquireDivEL=null,F.__serverId="",F.__bAcquireImageNow=Pe,F._blts=ci(),F._bltsCopyImage=!1,F._b64bit=Pt.b64bit,F._logLevel=0,F._bServerAlwaysFocusOnPopupWindow=rt,F._bPageFocus=rt,F.__bOpenFileNow=Pe,F._bScanForProxyRemote=Pe,F}return P(n,r),v(n,[{key:"_isValid",value:function(){return!this._destroy||(_F(this),!1)}},{key:"_connnect",value:(re=o(w().mark(function H(){var F;return w().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return F=this,B.abrupt("return",new j.Promise(function(V,G){var z,Z;z=F._serverInfo.server,Z=F._serverInfo.port,U.DWT.CheckConnectToTheService(z,Z,V,G)}));case 2:case"end":return B.stop()}},H,this)})),function(){return re.apply(this,arguments)})},{key:"_waitForConnect",value:function(){var H=this;return H._wsRetry=0,H._bReady?j.Promise.resolve():new j.Promise(function(F,B){H._wsCheckResolve=F,H._wsCheckReject=B,DO(H)})}},{key:"_getWSCallback",value:function(){return bK}},{key:"_getWSContextData",value:function(){return{}}},{key:"_additionalWSCallback",value:function(H,F,B,V){H=="ConvertToBlob"&&F._blob_callbacks.push(function(G){return B(G,Ur.HANDLE_RAW_MESSAGE,"0",V)})}},{key:"_innerSendBlobByWS",value:function(H,F,B,V,G){var z={cmd:H,cmdId:Tp(),sFun:function(Z){p.isFunction(V)&&V(Z)},fFun:G,contextData:{document:B.currentFileName,tag:B.currentTagName,bNeedClearTag:B.bNeedClearCurrentTagName,index:B.index,bNeedRefresh:H=="UpdateImage"},rawData:!0};return this._innerSendByWS(H,F,z,B,!0)}},{key:"_innerSendByWS",value:function(H,F,B,V,G){var z,Z,ie,se,ne=this,ae=this._getWSCallback();B&&B.cmdId?(z=B.cmdId,ie=bT(ne._clientId,z),se=bT(ne._clientId,"")):(z=0,ie=0,se=0);var be=vl(ne._clientId,H,F,z,ne._bScanForProxyRemote),ge=ne._wsClient;Z={client:ge,userData:{stwain:ne,command:B},taskId:z,eventTaskId:ie,lastEventTaskId:se};var _e,Le,Xe,ze,yt,at,gt,Tt,Be=0;if(!G){try{ge.request(be,ae,Z)}catch(tt){p.log(tt)}return Pe}if(Xe=new ArrayBuffer(12),V)if(V instanceof Blob)Be=V.size;else if(V instanceof ArrayBuffer||V instanceof Uint8Array)Be=V.byteLength;else if(V instanceof Array)Be=V.length;else{var Oe=V;Be=Oe.size||Oe.byteLength||Oe.length}for(Le=(_e=(gt=new Blob([be])).size)+Be,ze=new DataView(Xe),at=0;at<8&&Le;at++)ze.setUint8(at,Le%256),Le=Math.floor(Le/256);for(at=0;at<4&&_e;at++)ze.setUint8(8+at,_e%256),_e=Math.floor(_e/256);return yt=new Blob([Xe,gt]),Tt=ge.request(yt,ae,Z),this._additionalWSCallback(H,ge,ae,Z),Be>0&&(Tt=ge.request(V,ae,Z)),Xe=null,gt=null,yt=null,ze=null,V=null,Tt}},{key:"_sendDataConnectWithSocket",value:function(H,F,B,V){var G=this;return new j.Promise(function(z,Z){G._sendData(H,F,!0,function(ie){var se=!1;try{se=p.isString(ie)?p.parse(ie):ie}catch{}if(G._resetErr(),se){if(se instanceof Blob||iu(se))return void z(se);co(se)&&(G._errorCode=se.exception,G._errorString=se.description)}z(V?se:se.result)},function(ie){Z({code:G._errorCode,message:G._getErrorString()})})})}},{key:"_sendDataByHttpAsync",value:function(H,F,B,V,G){var z,Z=this;if(Z._resetErr(),!Z._isValid())return j.Promise.reject({code:Z._errorCode,message:Z._getErrorString()});if(n.isServerInvalid(Z))return G?j.Promise.reject({code:Z._errorCode,message:Z._getErrorString()}):Z._waitForConnect().then(function(){return Z._sendDataByHttpAsync(H,F,B)});if(U.DWT.ConnectWithSocket)return Z._sendDataConnectWithSocket(H,F,B,V);z={method:"post",async:!0,body:vl(Z._clientId,H,F,0,Z._bScanForProxyRemote),dataType:B??"text"};var ie=null,se=p.guid();return Z._bIfShowProgressBar&&(ie=j.progressContext),UC(ie,se)([Z._httpUrl,"fa/",H].join(""),z).then(function(ne){var ae=!1;try{ae=p.isString(ne)?p.parse(ne):ne}catch{}if(ae){if(ae instanceof Blob||iu(ae))return ae;if(!co(ae))return Z._resetErr(),V?ae:ae.result;Z._errorCode=ae.exception,Z._errorString=ae.description}else kC(Z);throw{code:Z._errorCode,message:Z._getErrorString()}},function(ne){if(Z._errorCode=ne.code,Z._errorString=ne.message,!j.page.bUnload)throw ne})}},{key:"_sendData",value:function(H,F,B,V,G){var z=this,Z=null,ie=null,se=!1,ne=!0;if(!z._destroy){if(H=="ActiveUI"?ne=!1:se=n.isServerInvalid(z),se)return z._waitForConnect().then(function(){z._sendData(H,F,B,V,G)}).catch(function(_e){p.isFunction(G)&&G(_e.code,_e.message)});var ae;p.isFunction(V)&&(ie=V),p.isFunction(G)&&(Z=G),ae=H=="ConvertToBlob"||H=="Heartbeat"?0:Tp();var be=this._getWSContextData(),ge={cmd:H,cmdId:ae,sFun:ie,fFun:Z,contextData:be,rawData:B!=null&&B};return z._innerSendByWS(H,F,ge,null,ne)}}},{key:"_innerFunV2",value:(J=o(w().mark(function H(F,B,V){var G,z,Z;return w().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(G=this,!(Z=V)&&!p.isUndefined(Z)){ie.next=7;break}return ie.next=4,G._sendDataConnectWithSocket(F,B,"json",!0);case 4:z=ie.sent,ie.next=10;break;case 7:return ie.next=9,G._sendDataByHttpAsync(F,B,"json",!0);case 9:z=ie.sent;case 10:if(!(z&&p.isArray(z)&&z.length>0)){ie.next=12;break}return ie.abrupt("return",z[0]);case 12:if(!(z&&p.isArray(z.result)&&z.result.length>0)){ie.next=14;break}return ie.abrupt("return",z.result[0]);case 14:return ie.abrupt("return",z);case 15:case"end":return ie.stop()}},H,this)})),function(H,F,B){return J.apply(this,arguments)})},{key:"_OnReady",value:(X=o(w().mark(function H(){var F,B;return w().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if((F=this)._wsRetry=0,F._wsFailedTimes=0,j.detect.starting=!1,F._bRemoteMode||(j.detect.bOK=!0),F._bReady=!0,(B=F._wsClient.ws)!==null){V.next=9;break}return V.abrupt("return");case 9:B.onopen=null,F._wsClient.addEvent("close",F._clientId,function(G){G&&p.log("websocket close: "+G),F.__bAcquireImageNow=!1,F._OnWSClose(G)}),F._wsClient.addEvent("error",F._clientId,function(G){G&&p.log("websocket error: "+G),F.__bAcquireImageNow=!1,F._OnWSError(G)}),F._wsClient.addEvent("timeout",F._clientId,function(G){G&&p.log("websocket timeout: "+G),F._OnWSTimeout(G)});case 13:case"end":return V.stop()}},H,this)})),function(){return X.apply(this,arguments)})},{key:"getServiceInfo",value:function(){return this._dmService}},{key:"_OnWSClose",value:function(H){var F,B,V,G=this;G._bReady=!1,G._wsRetry=0,G._bRemoteMode&&(F=(B=(V=G.getServiceInfo())===null||V===void 0||(V=V.attrs)===null||V===void 0?void 0:V.name)!==null&&B!==void 0?B:""),hl(G,F),G.__closeRemoteScanUI(!0),G._heartBeatTimer&&(clearTimeout(G._heartBeatTimer),G._heartBeatTimer=null),G._bNoMask||function(ie){p.log("hideMask:"+ie+"--"+Ss),rT(),Ss=0}("websocket close"),G.__OnWSClose&&G.__OnWSClose();var z=G._bRemoteMode?Nr.RemoteReconnectMaxTimes:Nr.LocalReconnectMaxTimes;if(G._wsFailedTimes<z){var Z=G._reconnectTimeSpan;G._wsFailedTimes<G._reconnectShortSpanTimes&&(Z=G._reconnectShortSpan),G._heartBeatTimer=setTimeout(function(){n.startDWTReconnect(G)},Z)}}},{key:"_OnWSError",value:function(H){var F=this;F._bReady=!1,F.__OnWSError&&F.__OnWSError()}},{key:"_OnWSTimeout",value:function(H){var F,B,V,G=this;G._bReady=!1,G._wsRetry=0,G._bRemoteMode&&(F=(B=(V=G.getServiceInfo())===null||V===void 0||(V=V.attrs)===null||V===void 0?void 0:V.name)!==null&&B!==void 0?B:""),hl(G,F),G.__closeRemoteScanUI(!0),G._heartBeatTimer&&(clearTimeout(G._heartBeatTimer),G._heartBeatTimer=null);var z=G._bRemoteMode?Nr.RemoteReconnectMaxTimes:Nr.LocalReconnectMaxTimes;if(G._wsFailedTimes<z){var Z=G._reconnectTimeSpan;G._wsFailedTimes<G._reconnectShortSpanTimes&&(Z=G._reconnectShortSpan),G._heartBeatTimer=setTimeout(function(){n.startDWTReconnect(G)},Z)}}},{key:"__OnRecieveMsg",value:function(H,F){var B=this;if(H.event)return B._handleEvent(H,F.contextData);if(co(H)?(B._errorCode=H.exception,B._errorString=H.description):(B._errorCode=0,B._errorString=""),U.DWT.ConnectWithSocket){var V=H,G=F==null?void 0:F.cmd;return G=="ActiveUI"||G=="VersionInfo"||G=="ConvertToBase64"||G=="SaveSelectedImagesToBase64Binary"||G=="ConvertToBlob"?F.sFun&&p.isArray(H.result)&&H.result.length>0?(F.sFun(H.result),!0):(F.fFun&&F.fFun(H.result),!1):(B._errorCode!=0&&F.fFun&&F.fFun(B._errorString),G=="BeginSaveMem"||G=="CreateLocalStorage"||G=="LocalStorageExist"||G=="SaveToLocalStorage"||G=="LoadFromLocalStorage"||G=="RemoveLocalStorage"?F.sFun&&p.isArray(H.result)&&H.result.length>0?(F.sFun(H.result),!0):(F.fFun&&F.fFun(H.result),!1):(V=F.rawData?H:p.isArray(H.result)&&H.result.length>0?H.result[0]:H.result,F.sFun?F.sFun(V):F.fFun&&F.fFun(V),H=null,!0))}if(B._errorCode==0)return F.sFun&&p.isArray(H.result)&&H.result.length>0?(F.sFun(H.result),!0):(F.fFun(H.result),!0);var z=!1;F.fFun&&(z=F.fFun(B._errorString)),!z&&H.exception&&H.exception<0&&H.exception!=-2115&&p.isFunction(B.__OnPrintMsg)&&B.__OnPrintMsg(B._errorString)}},{key:"_handleOnBitmapChangedEvent",value:function(H,F){try{var B,V,G,z,Z,ie,se,ne,ae,be,ge,_e,Le,Xe,ze,yt,at=H.result[0],gt=H.result[1];if(p.isString(gt)){var Tt=JSON.parse(gt);B=p.isArray(Tt)?Tt:[Tt]}else p.isArray(gt)&&(B=gt);if(p.isArray(B)){for(yt=F||{},Xe=0;Xe<B.length;Xe++)if(ze=B[Xe],p.isArray(ze.images))if(V=ze.consumeType,G=ze.curImageId,z=ze.type,Z=ze.images.length,z!=_n.enumBCAppend&&z!=_n.enumBCInsert||(!yt.document&&ze.document&&(yt.document=ze.document),!yt.tag&&ze.tag&&(yt.tag=ze.tag)),z==_n.enumBCRemove){var Be=[];for(ie=0;ie<Z;ie++)Be.push(ze.images[ie].id);var Oe=[at,Be.join(","),z,G,Z,null,null,null,null,null,null,ne];this._OnBitmapChanged(Oe,H,yt)}else for(ie=0;ie<Z;ie++){se=ze.images[ie].id,be=ze.images[ie].width,ge=ze.images[ie].height,ae=ze.images[ie].depth,_e=ze.images[ie].xdpi,Le=ze.images[ie].ydpi,ne=ze.images[ie].uid;var tt=[at,se.toString(),z,G,Z,be,ge,ae,_e,Le,V,ne];this._OnBitmapChanged(tt,H,yt)}}}catch(pt){_r(pt)}return rt}},{key:"_handleEvent",value:function(H,F){var B=this,V=H.result[0],G=Pe;return H.event=="OnBitmapChanged"?B._handleOnBitmapChangedEvent(H,F):(p.each(CK,function(z,Z){if(H.event===z){var ie=["_",z].join("");return G=rt,p.isFunction(B[ie])&&B[ie](H.result,H),Pe}}),G?(p.log("handled event:"+H.event),p.each(TK,function(z,Z){if(H.event===z)return p.log("sendback event:"+H.event),B._innerSendByWS(H.event,Ve(V),null,null,rt),Pe})):(p.each(j.Addon_Events,function(z,Z){if(H.event===z){var ie=["_",z].join("");return G=rt,p.isFunction(B[ie])&&B[ie](H.result),Pe}}),G&&(p.log("handled addon event:"+H.event),p.each(j.Addon_Sendback_Events,function(z,Z){if(H.event===z)return p.log("sendback addon event:"+H.event),B._innerSendByWS(H.event,Ve(V),null,null,rt),Pe}))),G)}},{key:"_setProductKeyAsync",value:function(H){var F=this,B=H;return F._resetErr(),F._isValid()?we.bUseDynamsoftLicenseManager||F._blts?(BC(F),j.Promise.reject({code:F._errorCode,message:F._getErrorString()})):p.isString(B)?_t.isLicenseMixed(B,!1)?j.Promise.reject(U.DWT.licenseException):_t.isLongKey(B)?ST(T_,F,SK).call(F,B).then(function(V){var G=V;if(!G||G.message)throw Do(F),G&&G.message&&(F._errorString=G.message),{code:F._errorCode,message:F._getErrorString()};return uT(F,G),G}):(Do(F),j.Promise.reject({code:F._errorCode,message:F._getErrorString()})):(Do(F),j.Promise.reject({code:F._errorCode,message:F._getErrorString()})):j.Promise.reject({code:F._errorCode,message:F._getErrorString()})}},{key:"_setLTSLic",value:function(H){var F=this,B=H;return F._resetErr(),!!F._isValid()&&(p.isString(B)?F._sendDataByHttpAsync("LTSLicense",Ve(B),null,!0).then(function(V){if(V){if(co(V))throw F._errorCode=V.exception,F._errorString=V.description,{code:F._errorCode,message:F._getErrorString()};return F._innerFunV2("GetLicenseInfo",Ve(0))}throw Do(F),{code:F._errorCode,message:F._getErrorString()}}):(Do(F),j.Promise.reject({code:F._errorCode,message:F._getErrorString()})))}},{key:"_setLTSLicenseAsync",value:function(H){var F=this;return F._resetErr(),F._isValid()?p.isString(H)?F._setLTSLic(H).then(function(B){var V=B;if(!V||V.message)throw Do(F),V&&V.message&&(F._errorString=V.message),{code:F._errorCode,message:F._getErrorString()};return uT(F,V),F.__licenseInfo&&(F.__licenseInfo.LTS=!0),V}):(Do(F),j.Promise.reject({code:F._errorCode,message:F._getErrorString()})):j.Promise.reject({code:F._errorCode,message:F._getErrorString()})}},{key:"_innerActiveUI",value:(q=o(w().mark(function H(F){var B,V,G,z,Z;return w().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return B=this,V=j.detect.ssl,G=t$(),B._bRemoteMode||(G=5),z="",B._blts&&(z=F??""),ie.next=6,new j.Promise(function(se,ne){B._sendData("ActiveUI",Ve(Br.WSVersion,Br.WSSession,1,z,V,1,G),!1,se,ne)});case 6:return Z=ie.sent,B=null,ie.abrupt("return",Z);case 9:case"end":return ie.stop()}},H,this)})),function(H){return q.apply(this,arguments)})},{key:"_reconnected",value:(te=o(w().mark(function H(F){var B,V,G,z,Z,ie,se,ne;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return(B=this)._wsFailedTimes=0,ae.next=4,B._innerActiveUI(B._uuidForActiveUI);case 4:if(V=ae.sent,G=!1,V&&(V.length>12?(B.__serverId=V[1],G=V[12]):V.length>8?(B.__serverId=V[1],G=V[8]):V.length>=2&&(B.__serverId=V[1])),B._bReady=!0,B._bRemoteMode||(j.detect.bOK=!0),j.detect.starting=!1,G){try{B._OnActiveUIClearBuffer()}catch{B._resetErr()}Fe(B,-2614,"The Dynamsoft Service has been restarted.")}if(ae.prev=11,!B._blts){ae.next=21;break}return z=B._bRemoteMode&&(Z=(ie=B._dmService)===null||ie===void 0||(ie=ie.attrs)===null||ie===void 0?void 0:ie.UUID)!==null&&Z!==void 0?Z:"",ae.next=16,S_(U.DWT.lgdt(),z);case 16:return se=ae.sent,ae.next=19,B._setLTSLicenseAsync(se.ar);case 19:ae.next=24;break;case 21:return ne=we.refProductKey,ae.next=24,B._setProductKeyAsync(ne);case 24:return ae.next=26,B._OnReconnected();case 26:ae.next=32;break;case 28:throw ae.prev=28,ae.t0=ae.catch(11),B._bRemoteMode&&hp(B),{code:B._errorCode,message:B._errorString};case 32:return ae.prev=32,B._bRemoteMode&&n.startHeartBeat(B),ae.finish(32);case 35:case"end":return ae.stop()}},H,this,[[11,28,32,35]])})),function(H){return te.apply(this,arguments)})},{key:"_OnReconnected",value:($=o(w().mark(function H(){return w().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:case"end":return F.stop()}},H)})),function(){return $.apply(this,arguments)})},{key:"_initRemoteDiv",value:function(){if(!this._acquireDivEL){var H=document.createElement("div");H.style.position="fixed",H.style.zIndex="510000",H.style.left="0",H.style.top="0";var F=document.createElement("img");F.className="ds-img-screen",H.appendChild(F),document.body.appendChild(H),this._acquireDivEL=H}}},{key:"getHeartBeatData",value:function(H){var F,B=vl(this._clientId,H.cmd,null,H.cmdId,this._bScanForProxyRemote),V=B.length,G=V,z=new ArrayBuffer(12+G),Z=new DataView(z);for(F=0;F<8&&G;F++)Z.setUint8(F,G%256),G=Math.floor(G/256);for(F=0;F<4&&V;F++)Z.setUint8(8+F,V%256),V=Math.floor(V/256);for(F=0;F<B.length;F++)Z.setUint8(12+F,B.charCodeAt(F));return z}},{key:"__closeRemoteScanUI",value:function(H){var F=this;if(F._acquireDivEL){var B=p.sizzle(".ds-img-screen");F._acquireDivEL.evtFun?(B&&B.length>0&&p.removeEventListener(B[0],"mouseup",F._acquireDivEL.evtFun),F._acquireDivEL.evtFun=null):B&&B.length>0&&p.removeEventListener(B[0],"mouseup"),B&&B.length>0&&(B[0].src=""),H&&(document.body.removeChild(F._acquireDivEL),F._acquireDivEL=null)}}},{key:"_removeImageByIdAsync",value:(W=o(w().mark(function H(F){var B;return w().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if((B=this)._resetErr(),B._isValid()){V.next=4;break}throw{code:B._errorCode,message:B._errorString};case 4:return V.next=6,B._innerFunV2("RemoveAllImages",Ve(F));case 6:return V.abrupt("return",V.sent);case 7:case"end":return V.stop()}},H,this)})),function(H){return W.apply(this,arguments)})},{key:"_removeAllImagesAsync",value:(D=o(w().mark(function H(F,B){var V;return w().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if((V=this)._resetErr(),V._isValid()){G.next=4;break}throw{code:V._errorCode,message:V._getErrorString()};case 4:return G.next=6,V._innerFunV2("RemoveAllImages");case 6:return G.abrupt("return",G.sent);case 7:case"end":return G.stop()}},H,this)})),function(H,F){return D.apply(this,arguments)})},{key:"_LicensePromptExpired",value:function(){}},{key:"_OnActiveUI",value:(x=o(w().mark(function H(F){var B,V,G,z,Z,ie,se,ne,ae,be,ge,_e,Le,Xe,ze,yt,at;return w().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:if(B=this,G=!1,F&&F.length>=6?(F[2],V=F[5],z=!1,Z=!1,ie=0,F.length>12?(F[6],B._b64bit=F[7]=="64",F[8],z=F[9],Z=F[10],ie=F[11],F[12]):F.length>8&&(z=F[6],Z=F[7],ie=F[8]),z?Z&&ie&&(B._bRemoteMode=!0):B._bRemoteMode=!0,p.isString(V)&&(V=="win"?B.__serverPlatform=Et.enumWindow:V=="linux"?B.__serverPlatform=Et.enumLinux:V=="mac"?B.__serverPlatform=Et.enumMac:V=="embed"?B.__serverPlatform=Et.enumEmbed:V=="chromeos"&&(B.__serverPlatform=Et.enumChromeOS))):G=!0,B._bMustUpgradeService=G,G){gt.next=67;break}if(Mr("Activating the WebTwain instance..."),se=!1,!B._blts){gt.next=44;break}return ae=B._bRemoteMode&&(be=(ge=B._dmService)===null||ge===void 0||(ge=ge.attrs)===null||ge===void 0?void 0:ge.UUID)!==null&&be!==void 0?be:"",gt.prev=10,gt.next=13,S_(U.DWT.lgdt(),ae);case 13:ne=gt.sent,gt.next=27;break;case 16:if(gt.prev=16,gt.t0=gt.catch(10),sT(B,gt.t0),_e=vO(B._errorCode),!B._bLicenseErrorDispose){gt.next=25;break}throw B._bRemoteMode||(_e?this._LicensePromptExpired():_O(B)),{code:B._errorCode,message:B._errorString};case 25:_e||p.warn(B._errorString),ne=null;case 27:if(Mr($F),!ne){gt.next=41;break}return gt.next=31,B._setLTSLicenseAsync(ne.ar);case 31:return Le=gt.sent,U.DWT.laddDWTObj(B),ae="",B._bRemoteMode&&(ae=(Xe=(ze=B._dmService)===null||ze===void 0||(ze=ze.attrs)===null||ze===void 0?void 0:ze.UUID)!==null&&Xe!==void 0?Xe:""),Mr(KF),gt.next=38,U.DWT.lcheckLic(U.DWT.lgdt(),Le,ae);case 38:se=U.DWT.licenseException.code==0,gt.next=42;break;case 41:se=!1;case 42:gt.next=62;break;case 44:return Mr($F),yt=we.refProductKey,gt.prev=46,gt.next=49,B._setProductKeyAsync(yt);case 49:gt.sent&&(se=!0),gt.next=62;break;case 53:if(gt.prev=53,gt.t1=gt.catch(46),!B._bLicenseErrorDispose){gt.next=60;break}throw B._bRemoteMode||C_(gt.t1.code)&&lT(gt.t1),gt.t1;case 60:p.warn(gt.t1.message);case 61:se=!1;case 62:if(se&&(Mr(KF),_t.checkProductKey(B,{Core:!0})||(at={code:B._errorCode,message:B._getErrorString()},B._resetErr(),U.DWT.lclex(),ue.bWin&&_t.checkProductKey(B,{Webcam:!0},!0)||(B._errorCode=at.code,B._errorString=at.message))),B._errorCode==0){gt.next=67;break}if(B._bRemoteMode||(vO(B._errorCode)?this._LicensePromptExpired():_O(B)),!B._bLicenseErrorDispose){gt.next=67;break}throw{code:B._errorCode,message:B._getErrorString()};case 67:B._bRemoteMode&&n.startHeartBeat(B);case 68:case"end":return gt.stop()}},H,this,[[10,16],[46,53]])})),function(H){return x.apply(this,arguments)})},{key:"_innerConvertToArrayBufferAsync",value:(I=o(w().mark(function H(F,B,V,G){var z,Z,ie,se,ne;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return z=this,Z=V,ie=G??"arraybuffer",se=",",p.isString(Z)&&Z!=""||(Z="",se=""),ne=["[",F,',"',B.join(","),'"',se,Z,"]"].join(""),ae.next=6,z._sendDataByHttpAsync("ConvertToBlob",ne,ie,!0);case 6:return ae.abrupt("return",ae.sent);case 7:case"end":return ae.stop()}},H,this)})),function(H,F,B,V){return I.apply(this,arguments)})},{key:"_getImageByServerId",value:(b=o(w().mark(function H(F){var B,V,G;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return B=Qt.IT_PNG,z.next=3,this._innerConvertToArrayBufferAsync(B,[F],void 0,void 0);case 3:return V=z.sent,G=mT(B),z.abrupt("return",new Blob([V],{type:G}));case 6:case"end":return z.stop()}},H,this)})),function(H){return b.apply(this,arguments)})},{key:"_getSourcesAsync",value:(y=o(w().mark(function H(F,B,V){var G,z;return w().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return G=this,Z.next=3,G._innerFunV2("GetSources",Ve(F,B!=null&&B,V!=null&&V));case 3:return z=Z.sent,Z.abrupt("return",SO(this,z));case 5:case"end":return Z.stop()}},H,this)})),function(H,F,B){return y.apply(this,arguments)})},{key:"_getDevices",value:(S=o(w().mark(function H(F,B,V){var G,z,Z,ie,se,ne;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(z=[],Z="getDevices",ie=(G=this)._bRemoteMode?Cp:ue.bAndroid?nT:Cp,se=F??ie,G._resetErr(),G._isValid()){ae.next=5;break}return ae.abrupt("return",j.Promise.reject({code:G._errorCode,message:G._getErrorString()}));case 5:return G._bNoMask||Jr(Z,G),ae.prev=6,ae.next=9,G._getSourcesAsync(se,B,V);case 9:ne=ae.sent,p.isArray(ne)&&ne.length>0&&(z=z.concat(ne)),ae.next=16;break;case 13:throw ae.prev=13,ae.t0=ae.catch(6),ae.t0;case 16:return ae.prev=16,G._bNoMask||Dr(Z),ae.finish(16);case 19:return ae.abrupt("return",z);case 20:case"end":return ae.stop()}},H,this,[[6,13,16,19]])})),function(H,F,B){return S.apply(this,arguments)})},{key:"_innerAcquireImageFromService",value:function(H,F,B){var V,G,z=this;if(G=p.clone(H),!_t.checkProductKey(z,{Core:!0}))return p.isFunction(B)&&B(z._errorCode,z._getErrorString()),!1;var Z=z._bRemoteMode?rt:Pe;G.RemoteScan=Z?1:0,z._bRemoteMode&&(p.isFunction(z.__OnRemoteScanStatusAsync)||(z.__OnRemoteScanStatusAsync=function(){}),p.isFunction(z.__OnSourceUIClose)||(z.__OnSourceUIClose=function(){}));for(var ie=0,se=0;se<I_.length;se++){var ne=["__",I_[se]].join("");p.isFunction(z[ne])&&(ie|=1<<se)}return G.EnableEvents=ie,Z&&z._isBindViewer()&&z._initRemoteDiv(),z._bRemoteMode||(z._bPageFocus&&U.DWT.IfAlwaysFocusOnPopupWindow?z._bServerAlwaysFocusOnPopupWindow||z._OnPageFocus(!0):z._bServerAlwaysFocusOnPopupWindow&&z._OnPageBlur(!0)),V=["[",p.stringify(G),"]"].join(""),z._sendData("AcquireImage",V,!0,function(ae){F(ae)},function(ae){B(z._errorCode,z._getErrorString())}),!0}},{key:"_canConsume",value:function(){return this._blts&&!this._bltsCopyImage}},{key:"_acquireImageFromServiceAsync",value:function(H){var F=this;return new j.Promise(function(B,V){return F._innerAcquireImageFromService(H,function(){F._canConsume()&&U.DWT.lcvrf(F),B(!0)},function(G,z){V({code:G,message:z})})})}},{key:"_acquireImage",value:(_=o(w().mark(function H(F,B){var V,G,z,Z,ie;return w().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(V=this,G=B?p.clone(B):{},z="acuqireImage",V._resetErr(),V._isValid()){se.next=4;break}throw{code:V._errorCode,message:V._getErrorString()};case 4:if(_t.checkProductKey(V,{Core:!0})&&V._isValid()){se.next=6;break}throw{code:V._errorCode,message:V._getErrorString()};case 6:if(!V.__bAcquireImageNow){se.next=9;break}throw aF(V),{code:V._errorCode,message:V._getErrorString()};case 9:return V.__bAcquireImageNow=!0,V._bNoMask||Jr(z,V),Z=U.DWT.RemoteScanConfig,ie=qR(),se.prev=12,RO(G),Z&&n_(Z.keepAwake),F!=null&&(G.Device=F.strDevice,G.DeviceMatchField=Ep.SMF_NAME),se.next=18,V._acquireImageFromServiceAsync(G);case 18:se.next=23;break;case 20:throw se.prev=20,se.t0=se.catch(12),se.t0;case 23:return se.prev=23,V.__bAcquireImageNow=!1,V._bNoMask||Dr(z),n_(ie),se.finish(23);case 28:return se.abrupt("return",!0);case 29:case"end":return se.stop()}},H,this,[[12,20,23,28]])})),function(H,F){return _.apply(this,arguments)})},{key:"_getCapabilities",value:(m=o(w().mark(function H(F,B,V){var G,z,Z,ie,se;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return z=null,ST(T_,G=this,PO).call(G,F),G._initRemoteDiv(),ne.next=5,G._innerSelectDeviceAsync(F);case 5:return p.isArray(V)&&(z=Ve(V)),ne.next=8,G._sendDataByHttpAsync("GetCapabilities",z);case 8:if(Z=ne.sent,ne.prev=9,Z.length>0&&(se=Z[0]),!p.isString(se)){ne.next=22;break}if(se=j.removeNonPrintableChar(se),se=p.replaceAll(se,"\\\\","\\\\"),(ie=JSON.parse(se)).errorCode!=0){ne.next=17;break}return ne.abrupt("return",ie.response);case 17:throw G._errorCode=ie.errorCode,G._errorString=ie.errorString,{code:G._errorCode,message:G._getErrorString()};case 22:throw Wi(G),{code:G._errorCode,message:G._getErrorString()};case 24:ne.next=31;break;case 26:throw ne.prev=26,ne.t0=ne.catch(9),G._errorCode=-2302,G._errorString=ne.t0,{code:G._errorCode,message:G._getErrorString()};case 31:case"end":return ne.stop()}},H,this,[[9,26]])})),function(H,F,B){return m.apply(this,arguments)})},{key:"_setCapabilities",value:(h=o(w().mark(function H(F,B,V){var G,z;return w().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(ST(T_,G=this,PO).call(G,F),p.isObject(B)&&!p.isArray(B)){Z.next=5;break}throw Kt(G),{code:G._errorCode,message:G._getErrorString()};case 5:return G._initRemoteDiv(),Z.next=8,G._innerSelectDeviceAsync(F);case 8:return z=["[",p.stringify(B),"]"].join(""),Z.next=11,G._sendDataByHttpAsync("SetCapabilities",z);case 11:return Z.abrupt("return",Z.sent);case 12:case"end":return Z.stop()}},H,this)})),function(H,F,B){return h.apply(this,arguments)})},{key:"_closeSource",value:(l=o(w().mark(function H(){var F;return w().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return F=this,B.next=3,F._innerFunV2("CloseSource");case 3:case"end":return B.stop()}},H,this)})),function(){return l.apply(this,arguments)})},{key:"_innerSelectDeviceAsync",value:(d=o(w().mark(function H(F,B){var V,G,z,Z,ie,se,ne,ae;return w().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(G=this,F&&F instanceof ra){be.next=4;break}throw Kt(G),{code:G._errorCode,message:G._errorString};case 4:if(!(z=(V=this._dmService.attrs)===null||V===void 0?void 0:V.UUID)){be.next=17;break}if(((Z=F.serviceInfo.attrs)===null||Z===void 0?void 0:Z.UUID)!=z){be.next=10;break}be.next=17;break;case 10:if(!((se=((ie=F.serviceInfo.attrs)===null||ie===void 0?void 0:ie.url)||F.serviceInfo.server)&&se.indexOf(z)>-1)){be.next=15;break}be.next=17;break;case 15:throw bF(G),{code:G._errorCode,message:G._errorString};case 17:return ne=B??Ep.SMF_NAME,ae=["[",F.strDevice,",",ne,"]"].join(""),be.next=20,G._innerFunV2("SelectSourceEx",ae);case 20:return be.abrupt("return",be.sent);case 21:case"end":return be.stop()}},H,this)})),function(H,F){return d.apply(this,arguments)})},{key:"registerEvent",value:function(H,F){return p.isUndefined(H)?(li(this),!1):!p.isString(H)||p.isString(H)&&H.trim().length==0||p.isUndefined(F)||!p.isFunction(F)?(Kt(this),!1):!!this._registerEvent(H,F)}},{key:"unregisterEvent",value:function(H,F){return this._unregisterEvent(H,F)}},{key:"_registerEvent",value:function(H,F){var B=this;return B._resetErr(),!!B._isValid()&&(B[["__",H].join("")]=F,!0)}},{key:"_unregisterEvent",value:function(H,F){var B=this;return B._resetErr(),!!B._isValid()&&(B[["__",H].join("")]=null,rt)}},{key:"_OnPageFocus",value:function(H){var F=this;if(F._bPageFocus=!0,F._bReady&&ue.bWin&&U.DWT.IfAlwaysFocusOnPopupWindow){var B=p.stringify({sequence:0,wnds:0,wnd:"0",type:3,x:0,y:0});if(F.__bAcquireImageNow||H||F.__bOpenFileNow){F._bServerAlwaysFocusOnPopupWindow=!0;try{F._isValid()&&F._sendDataByHttpAsync("SendEventToScannerUI",["[",B,"]"].join(""))}catch{}}}}},{key:"_OnPageBlur",value:function(H){var F=this;if(ue.bWin&&F._bReady){var B=p.stringify({sequence:0,wnds:0,wnd:"0",type:4,x:0,y:0});if((F._bPageFocus!=0||H)&&(F._bPageFocus=!1,F.__bAcquireImageNow||H||F.__bOpenFileNow)){F._bServerAlwaysFocusOnPopupWindow=!1;try{F._isValid()&&F._sendDataByHttpAsync("SendEventToScannerUI",["[",B,"]"].join(""))}catch{}}}}},{key:"_OnRemoteScanStatusAsync",value:function(H){var F,B,V,G,z,Z,ie,se=this;if(H&&H.length>=2){try{var ne=new String(H[1]);F=p.parse(ne)}catch(be){p.error(be.message),p.log("parse json failed: "+H[1])}F||(F={sequence:0,screen:[]})}if(F&&F.sequence)if(F.sequence>0&&F.screen&&F.screen.length>0){if(B=F.screen,G=F.sequence,Z=F.wnds,ie=(V=B[0]).img,p.isString(ie)&&ie!=""&&(z=V.wnd),G&&z){var ae=p.sizzle(".ds-img-screen");ae&&ae.length>0&&se._acquireDivEL&&(se._acquireDivEL.evtFun&&(p.removeEventListener(ae[0],"mouseup",se._acquireDivEL.evtFun),se._acquireDivEL.evtFun=null),ae[0].src=ie,se._acquireDivEL.evtFun=function(be){Z||(Z="0");var ge=p.stringify({sequence:G,wnds:Z,wnd:z+"",type:2,x:be.offsetX,y:be.offsetY});se._sendDataByHttpAsync("SendEventToScannerUI",["[",ge,"]"].join(""))},p.addEventListener(ae[0],"mouseup",se._acquireDivEL.evtFun))}}else se.__closeRemoteScanUI(!1);return p.isFunction(se.__OnRemoteScanStatusAsync)&&se.__OnRemoteScanStatusAsync(F),!0}},{key:"_OnBitmapChanged",value:function(H,F,B){var V=this,G=H[0]=="m1",z=H[0]=="c1",Z=H[0]=="c2",ie=z||Z||G,se=H[2],ne=H[3],ae=-1;if(!ie){if(H.length>10&&(ae=H[10]),ae>-1&&V._canConsume()&&(se==_n.enumBCAppend||se==_n.enumBCInsert)){var be=U.DWT.lgct(ae);p.isFunction(V.__OnLtsverify)&&V.__OnLtsverify(be,1)}if((se==_n.enumBCAppend||se==_n.enumBCInsert)&&p.isFunction(V.__OnBufferChanged)){var ge={action:"add",currentId:ne,imageIds:[],selectedIds:[]};V.__OnBufferChanged(ge)}}}},{key:"_OnPostTransferAsync",value:function(H,F,B){var V,G=this;if(H&&H.length>=2)try{var z=String(H[1]).replace(/\\/g,"\\\\");V=p.parse(z)}catch(ie){p.error(ie)}V||(V={imageId:""});var Z=!1;if(p.isFunction(G.__OnPostTransferAsync))try{Z=G.__OnPostTransferAsync(V)}catch(ie){_r(ie)}if(p.isFunction(G.__OnPostTransferAsync2))try{G.__OnPostTransferAsync2(V)}catch(ie){_r(ie)}return Z}},{key:"_OnCurrentDeviceSelected",value:function(H,F){}},{key:"_getErrorCode",value:function(){return this._errorCode}},{key:"_getErrorString",value:function(){return this._errorCode!=0?this._errorString:"Successful."}},{key:"_isBindViewer",value:function(){return!1}},{key:"_isNoViewer",value:function(){return!0}},{key:"_isMobileMode",value:function(){return!1}},{key:"_needCheckProxyRemoteScanLicense",value:function(){if(!this._blts&&this._bScanForProxyRemote){if(this._strRemoteServiceVer=="")return!0;var H=function(F){var B=F.split(","),V=[18,3];return p.trim(B[0])>V[0]||B.length>1&&p.trim(B[0])==V[0]&&p.trim(B[1])>=V[1]}(this._strRemoteServiceVer);if(H)return!0}return!1}},{key:"_OnActiveUIClearBuffer",value:function(){}}],[{key:"isServerInvalid",value:function(H){var F,B;if(F=!H._bReady||H._wsClient===null,B=H._bMustUpgradeService,F){var V,G,z;H._bRemoteMode&&(V=(G=(z=H._dmService)===null||z===void 0||(z=z.attrs)===null||z===void 0?void 0:z.name)!==null&&G!==void 0?G:""),hl(H,V)}else B?Pd(H):H.isDestroy&&_F(H);return F||B||H._errorCode==-2208||H.isDestroy}},{key:"STwainConnectToServer",value:(u=o(w().mark(function H(F){var B,V;return w().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(B=F._id,!U.DWT.WebTwainIdMap[B]){G.next=5;break}return G.next=4,F._OnReady();case 4:return G.abrupt("return");case 5:if(!F._bReady&&!F._destroy){G.next=7;break}return G.abrupt("return");case 7:return F._bConnecting=!0,(V=_s.Instance.getClient(F._serverInfo)).setRetry(0),F._bNoMask||Jr("",F),G.prev=11,G.next=14,qF(F._bRemoteMode);case 14:return G.next=17,V.testConnection(void 0,0,void 0,1e4);case 17:if(F._wsClient=V,F._wsClient.bReady=!0,j.detect.bFirst&&(IK(),j.detect.bFirst=!1),F._bReady){G.next=24;break}return F._bReady=!0,G.next=24,F._OnReady();case 24:G.next=30;break;case 26:throw G.prev=26,G.t0=G.catch(11),F._bReady=!1,{code:F._errorCode,message:F._getErrorString()};case 30:return G.prev=30,F._bConnecting=!1,F._bNoMask||Dr(""),G.finish(30);case 34:case"end":return G.stop()}},H,null,[[11,26,30,34]])})),function(H){return u.apply(this,arguments)})},{key:"_innerSendHeartBeat",value:(s=o(w().mark(function H(F,B){var V,G,z,Z;return w().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(ie.prev=0,!F.__bAcquireImageNow){ie.next=4;break}ie.next=14;break;case 4:if(V={client:null,userData:null,taskId:"0",eventTaskId:"0",lastEventTaskId:"0"},G=Tp(),z={cmd:"Heartbeat",cmdId:G,sFun:null,fFun:null,contextData:null,rawData:!0},Z=F.getHeartBeatData(z),!F._wsClient){ie.next=12;break}return F._wsClient.setRetry(0),ie.next=12,F._wsClient.request(Z,null,V);case 12:z=null,Z=null;case 14:ie.next=18;break;case 16:ie.prev=16,ie.t0=ie.catch(0);case 18:F._wsClient&&F._wsClient.connected&&B&&setTimeout(function(){n._innerSendHeartBeat(F,B)},F._wsClient._heartBeatTicks);case 19:case"end":return ie.stop()}},H,null,[[0,16]])})),function(H,F){return s.apply(this,arguments)})},{key:"startDWTReconnect",value:(a=o(w().mark(function H(F){var B,V,G,z,Z;return w().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(ie.prev=0,!F._destroy){ie.next=3;break}return ie.abrupt("return");case 3:if(B=F._serverInfo,!(Pt.bEnhancedMode&&B&&B.port)){ie.next=24;break}return we.bDCPChecked=!1,ie.prev=6,ie.next=9,vT(ui(),U.DWT.Port,U.DWT.SSLPort);case 9:if(!(V=ie.sent)){ie.next=14;break}F._serverInfo.port=ue.bSSL?V.sslPort:V.port,ie.next=16;break;case 14:throw Wi(F),nr(F);case 16:ie.next=24;break;case 18:return ie.prev=18,ie.t0=ie.catch(6),F._wsFailedTimes++,G=F._bRemoteMode?Nr.RemoteReconnectMaxTimes:Nr.LocalReconnectMaxTimes,F._wsFailedTimes<G&&(z=F._reconnectTimeSpan,F._wsFailedTimes<F._reconnectShortSpanTimes&&(z=F._reconnectShortSpan),F._heartBeatTimer=setTimeout(function(){n.startDWTReconnect(F)},z)),ie.abrupt("return");case 24:return F._bConnecting=!0,(Z=_s.Instance.getClient(F._serverInfo)).setRetry(0),ie.next=30,Z.testConnection(void 0,0,void 0,3e4);case 30:return F._wsClient=Z,F._wsClient.bReady=!0,F._wsRetry=0,ie.next=35,F._reconnected(Z);case 35:ie.next=40;break;case 37:ie.prev=37,ie.t1=ie.catch(0),F._wsFailedTimes++;case 40:return ie.prev=40,F._bConnecting=!1,ie.finish(40);case 43:case"end":return ie.stop()}},H,null,[[0,37,40,43],[6,18]])})),function(H){return a.apply(this,arguments)})},{key:"startHeartBeat",value:function(H){var F=H._wsClient;F&&F.connected&&!F._bHeartBeatStarted&&(F._bHeartBeatStarted=!0,setTimeout(function(){n._innerSendHeartBeat(H,!0)},F._heartBeatTicks))}},{key:"getServerImageUrlPrefix",value:function(H){var F,B=H._httpUrl;return F=H._bScanForProxyRemote?Nr.getVersionStrForCheck():we.getServerVersionInfo(),[B,"dwt/",we.getDWTPrefix(),F,"/img?id=",H._clientId].join("")}}]);var a,s,u,d,l,h,m,_,S,y,b,I,x,D,W,$,te,q,X,J,re}(cK);function SK(r){var n,a=this,s=r;return a._resetErr(),a._isValid()?we.bUseDynamsoftLicenseManager||a._blts?(BC(a),j.Promise.reject({code:a._errorCode,message:a._getErrorString()})):(s=p.isString(s)?p.trim(s):"",n=a._sendDataConnectWithSocket("ProductKey",Ve(s),"json",!0),a.__productKey=s,n=n.then(function(u){if(p.isArray(u)&&u.length>0){if(a._errorCode!=0)throw a.__productKey="",{code:a._errorCode,message:a._getErrorString()};return U.DWT.ProductKey=a.__productKey,_t.reparseProductKey(),a._innerFunV2("GetLicenseInfo",Ve(0))}throw Do(a),n.context=null,{code:a._errorCode,message:a._getErrorString()}})):j.Promise.reject({code:a._errorCode,message:a._getErrorString()})}function PO(r){return kO.apply(this,arguments)}function kO(){return(kO=o(w().mark(function r(n){var a;return w().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if((a=this)._resetErr(),a._isValid()){s.next=4;break}return s.abrupt("return",j.Promise.reject({code:a._errorCode,message:a._errorString}));case 4:if(n&&n instanceof ra){s.next=7;break}throw Kt(a),{code:a._errorCode,message:a._errorString};case 7:case"end":return s.stop()}},r,this)}))).apply(this,arguments)}function vl(r,n,a,s,u){var d,l=[];return l.push("{"),l.push('"id":"'),l.push(r),l.push('"'),s&&(l.push(',"cmdId":"'),l.push(s),l.push('"')),l.push(',"method":"'),l.push(n),l.push('"'),l.push(',"module":"dwt","version":"'),d=u?[we.getDWTPrefix(),Nr.getVersionStrForCheck()].join(""):[we.getDWTPrefix(),we.getServerVersionInfo()].join(""),l.push(d),l.push('"'),a!=null&&(l.push(',"parameter":'),p.isArray(a)?l.push(p.stringify(a)):l.push(a)),l.push("}"),l.join("")}function bT(r,n){return["evt",r,n].join("_")}function DO(r){if(r._bReady)r._wsCheckResolve();else{if(U.DWT.bConnectCanceled)return p.asyncQueue.stop(),Ro(r),void r._wsCheckReject({code:r._errorCode,message:r._getErrorString()});if(r._wsRetry>10)return SF(r),void r._wsCheckReject({code:r._errorCode,message:r._getErrorString()});r._wsRetry++,setTimeout(function(){DO(r)},1100)}}function bK(r,n,a,s){return CT.apply(this,arguments)}function CT(){return CT=o(w().mark(function r(n,a,s,u){var d,l,h,m,_,S,y;return w().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(a!=Ur.GET_TASKID){b.next=4;break}return b.abrupt("return",u.taskId);case 4:if(a!=Ur.GET_EVENT_TASKID){b.next=8;break}return b.abrupt("return",u.eventTaskId);case 8:if(a!=Ur.ONMESSAGE_PROCESS_DATA){b.next=17;break}if(R(n)!=="object"){b.next=11;break}return b.abrupt("return",n);case 11:if(!((m=n).indexOf("Version not found")>=0||m.indexOf("Function not found")>=0)){b.next=14;break}return b.abrupt("return",{cmdId:s??0});case 14:return b.abrupt("return",p.parse(n));case 17:if(a!=Ur.ONMESSAGE_GET_TASKID){b.next=25;break}if(!n){b.next=22;break}if(!n.event){b.next=21;break}return b.abrupt("return",0);case 21:return b.abrupt("return",n.cmdId);case 22:return b.abrupt("return",n);case 25:if(a!=Ur.ONMESSAGE_GET_EVENT_TASKID){b.next=31;break}if(!n||!n.event){b.next=28;break}return b.abrupt("return",bT(n.id,n.cmdId));case 28:return b.abrupt("return",0);case 31:if(a!=Ur.HANDLE_RAW_MESSAGE){b.next=59;break}if(d=u==null?void 0:u.userData){b.next=35;break}return b.abrupt("return",!1);case 35:if(l=d.stwain,h=d.command){b.next=39;break}return b.abrupt("return",!1);case 39:if(l&&p.isFunction(l.__OnWSMessage)&&l.__OnWSMessage(n),R(n)!=="object"){b.next=44;break}if(!U.DWT.ConnectWithSocket){b.next=44;break}return h.cmd!="ConvertToBlob"&&h.cmd!="GetImageByIndex"||h.sFun(n),b.abrupt("return",!0);case 44:if(!((_=n.replace(/\0/g,"")).indexOf('"method" : "Heartbeat"')>=0)){b.next=47;break}return b.abrupt("return",!0);case 47:if(!(_.indexOf('"method" : "EnableBuffer"')>=0||_.indexOf('"method" : "GetBuffer"')>=0)){b.next=50;break}return U.DWT.lwsproc(_,h),b.abrupt("return",!0);case 50:if(!(_.indexOf("Exception:")>=0||_.indexOf("Error")==0)){b.next=57;break}return S=n,y=!1,p.log(S+"@"+h.cmd),h.fFun&&(y=h.fFun(S)),!y&&l&&p.isFunction(l.__OnPrintMsg)&&l.__OnPrintMsg(S),b.abrupt("return",!0);case 57:b.next=70;break;case 59:if(a!=Ur.HANDLE_PROCESSED_MESSAGE){b.next=70;break}if(d=u==null?void 0:u.userData){b.next=63;break}return b.abrupt("return",!1);case 63:if(l=d.stwain){b.next=66;break}return b.abrupt("return",!1);case 66:if(h=d.command){b.next=69;break}return b.abrupt("return",!1);case 69:return b.abrupt("return",l.__OnRecieveMsg(n,h));case 70:case"end":return b.stop()}},r)})),CT.apply(this,arguments)}function RO(r){r.Resolution!==void 0&&(r.Resolution=parseInt(r.Resolution)),r.PixelType!==void 0&&(r.PixelType=parseInt(r.PixelType)),r.SelectSourceByIndex!==void 0&&(r.SelectSourceByIndex=parseInt(r.SelectSourceByIndex))}var Ap,I_=["OnPreAllTransfers","OnPreTransfer","OnPostTransfer","OnPostTransferAsync"],_n=function(r){return r.enumBCAppend=1,r.enumBCInsert=2,r.enumBCRemove=3,r.enumBCEdit=4,r.enumBCIndexChange=5,r.enumBCUpdate=6,r}({}),CK=["OnPostAllTransfers","OnPostTransfer","OnPostLoad","OnPreTransfer","OnPreAllTransfers","OnResult","OnTransferCancelled","OnTransferError","OnSourceUIClose","OnGetFilePath","OnPercentDone","OnPostTransferAsync","OnPreAllTransfersAsync","OnRemoteScanStatusAsync","OnConsumed","OnDiskExceedLimit","OnCurrentDeviceSelected"],TK=["OnPreAllTransfers","OnPreTransfer","OnPostTransfer","OnGetFilePath","OnPostLoad"],TT=p.each;function IK(){var r,n=na.item("DWT_port"),a=na.item("DWT_ssl");if(Pt.bEnhancedMode)return!0;j.detect.urls.splice(0),j.detect.cUrlIndex=0,n!==Ap&&a!==Ap&&(r={port:n,ssl:a=="true"});var s=function(u){return!r||!(!u||u.port==r.port&&u.ssl==r.ssl)};j.detect.detectType===1?(r!==Ap&&r.ssl&&j.detect.urls.push(r),TT(j.detect.ports,function(u){u.ssl&&s(u)&&j.detect.urls.push(u)})):j.detect.detectType===0?(r===Ap||r.ssl||j.detect.urls.push(r),TT(j.detect.ports,function(u){u.ssl===!1&&s(u)&&j.detect.urls.push(u)})):(r!==Ap&&j.detect.urls.push(r),TT(j.detect.ports,function(u){s(u)&&j.detect.urls.push(u)}))}var Zt=function(r){return r.TWAIN=0,r.ICA=3,r.SANE=3,r.TWAIN_AND_ICA=4,r.TWAIN_AND_TWAIN64=4,r.TWAIN64=5,r}({}),At={notSupportProperty:function(r){},notSupportMethod:function(r){},refreshImageAfterInvokeFun:function(r,n,a){return a==1},loadHttpBlob:function(r,n,a,s,u,d,l,h){var m,_,S=Pe;if(_={method:n,dataType:"blob"},h&&(_.headers=h),r.HTTPUserName!=""&&(_.username=r.HTTPUserName,_.password=r.HTTPPassword),r.__HTTPPostResponseString="",s){if(n=="get"){var y=p.guid();return j.progressContext&&(j.progressContext._onPercent=l),void UC(j.progressContext,y)(a,_).then(function(D){var W=D.type;if(W=="text/plain"||W=="text/html"||dl(W)){var $=new FileReader;$.readAsText(D),$.onload=function(){r.__HTTPPostResponseString=$.result,u(D)},$.onerror=function(){u(D)}}else u(D)},function(D){D&&D.code?(r._errorCode=D.code,r._errorString=D.message):D&&D.httpCode?RC(r,!1,D.message,D.httpCode):sF(r),p.isFunction(d)&&d({code:r._errorCode,message:r._errorString})})}_.onSuccess=function(D,W,$){var te=$?$.getResponseHeader("content-type"):"";if(te.indexOf("text/")>=0||dl(te)){var q=new FileReader;q.readAsText(D),q.onload=function(){r.__HTTPPostResponseString=q.result,u(D)},q.onerror=function(){u(D)}}else u(D)},p.isFunction(l)&&(_.beforeSend=function(D){D.addEventListener("progress",function(W){!ue.bSafari&&W&&(delete W.totalSize,delete W.position),l(W)},Pe)})}else ue.bIE?(_.dataType="arraybuffer",_.onSuccess=function(D,W,$){var te,q;(te=D||$.responseData)&&(q=new Uint8Array(te)),r.__HTTPPostResponseString=$.responseText,r._errorCode=0,r._errorString="",u(q),q=null,S=rt}):(_.dataType="text",_.contentType="text/plain; charset=x-user-defined",_.mimeType="text/plain; charset=x-user-defined",_.onSuccess=function(D,W,$){var te,q,X;te=$.responseText,r.__HTTPPostResponseString=te,q=te.length,X=new Uint8Array(q);for(var J=0;J<q;J++)X[J]=te.charCodeAt(J);r._errorCode=0,r._errorString="",u(X),X=null,S=rt}),_.headers?p.mix(_.headers,{"X-Requested-With":Pe}):_.headers={"X-Requested-With":Pe};if(n=="post"){var b,I=r.httpFormFields;if(I)try{b=new FormData,p.each(I,function(D,W){if(D instanceof Blob){var $=D.name;b.append(W,D,$)}else b.append(W,D)}),p.mix(_,{data:b,processData:Pe,contentType:Pe})}catch{}}m=function(D,W,$){var te,q;D&&p.isArray(D)&&D.length>2?(te=D[1],q=D[2]):(te=W,q=$),q.state!=2&&q.state!=3||q.status!=0?RC(r,Pe,te,q.status):q.statusText==="abort"?RC(r,!0):sF(r),p.isFunction(d)&&d()},_.url=a,_.async=s,_.onError=m,_.onComplete=function(){r._cancelableObj=null};var x=Po(_);if(!s)return S;j.progressContext&&(j.progressContext._onPercent=l,r.IfShowCancelDialogWhenImageTransfer&&j.progressContext.on("cancel",function(){x.abort()}))},combineUrl:function(r,n,a){var s=[],u=n;return u===void 0||a===void 0?void 0:(p.isString(u)||(u=String(n)),u.indexOf("http://")==0?(u=u.replace("http://",""),s.push("http://")):u.indexOf("https://")==0?(u=u.replace("https://",""),s.push("https://")):(u.indexOf("//")==0&&(u=u.replace("//","")),r.IfSSL?s.push("https://"):s.push("http://")),s.push(u),u.indexOf(":")<0&&(r.HTTPPort||(r.HTTPPort=j.detect.ssl?443:80),(!j.detect.ssl&&r.HTTPPort!=80||j.detect.ssl&&r.HTTPPort!=443)&&(s.push(":"),s.push(r.HTTPPort))),a.indexOf("/")!==0&&s.push("/"),s.push(a),s.join(""))},httpPutImage:function(r,n,a,s,u,d,l){var h=rt,m={method:"PUT",url:n,hasContent:rt,processData:Pe,async:s,data:a,onSuccess:u,onError:function(S,y,b){var I,x;h=Pe,S&&p.isArray(S)&&S.length>2?(I=S[1],x=S[2]):(I=y,x=b),x.state!=2&&x.state!=3||x.status!=0?uF(r,Pe,I,x.status):x.statusText==="abort"?uF(r,!0):function(D){Fe(D,-2304,"Http put error: the url is invalid.")}(r),p.isFunction(d)&&d()},onComplete:function(){r._cancelableObj=null},beforeSend:function(S){p.isFunction(l)&&S.upload.addEventListener("progress",function(y){!ue.bSafari&&y&&(delete y.totalSize,delete y.position),l(y)},Pe)}};r.HTTPUserName!=""&&(m.username=r.HTTPUserName,m.password=r.HTTPPassword),s||p.mix(m,{headers:{"X-Requested-With":Pe}});var _=Po(m);return j.progressContext&&(j.progressContext._onPercent=l,j.progressContext._onCancel=function(){_.abort()}),h},GetImageInfo:function(r,n){var a=r._ImgManager.convertClientIndexToServerId(n);return a==-1?(qe(r),!1):r._innerFun("GetImageInfo",Ve(a))},getBlobTypeByImageType:mT,callbacks:[],pushCallback:function(r,n,a){var s={method:r,callback:n,ticks:a};At.callbacks.push(s)},refreshUIRef:0,isServerInvalid:function(r){Vi.isServerInvalid(r)},replaceLocalFilename:function(r){var n;return r===void 0?"":(n=(r=String(r)).replace(/\\/g,"\\\\"),ue.bFileSystem&&(n=decodeURI(n)),n)},getImageType:function(r){if(r===void 0||r.length<4)return-1;var n=r.lastIndexOf(".");if(n===-1)return-1;var a=r.slice(n).toLowerCase();return a===".bmp"||a===".dib"?U.DWT.EnumDWT_ImageType.IT_BMP:a===".jpg"||a===".jpe"||a===".jpeg"||a===".jfif"?U.DWT.EnumDWT_ImageType.IT_JPG:a===".tif"||a===".tiff"?U.DWT.EnumDWT_ImageType.IT_TIF:a===".png"?U.DWT.EnumDWT_ImageType.IT_PNG:a===".pdf"?U.DWT.EnumDWT_ImageType.IT_PDF:a===".jp2"||a===".j2k"||a===".j2c"?U.DWT.EnumDWT_ImageType.IT_J2K:-1},makeParams:Ve,showMask:Jr,hideMask:Dr};function w_(r,n,a,s,u){var d=0;return r==Zt.TWAIN&&(d=Ld),r==Zt.TWAIN64?d=ht.TWAINX64SCANNER:r==Zt.ICA?a?d=ht.SANESCANNER:s?d=ht.ICASCANNER:(n||u)&&(d=Ld):r==Zt.TWAIN_AND_TWAIN64&&(a?d=Ld|ht.SANESCANNER:s?d=Ld|ht.ICASCANNER:n?d=Ld|ht.TWAINX64SCANNER:u&&(d=Ld)),d}function E_(r,n){for(var a=r.HowManyImagesInBuffer,s=0;s<a;s++)n.push(r._ImgManager.convertClientIndexToServerId(s))}function IT(r,n){return r._ImgManager.count()!=0||(Mn(r),p.isFunction(n)&&n(r._errorCode,r._getErrorString()),!1)}function Ju(r,n,a){return!!IT(r,a)&&(!(isNaN(n)||!p.isNumber(n)||n<0||n>=r._ImgManager.count())||(qe(r),p.isFunction(a)&&a(r._errorCode,r._getErrorString()),!1))}function Ud(r){var n,a,s,u=[];return r._ImgManager.count()<=0||((a=r._ImgManager.getCurrentImageIndex())>=0&&(n=r._ImgManager.convertClientIndexToServerId(a)),s=r._ImgManager.getSelectedClientIndexArray(),p.isArray(s)&&p.each(s,function(d){var l=r._ImgManager.convertClientIndexToServerId(d);l!=-1&&u.push(l)}),n!=-1&&u.length==0&&u.push(n)),u}function FO(r){var n,a=[];return r._ImgManager.count()<=0||(n=r._ImgManager.getCurrentImageIndex(),a=r._ImgManager.getSelectedClientIndexArray(),n!=-1&&a.length==0&&a.push(n)),a}function Ln(r,n,a){return r._resetErr(),!!r._isValid()&&(isNaN(n)?(Ot(r),p.isFunction(a)&&a(r._errorCode,r.ErrorString),Pe):n<0||n>=r._ImgManager.count()?(qe(r),p.isFunction(a)&&a(r._errorCode,r.ErrorString),Pe):rt)}function wK(r){var n,a=[],s=r.HowManyImagesInBuffer;for(n=0;n<s;n++)a.push(n);return r._imageBufferWrapper.convertIndicesToServerIds(a)}function qu(r,n){return r._imageBufferWrapper.convertIndicesToServerIds(n)}function yn(r,n,a,s,u){try{r(n,a,s,u)}catch{}n=a=s=u=null}function ft(r,n,a){try{r(n._errorCode,n._getErrorString(),a)}catch{}n=a=null}function Gn(r,n,a,s,u,d){try{r(n._errorCode,n._getErrorString(),a,s,u,d)}catch{}n=a=s=u=d=null}j.html5.Funs=At;var x_=function(){return v(function r(){f(this,r),T(this,"bIsDirty",!1),T(this,"imageWidth",0),T(this,"imageHeight",0),T(this,"iImageControlWidth",0),T(this,"iImageControlHeight",0),T(this,"imageUrl",""),T(this,"minImageUrl",""),T(this,"uuid",-1),T(this,"serverId",-1),T(this,"uidFromServer",""),T(this,"aryOverlayRectangleData",[]),T(this,"ticks",Date.now())},[{key:"Clear",value:function(){this.imageUrl="",this.minImageUrl="",this.serverId=-1,this.uuid=-1,this.uidFromServer="",this.aryOverlayRectangleData=[]}}])}(),Pp=function(r){return r&&r.Math===Math&&r},Lr=Pp((typeof Yi>"u"?"undefined":R(Yi))=="object"&&Yi)||Pp((typeof window>"u"?"undefined":R(window))=="object"&&window)||Pp((typeof self>"u"?"undefined":R(self))=="object"&&self)||Pp(R(le)=="object"&&le)||Pp(R(le)=="object"&&le)||function(){return this}()||Function("return this")(),vr=function(r){try{return!!r()}catch{return!0}},kp=!vr(function(){var r=(function(){}).bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),EK=kp,OO=Function.prototype,NO=OO.apply,MO=OO.call,Dp=(typeof Reflect>"u"?"undefined":R(Reflect))=="object"&&Reflect.apply||(EK?MO.bind(NO):function(){return MO.apply(NO,arguments)}),LO=kp,WO=Function.prototype,wT=WO.call,xK=LO&&WO.bind.bind(wT,wT),Sr=LO?xK:function(r){return function(){return wT.apply(r,arguments)}},BO=Sr,AK=BO({}.toString),PK=BO("".slice),su=function(r){return PK(AK(r),8,-1)},kK=su,DK=Sr,A_=function(r){if(kK(r)==="Function")return DK(r)},ET=(typeof document>"u"?"undefined":R(document))=="object"&&document.all,En=ET===void 0&&ET!==void 0?function(r){return typeof r=="function"||r===ET}:function(r){return typeof r=="function"},_l={},ln=!vr(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),RK=kp,P_=Function.prototype.call,xn=RK?P_.bind(P_):function(){return P_.apply(P_,arguments)},Rp={},UO={}.propertyIsEnumerable,VO=Object.getOwnPropertyDescriptor,FK=VO&&!UO.call({1:2},1);Rp.f=FK?function(r){var n=VO(this,r);return!!n&&n.enumerable}:UO;var Zu,k_,ec=function(r,n){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:n}},OK=vr,NK=su,xT=Object,MK=Sr("".split),AT=OK(function(){return!xT("z").propertyIsEnumerable(0)})?function(r){return NK(r)==="String"?MK(r,""):xT(r)}:xT,Vd=function(r){return r==null},LK=Vd,WK=TypeError,jd=function(r){if(LK(r))throw new WK("Can't call method on "+r);return r},BK=AT,UK=jd,Ma=function(r){return BK(UK(r))},VK=En,Sn=function(r){return R(r)=="object"?r!==null:VK(r)},qr={},PT=qr,kT=Lr,jK=En,jO=function(r){return jK(r)?r:void 0},zn=function(r,n){return arguments.length<2?jO(PT[r])||jO(kT[r]):PT[r]&&PT[r][n]||kT[r]&&kT[r][n]},Hn=Sr({}.isPrototypeOf),GO=Lr.navigator,zO=GO&&GO.userAgent,Fp=zO?String(zO):"",HO=Lr,DT=Fp,$O=HO.process,KO=HO.Deno,YO=$O&&$O.versions||KO&&KO.version,XO=YO&&YO.v8;XO&&(k_=(Zu=XO.split("."))[0]>0&&Zu[0]<4?1:+(Zu[0]+Zu[1])),!k_&&DT&&(!(Zu=DT.match(/Edge\/(\d+)/))||Zu[1]>=74)&&(Zu=DT.match(/Chrome\/(\d+)/))&&(k_=+Zu[1]);var D_=k_,QO=D_,GK=vr,zK=Lr.String,Gd=!!Object.getOwnPropertySymbols&&!GK(function(){var r=Symbol("symbol detection");return!zK(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&QO&&QO<41}),JO=Gd&&!Symbol.sham&&R(Symbol.iterator)=="symbol",HK=zn,$K=En,KK=Hn,YK=Object,Op=JO?function(r){return R(r)=="symbol"}:function(r){var n=HK("Symbol");return $K(n)&&KK(n.prototype,YK(r))},XK=String,yl=function(r){try{return XK(r)}catch{return"Object"}},QK=En,JK=yl,qK=TypeError,Oo=function(r){if(QK(r))return r;throw new qK(JK(r)+" is not a function")},ZK=Oo,eY=Vd,RT=function(r,n){var a=r[n];return eY(a)?void 0:ZK(a)},FT=xn,OT=En,NT=Sn,tY=TypeError,qO={exports:{}},rY=!0,ZO=Lr,nY=Object.defineProperty,iY=Lr,oY=function(r,n){try{nY(ZO,r,{value:n,configurable:!0,writable:!0})}catch{ZO[r]=n}return n},e2="__core-js_shared__",t2=qO.exports=iY[e2]||oY(e2,{});(t2.versions||(t2.versions=[])).push({version:"3.38.1",mode:"pure",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"});var MT=qO.exports,r2=MT,zd=function(r,n){return r2[r]||(r2[r]=n||{})},aY=jd,sY=Object,La=function(r){return sY(aY(r))},uY=La,cY=Sr({}.hasOwnProperty),An=Object.hasOwn||function(r,n){return cY(uY(r),n)},lY=Sr,dY=0,fY=Math.random(),hY=lY(1 .toString),R_=function(r){return"Symbol("+(r===void 0?"":r)+")_"+hY(++dY+fY,36)},pY=zd,n2=An,gY=R_,mY=Gd,vY=JO,Hd=Lr.Symbol,LT=pY("wks"),_Y=vY?Hd.for||Hd:Hd&&Hd.withoutSetter||gY,Vr=function(r){return n2(LT,r)||(LT[r]=mY&&n2(Hd,r)?Hd[r]:_Y("Symbol."+r)),LT[r]},yY=xn,i2=Sn,o2=Op,SY=RT,bY=function(r,n){var a,s;if(n==="string"&&OT(a=r.toString)&&!NT(s=FT(a,r))||OT(a=r.valueOf)&&!NT(s=FT(a,r))||n!=="string"&&OT(a=r.toString)&&!NT(s=FT(a,r)))return s;throw new tY("Can't convert object to primitive value")},CY=TypeError,TY=Vr("toPrimitive"),IY=function(r,n){if(!i2(r)||o2(r))return r;var a,s=SY(r,TY);if(s){if(n===void 0&&(n="default"),a=yY(s,r,n),!i2(a)||o2(a))return a;throw new CY("Can't convert object to primitive value")}return n===void 0&&(n="number"),bY(r,n)},wY=Op,WT=function(r){var n=IY(r,"string");return wY(n)?n:n+""},a2=Sn,BT=Lr.document,EY=a2(BT)&&a2(BT.createElement),UT=function(r){return EY?BT.createElement(r):{}},xY=UT,s2=!ln&&!vr(function(){return Object.defineProperty(xY("div"),"a",{get:function(){return 7}}).a!==7}),AY=ln,PY=xn,kY=Rp,DY=ec,RY=Ma,FY=WT,OY=An,NY=s2,u2=Object.getOwnPropertyDescriptor;_l.f=AY?u2:function(r,n){if(r=RY(r),n=FY(n),NY)try{return u2(r,n)}catch{}if(OY(r,n))return DY(!PY(kY.f,r,n),r[n])};var MY=vr,LY=En,WY=/#|\.prototype\./,Np=function(r,n){var a=UY[BY(r)];return a===jY||a!==VY&&(LY(n)?MY(n):!!n)},BY=Np.normalize=function(r){return String(r).replace(WY,".").toLowerCase()},UY=Np.data={},VY=Np.NATIVE="N",jY=Np.POLYFILL="P",c2=Np,GY=Oo,zY=kp,HY=A_(A_.bind),uu=function(r,n){return GY(r),n===void 0?r:zY?HY(r,n):function(){return r.apply(n,arguments)}},fo={},l2=ln&&vr(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),$Y=Sn,KY=String,YY=TypeError,ji=function(r){if($Y(r))return r;throw new YY(KY(r)+" is not an object")},XY=ln,QY=s2,JY=l2,F_=ji,d2=WT,qY=TypeError,VT=Object.defineProperty,ZY=Object.getOwnPropertyDescriptor,jT="enumerable",GT="configurable",zT="writable";fo.f=XY?JY?function(r,n,a){if(F_(r),n=d2(n),F_(a),typeof r=="function"&&n==="prototype"&&"value"in a&&zT in a&&!a[zT]){var s=ZY(r,n);s&&s[zT]&&(r[n]=a.value,a={configurable:GT in a?a[GT]:s[GT],enumerable:jT in a?a[jT]:s[jT],writable:!1})}return VT(r,n,a)}:VT:function(r,n,a){if(F_(r),n=d2(n),F_(a),QY)try{return VT(r,n,a)}catch{}if("get"in a||"set"in a)throw new qY("Accessors not supported");return"value"in a&&(r[n]=a.value),r};var eX=fo,tX=ec,tc=ln?function(r,n,a){return eX.f(r,n,tX(1,a))}:function(r,n,a){return r[n]=a,r},Mp=Lr,rX=Dp,nX=A_,iX=En,oX=_l.f,aX=c2,$d=qr,sX=uu,Kd=tc,f2=An,uX=function(r){var n=function(a,s,u){if(this instanceof n){switch(arguments.length){case 0:return new r;case 1:return new r(a);case 2:return new r(a,s)}return new r(a,s,u)}return rX(r,this,arguments)};return n.prototype=r.prototype,n},wt=function(r,n){var a,s,u,d,l,h,m,_,S,y=r.target,b=r.global,I=r.stat,x=r.proto,D=b?Mp:I?Mp[y]:Mp[y]&&Mp[y].prototype,W=b?$d:$d[y]||Kd($d,y,{})[y],$=W.prototype;for(d in n)s=!(a=aX(b?d:y+(I?".":"#")+d,r.forced))&&D&&f2(D,d),h=W[d],s&&(m=r.dontCallGetSet?(S=oX(D,d))&&S.value:D[d]),l=s&&m?m:n[d],(a||x||R(h)!=R(l))&&(_=r.bind&&s?sX(l,Mp):r.wrap&&s?uX(l):x&&iX(l)?nX(l):l,(r.sham||l&&l.sham||h&&h.sham)&&Kd(_,"sham",!0),Kd(W,d,_),x&&(f2($d,u=y+"Prototype")||Kd($d,u,{}),Kd($d[u],d,l),r.real&&$&&(a||!$[d])&&Kd($,d,l)))},rc=Sr([].slice),h2=Sr,cX=Oo,lX=Sn,dX=An,p2=rc,fX=kp,g2=Function,hX=h2([].concat),pX=h2([].join),HT={},m2=fX?g2.bind:function(r){var n=cX(this),a=n.prototype,s=p2(arguments,1),u=function(){var d=hX(s,p2(arguments));return this instanceof u?function(l,h,m){if(!dX(HT,h)){for(var _=[],S=0;S<h;S++)_[S]="a["+S+"]";HT[h]=g2("C,a","return new C("+pX(_,",")+")")}return HT[h](l,m)}(n,d.length,d):n.apply(r,d)};return lX(a)&&(u.prototype=a),u},v2={};v2[Vr("toStringTag")]="z";var $T=String(v2)==="[object z]",gX=$T,mX=En,O_=su,vX=Vr("toStringTag"),_X=Object,yX=O_(function(){return arguments}())==="Arguments",Sl=gX?O_:function(r){var n,a,s;return r===void 0?"Undefined":r===null?"Null":typeof(a=function(u,d){try{return u[d]}catch{}}(n=_X(r),vX))=="string"?a:yX?O_(n):(s=O_(n))==="Object"&&mX(n.callee)?"Arguments":s},SX=En,KT=MT,bX=Sr(Function.toString);SX(KT.inspectSource)||(KT.inspectSource=function(r){return bX(r)});var _2=KT.inspectSource,CX=Sr,TX=vr,y2=En,IX=Sl,wX=_2,S2=function(){},b2=zn("Reflect","construct"),YT=/^\s*(?:class|function)\b/,EX=CX(YT.exec),xX=!YT.test(S2),Lp=function(r){if(!y2(r))return!1;try{return b2(S2,[],r),!0}catch{return!1}},C2=function(r){if(!y2(r))return!1;switch(IX(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return xX||!!EX(YT,wX(r))}catch{return!0}};C2.sham=!0;var N_=!b2||TX(function(){var r;return Lp(Lp.call)||!Lp(Object)||!Lp(function(){r=!0})||r})?C2:Lp,AX=N_,PX=yl,kX=TypeError,T2=function(r){if(AX(r))return r;throw new kX(PX(r)+" is not a constructor")},M_={},DX=Math.ceil,RX=Math.floor,FX=Math.trunc||function(r){var n=+r;return(n>0?RX:DX)(n)},Wp=function(r){var n=+r;return n!=n||n===0?0:FX(n)},OX=Wp,NX=Math.max,MX=Math.min,L_=function(r,n){var a=OX(r);return a<0?NX(a+n,0):MX(a,n)},LX=Wp,WX=Math.min,BX=function(r){var n=LX(r);return n>0?WX(n,9007199254740991):0},nc=function(r){return BX(r.length)},UX=Ma,VX=L_,jX=nc,I2=function(r){return function(n,a,s){var u=UX(n),d=jX(u);if(d===0)return!r&&-1;var l,h=VX(s,d);if(r&&a!=a){for(;d>h;)if((l=u[h++])!=l)return!0}else for(;d>h;h++)if((r||h in u)&&u[h]===a)return r||h||0;return!r&&-1}},XT={includes:I2(!0),indexOf:I2(!1)},Bp={},QT=An,GX=Ma,zX=XT.indexOf,HX=Bp,w2=Sr([].push),E2=function(r,n){var a,s=GX(r),u=0,d=[];for(a in s)!QT(HX,a)&&QT(s,a)&&w2(d,a);for(;n.length>u;)QT(s,a=n[u++])&&(~zX(d,a)||w2(d,a));return d},JT=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$X=E2,KX=JT,Up=Object.keys||function(r){return $X(r,KX)},YX=ln,XX=l2,QX=fo,JX=ji,qX=Ma,ZX=Up;M_.f=YX&&!XX?Object.defineProperties:function(r,n){JX(r);for(var a,s=qX(n),u=ZX(n),d=u.length,l=0;d>l;)QX.f(r,a=u[l++],s[a]);return r};var W_,x2=zn("document","documentElement"),eQ=R_,A2=zd("keys"),B_=function(r){return A2[r]||(A2[r]=eQ(r))},tQ=ji,rQ=M_,P2=JT,nQ=Bp,iQ=x2,oQ=UT,qT="prototype",ZT="script",k2=B_("IE_PROTO"),eI=function(){},D2=function(r){return"<"+ZT+">"+r+"</"+ZT+">"},R2=function(r){r.write(D2("")),r.close();var n=r.parentWindow.Object;return r=null,n},U_=function(){try{W_=new ActiveXObject("htmlfile")}catch{}var r,n,a;U_=typeof document<"u"?document.domain&&W_?R2(W_):(n=oQ("iframe"),a="java"+ZT+":",n.style.display="none",iQ.appendChild(n),n.src=String(a),(r=n.contentWindow.document).open(),r.write(D2("document.F=Object")),r.close(),r.F):R2(W_);for(var s=P2.length;s--;)delete U_[qT][P2[s]];return U_()};nQ[k2]=!0;var ic=Object.create||function(r,n){var a;return r!==null?(eI[qT]=tQ(r),a=new eI,eI[qT]=null,a[k2]=r):a=U_(),n===void 0?a:rQ.f(a,n)},aQ=wt,tI=Dp,sQ=m2,F2=T2,uQ=ji,O2=Sn,cQ=ic,N2=vr,rI=zn("Reflect","construct"),lQ=Object.prototype,dQ=[].push,M2=N2(function(){function r(){}return!(rI(function(){},[],r)instanceof r)}),L2=!N2(function(){rI(function(){})}),W2=M2||L2;aQ({target:"Reflect",stat:!0,forced:W2,sham:W2},{construct:function(r,n){F2(r),uQ(n);var a=arguments.length<3?r:F2(arguments[2]);if(L2&&!M2)return rI(r,n,a);if(r===a){switch(n.length){case 0:return new r;case 1:return new r(n[0]);case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[1],n[2]);case 4:return new r(n[0],n[1],n[2],n[3])}var s=[null];return tI(dQ,s,n),new(tI(sQ,r,s))}var u=a.prototype,d=cQ(O2(u)?u:lQ),l=tI(r,d,n);return O2(l)?l:d}});var V_=fe(qr.Reflect.construct),fQ=Sl,hQ=String,No=function(r){if(fQ(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return hQ(r)},Vp={},pQ=E2,gQ=JT.concat("length","prototype");Vp.f=Object.getOwnPropertyNames||function(r){return pQ(r,gQ)};var nI={},mQ=su,vQ=Ma,B2=Vp.f,_Q=rc,U2=(typeof window>"u"?"undefined":R(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];nI.f=function(r){return U2&&mQ(r)==="Window"?function(n){try{return B2(n)}catch{return _Q(U2)}}(r):B2(vQ(r))};var jp={};jp.f=Object.getOwnPropertySymbols;var yQ=tc,oc=function(r,n,a,s){return s&&s.enumerable?r[n]=a:yQ(r,n,a),r},SQ=fo,Gp=function(r,n,a){return SQ.f(r,n,a)},zp={},bQ=Vr;zp.f=bQ;var j_,Hp,G_,V2=qr,CQ=An,TQ=zp,IQ=fo.f,dn=function(r){var n=V2.Symbol||(V2.Symbol={});CQ(n,r)||IQ(n,r,{value:TQ.f(r)})},wQ=xn,EQ=zn,xQ=Vr,AQ=oc,j2=function(){var r=EQ("Symbol"),n=r&&r.prototype,a=n&&n.valueOf,s=xQ("toPrimitive");n&&!n[s]&&AQ(n,s,function(u){return wQ(a,this)},{arity:1})},PQ=Sl,kQ=$T?{}.toString:function(){return"[object "+PQ(this)+"]"},DQ=$T,RQ=fo.f,FQ=tc,OQ=An,NQ=kQ,G2=Vr("toStringTag"),Cs=function(r,n,a,s){var u=a?r:r&&r.prototype;u&&(OQ(u,G2)||RQ(u,G2,{configurable:!0,value:n}),s&&!DQ&&FQ(u,"toString",NQ))},MQ=En,z2=Lr.WeakMap,LQ=MQ(z2)&&/native code/.test(String(z2)),H2=Lr,WQ=Sn,BQ=tc,iI=An,oI=MT,UQ=B_,VQ=Bp,$2="Object already initialized",aI=H2.TypeError,jQ=H2.WeakMap;if(LQ||oI.state){var Ts=oI.state||(oI.state=new jQ);Ts.get=Ts.get,Ts.has=Ts.has,Ts.set=Ts.set,j_=function(r,n){if(Ts.has(r))throw new aI($2);return n.facade=r,Ts.set(r,n),n},Hp=function(r){return Ts.get(r)||{}},G_=function(r){return Ts.has(r)}}else{var Yd=UQ("state");VQ[Yd]=!0,j_=function(r,n){if(iI(r,Yd))throw new aI($2);return n.facade=r,BQ(r,Yd,n),n},Hp=function(r){return iI(r,Yd)?r[Yd]:{}},G_=function(r){return iI(r,Yd)}}var Is={set:j_,get:Hp,has:G_,enforce:function(r){return G_(r)?Hp(r):j_(r,{})},getterFor:function(r){return function(n){var a;if(!WQ(n)||(a=Hp(n)).type!==r)throw new aI("Incompatible receiver, "+r+" required");return a}}},GQ=su,bl=Array.isArray||function(r){return GQ(r)==="Array"},K2=bl,zQ=N_,HQ=Sn,$Q=Vr("species"),Y2=Array,KQ=function(r){var n;return K2(r)&&(n=r.constructor,(zQ(n)&&(n===Y2||K2(n.prototype))||HQ(n)&&(n=n[$Q])===null)&&(n=void 0)),n===void 0?Y2:n},sI=function(r,n){return new(KQ(r))(n===0?0:n)},YQ=uu,XQ=AT,QQ=La,JQ=nc,qQ=sI,X2=Sr([].push),ac=function(r){var n=r===1,a=r===2,s=r===3,u=r===4,d=r===6,l=r===7,h=r===5||d;return function(m,_,S,y){for(var b,I,x=QQ(m),D=XQ(x),W=JQ(D),$=YQ(_,S),te=0,q=y||qQ,X=n?q(m,W):a||l?q(m,0):void 0;W>te;te++)if((h||te in D)&&(I=$(b=D[te],te,x),r))if(n)X[te]=I;else if(I)switch(r){case 3:return!0;case 5:return b;case 6:return te;case 2:X2(X,b)}else switch(r){case 4:return!1;case 7:X2(X,b)}return d?-1:s||u?u:X}},Cl={forEach:ac(0),map:ac(1),filter:ac(2),some:ac(3),every:ac(4),find:ac(5),findIndex:ac(6),filterReject:ac(7)},z_=wt,$p=Lr,uI=xn,ZQ=Sr,Xd=ln,Qd=Gd,eJ=vr,qn=An,tJ=Hn,cI=ji,H_=Ma,lI=WT,rJ=No,dI=ec,Jd=ic,Q2=Up,nJ=Vp,J2=nI,iJ=jp,q2=_l,Z2=fo,oJ=M_,eN=Rp,tN=oc,aJ=Gp,fI=zd,rN=Bp,nN=R_,sJ=Vr,uJ=zp,cJ=dn,lJ=j2,dJ=Cs,iN=Is,$_=Cl.forEach,ho=B_("hidden"),K_="Symbol",Kp="prototype",fJ=iN.set,oN=iN.getterFor(K_),Wa=Object[Kp],Tl=$p.Symbol,Y_=Tl&&Tl[Kp],hJ=$p.RangeError,pJ=$p.TypeError,hI=$p.QObject,aN=q2.f,Il=Z2.f,sN=J2.f,gJ=eN.f,uN=ZQ([].push),cu=fI("symbols"),Yp=fI("op-symbols"),mJ=fI("wks"),pI=!hI||!hI[Kp]||!hI[Kp].findChild,cN=function(r,n,a){var s=aN(Wa,n);s&&delete Wa[n],Il(r,n,a),s&&r!==Wa&&Il(Wa,n,s)},gI=Xd&&eJ(function(){return Jd(Il({},"a",{get:function(){return Il(this,"a",{value:7}).a}})).a!==7})?cN:Il,mI=function(r,n){var a=cu[r]=Jd(Y_);return fJ(a,{type:K_,tag:r,description:n}),Xd||(a.description=n),a},X_=function(r,n,a){r===Wa&&X_(Yp,n,a),cI(r);var s=lI(n);return cI(a),qn(cu,s)?(a.enumerable?(qn(r,ho)&&r[ho][s]&&(r[ho][s]=!1),a=Jd(a,{enumerable:dI(0,!1)})):(qn(r,ho)||Il(r,ho,dI(1,Jd(null))),r[ho][s]=!0),gI(r,s,a)):Il(r,s,a)},vI=function(r,n){cI(r);var a=H_(n),s=Q2(a).concat(hN(a));return $_(s,function(u){Xd&&!uI(lN,a,u)||X_(r,u,a[u])}),r},lN=function(r){var n=lI(r),a=uI(gJ,this,n);return!(this===Wa&&qn(cu,n)&&!qn(Yp,n))&&(!(a||!qn(this,n)||!qn(cu,n)||qn(this,ho)&&this[ho][n])||a)},dN=function(r,n){var a=H_(r),s=lI(n);if(a!==Wa||!qn(cu,s)||qn(Yp,s)){var u=aN(a,s);return!u||!qn(cu,s)||qn(a,ho)&&a[ho][s]||(u.enumerable=!0),u}},fN=function(r){var n=sN(H_(r)),a=[];return $_(n,function(s){qn(cu,s)||qn(rN,s)||uN(a,s)}),a},hN=function(r){var n=r===Wa,a=sN(n?Yp:H_(r)),s=[];return $_(a,function(u){!qn(cu,u)||n&&!qn(Wa,u)||uN(s,cu[u])}),s};Qd||(Tl=function(){if(tJ(Y_,this))throw new pJ("Symbol is not a constructor");var r=arguments.length&&arguments[0]!==void 0?rJ(arguments[0]):void 0,n=nN(r),a=function(s){var u=this===void 0?$p:this;u===Wa&&uI(a,Yp,s),qn(u,ho)&&qn(u[ho],n)&&(u[ho][n]=!1);var d=dI(1,s);try{gI(u,n,d)}catch(l){if(!(l instanceof hJ))throw l;cN(u,n,d)}};return Xd&&pI&&gI(Wa,n,{configurable:!0,set:a}),mI(n,r)},tN(Y_=Tl[Kp],"toString",function(){return oN(this).tag}),tN(Tl,"withoutSetter",function(r){return mI(nN(r),r)}),eN.f=lN,Z2.f=X_,oJ.f=vI,q2.f=dN,nJ.f=J2.f=fN,iJ.f=hN,uJ.f=function(r){return mI(sJ(r),r)},Xd&&aJ(Y_,"description",{configurable:!0,get:function(){return oN(this).description}})),z_({global:!0,constructor:!0,wrap:!0,forced:!Qd,sham:!Qd},{Symbol:Tl}),$_(Q2(mJ),function(r){cJ(r)}),z_({target:K_,stat:!0,forced:!Qd},{useSetter:function(){pI=!0},useSimple:function(){pI=!1}}),z_({target:"Object",stat:!0,forced:!Qd,sham:!Xd},{create:function(r,n){return n===void 0?Jd(r):vI(Jd(r),n)},defineProperty:X_,defineProperties:vI,getOwnPropertyDescriptor:dN}),z_({target:"Object",stat:!0,forced:!Qd},{getOwnPropertyNames:fN}),lJ(),dJ(Tl,K_),rN[ho]=!0;var pN=Gd&&!!Symbol.for&&!!Symbol.keyFor,vJ=wt,_J=zn,yJ=An,SJ=No,gN=zd,bJ=pN,_I=gN("string-to-symbol-registry"),CJ=gN("symbol-to-string-registry");vJ({target:"Symbol",stat:!0,forced:!bJ},{for:function(r){var n=SJ(r);if(yJ(_I,n))return _I[n];var a=_J("Symbol")(n);return _I[n]=a,CJ[a]=n,a}});var TJ=wt,IJ=An,wJ=Op,EJ=yl,xJ=pN,mN=zd("symbol-to-string-registry");TJ({target:"Symbol",stat:!0,forced:!xJ},{keyFor:function(r){if(!wJ(r))throw new TypeError(EJ(r)+" is not a symbol");if(IJ(mN,r))return mN[r]}});var vN=bl,AJ=En,_N=su,PJ=No,yN=Sr([].push),kJ=wt,SN=zn,bN=Dp,DJ=xn,Xp=Sr,CN=vr,TN=En,IN=Op,wN=rc,RJ=function(r){if(AJ(r))return r;if(vN(r)){for(var n=r.length,a=[],s=0;s<n;s++){var u=r[s];typeof u=="string"?yN(a,u):typeof u!="number"&&_N(u)!=="Number"&&_N(u)!=="String"||yN(a,PJ(u))}var d=a.length,l=!0;return function(h,m){if(l)return l=!1,m;if(vN(this))return m;for(var _=0;_<d;_++)if(a[_]===h)return m}}},FJ=Gd,OJ=String,sc=SN("JSON","stringify"),Q_=Xp(/./.exec),EN=Xp("".charAt),NJ=Xp("".charCodeAt),MJ=Xp("".replace),LJ=Xp(1 .toString),WJ=/[\uD800-\uDFFF]/g,xN=/^[\uD800-\uDBFF]$/,AN=/^[\uDC00-\uDFFF]$/,PN=!FJ||CN(function(){var r=SN("Symbol")("stringify detection");return sc([r])!=="[null]"||sc({a:r})!=="{}"||sc(Object(r))!=="{}"}),kN=CN(function(){return sc("\uDF06\uD834")!=='"\\udf06\\ud834"'||sc("\uDEAD")!=='"\\udead"'}),BJ=function(r,n){var a=wN(arguments),s=RJ(n);if(TN(s)||r!==void 0&&!IN(r))return a[1]=function(u,d){if(TN(s)&&(d=DJ(s,this,OJ(u),d)),!IN(d))return d},bN(sc,null,a)},UJ=function(r,n,a){var s=EN(a,n-1),u=EN(a,n+1);return Q_(xN,r)&&!Q_(AN,u)||Q_(AN,r)&&!Q_(xN,s)?"\\u"+LJ(NJ(r,0),16):r};sc&&kJ({target:"JSON",stat:!0,arity:3,forced:PN||kN},{stringify:function(r,n,a){var s=wN(arguments),u=bN(PN?BJ:sc,null,s);return kN&&typeof u=="string"?MJ(u,WJ,UJ):u}});var DN=jp,VJ=La;wt({target:"Object",stat:!0,forced:!Gd||vr(function(){DN.f(1)})},{getOwnPropertySymbols:function(r){var n=DN.f;return n?n(VJ(r)):[]}});var RN=fe(qr.Object.getOwnPropertySymbols),FN={exports:{}},jJ=wt,GJ=vr,zJ=Ma,ON=_l.f,NN=ln;jJ({target:"Object",stat:!0,forced:!NN||GJ(function(){ON(1)}),sham:!NN},{getOwnPropertyDescriptor:function(r,n){return ON(zJ(r),n)}});var MN=qr.Object,HJ=FN.exports=function(r,n){return MN.getOwnPropertyDescriptor(r,n)};MN.getOwnPropertyDescriptor.sham&&(HJ.sham=!0);var LN=FN.exports,WN=fe(LN),$J=zn,KJ=Vp,YJ=jp,XJ=ji,QJ=Sr([].concat),BN=$J("Reflect","ownKeys")||function(r){var n=KJ.f(XJ(r)),a=YJ.f;return a?QJ(n,a(r)):n},JJ=ln,qJ=fo,ZJ=ec,Qp=function(r,n,a){JJ?qJ.f(r,n,ZJ(0,a)):r[n]=a},eq=BN,tq=Ma,rq=_l,nq=Qp;wt({target:"Object",stat:!0,sham:!ln},{getOwnPropertyDescriptors:function(r){for(var n,a,s=tq(r),u=rq.f,d=eq(s),l={},h=0;d.length>h;)(a=u(s,n=d[h++]))!==void 0&&nq(l,n,a);return l}});var UN=fe(qr.Object.getOwnPropertyDescriptors),VN={exports:{}},iq=wt,oq=ln,jN=M_.f;iq({target:"Object",stat:!0,forced:Object.defineProperties!==jN,sham:!oq},{defineProperties:jN});var GN=qr.Object,aq=VN.exports=function(r,n){return GN.defineProperties(r,n)};GN.defineProperties.sham&&(aq.sham=!0);var sq=fe(VN.exports),zN=!vr(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),uq=An,cq=En,lq=La,dq=zN,HN=B_("IE_PROTO"),yI=Object,fq=yI.prototype,qd=dq?yI.getPrototypeOf:function(r){var n=lq(r);if(uq(n,HN))return n[HN];var a=n.constructor;return cq(a)&&n instanceof a?a.prototype:n instanceof yI?fq:null},hq=Sr,pq=Oo,gq=Sn,mq=function(r){return gq(r)||r===null},vq=String,_q=TypeError,yq=function(r,n,a){try{return hq(pq(Object.getOwnPropertyDescriptor(r,n)[a]))}catch{}},Sq=Sn,bq=jd,Cq=function(r){if(mq(r))return r;throw new _q("Can't set "+vq(r)+" as a prototype")},$N=Object.setPrototypeOf||("__proto__"in{}?function(){var r,n=!1,a={};try{(r=yq(Object.prototype,"__proto__","set"))(a,[]),n=a instanceof Array}catch{}return function(s,u){return bq(s),Cq(u),Sq(s)&&(n?r(s,u):s.__proto__=u),s}}():void 0),KN=An,Tq=BN,Iq=_l,wq=fo,Eq=Sn,xq=tc,YN=Error,Aq=Sr("".replace),Pq=String(new YN("zxcasd").stack),XN=/\n\s*at [^:]*:[^\n]*/,kq=XN.test(Pq),Dq=ec,Rq=!vr(function(){var r=new Error("a");return!("stack"in r)||(Object.defineProperty(r,"stack",Dq(1,7)),r.stack!==7)}),Fq=tc,Oq=function(r,n){if(kq&&typeof r=="string"&&!YN.prepareStackTrace)for(;n--;)r=Aq(r,XN,"");return r},Nq=Rq,QN=Error.captureStackTrace,Zd={},Mq=Zd,Lq=Vr("iterator"),Wq=Array.prototype,JN=function(r){return r!==void 0&&(Mq.Array===r||Wq[Lq]===r)},Bq=Sl,qN=RT,Uq=Vd,Vq=Zd,jq=Vr("iterator"),Jp=function(r){if(!Uq(r))return qN(r,jq)||qN(r,"@@iterator")||Vq[Bq(r)]},Gq=xn,zq=Oo,Hq=ji,$q=yl,Kq=Jp,Yq=TypeError,SI=function(r,n){var a=arguments.length<2?Kq(r):n;if(zq(a))return Hq(Gq(a,r));throw new Yq($q(r)+" is not iterable")},Xq=xn,ZN=ji,Qq=RT,J_=function(r,n,a){var s,u;ZN(r);try{if(!(s=Qq(r,"return"))){if(n==="throw")throw a;return a}s=Xq(s,r)}catch(d){u=!0,s=d}if(n==="throw")throw a;if(u)throw s;return ZN(s),a},Jq=uu,qq=xn,Zq=ji,eZ=yl,tZ=JN,rZ=nc,eM=Hn,nZ=SI,iZ=Jp,tM=J_,oZ=TypeError,q_=function(r,n){this.stopped=r,this.result=n},rM=q_.prototype,wl=function(r,n,a){var s,u,d,l,h,m,_,S=a&&a.that,y=!(!a||!a.AS_ENTRIES),b=!(!a||!a.IS_RECORD),I=!(!a||!a.IS_ITERATOR),x=!(!a||!a.INTERRUPTED),D=Jq(n,S),W=function(te){return s&&tM(s,"normal",te),new q_(!0,te)},$=function(te){return y?(Zq(te),x?D(te[0],te[1],W):D(te[0],te[1])):x?D(te,W):D(te)};if(b)s=r.iterator;else if(I)s=r;else{if(!(u=iZ(r)))throw new oZ(eZ(r)+" is not iterable");if(tZ(u)){for(d=0,l=rZ(r);l>d;d++)if((h=$(r[d]))&&eM(rM,h))return h;return new q_(!1)}s=nZ(r,u)}for(m=b?r.next:s.next;!(_=qq(m,s)).done;){try{h=$(_.value)}catch(te){tM(s,"throw",te)}if(R(h)=="object"&&h&&eM(rM,h))return h}return new q_(!1)},aZ=No,sZ=wt,uZ=Hn,cZ=qd,Z_=$N,lZ=function(r,n,a){for(var s=Tq(n),u=wq.f,d=Iq.f,l=0;l<s.length;l++){var h=s[l];KN(r,h)||a&&KN(a,h)||u(r,h,d(n,h))}},nM=ic,bI=tc,CI=ec,dZ=function(r,n){Eq(n)&&"cause"in n&&xq(r,"cause",n.cause)},fZ=function(r,n,a,s){Nq&&(QN?QN(r,n):Fq(r,"stack",Oq(a,s)))},hZ=wl,pZ=function(r,n){return r===void 0?arguments.length<2?"":n:aZ(r)},gZ=Vr("toStringTag"),e0=Error,mZ=[].push,ef=function(r,n){var a,s=uZ(TI,this);Z_?a=Z_(new e0,s?cZ(this):TI):(a=s?this:nM(TI),bI(a,gZ,"Error")),n!==void 0&&bI(a,"message",pZ(n)),fZ(a,ef,a.stack,1),arguments.length>2&&dZ(a,arguments[2]);var u=[];return hZ(r,mZ,{that:u}),bI(a,"errors",u),a};Z_?Z_(ef,e0):lZ(ef,e0,{name:!0});var TI=ef.prototype=nM(e0.prototype,{constructor:CI(1,ef),message:CI(1,""),name:CI(1,"AggregateError")});sZ({global:!0,constructor:!0,arity:2},{AggregateError:ef});var El,iM,oM,II=ln,vZ=An,aM=Function.prototype,_Z=II&&Object.getOwnPropertyDescriptor,wI=vZ(aM,"name"),yZ={EXISTS:wI,PROPER:wI&&(function(){}).name==="something",CONFIGURABLE:wI&&(!II||II&&_Z(aM,"name").configurable)},SZ=vr,bZ=En,CZ=Sn,TZ=ic,sM=qd,IZ=oc,EI=Vr("iterator"),uM=!1;[].keys&&("next"in(oM=[].keys())?(iM=sM(sM(oM)))!==Object.prototype&&(El=iM):uM=!0);var wZ=!CZ(El)||SZ(function(){var r={};return El[EI].call(r)!==r});bZ((El=wZ?{}:TZ(El))[EI])||IZ(El,EI,function(){return this});var cM={IteratorPrototype:El,BUGGY_SAFARI_ITERATORS:uM},EZ=cM.IteratorPrototype,xZ=ic,AZ=ec,PZ=Cs,kZ=Zd,DZ=function(){return this},lM=function(r,n,a,s){var u=n+" Iterator";return r.prototype=xZ(EZ,{next:AZ(+!s,a)}),PZ(r,u,!1,!0),kZ[u]=DZ,r},RZ=wt,FZ=xn,OZ=lM,NZ=qd,MZ=Cs,dM=oc,fM=Zd,LZ=yZ.PROPER,t0=cM.BUGGY_SAFARI_ITERATORS,xI=Vr("iterator"),hM="keys",r0="values",pM="entries",WZ=function(){return this},AI=function(r,n,a,s,u,d,l){OZ(a,n,s);var h,m,_,S=function($){if($===u&&D)return D;if(!t0&&$&&$ in I)return I[$];switch($){case hM:case r0:case pM:return function(){return new a(this,$)}}return function(){return new a(this)}},y=n+" Iterator",b=!1,I=r.prototype,x=I[xI]||I["@@iterator"]||u&&I[u],D=!t0&&x||S(u),W=n==="Array"&&I.entries||x;if(W&&(h=NZ(W.call(new r)))!==Object.prototype&&h.next&&(MZ(h,y,!0,!0),fM[y]=WZ),LZ&&u===r0&&x&&x.name!==r0&&(b=!0,D=function(){return FZ(x,this)}),u)if(m={values:S(r0),keys:d?D:S(hM),entries:S(pM)},l)for(_ in m)(t0||b||!(_ in I))&&dM(I,_,m[_]);else RZ({target:n,proto:!0,forced:t0||b},m);return l&&I[xI]!==D&&dM(I,xI,D,{name:u}),fM[n]=D,m},n0=function(r,n){return{value:r,done:n}},BZ=Ma,gM=Zd,mM=Is;fo.f;var UZ=AI,i0=n0,vM="Array Iterator",VZ=mM.set,jZ=mM.getterFor(vM);UZ(Array,"Array",function(r,n){VZ(this,{type:vM,target:BZ(r),index:0,kind:n})},function(){var r=jZ(this),n=r.target,a=r.index++;if(!n||a>=n.length)return r.target=null,i0(void 0,!0);switch(r.kind){case"keys":return i0(a,!1);case"values":return i0(n[a],!1)}return i0([a,n[a]],!1)},"values"),gM.Arguments=gM.Array;var qp,tf,_M,PI,Zp=Lr,GZ=Fp,zZ=su,o0=function(r){return GZ.slice(0,r.length)===r},yM=o0("Bun/")?"BUN":o0("Cloudflare-Workers")?"CLOUDFLARE":o0("Deno/")?"DENO":o0("Node.js/")?"NODE":Zp.Bun&&typeof Bun.version=="string"?"BUN":Zp.Deno&&R(Deno.version)=="object"?"DENO":zZ(Zp.process)==="process"?"NODE":Zp.window&&Zp.document?"BROWSER":"REST",kI=yM==="NODE",HZ=zn,$Z=Gp,KZ=ln,SM=Vr("species"),bM=function(r){var n=HZ(r);KZ&&n&&!n[SM]&&$Z(n,SM,{configurable:!0,get:function(){return this}})},YZ=Hn,XZ=TypeError,eg=function(r,n){if(YZ(n,r))return r;throw new XZ("Incorrect invocation")},CM=ji,QZ=T2,JZ=Vd,qZ=Vr("species"),TM=function(r,n){var a,s=CM(r).constructor;return s===void 0||JZ(a=CM(s)[qZ])?n:QZ(a)},ZZ=TypeError,tg=function(r,n){if(r<n)throw new ZZ("Not enough arguments");return r},IM=/(?:ipad|iphone|ipod).*applewebkit/i.test(Fp),Mo=Lr,eee=Dp,tee=uu,wM=En,ree=An,EM=vr,xM=x2,nee=rc,AM=UT,iee=tg,oee=IM,aee=kI,DI=Mo.setImmediate,RI=Mo.clearImmediate,see=Mo.process,FI=Mo.Dispatch,uee=Mo.Function,PM=Mo.MessageChannel,cee=Mo.String,OI=0,rg={},kM="onreadystatechange";EM(function(){qp=Mo.location});var NI=function(r){if(ree(rg,r)){var n=rg[r];delete rg[r],n()}},MI=function(r){return function(){NI(r)}},DM=function(r){NI(r.data)},RM=function(r){Mo.postMessage(cee(r),qp.protocol+"//"+qp.host)};DI&&RI||(DI=function(r){iee(arguments.length,1);var n=wM(r)?r:uee(r),a=nee(arguments,1);return rg[++OI]=function(){eee(n,void 0,a)},tf(OI),OI},RI=function(r){delete rg[r]},aee?tf=function(r){see.nextTick(MI(r))}:FI&&FI.now?tf=function(r){FI.now(MI(r))}:PM&&!oee?(PI=(_M=new PM).port2,_M.port1.onmessage=DM,tf=tee(PI.postMessage,PI)):Mo.addEventListener&&wM(Mo.postMessage)&&!Mo.importScripts&&qp&&qp.protocol!=="file:"&&!EM(RM)?(tf=RM,Mo.addEventListener("message",DM,!1)):tf=kM in AM("script")?function(r){xM.appendChild(AM("script"))[kM]=function(){xM.removeChild(this),NI(r)}}:function(r){setTimeout(MI(r),0)});var FM={set:DI,clear:RI},OM=Lr,lee=ln,dee=Object.getOwnPropertyDescriptor,NM=function(r){if(!lee)return OM[r];var n=dee(OM,r);return n&&n.value},MM=function(){this.head=null,this.tail=null};MM.prototype={add:function(r){var n={item:r,next:null},a=this.tail;a?a.next=n:this.head=n,this.tail=n},get:function(){var r=this.head;if(r)return(this.head=r.next)===null&&(this.tail=null),r.item}};var rf,LI,WI,BI,LM,WM=MM,fee=/ipad|iphone|ipod/i.test(Fp)&&typeof Pebble<"u",hee=/web0s(?!.*chrome)/i.test(Fp),nf=Lr,pee=NM,BM=uu,UI=FM.set,gee=WM,mee=IM,vee=fee,_ee=hee,VI=kI,UM=nf.MutationObserver||nf.WebKitMutationObserver,VM=nf.document,jM=nf.process,a0=nf.Promise,jI=pee("queueMicrotask");if(!jI){var s0=new gee,u0=function(){var r,n;for(VI&&(r=jM.domain)&&r.exit();n=s0.get();)try{n()}catch(a){throw s0.head&&rf(),a}r&&r.enter()};mee||VI||_ee||!UM||!VM?!vee&&a0&&a0.resolve?((BI=a0.resolve(void 0)).constructor=a0,LM=BM(BI.then,BI),rf=function(){LM(u0)}):VI?rf=function(){jM.nextTick(u0)}:(UI=BM(UI,nf),rf=function(){UI(u0)}):(LI=!0,WI=VM.createTextNode(""),new UM(u0).observe(WI,{characterData:!0}),rf=function(){WI.data=LI=!LI}),jI=function(r){s0.head||rf(),s0.add(r)}}var yee=jI,of=function(r){try{return{error:!1,value:r()}}catch(n){return{error:!0,value:n}}},xl=Lr.Promise,See=Lr,ng=xl,bee=En,Cee=c2,Tee=_2,Iee=Vr,GM=yM,GI=D_,zM=ng&&ng.prototype,wee=Iee("species"),HM=!1,$M=bee(See.PromiseRejectionEvent),Eee=Cee("Promise",function(){var r=Tee(ng),n=r!==String(ng);if(!n&&GI===66||!zM.catch||!zM.finally)return!0;if(!GI||GI<51||!/native code/.test(r)){var a=new ng(function(u){u(1)}),s=function(u){u(function(){},function(){})};if((a.constructor={})[wee]=s,!(HM=a.then(function(){})instanceof s))return!0}return!(n||GM!=="BROWSER"&&GM!=="DENO"||$M)}),af={CONSTRUCTOR:Eee,REJECTION_EVENT:$M,SUBCLASSING:HM},ws={},KM=Oo,xee=TypeError,Aee=function(r){var n,a;this.promise=new r(function(s,u){if(n!==void 0||a!==void 0)throw new xee("Bad Promise constructor");n=s,a=u}),this.resolve=KM(n),this.reject=KM(a)};ws.f=function(r){return new Aee(r)};var zI,YM,Pee=wt,c0=kI,uc=Lr,ig=xn,kee=oc,Dee=Cs,Ree=bM,Fee=Oo,HI=En,Oee=Sn,Nee=eg,Mee=TM,XM=FM.set,$I=yee,Lee=function(r,n){},Wee=of,Bee=WM,QM=Is,KI=xl,JM=ws,l0="Promise",qM=af.CONSTRUCTOR,Uee=af.REJECTION_EVENT,YI=QM.getterFor(l0),Vee=QM.set,jee=KI&&KI.prototype,og=KI,XI=jee,ZM=uc.TypeError,QI=uc.document,JI=uc.process,qI=JM.f,Gee=qI,zee=!!(QI&&QI.createEvent&&uc.dispatchEvent),eL="unhandledrejection",tL=function(r){var n;return!(!Oee(r)||!HI(n=r.then))&&n},rL=function(r,n){var a,s,u,d=n.value,l=n.state===1,h=l?r.ok:r.fail,m=r.resolve,_=r.reject,S=r.domain;try{h?(l||(n.rejection===2&&$ee(n),n.rejection=1),h===!0?a=d:(S&&S.enter(),a=h(d),S&&(S.exit(),u=!0)),a===r.promise?_(new ZM("Promise-chain cycle")):(s=tL(a))?ig(s,a,m,_):m(a)):_(d)}catch(y){S&&!u&&S.exit(),_(y)}},nL=function(r,n){r.notified||(r.notified=!0,$I(function(){for(var a,s=r.reactions;a=s.get();)rL(a,r);r.notified=!1,n&&!r.rejection&&Hee(r)}))},iL=function(r,n,a){var s,u;zee?((s=QI.createEvent("Event")).promise=n,s.reason=a,s.initEvent(r,!1,!0),uc.dispatchEvent(s)):s={promise:n,reason:a},!Uee&&(u=uc["on"+r])?u(s):r===eL&&Lee()},Hee=function(r){ig(XM,uc,function(){var n,a=r.facade,s=r.value;if(oL(r)&&(n=Wee(function(){c0?JI.emit("unhandledRejection",s,a):iL(eL,a,s)}),r.rejection=c0||oL(r)?2:1,n.error))throw n.value})},oL=function(r){return r.rejection!==1&&!r.parent},$ee=function(r){ig(XM,uc,function(){var n=r.facade;c0?JI.emit("rejectionHandled",n):iL("rejectionhandled",n,r.value)})},sf=function(r,n,a){return function(s){r(n,s,a)}},uf=function(r,n,a){r.done||(r.done=!0,a&&(r=a),r.value=n,r.state=2,nL(r,!0))},ZI=function(r,n,a){if(!r.done){r.done=!0,a&&(r=a);try{if(r.facade===n)throw new ZM("Promise can't be resolved itself");var s=tL(n);s?$I(function(){var u={done:!1};try{ig(s,n,sf(ZI,u,r),sf(uf,u,r))}catch(d){uf(u,d,r)}}):(r.value=n,r.state=1,nL(r,!1))}catch(u){uf({done:!1},u,r)}}};qM&&(XI=(og=function(r){Nee(this,XI),Fee(r),ig(zI,this);var n=YI(this);try{r(sf(ZI,n),sf(uf,n))}catch(a){uf(n,a)}}).prototype,(zI=function(r){Vee(this,{type:l0,done:!1,notified:!1,parent:!1,reactions:new Bee,rejection:!1,state:0,value:null})}).prototype=kee(XI,"then",function(r,n){var a=YI(this),s=qI(Mee(this,og));return a.parent=!0,s.ok=!HI(r)||r,s.fail=HI(n)&&n,s.domain=c0?JI.domain:void 0,a.state===0?a.reactions.add(s):$I(function(){rL(s,a)}),s.promise}),YM=function(){var r=new zI,n=YI(r);this.promise=r,this.resolve=sf(ZI,n),this.reject=sf(uf,n)},JM.f=qI=function(r){return r===og||r===void 0?new YM(r):Gee(r)}),Pee({global:!0,constructor:!0,wrap:!0,forced:qM},{Promise:og}),Dee(og,l0,!1,!0),Ree(l0);var aL=Vr("iterator"),sL=!1;try{var Kee=0,uL={next:function(){return{done:!!Kee++}},return:function(){sL=!0}};uL[aL]=function(){return this},Array.from(uL,function(){throw 2})}catch{}var cL=function(r,n){try{if(!n&&!sL)return!1}catch{return!1}var a=!1;try{var s={};s[aL]=function(){return{next:function(){return{done:a=!0}}}},r(s)}catch{}return a},Yee=xl,d0=af.CONSTRUCTOR||!cL(function(r){Yee.all(r).then(void 0,function(){})}),Xee=xn,Qee=Oo,Jee=ws,qee=of,Zee=wl;wt({target:"Promise",stat:!0,forced:d0},{all:function(r){var n=this,a=Jee.f(n),s=a.resolve,u=a.reject,d=qee(function(){var l=Qee(n.resolve),h=[],m=0,_=1;Zee(r,function(S){var y=m++,b=!1;_++,Xee(l,n,S).then(function(I){b||(b=!0,h[y]=I,--_||s(h))},u)}),--_||s(h)});return d.error&&u(d.value),a.promise}});var ete=wt,tte=af.CONSTRUCTOR;xl&&xl.prototype,ete({target:"Promise",proto:!0,forced:tte,real:!0},{catch:function(r){return this.then(void 0,r)}});var rte=xn,nte=Oo,ite=ws,ote=of,ate=wl;wt({target:"Promise",stat:!0,forced:d0},{race:function(r){var n=this,a=ite.f(n),s=a.reject,u=ote(function(){var d=nte(n.resolve);ate(r,function(l){rte(d,n,l).then(a.resolve,s)})});return u.error&&s(u.value),a.promise}});var ste=ws;wt({target:"Promise",stat:!0,forced:af.CONSTRUCTOR},{reject:function(r){var n=ste.f(this);return(0,n.reject)(r),n.promise}});var ute=ji,cte=Sn,lte=ws,lL=function(r,n){if(ute(r),cte(n)&&n.constructor===r)return n;var a=lte.f(r);return(0,a.resolve)(n),a.promise},dte=wt,fte=xl,hte=af.CONSTRUCTOR,pte=lL,gte=zn("Promise"),mte=!hte;dte({target:"Promise",stat:!0,forced:!0},{resolve:function(r){return pte(mte&&this===gte?fte:this,r)}});var vte=xn,_te=Oo,yte=ws,Ste=of,bte=wl;wt({target:"Promise",stat:!0,forced:d0},{allSettled:function(r){var n=this,a=yte.f(n),s=a.resolve,u=a.reject,d=Ste(function(){var l=_te(n.resolve),h=[],m=0,_=1;bte(r,function(S){var y=m++,b=!1;_++,vte(l,n,S).then(function(I){b||(b=!0,h[y]={status:"fulfilled",value:I},--_||s(h))},function(I){b||(b=!0,h[y]={status:"rejected",reason:I},--_||s(h))})}),--_||s(h)});return d.error&&u(d.value),a.promise}});var Cte=xn,Tte=Oo,Ite=zn,wte=ws,Ete=of,xte=wl,dL="No one promise resolved";wt({target:"Promise",stat:!0,forced:d0},{any:function(r){var n=this,a=Ite("AggregateError"),s=wte.f(n),u=s.resolve,d=s.reject,l=Ete(function(){var h=Tte(n.resolve),m=[],_=0,S=1,y=!1;xte(r,function(b){var I=_++,x=!1;S++,Cte(h,n,b).then(function(D){x||y||(y=!0,u(D))},function(D){x||y||(x=!0,m[I]=D,--S||d(new a(m,dL)))})}),--S||d(new a(m,dL))});return l.error&&d(l.value),s.promise}});var Ate=ws;wt({target:"Promise",stat:!0},{withResolvers:function(){var r=Ate.f(this);return{promise:r.promise,resolve:r.resolve,reject:r.reject}}});var Pte=wt,ew=xl,kte=vr,Dte=zn,Rte=En,Fte=TM,fL=lL,Ote=ew&&ew.prototype;Pte({target:"Promise",proto:!0,real:!0,forced:!!ew&&kte(function(){Ote.finally.call({then:function(){}},function(){})})},{finally:function(r){var n=Fte(this,Dte("Promise")),a=Rte(r);return this.then(a?function(s){return fL(n,r()).then(function(){return s})}:r,a?function(s){return fL(n,r()).then(function(){throw s})}:r)}});var tw=Sr,Nte=Wp,Mte=No,Lte=jd,Wte=tw("".charAt),hL=tw("".charCodeAt),Bte=tw("".slice),pL=function(r){return function(n,a){var s,u,d=Mte(Lte(n)),l=Nte(a),h=d.length;return l<0||l>=h?r?"":void 0:(s=hL(d,l))<55296||s>56319||l+1===h||(u=hL(d,l+1))<56320||u>57343?r?Wte(d,l):s:r?Bte(d,l,l+2):u-56320+(s-55296<<10)+65536}},gL={codeAt:pL(!1),charAt:pL(!0)},Ute=gL.charAt,Vte=No,mL=Is,jte=AI,vL=n0,_L="String Iterator",Gte=mL.set,zte=mL.getterFor(_L);jte(String,"String",function(r){Gte(this,{type:_L,string:Vte(r),index:0})},function(){var r,n=zte(this),a=n.string,s=n.index;return s>=a.length?vL(void 0,!0):(r=Ute(a,s),n.index+=r.length,vL(r,!1))});var Hte=qr.Promise,$te={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Kte=Lr,Yte=Cs,yL=Zd;for(var rw in $te)Yte(Kte[rw],rw),yL[rw]=yL.Array;var SL=Hte,Xte=wt,Qte=Dp,Jte=rc,qte=ws,Zte=Oo,bL=of,nw=Lr.Promise,CL=!1;Xte({target:"Promise",stat:!0,forced:!nw||!nw.try||bL(function(){nw.try(function(r){CL=r===8},8)}).error||!CL},{try:function(r){var n=arguments.length>1?Jte(arguments,1):[],a=qte.f(this),s=bL(function(){return Qte(Zte(r),void 0,n)});return(s.error?a.reject:a.resolve)(s.value),a.promise}});var TL=SL,IL=fe(TL);function wL(r,n,a,s,u,d,l){try{var h=r[d](l),m=h.value}catch(_){return void a(_)}h.done?n(m):IL.resolve(m).then(s,u)}function EL(r){return function(){var n=this,a=arguments;return new IL(function(s,u){var d=r.apply(n,a);function l(m){wL(d,s,u,l,h,"next",m)}function h(m){wL(d,s,u,l,h,"throw",m)}l(void 0)})}}function Zr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var xL=An,ere=xn,tre=Sn,rre=ji,nre=function(r){return r!==void 0&&(xL(r,"value")||xL(r,"writable"))},ire=_l,ore=qd;wt({target:"Reflect",stat:!0},{get:function r(n,a){var s,u,d=arguments.length<3?n:arguments[2];return rre(n)===d?n[a]:(s=ire.f(n,a))?nre(s)?s.value:s.get===void 0?void 0:ere(s.get,d):tre(u=ore(n))?r(u,a,d):void 0}});var AL=fe(qr.Reflect.get),PL=m2;wt({target:"Function",proto:!0,forced:Function.bind!==PL},{bind:PL});var are=Lr,sre=qr,Gi=function(r,n){var a=sre[r+"Prototype"],s=a&&a[n];if(s)return s;var u=are[r],d=u&&u.prototype;return d&&d[n]},ure=Gi("Function","bind"),cre=Hn,lre=ure,iw=Function.prototype,dre=function(r){var n=r.bind;return r===iw||cre(iw,r)&&n===iw.bind?lre:n},ow=fe(dre),fre=fe(LN);wt({target:"Object",stat:!0},{setPrototypeOf:$N});var kL=qr.Object.setPrototypeOf,aw=fe(kL),hre=La,DL=qd,pre=zN;wt({target:"Object",stat:!0,forced:vr(function(){DL(1)}),sham:!pre},{getPrototypeOf:function(r){return DL(hre(r))}});var RL=qr.Object.getPrototypeOf,FL=fe(RL);function cf(r){var n;return cf=aw?ow(n=FL).call(n):function(a){return a.__proto__||FL(a)},cf(r)}function sw(){var r;return sw=typeof Reflect<"u"&&AL?ow(r=AL).call(r):function(n,a,s){var u=function(l,h){for(;!{}.hasOwnProperty.call(l,h)&&(l=cf(l))!==null;);return l}(n,a);if(u){var d=fre(u,a);return d.get?d.get.call(arguments.length<3?n:s):d.value}},sw.apply(null,arguments)}wt({target:"Object",stat:!0,sham:!ln},{create:ic});var gre=qr.Object,OL=function(r,n){return gre.create(r,n)},mre=fe(OL),NL={exports:{}},vre=wt,_re=ln,ML=fo.f;vre({target:"Object",stat:!0,forced:Object.defineProperty!==ML,sham:!_re},{defineProperty:ML});var LL=qr.Object,yre=NL.exports=function(r,n,a){return LL.defineProperty(r,n,a)};LL.defineProperty.sham&&(yre.sham=!0);var WL=NL.exports,BL=WL,f0=fe(BL);function uw(r,n){var a;return uw=aw?ow(a=aw).call(a):function(s,u){return s.__proto__=u,s},uw(r,n)}function h0(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=mre(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),f0(r,"prototype",{writable:!1}),n&&uw(r,n)}var Sre=TypeError,cw=function(r){if(r>9007199254740991)throw Sre("Maximum allowed index exceeded");return r},bre=vr,Cre=D_,Tre=Vr("species"),ag=function(r){return Cre>=51||!bre(function(){var n=[];return(n.constructor={})[Tre]=function(){return{foo:1}},n[r](Boolean).foo!==1})},Ire=wt,wre=vr,Ere=bl,xre=Sn,Are=La,Pre=nc,UL=cw,VL=Qp,kre=sI,Dre=ag,Rre=D_,jL=Vr("isConcatSpreadable"),Fre=Rre>=51||!wre(function(){var r=[];return r[jL]=!1,r.concat()[0]!==r}),Ore=function(r){if(!xre(r))return!1;var n=r[jL];return n!==void 0?!!n:Ere(r)};Ire({target:"Array",proto:!0,arity:1,forced:!Fre||!Dre("concat")},{concat:function(r){var n,a,s,u,d,l=Are(this),h=kre(l,0),m=0;for(n=-1,s=arguments.length;n<s;n++)if(Ore(d=n===-1?l:arguments[n]))for(u=Pre(d),UL(m+u),a=0;a<u;a++,m++)a in d&&VL(h,m,d[a]);else UL(m+1),VL(h,m++,d);return h.length=m,h}}),dn("asyncIterator"),dn("hasInstance"),dn("isConcatSpreadable"),dn("iterator"),dn("match"),dn("matchAll"),dn("replace"),dn("search"),dn("species"),dn("split");var Nre=j2;dn("toPrimitive"),Nre();var Mre=zn,Lre=Cs;dn("toStringTag"),Lre(Mre("Symbol"),"Symbol"),dn("unscopables"),Cs(Lr.JSON,"JSON",!0);var Wre=qr.Symbol,Bre=Vr,Ure=fo.f,GL=Bre("metadata"),zL=Function.prototype;zL[GL]===void 0&&Ure(zL,GL,{value:null}),dn("asyncDispose"),dn("dispose"),dn("metadata");var Vre=Wre,jre=Sr,lw=zn("Symbol"),Gre=lw.keyFor,zre=jre(lw.prototype.valueOf),HL=lw.isRegisteredSymbol||function(r){try{return Gre(zre(r))!==void 0}catch{return!1}};wt({target:"Symbol",stat:!0},{isRegisteredSymbol:HL});for(var Hre=zd,$L=zn,$re=Sr,Kre=Op,Yre=Vr,p0=$L("Symbol"),KL=p0.isWellKnownSymbol,YL=$L("Object","getOwnPropertyNames"),Xre=$re(p0.prototype.valueOf),XL=Hre("wks"),dw=0,QL=YL(p0),Qre=QL.length;dw<Qre;dw++)try{var JL=QL[dw];Kre(p0[JL])&&Yre(JL)}catch{}var qL=function(r){if(KL&&KL(r))return!0;try{for(var n=Xre(r),a=0,s=YL(XL),u=s.length;a<u;a++)if(XL[s[a]]==n)return!0}catch{}return!1};wt({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:qL}),dn("customMatcher"),dn("observable"),wt({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:HL}),wt({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:qL}),dn("matcher"),dn("metadataKey"),dn("patternMatch"),dn("replaceAll");var fw=Vre,lf=fe(fw),ZL=zp.f("iterator"),Jre=fe(ZL);function df(r){return df=typeof lf=="function"&&typeof Jre=="symbol"?function(n){return typeof n}:function(n){return n&&typeof lf=="function"&&n.constructor===lf&&n!==lf.prototype?"symbol":typeof n},df(r)}wt({target:"Array",stat:!0},{isArray:bl});var eW=qr.Array.isArray,tW=fe(eW),rW=fe(Jp),qre=ln,Zre=bl,ene=TypeError,tne=Object.getOwnPropertyDescriptor,nW=qre&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(r){return r instanceof TypeError}}()?function(r,n){if(Zre(r)&&!tne(r,"length").writable)throw new ene("Cannot set read only .length");return r.length=n}:function(r,n){return r.length=n},rne=La,nne=nc,ine=nW,one=cw;wt({target:"Array",proto:!0,arity:1,forced:vr(function(){return[].push.call({length:4294967296},1)!==4294967297})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(r){return r instanceof TypeError}}()},{push:function(r){var n=rne(this),a=nne(n),s=arguments.length;one(a+s);for(var u=0;u<s;u++)n[a]=arguments[u],a++;return ine(n,a),a}});var ane=Gi("Array","push"),sne=Hn,une=ane,hw=Array.prototype,cne=function(r){var n=r.push;return r===hw||sne(hw,r)&&n===hw.push?une:n},iW=cne,lne=fe(iW),dne=wt,oW=bl,fne=N_,hne=Sn,aW=L_,pne=nc,gne=Ma,mne=Qp,vne=Vr,_ne=rc,yne=ag("slice"),Sne=vne("species"),pw=Array,bne=Math.max;dne({target:"Array",proto:!0,forced:!yne},{slice:function(r,n){var a,s,u,d=gne(this),l=pne(d),h=aW(r,l),m=aW(n===void 0?l:n,l);if(oW(d)&&(a=d.constructor,(fne(a)&&(a===pw||oW(a.prototype))||hne(a)&&(a=a[Sne])===null)&&(a=void 0),a===pw||a===void 0))return _ne(d,h,m);for(s=new(a===void 0?pw:a)(bne(m-h,0)),u=0;h<m;h++,u++)h in d&&mne(s,u,d[h]);return s.length=u,s}});var Cne=Gi("Array","slice"),Tne=Hn,Ine=Cne,gw=Array.prototype,wne=function(r){var n=r.slice;return r===gw||Tne(gw,r)&&n===gw.slice?Ine:n},sW=wne,uW=sW,Ene=fe(uW),xne=ji,Ane=J_,Pne=uu,kne=xn,Dne=La,Rne=function(r,n,a,s){try{return s?n(xne(a)[0],a[1]):n(a)}catch(u){Ane(r,"throw",u)}},Fne=JN,One=N_,Nne=nc,cW=Qp,Mne=SI,Lne=Jp,lW=Array,dW=function(r){var n=Dne(r),a=One(this),s=arguments.length,u=s>1?arguments[1]:void 0,d=u!==void 0;d&&(u=Pne(u,s>2?arguments[2]:void 0));var l,h,m,_,S,y,b=Lne(n),I=0;if(!b||this===lW&&Fne(b))for(l=Nne(n),h=a?new this(l):lW(l);l>I;I++)y=d?u(n[I],I):n[I],cW(h,I,y);else for(h=a?new this:[],S=(_=Mne(n,b)).next;!(m=kne(S,_)).done;I++)y=d?Rne(_,u,[m.value,I],!0):m.value,cW(h,I,y);return h.length=I,h},Wne=dW;wt({target:"Array",stat:!0,forced:!cL(function(r){Array.from(r)})},{from:Wne});var fW=qr.Array.from,hW=fe(fW);function mw(r,n){(n==null||n>r.length)&&(n=r.length);for(var a=0,s=Array(n);a<n;a++)s[a]=r[a];return s}function pW(r,n){if(r){var a;if(typeof r=="string")return mw(r,n);var s=Ene(a={}.toString.call(r)).call(a,8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?hW(r):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?mw(r,n):void 0}}function ff(r,n){return function(a){if(tW(a))return a}(r)||function(a,s){var u=a==null?null:lf!==void 0&&rW(a)||a["@@iterator"];if(u!=null){var d,l,h,m,_=[],S=!0,y=!1;try{if(h=(u=u.call(a)).next,s===0){if(Object(u)!==u)return;S=!1}else for(;!(S=(d=h.call(u)).done)&&(lne(_).call(_,d.value),_.length!==s);S=!0);}catch(b){y=!0,l=b}finally{try{if(!S&&u.return!=null&&(m=u.return(),Object(m)!==m))return}finally{if(y)throw l}}return _}}(r,n)||pW(r,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bn(r){return function(n){if(tW(n))return mw(n)}(r)||function(n){if(lf!==void 0&&rW(n)!=null||n["@@iterator"]!=null)return hW(n)}(r)||pW(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pn(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}var Bne=fe(zp.f("toPrimitive"));function gW(r){var n=function(a,s){if(df(a)!="object"||!a)return a;var u=a[Bne];if(u!==void 0){var d=u.call(a,s||"default");if(df(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}(r,"string");return df(n)=="symbol"?n:n+""}function mW(r,n){for(var a=0;a<n.length;a++){var s=n[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),f0(r,gW(s.key),s)}}function kn(r,n,a){return n&&mW(r.prototype,n),a&&mW(r,a),f0(r,"prototype",{writable:!1}),r}function ct(r,n,a){return(n=gW(n))in r?f0(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}var vW={exports:{}},_W={exports:{}};(function(r){var n=fw,a=ZL;function s(u){return r.exports=s=typeof n=="function"&&typeof a=="symbol"?function(d){return typeof d}:function(d){return d&&typeof n=="function"&&d.constructor===n&&d!==n.prototype?"symbol":typeof d},r.exports.__esModule=!0,r.exports.default=r.exports,s(u)}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports})(_W);var Une=_W.exports,Vne=vr,yW=function(r,n){var a=[][r];return!!a&&Vne(function(){a.call(null,n||function(){return 1},1)})},jne=Cl.forEach,SW=yW("forEach")?[].forEach:function(r){return jne(this,r,arguments.length>1?arguments[1]:void 0)};wt({target:"Array",proto:!0,forced:[].forEach!==SW},{forEach:SW});var Gne=Gi("Array","forEach"),zne=Sl,Hne=An,$ne=Hn,Kne=Gne,vw=Array.prototype,Yne={DOMTokenList:!0,NodeList:!0},bW=function(r){var n=r.forEach;return r===vw||$ne(vw,r)&&n===vw.forEach||Hne(Yne,zne(r))?Kne:n},Xne=bW,Qne=wt,Jne=bl,qne=Sr([].reverse),CW=[1,2];Qne({target:"Array",proto:!0,forced:String(CW)===String(CW.reverse())},{reverse:function(){return Jne(this)&&(this.length=this.length),qne(this)}});var Zne=Gi("Array","reverse"),eie=Hn,tie=Zne,_w=Array.prototype,rie=function(r){var n=r.reverse;return r===_w||eie(_w,r)&&n===_w.reverse?tie:n},nie=rie;(function(r){var n=Une.default,a=BL,s=fw,u=OL,d=RL,l=Xne,h=iW,m=kL,_=TL,S=nie,y=uW;function b(){r.exports=b=function(){return x},r.exports.__esModule=!0,r.exports.default=r.exports;var I,x={},D=Object.prototype,W=D.hasOwnProperty,$=a||function(Be,Oe,tt){Be[Oe]=tt.value},te=typeof s=="function"?s:{},q=te.iterator||"@@iterator",X=te.asyncIterator||"@@asyncIterator",J=te.toStringTag||"@@toStringTag";function re(Be,Oe,tt){return a(Be,Oe,{value:tt,enumerable:!0,configurable:!0,writable:!0}),Be[Oe]}try{re({},"")}catch{re=function(Oe,tt,pt){return Oe[tt]=pt}}function H(Be,Oe,tt,pt){var lt=Oe&&Oe.prototype instanceof ie?Oe:ie,Qe=u(lt.prototype),fr=new gt(pt||[]);return $(Qe,"_invoke",{value:Xe(Be,tt,fr)}),Qe}function F(Be,Oe,tt){try{return{type:"normal",arg:Be.call(Oe,tt)}}catch(pt){return{type:"throw",arg:pt}}}x.wrap=H;var B="suspendedStart",V="suspendedYield",G="executing",z="completed",Z={};function ie(){}function se(){}function ne(){}var ae={};re(ae,q,function(){return this});var be=d&&d(d(Tt([])));be&&be!==D&&W.call(be,q)&&(ae=be);var ge=ne.prototype=ie.prototype=u(ae);function _e(Be){var Oe;l(Oe=["next","throw","return"]).call(Oe,function(tt){re(Be,tt,function(pt){return this._invoke(tt,pt)})})}function Le(Be,Oe){function tt(lt,Qe,fr,hn){var Gt=F(Be[lt],Be,Qe);if(Gt.type!=="throw"){var er=Gt.arg,Pr=er.value;return Pr&&n(Pr)=="object"&&W.call(Pr,"__await")?Oe.resolve(Pr.__await).then(function(xi){tt("next",xi,fr,hn)},function(xi){tt("throw",xi,fr,hn)}):Oe.resolve(Pr).then(function(xi){er.value=xi,fr(er)},function(xi){return tt("throw",xi,fr,hn)})}hn(Gt.arg)}var pt;$(this,"_invoke",{value:function(lt,Qe){function fr(){return new Oe(function(hn,Gt){tt(lt,Qe,hn,Gt)})}return pt=pt?pt.then(fr,fr):fr()}})}function Xe(Be,Oe,tt){var pt=B;return function(lt,Qe){if(pt===G)throw Error("Generator is already running");if(pt===z){if(lt==="throw")throw Qe;return{value:I,done:!0}}for(tt.method=lt,tt.arg=Qe;;){var fr=tt.delegate;if(fr){var hn=ze(fr,tt);if(hn){if(hn===Z)continue;return hn}}if(tt.method==="next")tt.sent=tt._sent=tt.arg;else if(tt.method==="throw"){if(pt===B)throw pt=z,tt.arg;tt.dispatchException(tt.arg)}else tt.method==="return"&&tt.abrupt("return",tt.arg);pt=G;var Gt=F(Be,Oe,tt);if(Gt.type==="normal"){if(pt=tt.done?z:V,Gt.arg===Z)continue;return{value:Gt.arg,done:tt.done}}Gt.type==="throw"&&(pt=z,tt.method="throw",tt.arg=Gt.arg)}}}function ze(Be,Oe){var tt=Oe.method,pt=Be.iterator[tt];if(pt===I)return Oe.delegate=null,tt==="throw"&&Be.iterator.return&&(Oe.method="return",Oe.arg=I,ze(Be,Oe),Oe.method==="throw")||tt!=="return"&&(Oe.method="throw",Oe.arg=new TypeError("The iterator does not provide a '"+tt+"' method")),Z;var lt=F(pt,Be.iterator,Oe.arg);if(lt.type==="throw")return Oe.method="throw",Oe.arg=lt.arg,Oe.delegate=null,Z;var Qe=lt.arg;return Qe?Qe.done?(Oe[Be.resultName]=Qe.value,Oe.next=Be.nextLoc,Oe.method!=="return"&&(Oe.method="next",Oe.arg=I),Oe.delegate=null,Z):Qe:(Oe.method="throw",Oe.arg=new TypeError("iterator result is not an object"),Oe.delegate=null,Z)}function yt(Be){var Oe,tt={tryLoc:Be[0]};1 in Be&&(tt.catchLoc=Be[1]),2 in Be&&(tt.finallyLoc=Be[2],tt.afterLoc=Be[3]),h(Oe=this.tryEntries).call(Oe,tt)}function at(Be){var Oe=Be.completion||{};Oe.type="normal",delete Oe.arg,Be.completion=Oe}function gt(Be){this.tryEntries=[{tryLoc:"root"}],l(Be).call(Be,yt,this),this.reset(!0)}function Tt(Be){if(Be||Be===""){var Oe=Be[q];if(Oe)return Oe.call(Be);if(typeof Be.next=="function")return Be;if(!isNaN(Be.length)){var tt=-1,pt=function lt(){for(;++tt<Be.length;)if(W.call(Be,tt))return lt.value=Be[tt],lt.done=!1,lt;return lt.value=I,lt.done=!0,lt};return pt.next=pt}}throw new TypeError(n(Be)+" is not iterable")}return se.prototype=ne,$(ge,"constructor",{value:ne,configurable:!0}),$(ne,"constructor",{value:se,configurable:!0}),se.displayName=re(ne,J,"GeneratorFunction"),x.isGeneratorFunction=function(Be){var Oe=typeof Be=="function"&&Be.constructor;return!!Oe&&(Oe===se||(Oe.displayName||Oe.name)==="GeneratorFunction")},x.mark=function(Be){return m?m(Be,ne):(Be.__proto__=ne,re(Be,J,"GeneratorFunction")),Be.prototype=u(ge),Be},x.awrap=function(Be){return{__await:Be}},_e(Le.prototype),re(Le.prototype,X,function(){return this}),x.AsyncIterator=Le,x.async=function(Be,Oe,tt,pt,lt){lt===void 0&&(lt=_);var Qe=new Le(H(Be,Oe,tt,pt),lt);return x.isGeneratorFunction(Oe)?Qe:Qe.next().then(function(fr){return fr.done?fr.value:Qe.next()})},_e(ge),re(ge,J,"Generator"),re(ge,q,function(){return this}),re(ge,"toString",function(){return"[object Generator]"}),x.keys=function(Be){var Oe=Object(Be),tt=[];for(var pt in Oe)h(tt).call(tt,pt);return S(tt).call(tt),function lt(){for(;tt.length;){var Qe=tt.pop();if(Qe in Oe)return lt.value=Qe,lt.done=!1,lt}return lt.done=!0,lt}},x.values=Tt,gt.prototype={constructor:gt,reset:function(Be){var Oe;if(this.prev=0,this.next=0,this.sent=this._sent=I,this.done=!1,this.delegate=null,this.method="next",this.arg=I,l(Oe=this.tryEntries).call(Oe,at),!Be)for(var tt in this)tt.charAt(0)==="t"&&W.call(this,tt)&&!isNaN(+y(tt).call(tt,1))&&(this[tt]=I)},stop:function(){this.done=!0;var Be=this.tryEntries[0].completion;if(Be.type==="throw")throw Be.arg;return this.rval},dispatchException:function(Be){if(this.done)throw Be;var Oe=this;function tt(Gt,er){return Qe.type="throw",Qe.arg=Be,Oe.next=Gt,er&&(Oe.method="next",Oe.arg=I),!!er}for(var pt=this.tryEntries.length-1;pt>=0;--pt){var lt=this.tryEntries[pt],Qe=lt.completion;if(lt.tryLoc==="root")return tt("end");if(lt.tryLoc<=this.prev){var fr=W.call(lt,"catchLoc"),hn=W.call(lt,"finallyLoc");if(fr&&hn){if(this.prev<lt.catchLoc)return tt(lt.catchLoc,!0);if(this.prev<lt.finallyLoc)return tt(lt.finallyLoc)}else if(fr){if(this.prev<lt.catchLoc)return tt(lt.catchLoc,!0)}else{if(!hn)throw Error("try statement without catch or finally");if(this.prev<lt.finallyLoc)return tt(lt.finallyLoc)}}}},abrupt:function(Be,Oe){for(var tt=this.tryEntries.length-1;tt>=0;--tt){var pt=this.tryEntries[tt];if(pt.tryLoc<=this.prev&&W.call(pt,"finallyLoc")&&this.prev<pt.finallyLoc){var lt=pt;break}}lt&&(Be==="break"||Be==="continue")&&lt.tryLoc<=Oe&&Oe<=lt.finallyLoc&&(lt=null);var Qe=lt?lt.completion:{};return Qe.type=Be,Qe.arg=Oe,lt?(this.method="next",this.next=lt.finallyLoc,Z):this.complete(Qe)},complete:function(Be,Oe){if(Be.type==="throw")throw Be.arg;return Be.type==="break"||Be.type==="continue"?this.next=Be.arg:Be.type==="return"?(this.rval=this.arg=Be.arg,this.method="return",this.next="end"):Be.type==="normal"&&Oe&&(this.next=Oe),Z},finish:function(Be){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var tt=this.tryEntries[Oe];if(tt.finallyLoc===Be)return this.complete(tt.completion,tt.afterLoc),at(tt),Z}},catch:function(Be){for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var tt=this.tryEntries[Oe];if(tt.tryLoc===Be){var pt=tt.completion;if(pt.type==="throw"){var lt=pt.arg;at(tt)}return lt}}throw Error("illegal catch attempt")},delegateYield:function(Be,Oe,tt){return this.delegate={iterator:Tt(Be),resultName:Oe,nextLoc:tt},this.method==="next"&&(this.arg=I),Z}},x}r.exports=b,r.exports.__esModule=!0,r.exports.default=r.exports})(vW);var g0=(0,vW.exports)(),iie=g0;try{regeneratorRuntime=g0}catch{(typeof Yi>"u"?"undefined":R(Yi))==="object"?Yi.regeneratorRuntime=g0:Function("r","regeneratorRuntime = r")(g0)}var m0=fe(iie),TW=fe(eW),Bt=fe(bW),oie=La,IW=Up;wt({target:"Object",stat:!0,forced:vr(function(){IW(1)})},{keys:function(r){return IW(oie(r))}});var v0=fe(qr.Object.keys);wt({target:"Number",stat:!0},{isNaN:function(r){return r!=r}});var hf=fe(qr.Number.isNaN),aie=Gi("Array","concat"),sie=Hn,uie=aie,yw=Array.prototype,cie=function(r){var n=r.concat;return r===yw||sie(yw,r)&&n===yw.concat?uie:n},cc=fe(cie),lie=wt,die=Sr,fie=L_,hie=RangeError,wW=String.fromCharCode,EW=String.fromCodePoint,pie=die([].join);lie({target:"String",stat:!0,arity:1,forced:!!EW&&EW.length!==1},{fromCodePoint:function(r){for(var n,a=[],s=arguments.length,u=0;s>u;){if(n=+arguments[u++],fie(n,1114111)!==n)throw new hie(n+" is not a valid code point");a[u]=n<65536?wW(n):wW(55296+((n-=65536)>>10),n%1024+56320)}return pie(a,"")}});var gie=vr,mie=rY,vie=Vr("iterator"),_0=!gie(function(){var r=new URL("b?a=1&b=2&c=3","https://a"),n=r.searchParams,a=new URLSearchParams("a=1&a=2&b=3"),s="";return r.pathname="c%20d",n.forEach(function(u,d){n.delete("b"),s+=d+u}),a.delete("a",2),a.delete("b",void 0),!r.toJSON||!a.has("a",1)||a.has("a",2)||!a.has("a",void 0)||a.has("b")||!n.size&&mie||!n.sort||r.href!=="https://a/c%20d?a=1&c=3"||n.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!n[vie]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://").host!=="xn--e1aybc"||new URL("https://a#").hash!=="#%D0%B1"||s!=="a1c3"||new URL("https://x",void 0).host!=="x"}),_ie=oc,xW=function(r,n,a){for(var s in n)a&&a.unsafe&&r[s]?r[s]=n[s]:_ie(r,s,n[s],a);return r},AW=rc,yie=Math.floor,Sw=function(r,n){var a=r.length;if(a<8)for(var s,u,d=1;d<a;){for(u=d,s=r[d];u&&n(r[u-1],s)>0;)r[u]=r[--u];u!==d++&&(r[u]=s)}else for(var l=yie(a/2),h=Sw(AW(r,0,l),n),m=Sw(AW(r,l),n),_=h.length,S=m.length,y=0,b=0;y<_||b<S;)r[y+b]=y<_&&b<S?n(h[y],m[b])<=0?h[y++]:m[b++]:y<_?h[y++]:m[b++];return r},bw=wt,PW=Lr,Cw=NM,Sie=zn,y0=xn,Ba=Sr,sg=ln,kW=_0,DW=oc,bie=Gp,Cie=xW,Tie=Cs,Iie=lM,Tw=Is,RW=eg,Iw=En,wie=An,Eie=uu,xie=Sl,Aie=ji,FW=Sn,zi=No,Pie=ic,OW=ec,NW=SI,kie=Jp,S0=n0,pf=tg,Die=Sw,Rie=Vr("iterator"),gf="URLSearchParams",MW=gf+"Iterator",LW=Tw.set,ia=Tw.getterFor(gf),Fie=Tw.getterFor(MW),WW=Cw("fetch"),b0=Cw("Request"),ug=Cw("Headers"),ww=b0&&b0.prototype,BW=ug&&ug.prototype,Oie=PW.TypeError,Nie=PW.encodeURIComponent,Mie=String.fromCharCode,Lie=Sie("String","fromCodePoint"),Wie=parseInt,C0=Ba("".charAt),UW=Ba([].join),lc=Ba([].push),VW=Ba("".replace),Bie=Ba([].shift),jW=Ba([].splice),GW=Ba("".split),zW=Ba("".slice),Uie=Ba(/./.exec),Vie=/\+/g,jie=/^[0-9a-f]+$/i,HW=function(r,n){var a=zW(r,n,n+2);return Uie(jie,a)?Wie(a,16):NaN},Gie=function(r){for(var n=0,a=128;a>0&&r&a;a>>=1)n++;return n},zie=function(r){var n=null;switch(r.length){case 1:n=r[0];break;case 2:n=(31&r[0])<<6|63&r[1];break;case 3:n=(15&r[0])<<12|(63&r[1])<<6|63&r[2];break;case 4:n=(7&r[0])<<18|(63&r[1])<<12|(63&r[2])<<6|63&r[3]}return n>1114111?null:n},$W=function(r){for(var n=(r=VW(r,Vie," ")).length,a="",s=0;s<n;){var u=C0(r,s);if(u==="%"){if(C0(r,s+1)==="%"||s+3>n){a+="%",s++;continue}var d=HW(r,s+1);if(d!=d){a+=u,s++;continue}s+=2;var l=Gie(d);if(l===0)u=Mie(d);else{if(l===1||l>4){a+="",s++;continue}for(var h=[d],m=1;m<l&&!(++s+3>n||C0(r,s)!=="%");){var _=HW(r,s+1);if(_!=_){s+=3;break}if(_>191||_<128)break;lc(h,_),s+=2,m++}if(h.length!==l){a+="";continue}var S=zie(h);S===null?a+="":u=Lie(S)}}a+=u,s++}return a},Hie=/[!'()~]|%20/g,$ie={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Kie=function(r){return $ie[r]},KW=function(r){return VW(Nie(r),Hie,Kie)},Ew=Iie(function(r,n){LW(this,{type:MW,target:ia(r).entries,index:0,kind:n})},gf,function(){var r=Fie(this),n=r.target,a=r.index++;if(!n||a>=n.length)return r.target=null,S0(void 0,!0);var s=n[a];switch(r.kind){case"keys":return S0(s.key,!1);case"values":return S0(s.value,!1)}return S0([s.key,s.value],!1)},!0),YW=function(r){this.entries=[],this.url=null,r!==void 0&&(FW(r)?this.parseObject(r):this.parseQuery(typeof r=="string"?C0(r,0)==="?"?zW(r,1):r:zi(r)))};YW.prototype={type:gf,bindURL:function(r){this.url=r,this.update()},parseObject:function(r){var n,a,s,u,d,l,h,m=this.entries,_=kie(r);if(_)for(a=(n=NW(r,_)).next;!(s=y0(a,n)).done;){if(d=(u=NW(Aie(s.value))).next,(l=y0(d,u)).done||(h=y0(d,u)).done||!y0(d,u).done)throw new Oie("Expected sequence with length 2");lc(m,{key:zi(l.value),value:zi(h.value)})}else for(var S in r)wie(r,S)&&lc(m,{key:S,value:zi(r[S])})},parseQuery:function(r){if(r)for(var n,a,s=this.entries,u=GW(r,"&"),d=0;d<u.length;)(n=u[d++]).length&&(a=GW(n,"="),lc(s,{key:$W(Bie(a)),value:$W(UW(a,"="))}))},serialize:function(){for(var r,n=this.entries,a=[],s=0;s<n.length;)r=n[s++],lc(a,KW(r.key)+"="+KW(r.value));return UW(a,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var T0=function(){RW(this,mf);var r=arguments.length>0?arguments[0]:void 0,n=LW(this,new YW(r));sg||(this.size=n.entries.length)},mf=T0.prototype;if(Cie(mf,{append:function(r,n){var a=ia(this);pf(arguments.length,2),lc(a.entries,{key:zi(r),value:zi(n)}),sg||this.length++,a.updateURL()},delete:function(r){for(var n=ia(this),a=pf(arguments.length,1),s=n.entries,u=zi(r),d=a<2?void 0:arguments[1],l=d===void 0?d:zi(d),h=0;h<s.length;){var m=s[h];if(m.key!==u||l!==void 0&&m.value!==l)h++;else if(jW(s,h,1),l!==void 0)break}sg||(this.size=s.length),n.updateURL()},get:function(r){var n=ia(this).entries;pf(arguments.length,1);for(var a=zi(r),s=0;s<n.length;s++)if(n[s].key===a)return n[s].value;return null},getAll:function(r){var n=ia(this).entries;pf(arguments.length,1);for(var a=zi(r),s=[],u=0;u<n.length;u++)n[u].key===a&&lc(s,n[u].value);return s},has:function(r){for(var n=ia(this).entries,a=pf(arguments.length,1),s=zi(r),u=a<2?void 0:arguments[1],d=u===void 0?u:zi(u),l=0;l<n.length;){var h=n[l++];if(h.key===s&&(d===void 0||h.value===d))return!0}return!1},set:function(r,n){var a=ia(this);pf(arguments.length,1);for(var s,u=a.entries,d=!1,l=zi(r),h=zi(n),m=0;m<u.length;m++)(s=u[m]).key===l&&(d?jW(u,m--,1):(d=!0,s.value=h));d||lc(u,{key:l,value:h}),sg||(this.size=u.length),a.updateURL()},sort:function(){var r=ia(this);Die(r.entries,function(n,a){return n.key>a.key?1:-1}),r.updateURL()},forEach:function(r){for(var n,a=ia(this).entries,s=Eie(r,arguments.length>1?arguments[1]:void 0),u=0;u<a.length;)s((n=a[u++]).value,n.key,this)},keys:function(){return new Ew(this,"keys")},values:function(){return new Ew(this,"values")},entries:function(){return new Ew(this,"entries")}},{enumerable:!0}),DW(mf,Rie,mf.entries,{name:"entries"}),DW(mf,"toString",function(){return ia(this).serialize()},{enumerable:!0}),sg&&bie(mf,"size",{get:function(){return ia(this).entries.length},configurable:!0,enumerable:!0}),Tie(T0,gf),bw({global:!0,constructor:!0,forced:!kW},{URLSearchParams:T0}),!kW&&Iw(ug)){var Yie=Ba(BW.has),Xie=Ba(BW.set),XW=function(r){if(FW(r)){var n,a=r.body;if(xie(a)===gf)return n=r.headers?new ug(r.headers):new ug,Yie(n,"content-type")||Xie(n,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Pie(r,{body:OW(0,zi(a)),headers:OW(0,n)})}return r};if(Iw(WW)&&bw({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(r){return WW(r,arguments.length>1?XW(arguments[1]):{})}}),Iw(b0)){var xw=function(r){return RW(this,ww),new b0(r,arguments.length>1?XW(arguments[1]):{})};ww.constructor=xw,xw.prototype=ww,bw({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:xw})}}var oa,Qie={URLSearchParams:T0,getState:ia},QW=ln,Jie=Sr,qie=xn,Zie=vr,Aw=Up,eoe=jp,toe=Rp,roe=La,noe=AT,vf=Object.assign,JW=Object.defineProperty,ioe=Jie([].concat),ooe=!vf||Zie(function(){if(QW&&vf({b:1},vf(JW({},"a",{enumerable:!0,get:function(){JW(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},n={},a=Symbol("assign detection"),s="abcdefghijklmnopqrst";return r[a]=7,s.split("").forEach(function(u){n[u]=u}),vf({},r)[a]!==7||Aw(vf({},n)).join("")!==s})?function(r,n){for(var a=roe(r),s=arguments.length,u=1,d=eoe.f,l=toe.f;s>u;)for(var h,m=noe(arguments[u++]),_=d?ioe(Aw(m),d(m)):Aw(m),S=_.length,y=0;S>y;)h=_[y++],QW&&!qie(l,m,h)||(a[h]=m[h]);return a}:vf,Al=Sr,Pw=2147483647,aoe=/[^\0-\u007E]/,qW=/[.\u3002\uFF0E\uFF61]/g,ZW="Overflow: input needs wider integers to process",eB=RangeError,soe=Al(qW.exec),_f=Math.floor,kw=String.fromCharCode,tB=Al("".charCodeAt),rB=Al([].join),dc=Al([].push),uoe=Al("".replace),coe=Al("".split),loe=Al("".toLowerCase),nB=function(r){return r+22+75*(r<26)},doe=function(r,n,a){var s=0;for(r=a?_f(r/700):r>>1,r+=_f(r/n);r>455;)r=_f(r/35),s+=36;return _f(s+36*r/(r+38))},foe=function(r){var n=[];r=function($){for(var te=[],q=0,X=$.length;q<X;){var J=tB($,q++);if(J>=55296&&J<=56319&&q<X){var re=tB($,q++);(64512&re)==56320?dc(te,((1023&J)<<10)+(1023&re)+65536):(dc(te,J),q--)}else dc(te,J)}return te}(r);var a,s,u=r.length,d=128,l=0,h=72;for(a=0;a<r.length;a++)(s=r[a])<128&&dc(n,kw(s));var m=n.length,_=m;for(m&&dc(n,"-");_<u;){var S=Pw;for(a=0;a<r.length;a++)(s=r[a])>=d&&s<S&&(S=s);var y=_+1;if(S-d>_f((Pw-l)/y))throw new eB(ZW);for(l+=(S-d)*y,d=S,a=0;a<r.length;a++){if((s=r[a])<d&&++l>Pw)throw new eB(ZW);if(s===d){for(var b=l,I=36;;){var x=I<=h?1:I>=h+26?26:I-h;if(b<x)break;var D=b-x,W=36-x;dc(n,kw(nB(x+D%W))),b=_f(D/W),I+=36}dc(n,kw(nB(b))),h=doe(l,y,_===m),l=0,_++}}l++,d++}return rB(n,"")},hoe=wt,Dw=ln,poe=_0,Rw=Lr,iB=uu,aa=Sr,I0=oc,sa=Gp,goe=eg,Fw=An,Ow=ooe,yf=dW,Ua=rc,moe=gL.codeAt,voe=function(r){var n,a,s=[],u=coe(uoe(loe(r),qW,"."),".");for(n=0;n<u.length;n++)a=u[n],dc(s,soe(aoe,a)?"xn--"+foe(a):a);return rB(s,".")},lu=No,_oe=Cs,yoe=tg,oB=Qie,aB=Is,Soe=aB.set,w0=aB.getterFor("URL"),boe=oB.URLSearchParams,Coe=oB.getState,cg=Rw.URL,Nw=Rw.TypeError,E0=Rw.parseInt,Toe=Math.floor,sB=Math.pow,ua=aa("".charAt),Va=aa(/./.exec),lg=aa([].join),Ioe=aa(1 .toString),woe=aa([].pop),Sf=aa([].push),Mw=aa("".replace),Eoe=aa([].shift),xoe=aa("".split),dg=aa("".slice),x0=aa("".toLowerCase),Aoe=aa([].unshift),Lw="Invalid scheme",Pl="Invalid host",uB="Invalid port",cB=/[a-z]/i,Poe=/[\d+-.a-z]/i,Ww=/\d/,koe=/^0x/i,Doe=/^[0-7]+$/,Roe=/^\d+$/,lB=/^[\da-f]+$/i,Foe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Ooe=/[\0\t\n\r #/:<>?@[\\\]^|]/,Noe=/^[\u0000-\u0020]+/,Moe=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,Loe=/[\t\n\r]/g,fg=function(r){var n,a,s,u;if(typeof r=="number"){for(n=[],a=0;a<4;a++)Aoe(n,r%256),r=Toe(r/256);return lg(n,".")}if(R(r)=="object"){for(n="",s=function(d){for(var l=null,h=1,m=null,_=0,S=0;S<8;S++)d[S]!==0?(_>h&&(l=m,h=_),m=null,_=0):(m===null&&(m=S),++_);return _>h?m:l}(r),a=0;a<8;a++)u&&r[a]===0||(u&&(u=!1),s===a?(n+=a?":":"::",u=!0):(n+=Ioe(r[a],16),a<7&&(n+=":")));return"["+n+"]"}return r},A0={},dB=Ow({},A0,{" ":1,'"':1,"<":1,">":1,"`":1}),fB=Ow({},dB,{"#":1,"?":1,"{":1,"}":1}),Bw=Ow({},fB,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),fc=function(r,n){var a=moe(r,0);return a>32&&a<127&&!Fw(n,r)?r:encodeURIComponent(r)},P0={ftp:21,file:null,http:80,https:443,ws:80,wss:443},hg=function(r,n){var a;return r.length===2&&Va(cB,ua(r,0))&&((a=ua(r,1))===":"||!n&&a==="|")},hB=function(r){var n;return r.length>1&&hg(dg(r,0,2))&&(r.length===2||(n=ua(r,2))==="/"||n==="\\"||n==="?"||n==="#")},Woe=function(r){return r==="."||x0(r)==="%2e"},Uw={},pB={},Vw={},gB={},mB={},jw={},vB={},_B={},k0={},D0={},Gw={},zw={},Hw={},$w={},yB={},Kw={},bf={},Es={},SB={},kl={},du={},Yw=function(r,n,a){var s,u,d,l=lu(r);if(n){if(u=this.parse(l))throw new Nw(u);this.searchParams=null}else{if(a!==void 0&&(s=new Yw(a,!0)),u=this.parse(l,null,s))throw new Nw(u);(d=Coe(new boe)).bindURL(this),this.searchParams=d}};Yw.prototype={type:"URL",parse:function(r,n,a){var s,u,d,l,h,m=this,_=n||Uw,S=0,y="",b=!1,I=!1,x=!1;for(r=lu(r),n||(m.scheme="",m.username="",m.password="",m.host=null,m.port=null,m.path=[],m.query=null,m.fragment=null,m.cannotBeABaseURL=!1,r=Mw(r,Noe,""),r=Mw(r,Moe,"$1")),r=Mw(r,Loe,""),s=yf(r);S<=s.length;){switch(u=s[S],_){case Uw:if(!u||!Va(cB,u)){if(n)return Lw;_=Vw;continue}y+=x0(u),_=pB;break;case pB:if(u&&(Va(Poe,u)||u==="+"||u==="-"||u==="."))y+=x0(u);else{if(u!==":"){if(n)return Lw;y="",_=Vw,S=0;continue}if(n&&(m.isSpecial()!==Fw(P0,y)||y==="file"&&(m.includesCredentials()||m.port!==null)||m.scheme==="file"&&!m.host))return;if(m.scheme=y,n)return void(m.isSpecial()&&P0[m.scheme]===m.port&&(m.port=null));y="",m.scheme==="file"?_=$w:m.isSpecial()&&a&&a.scheme===m.scheme?_=gB:m.isSpecial()?_=_B:s[S+1]==="/"?(_=mB,S++):(m.cannotBeABaseURL=!0,Sf(m.path,""),_=SB)}break;case Vw:if(!a||a.cannotBeABaseURL&&u!=="#")return Lw;if(a.cannotBeABaseURL&&u==="#"){m.scheme=a.scheme,m.path=Ua(a.path),m.query=a.query,m.fragment="",m.cannotBeABaseURL=!0,_=du;break}_=a.scheme==="file"?$w:jw;continue;case gB:if(u!=="/"||s[S+1]!=="/"){_=jw;continue}_=k0,S++;break;case mB:if(u==="/"){_=D0;break}_=Es;continue;case jw:if(m.scheme=a.scheme,u===oa)m.username=a.username,m.password=a.password,m.host=a.host,m.port=a.port,m.path=Ua(a.path),m.query=a.query;else if(u==="/"||u==="\\"&&m.isSpecial())_=vB;else if(u==="?")m.username=a.username,m.password=a.password,m.host=a.host,m.port=a.port,m.path=Ua(a.path),m.query="",_=kl;else{if(u!=="#"){m.username=a.username,m.password=a.password,m.host=a.host,m.port=a.port,m.path=Ua(a.path),m.path.length--,_=Es;continue}m.username=a.username,m.password=a.password,m.host=a.host,m.port=a.port,m.path=Ua(a.path),m.query=a.query,m.fragment="",_=du}break;case vB:if(!m.isSpecial()||u!=="/"&&u!=="\\"){if(u!=="/"){m.username=a.username,m.password=a.password,m.host=a.host,m.port=a.port,_=Es;continue}_=D0}else _=k0;break;case _B:if(_=k0,u!=="/"||ua(y,S+1)!=="/")continue;S++;break;case k0:if(u!=="/"&&u!=="\\"){_=D0;continue}break;case D0:if(u==="@"){b&&(y="%40"+y),b=!0,d=yf(y);for(var D=0;D<d.length;D++){var W=d[D];if(W!==":"||x){var $=fc(W,Bw);x?m.password+=$:m.username+=$}else x=!0}y=""}else if(u===oa||u==="/"||u==="?"||u==="#"||u==="\\"&&m.isSpecial()){if(b&&y==="")return"Invalid authority";S-=yf(y).length+1,y="",_=Gw}else y+=u;break;case Gw:case zw:if(n&&m.scheme==="file"){_=Kw;continue}if(u!==":"||I){if(u===oa||u==="/"||u==="?"||u==="#"||u==="\\"&&m.isSpecial()){if(m.isSpecial()&&y==="")return Pl;if(n&&y===""&&(m.includesCredentials()||m.port!==null))return;if(l=m.parseHost(y))return l;if(y="",_=bf,n)return;continue}u==="["?I=!0:u==="]"&&(I=!1),y+=u}else{if(y==="")return Pl;if(l=m.parseHost(y))return l;if(y="",_=Hw,n===zw)return}break;case Hw:if(!Va(Ww,u)){if(u===oa||u==="/"||u==="?"||u==="#"||u==="\\"&&m.isSpecial()||n){if(y!==""){var te=E0(y,10);if(te>65535)return uB;m.port=m.isSpecial()&&te===P0[m.scheme]?null:te,y=""}if(n)return;_=bf;continue}return uB}y+=u;break;case $w:if(m.scheme="file",u==="/"||u==="\\")_=yB;else{if(!a||a.scheme!=="file"){_=Es;continue}switch(u){case oa:m.host=a.host,m.path=Ua(a.path),m.query=a.query;break;case"?":m.host=a.host,m.path=Ua(a.path),m.query="",_=kl;break;case"#":m.host=a.host,m.path=Ua(a.path),m.query=a.query,m.fragment="",_=du;break;default:hB(lg(Ua(s,S),""))||(m.host=a.host,m.path=Ua(a.path),m.shortenPath()),_=Es;continue}}break;case yB:if(u==="/"||u==="\\"){_=Kw;break}a&&a.scheme==="file"&&!hB(lg(Ua(s,S),""))&&(hg(a.path[0],!0)?Sf(m.path,a.path[0]):m.host=a.host),_=Es;continue;case Kw:if(u===oa||u==="/"||u==="\\"||u==="?"||u==="#"){if(!n&&hg(y))_=Es;else if(y===""){if(m.host="",n)return;_=bf}else{if(l=m.parseHost(y))return l;if(m.host==="localhost"&&(m.host=""),n)return;y="",_=bf}continue}y+=u;break;case bf:if(m.isSpecial()){if(_=Es,u!=="/"&&u!=="\\")continue}else if(n||u!=="?")if(n||u!=="#"){if(u!==oa&&(_=Es,u!=="/"))continue}else m.fragment="",_=du;else m.query="",_=kl;break;case Es:if(u===oa||u==="/"||u==="\\"&&m.isSpecial()||!n&&(u==="?"||u==="#")){if((h=x0(h=y))===".."||h==="%2e."||h===".%2e"||h==="%2e%2e"?(m.shortenPath(),u==="/"||u==="\\"&&m.isSpecial()||Sf(m.path,"")):Woe(y)?u==="/"||u==="\\"&&m.isSpecial()||Sf(m.path,""):(m.scheme==="file"&&!m.path.length&&hg(y)&&(m.host&&(m.host=""),y=ua(y,0)+":"),Sf(m.path,y)),y="",m.scheme==="file"&&(u===oa||u==="?"||u==="#"))for(;m.path.length>1&&m.path[0]==="";)Eoe(m.path);u==="?"?(m.query="",_=kl):u==="#"&&(m.fragment="",_=du)}else y+=fc(u,fB);break;case SB:u==="?"?(m.query="",_=kl):u==="#"?(m.fragment="",_=du):u!==oa&&(m.path[0]+=fc(u,A0));break;case kl:n||u!=="#"?u!==oa&&(u==="'"&&m.isSpecial()?m.query+="%27":m.query+=u==="#"?"%23":fc(u,A0)):(m.fragment="",_=du);break;case du:u!==oa&&(m.fragment+=fc(u,dB))}S++}},parseHost:function(r){var n,a,s;if(ua(r,0)==="["){if(ua(r,r.length-1)!=="]"||(n=function(u){var d,l,h,m,_,S,y,b=[0,0,0,0,0,0,0,0],I=0,x=null,D=0,W=function(){return ua(u,D)};if(W()===":"){if(ua(u,1)!==":")return;D+=2,x=++I}for(;W();){if(I===8)return;if(W()!==":"){for(d=l=0;l<4&&Va(lB,W());)d=16*d+E0(W(),16),D++,l++;if(W()==="."){if(l===0||(D-=l,I>6))return;for(h=0;W();){if(m=null,h>0){if(!(W()==="."&&h<4))return;D++}if(!Va(Ww,W()))return;for(;Va(Ww,W());){if(_=E0(W(),10),m===null)m=_;else{if(m===0)return;m=10*m+_}if(m>255)return;D++}b[I]=256*b[I]+m,++h!=2&&h!==4||I++}if(h!==4)return;break}if(W()===":"){if(D++,!W())return}else if(W())return;b[I++]=d}else{if(x!==null)return;D++,x=++I}}if(x!==null)for(S=I-x,I=7;I!==0&&S>0;)y=b[I],b[I--]=b[x+S-1],b[x+--S]=y;else if(I!==8)return;return b}(dg(r,1,-1)),!n))return Pl;this.host=n}else if(this.isSpecial()){if(r=voe(r),Va(Foe,r)||(n=function(u){var d,l,h,m,_,S,y,b=xoe(u,".");if(b.length&&b[b.length-1]===""&&b.length--,(d=b.length)>4)return u;for(l=[],h=0;h<d;h++){if((m=b[h])==="")return u;if(_=10,m.length>1&&ua(m,0)==="0"&&(_=Va(koe,m)?16:8,m=dg(m,_===8?1:2)),m==="")S=0;else{if(!Va(_===10?Roe:_===8?Doe:lB,m))return u;S=E0(m,_)}Sf(l,S)}for(h=0;h<d;h++)if(S=l[h],h===d-1){if(S>=sB(256,5-d))return null}else if(S>255)return null;for(y=woe(l),h=0;h<l.length;h++)y+=l[h]*sB(256,3-h);return y}(r),n===null))return Pl;this.host=n}else{if(Va(Ooe,r))return Pl;for(n="",a=yf(r),s=0;s<a.length;s++)n+=fc(a[s],A0);this.host=n}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return Fw(P0,this.scheme)},shortenPath:function(){var r=this.path,n=r.length;!n||this.scheme==="file"&&n===1&&hg(r[0],!0)||r.length--},serialize:function(){var r=this,n=r.scheme,a=r.username,s=r.password,u=r.host,d=r.port,l=r.path,h=r.query,m=r.fragment,_=n+":";return u!==null?(_+="//",r.includesCredentials()&&(_+=a+(s?":"+s:"")+"@"),_+=fg(u),d!==null&&(_+=":"+d)):n==="file"&&(_+="//"),_+=r.cannotBeABaseURL?l[0]:l.length?"/"+lg(l,"/"):"",h!==null&&(_+="?"+h),m!==null&&(_+="#"+m),_},setHref:function(r){var n=this.parse(r);if(n)throw new Nw(n);this.searchParams.update()},getOrigin:function(){var r=this.scheme,n=this.port;if(r==="blob")try{return new Cf(r.path[0]).origin}catch{return"null"}return r!=="file"&&this.isSpecial()?r+"://"+fg(this.host)+(n!==null?":"+n:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(r){this.parse(lu(r)+":",Uw)},getUsername:function(){return this.username},setUsername:function(r){var n=yf(lu(r));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var a=0;a<n.length;a++)this.username+=fc(n[a],Bw)}},getPassword:function(){return this.password},setPassword:function(r){var n=yf(lu(r));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var a=0;a<n.length;a++)this.password+=fc(n[a],Bw)}},getHost:function(){var r=this.host,n=this.port;return r===null?"":n===null?fg(r):fg(r)+":"+n},setHost:function(r){this.cannotBeABaseURL||this.parse(r,Gw)},getHostname:function(){var r=this.host;return r===null?"":fg(r)},setHostname:function(r){this.cannotBeABaseURL||this.parse(r,zw)},getPort:function(){var r=this.port;return r===null?"":lu(r)},setPort:function(r){this.cannotHaveUsernamePasswordPort()||((r=lu(r))===""?this.port=null:this.parse(r,Hw))},getPathname:function(){var r=this.path;return this.cannotBeABaseURL?r[0]:r.length?"/"+lg(r,"/"):""},setPathname:function(r){this.cannotBeABaseURL||(this.path=[],this.parse(r,bf))},getSearch:function(){var r=this.query;return r?"?"+r:""},setSearch:function(r){(r=lu(r))===""?this.query=null:(ua(r,0)==="?"&&(r=dg(r,1)),this.query="",this.parse(r,kl)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var r=this.fragment;return r?"#"+r:""},setHash:function(r){(r=lu(r))!==""?(ua(r,0)==="#"&&(r=dg(r,1)),this.fragment="",this.parse(r,du)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Cf=function(r){var n=goe(this,Hi),a=yoe(arguments.length,1)>1?arguments[1]:void 0,s=Soe(n,new Yw(r,!1,a));Dw||(n.href=s.serialize(),n.origin=s.getOrigin(),n.protocol=s.getProtocol(),n.username=s.getUsername(),n.password=s.getPassword(),n.host=s.getHost(),n.hostname=s.getHostname(),n.port=s.getPort(),n.pathname=s.getPathname(),n.search=s.getSearch(),n.searchParams=s.getSearchParams(),n.hash=s.getHash())},Hi=Cf.prototype,ca=function(r,n){return{get:function(){return w0(this)[r]()},set:n&&function(a){return w0(this)[n](a)},configurable:!0,enumerable:!0}};if(Dw&&(sa(Hi,"href",ca("serialize","setHref")),sa(Hi,"origin",ca("getOrigin")),sa(Hi,"protocol",ca("getProtocol","setProtocol")),sa(Hi,"username",ca("getUsername","setUsername")),sa(Hi,"password",ca("getPassword","setPassword")),sa(Hi,"host",ca("getHost","setHost")),sa(Hi,"hostname",ca("getHostname","setHostname")),sa(Hi,"port",ca("getPort","setPort")),sa(Hi,"pathname",ca("getPathname","setPathname")),sa(Hi,"search",ca("getSearch","setSearch")),sa(Hi,"searchParams",ca("getSearchParams")),sa(Hi,"hash",ca("getHash","setHash"))),I0(Hi,"toJSON",function(){return w0(this).serialize()},{enumerable:!0}),I0(Hi,"toString",function(){return w0(this).serialize()},{enumerable:!0}),cg){var bB=cg.createObjectURL,CB=cg.revokeObjectURL;bB&&I0(Cf,"createObjectURL",iB(bB,cg)),CB&&I0(Cf,"revokeObjectURL",iB(CB,cg))}_oe(Cf,"URL"),hoe({global:!0,constructor:!0,forced:!poe,sham:!Dw},{URL:Cf});var Boe=wt,TB=vr,Uoe=tg,IB=No,Voe=_0,Xw=zn("URL"),joe=Voe&&TB(function(){Xw.canParse()}),Goe=TB(function(){return Xw.canParse.length!==1});Boe({target:"URL",stat:!0,forced:!joe||Goe},{canParse:function(r){var n=Uoe(arguments.length,1),a=IB(r),s=n<2||arguments[1]===void 0?void 0:IB(arguments[1]);try{return!!new Xw(a,s)}catch{return!1}}});var zoe=wt,Hoe=tg,wB=No,$oe=_0,Koe=zn("URL");zoe({target:"URL",stat:!0,forced:!$oe},{parse:function(r){var n=Hoe(arguments.length,1),a=wB(r),s=n<2||arguments[1]===void 0?void 0:wB(arguments[1]);try{return new Koe(a,s)}catch{return null}}});var Yoe=fe(qr.URL),hc=fe(sW),Xoe=wt,Qoe=XT.indexOf,Joe=yW,Qw=A_([].indexOf),EB=!!Qw&&1/Qw([1],1,-0)<0;Xoe({target:"Array",proto:!0,forced:EB||!Joe("indexOf")},{indexOf:function(r){var n=arguments.length>1?arguments[1]:void 0;return EB?Qw(this,r,n)||0:Qoe(this,r,n)}});var qoe=Gi("Array","indexOf"),Zoe=Hn,eae=qoe,Jw=Array.prototype,tae=function(r){var n=r.indexOf;return r===Jw||Zoe(Jw,r)&&n===Jw.indexOf?eae:n},fi=fe(tae),xB=yl,rae=TypeError,nae=wt,iae=La,oae=L_,aae=Wp,sae=nc,uae=nW,cae=cw,lae=sI,dae=Qp,qw=function(r,n){if(!delete r[n])throw new rae("Cannot delete property "+xB(n)+" of "+xB(r))},fae=ag("splice"),hae=Math.max,pae=Math.min;nae({target:"Array",proto:!0,forced:!fae},{splice:function(r,n){var a,s,u,d,l,h,m=iae(this),_=sae(m),S=oae(r,_),y=arguments.length;for(y===0?a=s=0:y===1?(a=0,s=_-S):(a=y-2,s=pae(hae(aae(n),0),_-S)),cae(_+a-s),u=lae(m,s),d=0;d<s;d++)(l=S+d)in m&&dae(u,d,m[l]);if(u.length=s,a<s){for(d=S;d<_-s;d++)h=d+a,(l=d+s)in m?m[h]=m[l]:qw(m,h);for(d=_;d>_-s+a;d--)qw(m,d-1)}else if(a>s)for(d=_-s;d>S;d--)h=d+a-1,(l=d+s-1)in m?m[h]=m[l]:qw(m,h);for(d=0;d<a;d++)m[d+S]=arguments[d+2];return uae(m,_-s+a),u}});var gae=Gi("Array","splice"),mae=Hn,vae=gae,Zw=Array.prototype,_ae=function(r){var n=r.splice;return r===Zw||mae(Zw,r)&&n===Zw.splice?vae:n},hi=fe(_ae),yae=wt,Sae=Cl.findIndex,AB="findIndex",PB=!0;AB in[]&&Array(1)[AB](function(){PB=!1}),yae({target:"Array",proto:!0,forced:PB},{findIndex:function(r){return Sae(this,r,arguments.length>1?arguments[1]:void 0)}});var bae=Gi("Array","findIndex"),Cae=Hn,Tae=bae,eE=Array.prototype,Iae=function(r){var n=r.findIndex;return r===eE||Cae(eE,r)&&n===eE.findIndex?Tae:n},kB=fe(Iae),DB=ln,wae=vr,RB=Sr,Eae=qd,xae=Up,Aae=Ma,FB=RB(Rp.f),Pae=RB([].push),kae=DB&&wae(function(){var r=Object.create(null);return r[2]=2,!FB(r,2)}),OB=function(r){return function(n){for(var a,s=Aae(n),u=xae(s),d=kae&&Eae(s)===null,l=u.length,h=0,m=[];l>h;)a=u[h++],DB&&!(d?a in s:FB(s,a))||Pae(m,r?[a,s[a]]:s[a]);return m}},Dae={entries:OB(!0),values:OB(!1)}.entries;wt({target:"Object",stat:!0},{entries:function(r){return Dae(r)}});var R0=fe(qr.Object.entries),F0=fe(SL),Rae=wt,Fae=Cl.find,NB="find",MB=!0;NB in[]&&Array(1)[NB](function(){MB=!1}),Rae({target:"Array",proto:!0,forced:MB},{find:function(r){return Fae(this,r,arguments.length>1?arguments[1]:void 0)}});var Oae=Gi("Array","find"),Nae=Hn,Mae=Oae,tE=Array.prototype,Lae=function(r){var n=r.find;return r===tE||Nae(tE,r)&&n===tE.find?Mae:n},pg=fe(Lae),Wae=Cl.filter;wt({target:"Array",proto:!0,forced:!ag("filter")},{filter:function(r){return Wae(this,r,arguments.length>1?arguments[1]:void 0)}});var Bae=Gi("Array","filter"),Uae=Hn,Vae=Bae,rE=Array.prototype,jae=function(r){var n=r.filter;return r===rE||Uae(rE,r)&&n===rE.filter?Vae:n},LB=fe(jae),Gae=Cl.map;wt({target:"Array",proto:!0,forced:!ag("map")},{map:function(r){return Gae(this,r,arguments.length>1?arguments[1]:void 0)}});var zae=Gi("Array","map"),Hae=Hn,$ae=zae,nE=Array.prototype,Kae=function(r){var n=r.map;return r===nE||Hae(nE,r)&&n===nE.map?$ae:n},gg=fe(Kae),Yae=XT.includes;wt({target:"Array",proto:!0,forced:vr(function(){return!Array(1).includes()})},{includes:function(r){return Yae(this,r,arguments.length>1?arguments[1]:void 0)}});var Xae=Gi("Array","includes"),Qae=Sn,Jae=su,qae=Vr("match"),Zae=function(r){var n;return Qae(r)&&((n=r[qae])!==void 0?!!n:Jae(r)==="RegExp")},ese=TypeError,tse=Vr("match"),rse=wt,nse=function(r){if(Zae(r))throw new ese("The method doesn't accept regular expressions");return r},ise=jd,WB=No,ose=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[tse]=!1,"/./"[r](n)}catch{}}return!1},ase=Sr("".indexOf);rse({target:"String",proto:!0,forced:!ose("includes")},{includes:function(r){return!!~ase(WB(ise(this)),WB(nse(r)),arguments.length>1?arguments[1]:void 0)}});var sse=Gi("String","includes"),BB=Hn,use=Xae,cse=sse,iE=Array.prototype,oE=String.prototype,lse=function(r){var n=r.includes;return r===iE||BB(iE,r)&&n===iE.includes?use:typeof r=="string"||r===oE||BB(oE,r)&&n===oE.includes?cse:n},dse=fe(lse),UB=`	
\v\f\r \u2028\u2029\uFEFF`,fse=jd,hse=No,aE=UB,VB=Sr("".replace),pse=RegExp("^["+aE+"]+"),gse=RegExp("(^|[^"+aE+"])["+aE+"]+$"),sE=function(r){return function(n){var a=hse(fse(n));return 1&r&&(a=VB(a,pse,"")),2&r&&(a=VB(a,gse,"$1")),a}},mse={start:sE(1),end:sE(2),trim:sE(3)},jB=Lr,vse=vr,_se=Sr,yse=No,Sse=mse.trim,GB=UB,mg=jB.parseInt,zB=jB.Symbol,HB=zB&&zB.iterator,$B=/^[+-]?0x/i,bse=_se($B.exec),KB=mg(GB+"08")!==8||mg(GB+"0x16")!==22||HB&&!vse(function(){mg(Object(HB))})?function(r,n){var a=Sse(yse(r));return mg(a,n>>>0||(bse($B,a)?16:10))}:mg;wt({global:!0,forced:parseInt!==KB},{parseInt:KB});var vg=fe(qr.parseInt),Cse=fe(fW),Tse=Gi("Array","keys"),Ise=Sl,wse=An,Ese=Hn,xse=Tse,uE=Array.prototype,Ase={DOMTokenList:!0,NodeList:!0},Pse=function(r){var n=r.keys;return r===uE||Ese(uE,r)&&n===uE.keys||wse(Ase,Ise(r))?xse:n},kse=fe(Pse),YB={exports:{}},Dse=vr(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}}),Rse=vr,Fse=Sn,Ose=su,XB=Dse,O0=Object.isExtensible,Nse=Rse(function(){O0(1)})||XB?function(r){return!!Fse(r)&&(!XB||Ose(r)!=="ArrayBuffer")&&(!O0||O0(r))}:O0,Mse=!vr(function(){return Object.isExtensible(Object.preventExtensions({}))}),Lse=wt,Wse=Sr,Bse=Bp,Use=Sn,cE=An,Vse=fo.f,QB=Vp,jse=nI,lE=Nse,Gse=Mse,JB=!1,fu=R_("meta"),zse=0,dE=function(r){Vse(r,fu,{value:{objectID:"O"+zse++,weakData:{}}})},Hse=YB.exports={enable:function(){Hse.enable=function(){},JB=!0;var r=QB.f,n=Wse([].splice),a={};a[fu]=1,r(a).length&&(QB.f=function(s){for(var u=r(s),d=0,l=u.length;d<l;d++)if(u[d]===fu){n(u,d,1);break}return u},Lse({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:jse.f}))},fastKey:function(r,n){if(!Use(r))return R(r)=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!cE(r,fu)){if(!lE(r))return"F";if(!n)return"E";dE(r)}return r[fu].objectID},getWeakData:function(r,n){if(!cE(r,fu)){if(!lE(r))return!0;if(!n)return!1;dE(r)}return r[fu].weakData},onFreeze:function(r){return Gse&&JB&&lE(r)&&!cE(r,fu)&&dE(r),r}};Bse[fu]=!0;var qB=YB.exports,$se=wt,Kse=Lr,Yse=qB,Xse=vr,Qse=tc,Jse=wl,qse=eg,Zse=En,eue=Sn,tue=Vd,rue=Cs,nue=fo.f,iue=Cl.forEach,oue=ln,aue=Is.set,sue=Is.getterFor,ZB=ic,uue=Gp,eU=xW,cue=uu,lue=eg,due=Vd,fue=wl,hue=AI,tU=n0,pue=bM,_g=ln,rU=qB.fastKey,nU=Is.set,fE=Is.getterFor,gue={getConstructor:function(r,n,a,s){var u=r(function(_,S){lue(_,d),nU(_,{type:n,index:ZB(null),first:null,last:null,size:0}),_g||(_.size=0),due(S)||fue(S,_[s],{that:_,AS_ENTRIES:a})}),d=u.prototype,l=fE(n),h=function(_,S,y){var b,I,x=l(_),D=m(_,S);return D?D.value=y:(x.last=D={index:I=rU(S,!0),key:S,value:y,previous:b=x.last,next:null,removed:!1},x.first||(x.first=D),b&&(b.next=D),_g?x.size++:_.size++,I!=="F"&&(x.index[I]=D)),_},m=function(_,S){var y,b=l(_),I=rU(S);if(I!=="F")return b.index[I];for(y=b.first;y;y=y.next)if(y.key===S)return y};return eU(d,{clear:function(){for(var _=l(this),S=_.first;S;)S.removed=!0,S.previous&&(S.previous=S.previous.next=null),S=S.next;_.first=_.last=null,_.index=ZB(null),_g?_.size=0:this.size=0},delete:function(_){var S=this,y=l(S),b=m(S,_);if(b){var I=b.next,x=b.previous;delete y.index[b.index],b.removed=!0,x&&(x.next=I),I&&(I.previous=x),y.first===b&&(y.first=I),y.last===b&&(y.last=x),_g?y.size--:S.size--}return!!b},forEach:function(_){for(var S,y=l(this),b=cue(_,arguments.length>1?arguments[1]:void 0);S=S?S.next:y.first;)for(b(S.value,S.key,this);S&&S.removed;)S=S.previous},has:function(_){return!!m(this,_)}}),eU(d,a?{get:function(_){var S=m(this,_);return S&&S.value},set:function(_,S){return h(this,_===0?0:_,S)}}:{add:function(_){return h(this,_=_===0?0:_,_)}}),_g&&uue(d,"size",{configurable:!0,get:function(){return l(this).size}}),u},setStrong:function(r,n,a){var s=n+" Iterator",u=fE(n),d=fE(s);hue(r,n,function(l,h){nU(this,{type:s,target:l,state:u(l),kind:h,last:null})},function(){for(var l=d(this),h=l.kind,m=l.last;m&&m.removed;)m=m.previous;return l.target&&(l.last=m=m?m.next:l.state.first)?tU(h==="keys"?m.key:h==="values"?m.value:[m.key,m.value],!1):(l.target=null,tU(void 0,!0))},a?"entries":"values",!a,!0),pue(n)}},mue=function(r,n,a){var s,u=r.indexOf("Map")!==-1,d=r.indexOf("Weak")!==-1,l=u?"set":"add",h=Kse[r],m=h&&h.prototype,_={};if(oue&&Zse(h)&&(d||m.forEach&&!Xse(function(){new h().entries().next()}))){var S=(s=n(function(b,I){aue(qse(b,S),{type:r,collection:new h}),tue(I)||Jse(I,b[l],{that:b,AS_ENTRIES:u})})).prototype,y=sue(r);iue(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(b){var I=b==="add"||b==="set";!(b in m)||d&&b==="clear"||Qse(S,b,function(x,D){var W=y(this).collection;if(!I&&d&&!eue(x))return b==="get"&&void 0;var $=W[b](x===0?0:x,D);return I?this:$})}),d||nue(S,"size",{configurable:!0,get:function(){return y(this).collection.size}})}else s=a.getConstructor(n,r,u,l),Yse.enable();return rue(s,r,!1,!0),_[r]=s,$se({global:!0,forced:!0},_),d||a.setStrong(s,r,u),s};mue("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},gue);var vue=yl,_ue=TypeError,Dl=function(r){if(R(r)=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new _ue(vue(r)+" is not a set")},hE=function(r,n){return n===1?function(a,s){return a[r](s)}:function(a,s,u){return a[r](s,u)}},iU=zn("Set"),yue=iU.prototype,Lo={Set:iU,add:hE("add",1),has:hE("has",1),remove:hE("delete",1),proto:yue},Sue=xn,Rl=function(r,n,a){for(var s,u,d=a?r:r.iterator,l=r.next;!(s=Sue(l,d)).done;)if((u=n(s.value))!==void 0)return u},bue=Rl,yg=function(r,n,a){return a?bue(r.keys(),n,!0):r.forEach(n)},Cue=yg,Tue=Lo.Set,Iue=Lo.add,pE=function(r){var n=new Tue;return Cue(r,function(a){Iue(n,a)}),n},Sg=function(r){return r.size},oU=Oo,aU=ji,sU=xn,wue=Wp,Eue=function(r){return{iterator:r,next:r.next,done:!1}},uU="Invalid size",xue=RangeError,Aue=TypeError,Pue=Math.max,cU=function(r,n){this.set=r,this.size=Pue(n,0),this.has=oU(r.has),this.keys=oU(r.keys)};cU.prototype={getIterator:function(){return Eue(aU(sU(this.keys,this.set)))},includes:function(r){return sU(this.has,this.set,r)}};var Fl=function(r){aU(r);var n=+r.size;if(n!=n)throw new Aue(uU);var a=wue(n);if(a<0)throw new xue(uU);return new cU(r,a)},kue=Dl,Due=pE,Rue=Sg,Fue=Fl,Oue=yg,Nue=Rl,Mue=Lo.has,lU=Lo.remove,Ol=function(){return!1},Lue=function(r){var n=kue(this),a=Fue(r),s=Due(n);return Rue(n)<=a.size?Oue(n,function(u){a.includes(u)&&lU(s,u)}):Nue(a.getIterator(),function(u){Mue(n,u)&&lU(s,u)}),s};wt({target:"Set",proto:!0,real:!0,forced:!Ol()},{difference:Lue});var Wue=Dl,Bue=Sg,Uue=Fl,Vue=yg,jue=Rl,Gue=Lo.Set,dU=Lo.add,zue=Lo.has,Hue=function(r){var n=Wue(this),a=Uue(r),s=new Gue;return Bue(n)>a.size?jue(a.getIterator(),function(u){zue(n,u)&&dU(s,u)}):Vue(n,function(u){a.includes(u)&&dU(s,u)}),s};wt({target:"Set",proto:!0,real:!0,forced:!Ol()},{intersection:Hue});var $ue=Dl,Kue=Lo.has,Yue=Sg,Xue=Fl,Que=yg,Jue=Rl,que=J_,Zue=function(r){var n=$ue(this),a=Xue(r);if(Yue(n)<=a.size)return Que(n,function(u){if(a.includes(u))return!1},!0)!==!1;var s=a.getIterator();return Jue(s,function(u){if(Kue(n,u))return que(s,"normal",!1)})!==!1};wt({target:"Set",proto:!0,real:!0,forced:!Ol()},{isDisjointFrom:Zue});var ece=Dl,tce=Sg,rce=yg,nce=Fl,ice=function(r){var n=ece(this),a=nce(r);return!(tce(n)>a.size)&&rce(n,function(s){if(!a.includes(s))return!1},!0)!==!1};wt({target:"Set",proto:!0,real:!0,forced:!Ol()},{isSubsetOf:ice});var oce=Dl,ace=Lo.has,sce=Sg,uce=Fl,cce=Rl,lce=J_,dce=function(r){var n=oce(this),a=uce(r);if(sce(n)<a.size)return!1;var s=a.getIterator();return cce(s,function(u){if(!ace(n,u))return lce(s,"normal",!1)})!==!1};wt({target:"Set",proto:!0,real:!0,forced:!Ol()},{isSupersetOf:dce});var fce=Dl,hce=pE,pce=Fl,gce=Rl,mce=Lo.add,vce=Lo.has,_ce=Lo.remove,yce=function(r){var n=fce(this),a=pce(r).getIterator(),s=hce(n);return gce(a,function(u){vce(n,u)?_ce(s,u):mce(s,u)}),s};wt({target:"Set",proto:!0,real:!0,forced:!Ol()},{symmetricDifference:yce});var Sce=Dl,bce=Lo.add,Cce=pE,Tce=Fl,Ice=Rl,wce=function(r){var n=Sce(this),a=Tce(r).getIterator(),s=Cce(n);return Ice(a,function(u){bce(s,u)}),s};wt({target:"Set",proto:!0,real:!0,forced:!Ol()},{union:wce});var Ece=fe(qr.Set),fU=fe(WL);function hU(r,n){var a=v0(r);if(RN){var s=RN(r);n&&(s=LB(s).call(s,function(u){return WN(r,u).enumerable})),a.push.apply(a,s)}return a}function Tf(r){for(var n=1;n<arguments.length;n++){var a,s,u=arguments[n]!=null?arguments[n]:{};n%2?Bt(a=hU(Object(u),!0)).call(a,function(d){ct(r,d,u[d])}):UN?sq(r,UN(u)):Bt(s=hU(Object(u))).call(s,function(d){fU(r,d,WN(u,d))})}return r}function N0(r){var n=function(){if(typeof Reflect>"u"||!V_||V_.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(V_(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,s=cf(r);if(n){var u=cf(this).constructor;a=V_(s,arguments,u)}else a=s.apply(this,arguments);return function(d,l){if(l&&(df(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zr(d)}(this,a)}}var pc=function(r){return TW?TW(r):function(n){return Object.prototype.toString.call(n)}(r)==="[object Array]"},pi=function(r){return r===void 0},pU=function(r,n){var a,s;r=(a=r)!==null&&a!==void 0?a:"yyyy-MM-dd hh:mm:ss";var u=pi(n)?new Date:new Date(n),d={"M+":(u.getMonth()+1).toString(),"d+":u.getDate().toString(),"h+":u.getHours().toString(),"m+":u.getMinutes().toString(),"s+":u.getSeconds().toString(),"q+":Math.floor((u.getMonth()+3)/3).toString(),S:u.getMilliseconds().toString()};return/(y+)/.test(r)&&(r=r.replace(RegExp.$1,"".concat(u.getFullYear()).substring(4-RegExp.$1.length))),Bt(s=v0(d)).call(s,function(l){new RegExp("(".concat(l,")")).test(r)&&(r=r.replace(RegExp.$1,RegExp.$1.length===1?d[l]:"00".concat(d[l]).substring("".concat(d[l]).length)))}),r},en=function(r){return typeof r=="string"},Nl=function(r){return typeof r=="number"&&!hf(r)},Ml=function(r){return typeof r=="function"},gU=0,gc=function(){var r;return gU+=1,cc(r="".concat(new Date().getTime().toString(36))).call(r,gU.toString(36))};(function(r,n){for(var a=v0(r),s=0;s<a.length;s++){var u=a[s];if(n.call(null,r[u],u,r)===!1)break}})({"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'"',"&#x27;":"'"},function(r,n){}),function(r,n){for(var a=v0(r),s=0;s<a.length;s++){var u=a[s];if(n.call(null,r[u],u,r)===!1)break}}({"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'"',"&#x27;":"'"},function(r,n){});var M0=function(r){var n=Yoe||window.webkitURL;/^blob:/.test(r)&&n.revokeObjectURL(r)},mU=function(){function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";Pn(this,r),ct(this,"prefix",void 0),ct(this,"postfix",void 0),ct(this,"isDestroyed",!1),ct(this,"uid",gc()),ct(this,"cacheEvents",void 0),ct(this,"events",void 0),ct(this,"isCached",void 0),this.cacheEvents=[],this.events={},this.isCached=!1,this.prefix=n,this.postfix=a}return kn(r,[{key:"save",value:function(){this.isCached=!0}},{key:"restore",value:function(){var n,a=this;this.isCached=!1,Bt(n=this.cacheEvents).call(n,function(s){var u,d=s.eventName,l=s.param;a.emit.apply(a,cc(u=[d]).call(u,bn(l)))}),this.cacheEvents.length=0}},{key:"destroy",value:function(){var n=this;if(!this.isDestroyed){for(var a in this.events)if(Object.prototype.hasOwnProperty.call(this.events,a)){var s,u=this.events[a];u&&Bt(s=hc(u).call(u)).call(s,function(d){var l=d.name,h=d.fn,m=d.context,_=d.once;n.off(l,h,m,_)})}this.events={},this.isDestroyed=!0}}},{key:"on",value:function(n,a,s){var u,d=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.events,h={name:n=this.format(n),uid:gc(),context:s,once:d,fn:a};return l[n]||(l[n]=[]),fi(u=l[n]).call(u,h)<0&&l[n].push(h),h}},{key:"once",value:function(n,a,s){return this.on(n,a,s,!0)}},{key:"emit",value:function(n){for(var a,s,u=this,d=arguments.length,l=new Array(d>1?d-1:0),h=1;h<d;h++)l[h-1]=arguments[h];if(this.isCached)return this.cacheEvents.push({eventName:n,param:l}),!0;var m=this.events[n=this.format(n)];return!(!m||!m.length||(Bt(a=hc(m).call(m)).call(a,function(_){var S,y=_.fn,b=_.context;y.call.apply(y,cc(S=[b||null]).call(S,l))}),Bt(s=hc(m).call(m)).call(s,function(_){var S=_.fn,y=_.context,b=_.once;b&&u.off(n,S,y,b)}),0))}},{key:"off",value:function(n,a,s,u){var d=this.events[n=this.format(n)];if(!d)return!1;if(!arguments.length)return d.length=0,!0;for(var l=d.length-1;l>=0;l--){var h=d[l];a&&h.fn!==a||s&&h.context!==s||u&&h.once!==u||hi(d).call(d,l,1)}return!0}},{key:"removeAllEventListeners",value:function(n){if(n){var a,s;n=this.format(n);var u=kB(a=this.cacheEvents).call(a,function(d){return d.eventName===n});u>-1&&hi(s=this.cacheEvents).call(s,u,1),this.events[n]&&delete this.events[n]}else this.cacheEvents=[],this.events={}}},{key:"getAllEvents",value:function(){return this.events}},{key:"format",value:function(n){var a,s;return cc(a=cc(s="".concat(this.prefix||"")).call(s,n)).call(a,this.postfix||"")}}],[{key:"create",value:function(n,a){return new r(n,a)}}]),r}(),gE="default",dr=function(){function r(){Pn(this,r),ct(this,"emitter",new mU)}return kn(r,[{key:"on",value:function(n){this.emitter.on(gE,n)}},{key:"emit",value:function(){for(var n,a,s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];(n=this.emitter).emit.apply(n,cc(a=[gE]).call(a,u))}},{key:"off",value:function(n){this.emitter.off(gE,n)}}],[{key:"create",value:function(){return new r}}]),r}(),bg=function(){function r(n){Pn(this,r),ct(this,"uid",void 0),ct(this,"children",void 0),this.uid=n.uid,this.children=n.children||[]}return kn(r,[{key:"append",value:function(n){var a=this.children;return fi(a).call(a,n)<0&&(a.push(n),!0)}},{key:"insert",value:function(n,a){var s=this.children;return!(a<0||(a>s.length&&(a=s.length),hi(s).call(s,a,0,n),0))}},{key:"remove",value:function(n){var a=this.children,s=fi(a).call(a,n);return!(s<0||(hi(a).call(a,s,1),0))}},{key:"clear",value:function(){return this.children=[],!0}},{key:"move",value:function(n,a){if(n===a)return!0;var s=this.children,u=ff(hi(s).call(s,n,1),1)[0];return hi(s).call(s,a,0,u),!0}},{key:"switch",value:function(n,a){if(n===a)return!0;var s=this.children,u=s[n];return s[n]=s[a],s[a]=u,!0}},{key:"reorder",value:function(n){var a=this.children,s=n.length,u=[],d=0;if(a.length!==s||s===0)return!1;for(var l=0;l<s;l++)n[l]===l&&(d+=1);if(d===s)return!0;for(var h=0;h<s;h++)u[h]=a[n[h]];for(var m=0;m<s;m++)a[m]=u[m];return!0}}]),r}(),vU=function(){function r(n,a){Pn(this,r),ct(this,"isDestroyed",!1),ct(this,"data",void 0),ct(this,"table",["database","table","item"]),ct(this,"dbName",void 0),ct(this,"tableName",void 0),this.data={},this.dbName=n,this.tableName=a,this.createDatabase(n,a)}return kn(r,[{key:"destroy",value:function(){if(!this.isDestroyed){for(var n=0,a=R0(this.data);n<a.length;n++){var s=ff(a[n],2),u=s[0];s[1],this.data[u]=null}this.data=null,this.isDestroyed=!0}}},{key:"createDatabase",value:function(n,a){this.data[n]={},this.data[n][a]={}}},{key:"set",value:function(n,a){var s=this,u=this.dbName,d=this.tableName;return new F0(function(l,h){s.checkId(n)?h(new Error("The ".concat(n," already exists."))):(s.data[u][d][n]=a,l("Save ".concat(n," to database successful.")))})}},{key:"get",value:function(n){var a=this,s=this.dbName,u=this.tableName;return new F0(function(d,l){a.checkId(n)?d(a.data[s][u][n]):l(a.erMsg(2,n))})}},{key:"remove",value:function(n){var a=this,s=this.dbName,u=this.tableName;return new F0(function(d,l){delete a.data[s][u][n],d("Remove ".concat(n," successful."))})}},{key:"update",value:function(n,a){var s=this,u=this.dbName,d=this.tableName;return new F0(function(l,h){s.checkId(n)?(s.data[u][d][n]=a,l("Update ".concat(n," successful."))):h(s.erMsg(2,n))})}},{key:"checkId",value:function(n){var a=this.dbName,s=this.tableName;return this.data[a][s][n]!==void 0}},{key:"erMsg",value:function(n,a){var s;return cc(s="The ".concat(this.table[n]," ")).call(s,a," does not exist.")}}]),r}(),L0=function(){function r(){Pn(this,r),ct(this,"isDestroyed",!1),ct(this,"data",void 0),this.data={}}return kn(r,[{key:"destroy",value:function(){if(!this.isDestroyed){for(var n=0,a=R0(this.data);n<a.length;n++){var s,u=ff(a[n],2),d=u[0];u[1],(s=this.data[d])!==null&&s!==void 0&&s.destroy(),this.data[d]=null}this.data=null,this.isDestroyed=!0}}},{key:"set",value:function(n,a){return!this.check(n)&&(this.data[n]=a,!0)}},{key:"get",value:function(n){return this.data[n]}},{key:"remove",value:function(n){return!!this.check(n)&&(delete this.data[n],!0)}},{key:"update",value:function(n,a){return!!this.check(n)&&(this.data[n]=a,!0)}},{key:"check",value:function(n){return this.data[n]!==void 0}}]),r}(),_U=function(r){h0(a,r);var n=N0(a);function a(s){var u;return Pn(this,a),ct(Zr(u=n.call(this,s)),"name",void 0),ct(Zr(u),"type",void 0),ct(Zr(u),"fileType",void 0),ct(Zr(u),"createdDate",void 0),ct(Zr(u),"modifiedDate",void 0),ct(Zr(u),"parent",void 0),ct(Zr(u),"isRoot",!1),u.name=s.name,u.type=s.type,u.fileType=s.fileType,u.parent=s.parent||null,u.isRoot=s.isRoot||!1,u.createdDate=pU(),u.modifiedDate=u.createdDate,u}return kn(a,[{key:"updateDate",value:function(){this.modifiedDate=pU()}},{key:"setName",value:function(s){this.name=s}},{key:"reorder",value:function(s){var u=this.type;return(u==="file"||u==="default")&&sw(cf(a.prototype),"reorder",this).call(this,s)}}]),a}(bg),xce=function(){function r(){Pn(this,r),ct(this,"root",void 0),ct(this,"currentNode",void 0),ct(this,"selectedUid",void 0),ct(this,"defaultNode",void 0),ct(this,"hooks",{fileChanged:dr.create(),beforeRemoveFile:dr.create(),removeFile:dr.create(),afterRemoveFile:dr.create(),afterRenameFile:dr.create(),destroy:dr.create()}),this.root=new _U({uid:gc(),children:[],name:"root",type:"file",fileType:"folder",parent:void 0,isRoot:!0}),this.defaultNode=this.root,this.currentNode=this.root}return kn(r,[{key:"appendChildrenToFile",value:function(n,a,s){var u=s,d=yU(this.defaultNode,n);return d||(d=this.createFile(n),this.hooks.fileChanged.emit(this.defaultNode)),Bt(a).call(a,function(l){pi(u)?d.append(l):(d.insert(l,u),u+=1)}),d}},{key:"removeChildFromFile",value:function(n,a){en(a)&&(a=[a]);var s=this.getFileByUid(n);s&&Bt(a).call(a,function(u){s.remove(u)})}},{key:"findChild",value:function(n,a){var s;return pg(s=n.children).call(s,function(u){return u.name===a})}},{key:"createFile",value:function(n){var a=this.defaultNode;a||(a=this.root);var s=yU(a,n);return s&&s.type==="file"||(s=new _U({uid:gc(),children:[],name:n,type:"file",fileType:"file",parent:a,isRoot:!1}),this.currentNode.append(s),this.hooks.fileChanged.emit(this.currentNode.children)),s}},{key:"removeFile",value:function(n){for(var a=this.defaultNode.children,s=0;s<a.length;s++){var u=a[s];if(u.name===n)return this.hooks.beforeRemoveFile.emit(u),hi(a).call(a,s,1),this.hooks.afterRemoveFile.emit(u),this.hooks.fileChanged.emit(u),!0}return!1}},{key:"renameFile",value:function(n,a){var s=this.findChild(this.defaultNode,n),u=this.findChild(this.defaultNode,a);return!!s&&!u&&(s.name=a,this.hooks.afterRenameFile.emit(s),this.hooks.fileChanged.emit(this.currentNode.children),!0)}},{key:"getFile",value:function(n){return this.findChild(this.defaultNode,n)}},{key:"getFileByUid",value:function(n){return pg(this).call(this,n,this.root)}},{key:"getCurrentFileList",value:function(){return this.currentNode.children}},{key:"isFileExist",value:function(n){return!!this.findChild(this.defaultNode,n)}},{key:"createFolder",value:function(){}},{key:"find",value:function(n,a){for(var s=a.children,u=s.length,d=0;d<u;d++){if(s[d].uid===n)return s[d];if(s[d].children){var l=pg(this).call(this,n,s[d]);if(l)return l}}return null}}]),r}();function yU(r,n){var a,s=LB(a=r.children).call(a,function(u){return u.name===n});return s.length===0?null:s[0]}var SU,W0,bU=function(r){h0(a,r);var n=N0(a);function a(s){var u;return Pn(this,a),ct(Zr(u=n.call(this,s)),"name",void 0),ct(Zr(u),"type","tag"),u.name=s.name,u.uid=s.uid||gc(),u.type="tag",u}return kn(a)}(bg),Ace=function(){function r(){Pn(this,r),ct(this,"tags",void 0),ct(this,"defaultName",void 0),ct(this,"defaultUid",void 0),ct(this,"selectedUid",void 0),ct(this,"emptyItem",void 0),ct(this,"hooks",{beforeRemoveTag:dr.create(),afterRenameTag:dr.create(),destroy:dr.create(),load:dr.create()}),this.tags=[],this.defaultName=null,this.defaultUid=null,this.selectedUid=null,this.emptyItem=new bU({name:"defaultTag",children:[]})}return kn(r,[{key:"appendChildToTag",value:function(n,a){var s=this.createTag(n);en(a)&&(a=[a]);var u=!1;return Bt(a).call(a,function(d){s.append(d)&&(u=!0)}),u}},{key:"removeChildFromTag",value:function(n,a){var s=this.getTag(n);return!!s&&(en(a)&&(a=[a]),Bt(a).call(a,function(u){s.remove(u)}),!0)}},{key:"createTag",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=this.getTag(n);return s||(s=new bU({name:n,children:a}),this.tags.push(s)),s}},{key:"removeTag",value:function(n){var a,s,u=this.getTag(n);if(!u)return!1;this.hooks.beforeRemoveTag.emit(u);var d=kB(a=this.tags).call(a,function(l){return l.name===n});return n===this.defaultName&&(this.defaultName=null,this.selectedUid=null),hi(s=this.tags).call(s,d,1),!0}},{key:"renameTag",value:function(n,a){if(!en(n)||!en(a))return!1;var s=this.isTagExisted(a),u=this.getTag(n);return!(!u||s||(u.name=a,this.hooks.afterRenameTag.emit(u),0))}},{key:"getTag",value:function(n){var a;return pg(a=this.tags).call(a,function(s){return s.name===n})}},{key:"getTagByUid",value:function(n){var a;return pg(a=this.tags).call(a,function(s){return s.uid===n})}},{key:"getTagList",value:function(){var n;return hc(n=this.tags).call(n)}},{key:"setDefaultTag",value:function(n){if(!n)return this.defaultName=null,this.defaultUid=null,!0;var a=this.getTag(n);return!!a&&(this.defaultName=n,this.defaultUid=a.uid,!0)}},{key:"getDefaultTag",value:function(){return this.defaultName}},{key:"isTagExisted",value:function(n){return!!this.getTag(n)}}]),r}(),Pce=function(){function r(){Pn(this,r)}return kn(r,[{key:"apply",value:function(n){var a=n.hooks,s={beforeStatus:null,afterStatus:null,operation:null,docUid:null},u=function(l){s.beforeStatus={uids:l.uids,selectedUids:[],currentUid:"",modifiedUid:l.modifiedUid,removedUids:l.removedUids}},d=function(l){s.afterStatus={uids:l.uids,selectedUids:[],currentUid:"",modifiedUid:l.modifiedUid,removedUids:l.removedUids},s.docUid=l.docUid,s.operation=l.operation,s.docType=l.docType,s.docName=l.docName,n.emit("bufferChanged",Tf({},s)),s={beforeStatus:null,afterStatus:null,operation:null,docUid:null}};a.beforeBufferChanged.on(u),a.afterBufferChanged.on(d),a.destroy.on(function(){a.beforeBufferChanged.off(u),a.afterBufferChanged.off(d)})}}]),r}(),kce=function(){function r(){Pn(this,r)}return kn(r,[{key:"apply",value:function(n){var a=n.hooks;n.customStore=new L0;var s=function(l){var h=l.data;Bt(h).call(h,function(m){var _=m.customData;_||(_={}),n.customStore.set(m.uid,_)})},u=function(l){var h=l.removedUids;Bt(h).call(h,function(m){n.customStore.remove(m)})},d=function(l){var h=l.data.customData;h&&n.customStore.update(l.modifiedUid,h)};a.loadSource.on(s),a.removeSource.on(u),a.updateSource.on(d),a.destroy.on(function(){a.loadSource.off(s),a.removeSource.off(u),a.updateSource.off(d)})}}]),r}(),Dce=function(r){h0(a,r);var n=N0(a);function a(){var s;return Pn(this,a),ct(Zr(s=n.call(this,{uid:gc(),children:[]})),"name","dvs-default"),ct(Zr(s),"isDestroyed",!1),ct(Zr(s),"type",void 0),s}return kn(a,[{key:"destroy",value:function(){this.isDestroyed||(this.isDestroyed=!0)}}]),a}(bg),Rce=function(){function r(){Pn(this,r)}return kn(r,[{key:"apply",value:function(n){n.defaultFile=new Dce;var a=n.hooks,s=function(d){var l,h,m,_=d.filename,S=d.index,y=d.data;if(pi(_)){var b=gg(y).call(y,function(x){return x.uid});S===void 0?(l=n.defaultFile.children).push.apply(l,bn(b)):hi(h=n.defaultFile.children).apply(h,cc(m=[S,0]).call(m,bn(b)));var I={docUid:n.defaultFile.uid,sourceUids:b,type:"default",index:S};n.hooks.loadToDoc.emit(I)}},u=function(d){var l=d.removedUids,h=[];Bt(l).call(l,function(m){var _=n.statusStore.get(m);_&&_.ownerDefaultFile&&(n.defaultFile.remove(m),h.push(m))}),h.length&&n.hooks.removeFromDoc.emit({docUid:n.defaultFile.uid,sourceUids:l,type:"default"})};a.loadSource.on(s),a.removeSource.on(u),a.destroy.on(function(){a.loadSource.off(s),a.removeSource.off(u)})}}]),r}(),Fce=function(){function r(){Pn(this,r)}return kn(r,[{key:"apply",value:function(n){n.dir=new xce,this.listenDirectoryHooks(n),this.listenSpaceHooks(n)}},{key:"listenDirectoryHooks",value:function(n){var a=n.dir.hooks,s=function(d){var l;Bt(l=d.children).call(l,function(h){var m=n.statusStore.get(h);m&&m.ownerFiles.remove(d.uid)}),n.hooks.removeDoc.emit(d)},u=function(d){n.hooks.renameDoc.emit(d)};a.beforeRemoveFile.on(s),a.afterRenameFile.on(u),a.destroy.on(function(){a.beforeRemoveFile.off(s),a.afterRenameFile.off(u)})}},{key:"listenSpaceHooks",value:function(n){var a=n.hooks,s=function(l){var h=l.data,m=l.filename,_=l.index;if(!pi(m)){var S=n.dir.getFile(m);n.hooks.beforeBufferChanged.emit({docType:"file",docUid:S==null?void 0:S.uid,uids:bn((S==null?void 0:S.children)||[]),operation:"add"});var y=gg(h).call(h,function(x){return x.uid}),b=n.dir.appendChildrenToFile(m,y,_),I={docUid:b.uid,sourceUids:y,type:"file",index:_};n.hooks.loadToDoc.emit(I),n.hooks.afterBufferChanged.emit({docType:"file",docName:m,docUid:b==null?void 0:b.uid,uids:bn((b==null?void 0:b.children)||[]),operation:"add"})}},u=function(l){var h=l.removedUids,m={};Bt(h).call(h,function(D){var W,$,te=n.statusStore.get(D);te&&Bt(W=hc($=te.ownerFiles.children).call($)).call(W,function(q){m[q]||(m[q]=[]),m[q].push(D)})});for(var _=0,S=R0(m);_<S.length;_++){var y=ff(S[_],2),b=y[0],I=y[1],x=n.dir.getFileByUid(b);x&&(n.hooks.beforeBufferChanged.emit({docUid:b,uids:bn(x.children),removedUids:bn(I),operation:"remove"}),n.dir.removeChildFromFile(b,I),n.hooks.afterBufferChanged.emit({docType:"file",docName:x.name,docUid:b,uids:bn(x.children),removedUids:bn(I),operation:"remove"})),n.hooks.removeFromDoc.emit({docUid:b,sourceUids:I})}},d=function(l){var h,m,_=n.statusStore.get(l.modifiedUid);_&&Bt(h=hc(m=_.ownerFiles.children).call(m)).call(h,function(S){var y=n.dir.getFileByUid(S);y&&(n.hooks.beforeBufferChanged.emit({uids:bn(y.children),modifiedUid:l.modifiedUid,operation:"modify"}),n.hooks.afterBufferChanged.emit({docType:"file",docName:y.name,docUid:S,uids:bn(y.children),modifiedUid:l.modifiedUid,operation:"modify"}))})};a.loadSource.on(s),a.removeSource.on(u),a.updateSource.on(d),a.destroy.on(function(){a.loadSource.off(s),a.removeSource.off(u),a.updateSource.off(d)})}}]),r}(),Oce=function(){function r(){Pn(this,r)}return kn(r,[{key:"apply",value:function(n){var a=n.hooks;n.metadataStore=new L0;var s=function(l){var h=l.data;Bt(h).call(h,function(m){var _=m.metadata;_||(_={width:void 0,height:void 0}),n.metadataStore.set(m.uid,_)})},u=function(l){var h=l.removedUids;Bt(h).call(h,function(m){n.metadataStore.remove(m)})},d=function(l){var h=l.data.metadata;h&&n.metadataStore.update(l.modifiedUid,h)};a.loadSource.on(s),a.removeSource.on(u),a.updateSource.on(d),a.destroy.on(function(){a.loadSource.off(s),a.removeSource.off(u),a.updateSource.off(d)})}}]),r}(),Nce=function(){function r(n){Pn(this,r),ct(this,"uid",null),ct(this,"minData",null),ct(this,"oriData",null),ct(this,"customData",{}),ct(this,"activeOri",!1),ct(this,"activeMin",!1),ct(this,"minTask",null),ct(this,"oriTask",null),ct(this,"load",!1),ct(this,"preload",[]),ct(this,"visible",[]),ct(this,"overlays",[]),ct(this,"img",null),ct(this,"minImg",null),ct(this,"imageScale",1),ct(this,"owners",[]),ct(this,"oriType",null),ct(this,"minType",null),ct(this,"metadata",null),ct(this,"realTimeWidth",0),ct(this,"realTimeHeight",0),ct(this,"isFromFile",!1),ct(this,"isCached",!1),ct(this,"isDestroyed",!1),ct(this,"isLoading",!1),ct(this,"isMinLoading",!1),ct(this,"isSaving",!1),ct(this,"annotations",void 0),ct(this,"ownerFiles",new bg({children:[]})),ct(this,"ownerTags",new bg({children:[]})),ct(this,"ownerDefaultFile",void 0),ct(this,"operations",[]),ct(this,"useFillColor",!1),this.uid=n.uid,this.metadata=Tf({},n.metadata),this.setRealTimeSize(this.metadata.width,this.metadata.height)}return kn(r,[{key:"setRealTimeSize",value:function(n,a){this.realTimeWidth=n,this.realTimeHeight=a}},{key:"destroy",value:function(){this.isDestroyed||(this.customData=null,this.img=null,this.owners=null,this.metadata=null,this.isDestroyed=!0)}},{key:"addOwner",value:function(n){var a=this.owners;fi(a).call(a,n)<0&&a.push(n)}},{key:"removeOwner",value:function(n){var a=this.owners,s=fi(a).call(a,n);s>-1&&hi(a).call(a,s,1)}},{key:"removeViewer",value:function(n){var a=this.owners,s=fi(a).call(a,n);s>-1&&hi(a).call(a,s,1)}},{key:"setVisible",value:function(n){var a;fi(a=this.visible).call(a,n)<0&&this.visible.push(n)}},{key:"cancelVisible",value:function(n){var a,s,u=fi(a=this.visible).call(a,n);u>-1&&hi(s=this.visible).call(s,u,1)}},{key:"setPreload",value:function(n){var a;fi(a=this.preload).call(a,n)<0&&this.preload.push(n)}},{key:"cancelPreload",value:function(n){var a,s,u=fi(a=this.preload).call(a,n);u>-1&&hi(s=this.preload).call(s,u,1)}},{key:"reset",value:function(){this.minData=null,this.oriData=null,this.img=null,this.activeOri=!1,this.activeMin=!1,this.minTask=null,this.oriTask=null,this.operations=[]}}]),r}(),Mce=function(){function r(){Pn(this,r)}return kn(r,[{key:"apply",value:function(n){var a=n.hooks;n.statusStore=new L0;var s=function(_){var S=_.data;_.filename,_.index,Bt(S).call(S,function(y){var b=new Nce(y);n.statusStore.set(y.uid,b)})},u=function(_){var S=_.removedUids;Bt(S).call(S,function(y){var b,I,x=n.statusStore.get(y);x&&(M0(x.minData),M0(x.oriData),x.ownerFiles.clear(),x.ownerTags.clear(),x.ownerDefaultFile=!1,(b=x.img)!==null&&b!==void 0&&b.src&&(x.img.src=""),(I=x.minImg)!==null&&I!==void 0&&I.src&&(x.minImg.src=""),x.img=null,x.minImg=null),n.statusStore.remove(y)})},d=function(_){var S=_.modifiedUid,y=_.data,b=_.revoke,I=n.statusStore.get(S);if(I){I.img=null,I.minImg=null;var x=y.metadata;x&&(I.metadata=Tf({},x),I.setRealTimeSize(x.width,x.height)),b&&(M0(I.oriData),M0(I.minData)),I.reset(),n.statusStore.update(S,I)}},l=function(_){var S;Bt(S=_.children).call(S,function(y){var b=n.statusStore.get(y);b&&(_.type==="file"?b.ownerFiles.remove(_.uid):_.type==="tag"&&b.ownerTags.remove(_.uid))})},h=function(_){var S=_.docUid,y=_.sourceUids,b=_.type;Bt(y).call(y,function(I){var x=n.statusStore.get(I);x&&(b==="file"?x.ownerFiles.append(S):b==="tag"?x.ownerTags.append(S):b==="default"&&(x.ownerDefaultFile=!0))})},m=function(_){var S=_.docUid,y=_.sourceUids,b=_.type;Bt(y).call(y,function(I){var x=n.statusStore.get(I);x&&(b==="file"?x.ownerFiles.remove(S):b==="tag"?x.ownerTags.remove(S):b==="default"&&(x.ownerDefaultFile=!0))})};a.loadSource.on(s),a.afterRemoveSource.on(u),a.updateSource.on(d),a.removeDoc.on(l),a.loadToDoc.on(h),a.removeFromDoc.on(m),a.destroy.on(function(){a.loadSource.off(s),a.afterRemoveSource.off(u),a.updateSource.off(d),a.removeDoc.off(l),a.loadToDoc.off(h),a.removeFromDoc.off(m)})}}]),r}(),Lce=function(){function r(){Pn(this,r)}return kn(r,[{key:"apply",value:function(n){var a=n.hooks;n.store=new vU("space_db","space_doc");var s=function(l){var h=l.data;h&&Bt(h).call(h,function(m){n.store.set(m.uid,m)})},u=function(l){var h;Bt(h=l.removedUids).call(h,function(m){n.store.remove(m)})},d=function(l){n.store.update(l.modifiedUid,l.data)};a.loadSource.on(s),a.removeSource.on(u),a.updateSource.on(d),a.destroy.on(function(){a.loadSource.off(s),a.removeSource.off(u),a.updateSource.off(d)})}}]),r}(),Wce=function(){function r(){Pn(this,r)}return kn(r,[{key:"apply",value:function(n){n.tag=new Ace,this.listenSpaceHooks(n),this.listenTagHooks(n)}},{key:"listenTagHooks",value:function(n){var a=n.tag.hooks,s=function(d){var l;Bt(l=d.children).call(l,function(h){var m=n.statusStore.get(h);m&&m.ownerFiles.remove(d.uid)}),n.hooks.removeDoc.emit(d)},u=function(d){n.hooks.renameDoc.emit(d)};a.beforeRemoveTag.on(s),a.afterRenameTag.on(u),a.destroy.on(function(){a.beforeRemoveTag.off(s),a.afterRenameTag.off(u)})}},{key:"listenSpaceHooks",value:function(n){var a=n.hooks,s=function(S){var y=S.data,b=n.tag.defaultName;Bt(y).call(y,function(I){var x;I.tags||(I.tags=[]),b&&fi(x=I.tags).call(x,b)<0&&I.tags.push(b)})},u=function(S){var y=S.data;Bt(y).call(y,function(b){var I;(I=b.tags)===null||I===void 0||Bt(I).call(I,function(x){var D=n.tag.getTag(x);n.hooks.beforeBufferChanged.emit({uids:bn((D==null?void 0:D.children)||[]),operation:"add"}),n.tag.appendChildToTag(x,b.uid);var W=n.tag.getTag(x),$={docUid:W.uid,sourceUids:[b.uid],type:"tag"};n.hooks.loadToDoc.emit($),n.hooks.afterBufferChanged.emit({docType:"tag",docName:x,docUid:W==null?void 0:W.uid,uids:bn((W==null?void 0:W.children)||[]),operation:"add"})})})},d=function(S){var y=S.removedUids,b={};Bt(y).call(y,function(q){var X,J,re=n.statusStore.get(q);re&&Bt(X=hc(J=re.ownerTags.children).call(J)).call(X,function(H){b[H]||(b[H]=[]),b[H].push(q)})});for(var I=0,x=R0(b);I<x.length;I++){var D=ff(x[I],2),W=D[0],$=D[1],te=n.tag.getTagByUid(W);te&&(n.hooks.beforeBufferChanged.emit({uids:bn(te.children),removedUids:bn($),operation:"remove"}),n.tag.removeChildFromTag(te.name,$),n.hooks.afterBufferChanged.emit({docType:"tag",docName:te.name,docUid:W,uids:bn(te.children),removedUids:bn($),operation:"remove"})),n.hooks.removeFromDoc.emit({docUid:W,sourceUids:$,type:"tag"})}},l=function(S){S.type!=="tag"&&d({removedUids:S.children})},h=function(S){var y=S.docUid,b=S.sourceUids;if(S.type==="tag"){var I=n.tag.getTagByUid(y);I&&Bt(b).call(b,function(){var x=EL(m0.mark(function D(W){var $,te;return m0.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.prev=0,q.next=3,n.store.get(W);case 3:if(te=q.sent,q.t0=te&&fi($=te.tags).call($,I.name)<0,!q.t0){q.next=9;break}return te.tags.push(I.name),q.next=9,n.store.update(W,te);case 9:q.next=14;break;case 11:q.prev=11,q.t1=q.catch(0);case 14:case"end":return q.stop()}},D,null,[[0,11]])}));return function(D){return x.apply(this,arguments)}}())}},m=function(S){var y=S.docUid,b=S.sourceUids;if(S.type==="tag"){var I=n.tag.getTagByUid(y);I&&Bt(b).call(b,function(){var x=EL(m0.mark(function D(W){var $,te,q,X;return m0.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.prev=0,J.next=3,n.store.get(W);case 3:if(!($=J.sent)){J.next=9;break}return(X=fi(te=$.tags).call(te,I.name))>-1&&hi(q=$.tags).call(q,X,1),J.next=9,n.store.update(W,$);case 9:J.next=14;break;case 11:J.prev=11,J.t0=J.catch(0);case 14:case"end":return J.stop()}},D,null,[[0,11]])}));return function(D){return x.apply(this,arguments)}}())}},_=function(S){var y,b,I=n.statusStore.get(S.modifiedUid);I&&Bt(y=hc(b=I.ownerTags.children).call(b)).call(y,function(x){var D=n.tag.getTagByUid(x);D&&(n.hooks.beforeBufferChanged.emit({uids:bn(D.children),modifiedUid:S.modifiedUid,operation:"modify"}),n.hooks.afterBufferChanged.emit({docType:"tag",docName:D.name,docUid:x,uids:bn(D.children),modifiedUid:S.modifiedUid,operation:"modify"}))})};a.beforeLoadSource.on(s),a.loadSource.on(u),a.removeSource.on(d),a.removeDoc.on(l),a.loadToDoc.on(h),a.removeFromDoc.on(m),a.updateSource.on(_),a.destroy.on(function(){a.beforeLoadSource.off(s),a.loadSource.off(u),a.removeSource.off(d),a.removeDoc.off(l),a.loadToDoc.off(h),a.removeFromDoc.off(m),a.updateSource.off(_)})}}]),r}(),Bce=function(r){h0(a,r);var n=N0(a);function a(){var s;return Pn(this,a),ct(Zr(s=n.call(this)),"uid",gc()),ct(Zr(s),"hooks",{init:dr.create(),destroy:dr.create(),beforeLoadSource:dr.create(),loadSource:dr.create(),afterLoadSource:dr.create(),beforeRemoveSource:dr.create(),removeSource:dr.create(),afterRemoveSource:dr.create(),beforeUpdateSource:dr.create(),updateSource:dr.create(),afterUpdateSource:dr.create(),beforeBufferChanged:dr.create(),afterBufferChanged:dr.create(),directoryChanged:dr.create(),tagChanged:dr.create(),openDoc:dr.create(),loadToDoc:dr.create(),removeFromDoc:dr.create(),removeDoc:dr.create(),renameDoc:dr.create(),move:dr.create(),afterMove:dr.create(),switch:dr.create(),afterSwitch:dr.create(),reorder:dr.create(),afterReorder:dr.create()}),ct(Zr(s),"dir",void 0),ct(Zr(s),"tag",void 0),ct(Zr(s),"store",void 0),ct(Zr(s),"customStore",void 0),ct(Zr(s),"metadataStore",void 0),ct(Zr(s),"statusStore",void 0),ct(Zr(s),"defaultFile",void 0),ct(Zr(s),"plugins",[]),ct(Zr(s),"imageLoader",void 0),s.initPlugins(),s.hooks.init.emit(),s}return kn(a,[{key:"destroy",value:function(){this.hooks.destroy.emit()}},{key:"initPlugins",value:function(){new Lce().apply(this),new Mce().apply(this),new kce().apply(this),new Oce().apply(this),new Pce().apply(this),new Rce().apply(this),new Fce().apply(this),new Wce().apply(this)}},{key:"setImageLoader",value:function(s){this.imageLoader=s}},{key:"getCustomData",value:function(s){return this.customStore.get(s)}},{key:"setCustomData",value:function(s,u){return this.customStore.set(s,u)}},{key:"getMetadata",value:function(s){return this.metadataStore.get(s)}},{key:"setMetadata",value:function(s,u){return this.metadataStore.set(s,u)}},{key:"createStore",value:function(s){var u=s.type,d=u===void 0?"sync":u,l=s.tableName,h=s.dbName;return d==="sync"?new L0:h&&l?new vU(h,l):null}},{key:"loadSource",value:function(s,u){if(pi(s))return[];var d=s.data;if(!pc(d))return[];var l=[];return Bt(d).call(d,function(h){h.uid=gc(),l.push(h.uid)}),Ml(u)&&u(l),this.hooks.beforeLoadSource.emit(s),this.hooks.loadSource.emit(s),this.hooks.afterLoadSource.emit(s),l}},{key:"removeSource",value:function(s){var u=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];en(s)&&(s=[s]);var d={removedUids:s,docUid:"",trigger:this.uid,operation:"remove"};return this.hooks.beforeRemoveSource.emit(d),this.hooks.removeSource.emit(d),u&&this.hooks.afterRemoveSource.emit(d),!0}},{key:"updateSource",value:function(s,u){var d={modifiedUid:s,data:u,revoke:!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],operation:"modify"};return this.hooks.beforeUpdateSource.emit(d),this.hooks.updateSource.emit(d),this.hooks.afterUpdateSource.emit(d),!0}},{key:"getSource",value:function(s){return this.store.get(s)}},{key:"openDefault",value:function(s){var u={node:this.defaultFile,type:"default",config:s};this.hooks.openDoc.emit(u)}},{key:"createFile",value:function(s){return this.dir.createFile(s)}},{key:"removeFile",value:function(s){return this.dir.removeFile(s)}},{key:"renameFile",value:function(s,u){return this.dir.renameFile(s,u)}},{key:"openFile",value:function(s,u){var d=this.getFile(s);if(!d)return!1;var l={node:d,type:"file",config:u};return this.hooks.openDoc.emit(l),!0}},{key:"movePagesToFile",value:function(s,u,d,l){var h=this,m=this.getFile(s),_=this.getFile(d);if(!m||!_)return!1;for(var S=0;S<u.length;S++)if(u[S]<0||u[S]>=m.children.length)return!1;if(l<0)return!1;var y=gg(u).call(u,function(x){return m.children[x]});Bt(y).call(y,function(x){var D=h.statusStore.get(x);D&&D.ownerFiles.remove(m.uid)}),this.dir.removeChildFromFile(m.uid,y),this.hooks.removeFromDoc.emit({docUid:m.uid,sourceUids:y}),l>_.children.length&&(l=_.children.length);var b=this.dir.appendChildrenToFile(d,y,l),I={docUid:b.uid,sourceUids:y,type:"file",index:l,isSameDoc:s===d};return Bt(y).call(y,function(x){var D=h.statusStore.get(x);D&&D.ownerFiles.append(b.uid)}),this.hooks.loadToDoc.emit(I),!0}},{key:"getFile",value:function(s){return this.dir.getFile(s)}},{key:"getFileList",value:function(){return this.dir.getCurrentFileList()}},{key:"isFileExisted",value:function(s){return this.dir.isFileExist(s)}},{key:"createTag",value:function(s){return this.tag.createTag(s)}},{key:"removeTag",value:function(s){for(var u=this.getTag(s).children||[],d=0;d<u.length;d++)this.store.get(u[d]).then(function(l){var h,m,_=fi(h=(l==null?void 0:l.tags)||[]).call(h,s);_!==-1&&hi(m=l.tags).call(m,_,1)});return this.tag.removeTag(s)}},{key:"renameTag",value:function(s,u){var d=this.getTag(s).children||[],l=this.tag.renameTag(s,u);if(l)for(var h=0;h<d.length;h++)this.store.get(d[h]).then(function(m){var _,S,y=fi(_=(m==null?void 0:m.tags)||[]).call(_,s);y!==-1&&hi(S=m.tags).call(S,y,1,u)});return l}},{key:"openTag",value:function(s,u){var d=this.getTag(s);if(!d)return!1;var l={node:d,type:"tag",config:u};return this.hooks.openDoc.emit(l),!0}},{key:"getTag",value:function(s){return this.tag.getTag(s)}},{key:"getTagList",value:function(){return this.tag.getTagList()}},{key:"setDefaultTag",value:function(s){return this.tag.setDefaultTag(s)}},{key:"getDefaultTag",value:function(){return this.tag.getDefaultTag()}},{key:"isTagExisted",value:function(s){return this.tag.isTagExisted(s)}},{key:"addTagToSource",value:function(s,u){if(this.statusStore.get(s)){en(u)&&(u=[u]);for(var d=0;d<u.length;d++)if(!this.addSourceToTag(u[d],s))return!1;return!0}return!1}},{key:"removeTagFromSource",value:function(s,u){if(this.statusStore.get(s)){var d;pi(u)?u=gg(d=this.tag.tags).call(d,function(h){return h.name}):en(u)&&(u=[u]);for(var l=0;l<u.length;l++)if(!this.removeSourceFromTag(u[l],s))return!1;return!0}return!1}},{key:"addSourceToTag",value:function(s,u){var d=this.tag.getTag(s);if(d&&this.tag.appendChildToTag(s,u)){en(u)&&(u=[u]);for(var l=0;l<u.length;l++)this.store.get(u[l]).then(function(m){var _;dse(_=m.tags).call(_,s)||m.tags.push(s)});var h={sourceUids:u,docUid:d.uid,type:"tag"};return this.hooks.loadToDoc.emit(h),!0}return!1}},{key:"removeSourceFromTag",value:function(s,u){var d=this.tag.getTag(s);if(d){this.tag.removeChildFromTag(s,u),en(u)&&(u=[u]);for(var l=0;l<u.length;l++)this.store.get(u[l]).then(function(m){var _,S,y=fi(_=(m==null?void 0:m.tags)||[]).call(_,s);y!==-1&&hi(S=m.tags).call(S,y,1)});var h={docUid:d.uid,sourceUids:u,type:"tag"};return this.hooks.removeFromDoc.emit(h),!0}return!1}},{key:"getSourceTags",value:function(s){var u,d=this,l=this.statusStore.get(s);return l?gg(u=l.ownerTags.children).call(u,function(h){return d.tag.getTagByUid(h).name}):[]}},{key:"switch",value:function(s){var u=s.one,d=s.other,l=s.type,h=s.docUid,m=s.emit,_=this.getDocNode(h,l);if(_){if(_.switch(u,d),m||pi(m)){var S={one:u,other:d,docUid:h,type:_.type,trigger:this.uid,operation:"shift"};this.hooks.switch.emit(S)}return!0}return!1}},{key:"move",value:function(s){var u=s.from,d=s.to,l=s.type,h=s.docUid,m=s.emit,_=this.getDocNode(h,l);if(_){if(_.move(u,d),m||pi(m)){var S={from:u,to:d,docUid:h,type:_.type,trigger:this.uid,operation:"shift"};this.hooks.move.emit(S)}return!0}return!1}},{key:"reorder",value:function(s){var u=s.indexes,d=s.type,l=s.docUid,h=s.emit,m=this.getDocNode(l,d);if(m&&(m.reorder(u),h||pi(h))){var _={indexes:u,docUid:l,type:m.type,trigger:this.uid,operation:"shift"};this.hooks.move.emit(_)}}},{key:"getDocNode",value:function(s,u){switch(u){case"default":return this.defaultFile;case"file":return this.dir.getFileByUid(s);case"tag":return this.tag.getTagByUid(s);default:return s===this.defaultFile.uid?this.defaultFile:this.tag.getTagByUid(s)||this.dir.getFileByUid(s)||null}}}]),a}(mU),Uce={Successful:{errorCode:0,errorString:"Successful."},InvalidIndex:{errorCode:-1033,errorString:"Invalid index."},InvalidValue:{errorCode:-1034,errorString:"Invalid value."},NoImage:{errorCode:-1035,errorString:"There is no image."},UnBindViewer:{errorCode:-2210,errorString:"You cannot call this method on this WebTwain instance because it does not use the default viewer."},AlReadyBindViewer:{errorCode:-2211,errorString:"The element is already bound to the viewer."},ParameterCannotEmpty:{errorCode:-2314,errorString:"The parameter cannot be empty."},IndicesNotArray:{errorCode:-2358,errorString:"The type of the parameter indices must be an Array."},IndexOutOfRange:{errorCode:-2359,errorString:"The index is out of range."},InvalidTagName:{errorCode:-2394,errorString:"Invalid tag name."},InvalidLeftOrTopOrRightOrBottom:{errorCode:-2417,errorString:"The left or top or right or bottom you entered is invalid."},InvalidWidth:{errorCode:-2418,errorString:"The width you entered is invalid."},InvalidHeight:{errorCode:-2419,errorString:"The height you entered is invalid."},WidthOrHeightOutOfImageSize:{errorCode:-2420,errorString:"The width or height is out of image size."},MobileServer_InvalidIndex:{errorCode:-2423,errorString:"The index is invalid."},ImageEditorExist:{errorCode:-2500,errorString:"An ImageEditor already exists."},ThumbnailViewerExist:{errorCode:-2501,errorString:"A ThumbnailViewer already exists."},CustomElementExist:{errorCode:-2502,errorString:"A CustomElement already exists."},ImageEditorDispose:{errorCode:-2504,errorString:"The ImageEditor object has been disposed."},ThumbnailViewerNotExist:{errorCode:-2505,errorString:"This ThumbnailViewer doesn't exist."},ThumbnailViewerDispose:{errorCode:-2506,errorString:"The ThumbnailViewer object has been disposed."},CallbackNotAFunction:{errorCode:-2510,errorString:"The callback is not a function."},ElementRequired:{errorCode:-2511,errorString:"Parameter 'element' is required."},ElementNotExist:{errorCode:-2512,errorString:"Parameter 'element' doesn't instanceof HTMLDivElement."},InvalidPropertyValue:{errorCode:-2514,errorString:"Invalid property value."},CursorInvalidMode:{errorCode:-2519,errorString:"The current mode does not support setting the cursor to zoom."},OldTagNameRequired:{errorCode:-2517,errorString:"Old tag name is required."},NewTagNameRequired:{errorCode:-2518,errorString:"New tag name is required."},FileNameCannotEmpty:{errorCode:-2530,errorString:"Document name cannot be empty."},FileNameNotString:{errorCode:-2531,errorString:"Document name is not a string."},FileNotExist:{errorCode:-2540,errorString:"The document does not exist."},FileExist:{errorCode:-2541,errorString:"The document already exists."},CustomElementDispose:{errorCode:-2508,errorString:"The CustomElement object has been disposed."},CustomElementNotExist:{errorCode:-2507,errorString:"This CustomElement doesn't exist."},ParameterOutRange:{errorCode:80002,errorString:"The parameter is out of range."},TagNotExist:{errorCode:80009,errorString:"Tag does not exist."},TagExist:{errorCode:80010,errorString:"The tag already exists."},OperationError:{errorCode:80022,errorString:"The operation mode is wrong."}};(W0=SU||(SU={}))[W0.Normal=0]="Normal",W0[W0.Balance=1]="Balance";var Vce=function(){function r(n){var a=this;Pn(this,r),ct(this,"space",void 0),ct(this,"webViewer",void 0),ct(this,"isActiveFile",!1),ct(this,"isActiveTag",!1),ct(this,"currentFileName",""),ct(this,"currentTagName",""),ct(this,"bufferConfig",null),ct(this,"currentSelected",[]),ct(this,"lastCurrentSelected",[]),this.space=new Bce,n&&(this.bufferConfig=n),this.space.on("bufferChanged",function(s,u){var d;if(!a.webViewer&&Ml((d=a.bufferConfig)===null||d===void 0?void 0:d.bufferChanged)){var l,h,m,_,S,y,b=[],I=[],x=a.getCurrentDataSet().children;Bt(l=a.currentSelected).call(l,function(W){x&&x[W]&&b.push(x[W])}),Bt(h=a.lastCurrentSelected).call(h,function(W){x&&x[W]&&I.push(x[W])});var D={afterStatus:{uids:s.afterStatus.uids,selectedUids:b,modifiedUid:(s==null||(m=s.afterStatus)===null||m===void 0?void 0:m.modifiedUid)||"",removedUids:(s==null||(_=s.afterStatus)===null||_===void 0?void 0:_.removedUids)||[],currentUid:s.afterStatus.uids[s.afterStatus.uids.length-1]||""},beforeStatus:{uids:s.beforeStatus.uids,selectedUids:I,removedUids:(s==null||(S=s.beforeStatus)===null||S===void 0?void 0:S.removedUids)||[],modifiedUid:(s==null||(y=s.beforeStatus)===null||y===void 0?void 0:y.modifiedUid)||"",currentUid:s.beforeStatus.uids[s.beforeStatus.uids.length-1]||""},operation:s.operation,docUid:s.docUid,total:s.afterStatus.uids.length,curIndex:s.afterStatus.uids.length-1};a.lastCurrentSelected=bn(a.currentSelected),a.bufferConfig.bufferChanged(D,u)}})}return kn(r,[{key:"e",value:function(){this.setError("Successful")}},{key:"IsFileNameExist",value:function(n){var a=this.space.getFileList();if(n==="dynamsoft-default-document")return!0;if(a){for(var s=0;s<a.length;s++)if(a[s].name===n)return!0}return!1}},{key:"getCurrentDataSet",value:function(){if(this.webViewer){var n=this.webViewer.myViewer.getCurrentTab();if(n===void 0)return!1;var a=n.type;this.isActiveFile=a==="file",this.isActiveTag=a==="tag"}if(this.isActiveFile){var s=this.getCurrentFileName(),u=this.space.getFile(s);if(u)return u}if(this.isActiveTag){var d=this.space.getTag(this.currentTagName);if(d)return d}return!1}},{key:"setError",value:function(n){var a;if(n!=="Default"){if(this.webViewer)this.webViewer.setError(n);else if(this.bufferConfig&&this.bufferConfig.viewerError){var s=Uce[n],u=s.errorCode,d=s.errorString;this.bufferConfig.viewerError.setError(u,d)}}else this==null||(a=this.webViewer)===null||a===void 0||a.setDefaultError()}},{key:"emitViewerEvent",value:function(){var n,a;this.webViewer&&this.getHowManyImagesInBuffer()===0&&((n=this.webViewer)===null||n===void 0||(a=n.myViewer)===null||a===void 0||a.emit("pageRendered",-1))}},{key:"bindViewer",value:function(n){this.webViewer=n}},{key:"getCurrentTag",value:function(){return this.currentTagName}},{key:"getCurrentDocument",value:function(){return this.currentFileName}},{key:"getCurrentFileName",value:function(){var n=this,a=this.space.getFileList(),s="";return a&&Bt(a).call(a,function(u){u.name===n.currentFileName&&(s=n.currentFileName)}),s}},{key:"getCurrentIndex",value:function(){if(this.webViewer)return this.webViewer.getCurrentIndex();var n=this.getSelectedImagesIndices().length;if(n<=0){var a=this.getCurrentDataSet();return!!a&&a.children.length-1}return this.getSelectedImagesIndices()[n-1]}},{key:"getHowManyImagesInBuffer",value:function(){if(this.webViewer)return this.webViewer.getHowManyImagesInBuffer();var n=this.getCurrentDataSet();return n?n.children.length:0}},{key:"getSelectedImagesIndices",value:function(){return this.webViewer?this.webViewer.getSelectedImagesIndices():this.currentSelected}},{key:"getIndexByUid",value:function(n){if(!en(n)||!n)return this.setError("InvalidValue"),!1;if(this.webViewer)return this.webViewer.myViewer.getIndexByUid(n);var a=this.getCurrentDataSet(),s=a.children;return!!(a&&s&&pc(s))&&fi(s).call(s,n)}},{key:"getUidByIndex",value:function(n){if(n<0||n>=this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;if(this.webViewer)return this.webViewer.myViewer.getUidByIndex(n);var a=this.getCurrentDataSet().children;return!(a&&a.length<n)&&a[n]}},{key:"getDataByUid",value:function(n){return this.space.getSource(n)}},{key:"updateDataByUid",value:function(n,a){return this.space.store.set(n,a)}},{key:"setCustomDataByUid",value:function(n,a){return en(n)&&n!==""?this.space.setCustomData(n,a):(this.setError("InvalidValue"),!1)}},{key:"getCustomDataByUid",value:function(n){return this.space.getCustomData(n)}},{key:"setMetadataByUid",value:function(n,a){return en(n)&&n!==""?this.space.setMetadata(n,a):(this.setError("InvalidValue"),!1)}},{key:"getMetadataByUid",value:function(n){return this.space.getMetadata(n)}},{key:"addImage",value:function(n,a,s){var u,d,l={},h=this.currentFileName,m="";!pi(s)&&en(s)?(this.IsFileNameExist(s)||this.createDocument(s),m=s):pi(h)||h===""?(this.space.isFileExisted("dynamsoft-default-document")||this.createDocument("dynamsoft-default-document"),this.webViewer&&(this.webViewer.bEmitBufferChanged=!1),this.openDocument("dynamsoft-default-document"),this.webViewer&&(this.webViewer.bEmitBufferChanged=!0),m="dynamsoft-default-document"):m=h,a&&(delete(d=Tf({},a)).oriBlobData,a.oriBlobData&&(u=a.oriBlobData));var _=n.imageUrl,S=n.minImageUrl,y=n.imageId,b=n.serverId,I=n.uidFromServer,x=n.index;u&&(l=Tf({},u)),y&&(l.imageId=y),b&&(l.serverId=b),I&&(l.uidFromServer=I);var D=this.getDocumentContents(m).length;!pi(x)&&Nl(x)?x>=D&&(x=D):x=D,this.isActiveFile&&(this.currentSelected=[x]);var W=this.space.loadSource({data:[{oriData:_,minData:S,metadata:d,customData:l}],filename:m,index:x},function(te){var q=ff(te,1)[0];n.uuid=q}),$=this.getHowManyImagesInBuffer();return this.isActiveTag&&(this.currentSelected=$>0?[$-1]:[]),W}},{key:"insertImage",value:function(n,a,s){var u;if(s&&s>=0)this.currentSelected=[s],u=this.space.loadSource({data:[n],filename:a,index:s});else{u=this.space.loadSource({data:[n],filename:a});var d=this.getHowManyImagesInBuffer();this.currentSelected=d>0?[d-1]:[]}return u[0]}},{key:"updateImage",value:function(n,a){var s=n.imageUrl,u=n.minImageUrl,d=n.imageId,l=n.serverId,h=n.uidFromServer,m=n.uuid,_=Tf({},a);return m&&m!==""&&m!==-1?(this.space.updateSource(m,{oriData:s,minData:u,metadata:_,customData:{imageId:d,serverId:l,uidFromServer:h}}),m):(this.setError("IndexOutOfRange"),!1)}},{key:"removeImageByUid",value:function(n){if(this.e(),this.webViewer){var a=this.webViewer.removePageByUid(n);return this.webViewer.resized(),this.emitViewerEvent(),a}return this.space.removeSource(n)}},{key:"removeImageByIndex",value:function(n){if(this.e(),n<0||n>=this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;var a=this.getCurrentIndex(),s=!1;if(this.currentSelected=n===a&&n===0?this.getHowManyImagesInBuffer()>0?[0]:[]:n<=a?[a-1]:[a],this.webViewer)s=this.webViewer.removePageByIndexes(n),this.webViewer.resized(),this.emitViewerEvent();else{var u=this.getCurrentDataSet();if(!u)return!1;s=this.space.removeSource(u.children[n])}return s||this.setError("Default"),s}},{key:"removeSelectedImages",value:function(n){this.e();var a=this.getSelectedImagesIndices();pc(n)&&n.length>0&&(a=n);var s=!1;if(this.webViewer)s=this.webViewer.removePageByIndexes(a),this.webViewer.resized(),this.emitViewerEvent();else{var u=[],d=this.getCurrentDataSet();if(!d)return!1;Bt(a).call(a,function(h){d.children[h]&&d.children[h]&&u.push(d.children[h])}),s=this.space.removeSource(u)}s||this.setError("Default");var l=this.getHowManyImagesInBuffer();return this.currentSelected=l>0?[l-1]:[],s}},{key:"removeImageByIndexArr",value:function(n){if(this.e(),!pc(n))return!1;var a=this.getCurrentDataSet();if(!a)return!1;var s,u=[];Bt(n).call(n,function(l){var h=a.children[l];h&&u.push(h)}),(s=this.space.removeSource(u))||this.setError("Default"),this.webViewer&&(this.webViewer.resized(),this.emitViewerEvent());var d=this.getHowManyImagesInBuffer();return this.currentSelected=d>0?[d-1]:[],s}},{key:"removeAllImages",value:function(){this.e();var n=!1;if(this.currentSelected=[],this.webViewer)n=this.webViewer.removeAllPages(),this.webViewer.resized(),this.emitViewerEvent();else{var a=this.getCurrentDataSet();a&&(n=this.space.removeSource(bn(a.children)))}return n||this.setError("Default"),n}},{key:"tagImages",value:function(n,a){this.e();var s=this.getHowManyImagesInBuffer();if(!pc(n))return this.setError("IndicesNotArray"),!1;if(!en(a)||a==="")return this.setError("InvalidTagName"),!1;for(var u=0;u<s;u++){var d=n[u];if(hf(d)||d<0||d>=s)return this.setError("IndexOutOfRange"),!1}this.space.createTag(a);for(var l=0;l<n.length;l++){var h=n[l];if(h>=0){var m=this.getUidByIndex(h);m&&m!==""&&vg(m,10)!==-1&&this.space.addTagToSource(m,a)}}return!0}},{key:"removeImageTag",value:function(n,a){if(this.e(),!Nl(n))return this.setError("InvalidValue"),!1;if(n<0||n>this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;var s=this.getUidByIndex(n),u=!1;return s&&s!==""&&s!==-1&&(u=this.space.removeTagFromSource(s,a)),u||this.setError("Default"),u}},{key:"getDefaultTag",value:function(){return this.space.getDefaultTag()}},{key:"setDefaultTag",value:function(n){if(this.e(),!en(n))return this.setError("InvalidValue"),!1;if(n==="")return this.space.setDefaultTag(null),!0;var a;return this.space.createTag(n),(a=this.space.setDefaultTag(n))||this.setError("Default"),a}},{key:"removeTag",value:function(n,a){var s=this;if(this.e(),!en(n))return this.setError("InvalidValue"),!1;if(!pi(a)&&!pc(a))return this.setError("IndicesNotArray"),!1;if(!this.space.isTagExisted(n))return this.setError("TagNotExist"),!1;var u=this.currentTagName,d=!1,l=!1;if(u&&(d=u===n),pi(a))l=this.space.removeTag(n),d&&this.clearFilter();else{var h=[];Bt(a).call(a,function(_){var S=s.getUidByIndex(_);S!==-1&&h.push(S)});for(var m=0;m<(h==null?void 0:h.length);m++)if(!(l=this.space.removeTagFromSource(h[m],n)))return!1}return l||this.webViewer.setDefaultError(),l}},{key:"renameTag",value:function(n,a){if(this.e(),pi(n)||n==="")return this.setError("OldTagNameRequired"),!1;if(pi(a)||a==="")return this.setError("NewTagNameRequired"),!1;if(!this.space.isTagExisted(n))return this.setError("TagNotExist"),!1;if(this.space.isTagExisted(a))return this.setError("TagExist"),!1;var s;return n===this.currentTagName&&(this.currentTagName=a),(s=this.space.renameTag(n,a))?this.space.setDefaultTag(a):this.setError("Default"),s}},{key:"getTagContents",value:function(n){return this.e(),n&&en(n)&&n!==""?this.space.getTag(n).children:[]}},{key:"getTagList",value:function(){var n=this;this.e();var a=this.space.getTagList(),s=[];return a?Bt(a).call(a,function(u){var d,l=[];Bt(d=u.children).call(d,function(h){var m=n.getCustomDataByUid(h);if(m){var _=m.uidFromServer;l.push(_)}}),s.push({name:u.name,imageIds:l})}):s=[],s}},{key:"getTagListByIndex",value:function(n){if(!Nl(n))return!1;var a=this.getUidByIndex(n);return this.space.getSourceTags(a)}},{key:"clearFilter",value:function(){this.e(),this.currentTagName="";var n,a=this.getCurrentFileName();return a===""&&(a="dynamsoft-default-document"),(n=this.openDocument(a))||this.setError("Default"),n}},{key:"filterImagesByTag",value:function(n,a,s){this.e();var u=!1;if(pi(n)||n===null||n===""){this.currentTagName="";var d=this.getCurrentFileName();d===""&&(d="dynamsoft-default-document"),(u=this.openDocument(d))?Ml(a)&&a():(this.setError("Default"),Ml(s)&&s())}else{var l,h;if(!this.space.isTagExisted(n))return this.setError("TagNotExist"),Ml(s)&&s(),!1;if(this.isActiveTag=!0,this.isActiveFile=!1,this.currentTagName=n,this.setDefaultTag(n),u=this.space.openTag(n,this==null||(l=this.webViewer)===null||l===void 0||(h=l.myViewer)===null||h===void 0?void 0:h.uid)){var m=this.space.getTag(n);if(m){var _,S=(m==null||(_=m.children)===null||_===void 0?void 0:_.length)||0;this.currentSelected=S>0?[S-1]:[]}Ml(a)&&a()}else this.setError("Default"),Ml(s)&&s()}return this.webViewer&&this.webViewer.render(),u}},{key:"createDocument",value:function(n){if(this.e(),!n||n===""){var a=Nl(n)?"FileNameNotString":"FileNameCannotEmpty";return this.setError(a),!1}return en(n)?this.space.isFileExisted(n)?(this.setError("FileExist"),!1):!!this.space.createFile(n)||(this.setError("Default"),!1):(this.setError("FileNameNotString"),!1)}},{key:"openDocument",value:function(n,a){var s,u;if(this.e(),!n||n===""){var d=Nl(n)?"FileNameNotString":"FileNameCannotEmpty";return this.setError(d),!1}if(!en(n))return this.setError("FileNameNotString"),!1;if(!this.space.isFileExisted(n))return this.setError("FileNotExist"),!1;var l=a&&a!==""?a:this==null||(s=this.webViewer)===null||s===void 0||(u=s.myViewer)===null||u===void 0?void 0:u.uid,h=this.space.getFile(n);if(h){var m,_=h==null||(m=h.children)===null||m===void 0?void 0:m.length;this.currentSelected=_>0?[_-1]:[]}return this.space.openFile(n,{viewerUid:l})?(this.currentFileName=n,this.isActiveFile=!0,this.isActiveTag=!1,!0):(this.setError("Default"),!1)}},{key:"getDocumentContents",value:function(n){return this.e(),n&&en(n)&&n!==""?this.space.getFile(n).children:[]}},{key:"renameDocument",value:function(n,a){return this.e(),en(n)&&en(a)?(n&&n!==""&&a&&a!==""||this.setError("FileNameCannotEmpty"),this.space.isFileExisted(n)?this.space.isFileExisted(a)?(this.setError("FileExist"),!1):this.space.renameFile(n,a)?(this.currentFileName===n&&(this.currentFileName=a),!0):(this.setError("Default"),!1):(this.setError("FileNotExist"),!1)):(this.setError("FileNameNotString"),!1)}},{key:"removeDocument",value:function(n){if(this.e(),!n||!en(n))return this.setError("FileNameNotString"),!1;if(!this.space.isFileExisted(n))return this.setError("FileNotExist"),!1;var a=this.space.removeFile(n);return a?(a&&this.webViewer&&this.webViewer.resized(),this.currentFileName===n&&(this.currentFileName=""),!0):(this.setError("Default"),!1)}},{key:"getDocumentInfoList",value:function(){var n=this;this.e();var a=this.space.getFileList(),s=[];return a?(Bt(a).call(a,function(u){if(u.children){for(var d=[],l=0;l<u.children.length;l++){var h=u.children[l],m=n.getCustomDataByUid(h);if(m){var _=m.uidFromServer;d.push(_)}}s.push({imageIds:d,name:u.name})}}),s):[]}},{key:"getDocumentInfo",value:function(n){this.e();var a=this.space.getFile(n);if(!a)return{imageIds:[],length:0};for(var s=[],u=0;u<a.children.length;u++){var d=a.children[u],l=this.getCustomDataByUid(d);if(l){var h=l.uidFromServer;s.push(h)}}return{imageIds:s,length:s.length}}},{key:"selectImages",value:function(n){this.e();var a=!0;if(!n||!pc(n))return!1;if(this.webViewer){var s=this.webViewer.getIfAutoScroll();s===!1&&this.webViewer.setIfAutoScroll(!0),a=this.webViewer.selectPages(n),s===!1&&this.webViewer.setIfAutoScroll(!1)}else{for(var u=this.getHowManyImagesInBuffer(),d=0;d<n.length;d++)if(!Nl(n[d])||n[d]<0||n[d]>=u)return this.setError("ParameterOutRange"),!1;a=!0}return a?this.currentSelected=n:this.setError("Default"),a}},{key:"selectAllImages",value:function(){this.e();var n=!0;if(this.webViewer)n=this.webViewer.myViewer.selectAll(),this.currentSelected=this.webViewer.getSelectedImagesIndices();else{var a,s=this.getCurrentDataSet();this.currentSelected=Cse(kse(a=new Array(s.children.length)).call(a))}return n||this.setError("Default"),n}},{key:"moveImage",value:function(n,a){this.e();var s=vg(n,10),u=vg(a,10);if(hf(n)||hf(a))return this.setError("InvalidIndex"),!1;var d=this.getHowManyImagesInBuffer();if(s<0||s>=d||u<0||u>d)return this.setError("IndexOutOfRange"),!1;var l=!1;if(this.webViewer)l=this.webViewer.myViewer.movePage(n,a);else{var h=this.getCurrentDataSet();if(!h)return!1;h.children.length>a&&(this.currentSelected=[a]),l=this.space.move({docUid:h.uid,type:h.type,from:n,to:a})}return l||this.setError("Default"),l}},{key:"switchImage",value:function(n,a){this.e();var s=vg(n,10),u=vg(a,10);if(hf(n)||hf(a))return this.setError("InvalidIndex"),!1;var d=this.getHowManyImagesInBuffer(),l=this.getCurrentIndex();if(s<0||s>=d||u<0||u>d)return this.setError("IndexOutOfRange"),!1;var h=!1;if(this.webViewer)h=this.webViewer.myViewer.switchPage(n,a);else{var m=this.getCurrentDataSet();if(!m)return!1;h=this.space.switch({docUid:m.uid,type:m.type,one:n,other:a})}h||this.setError("Default");var _=l;return s===l?_=u:u===l&&(_=s),this.currentSelected=[_],h}},{key:"moveImageToFile",value:function(n,a,s,u){if(!this.space.isFileExisted(n)||!this.space.isFileExisted(s))return this.setError("FileNotExist"),!1;a=bn(new Ece(a));var d=this.getDocumentInfo(n).length;if(!pc(a)||a.length>d)return this.setError("ParameterOutRange"),!1;var l=this.getDocumentInfo(s).length,h=this.space.movePagesToFile(n,a,s,u);if(!this.webViewer&&this.isActiveFile){var m=this.getHowManyImagesInBuffer();n===this.currentFileName&&(this.currentSelected=m>0?[m-1]:[]),s===this.currentFileName&&(Nl(u)&&u<l&&u>=0?this.currentSelected=[u+a.length-1]:this.currentSelected=m>0?[m-1]:[])}return h}}]),r}();HTMLCanvasElement.prototype.toBlob||fU(HTMLCanvasElement.prototype,"toBlob",{value:function(r,n,a){for(var s=atob(this.toDataURL(n,a).split(",")[1]),u=s.length,d=new Uint8Array(u),l=0;l<u;l++)d[l]=s.charCodeAt(l);r(new Blob([d],{type:n||"image/png"}))}});var If=function(r){function n(a){var s;if(f(this,n),s=c(this,n),a)s._baseUrl=a._baseUrl,s._buffer=a._buffer,s._serverIdMap=a._serverIdMap,s._uidMap=a._uidMap;else{var u=s,d={bufferChanged:function(l,h){u.fire("bufferChanged",[l,h])},viewerError:{setError:function(l,h){u._error={code:l,message:h},u.fire("error",u._error)}}};s._baseUrl="",s._buffer=new Vce(d),s._serverIdMap={},s._uidMap={}}return s}return P(n,r),v(n,[{key:"getError",value:function(){return this._error}},{key:"BaseUrl",get:function(){return this._baseUrl}},{key:"getImageUrl",value:function(a){var s=this.convertClientIndexToServerId(a),u=Date.now();return sr.getImageUrl(this._baseUrl,s,-1,-1,u)}},{key:"getMinImageUrl",value:function(a,s,u){var d=this.convertClientIndexToServerId(a),l=Date.now();return d&&s&&u?sr.getImageUrl(this._baseUrl,d,parseInt(s),parseInt(u),l):""}},{key:"append",value:function(a,s,u,d,l){var h,m,_,S,y=Date.now(),b=s,I=u;if(h={imageId:b,serverId:s,uidFromServer:I,imageUrl:_=sr.getImageUrl(this._baseUrl,b,-1,-1,y),minImageUrl:m=d&&d.controlWidth&&d.controlWidth>0&&d.controlHeight&&d.controlHeight>0?U.navInfoSync.bMobile?sr.getImageUrl(this._baseUrl,b,Math.round(d.controlWidth*devicePixelRatio),Math.round(d.controlHeight*devicePixelRatio),y):sr.getImageUrl(this._baseUrl,b,parseInt(d.controlWidth),parseInt(d.controlHeight),y):_},S=d.currentFileName.length>0?this._buffer.addImage(h,d,d.currentFileName):this._buffer.addImage(h,d)){var x=M(S,1)[0],D=this._buffer.getCustomDataByUid(x);return D.serverId=b,D.uidFromServer=I,this._innerInsertModel(b,I,x,_,m),x}return!1}},{key:"insertBefore",value:function(a,s,u,d,l){var h,m,_,S=Date.now(),y=u,b=d;h={index:a,imageId:y,serverId:y,uidFromServer:b,imageUrl:_=sr.getImageUrl(this._baseUrl,y,-1,-1,S),minImageUrl:m=l&&l.controlWidth&&l.controlWidth>0&&l.controlHeight&&l.controlHeight>0?U.navInfoSync.bMobile?sr.getImageUrl(this._baseUrl,y,Math.round(l.controlWidth*devicePixelRatio),Math.round(l.controlHeight*devicePixelRatio),S):sr.getImageUrl(this._baseUrl,y,parseInt(l.controlWidth),parseInt(l.controlHeight),S):_};var I=this._buffer.addImage(h);if(I){var x=M(I,1)[0],D=this._buffer.getCustomDataByUid(x);return D.serverId=y,D.uidFromServer=b,this._innerInsertModel(y,b,x,_,m),this._buffer.openDocument(this.getCurrentFileName()),x}return!1}},{key:"_innerInsertModel",value:function(a,s,u,d,l){var h=new x_;h.serverId=a,h.uidFromServer=s,h.uuid=u,h.imageUrl=d,h.minImageUrl=l,this._serverIdMap[a]=h,this._uidMap[s]=h}},{key:"refresh",value:function(a,s,u,d){var l=1*a;if(u){var h=this.count();if(l<0||l>h)return!1;this._setDataImageControl(l,d)}return!0}},{key:"refreshByImageId",value:function(a,s,u){var d=a;return s&&this._setDataImageControl(d,u,!0),!0}},{key:"_setDataImageControl",value:function(a,s,u){var d,l,h,m,_,S,y=this,b=y._baseUrl;if(u)_=a;else if(_=(m=y.getCustomDataByIndex(a)).serverId,S=m.uidFromServer,_<=0)return!1;if((d=y.getImageIdMap(_))||((d=new x_).serverId=_,d.uidFromServer=S,y._serverIdMap[_]=d,y._uidMap[S]=d),b){d!=null&&(d.ticks=Date.now()),l=sr.getImageUrl(b,_,-1,-1,d.ticks),h=s&&s.controlWidth&&s.controlWidth>0&&s.controlHeight&&s.controlHeight>0?U.navInfoSync.bMobile?sr.getImageUrl(b,_,Math.round(s.controlWidth*devicePixelRatio),Math.round(s.controlHeight*devicePixelRatio),d.ticks):sr.getImageUrl(b,_,parseInt(s.controlWidth),parseInt(s.controlHeight),d.ticks):l,d.imageUrl=l,d.minImageUrl=h,s&&(s.height&&(d.height=s.height),s.width&&(d.width=s.width));var I=p.clone(d);I.imageId=_,y._buffer.updateImage(I,s)}return!0}},{key:"convertIndicesToServerIds",value:function(a){var s,u=a.length,d=[];for(s=0;s<u;s++){var l=this.convertClientIndexToServerId(a[s]);l!=-1&&d.push(l)}return d}},{key:"removeImagesByServerId",value:function(a,s){var u=this,d=s??this._buffer.getCurrentDocument(),l=[];return p.each(a,function(h,m){var _=parseInt(h);u._removeMapModelImageControlByServerId(_);var S=-1;return S=u._buffer.isActiveFile?u._convertServerIdToIndexInFile(d,_):u._convertServerIdToIndex(_),!isNaN(S)&&!(S<0||S>=u.count())&&void l.push(S)}),l.length>0&&u._buffer.removeImageByIndexArr(l)}},{key:"removeByServerId",value:function(a,s,u){var d=this,l=u??this._buffer.getCurrentDocument();d._removeMapModelImageControlByServerId(a);var h=-1;return h=this._buffer.isActiveFile?this._convertServerIdToIndexInFile(l,a):s,!isNaN(h)&&!(h<0||h>=d.count())&&d._buffer.removeImageByIndex(h)}},{key:"exists",value:function(a){if(this._serverIdMap[a])return!0;var s=-1;if(this._buffer.isActiveFile){var u=this.getCurrentFileName();s=this._convertServerIdToIndexInFile(u,a)}else s=this._convertServerIdToIndex(a);return s>-1}},{key:"removeImages",value:function(a){var s,u,d;for(d=a.length,s=0;s<d;s++)u=this.convertClientIndexToServerId(a[s]),this._removeMapModelImageControlByServerId(u);return this._buffer.removeSelectedImages(a)}},{key:"clear",value:function(){var a,s,u,d=this;for(u=d.count(),a=0;a<u;a++)s=d.convertClientIndexToServerId(a),this._removeMapModelImageControlByServerId(s);return u==Object.keys(d._serverIdMap).length&&(d._serverIdMap={},d._uidMap={}),d._buffer.removeAllImages()}},{key:"_uidFromServer2index",value:function(a){var s,u,d,l=this;if((d=l._uidMap[a])&&(u=d.uuid),u&&u!=-1)s=l._buffer.getIndexByUid(u);else if(l._buffer.isActiveFile){var h=this.getCurrentFileName();s=this._convertUidFromServerToIndexInFile(h,a)}else s=this._convertUidFromServerToIndex(a);return p.isNumber(s)||(s=-1),s}},{key:"_serverId2uidFromServer",value:function(a){if(a&&a>0){var s,u,d;if((d=this._serverIdMap[a])&&(u=d.uidFromServer))return u;if((s=this.convertServerIdToClientIndex(a))>=0)return this._index2uidFromServer(s)}return-1}},{key:"_uidFromServer2ServerId",value:function(a){if(a){var s,u,d;if((d=this._uidMap[a])&&(u=d.serverId))return u;if((s=this._uidFromServer2index(a))>=0)return this.convertClientIndexToServerId(s)}return-1}},{key:"_index2uidFromServer",value:function(a){var s=this.getCustomDataByIndex(a);return s?s.uidFromServer:-1}},{key:"convertServerIdToClientIndex",value:function(a){var s,u,d,l=this;if((d=l._serverIdMap[a])&&(u=d.uuid),u&&u!=-1)s=l._buffer.getIndexByUid(u);else if(l._buffer.isActiveFile){var h=this.getCurrentFileName();s=this._convertServerIdToIndexInFile(h,a)}else s=this._convertServerIdToIndex(a);return p.isNumber(s)||(s=-1),s}},{key:"getIndexByUid",value:function(a){var s;return(s=this._buffer.getIndexByUid(a))===!1?-1:s}},{key:"getUidByIndex",value:function(a){return this._buffer.getUidByIndex(a)}},{key:"convertClientIndexToServerId",value:function(a){var s=this.getCustomDataByIndex(a);return s?s.serverId:-1}},{key:"getCurrentImageIndex",value:function(){var a=this._buffer.getCurrentIndex();return p.isBoolean(a)?-1:a}},{key:"setCurrentImageIndex",value:function(a){return this._buffer.selectImages([a])}},{key:"getCurrentFileName",value:function(){return this._buffer.getCurrentFileName()}},{key:"setDefaultTag",value:function(a){return this._buffer.setDefaultTag(a)}},{key:"getDefaultTag",value:function(){return this._buffer.getDefaultTag()}},{key:"count",value:function(){return this._buffer.getHowManyImagesInBuffer()}},{key:"getCountByDocumentName",value:function(a){return this._buffer.getDocumentInfo(a).length}},{key:"dispose",value:function(){this.clear()}},{key:"getImageData",value:function(a){var s=this._buffer.getUidByIndex(a);return s?this._buffer.getDataByUid(s):j.Promise.resolve(null)}},{key:"getCustomDataByIndex",value:function(a){return this._buffer.getCustomDataByUid(this._buffer.getUidByIndex(a))}},{key:"getMetadataByIndex",value:function(a){return this._buffer.getMetadataByUid(this._buffer.getUidByIndex(a))}},{key:"setCustomData",value:function(a,s){var u=this._buffer.getUidByIndex(a);return!(!u||!s)&&this._buffer.setCustomDataByUid(u,s)}},{key:"openDocument",value:function(a){return this._buffer.openDocument(a)}},{key:"createDocument",value:function(a){return this._buffer.createDocument(a)}},{key:"getImageIdMap",value:function(a){return this._serverIdMap[a]}},{key:"_removeMapModelImageControlByServerId",value:function(a){var s=this;if(a>0&&s._serverIdMap[a]){var u=s._serverIdMap[a],d=u.uidFromServer;u.Clear(),delete s._serverIdMap[a],delete s._uidMap[d]}}},{key:"_convertServerIdToIndexInFile",value:function(a,s){var u,d,l=-1;for(u=this._buffer.getDocumentContents(a),d=0;d<u.length;d++){var h=u[d];if(h){var m=this._buffer.getCustomDataByUid(h);if(m&&m.serverId==s){l=d;break}}}return l}},{key:"_convertServerIdToIndex",value:function(a){var s,u=-1;for(s=0;s<this.count();s++){var d=this._buffer.getUidByIndex(s);if(d){var l=this._buffer.getCustomDataByUid(d);if(l&&l.serverId==a){u=s;break}}}return u}},{key:"_convertUidFromServerToIndexInFile",value:function(a,s){var u,d,l=-1;for(u=this._buffer.getDocumentContents(a),d=0;d<u.length;d++){var h=u[d];if(h){var m=this._buffer.getCustomDataByUid(h);if(m&&m.uidFromServer==s){l=d;break}}}return l}},{key:"_convertUidFromServerToIndex",value:function(a){var s,u=-1;for(s=0;s<this.count();s++){var d=this._buffer.getUidByIndex(s);if(d){var l=this._buffer.getCustomDataByUid(d);if(l&&l.uidFromServer==a){u=s;break}}}return u}},{key:"convertUUIDToServerId",value:function(a){var s=this._buffer.getCustomDataByUid(a);return s&&s.serverId!=-1?s.serverId:-1}},{key:"UpdateImage",value:function(a,s){return this._buffer.updateImage(a,s),!0}}],[{key:"_setBaseUrl",value:function(a,s){a._baseUrl=s}},{key:"_getBuffer",value:function(a){return a._buffer}}])}(eT),jce=function(r){function n(u){var d;f(this,n);var l=d=c(this,n,[u]);d.__IfAppendImage=rt,d.__maxImagesInBuffer=32767,d.__insertingIndex=-1,d._aryBitmapCache=[],d._imageBufferWrapper=new If,d._imageBufferWrapper.on("bufferChanged",function(m){if(p.isFunction(l.__OnBufferChanged)){var _,S=m[0],y=[],b=-1,I=[];S.operation&&(S.action=S.operation);for(var x=0;x<l._imageBufferWrapper.count();x++)(_=l._imageBufferWrapper.getCustomDataByIndex(x))&&_.serverId&&y.push(l._imageBufferWrapper._serverId2uidFromServer(_.serverId));if(S.imageIds=y,S.curIndex>=0&&(_=l._imageBufferWrapper.getCustomDataByIndex(S.curIndex))&&_.serverId&&(b=l._imageBufferWrapper._serverId2uidFromServer(_.serverId)),S.currentId=b,S.operation=="modify"&&S.afterStatus.modifiedUid!=""){var D=l._imageBufferWrapper.getIndexByUid(S.afterStatus.modifiedUid);D>=0&&(_=l._imageBufferWrapper.getCustomDataByIndex(D))&&_.serverId&&(S.modifiedId=l._imageBufferWrapper._serverId2uidFromServer(_.serverId))}if(S.afterStatus.selectedUids)for(var W=0;W<S.afterStatus.selectedUids.length;W++){var $=S.afterStatus.selectedUids[W];if($&&$!=-1){var te=l._imageBufferWrapper.getIndexByUid(S.afterStatus.selectedUids[W]);te>=0&&(_=l._imageBufferWrapper.getCustomDataByIndex(te))&&_.serverId&&I.push(l._imageBufferWrapper._serverId2uidFromServer(_.serverId))}}S.selectedIds=I,p.mix(S,{}),delete S.uids,delete S.currentUid,delete S.selectedUids,delete S.afterStatus,delete S.beforeStatus,delete S.operation,delete S.curIndex,delete S.docUid;try{return l.__OnBufferChanged(S)}catch(q){_r(q)}}}),d._imageBufferWrapper.on("error",function(m){l._errorCode=m.code,l._errorString=m.message});var h=Vi.getServerImageUrlPrefix(d);return If._setBaseUrl(d._imageBufferWrapper,h),d}return P(n,r),v(n,[{key:"_OnActiveUIClearBuffer",value:function(){var u=this.__OnBufferChanged;this.__OnBufferChanged=null,this._imageBufferWrapper.clear(),this.__OnBufferChanged=u}},{key:"_registerMultiEvent",value:function(u,d){var l=this;if(l._resetErr(),!l._isValid())return!1;var h=["_$",u].join("");l[h]||(l[h]={});var m=l[h],_=p.guid();return m[_]=d,_}},{key:"_unregisterMultiEvent",value:function(u,d){var l=this;if(l._resetErr(),!l._isValid())return!1;var h=["_$",u].join(""),m=l[h];if(d){var _;if(p.isString(d))return delete m[d],rt;if(p.isFunction(d)){for(_=0;_<m.length;_++)if(d==m[_])return m.splice(_,1),rt}}return l[h]=null,rt}},{key:"_getMetadata",value:function(u){return this._imageBufferWrapper.getMetadataByIndex(u)}},{key:"_updateImage",value:function(u,d,l){var h,m,_,S,y=xp.Auto,b=this;return l&&(l.width!=null&&(_=parseInt(l.width)),l.height!=null&&(S=parseInt(l.height)),y=p.isNumber(_)&&p.isNumber(S)&&d.byteLength===_*S*4?xp.RGBA:xp.Auto),h={imageId:u,serverId:u,bufferLen:d.byteLength,imageType:y},l&&y==xp.RGBA&&(h.width=_,h.height=S,l.bitDepth!=null&&(h.bit=l.bitDepth),l.resolutionX!=null&&(h.xres=parseInt(l.resolutionX)),l.resolutionY!=null&&(h.yres=parseInt(l.resolutionY)),l.uid!=null&&(h.uidFromServer=l.uid)),m=p.stringify([p.stringify(h)]),new j.Promise(function(I,x){b._innerSendBlobByWS("UpdateImage",m,d,function(D){p.log("UpdateImage success."),I(D)},function(D){p.log("UpdateImage failed."),p.error(D),x({code:b._errorCode,message:b._errorString})})})}},{key:"_removeImages",value:function(u){return this._imageBufferWrapper.removeImages(u)}},{key:"_getCurrentDocumentName",value:function(){var u="";return this._imageBufferWrapper&&(u=this._imageBufferWrapper.getCurrentFileName()),u}},{key:"_getCurrentDefaultTagName",value:function(){var u="";return this._imageBufferWrapper&&(u=this._imageBufferWrapper.getDefaultTag()||""),u}},{key:"_innerRefreshUI",value:function(u,d,l,h,m){var _=this;return l&&_._imageBufferWrapper.refresh(u,_._imageBufferWrapper.count(),!0,h),p.isFunction(_.__OnRefreshUI)&&_.__OnRefreshUI(_._imageBufferWrapper.getCurrentImageIndex(),_._imageBufferWrapper.count()),!0}},{key:"_innerRefreshUIByImageId",value:function(u,d,l,h){var m=this;return d&&m._imageBufferWrapper.refreshByImageId(u,!0,l),p.isFunction(m.__OnRefreshUI)&&m.__OnRefreshUI(m._imageBufferWrapper.getCurrentImageIndex(),m._imageBufferWrapper.count()),!0}},{key:"_getHowManyImagesInBuffer",value:function(){return this._isValid()?this._imageBufferWrapper.count():0}},{key:"_OnBitmapChanged",value:function(u,d,l){var h,m,_,S=this,y=u[0]=="m1",b=u[0]=="c1",I=u[0]=="c2",x=b||I||y,D=u[1].split(","),W=u[2],$=u[3],te=S.__maxImagesInBuffer,q=-1,X=!1,J=[];if(l&&(h=l.document,m=l.tag,l.bNeedClearTag&&(_=l.bNeedClearTag)),p.log("_OnBitmapChanged.currentFileName="+h+", tag="+m),h?h!=S._getCurrentDocumentName()&&(X=!0):h=S._getCurrentDocumentName(),S._imageBufferWrapper&&(m?(S._imageBufferWrapper.setDefaultTag(m),p.log("metaDataObj.currentTag="+m)):_&&(S._imageBufferWrapper.setDefaultTag(""),p.log("metaDataObj.currentTag=''"))),!y)if(I)u.length>5&&(J=u[5]),p.isArray(J)||(J=[]);else{var re={};if(u.length>5&&(re.width=u[5]),u.length>6&&(re.height=u[6]),u.length>7&&(re.bitDepth=u[7]),u.length>8&&(re.resolutionX=u[8]),u.length>9&&(re.resolutionY=u[9]),u.length>10&&(q=u[10]),u.length>11&&p.isString(u[11])&&(re.uidFromServer=u[11]),J.push(re),q>-1&&S._canConsume()&&(W==_n.enumBCAppend||W==_n.enumBCInsert)){var H=U.DWT.lgct(q);p.isFunction(S.__OnLtsverify)&&S.__OnLtsverify(H,1)}}if(p.log("OnBitmapChanged:"+u),W==_n.enumBCInsert||W==_n.enumBCAppend&&!S.__IfAppendImage||l&&W==_n.enumBCAppend&&l.index>=0)p.each(D,function(ie,se){var ne,ae,be=parseInt(ie),ge=S._imageBufferWrapper.getCurrentImageIndex();if(se<J.length&&J[se]?(ne=(ae=J[se]).uidFromServer,delete ae.uidFromServer):ae={},ae.currentFileName=h,isNaN(be)||be<0)return!0;if(x)S._aryBitmapCache.push(be);else for(var _e=0;_e<S._aryBitmapCache.length;_e++)if(S._aryBitmapCache[_e]==be)return S._aryBitmapCache.splice(_e,1),!0;if(S._imageBufferWrapper.exists(be))return!0;S.__insertingIndex>-1&&(ge=S.__insertingIndex),ae.controlWidth=400,ae.controlHeight=400,S._controlWidth&&S._controlWidth>400&&(ae.controlWidth=S._controlWidth),S._controlHeight&&S._controlHeight>400&&(ae.controlHeight=S._controlHeight),ge==-1&&(ge=0),l.index>=0&&(ge=l.index),S._imageBufferWrapper.insertBefore(ge,te,be,ne,ae),S.__insertingIndex>-1&&(S.__insertingIndex=S.__insertingIndex+1),l.index++}),p.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count());else if(W==_n.enumBCAppend&&S.__IfAppendImage)p.each(D,function(ie,se){var ne,ae,be=parseInt(ie);if(isNaN(be)||be<0)return!0;if(se<J.length&&J[se]?(ne=(ae=J[se]).uidFromServer,delete ae.uidFromServer):ae={},ae.currentFileName=h,p.log("metaDataObj.currentFileName="+h),x)S._aryBitmapCache.push(be);else for(var ge=0;ge<S._aryBitmapCache.length;ge++)if(S._aryBitmapCache[ge]==be)return S._aryBitmapCache.splice(ge,1),!0;if(S._imageBufferWrapper.exists(be))return!0;ae.controlWidth=400,ae.controlHeight=400,S._controlWidth&&S._controlWidth>400&&(ae.controlWidth=S._controlWidth),S._controlHeight&&S._controlHeight>400&&(ae.controlHeight=S._controlHeight),X?S._imageBufferWrapper.append(te,be,ne,ae,h):S._imageBufferWrapper.append(te,be,ne,ae)}),p.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count());else if(W==_n.enumBCRemove&&x){var F=!1;if(D.length==1&&D[0]==-1&&(F=!0),F)S._imageBufferWrapper.clear();else{var B=[];p.each(D,function(ie,se){var ne=parseInt(ie);if(isNaN(ne)||ne<0)return!0;B.push(ne)}),S._imageBufferWrapper.removeImagesByServerId(B,h)}p.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count())}else if(W==_n.enumBCEdit||W==_n.enumBCUpdate)p.each(D,function(ie,se){var ne,ae=parseInt(ie);if(isNaN(ae)||ae<0)return!0;if(se<J.length&&J[se]?delete(ne=J[se]).uidFromServer:ne={},ne.currentFileName=h,ae>=0&&!S.__bLoadingImage){var be=S._imageBufferWrapper.convertServerIdToClientIndex(ae);be>-1?S._innerRefreshUI(be,S._imageBufferWrapper.count(),!0,ne,W):l.bNeedRefresh&&S._innerRefreshUIByImageId(ae,!0,ne,W)}});else if(W==_n.enumBCIndexChange){var V;$>=0&&!S.__bLoadingImage&&((V=0<J.length&&J[0]?J[0]:{}).currentFileName=h,S.__IfAppendImage==0&&S._innerRefreshUI($,S._imageBufferWrapper.count(),!0,V,W),S._imageBufferWrapper.refresh($,S._imageBufferWrapper.count(),!1,V))}if(p.isFunction(S.__OnBitmapChanged)){if(!y){if(x){if(W!=_n.enumBCRemove){if(!ue.bFirefox&&x)return!0}}else if(W==_n.enumBCRemove||ue.bFirefox&&!x)return!0}var G=[];p.each(D,function(ie){var se,ne=parseInt(ie);if(isNaN(ne)||ne<0)return!0;(se=S._imageBufferWrapper.convertServerIdToClientIndex(ne))>-1&&G.push(se)});var z=S._imageBufferWrapper.getCurrentImageIndex(),Z=W;W==_n.enumBCAppend&&(Z=S.__IfAppendImage?_n.enumBCAppend:_n.enumBCInsert),S.__OnBitmapChanged(G,Z,z,S._imageBufferWrapper.count())}}},{key:"_removeImageAsync",value:(s=o(w().mark(function u(d,l){var h,m,_;return w().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(h=this,m=parseInt(l),Ln(h,m)){S.next=4;break}return S.abrupt("return",!1);case 4:return _=h._imageBufferWrapper.convertClientIndexToServerId(m),S.next=7,h._removeImageByIdAsync(_);case 7:return S.abrupt("return",S.sent);case 8:case"end":return S.stop()}},u,this)})),function(u,d){return s.apply(this,arguments)})},{key:"_removeImageByIdAsync",value:(a=o(w().mark(function u(d){var l,h;return w().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(l=this,d!=-1){m.next=4;break}return qe(l),m.abrupt("return",!1);case 4:return m.next=6,l._innerFunV2("RemoveImage",Ve(d));case 6:return((h=m.sent)||l._errorCode==-1033)&&l._OnBitmapChanged(["c1",""+d,3,l._imageBufferWrapper.getCurrentImageIndex(),l._imageBufferWrapper.count()]),m.abrupt("return",h);case 9:case"end":return m.stop()}},u,this)})),function(u){return a.apply(this,arguments)})}]);var a,s}(Vi),ja=function(r){return r.Text=0,r.Blob=1,r.ArrayBuffer=2,r.XML=3,r.JSON=4,r.UserDefined=5,r}({}),Mt=function(r){return r.Other=0,r.HTTPUpload=1,r.HTTPDownload=2,r.FTPUpload=3,r.FTPDownload=4,r.Scan=5,r.LoadImage=6,r.ConvertToBlob=7,r.HTTPPut=8,r}({}),Wo={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function Gce(r,n){if(p.isFunction("_".repeat))return r.repeat(n);for(var a=0,s=[];a<n;a++)s.push(r);return s.join("")}var mE=Object.create?Object.create(null):{};function vE(r,n,a,s){return function(u,d){var l,h,m,_,S,y,b,I,x,D=1,W=u.length,$="";for(h=0;h<W;h++)if(typeof u[h]=="string")$+=u[h];else if(R(u[h])==="object"){if((_=u[h]).keys)for(l=d[D],m=0;m<_.keys.length;m++){if(l==null)throw new Error(vE('[sprintf] Cannot access property "%s" of undefined value "%s"',_.keys[m],_.keys[m-1]));l=l[_.keys[m]]}else l=_.param_no?d[_.param_no]:d[D++];if(Wo.not_type.test(_.type)&&Wo.not_primitive.test(_.type)&&l instanceof Function&&(l=l()),Wo.numeric_arg.test(_.type)&&typeof l!="number"&&isNaN(l))throw new TypeError(vE("[sprintf] expecting number but found %T",l));switch(Wo.number.test(_.type)&&(I=l>=0),_.type){case"b":l=parseInt(l,10).toString(2);break;case"c":l=String.fromCharCode(parseInt(l,10));break;case"d":case"i":l=parseInt(l,10);break;case"j":l=p.stringify(l,null,_.width?parseInt(_.width):0);break;case"e":l=_.precision?parseFloat(l).toExponential(_.precision):parseFloat(l).toExponential();break;case"f":l=_.precision?parseFloat(l).toFixed(_.precision):parseFloat(l);break;case"g":l=_.precision?String(Number(l.toPrecision(_.precision))):parseFloat(l);break;case"o":l=(parseInt(l,10)>>>0).toString(8);break;case"s":l=String(l),l=_.precision?l.substring(0,_.precision):l;break;case"t":l=String(!!l),l=_.precision?l.substring(0,_.precision):l;break;case"T":l=Object.prototype.toString.call(l).slice(8,-1).toLowerCase(),l=_.precision?l.substring(0,_.precision):l;break;case"u":l=parseInt(l,10)>>>0;break;case"v":l=l.valueOf(),l=_.precision?l.substring(0,_.precision):l;break;case"x":l=(parseInt(l,10)>>>0).toString(16);break;case"X":l=(parseInt(l,10)>>>0).toString(16).toUpperCase()}Wo.json.test(_.type)?$+=l:(!Wo.number.test(_.type)||I&&!_.sign?x="":(x=I?"+":"-",l=l.toString().replace(Wo.sign,"")),y=_.pad_char?_.pad_char==="0"?"0":_.pad_char.charAt(1):" ",b=_.width-(x+l).length,S=_.width&&b>0?Gce(y,b):"",$+=_.align?x+l+S:y==="0"?x+S+l:S+x+l)}return $}(function(u){if(mE[u])return mE[u];for(var d,l=u,h=[],m=0;l;){if((d=Wo.text.exec(l))!==null)h.push(d[0]);else if((d=Wo.modulo.exec(l))!==null)h.push("%");else{if((d=Wo.placeholder.exec(l))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(d[2]){m|=1;var _=[],S=d[2],y=[];if((y=Wo.key.exec(S))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(_.push(y[1]);(S=S.substring(y[0].length))!=="";)if((y=Wo.key_access.exec(S))!==null)_.push(y[1]);else{if((y=Wo.index_access.exec(S))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");_.push(y[1])}d[2]=_}else m|=2;if(m===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");h.push({placeholder:d[0],param_no:d[1],keys:d[2],sign:d[3],pad_char:d[4],align:d[5],width:d[6],precision:d[7],type:d[8]})}l=l.substring(d[0].length)}return mE[u]=h,h}(r),arguments)}function po(r,n){if(p.isString(r)){var a,s,u,d,l,h=r.indexOf("<%");if(h==-1||(s=r.substring(0,h),!(h+2<(a=r.indexOf(">",s)))))return r;u=r.substring(h+1,a),d=r.substring(a+1);try{l=vE(u,n)}catch{l=""}return[s,l,d].join("")}return""}function B0(r,n){var a,s=r.substring(r.lastIndexOf(".")).toLowerCase();if(n==U.DWT.EnumDWT_ImageType.IT_BMP){if(s==".bmp"||s==".dib")return r;a=[r,".bmp"].join("")}else if(n==U.DWT.EnumDWT_ImageType.IT_JPG){if(s==".jpg"||s==".jpe"||s==".jpeg"||s==".jfif")return r;a=[r,".jpg"].join("")}else if(n==U.DWT.EnumDWT_ImageType.IT_PNG){if(s==".png")return r;a=[r,".png"].join("")}else if(n==U.DWT.EnumDWT_ImageType.IT_TIF){if(s==".tif"||s==".tiff")return r;a=[r,".tif"].join("")}else if(n==U.DWT.EnumDWT_ImageType.IT_PDF){if(s==".pdf")return r;a=[r,".pdf"].join("")}else if(n==U.DWT.EnumDWT_ImageType.IT_J2K){if(s==".jp2")return r;a=[r,".jp2"].join("")}return a}function CU(r,n,a,s){var u,d,l,h,m=n.url,_=n.headers,S=n.retry,y=n.httpFormData,b=n.bOnlyResponseEmptyIsOK,I=n.bAsync,x=(d=n.responseType)==ja.Text?"text":d==ja.JSON?"json":d==ja.Blob?"blob":d==ja.ArrayBuffer?"arraybuffer":d==ja.XML?"xml":d==5?"user-defined":"text",D=r.IfShowProgressBar,W=r.IfShowCancelDialogWhenImageTransfer,$=r.objUploadStatus;(u=n.content)&&(u.remoteFilename||(u.remoteFilename=n.remoteFilename),u.fileName||(u.fileName=n.fileName||u.name),u.name||(u.name=n.fileName||u.fileName));var te,q=new Xu({action:m,data:y,async:I,retry:S,bOnlyResponseEmptyIsOK:b,dataType:x});if(W&&j.progressContext&&(te=j.progressContext.on("cancel",function(){q.abort(),q=null})),(l=q._uploadType)&&(h=l.get("ajaxConfig"),_&&h&&h.headers&&_&&p.mix(h.headers,_),r.HTTPRequestswithCredentials&&p.mix(h.xhrFields,{withCredentials:!0}),h=null),q.on(Xu.event.SUCCESS,function(H){if(n.content=null,q=null,te&&j.progressContext.off("cancel",te),H?r.HTTPPostResponse=H.response:n.responseType==ja.ArrayBuffer?r.HTTPPostResponse=[]:n.responseType==ja.Blob?r.HTTPPostResponse=new Blob([]):n.responseType==ja.JSON?r.HTTPPostResponse={}:r.HTTPPostResponse="",p.isFunction(r.onHttpUploadStatus)){var F;F={fileName:H.name,percentage:100,statusCode:200,responseString:r.HTTPPostResponse},r.onHttpUploadStatus(F)}p.isFunction(a)&&a(r.HTTPPostResponse)}),q.on(Xu.event.ERROR,function(H){n.content=null,q=null;var F=H&&H.canceled;H&&H.timeout;var B="",V=0;te&&j.progressContext.off("cancel",te),H&&p.isString(H.response)?r.HTTPPostResponse=H.response:r.HTTPPostResponse="",F||(H&&H.msg&&(B=H.msg),H&&H.httpStatus&&(V=H.httpStatus));var G,z={};DC(z,F,B,V),p.isFunction(r.onHttpUploadStatus)&&(G={fileName:H.name,percentage:100,statusCode:V,responseString:r.HTTPPostResponse},r.onHttpUploadStatus(G)),p.isFunction(s)&&s(z._errorCode,z._errorString,r.HTTPPostResponse,V)}),(D||p.isFunction(r.onHttpUploadStatus))&&(q.on(Xu.event.PROGRESS,function(H){!ue.bSafari&&H&&(delete H.totalSize,delete H.position);var F=H.total===0?100:Math.round(100*H.loaded/H.total);if([H.loaded," / ",H.total].join(""),p.isFunction(r.onHttpUploadStatus)){var B;B={fileName:H.name,percentage:F,statusCode:0,responseString:""},r.onHttpUploadStatus(B)}r.onPercent([0,F,"","http",H.name])}),r.onPercent([0,-1,Cr.Uploading,"http"]),p.isFunction(r.onHttpUploadStatus))){var X="";p.isArray(u)&&u.length>0||(u&&u.name&&u.name!=""?X=u.name:u&&u.fileName&&(X=u.fileName)),!X&&n.fileName&&(X=n.fileName),r.onHttpUploadStatus({fileName:X,percentage:0,statusCode:0,responseString:""})}if($&&$.bCancel){$.st=2;var J={};return Ro(J),n.content=null,p.isFunction(s)&&s(J._errorCode,J._errorString),!1}var re=q.upload(u);return u=null,re}function TU(r,n,a,s){var u,d,l=r.MaxUploadImageSize,h=0,m=n.content;if(!m||!p.isArray(m)||m.length<=0){n.content=null;var _={};return sn(_),p.isFunction(s)&&s(_._errorCode,_._errorString),Pe}for(u=0;u<m.length;u++){var S=m[u];if(!S||S.size<=0){var y={};return sn(y),p.isFunction(s)&&s(y._errorCode,y._errorString),Pe}var b=S.size,I=S.type;if(h+=b,I===""||I&&I!=n.contentType){var x=S.slice||S.webkitSlice||S.mozSlice,D=S.name,W=x.call(S,0,b,n.contentType);p.isString(D)&&D!=""||(D=S.fileName),W.name=po(D,u+1),m[u]=W}m[u].remoteFilename=po(n.remoteFilename,u+1),S=null}if(h>l&&l!=-1){var $={};return ms($),p.isFunction(s)&&s($._errorCode,$._errorString),Pe}for(j.cancelFrom=Mt.HTTPUpload,d=CU(r,n,a,s),n=null,u=0;u<m.length;u++)m[u]=null;return m=null,d}function hu(r){j.dlgRef<=0||j.dialogShowStatus==0||eu(r)}j.setBtnCancelVisibleForProgress=eu;var xs=function(){return v(function r(){f(this,r)},[{key:"_onProgress",value:function(r,n,a){var s=a.total===0?100:Math.round(100*a.loaded/a.total);[a.loaded," / ",a.total].join(""),r.onPercent([0,s,"","http",n])}},{key:"_uploadBlobFragment",value:function(r,n,a,s){var u=n.fileName,d=n.blockSize,l=0;n.method;var h,m,_,S=n.offset,y=this,b=function(te,q){n.content=null,p.isFunction(s)&&s(te,q)};if((h=n.content).size<=0){var I={};return sn(I),b(I._errorCode,I._errorString),Pe}if(l=h.size,(m=l-S)>0){var x;if(m>=d&&d>0?(m-=d,_=d):(_=m,m=0),!(x=S==0&&_==l?h:h.slice(S,S+_))){var D={};sn(D),b(D._errorCode,D._errorString)}if(!r.IfShowProgressBar||r.IfShowProgressBar&&j.dlgRef>0){x.name=u,hu(r.IfShowCancelDialogWhenImageTransfer),n.headers["Content-Range"]=["bytes ",S,"-",S+x.size-1,"/",l].join(""),y._onProgress(r,u,{total:l,loaded:S});var W=p.clone(n);return W.content=x,W.offset=0,y.httpPostUpload(r,W,function(te){m==0&&(j.needShowTwiceShowDialog=!1),y._onProgress(r,u,{total:l,loaded:S+_}),m==0?(n.content=null,p.isFunction(a)&&yn(a,te)):(n.offset=n.offset+_,setTimeout(function(){y._uploadBlobFragment(r,n,a,b)},100))},b),!0}var $={};return Ro($),b($._errorCode,$._errorString),!1}return j.needShowTwiceShowDialog=!1,n.content=null,p.isFunction(a)&&a(""),!0}},{key:"httpPostUploadFragment",value:function(r,n,a,s){var u;if(!(u=n.content)){var d={};return sn(d),p.isFunction(s)&&s(d._errorCode,d._errorString),Pe}if(p.isString(u)){if(u==""){var l={};return sn(l),p.isFunction(s)&&s(l._errorCode,l._errorString),Pe}var h=new Blob([u],{type:"text/plain"}),m=n.fileName;h.name=m,n.content=h,h=null}return j.cancelFrom=Mt.HTTPUpload,this._uploadBlobFragment(r,n,a,s)}},{key:"httpPostUpload",value:function(r,n,a,s){var u,d,l=n.bAsync,h=function(J,re,H,F){return n.content=null,n=null,p.isFunction(s)&&s(J,re,H,F),!1};if(!(u=n.content)){var m={};return sn(m),h(m._errorCode,m._errorString),!!l&&void 0}if(p.isString(u)){var _,S=n.fileName;if(u==""){var y={};return sn(y),h(y._errorCode,y._errorString),!!l&&void 0}if(_=r.MaxUploadImageSize,u.length>_&&_!=-1){var b={};return ms(b),h(b._errorCode,b._errorString),!!l&&void 0}(d=new Blob([u],{type:"text/plain"})).name=S,u=null}else if(u instanceof Blob&&(d=u,u=null,d.size<=0)){var I={};return sn(I),h(I._errorCode,I._errorString),!!l&&void 0}if(d){var x,D,W=r.MaxUploadImageSize,$=d.size,te=d.type;if($>W&&W!=-1){var q={};return ms(q),h(q._errorCode,q._errorString),!!l&&void 0}te===""||te&&te!=n.contentType?(x=(d.slice||d.webkitSlice||d.mozSlice).call(d,0,$,n.contentType))instanceof File?(D=x.fileName,x.name=D):x.name=d.name||d.fileName:x=d,d=null,x&&(n.content=x),x=null}hu(r.IfShowCancelDialogWhenImageTransfer),j.cancelFrom=Mt.HTTPUpload;var X=CU(r,n,function(J){return n.content=null,n=null,p.isFunction(a)&&a(J),J=null,!0},h);return l?void 0:!!X}}])}(),la=v(function r(){f(this,r),this.method="",this.httpMethod="POST",this.contentType="application/octet-stream",this.remoteFilename="RemoteFile",this.blockSize=0,this.offset=0,this.retry=0,this.bOnlyResponseEmptyIsOK=!0,this.bAsync=!0,this.responseType=ja.Text}),IU=v(function r(){f(this,r),this.IfShowProgressBar=!1,this.IfShowCancelDialogWhenImageTransfer=!0}),mc=function(r){return r.URL=0,r.Blob=1,r.Base64=2,r}({}),U0=window.SparkMD5,_E=function(){return v(function r(n,a,s,u){f(this,r);var d=this;d._md5=s,d._length=a,d._content=u},[{key:"getLength",value:function(){return this._length}},{key:"getMD5",value:function(){return this._md5}},{key:"getData",value:function(r,n){var a=this,s=n;return p.isNumber(r)&&p.isNumber(n)?r<0||n<=0?"":r==0&&s==a._length?a._content:(r+s>a._length&&(s=a._length-r),a._content.substr(r,s)):""}}])}();j.html5.Base64Result=_E;var wU=function(r){function n(X){var J;return f(this,n),(J=c(this,n,[X])).__maxUploadImageSize=-1,J._strHttpContentTypeFieldValue="application/octet-stream",J}return P(n,r),v(n,[{key:"_saveBlob",value:(q=o(w().mark(function X(J,re){var H,F;return w().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(H=this,!U.navInfo.bIE){B.next=7;break}return B.next=5,H._innerSaveLocal(J,re);case 5:B.next=11;break;case 7:return F=URL.createObjectURL(J),B.next=10,H._innerSaveLocal(F,re);case 10:URL.revokeObjectURL(F);case 11:J=null;case 12:case"end":return B.stop()}},X,this)})),function(X,J){return q.apply(this,arguments)})},{key:"_saveImages",value:(te=o(w().mark(function X(J,re,H,F){var B,V,G,z,Z,ie;return w().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return B=this,V=B0(re,F),G=qu(B,H),j.cancelFrom=Mt.Other,se.next=5,B._innerConvertToArrayBufferWithUIAsync(J,F,G);case 5:return z=se.sent,Z=At.getBlobTypeByImageType(F),ie=new Blob([z],{type:Z}),se.next=10,B._saveBlob(ie,V);case 10:ie=null;case 11:case"end":return se.stop()}},X,this)})),function(X,J,re,H){return te.apply(this,arguments)})},{key:"_innerSaveLocal",value:($=o(w().mark(function X(J,re){return w().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",new j.Promise(function(F,B){var V=window,G=U.navInfo,z=V.requestFileSystem||V.webkitRequestFileSystem||V.mozRequestFileSystem;if(!G.biPad&&!G.biPhone||z||!(ue.bSafari&&parseFloat(ue.strBrowserVersion)<13)&&ue.bSafari){var Z=document.createElementNS("http://www.w3.org/1999/xhtml","a");if(Z.href=J,Z.download=re,Z.target="_blank",document.body.appendChild(Z),G.bEdge)Z.click(),J=null,Z.href=null;else if(G.bIE){var ie;(ie=window.navigator)&&"msSaveOrOpenBlob"in ie&&ie.msSaveOrOpenBlob(J,re)}else{var se=document.createEvent("MouseEvents");se.initMouseEvent("click",!0,!1),Z.dispatchEvent(se)}setTimeout(function(){document.body.removeChild(Z),Z=null,F()},6e3)}else{var ne=V.open(J,"","",!1);setTimeout(function(){ne.document.title=re,F()},6e3)}}));case 1:case"end":return H.stop()}},X)})),function(X,J){return $.apply(this,arguments)})},{key:"_OnPostTransferAsync",value:function(X,J,re){var H,F=this;if(X&&X.length>=2)try{var B=String(X[1]).replace(/\\/g,"\\\\");H=p.parse(B),!re&&H.imageId&&(H.imageId=F._serverId2uidFromServer(H.imageId))}catch{p.log(X)}H||(H={imageId:""});var V=!1;if(p.isFunction(F.__OnPostTransferAsync))try{V=F.__OnPostTransferAsync(H)}catch(G){_r(G)}if(p.isFunction(F.__OnPostTransferAsync2))try{F.__OnPostTransferAsync2(H)}catch(G){_r(G)}return V}},{key:"_checkIndices",value:function(X,J){return xU(X,!p.isUndefined(J)&&J>=0?J:this._imageBufferWrapper.count(),this)}},{key:"_acquireImageForSendTo",value:(W=o(w().mark(function X(J,re,H,F){var B,V,G,z,Z,ie,se,ne;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(B=this,V=H?p.clone(H):{},z=G=F,B._resetErr(),B._isValid()){ae.next=4;break}throw{code:B._errorCode,message:B._errorString};case 4:if(p.isString(G._id)){ae.next=6;break}throw{code:-2602,message:'The parameter "SendTo" is invalid.'};case 6:if(!B.__bAcquireImageNow){ae.next=9;break}throw aF(B),{code:B._errorCode,message:B._getErrorString()};case 9:if(B.__bAcquireImageNow=!0,Jr(J,z),Z=j.Promise.resolve(),ie=U.DWT.RemoteScanConfig,se=qR(),ae.prev=13,RO(V),ie&&n_(ie.keepAwake),_t.checkProductKey(B,{Core:!0})&&B._isValid()){ae.next=18;break}throw{code:B._errorCode,message:B._errorString};case 18:return Vi._innerSendHeartBeat(G,!1),ne=function(){var be=o(w().mark(function ge(_e){return w().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:Z=Z.then(function(){return new j.Promise(function(Xe,ze){var yt=[B._uidFromServer2ServerId(_e.imageId)],at=U.DWT.EnumDWT_ImageType.IT_PNG;j.cancelFrom=Mt.Scan,B._innerConvertToArrayBufferAsync(at,yt).then(function(gt){G._bltsCopyImage=!0,G.__LoadImageFromBytesV2(gt,at,"",!0,0,0,!1,0,function(){var Tt=o(w().mark(function Be(Oe,tt){var pt;return w().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return pt=B._uidFromServer2ServerId(_e.imageId),tt?(p.log("LoadImageFromBinary success"),G._bltsCopyImage=!1,_e.imageId=G._uidFromServer2ServerId(tt.ids),p.isFunction(G._OnPostTransferAsync)&&G._OnPostTransferAsync([!0,p.stringify(_e)],null,!0)):p.log("LoadImageFromBinary return null."),Xe(),lt.next=5,B._removeImageByIdAsync(pt);case 5:case"end":return lt.stop()}},Be)}));return function(Be,Oe){return Tt.apply(this,arguments)}}(),function(Tt,Be){p.log(Be),G._bltsCopyImage=!1,ze({code:Tt,message:Be})})},function(gt){gt&&gt.message&&p.log(gt.message),ze(gt)})})});case 1:case"end":return Le.stop()}},ge)}));return function(ge){return be.apply(this,arguments)}}(),B._registerEvent("OnPostTransferAsync2",ne),re!=null&&(V.Device=re.strDevice,V.DeviceMatchField=Ep.SMF_NAME),ae.next=24,B._acquireImageFromServiceAsync(V);case 24:ae.next=29;break;case 26:throw ae.prev=26,ae.t0=ae.catch(13),ae.t0;case 29:return ae.prev=29,ae.prev=30,ae.next=33,Z;case 33:ae.next=37;break;case 35:ae.prev=35,ae.t1=ae.catch(30);case 37:return B._unregisterEvent("OnPostTransferAsync2"),B.__bAcquireImageNow=!1,Dr(J),n_(se),ae.finish(29);case 42:case"end":return ae.stop()}},X,this,[[13,26,29,42],[30,35]])})),function(X,J,re,H){return W.apply(this,arguments)})},{key:"_uidFromServer2index",value:function(X){var J,re=this;return re._resetErr(),!!re._isValid()&&(p.isString(X)?((J=re._imageBufferWrapper._uidFromServer2index(X))==-1&&PF(re),J):(mF(re),-1))}},{key:"_index2uidFromServer",value:function(X){var J=this;if(J._resetErr(),!J._isValid())return!1;var re=parseInt(X);return isNaN(re)?(Ot(J),""):re<0||re>=this._imageBufferWrapper.count()?(qe(J),""):J._imageBufferWrapper._index2uidFromServer(X)}},{key:"__LoadImageFromBytesV2",value:function(X,J,re,H,F,B,V,G,z,Z){var ie,se=this,ne=J||3,ae=0,be=X.name,ge=!0,_e=1;if(X)if(X instanceof Blob)ae=X.size;else if(iu(X))ae=X.byteLength;else if(X instanceof Array)ae=X.length;else{var Le=X;ae=Le.size||Le.byteLength||Le.length}!isNaN(F)&&F>=0&&!isNaN(B)&&B>0?_e=0:(F=0,B=0),ie=["[",ae,",",0,",",ne,',"',re,'",',F,",",B,",",G,",",_e,",",V?"true":"false","]"].join("");var Xe=function(){if(se.__bLoadingImage=!1,ge){var ze=se._imageBufferWrapper.getCurrentImageIndex();ze>=0&&se._innerRefreshUI(ze)}return p.isFunction(Z)&&Z(se._errorCode,se._getErrorString(),be),!1};return _t.checkProductKey(se,{Core:!0})||ue.bWin&&_t.checkProductKey(se,{Webcam:!0},!0)?_t.checkPDFProductKeyWhenNeeds(se,J)?ae===0?(Fe(se,-2312,"The file length is empty."),ge=!1,Xe()):this._innerSendBlob("LoadImageFromBytes",ie,X,H,_e,function(ze){if(se.__bLoadingImage=!1,se._isBindViewer()){var yt=se._imageBufferWrapper.getCurrentImageIndex();H&&yt>=0&&se._innerRefreshUI(yt)}if(p.isFunction(z)){var at=ze;if(p.isArray(at)&&(at=at.length>0?at[0]:{}),H)setTimeout(function(){z(be,at)},30);else try{z(be,at)}catch(gt){p.error(gt.message)}}return se._canConsume()&&U.DWT.lcvrf(se),!0},Xe):(ge=!1,Xe()):(_t.checkProductKey(se,{Core:!0},!1),ge=!1,Xe())}},{key:"_innerSendBlob",value:function(X,J,re,H,F,B,V){var G=this;if(Vi.isServerInvalid(G))return G._waitForConnect().then(function(){G._innerSendBlob(X,J,re,H,F,B,V)});if(H)return G._innerSendBlobByWS(X,J,re,B,V),!0;var z,Z,ie,se;return G._resetErr(),!!G._isValid()&&(Z=[G._httpUrl,"f/",X].join(""),ie=vl(G._clientId,X,J,0,G._bScanForProxyRemote),ie+=`\r
\r
`,se={method:"POST",url:Z,processData:!1,data:ie+=p.base64.encodeArray(re),async:!1,onSuccess:function(ne,ae,be){var ge=!1,_e=!1;try{ge=p.isString(ne)&&dl(be.getResponseHeader("content-type"))?p.parse(ne):ne}catch{}if(ge!=null&&(co(ge)?(G._errorCode=ge.exception,G._errorString=ge.description):G._resetErr(),(z=ge.result)&&p.isArray(z)&&z.length>=1))if(F){var Le,Xe=z[0];Xe&&p.isObject(Xe)&&(Le=Xe.imageInfos,G._errorCode==0&&p.isString(Le)&&G._handleOnBitmapChangedEvent({result:["c1",Le]},{document:re.currentFileName,tag:re.currentTagName}),_e=!0)}else{var ze=z.join(",");G._errorCode==0&&ze.length>0&&G._OnBitmapChanged(["c1",ze,1,G._imageBufferWrapper.getCurrentImageIndex(),G._imageBufferWrapper.count()],null,{document:re.currentFileName,tag:re.currentTagName}),_e=!0}_e||(kC(G),z="")},onError:function(){s_(G),z=""}},p.mix(se,{headers:{"X-Requested-With":!1}}),ue.bFileSystem&&(se.crossDomain=!1),Po(se),G._errorCode==0?p.isFunction(B)&&B():p.isFunction(V)&&V(),z)}},{key:"_convertToBase64ByServerIdsWithUI",value:function(X,J,re,H,F,B,V){this._convertToBase64ByServerIdsWithUIAsync(X,re,J,H).then(function(G){p.isFunction(B)&&yn(B,G)},function(){p.isFunction(V)&&V()})}},{key:"_OnPercentDone",value:function(X){var J,re,H,F,B,V=this,G=!1,z=!1,Z=0;p.isArray(X)&&X.length>2&&(re=X[0],Z=X[1],H=X[2],X.length>3&&(F=X[3]),X.length>4&&(B=X[4]),X.length>5&&X[5],J=Z,Z<0?J=0:Z>100&&(J=100),J=Math.floor(J),j.cancelFrom!=Mt.HTTPUpload&&j.cancelFrom!=Mt.HTTPDownload&&j.cancelFrom!=Mt.Scan&&j.cancelFrom!=Mt.HTTPPut||(z=B)),(V._bServerPercentDone||re==0)&&((Z>0||Z==0)&&(j.cancelFrom!=Mt.HTTPUpload&&j.cancelFrom!=Mt.HTTPDownload&&j.cancelFrom!=Mt.FTPUpload&&j.cancelFrom!=Mt.FTPDownload&&j.cancelFrom!=Mt.HTTPPut||(G=!0)),V.IfShowProgressBar&&j.progressBarOnPercentDone(Z,H,F,J,z,this._containerElement),G==1&&(p.isFunction(V.__OnInternetTransferPercentage)&&V.__OnInternetTransferPercentage(J,!1),p.isFunction(V.__OnInternetTransferPercentageEx)&&V.__OnInternetTransferPercentageEx(J,!1)),p.isFunction(V.__OnPercentDone)&&V.__OnPercentDone())}},{key:"IfShowProgressBar",get:function(){return this._bIfShowProgressBar},set:function(X){this._resetErr(),p.isBoolean(X)?this._bIfShowProgressBar=X:jn(this)}},{key:"IfShowCancelDialogWhenImageTransfer",get:function(){return this.__IfShowCancelDialogWhenImageTransfer},set:function(X){this._resetErr(),p.isBoolean(X)?this.__IfShowCancelDialogWhenImageTransfer=X:jn(this)}},{key:"_getLogLevel",value:function(){return this._logLevel}},{key:"_setLogLevel",value:(D=o(w().mark(function X(J){return w().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return this._logLevel=J,re.next=3,this._innerFunV2("LogLevel",Ve(J));case 3:case"end":return re.stop()}},X,this)})),function(X){return D.apply(this,arguments)})},{key:"MaxUploadImageSize",get:function(){return this.__maxUploadImageSize},set:function(X){var J=this;J._resetErr();var re=1*X;!p.isNumber(re)||isNaN(re)?jn(J):J.__maxUploadImageSize=re}},{key:"HTTPRequestswithCredentials",get:function(){return this._resetErr(),this._bWithCredentials},set:function(X){this._resetErr(),p.isBoolean(X)?this._bWithCredentials=X:jn(this)}},{key:"cancelableObj",get:function(){return this._cancelableObj},set:function(X){this._cancelableObj=X}},{key:"_getProfile",value:(x=o(w().mark(function X(J){var re,H;return w().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if((re=this)._resetErr(),re._isValid()){F.next=4;break}throw{code:re._errorCode,message:re._errorString};case 4:return J&&(H=p.stringify([J.strDevice])),F.abrupt("return",re._innerFunV2("GetCustomDSDataEx",H));case 6:case"end":return F.stop()}},X,this)})),function(X){return x.apply(this,arguments)})},{key:"_setProfile",value:(I=o(w().mark(function X(J,re){var H,F;return w().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if((H=this)._resetErr(),H._isValid()){B.next=4;break}throw{code:H._errorCode,message:H._errorString};case 4:return F=J?p.stringify([re,J.strDevice]):Ve(re),B.abrupt("return",this._innerFunV2("SetCustomDSDataEx",F));case 6:case"end":return B.stop()}},X,this)})),function(X,J){return I.apply(this,arguments)})},{key:"_removeAllImagesAsync",value:(b=o(w().mark(function X(J,re){var H,F,B,V,G,z;return w().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if((H=this)._resetErr(),H._isValid()){Z.next=4;break}throw{code:H._errorCode,message:H._errorString};case 4:for(B=[],G=H._getHowManyImagesInBuffer(),V=G-1;V>=0;V--)(z=H._imageBufferWrapper.convertClientIndexToServerId(V))>-1&&B.push(z);if(B.length!=0){Z.next=13;break}return Z.next=10,H._innerFunV2("RemoveAllImages");case 10:F=Z.sent,Z.next=23;break;case 13:if(!re){Z.next=19;break}return Z.next=16,H._innerFunV2("RemoveAllImages",Ve(B.join(",")));case 16:F=Z.sent,Z.next=22;break;case 19:return Z.next=21,H._innerFunV2("RemoveAllImages");case 21:F=Z.sent;case 22:(F||H._errorCode==-1033)&&H._OnBitmapChanged(["c1",B.join(","),3,H._imageBufferWrapper.getCurrentImageIndex(),H._imageBufferWrapper.count()]);case 23:return Z.abrupt("return",F);case 24:case"end":return Z.stop()}},X,this)})),function(X,J){return b.apply(this,arguments)})},{key:"__OnRecieveMsg",value:function(X,J){var re=this,H=J==null?void 0:J.cmd;if(X.event)return E(A(n.prototype),"__OnRecieveMsg",this).call(this,X,J);if(co(X)?(re._errorCode=X.exception,re._errorString=X.description):H!="StartScan"&&H!="GetAddOnVersion"&&(re._errorCode=0,re._errorString=""),H=="ReadBarcode"||H=="OCRRecognize"||X.request&&X.request.method=="OCRProRecognize")return J.sFun?(J.sFun(X),!0):(J.fFun&&J.fFun(X),!0);if(H=="SetCapabilities"||H=="GetSkewAngleFromBinary"||H=="UpdateImage")return"exception"in X&&X.exception!="0"?(X.result.errorCode&&X.result.errorString?(re._errorCode=X.result.errorCode,re._errorString=X.result.errorString):(re._errorCode=X.exception,re._errorString=X.description),J.fFun&&J.fFun(X.result),X=null,!0):(J.sFun&&J.sFun(X.result),X=null,!0);if(X.result&&X.result.length&&(X.result[0]=="1"||X.result[0]==1||X.result[0]=="ok"))return(J.sFun||J.sFun)&&J.sFun(X.result),!0;if(!X.exception)return J.sFun&&J.sFun(X.result),X=null,!0;var F=!1;return J.fFun&&(F=J.fFun(re._errorString)),!F&&X.exception&&X.exception<0&&X.exception!=-2115&&p.isFunction(re.__OnPrintMsg)&&re.__OnPrintMsg(re._errorString),!0}},{key:"_convertServerIdToGuid",value:function(X){return this._serverId2uidFromServer(X)}},{key:"_convertGuidToServerId",value:function(X){return this._uidFromServer2ServerId(X)}},{key:"_serverId2uidFromServer",value:function(X){return this._imageBufferWrapper._serverId2uidFromServer(X)}},{key:"_uidFromServer2ServerId",value:function(X){return this._imageBufferWrapper._uidFromServer2ServerId(X)}},{key:"_innerConvertToBlobWithUI",value:function(X,J,re,H,F,B){var V=this,G=arguments,z=function(Z){if(j.needShowTwiceShowDialog=!1,p.isFunction(B)){var ie=[];p.isArray(re)&&p.each(re,function(se){var ne=V._imageBufferWrapper.convertServerIdToClientIndex(se);ne>-1&&ie.push(ne)}),Z&&(V._errorCode=Z.code,V._errorString=Z.message),B(ie)}return!1};V._innerConvertToArrayBufferWithUIAsync(X,J,re,H).then(function(Z){if(!Z||Z.byteLength<=0)return gF(V),z();var ie=V.__maxUploadImageSize;if(Z.byteLength>ie&&ie!=-1)return ms(V),z();if(j.needShowTwiceShowDialog=!1,p.isFunction(F)){var se=[];p.isArray(re)&&p.each(re,function(be){var ge=V._imageBufferWrapper.convertServerIdToClientIndex(be);ge>-1&&se.push(ge)});var ne=At.getBlobTypeByImageType(J),ae=new Blob([Z],{type:ne});try{F(ae,se,G)}catch{}ae=null}return!0},z)}},{key:"convertToBlob",value:(y=o(w().mark(function X(J,re,H){var F,B,V,G;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return B=qu(F=this,re),j.cancelFrom=Mt.ConvertToBlob,z.next=4,F._innerConvertToArrayBufferWithUIAsync("convertToBlob",J,B,H);case 4:return V=z.sent,G=At.getBlobTypeByImageType(J),z.abrupt("return",new Blob([V],{type:G}));case 7:case"end":return z.stop()}},X,this)})),function(X,J,re){return y.apply(this,arguments)})},{key:"_innerConvertToArrayBufferWithUIAsync",value:(S=o(w().mark(function X(J,re,H,F,B){var V,G,z,Z;return w().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return G=this,Z=(V=j.progressContext)===null||V===void 0?void 0:V.IfShowCancelDialogWhenImageTransfer,ie.prev=2,G.IfShowProgressBar?j.showProgress(G,J,!1):j.hideProgress(),G._OnPercentDone([0,-1,Cr.Encoding]),j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!1),ie.next=8,this._innerConvertToArrayBufferAsync(re,H,F,B);case 8:z=ie.sent;case 9:return ie.prev=9,j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=Z),G.IfShowProgressBar&&j.closeProgress(null,J),ie.finish(9);case 13:return ie.abrupt("return",z);case 14:case"end":return ie.stop()}},X,this,[[2,,9,13]])})),function(X,J,re,H,F){return S.apply(this,arguments)})},{key:"_innerConvertToBase64Async",value:(_=o(w().mark(function X(J,re,H){var F,B,V,G,z,Z,ie,se,ne;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return F=this,B=H,p.isString(B)&&B!=""||(B="{}"),V=["[",J,',"',re.join(","),'",',B,",1]"].join(""),ae.next=5,F._sendDataByHttpAsync("ConvertToBase64",V,"text",!0);case 5:if(G=ae.sent,z=0,Z="",ie="",se=G&&G.result,F._errorCode==0){ae.next=9;break}throw{code:F._errorCode,message:F._errorString};case 9:if(!se||!p.isArray(se)||se.length!=3){ae.next=17;break}return ie=se[0],z=se[1],Z=se[2],ne=new _E(null,z,Z,ie),ae.abrupt("return",ne);case 17:throw Fe(F,-2366,"Converting images to a base64 string failed."),{code:F._errorCode,message:F._errorString};case 19:case"end":return ae.stop()}},X,this)})),function(X,J,re){return _.apply(this,arguments)})},{key:"_convertToBase64ByServerIdsWithUIAsync",value:(m=o(w().mark(function X(J,re,H,F){var B,V,G;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return V=this,G=(B=j.progressContext)===null||B===void 0?void 0:B.IfShowCancelDialogWhenImageTransfer,z.prev=2,V.IfShowProgressBar?j.showProgress(V,J,!1):j.hideProgress(),V._OnPercentDone([0,-1,Cr.Encoding]),j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=V.IfShowCancelDialogWhenImageTransfer),z.next=8,this._innerConvertToBase64Async(re,H,F);case 8:return z.abrupt("return",z.sent);case 9:return z.prev=9,j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=G),V.IfShowProgressBar&&j.closeProgress(null,J),z.finish(9);case 13:case"end":return z.stop()}},X,this,[[2,,9,13]])})),function(X,J,re,H){return m.apply(this,arguments)})},{key:"_convertToBlobForUpload",value:function(X,J,re,H,F,B,V){var G=this,z=arguments;if(U.DWT.ConnectWithSocket){var Z=re,ie=",";p.isString(Z)&&Z!=""||(Z="",ie="");var se=["[",X,',"',J.join(","),'"',ie,Z,"]"].join("");return j.cancelFrom=Mt.ConvertToBlob,j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!1),G._sendData("ConvertToBlob",se,!0,function(ne){G._resetErr();var ae=ne;if(ae){if(ae instanceof Blob||iu(ae))return void F(ae,"",z);co(ae)&&(G._errorCode=ae.exception,G._errorString=ae.description)}},function(ne){G._errorCode=ne.code,G._errorString=ne.message,B(ne)}),!0}G._innerConvertToArrayBufferAsync(X,J,re,"arraybuffer").then(function(ne){var ae=G._strHttpContentTypeFieldValue,be=new Blob([ne],{type:ae});if(U.DWT.IfAddMD5InUploadHeader){var ge=new U0.ArrayBuffer;ge.append(ne),p.isFunction(F)&&F(be,ge.end(),z)}else p.isFunction(F)&&F(be,"",z);be=null},function(ne){B(ne.code,ne.message)})}},{key:"dispose",value:function(){return this.__unload()}},{key:"_innerDisposeWSClient",value:function(){return this._isValid()?this._sendData("dispose",null,!0,function(){},function(){}):j.Promise.reject()}},{key:"__unload",value:(h=o(w().mark(function X(){var J,re;return w().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(!(J=this)._bReady||j.page.bUnload){H.next=10;break}if(!J._wsClient){H.next=10;break}return H.prev=3,H.next=6,J._innerDisposeWSClient();case 6:H.next=10;break;case 8:H.prev=8,H.t0=H.catch(3);case 10:if(!J._wsClient){H.next=24;break}return J._wsClient.removeEvent("close",J._clientId),J._wsClient.removeEvent("error",J._clientId),J._wsClient.removeEvent("timeout",J._clientId),H.prev=14,H.next=17,J._wsClient.dispose();case 17:H.next=22;break;case 19:H.prev=19,H.t1=H.catch(14),re=H.t1;case 22:delete J._wsClient,J._wsClient=null;case 24:if(this._imageBufferWrapper.dispose(),this._bReady=Pe,this._destroy=rt,!re){H.next=29;break}throw re;case 29:case"end":return H.stop()}},X,this,[[3,8],[14,19]])})),function(){return h.apply(this,arguments)})},{key:"_getImages",value:(l=o(w().mark(function X(J,re,H,F){var B,V,G,z;return w().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if((B=this)._checkIndices(re)){Z.next=3;break}throw{code:this._errorCode,message:this._errorString};case 3:if(F!=mc.URL){Z.next=9;break}if(!(re.length>1)){Z.next=7;break}throw Fe(this,-2619,"Only single index selection is allowed when enumImageFormatType is set to url."),{code:this._errorCode,message:this._errorString};case 7:Z.next=13;break;case 9:if(H!=U.DWT.EnumDWT_ImageType.IT_BMP&&H!=U.DWT.EnumDWT_ImageType.IT_JPG&&H!=U.DWT.EnumDWT_ImageType.IT_PNG){Z.next=13;break}if(!(re.length>1)){Z.next=13;break}throw o$(this),{code:this._errorCode,message:this._errorString};case 13:if(F!=mc.URL){Z.next=17;break}return Z.abrupt("return",this._imageBufferWrapper.getImageUrl(re[0]));case 17:if(j.cancelFrom=Mt.Other,V=qu(B,re),F!=mc.Blob){Z.next=27;break}return Z.next=22,this._innerConvertToArrayBufferWithUIAsync(J,H,V);case 22:return G=Z.sent,z=At.getBlobTypeByImageType(H),Z.abrupt("return",new Blob([G],{type:z}));case 27:if(F!=mc.Base64){Z.next=31;break}return Z.next=30,this._convertToBase64ByServerIdsWithUIAsync(J,H,V);case 30:return Z.abrupt("return",Z.sent);case 31:throw i$(this),{code:this._errorCode,message:this._errorString};case 33:case"end":return Z.stop()}},X,this)})),function(X,J,re,H){return l.apply(this,arguments)})},{key:"_LicensePromptExpired",value:function(){var X=this,J=X.__licenseInfo.bTrial,re="";X.__licenseInfo&&X.__licenseInfo.ExpireDate&&(re=X.__licenseInfo.ExpireDate);var H=tO(re);H<=0&&(J||_r(X._getErrorString()),p.isFunction(U.OnLicenseExpiredWarning)&&U.OnLicenseExpiredWarning(re,H,J))}},{key:"__saveToViewerAfterUpdate",value:function(X,J){var re=this,H=this._imageBufferWrapper.getIndexByUid(X),F=this._imageBufferWrapper.convertClientIndexToServerId(H),B=sr.getUrlByAct(this._imageBufferWrapper.BaseUrl,F,2);return new j.Promise(function(V,G){Po({method:"GET",xhrFields:{withCredentials:!0},url:B,onSuccess:function(z){var Z,ie=re._imageBufferWrapper.getMetadataByIndex(H);ie||(ie={}),ie.width=J.width,ie.height=J.height,Z=U.navInfoSync.bMobile?re._imageBufferWrapper.getMinImageUrl(H,Math.round(ie.controlWidth*devicePixelRatio),Math.round(ie.controlHeight*devicePixelRatio)):re._imageBufferWrapper.getMinImageUrl(H,ie.controlWidth,ie.controlHeight);var se=re._imageBufferWrapper.getImageIdMap(F);if(se){se.ticks=Date.now(),se.imageUrl=re._imageBufferWrapper.getImageUrl(H),se.minImageUrl=Z,se.width=J.width,se.height=J.height;var ne=p.clone(se);ne.imageId=F,re._imageBufferWrapper.UpdateImage(ne,ie)}V()},onError:function(){V(),Dr("save")}})})}},{key:"RunCommandAsync",value:(d=o(w().mark(function X(J){var re,H,F,B,V,G;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(re=this,J&&p.isString(J.command)&&J.parameter){z.next=4;break}throw Kt(re),{code:re._errorCode,message:re._errorString};case 4:if(J.command!="Invert"){z.next=6;break}return z.abrupt("return",re._invert(J.parameter.index));case 6:if(H=J.parameter.index,!p.isNumber(H)){z.next=13;break}if(!(isNaN(H)||!p.isNumber(H)||H<0||H>=re._imageBufferWrapper.count())){z.next=11;break}throw qe(re),{code:re._errorCode,message:re._errorString};case 11:F=re._imageBufferWrapper.convertClientIndexToServerId(H),J.parameter.index=F;case 13:return B=["[",p.stringify(J),"]"].join(""),z.next=16,re._innerFunRawV3("runCommand",B);case 16:if(V=z.sent,!ue.bIE){z.next=21;break}if(!p.isString(V)){z.next=20;break}return z.abrupt("return",p.parse(V));case 20:return z.abrupt("return",V);case 21:if(!dl(G=V.headers.get("content-type"))){z.next=28;break}return z.next=25,V.json();case 25:return z.abrupt("return",z.sent);case 28:if(G!="text/plain"&&G!="text/html"){z.next=32;break}return z.next=31,V.text();case 31:return z.abrupt("return",z.sent);case 32:return z.next=34,V.blob();case 34:return z.abrupt("return",z.sent);case 35:case"end":return z.stop()}},X,this)})),function(X){return d.apply(this,arguments)})},{key:"_innerFunRawV3",value:(u=o(w().mark(function X(J,re){var H,F,B;return w().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(B="fa/",(H=this)._resetErr(),H._isValid()){V.next=4;break}throw{code:H._errorCode,message:H._errorString};case 4:if(!Vi.isServerInvalid(H)){V.next=7;break}return V.abrupt("return",H._waitForConnect().then(function(){return H._innerFunRawV3(J,re)}));case 7:return F={method:"post",body:vl(H._clientId,J,re,0,H._bScanForProxyRemote),fetchRaw:!0},V.next=10,Fd([H._httpUrl,B,J].join(""),F);case 10:return V.abrupt("return",V.sent);case 11:case"end":return V.stop()}},X,this)})),function(X,J){return u.apply(this,arguments)})},{key:"_invert",value:(s=o(w().mark(function X(J){var re,H,F,B,V;return w().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(re=this,H=parseInt(J),re._resetErr(),re._isValid()){G.next=4;break}throw{code:re._errorCode,message:re._errorString};case 4:if(!isNaN(H)){G.next=7;break}throw Ot(re),{code:re._errorCode,message:re._errorString};case 7:if(!(H<0||H>=re._imageBufferWrapper.count())){G.next=10;break}throw qe(re),{code:re._errorCode,message:re._errorString};case 10:if((F=re._imageBufferWrapper.convertClientIndexToServerId(H))!=-1){G.next=14;break}throw qe(re),{code:re._errorCode,message:re._errorString};case 14:return G.next=16,re._innerFunV2("Invert",Ve(F),!0);case 16:if(B=G.sent,!(V=B==1)){G.next=22;break}At.refreshImageAfterInvokeFun(re,H),G.next=23;break;case 22:throw{code:re._errorCode,message:re._errorString};case 23:return G.abrupt("return",V);case 24:case"end":return G.stop()}},X,this)})),function(X){return s.apply(this,arguments)})}],[{key:"create",value:(a=o(w().mark(function X(J){var re;return w().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return re=new n(J),H.next=3,Vi.STwainConnectToServer(re);case 3:return H.abrupt("return",re);case 4:case"end":return H.stop()}},X)})),function(X){return a.apply(this,arguments)})}]);var a,s,u,d,l,h,m,_,S,y,b,I,x,D,W,$,te,q}(jce);function EU(r){var n=r,a="",s=!1;if(n.__licenseInfo&&(n.__licenseInfo.ExpireDate&&(a=n.__licenseInfo.ExpireDate),s=n.__licenseInfo.bTrial),s&&!U.DWT.HideTrialMessage){var u=tO(a);u<=5&&(p.isFunction(U.OnLicenseExpiredWarning)&&U.OnLicenseExpiredWarning(a,u,!0),U.DWT.HideTrialMessage=!0)}}function xU(r,n,a){var s;if(!p.isArray(r))return Rd(a),!1;if(r.length==0)return Fe(a,-2350,"The indices cannot be empty."),!1;if(U.DWT.ConnectWithSocket)return!0;for(s=0;s<r.length;s++){var u=r[s];if(p.isUndefined(u)||u===null)return fF(a),!1;if(u=parseInt(u),isNaN(u))return Ot(a),!1;if(u<0||u>=n)return dF(a),!1}return!0}var Ga={changeImageUISize:function(r,n,a){var s,u,d,l,h=n,m=a,_=Pe;s=Ce.one(r._containerElement),p.isString(n)&&n.indexOf("%")>=0?((d=Ce.css(s,"width"))==0&&(s[0].style.width="100%"),d=Ce.css(s,"width")*parseInt(n)/100,_=rt):h=[(d=parseInt(n))+2,"px"].join(""),p.isString(a)&&a.indexOf("%")>=0?((l=Ce.css(s,"height"))==0&&(s[0].style.height="100%"),l=Ce.css(s,"height")*parseInt(a)/100,_=rt):m=[(l=parseInt(a))+2,"px"].join(""),s&&(u=Ce.one(".dynamsoft-dwt-container-box",s))&&u.getEL()&&(u.style("width",h),u.style("height",m)),_?(r.__funResize||(r.__funResize=function(){if(r._ImgManager&&r._containerElement){var y=Ga.__innerGetUIViewRealSize(r._containerElement,r._width,r._height);return r._UIView.ChangeSize(y.width,y.height)}return rt}),p.removeEventListener(window,"resize",r.__funResize),p.addEventListener(window,"resize",r.__funResize)):r.__funResize&&(p.removeEventListener(window,"resize",r.__funResize),r.__funResize=Pe);var S=Ga.__innerGetUIViewRealSize(r._containerElement,d,l);return r._ImgManager?r._UIView.ChangeSize(S.width,S.height):rt},__innerGetUIViewRealSize:function(r,n,a){var s,u=-1,d=-1;return s=Ce.one(r),p.isString(n)&&n.indexOf("%")>=0&&(u=Ce.css(s,"width")*parseInt(n)/100),u<0&&n&&(u=parseInt(n)),p.isString(a)&&a.indexOf("%")>=0&&(d=Ce.css(s,"height")*parseInt(a)/100),d<0&&a&&(d=parseInt(a)),{width:u,height:d}},bindUIViewEvents:function(r,n){var a=r;n.onSelected=function(s){if(!a._isNoViewer()){var u,d=s.length;d>0&&(a._ImgManager.SetSelectedImageCount(d),u=s[d-1],p.isFunction(a.__OnRefreshUI)&&a.__OnRefreshUI(u))}},n.onRefreshUI=function(s){a._isNoViewer()||Ga.__innerRefreshFromUIView(a,s)},n.onResetCurrentIndex=function(s){if(!a._isNoViewer()){var u=a._ImgManager.getCurrentImageIndex();if(s>=0&&s<a._ImgManager.count()&&u!=s&&p.isFunction(a.__OnIndexChangeDuringDragDrop))try{a.__OnIndexChangeDuringDragDrop(u,s)}catch(d){_r(d)}}},n.onMouseMove=function(s){if(!a._isNoViewer()){var u=s.index;if(s){var d=s.x,l=s.y;a.__MouseX=d,a.__MouseY=l}if(p.isFunction(a.__OnMouseMove))try{a.__OnMouseMove(u)}catch(h){_r(h)}}},n.onMouseClick=function(s){if(!a._isNoViewer()){var u=s.index;if(s){var d=s.x,l=s.y;a.__MouseX=d,a.__MouseY=l}if(p.isFunction(a.__OnMouseClick))try{a.__OnMouseClick(u)}catch(h){_r(h)}}},n.onMouseDoubleClick=function(s){if(!a._isNoViewer()){var u=s.index;if(p.isFunction(a.__OnMouseDoubleClick))try{a.__OnMouseDoubleClick(u)}catch(d){_r(d)}}},n.onMouseRightClick=function(s){if(!a._isNoViewer()){var u=s.index;if(s){var d=s.x,l=s.y;a.__MouseX=d,a.__MouseY=l}if(p.isFunction(a.__OnMouseRightClick))try{return a.__OnMouseRightClick(u)}catch(h){_r(h)}return rt}},n.onImageAreaSelected=function(s){if(!a._isNoViewer()&&p.isFunction(a.__OnImageAreaSelected))try{a.__OnImageAreaSelected(s.index,s.left,s.top,s.right,s.bottom,s.areaIndex)}catch(u){_r(u)}},n.onImageAreaDeSelected=function(s){if(!a._isNoViewer()&&p.isFunction(a.__OnImageAreaDeSelected))try{a.__OnImageAreaDeSelected(s)}catch(u){_r(u)}},n.onBufferChanged=function(s){if(p.isFunction(a.__OnBufferChanged))try{a.__OnBufferChanged(s)}catch(u){_r(u)}}},__innerRefreshFromUIView:function(r,n){var a=r;p.isFunction(a.__OnRefreshUI)&&a.__OnRefreshUI(n)}};function Jt(r,n,a){n in r||Object.defineProperty(r,n,a)}var zce=function(){return v(function r(n){f(this,r);var a=this;a._parent=n,Jt(a,"width",{get:function(){return this._parent._width},set:function(s){this.SetSize(s,!1)}}),Jt(a,"height",{get:function(){return this._parent._height},set:function(s){this.SetSize(!1,s)}})},[{key:"SetSize",value:function(r,n){var a,s=this._parent,u=!1,d=!1;return!!s._isBindViewer()&&(p.isString(r)&&r.length>0&&r.charAt(r.length-1)==="%"&&(u=r),!u&&r&&(a=parseInt(r))&&(u=a+"px"),p.isString(n)&&n.length>0&&n.charAt(n.length-1)==="%"&&(d=n),!d&&n&&(a=parseInt(n))&&(d=a+"px"),u&&(s._width=u),d&&(s._height=d),Ga.changeImageUISize(s,u,d))}}])}();function AU(r){var n,a,s,u,d=r._config;j.dlgProgress||j.initProgress(r),d.bNoViewer?r._containerElement=null:(d.container?r._containerElement=d.container:d.containerId&&(r._containerElement=p.get(d.containerId)),r._width=d.width,r._height=d.height,n=Ce.one(r._containerElement)),function(l,h){var m={Stwain:l},_=Pe;if(h){var S,y=l._width,b=l._height;S=Ce.one(l._containerElement),p.isString(y)&&y.indexOf("%")>=0?(y=Ce.css(S,"width")*parseInt(y)/100,_=rt):y=parseInt(y),p.isString(b)&&b.indexOf("%")>=0?(b=Ce.css(S,"height")*parseInt(b)/100,_=rt):b=parseInt(b),m={Stwain:l,Container:h,Width:y,Height:b}}Ga.bindUIViewEvents(l,m),l._UIView?l._UIView._Init(m):l._UIView=new j.UI.ImageUIView(l,m),l.Width<=0&&(l.Width=270),l.Height<=0&&(l.Height=350),_&&Ga.changeImageUISize(l,l._width,l._height)}(r,n),r._isBindViewer()&&(a=r,s=r._config,u=s||{},a.__OnImageAreaDeSelected=u.onImageAreaDeSelected||"",a.__OnImageAreaSelected=u.onImageAreaSelected||"",a.__OnMouseClick=u.onMouseClick||"",a.__OnMouseDoubleClick=u.onMouseDoubleClick||"",a.__OnMouseMove=u.onMouseMove||"",a.__OnMouseRightClick=u.onMouseRightClick||"",a.__OnTopImageInTheViewChanged=u.onTopImageInTheViewChanged||"",a.__OnBufferChanged=u.onBufferChanged||"",r.__OnMouseClick=d.onMouseClick||"",r.__OnThumbnailMouseClick="",r.__OnKeyDown=d.onKeyDown||"",r.__OnMouseWheel=d.onMouseWheel||"",r.__OnMouseDoubleClick=d.onMouseDoubleClick||"",r.__OnMouseRightClick=d.onMouseRightClick||"",r.__OnMouseMove=d.onMouseMove||"",r.__OnImageAreaSelected=d.onImageAreaSelected||"",r.__OnImageAreaDeSelected=d.onImageAreaDeSelected||"",r.__OnRefreshUI=d.onRefreshUI||"",r.__OnBufferChanged=d.onBufferChanged||"",r.__MouseX=0,r.__MouseY=0,r.__style=new zce(r),r.__fSelectionRectAspectRatio=0)}j.install={_divDWTNonInstallContainerID:"dwt-NonInstallContainerID",_divDWTemessageContainer:"",_dlgInstall:!1},j.install._strNonInstallDIV=['<div style="text-align:center;" id="',j.install._divDWTNonInstallContainerID,'"></div>'].join("");var As=U.DWT;As.CloseDialog=function(){var r=j.install._dlgInstall;if(r){var n=p.sizzle(".dynamsoft-dialog-close");p.each(n,function(a,s){p.removeEventListener(a,"click",As.CloseDialog)}),r.open&&r.close(),document.body.removeChild(r),j.install._dlgInstall=!1}},As.ShowDialog=function(r,n,a,s,u){if(a!==!1){var d,l={width:r,height:n,position:"absolute"};s?(d=['<div class="dynamsoft-dwt-dialog-body">',a,"</div>"].join(""),l.closeButton=!1):d=['<div class="ds-dwt-ui-showdlg">','<div class="dynamsoft-dwt-dialog-body">','<div class="dynamsoft-dwt-dlg-header">',u?"":'<div class="dynamsoft-dialog-close"></div>',"</div>",a,"</div>","</div>"].join(""),u&&(l.closeButton=!1),As.ShowMessage(d,l)}},As.ShowMessage=function(r,n){var a,s,u,d,l,h=j.install,m="ds-dwt-ui-dlg",_="ds-dwt-ui-dlg-wrap",S=screen.width,y=!0,b=0,I=!0,x=!0,D=0,W="fixed",$="Error",te=we.bActiveXEdition,q=!1,X=null;if(n&&(a=n.width,s=n.height,n.seconds&&(b=n.seconds),n.headerStyle&&(D=n.headerStyle),n.backgroundStyle==1&&(q=!0),n.closeButton===!1&&(I=!1),n.bAutoClose&&(u=n.bAutoClose,I=!0),n.bReadyClosed==0&&(y=!1),n.position&&(W=n.position),n.caption&&($=n.caption),p.isFunction(n.onClose)&&(X=n.onClose)),a?!ue.bMobile&&a>S-10&&(a=S-10):a=S>600?600:S-10,s||(s="100%"),D==1?r=['<div class="dynamsoft-dialog">','<div class="dynamsoft-dwt-dialog-body">','<div class="dynamsoft-dwt-dlg-header">',I?'<div class="dynamsoft-dialog-close"></div>':"","</div>",r,"</div></div>"].join(""):D==2&&(r=['<div class="dynamsoft-dialog">','<div class="dynamsoft-dwt-ltsdlg-header"><span style="color:#FFF;line-height:35px;margin-left:15px">',$,"</span>",I?'<div class="dynamsoft-dialog-close"></div>':"","</div>",'<div class="dynamsoft-dwt-ltsdlg-body" style="padding:25px 40px 20px 40px;">',r,"</div></div>"].join("")),p.sizzle("."+m).length==0){var J=document.createElement("div"),re=document.createElement("div"),H=document.createElement("div");if(J.className=m,re.className=_,re.style.margin="auto",re.style.zIndex="9999",re.style.position="relative",re.style.border="0",u&&((d=document.createElement("div")).className="dynamsoft-dialog-close",re.insertBefore(d,re.firstElementChild),(l=document.createElement("div")).className="dynamsoft-dialog-closeTimer",l.style.width="100%",l.style.height="2px",l.style.marginTop="-2px",l.style.backgroundColor="#fe8e14",re.insertBefore(l,re.firstElementChild)),re.appendChild(H),yE(H,r),J.appendChild(re),document.body.appendChild(J),X){var F=Ce.one(".dynamsoft-dialog-close",Ce.one(J));F&&((F=F[0]).onClose=function(){p.removeEventListener(F,"click",F.onClose),F.onClose=null,X()},p.addEventListener(F,"click",F.onClose))}if(q?Ce.setBackOpacity({opacity:.4,grayHex:0}):Ce.setBackOpacity({}),J.bTopmost=!0,h._dlgInstall=J,Ce.dialog.setup(h._dlgInstall,!1),ue.bIE){var B=document.createElement("iframe");B.frameborder="0",B.marginheight="0",B.marginwidth="0",B.style.border="0",B.style.backgroundColor="transparent",B.style.position="absolute",B.style.left=0,B.style.top=0,B.style.width="100%",B.style.height=document.body.clientHeight+"px",B.style.margin="0 auto",B.style.zIndex="10000",B.src=["javas","cript:",'""'].join("");var V=Ce.one(".dynamsoft-backdrop");if(V&&V.length>0){for(var G=V[0];G.firstChild;)G.removeChild(G.firstChild);G.style.zIndex="10000",G.appendChild(B)}}}else x=!1;var z=Ce.one("."+_);if(z&&z.getEL()&&(z[0].style.width=a+"px",p.isNumber(s)&&s>0?z[0].style.height=s+"px":z[0].style.height="100%",x||p.each(z[0].childNodes,function(se){if(se.tagName=="DIV"&&se.className!="dynamsoft-dialog-close"&&se.className!="dynamsoft-dialog-closeTimer")return yE(se,r),!1})),te){var Z=Ce.one(".dynamsoft-dialog");Z&&Z.getEL()&&(Z.getEL().style.border="1px solid #999")}if(h._dlgInstall.open&&h._dlgInstall.close(),h._dlgInstall.showModal({position:W}),h._dlgInstall.bReadyClosed=y,q&&Ce.setBackOpacity({}),I){var ie=p.sizzle(".dynamsoft-dialog-close");p.each(ie,function(se,ne){p.addEventListener(se,"click",As.CloseDialog)}),ie.length>0&&u&&b>0&&setTimeout(j._zdgb_xkz_dhk,100)}},As.OnWebTwainPreExecute||(As.OnWebTwainPreExecute=function(r,n){var a,s,u=U.DWT.IfConfineMaskWithinTheViewer;if(u&&(r&&(s=r._containerElement),s||U.DWT.Containers&&U.DWT.Containers.length>0&&U.DWT.Containers[0].ContainerId&&(s=p.get(U.DWT.Containers[0].ContainerId)),s)){a=s.getBoundingClientRect();for(var d=0;d<s.children.length;d++){var l=s.children[d];if(l&&l.className=="dvs-root dvs-web-viewer"){for(l=l.firstElementChild;l;){if(p.isFunction(l.getBoundingClientRect)){a=l.getBoundingClientRect();break}l=l.nextSibling}s=l;break}}}(s===document.body||a==null||U.DWT.Containers&&U.DWT.Containers.length>1||U.DWT.Containers&&U.DWT.Containers.length==1&&(a.width==0||a.height==0))&&(u=!1,s=null);var h=n??{};u&&(h={confined:u,wrapperEl:s}),j.showMask(h)}),As.OnWebTwainPostExecute||(As.OnWebTwainPostExecute=function(){Ce.hideMask()});function yE(r,n){document.body&&Ce.setHtml(r,n)}function Hce(r,n){(function(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function Cg(r,n,a){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:a;throw new TypeError("Private element is not present on this object")}window.DCP_DWT_OnClickCloseInstall=function(r,n){n||U.DWT.CloseDialog();var a=p.get(j.install._divDWTNonInstallContainerID);if(a&&a.parentNode&&a.parentNode.removeChild(a),r&&p.isDOM(r)&&p.show(r),r&&p.isString(r))p.show(r);else{var s=U.DWT.WebTwainIdMap;if(s){var u,d,l=Object.keys(s);for(u=0;u<l.length;u++)s[d=l[u]]._containerElement&&p.show(s[d]._containerElement)}}j.install._divDWTemessageContainer!=""&&p.show(j.install._divDWTemessageContainer)},j._zdgb_xkz_dhk=function(){var r=j.install._dlgInstall;if(r){var n=p.sizzle(".dynamsoft-dialog-closeTimer",r);if(n.length>0){var a=n[0],s=parseInt(a.style.width);(s-=1)<=0?U.DWT.CloseDialog():(a.style.width=s+"%",setTimeout(j._zdgb_xkz_dhk,100))}}},j.ShowLicenseDialog=U.DWT.ShowMessage,j.createLoadingBarContent=function(){};var wf=new WeakSet,$ce=function(r){function n(y){var b;return f(this,n),Hce(b=c(this,n,[y]),wf),b}return P(n,r),v(n,[{key:"_getWSContextData",value:function(){return{document:this._getCurrentDocumentName(),tag:this._getCurrentDefaultTagName(),bNeedClearTag:!1}}},{key:"_getErrorString",value:function(){var y=this;return y._errorCode==-2207&&y._bMustUpgradeService&&Pd(y),y._errorCode!=0?y._errorString:"Successful."}},{key:"_getWebTwainId",value:function(){return this._id}},{key:"_isTwainServiceType",value:function(){return!0}},{key:"_isPC",value:function(){return ue.bWin||ue.bMac||ue.bLinux}},{key:"_serviceSyncMethodNotSupport",value:function(y){var b=this;return Fe(b,-2605,'The synchronized method "'+y+'" is not supported under the current settings.'),{code:b._errorCode,message:b._getErrorString()}}},{key:"_serviceAsyncMethodNotSupport",value:function(y){var b=this;return Fe(b,-2606,'The asynchronized method "'+y+'" is not supported under the current settings.'),{code:b._errorCode,message:b._getErrorString()}}},{key:"_serviceNotSupportAsync",value:function(y){var b=this;return Fe(b,-2397,y+" doesn't work under current settings."),Ce.Promise.reject({code:b._errorCode,message:b._getErrorString()})}},{key:"_nouiNotSupport",value:function(y,b){var I=this;return Fe(I,-2210,"You cannot call this method on this WebTwain instance because it does not use the default viewer."),p.isFunction(b)&&b(I._errorCode,I._getErrorString()),!1}},{key:"_innerFunRaw",value:function(y,b,I,x,D,W,$){var te,q,X,J,re=this,H="f/",F=I;if(F&&(H="fa/"),U.DWT.ConnectWithSocket)this._sendData(y,b,!1,W,$);else{if(re._resetErr(),!re._isValid())return!!F&&void 0;var B=Vi.isServerInvalid(re);if(F&&B)return re._waitForConnect().then(function(){return re._innerFunRaw(y,b,F,x,D,W,$)});if(!F&&B)return SF(re),!1;if(X={method:"POST",url:te=[re._httpUrl,H,y].join(""),data:q=vl(re._clientId,y,b,0,re._bScanForProxyRemote),async:F,onSuccess:function(G,z,Z){var ie=!1;try{ie=p.isString(G)&&dl(Z.getResponseHeader("content-type"))?p.parse(G):G}catch{}ie?(co(ie)?(re._errorCode=ie.exception,re._errorString=ie.description):re._resetErr(),J=D?ie:ie.result):(kC(re),J=""),p.isFunction(W)&&W(J),F&&(J=null)},onError:function(){s_(re),J="",!j.page.bUnload&&p.isFunction($)&&$()}},!F&&x)ue.bIE?(X.dataType="arraybuffer",X.onSuccess=function(G,z,Z){var ie,se,ne,ae=!1;if(Z.responseHeadersString&&iF(Z.responseHeadersString)&&(ae=!0),ie=Z.responseData,re._resetErr(),J=!1,ie&&(se=new Uint8Array(ie),ae?ie=String.fromCharCode.apply(null,se):(J=new Blob([se],{type:re._strHttpContentTypeFieldValue}),(ne=new U0.ArrayBuffer).append(se),J.md5=ne.end())),!ie||ae){var be,ge=!1;if((be=ae?ie:Z.responseText).length>0){if(be.charAt(0)=="{")try{ge=p.parse(be),ae=!0}catch{p.log(be)}ae?co(ge)?(re._errorCode=ge.exception,re._errorString=ge.description,J=!1):J=!0:(se=new Uint8Array(be),J=new Blob([se],{type:re._strHttpContentTypeFieldValue}),(ne=new U0.ArrayBuffer).append(se),J.md5=ne.end())}}p.isFunction(W)&&W(J)}):(F||(X.dataType="text",X.contentType="text/plain; charset=x-user-defined",X.mimeType="text/plain; charset=x-user-defined"),X.onSuccess=function(G,z,Z){var ie,se,ne;if(re._resetErr(),(se=(ie=Z.responseText).length)>0){var ae,be=!1;if(ie.charAt(0)=="{")try{ae=p.parse(ie),be=!0}catch{p.log(ie)}if(be)co(ae)?(re._errorCode=ae.exception,re._errorString=ae.description,J=!1):J=!0;else{ne=new Uint8Array(se);for(var ge=0;ge<se;ge++)ne[ge]=ie.charCodeAt(ge);J=new Blob([ne],{type:re._strHttpContentTypeFieldValue});var _e=new U0.ArrayBuffer;_e.append(ne),J.md5=_e.end()}}else J="";p.isFunction(W)&&W(J)});else if(F&&x){X={method:"POST",body:q},ue.bIE?X.dataType="arraybuffer":X.fetchRaw=!0;var V=Fd(te,X);return ue.bIE||(V=V.then(function(G){var z=G.headers.get("content-type");return z.indexOf("image/")>=0||z.indexOf("application/octet-stream")>=0?G.arrayBuffer():G.json()})),V=V.then(function(G){if(re._resetErr(),iu(G))return p.isFunction(W)&&W(G),void(G=null);if(p.isObject(G)){var z=G;if(co(z))re._errorCode=z.exception,re._errorString=z.description,p.isFunction($)&&$();else{var Z="";z.result&&(Z=z.result),p.isFunction(W)&&W(Z)}}else s_(re),!j.page.bUnload&&p.isFunction($)&&$()},function(G){s_(re),!j.page.bUnload&&p.isFunction($)&&$()}),!0}if(F||p.mix(X,{headers:{"X-Requested-With":!1}}),ue.bFileSystem&&(X.crossDomain=!1),Po(X),!F)return J}}},{key:"_innerSendCmd",value:function(y,b){this._innerFunRaw(y,b,!0,!1,!0)}},{key:"_innerFun",value:function(y,b){var I;return I=this._innerFunRaw(y,b,!1,!1,!1),p.isArray(I)?I[0]:I}},{key:"__OnRecieveMsg",value:function(y,b){var I=this,x=b==null?void 0:b.cmd;if(y.event)return E(A(n.prototype),"__OnRecieveMsg",this).call(this,y,b);if(U.DWT.ConnectWithSocket)return E(A(n.prototype),"__OnRecieveMsg",this).call(this,y,b);if(co(y)?(I._errorCode=y.exception,I._errorString=y.description):x!="StartScan"&&x!="GetAddOnVersion"&&(I._errorCode=0,I._errorString=""),x=="ReadBarcode"||x=="OCRRecognize"||y.request&&y.request.method=="OCRProRecognize")return b.sFun?b.sFun(y):b.fFun&&b.fFun(y),!0;if(x=="ActiveUI"||x=="VersionInfo"||x=="ConvertToBase64"||x=="SaveSelectedImagesToBase64Binary"||x=="ConvertToBlob"||x=="BeginSaveMem")return b.sFun&&p.isArray(y.result)&&y.result.length>0?b.sFun(y.result):b.fFun&&b.fFun(y.result),!0;if(x=="ShowFileDialog"||x=="SplitTiff"||x=="SplitPDF"||x=="EncodeAsBase64"||x=="ProductKey"||x=="GetSourceNames"||x=="GetSkewAngle"||x=="GetImageInfo"||x=="GetSkewAngleFromBinary")return b.sFun?b.sFun(y.result):b.fFun&&b.fFun(y.result),!0;if(x=="SetCapabilities")return E(A(n.prototype),"__OnRecieveMsg",this).call(this,y,b);if(y.result&&y.result.length&&(y.result[0]=="1"||y.result[0]==1||y.result[0]=="ok"))(b.sFun||b.sFun)&&b.sFun(b.rawData?y:y.result);else{if(!y.exception)return b.sFun&&b.sFun(y.result),y=null,!0;var D=!1;b.fFun&&(D=b.fFun(I._errorString)),!D&&y.exception&&y.exception<0&&y.exception!=-2115&&p.isFunction(I.__OnPrintMsg)&&I.__OnPrintMsg(I._errorString)}return!0}},{key:"OnRefreshUI",value:function(y,b,I,x){return this._innerRefreshUI(y,b,I,x)}},{key:"GetCurrentDocumentName",value:function(){return this._resetErr(),!!this._isValid()&&this._getCurrentDocumentName()}},{key:"RegisterEvent",value:function(y,b){return!!this.registerEvent(y,b)}},{key:"UnregisterEvent",value:function(y,b){return this.unregisterEvent(y,b)}},{key:"onEvent",value:function(y,b){this.registerEvent(y,b)}},{key:"on",value:function(y,b){this.registerEvent(y,b)}},{key:"_OnConsumed",value:function(y){}},{key:"_OnPostLoad",value:function(y,b){var I,x,D,W,$=this;b!==void 0&&b.exception!==void 0&&b.description!==void 0&&($._errorCode=b.exception,$._errorString=b.description),p.log("OnPostLoad Results:"),x=y[1].split(","),I=p.base64.decode(x[0]),D=p.base64.decode(x[1]),p.log(I),p.log(D),p.log(x[2]),DU($,"On PostLoad"),(W=$._ImgManager.getCurrentImageIndex())>=0&&$._innerRefreshUI(W),p.isFunction($.__OnPostLoad)&&$.__OnPostLoad(I,D,x[2])}},{key:"_OnPostTransfer",value:function(y){var b=this;if(p.log("On PostTransfer Results:"+y),DU(b,"On PostTransfer"),p.isFunction(b.__OnPostTransfer))try{b.__OnPostTransfer()}catch(I){_r(I)}}},{key:"_OnPreAllTransfersAsync",value:function(y){var b=this;if(p.isFunction(b.__OnPreAllTransfersAsync)){var I={event:"beforeAcquire",result:{}};try{p.isArray(y)&&y.length>1&&(I=p.parse(y[1]))}catch{}setTimeout(function(){try{b.__OnPreAllTransfersAsync(I)}catch(x){_r(x)}},10)}}},{key:"_OnPostAllTransfers",value:function(y){var b=this;if(y.length>=2&&b._errorCode==0&&(b._errorCode=y[1],b._errorString=y[2]),p.log("On PostAllTransfers Results:"+y),b.__bLoadingImage=!1,b.__bAcquireImageNow=!1,b.__closeRemoteScanUI(!0),p.isFunction(b.__OnPostAllTransfers))try{b.__OnPostAllTransfers()}catch(I){_r(I)}}},{key:"_OnResult",value:function(y){var b=y[1];if(p.isFunction(this.__OnResult))try{this.__OnResult(b)}catch(I){_r(I)}}},{key:"_OnTransferCancelled",value:function(y){var b=this;if(b._ImgManager.getCurrentImageIndex(),b._ImgManager.count(),b.__bLoadingImage=!1,b.__bAcquireImageNow=!1,p.isFunction(b.__OnTransferCancelled))try{b.__OnTransferCancelled()}catch(I){_r(I)}}},{key:"_OnTransferError",value:function(y){if(p.isFunction(this.__OnTransferError))try{this.__OnTransferError()}catch(b){_r(b)}}},{key:"_OnSourceUIClose",value:function(y){var b=this;if(b.__closeRemoteScanUI(!0),p.isFunction(b.__OnSourceUIClose))try{b.__OnSourceUIClose()}catch(I){_r(I)}}},{key:"_OnPreTransfer",value:function(y){if(p.isFunction(this.__OnPreTransfer))try{this.__OnPreTransfer()}catch(b){_r(b)}}},{key:"_OnPreAllTransfers",value:function(y){if(p.isFunction(this.__OnPreAllTransfers))try{this.__OnPreAllTransfers()}catch(b){_r(b)}}},{key:"_OnGetFilePath",value:function(y){var b,I,x,D=this;if(b=y[1].split(","),p.log("On GetFilePath Results:"+y),I=p.base64.decode(b[3]),x=p.base64.decode(b[4]),b[2]=="-1032"&&(b[2]="-1",I=x=""),p.isFunction(D.__OnGetFilePath))try{D.__OnGetFilePath(1*b[0]>0,1*b[1],1*b[2],I,x)}catch(W){_r(W)}D.__bOpenFileNow=!1}},{key:"_OnDiskExceedLimit",value:function(){p.isFunction(this.__OnDiskExceedLimit)&&this.__OnDiskExceedLimit()}},{key:"__GetLoadEventsNum",value:function(){var y=0;return p.isFunction(this.__OnPostLoad)&&(y|=1),p.isFunction(this.__OnGetFilePath)&&(y|=2),y}},{key:"_innerSend",value:function(y,b,I,x,D){var W=this;if(U.DWT.ConnectWithSocket||y!="SaveSelectedImagesToBytes"&&y!="ConvertToBlob")return this._sendData(y,b,I,x,D);var $=Tp(),te=vl(W._clientId,y,b,$,W._bScanForProxyRemote);return W._innerFunRaw(y,te,!0,!0,!0,x,D),Ce.Promise.resolve(!0)}},{key:"_convertToBlobByIndices",value:function(y,b,I,x,D,W){var $=this,te=!1,q=function(re){p.isFunction(W)&&Gn(W,$,re,b,x),re=null};if(p.isFunction(D)&&(te=!0),$._resetErr(),!$._isValid())return q(y),!!te&&void 0;var X=parseInt(b);if(!_t.checkProductKey($,{Core:!0})||!$._checkIndices(y))return q(y),!!te&&void 0;if(X==U.DWT.EnumDWT_ImageType.IT_BMP||X==U.DWT.EnumDWT_ImageType.IT_JPG||X==U.DWT.EnumDWT_ImageType.IT_PNG||X==U.DWT.EnumDWT_ImageType.IT_J2K){if(y.length>1)return Fe($,-2372,"You cannot convert more than one image to binary when the format is BMP, JPG or PNG."),q(y),!!te&&void 0}else if(X!=U.DWT.EnumDWT_ImageType.IT_TIF&&X!=U.DWT.EnumDWT_ImageType.IT_PDF)return Li($),q(y),!!te&&void 0;var J=qu($,y);return J.length==0?(Ot($),q(y),!!te&&void 0):te?(j.cancelFrom=Mt.ConvertToBlob,void $._innerConvertToBlobWithUI("ConvertToBlob",X,J,I,function(re,H){p.isFunction(D)&&yn(D,re,H,b,x),re=H=null},q)):Cg(wf,$,Kce).call($,J,X,I)}},{key:"_getDefaultDevice",value:function(){var y=this;if(y._resetErr(),!y._isValid())return null;var b="",I=ht.TWAINSCANNER,x=y._innerFun("GetDefaultSourceName");if(x.length>0)try{var D=JSON.parse(x);I=D.type,b=p.base64.decode(D.ProductName)}catch{b=""}var W=new ra;return W.name=b,W.deviceType=I,W.isSystemDefaultPrinter=!1,gT(W),W}},{key:"_OnCurrentDeviceSelected",value:function(y,b){var I,x,D=this;if(y&&y.length>=2)try{x=parseInt(y[0]);var W=String(y[1]);(I=lK(this,W)).strDevice=W,D._curDevice=I}catch(te){p.error(te)}var $=!1;if(p.isFunction(D.__OnCurrentDeviceSelected))try{$=D.__OnCurrentDeviceSelected(I,x)}catch(te){_r(te)}return $}},{key:"_getDefaultDeviceAsync",value:(S=o(w().mark(function y(){var b,I,x,D,W,$;return w().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if((b=this)._resetErr(),b._isValid()){te.next=4;break}return te.abrupt("return",null);case 4:return I="",x=ht.TWAINSCANNER,te.next=8,b._sendDataByHttpAsync("GetDefaultSourceName");case 8:if((D=te.sent).length>0)try{W=JSON.parse(D),x=W.type,I=p.base64.decode(W.ProductName)}catch{I=""}return($=new ra).name=I,$.deviceType=x,$.isSystemDefaultPrinter=!1,x==ht.TWAINX64SCANNER&&I.length>0?$.displayName="Twain64-"+I:x==ht.ICASCANNER&&this.__serverPlatform==Et.enumMac&&I.length>0?$.displayName="ICA-"+I:$.displayName=I,te.abrupt("return",$);case 16:case"end":return te.stop()}},y,this)})),function(){return S.apply(this,arguments)})},{key:"_getSources",value:function(y,b,I){return SO(this,this._innerFun("GetSources",Ve(y,b!=null&&b,I!=null&&I)))}},{key:"_getSourceCountAsync",value:(_=o(w().mark(function y(b){var I,x,D,W,$,te,q;return w().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if((I=this)._resetErr(),I._isValid()){X.next=4;break}return X.abrupt("return",Ce.Promise.reject({code:I._errorCode,message:I._errorString}));case 4:return Cg(wf,I,PU).call(I),Jr("GetSourceCountAsync",I),x=[],X.prev=7,b&&(I._driverType=b),D=Pe,W=Pe,$=Pe,te=Pe,I._bRemoteMode?I.__serverPlatform==Et.enumWindow?$=!0:I.__serverPlatform==Et.enumLinux?W=!0:I.__serverPlatform==Et.enumMac?D=!0:I.__serverPlatform==Et.enumAndroid&&(te=!0):(D=ue.bMac,W=ue.bLinux,$=ue.bWin,te=ue.bAndroid),q=w_(I._driverType,$,W,D,te),X.next=15,this._getDevices(q,!0,void 0);case 15:x=X.sent,X.next=21;break;case 18:throw X.prev=18,X.t0=X.catch(7),X.t0;case 21:return X.prev=21,Dr("GetSourceCountAsync"),X.finish(21);case 24:return X.abrupt("return",I._setDevices(x));case 25:case"end":return X.stop()}},y,this,[[7,18,21,24]])})),function(y){return _.apply(this,arguments)})},{key:"_setDevices",value:function(y){var b,I=this;return I.__devices=y,b=y.length,I.__sourceCount=b,b<=0?(I.__defaultSourceName="",I.__sourceCount=0,0):b}},{key:"_getSourceNameByIndex",value:function(y){var b=this.__devices.length;return y<0||y>=b?"":this.__devices[y].displayName}},{key:"_dwtConvertToBlobSync",value:function(y,b,I,x,D,W){var $=this,te=I,q=",";p.isString(te)&&te!=""||(te="",q="");var X=["[",y,',"',b.join(","),'"',q,te,"]"].join(""),J=$._innerFunRaw("ConvertToBlob",X,!1,!0,!1),re="";if($._errorCode==0){J&&"md5"in J&&(re=J.md5);var H=!0;return p.isFunction(x)&&(H=x(J,re,W)),H}return p.isFunction(D)&&ft(D,$),!1}},{key:"_getSourceCountSync",value:function(){var y,b=this,I=Pe,x=Pe,D=Pe,W=Pe;if(b._bRemoteMode?b.__serverPlatform==Et.enumWindow?D=!0:b.__serverPlatform==Et.enumLinux?x=!0:b.__serverPlatform==Et.enumMac?I=!0:b.__serverPlatform==Et.enumAndroid&&(W=!0):(I=ue.bMac,x=ue.bLinux,D=ue.bWin,W=ue.bAndroid),y=w_(this._driverType,D,x,I,W),b._resetErr(),!b._isValid()||!_t.checkProductKey(b,{Core:!0}))return 0;Cg(wf,b,PU).call(b);var $=b._getSources(y,!0,void 0);return b._setDevices($)}},{key:"_OnActiveUI",value:(m=o(w().mark(function y(b){var I;return w().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return I=this,b&&b.length>2&&(I.__strProductName=b[2]),x.next=4,E(A(n.prototype),"_OnActiveUI",this).call(this,b);case 4:return x.next=6,I._setConvertModeAsync(I._pdfConvertMode).catch(function(){});case 6:case"end":return x.stop()}},y,this)})),function(y){return m.apply(this,arguments)})},{key:"_OnReady",value:(h=o(w().mark(function y(){var b,I,x,D,W;return w().wrap(function($){for(;;)switch($.prev=$.next){case 0:return so((b=this)._serverInfo.server)&&(na.item("DWT_port",b._serverInfo.port),na.item("DWT_ssl",b._serverInfo.ssl?"true":"false")),b._bNoMask||Jr("OnReady",b),$.prev=3,$.next=6,E(A(n.prototype),"_OnReady",this).call(this);case 6:if(!ci()){$.next=12;break}if(b._uuidForActiveUI){$.next=12;break}return $.next=10,U.DWT.lgcuid(U.DWT.lgdt(),"");case 10:I=$.sent,b._uuidForActiveUI=I;case 12:return $.next=14,b._innerActiveUI(b._uuidForActiveUI);case 14:return x=$.sent,$.next=17,b._OnActiveUI(x);case 17:if(Mr("Changing Map..."),(D=b._id)&&!U.DWT.WebTwainIdMap[D]&&(U.DWT.WebTwainIdMap[D]=b),AU(b),W=!1,b._bRemoteMode||(W=j.attachAddon(b)),U.DWT.IfDisableDefaultSettings){$.next=29;break}return Mr("Configuring the WebTwain instance..."),$.next=27,Yce(b);case 27:$.next=32;break;case 29:if(!W){$.next=32;break}return $.next=32,new Ce.Promise(function(te){setTimeout(te,300)});case 32:$.next=39;break;case 34:throw $.prev=34,$.t0=$.catch(3),$.t0&&(b._errorCode=$.t0.code,b._errorString=$.t0.message),b.dispose(),$.t0;case 39:return $.prev=39,b._bNoMask||Dr("OnReady"),$.finish(39);case 42:case"end":return $.stop()}},y,this,[[3,34,39,42]])})),function(){return h.apply(this,arguments)})},{key:"_OnWSClose",value:function(y){E(A(n.prototype),"_OnWSClose",this).call(this,y),j.detect.bOK=!1,this.__bAcquireImageNow=!1}},{key:"_OnWSTimeout",value:function(y){E(A(n.prototype),"_OnWSTimeout",this).call(this,y),j.detect.bOK=!1}},{key:"_setConvertModeAsync",value:function(y){var b,I=this,x=1*y;return isNaN(x)?(WC(I),Ce.Promise.reject({code:I._errorCode,message:I._errorString})):I._checkConvertModeInner(x)?(b=this._mixSavedPdfReaderOptions({convertMode:x,renderOptions:{renderAnnotations:!!I._pdfOptions.renderOptions.renderAnnotations}}),I._resetPdfOptionsWhenSetConvertMode(b),Cg(wf,I,kU).call(I,b,x)):Ce.Promise.reject({code:I._errorCode,message:I._errorString})}},{key:"_OnReconnected",value:(l=o(w().mark(function y(){var b;return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return b=this,I.next=3,Cg(wf,b,kU).call(b,b._pdfOptions);case 3:case"end":return I.stop()}},y,this)})),function(){return l.apply(this,arguments)})},{key:"_getConvertMode",value:function(){return this._pdfConvertMode}},{key:"_setConvertMode",value:function(y){var b,I=this,x=1*y;if(isNaN(x))return WC(I),!1;if(!I._checkConvertModeInner(x))return!1;b=this._mixSavedPdfReaderOptions({convertMode:x,renderOptions:{renderAnnotations:!!I._pdfOptions.renderOptions.renderAnnotations}}),I._resetPdfOptionsWhenSetConvertMode(b);var D=I._setReaderOptions(b,!1);return D&&(I._pdfConvertMode=x,I._pdfOptions.convertMode=b.convertMode,I._pdfOptions.renderOptions.renderAnnotations=b.renderOptions.renderAnnotations,I._pdfOptions.convertMode==mr.CM_IMAGEONLY&&I._pdfConvertMode==mr.CM_RENDERALL||I._pdfOptions.convertMode==mr.CM_IMAGEONLY&&I._pdfConvertMode==mr.CM_RENDERALLWITHANNOTATION)?(I._pdfConvertMode=mr.CM_IMAGEONLY,kd(I),!1):D}},{key:"_checkConvertModeInner",value:function(y){var b=this;return!!_t.checkProductKey(b,{Core:!0})&&(b._resetErr(),!!b._isValid()&&(y==mr.CM_RENDERALL||y==mr.CM_IMAGEONLY||y==mr.CM_AUTO||y==mr.CM_RENDERALLWITHANNOTATION||(WC(b),!1)))}},{key:"_resetPdfOptionsWhenSetConvertMode",value:function(y){var b=y.convertMode;b==mr.CM_IMAGEONLY||_t.hasPDFRProductKey(this)?y.convertMode=b:y.convertMode=mr.CM_IMAGEONLY,y.convertMode==mr.CM_IMAGEONLY||y.convertMode==mr.CM_RENDERALL?y.renderOptions.renderAnnotations=!1:y.convertMode==mr.CM_RENDERALLWITHANNOTATION&&(y.renderOptions.renderAnnotations=!0)}},{key:"_checkPDFPasswordValue",value:function(y){if(!p.isUndefined(y)){if(!p.isString(y))return Fe(this,-2852,"The password is not a string."),!1;if(y.length>32)return function(b){Fe(b,-2851,"The password must not exceed 32 characters in length.")}(this),!1}return!0}},{key:"_mixSavedPdfReaderOptions",value:function(y){var b;return b=p.clone(this._pdfOptions),y||(y={}),y.convertMode&&(b.convertMode=y.convertMode),p.isString(y.password)?b.password=y.password:p.isNumber(y.password)&&(b.password=""+y.password),y.renderOptions&&(b.renderOptions=p.mix(this._pdfOptions.renderOptions,y.renderOptions)),b}},{key:"_setReaderOptions",value:function(y,b){var I,x,D=this,W=-1;if(D._resetErr(),y&&y.renderOptions){var $=y.renderOptions.resolution,te=y.renderOptions.maxWidth,q=y.renderOptions.maxHeight,X=y.renderOptions.renderGrayscale;if(!p.isUndefined($)&&(!U.Lib.isNumber($)||$<=0))return Fe(D,-2830,"The PDF resolution must be a positive number."),!1;if(!p.isUndefined(te)&&(!U.Lib.isNumber(te)||te<0))return function(B){Fe(B,-2831,"The PDF max width must be a positive number.")}(D),!1;if(!p.isUndefined(q)&&(!U.Lib.isNumber(q)||q<0))return function(B){Fe(B,-2832,"The PDF max height must be a positive number.")}(D),!1;if(!p.isUndefined(X)&&!U.Lib.isBoolean(X))return function(B){Fe(B,-2833,"The PDF render grayscale must be a boolean.")}(D),!1}if(b){I={},y||(y={}),y.convertMode?I.convertMode=y.convertMode:I.convertMode=mr.CM_AUTO,W=I.convertMode,p.isString(y.password)?I.password=y.password:p.isNumber(y.password)?I.password=""+y.password:I.password="",I.renderOptions=p.mix({renderAnnotations:!1,resolution:200,maxWidth:0,maxHeight:0,renderGrayscale:!1},y.renderOptions);var J=I.renderOptions.renderAnnotations;p.isBoolean(J)||p.isString(J)&&(I.renderOptions.renderAnnotations=J.toLowerCase()=="true");var re=I.renderOptions.renderGrayscale;if(p.isBoolean(re)||p.isString(re)&&(I.renderOptions.renderGrayscale=re.toLowerCase()=="true"),p.isNumber(I.convertMode)){if(!D._checkConvertModeInner(I.convertMode))return!1;_t.hasPDFRProductKey(D)||(I.convertMode=mr.CM_IMAGEONLY),I.convertMode==mr.CM_IMAGEONLY?I.renderOptions.renderAnnotations=!1:I.convertMode==mr.CM_RENDERALLWITHANNOTATION&&(I.renderOptions.renderAnnotations=!0)}}else{if(p.isUndefined(y))return function(B){Fe(B,-2834,"The PDF reader options is invalid.")}(D),!1;if(I=y,!(p.isString(y.password)||p.isUndefined(y.password))){if(!p.isNumber(y.password))return function(B){Fe(B,-2829,"The type of the PDF password must be a string.")}(D),!1;y.password=""+y.password}}var H=D._getPdfDllname();x=["[",p.stringify(I),',"',H,'"',"]"].join("");var F=D._innerFun("SetPDFReaderOptions",x);return F&&b&&(D._pdfOptions=p.clone(I),p.isNumber(I.convertMode)&&(I.convertMode==mr.CM_RENDERALL&&I.renderOptions.renderAnnotations&&(I.convertMode=mr.CM_RENDERALLWITHANNOTATION),D._pdfConvertMode=I.convertMode,D._pdfOptions.convertMode==mr.CM_IMAGEONLY&&W==mr.CM_RENDERALL||D._pdfOptions.convertMode==mr.CM_IMAGEONLY&&W==mr.CM_RENDERALLWITHANNOTATION))?(D._pdfConvertMode=mr.CM_IMAGEONLY,kd(D),!1):F}},{key:"_getPdfDllname",value:function(){var y=this,b=!1,I=!1;return y._bRemoteMode?y.__serverPlatform==Et.enumWindow||(y.__serverPlatform==Et.enumLinux?I=!0:y.__serverPlatform==Et.enumMac&&(b=!0)):(b=ue.bMac,I=ue.bLinux,ue.bWin),b?y._b64bit?"libDynamicPdfCorex64_"+ko.PdfVersion+".dylib":"libDynamicPdfCore_"+ko.PdfVersion+".dylib":I?"libDynamicPdfCore_"+ko.PdfVersion+".so":y._b64bit?"DynamicPdfCorex64_"+ko.PdfVersion+".dll":"DynamicPdfCore_"+ko.PdfVersion+".dll"}},{key:"_unload_viewer",value:function(){}},{key:"__innerDeleteInMap",value:function(){return this._id,delete U.DWT.WebTwainIdMap[this._id],rt}},{key:"__unload",value:(d=o(w().mark(function y(){var b,I,x,D;return w().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(b=this,I=p.clone(U.DWT.licenseException),b.__closeRemoteScanUI(!0),!b._destroy&&!b._destroying){W.next=5;break}return W.abrupt("return");case 5:if(b._destroying=!0,this.__innerDeleteInMap(),b.__addon&&b.__addon.Camera&&b.__addon.Camera._viewer&&(b.__addon.Camera.getStatus()!=""&&b.__addon.Camera.closeSource().catch(function(){}),b.__addon.Camera._viewer.dispose(),b.__addon.Camera._viewer=null),b._unload_viewer(),b._containerElement=null,b._ImgManager&&b._ImgManager.clear(),!b._bReady||j.page.bUnload){W.next=20;break}if(!b._wsClient){W.next=20;break}return W.prev=13,W.next=16,b._innerDisposeWSClient();case 16:W.next=20;break;case 18:W.prev=18,W.t0=W.catch(13);case 20:if(!b._wsClient){W.next=34;break}return b._wsClient.removeEvent("close",b._clientId),b._wsClient.removeEvent("error",b._clientId),b._wsClient.removeEvent("timeout",b._clientId),W.prev=24,W.next=27,b._wsClient.dispose();case 27:W.next=32;break;case 29:W.prev=29,W.t1=W.catch(24),x=W.t1;case 32:delete b._wsClient,b._wsClient=null;case 34:if(b._bReady=!1,U.DWT.lremoveDWTObj(b),b.__bAcquireImageNow=!1,b._destroying=!1,b._destroy=!0,(D=U.DWT.licenseException).code=I.code,D.message=I.message,D.fromLTS=I.fromLTS,!x){W.next=45;break}throw x;case 45:case"end":return W.stop()}},y,this,[[13,18],[24,29]])})),function(){return d.apply(this,arguments)})},{key:"_setIfShowUI",value:function(y){this._resetErr(),this._isValid()&&(p.isBoolean(y)?this._innerFun("IfShowUI",Ve(y)):jn(self))}},{key:"_setIfShowFileDialog",value:function(y){this._resetErr(),this._isValid()&&(p.isBoolean(y)?this._innerFun("IfShowFileDialog",Ve(y)):jn(self))}},{key:"_getDevicesAsync",value:(u=o(w().mark(function y(b,I,x,D){var W,$,te,q,X;return w().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(W=this,$=[],!I||p.isNumber(I)){J.next=4;break}return Kt(W),J.abrupt("return",Ce.Promise.reject({code:W._errorCode,message:W._errorString}));case 4:if(te=W._bRemoteMode?Cp:ue.bAndroid?nT:Cp,q=I??te,W._resetErr(),W._isValid()){J.next=8;break}return J.abrupt("return",Ce.Promise.reject({code:W._errorCode,message:W._errorString}));case 8:return Jr(b,W),J.prev=9,J.next=12,W._getDevices(q,x,D);case 12:X=J.sent,p.isArray(X)&&X.length>0&&($=$.concat(X)),J.next=19;break;case 16:throw J.prev=16,J.t0=J.catch(9),J.t0;case 19:return J.prev=19,Dr(b),J.finish(19);case 22:return $.length>0&&this._setDevices($),J.abrupt("return",$);case 24:case"end":return J.stop()}},y,this,[[9,16,19,22]])})),function(y,b,I,x){return u.apply(this,arguments)})},{key:"_openSourceAsync",value:function(y){var b=this;return b._resetErr(),b._isValid()?(b._bRemoteMode&&b._initRemoteDiv(),b._innerFunV2("OpenSource").then(function(I){return b.__closeRemoteScanUI(!0),I},function(I){return b.__closeRemoteScanUI(!0),Ce.Promise.reject(I)})):Ce.Promise.reject({code:b._errorCode,message:b._errorString})}},{key:"_closeSourceAsync",value:function(y){var b=this;return b._resetErr(),b._isValid()?b._innerFunV2("CloseSource").then(function(){return b._curDevice=null,!0}):Ce.Promise.reject({code:b._errorCode,message:b._errorString})}},{key:"_selectSourceAsync",value:function(y,b,I){var x=this;return x._resetErr(),x._isValid()?x._getDevicesAsync(y,b).then(function(D){var W,$,te=document,q=D?D.length:0;Ce.dialog.selectsourcedlg&&(Ce.dialog.selectsourcedlg.close(),document.body.removeChild(Ce.dialog.selectsourcedlg),Ce.dialog.selectsourcedlg=!1);var X,J,re,H,F=-1;for(($=te.createElement("dialog")).className="dynamsoft-dialog-selectsource",ue.bIE&&($.style.width="300px"),$.setAttribute("closed","closed"),(X=[]).push('<ul id="dynamsoft-dialog-selectsource-sourcelist-ul">'),W=0;W<q;W++){var B="",V=x._getSourceNameByIndex(W);(x.__defaultSourceName==""&&W==0||x.__defaultSourceName==V)&&(B=" dynamsoft-dialog-selectsource-sourcelist-li-selected",F=W),X.push('<li class="dynamsoft-dialog-selectsource-item'+B+'" sourceindex="'+W+'">'+V+"</li>")}return X.push("</ul>"),X=X.join(""),p.isArray(I)&&I.length>=3?(J=I[0],re=I[1],H=I[2]):(J="Select Source:",re="Select",H="Cancel"),yE($,["<p>",J,"</p>",'<div id="dynamsoft-dialog-selectsource-sourcelist">',X,"</div>",'<div><input type="button" value="',re,'" class="dynamsoft-dialog-selectsource-button-select" />','<input type="button" value="',H,'" class="dynamsoft-dialog-selectsource-button-cancel" /></div>'].join("")),Ce.dialog.selectsourcedlg=$,te.body.appendChild(Ce.dialog.selectsourcedlg),p.each(p.sizzle(".dynamsoft-dialog-selectsource-item"),function(G,z){p.addEventListener(G,"click",function(Z){for(var ie=Z.target,se=ie.getAttribute("sourceindex"),ne=ie.parentElement.children,ae=0;ae<ne.length;ae++)ne[ae].className="dynamsoft-dialog-selectsource-item";ie.className="dynamsoft-dialog-selectsource-item dynamsoft-dialog-selectsource-sourcelist-li-selected",p.get("dynamsoft-dialog-selectsource-sourcelist-ul").setAttribute("selectedSourceIndex",se)})}),p.get("dynamsoft-dialog-selectsource-sourcelist-ul").setAttribute("selectedSourceIndex",F.toString()),Ce.dialog.setup(Ce.dialog.selectsourcedlg),Ce.dialog.selectsourcedlg&&Ce.dialog.selectsourcedlg.showModal(),te.compatMode=="CSS1Compat"?te.documentElement.scrollTop:te.body.scrollTop,new Ce.Promise(function(G,z){p.removeEventListener(Ce.one(".dynamsoft-dialog-selectsource-button-select")[0],"click"),p.removeEventListener(Ce.one(".dynamsoft-dialog-selectsource-button-cancel")[0],"click"),q>0&&p.addEventListener(Ce.one(".dynamsoft-dialog-selectsource-button-select")[0],"click",function(){var Z=parseInt(p.get("dynamsoft-dialog-selectsource-sourcelist-ul").getAttribute("selectedSourceIndex"));Z<0||x._selectSourceByIndexAsync(y,Z).then(function(){Ce.dialog.selectsourcedlg&&(Ce.dialog.selectsourcedlg.close(),document.body.removeChild(Ce.dialog.selectsourcedlg),Ce.dialog.selectsourcedlg=!1),G(Z)})}),p.addEventListener(Ce.one(".dynamsoft-dialog-selectsource-button-cancel")[0],"click",function(){Ce.dialog.selectsourcedlg&&(Ce.dialog.selectsourcedlg.close(),document.body.removeChild(Ce.dialog.selectsourcedlg),Ce.dialog.selectsourcedlg=!1);var Z={};Ro(Z),z({code:Z._errorCode,message:Z._errorString})})})}):Ce.Promise.reject({code:x._errorCode,message:x._errorString})}},{key:"_dwtGetCapabilities",value:function(y,b,I){var x=this,D=null,W=function(){p.isFunction(I)&&I(x._errorCode,x._errorString)};if(y){if(!p.isArray(y))return Kt(x),void W();if(y.length==0)return void(p.isFunction(b)&&b([]));if(function($,te){var q,X,J,re;for(re=0;re<te.length;re++){if(q=te[re],X=!1,J=!1,p.isString(q)){var H=q;q=parseInt(q),(p.isNaN(q)||q!=H)&&(X=!0)}if(X==0&&p.isNumber(q)?(q<1||q>65535)&&(J=!0):X=!0,X)return Kt($),!1;if(J)return c$($),!1}return!0}(x,y)===!1)return void W();D=Ve(y)}x._sendDataByHttpAsync("GetCapabilities",D).then(function($){try{var te,q;$.length>0&&(q=$[0]),p.isString(q)?(q=j.removeNonPrintableChar(q),q=p.replaceAll(q,"\\\\","\\\\"),(te=JSON.parse(q)).errorCode==0?p.isFunction(b)&&b(te.response):(x._errorCode=te.errorCode,x._errorString=te.errorString,W())):(Wi(x),W())}catch(X){x._errorCode=-2302,x._errorString=X,W()}},W)}},{key:"_dwtSetCapabilities",value:function(y,b,I){var x=this;if(!p.isObject(y)||p.isArray(y))return Kt(x),p.isFunction(I)&&I(x._errorCode,x._getErrorString()),!1;var D=["[",p.stringify(y),"]"].join("");return x._innerSend("SetCapabilities",D,0,function(W){p.isFunction(b)&&b(W)},I),!0}},{key:"_selectDeviceAsync",value:(s=o(w().mark(function y(b,I,x){var D,W;return w().wrap(function($){for(;;)switch($.prev=$.next){case 0:return D=this,Jr(b,this),$.prev=2,$.next=5,E(A(n.prototype),"_innerSelectDeviceAsync",this).call(this,I,x);case 5:(W=$.sent)&&(D._curDevice=I,D._bSelectedSourceByServer=!1),$.next=12;break;case 9:throw $.prev=9,$.t0=$.catch(2),$.t0;case 12:return $.prev=12,Dr(b),$.finish(12);case 15:return $.abrupt("return",W);case 16:case"end":return $.stop()}},y,this,[[2,9,12,15]])})),function(y,b,I){return s.apply(this,arguments)})},{key:"_selectSourceByIndexAsync",value:(a=o(w().mark(function y(b,I){var x,D,W;return w().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(D=1*I,(x=this)._resetErr(),x._isValid()){$.next=4;break}return $.abrupt("return",Ce.Promise.reject({code:x._errorCode,message:x._errorString}));case 4:if(!p.isNaN(D)){$.next=7;break}return Ot(x),$.abrupt("return",Ce.Promise.reject({code:x._errorCode,message:x._errorString}));case 7:if(x.__devices){$.next=10;break}return $.next=10,x._getDevicesAsync(b,null);case 10:if(!(D<0||D>=x.__devices.length)){$.next=13;break}return qe(x),$.abrupt("return",Ce.Promise.reject({code:x._errorCode,message:x._errorString}));case 13:return W=x.__devices[D],$.abrupt("return",x._selectDeviceAsync(b,W));case 15:case"end":return $.stop()}},y,this)})),function(y,b){return a.apply(this,arguments)})},{key:"_removeAllImages",value:function(y){var b=this,I=!0;if(b._resetErr(),!b._isValid())return!1;var x,D=[];for(x=b._getHowManyImagesInBuffer()-1;x>=0;x--){var W=b._imageBufferWrapper.convertClientIndexToServerId(x);W>-1&&D.push(W)}if(D.length>0){if(b._OnBitmapChanged(["c1",D.join(","),3,b._ImgManager.getCurrentImageIndex(),b._ImgManager.count()]),I=b._innerFunRaw("RemoveAllImages",Ve(D.join(",")),!1,!1,!1,function(){},function(){}),p.isArray(I))return I[0]}else I=!0;return I}},{key:"_removeImage",value:function(y,b){var I,x=this,D=parseInt(b);if(!Ln(x,D))return!1;var W=x._ImgManager.convertClientIndexToServerId(D);return W==-1?(qe(x),!1):(((I=x._innerFun("RemoveImage",Ve(W)))||x._errorCode==-1033)&&x._OnBitmapChanged(["c1",""+W,3,x._ImgManager.getCurrentImageIndex(),x._ImgManager.count()]),I)}},{key:"__innerAcquireOrLoadImageAsync",value:function(y,b,I,x){var D=this;return new Ce.Promise(function(W,$){var te=y=="LoadImage"||y=="LoadImageEx"||y=="GenerateURLForUploadData",q=te||y=="LoadDibFromClipboard";te?j.showProgress(D,y,!1):Jr(y,D),D._innerSend(y,b,!0,function(X){if(D.__bLoadingImage=!1,D.__bOpenFileNow=!1,D.__closeRemoteScanUI(!0),te){if(j.closeProgress(null,y),D._isBindViewer()){var J=D._ImgManager.getCurrentImageIndex();J>=0&&D._innerRefreshUI(J)}}else Dr(y);q&&D._canConsume()&&U.DWT.lcvrf(D),p.isFunction(W)&&W(X)},function(X){te?j.closeProgress(null,""):Dr(y),D.__bLoadingImage=!1,D.__bAcquireImageNow=!1,D.__bOpenFileNow=!1,D.__closeRemoteScanUI(!0);var J=D._ImgManager.getCurrentImageIndex();J>=0&&D._innerRefreshUI(J),FF(D._errorCode)&&kd(D),p.isFunction($)&&$({code:D._errorCode,message:D._getErrorString()}),te?j.closeProgress(null,y):Dr(y),X&&p.error(X)})})}},{key:"_innerLoadImageFromBinary",value:function(y,b,I,x,D,W){var $,te,q=this,X=b;if(!_t.checkProductKey(q,{Core:!0}))return p.isFunction(W)&&W(q._errorCode,q._getErrorString()),!1;if(!y||y=="")return li(q),p.isFunction(W)&&W(q._errorCode,q._getErrorString()),!1;if(p.isString(y))return Kt(q),p.isFunction(W)&&W(q._errorCode,q._getErrorString()),!1;if(y instanceof Blob)te=y.size;else if(iu(y))te=y.byteLength;else if(y instanceof Array)te=y.length;else{var J=y;te=J.size||J.byteLength||J.length}if(!te||te=="")return Kt(q),p.isFunction(W)&&W(q._errorCode,q._getErrorString()),!1;var re=y.currentFileName;re||(re=q._getCurrentDocumentName());var H,F=y.currentTagName;if(F||!p.isUndefined(y.bNeedClearCurrentTagName)&&y.bNeedClearCurrentTagName||(F=q._getCurrentDefaultTagName()),y instanceof FileList){if(y.length==1)return y[0].currentFileName=re,y[0].currentTagName=F,q._innerLoadImageFromBinary(y[0],X,I,D,W);if(y.length>1){var B;for(p.asyncQueue.stop(),B=0;B<y.length;B++)y[B].currentFileName=re,y[B].currentTagName=F,B==y.length-1?p.asyncQueue.pushToDo(q,"_innerLoadImageFromBinary",[y[B],X,I,D,W]):p.asyncQueue.pushToDo(q,"_innerLoadImageFromBinary",[y[B],X,I,null,W]);return p.asyncQueue.start(),!0}return li(q),p.isFunction(W)&&W(q._errorCode,q._getErrorString()),!1}if(window.ReadableStream&&y instanceof ReadableStream?$=new Response(y):window.Response&&y instanceof Response&&($=y),$)$.arrayBuffer().then(function(se){var ne;(ne=new Blob([se])).currentFileName=y.currentFileName,ne.currentTagName=y.currentTagName;var ae=x,be=0;I&&(be=q.__GetLoadEventsNum()),q.__LoadImageFromBytesV1(ne,-1,"",be,ae,D,W)});else{var V=y;x&&iu(V)&&((V=new Blob([y])).currentFileName=y.currentFileName,V.currentTagName=y.currentTagName);var G=-1,z=x,Z=U.DWT.EnumDWT_ImageType;p.isString(V.type)&&(V.type=="application/pdf"?G=Z.IT_PDF:V.type=="image/png"?G=Z.IT_PNG:V.type=="image/jpeg"||V.type=="image/jpg"?G=Z.IT_JPG:V.type=="image/bmp"?G=Z.IT_BMP:V.type=="image/tiff"||V.type=="image/tif"?G=Z.IT_TIF:V.type=="image/jp2"&&(G=Z.IT_J2K));var ie=0;I&&(ie=q.__GetLoadEventsNum()),H=q.__LoadImageFromBytesV1(V,G,"",ie,z,D,W)}return!!x||H}},{key:"__LoadImageFromBytes",value:function(y,b,I,x,D,W,$,te){var q=this.__LoadImageFromBytesV2(y,b,I,x,$,te,!1,0,D,W);return x?q:this._errorCode==0}},{key:"__LoadImageFromBytesV1",value:function(y,b,I,x,D,W,$){var te=this.__LoadImageFromBytesV2(y,b,I,D,0,0,!1,x,W,$);return D?te:this._errorCode==0}},{key:"_isMobileMode",value:function(){return!1}},{key:"ErrorCode",get:function(){return this._errorCode}},{key:"ErrorString",get:function(){return this._getErrorString()}},{key:"HowManyImagesInBuffer",get:function(){return this._getHowManyImagesInBuffer()}},{key:"_OnActiveUIClearBuffer",value:function(){var y=this.__OnBufferChanged;this.__OnBufferChanged=null,this._ImgManager.clear(),this.__OnBufferChanged=y}}]);var a,s,u,d,l,h,m,_,S}(wU);function Kce(r,n,a){var s=this;return s._dwtConvertToBlobSync(n,r,a,function(u){if(!u||u.size<=0)return gF(s),!1;var d=s.__maxUploadImageSize;return u.size>d&&d!=-1?(ms(s),!1):u},function(u){return!1})}function PU(){this.__defaultSourceName="",this.__sourceCount=0}function kU(r,n){var a=this,s=a._getPdfDllname(),u=["[",p.stringify(r),',"',s,'"',"]"].join("");return a._innerFunV2("SetPDFReaderOptions",u).then(function(){if(p.isNumber(n)&&(a._pdfConvertMode=n),a._pdfOptions.convertMode=r.convertMode,a._pdfOptions.renderOptions.renderAnnotations=r.renderOptions.renderAnnotations,a._pdfOptions.convertMode==mr.CM_IMAGEONLY&&a._pdfConvertMode==mr.CM_RENDERALL||a._pdfOptions.convertMode==mr.CM_IMAGEONLY&&a._pdfConvertMode==mr.CM_RENDERALLWITHANNOTATION)throw a._pdfConvertMode=mr.CM_IMAGEONLY,kd(a),{code:a._errorCode,message:a._errorString};return!0})}var DU=function(r,n){if(Br.bDiscardBlankImage){var a=r._ImgManager.getCurrentImageIndex();r.IsBlankImage(a)&&r.RemoveImage(a);var s=["Blank Discard (",n,"): ",r.ErrorString].join("");p.isFunction(r.__OnPrintMsg)&&r.__OnPrintMsg(s)}};function Yce(r){return RU.apply(this,arguments)}function RU(){return(RU=o(w().mark(function r(n){var a,s,u,d;return w().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(a=n,!U.DWT.ConnectWithSocket){l.next=6;break}return l.next=4,new Ce.Promise(function(h,m){a._sendData("IfDisableSourceAfterAcquire","[1]",!1,h,m)});case 4:l.next=8;break;case 6:return l.next=8,n._innerFunV2("IfDisableSourceAfterAcquire","[1]");case 8:s=Zt.TWAIN,u=!1,d=!1,a._bRemoteMode?a.__serverPlatform==Et.enumWindow||(a.__serverPlatform==Et.enumLinux?d=!0:a.__serverPlatform==Et.enumMac&&(u=!0)):(u=ue.bMac,d=ue.bLinux,ue.bWin),u?s=Zt.TWAIN_AND_ICA:d&&(s=Zt.SANE),n._driverType=s,n._bRemoteMode&&(n._setIfShowUI(!1),n._setIfShowFileDialog(!1));case 13:case"end":return l.stop()}},r)}))).apply(this,arguments)}function Xce(r,n){(function(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function Bo(r,n,a){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:a;throw new TypeError("Private element is not present on this object")}var go=new WeakSet,Qce=function(r){function n(){var s;f(this,n);for(var u=arguments.length,d=new Array(u),l=0;l<u;l++)d[l]=arguments[l];return Xce(s=c(this,n,[].concat(d)),go),s}return P(n,r),v(n,[{key:"SaveAsGIF",value:function(s,u,d,l){var h=this,m=!1;if(p.isFunction(d)&&(m=!0),h._resetErr(),!h._isValid())return p.isFunction(l)&&ft(l,h),!!m&&void 0;if(!(_t.checkProductKey(h,{Core:!0})||ue.bWin&&_t.checkProductKey(h,{Webcam:!0},!0)))return _t.checkProductKey(h,{Core:!0},!1),p.isFunction(l)&&l(h._errorCode,h._getErrorString()),!!m&&void 0;var _,S=At.replaceLocalFilename(s);if(!Ju(h,u,l))return!!m&&void 0;if((_=h._ImgManager.convertClientIndexToServerId(u))==-1)return qe(h),p.isFunction(l)&&ft(l,h),!!m&&void 0;var y=h.__GetLoadEventsNum(),b=h.__innerSaveImage("SaveAsGIF",Ve(S,_,y),d,l);return m?void 0:b}},{key:"SaveSelectedImagesToBase64Binary",value:function(s,u){var d=this,l=!1;if(p.isFunction(s)&&(l=!0),d._resetErr(),!d._isValid())return p.isFunction(u)&&ft(u,d),!!l&&void 0;if(!(_t.checkProductKey(d,{Core:!0})||ue.bWin&&_t.checkProductKey(d,{Webcam:!0},!0)))return _t.checkProductKey(d,{Core:!0},!1),p.isFunction(u)&&u(d._errorCode,d._getErrorString()),!!l&&void 0;var h=Ud(d);return h.length==0?(Mn(d),p.isFunction(u)&&ft(u,d),!!l&&void 0):l?void d._innerSend("SaveSelectedImagesToBase64Binary",Ve(h.join(",")),!0,s,u):d._innerFun("SaveSelectedImagesToBase64Binary",Ve(h.join(",")))}},{key:"ShowFileDialog",value:function(s,u,d,l,h,m,_,S){var y=this;if(y._resetErr(),!y._isValid())return!1;var b,I=At.replaceLocalFilename(h);return b=y.__GetLoadEventsNum(),y._innerSend("ShowFileDialog",Ve(s,u,d,l,I,m,_,S,b),!0),!0}},{key:"FTPDownload",value:function(s,u,d,l){var h=this,m=!1;if(p.isFunction(d)&&(m=!0),h._resetErr(),!h._isValid())return p.isFunction(l)&&ft(l,h),!!m&&void 0;if(!s)return Kt(h),p.isFunction(l)&&ft(l,h),!!m&&void 0;var _=At.getImageType(u);return Bo(go,h,NU).call(h,"FTPDownload",Ve(s,u),_,d,l)}},{key:"FTPDownloadEx",value:function(s,u,d,l,h){var m=this,_=!1;return p.isFunction(l)&&(_=!0),m._resetErr(),m._isValid()?s?Bo(go,m,NU).call(m,"FTPDownloadEx",Ve(s,u,d),d,l,h):(Kt(m),p.isFunction(h)&&ft(h,m),!!_&&void 0):(p.isFunction(h)&&ft(h,m),!!_&&void 0)}},{key:"FTPUpload",value:function(s,u,d,l,h){var m=this,_=!1;if(p.isFunction(l)&&(_=!0),m._resetErr(),!m._isValid())return p.isFunction(h)&&ft(h,m),!!_&&void 0;if(!Ju(m,u,h))return!!_&&void 0;var S=m._ImgManager.convertClientIndexToServerId(u);if(S==-1)return qe(m),p.isFunction(h)&&ft(h,m),!!_&&void 0;var y=m.__innerFTPUpload("FTPUpload",Ve(s,S,d),l,h);return _?void 0:y}},{key:"FTPUploadEx",value:function(s,u,d,l,h,m){var _,S=this,y=!1;if(p.isFunction(h)&&(y=!0),S._resetErr(),!S._isValid())return p.isFunction(m)&&ft(m,S),!!y&&void 0;if(!Ju(S,u,m))return!!y&&void 0;if((_=S._ImgManager.convertClientIndexToServerId(u))==-1)return qe(S),p.isFunction(m)&&ft(m,S),!!y&&void 0;var b=S.__innerFTPUpload("FTPUploadEx",Ve(s,_,d,l),h,m);return y?void 0:b}},{key:"FTPUploadAllAsMultiPageTIFF",value:function(s,u,d,l){var h=this,m=!1;if(p.isFunction(d)&&(m=!0),h._resetErr(),!h._isValid())return p.isFunction(l)&&ft(l,h),!!m&&void 0;var _=[];E_(h,_);var S=h.__innerFTPUpload("FTPUploadAsMultiPageTIFF",Ve(s,u,_.join(",")),d,l);return m?void 0:S}},{key:"FTPUploadAllAsPDF",value:function(s,u,d,l){var h=this,m=!1;if(p.isFunction(d)&&(m=!0),h._resetErr(),!h._isValid())return p.isFunction(l)&&ft(l,h),!!m&&void 0;var _=[];E_(h,_);var S=h.__innerFTPUpload("FTPUploadAsMultiPagePDF",Ve(s,u,_.join(",")),d,l);return m?void 0:S}},{key:"FTPUploadAsMultiPagePDF",value:function(s,u,d,l){var h=this,m=!1;if(p.isFunction(d)&&(m=!0),h._resetErr(),!h._isValid())return p.isFunction(l)&&ft(l,h),!!m&&void 0;var _=Ud(h),S=h.__innerFTPUpload("FTPUploadAsMultiPagePDF",Ve(s,u,_.join(",")),d,l);return m?void 0:S}},{key:"FTPUploadAsMultiPageTIFF",value:function(s,u,d,l){var h=this,m=!1;if(p.isFunction(d)&&(m=!0),h._resetErr(),!h._isValid())return p.isFunction(l)&&ft(l,h),!!m&&void 0;var _=Ud(h),S=h.__innerFTPUpload("FTPUploadAsMultiPageTIFF",Ve(s,u,_.join(",")),d,l);return m?void 0:S}},{key:"HTTPDownloadDirectly",value:function(s,u,d,l,h){var m,_=this,S=!1;if(p.isFunction(l)&&(S=!0),_._resetErr(),!_._isValid()||!_t.checkProductKey(_,{Core:!0}))return p.isFunction(h)&&ft(h,_),!!S&&void 0;var y,b,I=_._GetHttpHeadersAndClear(),x=At.combineUrl(_,s,u);if(x===void 0)return li(_),p.isFunction(h)&&ft(h,_),!!S&&void 0;if(!d||d=="")return function(q,X){Fe(q,-2309,"The LocalFile is empty in the name "+X+" Function.")}(_,"HTTPDownloadDirectly"),p.isFunction(h)&&ft(h,_),!!S&&void 0;if(y=At.getImageType(d),!_t.checkPDFProductKeyWhenNeeds(_,y))return p.isFunction(h)&&ft(h,_),!!S&&void 0;j.cancelFrom=Mt.HTTPDownload,b=At.replaceLocalFilename(d),_.IfShowProgressBar?j.showProgress(_,"HTTPDownloadDirectly",!1):j.hideProgress();var D=(m=j.progressContext)===null||m===void 0?void 0:m.IfShowCancelDialogWhenImageTransfer,W=function(){return _.IfShowProgressBar&&j.closeProgress(null,"HTTPDownloadDirectly"),p.isFunction(l)&&l(),!0},$=function(){return j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=D),_.IfShowProgressBar&&j.closeProgress(null,"HTTPDownloadDirectly"),p.isFunction(h)&&ft(h,_),!1};_._OnPercentDone([0,-1,Cr.Downloading,"http"]),j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!0);var te=At.loadHttpBlob(_,"get",x,S,function(q){j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=D),_._OnPercentDone([0,-1,Cr.Loading]);var X=_.__GetLoadEventsNum();return _.__LoadImageFromBytesV1(q,3,b,X,S,W,$)},$,function(q){var X=q.total===0?100:Math.round(100*q.loaded/q.total);[q.loaded," / ",q.total].join(""),X>=100&&q.loaded<q.total&&(X=99),_._OnPercentDone([0,X,"","http"])},I);return S?void 0:!!te}},{key:"HTTPUploadThroughPostDirectly",value:function(s,u,d,l,h,m){var _=this,S=!1,y=function(){p.isFunction(m)&&ft(m,_,_.__HTTPPostResponseString)};if(p.isFunction(h)&&(S=!0),_._resetErr(),_.__HTTPPostResponseString="",!_._isValid())return y(),!!S&&void 0;var b=At.combineUrl(_,s,d);if(!u)return fl(_),y(),!!S&&void 0;if(!s)return PC(_),y(),!!S&&void 0;var I=this.IfShowProgressBar;return _._innerUploadDirectly(b,u,l,I,!1,0,!0,!1,h,y)}},{key:"_innerUploadDirectly",value:function(s,u,d,l,h,m,_,S,y,b){var I,x,D=this,W=D._GetHttpHeadersAndClear(),$="HTTPUploadThroughPostDirectly",te=!1;if(p.isFunction(y)&&(te=!0),s===void 0||s===!1||s==="")return li(D),p.isFunction(b)&&ft(b,D),!!te&&void 0;if(!_t.checkProductKey(D,{Core:!0}))return p.isFunction(b)&&ft(b,D),!!te&&void 0;j.cancelFrom=Mt.HTTPUpload;var q=function(X,J,re){return X!=0&&J&&(D._errorCode=X,D._errorString=J),re&&(D.__HTTPPostResponseString=re),j.needShowTwiceShowDialog=!1,l&&j.closeProgress(null,$),p.isFunction(b)&&ft(b,D),!1};return j.needShowTwiceShowDialog=!0,l?j.showProgress(D,$,!1):j.hideProgress(),(I=At.replaceLocalFilename(u))&&I!=""?S&&S.bCancel?(S.st=2,Ro(D),q(D._errorCode,D._errorString),!!te&&void 0):(x=Bo(go,D,FU).call(D,I,te,h,function(X){if(j.needShowTwiceShowDialog=!1,S&&S.bCancel)return S.st=2,Ro(D),q(D._errorCode,D._errorString),!1;if(X&&(!l||l&&j.dlgRef>0||te==0)){X instanceof File?X.fileName=d:X.name=d,l&&hu(D.__IfShowCancelDialogWhenImageTransfer);var J=new xs,re=D._createHttpUploaderConfig(),H=new la;return D.__remoteFilename&&D.__remoteFilename!=""&&(H.remoteFilename=D.__remoteFilename),re.objUploadStatus=S,H.url=s,H.method=$,H.content=X,X=null,H.contentType=D._strHttpContentTypeFieldValue,H.headers=W,H.bAsync=te,H.httpFormData=vc(D.httpFormFields),H.retry=m,H.bOnlyResponseEmptyIsOK=_,H.blockSize=D._moduleSize,J.httpPostUpload(re,H,function(F){return l&&j.closeProgress(null,$),p.isFunction(y)&&yn(y,F),!0},q)}return fl(D),q(D._errorCode,D._errorString),!1},q),te?void 0:!!x):(fl(D),q(D._errorCode,D._errorString),!!te&&void 0)}},{key:"_innerUploadFilesDirectly",value:function(s,u,d,l,h,m,_,S,y){var b,I=this,x=I._GetHttpHeadersAndClear(),D="HTTPUploadThroughPostDirectly",W=!1,$=[];if(p.isFunction(S)&&(W=!0),s===!1||s==="")return li(I),p.isFunction(y)&&y({code:I._errorCode,message:I._getErrorString(),files:u}),!1;if(!_t.checkProductKey(I,{Core:!0}))return p.isFunction(y)&&y({code:I._errorCode,message:I._getErrorString(),files:u}),!1;j.cancelFrom=Mt.HTTPUpload;var te=function(re,H,F){return re!=0&&H&&(I._errorCode=re,I._errorString=H),F&&(I.__HTTPPostResponseString=F),j.needShowTwiceShowDialog=!1,l&&j.closeProgress(null,D),p.isFunction(y)&&y({code:I._errorCode,message:I._errorString,response:F,files:u}),!1};j.needShowTwiceShowDialog=!0,l?j.showProgress(I,D,!1):j.hideProgress(),p.each(u,function(re){var H=At.replaceLocalFilename(re);if(!H||H=="")return fl(I),te(I._errorCode,I._errorString),!1;$.push(H)});var q=[],X=$.length,J=0;return p.each($,function(re,H){b=Bo(go,I,FU).call(I,re,W,h,function(F){if(j.needShowTwiceShowDialog=!1,!F||l&&!(l&&j.dlgRef>0)&&W!=0)return l&&j.closeProgress(null,D),DC(I),p.isFunction(te)&&te(I._errorCode,I._errorString),!1;var B=po(d,H+1);if(F instanceof File?F.fileName=B:F.name=B,q[H]=F,F=null,++J==X){l&&hu(I.__IfShowCancelDialogWhenImageTransfer);var V=I._createHttpUploaderConfig(),G=new la;I.__remoteFilename&&I.__remoteFilename!=""&&(G.remoteFilename=I.__remoteFilename),G.url=s,G.method=D,G.content=q,q=null,G.contentType=I._strHttpContentTypeFieldValue,G.headers=x,G.bAsync=W,G.httpFormData=vc(I.httpFormFields),G.retry=m,G.bOnlyResponseEmptyIsOK=_,G.blockSize=I._moduleSize;var z=TU(V,G,function(Z){return l&&j.closeProgress(null,D),p.isFunction(S)&&yn(S,Z),!0},function(Z,ie,se){return l&&j.closeProgress(null,D),p.isFunction(te)&&te(Z,ie,se),!1});return W?void 0:z}},function(){return l&&j.closeProgress(null,D),p.isFunction(te)&&te(),!1})}),W?void 0:!!b}},{key:"_createHttpUploaderConfig",value:function(){var s=this,u=new IU;return u.IfShowProgressBar=s.IfShowProgressBar,u.IfShowCancelDialogWhenImageTransfer=s.__IfShowCancelDialogWhenImageTransfer,u.MaxUploadImageSize=s.MaxUploadImageSize,u.HTTPRequestswithCredentials=s.HTTPRequestswithCredentials,u.onPercent=function(d){s._OnPercentDone(d)},u.onHttpUploadStatus=function(d){p.isFunction(s.__OnHttpUploadStatus)&&s.__OnHttpUploadStatus(d)},u}},{key:"SetUploadSegment",value:function(s,u){var d=this;return d._resetErr(),!!d._isValid()&&(!p.isNumber(s)||s<0?(Fe(d,-2367,"Invalid value for the parameter segmentUploadThreshold."),!1):!p.isNumber(u)||u<=0?(function(l){Fe(l,-2368,"Invalid value for the parameter moduleSize.")}(d),!1):(d._segementUploadThreshold=1024*s*1024,d._moduleSize=1024*u,!0))}},{key:"ConvertToBase64",value:function(s,u,d,l){var h,m=this,_=arguments,S=!1;if(p.isFunction(d)&&(S=!0),m._resetErr(),!m._isValid())return p.isFunction(l)&&Gn(l,m,s,u,_),!!S&&void 0;var y=parseInt(u);if(!_t.checkProductKey(m,{Core:!0})||!m._checkIndices(s))return p.isFunction(l)&&Gn(l,m,s,u,_),!!S&&void 0;if(y==U.DWT.EnumDWT_ImageType.IT_BMP||y==U.DWT.EnumDWT_ImageType.IT_JPG||y==U.DWT.EnumDWT_ImageType.IT_PNG){if(s.length>1)return Fe(m,-2361,"You cannot convert more than one image to base64 string when the format is BMP, JPG or PNG."),p.isFunction(l)&&Gn(l,m,s,u,_),!!S&&void 0}else if(y!=U.DWT.EnumDWT_ImageType.IT_TIF&&y!=U.DWT.EnumDWT_ImageType.IT_PDF)return Li(m),p.isFunction(l)&&Gn(l,m,s,u,_),!!S&&void 0;if((h=qu(m,s)).length==0)return Ot(m),p.isFunction(l)&&Gn(l,m,s,u,_),!!S&&void 0;j.cancelFrom=Mt.ConvertToBlob,m._convertToBase64ByServerIdsWithUI("ConvertToBase64",h,y,!1,3,function(b){var I=[];p.isArray(h)&&p.each(h,function(x){var D=m._ImgManager.convertServerIdToClientIndex(x);D>-1&&I.push(D)}),p.isFunction(d)&&yn(d,b,I,u,_)},function(){var b=[];p.isArray(h)&&p.each(h,function(I){var x=m._ImgManager.convertServerIdToClientIndex(I);x>-1&&b.push(x)}),p.isFunction(l)&&Gn(l,m,b,u,_)})}},{key:"ClearAllHTTPFormField",value:function(){var s=this;return s._resetErr(),!!s._isValid()&&(s.httpFormFields={},!0)}},{key:"SetHTTPFormField",value:function(s,u,d){var l=this;if(l._resetErr(),!l._isValid())return!1;var h=s;return p.isString(h)||(h=""+h),u instanceof Blob&&(u.name=d),l.httpFormFields[h]=u,!0}},{key:"HTTPDownloadThroughPost",value:function(s,u,d,l,h,m){var _,S,y=this,b=y._GetHttpHeadersAndClear(),I=At.combineUrl(y,s,u),x=!1;if(p.isFunction(l)&&(x=!0),I===void 0)return li(y),p.isFunction(h)&&ft(h,y,""),!!x&&void 0;if(!_t.checkProductKey(y,{Core:!0})||!_t.checkPDFProductKeyWhenNeeds(y,d))return p.isFunction(h)&&ft(h,y,""),!!x&&void 0;j.cancelFrom=Mt.HTTPDownload,y.IfShowProgressBar?j.showProgress(y,"HttpDownloadThroughPost",!1):j.hideProgress(),y._OnPercentDone([0,-1,Cr.Downloading,"http"]);var D=(_=j.progressContext)===null||_===void 0?void 0:_.IfShowCancelDialogWhenImageTransfer,W=function(){return y.IfShowProgressBar&&j.closeProgress(null,"HttpDownloadThroughPost"),p.isFunction(l)&&l(),!0},$=function(){return j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=D),y.IfShowProgressBar&&j.closeProgress(null,"HttpDownloadThroughPost"),p.isFunction(h)&&ft(h,y,y.__HTTPPostResponseString),!1};return j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!0),S=At.loadHttpBlob(y,"post",I,x,function(te){j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=D),y._OnPercentDone([0,-1,Cr.Loading]);var q=d;q!=U.DWT.EnumDWT_ImageType.IT_BMP&&q!=U.DWT.EnumDWT_ImageType.IT_JPG&&q!=U.DWT.EnumDWT_ImageType.IT_TIF&&q!=U.DWT.EnumDWT_ImageType.IT_PNG&&q!=U.DWT.EnumDWT_ImageType.IT_PDF&&q!=U.DWT.EnumDWT_ImageType.IT_J2K&&(q=-1);var X=y.__GetLoadEventsNum();return y.__LoadImageFromBytesV1(te,q,"",X,x,W,$)},$,function(te){var q=te.total===0?100:Math.round(100*te.loaded/te.total);[te.loaded," / ",te.total].join(""),q>=100&&te.loaded<te.total&&(q=99),y._OnPercentDone([0,q,"","http"])},b),x?void 0:!!S}},{key:"HTTPDownloadThroughGet",value:function(s,u,d,l,h){return this._innerHTTPDownloadThroughGet("HTTPDownload",s,u,d,l,h)}},{key:"HTTPUploadThroughPut",value:function(s,u,d,l,h){var m=At.getImageType(d);return this.HTTPUploadThroughPutEx(s,u,d,m,l,h)}},{key:"HTTPUploadThroughPutEx",value:function(s,u,d,l,h,m){var _=this,S=_._GetHttpHeadersAndClear(),y="HTTPUploadThroughPutEx",b=At.combineUrl(_,s,d),I=!1,x=[],D=!1,W=this.IfShowProgressBar;if(p.isFunction(h)&&(I=!0),b===void 0)return li(_),p.isFunction(m)&&Gn(m,_,"",[u],d,l),!!I&&void 0;j.cancelFrom=Mt.HTTPPut;var $,te=function(){j.needShowTwiceShowDialog=!1,W&&j.closeProgress(null,y),p.isFunction(m)&&Gn(m,_,_.__HTTPPostResponseString,x,d,l)};switch(j.needShowTwiceShowDialog=!0,W?j.showProgress(_,y,!1):j.hideProgress(),u){case-1:for(var q=0;q<_._ImgManager.count();q++)x.push(q);break;case-2:x=_._ImgManager.getSelectedClientIndexArray();break;default:if(x.push(u),!(u>=0))return qe(_),te(),!!I&&void 0}if(s==="")return PC(_),te(),!!I&&void 0;var X=[];p.isArray(x)&&p.each(x,function(H){var F=_._ImgManager.convertClientIndexToServerId(H);F!=-1&&X.push(F)});var J=!1;_._OnPercentDone([0,-1,Cr.Encoding,"http"]);var re=function(H,F,B){if(U.DWT.IfAddMD5InUploadHeader&&F&&F!=""&&(S["dwt-md5"]=F),j.needShowTwiceShowDialog=!1,H&&(!W||W&&j.dlgRef>0||I==0)){var V=_.__maxUploadImageSize;return H.size>V&&V!=-1?(ms(_),te(),!!I&&void 0):($=function(G){var z=G.total===0?100:Math.round(100*G.loaded/G.total);[G.loaded," / ",G.total].join(""),z>=100&&G.loaded<G.total&&(z=99),_._OnPercentDone([0,z,"","http"])},_._OnPercentDone([0,-1,Cr.Uploading,"http"]),W&&hu(_.__IfShowCancelDialogWhenImageTransfer),j.cancelFrom=Mt.HTTPPut,D=At.httpPutImage(_,b,H,I,function(G){if(G&&(_.__HTTPPostResponseString=G),W&&j.closeProgress(null,y),p.isFunction(h)){var z=[];p.isArray(X)&&p.each(X,function(Z){var ie=_._ImgManager.convertServerIdToClientIndex(Z);ie>-1&&z.push(ie)}),yn(h,_.__HTTPPostResponseString,z,d,l)}return!0},te,$),H=null,I?void 0:!!D)}return H=null,W&&j.closeProgress(null,y),!!I&&void 0};if(!I)return _._dwtConvertToBlobSync(l,X,J,re,te);_._convertToBlobForUpload(l,X,J,4,re,te)}},{key:"HTTPUploadAllThroughPutAsMultiPageTIFF",value:function(s,u,d,l){return this.HTTPUploadThroughPutEx(s,-1,u,2,d,l)}},{key:"HTTPUploadThroughPutAsMultiPageTIFF",value:function(s,u,d,l){return this.HTTPUploadThroughPutEx(s,-2,u,2,d,l)}},{key:"HTTPUploadAllThroughPutAsPDF",value:function(s,u,d,l){return this.HTTPUploadThroughPutEx(s,-1,u,4,d,l)}},{key:"HTTPUploadThroughPutAsMultiPagePDF",value:function(s,u,d,l){return this.HTTPUploadThroughPutEx(s,-2,u,4,d,l)}},{key:"GetSelectedImagesSize",value:function(s){var u=this;if(u._resetErr(),!u._isValid())return!1;var d=Ud(u);return u._innerFun("GetSelectedImagesSize",Ve(s,d.join(",")))}},{key:"SetHTTPHeader",value:function(s,u){var d=this;if(d._resetErr(),!d._isValid())return!1;var l,h,m=s;if(d.__httpHeaderMap||(d.__httpHeaderMap={}),!m||!p.isString(m))return p.isUndefined(m)?Fe(d,-2356,"The header name cannot be undefined."):m===""?function(_){Fe(_,-2354,"The header name cannot be empty.")}(d):m===null?function(_){Fe(_,-2355,"The header name cannot be null.")}(d):function(_){Fe(_,-2357,"The header name you entered is invalid.")}(d),!1;for(l=["if-none-match","if-range","range","accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],m=m.toLowerCase(),h=0;h<l.length;h++)if(l[h]==m)return r$(d),!1;return p.isUndefined(u)||u===null||u===""?(s in d.__httpHeaderMap&&delete d.__httpHeaderMap[s],!0):(p.isNumber(u)&&(u=""+u),d.__httpHeaderMap[s]=u,!0)}},{key:"ConvertToBlob",value:function(s,u,d,l,h){var m=arguments;return this._convertToBlobByIndices(s,u,!1,m,d,l)}},{key:"_asyncUploadFilesCmd",value:function(s,u,d,l,h,m,_,S,y,b,I,x){var D=this,W=parseInt(h),$="HTTPUpload",te=s,q=[];D.__HTTPPostResponseString="",j.cancelFrom=Mt.HTTPUpload;var X=function(B,V,G){var z=[];if(p.isArray(u)&&p.each(u,function(Z){var ie=D._ImgManager.convertServerIdToClientIndex(Z);ie>-1&&z.push(ie)}),B!=0&&V&&(D._errorCode=B,D._errorString=V),G&&(D.__HTTPPostResponseString=G),D._bServerPercentDone=!0,j.needShowTwiceShowDialog=!1,S&&j.closeProgress(null,$),q.slice(0),q=null,p.isFunction(x))try{x({code:D._errorCode,message:D._errorString,response:G,indices:z})}catch{}};j.needShowTwiceShowDialog=!0,S?j.showProgress(D,$,!1):j.hideProgress();var J=u.length,re=0,H=0,F="";D._bServerPercentDone=!1,D._OnPercentDone([0,-1,Cr.Encoding,"http"]),p.each(u,function(B,V){D._convertToBlobForUpload(W,[B],_,4,function(G,z,Z){if(!G||G.size<=0)return sn(D),X(D._errorCode,D._errorString);var ie=D.__maxUploadImageSize;if(G.size>ie&&ie!=-1)return ms(D),X(D._errorCode,D._errorString);var se=po(m,V+1);if(H=(re+1)/J*100,F=[re+1,"/",J].join(""),D._OnPercentDone([0,H,F,"http",se]),G.name=se,q.push(G),++re>=J){U.DWT.IfAddMD5InUploadHeader&&z&&z!=""&&(d["dwt-md5"]=z);var ne=D._createHttpUploaderConfig(),ae=new la;D.__remoteFilename&&D.__remoteFilename!=""&&(ae.remoteFilename=D.__remoteFilename),ae.url=te,ae.method=$,ae.content=q,ae.contentType=D._strHttpContentTypeFieldValue,ae.headers=d,ae.httpFormData=l,ae.retry=y,ae.bOnlyResponseEmptyIsOK=b,ae.blockSize=D._moduleSize,TU(ne,ae,function(be){D.__HTTPPostResponseString=ne.HTTPPostResponse,function(ge){if(D._bServerPercentDone=!0,j.needShowTwiceShowDialog=!1,S&&j.closeProgress(null,$),q.slice(0),q=null,p.isFunction(I)){var _e=[];p.isArray(u)&&p.each(u,function(Le){var Xe=D._ImgManager.convertServerIdToClientIndex(Le);Xe>-1&&_e.push(Xe)}),yn(I,ge,_e)}}(be)},X)}G=null},X,[B,V])})}},{key:"_getVersionInfoAsync",value:function(){return Nr.versionInfoFromServer?Ce.Promise.resolve(Nr.versionInfoFromServer):this._innerFunV2("VersionInfo")}},{key:"__innerLoadImage",value:function(s,u,d,l,h,m,_){var S=this,y=!1;if((p.isFunction(m)||U.DWT.ConnectWithSocket)&&(y=!0),!_t.checkProductKey(S,{Core:!0}))return p.isFunction(_)&&_({code:S._errorCode,message:S._getErrorString()}),!!y&&void 0;if(!_t.checkPDFProductKeyWhenNeeds(S,d))return p.isFunction(_)&&_({code:S._errorCode,message:S._getErrorString()}),!!y&&void 0;if(y){if(S._bRemoteMode&&S._getIfShowFileDialog())return MC(S),void(p.isFunction(_)&&_({code:S._errorCode,message:S._getErrorString()}));var b=S.IfShowCancelDialogWhenImageTransfer;return S.IfShowCancelDialogWhenImageTransfer=!1,void S.__innerAcquireOrLoadImageAsync(s,u,l,!0).then(function(){S.IfShowCancelDialogWhenImageTransfer=b,p.isFunction(m)&&m()},function(D){S.IfShowCancelDialogWhenImageTransfer=b,S._errorCode=D.code,S._errorString=D.message,p.isFunction(_)&&_(D)})}if(S._bRemoteMode&&S._getIfShowFileDialog())return MC(S),!1;var I=S._getCurrentDocumentName(),x=S._getCurrentDefaultTagName();return S.__innerLoadImageFun(s,u,h,I,x)}},{key:"__innerLoadImageFun",value:function(s,u,d,l,h){var m,_=this,S=!0;if(m=_._innerFunRaw(s,u,!1,!1,!0),_.__bOpenFileNow=!1,_._errorCode!=0)return!1;if(m&&p.isArray(m.result)&&m.result.length>0){if(d){var y;if(s=="FTPDownload"||s=="FTPDownloadEx")y=JSON.stringify(m.result);else{var b=m.result[0];p.isObject(b)?y=b.imageInfos:b!=-1||s!="LoadImage"&&s!="LoadImageEx"&&s!="LoadImageFromBase64Binary"&&s!="LoadDibFromClipboard"||(S=!1)}p.isString(y)&&_._handleOnBitmapChangedEvent({result:["c1",y]},{document:l,tag:h})}else{var I=m.result.join(",");_._OnBitmapChanged(["c1",I,1,_._ImgManager.getCurrentImageIndex(),_._ImgManager.count()],null,{document:l,tag:h})}if(S)return _._canConsume()&&U.DWT.lcvrf(_),!0}return FF(_._errorCode)&&kd(_),!1}},{key:"__innerSaveImage",value:function(s,u,d,l){var h,m=this,_=!1;if(p.isFunction(d)&&(_=!0),_&&m._OnPercentDone([0,-1,Cr.Encoding]),m._bRemoteMode||(U.DWT.IfAlwaysFocusOnPopupWindow?m._OnPageFocus(!0):m._OnPageBlur(!0)),_==0)return m._bRemoteMode?m._serviceSyncMethodNotSupport(s):this._innerFun(s,u);if(m._bRemoteMode&&m._getIfShowFileDialog())return MC(m),void(p.isFunction(l)&&l(m._errorCode,m._getErrorString()));var S=(h=j.progressContext)===null||h===void 0?void 0:h.IfShowCancelDialogWhenImageTransfer;m.IfShowProgressBar?j.showProgress(m,s,!1):j.hideProgress(),j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!1),m._innerSend(s,u,!0,function(){j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=S),j.closeProgress(null,s),p.isFunction(d)&&d()},function(y){return j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=S),p.isFunction(l)&&l(m._errorCode,m._getErrorString()),j.closeProgress(null,s),y&&p.error(y),!1})}},{key:"__captureImage",value:function(s,u,d,l){var h=this.__GetLoadEventsNum();return this.__LoadImageFromBytesV2(s,u,"",!0,0,0,!0,h,d,l)}},{key:"_getIfShowFileDialog",value:function(){return this._resetErr(),this._isValid()?this._innerFun("IfShowFileDialog"):Pe}},{key:"SaveAsBMP",value:function(s,u,d,l){var h=this,m=!1;if((p.isFunction(d)||ue.bAndroid)&&(m=!0),h._resetErr(),!h._isValid())return p.isFunction(l)&&ft(l,h),!!m&&void 0;if(!(_t.checkProductKey(h,{Core:!0})||ue.bWin&&_t.checkProductKey(h,{Webcam:!0},!0)))return _t.checkProductKey(h,{Core:!0},!1),p.isFunction(l)&&ft(l,h),!!m&&void 0;var _,S=At.replaceLocalFilename(s);if(!Ju(h,u,l))return!!m&&void 0;if(ue.bAndroid){if(h._ImgManager.count()==0)return Mn(h),void(p.isFunction(l)&&ft(l,h));var y=[];return y.push(u),void h._saveImages("SaveAsBMP",S,y,Qt.IT_BMP).then(function(){p.isFunction(d)&&d()}).catch(function(x){p.isFunction(l)&&l(x.code,x.message)})}if((_=h._ImgManager.convertClientIndexToServerId(u))==-1)return qe(h),p.isFunction(l)&&ft(l,h),!!m&&void 0;var b=h.__GetLoadEventsNum(),I=h.__innerSaveImage("SaveAsBMP",Ve(S,_,b),d,l);return m?void 0:I}},{key:"SaveAsJPEG",value:function(s,u,d,l){var h=this,m=!1;if((p.isFunction(d)||ue.bAndroid)&&(m=!0),h._resetErr(),!h._isValid())return p.isFunction(l)&&ft(l,h),!!m&&void 0;if(!(_t.checkProductKey(h,{Core:!0})||ue.bWin&&_t.checkProductKey(h,{Webcam:!0},!0)))return _t.checkProductKey(h,{Core:!0},!1),p.isFunction(l)&&ft(l,h),!!m&&void 0;if(!Ju(h,u,l))return!!m&&void 0;var _,S=At.replaceLocalFilename(s);if(ue.bAndroid){if(h._ImgManager.count()==0)return Mn(h),void(p.isFunction(l)&&ft(l,h));var y=[];return y.push(u),void h._saveImages("SaveAsJPEG",S,y,Qt.IT_JPG).then(function(){p.isFunction(d)&&d()}).catch(function(x){p.isFunction(l)&&l(x.code,x.message)})}if((_=h._ImgManager.convertClientIndexToServerId(u))==-1)return qe(h),p.isFunction(l)&&ft(l,h),!!m&&void 0;var b=h.__GetLoadEventsNum(),I=h.__innerSaveImage("SaveAsJPEG",Ve(S,_,b),d,l);return m?void 0:I}},{key:"SaveAsPDF",value:function(s,u,d,l){var h=this,m=!1;if((p.isFunction(d)||ue.bAndroid)&&(m=!0),h._resetErr(),!h._isValid())return p.isFunction(l)&&ft(l,h),!!m&&void 0;if(!(_t.checkProductKey(h,{Core:!0})||ue.bWin&&_t.checkProductKey(h,{Webcam:!0},!0)))return _t.checkProductKey(h,{Core:!0},!1),p.isFunction(l)&&ft(l,h),!!m&&void 0;if(!Ju(h,u,l))return!!m&&void 0;var _,S=At.replaceLocalFilename(s);if(ue.bAndroid){if(h._ImgManager.count()==0)return Mn(h),void(p.isFunction(l)&&ft(l,h));var y=[];return y.push(u),void h._saveImages("SaveAsPDF",S,y,Qt.IT_PDF).then(function(){p.isFunction(d)&&d()}).catch(function(x){p.isFunction(l)&&l(x.code,x.message)})}if((_=h._ImgManager.convertClientIndexToServerId(u))==-1)return qe(h),p.isFunction(l)&&ft(l,h),!!m&&void 0;var b=h.__GetLoadEventsNum(),I=h.__innerSaveImage("SaveAsPDF",Ve(S,_,b),d,l);return m?void 0:I}},{key:"SaveAsPNG",value:function(s,u,d,l){var h=this,m=!1;if((p.isFunction(d)||ue.bAndroid)&&(m=!0),h._resetErr(),!h._isValid())return p.isFunction(l)&&ft(l,h),!!m&&void 0;if(!(_t.checkProductKey(h,{Core:!0})||ue.bWin&&_t.checkProductKey(h,{Webcam:!0},!0)))return _t.checkProductKey(h,{Core:!0},!1),p.isFunction(l)&&ft(l,h),!!m&&void 0;if(!Ju(h,u,l))return!!m&&void 0;var _,S=At.replaceLocalFilename(s);if(ue.bAndroid){if(h._ImgManager.count()==0)return Mn(h),void(p.isFunction(l)&&ft(l,h));var y=[];return y.push(u),void h._saveImages("SaveAsPNG",S,y,Qt.IT_PNG).then(function(){p.isFunction(d)&&d()}).catch(function(x){p.isFunction(l)&&l(x.code,x.message)})}if((_=h._ImgManager.convertClientIndexToServerId(u))==-1)return qe(h),p.isFunction(l)&&ft(l,h),!!m&&void 0;var b=h.__GetLoadEventsNum(),I=h.__innerSaveImage("SaveAsPNG",Ve(S,_,b),d,l);return m?void 0:I}},{key:"SaveAsTIFF",value:function(s,u,d,l){var h=this,m=!1;if((p.isFunction(d)||ue.bAndroid)&&(m=!0),h._resetErr(),!h._isValid())return p.isFunction(l)&&ft(l,h),!!m&&void 0;if(!(_t.checkProductKey(h,{Core:!0})||ue.bWin&&_t.checkProductKey(h,{Webcam:!0},!0)))return _t.checkProductKey(h,{Core:!0},!1),p.isFunction(l)&&ft(l,h),!!m&&void 0;if(!Ju(h,u,l))return!!m&&void 0;var _,S=At.replaceLocalFilename(s);if(ue.bAndroid){if(h._ImgManager.count()==0)return Mn(h),void(p.isFunction(l)&&ft(l,h));var y=[];return y.push(u),void h._saveImages("SaveAsTIFF",S,y,Qt.IT_TIF).then(function(){p.isFunction(d)&&d()}).catch(function(x){p.isFunction(l)&&l(x.code,x.message)})}if((_=h._ImgManager.convertClientIndexToServerId(u))==-1)return qe(h),p.isFunction(l)&&ft(l,h),!!m&&void 0;var b=h.__GetLoadEventsNum(),I=h.__innerSaveImage("SaveAsTIFF",Ve(S,_,b),d,l);return m?void 0:I}},{key:"SaveSelectedImagesAsMultiPagePDF",value:function(s,u,d){var l=this,h=!1;if((p.isFunction(u)||ue.bAndroid)&&(h=!0),l._resetErr(),!l._isValid())return p.isFunction(d)&&ft(d,l),!!h&&void 0;if(!(_t.checkProductKey(l,{Core:!0})||ue.bWin&&_t.checkProductKey(l,{Webcam:!0},!0)))return _t.checkProductKey(l,{Core:!0},!1),p.isFunction(d)&&ft(d,l),!!h&&void 0;var m=At.replaceLocalFilename(s);if(!ue.bAndroid){var _=Ud(l);if(_.length==0)return Mn(l),p.isFunction(d)&&ft(d,l),!!h&&void 0;var S=l.__GetLoadEventsNum(),y=l.__innerSaveImage("SaveSelectedImagesAsMultiPagePDF",Ve(m,_.join(","),S),u,d);return h?void 0:y}if(l._ImgManager.count()==0)return Mn(l),void(p.isFunction(d)&&ft(d,l));var b=FO(l);l._saveImages("SaveSelectedImagesAsMultiPagePDF",m,b,Qt.IT_PDF).then(function(){p.isFunction(u)&&u()}).catch(function(I){p.isFunction(d)&&d(I.code,I.message)})}},{key:"SaveSelectedImagesAsMultiPageTIFF",value:function(s,u,d){var l=this,h=!1;if((p.isFunction(u)||ue.bAndroid)&&(h=!0),l._resetErr(),!l._isValid())return p.isFunction(d)&&ft(d,l),!!h&&void 0;if(!(_t.checkProductKey(l,{Core:!0})||ue.bWin&&_t.checkProductKey(l,{Webcam:!0},!0)))return _t.checkProductKey(l,{Core:!0},!1),p.isFunction(d)&&ft(d,l),!!h&&void 0;var m=At.replaceLocalFilename(s);if(!ue.bAndroid){var _=Ud(l);if(_.length==0)return Mn(l),p.isFunction(d)&&ft(d,l),!!h&&void 0;var S=l.__GetLoadEventsNum(),y=l.__innerSaveImage("SaveSelectedImagesAsMultiPageTIFF",Ve(m,_.join(","),S),u,d);return h?void 0:y}if(l._ImgManager.count()==0)return Mn(l),void(p.isFunction(d)&&ft(d,l));var b=FO(l);l._saveImages("SaveSelectedImagesAsMultiPageTIFF",m,b,Qt.IT_TIF).then(function(){p.isFunction(u)&&u()}).catch(function(I){p.isFunction(d)&&d(I.code,I.message)})}},{key:"SaveAllAsMultiPageTIFF",value:function(s,u,d){var l=this,h=!1;if((p.isFunction(u)||ue.bAndroid)&&(h=!0),l._resetErr(),!l._isValid())return p.isFunction(d)&&ft(d,l),!!h&&void 0;if(!(_t.checkProductKey(l,{Core:!0})||ue.bWin&&_t.checkProductKey(l,{Webcam:!0},!0)))return _t.checkProductKey(l,{Core:!0},!1),p.isFunction(d)&&ft(d,l),!!h&&void 0;if(!IT(l,d))return!!h&&void 0;var m=[],_=At.replaceLocalFilename(s);if(!ue.bAndroid){if(E_(l,m),m.length==0)return Mn(l),p.isFunction(d)&&ft(d,l),!!h&&void 0;var S=l.__GetLoadEventsNum(),y=l.__innerSaveImage("SaveSelectedImagesAsMultiPageTIFF",Ve(_,m.join(","),S),u,d);return h?void 0:y}if(l._ImgManager.count()==0)return Mn(l),void(p.isFunction(d)&&ft(d,l));for(var b=[],I=0;I<this._ImgManager.count();I++)b.push(I);l._saveImages("SaveAllAsMultiPageTIFF",_,b,Qt.IT_TIF).then(function(){p.isFunction(u)&&u()}).catch(function(x){p.isFunction(d)&&d(x.code,x.message)})}},{key:"SaveAllAsPDF",value:function(s,u,d){var l=this,h=!1;if((p.isFunction(u)||ue.bAndroid)&&(h=!0),l._resetErr(),!l._isValid())return p.isFunction(d)&&ft(d,l),!!h&&void 0;if(!(_t.checkProductKey(l,{Core:!0})||ue.bWin&&_t.checkProductKey(l,{Webcam:!0},!0)))return _t.checkProductKey(l,{Core:!0},!1),p.isFunction(d)&&ft(d,l),!!h&&void 0;if(!IT(l,d))return!!h&&void 0;var m=[],_=At.replaceLocalFilename(s);if(!ue.bAndroid){if(E_(l,m),m.length==0)return Mn(l),p.isFunction(d)&&ft(d,l),!!h&&void 0;var S=l.__GetLoadEventsNum(),y=l.__innerSaveImage("SaveSelectedImagesAsMultiPagePDF",Ve(_,m.join(","),S),u,d);return h?void 0:y}if(l._ImgManager.count()==0)return Mn(l),void(p.isFunction(d)&&ft(d,l));for(var b=[],I=0;I<this._ImgManager.count();I++)b.push(I);l._saveImages("SaveAllAsPDF",_,b,Qt.IT_PDF).then(function(){p.isFunction(u)&&u()}).catch(function(x){p.isFunction(d)&&d(x.code,x.message)})}},{key:"HTTPUpload",value:function(s,u,d,l,h,m,_){var S=this,y=h??"RemoteFile",b=S._GetHttpHeadersAndClear(),I=m,x=_;if(S._resetErr(),arguments.length<=3)return I=u,x=d,void this._innerFormFieldHTTPUpload(s,b,I,x);if(p.isFunction(arguments[4])&&p.isFunction(arguments[5])&&(y="RemoteFile",I=arguments[4],arguments.length>5&&(x=arguments[5])),S._isValid()){var D,W=arguments,$=function(q){p.isFunction(x)&&Gn(x,S,S.__HTTPPostResponseString,q,W)};if(p.isUndefined(s)||s==="")return li(S),void($&&$(u));if(!p.isString(s))return pp(S),void($&&$(u));if(S._checkIndices(u)){var te=qu(S,u);if(te.length==0)return Ot(S),void($&&$(u));if(p.isUndefined(d))return Li(S),void($&&$(u));if(d==U.DWT.EnumDWT_ImageType.IT_BMP||d==U.DWT.EnumDWT_ImageType.IT_JPG||d==U.DWT.EnumDWT_ImageType.IT_PNG){if(te.length>1)return Dd(S),void $(u)}else if(d!=U.DWT.EnumDWT_ImageType.IT_TIF&&d!=U.DWT.EnumDWT_ImageType.IT_PDF)return Li(S),void $(u);if(p.isUndefined(l)||l!=U.DWT.EnumDWT_UploadDataFormat.Binary&&l!=U.DWT.EnumDWT_UploadDataFormat.Base64)return hF(S),void $(u);D={method:"HTTPUpload",url:s,serverIds:te,headers:b,formData:vc(S.httpFormFields),enumImageType:d,saveSetup:!1,dataFormat:l,fileName:y,retry:0,bOnlyResponseEmptyIsOK:!0,objUploadFileStatus:!1,asyncSuccessFunc:function(q,X){p.isFunction(I)&&yn(I,S.__HTTPPostResponseString,X,W)},asyncFailureFunc:$},this._asyncUploadCmd(D)}else $&&$(u)}else p.isFunction(x)&&ft(x,S,"")}},{key:"_innerFormFieldHTTPUpload",value:function(s,u,d,l){var h,m=this,_="HTTPUpload",S=s,y=m.IfShowProgressBar;if(m._isValid()){if(p.isUndefined(S)||S==="")return li(m),void(p.isFunction(l)&&ft(l,m,""));if(!p.isString(S))return pp(m),void(p.isFunction(l)&&ft(l,m,""));S.indexOf("http://")!=0&&S.indexOf("https://")!=0&&(S=j.detect.ssl?"https://"+S:"http://"+S),m.__HTTPPostResponseString="",j.cancelFrom=Mt.HTTPUpload,h=function(x,D,W){x!=0&&D&&(m._errorCode=x,m._errorString=D),W&&(m.__HTTPPostResponseString=W),j.needShowTwiceShowDialog=!1,j.closeProgress(null,_),p.isFunction(l)&&ft(l,m,m.__HTTPPostResponseString)},y?j.showProgress(m,_,!1):j.hideProgress(),j.needShowTwiceShowDialog=!0,m._OnPercentDone([0,-1,Cr.Uploading,"http"]);var b=m._createHttpUploaderConfig(),I=new la;m.__remoteFilename&&m.__remoteFilename!=""&&(I.remoteFilename=m.__remoteFilename),I.url=S,I.method=_,I.content=[],I.headers=u,I.httpFormData=vc(m.httpFormFields),I.blockSize=m._moduleSize,new xs().httpPostUpload(b,I,function(x){j.needShowTwiceShowDialog=!1,j.closeProgress(null,_),p.isFunction(d)&&yn(d,x,s,[s,d,l])},h)}else p.isFunction(l)&&ft(l,m,"")}},{key:"HTTPUploadThroughPost",value:function(s,u,d,l,h,m,_){var S=this,y=!1;if(p.isFunction(h)&&(y=!0),S._resetErr(),!S._isValid())return!!y&&void 0;var b=At.getImageType(l),I=arguments,x=!1,D=function(W){return p.isFunction(m)&&Gn(m,S,S.__HTTPPostResponseString,W,I),!1};return p.isString(l)&&l!=""?(h&&p.isFunction(h)&&(x=function(W,$){return yn(h,S.__HTTPPostResponseString,$,I),!0}),MU(S,u,b,D)?Bo(go,S,Ef).call(S,s,u,d,l,b,x,D,_):!!y&&void 0):(sn(S),D(),!!y&&void 0)}},{key:"HTTPUploadThroughPostEx",value:function(s,u,d,l,h,m,_,S){var y=this,b=!1;if(p.isFunction(m)&&(b=!0),y._resetErr(),!y._isValid())return p.isFunction(_)&&Gn(_,y,""),!!b&&void 0;var I=arguments,x=!1,D=function(W){p.isFunction(_)&&Gn(_,y,y.__HTTPPostResponseString,W,I)};return p.isString(l)&&l!=""?(m&&p.isFunction(m)&&(x=function(W,$){yn(m,y.__HTTPPostResponseString,$,I)}),MU(y,u,h,D)?Bo(go,y,Ef).call(y,s,u,d,l,h,x,D,S):!!b&&void 0):(sn(y),D(),!!b&&void 0)}},{key:"HTTPUploadAllThroughPostAsMultiPageTIFF",value:function(s,u,d,l,h,m){var _=this,S=!1;if(p.isFunction(l)&&(S=!0),_._resetErr(),!_._isValid())return p.isFunction(h)&&Gn(h,_,""),!!S&&void 0;var y=arguments,b=!1,I=function(x){p.isFunction(h)&&Gn(h,_,_.__HTTPPostResponseString,x,y)};return p.isString(d)&&d!=""?(S&&(b=function(x,D){yn(l,_.__HTTPPostResponseString,D,y)}),Bo(go,_,Ef).call(_,s,-1,u,d,2,b,I,m)):(sn(_),I(),!!S&&void 0)}},{key:"HTTPUploadAllThroughPostAsPDF",value:function(s,u,d,l,h,m){var _=this,S=!1;if(p.isFunction(l)&&(S=!0),_._resetErr(),!_._isValid())return p.isFunction(h)&&ft(h,_,""),!!S&&void 0;var y=arguments,b=!1,I=function(x){return p.isFunction(h)&&Gn(h,_,_.__HTTPPostResponseString,x,y),!1};return p.isString(d)&&d!=""?(S&&(b=function(x,D){yn(l,_.__HTTPPostResponseString,D,y)}),Bo(go,_,Ef).call(_,s,-1,u,d,4,b,I,m)):(sn(_),I())}},{key:"HTTPUploadThroughPostAsMultiPagePDF",value:function(s,u,d,l,h,m){var _=this,S=!1;if(p.isFunction(l)&&(S=!0),_._resetErr(),!_._isValid())return p.isFunction(h)&&ft(h,_,""),!!S&&void 0;var y=arguments,b=!1,I=function(x){p.isFunction(h)&&Gn(h,_,_.__HTTPPostResponseString,x,y)};return p.isString(d)&&d!=""?(S&&(b=function(x,D){yn(l,_.__HTTPPostResponseString,D,y)}),Bo(go,_,Ef).call(_,s,-2,u,d,4,b,I,m)):(sn(_),I(),!!S&&void 0)}},{key:"HTTPUploadThroughPostAsMultiPageTIFF",value:function(s,u,d,l,h,m){var _=this,S=!1;if(p.isFunction(l)&&(S=!0),_._resetErr(),!_._isValid())return p.isFunction(h)&&ft(h,_,""),!!S&&void 0;var y=arguments,b=!1,I=function(x){p.isFunction(h)&&Gn(h,_,_.__HTTPPostResponseString,x,y)};return p.isString(d)&&d!=""?(S&&(b=function(x,D){yn(l,_.__HTTPPostResponseString,D,y)}),Bo(go,_,Ef).call(_,s,-2,u,d,2,b,I,m)):(sn(_),I(),!!S&&void 0)}},{key:"_innerHTTPDownloadThroughGet",value:function(s,u,d,l,h,m){var _,S,y=this,b=y._GetHttpHeadersAndClear(),I=y.IfShowProgressBar,x=At.combineUrl(y,u,d),D=!1;if(p.isFunction(h)&&(D=!0),x===void 0)return li(y),p.isFunction(m)&&ft(m,y),!!D&&void 0;if(!_t.checkProductKey(y,{Core:!0})||!_t.checkPDFProductKeyWhenNeeds(y,l))return p.isFunction(m)&&ft(m,y),!!D&&void 0;j.cancelFrom=Mt.HTTPDownload;var W=(_=j.progressContext)===null||_===void 0?void 0:_.IfShowCancelDialogWhenImageTransfer,$=y._getCurrentDocumentName(),te=y._getCurrentDefaultTagName();return p.log("_innerHTTPDownloadThroughGet.currentFileName:"+$+", tag="+te),I&&D?(y.__IfShowCancelDialogWhenImageTransfer&&(j.progressContext.__cancelBeforObjectCreated=!0),j.showProgress(y,s,y.__IfShowCancelDialogWhenImageTransfer)):D&&j.hideProgress(),y._OnPercentDone([0,-1,Cr.Downloading,"http"]),S=At.loadHttpBlob(y,"get",x,D,function(q){j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=W),I&&D&&hu(!1),y._OnPercentDone([0,-1,Cr.Loading]);var X=l;X!=U.DWT.EnumDWT_ImageType.IT_BMP&&X!=U.DWT.EnumDWT_ImageType.IT_JPG&&X!=U.DWT.EnumDWT_ImageType.IT_TIF&&X!=U.DWT.EnumDWT_ImageType.IT_PNG&&X!=U.DWT.EnumDWT_ImageType.IT_PDF&&X!=U.DWT.EnumDWT_ImageType.IT_J2K&&(X=-1),q.currentFileName=$,q.currentTagName=te;var J=y.__GetLoadEventsNum();return y.__LoadImageFromBytesV1(q,X,"",J,D,function(){return I&&D&&j.closeProgress(null,s),p.isFunction(h)&&h(),!0},function(){return I&&D&&j.closeProgress(null,s),p.isFunction(m)&&ft(m,y),!1})},function(){return j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=W),I&&D&&j.closeProgress(null,s),p.isFunction(m)&&ft(m,y),!1},function(q){var X=q.total===0?100:Math.round(100*q.loaded/q.total);[q.loaded," / ",q.total].join(""),X>=100&&q.loaded<q.total&&(X=99),y._OnPercentDone([0,X,"","http"])},b),D?void 0:!!S}},{key:"LoadImage",value:function(s,u,d){var l=this,h=!1;if(p.isFunction(u)&&(h=!0),l._resetErr(),!l._isValid())return p.isFunction(d)&&ft(d,l),!!h&&void 0;var m,_,S,y=At.replaceLocalFilename(s),b=At.getImageType(y);u&&p.isFunction(u)&&(_=function(D){u()}),d&&p.isFunction(d)&&(S=function(D){d(D.code,D.message)}),m=l.__GetLoadEventsNum(),y==""&&(l.__bOpenFileNow=!0);var I=l._getCurrentDocumentName(),x=l._getCurrentDefaultTagName();return l.__innerLoadImage("LoadImage",Ve(y,m,1,I,x),b,!0,1,_,S)}},{key:"LoadImageEx",value:function(s,u,d,l){var h=this,m=!1;if(p.isFunction(d)&&(m=!0),h._resetErr(),!h._isValid())return p.isFunction(l)&&ft(l,h),!!m&&void 0;var _,S,y,b=At.replaceLocalFilename(s),I=u;if(d&&p.isFunction(d)&&(S=function(te){d()}),l&&p.isFunction(l)&&(y=function(te){l(te.code,te.message)}),!ue.bAndroid){I==U.DWT.EnumDWT_ImageType.IT_ALL&&(I=-1),_=h.__GetLoadEventsNum(),b==""&&(h.__bOpenFileNow=!0);var x=h._getCurrentDocumentName(),D=h._getCurrentDefaultTagName();return h.__innerLoadImage("LoadImageEx",Ve(b,I,_,1,x,D),I,!0,1,S,y)}var W=Ce.one(".d-loadImage");if(W.length==0){var $=document.createElement("input");$._stwain=h,$.setAttribute("type","file"),$.setAttribute("multiple","multiple"),$.style.position="absolute",$.style.top="-9999px",$.style.left="-9999px",$.style.width="1px",$.style.height="1px",$.className="d-loadImage",u==U.DWT.EnumDWT_ImageType.IT_BMP?$.setAttribute("accept","image/bmp"):u==U.DWT.EnumDWT_ImageType.IT_JPG?$.setAttribute("accept","image/jpeg"):u==U.DWT.EnumDWT_ImageType.IT_TIF?$.setAttribute("accept","image/tiff"):u==U.DWT.EnumDWT_ImageType.IT_PNG?$.setAttribute("accept","image/png"):u==U.DWT.EnumDWT_ImageType.IT_PDF?$.setAttribute("accept",".pdf"):u==U.DWT.EnumDWT_ImageType.IT_J2K?$.setAttribute("accept",".jp2,.j2k,.j2c"):Br.bMobile?$.setAttribute("accept","image/jpeg,image/png,image/tiff,image/tif"):$.setAttribute("accept","image/*,.pdf,.jp2,.j2k,.j2c"),$.ondoubleclick=function(){this.files.length>0&&this._stwain.LoadImageFromBinary(this.files,S,y),this.value="",this._stwain=null,$&&$.parentElement.removeChild($)},$.onchange=function(){this.files.length>0&&this._stwain.LoadImageFromBinary(this.files,S,y),this.value="",this._stwain=null,$&&$.parentElement.removeChild($)},document.body.appendChild($),$.click()}else u==U.DWT.EnumDWT_ImageType.IT_BMP?W[0].setAttribute("accept","image/bmp"):u==U.DWT.EnumDWT_ImageType.IT_JPG?W[0].setAttribute("accept","image/jpeg"):u==U.DWT.EnumDWT_ImageType.IT_TIF?W[0].setAttribute("accept","image/tiff"):u==U.DWT.EnumDWT_ImageType.IT_PNG?W[0].setAttribute("accept","image/png"):u==U.DWT.EnumDWT_ImageType.IT_PDF?W[0].setAttribute("accept",".pdf"):u==U.DWT.EnumDWT_ImageType.IT_J2K?W[0].setAttribute("accept",".jp2,.j2k,.j2c"):Br.bMobile?W[0].setAttribute("accept","image/jpeg,image/png,image/tiff,image/tif"):W[0].setAttribute("accept","image/*,.pdf,.jp2,.j2k,.j2c"),W[0].value="",W[0]._stwain=h,W[0].click()}},{key:"HTTPDownload",value:function(s,u,d,l){var h=this,m=!1;if(p.isFunction(d)&&(m=!0),h._resetErr(),!h._isValid())return p.isFunction(l)&&ft(l,h),!!m&&void 0;var _=At.getImageType(u);return h._innerHTTPDownloadThroughGet("HTTPDownload",s,u,_,d,l)}},{key:"HTTPDownloadEx",value:function(s,u,d,l,h){var m=this,_=!1;return p.isFunction(l)&&(_=!0),m._resetErr(),m._isValid()?m._innerHTTPDownloadThroughGet("HTTPDownloadEx",s,u,d,l,h):(p.isFunction(h)&&ft(h,m),!!_&&void 0)}},{key:"getFormateDate",value:function(){var s=new Date,u=s.getFullYear(),d=s.getMonth()+1,l=s.getDate(),h=s.getHours(),m=s.getMinutes(),_=s.getSeconds();return d<=9&&(d="0"+d),l<=9&&(l="0"+l),h<=9&&(h="0"+h),m<=9&&(m="0"+m),_<=9&&(_="0"+_),{currentTime_title:u+"-"+d+"-"+l+" "+h+":"+m+":"+_,currentTime_info:d+"/"+l+"/"+u+" "+h+":"+m+":"+_}}},{key:"__shareImagesInner",value:function(s,u,d,l){var h=navigator;h.canShare&&h.canShare({files:s})&&h.share({files:s,title:u,text:this.getFormateDate().currentTime_info}).then(function(){p.isFunction(d)&&d()}).catch(function(m){p.isFunction(l)&&l(m)})}},{key:"ShareImages",value:(a=o(w().mark(function s(u,d,l){var h,m,_,S,y,b,I,x,D;return w().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(h=this,!ue.bAndroid){W.next=38;break}if(l!=Qt.IT_ALL&&l!=Qt.IT_MULTIPAGE_PDF&&l!=Qt.IT_MULTIPAGE_TIF){W.next=5;break}throw TF(h),{code:h._errorCode,message:h._errorString};case 5:if(m=d.sort(function($,te){return $-te}),!(m.length>0)){W.next=36;break}if(_="IMAGE File",l==Qt.IT_PDF&&(_="PDF File"),S=B0(u,l),p.isUndefined(S)&&(S=u),l!=Qt.IT_PDF&&l!=Qt.IT_TIF){W.next=15;break}return W.abrupt("return",new Ce.Promise(function($,te){h.ConvertToBlob(m,l,function(q,X,J){var re=[new File([q],S,{type:q.type})];h.__shareImagesInner(re,_,function(){$()},function(H){te({code:H.code!=0?H.code:2201,message:H.message})})},function(){te({code:h._errorCode,message:h._errorString})})}));case 15:y=[],b=S,W.t0=l,W.next=W.t0===Qt.IT_BMP?20:W.t0===Qt.IT_JPG?22:W.t0===Qt.IT_PNG?24:26;break;case 20:return I=".bmp",W.abrupt("break",27);case 22:return I=".jpg",W.abrupt("break",27);case 24:return I=".png",W.abrupt("break",27);case 26:I=".jpg";case 27:S&&S.lastIndexOf(".")>0&&(b=S.substring(0,S.lastIndexOf(".")),I=S.substring(S.lastIndexOf("."),S.length)),x=w().mark(function $(te){return w().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,new Ce.Promise(function(X,J){h.ConvertToBlob([m[te]],l,function(re,H,F){te==0?y.push(new File([re],b+I,{type:re.type})):y.push(new File([re],b+te+I,{type:re.type})),X()},function(){J({code:h._errorCode,message:h._errorString})})});case 2:case"end":return q.stop()}},$)}),D=0;case 30:if(!(D<m.length)){W.next=35;break}return W.delegateYield(x(D),"t1",32);case 32:D++,W.next=30;break;case 35:h.__shareImagesInner(y,_);case 36:W.next=40;break;case 38:throw Fe(h,-2617,"ShareImages is only supported on Android devices."),{code:h._errorCode,message:h._errorString};case 40:case"end":return W.stop()}},s,this)})),function(s,u,d){return a.apply(this,arguments)})},{key:"Addon",get:function(){return this.__addon}},{key:"LoadDibFromClipboard",value:function(s,u){var d,l,h=this,m=!1;if(p.isFunction(s)&&(m=!0),h._resetErr(),!h._isValid())return p.isFunction(u)&&ft(u,h),!!m&&void 0;if(h._bRemoteMode)return Fe(h,-2609,"LoadDibFromClipboard is not supported when Object is created by CreateRemoteScanObjectAsync."),p.isFunction(u)&&ft(u,h),!!m&&void 0;s&&p.isFunction(s)&&(d=function(S){s()}),u&&p.isFunction(u)&&(l=function(S){u(S.code,S.message)});var _;return _=h.__GetLoadEventsNum(),h.__innerLoadImage("LoadDibFromClipboard",Ve(_,1),-1,!0,1,d,l)}},{key:"__innerGetBarcodeResultAsyncFunction",value:function(s){var u=j.NewBarcodeResult();return s&&(u._errorCode=s.exception,u._errorString=s.description,u._resultlist=s.result,u._Count=s.result.length),u}},{key:"__innerGetOCRResultAsyncFunction",value:function(s){var u=j.NewOCRResult(this);return s&&(u._errorCode=s.exception,u._errorString=s.description,u._resultlist=s.result),u}},{key:"__innerFTPUpload",value:function(s,u,d,l){return j.cancelFrom=Mt.FTPUpload,Bo(go,this,OU).call(this,s,u,!0,d,l)}},{key:"_GetHttpHeadersAndClear",value:function(){var s=this.__httpHeaderMap;return this.__httpHeaderMap={},s||(s={}),s}},{key:"_asyncUploadCmd",value:function(s){var u,d=this,l=s.url,h=s.asyncSuccessFunc,m=s.asyncFailureFunc,_=d.IfShowCancelDialogWhenImageTransfer,S=(u=j.progressContext)===null||u===void 0?void 0:u.IfShowCancelDialogWhenImageTransfer,y=s.method,b=s.serverIds,I=s.headers,x=s.formData,D=s.enumImageType,W=s.dataFormat,$=s.fileName,te=s.saveSetup,q=s.retry,X=s.bOnlyResponseEmptyIsOK,J=s.objUploadFileStatus,re=function(H,F,B,V){d.IfShowCancelDialogWhenImageTransfer=_,j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=S);var G=[];if(p.isArray(b)&&p.each(b,function(z){var Z=d._ImgManager.convertServerIdToClientIndex(z);Z>-1&&G.push(Z)}),H!=0&&F&&(d._errorCode=H,d._errorString=F),B&&(d.__HTTPPostResponseString=B),p.isFunction(m))try{m(G)}catch{}return!1};return p.isNumber(q)&&q>0||(q=0),d._errorCode!=0?re(d._errorCode,d._errorString,d.__HTTPPostResponseString):(d.__HTTPPostResponseString="",d.IfShowCancelDialogWhenImageTransfer=!0,j.progressContext.IfShowCancelDialogWhenImageTransfer=d.IfShowCancelDialogWhenImageTransfer,n._innerHTTPUpload(d,y,l,I,x,b,D,W,$,te,q,X,J,function(H){if(d.IfShowCancelDialogWhenImageTransfer=_,j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=S),p.isFunction(h)){var F=[];p.isArray(b)&&p.each(b,function(B){var V=d._ImgManager.convertServerIdToClientIndex(B);V>-1&&F.push(V)});try{yn(h,H,F)}catch{}H=null}return!0},re))}}],[{key:"_innerHTTPUpload",value:function(s,u,d,l,h,m,_,S,y,b,I,x,D,W,$){var te=parseInt(_),q=parseInt(S),X=y,J=d,re=s._segementUploadThreshold;if(p.isUndefined(_))return Li(s),p.isFunction($)&&$(s._errorCode,s._errorString,""),!1;s._resetErr(),j.cancelFrom=Mt.HTTPUpload;var H,F=function(V,G,z,Z){return V!=0&&G&&(s._errorCode=V,s._errorString=G),z&&(s.__HTTPPostResponseString=z),j.needShowTwiceShowDialog=!1,s.IfShowProgressBar&&j.closeProgress(null,u),p.isFunction($)&&$(s._errorCode,s._errorString,s.__HTTPPostResponseString,Z),!1},B=s._createHttpUploaderConfig();if(B.objUploadStatus=D,X=B0(X,te),j.needShowTwiceShowDialog=!0,s.IfShowProgressBar?(j.showProgress(s,u,!1),j.progressContext&&(j.progressContext._onPercent=function(V){var G=0;if(V){var z,Z;z=V.loaded,Z=V.total,(G=Math.floor(z/Z*100))>100&&(G=100)}j.progressBarOnPercentDone(-1,"Transferring...","",G,"")})):j.hideProgress(),q==U.DWT.EnumDWT_UploadDataFormat.Binary){if(D&&D.bCancel)return D.st=2,Ro(s),F(s._errorCode,s._errorString);s._OnPercentDone([0,-1,Cr.Encoding,"http"]),s._convertToBlobForUpload(te,m,b,4,function(V,G,z){if(H=function(be){return j.needShowTwiceShowDialog=!1,s.IfShowProgressBar&&j.closeProgress(null,u),p.isFunction(W)&&yn(W,be),!0},D&&D.bCancel)return D.st=2,Ro(s),F(s._errorCode,s._errorString);if(!V||V.size<=0)return sn(s),F(s._errorCode,s._errorString);var Z=s.__maxUploadImageSize;if(V.size>Z&&Z!=-1)return ms(s),F(s._errorCode,s._errorString);if(s._errorCode!=0)return F(s._errorCode,s._errorString);if(U.DWT.IfAddMD5InUploadHeader&&G&&G!=""&&(l["dwt-md5"]=G),re>0&&V.size>re){s._OnPercentDone([0,-1,Cr.Uploading,"http",X]);var ie=new xs,se=new la;return s.__remoteFilename&&s.__remoteFilename!=""&&(se.remoteFilename=s.__remoteFilename),se.url=J,se.method=u,se.content=V,V=null,se.contentType=s._strHttpContentTypeFieldValue,se.headers=l,se.fileName=X,se.httpFormData=h,se.retry=I,se.bOnlyResponseEmptyIsOK=x,se.blockSize=s._moduleSize,ie.httpPostUploadFragment(B,se,H,F)}var ne=new xs,ae=new la;s.__remoteFilename&&s.__remoteFilename!=""&&(ae.remoteFilename=s.__remoteFilename),ae.url=J,ae.method=u,ae.content=V,V=null,ae.contentType=s._strHttpContentTypeFieldValue,ae.headers=l,ae.fileName=X,ae.httpFormData=h,ae.retry=I,ae.bOnlyResponseEmptyIsOK=x,ae.blockSize=s._moduleSize,B.objUploadStatus=D,ne.httpPostUpload(B,ae,H,F)},F)}else q==U.DWT.EnumDWT_UploadDataFormat.Base64&&s._convertToBase64ByServerIdsWithUI(u,m,te,b,4,function(V){var G;if(!V||V.getLength()<=0)return sn(s),F(s._errorCode,s._errorString);if(H=function(){return j.needShowTwiceShowDialog=!1,s.IfShowProgressBar&&j.closeProgress(null,u),p.isFunction(W)&&yn(W,V),!0},re>0&&V.getLength()>re){G=V.getMD5(),U.DWT.IfAddMD5InUploadHeader&&(l["dwt-md5"]=G),s._OnPercentDone([0,-1,Cr.Uploading,"http"]);var z=new la;s.__remoteFilename&&s.__remoteFilename!=""&&(z.remoteFilename=s.__remoteFilename),z.url=J,z.method=u,z.content=V.getData(0,V.getLength()),z.headers=l,z.fileName=X,z.httpFormData=h,z.retry=I,z.bOnlyResponseEmptyIsOK=x,z.blockSize=s._moduleSize,z.offset=0,new xs().httpPostUploadFragment(B,z,H,F)}else{var Z;if(G=V.getMD5(),U.DWT.IfAddMD5InUploadHeader&&(l["dwt-md5"]=G),!(Z=V.getData(0,V.getLength()))||Z=="")return sn(s),F(s._errorCode,s._errorString);var ie=new la;s.__remoteFilename&&s.__remoteFilename!=""&&(ie.remoteFilename=s.__remoteFilename),ie.url=J,ie.method=u,ie.content=Z,ie.headers=l,ie.fileName=X,ie.httpFormData=h,ie.retry=I,ie.bOnlyResponseEmptyIsOK=x,ie.blockSize=s._moduleSize,new xs().httpPostUpload(B,ie,H,F)}},F)}}]);var a}($ce);function Ef(r,n,a,s,u,d,l,h){var m,_,S=this,y="HTTPUploadThroughPostEx",b=S._GetHttpHeadersAndClear(),I=At.combineUrl(S,r,a),x=[],D=function(J){p.isFunction(l)&&l(J)},W=!1,$=!1;if(p.isFunction(d)&&($=!0),S.__HTTPPostResponseString="",p.isNumber(n)){if(n<-2)return qe(S),D(n),!!$&&void 0}else if(!p.isArray(n))return qe(S),D(n),!!$&&void 0;if(!p.isString(s)||s=="")return sn(S),D(),!!$&&void 0;if(p.isUndefined(u))return Li(S),D(n),!!$&&void 0;if(u==U.DWT.EnumDWT_ImageType.IT_BMP||u==U.DWT.EnumDWT_ImageType.IT_JPG||u==U.DWT.EnumDWT_ImageType.IT_PNG||u==U.DWT.EnumDWT_ImageType.IT_J2K){if(n==-1&&S._ImgManager.count()>1||p.isArray(n)&&n.length>1)return Dd(S),D(n),!!$&&void 0;p.isArray(n)?x.push(n[0]):n==-1?x.push(0):x.push(n)}else{if(u!=U.DWT.EnumDWT_ImageType.IT_TIF&&u!=U.DWT.EnumDWT_ImageType.IT_PDF)return Li(S),D(n),!!$&&void 0;if(n==-1){if(S._ImgManager.count()==0)return Mn(S),D(),!!$&&void 0;for(_=0;_<S._ImgManager.count();_++)x.push(_)}else if(n==-2)x=S._ImgManager.getSelectedClientIndexArray();else if(p.isArray(n))for(_=0;_<n.length;_++)x.push(n[_]);else x.push(n)}if(r==="")return PC(S),D(x),!!$&&void 0;if(p.isUndefined(I)||I==="")return li(S),D(x),!!$&&void 0;if(!p.isString(I))return pp(S),D(x),!!$&&void 0;if(I.indexOf("http://")!=0&&I.indexOf("https://")!=0&&(I=j.detect.ssl?"https://"+I:"http://"+I),!S._checkIndices(x)&&x!=-1)return D(x),!!$&&void 0;var te=[];if(p.isArray(x)&&p.each(x,function(J){var re=S._ImgManager.convertClientIndexToServerId(J);re!=-1&&te.push(re)}),S._resetErr(),!S._isValid())return D(x),!!$&&void 0;if(!$){j.cancelFrom=Mt.HTTPUpload;var q=this.IfShowProgressBar,X=function(J,re,H){return J!=0&&re&&(S._errorCode=J,S._errorString=re),H&&(S.__HTTPPostResponseString=H),j.needShowTwiceShowDialog=!1,q&&j.closeProgress(null,y),D(x),!1};return j.needShowTwiceShowDialog=!0,q?j.showProgress(S,y,!1):j.hideProgress(),S._OnPercentDone([0,-1,Cr.Encoding,"http"]),S._dwtConvertToBlobSync(u,te,W,function(J,re){if(j.needShowTwiceShowDialog=!1,J){var H=S.__maxUploadImageSize;if(J.size>H&&H!=-1)return ms(S),X(S._errorCode,S._errorString),!1;U.DWT.IfAddMD5InUploadHeader&&re&&re!=""&&(b["dwt-md5"]=re),J instanceof File?J.fileName=s:J.name=s,q&&hu(S.__IfShowCancelDialogWhenImageTransfer);var F=S._createHttpUploaderConfig(),B=new la;return S.__remoteFilename&&S.__remoteFilename!=""&&(B.remoteFilename=S.__remoteFilename),B.url=I,B.method=y,B.content=J,B.contentType=S._strHttpContentTypeFieldValue,B.headers=b,B.bAsync=!1,B.httpFormData=vc(S.httpFormFields),B.blockSize=S._moduleSize,new xs().httpPostUpload(F,B,function(G){return q&&j.closeProgress(null,y),G},X)}var V={};return DC(V),X(V._errorCode,V._errorString),!1},X)}m={method:"HTTPUploadThroughPostEx",url:I,serverIds:te,headers:b,formData:vc(S.httpFormFields),enumImageType:u,saveSetup:W,fileName:s,retry:0,bOnlyResponseEmptyIsOK:!0,objUploadFileStatus:!1,dataFormat:U.DWT.EnumDWT_UploadDataFormat.Binary,asyncSuccessFunc:d,asyncFailureFunc:D},this._asyncUploadCmd(m)}function FU(r,n,a,s,u){var d=this,l=!0;if(n)return d._innerFunRaw("SaveSelectedImagesToBytes",Ve(0,0,r,a),n,l,!0,function(_){if(p.isFunction(s)){var S=new Blob([_],{type:d._strHttpContentTypeFieldValue});s(S),S=null}},u),!0;var h=d._innerFunRaw("SaveSelectedImagesToBytes",Ve(0,0,r,a),n,l,!1);if(d._errorCode==0){var m=s(h);return h=null,m}return h=null,u(),!1}function Jce(){return this._resetErr(),!!this._isValid()&&(this._innerSend("SetCancel",null,!0),!0)}function OU(r,n,a,s,u){var d=this;if(!p.isFunction(s))return this._innerFun(r,n);d.IfShowProgressBar?(j.showProgress(d,r,a),a&&j.progressContext&&j.progressContext.on("cancel",function(){Bo(go,d,Jce).call(d)})):j.hideProgress(),this._innerSend(r,n,!0,function(){j.closeProgress(null,r),p.isFunction(s)&&s()},function(l){p.isFunction(u)&&u(d._errorCode,d._getErrorString()),j.closeProgress(null,r),l&&p.error(l)})}function NU(r,n,a,s,u){var d,l=this,h=!1;if(p.isFunction(s)&&(h=!0),!_t.checkProductKey(l,{Core:!0})||!_t.checkPDFProductKeyWhenNeeds(l,a))return p.isFunction(u)&&ft(u,l),!!h&&void 0;if(j.cancelFrom=Mt.FTPDownload,!h){var m=l._getCurrentDocumentName(),_=l._getCurrentDefaultTagName();(d=l.__innerLoadImageFun(r,n,1,m,_))&&l._canConsume()&&U.DWT.lcvrf(l);var S=l._ImgManager.getCurrentImageIndex();return S>=0&&l._innerRefreshUI(S),d}Bo(go,l,OU).call(l,r,n,!0,function(){var y=l._ImgManager.getCurrentImageIndex();y>=0&&l._innerRefreshUI(y),l._canConsume()&&U.DWT.lcvrf(l),p.isFunction(s)&&s()},u)}function MU(r,n,a,s){if(r._ImgManager.count()==0)return Mn(r),p.isFunction(s)&&s(n),!1;if(p.isNumber(n)){if(isNaN(n)||n<-2||n>=r._ImgManager.count())return qe(r),p.isFunction(s)&&s(n),!1}else{if(!p.isArray(n))return qe(r),p.isFunction(s)&&s(n),!1;var u;for(u=0;u<n.length;u++){var d=n[u];if(isNaN(d)||!p.isNumber(d)||d<0||d>=r._ImgManager.count())return dF(r),p.isFunction(s)&&s(n),!1}}if(a==U.DWT.EnumDWT_ImageType.IT_BMP||a==U.DWT.EnumDWT_ImageType.IT_JPG||a==U.DWT.EnumDWT_ImageType.IT_PNG||a==U.DWT.EnumDWT_ImageType.IT_J2K)(n==-1&&r._ImgManager.count()>1||p.isArray(n)&&n.length>1)&&(Dd(r),p.isFunction(s)&&s(n));else if(a!=U.DWT.EnumDWT_ImageType.IT_TIF&&a!=U.DWT.EnumDWT_ImageType.IT_PDF)return Li(r),p.isFunction(s)&&s(n),!1;return!0}function vc(r){var n;return r&&(n=new FormData,p.each(r,function(a,s){if(a instanceof Blob){var u=a.name;n.append(s,a,u)}else n.append(s,a)})),n}var Ps=function(r){function n(){return f(this,n),c(this,n,arguments)}return P(n,r),v(n,[{key:"Viewer",get:function(){return this._viewer}},{key:"BindViewer",value:function(l){var h=this,m=l;return U.DWT.UseDefaultViewer?(p.isString(l)&&(m=p.get(l),p.show(m)),h._config.container!=m&&(h._config.container=m,AU(h)),h._UIView.BindView(l)):(Fe(h,-2439,"You cannot call the method bindViewer() when Dynamsoft.DWT.UseDefaultViewer is set to false."),!1)}},{key:"UnbindViewer",value:function(){return this._innerUnbindViewer(!1)}},{key:"AddText",value:function(l,h,m,_,S,y,b,I){var x=this,D=parseInt(l);if(!Ln(x,D))return!1;var W=ea.RGB2BGR(S),$=ea.RGB2BGR(y),te=x._ImgManager.convertClientIndexToServerId(D);return te==-1?(qe(x),!1):x._innerFun("AddText",Ve(te,h,m,_,W,$,b,I))}},{key:"CreateTextFont",value:function(l,h,m,_,S,y,b,I,x,D,W,$,te,q){return this._resetErr(),!!this._isValid()&&this._innerFun("CreateTextFont",Ve(l,h,m,_,S,y,b,I,x,D,W,$,te,q))}},{key:"CopyToClipboard",value:function(l){var h=parseInt(l);return!!Ln(this,h)&&Tg(this,"CopyToClipboard",h,null,null,!1,!1)}},{key:"CopyToClipboardAsync",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return Ce.Promise.reject({code:h._errorCode,message:h._errorString});var m=parseInt(l);return isNaN(m)?(Ot(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString})):m<0||m>=h._ImgManager.count()?(qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString})):function(_,S,y){var b=_._ImgManager.convertClientIndexToServerId(y);return b==-1?(qe(_),Ce.Promise.reject({code:_._errorCode,message:_._errorString})):_._innerFunV2(S,Ve(b))}(h,"CopyToClipboard",m)}},{key:"getView",value:function(){return this._UIView}},{key:"Erase",value:function(l,h,m,_,S,y,b){var I=this;if(!p.isFunction(y)){var x,D=parseInt(l);if(!Ln(I,D,b))return!1;var W=I._ImgManager.convertClientIndexToServerId(D);return W==-1?(qe(I),p.isFunction(b)&&b(I._errorCode,I._getErrorString()),!1):(I.getView().ClearSelectedAreas(),(x=I._innerFun("Erase",Ve(W,h,m,_,S))==1)?p.isFunction(y)&&y():p.isFunction(b)&&b(I._errorCode,I._getErrorString()),x)}I.EraseAsync(l,h,m,_,S).then(y,function($){I._wrappeAsyncFailed(I,$,b)})}},{key:"EraseAsync",value:function(l,h,m,_,S){var y=this;if(y._resetErr(),!y._isValid())return Ce.Promise.reject({code:y._errorCode,message:y._errorString});var b=parseInt(l);if(isNaN(b))return Ot(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString});if(b<0||b>=y._ImgManager.count())return qe(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString});var I=y._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString})):(y.getView().ClearSelectedAreas(),y._innerFunV2("Erase",Ve(I,h,m,_,S),!0).then(function(x){if(x!=1)throw{code:y._errorCode,message:y._errorString}}))}},{key:"GetImageBitDepth",value:function(l){var h=this,m=parseInt(l);if(!Ln(h,m))return!1;var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),!1):h._innerFun("GetImageBitDepth",Ve(_))}},{key:"GetImageWidth",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return!1;var m=parseInt(l);if(isNaN(m))return Ot(h),-1;if(m<0||m>=h._ImgManager.count())return qe(h),-1;var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),-1):h._innerFun("GetImageWidth",Ve(_))}},{key:"GetImageHeight",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return!1;var m=parseInt(l);if(isNaN(m))return Ot(h),-1;if(m<0||m>=h._ImgManager.count())return qe(h),-1;var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),-1):h._innerFun("GetImageHeight",Ve(_))}},{key:"GetImageSize",value:function(l,h,m){var _=this;if(_._resetErr(),!_._isValid())return!1;var S=parseInt(l);if(isNaN(S))return Ot(_),-1;if(S<0||S>=_._ImgManager.count())return qe(_),-1;var y=_._ImgManager.convertClientIndexToServerId(S);return y==-1?(qe(_),-1):_._innerFun("GetImageSize",Ve(y,h,m))}},{key:"GetImageSizeWithSpecifiedType",value:function(l,h){var m=this;if(m._resetErr(),!m._isValid())return!1;var _=parseInt(l);if(isNaN(_))return Ot(m),-1;if(_<0||_>=m._ImgManager.count())return qe(m),-1;var S=m._ImgManager.convertClientIndexToServerId(_);return S==-1?(qe(m),-1):m._innerFun("GetImageSizeWithSpecifiedType",Ve(S,h))}},{key:"GetImageXResolution",value:function(l){var h=this,m=parseInt(l);if(!Ln(h,m))return!1;var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),!1):h._innerFun("GetImageXResolution",Ve(_))}},{key:"GetImageYResolution",value:function(l){var h=this,m=parseInt(l);if(!Ln(h,m))return!1;var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),!1):h._innerFun("GetImageYResolution",Ve(_))}},{key:"SelectAllImages",value:function(){var l,h=this,m=h._getHowManyImagesInBuffer(),_=[];if(h._resetErr(),!h._isValid())return!1;for(l=0;l<m;l++)_.push(l);return h._ImgManager.setSelectedClientIndexArray(_),_}},{key:"SelectImages",value:function(l){var h=this;return h._resetErr(),!!h._isValid()&&h._ImgManager.setSelectedClientIndexArray(l)}},{key:"GetSkewAngle",value:function(l,h,m){var _,S=this;if(!p.isFunction(h)){var y=parseInt(l);return!!Ln(S,y,m)&&(_=Tg(S,"GetSkewAngle",y,h,m,!0,!1),S._errorCode==0?(At.refreshImageAfterInvokeFun(S,y),_):0)}S.GetSkewAngleAsync(l).then(h,function(b){S._wrappeAsyncFailed(S,b,m)})}},{key:"GetSkewAngleAsync",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return Ce.Promise.reject({code:h._errorCode,message:h._errorString});var m=parseInt(l);if(isNaN(m))return Ot(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});if(m<0||m>=h._ImgManager.count())return qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString})):h._innerFunV2("GetSkewAngle",Ve(_),!0).then(function(S){var y=S;return p.isArray(S)&&(y=S.length>0?S[0]:0),At.refreshImageAfterInvokeFun(h,m),y})}},{key:"GetSkewAngleEx",value:function(l,h,m,_,S){var y=this,b=parseInt(l);if(!Ln(y,b))return!1;var I=y._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(y),!1):y._innerFun("GetSkewAngleEx",Ve(I,h,m,_,S))}},{key:"GetSkewAngleFromBinaryAsync",value:function(l,h,m,_){var S=this;if(S._resetErr(),!S._isValid())return Ce.Promise.reject({code:S._errorCode,message:S._errorString});var y=this._imageBufferWrapper.getCustomDataByIndex(l),b=this._imageBufferWrapper.getMetadataByIndex(l),I=this._ImgManager.convertClientIndexToServerId(l),x={imageId:I,serverId:I,bufferLen:h.size,imageType:Qt.IT_BMP,width:b.width,height:b.height,bit:b.bitDepth,xres:b.resolutionX,yres:b.resolutionY,uidFromServer:y.uidFromServer},D=p.stringify([p.stringify(x)]);return this._innerSendBlob("GetSkewAngleFromBinary",D,h,!0,!0,m,_)}},{key:"IsBlankImageEx",value:function(l,h,m,_,S,y){var b,I=this;if(!Ln(I,b=parseInt(l)))return!1;var x=I._ImgManager.convertClientIndexToServerId(b);return x==-1?(qe(I),!1):I._innerFun("IsBlankImageEx",Ve(x,h,m,_,S,y))}},{key:"MirrorAsync",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return Ce.Promise.reject({code:h._errorCode,message:h._errorString});var m=parseInt(l);if(isNaN(m))return Ot(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});if(m<0||m>=h._ImgManager.count())return qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString})):h._innerFunV2("Mirror",Ve(_),!0).then(function(S){if(S!=1)throw{code:h._errorCode,message:h._errorString};At.refreshImageAfterInvokeFun(h,m),h.getView().ClearSelectedAreas()})}},{key:"Mirror",value:function(l,h,m){var _=this;if(!p.isFunction(h)){var S=parseInt(l);return!!Ln(_,S,m)&&Tg(_,"Mirror",S,h,m,!1,!0)}_.MirrorAsync(l).then(h,function(y){_._wrappeAsyncFailed(_,y,m)})}},{key:"RemoveAllImages",value:function(){return this._removeAllImages("RemoveAllImages")}},{key:"RemoveAllImagesAsync",value:function(){return this._removeAllImagesAsync("RemoveAllImagesAsync",!0)}},{key:"RemoveImageAsync",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return Ce.Promise.reject({code:h._errorCode,message:h._errorString});var m=parseInt(l);if(isNaN(m))return Ot(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});if(m<0||m>=h._ImgManager.count())return qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString})):h._innerFunV2("RemoveImage",Ve(_),!0).then(function(S){return!(!S&&h._errorCode!=-1033)&&(h._OnBitmapChanged(["c1",""+_,3,h._ImgManager.getCurrentImageIndex(),h._ImgManager.count()]),!0)})}},{key:"Rotate",value:function(l,h,m,_,S){return this.RotateEx(l,h,m,-1,_,S)}},{key:"_wrappeAsyncFailed",value:function(l,h,m){h&&(l._errorCode=h.code,l._errorString=h.message),p.isFunction(m)&&m(l._errorCode,l._getErrorString())}},{key:"RotateEx",value:function(l,h,m,_,S,y){var b=this;if(!p.isFunction(S)){if(b._resetErr(),!b._isValid())return!1;var I,x=parseInt(l);if(isNaN(x))return Ot(b),p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!1;if(x<0||x>=b._ImgManager.count())return qe(b),p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!1;var D=b._ImgManager.convertClientIndexToServerId(x);return D==-1?(qe(b),p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!1):((I=b._innerFun("RotateEx",Ve(D,h,m,_))==1)?(At.refreshImageAfterInvokeFun(b,x),b.getView().ClearSelectedAreas(),p.isFunction(S)&&S()):p.isFunction(y)&&y(b._errorCode,b._getErrorString()),I)}b.RotateExAsync(l,h,m,_).then(S,function(W){b._wrappeAsyncFailed(b,W,y)})}},{key:"RotateLeft",value:function(l,h,m){return this.RotateEx(l,-90,!0,-1,h,m)}},{key:"RotateRight",value:function(l,h,m){return this.RotateEx(l,90,!0,-1,h,m)}},{key:"RotateAsync",value:function(l,h,m){return this.RotateExAsync(l,h,m,-1)}},{key:"RotateExAsync",value:function(l,h,m,_){var S=this;if(S._resetErr(),!S._isValid())return Ce.Promise.reject({code:S._errorCode,message:S._errorString});var y=parseInt(l);if(isNaN(y))return Ot(S),Ce.Promise.reject({code:S._errorCode,message:S._errorString});if(y<0||y>=S._ImgManager.count())return qe(S),Ce.Promise.reject({code:S._errorCode,message:S._errorString});var b=S._ImgManager.convertClientIndexToServerId(y);return b==-1?(qe(S),Ce.Promise.reject({code:S._errorCode,message:S._errorString})):S._innerFunV2("RotateEx",Ve(b,h,m,_),!0).then(function(I){if(I!=1&&I!=1)throw{code:S._errorCode,message:S._errorString};At.refreshImageAfterInvokeFun(S,y),S.getView().ClearSelectedAreas()})}},{key:"RotateLeftAsync",value:function(l){return this.RotateExAsync(l,-90,!0,-1)}},{key:"RotateRightAsync",value:function(l){return this.RotateExAsync(l,90,!0,-1)}},{key:"ChangeImageSize",value:function(l,h,m,_,S,y){var b=this;if(!p.isFunction(S)){var I,x=parseInt(l),D=1*h,W=1*m;if(!Ln(b,x,y))return!1;if(D<=0||W<=0)return cF(b),p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!1;var $=b._ImgManager.convertClientIndexToServerId(x);return $==-1?(qe(b),p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!1):((I=b._innerFun("ChangeImageSize",Ve($,D,W,_))==1)?(At.refreshImageAfterInvokeFun(b,x),p.isFunction(S)&&S()):p.isFunction(y)&&y(b._errorCode,b._getErrorString()),I)}b.ChangeImageSizeAsync(l,h,m,_).then(S,function(te){b._wrappeAsyncFailed(b,te,y)})}},{key:"ChangeImageSizeAsync",value:function(l,h,m,_){var S=this,y=parseInt(l),b=1*h,I=1*m;if(S._resetErr(),!S._isValid())return Ce.Promise.reject({code:S._errorCode,message:S._errorString});if(isNaN(y))return Ot(S),Ce.Promise.reject({code:S._errorCode,message:S._errorString});if(y<0||y>=S._ImgManager.count())return qe(S),Ce.Promise.reject({code:S._errorCode,message:S._errorString});if(b<=0||I<=0)return cF(S),Ce.Promise.reject({code:S._errorCode,message:S._errorString});var x=S._ImgManager.convertClientIndexToServerId(y);return x==-1?(qe(S),Ce.Promise.reject({code:S._errorCode,message:S._errorString})):S._innerFunV2("ChangeImageSize",Ve(x,b,I,_),!0).then(function(D){if(D!=1)throw{code:S._errorCode,message:S._errorString};At.refreshImageAfterInvokeFun(S,y)})}},{key:"Flip",value:function(l,h,m){var _=this;if(!p.isFunction(h)){var S=parseInt(l);return!!Ln(_,S,m)&&Tg(_,"Flip",S,h,m,!1,!0)}_.FlipAsync(l).then(h,function(y){_._wrappeAsyncFailed(_,y,m)})}},{key:"FlipAsync",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return Ce.Promise.reject({code:h._errorCode,message:h._errorString});var m=parseInt(l);if(isNaN(m))return Ot(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});if(m<0||m>=h._ImgManager.count())return qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString})):h._innerFunV2("Flip",Ve(_),!0).then(function(S){if(S!=1)throw{code:h._errorCode,message:h._errorString};At.refreshImageAfterInvokeFun(h,m),h.getView().ClearSelectedAreas()})}},{key:"OutputSelectedAreaAsync",value:(d=o(w().mark(function l(h,m,_,S){var y,b,I,x,D,W,$,te,q,X,J,re,H,F;return w().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(I="OutputSelectedArea",(b=this)._resetErr(),b._isValid()){B.next=4;break}throw{code:b._errorCode,message:b._errorString};case 4:if(x=0,D=0,W=0,$=0,!isNaN(h)){B.next=8;break}throw Ot(b),{code:b._errorCode,message:b._errorString};case 8:if(_==Qt.IT_BMP||_==Qt.IT_JPG||_==Qt.IT_TIF||_==Qt.IT_PNG||_==Qt.IT_PDF){B.next=11;break}throw Kt(b),{code:b._errorCode,message:b._errorString};case 11:if(S==mc.Blob||S==mc.Base64){B.next=14;break}throw Kt(b),{code:b._errorCode,message:b._errorString};case 14:if(!(h<0||h>=b._ImgManager.count())){B.next=17;break}throw qe(b),{code:b._errorCode,message:b._errorString};case 17:if((te=b._ImgManager.convertClientIndexToServerId(h))!=-1){B.next=21;break}throw qe(b),{code:b._errorCode,message:b._errorString};case 21:return q=S==mc.Base64,X=q?"text":"arraybuffer",m&&(j.isNumber(m.x)&&(x=m.x),j.isNumber(m.y)&&(D=m.y),j.isNumber(m.width)&&(W=m.width),j.isNumber(m.height)&&($=m.height)),re=p.stringify([{index:te,left:x,top:D,width:W,height:$}]),H="["+re+","+_+","+S+"]",F=(y=j.progressContext)===null||y===void 0?void 0:y.IfShowCancelDialogWhenImageTransfer,B.prev=27,b.IfShowProgressBar?j.showProgress(b,I,!1):j.hideProgress(),q?b._OnPercentDone([0,-1,Cr.ConvertingToBase64]):b._OnPercentDone([0,-1,Cr.ConvertingToBlob]),j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!1),B.next=33,b._sendDataByHttpAsync(I,H,X,!0);case 33:J=B.sent;case 34:return B.prev=34,j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=F),b.IfShowProgressBar&&j.closeProgress(null,I),B.finish(34);case 38:if(!q){B.next=51;break}if(!J){B.next=48;break}if(!co(J)){B.next=44;break}return b._errorCode=J.exception,b._errorString=J.description,B.abrupt("return","");case 44:if(!(p.isArray(J.result)&&J.result.length>0&&p.isString(J.result[0]))){B.next=46;break}return B.abrupt("return",J.result[0]);case 46:B.next=49;break;case 48:return B.abrupt("return","");case 49:B.next=52;break;case 51:return B.abrupt("return",new Blob([J],{type:mT(_)}));case 52:case"end":return B.stop()}},l,this,[[27,,34,38]])})),function(l,h,m,_){return d.apply(this,arguments)})},{key:"Crop",value:function(l,h,m,_,S,y,b){var I=this;if(!p.isFunction(y)){var x,D=parseInt(l);if(!Ln(I,D,b))return!1;var W,$,te=I._ImgManager.convertClientIndexToServerId(D);return te==-1?(qe(I),p.isFunction(b)&&b(I._errorCode,I._getErrorString()),!1):(x=I._innerFun("Crop",Ve(te,h,m,_,S))==1,W=I._errorCode,$=I._getErrorString(),I.getView().ClearSelectedAreas(),I._errorCode=W,I._errorString=$,x?(At.refreshImageAfterInvokeFun(I,D),p.isFunction(y)&&y()):p.isFunction(b)&&b(W,$),x)}I.CropAsync(l,h,m,_,S).then(y,function(q){I._wrappeAsyncFailed(I,q,b)})}},{key:"CropAsync",value:function(l,h,m,_,S){var y=this;if(y._resetErr(),!y._isValid())return Ce.Promise.reject({code:y._errorCode,message:y._errorString});var b=parseInt(l);if(isNaN(b))return Ot(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString});if(b<0||b>=y._ImgManager.count())return qe(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString});var I=y._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString})):y._innerFunV2("Crop",Ve(I,h,m,_,S),!0).then(function(x){var D,W;if(D=y._errorCode,W=y._getErrorString(),y.getView().ClearSelectedAreas(),y._errorCode=D,y._errorString=W,x!=1)throw{code:y._errorCode,message:y._errorString};return At.refreshImageAfterInvokeFun(y,b),!0})}},{key:"CropToClipboard",value:function(l,h,m,_,S){var y,b=this,I=parseInt(l);if(!Ln(b,I))return!1;var x=b._ImgManager.convertClientIndexToServerId(I);return x==-1?(qe(b),!1):(b.getView().ClearSelectedAreas(),(y=b._innerFun("CropToClipboard",Ve(x,h,m,_,S))==1)&&At.refreshImageAfterInvokeFun(b,I),y)}},{key:"CutFrameToClipboard",value:function(l,h,m,_,S){var y,b=this,I=parseInt(l);if(!Ln(b,I))return!1;var x=b._ImgManager.convertClientIndexToServerId(I);return x==-1?(qe(b),!1):(b.getView().ClearSelectedAreas(),(y=b._innerFun("CutFrameToClipboard",Ve(x,h,m,_,S))==1)&&At.refreshImageAfterInvokeFun(b,I),y)}},{key:"CutToClipboard",value:function(l){var h,m=this,_=parseInt(l);if(!Ln(m,_))return!1;var S=m._ImgManager.convertClientIndexToServerId(_);return S==-1?(qe(m),!1):((h=m._innerFun("CutToClipboard",Ve(S))==1)&&m._OnBitmapChanged(["c1",""+S,3,m._ImgManager.getCurrentImageIndex(),m._ImgManager.count()]),h)}},{key:"CutFrameToClipboardAsync",value:function(l,h,m,_,S){var y=this;if(y._resetErr(),!y._isValid())return Ce.Promise.reject({code:y._errorCode,message:y._errorString});var b=parseInt(l);if(isNaN(b))return Ot(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString});if(b<0||b>=y._ImgManager.count())return qe(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString});var I=y._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString})):y._innerFunV2("CutFrameToClipboard",Ve(I,h,m,_,S)).then(function(x){var D=x==1;if(!D)throw{code:y._errorCode,message:y._errorString};return At.refreshImageAfterInvokeFun(y,b),D})}},{key:"CropToClipboardAsync",value:function(l,h,m,_,S){var y=this;if(y._resetErr(),!y._isValid())return Ce.Promise.reject({code:y._errorCode,message:y._errorString});var b=parseInt(l);if(isNaN(b))return Ot(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString});if(b<0||b>=y._ImgManager.count())return qe(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString});var I=y._ImgManager.convertClientIndexToServerId(b);return I==-1?(qe(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString})):y._innerFunV2("CropToClipboard",Ve(I,h,m,_,S)).then(function(x){var D=x==1;if(!D)throw{code:y._errorCode,message:y._errorString};return At.refreshImageAfterInvokeFun(y,b),D})}},{key:"CutToClipboardAsync",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return Ce.Promise.reject({code:h._errorCode,message:h._errorString});var m=parseInt(l);if(isNaN(m))return Ot(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});if(m<0||m>=h._ImgManager.count())return qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString})):h._innerFunV2("CutToClipboard",Ve(_)).then(function(S){var y=S==1;if(!y)throw{code:h._errorCode,message:h._errorString};return h._OnBitmapChanged(["c1",""+_,3,h._ImgManager.getCurrentImageIndex(),h._ImgManager.count()]),y})}},{key:"SetDPI",value:function(l,h,m,_,S,y,b){var I,x=this,D=!1;p.isFunction(y)&&(D=!0);var W=parseInt(l);if(!Ln(x,W,b))return!!D&&void 0;var $=x._ImgManager.convertClientIndexToServerId(W);return $==-1?(qe(x),p.isFunction(b)&&b(x._errorCode,x._getErrorString()),!!D&&void 0):((I=x._innerFun("SetDPI",Ve($,h,m,_,S))==1)?p.isFunction(y)&&y():p.isFunction(b)&&b(x._errorCode,x._getErrorString()),D?void 0:I)}},{key:"MoveImage",value:function(l,h){var m=this;if(m._resetErr(),!m._isValid())return!1;var _=parseInt(l),S=parseInt(h);return isNaN(_)||isNaN(S)?(Ot(m),!1):_<0||_>=m._ImgManager.count()||S<0||S>=m._ImgManager.count()?(qe(m),!1):m._ImgManager.moveImage(_,S)}},{key:"SwitchImage",value:function(l,h){var m=this;if(m._resetErr(),!m._isValid())return!1;var _=parseInt(l),S=parseInt(h);return isNaN(_)||isNaN(S)?(Ot(m),!1):_<0||_>=m._ImgManager.count()||S<0||S>=m._ImgManager.count()?(qe(m),!1):m._ImgManager.switchImage(_,S)}},{key:"CloseWorkingProcess",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("CloseWorkerProcess")}},{key:"RemoveAllSelectedImages",value:function(){var l=this;if(l._resetErr(),!l._isValid())return!1;var h=!0,m=l._ImgManager.getCurrentImageIndex(),_=l._ImgManager.getSelectedClientIndexArray(),S=[];if(p.isArray(_)&&p.each(_,function(b){var I=l._ImgManager.convertClientIndexToServerId(b);I!=-1&&S.push(I)}),S.length==0&&m>=0){var y=l._ImgManager.convertClientIndexToServerId(m);S.push(y)}return S.length>0&&(h=l._innerFun("RemoveAllSelectedImages",Ve(S.join(",")))),h&&p.each(S,function(b){l._OnBitmapChanged(["c1",""+b,3,l._ImgManager.getCurrentImageIndex(),l._ImgManager.count()])}),h}},{key:"RemoveAllSelectedImagesAsync",value:function(){var l=this;if(l._resetErr(),!l._isValid())return Ce.Promise.reject({code:l._errorCode,message:l._errorString});var h=l._ImgManager.getCurrentImageIndex(),m=l._ImgManager.getSelectedClientIndexArray(),_=[];if(p.isArray(m)&&p.each(m,function(y){var b=l._ImgManager.convertClientIndexToServerId(y);b!=-1&&_.push(b)}),_.length==0&&h>=0){var S=l._ImgManager.convertClientIndexToServerId(h);_.push(S)}return _.length>0?l._innerFunV2("RemoveAllSelectedImages",Ve(_.join(","),!0)).then(function(y){y&&p.each(_,function(b){l._OnBitmapChanged(["c1",""+b,3,l._ImgManager.getCurrentImageIndex(),l._ImgManager.count()])})}):Ce.Promise.resolve()}},{key:"TagImages",value:function(l,h){var m=this;if(m._resetErr(),!m._isValid())return!1;var _=!0,S=m._ImgManager.count();return p.isArray(l)?p.isString(h)&&h!=""?(p.each(l,function(y){if(isNaN(y)||y<0||y>=S)return qe(m),_=!1}),_&&m._ImgManager.addImageTag(l,h)):(Fe(m,-2394,"Invalid tag name."),!1):(Rd(m),!1)}},{key:"ClearImageTags",value:function(l){var h=this;return h._resetErr(),!!h._isValid()&&(l==-1||l>=h._getHowManyImagesInBuffer()?(qe(h),!1):h._ImgManager.removeImageTag(l))}},{key:"SetDefaultTag",value:function(l){var h=this;return h._resetErr(),!!h._isValid()&&h._ImgManager.setDefaultTag(l)}},{key:"FilterImagesByTag",value:function(l,h,m){var _,S=this,y=!1;if(p.isFunction(h)&&(y=!0),S._resetErr(),!S._isValid())return!!y&&void 0;p.isFunction(m)&&(_=function(){m({code:S._errorCode,message:S._errorString})});var b=S._ImgManager.showImagesByFilter(l,h,_);return y?void 0:b}},{key:"ClearFilter",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._ImgManager.clearFilter()}},{key:"CreateDocument",value:function(l){var h=this;return h._resetErr(),!!h._isValid()&&(l&&l!=""?p.isString(l)?h._ImgManager.CreateFile(l):(gp(h),!1):(p.isNumber(l)?gp(h):OC(h),!1))}},{key:"OpenDocument",value:function(l){var h=this;return h._resetErr(),!!h._isValid()&&(l&&l!=""?p.isString(l)?h._ImgManager.OpenFile(l):(gp(h),!1):(p.isNumber(l)?gp(h):OC(h),!1))}},{key:"RemoveDocument",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return!1;var m=h._ImgManager.GetServerIdsByFileName(l);return m.length>0&&h._innerFun("RemoveAllSelectedImages",Ve(m.join(","))),h._ImgManager.RemoveFile(l)}},{key:"RenameDocument",value:function(l,h){var m=this;return m._resetErr(),!!m._isValid()&&(p.isString(l)&&p.isString(h)?l&&l!=""&&h&&h!=""?m._ImgManager.RenameFile(l,h):(OC(m),!1):(gp(m),!1))}},{key:"GetDocumentInfoList",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._ImgManager.GetFileInfoList()}},{key:"MoveToDocumentAsync",value:(u=o(w().mark(function l(h,m,_,S){var y,b,I,x,D,W,$,te,q,X;return w().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if((y=this)._resetErr(),y._isValid()){J.next=4;break}throw{code:y._errorCode,message:y._errorString};case 4:if(!p.isUndefined(h)&&h.length!=0){J.next=7;break}throw l_(y),{code:y._errorCode,message:y._errorString};case 7:if(!p.isUndefined(m)&&m.length!=0){J.next=10;break}throw d_(y),{code:y._errorCode,message:y._errorString};case 10:b=y._ImgManager.GetFileInfoList(),D=0;case 12:if(!(D<b.length)){J.next=20;break}if(b[D].name!=h){J.next=17;break}return I=b[D],J.abrupt("break",20);case 17:D++,J.next=12;break;case 20:W=0;case 21:if(!(W<b.length)){J.next=29;break}if(b[W].name!=m){J.next=26;break}return x=b[W],J.abrupt("break",29);case 26:W++,J.next=21;break;case 29:if(!p.isUndefined(I)){J.next=32;break}throw l_(y),{code:y._errorCode,message:y._errorString};case 32:if(!p.isUndefined(x)){J.next=35;break}throw d_(y),{code:y._errorCode,message:y._errorString};case 35:if($=[],!p.isUndefined(_)){J.next=40;break}if(I.imageIds.length>0)for(q=0;q<I.imageIds.length;q++)$.push(q);J.next=60;break;case 40:if(!p.isArray(_)){J.next=53;break}if(y._checkIndices(_,I.imageIds.length)){J.next=43;break}throw{code:y._errorCode,message:y._errorString};case 43:if($=_,p.isUndefined(S)){J.next=51;break}if(!p.isNumber(S)){J.next=49;break}S<0?te=0:x.imageIds.length>S&&(te=S),J.next=51;break;case 49:throw Kt(y),{code:y._errorCode,message:y._errorString};case 51:J.next=60;break;case 53:if(!p.isNumber(_)){J.next=58;break}if(I.imageIds.length>0)for(X=0;X<I.imageIds.length;X++)$.push(X);_<0?te=0:x.imageIds.length>_&&(te=_),J.next=60;break;case 58:throw Kt(y),{code:y._errorCode,message:y._errorString};case 60:return J.abrupt("return",new Ce.Promise(function(re,H){$.length==0||y._ImgManager.MoveImageToFile(h,$,m,te)?re():H({code:y._errorCode,message:y._errorString})}));case 61:case"end":return J.stop()}},l,this)})),function(l,h,m,_){return u.apply(this,arguments)})},{key:"CopyToDocumentAsync",value:(s=o(w().mark(function l(h,m,_,S){var y,b,I,x,D,W,$,te;return w().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if((y=this)._resetErr(),y._isValid()){q.next=4;break}throw{code:y._errorCode,message:y._errorString};case 4:if(!p.isUndefined(h)&&h.length!=0){q.next=7;break}throw l_(y),{code:y._errorCode,message:y._errorString};case 7:if(!p.isUndefined(m)&&m.length!=0){q.next=10;break}throw d_(y),{code:y._errorCode,message:y._errorString};case 10:b=y._ImgManager.GetFileInfoList(),D=0;case 12:if(!(D<b.length)){q.next=20;break}if(b[D].name!=h){q.next=17;break}return I=b[D],q.abrupt("break",20);case 17:D++,q.next=12;break;case 20:W=0;case 21:if(!(W<b.length)){q.next=29;break}if(b[W].name!=m){q.next=26;break}return x=b[W],q.abrupt("break",29);case 26:W++,q.next=21;break;case 29:if(!p.isUndefined(I)){q.next=32;break}throw l_(y),{code:y._errorCode,message:y._errorString};case 32:if(!p.isUndefined(x)){q.next=35;break}throw d_(y),{code:y._errorCode,message:y._errorString};case 35:if($=[],!p.isUndefined(_)){q.next=40;break}I.imageIds.length>0&&p.isArray(I.imageIds)&&p.each(I.imageIds,function(X){var J=y._uidFromServer2ServerId(X);J!=-1&&$.push(J)}),q.next=60;break;case 40:if(!p.isArray(_)){q.next=53;break}if(y._checkIndices(_,I.imageIds.length)){q.next=43;break}throw{code:y._errorCode,message:y._errorString};case 43:if(p.each(_,function(X){var J=y._uidFromServer2ServerId(I.imageIds[X]);J!=-1&&$.push(J)}),p.isUndefined(S)){q.next=51;break}if(!p.isNumber(S)){q.next=49;break}S<0?te=0:x.imageIds.length>S&&(te=S),q.next=51;break;case 49:throw Kt(y),{code:y._errorCode,message:y._errorString};case 51:q.next=60;break;case 53:if(!p.isNumber(_)){q.next=58;break}I.imageIds.length>0&&p.isArray(I.imageIds)&&p.each(I.imageIds,function(X){var J=y._uidFromServer2ServerId(X);J!=-1&&$.push(J)}),_<0?te=0:x.imageIds.length>_&&(te=_),q.next=60;break;case 58:throw Kt(y),{code:y._errorCode,message:y._errorString};case 60:return q.abrupt("return",new Ce.Promise(function(X,J){var re="copyToDocument";if(x.imageIds.length,$.length==0)X();else{y.IfShowProgressBar?eu(!1):j.hideProgress();var H=y.IfShowCancelDialogWhenImageTransfer;j.cancelFrom=Mt.LoadImage,y.IfShowCancelDialogWhenImageTransfer=!1,j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!1),j.cancelFrom=Mt.Other,y._innerConvertToBlobWithUI(re,U.DWT.EnumDWT_ImageType.IT_PDF,$,!1,function(F,B){var V;F.currentFileName=m,F.currentTagName="",F.bNeedClearCurrentTagName=!0,F.index=te,y.IfShowProgressBar?(eu(!1),j.showProgress(y,re,!1),j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!1)):j.hideProgress(),j.cancelFrom=Mt.LoadImage,y.Addon&&y.Addon.PDF&&(V=y.Addon.PDF.GetReaderOptions(),y.Addon.PDF.SetReaderOptions({convertMode:U.DWT.EnumDWT_ConvertMode.CM_IMAGEONLY})),y._innerLoadImageFromBinary(F,0,!0,!0,function(){y.Addon&&y.Addon.PDF&&V&&y.Addon.PDF.SetReaderOptions(V),y.IfShowCancelDialogWhenImageTransfer=H,y.IfShowProgressBar&&j.closeProgress(null,re),X()},function(){y.Addon&&y.Addon.PDF&&V&&y.Addon.PDF.SetReaderOptions(V),y.IfShowCancelDialogWhenImageTransfer=H,y.IfShowProgressBar&&j.closeProgress(null,re),J({code:y._errorCode,message:y._errorString})})},function(){y.IfShowCancelDialogWhenImageTransfer=H,J({code:y._errorCode,message:y._errorString})})}}));case 61:case"end":return q.stop()}},l,this)})),function(l,h,m,_){return s.apply(this,arguments)})},{key:"Invert",value:function(l,h,m){var _=this,S=!1;if(p.isFunction(h)&&(S=!0),!S){var y=parseInt(l);return!!Ln(_,y,m)&&Tg(_,"Invert",y,h,m,!1,!0)}_.InvertAsync(l).then(h,function(b){_._wrappeAsyncFailed(_,b,m)})}},{key:"InvertAsync",value:function(l){return this._invert(l)}},{key:"RenameTag",value:function(l,h){var m=this;return m._resetErr(),!!m._isValid()&&(p.isUndefined(l)?(li(m),!1):l.length==0?(Fe(m,-2517,"Old tag name is required."),!1):p.isUndefined(h)||h.length==0?(function(_){Fe(_,-2518,"New tag name is required.")}(m),!1):m._ImgManager.renameTag(l,h))}},{key:"RemoveTag",value:function(l,h){var m=this;return m._resetErr(),!!m._isValid()&&(p.isUndefined(l)||l.length==0?(li(m),!1):p.isUndefined(h)||p.isArray(h)?m._ImgManager.removeTag(l,h):(Rd(m),!1))}},{key:"GetTagList",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._ImgManager.getTagList()}},{key:"GetTagListByIndex",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return[];var m=parseInt(l);return isNaN(m)?(Ot(h),[]):m<0||m>=h._ImgManager.count()||h._ImgManager.convertClientIndexToServerId(m)==-1?(qe(h),[]):h._ImgManager.getTagListByIndex(m)}},{key:"GetImageBitDepthAsync",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return Ce.Promise.reject({code:h._errorCode,message:h._errorString});var m=parseInt(l);if(isNaN(m))return Ot(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});if(m<0||m>=h._ImgManager.count())return qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString})):h._innerFunV2("GetImageBitDepth",Ve(_))}},{key:"GetImageWidthAsync",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return Ce.Promise.reject({code:h._errorCode,message:h._errorString});var m=parseInt(l);if(isNaN(m))return Ot(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});if(m<0||m>=h._ImgManager.count())return qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString})):h._innerFunV2("GetImageWidth",Ve(_))}},{key:"GetImageHeightAsync",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return Ce.Promise.reject({code:h._errorCode,message:h._errorString});var m=parseInt(l);if(isNaN(m))return Ot(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});if(m<0||m>=h._ImgManager.count())return qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString})):h._innerFunV2("GetImageHeight",Ve(_))}},{key:"GetImageSizeAsync",value:function(l,h,m){var _=this;if(_._resetErr(),!_._isValid())return Ce.Promise.reject({code:_._errorCode,message:_._errorString});var S=parseInt(l);if(isNaN(S))return Ot(_),Ce.Promise.reject({code:_._errorCode,message:_._errorString});if(S<0||S>=_._ImgManager.count())return qe(_),Ce.Promise.reject({code:_._errorCode,message:_._errorString});var y=_._ImgManager.convertClientIndexToServerId(S);return y==-1?(qe(_),Ce.Promise.reject({code:_._errorCode,message:_._errorString})):_._innerFunV2("GetImageSize",Ve(y,h,m))}},{key:"GetImageSizeWithSpecifiedTypeAsync",value:function(l,h){var m=this;if(m._resetErr(),!m._isValid())return Ce.Promise.reject({code:m._errorCode,message:m._errorString});var _=parseInt(l);if(isNaN(_))return Ot(m),Ce.Promise.reject({code:m._errorCode,message:m._errorString});if(_<0||_>=m._ImgManager.count())return qe(m),Ce.Promise.reject({code:m._errorCode,message:m._errorString});var S=m._ImgManager.convertClientIndexToServerId(_);return S==-1?(qe(m),Ce.Promise.reject({code:m._errorCode,message:m._errorString})):m._innerFunV2("GetImageSizeWithSpecifiedType",Ve(S,h))}},{key:"GetImageXResolutionAsync",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return Ce.Promise.reject({code:h._errorCode,message:h._errorString});var m=parseInt(l);if(isNaN(m))return Ot(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});if(m<0||m>=h._ImgManager.count())return qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString})):h._innerFunV2("GetImageXResolution",Ve(_))}},{key:"GetImageYResolutionAsync",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return Ce.Promise.reject({code:h._errorCode,message:h._errorString});var m=parseInt(l);if(isNaN(m))return Ot(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});if(m<0||m>=h._ImgManager.count())return qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString})):h._innerFunV2("GetImageYResolution",Ve(_))}},{key:"ChangeBrightnessAsync",value:function(l,h){var m=this,_=parseInt(l);if(!m._isValid())return Ce.Promise.reject({code:m._errorCode,message:m._errorString});if(h<-1e3||h>1e3)return jn(m),Ce.Promise.reject({code:m._errorCode,message:m._errorString});var S=m._ImgManager.convertClientIndexToServerId(_);return S==-1?(qe(m),Ce.Promise.reject({code:m._errorCode,message:m._errorString})):m._innerFunV2("ChangeBrightness",Ve(S,h))}},{key:"ChangeContrastAsnyc",value:function(l,h){var m=this,_=parseInt(l);if(!m._isValid())return Ce.Promise.reject({code:m._errorCode,message:m._errorString});if(h<-1e3||h>1e3)return jn(m),Ce.Promise.reject({code:m._errorCode,message:m._errorString});var S=m._ImgManager.convertClientIndexToServerId(_);return S==-1?(qe(m),Ce.Promise.reject({code:m._errorCode,message:m._errorString})):m._innerFunV2("ChangeContrast",Ve(S,h))}},{key:"GetImageAsync",value:function(l,h,m,_,S){var y=this;if(y._resetErr(),!y._isValid())return Ce.Promise.reject({code:y._errorCode,message:y._errorString});var b=parseInt(l);if(isNaN(b))return Ot(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString});if(b<0||b>=y._ImgManager.count())return qe(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString});var I,x=y._ImgManager.convertClientIndexToServerId(b);return x==-1?(qe(y),Ce.Promise.reject({code:y._errorCode,message:y._errorString})):(p.isNumber(h)?I=Ve(x,h):p.isNumber(m)&&p.isNumber(_)?I=Ve(x,m,_):p.isNumber(S)&&(I=Ve(x,-1,-1,S)),y._sendDataByHttpAsync("GetImageByIndex",I,"blob"))}},{key:"GetImageInfoAsync",value:function(l){var h=this;if(h._resetErr(),!h._isValid())return Ce.Promise.reject({code:h._errorCode,message:h._errorString});var m=parseInt(l);if(isNaN(m))return Ot(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});if(m<0||m>=h._ImgManager.count())return qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString});var _=h._ImgManager.convertClientIndexToServerId(m);return _==-1?(qe(h),Ce.Promise.reject({code:h._errorCode,message:h._errorString})):h._innerFunV2("GetImageInfo",Ve(_)).then(function(S){var y=0,b=0,I=S;if(p.isArray(S)&&S.length==1&&(I=S[0]),p.isString(I)){var x=I.split(",");y=parseInt(x[0]),b=parseInt(x[1])}return{width:y,height:b}})}},{key:"IfShowUI",get:function(){return this._resetErr(),this._isValid()?this._innerFun("IfShowUI"):Pe},set:function(l){this._setIfShowUI(l)}},{key:"IfShowFileDialog",get:function(){return this._getIfShowFileDialog()},set:function(l){this._setIfShowFileDialog(l)}},{key:"checkErrorString",value:function(){var l=this._errorCode;if(l===-2115)return!0;if(l===-2003&&!U.DWT.IfHttpPostErrorNoWindow){var h=window.open("","ErrorMessage","height=500,width=750,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no");h==null||h.document.writeln(this.__HTTPPostResponseString)}return l===0}},{key:"OverlayRectangle",value:function(l,h,m,_,S,y,b){var I,x=this;return x._resetErr(),!!x._isValid()&&(x._isNoViewer()?x._nouiNotSupport("OverlayRectangle"):h>_||m>S||h==_&&m==S?(Fe(x,-2375,"The left or top or right or bottom you entered is invalid."),!1):(I=p.isNumber(y)?ea.getColor(y):y,x._UIView.OverlayRectangle(l,h,m,_,S,I,b)))}},{key:"SetViewMode",value:function(l,h){var m=this;if(m._resetErr(),!m._isValid())return!1;if(m._isNoViewer())return m._nouiNotSupport("SetViewMode");if(p.isString(l)||p.isString(h)||l<-1&&h<-1)return jn(m),Pe;var _=Math.floor(l),S=Math.floor(h);return m._UIView.SetViewMode(_,S),!0}},{key:"ShowImageEditor",value:function(l,h,m,_){var S=this;return S._resetErr(),!!S._isValid()&&(S._isNoViewer()?S._nouiNotSupport("ShowImageEditor"):Vi.isServerInvalid(S)?Pe:S._UIView.GetWebViewer().webViewer.imageEditor?S.ShowImageEditorEx(-1,-1,-1,-1,3):l&&h&&m?S.ShowImageEditorEx(-1,-1,h,m,0,!0,l,_):S.ShowImageEditorEx(-1,-1,-1,-1,0,!1))}},{key:"ShowImageEditorEx",value:function(l,h,m,_,S,y,b,I){var x=this;return x._resetErr(),!!x._isValid()&&(x._isNoViewer()?x._nouiNotSupport("ShowImageEditorEx"):x._UIView.ShowImageEditorEx(l,h,m,_,S,y,b,I))}},{key:"SetSelectedImageArea",value:function(l,h,m,_,S){var y=this;if(y._resetErr(),!y._isValid())return!1;if(y._isNoViewer())return y._nouiNotSupport("SetSelectedImageArea");var b=parseInt(l);return isNaN(b)||b<0||b>=y._ImgManager.count()?(qe(y),!1):!Vi.isServerInvalid(y)&&y._UIView.SetSelectedImageArea(h,m,_,S)}},{key:"first",value:function(){var l=this,h=l._ImgManager.count();return l._resetErr(),!!l._isValid()&&(l._isNoViewer()?l._nouiNotSupport("first"):(h>0&&(l._UIView.Go(0),Ga.__innerRefreshFromUIView(l,l._ImgManager.getCurrentImageIndex())),rt))}},{key:"previous",value:function(){var l=this,h=l._ImgManager.count();return l._resetErr(),!!l._isValid()&&(l._isNoViewer()?l._nouiNotSupport("previous"):(h>0&&(l._UIView.__Previous(),Ga.__innerRefreshFromUIView(l,l._ImgManager.getCurrentImageIndex())),rt))}},{key:"next",value:function(){var l=this,h=l._ImgManager.count();return l._resetErr(),!!l._isValid()&&(l._isNoViewer()?l._nouiNotSupport("next"):(h>0&&(l._UIView.__Next(),Ga.__innerRefreshFromUIView(l,l._ImgManager.getCurrentImageIndex())),rt))}},{key:"last",value:function(){var l=this,h=l._ImgManager.count();return l._resetErr(),!!l._isValid()&&(l._isNoViewer()?l._nouiNotSupport("last"):(h>0&&(l._UIView.Go(h-1),Ga.__innerRefreshFromUIView(l,l._ImgManager.getCurrentImageIndex())),rt))}},{key:"_isBindViewer",value:function(){return!(!this._viewer||!this._viewer.webViewer)&&this._viewer.webViewer.bindViewUI}},{key:"_isNoViewer",value:function(){return!this._isBindViewer()}},{key:"_innerUnbindViewer",value:function(l){var h=this;h.__funResize&&(p.removeEventListener(window,"resize",h.__funResize),h.__funResize=Pe),h._viewer&&(l?h._viewer.webViewer.dispose():h._viewer.unbind()),h._config.container=null}},{key:"_unload_viewer",value:function(){var l=this;if(l._isBindViewer())l._innerUnbindViewer(!0);else{var h,m=(h=l._containerElement)===null||h===void 0?void 0:h.id;m&&delete U.DWT.ContainerMap[m]}l._ImgManager&&(l._ImgManager.dispose(),l._ImgManager=null),l._UIView&&(l._UIView.dispose(),l._UIView=null),l._viewer=null}},{key:"_innerRefreshUI",value:function(l,h,m,_,S){var y=this;return S==4&&y._isBindViewer()&&(y._ImgManager.bImageJustChangedInEditor==0?y._ImgManager.bImageChangedInViewer=!0:(y._ImgManager.bImageJustChangedInEditor=!1,y._ImgManager.bImageChangedInViewer=!1)),m&&y._ImgManager.refresh(l,y._ImgManager.count(),!0,_),p.isFunction(y.__OnRefreshUI)&&y.__OnRefreshUI(y._ImgManager.getCurrentImageIndex(),y._ImgManager.count()),!0}},{key:"updateImage",value:(a=o(w().mark(function l(h,m){var _,S,y,b;return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(S=this,xp.Auto,!p.isUndefined(h)&&h.length!=0){I.next=7;break}throw Fe(S,-2853,"The imageId cannot be empty."),{code:S._errorCode,message:S._errorString};case 7:if(p.isString(h)){I.next=10;break}throw mF(S),{code:S._errorCode,message:S._errorString};case 10:if((y=S._uidFromServer2ServerId(h))!=-1){I.next=14;break}throw PF(S),{code:S._errorCode,message:S._errorString};case 14:if(!p.isUndefined(m)){I.next=19;break}throw l$(S),{code:S._errorCode,message:S._errorString};case 19:if(m instanceof Blob){I.next=22;break}throw d$(S),{code:S._errorCode,message:S._errorString};case 22:return I.next=24,LU(m);case 24:return b=I.sent,I.next=27,S._updateImage(y,b);case 27:(_=S._UIView.GetWebViewer())===null||_===void 0||(_=_.webViewer)===null||_===void 0||_.resetImageEditorButton();case 28:case"end":return I.stop()}},l,this)})),function(l,h){return a.apply(this,arguments)})}],[{key:"ProcessGetBlobByQueue",value:function(){if(n._getblob_queue.length>0&&!n._processing_getblob_queue){n._processing_getblob_queue=!0;var l=n._getblob_queue.shift(),h=l[0],m=l[1],_=l[2];h._convertToBlobForUpload(U.DWT.EnumDWT_ImageType.IT_PNG,[m],!1,4,function(S,y,b){var I=b[1][0],x=h._ImgManager.getImageIdMap(I);if(x){var D={imageId:I,serverId:I,uidFromServer:x.uidFromServer,uuid:x.uuid,imageUrl:URL.createObjectURL(S),minImageUrl:URL.createObjectURL(S)};S=null,h._ImgManager.UpdateImage(D,_)}n._processing_getblob_queue=!1,setTimeout(n.ProcessGetBlobByQueue,0)},function(S){n._processing_getblob_queue=!1,setTimeout(n.ProcessGetBlobByQueue,0)})}}},{key:"_getContainer",value:function(l){return l._containerElement}},{key:"_setContainer",value:function(l,h){return l._containerElement=h}},{key:"_closeImageEditorUI",value:function(l){if(p.isFunction(l.__CloseImageEditorUI))try{l.__CloseImageEditorUI()}catch(h){_r(h)}}}]);var a,s,u,d}(Qce);function Tg(r,n,a,s,u,d,l){var h,m=r._ImgManager.convertClientIndexToServerId(a);if(m==-1)return qe(r),p.isFunction(u)&&u(r._errorCode,r._errorString),!1;if(h=r._innerFun(n,Ve(m)),d)return h;var _=h==1;return _?(l&&(At.refreshImageAfterInvokeFun(r,a),r.getView().ClearSelectedAreas()),p.isFunction(s)&&s()):p.isFunction(u)&&u(r._errorCode,r._errorString),_}function LU(r){return p.isFunction(r.arrayBuffer)?r.arrayBuffer():new j.Promise(function(n,a){if(U.navInfoSync.bIE||U.navInfoSync.bSafari){var s=new FileReader;s.onload=function(){n(s.result)},s.onerror=function(d){a(d)},s.readAsArrayBuffer(r)}else{var u;Fe(u={},-2856,"Cannot convert blob to array buffer."),a({code:u._errorCode,message:u._errorString})}})}T(Ps,"_processing_getblob_queue",!1),T(Ps,"_getblob_queue",[]);var WU=function(r){return r.normal=0,r.balance=1,r}({}),BU="data:image/gif;base64,R0lGODlhZABkAKUAAPyOFPzKjPyuVPzmxPy+dPyeNPzarPz27PzSnPy2ZPymRPzGhPyWJPzu3PzixPzOnPyyZPzChPyiRPzevPz+/PzWrPy6dPyqVPzOlPyyXPzq1PzCfPyiPPzetPz69PzWpPy6bPyqTPyaLPySHPzKlPyuXPzmzPy+fPyePPzatPz29PzSpPy2bPymTPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAxACwAAAAAZABkAAAG/sCYcEgsGo/IpHLJbDqf0Kh0Sq1ar9hslXI4aEwHFUVLLicpjUBrBACMFKTG2Ewne1Khtl4fSnnqgFYUFSJ7hgAiFXOBjE8mDIeHIyaNlUweGZGRGX+WnkYTL5qHIhOfp0MubKN7Iy6oUhQwDSYmDTBPHiyshyydsEwUJgslCiIFCgkPcpcJvIYJv8BJBy4okW8r0kceIM97LIvTRw0Cq5ojBNtGqt9uC08qGisnBA9g4loHAt8jESpKJhT6VqqJMALn3AiYsE7QAneIFCVRkelbiYZFKDhooanAinxWHFyDKABXEhMJ0VFiAkMBqwITQE6hEAGinhRKBg3UlEim/pENzwQcyAKDn00AJ3wKucMxUogKGIsc2DlqhIMsGjgcBRBC6dI0Cla9IaHBKxEHKTWRyGKCqjsUZpeqOFArTFwiK9JGIsDW7TcOd7FU0HuIL5asWwVELfPo2wOiELYuCHzFQ4FnIzRkoYCBsCYGVz3lZZVuMRQNLiGyGOrpQORRClZuHv2tgAPKWNBA0KvgdhkPJzzrYfDBNB0uKwowYDCCQYETMHA78RDB7x6P42J4MFFhhQPWgA4YKJGWAQgHxrObkdXhhAAOHDK4wKd+GgUKHu5Lr8+/v///AAYo4IAEAgODBhNoYFKBdVCgAQkKMDdCcwq40EB6DDoBAwbW/rUhwgMLZlhFA7vxMkICmolIxQEhCLeHUCpK4YEzNvkiIhomOGACDKYNdhQDFWR4wAMCiMKAAA+AZ8QBFR2VgZIBwsACJHswwEKIRAi0FSKmDEjBLtiEYwQFJGzZBgb7eWICabIN4QEBZiKFISxAsRLBkmBumQCU/pXASwZL0rjlagMaNQqgRbwZpzoDnsDLnRmVaSYJaVoygGeTHKHlVgV5mWcvMjG5JQR8/icllcOBgCURKaDqDgM4MXgAAgJAciQCpbopqDs2ZugBDDnaYhwMF7jYxggwxihFAxm4OAIEKSq77AMdIoJBA9JW4UEDLkQ4IYUWzpmtEgcmuOq4/uimq+66/qHhwAQfVDABGOxGodECFyjnBgMoZBAAM/UuAcMJl6HDAQniZiuMVt9AAHDAQ1AwAcPuCIAtxENo0JRNECTs664QjUApxg7EycHFp/x64XpNbjVCAJVS4cAGJQhggR9kaFCtRecCsqmHk2mxgqtbFdAmIw5Y94EWNcUJAKyWeFDnISF4fIQFTrcRZCUw+BmJCNFagXXWWzdSFE9HUzG1mQwYYIkKYx+iQK5RPGAsKyKEVkkK1r2SRdJOh4ByIx48ZEgJdEfhwcYuJ/UJBSu0UIAIEriQuBQVxFnAALBsR68ZBzBuEwExC0hBBzt31LMRKqRAAAEpAESgYgfU2sSB3kscsOueBXqQnDshxOTECocsXeDpokeCImWv7QFBhlxUEIIIEx7LgAgQoBeF13sgeqMJD7gAAgEurPAwFHYb8hjGT4iqB6nsPyELkSWAWHr8+Oev//789+8/u0EAACH5BAkJADEALAAAAABkAGQAAAb+wJhwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+0uPY1JJ+XQeLxob2OhYAAAjNaika5fKYPL6M0HjC4DFHaDUSYofYgAKCaEjUweAomJAmeOlkYOe5J9Iw6Xn0MEm4kEoJ8UCqOICoKmUB4aJiYNrU4UHKp9HLWuSwcBAhwoBQolFZVMFC25fC28vUceFQWSIyEOz0gWzG8W0EoeLm6jIilNmdyeUBQNsg3IXhXjqhyMX5G5lK8uF8IKJ3S8HKDGjQU8JA5wjeKgzkmDEprejECBrYsLbm/KJXOgJ9Gfik5g4EtUwJ4WSBjfLDiIpEGENm8YKIgQ0NaKiKRYVtGgEGP+Ahi2NExIkWKChmy+QKgKUROLA4IYBTQddCCEqpJbBhxKKQCoowMXVC3aokFCSgAsDljycELVhalWUKZ0gTQNBQPzEI2IUJdKBZxiB3xSsQHwm65dPFhlNmKDzkEwXIjowwAC3CxPmbXwCspDCgICLrBYoRYNhRRQPba4bImChwMHPPTVYoLFZEQcInD+tjbFAgglSrAgYeIxb0KvYcA4MPu48+fQo0ufTr269evYs1t3DaOBdxiytXOB8VnBixEiJJwwsFt8lQEl8vJhUEKweyoUKvTcxMFA8/tG5HdbLiJU8B+AQzSwXy4csDYdBTBoAMOBF521gHYutcBBCBv+OCgEDANiVEB70lHgQAs4tRBIEvKcBUcF1x1QgiQllHbEAi6+EcF16HjUkBHb5OiNdRiMgkESSgl5HQmjkJAEji7uxaNhfvxYRItnMQCjdQeM1IcANhoBoosjXodHKn2oOBuUKV2YXQMnhCBBCAAxoWBKDYoHoYQHCshNgQciKER+CybCgYGCRuFAfJLQZ2WiIVVAgAQijPCCBARUQCKktnjQ3XfhcSrqqKSWauqpqBbhqSwTppqMCScoUIAIBRTQAgm0uGqEBw5AQCUcAAWaKAUPpLaJAiClSsEKL2AkwaOknmZsLkyl2oCXGFkgrHb5/aoKAx7aQcG2T3gwY47+ALgAigoYXCBHuFIc4G0urDThGmyhTqHCYm+gYJ8WDqD7RgHhHjABBhFYAEIEGEwQ5hMBJFICuUoYIDAAIpi06wolTFtACSsYF80yej1sRQUXZ3wEOyHIhwgDTAXqAZqImFzFBBcTvOsEhW6CwgSBioIbxUnAcLEEB5loFp7JKqHBVhkhelLP3IAgJrbcXGDzEb3uEUIKIktBAQnzbjLCv0NEIPCOnXqQ7xYN0JwSBM+Mia4Im4JCrMtXPfpA2aOM8IBzB5wAeEYrPENBAhcDkADRaHhAAN+IFBCymCQLvNlzKjygwK8jCJACUnderAC8l7CDweecQKBpXWU1zoFdBiWCYUIFKZgQ22xxN346qR6EdbEAKpQqtMCllDrB4dVMYCoF/LoYAuTVpUD5t+acKnmOJ4QtKAwgMD8CC3mPWvj180WwdakeIICi2S0g4P2o7KwgAE6hr5ArKEEAACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPyeNPzarPy+dPz27PzSnPymRPy2ZPzGhPyWJPzu3PzixPzOnPyiRPzevPzChPz+/PzWrPyqVPy6dPzOlPyyXPzq1PyiPPzetPzCfPz69PzWpPyqTPy6bPyaLPySHPzKlPyuXPzmzPyePPzatPy+fPz29PzSpPymTPy2bPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CweAydRCyVjyUyIbujkwYGQK9jGu23Xtkg1f8AJA17hEYdLSKAdSItHYWPMA0Jin8Jg5CEA4mUdCIlmIQRnH8OoGUvJSUHeVAlm5yepkwTLyMaIrgMCQWrT5KjAJaySh0OK5QiGBmsS4evgCIBjsNHZhrAApdNfZyCVRPTYS/HwAAszEq0JM8iguhNcQYrGiwO71oj5XQMEWURIAIqrLk36wSDPyIWhNsy4Zo+ACgIisngEGG/Lg0OPqxwoFCAZ3a8OAA5StieDhY4aViYxdXDYNreTDDACQJLLC806hPQkdD+A5IAQHiZ8OGhCAkSxZFDmOELBaCAQjR91KCCRhEJ2Hw5oKAcI1AHEKBA8QAPmAkZKowSAaInqAlJtcRhobNOiBYvqOkxY0FAghUCUMTUK/NAhgYp4hJezLix48eQI0ueTLmy5cuYM397kaFEhheKNS+Z4ICDAA0mNAjgYE/0lA4oQigSEQLFTdd8BJTLhrvJCxZQF7HI2zvJBA/B/zBQEVov3OYHILwM5jZyBw8QQkDwcLuIg+l0SklOseBVwhRL8oEfMdmB7D8ELiahCd6A5AkXKD1IigI8APuRTfCAfkkF4B97kkXwnl3yIfEdeOJFdoAE5klQ3REHTPJSAhf+PnZddtt1R8QEKtQ1ynLNUQNOir8lB4AIwxW3RAO6YTOYjEd0YMCCf9QmIo5EFCOBABBoAIEAEjjwI5BF0JJKCaAxKeWUVFZp5ZVYPgHOCy8kluURL5yAAgYkCICBAWWN8VwHHcAFSgoPJGDiiyZIEGUXHTSgAgYmMMCABiBEcKceHZSgITAhULBkFAdcIN1sHyi61wmP6sPAA4s68ducPbaQ4hUlVPRQCB58ikQHfujDSKZXZOgfAARESEUHC0yXqKlwGPgqABiwikQJJoAnAHFgvFCpf7HMKgGyJ4hBAacvcVBFA0X5ZwGuTsy0ax0QYAtDCTy+tBIYB8yxLaz+Nzox0qsMZFqMCi20oIKSS7yg1rkhfDLFusj+SIstDOCSiwYjDFoEjecCkC8VA7jwKgESdUCBqIpowB2GqW4bQrrbHDqdAgR18AC0yu1nSErnjjvFASC8ylw1Jb7kQqlGjOAiMBhYcUK45ZjUpAPBTmdCa0RkQMC5DUrRQcsvMXDBPSnQVx9L2u66gq9INHAsMCx0KEQGPOvjwo0NhF0OAxR4S4ShXmFArBEIbIuAESTejBAKXk/RAAhhi0CABOglwcK2LOT4gNmzWZA3FSkUYEECIYjAQAgfJLlkta9WcKoKR59t4Rd5luCAAyWYxcRS/q1g3AAKBFfBCVi7kbFpfyQ0U0ILkIcQAgH0OODlYhxsK20THXAGZeyhbJt0cS9Q/JAGb8sooN2LmCzlC+a+pED0QJaw9SgQTEVlHB8kJ8IKplv5ggS3zKaBnV/CUOgICiRAAAEJKDBCCcj3NsEBDThMA3qBiSAAACH5BAkJAC8ALAAAAABkAGQAhfyOFPzKjPyuVPzmxPyeNPy+dPzarPz27PzSnPymRPy2ZPzGhPyWJPzu3PzOnPyiRPzChPzixPz+/PzWrPyqVPy6dPzOlPyyXPzq1PyiPPzCfPzevPz69PzWpPyqTPy6bPyaLPySHPzKlPyuXPzmzPyePPy+fPzatPz29PzSpPymTPy2bPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+wJdwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CweEwum4sS1yYg2rgk53gzIgDYQ5SIfI9sJOyAAAkNfIVCEgWBgSZwhnsNKoqAKoSOchh/koIYlnKQmoKVnU4SHByNUoghmoyjTRwRDiwBKSSoUA0PkoOuTC4VBKsAIRkWKFN0gHh6vUouI5ohEAepaiIBbreppdpeHB+gww7dcQ0LCSUFtmERBOEAKtSFB3WADwNgEg7vw5yFKZJWkMPCYQE/ABsMXZAEYuAVDiwOJiwETlEJh1YkpBAGKoSoPScktfpCIsM7AfL4cFgRiMLHLhJEMAAFYgNGMhIiFKgwISX+GBQaOAICkYJDszIHHCQQFmLEBqNHy0g4QGJDhAYHbkbdyrWr169gw4odS7as2bNow3BwgcEF1LRVOJwoQCHBgwQUCpx4C7fJ1BPBopXoqRWuBAwrhEZbgaEw1QEkfH5t4EFxRw8v0TQokAGE5wcFGhR2hKLeQUAjJA9BkcKdJAIpVPfiUMAyvxAF+AopaPvOAt29NoA4zXDiEAkTZr5r0WF0HBQmeh80wZfyacxRG5gkLimDKAknpAcKccK5mQjcoxmXYJD4AvNlEKTXlGLISu4rgFuKOF9RAPsVnfaBfo6I0J8iLBwHAXcQEGgIQAcCUt8h4Z1GHnxkoBfhMMz+CGHdQS5lt92B3hGBXAv8MIchGSgkEqEJkvEWTgi/cSXcgQQYRwRrrikC2zFc0dZfCBUQKMFmnXmWQWgrxnEABfN5IFsRLpAQAQkujPXhQSF44E9fSByW2G2MNSmWBChMUIJtIQyWFZhOyEVXAhngpZeDcCpxAFsuTJnnn4AGKuigUJRyAgsfrLDABG+MUYoLDTTgliMSkGCCcoooEAGQXhyQQgEjJKDCBRA8pVIKI2oCwjQwRTACpoAQ8EFmY3AgAoq3KYBnFBykMFw4GXSIkwOwvhMCdVqcUKwmJdBKUgnpMdAcFgek+s6AZHBgQn8jZHmFBdzVRMYBy3Kp4xT+B0TCHbJiTPCimS+Q0ONp3Y6x4IEe7LrEjdzxIkaA82WgrxIn/Eqcv0uU0kAEKaRw1SlMsHRgCQMn0U56FHjrzAkCCBWCACf4KcS2+FaMhAuZEFeByC808EG5ADAwqxIQ9odtFYhwx0AKGLmggnjwaGxEAxFOAG/LBvOTmp6m8YNSmAvNl8CXVlgANAAgCGuErVffIcJA/BIXgggmKwGdeAwggNGW1zl7NncXCH3FASIkrUwGey1RIXfkJeGCAl2X2EUDJqhQAggElOCBBXIfAVF/LDhIG8x2MHCBs1hMNcAGG5DA6RLf9FekEr2+KkkICYjQeCcoSJzeCiynsYFdBgJkUIIABUzQQNlnCDkfu0yUYoopR4uhT3/jDBqB3fxkTegBUROnAMtwXXxajoQe4sDVISSf/QsQUR5z5N/bd4IKyzKgQt7lE+GpAnXhpUBs7YcJKQYH8F6/IUEAACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPy+dPyeNPzarPz27Py2ZPymRPzSnPzGhPyWJPzu3PzixPzOnPyyZPzChPyiRPzevPz+/Py6dPyqVPzOlPyyXPzq1PzCfPyiPPzetPz69Py6bPyqTPzWrPyaLPySHPzKlPyuXPzmzPy+fPyePPzatPz29Py2bPymTPzSpPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CweEwum5EUynkd7Uwuo0mHTVemTCEAIGRK1f9FFyJ6eiIjUhQdBygBJgQLIA0daoBPFAWEhCeUTm4qDJmFJCAHnJVKBy6hAAwHTwcLeauEDCoNp0yXq5tOLxWDs6EfGbhLI8CFh00HHsHBw6bFRAd4enyuuQHOzirYXB0ZICgN0VEHb3FzTS+y26sMIOVWvgUMLgUt8lBpUC3uzgLUZWmAKRQGb2QObPjn7FaWDghmGdLnxUE7hqFYaMlwMROJF2ZAgMK4SoMWFKpmJSBW5gEykoRUaOEwctVKMw9qwtTjQQv+wWAQEIoRuTPTAi0UTMxiwIJilxIdYYLY0gGCThcBnHbp8KGoHgYgtxx4IGBDAggG6LDwCkCFQKQvSmQoRUdh0RATtErbR5SkiAhv92LpkBOjiApCBWMZqzPY4bCKvxk4sS1EgMSRs1AYKyCECwagQyRoQS6zGAoZULB4AKKEH9OwY8ueTbu27duyOzRAYQJDAgwmxgXGHYVCgxYFQ+ErTbz4BAHuBOS1xM82BQ7JtxWYroTCCwcXTDxw8EJvsRIpGYYo0X0CBmQMMHCH3YHETgzDh6DITqgAB9koNPYPAyggwY4zIUAWGUReITAcBRq4o4F5dWQggVc3FXHACu7+rIBZMRNEpd4ERmSw0DYbsBSZAenB5EJaRZjozgkqKhagVwzAOE0C7iTwIS4heoWXERC6YwKFdGTAY1EZFnFgMAnSB0GD+cGw3ywFFBjbjTDBkwQF7tUU33ymHWAfTCRUKYR3DoygwQjkIVlJCQIiyF4TaciJC5j8BbOdnriBacFLoYhgAZnN4dnAAn0CsBygicKgGwe9/RbcC2pGqummnHbq6aeghlpcnqJa8p0CLWjwwASSkKFbBhmUd8oLCghA6AYBZAApniAgkIAEG6ygwp11NGCVYxY4sOuXDRBA6B6XLUtFA0tWxoG0RVDgQLWzfLTGC2f+E4JDWbxgwT/+BGBrSWEYEZApFC7944IDZrwAHUknDPBQo7OooG4TEzzrTj5YZCCwSgqCQcEDRXnwmhUoHLzKBsSGQUEERXl7RcQYUYyInEllnPAUJUgcSgLkMnFACRMowAIHJfxIBAUjFNXNYiLOAsG7QnTggAonIHOCB3IwEfBOC/DcRAUMiaAREx2MwO8JF7wrI0khaInFT9Hp1UEEJgMAWHcthJ3JzkiBwK8eTSrBsTsi/KdEBueO+A0HXa0iggoD6HVA3v98IDOYOWcyURfe4SHC4gwUwAJdTIDQ4jYvLsFnZSMoTYXPE0xQApJFkjSh5RlU0GcIGCibWQcqwORWEz4HUAFdBhioAMnDkaUQEUkOWpLCCy8coDkgFDBNUgX/mnaMYQGUOgRUGK3n/JqtM+TB8IkesDYhG4wsKpjc2oSo8xSUAMGzIkBQAvabJsIB0CGEcIIKciTf3AHeT69/qUEAACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPy+dPzarPyeNPz27PzSnPy2ZPymRPzGhPyWJPzu3PzixPzOnPyyZPzChPzevPyiRPz+/PzWrPy6dPzOlPyyXPzq1PzCfPzetPyiPPz69PzWpPy6bPyqTPyaLPySHPzKlPyuXPzmzPy+fPzatPyePPz29PzSpPy2bPymTPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj0gk5dDYPBaRx6ZxoCSv2Kx2yx2mThYDYExGfU6prnrN5r5WIbKcHFq92vg8m1ICzf9kLCVWeoWGRnwTgIsACoOHkIYHAoyMAgeRmXgPlZUPmqBdL3GdiyF3oalXDyKliyKfqrJFFBiujBiEs7MvLLeLLKhYFMS6u2olHL+AHCVXFC8lJw8PFQ4NxsdZJSjLfyjOSC8qGKRjDCAB2Npayd5zzUgZAgyvCifZ7EYvCu9yCsKGUHAgphODB/n0CbTlbwyEbIluicCnEAmnhrCMHFjR6haLBqAodMjQoEPCfea8nTIiod4vEQE6ZDrQwqUBFSeLXPSWkVb+gncfI1Fo0fGcBC0HSLy7ZKSDi3cMHERK4VIOiZwCSyj6pcBBvgYNcUIqwQxkFj5+SolwlJCsvxFY1WRgFhDLm5R/6tQl4vbdhbhdOhSUswIwkQMbLCiDZ+EEpiQvGlYwvIWCh6IAGJjtsiSDhCcLpGSogkXwuxBShUrAwGHChwwKKUR4h2HvoRePKw7AaxBhxVkdZv8SYPu3phckMDMyANv4rgYClP/hcNT5sQYmeJ9b8cj6sQ4lIgwGECKBBNLe2RE7kCHDC5Pp48ufT7++/fv48+vfn17kAfj8aQKNBAGY8IEJI2zwAmUBnlWBAE/J4QIJHsjUYB4paFDVHwz+RJDbhWq88FMpdmxxgAMbOFCcfR0Q5YoILViYBAUFgGBACAYIQNF+DWhnymZHdPBAhGQcJCN+wv2iwRUlaBdCOPh10M0yKBxZRAuMtKBfBj4yEkJzRyi1CAn6ObChK1ElwRAgGJR5ZilpIoHlIlrmx6VKYBrRJCBP6ielN1UmISSRY7jwgJX2aeDNks8UIMCNKAhQAIPO9fhLCEBC5oAEKjbYonSAwIgoiFgckACocohQIqlqZPhmkRp8yCoXFKgA4RwuCCDWrHu8sMEIBByY4IK86uEfgMUmq+yyzDbr7LPQRqveqNIicYAEF0SgwQgnZFotER2sFkJRISiAQBr+qXQQzQMqjEZpJiks8CoAqq6jyQEBTDnGPejq08ECpdR2nAWAMDCCrLtsMO8cdULy6SIM7HjMAWt2shIkBFWiAMKqnNDlHw0XQsEIpUA5y8ioAvLQIR0QUEoF2gS3DAj96tEBwZ2oELOiv4DAMRsdBFBKaruMvMxVkLRUiQErItGBA9kucIEE1B5RwcJ/RBDJARBUMkLVR5RQTkciGICByVc00M+LaBfSQFpziGBB00V04IGPIagA9hCsuFKYJhlAkJIBC9BNBAUeLy2xoCuUokCeW//6gQUPOLB33WtrfDkMDVT8R1fvqtFBCshyccItJ2gBTQvjxv1a6No07ndgFw2MgAEIIJCwQHf3UZB5JwqEnsLP9VGwWCkcwH4hJa6Q+S0Mc5YSsrQZpEyGCJBHS8EHpVigPIgvQICqCBAY3mwDFrzJgAXZP39ABQmQUkcFxH/r3wH4l/78/vz3T0QQACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPy+dPzarPyeNPz27PzSnPy2ZPymRPzGhPyWJPzu3PzixPzOnPyyZPzChPzevPz+/PzWrPy6dPyqVPzOlPyyXPzq1PzCfPzetPyiPPz69PzWpPy6bPyqTPyaLPySHPzKlPyuXPzmzPy+fPzatPyePPz29PzSpPy2bPymTPzGjPyWLPzy5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj8ikcslsOp9QZad08lBOpUN0y+1CDyoMx8UQhVAYldbLbnMnDpAIQK/TRSDJxM3vIzsUDHaDdQwUHX6JfRMUIYSPACEUe4qVXSUKkJAKJZaeUB0EmpoEiJ+nShkuo5AMGahsGRQBEREXFGtLCKyaKrBREx0nJCFlcyIMKCslpkgQvJAQv09wAnOaIgQNlEYc0I8c003CBt8CA9xEjt+DBuMlFA8PHg4pihMn5ewsr0Yo7IPCKZlQYgUHYwwMWDiRjg0cfQBZ5BqCAaAdDEoORBD0SESCbW5SWLBYR0NDFSTp+EJyQBQrCw3cFEhJx0AnIhk4AnSFZML+iGusEjR7I4AmABER0nWoQJKAvSMlvEETcYJNiXU0BcTEKfUbpz8RAIKYGEWFzpQoBhRhhJWVpIZDGoAAaMCBlwVAUzLYYATQ2VaHkmRoy4vBSi4mjN6hcGSCBBZ57YhgoUdJicisRIzwklixiAJJwGBAYcwFBxJqmJT4m3lzlwCYAbqQsOQAFQoeTgx4yiQDRGiGvARSzOGmpRdF2RX30uA3SQxkE/mMDWnFUGAJjIp4ADdRAxbfGKhl44A6Lw5bP00owPpR0jYdVqTc3l1Rhwft62SLzqVBcnYirFBfJcIoEBsHI/DWBhzgfSMCBun9MkEDD5BgAAMJWRBBCQP+vpFBJrwECJI4QkzwQgYllJDBiJUcsAAK1DHAgQodkojKBBksIMAYyITAQQIPsGjjkEO8UIIEJ5wgQQkKEunkk1BGKeWUVFZp5ZVYZvlGCjVq6UcHDrTwAQQftODAdV76QRAGIQBlBgYcpplIBwWYZwiacr5xAmGEhFBAlyUaKWSe30HDQoQ9NbAChgysMKiWEwTAzgg1vlDRRS/kCcMBXZ3X5FoqRCYCjXm+YB4hImSaRAedDWICnleWYJFxR4TySCl5ZmBRPz2ZNYhhgEZpKoCqJvECCYOQUGyaKYAIjQL8EWFiBYxW8EKwUU7QwqSATujAtZrG1SArh4brxXr+fA7iJ6zmjjMcYOy228SabZkBQZzytpFCmBWQ2YIEn+br0AHxCmzwwQgnrPDCDDfs8MMQRywxlPhoAAEGBKQ28R8SyCGZASoU7EYHDaQI7pMdqJDuURFEy0cDC4DAAQcCjCDyJxKsTAcDNltygMf6vUrkBHOxYgCifMTXEaVDnnBqHRFUchUkAiw7jQlP06FAJe8SshyJE1xaGLZO+PqITTaGHR7ZTTiwMghIw8IUNAIlcsB/kkVwsyIUZA0AAZasRgjcRB7gXEd2VUKQAMUwEEICLg/UwAgGiqDACI8qEeooIgjtyb5WMPOGA+PWwYID2HawESQiQBC3lRkUTQhgP1+MwGfnr1fJ6iieO0FyBCxgyIEJZ+b6jyYo8LoxDOVxnvjyzPPy/PKCa8IArRsjN0rV0AtxX34McNe9EAd8gJkIH0QesbYw3oFCC2wzjOMDC0TwQAbxj6///vz3v38QACH5BAkJADAALAAAAABkAGQAhfyOFPzKjPyuVPzmxPy+dPyeNPzarPz27Py2ZPymRPzSpPzGhPyWJPzu3PzixPzOnPyyZPzChPyiRPzevPz+/Py6dPyqVPzOlPyyXPzq1PzCfPyiPPzetPz69Py6bPyqTPzWpPyaLPySHPzKlPyuXPzmzPy+fPyePPzatPz29Py2bPymTPzGjPyWLPzy5PzWrP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJhwSCwaj8ikcslsOp/QqHRKrUI7pcmk1LF6v9ZOxlNgmBmFSqYLbruRjQgDQK/TGZrGe/92YeyAdCIkLnyGYRWBigAVbIePThQXc4uADBcUkJpLDR+Vih96m6NGKJSfdgwopFMUHQcZEw4NBx2ZSx0LqIoLjqxMFA0KAiKpHigut0gHCLuBCAe/TR0vFsWKDBgOSgckzoAk0dJKFAstuxsoykXM33bQTi4vASwKa3wdLNe7IS/rQx0iuKvTawmFEipEFFMoIsEEX14ogDjnbkMJJKYGqsKloMAiBgsKgWmwYiAdBP+EdBoYasmLEJ9EsIDY6sE+dyIyHKEw4ub+JwYjUhJx4REVgwlfOpQ0SccEkg4evnmgSYSCiW8JhEI54NPdCqowXJDoameQyCQulu4ScdFKCaZ1Cpw10kDDKUsmRClxUHTtAy8c4NIpoDOJGBVlzhTwUEJrkZfuFniZIBgA4SYHsmwR5wQFTGcyvWSofGKuoRInvolQ4OXAXZaO2xzwBFovlQ7N4F4YZdOZii8UXrx2xsD2oxS0PxVo60UsUw2x3zhIXamFArBRKPAdKMA4JAoZMAwHcOIF9ikGPu/6wJxVBwUWToQIUWCFBtNggm/YJaDxOCEHDIACCrNEV8VBHpAFQAgRePcfKeAtsMIJBRRwwgcKNGDgg5r+UOBCA7RsyOGIJJZoIoQUiHjiHh5OcMECESwwwgTJrDiKCyYkEMI+IoSQgAn42ejGARf0pUiPF3AmZBsuRAVaBUEuOcUBEJgEj5RhaKBgJSJocJ6JWJiwwgYrmOAAWMGpN1AL/mB5kDeAiNBfSgf8IRgGStpYwn6LWGTEBFuuhdSSDViASndFEFAZHQQsmU+gAIiwwDrUVbYBoQk4s4JtkK6lIikTUGTUNkMsWkeeJaLgziqlmgoAqiSq+g2rQnSKighfjuPAeIGEQKoQfJJGqFqfJGBbIos2KuSjt7KwDqCViTCokA0IcKhxdVaGJ5YDBBvIBgMYkSZc/Xz6y0H+xMQ55xEB2VpWBLmS2IEDJnywwQdmntfOQCrAimUUDSQImgcO/ivFASMYGUiPI/hr8BQuaLBCCKcwEEKZDj9MhYccPMDCAiw8gIy5GkORIsklp6zyyiy37PLLMMcs88wcvvKhC7bQLAV4ERQVQgUToCyFGA3E26EDxNIRggJCR4KCAAVsgEFhHGaQHCAFcPAIBQrcxADV43SgwScCRPlFCgoDgIDRfBxQqSIhTLvHW98WvEkDkL5wCGWBXPZfA7uwZohrgQjA9h4uqBkIA1obUk6cckvTAbKLtHTIASxQUgDTHFIwgeJ1iBDUdwfIckDTQlBwwOkbd7S4CaifW0JlACp4EIB/Oz/9GQMfjJ7yC2+XV4ULE7wAAgpFq7wdICG0pzMuuT1z+MwNZKqIsc83kYEEi0gAdvbLXG2HBRmDL4Q+C7NgPhPOAVL2+kwEzEAxDBAMfzxamH3//vz37///AFxREAAAO2l6MlNnMjJPaEJTY1lvVkpORFI0dmF6ek1tK1ZrditmL1VXWmxseUxSc0NPYk4vVU5kVVRWeThHRmlpUWNqNWQ=",ks={loaderBarClassName:"ds-dwt-loaderBar",loaderBarBackgroundColor:"",loaderBarSource:ue.bIE?BU:j.loaderBarSource,loaderBarSourceIE:BU,loaderBarWidth:120,loaderBarHeight:120,errorMessages:{limitReachedForZoomIn:"Error: You have reached the limit for zooming in",limitReachedForZoomOut:"Error: You have reached the limit for zooming out",insufficientParas:"Error: Not enough parameters.",invalidAngle:"Error: The angle you entered is invalid.",invalidIndex:"Error: The index you entered is invalid.",invalidHeightOrWidth:"Error: The height or width you entered is invalid.",imageNotChanged:"Error: You have not changed the current image."},generalMessages:{checkingDWTVersion:"Checking WebTwain version ...",updatingDService:"Dynamsoft Service is updating ...",downloadingDWTModule:"Downloading the Dynamic Web TWAIN module.",refreshNeeded:"Please REFRESH your browser.",downloadNeeded:"Please download and install the Dynamic Web TWAIN.",DWTmoduleLoaded:"The Dynamic Web TWAIN module is loaded."},customProgressText:{upload:"Uploading...",download:"Downloading...",load:"Loading...",decode:"Processing...",decodeTIFF:"Processing tiff...",decodePDF:"Processing pdf...",encode:"Processing...",encodeTIFF:"Processing tiff...",encodePDF:"Processing pdf...",transfer:"Transferring...",canvasLoading:"Loading ..."},buttons:{titles:{previous:"Previous Image",next:"Next Image",print:"Print Image",scan:"Acquire new Image(s)",load:"Load local Image(s)",rotateleft:"Rotate Left",rotate:"Rotate",rotateright:"Rotate Right",deskew:"Deskew",crop:"Crop Selected Area",cut:"Cut Selected Area",changeimagesize:"Change Image Size",flip:"Flip Image",mirror:"Mirror Image",zoomin:"Zoom In",originalsize:"Show Original Size",zoomout:"Zoom Out",stretch:"Stretch Mode",fit:"Fit Window",fitw:"Fit Horizontally",fith:"Fit Vertically",hand:"Hand Mode",rectselect:"Select Mode",zoom:"Click to Zoom In",restore:"Restore Original Image",save:"Save Changes",close:"Close the Editor",removeall:"Remove All Images",removeselected:"Remove All Selected Images"},bShowAllButtons:!0,visibility:{scan:!0,load:!0,print:!0,removeall:!0,removeselected:!0,rotateleft:!0,rotate:!0,rotateright:!0,deskew:!0,crop:!0,cut:!0,changeimagesize:!0,flip:!0,mirror:!0,zoomin:!0,originalsize:!0,zoomout:!0,stretch:!0,fit:!0,fitw:!0,fith:!0,hand:!0,rectselect:!0,zoom:!0,restore:!0,save:!0,close:!0}},dialogText:{dlgRotateAnyAngle:["Angle :","Interpolation:","Keep size","  OK  ","Cancel"],dlgChangeImageSize:["New Height :","New Width :","Interpolation:","  OK  ","Cancel"],saveChangedImage:["You have changed the image, do you want to keep the change(s)?","  Yes  ","  No  "],selectSource:["Select Source:","Select","Cancel","There is no source available!"]}},Dn=p.mix({},ks);function UU(){var r;U.DWT&&(r=U.DWT.CustomizableDisplayInfo),r&&(p.isString(r.loaderBarSource)&&r.loaderBarSource!=""?j.loaderBarSource=r.loaderBarSource:ue.bIE?(j.loaderBarSource=ks.loaderBarSourceIE,j.loaderBarSourceIE=ks.loaderBarSourceIE):j.loaderBarSource=ks.loaderBarSource,p.isString(r.loaderBarClassName)&&r.loaderBarClassName!=""?j.loaderBarClassName=r.loaderBarClassName:j.loaderBarClassName=ks.loaderBarClassName,p.isString(r.loaderBarBackgroundColor)?j.loaderBarBackgroundColor=r.loaderBarBackgroundColor:j.loaderBarBackgroundColor=ks.loaderBarBackgroundColor,r.loaderBarWidth?j.loaderBarWidth=r.loaderBarWidth:j.loaderBarWidth=ks.loaderBarWidth,r.loaderBarHeight?j.loaderBarHeight=r.loaderBarHeight:j.loaderBarHeight=ks.loaderBarHeight)}var VU=!0;function qce(){var r;VU&&(Dn=p.mix({},ks),U.DWT&&(r=U.DWT.CustomizableDisplayInfo),r&&(r.errorMessages&&p.mix(Dn.errorMessages,r.errorMessages),r.generalMessages&&p.mix(Dn.generalMessages,r.generalMessages),r.customProgressText&&p.mix(Dn.customProgressText,r.customProgressText),r.buttons&&(r.buttons.titles&&p.mix(Dn.buttons.titles,r.buttons.titles),r.buttons.bShowAllButtons&&p.mix(Dn.buttons.bShowAllButtons,r.buttons.bShowAllButtons),r.buttons.visibility&&p.mix(Dn.buttons.visibility,r.buttons.visibility)),r.dialogText&&p.mix(Dn.dialogText,r.dialogText)),UU(),VU=!1)}function SE(r){var n=r,a=window;if(a.ShadowRoot)for(;n;){if(n instanceof a.ShadowRoot)return n;n=n.parentNode}return null}function bE(r){var n=window;return!!(n.ShadowRoot&&r instanceof n.ShadowRoot)}j._funsAfterConfigLoaded=[],j._safePromptCustomMsg=function(r){r&&r()};var mo=sr;U.DWT;var Ig,za={background:"#434246",topMenuBorder:"",innerBorder:"",promptToSaveChange:!0,buttons:Dn.buttons,dialogText:Dn.dialogText},Zce=function(){return v(function n(a,s){f(this,n);var u=this;u._stwain=a,u._ImgManager=a._ImgManager,u.zoomInStep=1.2,u.zoomOutStep=.8,u.MIN_ZOOM=.02,u.MAX_ZOOM=65,u.MAX_ROWS=128,u.MAX_COLUMNS=128,u.__MousewheelValue=0,this._Init(s)},[{key:"_Init",value:function(n){var a=this;if(a.borderWidth=p.isUndefined(n.borderWidth)?1:n.borderWidth,n.BackgroundColor?a.BackgroundColorByDefault=n.BackgroundColor:a.BackgroundColorByDefault="#FFFFFF",n.BackgroundColor=a.BackgroundColorByDefault,a.BackgroundFillColor=a.BackgroundColorByDefault,n.onTopImageInTheViewChanged=function(u){p.isFunction(a._stwain.__OnTopImageInTheViewChanged)&&a._stwain.__OnTopImageInTheViewChanged(u.index,u.bByScrollBar)},n.onGetImageInfo=function(u){return{width:a._stwain.GetImageWidth(u),height:-1}},!a._stwain._viewer&&U.DWT.UseDefaultViewer){var s={viewerContainer:{},viewerEvents:{topPageChanged:function(u,d){a.__topPageChanged(u,d,a)},click:function(u){a.__click(u,a)},rightclick:function(u){a.__rightclick(u,a)},dblclick:function(u){a.__dblclick(u,a)},mousemove:function(u){a.__mousemove(u,a)},pageAreaSelected:function(u,d){a.__pageAreaSelected(u,d,a)},pageAreaUnselected:function(u){a.__pageAreaUnselected(u,a)},dragdone:function(u){a.__dragdone(u,a)},onDrop:function(u){a.__onDrop(u,a)},pageChange:function(u){a.__pageChange(u,a)},bufferChanged:function(u,d){a.__bufferChanged(a,u,d)},onBind:function(u){a.__onBindViewer(u)},onUnBind:function(u){a.__onUnBindViewer(u)},save:function(u,d,l,h){return a.__save(a,u,d,l,h)}},viewerError:{setError:function(u,d){a.__setError(u,d,a)}},imageEditorEvents:{acquire:function(u){a.__acquire(a,u)},loadImage:function(){a.__loadImage(a)},deskew:function(u,d){a.__deskew(a,u,d)},removeImage:function(){a.__remove(a)},removeAllImage:function(){a.__removeAll(a)},close:function(){a.__close(a)}},imageEditorServerCallback:{rotateRight:function(){a.__rotateRightForServer(a)},rotate:function(u,d,l){a.__rotateForServer(a,u,d,l)},rotateLeft:function(){a.__rotateLeftForServer(a)},deskew:function(u){a.__deskewForServer(a)},crop:function(u){a.__cropForServer(a,u)},erase:function(u){a.__eraseForServer(a,u)},changeImageSize:function(u,d,l){a.__changeImageSizeForServer(a,u,d,l)},flip:function(){a.__flipForServer(a)},mirror:function(){a.__mirrorForServer(a)},restore:function(u){a.__restoreForServer(a,u)},save:function(u){return a.__saveForServer(a,u)}},beforeImageEditorCreated:function(u){a.__beforeImageEditorCreated(u)}};n.Container&&(Ce.isNodeList(n.Container)||p.isArray(n.Container)&&n.Container.length>0)&&(s.viewerContainer={container:n.Container[0],width:Wt(n.Width),height:Wt(n.Height)}),a._stwain._viewer=new U.DWTViewer(If._getBuffer(a._ImgManager),s)}else n.Container&&(Ce.isNodeList(n.Container)||p.isArray(n.Container)&&n.Container.length>0)&&a.__onBindViewer(n.Container[0]);a.__InitEvents(n)}},{key:"dispose",value:function(){this._stwain._viewer}},{key:"__InitEvents",value:function(n){var a=this;p.isFunction(n.onTopImageInTheViewChanged)&&(a.onTopImageInTheViewChanged=n.onTopImageInTheViewChanged),p.isFunction(n.onGetImageInfo)&&(a.onGetImageInfo=n.onGetImageInfo),p.isFunction(n.onZoomChanged)&&(a.onZoomChanged=n.onZoomChanged),p.isFunction(n.onMouseMove)&&(a.onMouseMove=n.onMouseMove),p.isFunction(n.onMouseClick)&&(a.onMouseClick=n.onMouseClick),p.isFunction(n.onMouseRightClick)&&(a.onMouseRightClick=n.onMouseRightClick),p.isFunction(n.onMouseDoubleClick)&&(a.onMouseDoubleClick=n.onMouseDoubleClick),p.isFunction(n.onImageAreaDeSelected)&&(a.onImageAreaDeSelected=n.onImageAreaDeSelected),p.isFunction(n.onImageAreaSelected)&&(a.onImageAreaSelected=n.onImageAreaSelected),p.isFunction(n.onBufferChanged)&&(a.onBufferChanged=n.onBufferChanged),p.isFunction(n.onSelected)&&(a.onSelected=n.onSelected),p.isFunction(n.onRefreshUI)&&(a.onRefreshUI=n.onRefreshUI),p.isFunction(n.onResetCurrentIndex)&&(a.onResetCurrentIndex=n.onResetCurrentIndex)}},{key:"GetWebViewer",value:function(){return this._stwain._viewer}},{key:"SetSelectedImageArea",value:function(n,a,s,u){if(this.GetWebViewer()!=null){var d=[],l={};return l.left=n,l.top=a,l.right=s,l.bottom=u,d.push(l),this.GetWebViewer().setSelectedAreas(d)}return!1}},{key:"OverlayRectangle",value:function(n,a,s,u,d,l,h){var m=this;return!!m._stwain._isNoViewer()||m.GetWebViewer()!=null&&m.GetWebViewer().webViewer.overlayRectangle(n,a,s,u,d,l,h)}},{key:"ChangeImageViewSize",value:function(n,a){var s=this;return n>=0&&(s.GetWebViewer().width,s.GetWebViewer().width=n),a>=0&&(s.GetWebViewer().height,s.GetWebViewer().height=a),!0}},{key:"ChangeSize",value:function(n,a){var s=this;return s.GetWidth()!=n&&s.SetWidth(n),s.GetHeight()!=a&&s.SetHeight(a),!0}},{key:"GetWidth",value:function(){return this.GetWebViewer().width}},{key:"SetWidth",value:function(n){var a=n;return this._stwain._isNoViewer()||(this.GetWebViewer().width=a),!0}},{key:"GetHeight",value:function(){return this.GetWebViewer().height}},{key:"SetHeight",value:function(n){var a=n;return this._stwain._isNoViewer()||(this.GetWebViewer().height=a),!0}},{key:"SetViewMode",value:function(n,a){var s=this;return s._stwain._isNoViewer()?s._stwain._nouiNotSupport("SetViewMode"):s.GetWebViewer().setViewMode(n,a)}},{key:"SetIfFitWindowAndType",value:function(n){var a;if(this.GetWebViewer()!=null){switch(n){case 1:a="height";break;case 2:a="width";break;default:a="window"}this.GetWebViewer().fitWindow(a)}return!0}},{key:"GetAllowMultiSelect",value:function(){return!this._stwain._isNoViewer()&&this.GetWebViewer().selectionMode}},{key:"SetAllowMultiSelect",value:function(n){var a=this;return a._stwain._isNoViewer()||(a.GetWebViewer().selectionMode=n?1:0),!0}},{key:"GetFitWindowType",value:function(){return this._stwain._isNoViewer(),0}},{key:"SetSelectionRectAspectRatio",value:function(n){return this.GetWebViewer().selectionRectAspectRatio=n,!0}},{key:"GetSelectionRectAspectRatio",value:function(){return this.GetWebViewer().selectionRectAspectRatio}},{key:"SetFitWindowType",value:function(n){return this._stwain._isNoViewer()||this.SetIfFitWindowAndType(n),!0}},{key:"GetIfFitWindow",value:function(){return this._stwain._isNoViewer(),!0}},{key:"SetIfFitWindow",value:function(n){var a=this;return a._stwain._isNoViewer()||(n?a.GetWebViewer().fitWindow("window"):a.GetWebViewer().zoom=1),!0}},{key:"GetImageMargin",value:function(){return this._stwain._isNoViewer()?0:this.GetWebViewer().pageMargin}},{key:"SetImageMargin",value:function(n){return this._stwain._isNoViewer()||(this.GetWebViewer().pageMargin=n),!0}},{key:"GetSelectionImageBorderColor",value:function(){return this.GetWebViewer().selectedPageBorder}},{key:"SetSelectionImageBorderColor",value:function(n){var a=n;return p.isNumber(a)&&(a=ea.getColor(a)),a.indexOf("1px solid")==-1&&(a="1px solid "+a),this.GetWebViewer().selectedPageBorder=a,!0}},{key:"GetZoom",value:function(){return this.GetWebViewer().zoom}},{key:"SetZoom",value:function(n,a,s){var u=this;return n<u.MIN_ZOOM&&(n=u.MIN_ZOOM),n>u.MAX_ZOOM&&(n=u.MAX_ZOOM),u.GetWebViewer()!=null&&(u.GetWebViewer().zoom=n),!0}},{key:"ZoomIn",value:function(n,a){var s=this,u=s._ImgManager.getImageIdMap(s._ImgManager.convertClientIndexToServerId(s._ImgManager.getCurrentImageIndex()));if(!u)return!1;var d=s.GetWebViewer().zoom,l=Math.floor(100*d*s.zoomInStep)+1;return 1<l&&l<2501?Wt(u.imageWidth*d)>15e3||Wt(u.imageHeight*d)>15e3?(sr.output(s,Dn.errorMessages.limitReachedForZoomIn),alert(Dn.errorMessages.limitReachedForZoomIn),!1):(s.SetZoom(l/100,n,a),!0):(sr.output(s,Dn.errorMessages.limitReachedForZoomIn),alert(Dn.errorMessages.limitReachedForZoomIn),!1)}},{key:"ZoomOut",value:function(){var n=this,a=n.GetWebViewer().zoom,s=Math.floor(100*a*n.zoomOutStep)-1;return 1<s&&s<6501?(n.SetZoom(s/100),!0):(sr.output(n,Dn.errorMessages.limitReachedForZoomOut),alert(Dn.errorMessages.limitReachedForZoomOut),!1)}},{key:"GetMouseShape",value:function(){return this._stwain._isNoViewer()?0:this.GetWebViewer().cursor!="crosshair"}},{key:"SetMouseShape",value:function(n){var a=this;return a._stwain._isNoViewer()||(a.GetWebViewer().cursor=n?"pointer":"crosshair"),!0}},{key:"GetShowPageNumber",value:function(){return!this._stwain._isNoViewer()&&this.GetWebViewer().showPageNumber}},{key:"SetShowPageNumber",value:function(n){return this._stwain._isNoViewer()||(this.GetWebViewer().showPageNumber=n),!0}},{key:"SetBackgroundFillColor",value:function(n){var a=n;return this.BackgroundFillColor=a,!0}},{key:"GetBackgroundColor",value:function(){return this.GetWebViewer().background}},{key:"SetBackgroundColor",value:function(n){var a=n;return this._stwain._isNoViewer()||(this.GetWebViewer().background=a),!0}},{key:"Go",value:function(n){return this.GetWebViewer().gotoPage(n)}},{key:"__Previous",value:function(){return this.Go(this._ImgManager.getCurrentImageIndex()-1),!0}},{key:"__Next",value:function(){return this.Go(this._ImgManager.getCurrentImageIndex()+1),!0}},{key:"__fireEvent",value:function(n,a){if(p.isFunction(this[n]))try{return this[n](a)}catch(s){_r(s)}return!0}},{key:"GetIfAutoScroll",value:function(){return this.GetWebViewer().ifAutoScroll}},{key:"SetIfAutoScroll",value:function(n){return this.GetWebViewer().ifAutoScroll=n,!0}},{key:"BindView",value:function(n){var a,s=n;return p.isString(n)?s=p.get(n):p.isDOM(s)&&(s.id&&s.id!=""||(s.id=["dwt_",p.getRandom()].join(""))),(a=this.GetWebViewer().bind(s))&&this.GetWebViewer().show(),a}},{key:"GetIfShowVideoContainer",value:function(){var n=this,a=n.GetWebViewer();return p.isUndefined(a)?(U.DWT.UseDefaultViewer?NC(n._stwain):c_(n._stwain),!1):a.webViewer.getIfShowVideoContainer()}},{key:"ShowVideoContainer",value:function(n){var a=this,s=a.GetWebViewer();return p.isUndefined(s)?(U.DWT.UseDefaultViewer?NC(a._stwain):c_(a._stwain),!1):s.webViewer.showVideoContainer(n)}},{key:"UpdateVideoContainer",value:function(n){var a=this,s=a.GetWebViewer();return p.isUndefined(s)?(U.DWT.UseDefaultViewer?NC(a._stwain):c_(a._stwain),!1):s.webViewer.updateVideoImage(n)}},{key:"ClearSelectedAreas",value:function(){var n=this.GetWebViewer();if(n)return n.clearSelectedAreas()}},{key:"OnCloseImageEditor",value:function(){return!!this.GetWebViewer().webViewer.imageEditor&&(this.GetWebViewer().createImageEditor().dispose(),!0)}},{key:"ShowImageEditorEx",value:function(n,a,s,u,d,l,h,m){var _=this;if(this._stwain._isNoViewer())return _._stwain._nouiNotSupport("ShowImageEditorEx");switch(d){case 0:case 1:case 2:break;case 3:if(_.OnCloseImageEditor())return!0}var S,y=document;if(Ps._getContainer(_._stwain)==h&&(l=!1),h){var b=U.DWT.ContainerMap;if(b){var I,x=Object.keys(b);for(I=0;I<x.length;I++)if(x[I]==h.id){l=!1;break}}}if(l&&h&&(p.isDOM(h)?S=h:bE(h)?(S=document.createElement("div"),h.appendChild(S)):(S=y.getElementById(h))&&S.nodeName!="DIV"&&(l=!1)),l&&h&&p.isDOM(h)){var D=SE(h);if(D){if(U.DWT.IfLoadResources){var W,$,te="";!ue.bFileSystem&&U.DWT.IfResourcesAddTimestamp&&(te=j.timestamp),(W=y.createElement("link")).href=[gs(),"/src/dynamsoft.webtwain.viewer.css",te].join(""),W.rel="stylesheet",W.async=!0,($=y.createElement("link")).href=[gs(),"/src/dynamsoft.webtwain.css",te].join(""),$.rel="stylesheet",$.async=!0,p.scriptOnload(W,function(){p.scriptOnload($,function(){return _.ShowImageEditor(S,l,s,u)}),D.appendChild($)}),D.appendChild(W)}return!0}}return _.ShowImageEditor(S,l,s,u)}},{key:"ShowImageEditor",value:function(n,a,s,u){var d=this;return n&&s&&u?(za.element=n,za.width=s,za.height=u):(za.element=void 0,za.width=void 0,za.height=void 0),za.border=d.GetWebViewer().border,za.selectionRectAspectRatio=d.GetWebViewer().selectionRectAspectRatio,za.workMode=WU.normal,d.GetWebViewer().createImageEditor(za),d._stwain.ErrorCode!=0&&(d.GetWebViewer().webViewer.imageEditor&&d.GetWebViewer().webViewer.imageEditor.dispose(),d.GetWebViewer().createImageEditor(za)),d.GetWebViewer().webViewer.imageEditor&&d.GetWebViewer().webViewer.imageEditor.show(),!0}},{key:"__beforeImageEditorCreated",value:function(n){var a=U.DWT.CustomizableDisplayInfo;if(!p.isUndefined(a)){if(!p.isUndefined(a.buttons)){var s=a.buttons.titles;p.isUndefined(s)||(p.isUndefined(s.previous)||(n.buttons.titles.previous=s.previous),p.isUndefined(s.next)||(n.buttons.titles.next=s.next),p.isUndefined(s.print)||(n.buttons.titles.print=s.print),p.isUndefined(s.scan)||(n.buttons.titles.scan=s.scan),p.isUndefined(s.load)||(n.buttons.titles.load=s.load),p.isUndefined(s.rotateleft)||(n.buttons.titles.rotateleft=s.rotateleft),p.isUndefined(s.rotate)||(n.buttons.titles.rotate=s.rotate),p.isUndefined(s.rotateright)||(n.buttons.titles.rotateright=s.rotateright),p.isUndefined(s.deskew)||(n.buttons.titles.deskew=s.deskew),p.isUndefined(s.crop)||(n.buttons.titles.crop=s.crop),p.isUndefined(s.cut)||(n.buttons.titles.cut=s.cut),p.isUndefined(s.changeimagesize)||(n.buttons.titles.changeimagesize=s.changeimagesize),p.isUndefined(s.flip)||(n.buttons.titles.flip=s.flip),p.isUndefined(s.mirror)||(n.buttons.titles.mirror=s.mirror),p.isUndefined(s.zoomin)||(n.buttons.titles.zoomin=s.zoomin),p.isUndefined(s.originalsize)||(n.buttons.titles.originalsize=s.originalsize),p.isUndefined(s.zoomout)||(n.buttons.titles.zoomout=s.zoomout),p.isUndefined(s.stretch)||(n.buttons.titles.stretch=s.stretch),p.isUndefined(s.fit)||(n.buttons.titles.fit=s.fit),p.isUndefined(s.fitw)||(n.buttons.titles.fitw=s.fitw),p.isUndefined(s.fith)||(n.buttons.titles.fith=s.fith),p.isUndefined(s.hand)||(n.buttons.titles.hand=s.hand),p.isUndefined(s.rectselect)||(n.buttons.titles.rectselect=s.rectselect),p.isUndefined(s.zoom)||(n.buttons.titles.zoom=s.zoom),p.isUndefined(s.restore)||(n.buttons.titles.restore=s.restore),p.isUndefined(s.save)||(n.buttons.titles.save=s.save),p.isUndefined(s.close)||(n.buttons.titles.close=s.close),p.isUndefined(s.removeall)||(n.buttons.titles.removeall=s.removeall),p.isUndefined(s.removeselected)||(n.buttons.titles.removeselected=s.removeselected));var u=a.buttons.bShowAllButtons;p.isUndefined(u)||(n.buttons.bShowAllButtons=u);var d=a.buttons.visibility;p.isUndefined(d)||(p.isUndefined(d.scan)||(n.buttons.visibility.scan=d.scan),p.isUndefined(d.load)||(n.buttons.visibility.load=d.load),p.isUndefined(d.print)||(n.buttons.visibility.print=d.print),p.isUndefined(d.removeall)||(n.buttons.visibility.removeall=d.removeall),p.isUndefined(d.removeselected)||(n.buttons.visibility.removeselected=d.removeselected),p.isUndefined(d.rotateleft)||(n.buttons.visibility.rotateleft=d.rotateleft),p.isUndefined(d.rotate)||(n.buttons.visibility.rotate=d.rotate),p.isUndefined(d.rotateright)||(n.buttons.visibility.rotateright=d.rotateright),p.isUndefined(d.deskew)||(n.buttons.visibility.deskew=d.deskew),p.isUndefined(d.crop)||(n.buttons.visibility.crop=d.crop),p.isUndefined(d.cut)||(n.buttons.visibility.cut=d.cut),p.isUndefined(d.changeimagesize)||(n.buttons.visibility.changeimagesize=d.changeimagesize),p.isUndefined(d.flip)||(n.buttons.visibility.flip=d.flip),p.isUndefined(d.mirror)||(n.buttons.visibility.mirror=d.mirror),p.isUndefined(d.zoomin)||(n.buttons.visibility.zoomin=d.zoomin),p.isUndefined(d.originalsize)||(n.buttons.visibility.originalsize=d.originalsize),p.isUndefined(d.zoomout)||(n.buttons.visibility.zoomout=d.zoomout),p.isUndefined(d.stretch)||(n.buttons.visibility.stretch=d.stretch),p.isUndefined(d.fit)||(n.buttons.visibility.fit=d.fit),p.isUndefined(d.fitw)||(n.buttons.visibility.fitw=d.fitw),p.isUndefined(d.fith)||(n.buttons.visibility.fith=d.fith),p.isUndefined(d.hand)||(n.buttons.visibility.hand=d.hand),p.isUndefined(d.rectselect)||(n.buttons.visibility.rectselect=d.rectselect),p.isUndefined(d.zoom)||(n.buttons.visibility.zoom=d.zoom))}var l=a.dialogText;p.isUndefined(l)||(p.isUndefined(l.dlgRotateAnyAngle)||(n.dialogText.dlgRotateAnyAngle=l.dlgRotateAnyAngle),p.isUndefined(l.dlgChangeImageSize)||(n.dialogText.dlgChangeImageSize=l.dlgChangeImageSize),p.isUndefined(l.saveChangedImage)||(n.dialogText.saveChangedImage=l.saveChangedImage),p.isUndefined(l.selectSource)||(n.dialogText.selectSource=l.selectSource))}}},{key:"__topPageChanged",value:function(n,a,s){s.__fireEvent("onTopImageInTheViewChanged",{index:n,bByScrollBar:a})}},{key:"__click",value:function(n,a){var s=a;s.__fireEvent("onMouseClick",{e:n,x:n.imageX,y:n.imageY,index:s._ImgManager.getCurrentImageIndex()})}},{key:"__rightclick",value:function(n,a){var s=a;s.__fireEvent("onMouseRightClick",{e:n,x:n.imageX,y:n.imageY,index:s._ImgManager.getCurrentImageIndex()})}},{key:"__dblclick",value:function(n,a){var s=a;s.__fireEvent("onMouseDoubleClick",{e:n,x:n.imageX,y:n.imageY,index:s._ImgManager.getCurrentImageIndex()})}},{key:"__mousemove",value:function(n,a){var s=a;s.__fireEvent("onMouseMove",{e:n,x:n.imageX,y:n.imageY,index:s._ImgManager.getCurrentImageIndex()})}},{key:"__pageAreaSelected",value:function(n,a,s){var u=s,d=1;if(a&&a.length>0){var l=a[a.length-1];l.index&&(d=Wt(l.index)+1),u.__fireEvent("onImageAreaSelected",{index:n,left:Wt(l.x),top:Wt(l.y),right:Wt(l.x+l.width),bottom:Wt(l.y+l.height),areaIndex:d})}}},{key:"__pageAreaUnselected",value:function(n,a){a.__fireEvent("onImageAreaDeSelected",n)}},{key:"__dragdone",value:function(n,a){var s=a;p.isFunction(s._stwain.__OnIndexChangeDragDropDone)&&s._stwain.__OnIndexChangeDragDropDone(n)}},{key:"__onDrop",value:function(n,a){var s=a;s.GetWebViewer().webViewer.acceptDrop&&s.__dropEvent(n,s)}},{key:"__dropEvent",value:function(n,a){var s,u,d=a,l=function(b){d._stwain._bIfShowProgressBar&&j.closeProgress(null),b&&sr.output(null,b+" was loaded successfully!")},h=function(b,I,x){d._stwain._bIfShowProgressBar&&j.closeProgress(null),d._stwain._errorCode=b,d._stwain._errorString=I,cT({code:b,message:I}),x&&sr.output(null,x+" failed to load. Error code: "+b+"Error String: "+I)};try{for(var m=n.dataTransfer.files,_=0;_<m.length;_++){if((s=m[_]).type.length==0){var S=void 0,y=s.name.indexOf(".");switch(y>0&&(S=s.name.substring(y+1)),S){case"bmp":u=U.DWT.EnumDWT_ImageType.IT_BMP;break;case"jpg":case"jpeg":u=U.DWT.EnumDWT_ImageType.IT_JPG;break;case"tif":case"tiff":u=U.DWT.EnumDWT_ImageType.IT_TIF;break;case"png":u=U.DWT.EnumDWT_ImageType.IT_PNG;break;case"pdf":u=U.DWT.EnumDWT_ImageType.IT_PDF;break;case"jp2":case"j2k":case"j2c":u=U.DWT.EnumDWT_ImageType.IT_J2K;break;default:sr.output(null,s.name+" failed to load because the file type is not supported!"),u=-1,oF(d._stwain)}}else switch(s.type){case"image/bmp":u=U.DWT.EnumDWT_ImageType.IT_BMP;break;case"image/jpg":case"image/jpeg":u=U.DWT.EnumDWT_ImageType.IT_JPG;break;case"image/tif":case"image/tiff":u=U.DWT.EnumDWT_ImageType.IT_TIF;break;case"image/png":u=U.DWT.EnumDWT_ImageType.IT_PNG;break;case"application/pdf":u=U.DWT.EnumDWT_ImageType.IT_PDF;break;case"image/jp2":u=U.DWT.EnumDWT_ImageType.IT_J2K;break;default:sr.output(null,s.name+" failed to load because the file type is not supported!"),u=-1,oF(d._stwain)}u!=-1&&(d._stwain._bIfShowProgressBar?j.showProgress(d._stwain,"DropLoading",d._stwain.IfShowCancelDialogWhenImageTransfer):j.hideProgress(),d._stwain._OnPercentDone([0,-1,Cr.Loading]),d._stwain.Addon&&d._stwain.Addon.PDF&&_t.checkProductKey(d._stwain,{PDFRasterizer:!0},!0),function(b){var I=new FileReader;I.readAsDataURL(b),I.onload=function(){var x=d._stwain.__GetLoadEventsNum();d._stwain.__LoadImageFromBytesV2(b,u,"",!0,0,b.size,!1,x,l,h)},I.onerror=function(x){fl(d._stwain),d._stwain._errorString=this.error,h(d._stwain._errorCode,d._stwain._getErrorString())}}(m[_]))}}catch(b){p.error(b.stack||b,"error"),setTimeout(function(){throw b},0)}}},{key:"__pageChange",value:function(n,a){var s,u=a,d=u._ImgManager.count();p.log("OnPagination"),d<=0?Mn(u._stwain):d!=1&&(!/^\d+$/.test(n)||n<=0?alert(Dn.errorMessages.invalidIndex):((s=Wt(n)-1)<0?s=0:s>=d&&(s=d-1),s!=u._ImgManager.getCurrentImageIndex()&&u.GetWebViewer().gotoPage(s)))}},{key:"__bufferChanged",value:function(n,a,s){var u,d=n,l=[],h=-1,m=[];a.operation&&(a.action=a.operation);for(var _=0;_<d._ImgManager.count();_++)(u=d._ImgManager.getCustomDataByIndex(_))&&u.serverId&&l.push(this._ImgManager._serverId2uidFromServer(u.serverId));if(a.imageIds=l,a.curIndex>=0&&(u=d._ImgManager.getCustomDataByIndex(a.curIndex))&&u.serverId&&(h=this._ImgManager._serverId2uidFromServer(u.serverId)),a.currentId=h,a.operation=="modify"&&a.afterStatus.modifiedUid!=""){var S=d._ImgManager.getIndexByUid(a.afterStatus.modifiedUid);S>=0&&(u=d._ImgManager.getCustomDataByIndex(S))&&u.serverId&&(a.modifiedId=this._ImgManager._serverId2uidFromServer(u.serverId))}if(a.afterStatus.selectedUids)for(var y=0;y<a.afterStatus.selectedUids.length;y++){var b=a.afterStatus.selectedUids[y];if(b&&b!=-1){var I=d._ImgManager.getIndexByUid(a.afterStatus.selectedUids[y]);I>=0&&(u=d._ImgManager.getCustomDataByIndex(I))&&u.serverId&&m.push(this._ImgManager._serverId2uidFromServer(u.serverId))}}a.selectedIds=m,p.mix(a,{}),delete a.uids,delete a.currentUid,delete a.selectedUids,delete a.afterStatus,delete a.beforeStatus,delete a.operation,delete a.curIndex,delete a.docUid,d.__fireEvent("onBufferChanged",a)}},{key:"__setError",value:function(n,a,s){var u=s;u._stwain._errorCode=n,u._stwain._errorString=a}},{key:"__acquire",value:function(n,a){var s=n;try{var u=!1;U.DWT.IfConfineMaskWithinTheViewer==1&&(U.DWT.IfConfineMaskWithinTheViewer=!1,u=!0);var d;d=p.isArray(a)&&a.length>=3?a:Dn.dialogText.selectSource,s._stwain._selectSourceAsync("SelectSourceAsync",null,d).then(function(){return s._stwain.AcquireImageAsync({IfShowUI:!0,IfCloseSourceAfterAcquire:!0})}).then(function(){u&&(U.DWT.IfConfineMaskWithinTheViewer=!0)}).catch(function(l){p.log("User did not select a source"),u&&(U.DWT.IfConfineMaskWithinTheViewer=!0)})}catch{}}},{key:"__loadImage",value:function(n){try{var a=n,s=null;U.DWT.IfConfineMaskWithinTheViewer&&(s=!0,U.DWT.IfConfineMaskWithinTheViewer=!1),a._stwain._containerElement=void 0,a._stwain.IfShowFileDialog=!0,a._stwain.Addon&&a._stwain.Addon.PDF&&_t.checkProductKey(a._stwain,{PDFRasterizer:!0},!0),a._stwain.LoadImageEx("",5,function(){p.log("Loaded an image successfully."),s!=null&&(U.DWT.IfConfineMaskWithinTheViewer=s)},function(u,d){p.log("Loading failed with the error: "+d),s!=null&&(U.DWT.IfConfineMaskWithinTheViewer=s)})}catch{}}},{key:"__print",value:function(n){var a=n;un(a._stwain),a._ImgManager.getCurrentImageIndex()<0||a._ImgManager.PrintCurrentImage()}},{key:"__save",value:(r=o(w().mark(function n(a,s,u,d,l){var h,m,_,S,y;return w().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(m="save",un((h=a)._stwain),!(h._ImgManager.count()<=0||h._ImgManager.getCurrentImageIndex()<0)){b.next=4;break}return b.abrupt("return");case 4:return h._stwain._containerElement=void 0,_=h.__getViewerElement(h,l),Jr(m,_),b.prev=7,S=this._ImgManager.getIndexByUid(s),y=this._ImgManager.convertClientIndexToServerId(S),b.next=12,h._stwain._updateImage(y,u,d);case 12:b.sent,b.next=17;break;case 15:b.prev=15,b.t0=b.catch(7);case 17:return b.prev=17,u=null,Dr(m),b.finish(17);case 21:return b.abrupt("return",void 0);case 22:case"end":return b.stop()}},n,this,[[7,15,17,21]])})),function(n,a,s,u,d){return r.apply(this,arguments)})},{key:"__getViewerElement",value:function(n,a){var s,u=n;if(a)if(u.GetWebViewer().webViewer.imageEditor){var d=u.GetWebViewer().createImageEditor();s=d.inner.containerElement.className=="dwt-viewer-imageEditor-fullScreen"?{_containerElement:document.body}:{_containerElement:d.inner.containerElement}}else s=u._stwain;else s=u._stwain;return s}},{key:"__deskew",value:function(n,a,s){var u=this,d="deskew";un(u._stwain);var l=u._ImgManager.getCurrentImageIndex();if(u._ImgManager.count()<=0||l<0)mo.output(u,"No image in Buffer");else{var h=u.__getViewerElement(u,!0);Jr(d,h),u._stwain.GetSkewAngleFromBinaryAsync(l,a,function(m){s(m[0]),Dr(d)},function(){Dr(d)})}}},{key:"__remove",value:function(n){var a=this;un(a._stwain),a._ImgManager.count()<=0||a._ImgManager.getCurrentImageIndex()<0?mo.output(a,"No image in Buffer"):a._stwain.RemoveAllSelectedImages()}},{key:"__removeAll",value:function(n){var a=this;un(a._stwain),a._ImgManager.count()<=0||a._ImgManager.getCurrentImageIndex()<0?mo.output(a,"No image in Buffer"):a._stwain.RemoveAllImages()}},{key:"__onBindViewer",value:function(n){n&&(Ps._setContainer(this._stwain,n),n.id&&(U.DWT.ContainerMap[n.id]=this._stwain))}},{key:"__onUnBindViewer",value:function(n){if(n){var a=Ps._getContainer(this._stwain);if(a)for(;a.firstChild;)a.removeChild(a.firstChild);if(Ps._setContainer(this._stwain,null),n.id){var s=U.DWT.ContainerMap;n.id in s&&delete U.DWT.ContainerMap[n.id]}}}},{key:"__close",value:function(n){un(this._stwain),Ps._closeImageEditorUI(this._stwain)}},{key:"__rotateRightForServer",value:function(n){var a=this;un(a._stwain);var s=a._ImgManager.getCurrentImageIndex();a._ImgManager.count()<=0||s<0?mo.output(a,"No image in Buffer"):a._stwain.RotateRight(s)}},{key:"__rotateForServer",value:function(n,a,s,u){var d=this;un(d._stwain);var l=d._ImgManager.getCurrentImageIndex();d._ImgManager.count()<=0||l<0?mo.output(d,"No image in Buffer"):d._stwain.RotateEx(l,a,u,s)}},{key:"__rotateLeftForServer",value:function(n){var a=this;un(a._stwain);var s=a._ImgManager.getCurrentImageIndex();a._ImgManager.count()<=0||s<0?mo.output(a,"No image in Buffer"):a._stwain.RotateLeft(s)}},{key:"__deskewForServer",value:function(n){var a=this;un(a._stwain);var s=a._ImgManager.getCurrentImageIndex();a._ImgManager.count()<=0||s<0?mo.output(a,"No image in Buffer"):a._stwain.GetSkewAngleAsync(s).then(function(u){a._stwain.RotateEx(s,u,!0,5,function(){},function(){})})}},{key:"__cropForServer",value:function(n,a){var s=this;un(s._stwain);var u=s._ImgManager.getCurrentImageIndex();if(s._ImgManager.count()<=0||u<0)mo.output(s,"No image in Buffer");else{var d=a.left,l=a.top,h=d+a.width,m=l+a.height;s._stwain.Crop(u,Wt(d),Wt(l),Wt(h),Wt(m))}}},{key:"__eraseForServer",value:function(n,a){var s=this;un(s._stwain);var u=s._ImgManager.getCurrentImageIndex();if(s._ImgManager.count()<=0||u<0)mo.output(s,"No image in Buffer");else{var d=a.left,l=a.top,h=d+a.width,m=l+a.height;s._stwain.CutFrameToClipboard(u,Wt(d),Wt(l),Wt(h),Wt(m))}}},{key:"__changeImageSizeForServer",value:function(n,a,s,u){var d=this;un(d._stwain);var l=d._ImgManager.getCurrentImageIndex();d._ImgManager.count()<=0||l<0?mo.output(d,"No image in Buffer"):d._stwain.ChangeImageSize(l,a,s,u)}},{key:"__flipForServer",value:function(n){var a=this;un(a._stwain);var s=a._ImgManager.getCurrentImageIndex();a._ImgManager.count()<=0||s<0?mo.output(a,"No image in Buffer"):a._stwain.Flip(s)}},{key:"__mirrorForServer",value:function(n){var a=this;un(a._stwain);var s=a._ImgManager.getCurrentImageIndex();a._ImgManager.count()<=0||s<0?mo.output(a,"No image in Buffer"):a._stwain.Mirror(s)}},{key:"__restoreForServer",value:function(n,a){var s=n;if(un(s._stwain),s._ImgManager.count()<=0||s._ImgManager.getCurrentImageIndex()<0)mo.output(s,"No image in Buffer");else{var u=s._ImgManager.getIndexByUid(a);u>=0&&s.__RestoreImageInner(s,u)}}},{key:"__saveForServer",value:function(n,a){var s=n;return new Ce.Promise(function(u,d){un(s._stwain),(s._ImgManager.count()<=0||s._ImgManager.getCurrentImageIndex()<0)&&(mo.output(s,"No image in Buffer"),u());var l=s._ImgManager.getIndexByUid(a);l>=0?s.__SaveImageInner(s,l,!0,function(){u()}):u()})}},{key:"__RestoreImageInner",value:function(n,a,s){var u=n,d=u._ImgManager.getImageIdMap(u._ImgManager.convertClientIndexToServerId(a));d&&u.__OnGetImageFromServerForEdit(d,a,1,function(l,h,m){if(l){p.log("__RestoreImageInner: "+[l.uuid].join(","));var _=p.clone(l);_.imageId=l.serverId,u._ImgManager.UpdateImage(_,m)}if((l&&l.serverId)==-1)return s&&s(),!1;s&&s()})}},{key:"__SaveImageInner",value:function(n,a,s,u){var d=n,l=d._ImgManager.getImageIdMap(d._ImgManager.convertClientIndexToServerId(a));return l&&d.__OnGetImageFromServerForEdit(l,a,2,function(h,m,_){if(h){if(s==1&&(p.log("__SaveImageInner: "+[h.uuid].join(",")),d._ImgManager.getCurrentImageIndex()==m)){var S=p.clone(h);S.imageId=h.serverId,d._ImgManager.UpdateImage(S,_)}if(h.serverId==-1)return u&&u(),!1}return u&&u(),!0}),!0}},{key:"__OnGetImageFromServerForEdit",value:function(n,a,s,u){var d=this;if(u&&d._ImgManager.getBaseUrl){var l=d._ImgManager.convertClientIndexToServerId(a);if(l==-1)return!1;U.DWT.ConnectWithSocket?u():Po({method:"GET",xhrFields:{withCredentials:!0},url:sr.getUrlByAct(d._ImgManager.getBaseUrl,l,s),onSuccess:function(h){var m;n.ticks=Date.now(),m=U.navInfoSync.bMobile?sr.getImageUrl(d._ImgManager.getBaseUrl,l,Math.round(n.iImageControlWidth*devicePixelRatio),Math.round(n.iImageControlHeight*devicePixelRatio),n.ticks):sr.getImageUrl(d._ImgManager.getBaseUrl,l,Wt(n.iImageControlWidth),Wt(n.iImageControlHeight),n.ticks),n.imageUrl=sr.getImageUrl(d._ImgManager.getBaseUrl,l,-1,-1,n.ticks),n.minImageUrl=m;var _=d._ImgManager.GetMetaDataByIndex(a);if(_){var S=d._ImgManager.getImageIdMap(l);S&&S.width?_.width=S.width:_.width=d._stwain.GetImageWidth(a),S&&S.height?_.height=S.height:_.height=d._stwain.GetImageHeight(a)}u(n,a,_)},onError:function(){}})}return!0}}]);var r}(),jU=function(r){function n(a,s){var u;f(this,n);var d=u=c(this,n,[s]);return d._stwain=a,d.bImageJustChangedInEditor=!1,d.bImageChangedInViewer=!1,u}return P(n,r),v(n,[{key:"getUidByIndex",value:function(a){return this._buffer.getUidByIndex(a)}},{key:"dispose",value:function(){return!0}},{key:"append",value:function(a,s,u,d,l){var h,m,_,S,y,b=this;(this._buffer.isActiveFile||!p.isUndefined(l))&&d.currentFileName&&d.currentFileName.length>0?y=m=b.getCountByDocumentName(d.currentFileName):(m=b.count(),y=b.getCountByDocumentName(b.GetCurrentFileName())),_=b.getCurrentImageIndex();for(var I=m-1;I>=a;I--)S=b.convertClientIndexToServerId(I),b.removeByServerId(S,I);return m<a?(h=y,b._updateUIAfterAdd(h,s,u,d,!0)):(h=_>=m-1?0:_+1,S=b.convertClientIndexToServerId(h),b.removeByServerId(S,h),h==a-1?b._updateUIAfterAdd(h,s,u,d,!0):b._updateUIAfterAdd(h,s,u,d,!1))}},{key:"insertBefore",value:function(a,s,u,d,l){var h,m=1*a;return(m<0||m>s)&&(m=-1),m>=(h=this.count())&&(m=h),this._updateUIAfterAdd(m,u,d,l,!1)}},{key:"exists",value:function(a){return!p.isUndefined(this.getImageIdMap(a))}},{key:"insert",value:function(a,s,u,d,l){var h,m=1*a;return(m<0||m>s)&&(m=-1),m>=(h=this.count())&&(m=h),this._updateUIAfterAdd(m,u,d,l,!1)}},{key:"moveImage",value:function(a,s,u){return this._buffer.moveImage(a,s)}},{key:"switchImage",value:function(a,s){return this._buffer.switchImage(a,s)}},{key:"setSelectedClientIndexArray",value:function(a){return this._buffer.selectImages(a)}},{key:"getSelectedClientIndexArray",value:function(a){return this._buffer.getSelectedImagesIndices()}},{key:"showImagesByFilter",value:function(a,s,u){return this._buffer.filterImagesByTag(a,s,u)}},{key:"clearFilter",value:function(){return this._buffer.clearFilter()}},{key:"removeImageTag",value:function(a){return this._buffer.removeImageTag(a)}},{key:"addImageTag",value:function(a,s){return this._buffer.tagImages(a,s)}},{key:"getCurrentTag",value:function(){var a;return(a=this._buffer.getCurrentTag())==0?"":a}},{key:"renameTag",value:function(a,s){return this._buffer.renameTag(a,s)}},{key:"removeTag",value:function(a,s){return this._buffer.removeTag(a,s)}},{key:"getTagList",value:function(){return this._buffer.getTagList()}},{key:"getTagListByIndex",value:function(a){return this._buffer.getTagListByIndex(a)}},{key:"OpenFile",value:function(a){return this._buffer.openDocument(a)}},{key:"CreateFile",value:function(a){return this._buffer.createDocument(a)}},{key:"GetCurrentFileName",value:function(){return this._buffer.getCurrentFileName()}},{key:"RemoveFile",value:function(a){return this._buffer.removeDocument(a)}},{key:"RenameFile",value:function(a,s){return this._buffer.renameDocument(a,s)}},{key:"GetFileInfoList",value:function(){return this._buffer.getDocumentInfoList()}},{key:"MoveImageToFile",value:function(a,s,u,d){return this._buffer.moveImageToFile(a,s,u,d)}},{key:"GetServerIdsByFileName",value:function(a){var s,u=this,d=[];return(s=u.GetFileInfoList())?p.each(s,function(l){if(a==l.name){if(l.imageIds)for(var h=0;h<l.imageIds.length;h++){var m=l.imageIds[h];if(m&&m!=-1){var _=u._stwain._uidFromServer2ServerId(m);_>0&&d.push(_)}}return!1}}):d=[],d}},{key:"insertImage",value:function(a,s,u){this._buffer.insertImage(s,a,u)}},{key:"GetMetaDataByIndex",value:function(a){return this._buffer.getMetadataByUid(this._buffer.getUidByIndex(a))}},{key:"RefreshAllImages",value:function(a,s){for(var u,d,l,h=this,m=0;m<h.count();m++){u=h.convertClientIndexToServerId(m);var _=h.getImageIdMap(u);if(_){l=h.GetMetaDataByIndex(m),d=U.navInfoSync.bMobile?sr.getImageUrl(h._baseUrl,u,Math.round(a*devicePixelRatio),Math.round(s*devicePixelRatio),Date.now()):sr.getImageUrl(h._baseUrl,u,a,s,Date.now());var S=p.clone(_);S.imageId=u,S.minImageUrl=d,h._buffer.updateImage(S,l)}}}},{key:"UpdateData",value:function(a,s){var u=a,d=this.getImageIdMap(u);if(d){var l=p.clone(d);l.imageId=a,this._buffer.updateImage(l,s)}return!0}},{key:"UpdateImage",value:function(a,s){return this._buffer.updateImage(a,s),!0}},{key:"_setDataImageControl",value:function(a,s,u){var d,l,h,m,_=this;if(u)h=a;else if(h=(l=_.getCustomDataByIndex(a)).serverId,m=l.uidFromServer,h<=0)return!1;return(d=_.getImageIdMap(h))||((d=new x_).serverId=h,d.uidFromServer=m,s&&(s.height&&(d.height=s.height),s.width&&(d.width=s.width)),_._serverIdMap[h]=d,_._uidMap[m]=d),s&&(s.height&&(d.height=s.height),s.width&&(d.width=s.width)),d!=null&&(d.bIsDirty=!0),_.__GetImageAndAttach(d,h,!0,!1,!1,a,s),!0}},{key:"__AttachImages",value:function(){var a,s,u,d=this;s=d.count();for(var l=0;l<s;l++)(a=d.convertClientIndexToServerId(l))>=0&&(u=d.getImageIdMap(a))&&d.__GetImageAndAttach(u,a,!0,!1,!1,0)}},{key:"AddImage",value:function(a,s,u,d,l){var h,m=this,_=1*a;return!(s<=0)&&((h=new x_).bIsDirty=!0,h.serverId=s,h.uidFromServer=u,m._serverIdMap[s]=h,m._uidMap[u]=h,s>=0&&m.__GetImageAndAttach(h,s,!1,!0,l,_,d),!0)}},{key:"OnGetImageByURL",value:function(a,s,u,d,l,h,m,_){return s.imageUrl&&s.imageUrl!=""?(s.iImageControlWidth=u,s.iImageControlHeight=d,s.bAddImage=l,s.bAppendImage=h,s.index=m,this._attachImagesForControl(s,_),!0):this.OnGetImageFromServer(a,s,u,d,l,h,m,_)}},{key:"OnGetImageFromServer",value:function(a,s,u,d,l,h,m,_){var S,y,b=this,I=b._baseUrl;if(I){if(a<=0)return!1;s.bIsDirty&&(s.ticks=Date.now()),p.isUndefined(u)&&(u=-1),p.isUndefined(d)&&(d=-1),s.iImageControlWidth=u,s.iImageControlHeight=d,s.bAddImage=l,s.bAppendImage=h,s.index=m,U.DWT.ConnectWithSocket&&b._stwain._isBindViewer()?(b._attachImagesForControl(s,_),Ps._getblob_queue.push([b._stwain,a,_]),Ps.ProcessGetBlobByQueue()):(S=sr.getImageUrl(I,a,-1,-1,s.ticks),y=U.navInfoSync.bMobile?sr.getImageUrl(I,a,Math.round(u*devicePixelRatio),Math.round(d*devicePixelRatio),s.ticks):sr.getImageUrl(I,a,u,d,s.ticks),s.imageUrl=S,s.minImageUrl=y,b._attachImagesForControl(s,_))}return!0}},{key:"getBaseUrl",get:function(){return this._baseUrl}},{key:"_attachImagesForControl",value:function(a,s){var u,d,l=this;if((d=p.clone(a)).imageId=d.serverId,d.bAddImage){if(u=s.currentFileName.length>0?l._buffer.addImage(d,s,s.currentFileName):l._buffer.addImage(d,s)){var h=M(u,1)[0],m=this.getImageIdMap(d.serverId);m&&(m.uuid=h);var _=this._buffer.getCustomDataByUid(h);_&&(_.serverId&&d&&d.serverId&&(_.serverId=d.serverId),_.uidFromServer&&(_.uidFromServer=d.uidFromServer))}}else l._buffer.updateImage(d,s);return!0}},{key:"_updateUIAfterAdd",value:function(a,s,u,d,l){return!(s<0)&&this.AddImage(a,s,u,d,l)}},{key:"__GetImageAndAttach",value:function(a,s,u,d,l,h,m){var _,S,y,b=this;b._stwain._isBindViewer()?(y=b._stwain.Viewer.height>=400?b._stwain.Viewer.height:400,S=b._stwain.Viewer.width>=400?b._stwain.Viewer.width:400):(S=-1,y=-1);var I=!1;I=!!u||a.bIsDirty==1;var x=(_=b.getImageIdMap(s))===null||_===void 0?void 0:_.uuid;x&&x!=-1&&a.iImageControlWidth==S&&a.iImageControlHeight==y&&a.bIsDirty==0||b.__SetArrayControlLoadImage(s,a,S,y,I,d,l,h,m)}},{key:"__SetArrayControlLoadImage",value:function(a,s,u,d,l,h,m,_,S){l?this.OnGetImageFromServer(a,s,u,d,h,m,_,S):this.OnGetImageByURL(a,s,u,d,h,m,_,S)}},{key:"GetServerIdList",value:function(){var a,s,u,d=this,l=[];if(a=d._buffer.getDocumentContents(d._buffer.getCurrentDocument()))for(var h=0;h<a.length;h++)(s=a[h])&&s!=-1&&(u=d._buffer.getCustomDataByUid(s))&&l.push(u.serverId);return l}}])}(If);function CE(){var r=window.Dynamsoft.Lib.Promise;if(Ig)return r.resolve(Ig);var n,a=navigator;if(a&&"userAgentData"in a){var s=navigator.userAgentData;if(s.platform&&s.platform!=""){var u=[];if("brands"in s&&p.isArray(s.brands)&&s.brands.length>0?u=s.brands:"uaList"in s&&p.isArray(s.uaList)&&s.uaList.length>0&&(u=s.uaList),u.length>0)return(n=function(d){var l=ue,h=d.architecture.toLowerCase(),m=d.bitness=="64",_=h.indexOf("arm")>-1,S=h.indexOf("mips")>-1;return{bUseUserAgent:!1,bWin:l.bWin,bMac:l.bMac,bLinux:l.bLinux,bAndroid:l.bAndroid,bMobile:l.bMobile,bPad:l.bPad,bChromeOS:l.bChromeOS,bHarmonyOS:l.bHarmonyOS,bArm64:_,bMips64:S,bEmbed:_||S,bOSx64:m,bIE:!1,bEdge:l.bEdge,bChrome:l.bChrome,bFirefox:l.bFirefox,bSafari:l.bSafari,bOpera:l.bOpera,bGecko:!0,bHuaWeiBrowser:!1,bHTML5Edition:!0,strBrowserVersion:l.strBrowserVersion,IEMode:0}},navigator.userAgentData.getHighEntropyValues(["platform","platformVersion","architecture","bitness"]).then(n)).then(function(d){return Ig=d,d})}}return Ig=ue,r.resolve(Ig)}var TE=0,IE=[],wE=!(!document||!document.addEventListener),GU="DOMContentLoaded",zU="readystatechange",HU="load",$U="complete",EE=wE?function(r,n,a){r.addEventListener(n,a,!1)}:function(r,n,a){r.attachEvent("on"+n,a)},xE=wE?function(r,n,a){r.removeEventListener(n,a,!1)}:function(r,n,a){r.detachEvent("on"+n,a)};function xf(){TE||(TE=1,CE().then(function(){document&&xE(window,HU,xf),function(){for(var r=function(){try{IE[n]()}catch(a){p.log(a,"error"),setTimeout(function(){throw a},0)}},n=0;n<IE.length;n++)r()}()}))}function wg(r){if(TE)try{r()}catch(n){p.log(n,"error"),setTimeout(function(){throw n},0)}else IE.push(r);return this}var ele=function(r){var n=r||window.event,a=!0;return p.each(Ce.Events.registedObjs,function(s){p.each(Ce.Events.registedClass,function(u){if(s instanceof u&&s.bFocus&&s.handlerKeyDown&&!(a=s.handlerKeyDown(n)))return!1})}),a};function AE(r,n){for(var a in n)n.hasOwnProperty(a)&&!p.isUndefined(n[a])&&(r.hasOwnProperty(a)&&!p.isUndefined(r[a])||(r[a]=n[a]));return r}wg(function(){p.addEventListener(document.documentElement,"keydown",ele)}),AE(U.DWT,ko),AE(U.DWT,e$),U.DWT.CertificateConfig?AE(U.DWT.CertificateConfig,IC):U.DWT.CertificateConfig=IC,U.DWT.RegisterEvent=function(r,n){if(p.isUndefined(r))throw{code:-2314,message:"The parameter cannot be empty."};if(!p.isString(r)||p.isString(r)&&r.trim().length==0||p.isUndefined(n)||!p.isFunction(n))throw{code:-2416,message:"Invalid parameter."};return p.isFunction(n)&&(U.DWT[r]=n),!0};var Ds=function(r){return r.CAP_NONE=0,r.CAP_XFERCOUNT=1,r.ICAP_COMPRESSION=256,r.ICAP_PIXELTYPE=257,r.ICAP_UNITS=258,r.ICAP_XFERMECH=259,r.CAP_AUTHOR=4096,r.CAP_CAPTION=4097,r.CAP_FEEDERENABLED=4098,r.CAP_FEEDERLOADED=4099,r.CAP_TIMEDATE=4100,r.CAP_SUPPORTEDCAPS=4101,r.CAP_EXTENDEDCAPS=4102,r.CAP_AUTOFEED=4103,r.CAP_CLEARPAGE=4104,r.CAP_FEEDPAGE=4105,r.CAP_REWINDPAGE=4106,r.CAP_INDICATORS=4107,r.CAP_SUPPORTEDCAPSEXT=4108,r.CAP_PAPERDETECTABLE=4109,r.CAP_UICONTROLLABLE=4110,r.CAP_DEVICEONLINE=4111,r.CAP_AUTOSCAN=4112,r.CAP_THUMBNAILSENABLED=4113,r.CAP_DUPLEX=4114,r.CAP_DUPLEXENABLED=4115,r.CAP_ENABLEDSUIONLY=4116,r.CAP_CUSTOMDSDATA=4117,r.CAP_ENDORSER=4118,r.CAP_ALARMS=4120,r.CAP_ALARMVOLUME=4121,r.CAP_AUTOMATICCAPTURE=4122,r.CAP_TIMEBEFOREFIRSTCAPTURE=4123,r.CAP_TIMEBETWEENCAPTURES=4124,r.CAP_CLEARBUFFERS=4125,r.CAP_MAXBATCHBUFFERS=4126,r.CAP_DEVICETIMEDATE=4127,r.CAP_POWERSUPPLY=4128,r.CAP_CAMERAPREVIEWUI=4129,r.CAP_SERIALNUMBER=4132,r.CAP_PRINTER=4134,r.CAP_PRINTERENABLED=4135,r.CAP_PRINTERINDEX=4136,r.CAP_PRINTERMODE=4137,r.CAP_PRINTERSTRING=4138,r.CAP_PRINTERSUFFIX=4139,r.CAP_LANGUAGE=4140,r.CAP_FEEDERALIGNMENT=4141,r.CAP_FEEDERORDER=4142,r.CAP_REACQUIREALLOWED=4144,r.CAP_BATTERYMINUTES=4146,r.CAP_BATTERYPERCENTAGE=4147,r.CAP_CAMERASIDE=4148,r.CAP_SEGMENTED=4149,r.CAP_CAMERAENABLED=4150,r.CAP_CAMERAORDER=4151,r.CAP_MICRENABLED=4152,r.CAP_FEEDERPREP=4153,r.CAP_FEEDERPOCKET=4154,r.CAP_AUTOMATICSENSEMEDIUM=4155,r.CAP_CUSTOMINTERFACEGUID=4156,r.ICAP_AUTOBRIGHT=4352,r.ICAP_BRIGHTNESS=4353,r.ICAP_CONTRAST=4355,r.ICAP_CUSTHALFTONE=4356,r.ICAP_EXPOSURETIME=4357,r.ICAP_FILTER=4358,r.ICAP_FLASHUSED=4359,r.ICAP_GAMMA=4360,r.ICAP_HALFTONES=4361,r.ICAP_HIGHLIGHT=4362,r.ICAP_IMAGEFILEFORMAT=4364,r.ICAP_LAMPSTATE=4365,r.ICAP_LIGHTSOURCE=4366,r.ICAP_ORIENTATION=4368,r.ICAP_PHYSICALWIDTH=4369,r.ICAP_PHYSICALHEIGHT=4370,r.ICAP_SHADOW=4371,r.ICAP_FRAMES=4372,r.ICAP_XNATIVERESOLUTION=4374,r.ICAP_YNATIVERESOLUTION=4375,r.ICAP_XRESOLUTION=4376,r.ICAP_YRESOLUTION=4377,r.ICAP_MAXFRAMES=4378,r.ICAP_TILES=4379,r.ICAP_BITORDER=4380,r.ICAP_CCITTKFACTOR=4381,r.ICAP_LIGHTPATH=4382,r.ICAP_PIXELFLAVOR=4383,r.ICAP_PLANARCHUNKY=4384,r.ICAP_ROTATION=4385,r.ICAP_SUPPORTEDSIZES=4386,r.ICAP_THRESHOLD=4387,r.ICAP_XSCALING=4388,r.ICAP_YSCALING=4389,r.ICAP_BITORDERCODES=4390,r.ICAP_PIXELFLAVORCODES=4391,r.ICAP_JPEGPIXELTYPE=4392,r.ICAP_TIMEFILL=4394,r.ICAP_BITDEPTH=4395,r.ICAP_BITDEPTHREDUCTION=4396,r.ICAP_UNDEFINEDIMAGESIZE=4397,r.ICAP_EXTIMAGEINFO=4399,r.ICAP_MINIMUMHEIGHT=4400,r.ICAP_MINIMUMWIDTH=4401,r.ICAP_AUTODISCARDBLANKPAGES=4404,r.ICAP_FLIPROTATION=4406,r.ICAP_BARCODEDETECTIONENABLED=4407,r.ICAP_SUPPORTEDBARCODETYPES=4408,r.ICAP_BARCODEMAXSEARCHPRIORITIES=4409,r.ICAP_BARCODESEARCHPRIORITIES=4410,r.ICAP_BARCODESEARCHMODE=4411,r.ICAP_BARCODEMAXRETRIES=4412,r.ICAP_BARCODETIMEOUT=4413,r.ICAP_ZOOMFACTOR=4414,r.ICAP_PATCHCODEDETECTIONENABLED=4415,r.ICAP_SUPPORTEDPATCHCODETYPES=4416,r.ICAP_PATCHCODEMAXSEARCHPRIORITIES=4417,r.ICAP_PATCHCODESEARCHPRIORITIES=4418,r.ICAP_PATCHCODESEARCHMODE=4419,r.ICAP_PATCHCODEMAXRETRIES=4420,r.ICAP_PATCHCODETIMEOUT=4421,r.ICAP_FLASHUSED2=4422,r.ICAP_IMAGEFILTER=4423,r.ICAP_NOISEFILTER=4424,r.ICAP_OVERSCAN=4425,r.ICAP_AUTOMATICBORDERDETECTION=4432,r.ICAP_AUTOMATICDESKEW=4433,r.ICAP_AUTOMATICROTATE=4434,r.ICAP_JPEGQUALITY=4435,r.ICAP_FEEDERTYPE=4436,r.ICAP_ICCPROFILE=4437,r.ICAP_AUTOSIZE=4438,r.ICAP_AUTOMATICCROPUSESFRAME=4439,r.ICAP_AUTOMATICLENGTHDETECTION=4440,r.ICAP_AUTOMATICCOLORENABLED=4441,r.ICAP_AUTOMATICCOLORNONCOLORPIXELTYPE=4442,r.ICAP_COLORMANAGEMENTENABLED=4443,r.ICAP_IMAGEMERGE=4444,r.ICAP_IMAGEMERGEHEIGHTTHRESHOLD=4445,r.ICAP_SUPPORTEDEXTIMAGEINFO=4446,r}({}),tle=function(r){return r.TWLG_DAN=0,r.TWLG_DUT=1,r.TWLG_ENG=2,r.TWLG_FCF=3,r.TWLG_FIN=4,r.TWLG_FRN=5,r.TWLG_GER=6,r.TWLG_ICE=7,r.TWLG_ITN=8,r.TWLG_NOR=9,r.TWLG_POR=10,r.TWLG_SPA=11,r.TWLG_SWE=12,r.TWLG_USA=13,r.TWLG_USERLOCALE=-1,r.TWLG_AFRIKAANS=14,r.TWLG_ALBANIA=15,r.TWLG_ARABIC=16,r.TWLG_ARABIC_ALGERIA=17,r.TWLG_ARABIC_BAHRAIN=18,r.TWLG_ARABIC_EGYPT=19,r.TWLG_ARABIC_IRAQ=20,r.TWLG_ARABIC_JORDAN=21,r.TWLG_ARABIC_KUWAIT=22,r.TWLG_ARABIC_LEBANON=23,r.TWLG_ARABIC_LIBYA=24,r.TWLG_ARABIC_MOROCCO=25,r.TWLG_ARABIC_OMAN=26,r.TWLG_ARABIC_QATAR=27,r.TWLG_ARABIC_SAUDIARABIA=28,r.TWLG_ARABIC_SYRIA=29,r.TWLG_ARABIC_TUNISIA=30,r.TWLG_ARABIC_UAE=31,r.TWLG_ARABIC_YEMEN=32,r.TWLG_BASQUE=33,r.TWLG_BYELORUSSIAN=34,r.TWLG_BULGARIAN=35,r.TWLG_CATALAN=36,r.TWLG_CHINESE=37,r.TWLG_CHINESE_HONGKONG=38,r.TWLG_CHINESE_PRC=39,r.TWLG_CHINESE_SINGAPORE=40,r.TWLG_CHINESE_SIMPLIFIED=41,r.TWLG_CHINESE_TAIWAN=42,r.TWLG_CHINESE_TRADITIONAL=43,r.TWLG_CROATIA=44,r.TWLG_CZECH=45,r.TWLG_DANISH=0,r.TWLG_DUTCH=1,r.TWLG_DUTCH_BELGIAN=46,r.TWLG_ENGLISH=2,r.TWLG_ENGLISH_AUSTRALIAN=47,r.TWLG_ENGLISH_CANADIAN=48,r.TWLG_ENGLISH_IRELAND=49,r.TWLG_ENGLISH_NEWZEALAND=50,r.TWLG_ENGLISH_SOUTHAFRICA=51,r.TWLG_ENGLISH_UK=52,r.TWLG_ENGLISH_USA=13,r.TWLG_ESTONIAN=53,r.TWLG_FAEROESE=54,r.TWLG_FARSI=55,r.TWLG_FINNISH=4,r.TWLG_FRENCH=5,r.TWLG_FRENCH_BELGIAN=56,r.TWLG_FRENCH_CANADIAN=3,r.TWLG_FRENCH_LUXEMBOURG=57,r.TWLG_FRENCH_SWISS=58,r.TWLG_GERMAN=6,r.TWLG_GERMAN_AUSTRIAN=59,r.TWLG_GERMAN_LUXEMBOURG=60,r.TWLG_GERMAN_LIECHTENSTEIN=61,r.TWLG_GERMAN_SWISS=62,r.TWLG_GREEK=63,r.TWLG_HEBREW=64,r.TWLG_HUNGARIAN=65,r.TWLG_ICELANDIC=7,r.TWLG_INDONESIAN=66,r.TWLG_ITALIAN=8,r.TWLG_ITALIAN_SWISS=67,r.TWLG_JAPANESE=68,r.TWLG_KOREAN=69,r.TWLG_KOREAN_JOHAB=70,r.TWLG_LATVIAN=71,r.TWLG_LITHUANIAN=72,r.TWLG_NORWEGIAN=9,r.TWLG_NORWEGIAN_BOKMAL=73,r.TWLG_NORWEGIAN_NYNORSK=74,r.TWLG_POLISH=75,r.TWLG_PORTUGUESE=10,r.TWLG_PORTUGUESE_BRAZIL=76,r.TWLG_ROMANIAN=77,r.TWLG_RUSSIAN=78,r.TWLG_SERBIAN_LATIN=79,r.TWLG_SLOVAK=80,r.TWLG_SLOVENIAN=81,r.TWLG_SPANISH=11,r.TWLG_SPANISH_MEXICAN=82,r.TWLG_SPANISH_MODERN=83,r.TWLG_SWEDISH=12,r.TWLG_THAI=84,r.TWLG_TURKISH=85,r.TWLG_UKRANIAN=86,r.TWLG_ASSAMESE=87,r.TWLG_BENGALI=88,r.TWLG_BIHARI=89,r.TWLG_BODO=90,r.TWLG_DOGRI=91,r.TWLG_GUJARATI=92,r.TWLG_HARYANVI=93,r.TWLG_HINDI=94,r.TWLG_KANNADA=95,r.TWLG_KASHMIRI=96,r.TWLG_MALAYALAM=97,r.TWLG_MARATHI=98,r.TWLG_MARWARI=99,r.TWLG_MEGHALAYAN=100,r.TWLG_MIZO=101,r.TWLG_NAGA=102,r.TWLG_ORISSI=103,r.TWLG_PUNJABI=104,r.TWLG_PUSHTU=105,r.TWLG_SERBIAN_CYRILLIC=106,r.TWLG_SIKKIMI=107,r.TWLG_SWEDISH_FINLAND=108,r.TWLG_TAMIL=109,r.TWLG_TELUGU=110,r.TWLG_TRIPURI=111,r.TWLG_URDU=112,r.TWLG_VIETNAMESE=113,r}({}),rle=function(r){return r.TWSS_NONE=0,r.TWSS_A4LETTER=1,r.TWSS_B5LETTER=2,r.TWSS_USLETTER=3,r.TWSS_USLEGAL=4,r.TWSS_A5=5,r.TWSS_B4=6,r.TWSS_B6=7,r.TWSS_USLEDGER=9,r.TWSS_USEXECUTIVE=10,r.TWSS_A3=11,r.TWSS_B3=12,r.TWSS_A6=13,r.TWSS_C4=14,r.TWSS_C5=15,r.TWSS_C6=16,r.TWSS_4A0=17,r.TWSS_2A0=18,r.TWSS_A0=19,r.TWSS_A1=20,r.TWSS_A2=21,r.TWSS_A4=1,r.TWSS_A7=22,r.TWSS_A8=23,r.TWSS_A9=24,r.TWSS_A10=25,r.TWSS_ISOB0=26,r.TWSS_ISOB1=27,r.TWSS_ISOB2=28,r.TWSS_ISOB3=12,r.TWSS_ISOB4=6,r.TWSS_ISOB5=29,r.TWSS_ISOB6=7,r.TWSS_ISOB7=30,r.TWSS_ISOB8=31,r.TWSS_ISOB9=32,r.TWSS_ISOB10=33,r.TWSS_JISB0=34,r.TWSS_JISB1=35,r.TWSS_JISB2=36,r.TWSS_JISB3=37,r.TWSS_JISB4=38,r.TWSS_JISB5=2,r.TWSS_JISB6=39,r.TWSS_JISB7=40,r.TWSS_JISB8=41,r.TWSS_JISB9=42,r.TWSS_JISB10=43,r.TWSS_C0=44,r.TWSS_C1=45,r.TWSS_C2=46,r.TWSS_C3=47,r.TWSS_C7=48,r.TWSS_C8=49,r.TWSS_C9=50,r.TWSS_C10=51,r.TWSS_USSTATEMENT=52,r.TWSS_BUSINESSCARD=53,r.TWSS_MAXSIZE=54,r}({}),nle=function(r){return r.TWON_NONE=0,r.TWON_ARRAY=3,r.TWON_ENUMERATION=4,r.TWON_ONEVALUE=5,r.TWON_RANGE=6,r}({}),ile=function(r){return r.TWTY_INT8=0,r.TWTY_INT16=1,r.TWTY_INT32=2,r.TWTY_UINT8=3,r.TWTY_UINT16=4,r.TWTY_int=5,r.TWTY_BOOL=6,r.TWTY_FIX32=7,r.TWTY_FRAME=8,r.TWTY_STR32=9,r.TWTY_STR64=10,r.TWTY_STR128=11,r.TWTY_STR255=12,r}({}),ole=function(r){return r.TWFA_NONE=0,r.TWFA_LEFT=1,r.TWFA_CENTER=2,r.TWFA_RIGHT=3,r}({}),ale=function(r){return r.TWFO_FIRSTPAGEFIRST=0,r.TWFO_LASTPAGEFIRST=1,r}({}),sle=function(r){return r.TWPR_IMPRINTERTOPBEFORE=0,r.TWPR_IMPRINTERTOPAFTER=1,r.TWPR_IMPRINTERBOTTOMBEFORE=2,r.TWPR_IMPRINTERBOTTOMAFTER=3,r.TWPR_ENDORSERTOPBEFORE=4,r.TWPR_ENDORSERTOPAFTER=5,r.TWPR_ENDORSERBOTTOMBEFORE=6,r.TWPR_ENDORSERBOTTOMAFTER=7,r}({}),ule=function(r){return r.TWPM_SINGLESTRING=0,r.TWPM_MULTISTRING=1,r.TWPM_COMPOUNDSTRING=2,r}({}),cle=function(r){return r.TWBR_THRESHOLD=0,r.TWBR_HALFTONE=1,r.TWBR_CUSTHALFTONE=2,r.TWBR_DIFFUSION=3,r}({}),lle=function(r){return r.TWBO_LSBFIRST=0,r.TWBO_MSBFIRST=1,r}({}),dle=function(r){return r.TWFT_RED=0,r.TWFT_GREEN=1,r.TWFT_BLUE=2,r.TWFT_NONE=3,r.TWFT_WHITE=4,r.TWFT_CYAN=5,r.TWFT_MAGENTA=6,r.TWFT_YELLOW=7,r.TWFT_BLACK=8,r}({}),fle=function(r){return r.TWFL_NONE=0,r.TWFL_OFF=1,r.TWFL_ON=2,r.TWFL_AUTO=3,r.TWFL_REDEYE=4,r}({}),hle=function(r){return r.TWFR_BOOK=0,r.TWFR_FANFOLD=1,r}({}),ple=function(r){return r.TWIF_NONE=0,r.TWIF_AUTO=1,r.TWIF_LOWPASS=2,r.TWIF_BANDPASS=3,r.TWIF_HIGHPASS=4,r.TWIF_TEXT=3,r.TWIF_FINELINE=4,r}({}),gle=function(r){return r.TWLP_REFLECTIVE=0,r.TWLP_TRANSMISSIVE=1,r}({}),mle=function(r){return r.TWLS_RED=0,r.TWLS_GREEN=1,r.TWLS_BLUE=2,r.TWLS_NONE=3,r.TWLS_WHITE=4,r.TWLS_UV=5,r.TWLS_IR=6,r}({}),vle=function(r){return r.TWNF_NONE=0,r.TWNF_AUTO=1,r.TWNF_LONEPIXEL=2,r.TWNF_MAJORITYRULE=3,r}({}),_le=function(r){return r.TWOR_ROT0=0,r.TWOR_ROT90=1,r.TWOR_ROT180=2,r.TWOR_ROT270=3,r.TWOR_PORTRAIT=0,r.TWOR_LANDSCAPE=3,r.TWOR_AUTO=4,r.TWOR_AUTOTEXT=5,r.TWOR_AUTOPICTURE=6,r}({}),yle=function(r){return r.TWOV_NONE=0,r.TWOV_AUTO=1,r.TWOV_TOPBOTTOM=2,r.TWOV_LEFTRIGHT=3,r.TWOV_ALL=4,r}({}),Sle=function(r){return r.TWPF_CHOCOLATE=0,r.TWPF_VANILLA=1,r}({}),ble=function(r){return r.TWPC_CHUNKY=0,r.TWPC_PLANAR=1,r}({}),Ll=function(r){return r.Info=1,r.Error=2,r.NotInstalledError=3,r}({}),PE=function(r){return r.Binary=0,r.Base64=1,r}({}),KU=function(r){return r.TWPT_BW=0,r.TWPT_GRAY=1,r.TWPT_RGB=2,r.TWPT_PALLETE=3,r.TWPT_CMY=4,r.TWPT_CMYK=5,r.TWPT_YUV=6,r.TWPT_YUVK=7,r.TWPT_CIEXYZ=8,r.TWPT_LAB=9,r.TWPT_SRGB=10,r.TWPT_SCRGB=11,r.TWPT_INFRARED=16,r}(KU||{}),YU=function(r){return r.TWUN_INCHES=0,r.TWUN_CENTIMETERS=1,r.TWUN_PICAS=2,r.TWUN_POINTS=3,r.TWUN_TWIPS=4,r.TWUN_PIXELS=5,r.TWUN_MILLIMETERS=6,r}(YU||{});p.mix(U.DWT,{EnumDWT_DeviceType:ht,EnumDWT_Cap:Ds,EnumDWT_CapLanguage:tle,EnumDWT_CapSupportedSizes:rle,EnumDWT_CapType:nle,EnumDWT_CapValueType:ile,EnumDWT_CapFeederAlignment:ole,EnumDWT_CapFeederOrder:ale,EnumDWT_CapPrinter:sle,EnumDWT_CapPrinterMode:ule,EnumDWT_CapBitdepthReduction:cle,EnumDWT_CapBitOrder:lle,EnumDWT_CapFilterType:dle,EnumDWT_CapFlash:fle,EnumDWT_CapFlipRotation:hle,EnumDWT_CapImageFilter:ple,EnumDWT_CapLightPath:gle,EnumDWT_CapLightSource:mle,EnumDWT_CapNoiseFilter:vle,EnumDWT_CapORientation:_le,EnumDWT_CapOverscan:yle,EnumDWT_CapPixelFlavor:Sle,EnumDWT_CapPlanarChunky:ble,EnumDWT_ImageType:Qt,EnumDWT_ImageFormatType:mc,EnumDWT_ResponseType:ja,EnumDWT_SourceMatchField:Ep,EnumDWT_UploadDataFormat:PE,EnumDWT_WorkMode:WU,EnumDWT_ConvertMode:mr,EnumDWT_PixelType:KU,EnumDWT_UnitType:YU});var tn=U.DWT;tn.EnumPDF_Page={Page_Default:0,Page_Custom:1,Page_A4:2,Page_A4_Reverse:3,Page_A3:4,Page_A3_Reverse:5,Page_Letter:6,Page_Letter_Reverse:7,Page_Legal:8,Page_Legal_Reverse:9},tn.EnumDWT_BorderStyle={TWBS_NONE:0,TWBS_SINGLEFLAT:1,TWBS_SINGLE3D:2},tn.EnumDWT_MessageType={TWQC_GET:1,TWQC_SET:2,TWQC_GETDEFAULT:4,TWQC_GETCURRENT:8,TWQC_RESET:16},tn.EnumDWT_TransferMode={TWSX_NATIVE:0,TWSX_FILE:1,TWSX_MEMORY:2},tn.EnumDWT_FileFormat={TWFF_TIFF:0,TWFF_PICT:1,TWFF_BMP:2,TWFF_XBM:3,TWFF_JFIF:4,TWFF_FPX:5,TWFF_TIFFMULTI:6,TWFF_PNG:7,TWFF_SPIFF:8,TWFF_EXIF:9,TWFF_PDF:10,TWFF_JP2:11,TWFF_JPN:12,TWFF_JPX:13,TWFF_DEJAVU:14,TWFF_PDFA:15,TWFF_PDFA2:16},tn.EnumDWT_TIFFCompressionType={TIFF_AUTO:0,TIFF_NONE:1,TIFF_RLE:2,TIFF_FAX3:3,TIFF_T4:3,TIFF_FAX4:4,TIFF_T6:4,TIFF_LZW:5,TIFF_JPEG:7,TIFF_PACKBITS:32773},tn.EnumDWT_InterpolationMethod={IM_NEARESTNEIGHBOUR:1,IM_BILINEAR:2,IM_BICUBIC:3,IM_BESTQUALITY:5},tn.EnumDWT_PDFCompressionType={PDF_AUTO:0,PDF_FAX3:1,PDF_FAX4:2,PDF_LZW:3,PDF_RLE:4,PDF_JPEG:5,PDF_JP2000:6,PDF_JBIG2:7},tn.EnumDWT_ShowMode={SW_ACTIVE:0,SW_MAX:1,SW_MIN:2,SW_CLOSE:3,SW_IFLIVE:4},tn.EnumDWT_DUPLEX={TWDX_NONE:0,TWDX_1PASSDUPLEX:1,TWDX_2PASSDUPLEX:2},tn.EnumDWT_MagType={TWMD_MICR:0,TWMD_RAW:1,TWMD_INVALID:2},tn.EnumDWT_DataSourceStatus={TWDSS_CLOSED:0,TWDSS_OPENED:1,TWDSS_ENABLED:2,TWDSS_ACQUIRING:3};var V0=function(r){return r.enumFitWindow=0,r.enumFitWindowHeight=1,r.enumFitWindowWidth=2,r}(V0||{});tn.EnumDWT_FitWindowType={enumFitWindow:V0.enumFitWindow,enumFitWindowHeight:V0.enumFitWindowHeight,enumFitWindowWidth:V0.enumFitWindowWidth},tn.EnumDWT_PlatformType={enumUnknown:Et.enumUnknown,enumWindow:Et.enumWindow,enumMac:Et.enumMac,enumLinux:Et.enumLinux,enumEmbed:Et.enumEmbed,enumChromeOS:Et.enumChromeOS,enumHarmonyOS:Et.enumHarmonyOS,enumAndroid:Et.enumAndroid,enumiOS:Et.enumiOS};var Rs=function(r){return r.Default=0,r.Hand=1,r.Crosshair=2,r.Zoom=3,r.NWResize=4,r.EResize=5,r.NResize=6,r.Resize=7,r.Move=8,r}(Rs||{});tn.EnumDWT_MouseShape={Default:Rs.Default,Hand:Rs.Hand,Crosshair:Rs.Crosshair,Zoom:Rs.Zoom,NWResize:Rs.NWResize,EResize:Rs.EResize,NResize:Rs.NResize,Resize:Rs.Resize,Move:Rs.Move},tn.EnumDWT_Language={English:0,French:1,Arabic:2,Spanish:3,Portuguese:4,German:5,Italian:6,Russian:7,Chinese:8},tn.EnumDWT_InitMsg={Info:Ll.Info,Error:Ll.Error,NotInstalledError:Ll.NotInstalledError},tn.EnumDWT_Driver={TWAIN:Zt.TWAIN,ICA:Zt.ICA,SANE:Zt.SANE,TWAIN_AND_ICA:Zt.TWAIN_AND_ICA,TWAIN_AND_TWAIN64:Zt.TWAIN_AND_TWAIN64,TWAIN64:Zt.TWAIN64},tn.EnumDWT_CompressionType={TWCP_NONE:0,TWCP_PACKBITS:1,TWCP_GROUP31D:2,TWCP_GROUP31DEOL:3,TWCP_GROUP32D:4,TWCP_GROUP4:5,TWCP_JPEG:6,TWCP_LZW:7,TWCP_JBIG:8,TWCP_PNG:9,TWCP_RLE4:10,TWCP_RLE8:11,TWCP_BITFIELDS:12,TWCP_ZIP:13,TWCP_JPEG2000:14};var kE=function(r){return r.Single=0,r.Multiple=1,r}(kE||{});tn.EnumDWT_SelectionMode={Single:kE.Single,Multiple:kE.Multiple},tn.EnumDWT_ConfirmExitType={Cancel:0,Exit:1,SaveAndExit:2},tn.EnumDWT_WebsocketReadyState={CONNECTING:bs.CONNECTING,OPEN:bs.OPEN,CLOSING:bs.CLOSING,CLOSED:bs.CLOSED};var DE=function(r){return r.TwainService=1,r}(DE||{});tn.EnumDWT_ServiceType={TwainService:DE.TwainService};var j0,G0=function(r){return r.default=0,r.standard=1,r.supported=2,r}(G0||{});tn.EnumDWT_ExtImageInfo={default:G0.default,standard:G0.standard,supported:G0.supported};var z0=20230506,RE=function(){if(U.dcp){var r=U.dcp.dcpJSVer;if(p.isNumber(r))return r>=z0}return!1};if(RE())RE=j0,z0=j0;else{var fn=Pt.detect,Af={_checkService:function(r,n){fn.dcpStatus=fn.EnumDCP_DetectStatus.CheckingServiceVer,FE(null,"DSVersion").then(r,n)},_checkUpdateFile:function(r,n){FE(null,"CheckUpdateFile").then(r,n)},_updateService:function(r,n){FE(null,"UpdateService").then(r,n)},_getDSUpdateZipUrl:function(){var r,n,a="";return r="Win",ue.bMac?r="Mac":ue.bLinux&&(r="Linux"),n=ue.bFileSystem?"":"?t="+p.now(),ue.bWin&&Pt.b64bit&&(a="_x64"),[gs(),"/dist/serviceupdate/",r,"DSUpdate_",XR().join("."),a,".zip",n].join("")},getPorts:function(r,n){var a="GetPorts",s="dwasm2_"+Ad();return XU(r,a,{id:p.guid(),method:a,version:s,parameter:[n]},lp())},_getStatusString:function(r,n){var a,s,u="";return r==fn.EnumDCP_DetectStatus.Init?"Getting manager version":r==fn.EnumDCP_DetectStatus.Connected?(n&&(u=n),"Getting manager version succeeded and the version is "+u):r==fn.EnumDCP_DetectStatus.CheckingManagerVer?"Getting manager version":r==fn.EnumDCP_DetectStatus.CheckingServiceVer?"Getting service version":r==fn.EnumDCP_DetectStatus.NotInstalled?"Dynamsoft Service Not Installed":r==fn.EnumDCP_DetectStatus.UpdateSkipped?"Update skipped":r==fn.EnumDCP_DetectStatus.CheckedService?(n&&(u=n),"Getting service version succeeded and the version is "+u):r==fn.EnumDCP_DetectStatus.VerifyingZip?"Verifying the update package":r==fn.EnumDCP_DetectStatus.VerifiedZip?"Update package verified":r==fn.EnumDCP_DetectStatus.UpdatingService?"Updating the service":r==fn.EnumDCP_DetectStatus.UpdateSucceed?"Update succeeded":r==fn.EnumDCP_DetectStatus.UpdateFailed?(s=".",n&&n.length>0?(n.slice(n.length-1)=="."&&(s=""),a=" with the error: "+n):a="","The update failed"+a+s):""},_sendStatusEvent:function(r,n){var a=!!r,s=window;p.isFunction(s.OnGetServiceUpdateStatus)&&s.OnGetServiceUpdateStatus(a,fn.dcpStatus,Af._getStatusString(fn.dcpStatus,n))},_getErr:function(r){var n,a="";try{p.isString(r)?(n=r.replace(/\0/g,""),n=p.parse(n)):r&&(n=r),"description"in n&&(a=n.description)}catch{}return a},_funShowUpgradeDialogWhenUpdateFailed:function(r,n){return fn.bConnected=!0,fn.dcpStatus=fn.EnumDCP_DetectStatus.UpdateFailed,r&&r(),n&&n(),Af._sendStatusEvent(!0),!0},_funUpdateFailed:function(r,n,a,s){var u,d;return fn.bConnected=!0,fn.dcpStatus=fn.EnumDCP_DetectStatus.UpdateFailed,r&&r(),s==200?(u="The update failed.",d=Af._getStatusString(fn.dcpStatus,Af._getErr(a))):d=u="The update failed. The error code is "+s,n&&n(!0,u),Af._sendStatusEvent(!0,d),!0},getDSPath:function(r,n){return Mi.getDSPath(n)},getLinuxHTML5DebPath:function(){return Mi.getDSPath(".deb")},getLinuxHTML5RpmPath:function(){return Mi.getDSPath(".rpm")},getBinaryFileInfo:function(r,n){var a="GetBinaryFileInfo",s={id:p.guid(),method:a,version:"dwasm2_"+Ad(),parameter:[]},u=p.stringify(s),d=function(m,_,S){var y;m&&(y=p.parse(m)),y?r(y):n(m,_,S)};if(U.DWT.ConnectWithSocket&&ue.bHTML5Edition){var l=au.getWsUrl(U.DWT.Host,ue.bSSL?Pt.SSLPort:Pt.Port);return au.postStringDataByWSUrl(l,u).then(d,n),!0}var h=[e_(),"/",a,"?type=1&dsver=",CC().join(""),"&ts=",p.now()].join("");tu.getHttpClientForDcp().request(u,h,{},500).then(d,n)}};p.mix(Pt,Af),U.dcp=Pt,U.dcp.dcpJSVer=z0,RE=j0,z0=j0}function FE(r,n,a,s){var u;return u={id:p.guid(),method:n,version:"dwasm2_"+Ad(),parameter:[]},n=="VersionInfo"&&(u.version="dwasm2_"+Nr.getVersionStrForCheck()),_t.isLongKey(a)&&(u.productKey=a),XU(r,n,u,lp(),s)}function XU(r,n,a,s,u){return OE.apply(this,arguments)}function OE(){return OE=o(w().mark(function r(n,a,s,u,d){var l,h,m,_,S,y,b,I,x;return w().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return l=p.stringify(s),Pt.detect.bConnected=!1,h=[e_(),"/",a,"?type=1&dsver=",CC().join(""),"&ts=",p.now()].join(""),_=ue.bSSL,S=_?Pt.SSLPort:Pt.Port,m=tu.getHttpClient(n,S,_),y={},d&&!ue.bSSL&&(y.redirect="manual"),D.prev=8,D.next=11,m.request(l,h,y,u);case 11:b=D.sent,D.next=21;break;case 14:if(D.prev=14,D.t0=D.catch(8),!d||ue.bSSL){D.next=20;break}if((D.t0&&D.t0.code)!=kt.HTTPRedirected){D.next=20;break}throw AF();case 20:throw D.t0;case 21:if(b&&(I=p.parse(b)),!(I&&"exception"in I&&"description"in I)){D.next=24;break}throw{code:I.exception,message:I.description};case 24:if(!I||!("result"in I)){D.next=30;break}if(!Pt.detect.bConnected){D.next=27;break}return D.abrupt("return",I.result);case 27:return Pt.detect.bConnected=!0,Pt.detect.dcpStatus=Pt.detect.EnumDCP_DetectStatus.Connected,D.abrupt("return",I.result);case 30:throw Wi(x={}),nr(x);case 33:case"end":return D.stop()}},r,null,[[8,14]])})),OE.apply(this,arguments)}function QU(r){var n=Date.parse(r+"T00:00:00");return r!=""&&!isNaN(n)&&!!U.DWT.CheckCertExpired&&new Date().getTime()>=n-864e5*U.DWT.CertificateConfig.UpdateDaysBeforeExpired}U.DWT.__innerCheckCertDate=function(r){QU(r)&&(p.isFunction(U.OnCertExpired)&&U.OnCertExpired(r),setTimeout(function(){U.DWT.UpdateCert(U.DWT.CertificateConfig.URL,U.OnUpdateCertSuccess,U.OnUpdateCertFailure)},5e3))},U.DWT.__innerUpdateCert=function(r,n,a,s){var u=[e_(),"/LoadZipFromBytes?type=",4,"&dsver=",CC().join(""),"&ts=",p.now()].join("");tu.getHttpClientForDcp(null,n).request(r,u,{},3e4).then(a,function(d){p.isFunction(s)&&s(d)})},U.DWT.__innerReboot=function(r,n){var a=[e_(),"/admin?ts=",p.now()].join(""),s='{"id":"'+new Date().getTime().toString()+'","method":"Reboot","parameter":[],"version":"dwasm2_'+Ad()+'"}';tu.getHttpClientForDcp().request(s,a,{},3e4).then(r,n)},U.DWT.UpdateCert=function(r,n,a){p.isString(r)&&r!=""?Fd(r,{mode:"cors",dataType:"arraybuffer"}).then(function(s){U.DWT.__innerUpdateCert(s,!1,function(u){var d;try{var l=j.parse(u);l.description&&(d={code:l.exception,message:l.description})}catch{var h;Wi(h={}),h=nr(h)}d?j.isFunction(a)&&a(d):(U.DWT.CheckCertExpired=!1,p.isFunction(n)&&n())},function(u){ue.bSSL?U.DWT.__innerUpdateCert(s,!0,n,a):p.isFunction(a)&&a(u)})},a):p.isFunction(a)&&a()};var NE={Errors:{FilePathSyntaxIncorrect:function(r){r._errorCode=-3123,r._errorString="The filename, directory name, or volume label syntax is incorrect."}},checkFilePath:function(r,n){return p.isString(n)&&n.length!=0?p.startsWith(n,"http://")||p.startsWith(n,"https://")||p.startsWith(n,"ftp://")?(j.File.Errors.FilePathSyntaxIncorrect(r),Pe):rt:(fl(r),Pe)}};NE.checkFolder=NE.checkFilePath,j.File=NE,j.showProgress=function(){},j.closeProgress=function(){};var Eg,Cle=document.location.protocol,Tle=location.hostname,JU=ue.bSSL,Ile={detect:{ssl:JU,dcpStatus:0,dcpCallbackType:0,arySTwains:[],bFirst:rt,bOK:Pe,__dialog:Pe,cssLoaded:Pe,viewerScriptLoaded:Pe,bNoControlEvent:Pe,bNeedUpgradeEvent:Pe,bPromptJSOrServerOutdated:Pe,detectType:JU?1:Cle==="http:"||Tle===""?0:-1,tryTimes:0,ports:[{port:U.DWT.SSLPort,ssl:rt},{port:U.DWT.Port,ssl:Pe}],cUrlIndex:0,urls:[],onNoControl:Pe,needUpgrade:Pe,OnDetectNext:Pe,OnCreatWS:Pe,bMaskShow:Pe},page:{bUnload:Pe}};function qU(){var r=IC;if(U.DWT.CertificateConfig){var n=U.DWT.CertificateConfig;p.isString(n.URL)||(n.URL=r.URL),(!p.isNumber(n.UpdateDaysBeforeExpired)||n.UpdateDaysBeforeExpired<=0)&&(n.UpdateDaysBeforeExpired=r.UpdateDaysBeforeExpired)}else U.DWT.CertificateConfig=r;qce(),p.isString(U.DWT.ProductKey)&&(U.DWT.ProductKey=p.trim(U.DWT.ProductKey)),U.navInfo&&(ue.bMac||ue.bWin)&&(U.navInfo.bEmbed=!1,U.navInfo.bArm64=!1,U.navInfo.bMips64=!1),U.DWT.Debug&&(p.debug=!0)}function ME(){return ME=o(w().mark(function r(){var n,a,s;return w().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!j.detect.cssLoaded){u.next=2;break}return u.abrupt("return");case 2:if(U.DWT.IfLoadResources){u.next=5;break}return j.detect.cssLoaded=rt,u.abrupt("return");case 5:return n=gs(),a="",!ue.bFileSystem&&U.DWT.IfResourcesAddTimestamp&&(a=j.timestamp),s=[[n,"/src/dynamsoft.webtwain.css",a].join("")],we.bHTML5Edition&&U.DWT.UseDefaultViewer&&s.push([n,"/src/dynamsoft.webtwain.viewer.css",a].join("")),j.detect.cssLoaded=rt,u.prev=10,u.next=13,new j.Promise(function(d,l){if(ue.bSafari){var h=!1;p.addAllCss(s,!1,function(m){m||(h=!0)}),h?l({code:-2804,message:"Loading the WebTwain css files failed."}):d()}else p.addAllCss(s,!1,function(m){m?d():l({code:-2804,message:"Loading the WebTwain css files failed."})})});case 13:if(!we.bHTML5Edition||ue.bFileSystem||!U.DWT.IfCheckCssFiles){u.next=16;break}return u.next=16,wle(s);case 16:u.next=21;break;case 18:u.prev=18,u.t0=u.catch(10),cT(u.t0);case 21:case"end":return u.stop()}},r,null,[[10,18]])})),ME.apply(this,arguments)}function wle(r){return ZU.apply(this,arguments)}function ZU(){return(ZU=o(w().mark(function r(n){var a,s;return w().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:a=!0,u.prev=1,s=0,s=0;case 4:if(!(s<n.length)){u.next=15;break}return u.next=7,j.fetch(n[s]);case 7:if(!(u.sent.indexOf("* Author: Dynamsoft Support Team")>0)){u.next=10;break}return u.abrupt("continue",12);case 10:return a=!1,u.abrupt("break",15);case 12:s++,u.next=4;break;case 15:u.next=20;break;case 17:u.prev=17,u.t0=u.catch(1),a=!1;case 20:if(a){u.next=22;break}throw{code:-2804,message:"Loading the WebTwain css files failed."};case 22:return u.abrupt("return",a);case 23:case"end":return u.stop()}},r,null,[[1,17]])}))).apply(this,arguments)}function e4(){if(we.loadResourcePath||!we.loadingResourcePath)return Eg&&Eg(),void(Eg=null);setTimeout(e4,100)}function Pf(r){if(Mr("Loading css..."),qU(),we.loadResourcePath||we.loadingResourcePath)return we.loadResourcePath||!we.loadingResourcePath?j.Promise.resolve():(Eg=null,new j.Promise(function(h){Eg=h,setTimeout(e4,100)}));we.loadingResourcePath=!0,(U.DWT.Port>0||U.DWT.SSLPort>0)&&(j.detect.ports=[{port:U.DWT.Port,ssl:!1},{port:U.DWT.SSLPort,ssl:!0}],na.removeItem("DWT_port"),na.removeItem("DWT_ssl")),p.each(j._funsAfterConfigLoaded,function(h){try{p.isFunction(h)&&h()}catch{}});var n=p.sizzle(".dynamsoft_waiting");if(n&&n.length>0){var a=n[0];a.parentNode&&a.parentNode.removeChild(a)}var s=gs(),u="";!ue.bFileSystem&&U.DWT.IfResourcesAddTimestamp&&(u=j.timestamp);var d=rt,l=[];return ue.bSafari&&(d=Pe),l.push([s,"/dynamsoft.webtwain.install.js",u].join("")),U.DWT.bNpm&&(l=[]),we.bHTML5Edition&&U.DWT.UseDefaultViewer&&(Mr("Loading the viewer script..."),l.push([s,"/src/dynamsoft.webtwain.viewer.js",u].join(""))),U.DWT.IfLoadResources||(l=[]),function(){ME.apply(this,arguments)}(),l.length==0?(t4(),we.loadResourcePath=!0,void(we.loadingResourcePath=!1)):new j.Promise(function(h,m){p.addScripts(l,d,!1,function(_){var S=_;if(we.bHTML5Edition&&U.DWT.UseDefaultViewer&&!p.isFunction(U.DWTViewer)&&(S=!1),ue.bIE&&we.bActiveXEdition&&(p.isFunction(U.DWT._innerLoad)||(S=!1)),!S)return we.loadingResourcePath=!1,void m({code:-2803,message:"Loading the WebTwain JavaScript source files failed."});t4(),we.loadResourcePath=!0,we.loadingResourcePath=!1,U.DWT.OnWebTwainWillInit&&U.DWT.OnWebTwainWillInit(),h()})})}function t4(){if(!(j.bNode||ue.bJSDom)){if(p.isArray(U.aryAddonReadyFun)){for(var r=0,n=function(){var a=U.aryAddonReadyFun[r];if(p.isFunction(a))try{a(j)}catch(s){p.log(s.stack||s,"error"),setTimeout(function(){throw s},0)}};r<U.aryAddonReadyFun.length;r++)n();U.aryAddonReadyFun=[]}}}p.mix(j,Ile),j.Addon_Events=[],j.Addon_Sendback_Events=[];var xg=[],Ag=[];function LE(){var r,n=xg.length;for(r=0;r<n;r++)xg[r]();xg.splice(0),Ag.splice(0),Pg=0}function r4(){if(Pg>0&&new Date().getTime()-Pg>WE){var r,n={code:-2802,message:"The file dynamsoft.webtwain.config.js timed out while loading."},a=U.DWT.Containers;a&&a.length!==0||(CF(r={}),n={code:r._errorCode,message:r._errorString}),function(h){var m,_=Ag.length;for(m=0;m<_;m++)Ag[m](h);xg.splice(0),Ag.splice(0),Pg=0}(n)}else if(U.DWT.Containers||U.DWT.ProductKey||U.DWT.licenseServer||U.DWT.organizationID||U.DWT.handshakeCode||U.DWT.bNpm||U.DWT.AutoLoad==0){if(we.dwtConfigLoading)return;if(we.dwtConfigLoaded)return void LE();we.dwtConfigLoading=!0;var s=gs();if(p.isArray(U.DWT.Containers)||(U.DWT.Containers=[]),ue.bIE){var u=ue.IEVersion;if((u===""||u>=10)&&U.DWT.IfUseActiveXForIE10Plus){var d=Pe;ue.bHTML5Edition=d,we.bHTML5Edition=d,we.bActiveXEdition=!0,we.bChromeEdition=we.bHTML5Edition}}if(we.bActiveXEdition&&U.DWT.IfLoadResources){var l="";!ue.bFileSystem&&U.DWT.IfResourcesAddTimestamp&&(l=j.timestamp),p.addScript([s,"/src/dynamsoft.webtwain.activex.js",l].join(""),!0,!1,function(){we.dwtConfigLoaded=!0,we.dwtConfigLoading=!1,LE()})}else we.dwtConfigLoaded=!0,we.dwtConfigLoading=!1,LE()}else setTimeout(r4,100)}var n4,WE=3e3,Pg=0;function H0(r){return Mr("Loading the config script..."),we.dwtConfigLoaded?j.Promise.resolve():(r&&(WE=1e3*parseInt(r))<1&&(WE=1),new j.Promise(function(n,a){xg.push(n),Ag.push(a),wg(function(){Pg=new Date().getTime(),setTimeout(r4,100)})}))}function i4(){var r;(r=U.DWT.WebTwainIdMap)&&p.each(r,function(n,a){n&&n._OnPageBlur&&n._OnPageBlur()})}if(we.bActiveXEdition){var o4=function(){var r,n,a,s,u;if(U.DWT.lunload(),j.closeAll&&j.closeAll(),s=U.DWT.ContainerMap)for(u=Object.keys(s),r=0;r<u.length;r++)(a=u[r])&&a in s&&(n=s[a])&&(n.__unload(),delete s[a]);if(s=U.DWT.WebTwainIdMap)for(u=Object.keys(s),r=0;r<u.length;r++)(a=u[r])&&a in s&&(n=s[a])&&(n.__unload(),delete s[a]);for(r=0;r<j.product.unloadQueue.length;r++){var d=j.product.unloadQueue[r];j.isFunction(d)&&d()}return j.product.unloadQueue.splice(0),j.detect.arySTwains.splice(0),j.Promise.resolve()},BE=!1;U.DWT.Unload=function(){o4();try{U.DWT.CloseDialog(),j._zdgb_xkz_dhk(),j.closeProgress(null,""),j.hideMask()}catch{}},U.DWT.Load=function(){if(!j.product.bDWTLoading)return j.product.bDWTLoading=!0,j.detect.axAutoLoadDone=!1,H0().then(Pf).then(o4).then(function(){return U.DWT._innerLoad()}).then(function(){j.product.bDWTLoading=!1,j.detect.axAutoLoadDone=!0},function(r){j.product.bDWTLoading=!1,j.detect.axAutoLoadDone=!1,b_(r)})},U.DWT.ConnectToTheService=U.DWT.Load,U.DWT.CheckConnectToTheService=function(r,n,a,s){j.product.bActiveXEdition?j.isFunction(s)&&s():j.isFunction(a)&&a()},U.DWT.CreateDWTObject=function(r,n,a,s,u,d){return j._safePromptCustomMsg(function(){d&&d(jR)}),BE},U.DWT.CreateDWTObjectEx=function(r,n,a){return j._safePromptCustomMsg(function(){a&&a(jR)}),BE},U.DWT.CreateRemoteScanObjectAsync=function(){var r={};return Fe(r,-2433,"The ActiveX edition does not support this method or property."),j.Promise.reject({code:r._errorCode,message:r._errorString})},U.DWT.DeleteDWTObject=function(r){return BE}}function UE(){return!(function(r){if(p.isString(r)){if(r=="localhost"||r=="127.0.0.1")return!0;var n=r.split(".");if(n.length==4&&/^(([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])$/.test(r)){var a=parseInt(n[0]),s=parseInt(n[1]);if(a==127||a==10||a==169&&s==254||a==172&&s>=16&&s<=31||a==192&&s==168)return!0}}return!1}(location.hostname)||ue.bSSL||ue.bFileSystem||!((ue.bChrome||ue.bEdge)&&parseInt(ue.strBrowserVersion)>=94))}function a4(r,n,a,s){return VE.apply(this,arguments)}function VE(){return VE=o(w().mark(function r(n,a,s,u){var d,l;return w().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(a!=Ur.GET_TASKID){h.next=4;break}return h.abrupt("return",u.taskId);case 4:if(a!=Ur.ONMESSAGE_PROCESS_DATA){h.next=8;break}return h.abrupt("return",p.parse(n));case 8:if(a!=Ur.ONMESSAGE_GET_TASKID){h.next=13;break}if(!u||!u.client){h.next=11;break}return h.abrupt("return",u.client.getRequestTaskId());case 11:h.next=20;break;case 13:if(a!=Ur.HANDLE_RAW_MESSAGE){h.next=20;break}if(d=u==null?void 0:u.userData){h.next=17;break}return h.abrupt("return",!1);case 17:return(l=n).indexOf("Version not found")>=0||l.indexOf("Function not found")>=0?p.isFunction(d.fFun)&&d.fFun():p.isFunction(d.sFun)&&d.sFun(l),h.abrupt("return",l);case 20:case"end":return h.stop()}},r)})),VE.apply(this,arguments)}function s4(){we.loadResourcePath?(Mr(GF),n4()):setTimeout(s4,100)}function $0(){return we.loadResourcePath?(Mr(GF),j.Promise.resolve()):new j.Promise(function(r,n){n4=r,setTimeout(s4,100)})}function u4(r){var n,a,s=r.WebTwainId,u=r.Host,d=r.Port,l=r.SSLPort;return a={},p.isString(s)&&s!==""?a.id=s:a.id=s=lO(),p.isDOM(r.Container)?(n=r.Container,p.isString(n.id)&&n.id!==""||(n.id=["dwt_node_",p.getRandom()].join("")),a.container=n,a.bNoViewer=!1):a.bNoViewer=!0,a.bNoViewer?(a.width=0,a.height=0):(p.isUndefined(r.Width)?n.style.width?a.width=n.style.width:a.width=300:a.width=r.Width,p.isUndefined(r.Height)?n.style.height?a.height=n.style.height:a.height=300:a.height=r.Height),a.dmService=r.dmService,p.isString(u)&&u!=""||(u=ui()),a.host=u,d||(d=U.DWT.Port),a.port=d,l||(l=U.DWT.SSLPort),a.sslPort=l,a}function c4(r,n,a){if(r){var s=n??270,u=a??350;s<=0&&(s=270),u<=0&&(u=350),Ce.one(r).before(j.install._strNonInstallDIV);var d=p.get(j.install._divDWTNonInstallContainerID);d&&(d.style.width=s,d.style.height=u),p.show(j.install._divDWTNonInstallContainerID)}}function pu(r){var n=Mi.getDSPath();if(j.install._divDWTemessageContainer!=""&&p.hide(j.install._divDWTemessageContainer),ue.bMac)r?p.isFunction(U.OnWebTwainNeedUpgradeCallback)&&U.OnWebTwainNeedUpgradeCallback(we.name,{default:n},we.bHTML5Edition,Et.enumMac,ue.bIE,ue.bSafari,j.detect.ssl,Br.strIEVersion):p.isFunction(U.OnWebTwainNotFoundOnMacCallback)&&U.OnWebTwainNotFoundOnMacCallback(we.name,n,we.bHTML5Edition,ue.bIE,ue.bSafari,j.detect.ssl,Br.strIEVersion);else if(ue.bLinux||U.navInfo.bEmbed||ue.bChromeOS||Br.bMobile){var a,s,u=Mi.getEnumPlatform();if(U.navInfo.bEmbed||ue.bAndroid||ue.bChromeOS||ue.bHarmonyOS?a=n:(a=Mi.getLinuxHTML5DebPath(),s=Mi.getLinuxHTML5RpmPath()),r){if(ue.bAndroid)p.isFunction(U.OnWebTwainNeedUpgradeOnAndroidCallback)&&U.OnWebTwainNeedUpgradeOnAndroidCallback(we.name,n,j.detect.ssl);else if(p.isFunction(U.OnWebTwainNeedUpgradeCallback)){var d={default:a};ue.bLinux&&(d.deb=a,d.rpm=s),U.OnWebTwainNeedUpgradeCallback(we.name,d,we.bHTML5Edition,u,ue.bIE,ue.bSafari,j.detect.ssl,Br.strIEVersion)}}else ue.bAndroid?p.isFunction(U.OnWebTwainNotFoundOnAndroidCallback)&&U.OnWebTwainNotFoundOnAndroidCallback(we.name,n,j.detect.ssl,!1):!Nr.bFullEdition&&Br.bMobile?p.isFunction(U.OnMobileNotSupportCallback)&&U.OnMobileNotSupportCallback():p.isFunction(U.OnWebTwainNotFoundOnLinuxCallback)&&U.OnWebTwainNotFoundOnLinuxCallback(we.name,a,s,we.bHTML5Edition,ue.bIE,ue.bSafari,j.detect.ssl,Br.strIEVersion,u)}else if(ue.bChrome||ue.bSafari||ue.bFirefox||ue.bOpera||U.DWT.IfUseActiveXForIE10Plus==Ct||!U.DWT.ActiveXInstallWithCAB&&ue.bIE)if(r){if(p.isFunction(U.OnWebTwainNeedUpgradeCallback)){var l={default:n};U.OnWebTwainNeedUpgradeCallback(we.name,l,we.bHTML5Edition,Et.enumWindow,ue.bIE,ue.bSafari,j.detect.ssl,Br.strIEVersion)}}else p.isFunction(U.OnWebTwainNotFoundOnWindowsCallback)&&U.OnWebTwainNotFoundOnWindowsCallback(we.name,n,we.bHTML5Edition,ue.bIE,ue.bSafari,j.detect.ssl,Br.strIEVersion)}U.DWT.GetWebTwain=U.DWT.GetWebTwainEx=function(r){var n=r,a=U.DWT.WebTwainIdMap;if(!n){var s=Object.keys(a);return s.length>0?a[n=s[0]]:void 0}if(n in a)return a[n];var u=U.DWT.ContainerMap;return n in u?u[n]:void 0},U.DWT.NeedCheckWebTwainBySocket=UE,U.DWT.CheckWebTwainBySocket=function(r,n,a){var s,u,d,l=j.detect.urls;if(l&&l.length>0){var h=l[0];s=h.host||ui(),u=h.port,d=h.ssl}else so(s=ui())?(d=!(!ue.bSSL||!ue.bSafari),s=Nr.hostForCheckCert):d=ue.bSSL,u=d?U.DWT.SSLPort:U.DWT.Port;(function(m,_,S,y){var b,I=p.now(),x=p.guid(),D={id:x,method:"VersionInfo",version:[we.getDWTPrefix(),Nr.getVersionStrForCheck()].join("")},W=a4,$={cmdId:x,cmd:null,sFun:_,fFun:S,rawData:!0},te=xC();b={client:m,userData:$,taskId:I},m.setRetry(0),m.request(p.stringify(D),W,b,te).then(function(q){return m.dispose(),q},function(){p.isFunction(y)&&y(),m.dispose()})})(tu.getWsClient(s,u,d,!0),r,n,a)},U.DWT.IsLocalServiceConnected=function(){return new j.Promise(function(r,n){var a,s=ui();p.each(j.detect.ports,function(u){ue.bSSL?u.ssl&&(a=u.port):u.ssl||(a=u.port)}),U.DWT.CheckConnectToTheService(s,a,function(u,d,l){r(!0)},function(){n(!1)})})},j.detect.onNoControl=function(r,n,a,s){s&&s._bRemoteMode&&!s._bNotShowMessage?p.isFunction(U.OnRemoteWebTwainNotFoundCallback)&&U.OnRemoteWebTwainNotFoundCallback(we.name,s._serverInfo.server,s._serverInfo.port,s._serverInfo.ssl,Br.bMobile):(c4(r,n,a),pu(!1))};var l4=!1;function Ele(r,n){so(r)&&(na.item("DWT_port",n),na.item("DWT_ssl",ue.bSSL?"true":"false"))}function jE(r,n,a,s,u){return d4.apply(this,arguments)}function d4(){return(d4=o(w().mark(function r(n,a,s,u,d){var l,h,m,_,S,y,b,I,x,D,W,$,te,q,X,J,re,H,F,B,V,G,z,Z,ie,se;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(U.DWT.OnWebTwainInitMessage&&U.DWT.OnWebTwainInitMessage("Checking WebTwain version ...",Ll.Info),h=!1,m=!1,_=!1,S=U.DWT.ConnectWithSocket,d&&(d.bRemoteServer&&(_=!0),d.bConnectWithSocket&&(S=!0),d.bCheckCert&&(m=!0)),y=p.now(),b=['{"id":"',p.guid(),'","method":"VersionInfo","version":"',we.getDWTPrefix(),Nr.getVersionStrForCheck(),'"}'].join(""),I=!S&&!ue.bSSL,ne.prev=6,!S){ne.next=18;break}return D=p.now(),W=a4,$={client:x,userData:{cmdId:D,cmd:null,sFun:null,fFun:null,rawData:!0},taskId:D},(x=tu.getWsClient(n,a,s)).setRetry(0),ne.next=14,x.request(b,W,$,u);case 14:l=ne.sent,h=!0,ne.next=25;break;case 18:return te="fa/VersionInfo?v=1&ts="+y,q=tu.getHttpClient(n,a,s),X={},I&&(X.redirect="manual"),ne.next=24,q.request(b,te,X,u);case 24:l=ne.sent;case 25:ne.next=42;break;case 27:if(ne.prev=27,ne.t0=ne.catch(6),p.log(["check DWT Version failed",p.stringify(ne.t0)]),!h){ne.next=34;break}ne.next=42;break;case 34:if(!I){ne.next=38;break}if((ne.t0&&ne.t0.code)!=kt.HTTPRedirected){ne.next=38;break}throw AF();case 38:throw mp(J={}),U.DWT.OnWebTwainInitMessage&&U.DWT.OnWebTwainInitMessage(J._errorString,Ll.Error),{code:J._errorCode,message:J._errorString};case 42:if(re="",H="",F={},B=!1,l&&(V=p.parse(l)),!V||!("exception"in V)){ne.next=49;break}co(V)?(F._errorCode=V.exception,F._errorString=V.description):F._errorCode=kt.CommonError,ne.next=91;break;case 49:if(!V||!("result"in V)){ne.next=90;break}if(V=V.result,!(p.isArray(V)&&V.length>0)){ne.next=87;break}if(G=V[0],re=V.length>1?V[1]:"",z=V.length>2?V[2]:0,Z=V.length>3?V[3]:"",H=V.length>4?V[4]:"",re!==""){ne.next=84;break}if(ie="The WebTwain version is: "+G,U.DWT.OnWebTwainInitMessage&&U.DWT.OnWebTwainInitMessage(ie,Ll.Info),z=="32"&&so(n)&&(Pt.b64bit=!1),so(n)&&(U.DWT.li({instanceMode:U.DWT.lgdt()},"")||Z!=""&&(U.DWT.lsmid(Z,""),U.DWT.lsmid2b(Z))),(p.isFunction(U.DWT.OnSSLCertInfo)||p.isFunction(U.OnSSLCertInfo))&&(H!=""&&(se=Date.parse(H+"T00:00:00"),se=isNaN(se)?null:new Date(se)),l4||(p.isFunction(U.DWT.OnSSLCertInfo)?U.DWT.OnSSLCertInfo(se):p.isFunction(U.OnSSLCertInfo)&&U.OnSSLCertInfo(se)),l4=!0),!m){ne.next=71;break}if(H!=""){ne.next=68;break}throw{code:kt.SSLCertInvalid,message:"The Dynamsoft Service SSL certificate is invalid."};case 68:if(!QU(H)){ne.next=71;break}throw{code:kt.SSLCertExpired,message:"The Dynamsoft Service SSL certificate has expired."};case 71:if(!p.isString(G)||G==""){ne.next=81;break}if(Mr("Checking the WebTwain version..."),!_&&!pK(G,we.getServerVersionInfo(!0))){ne.next=77;break}return ne.abrupt("return",{host:n,port:a,bSSL:s,version:G,certExpiredDate:se});case 77:Mr(HF),Pd(F);case 79:ne.next=82;break;case 81:B=!0;case 82:ne.next=85;break;case 84:re==="Version not found"?Pd(F):s$(F,re);case 85:ne.next=88;break;case 87:B=!0;case 88:ne.next=91;break;case 90:B=!0;case 91:throw B&&Wi(F),U.DWT.OnWebTwainInitMessage&&U.DWT.OnWebTwainInitMessage(F._errorString,Ll.Error),{code:F._errorCode,message:F._errorString};case 94:case"end":return ne.stop()}},r,null,[[6,27]])}))).apply(this,arguments)}function f4(r,n,a){return GE.apply(this,arguments)}function GE(){return GE=o(w().mark(function r(n,a,s){var u,d,l,h,m,_;return w().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!we.bDWTChecked){S.next=2;break}return S.abrupt("return");case 2:return l=ue.bSSL?s:a,u=ue.bSSL?s:a,d=ue.bSSL,S.prev=5,S.next=8,h4(n,u,d,rt);case 8:h=S.sent,S.next=18;break;case 11:if(S.prev=11,S.t0=S.catch(5),S.t0.code!=kt.MustUpgrade){S.next=16;break}throw pu(!0),S.t0;case 16:return S.next=18,Ale(n,a,s);case 18:if(!UE()||U.DWT.ConnectWithSocket){S.next=21;break}return S.next=21,Ple(n,l);case 21:return m=h.host,_=h.port,j.detect.dcpStatus=2,Ele(m,_),S.next=26,qF(!1,!0);case 26:if(!ci()||!so(n)){S.next=30;break}if(U.DWT.li({instanceMode:U.DWT.lgdt()},"")){S.next=30;break}throw{code:-2827,message:"Failed to get Machine ID."};case 30:we.bDWTChecked=!0;case 31:case"end":return S.stop()}},r,null,[[5,11]])})),GE.apply(this,arguments)}function h4(r,n,a,s){return p4.apply(this,arguments)}function p4(){return(p4=o(w().mark(function r(n,a,s,u){var d;return w().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return Mr("Checking the WebTwain module..."),a||p.each(j.detect.ports,function(h){ue.bSSL?h.ssl&&(a=h.port):h.ssl||(a=h.port)}),l.prev=2,l.next=5,jE(n,a,s,u?xC():lp(),{bConnectWithSocket:u});case 5:d=l.sent,l.next=12;break;case 8:throw l.prev=8,l.t0=l.catch(2),j.detect.dcpStatus=3,l.t0;case 12:return Mr("Check the WebTwain version successfully."),!Nr.versionInfoFromServer&&so(d.host)&&(Nr.versionInfoFromServer=d.version),l.abrupt("return",d);case 15:case"end":return l.stop()}},r,null,[[2,8]])}))).apply(this,arguments)}function xle(r,n,a,s,u){g4(r,n,{bRemoteServer:!0,bConnectWithSocket:a},s,u)}function g4(r,n,a,s,u){var d=0,l=r,h=n,m=j.detect.ssl,_=s,S=u;if(p.isFunction(l)&&p.isFunction(h)){for(_=l,S=h,l=ui(),d=0;d<j.detect.ports.length;d++)if(ue.bSSL&&j.detect.ports[d].ssl||!ue.bSSL&&!j.detect.ports[d].ssl){h=j.detect.ports[d].port,m=ue.bSSL;break}}l||(l=ui()),jE(l,h,m,lp(),a).then(function(y){var b=y.host,I=y.port,x=y.version;p.isFunction(_)&&_(b,I,x)},function(y){p.isFunction(S)&&S(y)})}function Ale(r,n,a){return zE.apply(this,arguments)}function zE(){return zE=o(w().mark(function r(n,a,s){var u,d,l,h,m,_,S;return w().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(u=ue.bSSL?s:a,!ue.bSSL||ue.bSafari||ue.bMobile||ue.bAndroid){y.next=45;break}if(y.prev=2,!U.DWT.ConnectWithSocket&&U.DWT.IfCheckCORS==1){y.next=7;break}throw mp(d={}),{code:d._errorCode,message:d._errorString};case 7:return y.next=9,HE(n,u,!1);case 9:y.next=43;break;case 11:if(y.prev=11,y.t0=y.catch(2),(l=y.t0.code)!=kt.CORSErrorFromService&&l!=kt.SSLCertExpired&&l!=kt.SSLCertInvalid){y.next=18;break}throw y.t0;case 18:if(l!=kt.MustUpgrade){y.next=21;break}throw pu(!0),y.t0;case 21:if(y.prev=21,U.DWT.IfCheckCert==1){y.next=26;break}throw mp(h={}),{code:h._errorCode,message:h._errorString};case 26:return y.next=28,jE(cp,a,!1,xC(),{bConnectWithSocket:!0,bCheckCert:!0});case 28:y.sent,y.next=43;break;case 31:if(y.prev=31,y.t1=y.catch(21),(m=y.t1.code)!=kt.CORSErrorFromService&&m!=kt.SSLCertExpired&&m!=kt.SSLCertInvalid){y.next=38;break}throw y.t1;case 38:if(m!=kt.MustUpgrade){y.next=41;break}throw pu(!0),y.t1;case 41:throw so(n)?pu(!1):p.isFunction(U.OnRemoteWebTwainNotFoundCallback)&&U.OnRemoteWebTwainNotFoundCallback(we.name,n,u,ue.bSSL,Br.bMobile),y.t1;case 43:case 52:y.next=66;break;case 45:if(y.prev=45,!U.DWT.ConnectWithSocket&&U.DWT.IfCheckCORS!=0){y.next=50;break}throw mp(_={}),{code:_._errorCode,message:_._errorString};case 50:return y.next=52,HE(n,u,!1);case 54:if(y.prev=54,y.t2=y.catch(45),(S=y.t2.code)!=kt.CORSErrorFromService&&S!=kt.SSLCertExpired&&S!=kt.SSLCertInvalid){y.next=61;break}throw y.t2;case 61:if(S!=kt.MustUpgrade){y.next=64;break}throw pu(!0),y.t2;case 64:throw so(n)?pu(!1):p.isFunction(U.OnRemoteWebTwainNotFoundCallback)&&U.OnRemoteWebTwainNotFoundCallback(we.name,n,u,ue.bSSL,Br.bMobile),y.t2;case 66:throw LC();case 67:case"end":return y.stop()}},r,null,[[2,11],[21,31],[45,54]])})),zE.apply(this,arguments)}function Ple(r,n){return m4.apply(this,arguments)}function m4(){return(m4=o(w().mark(function r(n,a){return w().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",HE(n,a,!0));case 1:case"end":return s.stop()}},r)}))).apply(this,arguments)}function HE(r,n,a){return v4.apply(this,arguments)}function v4(){return(v4=o(w().mark(function r(n,a,s){var u,d,l;return w().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(h.prev=0,U.DWT.ConnectWithSocket){h.next=5;break}return h.next=4,h4(n,a,ue.bSSL,Pe);case 4:u=h.sent;case 5:h.next=14;break;case 7:throw h.prev=7,h.t0=h.catch(0),d=h.t0,(l=h.t0.code)==kt.ResponseDataTypeError||l==kt.HTSTError||l==kt.CORSError||l==kt.SSLCertExpired||l==kt.SSLCertInvalid||l==kt.MustUpgrade||(l==kt.CORSErrorFromService?p.isFunction(U.OnCorsConfigError)&&U.OnCorsConfigError(h.t0.message):so(n)&&s&&UE()&&(d={code:kt.CORSError,message:'The Connection from the insecure (HTTP) web page to the local "Dynamsoft Service" failed!'},l=d.code)),l==kt.CORSError&&p.isFunction(U.OnHTTPCorsError)&&U.OnHTTPCorsError(d.message),d;case 14:return h.abrupt("return",u);case 15:case"end":return h.stop()}},r,null,[[0,7]])}))).apply(this,arguments)}function kle(r,n){(function(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function _c(r,n,a){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:a;throw new TypeError("Private element is not present on this object")}var gu=new WeakSet,Dle=function(r){function n(){var _;f(this,n);for(var S=arguments.length,y=new Array(S),b=0;b<S;b++)y[b]=arguments[b];return kle(_=c(this,n,[].concat(y)),gu),_}return P(n,r),v(n,[{key:"SetCookie",value:function(_){return this._cookie=_,document.cookie=_,rt}},{key:"LoadImageFromBase64Binary",value:function(_,S,y,b){var I=this,x=!1;if(p.isFunction(y)&&(x=!0),I._resetErr(),!I._isValid())return p.isFunction(b)&&ft(b,I),!!x&&void 0;if(!_)return Kt(I),p.isFunction(b)&&ft(b,I),!!x&&void 0;var D,W,$,te,q,X=_,J="LoadImageFromBase64Binary",re=S,H=1;if(X instanceof _E&&p.isFunction(X.getLength)&&p.isFunction(X.getData)&&(X=X.getData(0,X.getLength())),p.isString(X))if(X.indexOf("data:image/bmp")!=-1)re=0;else if(X.indexOf("data:image/jpeg")!=-1)re=1;else if(X.indexOf("data:image/tif")!=-1)re=2;else if(X.indexOf("data:image/png")!=-1)re=3;else if(X.indexOf("data:application/pdf")!=-1)re=4;else if(X.indexOf("data:image/jp2")!=-1)re=14;else{var F=X.substr(0,64),B=p.base64.decode(F,!0);$=B,te=U.DWT.EnumDWT_ImageType,q=$,($ instanceof ArrayBuffer||$ instanceof Array)&&(q=new Uint8Array($.slice(0,12))),re=function(z){return z[0]==37&&z[1]==80&&z[2]==68&&z[3]==70}(q)?te.IT_PDF:function(z){return z[0]==73&&z[1]==73&&z[2]==42&&z[3]==0||z[0]==77&&z[1]==77&&z[2]==0&&z[3]==42}(q)?te.IT_TIF:function(z){return z[0]==137&&z[1]==80&&z[2]==78&&z[3]==71}(q)?te.IT_PNG:function(z){return z[0]==255&&z[1]==216}(q)?te.IT_JPG:function(z){return z[0]==66&&z[1]==77}(q)?te.IT_BMP:function(z){return z[0]==0&&z[1]==0&&z[2]==0&&z[3]==12&&z[4]==106&&z[5]==80&&z[6]==32&&z[7]==32||z[0]==255&&z[1]==79&&z[2]==255&&z[3]==81}(q)?te.IT_J2K:te.IT_PNG}if(re!=U.DWT.EnumDWT_ImageType.IT_BMP&&re!=U.DWT.EnumDWT_ImageType.IT_JPG&&re!=U.DWT.EnumDWT_ImageType.IT_TIF&&re!=U.DWT.EnumDWT_ImageType.IT_PNG&&re!=U.DWT.EnumDWT_ImageType.IT_PDF&&re!=U.DWT.EnumDWT_ImageType.IT_J2K&&(re=-1),!_t.checkProductKey(I,{Core:!0})||!_t.checkPDFProductKeyWhenNeeds(I,re))return p.isFunction(b)&&ft(b,I),!!x&&void 0;if(p.isString(X)&&X.indexOf("base64,")!=-1&&(X=X.substr(X.indexOf("base64,")+7)),W=I.__GetLoadEventsNum(),!x){var V=I._getCurrentDocumentName(),G=I._getCurrentDefaultTagName();return(D=I.__innerLoadImageFun(J,Ve(X,re,W,H),H,V,G))&&I._canConsume()&&U.DWT.lcvrf(I),D}j.cancelFrom=Mt.LoadImage,I.IfShowProgressBar?j.showProgress(I,J,I.__IfShowCancelDialogWhenImageTransfer):j.hideProgress(),I.__bLoadingImage=!0,H=0,I._innerSend(J,Ve(X,re,W,H),!0,function(){if(j.closeProgress(null,J),I.__bLoadingImage=!1,I._isBindViewer()){var z=I._ImgManager.getCurrentImageIndex();z>=0&&I._innerRefreshUI(z)}I._canConsume()&&U.DWT.lcvrf(I),y&&y(X,S)},function(){j.closeProgress(null,J),I.__bLoadingImage=!1,p.isFunction(b)&&b(I._errorCode,I._getErrorString(),X,S)})}},{key:"SaveSelectedImagesToBytes",value:function(_,S){return fp(this),Pe}},{key:"LoadImageFromBytes",value:function(_,S,y){return fp(this),Pe}},{key:"SetImageWidth",value:function(_,S,y,b){var I,x=this,D=!1;if(p.isFunction(y)&&(D=!0),x._resetErr(),!x._isValid())return!!D&&void 0;var W=parseInt(_);if(isNaN(W))return Ot(x),p.isFunction(b)&&b(x._errorCode,x._getErrorString()),!!D&&void 0;if(W<0||W>=x._ImgManager.count())return qe(x),p.isFunction(b)&&b(x._errorCode,x._getErrorString()),!!D&&void 0;if(p.isUndefined(S))return Kt(x),p.isFunction(b)&&b(x._errorCode,x._getErrorString()),!!D&&void 0;var $=x._ImgManager.convertClientIndexToServerId(W);return $==-1?(qe(x),p.isFunction(b)&&b(x._errorCode,x._getErrorString()),!!D&&void 0):((I=x._innerFun("SetImageWidth",Ve($,S))==1)?p.isFunction(y)&&y():p.isFunction(b)&&b(x._errorCode,x._getErrorString()),D?void 0:I)}},{key:"HTTPDownloadStreamThroughPost",value:function(_,S){return fp(this),Pe}},{key:"HTTPUploadStreamThroughPost",value:function(_,S,y,b,I){return fp(this),Pe}},{key:"HTTPUploadThroughPutDirectly",value:function(_,S,y,b,I){return fp(this),!1}},{key:"SetCustomDSDataEx",value:function(_){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCustomDSDataEx",Ve(_))}},{key:"SetCustomDSData",value:function(_){if(this._resetErr(),!this._isValid())return!1;var S=At.replaceLocalFilename(_);return this._innerFun("SetCustomDSData",Ve(S))}},{key:"GetCustomDSDataEx",value:function(){var _=this;return _._resetErr(),!!_._isValid()&&_._innerFun("GetCustomDSDataEx")}},{key:"GetCustomDSData",value:function(_){var S=this;if(S._resetErr(),!S._isValid())return!1;var y=At.replaceLocalFilename(_);return S._innerFun("GetCustomDSData",Ve(y))}},{key:"on",value:function(_,S){return this.registerEvent(_,S)}},{key:"off",value:function(_,S){return this.unregisterEvent(_,S)}},{key:"ConvertToBW",value:function(_,S,y){var b=this,I=!1;if(p.isFunction(S)&&(I=!0),b._resetErr(),!b._isValid())return!!I&&void 0;if(!_t.checkProductKey(b,{Core:!0}))return p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!!I&&void 0;var x=parseInt(_);if(isNaN(x))return Ot(b),p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!!I&&void 0;if(x<0||x>=b._ImgManager.count())return qe(b),p.isFunction(y)&&y(b._errorCode,b._getErrorString()),!!I&&void 0;var D=b._ImgManager.convertClientIndexToServerId(x);if(D==-1)return qe(b),!1;var W=b._innerFun("ConvertToBW",Ve(D));return W?p.isFunction(S)&&S():p.isFunction(y)&&y(b._errorCode,b._getErrorString()),I?void 0:W}},{key:"LoadImageFromBinary",value:function(_,S,y){var b,I,x=this,D="LoadImageFromBinary",W=!1;p.isFunction(S)&&(W=!0);var $=(b=j.progressContext)===null||b===void 0?void 0:b.IfShowCancelDialogWhenImageTransfer;return W&&(x.IfShowProgressBar?(j.showProgress(x,D,!1),j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=!1)):j.hideProgress()),I=x._innerLoadImageFromBinary(_,0,!0,W,function(){j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=$),p.isFunction(S)&&(x.IfShowProgressBar&&j.closeProgress(null,D),S())},function(te,q){j.progressContext&&(j.progressContext.IfShowCancelDialogWhenImageTransfer=$),p.isFunction(S)&&x.IfShowProgressBar&&j.closeProgress(null,D),p.isFunction(y)&&y(te,q)}),W?void 0:I}},{key:"EnableSourceUI",value:function(_,S){var y=this;return y._resetErr(),!!y._isValid()&&(y._innerSend("EnableSourceUI",null,!0,_,S),!0)}},{key:"GetIfShowVideoContainer",value:function(){return this._UIView.GetIfShowVideoContainer()}},{key:"ShowVideoContainer",value:function(_){return this._UIView.ShowVideoContainer(_)}},{key:"UpdateVideoContainer",value:function(_){return this._UIView.UpdateVideoContainer(_)}},{key:"ChangeBitDepth",value:function(_,S,y){var b,I=this;if(I._resetErr(),!I._isValid())return!1;if(b=parseInt(_),isNaN(b))return Ot(I),!1;if(b<0||b>=I._ImgManager.count())return qe(I),!1;var x=I._ImgManager.convertClientIndexToServerId(b);return x==-1?(qe(I),!1):I._innerFun("ChangeBitDepth",Ve(x,S,y))}},{key:"ConvertToGrayScale",value:function(_,S,y){var b,I=this,x=!1;if(p.isFunction(S)&&(x=!0),I._resetErr(),!I._isValid())return!!x&&void 0;var D=parseInt(_);if(isNaN(D))return Ot(I),p.isFunction(y)&&y(I._errorCode,I._getErrorString()),!!x&&void 0;if(D<0||D>=I._ImgManager.count())return qe(I),p.isFunction(y)&&y(I._errorCode,I._getErrorString()),!!x&&void 0;var W=I._ImgManager.convertClientIndexToServerId(D);return W==-1?(qe(I),p.isFunction(y)&&y(I._errorCode,I._getErrorString()),!!x&&void 0):((b=I._innerFun("ConvertToGrayScale",Ve(W))==1)?(At.refreshImageAfterInvokeFun(I,D),p.isFunction(S)&&S()):p.isFunction(y)&&y(I._errorCode,I._getErrorString()),x?void 0:b)}},{key:"ClearTiffCustomTag",value:function(){var _=this;return _._resetErr(),!!_._isValid()&&(_._aryTiffTag.splice(0,_._aryTiffTag.length),_._innerFun("ClearTiffCustomTag"))}},{key:"SetTiffCustomTag",value:function(_,S,y){var b=this;if(b._resetErr(),!b._isValid())return!1;if(p.isUndefined(_)||p.isUndefined(S))return Kt(b),!1;var I,x=1*_;if(I=p.isString(S)?p.replaceAll(S,'"','\\"'):S,x<=0||x>2147483647)return Fe(b,-2378,"Invalid value for the tiff tag code."),!1;var D,W=0,$=!1,te=b._aryTiffTag.length;for(W=0;W<te;W++)(D=b._aryTiffTag[W]).tag==x&&(D.Content=S,D.UseBase64Encoding=y,$=!0);return!$&&te>=32?(function(q){Fe(q,-2428,"Tiff tag count has exceeded the limit.")}(b),!1):b._innerFun("SetTiffCustomTag",Ve(x,I,y))}},{key:"IsBlankImage",value:function(_){var S,y=this;if(y._resetErr(),!y._isValid())return!1;if(S=parseInt(_),isNaN(S))return Ot(y),!1;if(S<0||S>=y._ImgManager.count())return qe(y),!1;var b=y._ImgManager.convertClientIndexToServerId(S);return b==-1?(qe(y),!1):y._innerFun("IsBlankImage",Ve(b,Pe))}},{key:"IsBlankImageExpress",value:function(_){var S=this;if(S._resetErr(),!S._isValid())return!1;var y=parseInt(_);if(isNaN(y))return Ot(S),!1;if(y<0||y>=S._ImgManager.count())return qe(S),!1;var b=S._ImgManager.convertClientIndexToServerId(y);return b==-1?(qe(S),!1):S._innerFun("IsBlankImage",Ve(b,rt))}},{key:"SetOpenSourceTimeout",value:function(_){var S=this;return S._resetErr(),!!S._isValid()&&S._innerFun("SetOpenSourceTimeout",Ve(_))}},{key:"GetImageURL",value:function(_,S,y,b,I){var x=this;if(x._resetErr(),!x._isValid())return!1;var D,W,$,te,q=_,X=parseInt(S),J=parseInt(y);if(b?(D="",W="dwt://"):(D=x._httpUrl,W="dwt/"),te=x._bScanForProxyRemote?Nr.getVersionStrForCheck():we.getServerVersionInfo(),$=[D,W,we.getDWTPrefix(),te,"/img?id=",x._clientId],p.isUndefined(q)||q===null)return fF(x),"";if(I)$.push("&index=-1&width=-1&height=-1&webcam="),$.push(I);else{if(q=parseInt(q),isNaN(q))return Ot(x),"";if(q<-1||q>=x._ImgManager.count())return qe(x),"";var re=x._ImgManager.convertClientIndexToServerId(q);if(re==-1)return"";$.push("&index="),$.push(re),X>0&&J>0?($.push("&width="),$.push(X),$.push("&height="),$.push(J)):$.push("&width=-1&height=-1"),Br.bMobile&&$.push("&type=1&quality=85")}if($.push("&t="),$.push(new Date().getTime()),$=$.join(""),ue.bFileSystem&&$.indexOf("dwt://")<0){var H=new Image;H.crossOrigin="anonymous",H.src=$,H=null}return $}},{key:"GetImagePartURL",value:function(_,S,y){var b=this;if(b._resetErr(),!b._isValid())return!1;var I=parseInt(_);return isNaN(I)?(Ot(b),""):I<0||I>=b._ImgManager.count()?(qe(b),""):this.GetImageURL(I,S,y,!0)}},{key:"SetLanguage",value:function(_){var S=this;return S._resetErr(),!!S._isValid()&&S._innerFun("SetLanguageForSecurity",Ve(_))}},{key:"GetLicenseInfo",value:function(_,S){var y=this;y.__licenseInfo?p.isFunction(_)&&_(y.__licenseInfo):y._innerFunRaw("GetLicenseInfo",Ve(0),rt,Pe,rt,function(b){b?b.exception?p.isFunction(S)&&S(b.exception):(p.isArray(b.result)&&b.result.length>0&&uT(y,b.result[0]),p.isFunction(_)&&_(y.__licenseInfo)):p.isFunction(S)&&S()},S)}},{key:"SetProductKeyAsync",value:function(_){return this._setProductKeyAsync(_)}},{key:"GetVersionInfoAsync",value:function(){return Ce.Promise.resolve(Nr.versionInfoFromServer)}},{key:"isUsingActiveX",value:function(){return!1}},{key:"SetLTSLicenseAsync",value:function(_){return this._setLTSLicenseAsync(_)}},{key:"Print",value:function(_){var S=this;return S._resetErr(),S._isValid()?S._isNoViewer()?S._nouiNotSupport("Print"):_?(S._innerSend("PrintEx",Ve(!0),!0,function(){},function(){}),!0):(S._ImagePrint.Print(),!0):!1}},{key:"PrintEx",value:function(_){var S=this;return S._resetErr(),!!S._isValid()&&!!S._checkIndices(_)&&(S._isNoViewer()?S._nouiNotSupport("Print"):(S._ImagePrint.PrintEx(_),!0))}},{key:"IsBlankImageAsync",value:(m=o(w().mark(function _(S,y){var b,I,x,D;return w().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(b=this,Mi.getEnumPlatform()==Et.enumWindow){W.next=5;break}throw Fe(b,-2905,"This API is not supported on the current operating system. Please contact your system administrator."),{code:this._errorCode,message:this._getErrorString()};case 5:return x={minBlockHeight:20,maxBlockHeight:30},y&&(p.isNumber(y.minBlockHeight)&&y.minBlockHeight>=0&&(x.minBlockHeight=y.minBlockHeight),p.isNumber(y.maxBlockHeight)&&y.maxBlockHeight>=0&&(x.maxBlockHeight=y.maxBlockHeight)),I={command:"isBlankImage",parameter:{index:S,minHeight:x.minBlockHeight,maxHeight:x.maxBlockHeight}},W.next=10,b.RunCommandAsync(I);case 10:if(!((D=W.sent)&&j.isArray(D.result)&&D.result.length>0)){W.next=13;break}return W.abrupt("return",D.result[0]);case 13:return W.abrupt("return",!1);case 14:case"end":return W.stop()}},_,this)})),function(_,S){return m.apply(this,arguments)})},{key:"httpUploadBlob",value:function(_,S,y,b){var I=this,x="httpUploadBlob",D=S,W=y,$=null,te=null,q=ja.Text;if(I._resetErr(),!I._isValid())return j.Promise.reject({code:I._errorCode,message:I._errorString});if(p.isUndefined(_)||_==="")return li(I),j.Promise.reject({code:I._errorCode,message:I._errorString});if(!p.isString(_))return pp(I),j.Promise.reject({code:I._errorCode,message:I._errorString});if(!(D instanceof Blob))return Kt(I),j.Promise.reject({code:I._errorCode,message:I._errorString});var X=D.type.toLocaleLowerCase();if(X!="image/jpeg"&&X!="image/jpg"&&X!="image/png"&&X!="image/bmp"&&X!="application/pdf"&&X!="image/tiff"&&X!="image/tif")return Fe(I,-2845,"Only Blob of JPEG, PNG, BMP, TIFF and PDF image types can be uploaded."),j.Promise.reject({code:I._errorCode,message:I._errorString});b&&($=new FormData,p.each(b.formFields,function(F,B){var V=F.name,G=F.value;p.isString(V)&&(G instanceof Blob?$.append(V,G,F.fileName):$.append(V,G))}),te={},p.each(b.headers,function(F,B){p.isString(F.name)&&(te[F.name]=F.value)}),b.responseType&&(q=b.responseType));var J=I._createHttpUploaderConfig(),re=new xs,H=new la;return H.url=_,H.method=x,H.content=D,D=null,H.contentType=I._strHttpContentTypeFieldValue,H.headers=te,H.fileName=W,H.httpFormData=$,I.__remoteFilename&&I.__remoteFilename!=""&&(H.remoteFilename=I.__remoteFilename),H.retry=1,H.bOnlyResponseEmptyIsOK=!1,H.responseType=q,J.objUploadStatus=void 0,I.IfShowProgressBar&&j.showProgress(I,x,!1),new j.Promise(function(F,B){re.httpPostUpload(J,H,function(V){I.IfShowProgressBar&&j.closeProgress(I,x,!1),F(V)},function(V,G){I.IfShowProgressBar&&j.closeProgress(I,x,!1),B({code:V,message:G})})})}},{key:"saveBlob",value:(h=o(w().mark(function _(S,y){var b,I,x,D,W;return w().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(x=S,(b=this)._resetErr(),b._isValid()){$.next=4;break}throw{code:b._errorCode,message:b._errorString};case 4:if(!p.isString(S)&&S!==null&&S!==void 0){$.next=8;break}$.next=10;break;case 8:case 23:throw Kt(b),{code:b._errorCode,message:b._errorString};case 10:if(!(y instanceof Blob)){$.next=23;break}if((W=y.type.toLocaleLowerCase())!="image/jpeg"&&W!="image/jpg"&&W!="image/png"&&W!="image/bmp"&&W!="application/pdf"&&W!="image/tiff"&&W!="image/tif"){$.next=16;break}$.next=18;break;case 16:throw Fe(b,-2844,"Only Blob of JPEG, PNG, BMP, TIFF and PDF image types can be saved."),{code:b._errorCode,message:b._errorString};case 18:return $.next=20,LU(y);case 20:D=$.sent,$.next=25;break;case 25:return x||(x=""),x=At.replaceLocalFilename(x),I=Ve(x),$.next=30,new j.Promise(function(te,q){b._innerSendBlobByWS("SaveBlobToFile",I,D,function(X){te(X)},function(X){q({code:b._errorCode,message:b._errorString})})});case 30:case"end":return $.stop()}},_,this)})),function(_,S){return h.apply(this,arguments)})},{key:"createLocalStorage",value:(l=o(w().mark(function _(S){var y,b,I,x,D;return w().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if((y=this)._resetErr(),y._isValid()){W.next=4;break}throw{code:y._errorCode,message:y._errorString};case 4:if(I="CreateLocalStorage",x=null,!S){W.next=12;break}if(D=S.password,_c(gu,this,K0).call(this,D)!==!1){W.next=9;break}throw{code:y._errorCode,message:y._errorString};case 9:x=JSON.stringify([JSON.stringify(S)]),W.next=13;break;case 12:x='["{}"]';case 13:return W.next=15,new j.Promise(function($,te){y._innerSend(I,x,!1,function(q){if(p.isArray(q)&&q.length>0){var X=q[0];X&&p.isString(X.uid)&&$(X.uid)}else Wi(y),te({code:y._errorCode,message:y._errorString})},function(){te({code:y._errorCode,message:y._errorString})})});case 15:return b=W.sent,W.abrupt("return",b);case 17:case"end":return W.stop()}},_,this)})),function(_){return l.apply(this,arguments)})},{key:"localStorageExist",value:(d=o(w().mark(function _(S){var y,b,I;return w().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(b="LocalStorageExist",(y=this)._resetErr(),y._isValid()){x.next=4;break}throw{code:y._errorCode,message:y._errorString};case 4:if(_c(gu,y,Y0).call(y,S)!=0){x.next=6;break}throw{code:y._errorCode,message:y._errorString};case 6:return x.next=8,new j.Promise(function(D,W){y._innerSend(b,Ve(S),!1,function($){if(p.isArray($)&&$.length>0){var te=$[0];(p.isBoolean(te)||p.isNumber(te))&&D(!!te)}else Wi(y),W({code:y._errorCode,message:y._errorString})},function(){W({code:y._errorCode,message:y._errorString})})});case 8:return I=x.sent,x.abrupt("return",I);case 10:case"end":return x.stop()}},_,this)})),function(_){return d.apply(this,arguments)})},{key:"saveToLocalStorage",value:(u=o(w().mark(function _(S){var y,b,I,x;return w().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(b="SaveToLocalStorage",I=null,(y=this)._resetErr(),y._isValid()){D.next=4;break}throw{code:y._errorCode,message:y._errorString};case 4:if(p.isObject(S)){D.next=7;break}throw Kt(y),{code:y._errorCode,message:y._errorString};case 7:if(_c(gu,y,Y0).call(y,S.uid)!==!1&&_c(gu,this,K0).call(this,S.password)!==!1){D.next=9;break}throw{code:y._errorCode,message:y._errorString};case 9:if(!p.isUndefined(S.indices)){D.next=13;break}S.indices=wK(y),D.next=20;break;case 13:if(!p.isArray(S.indices)||S.indices.length!=0){D.next=17;break}D.next=20;break;case 17:if(y._checkIndices(S.indices)){D.next=19;break}throw{code:y._errorCode,message:y._errorString};case 19:S.indices=qu(y,S.indices);case 20:return I=JSON.stringify([JSON.stringify(S)]),D.next=23,new j.Promise(function(W,$){y._innerSend(b,I,!1,function(te){if(p.isArray(te)&&te.length>0){var q=te[0];q&&q.imageIds&&W(q.imageIds)}else Wi(y),$({code:y._errorCode,message:y._errorString})},function(){$({code:y._errorCode,message:y._errorString})})});case 23:return x=D.sent,D.abrupt("return",x);case 25:case"end":return D.stop()}},_,this)})),function(_){return u.apply(this,arguments)})},{key:"loadFromLocalStorage",value:(s=o(w().mark(function _(S){var y,b,I,x,D;return w().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(b="LoadFromLocalStorage",I=null,(y=this)._resetErr(),y._isValid()){W.next=4;break}throw{code:y._errorCode,message:y._errorString};case 4:if(p.isObject(S)){W.next=7;break}throw Kt(y),{code:y._errorCode,message:y._errorString};case 7:if(_c(gu,y,Y0).call(y,S.uid)!==!1&&_c(gu,this,K0).call(this,S.password)!==!1){W.next=9;break}throw{code:y._errorCode,message:y._errorString};case 9:return(D=p.clone(S)).documentName=y._getCurrentDocumentName(),D.tagName=y._getCurrentDefaultTagName(),I=JSON.stringify([JSON.stringify(D)]),j.showProgress(y,b,!1),j.progressBarOnPercentDone(-1,"Processing...","",0,""),W.next=17,new j.Promise(function($,te){y._innerSend(b,I,!1,function(q){var X;j.closeProgress(null,b),p.isArray(q)&&q.length>0?(X=q[0])&&X.mapImageIds&&$(X.mapImageIds):(X===!1&&y._errorCode!=0||Wi(y),te({code:y._errorCode,message:y._errorString}))},function(){j.closeProgress(null,b),te({code:y._errorCode,message:y._errorString})})});case 17:return x=W.sent,W.abrupt("return",x);case 19:case"end":return W.stop()}},_,this)})),function(_){return s.apply(this,arguments)})},{key:"removeLocalStorage",value:(a=o(w().mark(function _(S){var y,b,I,x;return w().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(b="RemoveLocalStorage",I=null,(y=this)._resetErr(),y._isValid()){D.next=4;break}throw{code:y._errorCode,message:y._errorString};case 4:if(p.isObject(S)){D.next=7;break}throw Kt(y),{code:y._errorCode,message:y._errorString};case 7:if(_c(gu,y,Y0).call(y,S.uid)!==!1&&_c(gu,this,K0).call(this,S.password)!==!1){D.next=9;break}throw{code:y._errorCode,message:y._errorString};case 9:return S&&(I=JSON.stringify([JSON.stringify(S)])),D.next=12,new j.Promise(function(W,$){y._innerSend(b,I,!1,function(te){if(p.isArray(te)&&te.length>0){var q=te[0];(p.isBoolean(q)||p.isNumber(q))&&W(!!q)}else Wi(y),$({code:y._errorCode,message:y._errorString})},function(){$({code:y._errorCode,message:y._errorString})})});case 12:return x=D.sent,D.abrupt("return",x);case 14:case"end":return D.stop()}},_,this)})),function(_){return a.apply(this,arguments)})}]);var a,s,u,d,l,h,m}(Ps);function K0(r){if(!p.isUndefined(r)){if(!p.isString(r))return Fe(this,-2850,"The password is not a string."),!1;if(r.length>32)return function(n){Fe(n,-2849,"The password must not exceed 32 characters in length.")}(this),!1}return!0}function Y0(r){return p.isUndefined(r)||r==""?(Fe(this,-2846,"The uid cannot be empty."),!1):!!p.isString(r)||(function(n){Fe(n,-2847,"The uid is invalid.")}(this),!1)}function Wl(r,n,a,s){var u;a!==0&&a!==1?u=a:(u={},a&&(u.set=s==1?function(d){var l=1*d;return!p.isNumber(l)||isNaN(l)?(jn(r),Pe):(r._resetErr(),!!r._isValid()&&r._innerFun(n,Ve(l)))}:s==2?function(d){return p.isBoolean(d)?(r._resetErr(),!!r._isValid()&&r._innerFun(n,Ve(d))):(jn(r),Pe)}:function(d){return p.isString(d)?(r._resetErr(),!!r._isValid()&&r._innerFun(n,Ve(d))):(jn(r),Pe)})),u.get||(u.get=function(){return r._resetErr(),!!r._isValid()&&r._innerFun(n)}),n in r||Object.defineProperty(r,n,u)}function Rle(r,n){(function(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function _4(r,n,a){return(n=function(s){var u=function(d,l){if(R(d)!="object"||!d)return d;var h=d[Symbol.toPrimitive];if(h!==void 0){var m=h.call(d,l||"default");if(R(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(s,"string");return R(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}function Fle(r,n,a){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:a;throw new TypeError("Private element is not present on this object")}var y4=new WeakSet,S4=function(){return v(function a(s,u,d,l){f(this,a),Rle(this,y4),_4(this,"serverUrl",void 0),this.serverUrl=s,this.bLocal=so(s),this.clientId=d??p.guid(),this.bGlobal=u,this.serverName=l,this.bLicenseOK=!1},[{key:"checkSource",value:function(a){if(!a)throw{code:-1003,message:"Source Manager unable to find the specified Source"}}},{key:"parseResultDefault",value:function(a){var s;if(p.isObject(a)&&a.exception&&a.exception!=0)throw{code:a.exception,message:(s=a.description)!==null&&s!==void 0?s:"general error"};if(a&&p.isArray(a.result)&&a.result.length>0){var u=a.result[a.result.length-1];try{return JSON.parse(u)}catch{return u}}throw a}},{key:"_requestAsync",value:(n=o(w().mark(function a(s,u,d){var l,h,m,_,S,y,b,I,x,D;return w().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(!U.DWT.ConnectWithSocket){W.next=12;break}return W.next=3,Fle(y4,this,Ole).call(this);case 3:return l=W.sent,h=0,s&&(h=s.cmdId),m={client:l,userData:{command:s},taskId:h},_=Mle,W.next=9,l.request(p.stringify(s),_,m);case 9:return S=W.sent,p.isString(S)&&(S=p.parse(S)),W.abrupt("return",S);case 12:return y=[VF(),"/",s.method].join(""),u&&(I=u),x=(D=this).serverUrl?au.getDDMUrl(D.serverUrl,D.bGlobal,[UF,s.method].join("")):au.getModuleUrl(y),W.prev=16,W.next=19,Fd(x,{method:"post",dataType:"json",body:p.stringify(s),fetchRaw:d!=null&&d,timeout:I});case 19:b=W.sent,W.next=25;break;case 22:throw W.prev=22,W.t0=W.catch(16),W.t0;case 25:return W.abrupt("return",b);case 26:case"end":return W.stop()}},a,this,[[16,22]])})),function(a,s,u){return n.apply(this,arguments)})},{key:"_resetLicense",value:(r=o(w().mark(function a(s,u,d){return w().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:case"end":return l.stop()}},a)})),function(a,s,u){return r.apply(this,arguments)})}]);var r,n}();function Ole(){return b4.apply(this,arguments)}function b4(){return(b4=o(w().mark(function r(){var n,a,s,u,d,l,h,m,_;return w().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if((n=this)._wsClient){S.next=10;break}return a=new pl,(s=this.serverUrl)?(u=j.detect.ssl,l="/",d=u?"ddm/18626/":"ddm/18625/",p.endsWith(s,"/")&&(l=""),p.startsWith(s,"https://")||p.startsWith(s,"wss://")?(a.ssl=!0,h=p.startsWith(s,"https://")?p.replaceAll(s,"https://",""):p.replaceAll(s,"wss://",""),s=h+l+d):p.startsWith(s,"http://")||p.startsWith(s,"ws://")?(a.ssl=!1,m=p.startsWith(s,"http://")?p.replaceAll(s,"http://",""):p.replaceAll(s,"ws://",""),s=m+l+d):(a.ssl=j.detect.ssl,a.port=a.ssl?Pt.SSLPort:Pt.Port),a.server=s):(a.ssl=j.detect.ssl,a.server=ui(),a.port=a.ssl?Pt.SSLPort:Pt.Port),a.useWS=!0,a.protocol=Pt.wsProtocol,_=_s.Instance.getClient(a),S.next=9,_.testConnection();case 9:n._wsClient=_;case 10:return S.abrupt("return",n._wsClient);case 11:case"end":return S.stop()}},r,this)}))).apply(this,arguments)}_4(S4,"logLevel",-1);var Nle=function(r){function n(){var s;f(this,n);for(var u=arguments.length,d=new Array(u),l=0;l<u;l++)d[l]=arguments[l];return T(s=c(this,n,[].concat(d)),"_bInited",!1),s}return P(n,r),v(n,[{key:"getDynamsoftService",value:(a=o(w().mark(function s(u,d,l,h){var m,_,S,y,b,I,x,D,W,$,te,q,X,J,re;return w().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return l=(m=l)!==null&&m!==void 0&&m,h=(_=h)!==null&&_!==void 0?_:30,S={id:this.clientId,cmdId:p.guid(),method:"SearchScanner",parameter:[1,"_privet._tcp.local.",!1,!0,l,h,u,d],version:ru},H.prev=5,H.next=8,this._requestAsync(S,3e4,!1);case 8:y=H.sent,this._bInited=!0,H.next=19;break;case 12:if(H.prev=12,H.t0=H.catch(5),!this.bLocal){H.next=18;break}throw hl(b={}),{code:b._errorCode,message:b._errorString};case 18:throw{code:-2604,message:"Failed to connect to the Proxy Service. Please make sure the Proxy Service is configured successfully, Dynamsoft Service is running, or the certificate is valid."};case 19:I=[],x=this.parseResultDefault(y),D=C(x),H.prev=22,D.s();case 24:if((W=D.n()).done){H.next=40;break}if(!(($=W.value).service_type&&$.service_type==Ui.ST_UNKNOWN||$.type&&$.type!="dynamsoft_private_cloud_scan"&&$.type!="twaindirect")){H.next=30;break}return H.abrupt("continue",38);case 30:if(!$.service_type){H.next=38;break}H.t1=$.service_type,H.next=H.t1===Ui.ST_DYNAMSOFT_SERVICE?34:38;break;case 34:return(te=$.modules)&&p.isArray(te)&&p.isString(te[0])&&(q=te[0].split(",")).length>=3&&q[0]>=1&&q[1]>=8&&q[2]>0&&($.bGlobalFind=!0,X=C4(this.serverUrl,$),I.push(X)),$.bGlobalFind||(re=(J=$==null?void 0:$.ty)!==null&&J!==void 0?J:"",p.warn(["The Dynamsoft Service on [",re,"] is old version."].join(""))),H.abrupt("break",38);case 38:H.next=24;break;case 40:H.next=45;break;case 42:H.prev=42,H.t2=H.catch(22),D.e(H.t2);case 45:return H.prev=45,D.f(),H.finish(45);case 48:return H.abrupt("return",I);case 49:case"end":return H.stop()}},s,this,[[5,12],[22,42,45,48]])})),function(s,u,d,l){return a.apply(this,arguments)})},{key:"dispose",value:function(){var s={id:this.clientId,cmdId:p.guid(),method:"dispose",version:ru};this._requestAsync(s,500)}}]);var a}(S4);function C4(r,n){var a=new dT;return a.server=r,a.attrs=n,a}function Mle(r,n,a,s){return $E.apply(this,arguments)}function $E(){return $E=o(w().mark(function r(n,a,s,u){var d,l;return w().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(a!=Ur.GET_TASKID){h.next=4;break}return h.abrupt("return",u.taskId);case 4:if(a!=Ur.ONMESSAGE_PROCESS_DATA){h.next=8;break}return h.abrupt("return",p.parse(n));case 8:if(a!=Ur.ONMESSAGE_GET_TASKID){h.next=13;break}if(!u||!u.client){h.next=11;break}return h.abrupt("return",u.client.getRequestTaskId());case 11:h.next=20;break;case 13:if(a!=Ur.HANDLE_RAW_MESSAGE){h.next=20;break}if(d=u==null?void 0:u.userData){h.next=17;break}return h.abrupt("return",!1);case 17:return(l=n).indexOf("Version not found")>=0||l.indexOf("Function not found")>=0?p.isFunction(d.fFun)&&d.fFun():p.isFunction(d.sFun)&&d.sFun(l),h.abrupt("return",l);case 20:case"end":return h.stop()}},r)})),$E.apply(this,arguments)}function T4(r,n,a){return(n=function(s){var u=function(d,l){if(R(d)!="object"||!d)return d;var h=d[Symbol.toPrimitive];if(h!==void 0){var m=h.call(d,l||"default");if(R(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(s,"string");return R(u)=="symbol"?u:u+""}(n))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}function Lle(r,n){(function(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function KE(r,n,a){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:a;throw new TypeError("Private element is not present on this object")}function I4(r){var n,a=Ui.ST_UNKNOWN;return r==ht.ESCLSCANNER?a=Ui.ST_ESCL:r==ht.WIFIDIRECTSCANNER?a=Ui.ST_WIFI_DIRECT:((n=r)==ht.TWAINSCANNER||n==ht.WIATWAINSCANNER||n==ht.TWAINX64SCANNER||n==ht.ICASCANNER||n==ht.SANESCANNER)&&(a=Ui.ST_DYNAMSOFT_SERVICE),a}var X0=new WeakSet,Q0=function(r){function n(){var S;f(this,n);for(var y=arguments.length,b=new Array(y),I=0;I<y;I++)b[I]=arguments[I];return Lle(S=c(this,n,[].concat(b)),X0),T4(S,"_bInited",!1),T4(S,"_currentDevice",void 0),S}return P(n,r),v(n,[{key:"getSources",value:(_=o(w().mark(function S(y,b,I){var x,D,W,$,te,q,X,J,re,H,F,B,V,G;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(W="",$=!1,te=[],q=!1,((X=y??nT)&ht.ESCLSCANNER)==ht.ESCLSCANNER&&(W="_uscan._tcp.local."),(X&ht.WIFIDIRECTSCANNER)==ht.WIFIDIRECTSCANNER&&($=!0),W.length!=0||$){z.next=9;break}return z.abrupt("return",[]);case 9:return b=(x=b)!==null&&x!==void 0&&x,I=(D=I)!==null&&D!==void 0?D:30,J={id:this.clientId,cmdId:p.guid(),method:"SearchScanner",parameter:[1,W,$,q,b,I],version:ru},z.next=14,this._requestAsync(J,3e4,!1);case 14:if(re=z.sent,this._bInited=!0,H=this.parseResultDefault(re),p.isArray(H)){z.next=19;break}throw{code:-2612,message:"The devices must be an Array."};case 19:F=C(H),z.prev=20,F.s();case 22:if((B=F.n()).done){z.next=48;break}if(!((V=B.value).service_type&&V.service_type==Ui.ST_UNKNOWN||V.type&&V.type!="dynamsoft_private_cloud_scan"&&V.type!="twaindirect")){z.next=28;break}return z.abrupt("continue",46);case 28:if(!V.service_type){z.next=46;break}z.t0=V.service_type,z.next=z.t0===Ui.ST_DYNAMSOFT_SERVICE?32:z.t0===Ui.ST_ESCL||z.t0===Ui.ST_WIFI_DIRECT?33:46;break;case 32:return z.abrupt("break",46);case 33:return(G=new ra).name="",G.displayName="",G.deviceType=0,G.isSystemDefaultPrinter=!1,V.service_type==Ui.ST_ESCL?G.deviceType=ht.ESCLSCANNER:V.service_type==Ui.ST_WIFI_DIRECT&&(G.deviceType=ht.WIFIDIRECTSCANNER),G.name=V.ty,V.hostname&&V.hostname.length>V.ty.length&&(G.name=V.hostname),G.displayName=(V.service_type==Ui.ST_ESCL?"eSCL-":"")+G.name,this.bGlobal||(V.url=this.serverUrl,this.serverName&&(G.displayName=G.displayName+" on ["+this.serverName+"]")),G.serviceInfo=C4(this.serverUrl,V),te.push(G),z.abrupt("break",46);case 46:z.next=22;break;case 48:z.next=53;break;case 50:z.prev=50,z.t1=z.catch(20),F.e(z.t1);case 53:return z.prev=53,F.f(),z.finish(53);case 56:return z.abrupt("return",te);case 57:case"end":return z.stop()}},S,this,[[20,50,53,56]])})),function(S,y,b){return _.apply(this,arguments)})},{key:"getCapabilitiesAsync",value:(m=o(w().mark(function S(y){var b,I,x;return w().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return this.checkSource(y),(y.deviceType&ht.ESCLSCANNER)!=ht.ESCLSCANNER&&(y.deviceType&ht.WIFIDIRECTSCANNER)!=ht.WIFIDIRECTSCANNER||(this._currentDevice=y),b=I4(y.deviceType),I={id:this.clientId,cmdId:p.guid(),method:"SendRequestToScanner",parameter:["getCapabilities",p.stringify({UUID:y.serviceInfo.attrs.UUID,service_type:b,ty:y.name})],version:ru},D.next=6,this._requestAsync(I,0);case 6:return x=D.sent,D.abrupt("return",this.parseResultDefault(x));case 8:case"end":return D.stop()}},S,this)})),function(S){return m.apply(this,arguments)})},{key:"selectSourceAsync",value:(h=o(w().mark(function S(y){var b;return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,this.getCapabilitiesAsync(y);case 2:if(!(b=I.sent)&&b!=""){I.next=5;break}return I.abrupt("return",!0);case 5:case"end":return I.stop()}},S,this)})),function(S){return h.apply(this,arguments)})},{key:"versionInfo",value:(l=o(w().mark(function S(){var y,b;return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return y={id:this.clientId,cmdId:p.guid(),method:"VersionInfo",version:ru},I.next=3,this._requestAsync(y,5e3);case 3:return b=I.sent,this._bInited=!0,I.abrupt("return",b);case 6:case"end":return I.stop()}},S,this)})),function(){return l.apply(this,arguments)})},{key:"getLicenseInfo",value:function(S,y,b){return this._resetLicense(S,y,b)}},{key:"getImageAsArrayBuffer",value:(d=o(w().mark(function S(y,b){return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",KE(X0,this,w4).call(this,y,b));case 1:case"end":return I.stop()}},S,this)})),function(S,y){return d.apply(this,arguments)})},{key:"getImageToDWT",value:(u=o(w().mark(function S(y,b,I){return w().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",KE(X0,this,w4).call(this,y,b,I));case 1:case"end":return x.stop()}},S,this)})),function(S,y,b){return u.apply(this,arguments)})},{key:"acquireImage",value:(s=o(w().mark(function S(y,b,I){var x,D,W,$,te,q,X,J;return w().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:y=(x=y)!==null&&x!==void 0?x:this._currentDevice,this.checkSource(y),this._currentDevice=y,D=I4(y.deviceType),W=["scan",p.stringify({UUID:y.serviceInfo.attrs.UUID,service_type:D})],$=KE(X0,this,Wle).call(this,b),W[2]=p.stringify($),te={id:this.clientId,cmdId:p.guid(),method:"SendRequestToScanner",parameter:W,version:ru},q=0;case 9:if(!(q<5)){re.next=32;break}return re.prev=10,re.next=13,this._requestAsync(te,0);case 13:return J=re.sent,X=this.parseResultDefault(J),p.isObject(X)&&(X.device=y,X.scanOptions=$),re.abrupt("break",32);case 19:if(re.prev=19,re.t0=re.catch(10),re.t0.code!=-1004&&re.t0.code!=-1001){re.next=28;break}if(!(q>=4)){re.next=24;break}throw re.t0;case 24:return re.next=26,new j.Promise(function(H,F){setTimeout(H,2e3)});case 26:re.next=29;break;case 28:throw re.t0;case 29:q++,re.next=9;break;case 32:return re.abrupt("return",X);case 33:case"end":return re.stop()}},S,this,[[10,19]])})),function(S,y,b){return s.apply(this,arguments)})},{key:"_resetLicense",value:(a=o(w().mark(function S(y,b,I){var x,D,W,$;return w().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return this.longKeyOrShortkey=y,this.cu=b,Ble(),x=b??"",D={id:this.clientId,cmdId:p.guid(),method:"GetLicenseInfo",parameter:[y,n.logLevel,x,I],version:ru},te.prev=5,te.next=8,this._requestAsync(D,1e4);case 8:return W=te.sent,this._bInited=!0,te.abrupt("return",this.parseResultDefault(W));case 13:if(te.prev=13,te.t0=te.catch(5),!this.bLocal){te.next=19;break}throw hl($={}),{code:$._errorCode,message:$._errorString};case 19:throw{code:-2604,message:"Failed to connect to the Proxy Service. Please make sure the Proxy Service is configured successfully, Dynamsoft Service is running, or the certificate is valid."};case 20:case"end":return te.stop()}},S,this,[[5,13]])})),function(S,y,b){return a.apply(this,arguments)})}]);var a,s,u,d,l,h,m,_}(Nle);function w4(r,n,a){return E4.apply(this,arguments)}function E4(){return(E4=o(w().mark(function r(n,a,s){var u,d,l,h,m,_;return w().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(n!=null&&n.device){S.next=2;break}throw{code:-1011,message:"Operation out of expected sequence"};case 2:return s=(u=s)!==null&&u!==void 0?u:{ver:"",clientId:""},(d=["getImage",p.stringify({UUID:n.device.serviceInfo.attrs.UUID,service_type:a})])[2]=p.stringify(n.scanOptions),d[3]=n.scanJobs,d[4]=n.scanId,d[5]=s._clientId,d[6]=s._ver,l={id:this.clientId,cmdId:p.guid(),method:"SendRequestToScanner",parameter:d,version:ru},S.next=12,this._requestAsync(l,0,!0);case 12:if(h=S.sent,!(h.headers.get("content-type").indexOf("image/")>=0)){S.next=20;break}return S.next=17,h.arrayBuffer();case 17:return S.abrupt("return",S.sent);case 20:return S.next=22,h.json();case 22:if(m=S.sent,typeof(_=this.parseResultDefault(m))!="boolean"){S.next=28;break}return S.abrupt("return",null);case 28:return S.abrupt("return",_);case 29:case"end":return S.stop()}},r,this)}))).apply(this,arguments)}function Wle(r){var n=[];if(r){p.isNumber(r.PixelType)&&(n.push({capability:Ds.ICAP_PIXELTYPE,curValue:r.PixelType}),U.DWT.EnumDWT_PixelType.TWPT_BW==r.PixelType&&(n.push({capability:32771,curValue:"application/octet-stream"}),n.push({capability:32772,curValue:"application/octet-stream"})));var a=r.Resolution;a||(a=300),n.push({capability:Ds.ICAP_XRESOLUTION,curValue:a}),n.push({capability:Ds.ICAP_YRESOLUTION,curValue:a}),r.Brightness!==void 0&&n.push({capability:Ds.ICAP_BRIGHTNESS,curValue:r.Brightness}),r.XferCount!==void 0&&n.push({capability:Ds.CAP_XFERCOUNT,curValue:r.XferCount}),r.Contrast!==void 0&&n.push({capability:Ds.ICAP_CONTRAST,curValue:r.Contrast}),r.TransferMode!==void 0&&n.push({capability:Ds.ICAP_XFERMECH,curValue:r.TransferMode}),r.IfFeederEnabled!==void 0&&n.push({capability:Ds.CAP_FEEDERENABLED,curValue:r.IfFeederEnabled?1:0}),r.IfDuplexEnabled!==void 0&&n.push({capability:Ds.CAP_DUPLEXENABLED,curValue:r.IfDuplexEnabled?1:0})}return n}function Ble(){var r=Q0.logLevel;p.isNumber(r)||(Q0.logLevel=-1)}j.removeNonPrintableChar;var x4=function(r,n,a){a==2&&p.each(n,function(s,u){Jt(r,s,{get:function(){return r._resetErr(),r._isValid()?rt:Pe},set:function(d){return r._resetErr(),r._isValid()?rt:Pe}})})},A4=function(r,n){p.each(n,function(a,s){Wl(r,a,1,2)})},P4=function(r,n){p.each(n,function(a,s){Wl(r,a,1,1)})},k4=function(r,n){p.each(n,function(a,s){Wl(r,a,0)})},D4=function(r,n){p.each(n,function(a,s){Wl(r,a,1)})};function Ule(r){var n=r;n._bRemoteMode||(Jt(n,"ProductKey",{get:function(){return U.DWT.ProductKey},set:function(a){return p.isString(a)?(n._resetErr(),!!n._isValid()&&n._setProductKey(a,!1)):(jn(n),Pe)}}),Jt(n,"ProductName",{get:function(){return n.__strProductName}}),Jt(n,"VersionInfo",{get:function(){return ko.JSVersion}}),Jt(n,"DefaultSourceName",{get:function(){var a=n._getDefaultDevice();return a?a.displayName:""}}),Jt(n,"ImageCaptureDriverType",{get:function(){return n._resetErr(),n._isValid()?n._driverType:0},set:function(a){var s=!1,u=!1,d=!1;if(n._bRemoteMode?n.__serverPlatform==Et.enumWindow?d=!0:n.__serverPlatform==Et.enumLinux?u=!0:n.__serverPlatform==Et.enumMac&&(s=!0):(s=ue.bMac,u=ue.bLinux,d=ue.bWin),n._resetErr(),!n._isValid())return!1;if(a!==""){var l=1*a,h=!1;if(l<Zt.TWAIN||l>Zt.TWAIN64)return u_(n),Pe;if(d){if(l===Zt.TWAIN_AND_TWAIN64)n._b64bit&&(n._driverType=l);else if(l!=Zt.TWAIN&&l!=Zt.TWAIN64)return u_(n),Pe;n._b64bit||(l=Zt.TWAIN),n._driverType=l,h=!0}else if(u)l=Zt.SANE,n._driverType=l,h=!0;else if(s){if(l!==Zt.TWAIN_AND_ICA){if(l!=Zt.ICA&&l!=Zt.TWAIN&&l!=Zt.TWAIN64)return u_(n),Pe}n._driverType=l,h=!0}return h&&(n._curDevice=null,n.__devices=null),!0}return u_(n),Pe}}),Jt(n,"HTTPPostResponseString",{get:function(){return n._resetErr(),n._isValid()&&n.__HTTPPostResponseString?n.__HTTPPostResponseString:""}}),Jt(n,"IfAppendImage",{get:function(){return n._resetErr(),!!n._isValid()&&n.__IfAppendImage},set:function(a){return n._resetErr(),!!n._isValid()&&(p.isBoolean(a)?n.__IfAppendImage=a:(jn(n),Pe))}}),Jt(n,"FTPPort",{get:function(){return n._resetErr(),n._isValid()?n._innerFun("FTPPort"):0},set:function(a){if(n._resetErr(),!n._isValid())return!1;if(a!==""){var s=1*a;return n._innerFun("FTPPort",Ve(s))}}}),Jt(n,"JPEGQuality",{get:function(){return n._resetErr(),n._isValid()?n._innerFun("JPEGQuality"):0},set:function(a){var s=1*a;return s>=100?s=100:s<0&&(s=0),n._resetErr(),!!n._isValid()&&n._innerFun("JPEGQuality",Ve(s))}}),Wl(n,"TIFFCompressionType",1,1),Wl(n,"BufferMemoryLimit",1,1),Jt(n,"LogLevel",{get:function(){return n._resetErr(),n._isValid()?n._innerFun("LogLevel"):0},set:function(a){if(n._resetErr(),!n._isValid())return!1;var s=1*a;return n._logLevel=s,Q0.logLevel=n._logLevel,n._innerFun("LogLevel",Ve(s))}}),Jt(n,"HttpContentTypeFieldValue",{get:function(){return n._resetErr(),n._isValid()?n._strHttpContentTypeFieldValue:""},set:function(a){return n._resetErr(),!!n._isValid()&&(n._strHttpContentTypeFieldValue=a,a)}}),Jt(n,"BrokerProcessType",{get:function(){return n._resetErr(),n._isValid()?1:0},set:function(a){return n._resetErr(),!!n._isValid()}}),Jt(n,"BorderStyle",{get:function(){return n._resetErr(),!!n._isValid()&&0},set:function(a){return n._resetErr(),n._isValid(),!1}}),Jt(n,"HttpFieldNameOfUploadedImage",{get:function(){return n._resetErr(),n._isValid()?n.__remoteFilename:""},set:function(a){return n._resetErr(),n._isValid()?n.__remoteFilename=a:""}}),Jt(n,"style",{get:function(){return n._isValid()?n.__style:""}}),Jt(n,"ScaleDownThreshold",{get:function(){return n._resetErr(),n._isValid()?n._scaleDownThreshold:0},set:function(a){var s=1*a;return!p.isNumber(s)||isNaN(s)?(jn(self),Pe):(n._resetErr(),!!n._isValid()&&(n._scaleDownThreshold=a))}}),Jt(n,"CurrentImageIndexInBuffer",{get:function(){return n._isValid()&&n._ImgManager?n._ImgManager.getCurrentImageIndex():0},set:function(a){var s=1*a;return n._resetErr(),!!n._isValid()&&(s>=0&&s<n._ImgManager.count()&&(n._ImgManager.setSelectedClientIndexArray([s]),n._isBindViewer()&&Ga.__innerRefreshFromUIView(n,n._ImgManager.getCurrentImageIndex())),!0)}}),Jt(n,"SelectedImagesIndices",{get:function(){return n._resetErr(),n._isValid()?n._ImgManager.count()<=0?[]:n._ImgManager.getSelectedClientIndexArray():[]}}),Jt(n,"MaxImagesInBuffer",{get:function(){return n._resetErr(),n._isValid()?n.__maxImagesInBuffer:0},set:function(a){var s=1*a;return n._resetErr(),!!n._isValid()&&(s>0&&s<32768?n.__maxImagesInBuffer=s:Fe(n,-1010,"Data parameter out of supported range."),n.__maxImagesInBuffer)}}),Jt(n,"IfSSL",{get:function(){return n._bSSL},set:function(a){return n._bSSL=a,n._innerFun("IfSSL",Ve(a)),!0}}),Wl(n,"IfAllowLocalCache",1,2),Jt(n,"UseLocalService",{get:function(){return!0}}),Jt(n,"PDFCompressionType",{get:function(){return n._resetErr(),!!n._isValid()&&n._innerFun("PDFCompressionType")},set:function(a){var s=1*a;return s==U.DWT.EnumDWT_PDFCompressionType.PDF_FAX3&&(s=U.DWT.EnumDWT_PDFCompressionType.PDF_FAX4),n._resetErr(),!!n._isValid()&&n._innerFun("PDFCompressionType",Ve(s))}}),n._setProductKey=function(a,s,u,d){var l=!0,h=a,m=function(S){S||(n.__licenseInfo=void 0);var y=!0;return d||(y=_t.checkProductKey(n,{Core:!0})),p.isFunction(u)&&u(),y};if(n._resetErr(),!n._isValid())return!1;if(we.bUseDynamsoftLicenseManager||n._blts)return BC(n),!1;if(h=p.isString(h)?p.trim(h):"",U.DWT.ProductKey=h,h=="")l=!1,m();else{_t.reparseProductKey();var _=U.DWT.licenseException;if(_.code!=0)return n.__licenseInfo=void 0,n._errorCode=_.code,n._errorString=_.message,p.isFunction(u)&&u(),!1;n._innerFunRaw("ProductKey",Ve(h),s,!1,!1,function(S){var y=!1;y=p.isArray(S)?S[0]:S,p.isArray(S)&&S.length>=3&&S[1]==="1"&&p.isFunction(U.DWT.ShowMessage)&&U.DWT.ShowMessage(S[2],{width:510,height:272,headerStyle:1,seconds:10}),s||(l=y),n.__licenseInfo=void 0,n.GetLicenseInfo(function(){n._setConvertMode(n._pdfConvertMode),m(!0)},m)},function(){s||(l=!1),m()})}return l},D4(n,["ProxyServer"]),D4(n,["CapValueString","CapDescription","FTPPassword","FTPUserName","PDFAuthor","PDFCreationDate","PDFCreator","PDFKeywords","PDFModifiedDate","PDFProducer","PDFSubject","PDFTitle","PDFVersion"]),k4(n,["Manufacturer","ProductFamily","ImageBitsPerPixel","ImageLength","ImageWidth","ImageXResolution","ImageYResolution"]),k4(n,["BlankImageCurrentStdDev","CapDefaultIndex","CapDefaultValue","DataSourceStatus","Duplex","PendingXfers","ImageLayoutDocumentNumber","ImageLayoutFrameBottom","ImageLayoutFrameLeft","ImageLayoutFrameNumber","ImageLayoutFrameRight","ImageLayoutFrameTop","ImageLayoutPageNumber","ImagePixelType","MagData","MagType","IfFeederLoaded","IfPaperDetectable","IfUIControllable"]),A4(n,["AllowPluginAuthentication","IfModalUI","IfScanInNewThread","_AutoCropMethod","IfSortBySelectionOrder"]),A4(n,["IfDisableSourceAfterAcquire","IfDuplexEnabled","IfFeederEnabled","IfPASVMode","IfAutoBright","IfAutoDiscardBlankpages","IfAutoFeed","IfAutomaticBorderDetection","IfAutomaticDeskew","IfAutoScan","IfShowIndicator","IfUseTwainDSM","IfTiffMultiPage"]),P4(n,["MaxInternetTransferThreads"]),P4(n,["BlankImageMaxStdDev","BlankImageThreshold","BitDepth","Brightness","PageSize","PixelType","Resolution","Capability","CapCurrentIndex","CapCurrentValue","CapMaxValue","CapMinValue","CapNumItems","CapStepSize","CapType","CapValue","CapValueType","Contrast","PixelFlavor","TransferMode","Unit","XferCount"]),x4(n,["AsyncMode","EnableInteractiveZoom","IfThrowException","ImageEditorIfEnableEnumerator","ImageEditorIfReadonly","ImageEditorIfModal","ImageEditorWindowTitle","IfShowPrintUI","VScrollBar"],2),x4(n,["IfOpenImageWithGDIPlus"]))}j.DynamicLoadAddonFuns=[],j.attachAddon=function(r){var n=!1;return p.each(j.DynamicLoadAddonFuns,function(a){p.isFunction(a)&&(a(r),n=!0)}),!Nr.bFullEdition&&r.__addon&&delete r.__addon.Camera,n};var R4=v(function r(n,a,s){f(this,r),this.Url=n,this.Width=a,this.Height=s}),Vle=function(){return v(function n(a){f(this,n),this._stwain=a,this._ImgManager=a._ImgManager},[{key:"Print",value:function(){var n=this;if(n.count()<=0)return!1;var a,s=[];for(a=0;a<n.count();a++)s.push(a);return n.PrintEx(s)}},{key:"PrintCurrentImage",value:function(){var n,a,s,u=this;if(!((n=u._ImgManager.getCurrentImageIndex())<0))return(s=u._ImgManager.convertClientIndexToServerId(n))==-1?(qe(u),!1):(a=sr.getImageUrl(u._ImgManager.getBaseUrl,s,-1,-1),u.__PrintInner(a,s,n))}},{key:"PrintEx",value:function(n){var a=this;if(!(a.count()<=0)){var s=[];return U.DWT.ConnectWithSocket?a.__GetPrintUrlforSocket(n,s):a.__GetPrintUrlforHttp(n,s),!0}}},{key:"__PrintInner",value:function(n,a,s){var u=this,d=u._ImgManager.getImageIdMap(a),l=[];if(!d)return!1;var h=p.clone(d),m=h.width;(p.isUndefined(h.width)||h.width<=0)&&(h.width=u.getImageWidthFromServer(s));var _=h.height;(p.isUndefined(h.height)||h.height<=0)&&(h.height=u.getImageHeightFromServer(s));var S=new R4(n,h.width,h.height);return l.push(S),h.width=m,h.height=_,sr.print(l),!0}},{key:"__GetPrintUrl",value:function(n,a,s){var u,d,l=this,h=0,m=0;return(u=l._ImgManager.getImageIdMap(a))&&(!u.width||u.width<=0?u.width=l.getImageWidthFromServer(s):h=u.width,!u.height||u.height<=0?u.height=l.getImageHeightFromServer(s):m=u.height,d=new R4(n,u.width,u.height),u.width=h,u.height=m),d}},{key:"__GetPrintUrlforHttp",value:(r=o(w().mark(function n(a,s){var u,d,l,h,m,_,S,y,b,I;return w().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:u=this,d=0;case 2:if(!(d<a.length)){x.next=23;break}if(l=a[d],(h=u._ImgManager.convertClientIndexToServerId(l))==-1){x.next=20;break}if(m=void 0,!(U.navInfoSync.bMac&&U.navInfoSync.bSafari||U.navInfoSync.bFirefox)){x.next=17;break}if(!(_=u._stwain._ImgManager.getImageIdMap(h))){x.next=17;break}if(!(S=_.uuid)||S==-1){x.next=17;break}return x.next=14,u._stwain.Viewer.webViewer.myDvs.getImageData(S,{type:"blob"});case 14:y=x.sent,b=window.URL||window.webkitURL,m=b.createObjectURL(y);case 17:m||(m=sr.getImageUrl(u._ImgManager.getBaseUrl,h,-1,-1)),I=u.__GetPrintUrl(m,h,l),s.push(I);case 20:d++,x.next=2;break;case 23:sr.print(s);case 24:case"end":return x.stop()}},n,this)})),function(n,a){return r.apply(this,arguments)})},{key:"__GetPrintUrlforSocket",value:function(n,a){var s,u=this,d=Ce.Promise.resolve(0),l=0;return p.each(n,function(h){d=d.then(function(){var m=u._ImgManager.convertClientIndexToServerId(h);m!=-1&&u._ImgManager.getImageData(h).then(function(_){if(l++,!_){var S={};return Ot(S),void _r(S._errorString)}s=iu(_.oriData)?URL.createObjectURL(new Blob([_.oriData])):_.oriData instanceof Blob?URL.createObjectURL(_.oriData):_.oriData;var y=u.__GetPrintUrl(s,m,h);a.push(y),n.length==l&&sr.print(a)})})}),!0}},{key:"__GetPrintUrlforMobileEx",value:function(n,a){var s,u=this,d=Ce.Promise.resolve(0),l=0;return p.each(n,function(h){d=d.then(function(){var m=u._ImgManager.convertClientIndexToServerId(h);m!=-1&&u._ImgManager.getImageData(h).then(function(_){if(l++,!_){var S={};return Ot(S),void _r(S._errorString)}s=iu(_.oriData)?URL.createObjectURL(new Blob([_.oriData])):_.oriData instanceof Blob?URL.createObjectURL(_.oriData):_.oriData;var y=u.__GetPrintUrl(s,m,h);a.push(y),n.length==l&&sr.print(a)})})}),!0}},{key:"count",value:function(){return this._ImgManager.count()}},{key:"getImageHeightFromServer",value:function(n){var a,s,u,d=this,l=1*n;return a=d.count(),l<0||l>a?0:(u=d._ImgManager.convertClientIndexToServerId(l),(s=d._ImgManager.getImageIdMap(u))&&s.imageHeight?s.imageHeight:d._stwain.GetImageHeight(l))}},{key:"getImageWidthFromServer",value:function(n){var a,s,u,d=this,l=1*n;return a=d.count(),l<0||l>a?0:(u=d._ImgManager.convertClientIndexToServerId(l),(s=d._ImgManager.getImageIdMap(u))&&s.imageWidth?s.imageWidth:d._stwain.GetImageWidth(l))}}]);var r}();function jle(r,n){(function(a,s){if(s.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,n),n.add(r)}function Rn(r,n,a){if(typeof r=="function"?r===n:r.has(n))return arguments.length<3?n:a;throw new TypeError("Private element is not present on this object")}j.detect.viewerScriptLoaded=rt;var Cn=new WeakSet,F4=function(r){function n(u){var d,l,h;return f(this,n),jle(d=c(this,n,[u]),Cn),d._ImgManager=new jU(d,d._imageBufferWrapper),d._imageBufferWrapper=d._ImgManager,d._ImagePrint=new Vle(d),l=u||{},d._config=l,d._destroying=Pe,d._iServiceType=DE.TwainService,d.__addon={},d._bNoMask=Pe,d._bNotShowMessage=Pe,d._bSelectedSourceByServer=Pe,d._bKeepAwake=Pe,d._bAx=Pe,l.container&&(d._containerElement=l.container),d.__IfShowCancelDialogWhenImageTransfer=rt,d._errorCode=0,d._errorString="",d.__bLoadingImage=Pe,d.__bAcquireImageNow=Pe,d.__bOpenFileNow=Pe,d.__defaultSourceName="",d.__sourceCount=0,d._bConnecting=Pe,d.__licenseInfo=void 0,d.__strProductName=U.DWT.ProductName,d.__productKey="",d._moduleSize=1048576,d._driverType=Zt.TWAIN,d.__maxUploadImageSize=-1,d._bServerPercentDone=rt,d._bSSL=ue.bSSL,d._bRegistedLoad=!1,d._logLevel=0,d._scaleDownThreshold=0,d._pdfWriteSetting={},d.__serverPlatform=Et.enumUnknown,d._reconnectTimeSpan=Nr.LocaleReconnectTimeSpan,d._bRemoteMode||(d.httpFormFields={},d.HTTPPassword="",d.HTTPPort=j.detect.ssl?443:80,d.HTTPUserName="",d.__HTTPPostResponseString="",d.__remoteFilename="RemoteFile",d.__httpHeaderMap=Pe,d._b64bit?d._segementUploadThreshold=4294967296:d._segementUploadThreshold=524288e3,d._aryTiffTag=[],d._tiffCompressionType=U.DWT.EnumDWT_TIFFCompressionType.TIFF_AUTO,d._jpgQuality=80,d._pdfConvertMode=3,d._pdfOptions={convertMode:mr.CM_AUTO,password:"",renderOptions:{renderAnnotations:!1,resolution:200,maxWidth:0,maxHeight:0,renderGrayscale:!1}}),Ule(d),Jt(h=d,"Width",{get:function(){return h._resetErr(),h._isValid()?h._isNoViewer()?(h._nouiNotSupport("Width"),""):h._UIView.GetWidth():""},set:function(m){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?h._nouiNotSupport("Width"):h._UIView.SetWidth(m))}}),Jt(h,"Height",{get:function(){return h._resetErr(),h._isValid()?h._isNoViewer()?(h._nouiNotSupport("Height"),""):h._UIView.GetHeight():""},set:function(m){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?h._nouiNotSupport("Height"):h._UIView.SetHeight(m))}}),Jt(h,"AllowMultiSelect",{get:function(){return h._resetErr(),h._isValid()?h._isNoViewer()?h._nouiNotSupport("AllowMultiSelect"):h._UIView.GetAllowMultiSelect():""},set:function(m){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?h._nouiNotSupport("AllowMultiSelect"):void h._UIView.SetAllowMultiSelect(m))}}),Jt(h,"BackgroundColor",{get:function(){return h._resetErr(),h._isValid()?h._isNoViewer()?(h._nouiNotSupport("BackgroundColor"),""):h._UIView.GetBackgroundColor():""},set:function(m){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?h._nouiNotSupport("BackgroundColor"):h._UIView.SetBackgroundColor(m))}}),Jt(h,"BackgroundFillColor",{get:function(){if(h._resetErr(),!h._isValid())return"";if(h._isNoViewer())return h._nouiNotSupport("BackgroundFillColor"),"";var m=h._innerFun("BackgroundFillColor");return ea.BGR2RGB(m)},set:function(m){if(h._resetErr(),!h._isValid())return!1;if(h._isNoViewer())return h._nouiNotSupport("BackgroundFillColor");var _,S=1*m;return!p.isNumber(S)||p.isNaN(S)?(jn(h),Pe):(_=ea.RGB2BGR(S),h._innerFun("BackgroundFillColor",Ve(_)))}}),Jt(h,"FitWindowType",{get:function(){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?(h._nouiNotSupport("FitWindowType"),0):h._UIView.GetFitWindowType())},set:function(m){if(h._resetErr(),!h._isValid())return!1;if(h._isNoViewer())return h._nouiNotSupport("FitWindowType");var _=1*m;return h._UIView.SetFitWindowType(_)}}),Jt(h,"IfFitWindow",{get:function(){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?h._nouiNotSupport("IfFitWindow"):h._UIView.GetIfFitWindow())},set:function(m){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?h._nouiNotSupport("IfFitWindow"):m?h._UIView.SetIfFitWindow(!0):h._UIView.SetIfFitWindow(!1))}}),Jt(h,"ImageMargin",{get:function(){return h._resetErr(),h._isValid()?h._isNoViewer()?(h._nouiNotSupport("ImageMargin"),0):h._UIView.GetImageMargin():0},set:function(m){if(h._resetErr(),!h._isValid())return!1;if(h._isNoViewer())return h._nouiNotSupport("ImageMargin");var _=parseInt(m);return!isNaN(_)&&h._UIView.SetImageMargin(_)}}),Jt(h,"MouseX",{get:function(){return h._resetErr(),h._isValid()?h._isNoViewer()?(h._nouiNotSupport("MouseX"),0):h.__MouseX:0}}),Jt(h,"MouseY",{get:function(){return h._resetErr(),h._isValid()?h._isNoViewer()?(h._nouiNotSupport("MouseY"),0):h.__MouseY:0}}),Jt(h,"SelectionImageBorderColor",{get:function(){return h._resetErr(),h._isValid()?h._isNoViewer()?(h._nouiNotSupport("SelectionImageBorderColor"),""):h._UIView.GetSelectionImageBorderColor():""},set:function(m){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?h._nouiNotSupport("SelectionImageBorderColor"):h._UIView.SetSelectionImageBorderColor(m))}}),Jt(h,"Zoom",{get:function(){return h._resetErr(),h._isValid()?h._isNoViewer()?(h._nouiNotSupport("Zoom"),0):h._UIView.GetZoom():0},set:function(m){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?h._nouiNotSupport("Zoom"):h._UIView.SetZoom(m))}}),Jt(h,"MouseShape",{get:function(){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?h._nouiNotSupport("MouseShape"):h._UIView.GetMouseShape())},set:function(m){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?h._nouiNotSupport("MouseShape"):h._UIView.SetMouseShape(m))}}),Jt(h,"SelectionRectAspectRatio",{get:function(){return h._resetErr(),h._isValid()?h._isNoViewer()?(h._nouiNotSupport("SelectionRectAspectRatio"),0):h._UIView.GetSelectionRectAspectRatio():0},set:function(m){if(h._resetErr(),!h._isValid())return!1;if(h._isNoViewer())return h._nouiNotSupport("SelectionRectAspectRatio");var _=parseFloat(m);return _>=0&&(h._UIView.SetSelectionRectAspectRatio(_),!0)}}),Jt(h,"ShowPageNumber",{get:function(){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?h._nouiNotSupport("ShowPageNumber"):h._UIView.GetShowPageNumber())},set:function(m){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?h._nouiNotSupport("ShowPageNumber"):h._UIView.SetShowPageNumber(m))}}),Jt(h,"IfAutoScroll",{get:function(){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?h._nouiNotSupport("IfAutoScroll"):h._UIView.GetIfAutoScroll())},set:function(m){return h._resetErr(),!!h._isValid()&&(h._isNoViewer()?h._nouiNotSupport("IfAutoScroll"):h._UIView.SetIfAutoScroll(m))}}),d._innerInitEvents(l),d}return P(n,r),v(n,[{key:"GetImageDataAsync",value:function(u){return this._ImgManager.getImageData(u)}},{key:"SetCustomDataAsync",value:function(u,d){return this._ImgManager.setCustomData(u,d)}},{key:"style",get:function(){return this.__style}},{key:"GetSourceNamesAsync",value:(s=o(w().mark(function u(d){var l;return w().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if((l=this)._resetErr(),l._isValid()){h.next=4;break}throw{code:l._errorCode,message:l._errorString};case 4:return Jr("GetSourceNamesAsync",l),h.prev=5,h.next=8,l._getSourceCountAsync(l._driverType);case 8:h.next=13;break;case 10:throw h.prev=10,h.t0=h.catch(5),h.t0;case 13:return h.prev=13,Dr("GetSourceNamesAsync"),h.finish(13);case 16:if(!d){h.next=20;break}return h.abrupt("return",Rn(Cn,l,O4).call(l));case 20:return h.abrupt("return",Rn(Cn,l,N4).call(l));case 21:case"end":return h.stop()}},u,this,[[5,10,13,16]])})),function(u){return s.apply(this,arguments)})},{key:"SelectSourceAsync",value:function(u){var d;return d=Dn.dialogText.selectSource,this._selectSourceAsync("SelectSourceAsync",u,d)}},{key:"SelectSourceByIndexAsync",value:function(u){return this._selectSourceByIndexAsync("SelectSourceByIndex",u)}},{key:"OpenSourceAsync",value:function(){return this._openSourceAsync("OpenSourceAsync")}},{key:"CloseSourceAsync",value:function(){return this._closeSourceAsync("CloseSourceAsync")}},{key:"OpenSourceManagerAsync",value:function(){var u=this;return u._resetErr(),u._isValid()?u._innerFunV2("OpenSourceManager"):j.Promise.reject({code:u._errorCode,message:u._errorString})}},{key:"CloseSourceManagerAsync",value:function(){var u=this;return u._resetErr(),u._isValid()?u._innerFunV2("CloseSourceManager"):j.Promise.reject({code:u._errorCode,message:u._errorString})}},{key:"AcquireImage",value:function(u,d,l){var h,m=this,_=null,S=null;return m._resetErr(),!!m._isValid()&&(p.isUndefined(l)&&(p.isFunction(u)&&p.isFunction(d)||p.isFunction(u)&&p.isUndefined(d)||p.isFunction(u)&&d==null||u==null&&p.isFunction(d))?(h={},p.isFunction(u)&&(_=u),p.isFunction(d)&&(S=function(y){y&&y.code&&(m._errorCode=y.code,m._errorString=y.message),d(m._errorCode,m._errorString)})):(h=p.isUndefined(u)||u==null?{}:p.clone(u),p.isFunction(d)&&(_=function(){d(h)}),p.isFunction(l)&&(S=function(y){y&&y.code&&(m._errorCode=y.code,m._errorString=y.message),l(h,m._errorCode,m._errorString)})),_||(_=function(){}),S||(S=function(y){y&&y.code&&(m._errorCode=y.code,m._errorString=y.message)}),m.AcquireImageAsync(h).then(_,S),!Vi.isServerInvalid(m))}},{key:"GetDevicesAsync",value:function(u,d,l){return this._getDevicesAsync("GetDevicesAsync",u,d,l)}},{key:"SelectDeviceAsync",value:function(u,d){var l=this;return l._resetErr(),l._isValid()?this._selectDeviceAsync("SelectDeviceAsync",u,d):j.Promise.reject({code:l._errorCode,message:l._errorString})}},{key:"AcquireImageAsync",value:function(u){return E(A(n.prototype),"_acquireImage",this).call(this,this._curDevice,u)}},{key:"ImageIDToIndex",value:function(u){return this._uidFromServer2index(u)}},{key:"IndexToImageID",value:function(u){return this._index2uidFromServer(u)}},{key:"RemoveImage",value:function(u){return this._removeImage("RemoveImage",u)}},{key:"_innerGetSourceNamesSync",value:function(u){var d=this;return d._getSourceCountSync(),u?Rn(Cn,d,O4).call(d):Rn(Cn,d,N4).call(d)}},{key:"getCapabilities",value:function(u,d,l){var h,m,_,S=this;return j.isFunction(u)?(m=u,_=d):(h=u,m=d,_=l),!p.isUndefined(h)&&(!p.isArray(h)||p.isArray(h)&&h.indexOf(null)>=0||p.isString(h)&&h.trim().length==0)?(Kt(S),void(p.isFunction(_)&&_(S._errorCode,S._getErrorString()))):this._dwtGetCapabilities(h,m,_)}},{key:"setCapabilities",value:function(u,d,l){return this._dwtSetCapabilities(u,d,l)}},{key:"CancelAllPendingTransfers",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CancelAllPendingTransfers")}},{key:"CloseSource",value:function(){var u=this;if(u._resetErr(),!u._isValid())return!1;var d=u._innerFun("CloseSource");return d&&(u._curDevice=null),d}},{key:"CloseSourceManager",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("CloseSourceManager")}},{key:"SelectDevice",value:function(u,d){var l,h=this;if(u&&u.deviceType,h._resetErr(),U.DWT.ConnectWithSocket)return Fe(h,-2400,"SelectDevice doesn't work under current settings."),!1;var m,_=(l=this._dmService.attrs)===null||l===void 0?void 0:l.UUID;if(_&&((m=u.serviceInfo.attrs)===null||m===void 0?void 0:m.UUID)!=_){var S,y=((S=u.serviceInfo.attrs)===null||S===void 0?void 0:S.url)||u.serviceInfo.server;if(!(y&&y.indexOf(_)>-1))return bF(h),!1}var b=!1;try{(b=Rn(Cn,this,Gle).call(this,u.strDevice,d))&&(this._curDevice=u,this._bSelectedSourceByServer=!1)}catch(I){b=!1,this._errorCode=kt.CommonError,I&&I.message&&(this._errorString=I.message)}return b}},{key:"DisableSource",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("DisableSource")}},{key:"FeedPage",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("FeedPage")}},{key:"GetDeviceType",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("GetDeviceType")}},{key:"GetSourceNameItems",value:function(u){var d=this;return d._resetErr(),!!d._isValid()&&(d.__sourceCount<0&&(d.__sourceCount=0),u<d.__sourceCount&&u>=0?d._getSourceNameByIndex(u):"")}},{key:"SourceNameItems",value:function(u){var d=this;return d._resetErr(),!!d._isValid()&&d.GetSourceNameItems(u)}},{key:"GetSourceNames",value:function(u){return this._innerGetSourceNamesSync(u)}},{key:"getSourceCount",value:function(u){return this._getSourceCountAsync(u)}},{key:"GetSourceCountAsync",value:function(u){return this._getSourceCountAsync(u)}},{key:"GetSourceType",value:function(u){var d=this,l=parseInt(u);if(d._resetErr(),isNaN(l))return Kt(d),!1;if(d.__devices==null&&d.GetSourceNames(!1),l>=d.__devices.length||l<0)return qe(d),!1;var h,m,_,S=d.__devices[l];return h=S.deviceType,m=Zt.TWAIN,(_=h&sK)==ht.TWAINSCANNER||_==ht.WIATWAINSCANNER||(_==ht.TWAINX64SCANNER?m=Zt.TWAIN64:_==ht.ICASCANNER?m=Zt.ICA:_==ht.SANESCANNER?m=Zt.SANE:(_&ht.TWAINX64SCANNER)==ht.TWAINX64SCANNER?(_&ht.TWAINSCANNER)!=ht.TWAINSCANNER&&(_&ht.WIATWAINSCANNER)!=ht.WIATWAINSCANNER||(m=Zt.TWAIN_AND_TWAIN64):(_&ht.ICASCANNER)==ht.ICASCANNER&&((_&ht.TWAINSCANNER)!=ht.TWAINSCANNER&&(_&ht.WIATWAINSCANNER)!=ht.WIATWAINSCANNER||(m=Zt.TWAIN_AND_ICA))),m}},{key:"OpenSource",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&(u._bRemoteMode?(Fe(u,-2610,"OpenSource is not supported when Object is created by CreateRemoteScanObjectAsync. Please use OpenSourceAsync instead."),!1):u._innerFun("OpenSource"))}},{key:"OpenSourceManager",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("OpenSourceManager")}},{key:"ResetImageLayout",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("ResetImageLayout")}},{key:"RewindPage",value:function(){var u=this;return u._resetErr(),!!u._isValid()&&u._innerFun("RewindPage")}},{key:"SelectSource",value:function(u,d){var l=this,h=!1;if(p.isFunction(u)&&(h=!0),l._resetErr(),!l._isValid())return!!h&&void 0;var m=Zt.TWAIN;if(!h){if(l._bRemoteMode)return Fe(l,-2438,"SelectSource cannot be used synchronously when Object is created by CreateRemoteScanObjectAsync. Please use SelectSourceAsync instead."),!1;if(l._driverType==Zt.TWAIN_AND_TWAIN64)return function(D){Fe(D,-2429,"The method SelectSource() must be invoked asynchronously (i.e. with callback functions) when ImageCaptureDriverType is set to TWAIN_AND_ICA or TWAIN_AND_TWAIN64.")}(l),!1;l._driverType!=Zt.ICA&&l._driverType!=Zt.SANE&&l._driverType!=Zt.TWAIN64||(m=l._driverType);var _=ue.bMac,S=ue.bLinux,y=w_(m,ue.bWin,S,_,ue.bAndroid);return l._bSelectedSourceByServer=!0,l._curDevice=null,l._innerFun("SelectSource",Ve(y))}l._driverType!=Zt.ICA&&l._driverType!=Zt.SANE&&l._driverType!=Zt.TWAIN64&&l._driverType!=Zt.TWAIN_AND_TWAIN64||(m=l._driverType);var b=ue.bMac,I=ue.bLinux,x=w_(m,ue.bWin,I,b,ue.bAndroid);l.SelectSourceAsync(x).then(function(){p.isFunction(u)&&u()},function(D){D&&D.code&&(l._errorCode=D.code,l._errorString=D.message),p.isFunction(d)&&d(l._errorCode,l._getErrorString())})}},{key:"GetSourceTypeAsync",value:function(u){var d=this,l=1*u;return d._resetErr(),d._isValid()?j.Promise.resolve(d.GetSourceType(l)):j.Promise.reject({code:d._errorCode,message:d._errorString})}},{key:"SetFileXferInfo",value:function(u,d){var l,h,m=this;return m._resetErr(),!!m._isValid()&&(l=ue.bFileSystem?u.replace(/<%/g,"<%25"):u,h=At.replaceLocalFilename(l),m._innerFun("SetFileXferInfo",Ve(h,d)))}},{key:"SetImageLayout",value:function(u,d,l,h){var m=this;return m._resetErr(),!!m._isValid()&&m._innerFun("SetImageLayout",Ve(u,d,l,h))}},{key:"CapGet",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGet")}},{key:"CapGetCurrent",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetCurrent")}},{key:"CapGetDefault",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetDefault")}},{key:"CapGetFrameBottom",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameBottom",Ve(u))}},{key:"CapGetFrameLeft",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameLeft",Ve(u))}},{key:"CapGetFrameRight",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameRight",Ve(u))}},{key:"CapGetFrameTop",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameTop",Ve(u))}},{key:"CapGetHelp",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetHelp")}},{key:"CapGetLabel",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetLabel")}},{key:"CapGetLabels",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetLabels")}},{key:"CapIfSupported",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("CapIfSupported",Ve(u))}},{key:"CapReset",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapReset")}},{key:"CapSet",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapSet")}},{key:"CapSetFrame",value:function(u,d,l,h,m){return this._resetErr(),!!this._isValid()&&this._innerFun("CapSetFrame",Ve(u,d,l,h,m))}},{key:"GetCapItems",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("GetCapItems",Ve(u))}},{key:"GetCapItemsString",value:function(u){return this._resetErr(),!!this._isValid()&&this._innerFun("GetCapItemsString",Ve(u))}},{key:"SetCapItems",value:function(u,d){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCapItems",Ve(u,d))}},{key:"SetCapItemsString",value:function(u,d){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCapItemsString",Ve(u,d))}},{key:"GenerateURLForUploadData",value:function(u,d,l,h,m){var _=this,S=[];if(d==U.DWT.EnumDWT_ImageType.IT_BMP||d==U.DWT.EnumDWT_ImageType.IT_JPG||d==U.DWT.EnumDWT_ImageType.IT_PNG){if(!p.isArray(u))return Rd(_),p.isFunction(h)&&h(_._errorCode,_._getErrorString(),"",u,d),"";if(u.length>1)return Dd(_),p.isFunction(h)&&h(_._errorCode,_._getErrorString(),"",u,d),"";if(!_._checkIndices(u))return h(_._errorCode,_._getErrorString(),"",u,d),!1;var y=_._ImgManager.convertClientIndexToServerId(u[0]);y!=-1&&S.push(y)}else{if(d!=U.DWT.EnumDWT_ImageType.IT_TIF&&d!=U.DWT.EnumDWT_ImageType.IT_PDF)return p.isArray(u)?Li(_):Rd(_),p.isFunction(h)&&h(_._errorCode,_._getErrorString(),_.__HTTPPostResponseString,u,d),"";var b,I;if(p.isArray(u)){if(!_._checkIndices(u))return h(_._errorCode,_._getErrorString(),"",u,d),!1;b=u}else{if(u!=-1)return Rd(_),p.isFunction(h)&&h(_._errorCode,_._getErrorString(),_.__HTTPPostResponseString,u,d),"";for(b=[],I=0;I<_._ImgManager.count();I++)b.push(I)}p.each(b,function(x){var D=_._ImgManager.convertClientIndexToServerId(x);D!=-1&&S.push(D)})}return p.isFunction(l)&&p.isFunction(h)?(_._asyncGenerateURLForUploadData(S,d,m,l,function(x){h(_._errorCode,_._getErrorString(),_.__HTTPPostResponseString,x,d)}),!0):this._syncGenerateURLForUploadData(S,d,m)}},{key:"_syncGenerateURLForUploadData",value:function(u,d,l){var h,m=this,_=!1,S=Pt.managerVersion.join(""),y=l,b=",";p.isString(y)&&y!=""||(y="",b="");var I=["[",'"dcp","dwasm_'+S,'",',d,',"',u.join(","),'"',b,y,"]"].join("");if((h=this._innerFunRaw("GenerateURLForUploadData",I,!1,!1,!0))&&p.isArray(h.result)&&h.result.length>1){var x=h.result[0],D=h.result[1];x==1&&(_=["dcp://dwasm_",S,"/file/",D].join(""))}return p.isArray(u)&&p.each(u,function(W){m._ImgManager.convertServerIdToClientIndex(W)}),_==0?(FC(m),""):_}},{key:"_asyncGenerateURLForUploadData",value:function(u,d,l,h,m){var _=this,S=d,y=function(){if(p.isFunction(m)){var $=[];p.isArray(u)&&p.each(u,function(te){var q=_._ImgManager.convertServerIdToClientIndex(te);q>-1&&$.push(q)}),m($)}return""},b=",";if(S==U.DWT.EnumDWT_ImageType.IT_BMP||S==U.DWT.EnumDWT_ImageType.IT_JPG||S==U.DWT.EnumDWT_ImageType.IT_PNG){if(u.length>1)return Dd(_),y(),""}else if(S!=U.DWT.EnumDWT_ImageType.IT_TIF&&S!=U.DWT.EnumDWT_ImageType.IT_PDF)return Li(_),y(),"";var I=!1,x=Pt.managerVersion.join(""),D=l;p.isString(D)&&D!=""||(D="",b="");var W=["[",'"dcp","dwasm_'+x,'",',S,',"',u.join(","),'"',b,D,"]"].join("");return this._innerFunRaw("GenerateURLForUploadData",W,!0,!1,!0,function($){if($&&p.isArray($.result)&&$.result.length>0)if($.result[0]==1&&$.result.length>1){var te=$.result[1];I=["dcp://dwasm_",x,"/file/",te].join("")}else $.exception!==void 0&&$.description!==void 0?(_._errorCode=$.exception,_._errorString=$.description):FC(_);else FC(_);if(I==0)return y(),"";if(p.isFunction(h)){var q=[];p.isArray(u)&&p.each(u,function(X){var J=_._ImgManager.convertServerIdToClientIndex(X);J>-1&&q.push(J)}),h(I,q,d)}return I},y)}},{key:"SelectSourceByIndex",value:function(u){var d=this,l=parseInt(u);if(d._resetErr(),isNaN(l))return Kt(d),!1;if(d.__devices==null&&d.GetSourceNames(!1),l>=d.__devices.length||l<0)return qe(d),!1;var h=d.__devices[l];return d.SelectDevice(h)}},{key:"EnableSource",value:function(u,d,l){var h=this;return h._resetErr(),!!h._isValid()&&h.AcquireImage(u,d,l)}},{key:"SourceCount",get:function(){return this._getSourceCountSync()}},{key:"CurrentSourceName",get:function(){return this._curDevice?this._curDevice.displayName:""}},{key:"checkStartScanParams",value:function(u,d){var l=this;if(!u)return Fe(l,-2381,"scanSetup is invalid."),!1;if(!p.isUndefined(d.transferMode)&&u.transferMode!=0&&u.transferMode!=1&&u.transferMode!=2)return function(h){Fe(h,-2382,"Scanner setup error: Invalid Transfer Mode.")}(l),!1;if(u.transferMode==U.DWT.EnumDWT_TransferMode.TWSX_FILE){if(!u.fileXfer)return function(h){Fe(h,-2383,"Scanner setup error: fileXfer is invalid.")}(l),!1;if(!p.isString(u.fileXfer.fileName)||u.fileXfer.fileName=="")return function(h){Fe(h,-2384,"Scanner setup error: Invalid fileName in fileXfer.")}(l),!1;if(!p.isNumber(u.fileXfer.fileFormat)||u.fileXfer.fileFormat<0||u.fileXfer.fileFormat>16)return function(h){Fe(h,-2385,"Scanner setup error: Invalid fileFormat in fileXfer.")}(l),!1}if(d){if(!p.isString(d.type)||d.type=="")return function(h){Fe(h,-2387,"Output setup error: Invalid type in outputSetup.")}(l),!1;if(!d.httpParams)return function(h){Fe(h,-2386,"Output setup error: Invalid httpParams in outputSetup.")}(l),!1;if(u.transferMode!=U.DWT.EnumDWT_TransferMode.TWSX_FILE&&p.isUndefined(d.format))return function(h){Fe(h,-2390,"Output setup error: Invalid format in outputSetup.")}(l),!1;if(!p.isString(d.httpParams.url)||d.httpParams.url=="")return function(h){Fe(h,-2388,"Output setup error: Invalid url in outputSetup.httpParams.")}(l),!1;if(!p.isString(d.httpParams.fileName)||d.httpParams.fileName=="")return function(h){Fe(h,-2389,"Output setup error: Invalid fileName in outputSetup.httpParams.")}(l),!1}return!0}},{key:"startScan",value:function(u){var d,l=this,h=u;if(l._resetErr(),!l._isValid())return!1;if(l._startScanFlag==1)return Fe(d={},-2432,"Operation in progress, please try again when the current operation has finished."),j.Promise.reject({code:d._errorCode,message:d._errorString});l._startScanFlag=!0,p.isObject(h)||(h={});var m,_,S,y=!1,b=!1,I=!0,x=!0,D=!0,W=!1,$=h.onFinally,te=[],q=[],X=0,J=1,re=[],H={type:"http",format:U.DWT.EnumDWT_ImageType.IT_PDF,reTries:3,useUploader:!1,singlePost:!0,showProgressBar:!0,removeAfterOutput:!0,httpParams:{url:"",headers:{},formFields:{},remoteName:"RemoteFile",fileName:""}},F=p.clone(h),B=h;if(S=F.funcScanStatus,delete F.funcScanStatus,p.isFunction(S)?F.bfuncScanStatus=!0:F.bfuncScanStatus=!1,F.outputSetup){var V={pdfSetup:{},tiffSetup:{}};M4(F.outputSetup,H),_=F.outputSetup,delete F.outputSetup,_.pdfSetup&&(_.format!=U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF&&_.format!=U.DWT.EnumDWT_ImageType.IT_PDF||p.mix(V.pdfSetup,_.pdfSetup)),_.tiffSetup&&(_.format!=U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&_.format!=U.DWT.EnumDWT_ImageType.IT_TIF||p.mix(V.tiffSetup,_.tiffSetup)),_.format!=U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF&&_.format!=U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF||(_.singlePost=!0),_.httpParams&&p.isNumber(_.httpParams.threads)&&(J=_.httpParams.threads),y=p.stringify(V),b=l.checkStartScanParams(F,_)}else(_=H).type="",b=l.checkStartScanParams(F,!1);if(!b)return new j.Promise(function(pt,lt){I&&(lt({code:l._errorCode,message:l._getErrorString(),response:""}),I=!1,l._startScanFlag=!1)});_.funcHttpUploadStatus&&(W=_.funcHttpUploadStatus);var G,z,Z,ie,se,ne,ae=l.__remoteFilename,be=l.MaxUploadImageSize,ge=l.IfShowProgressBar,_e=l.__OnPostTransferAsync,Le=l.__OnPostAllTransfers,Xe=l.__OnHttpUploadStatus,ze=l.__insertingIndex,yt=l.__IfAppendImage,at=l.httpFormFields,gt=l._tiffCompressionType,Tt=!1,Be=_.showProgressBar;if(G=function(pt){var lt=!0;p.each(re,function(Qe,fr){Qe.st==-1&&(lt=!1)}),lt?z(pt):setTimeout(function(){G(pt)},200)},z=function(pt){pt.__OnPostTransferAsync=_e,pt.__OnPostAllTransfers=Le,pt.__OnHttpUploadStatus=Xe,pt.__remoteFilename=ae,pt.__maxUploadImageSize=be,pt.IfShowProgressBar=ge,pt.__insertingIndex=ze,pt.__IfAppendImage=yt,pt.httpFormFields=at,pt._tiffCompressionType=gt,U.FileUploader&&(U.FileUploader.nextLoopTime=600),pt._startScanFlag=!1},Z=function(pt,lt,Qe){x?(lt(Qe),G(pt)):setTimeout(function(){Z(pt,lt,Qe)},200)},ie=function(pt,lt){Tt=!0,I&&(I=!1,x||l._innerSendCmd("CancelAllPendingTransfers"),Z(l,pt,lt))},se=function(pt,lt,Qe,fr){if(p.isFunction(W)){var hn,Gt=lt,er=0;p.isNumber(fr)&&fr>0&&(er=fr),hn={fileName:Gt,percentage:Qe,statusCode:er,responseString:pt.__HTTPPostResponseString},setTimeout(function(){W(hn)},10)}},l.__HTTPPostResponseString="",l.IfShowProgressBar=Be,p.isNumber(F.insertingIndex)&&F.insertingIndex>-1&&(l.__insertingIndex=F.insertingIndex,l.__IfAppendImage=!1),p.isFunction(W)?l.__OnHttpUploadStatus=W:l.__OnHttpUploadStatus=!1,_.useUploader&&!U.FileUploader)return new j.Promise(function(pt,lt){Fe(l,-2380,"Please make sure the Uploader Module has been installed.");var Qe={code:l._errorCode,message:l._getErrorString(),response:""};x=!0,ie(lt,Qe)});if(m=_.reTries,_.useUploader){if(_.httpParams&&(ne=_.httpParams.url),!p.startsWith(ne,"http://")&&!p.startsWith(ne,"https://")){var Oe=window.location.href,tt=Oe.lastIndexOf("/");Oe=Oe.substring(0,tt+1),_.httpParams.url=Oe+ne}}else _.httpParams&&(p.each(_.httpParams.headers,function(pt,lt){l.SetHTTPHeader(lt,pt)}),p.each(_.httpParams.formFields,function(pt,lt){l.SetHTTPFormField(lt,pt)}));return _.httpParams&&_.httpParams.remoteName!==""&&(l.__remoteFilename=_.httpParams.remoteName),new j.Promise(function(pt,lt){_.useUploader?U.FileUploader.Init(0,function(Qe){pt({uploadManager:Qe})},function(Qe,fr){l._errorCode=Qe,l._errorString=fr;var hn={code:Qe,message:fr,response:l.__HTTPPostResponseString};x=!0,ie(lt,hn)}):pt({})}).then(function(pt){return new j.Promise(function(lt,Qe){var fr=function(){(F.transferMode==U.DWT.EnumDWT_TransferMode.TWSX_FILE?X==q.length:X==te.length)?(j.closeProgress(null,"Scan Upload"),Tt=!0,lt(B),z(l)):setTimeout(fr,100)};S&&p.isFunction(S)&&(l.__OnPreAllTransfersAsync=function(Gt){S(Gt)}),l.registerEvent("OnPostTransferAsync",function(Gt){var er,Pr,xi,gi,Ai,Zn,fa=_.httpParams&&_.httpParams.url,Tn=l._uidFromServer2ServerId(Gt.imageId),ei=_.singlePost,rn=F.transferMode==U.DWT.EnumDWT_TransferMode.TWSX_FILE,ha=_.removeAfterOutput,$n=0;if(D&&(x=!1,D=!1),rn?($n=q.length,q.push(Gt.path)):($n=te.length,te.push(Tn)),S&&p.isFunction(S)){var Rg={event:"postTransfer",bScanCompleted:!1,result:{currentPageNum:$n+1}};setTimeout(function(){S(Rg)},10)}if(Tt)return!1;if(_.type=="http")if(_.httpParams&&(Pr=po(_.httpParams.fileName,$n+1),xi=po(_.httpParams.remoteName,$n+1)),ei||_.type!="http")!ei&&_.type;else if(_.httpParams&&p.isNumber(_.httpParams.maxSizeLimit)&&(l.__maxUploadImageSize=_.httpParams.maxSizeLimit),_.useUploader){Be?(U.FileUploader.nextLoopTime=300,j.showProgress(l,"Scan Upload",l.__IfShowCancelDialogWhenImageTransfer)):j.hideProgress(),gi=function(nn,Yt){return l.__HTTPPostResponseString=Yt,se(l,nn._fileName,100,200),l._OnPercentDone([0,100,"","http",nn._fileName]),Be&&j.closeProgress(null,"Scan Upload"),!rn&&_.removeAfterOutput?setTimeout(function(){l._ImgManager.convertServerIdToClientIndex(Tn)>-1?Rn(Cn,l,da).call(l,Tn,function(){X++},function(){X++}):X++},100):X++,!0};var Sc,$t=pt.uploadManager;if(Ai=function(){if(Be){var nn,Yt=0;for(Yt=rn?q.length:te.length,nn=0;nn<Yt;nn++)j.closeProgress(null,"Scan Upload")}!rn&&_.removeAfterOutput&&setTimeout(function(){l._ImgManager.convertServerIdToClientIndex(Tn)>-1&&Rn(Cn,l,da).call(l,Tn)},100),$t.CancelAllUpload();var pa={code:l._errorCode,message:l._getErrorString(),response:l.__HTTPPostResponseString};return ie(Qe,pa),!1},Zn=function(nn,Yt,pa,Ha){var ur=303;Yt==kf.TRANS_SERVICE_ERROR_404?ur=404:Yt==kf.TRANS_SERVICE_ERROR_500?ur=500:Yt==kf.TRANS_SERVICE_ERROR_503&&(ur=503),l._errorCode=Yt,l._errorString=pa,l.__HTTPPostResponseString=Ha,se(l,Pr,100,ur),Ai()},Sc=function(){l.__HTTPPostResponseString="",se(l,Pr,100,303),Ai()},rn){var ti=$t.CreateJob(),Fg=ti.FormField;_.httpParams&&(p.each(_.httpParams.headers,function(nn,Yt){ti.HttpHeader[Yt]=nn}),p.each(_.httpParams.formFields,function(nn,Yt){Fg.Add(Yt,nn)})),ti.ServerUrl=fa,ti.bDeleteFile=ha,ti.reTries=m,_.httpParams&&p.isNumber(_.httpParams.maxSizeLimit)&&(ti.maxSizeLimit=_.httpParams.maxSizeLimit),ti._fileName=Pr,ti.SourceValue.Add(Gt.path,Pr,xi),ti.ImageType=F.fileXfer.fileFormat,ti.ThreadNum=J,ti.OnRunSuccess=gi,ti.OnRunFailure=Zn,(Be||p.isFunction(W))&&(ti.OnUploadTransferPercentage=function(nn,Yt){Yt>0&&Yt<=100&&(l._OnPercentDone([0,Yt,"","http",nn._fileName]),p.isFunction(W)&&se(l,nn._fileName,Yt,0))},j.cancelFrom=Mt.Scan,Be&&Rn(Cn,l,YE).call(l,Ai),l._OnPercentDone([0,-1,Cr.Uploading,"http",Pr]),se(l,Pr,0,0)),$t.Run(ti)}else(er=_.format)==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?er=U.DWT.EnumDWT_ImageType.IT_PDF:er==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(er=U.DWT.EnumDWT_ImageType.IT_TIF),j.cancelFrom=Mt.Scan,Be&&Rn(Cn,l,YE).call(l,Ai),l._OnPercentDone([0,-1,Cr.Encoding,"http",Pr]),l._asyncGenerateURLForUploadData([Tn],er,y,function(nn){var Yt=$t.CreateJob(),pa=Yt.FormField;_.httpParams&&(p.each(_.httpParams.headers,function(Ha,ur){Yt.HttpHeader[ur]=Ha}),p.each(_.httpParams.formFields,function(Ha,ur){pa.Add(ur,Ha)})),Yt.ServerUrl=fa,Yt.bDeleteFile=ha,Yt.reTries=m,_.httpParams&&p.isNumber(_.httpParams.maxSizeLimit)&&(Yt.maxSizeLimit=_.httpParams.maxSizeLimit),Yt._fileName=Pr,Yt.SourceValue.Add(nn,Pr,xi),Yt.ImageType=er,Yt.ThreadNum=J,Yt.OnRunSuccess=gi,Yt.OnRunFailure=Zn,(Be||p.isFunction(W))&&(Yt.OnUploadTransferPercentage=function(Ha,ur){ur>0&&ur<=100&&(l._OnPercentDone([0,ur,"","http",Ha._fileName]),p.isFunction(W)&&se(l,Ha._fileName,ur,0))},l._OnPercentDone([0,-1,Cr.Uploading,"http",Pr]),se(l,Pr,0,0)),$t.Run(Yt)},Sc)}else{var Uo={id:Tn,st:-1,bCancel:!1};if(re.push(Uo),$n==0&&(Be?j.showProgress(l,"Scan Upload",l.__IfShowCancelDialogWhenImageTransfer):j.hideProgress()),rn)gi=function(nn){return Uo.st=0,!rn&&_.removeAfterOutput?setTimeout(function(){l._ImgManager.convertServerIdToClientIndex(Tn)>-1?Rn(Cn,l,da).call(l,Tn,function(){X++},function(){X++}):X++},100):X++,!0},Ai=function(){!rn&&_.removeAfterOutput&&setTimeout(function(){l._ImgManager.convertServerIdToClientIndex(Tn)>-1&&Rn(Cn,l,da).call(l,Tn)},100);var nn={code:l._errorCode,message:l._getErrorString(),response:l.__HTTPPostResponseString};return j.closeProgress(null,"Scan Upload"),Uo.st==2||(Uo.st=1,p.each(re,function(Yt,pa){Yt.st==-1&&(Yt.bCancel=!0)}),ie(Qe,nn)),!1},l._innerUploadDirectly(fa,Gt.path,Pr,Be,ha,m,!1,Uo,gi,Ai);else{if(gi=function(nn,Yt){return Uo.st=0,!rn&&_.removeAfterOutput?setTimeout(function(){l._ImgManager.convertServerIdToClientIndex(Tn)>-1?Rn(Cn,l,da).call(l,Tn,function(){X++},function(){X++}):X++},100):X++,!0},Ai=function(nn){!rn&&_.removeAfterOutput&&setTimeout(function(){l._ImgManager.convertServerIdToClientIndex(Tn)>-1&&Rn(Cn,l,da).call(l,Tn)},100);var Yt={code:l._errorCode,message:l._getErrorString(),response:l.__HTTPPostResponseString};return j.closeProgress(null,"Scan Upload"),Uo.st==2||(Uo.st=1,p.each(re,function(pa,Ha){pa.st==-1&&(pa.bCancel=!0)}),ie(Qe,Yt)),!1},er=_.format,p.isUndefined(er)){var q0=l._ImgManager.convertServerIdToClientIndex(Tn);return Li(l),Ai([q0]),!1}er==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?er=U.DWT.EnumDWT_ImageType.IT_PDF:er==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(er=U.DWT.EnumDWT_ImageType.IT_TIF);var Z0={method:"startScan",url:fa,serverIds:[Tn],headers:l._GetHttpHeadersAndClear(),formData:vc(l.httpFormFields),enumImageType:er,saveSetup:y,fileName:Pr,dataFormat:PE.Binary,retry:m,bOnlyResponseEmptyIsOK:!1,objUploadFileStatus:Uo,asyncSuccessFunc:gi,asyncFailureFunc:Ai};l._asyncUploadCmd(Z0)}}}),l.__OnPostAllTransfers=function(){var Gt,er,Pr=-1,xi=PE.Binary,gi=_.httpParams.url,Ai=_.singlePost,Zn=F.transferMode==U.DWT.EnumDWT_TransferMode.TWSX_FILE,fa=_.removeAfterOutput;if(S&&p.isFunction(S)&&(Pr=Zn?q.length:te.length,er={event:"postTransfer",bScanCompleted:!0,result:{currentPageNum:Pr}},setTimeout(function(){S(er)},10)),Pr==0)return function(ur){Fe(ur,-1029,"Source has nothing to capture.")}(l),void setTimeout(function(){x=!0,$&&p.isFunction($)&&$();var ur={code:l._errorCode,message:l._getErrorString(),response:l.__HTTPPostResponseString};ie(Qe,ur)},1e3);if(Pr>0&&l._errorCode==-1029)l._errorCode=0;else if(l._errorCode!=0){x=!0,$&&p.isFunction($)&&$();var Tn={code:l._errorCode,message:l._getErrorString(),response:l.__HTTPPostResponseString};return void ie(Qe,Tn)}if(_.type=="http"){if(Ai&&_.type=="http"){var ei,rn,ha,$n=te;if(_.httpParams&&p.isNumber(_.httpParams.maxSizeLimit)&&(l.__maxUploadImageSize=_.httpParams.maxSizeLimit),_.useUploader){var Rg,Sc=pt.uploadManager,$t=Sc.CreateJob(),ti=$t.FormField;if(Be?(U.FileUploader.nextLoopTime=300,j.showProgress(l,"Scan Upload",l.__IfShowCancelDialogWhenImageTransfer)):j.hideProgress(),ei=function(ur,tr){var pn=ur._fileName;return pn||(pn=""),l._bServerPercentDone=!0,l.__HTTPPostResponseString=tr,se(l,pn,100,200),l._OnPercentDone([0,100,"","http"]),Be&&j.closeProgress(null,"Scan Upload"),!Zn&&_.removeAfterOutput?setTimeout(function(){X=0,p.each($n,function($i){l._ImgManager.convertServerIdToClientIndex($i)>-1?Rn(Cn,l,da).call(l,$i,function(){X++},function(){X++}):X++}),setTimeout(fr,100)},100):(Tt=!0,lt(B),z(l)),!0},rn=function(){Be&&j.closeProgress(null,"Scan Upload"),Sc.CancelAllUpload(),l._bServerPercentDone=!0;var ur={code:l._errorCode,message:l._getErrorString(),response:l.__HTTPPostResponseString};return ie(Qe,ur),!Zn&&_.removeAfterOutput&&setTimeout(function(){p.each($n,function(tr){l._ImgManager.convertServerIdToClientIndex(tr)>-1&&Rn(Cn,l,da).call(l,tr)})},100),!1},ha=function(ur,tr,pn,$i){var Ki=303;tr==kf.TRANS_SERVICE_ERROR_404?Ki=404:tr==kf.TRANS_SERVICE_ERROR_500?Ki=500:tr==kf.TRANS_SERVICE_ERROR_503&&(Ki=503),l._errorCode=tr,l._errorString=pn,l.__HTTPPostResponseString=$i,se(l,"",100,Ki),rn()},Rg=function(){l.__HTTPPostResponseString="",se(l,"",100,303),rn()},Be&&(j.cancelFrom=Mt.Scan,Rn(Cn,l,YE).call(l,rn)),Zn)_.httpParams&&(p.each(_.httpParams.headers,function(ur,tr){$t.HttpHeader[tr]=ur}),p.each(_.httpParams.formFields,function(ur,tr){ti.Add(tr,ur)})),$t.ServerUrl=gi,$t.bDeleteFile=fa,$t.reTries=m,_.httpParams&&p.isNumber(_.httpParams.maxSizeLimit)&&($t.maxSizeLimit=_.httpParams.maxSizeLimit),p.each(q,function(ur,tr){var pn,$i;_.httpParams&&(pn=po(_.httpParams.fileName,tr+1),$i=po(_.httpParams.remoteName,tr+1)),$t.SourceValue.Add(ur,pn,$i)}),$t.ImageType=F.fileXfer.fileFormat,$t.ThreadNum=J,$t.OnRunSuccess=ei,$t.OnRunFailure=ha,(Be||p.isFunction(W))&&($t.OnUploadTransferPercentage=function(ur,tr){tr>0&&tr<=100&&(l._OnPercentDone([0,tr,"","http"]),p.isFunction(W)&&se(l,"",tr,0))},l._OnPercentDone([0,-1,Cr.Uploading,"http"]),se(l,"",0,0)),Sc.Run($t);else if((Gt=_.format)==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF||Gt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF)Gt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?Gt=U.DWT.EnumDWT_ImageType.IT_PDF:Gt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(Gt=U.DWT.EnumDWT_ImageType.IT_TIF),l._OnPercentDone([0,-1,Cr.Encoding,"http"]),l._asyncGenerateURLForUploadData($n,Gt,y,function(ur){var tr,pn;_.httpParams&&(p.each(_.httpParams.headers,function($i,Ki){$t.HttpHeader[Ki]=$i}),p.each(_.httpParams.formFields,function($i,Ki){ti.Add(Ki,$i)})),$t.ServerUrl=gi,$t.bDeleteFile=fa,$t.reTries=m,_.httpParams&&p.isNumber(_.httpParams.maxSizeLimit)&&($t.maxSizeLimit=_.httpParams.maxSizeLimit),_.httpParams&&(tr=po(_.httpParams.fileName,1),pn=po(_.httpParams.remoteName,1)),$t._fileName=tr,$t.SourceValue.Add(ur,tr,pn),$t.ImageType=Gt,$t.ThreadNum=J,$t.OnRunSuccess=ei,$t.OnRunFailure=ha,(Be||p.isFunction(W))&&($t.OnUploadTransferPercentage=function($i,Ki){Ki>0&&Ki<=100&&(l._OnPercentDone([0,Ki,"","http",tr]),p.isFunction(W)&&se(l,tr,Ki,0))},l._OnPercentDone([0,-1,Cr.Uploading,"http",tr])),Sc.Run($t)},Rg);else{var Fg=$n.length,Uo=0,q0=0,Z0="";Be&&(l._bServerPercentDone=!1),l._OnPercentDone([0,-1,Cr.Encoding,"http"]),p.each($n,function(ur,tr){var pn,$i;_.httpParams&&(pn=po(_.httpParams.fileName,tr+1),$i=po(_.httpParams.remoteName,tr+1)),l._asyncGenerateURLForUploadData([ur],Gt,y,function(Ki){q0=(Uo+1)/Fg*100,Z0=[Uo+1,"/",Fg].join(""),l._OnPercentDone([0,q0,Z0,"http"]),$t.SourceValue.Add(Ki,pn,$i),++Uo>=Fg&&(Be&&(l._bServerPercentDone=!0),_.httpParams&&(p.each(_.httpParams.headers,function(ey,bc){$t.HttpHeader[bc]=ey}),p.each(_.httpParams.formFields,function(ey,bc){ti.Add(bc,ey)})),$t.ServerUrl=gi,$t.bDeleteFile=fa,$t.reTries=m,_.httpParams&&p.isNumber(_.httpParams.maxSizeLimit)&&($t.maxSizeLimit=_.httpParams.maxSizeLimit),$t.ImageType=Gt,$t.ThreadNum=J,$t.OnRunSuccess=ei,$t.OnRunFailure=ha,(Be||p.isFunction(W))&&($t.OnUploadTransferPercentage=function(ey,bc){bc>0&&bc<=100&&(l._OnPercentDone([0,bc,"","http"]),p.isFunction(W)&&se(l,"",bc,0))},l._OnPercentDone([0,-1,Cr.Uploading,"http"])),Sc.Run($t))},Rg)})}}else if(Zn)ei=function(ur){return l._bServerPercentDone=!0,!Zn&&_.removeAfterOutput?setTimeout(function(){X=0,p.each($n,function(tr){l._ImgManager.convertServerIdToClientIndex(tr)>-1?Rn(Cn,l,da).call(l,tr,function(){X++},function(){X++}):X++}),setTimeout(fr,100)},100):(Tt=!0,lt(B),z(l)),!0},rn=function(ur){l._bServerPercentDone=!0;var tr={code:l._errorCode,message:l._getErrorString(),response:l.__HTTPPostResponseString};return ie(Qe,tr),!Zn&&_.removeAfterOutput&&setTimeout(function(){p.each($n,function(pn){l._ImgManager.convertServerIdToClientIndex(pn)>-1&&Rn(Cn,l,da).call(l,pn)})},100),!1},l._innerUploadFilesDirectly(gi,q,_.httpParams&&_.httpParams.fileName,Be,fa,m,!1,ei,rn);else{ei=function(ur,tr){return l._bServerPercentDone=!0,!Zn&&_.removeAfterOutput?setTimeout(function(){X=0,p.each($n,function(pn){l._ImgManager.convertServerIdToClientIndex(pn)>-1?Rn(Cn,l,da).call(l,pn,function(){X++},function(){X++}):X++}),setTimeout(fr,100)},100):(Tt=!0,lt(B),z(l)),!0},rn=function(ur){l._bServerPercentDone=!0;var tr={code:l._errorCode,message:l._getErrorString(),response:l.__HTTPPostResponseString};return ie(Qe,tr),!Zn&&_.removeAfterOutput&&setTimeout(function(){p.each($n,function(pn){l._ImgManager.convertServerIdToClientIndex(pn)>-1&&Rn(Cn,l,da).call(l,pn)})},100),!1},Gt=_.format;var nn=l._GetHttpHeadersAndClear(),Yt=vc(l.httpFormFields);if(Gt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF||Gt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF){var pa;Gt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?Gt=U.DWT.EnumDWT_ImageType.IT_PDF:Gt==U.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(Gt=U.DWT.EnumDWT_ImageType.IT_TIF),_.httpParams&&(pa=po(_.httpParams.fileName,1),po(_.httpParams.remoteName,1));var Ha={method:"startScan",url:gi,headers:nn,formData:Yt,serverIds:$n,enumImageType:Gt,saveSetup:y,fileName:pa,dataFormat:xi,retry:m,bOnlyResponseEmptyIsOK:!1,objUploadFileStatus:!1,asyncSuccessFunc:ei,asyncFailureFunc:rn};l._asyncUploadCmd(Ha)}else $n.length>0&&l._asyncUploadFilesCmd(gi,$n,nn,Yt,Gt,_.httpParams&&_.httpParams.fileName,y,Be,m,!1,ei,rn)}}Ai&&_.type}x=!0,$&&p.isFunction($)&&$()};var hn=function(){if(_.type!="http")return Tt=!0,lt(B),void z(l);_.singlePost?setTimeout(function(){if(!x&&l._startScanFlag)return Tt=!0,lt(B),void z(l)},300):setTimeout(fr,100)};Rn(Cn,l,zle).call(l,F,hn,function(Gt){if(l._errorCode==-1029&&(F.transferMode==U.DWT.EnumDWT_TransferMode.TWSX_FILE?q.length>0:te.length>0))return l._errorCode=0,hn();var er={code:l._errorCode,message:l._getErrorString(),response:l.__HTTPPostResponseString};ie(Qe,er)})})})}},{key:"_innerInitEvents",value:function(u){this.__OnWSReconnect=u.onWSReconnect||null,this.__OnWSClose=u.onWSClose||null,this.__OnWSMessage=u.onWSMessage||null,this.__OnWSError=u.onWSError||null,this.__OnPercentDone=u.onPercentDone||"",this.__OnPrintMsg=u.onPrintMsg||"",this.__OnResult=u.onResult||"",this.__OnAfterOperate=u.onAfterOperate||"",this.__OnBeforeOperate=u.onBeforeOperate||"",this.__OnOperateStatus=u.onOperateStatus||"",this.__OnBitmapChanged=u.onBitmapChanged||"",this.__OnGetFilePath=u.onGetFilePath||"",this.__OnPreAllTransfers=u.onPreAllTransfers||"",this.__OnPreTransfer=u.onPreTransfer||"",this.__OnPostLoad=u.onPostLoad||"",this.__OnPostTransfer=u.onPostTransfer||"",this.__OnPostAllTransfers=u.onPostAllTransfers||"",this.__OnSourceUIClose=u.onSourceUIClose||"",this.__OnTransferCancelled=u.onTransferCancelled||"",this.__OnTransferError=u.onTransferError||"",this.__OnInternetTransferPercentage=u.onInternetTransferPercentage||"",this.__OnInternetTransferPercentageEx=u.onInternetTransferPercentageEx||"",this.__OnRemoteScanStatusAsync=u.onRemoteScanStatusAsync||""}}],[{key:"create",value:(a=o(w().mark(function u(d){var l;return w().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return l=new n(d),h.next=3,Vi.STwainConnectToServer(l);case 3:return h.abrupt("return",l);case 4:case"end":return h.stop()}},u)})),function(u){return a.apply(this,arguments)})}]);var a,s}(Dle);function O4(){var r,n,a=[],s=this.__devices.length;for(r=0;r<s;r++){var u=this.__devices[r],d=u.deviceType,l={ProductName:"",DeviceInfo:{},DriverType:"",IsCurrentSource:!1,IsDefaultSource:!1,Manufacturer:"",ProductFamily:"",ProtocolMajor:0,ProtocolMinor:0,SupportedGroups:0,Version:{Country:0,Info:"",Language:0,MajorNum:0,MinorNum:0}},h=void 0,m=p.clone(u.deviceInfo);(n=d)==ht.TWAINSCANNER||n==ht.WIATWAINSCANNER||n==ht.TWAINX64SCANNER?(d==ht.TWAINSCANNER?h="TWAIN":d==ht.WIATWAINSCANNER?h="WIATWAIN":d==ht.TWAINX64SCANNER&&(h="TWAIN64"),l.Manufacturer=m.Manufacturer,l.ProductFamily=m.ProductFamily,l.ProtocolMajor=m.ProtocolMajor,l.ProtocolMinor=m.ProtocolMinor,l.SupportedGroups=m.SupportedGroups,l.Version=m.Version):d==ht.SANESCANNER?(h="SANE",l.DeviceInfo=m):d==ht.ICASCANNER?(h="ICA",l.DeviceInfo=m):d==ht.ESCLSCANNER?(h="eSCL",l.DeviceInfo=m):d==ht.WIFIDIRECTSCANNER?(h="WiFiScanner",l.DeviceInfo=m):d==ht.WIASCANNER&&(h="WIA",l.DeviceInfo=m),l.ProductName=u.displayName,l.DriverType=h,a.push(l)}return a}function N4(){var r,n=this,a=[],s=0;for(n.__devices&&(s=n.__devices.length),r=0;r<s;r++){var u=n.__devices[r];a.push(u.displayName)}return a}function Gle(r,n){var a=["[",r,",",n??Ep.SMF_NAME,"]"].join("");return this._innerFun("SelectSourceEx",a)}function zle(r,n,a){var s,u,d=this,l=null,h=null;if(u=p.isUndefined(r)||r==null?{}:r,d._resetErr(),!d._isValid())return!1;if(p.isFunction(n)&&(l=function(){n(u)}),p.isFunction(a)&&(h=function(b,I){a(b,I,u)}),!_t.checkProductKey(d,{Core:!0}))return p.isFunction(h)&&h(d._errorCode,d._errorString),!1;for(var m=0,_=0;_<I_.length;_++){var S=["__",I_[_]].join("");p.isFunction(d[S])&&(m|=1<<_)}if(u.EnableEvents=m,u.scanner){var y=u.scanner;p.isString(y)||p.isString(y.strDevice)&&(u.device=y.strDevice,delete u.scanner)}return s=["[",p.stringify(u),"]"].join(""),d.__bAcquireImageNow=!0,d.__innerAcquireOrLoadImageAsync("StartScan",s,!1,!0).then(l,function(b){d._errorCode=b.code,d._errorString=b.message,p.isFunction(h)&&h(b.code,b.message)}),!0}function da(r,n,a){var s=this;return s._innerFunRaw("RemoveImage",Ve(r),!0,!1,!0,function(){s._OnBitmapChanged(["c1",""+r,3,s._ImgManager.getCurrentImageIndex(),s._ImgManager.count()]),p.isFunction(n)&&n()},a)}function YE(r){var n=this;n.IfShowCancelDialogWhenImageTransfer?(j.progressContext&&j.progressContext.on("cancel",function(){Ro(n),r()}),hu(!0)):hu(!1)}var kf={TRANS_SERVICE_ERROR_404:12,TRANS_SERVICE_ERROR_500:13,TRANS_SERVICE_ERROR_503:14},M4=function(r,n){if(!p.isUndefined(r)&&!p.isUndefined(n)&&r!=null&&n!=null){for(var a in n)r.hasOwnProperty(a)?R(r[a])==="object"&&M4(r[a],n[a]):r[a]=n[a];return r}};function Hle(r){return XE.apply(this,arguments)}function XE(){return XE=o(w().mark(function r(n){var a,s,u,d,l,h,m,_,S;return w().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(d=n.id,l=(a=n.container)===null||a===void 0?void 0:a.id,h=window,!(s=U.DWT.GetWebTwain(d))&&l&&(u=U.DWT.GetWebTwain(l)),!s&&!u){y.next=8;break}throw m={},s?wF(m):EF(m),{code:m._errorCode,message:m._errorString};case 8:return U.DWT.UseDefaultViewer||(n.container=null),((b=n.container)&&!p.isString(b)?rt:Pe)?n.bNoViewer=!1:n.bNoViewer=!0,y.prev=10,y.next=13,F4.create(n);case 13:_=y.sent,y.next=22;break;case 16:throw y.prev=16,y.t0=y.catch(10),(S=y.t0&&y.t0.code)==kt.ResponseDataTypeError||S==kt.HTSTError||S==kt.CORSError||S==kt.CORSErrorFromService||S==kt.SSLCertExpired||S==kt.SSLCertInvalid||(S==kt.MustUpgrade?pu(!0):S==kt.ModuleNotExists&&Kle(_)),_&&_.dispose(),y.t0;case 22:return y.prev=22,h.DCP_DWT_OnClickCloseInstall&&h.DCP_DWT_OnClickCloseInstall(!1,!0),y.finish(22);case 25:return L4(_),y.abrupt("return",_);case 27:case"end":return y.stop()}var b},r,null,[[10,16,22,25]])})),XE.apply(this,arguments)}function $le(r,n){if(p.isFunction(U.OnWebTwainNeedUpgradeCallback)){var a,s,u={};if(s=Mi.getDSPath(),ue.bWin)a=Et.enumWindow;else if(U.navInfo.bEmbed||ue.bAndroid||ue.bChromeOS||ue.bHarmonyOS||ue.biPhone||ue.biPad)ue.bAndroid?a=Et.enumAndroid:(u.deb=s,a=ue.biPhone||ue.biPad?Et.enumiOS:ue.bChromeOS?Et.enumChromeOS:ue.bHarmonyOS?Et.enumHarmonyOS:Et.enumEmbed);else if(ue.bLinux){var d=Mi.getLinuxHTML5DebPath(),l=Mi.getLinuxHTML5RpmPath();s=d,u.deb=d,u.rpm=l,a=Et.enumLinux}else a=Et.enumMac;u.default=s;var h=Ce.one(".dynamsoft-dialog-license");h&&h.getEL()&&(h.getEL().style.display="none"),j.detect.needUpgrade=rt,U.OnWebTwainNeedUpgradeCallback(we.name,u,we.bHTML5Edition,a,ue.bIE,ue.bSafari,j.detect.ssl,Br.strIEVersion,j.detect.bPromptJSOrServerOutdated,r,n)}}function L4(r){return W4.apply(this,arguments)}function W4(){return(W4=o(w().mark(function r(n){var a,s,u;return w().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(n&&!n._blts){d.next=2;break}return d.abrupt("return");case 2:if(n.ErrorCode==-2207&&(j.detect.bPromptJSOrServerOutdated=rt,p.isFunction(U.DWT.OnWebTwainNeedUpgradeWebJavascript)&&U.DWT.OnWebTwainNeedUpgradeWebJavascript(n.ErrorString)),!Nr.versionInfoFromServer){d.next=7;break}a=Nr.versionInfoFromServer,d.next=10;break;case 7:return d.next=9,n._getVersionInfoAsync();case 9:a=d.sent;case 10:if(j.detect.bNeedUpgradeEvent||fK(a)){d.next=19;break}if(j.detect.bNeedUpgradeEvent=rt,!p.isFunction(U.DWT.OnWebTwainNeedUpgrade)){d.next=15;break}if(!U.DWT.OnWebTwainNeedUpgrade()){d.next=15;break}return d.abrupt("return");case 15:if(!n._bRemoteMode){d.next=18;break}return p.isFunction(U.OnRemoteWebTwainNeedUpgradeCallback)&&(s=n._serverInfo.port,U.OnRemoteWebTwainNeedUpgradeCallback(we.name,n._serverInfo.server,s,n._serverInfo.ssl)),d.abrupt("return");case 18:(we.bHTML5Edition&&n._isBindViewer()||!we.bHTML5Edition)&&((u=n._containerElement)&&(Ce.one(u).before(j.install._strNonInstallDIV),p.show(j.install._divDWTNonInstallContainerID)),j.install._divDWTemessageContainer!=""&&p.hide(j.install._divDWTemessageContainer),$le());case 19:case"end":return d.stop()}},r)}))).apply(this,arguments)}function Kle(r){if(!j.detect.bNoControlEvent){var n,a=0,s=0;r&&(a=r._width,s=r._height,n=r._containerElement),r&&r._bRemoteMode?r._bNotShowMessage||p.isFunction(U.OnRemoteWebTwainNotFoundCallback)&&U.OnRemoteWebTwainNotFoundCallback(we.name,r._serverInfo.server,r._serverInfo.port,r._serverInfo.ssl,Br.bMobile):(c4(n,a,s),pu(!1)),j.detect.bNoControlEvent=!0}}var mu=function(r){function n(b){var I;f(this,n),(I=c(this,n,[b]))._bServerPercentDone=!0,I._bScanForProxyRemote=rt;var x=Vi.getServerImageUrlPrefix(I);return If._setBaseUrl(I._imageBufferWrapper,x),I}return P(n,r),v(n,[{key:"getDevices",value:function(b,I,x){return this._getDevices(b,I,x)}},{key:"_connnect",value:(y=o(w().mark(function b(){var I;return w().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return I=this,x.abrupt("return",new j.Promise(function(D,W){xle(I._serverInfo.server,I._serverInfo.port,void 0,function($,te,q){I._strRemoteServiceVer=q,D()},W)}));case 2:case"end":return x.stop()}},b,this)})),function(){return y.apply(this,arguments)})},{key:"acquireImage",value:function(b,I){return E(A(n.prototype),"_acquireImage",this).call(this,b,I)}},{key:"_acquireImageForSendTo",value:function(b,I,x,D){return E(A(n.prototype),"_acquireImageForSendTo",this).call(this,b,I,x,D)}},{key:"getCapabilities",value:function(b,I,x){return this._getCapabilities(b,I,x)}},{key:"setCapabilities",value:function(b,I,x){return this._setCapabilities(b,I,x)}},{key:"closeSource",value:function(){return this._closeSource()}},{key:"setBufferMemoryLimit",value:(S=o(w().mark(function b(I){var x,D;return w().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(x=this,p.isNumber(I)&&!isNaN(I)){W.next=4;break}throw jn(x),{code:x._errorCode,message:x._errorString};case 4:if(x._resetErr(),x._isValid()){W.next=7;break}throw{code:x._errorCode,message:x._errorString};case 7:return W.next=9,x._innerFunV2("BufferMemoryLimit",Ve(I));case 9:return D=W.sent,W.abrupt("return",D);case 11:case"end":return W.stop()}},b,this)})),function(b){return S.apply(this,arguments)})},{key:"setIfAllowLocalCache",value:(_=o(w().mark(function b(I){var x,D;return w().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(x=this,p.isBoolean(I)){W.next=4;break}throw jn(self),{code:x._errorCode,message:x._errorString};case 4:if(x._resetErr(),x._isValid()){W.next=7;break}throw{code:x._errorCode,message:x._errorString};case 7:return W.next=9,x._innerFunV2("IfAllowLocalCache",Ve(I));case 9:return D=W.sent,W.abrupt("return",D);case 11:case"end":return W.stop()}},b,this)})),function(b){return _.apply(this,arguments)})},{key:"howManyImagesInBuffer",get:function(){return this._imageBufferWrapper.count()}},{key:"currentImageIndexInBuffer",get:function(){return this._imageBufferWrapper.getCurrentImageIndex()},set:function(b){this._imageBufferWrapper.setCurrentImageIndex(b)}},{key:"saveImages",value:(m=o(w().mark(function b(I,x,D,W){var $;return w().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if($="saveImages",this._checkIndices(x)){te.next=3;break}throw{code:this._errorCode,message:this._getErrorString()};case 3:return this._containerElement=W,te.next=6,this._saveImages($,I,x,D);case 6:case"end":return te.stop()}},b,this)})),function(b,I,x,D){return m.apply(this,arguments)})},{key:"getImages",value:function(b,I,x,D){if(!this._checkIndices(b))throw{code:this._errorCode,message:this._getErrorString()};return this._containerElement=D,this._getImages("getImages",b,I,x)}},{key:"removeImages",value:(h=o(w().mark(function b(I){var x,D,W,$,te;return w().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(this._checkIndices(I)){q.next=2;break}throw{code:this._errorCode,message:this._getErrorString()};case 2:for(x=I.sort(function(X,J){return J-X}),D=[],W=0;W<x.length;W++)$=x[W],(te=this._imageBufferWrapper.convertClientIndexToServerId($))>0&&D.push(te);if(D.length!=0){q.next=7;break}return q.abrupt("return");case 7:return q.next=9,this._innerFunV2("RemoveAllImages",Ve(D.join(",")));case 9:if(!q.sent&&this._errorCode!=-1033){q.next=16;break}if(this._imageBufferWrapper.removeImages(x)){q.next=14;break}throw this._imageBufferWrapper.getError();case 14:q.next=17;break;case 16:throw{code:this._errorCode,message:this._errorString};case 17:case"end":return q.stop()}},b,this)})),function(b){return h.apply(this,arguments)})},{key:"updateImage",value:function(b,I,x){var D=this._imageBufferWrapper.getIndexByUid(b),W=this._imageBufferWrapper.convertClientIndexToServerId(D);return E(A(n.prototype),"_updateImage",this).call(this,W,I,x)}},{key:"getSkewAngleFromBinaryAsync",value:function(b,I,x,D){var W=this;if(W._resetErr(),!W._isValid())return j.Promise.reject({code:W._errorCode,message:W._errorString});var $=this._imageBufferWrapper.getCustomDataByIndex(b),te=this._imageBufferWrapper.getMetadataByIndex(b),q=this._imageBufferWrapper.convertClientIndexToServerId(b),X={imageId:q,serverId:q,bufferLen:I.size,imageType:Qt.IT_BMP,width:te.width,height:te.height,bit:te.bitDepth,xres:te.resolutionX,yres:te.resolutionY,uidFromServer:$.uidFromServer},J=p.stringify([p.stringify(X)]);return this._innerSendBlob("GetSkewAngleFromBinary",J,I,!0,!0,x,D)}},{key:"httpUpload",value:(l=o(w().mark(function b(I,x,D,W,$,te,q){var X,J;return w().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if((X=this)._resetErr(),X._isValid()){re.next=4;break}throw{code:X._errorCode,message:X._errorString};case 4:if(!p.isUndefined(I)&&I!==""){re.next=9;break}throw li(X),{code:X._errorCode,message:X._errorString};case 9:if(p.isString(I)){re.next=12;break}throw pp(X),{code:X._errorCode,message:X._errorString};case 12:if(X._checkIndices(x)){re.next=14;break}throw{code:X._errorCode,message:X._errorString};case 14:if((J=qu(X,x)).length!=0){re.next=18;break}throw Ot(X),{code:X._errorCode,message:X._errorString};case 18:if(!p.isUndefined(D)){re.next=21;break}throw Li(X),{code:X._errorCode,message:X._errorString};case 21:if(D!=U.DWT.EnumDWT_ImageType.IT_BMP&&D!=U.DWT.EnumDWT_ImageType.IT_JPG&&D!=U.DWT.EnumDWT_ImageType.IT_PNG){re.next=27;break}if(!(J.length>1)){re.next=25;break}throw Dd(X),{code:X._errorCode,message:X._errorString};case 25:re.next=33;break;case 27:if(D!=U.DWT.EnumDWT_ImageType.IT_TIF&&D!=U.DWT.EnumDWT_ImageType.IT_PDF){re.next=31;break}re.next=33;break;case 31:throw Li(X),{code:X._errorCode,message:X._errorString};case 33:if(!(p.isUndefined(W)||W!=U.DWT.EnumDWT_UploadDataFormat.Binary&&W!=U.DWT.EnumDWT_UploadDataFormat.Base64)){re.next=36;break}throw hF(X),{code:X._errorCode,message:X._errorString};case 36:return re.next=38,new j.Promise(function(H,F){var B,V,G=parseInt(D),z=parseInt(W);te!=null&&te.formFields&&(B=new FormData,p.each(te==null?void 0:te.formFields,function(Z,ie){var se=Z.name,ne=Z.value;p.isString(se)&&(ne instanceof Blob?B.append(se,ne,Z.fileName):B.append(se,ne))})),te!=null&&te.headers&&(V={},p.each(te==null?void 0:te.headers,function(Z,ie){p.isString(Z.name)&&(V[Z.name]=Z.value)})),X._containerElement=q,n._innerHTTPUpload(X,"httpUpload",I,te==null?void 0:te.responseType,V,B,J,G,z,$,void 0,0,!1,void 0,function(Z){if(p.isFunction(H)){var ie=[];p.isArray(J)&&p.each(J,function(se){var ne=X._imageBufferWrapper.convertServerIdToClientIndex(se);ne>-1&&ie.push(ne)});try{yn(H,Z,ie)}catch{}}return Z=null,!0},function(Z){if(p.isFunction(F))try{F(Z)}catch{}return!1})});case 38:return re.abrupt("return",re.sent);case 39:case"end":return re.stop()}},b,this)})),function(b,I,x,D,W,$,te){return l.apply(this,arguments)})},{key:"getCustomDataByIndex",value:function(b){return this._imageBufferWrapper.getCustomDataByIndex(b)}},{key:"getIndexByUid",value:function(b){return this._imageBufferWrapper.getIndexByUid(b)}},{key:"getProfile",value:function(b){return E(A(n.prototype),"_getProfile",this).call(this,b)}},{key:"setProfile",value:function(b,I){return E(A(n.prototype),"_setProfile",this).call(this,b,I)}},{key:"imageIDToIndex",value:function(b){return this._uidFromServer2index(b)}},{key:"indexToImageID",value:function(b){return this._index2uidFromServer(b)}},{key:"rotate",value:function(b,I,x,D){var W=this;if(W._resetErr(),!W._isValid())return j.Promise.reject({code:W._errorCode,message:W._errorString});var $=parseInt(b);if(isNaN($))return Ot(W),j.Promise.reject({code:W._errorCode,message:W._errorString});if($<0||$>=W.howManyImagesInBuffer)return qe(W),j.Promise.reject({code:W._errorCode,message:W._errorString});var te=W._imageBufferWrapper.convertClientIndexToServerId($);return te==-1?(qe(W),j.Promise.reject({code:W._errorCode,message:W._errorString})):W._innerFunV2("RotateEx",Ve(te,I,x,D),!0).then(function(q){})}},{key:"crop",value:function(b,I){var x=this;if(x._resetErr(),!x._isValid())return j.Promise.reject({code:x._errorCode,message:x._errorString});var D=parseInt(b);if(isNaN(D))return Ot(x),j.Promise.reject({code:x._errorCode,message:x._errorString});if(D<0||D>=x.howManyImagesInBuffer)return qe(x),j.Promise.reject({code:x._errorCode,message:x._errorString});var W=x._imageBufferWrapper.convertClientIndexToServerId(D);if(W==-1)return qe(x),j.Promise.reject({code:x._errorCode,message:x._errorString});var $=I.x,te=I.y,q=I.x+I.width,X=I.y+I.height;return x._innerFunV2("Crop",Ve(W,$,te,q,X),!0).then(function(J){})}},{key:"_createHttpUploaderConfig",value:function(){var b=this,I=new IU;return I.IfShowProgressBar=b.IfShowProgressBar,I.IfShowCancelDialogWhenImageTransfer=b.IfShowCancelDialogWhenImageTransfer,I.MaxUploadImageSize=b.MaxUploadImageSize,I.HTTPRequestswithCredentials=b.HTTPRequestswithCredentials,I.onPercent=function(x){b._OnPercentDone(x)},I.onHttpUploadStatus=function(x){},I}},{key:"_OnReady",value:(d=o(w().mark(function b(){var I,x,D;return w().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return so((I=this)._serverInfo.server)&&(na.item("DWT_port",I._serverInfo.port),na.item("DWT_ssl",I._serverInfo.ssl?"true":"false")),I._bNoMask||Jr("OnReady",I),W.prev=3,W.next=6,E(A(n.prototype),"_OnReady",this).call(this);case 6:return W.next=8,I._innerActiveUI(I._uuidForActiveUI);case 8:return x=W.sent,W.next=11,I._OnActiveUI(x);case 11:(D=I._id)&&!U.DWT.WebTwainIdMap[D]&&(U.DWT.WebTwainIdMap[D]=I),W.next=20;break;case 15:throw W.prev=15,W.t0=W.catch(3),W.t0&&(I._errorCode=W.t0.code,I._errorString=W.t0.message),I.dispose(),W.t0;case 20:return W.prev=20,I._bNoMask||Dr("OnReady"),W.finish(20);case 23:case"end":return W.stop()}},b,this,[[3,15,20,23]])})),function(){return d.apply(this,arguments)})},{key:"_isBindViewer",value:function(){return this._bBindViewer}},{key:"_isNoViewer",value:function(){return!this._isBindViewer()}},{key:"getServiceInfo",value:function(){return E(A(n.prototype),"getServiceInfo",this).call(this)}},{key:"setViewerInfo",value:function(b){this._bBindViewer=b}},{key:"setViewerControlInfo",value:function(b){this._controlWidth=b.width,this._controlHeight=b.height}}],[{key:"create",value:(u=o(w().mark(function b(I){var x;return w().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return x=new n(I),D.next=3,Vi.STwainConnectToServer(x);case 3:return D.abrupt("return",x);case 4:case"end":return D.stop()}},b)})),function(b){return u.apply(this,arguments)})},{key:"_getBuffer",value:function(b){return If._getBuffer(b._imageBufferWrapper)}},{key:"_setError",value:function(b,I,x){b._errorCode=I,b._errorString=x}},{key:"createByServiceInfo",value:(s=o(w().mark(function b(I,x,D){var W,$,te;return w().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return $={id:p.guid(),dmService:x,bNoViewer:!0,bNoMask:x==null||(W=x.attrs)===null||W===void 0?void 0:W.bNoMask,bNotShowMessage:!0},(te=new n($))._uuidForActiveUI=I,te._bLicenseErrorDispose=!1,D&&(te._containerElement=D),q.next=7,te._connnect();case 7:return q.next=9,Vi.STwainConnectToServer(te);case 9:return q.abrupt("return",te);case 10:case"end":return q.stop()}},b)})),function(b,I,x){return s.apply(this,arguments)})},{key:"checkOnlineByServiceInfo",value:(a=o(w().mark(function b(I){var x,D;return w().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return x={id:p.guid(),dmService:I,bNoViewer:!0,bNoMask:!0,bNotShowMessage:!0},W.prev=1,D=new n(x),W.next=5,D._connnect();case 5:return D._bReady=!0,D._wsClient||(D._wsClient=new zC(null)),D.dispose(),W.abrupt("return",!0);case 11:return W.prev=11,W.t0=W.catch(1),p.warn(W.t0),W.abrupt("return",!1);case 15:case"end":return W.stop()}},b,null,[[1,11]])})),function(b){return a.apply(this,arguments)})},{key:"_isReady",value:function(b){return b._bReady}},{key:"_innerHTTPUpload",value:function(b,I,x,D,W,$,te,q,X,J,re,H,F,B,V,G){var z=J,Z=x;if(p.isUndefined(q))return Li(b),void(p.isFunction(G)&&G({code:b._errorCode,message:b._errorString}));j.cancelFrom=Mt.HTTPUpload;var ie,se=function(ae,be,ge,_e){j.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&j.closeProgress(null,I),p.isFunction(G)&&G({code:ae,message:be,response:ge,httpCode:_e})},ne=b._createHttpUploaderConfig();if(ne.objUploadStatus=B,z=B0(z,q),j.needShowTwiceShowDialog=!0,b.IfShowProgressBar?(j.showProgress(b,I,!1),j.progressContext&&(j.progressContext._onPercent=function(ae){var be=0;if(ae){var ge,_e;ge=ae.loaded,_e=ae.total,(be=Math.floor(ge/_e*100))>100&&(be=100)}j.progressBarOnPercentDone(-1,"Transferring...","",be,"")})):j.hideProgress(),X==U.DWT.EnumDWT_UploadDataFormat.Binary){if(B&&B.bCancel)return B.st=2,Ro(b),void se(b._errorCode,b._errorString);ne.onPercent([0,-1,Cr.Encoding,"http"]),b._convertToBlobForUpload(q,te,re,4,function(ae,be,ge){if(ie=function(ze){return j.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&j.closeProgress(null,I),p.isFunction(V)&&yn(V,ze),ze=null,!0},B&&B.bCancel)return B.st=2,Ro(b),se(b._errorCode,b._errorString);if(!ae||ae.size<=0)return sn(b),se(b._errorCode,b._errorString);var _e=b.__maxUploadImageSize;if(ae.size>_e&&_e!=-1)return ms(b),se(b._errorCode,b._errorString);if(b._errorCode!=0)return se(b._errorCode,b._errorString);U.DWT.IfAddMD5InUploadHeader&&be&&be!=""&&(W["dwt-md5"]=be);var Le=new xs,Xe=new la;Xe.url=Z,Xe.method=I,Xe.content=ae,ae=null,Xe.contentType=b._strHttpContentTypeFieldValue,Xe.headers=W,Xe.fileName=z,Xe.httpFormData=$,Xe.retry=H,Xe.bOnlyResponseEmptyIsOK=F,Xe.responseType=D,ne.objUploadStatus=B,Le.httpPostUpload(ne,Xe,ie,se)},se)}else X==U.DWT.EnumDWT_UploadDataFormat.Base64&&b._convertToBase64ByServerIdsWithUI(I,te,q,re,4,function(ae){var be,ge;if(!ae||ae.getLength()<=0||(ie=function(Le){return j.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&j.closeProgress(null,I),p.isFunction(V)&&yn(V,Le),!0},be=ae.getMD5(),U.DWT.IfAddMD5InUploadHeader&&(W["dwt-md5"]=be),!(ge=ae.getData(0,ae.getLength()))||ge==""))return sn(b),se(b._errorCode,b._errorString);var _e=new la;_e.url=Z,_e.method=I,_e.content=ge,ge=null,_e.headers=W,_e.fileName=z,_e.httpFormData=$,_e.retry=H,_e.bOnlyResponseEmptyIsOK=F,_e.responseType=D,new xs().httpPostUpload(ne,_e,ie,se)},se)}}]);var a,s,u,d,l,h,m,_,S,y}(wU),QE=sr,Yle=function(){return v(function F(B){var V=this;if(f(this,F),this._serverUrl=B,this._defaultDSScanClient=null,this._dsScanClientsMap={},this._serviceInfos=null,this._id=p.guid(),this.onBufferChanged=null,this.onPostTransferAsync=null,this._errorCode=0,this._errorString="",this._bDispose=!1,this._needSetLogLevel=!1,this._logLevel=-1,this._showProgressBar=!0,this._checkServerUrl(),this._id&&!U.DWT.RemoteScanIdMap[this._id]&&(U.DWT.RemoteScanIdMap[this._id]=this),this._uuidForRemoteScanObject="",j.dlgProgress||j.initProgress(null),U.DWT.UseDefaultViewer){var G={viewerEvents:{bufferChanged:function(z,Z){V.__bufferChanged(V,z,Z)},save:function(z,Z,ie,se){return V.__save(z,Z,ie,se)},rotate:function(z,Z,ie){return V.__rotate(z,Z,ie)},crop:function(z,Z,ie,se,ne){return V.__crop(z,{x:Z,y:ie,width:se,height:ne})}},viewerError:{setError:function(z,Z){V._defaultDSScanClient?mu._setError(V._defaultDSScanClient,z,Z):z==0&&Z==""||(V._errorCode=z,V._errorString=Z)}},imageEditorEvents:{deskew:function(z,Z){V.__deskew(V,z,Z)},removeImage:function(){V.__remove(V)},removeAllImage:function(){V.__removeAll(V)},close:function(){V.__close(V)}},imageEditorUiConfig:{buttons:{visibility:{scan:!1,load:!1}}},beforeImageEditorCreated:function(z){V.__beforeImageEditorCreated(z)}};this._viewer=new U.DWTViewerEx(null,G)}else this._viewer=null},[{key:"Viewer",get:function(){return this._viewer}},{key:"_disposeDSClientByKey",value:(H=o(w().mark(function F(B){var V;return w().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!(V=this._dsScanClientsMap[B])){G.next=10;break}if(V.isDestroy){G.next=9;break}if(!V.__unload){G.next=8;break}return G.next=6,V.__unload();case 6:G.next=9;break;case 8:V.dispose();case 9:delete this._dsScanClientsMap[B];case 10:case"end":return G.stop()}},F,this)})),function(F){return H.apply(this,arguments)})},{key:"_checkServerUrl",value:function(){var F=this._serverUrl;if(F&&p.isString(F)&&p.startsWith(location.href,"https://")&&p.startsWith(F,"http://")){var B={};throw function(G,z,Z){Fe(G,-2436,'Mixed Content: The page at "'+z+'" was loaded over HTTPS, but requested an insecure resource "'+Z+'/ddm/18625/ddm/SearchScanner". This request has been blocked; the content must be served over HTTPS.')}(B,location.href,F),nr(B)}if(!p.isString(F)||F==""){var V={};throw Fe(V,-2545,"The  proxy server URL is invalid."),nr(V)}}},{key:"getDynamsoftService",value:(re=o(w().mark(function F(B){var V,G,z,Z,ie,se,ne,ae,be,ge,_e,Le,Xe,ze,yt,at,gt,Tt,Be;return w().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(!this._bDispose){Oe.next=4;break}throw uo(V={}),nr(V);case 4:if(G=this._serverUrl,this._checkServerUrl(),z=new Q0(G,!0),Jr("getDynamsoftService",this.getViewerElement()),Oe.prev=8,!B&&this._serviceInfos){Oe.next=68;break}if(Z=null,ie=this._serviceInfos,this._serviceInfos=[],se="",ne="",!ci()){Oe.next=30;break}return Oe.next=16,this._setRemoteUuid();case 16:return Oe.prev=16,Oe.next=19,S_(U.DWT.lgdt(),"");case 19:(ae=Oe.sent)&&(se=ae.ar,ne=this._uuidForRemoteScanObject),Oe.next=28;break;case 23:throw Oe.prev=23,Oe.t0=Oe.catch(16),sT(be={},Oe.t0),{code:be._errorCode,message:be._errorString};case 28:Oe.next=31;break;case 30:se=we.refProductKey;case 31:return Oe.next=33,z.getDynamsoftService(se,ne,B);case 33:if(!(Z=Oe.sent)){Oe.next=68;break}_e=[],ge=0;case 37:if(!(ge<Z.length)){Oe.next=65;break}return ze=fT(Z[ge]),yt=(Le=ze==null||(Xe=ze.attrs)===null||Xe===void 0?void 0:Xe.ty)!==null&&Le!==void 0?Le:"",Oe.next=42,mu.checkOnlineByServiceInfo(ze);case 42:if(!Oe.sent){Oe.next=60;break}if(ze.attrs=ze.attrs||{},ze.attrs.bNoMask=!0,ze.attrs.bNotShowMessage=!0,!ie){Oe.next=57;break}at=void 0,at=0;case 50:if(!(at<ie.length)){Oe.next=57;break}if(!this.isSameService(ze,ie[at])){Oe.next=54;break}return ie.splice(at,1),Oe.abrupt("break",57);case 54:at++,Oe.next=50;break;case 57:this._serviceInfos.push(ze),Oe.next=61;break;case 60:yt+="(x)";case 61:_e.push(yt);case 62:ge++,Oe.next=37;break;case 65:if(p.log("Find Dynamsoft Services:"),p.log(_e.join(", ")),ie)for(gt=0;gt<ie.length;gt++)(Be=(Tt=ie[gt])===null||Tt===void 0||(Tt=Tt.attrs)===null||Tt===void 0?void 0:Tt.UUID)&&this._disposeDSClientByKey(Be);case 68:this._needSetLogLevel&&this._logLevel!=-1&&this.setLogLevel(this._logLevel),Oe.next=74;break;case 71:throw Oe.prev=71,Oe.t1=Oe.catch(8),Oe.t1;case 74:Oe.prev=74,Dr("getDynamsoftService");try{z._bInited&&z.dispose()}catch{}return Oe.finish(74);case 78:return Oe.abrupt("return",this._serviceInfos);case 79:case"end":return Oe.stop()}},F,this,[[8,71,74,78],[16,23]])})),function(F){return re.apply(this,arguments)})},{key:"getDefaultDynamsoftService",value:function(){if(this._bDispose){var F={};throw uo(F),nr(F)}return this._defaultDSScanClient?this._defaultDSScanClient.getServiceInfo():null}},{key:"setDefaultDynamsoftService",value:(J=o(w().mark(function F(B){var V,G,z,Z;return w().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(!this._bDispose){ie.next=4;break}throw uo(V={}),nr(V);case 4:if(B!==null){ie.next=7;break}return this._defaultDSScanClient=null,ie.abrupt("return");case 7:if(B&&B instanceof dT){ie.next=11;break}throw Kt(G={}),{code:G._errorCode,message:G._errorString};case 11:return z=this.getViewerElement(),ie.next=14,this._createDSClientByServiceInfo(B,!0,z._containerElement);case 14:if(!(Z=ie.sent)){ie.next=18;break}return ie.next=18,this._innerSetDefault(Z);case 18:case"end":return ie.stop()}},F,this)})),function(F){return J.apply(this,arguments)})},{key:"_innerSetDefault",value:(X=o(w().mark(function F(B){var V,G,z;return w().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!B){Z.next=11;break}if(mu._isReady(B)){Z.next=5;break}throw z=(V=(G=B.getServiceInfo())===null||G===void 0||(G=G.attrs)===null||G===void 0?void 0:G.name)!==null&&V!==void 0?V:"",hl(B,z),{code:B._getErrorCode(),message:B._getErrorString()};case 5:this._defaultDSScanClient=B,this._defaultDSScanClient.IfShowProgressBar=this._showProgressBar,this.Viewer&&this.Viewer.webViewer&&this.Viewer.webViewer.bindViewUI&&this._defaultDSScanClient.setViewerInfo(this.Viewer.webViewer.bindViewUI),this.__setViewerControlInfo(),this._registEventToDefaultDS(),this._viewer&&this._viewer.webViewer.setBufferService(mu._getBuffer(this._defaultDSScanClient));case 11:case"end":return Z.stop()}},F,this)})),function(F){return X.apply(this,arguments)})},{key:"__setViewerControlInfo",value:function(){this.Viewer.webViewer.bindViewUI&&this.Viewer.width&&this.Viewer.width>0&&this.Viewer.height&&this.Viewer.height>0&&this._defaultDSScanClient.setViewerControlInfo({width:this.Viewer.width,height:this.Viewer.height})}},{key:"__beforeImageEditorCreated",value:function(F){var B=U.DWT.CustomizableDisplayInfo;if(!p.isUndefined(B)){if(!p.isUndefined(B.buttons)){var V=B.buttons.titles;p.isUndefined(V)||(p.isUndefined(V.previous)||(F.buttons.titles.previous=V.previous),p.isUndefined(V.next)||(F.buttons.titles.next=V.next),p.isUndefined(V.print)||(F.buttons.titles.print=V.print),p.isUndefined(V.scan)||(F.buttons.titles.scan=V.scan),p.isUndefined(V.load)||(F.buttons.titles.load=V.load),p.isUndefined(V.rotateleft)||(F.buttons.titles.rotateleft=V.rotateleft),p.isUndefined(V.rotate)||(F.buttons.titles.rotate=V.rotate),p.isUndefined(V.rotateright)||(F.buttons.titles.rotateright=V.rotateright),p.isUndefined(V.deskew)||(F.buttons.titles.deskew=V.deskew),p.isUndefined(V.crop)||(F.buttons.titles.crop=V.crop),p.isUndefined(V.cut)||(F.buttons.titles.cut=V.cut),p.isUndefined(V.changeimagesize)||(F.buttons.titles.changeimagesize=V.changeimagesize),p.isUndefined(V.flip)||(F.buttons.titles.flip=V.flip),p.isUndefined(V.mirror)||(F.buttons.titles.mirror=V.mirror),p.isUndefined(V.zoomin)||(F.buttons.titles.zoomin=V.zoomin),p.isUndefined(V.originalsize)||(F.buttons.titles.originalsize=V.originalsize),p.isUndefined(V.zoomout)||(F.buttons.titles.zoomout=V.zoomout),p.isUndefined(V.stretch)||(F.buttons.titles.stretch=V.stretch),p.isUndefined(V.fit)||(F.buttons.titles.fit=V.fit),p.isUndefined(V.fitw)||(F.buttons.titles.fitw=V.fitw),p.isUndefined(V.fith)||(F.buttons.titles.fith=V.fith),p.isUndefined(V.hand)||(F.buttons.titles.hand=V.hand),p.isUndefined(V.rectselect)||(F.buttons.titles.rectselect=V.rectselect),p.isUndefined(V.zoom)||(F.buttons.titles.zoom=V.zoom),p.isUndefined(V.restore)||(F.buttons.titles.restore=V.restore),p.isUndefined(V.save)||(F.buttons.titles.save=V.save),p.isUndefined(V.close)||(F.buttons.titles.close=V.close),p.isUndefined(V.removeall)||(F.buttons.titles.removeall=V.removeall),p.isUndefined(V.removeselected)||(F.buttons.titles.removeselected=V.removeselected));var G=B.buttons.bShowAllButtons;p.isUndefined(G)||(F.buttons.bShowAllButtons=G);var z=B.buttons.visibility;p.isUndefined(z)||(p.isUndefined(z.scan)||(F.buttons.visibility.scan=z.scan),p.isUndefined(z.load)||(F.buttons.visibility.load=z.load),p.isUndefined(z.print)||(F.buttons.visibility.print=z.print),p.isUndefined(z.removeall)||(F.buttons.visibility.removeall=z.removeall),p.isUndefined(z.removeselected)||(F.buttons.visibility.removeselected=z.removeselected),p.isUndefined(z.rotateleft)||(F.buttons.visibility.rotateleft=z.rotateleft),p.isUndefined(z.rotate)||(F.buttons.visibility.rotate=z.rotate),p.isUndefined(z.rotateright)||(F.buttons.visibility.rotateright=z.rotateright),p.isUndefined(z.deskew)||(F.buttons.visibility.deskew=z.deskew),p.isUndefined(z.crop)||(F.buttons.visibility.crop=z.crop),p.isUndefined(z.cut)||(F.buttons.visibility.cut=z.cut),p.isUndefined(z.changeimagesize)||(F.buttons.visibility.changeimagesize=z.changeimagesize),p.isUndefined(z.flip)||(F.buttons.visibility.flip=z.flip),p.isUndefined(z.mirror)||(F.buttons.visibility.mirror=z.mirror),p.isUndefined(z.zoomin)||(F.buttons.visibility.zoomin=z.zoomin),p.isUndefined(z.originalsize)||(F.buttons.visibility.originalsize=z.originalsize),p.isUndefined(z.zoomout)||(F.buttons.visibility.zoomout=z.zoomout),p.isUndefined(z.stretch)||(F.buttons.visibility.stretch=z.stretch),p.isUndefined(z.fit)||(F.buttons.visibility.fit=z.fit),p.isUndefined(z.fitw)||(F.buttons.visibility.fitw=z.fitw),p.isUndefined(z.fith)||(F.buttons.visibility.fith=z.fith),p.isUndefined(z.hand)||(F.buttons.visibility.hand=z.hand),p.isUndefined(z.rectselect)||(F.buttons.visibility.rectselect=z.rectselect),p.isUndefined(z.zoom)||(F.buttons.visibility.zoom=z.zoom))}var Z=B.dialogText;p.isUndefined(Z)||(p.isUndefined(Z.dlgRotateAnyAngle)||(F.dialogText.dlgRotateAnyAngle=Z.dlgRotateAnyAngle),p.isUndefined(Z.dlgChangeImageSize)||(F.dialogText.dlgChangeImageSize=Z.dlgChangeImageSize),p.isUndefined(Z.saveChangedImage)||(F.dialogText.saveChangedImage=Z.saveChangedImage),p.isUndefined(Z.selectSource)||(F.dialogText.selectSource=Z.selectSource))}}},{key:"__bufferChanged",value:function(F,B,V){var G,z=F,Z=[],ie=-1,se=[];B.operation&&(B.action=B.operation);for(var ne=0;ne<z.howManyImagesInBuffer;ne++)(G=z._defaultDSScanClient.getCustomDataByIndex(ne))&&G.uidFromServer&&Z.push(G.uidFromServer);if(B.imageIds=Z,B.curIndex>=0&&(G=z._defaultDSScanClient.getCustomDataByIndex(B.curIndex))&&G.uidFromServer&&(ie=G.uidFromServer),B.currentId=ie,B.afterStatus.selectedUids)for(var ae=0;ae<B.afterStatus.selectedUids.length;ae++){var be=B.afterStatus.selectedUids[ae];if(be&&be!=-1){var ge=z._defaultDSScanClient.getIndexByUid(B.afterStatus.selectedUids[ae]);ge>=0&&(G=z._defaultDSScanClient.getCustomDataByIndex(ge))&&G.serverId&&se.push(G.uidFromServer)}}B.selectedIds=se,p.mix(B,{}),delete B.uids,delete B.currentUid,delete B.selectedUids,delete B.afterStatus,delete B.beforeStatus,delete B.operation,delete B.curIndex,delete B.docUid,z.__fireEvent("onBufferChanged",B)}},{key:"__acquire",value:function(F,B){var V=F;V._stwain.SelectSource(function(){V._stwain.CloseSource(),V._stwain.OpenSource(),V._stwain.IfShowUI=!0,U.DWT.IfConfineMaskWithinTheViewer==1?(U.DWT.IfConfineMaskWithinTheViewer=!1,V._stwain.AcquireImage({},function(){U.DWT.IfConfineMaskWithinTheViewer=!0},function(){})):V._stwain.AcquireImage()},function(){p.log("User did not select a source")})}},{key:"__remove",value:(q=o(w().mark(function F(B){var V,G;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(V=this,!this._defaultDSScanClient){z.next=10;break}if(un(this._defaultDSScanClient),!(V.howManyImagesInBuffer<=0||V.currentImageIndexInBuffer<0)){z.next=6;break}return QE.output(V,"No image in Buffer"),z.abrupt("return",!0);case 6:return G=mu._getBuffer(this._defaultDSScanClient),z.next=9,this._defaultDSScanClient.removeImages(G.getSelectedImagesIndices());case 9:return z.abrupt("return",z.sent);case 10:return z.abrupt("return",!1);case 11:case"end":return z.stop()}},F,this)})),function(F){return q.apply(this,arguments)})},{key:"__removeAll",value:(te=o(w().mark(function F(B){return w().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!this._defaultDSScanClient){V.next=4;break}return un(this._defaultDSScanClient),V.next=4,this._defaultDSScanClient._removeAllImagesAsync("removeAllImages",!0);case 4:return V.abrupt("return",!1);case 5:case"end":return V.stop()}},F,this)})),function(F){return te.apply(this,arguments)})},{key:"__save",value:($=o(w().mark(function F(B,V,G,z){var Z,ie,se;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(ie="save",se=(Z=this).__getViewerElementForViewer(Z,z),Jr(ie,se),ne.prev=3,un(Z._defaultDSScanClient),!(Z.howManyImagesInBuffer<=0||Z.currentImageIndexInBuffer<0)){ne.next=8;break}return QE.output(Z,"No image in Buffer"),ne.abrupt("return");case 8:return ne.next=10,Z._defaultDSScanClient.updateImage(B,V,G);case 10:return ne.sent,ne.next=13,Z._defaultDSScanClient.__saveToViewerAfterUpdate(B,G);case 13:ne.next=17;break;case 15:ne.prev=15,ne.t0=ne.catch(3);case 17:return ne.prev=17,Dr(ie),ne.finish(17);case 20:case"end":return ne.stop()}},F,this,[[3,15,17,20]])})),function(F,B,V,G){return $.apply(this,arguments)})},{key:"__getViewerElementForViewer",value:function(F,B){var V,G=F;if(B)if(G._viewer.webViewer.imageEditor){var z=G._viewer.createImageEditor();V=z.inner.containerElement.className=="dwt-viewer-imageEditor-fullScreen"?{_containerElement:document.body}:{_containerElement:z.inner.containerElement}}else V=G.getViewerElement();else V=G.getViewerElement();return V}},{key:"__close",value:function(F){var B=F;if(p.isFunction(B.__CloseImageEditorUI))try{B.__CloseImageEditorUI()}catch(V){_r(V)}}},{key:"__deskew",value:function(F,B,V){var G=this,z="deskew";if(un(G._defaultDSScanClient),G.howManyImagesInBuffer<=0||G.currentImageIndexInBuffer<0)QE.output(G,"No image in Buffer");else{var Z=G.__getViewerElementForViewer(G,!0);Jr(z,Z),G._defaultDSScanClient.getSkewAngleFromBinaryAsync(G.currentImageIndexInBuffer,B,function(ie){V(ie[0]),Dr(z)},function(){Dr(z)})}}},{key:"__rotate",value:(W=o(w().mark(function F(B,V,G){var z;return w().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return un(this._defaultDSScanClient),Z.next=4,this._makeSureDefaultServiceInfo();case 4:if(this._defaultDSScanClient){Z.next=6;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 6:return Z.next=8,this._defaultDSScanClient.rotate(B,V,G,-1);case 8:return z=Z.sent,Z.abrupt("return",z);case 10:case"end":return Z.stop()}},F,this)})),function(F,B,V){return W.apply(this,arguments)})},{key:"__crop",value:(D=o(w().mark(function F(B,V){var G;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return un(this._defaultDSScanClient),z.next=4,this._makeSureDefaultServiceInfo();case 4:if(this._defaultDSScanClient){z.next=6;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 6:return z.next=8,this._defaultDSScanClient.crop(B,V);case 8:return G=z.sent,z.abrupt("return",G);case 10:case"end":return z.stop()}},F,this)})),function(F,B){return D.apply(this,arguments)})},{key:"__fireEvent",value:function(F,B){return!p.isFunction(this[F])||this[F](B)}},{key:"getDevices",value:(x=o(w().mark(function F(B){var V,G,z,Z,ie,se,ne,ae,be,ge,_e,Le,Xe,ze,yt,at,gt,Tt,Be,Oe,tt,pt,lt;return w().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(!this._bDispose){Qe.next=4;break}throw uo(G={}),nr(G);case 4:if(z=[],Z="getDevices",ie=this.getViewerElement(),se=!1,ae=B==null?void 0:B.serviceInfo,be=(V=B==null?void 0:B.deviceType)!==null&&V!==void 0?V:Cp,Jr(Z,ie),Qe.prev=6,_e=!1,Le=[],this._serviceInfos){Qe.next=12;break}return Qe.next=12,this.getDynamsoftService();case 12:if(!ae){Qe.next=25;break}return Qe.next=15,this._createDSClientByServiceInfo(ae,!0);case 15:if(!(ze=Qe.sent)){Qe.next=21;break}Le.push(ze),_e=!1,Qe.next=23;break;case 21:throw u$(ae==null||(yt=ae.attrs)===null||yt===void 0?void 0:yt.ty);case 23:Qe.next=37;break;case 25:if(!this._serviceInfos){Qe.next=37;break}Xe=0;case 27:if(!(Xe<this._serviceInfos.length)){Qe.next=36;break}return at=this._serviceInfos[Xe],Qe.next=31,this._createDSClientByServiceInfo(at);case 31:(gt=Qe.sent)&&Le.push(gt);case 33:Xe++,Qe.next=27;break;case 36:_e=!0;case 37:Xe=0;case 38:if(!(Xe<Le.length)){Qe.next=59;break}return Tt=void 0,Qe.prev=40,Qe.next=43,Le[Xe].getDevices(be,B==null?void 0:B.refresh,se);case 43:if(Tt=Qe.sent,p.isArray(Tt)&&Tt.length>0)for(ne=0;ne<Tt.length;ne++)z.push(Tt[ne]);Qe.next=51;break;case 47:Qe.prev=47,Qe.t0=Qe.catch(40),ge=Qe.t0;case 51:return Qe.prev=51,Be=null,this._defaultDSScanClient&&(Be=(Oe=this._defaultDSScanClient.getServiceInfo())===null||Oe===void 0||(Oe=Oe.attrs)===null||Oe===void 0?void 0:Oe.UUID,this._defaultDSScanClient.isDestroy&&(this._disposeDSClientByKey(Be),this._defaultDSScanClient=null,Be=null)),_e&&(pt=Le[Xe].getServiceInfo(),(lt=pt==null||(tt=pt.attrs)===null||tt===void 0?void 0:tt.UUID)&&lt!=Be&&this._disposeDSClientByKey(lt)),Qe.finish(51);case 56:Xe++,Qe.next=38;break;case 59:Qe.next=64;break;case 61:throw Qe.prev=61,Qe.t1=Qe.catch(6),Qe.t1;case 64:return Qe.prev=64,Dr(Z),ge&&U.DWT.lsetException(ge.code,ge.message),Qe.finish(64);case 68:return Qe.abrupt("return",z);case 69:case"end":return Qe.stop()}},F,this,[[6,61,64,68],[40,47,51,56]])})),function(F){return x.apply(this,arguments)})},{key:"acquireImage",value:(I=o(w().mark(function F(B,V){var G,z,Z,ie,se,ne,ae,be,ge,_e,Le,Xe,ze,yt;return w().wrap(function(at){for(;;)switch(at.prev=at.next){case 0:if(!(G=this)._bDispose){at.next=5;break}throw uo(z={}),nr(z);case 5:if(B&&B instanceof ra){at.next=9;break}throw Kt(Z={}),{code:Z._errorCode,message:Z._errorString};case 9:return se="acquireImage",ne=G.getViewerElement(),ae=[],Jr(se,ne),at.prev=12,p.isUndefined(V)&&(V={}),p.isUndefined(V.IfShowUI)&&(V.IfShowUI=!1),p.isUndefined(V.IfCloseSourceAfterAcquire)&&(V.IfCloseSourceAfterAcquire=!0),be=B.serviceInfo,at.next=19,this._createDSClientByServiceInfo(be,!0);case 19:if(!(ie=at.sent)){at.next=47;break}if(G._defaultDSScanClient){at.next=24;break}return at.next=24,G._innerSetDefault(ie);case 24:ae.push(ie),ie!=G._defaultDSScanClient&&ae.push(G._defaultDSScanClient),ge=0;case 27:if(!(ge<ae.length)){at.next=36;break}if(_e=ae[ge],mu._isReady(_e)){at.next=33;break}throw ze=(Le=(Xe=_e.getServiceInfo())===null||Xe===void 0||(Xe=Xe.attrs)===null||Xe===void 0?void 0:Xe.name)!==null&&Le!==void 0?Le:"",hl(_e,ze),{code:_e._getErrorCode(),message:_e._getErrorString()};case 33:ge++,at.next=27;break;case 36:if(G.onPostTransferAsync?ie.registerEvent("OnPostTransferAsync",G.onPostTransferAsync):ie.unregisterEvent("OnPostTransferAsync"),this.__setViewerControlInfo(),ie!=G._defaultDSScanClient){at.next=43;break}return at.next=41,ie.acquireImage(B,V);case 41:at.next=45;break;case 43:return at.next=45,ie._acquireImageForSendTo(se,B,V,G._defaultDSScanClient);case 45:at.next=49;break;case 47:throw yF(be==null||(yt=be.attrs)===null||yt===void 0?void 0:yt.name);case 49:at.next=54;break;case 51:throw at.prev=51,at.t0=at.catch(12),at.t0;case 54:return at.prev=54,ie&&ie.__closeRemoteScanUI(!0),Dr(se),at.finish(54);case 58:case"end":return at.stop()}},F,this,[[12,51,54,58]])})),function(F,B){return I.apply(this,arguments)})},{key:"_waitForDSValid",value:function(F,B){for(var V=0,G=F.length,z=this;V<G;V++)if(!mu._isReady(F[V]))return void setTimeout(function(){z._waitForDSValid(F,B)},Nr.RemoteReconnectTimeSpan);p.isFunction(z[B.command])&&z[B.command].apply(z,B.parmas)}},{key:"getCapabilities",value:(b=o(w().mark(function F(B){var V,G,z,Z,ie,se,ne;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(!this._bDispose){ae.next=4;break}throw uo(V={}),nr(V);case 4:if(B&&B instanceof ra){ae.next=8;break}throw Kt(G={}),nr(G);case 8:return Z="getCapabilities",ie=[],se=this.getViewerElement(),Jr(Z,se),ae.prev=10,ne=B.serviceInfo,ae.next=14,this._createDSClientByServiceInfo(ne,!0);case 14:if(z=ae.sent,!(z=this._findDSClientByServiceInfo(ne))){ae.next=20;break}return ae.next=19,z.getCapabilities(B);case 19:ie=ae.sent;case 20:ae.next=25;break;case 22:throw ae.prev=22,ae.t0=ae.catch(10),ae.t0;case 25:return ae.prev=25,z&&z.__closeRemoteScanUI(!0),Dr(Z),ae.finish(25);case 29:return ae.abrupt("return",ie);case 30:case"end":return ae.stop()}},F,this,[[10,22,25,29]])})),function(F){return b.apply(this,arguments)})},{key:"setCapabilities",value:(y=o(w().mark(function F(B,V){var G,z,Z,ie,se,ne;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(!this._bDispose){ae.next=4;break}throw uo(G={}),nr(G);case 4:if(B&&B instanceof ra){ae.next=8;break}throw Kt(z={}),nr(z);case 8:return ie="setCapabilities",se=this.getViewerElement(),Jr(ie,se),ae.prev=10,ne=B.serviceInfo,ae.next=14,this._createDSClientByServiceInfo(ne,!0);case 14:if(!(Z=ae.sent)){ae.next=18;break}return ae.next=18,Z.setCapabilities(B,V);case 18:ae.next=23;break;case 20:throw ae.prev=20,ae.t0=ae.catch(10),ae.t0;case 23:return ae.prev=23,Z&&Z.__closeRemoteScanUI(!0),Dr(ie),ae.finish(23);case 27:case"end":return ae.stop()}},F,this,[[10,20,23,27]])})),function(F,B){return y.apply(this,arguments)})},{key:"closeSource",value:(S=o(w().mark(function F(B){var V,G,z,Z,ie,se;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(!this._bDispose){ne.next=4;break}throw uo(V={}),nr(V);case 4:if(B&&B instanceof ra){ne.next=8;break}throw Kt(G={}),nr(G);case 8:return z="closeSource",Z=this.getViewerElement(),Jr(z,Z),ne.prev=10,ie=B.serviceInfo,se=this._findDSClientByServiceInfo(ie),ne.next=15,se.closeSource();case 15:ne.next=20;break;case 17:throw ne.prev=17,ne.t0=ne.catch(10),ne.t0;case 20:return ne.prev=20,Dr(z),ne.finish(20);case 23:case"end":return ne.stop()}},F,this,[[10,17,20,23]])})),function(F){return S.apply(this,arguments)})},{key:"_putDSClientToMap",value:function(F,B){var V,G=F==null||(V=F.attrs)===null||V===void 0?void 0:V.UUID;G&&(this._dsScanClientsMap[G]=B)}},{key:"_getDSClientFromMap",value:function(F){var B,V=F==null||(B=F.attrs)===null||B===void 0?void 0:B.UUID;return V?this._dsScanClientsMap[V]:null}},{key:"_createDSClientByServiceInfo",value:(_=o(w().mark(function F(B,V,G){var z,Z,ie,se;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(this._serviceInfos){ne.next=3;break}return ne.next=3,this.getDynamsoftService();case 3:if(z=this._findDSClientByServiceInfo(B)){ne.next=20;break}return ne.next=7,this._setRemoteUuid();case 7:return ne.prev=7,ne.next=10,mu.createByServiceInfo(this._uuidForRemoteScanObject,B,G);case 10:(z=ne.sent)&&this._putDSClientToMap(B,z),ne.next=20;break;case 14:if(ne.prev=14,ne.t0=ne.catch(7),ne.t0.code==kt.MustUpgrade&&(ie=B==null||(Z=B.attrs)===null||Z===void 0?void 0:Z.ty)&&(Pd(se={},ie),ne.t0.message=se._errorString),!V){ne.next=19;break}throw ne.t0;case 19:p.warn(ne.t0);case 20:return ne.abrupt("return",z);case 21:case"end":return ne.stop()}},F,this,[[7,14]])})),function(F,B,V){return _.apply(this,arguments)})},{key:"_makeSureDefaultServiceInfo",value:(m=o(w().mark(function F(){var B;return w().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(this._serviceInfos){V.next=3;break}return V.next=3,this.getDynamsoftService();case 3:if(!(this._serviceInfos&&this._serviceInfos.length>0)){V.next=8;break}return B=this._serviceInfos[0],V.next=7,this._createDSClientByServiceInfo(B);case 7:return V.abrupt("return",V.sent);case 8:return V.abrupt("return",null);case 9:case"end":return V.stop()}},F,this)})),function(){return m.apply(this,arguments)})},{key:"httpUpload",value:(h=o(w().mark(function F(B,V,G,z,Z,ie){var se,ne,ae,be;return w().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(!this._bDispose){ge.next=4;break}return uo(se={}),ge.abrupt("return",j.Promise.reject(nr(se)));case 4:return ae=this.getViewerElement(),be=ae._containerElement,ge.next=7,this._makeSureDefaultServiceInfo();case 7:if(this._defaultDSScanClient){ge.next=9;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 9:return ge.next=11,this._defaultDSScanClient.httpUpload(B,V,G,z,Z,ie,be);case 11:return ne=ge.sent,ge.abrupt("return",ne);case 13:case"end":return ge.stop()}},F,this)})),function(F,B,V,G,z,Z){return h.apply(this,arguments)})},{key:"runCommand",value:function(F){return this._defaultDSScanClient.RunCommandAsync(F)}},{key:"removeImages",value:(l=o(w().mark(function F(B){var V,G,z,Z,ie;return w().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(!this._bDispose){se.next=4;break}return uo(V={}),se.abrupt("return",j.Promise.reject(nr(V)));case 4:return G="removeImages",Z=this.getViewerElement(),Jr(G,Z),se.prev=6,se.next=9,this._makeSureDefaultServiceInfo();case 9:if(this._defaultDSScanClient){se.next=11;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 11:if(!this._defaultDSScanClient){se.next=17;break}return se.next=14,this._defaultDSScanClient.removeImages(B);case 14:z=se.sent,se.next=21;break;case 17:if(this.howManyImagesInBuffer!=0){se.next=21;break}if(ie={},xU(B,this.howManyImagesInBuffer,ie)){se.next=21;break}throw{code:ie._errorCode,message:ie._errorString};case 21:se.next=26;break;case 23:throw se.prev=23,se.t0=se.catch(6),se.t0;case 26:return se.prev=26,Dr(G),se.finish(26);case 29:return se.abrupt("return",z);case 30:case"end":return se.stop()}},F,this,[[6,23,26,29]])})),function(F){return l.apply(this,arguments)})},{key:"saveImages",value:(d=o(w().mark(function F(B,V,G){var z,Z,ie,se;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(z={},!this._bDispose){ne.next=4;break}return uo(z),ne.abrupt("return",j.Promise.reject(nr(z)));case 4:if(this.howManyImagesInBuffer!=0){ne.next=7;break}return Mn(z),ne.abrupt("return",j.Promise.reject(nr(z)));case 7:if(p.isNumber(G)){ne.next=10;break}return Kt(z),ne.abrupt("return",j.Promise.reject(nr(z)));case 10:if(G!=Qt.IT_BMP&&G!=Qt.IT_JPG&&G!=Qt.IT_PNG){ne.next=16;break}if(!(V.length>1)){ne.next=14;break}return Fe(z,-2623,"Saving multiple images is not allowable when the selected output format is BMP, JPG or PNG."),ne.abrupt("return",j.Promise.reject(nr(z)));case 14:ne.next=27;break;case 16:if(G!=Qt.IT_TIF&&G!=Qt.IT_PDF){ne.next=20;break}ne.next=27;break;case 20:if(G!=Qt.IT_ALL&&G!=Qt.IT_MULTIPAGE_PDF&&G!=Qt.IT_MULTIPAGE_TIF){ne.next=25;break}return TF(z),ne.abrupt("return",j.Promise.reject(nr(z)));case 25:return Li(z),ne.abrupt("return",j.Promise.reject(nr(z)));case 27:return ie=this.getViewerElement(),se=ie._containerElement,ne.next=30,this._makeSureDefaultServiceInfo();case 30:if(this._defaultDSScanClient){ne.next=32;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 32:return ne.next=34,this._defaultDSScanClient.saveImages(B,V,G,se);case 34:return Z=ne.sent,ne.abrupt("return",Z);case 36:case"end":return ne.stop()}},F,this)})),function(F,B,V){return d.apply(this,arguments)})},{key:"getImages",value:(u=o(w().mark(function F(B,V,G){var z,Z,ie,se;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(z={},!this._bDispose){ne.next=4;break}return uo(z),ne.abrupt("return",j.Promise.reject(nr(z)));case 4:if(this.howManyImagesInBuffer!=0){ne.next=7;break}return Mn(z),ne.abrupt("return",j.Promise.reject(nr(z)));case 7:if(p.isNumber(V)&&p.isNumber(G)){ne.next=10;break}return Kt(z),ne.abrupt("return",j.Promise.reject(nr(z)));case 10:return ie=this.getViewerElement(),se=ie._containerElement,ne.next=13,this._makeSureDefaultServiceInfo();case 13:if(this._defaultDSScanClient){ne.next=15;break}throw{code:-2825,message:"Failed to setup the Default Dynamsoft Service."};case 15:return ne.next=17,this._defaultDSScanClient.getImages(B,V,G,se);case 17:return Z=ne.sent,ne.abrupt("return",Z);case 19:case"end":return ne.stop()}},F,this)})),function(F,B,V){return u.apply(this,arguments)})},{key:"__unload",value:(s=o(w().mark(function F(){var B,V,G,z;return w().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(this._viewer&&this._viewer.unbind(),!this._dsScanClientsMap){Z.next=12;break}V=this._dsScanClientsMap,G=Object.keys(V),B=0;case 5:if(!(B<G.length)){Z.next=12;break}return z=G[B],Z.next=9,this._disposeDSClientByKey(z);case 9:B++,Z.next=5;break;case 12:this._dsScanClientsMap=null,this._bDispose=!0;case 14:case"end":return Z.stop()}},F,this)})),function(){return s.apply(this,arguments)})},{key:"dispose",value:function(){return this.__unload()}},{key:"setLogLevel",value:function(F){var B,V=this._dsScanClientsMap;if(V){var G=Object.keys(V);for(B=0;B<G.length;B++)V[G[B]]._setLogLevel(F);this._needSetLogLevel=!1,this._logLevel=-1}else this._needSetLogLevel=!0,this._logLevel=F;return!0}},{key:"getProfile",value:(a=o(w().mark(function F(B){var V,G,z,Z;return w().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(V="",B&&B instanceof ra){ie.next=5;break}throw Kt(G={}),{code:G._errorCode,message:G._errorString};case 5:return ie.prev=5,z=B.serviceInfo,ie.next=9,this._createDSClientByServiceInfo(z,!0);case 9:if(!(Z=ie.sent)){ie.next=14;break}return ie.next=13,Z.getProfile(B);case 13:V=ie.sent;case 14:ie.next=19;break;case 16:throw ie.prev=16,ie.t0=ie.catch(5),ie.t0;case 19:return ie.abrupt("return",V);case 20:case"end":return ie.stop()}},F,this,[[5,16]])})),function(F){return a.apply(this,arguments)})},{key:"setProfile",value:(n=o(w().mark(function F(B,V){var G,z,Z,ie;return w().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(G="",B&&B instanceof ra){se.next=5;break}throw Kt(z={}),{code:z._errorCode,message:z._errorString};case 5:return se.prev=5,Z=B.serviceInfo,se.next=9,this._createDSClientByServiceInfo(Z,!0);case 9:if(!(ie=se.sent)){se.next=14;break}return se.next=13,ie.setProfile(B,V);case 13:G=se.sent;case 14:se.next=19;break;case 16:throw se.prev=16,se.t0=se.catch(5),se.t0;case 19:return se.abrupt("return",G);case 20:case"end":return se.stop()}},F,this,[[5,16]])})),function(F,B){return n.apply(this,arguments)})},{key:"imageIDToIndex",value:function(F){return this._defaultDSScanClient?this._defaultDSScanClient.imageIDToIndex(F):0}},{key:"indexToImageID",value:function(F){return this._defaultDSScanClient?this._defaultDSScanClient.indexToImageID(F):""}},{key:"howManyImagesInBuffer",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.howManyImagesInBuffer:0}},{key:"currentImageIndexInBuffer",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.currentImageIndexInBuffer:-1},set:function(F){this._defaultDSScanClient&&(this._defaultDSScanClient.currentImageIndexInBuffer=F)}},{key:"showProgressBar",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.IfShowProgressBar:this._showProgressBar},set:function(F){this._defaultDSScanClient?(this._showProgressBar=F,this._defaultDSScanClient.IfShowProgressBar=F):this._showProgressBar}},{key:"registerEvent",value:function(F,B){if(this._bDispose){var V={};return uo(V),j.Promise.reject(nr(V))}if(!p.isFunction(B)){var G={};return vF(G),j.Promise.reject(nr(G))}if(F=="onBufferChanged"||F=="OnBufferChanged")this.onBufferChanged=B;else{if(F!="onPostTransferAsync"&&F!="OnPostTransferAsync"){var z={};return pF(z),j.Promise.reject(nr(z))}this.onPostTransferAsync=B}return this._registEventToDefaultDS(),!0}},{key:"unregisterEvent",value:function(F,B){if(this._bDispose){var V={};return uo(V),j.Promise.reject(nr(V))}if(F=="onBufferChanged"||F=="OnBufferChanged"){if(this.onBufferChanged=null,this._defaultDSScanClient)return this._defaultDSScanClient.unregisterEvent("OnBufferChanged",B)}else{if(F!="onPostTransferAsync"&&F!="OnPostTransferAsync"){var G={};return pF(G),j.Promise.reject(nr(G))}if(this.onPostTransferAsync=null,this._defaultDSScanClient)return this._defaultDSScanClient.unregisterEvent("OnPostTransferAsync",B)}}},{key:"getViewerElement",value:function(){return this.Viewer&&this.Viewer.webViewer&&this.Viewer.webViewer.containerElement?{_containerElement:this.Viewer.webViewer.containerElement}:{_containerElement:document.body}}},{key:"isSameService",value:function(F,B){return!(!F||!B)&&F.server==B.server&&F.attrs.UUID==B.attrs.UUID&&F.attrs.accessmode==B.attrs.accessmode&&F.attrs.name==B.attrs.name&&F.attrs.os==B.attrs.os&&F.attrs.service_type==B.attrs.service_type&&F.attrs.tags==B.attrs.tags&&F.attrs.ty==B.attrs.ty&&F.attrs.type==B.attrs.type&&F.attrs.txtvers==B.attrs.txtvers}},{key:"_findDSClientByServiceInfo",value:function(F){var B,V=this._serviceInfos;if(V)for(B=0;B<V.length;B++){var G=V[B];if(this.isSameService(F,G)){var z=this._getDSClientFromMap(G);if(z){var Z;if(mu._isReady(z))return z;z.isDestroy||z.dispose();var ie=G==null||(Z=G.attrs)===null||Z===void 0?void 0:Z.UUID;ie&&delete this._dsScanClientsMap[ie]}break}}return null}},{key:"_setRemoteUuid",value:(r=o(w().mark(function F(){var B;return w().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!ci()){V.next=6;break}if(this._uuidForRemoteScanObject){V.next=6;break}return V.next=4,U.DWT.lgcuid(U.DWT.lgdt(),"");case 4:B=V.sent,this._uuidForRemoteScanObject=B;case 6:case"end":return V.stop()}},F,this)})),function(){return r.apply(this,arguments)})},{key:"_registEventToDefaultDS",value:function(){this._defaultDSScanClient&&(this.onBufferChanged&&this._defaultDSScanClient.registerEvent("OnBufferChanged",this.onBufferChanged),this.onPostTransferAsync&&this._defaultDSScanClient.registerEvent("OnPostTransferAsync",this.onPostTransferAsync))}}]);var r,n,a,s,u,d,l,h,m,_,S,y,b,I,x,D,W,$,te,q,X,J,re,H}(),J0=!1;function JE(r,n){return qE.apply(this,arguments)}function qE(){return qE=o(w().mark(function r(n,a){var s,u;return w().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return a&&Mr("Checking Product Key format..."),d.next=3,_t.preParseProductKey(a);case 3:if((s=U.DWT.licenseException).code==0){d.next=7;break}throw n&&lT(s),{code:s.code,message:s.message};case 7:if(J0){d.next=15;break}if(u=!1,ue.bIE&&(u=ue.IEVersion<=7),u||!ci()){d.next=15;break}if(U.DWT.IfLoadResources){d.next=14;break}return J0=!0,d.abrupt("return");case 14:return d.abrupt("return",new j.Promise(function(l,h){var m=gs(),_="";!ue.bFileSystem&&U.DWT.IfResourcesAddTimestamp&&(_=j.timestamp),p.addScript([m,"/src/dynamsoft.lts.js",_].join(""),!0,!1,function(S){if(U.LTS&&U.LTS._)return J0=!0,void l();if(S){if(ue.bIE)return void h({code:-2822,message:"The WebTwain JavaScript lts.js load failed."});if(S.type=="error")return void h({code:-2822,message:"The WebTwain JavaScript lts.js load failed."})}J0=!0,l()})}));case 15:case"end":return d.stop()}},r)})),qE.apply(this,arguments)}function Xle(r,n,a){return ZE.apply(this,arguments)}function ZE(){return ZE=o(w().mark(function r(n,a,s){var u,d,l,h,m,_,S,y,b,I,x;return w().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:u=U.DWT.Containers,d=0;case 2:if(!(d<u.length)){D.next=53;break}if(!(l=p.clone(u[d])).ContainerId){D.next=8;break}if(!U.DWT.ContainerMap[l.ContainerId]){D.next=8;break}return D.abrupt("continue",50);case 8:if(!l.WebTwainId){D.next=12;break}if(!U.DWT.WebTwainIdMap[l.WebTwainId]){D.next=12;break}return D.abrupt("continue",50);case 12:if(l.Host=n,l.SSLPort=s,l.Port=a,!p.isDOM(l.Container)){D.next=19;break}D.next=26;break;case 19:if(!l.ContainerId){D.next=26;break}if(_=l.ContainerId,p.isString(_)){D.next=23;break}throw{code:-2806,message:'Error: The argument passed to the parameter "conatinerId" is not a string.'};case 23:if(l.Container=p.get(_),l.Container){D.next=26;break}throw IF(_);case 26:if(!bE(l.Container)){D.next=33;break}return S=document.createElement("div"),l.Container.appendChild(S),l.Container=S,y=SE(S),D.next=33,eF(y);case 33:return q9(b=u4(l)),I=void 0,D.prev=36,D.next=39,F4.create(b);case 39:I=D.sent,D.next=46;break;case 42:throw D.prev=42,D.t0=D.catch(36),I&&I.dispose(),D.t0;case 46:if((m=U.DWT.licenseException).code===0){D.next=49;break}throw{code:m.code,message:m.message};case 49:h=I;case 50:d++,D.next=2;break;case 53:x=window,h&&(x.DCP_DWT_OnClickCloseInstall&&x.DCP_DWT_OnClickCloseInstall(!1,!0),L4(h),EU(h)),setTimeout(function(){try{p.isFunction(U.DWT.OnWebTwainReady)?U.DWT.OnWebTwainReady():p.isFunction(x.Dynamsoft_OnReady)&&x.Dynamsoft_OnReady()}catch(W){_r(W)}},100);case 56:case"end":return D.stop()}},r,null,[[36,42]])})),ZE.apply(this,arguments)}function B4(){return ex.apply(this,arguments)}function ex(){return ex=o(w().mark(function r(){var n,a,s,u,d,l,h,m,_,S,y,b,I,x;return w().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(j.page.bUnload=Pe,we.bHTML5Edition){D.next=3;break}return D.abrupt("return",U.DWT._innerLoad());case 3:return D.next=5,JE(!0,!0);case 5:if((n=U.DWT.Containers)&&n.length!==0){D.next=10;break}throw CF(a={}),{code:a._errorCode,message:a._errorString};case 10:d=!1,l=[],h=[],s=0;case 12:if(!(s<n.length)){D.next=37;break}if(!(u=n[s])){D.next=32;break}if(p.isObject(u)){D.next=18;break}return d=!0,D.abrupt("break",37);case 18:if(!p.isString(u.WebTwainId)||u.WebTwainId==""){D.next=24;break}if(!rF(l,u.WebTwainId)){D.next=23;break}throw wF(a={}),{code:a._errorCode,message:a._errorString};case 23:l.push(u.WebTwainId);case 24:if(!p.isString(u.ContainerId)||u.ContainerId==""){D.next=30;break}if(!rF(h,u.ContainerId)){D.next=29;break}throw EF(a={}),{code:a._errorCode,message:a._errorString};case 29:h.push(u.ContainerId);case 30:D.next=34;break;case 32:return d=!0,D.abrupt("break",37);case 34:s++,D.next=12;break;case 37:if(!d){D.next=41;break}throw a$(m={}),{code:m._errorCode,message:m._errorString};case 41:return _=ui(),S=U.DWT.Port,y=U.DWT.SSLPort,D.next=44,f4(_,S,y);case 44:if(!U.DWT.IfCheckDCP){D.next=65;break}return b=ue.bSSL?y:S,D.next=48,vT(_,S,y);case 48:if(!(I=D.sent)){D.next=54;break}S=I.port,y=I.sslPort,D.next=57;break;case 54:throw Wi(x={}),nr(x);case 57:if(!U.dcp.bEnhancedMode){D.next=65;break}return D.prev=58,D.next=61,tu.closeWsClient(_,b,ue.bSSL);case 61:D.next=65;break;case 63:D.prev=63,D.t0=D.catch(58);case 65:return Mr("Creating WebTwain from Dynamsoft.DWT.Containers..."),D.next=68,Xle(_,S,y);case 68:case"end":return D.stop()}},r,null,[[58,63]])})),ex.apply(this,arguments)}var Qle=new(function(){return v(function r(){f(this,r)},[{key:"InvalidValue",value:function(r){jn(r)}},{key:"ParameterCannotEmpty",value:function(r){li(r)}},{key:"Webcam_InvalidIndex",value:function(r,n){Fe(r,-2315,"The index is out of range.")}},{key:"Webcam_InvalidRemoteFilename",value:function(r){Fe(r,-2316,"The RemoteFile field is empty in the Webcam Download Function.")}},{key:"InvalidDestination",value:function(r){Fe(r,-2318,"Invalid destination file.")}},{key:"InvalidSourceFile",value:function(r){Fe(r,-2319,"Invalid source file.")}},{key:"InvalidFile",value:function(r){fl(r)}},{key:"OCR_InvalidIndex",value:function(r,n){Fe(r,-2321,"The index is out of range.")}},{key:"OCR_InvalidLeftOrTopOrRightOrBottom",value:function(r){Fe(r,-2322,"The left or top or right or bottom you entered is invalid.")}},{key:"OCR_InvalidOutputFormat",value:function(r){Fe(r,-2323,"The OCR output format is not supported.")}},{key:"OCR_InvalidPageSetMode",value:function(r){Fe(r,-2324,"The OCR page set mode is not supported.")}},{key:"IndexOutOfRange",value:function(r){qe(r)}},{key:"OCR_InvalidRemoteFilename",value:function(r){Fe(r,-2379,"The RemoteFile field is empty in the OCR Download Function.")}},{key:"ImageEditorOpenCannotPlayVideo",value:function(r){Fe(r,-2437,"The video can not be played while the Image Editor is open.")}},{key:"EventNotExist",value:function(r){Fe(r,-2509,"The specified event doesn't exist.")}},{key:"CallbackNotAFunction",value:function(r){vF(r)}},{key:"WasmNotLoaded",value:function(r){Fe(r,-2537,"The wasm not loaded.")}},{key:"WasmNotLoaded_UseWasmFalse",value:function(r){Fe(r,-2538,"The wasm not loaded when Dynamsoft.DWT.UseCameraAddonWasm is set to false.")}},{key:"CannotDoWhenNoViewerJS",value:function(r){c_(r)}},{key:"LicenseNoDbr",value:function(r){Fe(r,-2611,"The license for the Barcode module is invalid."),Hr(r)}}])}());if(we.bHTML5Edition){var Jle=function(){var r=o(w().mark(function n(a){var s,u,d,l,h,m,_,S;return w().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return qU(),y.next=3,JE(!0,!1);case 3:if(U.DWT.UseDefaultViewer||(a.Container=null),!bE(a.Container)){y.next=11;break}return u=document.createElement("div"),a.Container.appendChild(u),a.Container=u,d=SE(u),y.next=11,eF(d);case 11:return s=u4(a),y.next=14,Pf();case 14:return y.next=16,$0();case 16:l=3,h=0;case 18:if(!(h<l)){y.next=35;break}return y.prev=19,y.next=22,f4(s.host,s.port,s.sslPort);case 22:return y.abrupt("break",35);case 25:if(y.prev=25,y.t0=y.catch(19),!(h<l-1&&y.t0.code==kt.DWTPortNotReady)){y.next=31;break}return y.next=30,new j.Promise(function(b,I){setTimeout(function(){b()},300)});case 30:return y.abrupt("continue",32);case 31:throw y.t0;case 32:h++,y.next=18;break;case 35:if(!U.DWT.IfCheckDCP){y.next=47;break}return y.next=38,vT(s.host,s.port,s.sslPort);case 38:if(!(m=y.sent)){y.next=44;break}s.port=m.port,s.sslPort=m.sslPort,y.next=47;break;case 44:throw Wi(_={}),nr(_);case 47:return Mr("Creating a WebTwain instance..."),y.next=50,Hle(s);case 50:return S=y.sent,y.abrupt("return",S);case 52:case"end":return y.stop()}},n,null,[[19,25]])}));return function(n){return r.apply(this,arguments)}}(),qle=window;U.DWT.OnBeforeUnload=function(r){},qle.addEventListener("beforeunload",function(r){if(j.isFunction(U.DWT.OnBeforeUnload))return U.DWT.OnBeforeUnload(r)}),U.DWT.Unload=o(w().mark(function r(){var n;return w().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!we.bDWTLoading&&!we.bDWTUnloading){a.next=2;break}return a.abrupt("return");case 2:return we.bDWTUnloading=!0,a.prev=3,a.next=6,kg(!1,!0);case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(3),n=a.t0;case 11:try{yc(),U.DWT.CloseDialog(),j._zdgb_xkz_dhk(),j.closeProgress(null,""),j.hideMask(),Z9()}catch{}if(we.bDWTLoading=!1,we.bDWTUnloading=!1,we.loadResourcePath=!1,we.loadingResourcePath=!1,!n){a.next=18;break}throw n;case 18:case"end":return a.stop()}},r,null,[[3,8]])})),U.DWT.Load=o(w().mark(function r(){var n,a;return w().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!we.bDWTLoading){s.next=2;break}return s.abrupt("return");case 2:if(!we.bDWTUnloading){s.next=5;break}return setTimeout(U.DWT.Load,500),s.abrupt("return");case 5:return we.bDWTLoading=!0,Dg(),s.prev=7,s.prev=8,s.next=11,H0();case 11:return s.next=13,Pf();case 13:return s.next=15,$0();case 15:s.next=21;break;case 17:throw s.prev=17,s.t0=s.catch(8),b_(s.t0),s.t0;case 21:return s.prev=21,U.Lib.closeProgress(),s.next=25,kg(!0,!0);case 25:s.next=31;break;case 27:return s.prev=27,s.t1=s.catch(21),s.next=31,kg();case 31:s.prev=31,U.DWT.CloseDialog(),n=3,a=0;case 35:if(!(a<n)){s.next=52;break}return s.prev=36,s.next=39,B4();case 39:return s.abrupt("break",52);case 42:if(s.prev=42,s.t2=s.catch(36),!(a<n-1&&s.t2.code==kt.DWTPortNotReady)){s.next=48;break}return s.next=47,new j.Promise(function(u,d){setTimeout(function(){u()},300)});case 47:return s.abrupt("continue",49);case 48:throw s.t2;case 49:a++,s.next=35;break;case 52:s.next=66;break;case 54:return s.prev=54,s.t3=s.catch(31),C_(s.t3.code)||j.detect.bOK||p.asyncQueue.pushToDo(null,U.DWT.Load),b_(s.t3),s.prev=59,s.next=62,kg();case 62:s.next=66;break;case 64:s.prev=64,s.t4=s.catch(59);case 66:return s.prev=66,we.bDWTLoading=!1,yc(),s.finish(66);case 70:case"end":return s.stop()}},r,null,[[7,,66,70],[8,17],[21,27],[31,54],[36,42],[59,64]])})),U.DWT.CheckConnectToTheService=function(r,n,a,s){g4(r,n,null,a,s)},U.DWT.ConnectToTheService=function(){p.asyncQueue.start()},U.DWT.CreateDWTObject=function(r,n,a,s,u,d){var l,h=u,m=d;p.isFunction(n)&&p.isFunction(a)?(h=n,m=a,l={}):l={Host:n,Port:a,SSLPort:s};var _,S=r;if(p.isString(S)&&!(S=p.get(S)))return function(I){Fe(I,-2813,z9)}(_={}),m&&m({code:_._errorCode,message:_._errorString}),Pe;if(p.isDOM(S))l.Container=S;else{if(!p.isString(r)){var y={code:-2806,message:'Error: The argument passed to the parameter "conatinerId" is not a string.'};return p.isFunction(m)&&m(y),Pe}if(!p.get(r)){var b=IF(r);return p.isFunction(m)&&m(b),Pe}}return l.WebTwainId=lO(),U.DWT.CreateDWTObjectEx(l,h,m)},U.DWT.CreateDWTObjectEx=function(r,n,a){var s=arguments,u=!!r.bLoadingDialogOpened;return we.loadResourcePath?p.isString(r.WebTwainId)?(u||Dg(),delete r.bLoadingDialogOpened,Jle(r).then(function(d){yc(),EU(d),p.isFunction(n)&&n(d)},function(d){if(yc(),!j.detect.bOK){var l=d&&d.code,h=U.DWT.licenseException;(l&&!C_(l)||h.code==0)&&(p.asyncQueue.stop(),p.asyncQueue.pushToDo(null,U.DWT.CreateDWTObjectEx,s))}p.isFunction(a)&&a(d)}),!0):(u&&yc(),a&&a({code:-2805,message:'Error: The "WebTwainId" is not a string.'}),Pe):(u||(Dg(),r.bLoadingDialogOpened=!0),void H0().then(Pf).then(function(){setTimeout(function(){U.DWT.CreateDWTObjectEx(r,n,a)},100)},function(d){yc(),a(d)}))},U.DWT.CreateRemoteScanObjectAsync=function(){var r=o(w().mark(function n(a){var s,u;return w().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(s=null,a){d.next=5;break}throw Kt(u={}),{code:u._errorCode,message:u._errorString};case 5:return we.bDWTLoading=!0,Dg(),d.prev=7,d.next=10,Pf();case 10:return d.next=12,$0();case 12:return d.next=14,JE(!1,!1);case 14:s=new Yle(a),Object.preventExtensions(s);case 16:return d.prev=16,we.bDWTLoading=!1,yc(),d.finish(16);case 20:return d.abrupt("return",s);case 21:case"end":return d.stop()}},n,null,[[7,,16,20]])}));return function(n){return r.apply(this,arguments)}}(),U.DWT.DeleteDWTObject=function(r){var n,a=r;return we.bHTML5Edition&&a?!!(n=p.isString(a)?U.DWT.GetWebTwain(a):a)&&(n.dispose(),!0):Pe}}function kg(r,n){return tx.apply(this,arguments)}function tx(){return tx=o(w().mark(function r(n,a){var s,u,d,l,h,m,_;return w().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(n&&Mr("Unload..."),!a){S.next=4;break}return S.next=4,U.DWT.lunload();case 4:if(j.dlgProgress=!1,j.detect.bOK=!1,j.detect.bFirst=!0,!(l=U.DWT.WebTwainIdMap)){S.next=32;break}h=Object.keys(l),s=0;case 11:if(!(s<h.length)){S.next=32;break}if(!(d=h[s])||!(d in l)){S.next=29;break}if(!(u=l[d])){S.next=29;break}if(S.prev=16,!u.__unload){S.next=22;break}return S.next=20,u.__unload();case 20:S.next=24;break;case 22:return S.next=24,u.dispose();case 24:S.next=29;break;case 26:S.prev=26,S.t0=S.catch(16),m=S.t0;case 29:s++,S.next=11;break;case 32:if(!(l=U.DWT.ContainerMap)){S.next=57;break}h=Object.keys(l),s=0;case 36:if(!(s<h.length)){S.next=57;break}if(!(d=h[s])||!(d in l)){S.next=54;break}if(!(u=l[d])){S.next=54;break}if(S.prev=41,!u.__unload){S.next=47;break}return S.next=45,u.__unload();case 45:S.next=49;break;case 47:return S.next=49,u.dispose();case 49:S.next=54;break;case 51:S.prev=51,S.t1=S.catch(41),m=S.t1;case 54:s++,S.next=36;break;case 57:if(!(l=U.DWT.RemoteScanIdMap)){S.next=82;break}h=Object.keys(l),s=0;case 61:if(!(s<h.length)){S.next=82;break}if(!(d=h[s])||!(d in l)){S.next=79;break}if(!(u=l[d])){S.next=79;break}if(S.prev=66,!u.__unload){S.next=72;break}return S.next=70,u.__unload();case 70:S.next=74;break;case 72:return S.next=74,u.dispose();case 74:S.next=79;break;case 76:S.prev=76,S.t2=S.catch(66),m=S.t2;case 79:s++,S.next=61;break;case 82:for(s=0;s<we.unloadQueue.length;s++)_=we.unloadQueue[s],p.isFunction(_)&&_();if(we.unloadQueue.splice(0),!m){S.next=86;break}throw m;case 86:case"end":return S.stop()}},r,null,[[16,26],[41,51],[66,76]])})),tx.apply(this,arguments)}function Dg(){we.bHTML5Edition&&(UU(),Jr("openLoadingMsg",null,{width:j.loaderBarWidth+"px"}))}function yc(){we.bHTML5Edition&&Dr("closeLoadingMsg:")}function st(r,n){var a,s=this,u=0;(a=p.isString(r)?document.getElementById(r):r).style.backgroundColor="transparent",s.isLoaded=!1,s.displayType=0,s.progress=0,s.progressPosition=0,s.borderWidth={left:0,right:0,top:0,bottom:0},s.orientation=n.orientation||st.Orientation.Horizontal,s.direction=n.direction||st.Direction.LeftToRight,s.creationType=n.creationType||st.CreationType.Replace,s.value=0,s.initialValue=n.value||0,s.minValue=n.minValue||0,s.maxValue=n.maxValue||100,s.showLabel=typeof n.showLabel>"u"||n.showLabel,s.labelText=n.labelText||"",s.width=n.width||"100%",s.height=n.height||20,s.borderRadius=n.borderRadius||10,s.orientation==st.Orientation.Horizontal&&s.borderRadius>s.height/2&&(s.borderRadius=Math.round(s.height/2)),p.isNumber(s.width)&&s.orientation==st.Orientation.Vertical&&s.borderRadius>s.width/2&&(s.borderRadius=Math.round(s.width/2)),s.backColor=n.backColor||"",s.color=n.color||"#50a8e1",s.animationStyle=0,s.animationInterval=n.animationInterval||100;var d=["parent","background","wrapper","left","middle","right","horizontalText","verticalText","marker"];for(s.extraClassName={},u=0;u<d.length;u++)n.extraClassName?typeof n.extraClassName=="string"?s.extraClassName[d[u]]=n.extraClassName:s.extraClassName[d[u]]=n.extraClassName[d[u]]||"":s.extraClassName[d[u]]="";s.onLoad=n.onLoad||null,s.onValueChanged=n.onValueChanged||null,s.onAnimate=n.onAnimate||null,s.creationType==st.CreationType.Replace?s.parentElement=a:(s.parentElement=document.createElement("DIV"),a.appendChild(s.parentElement)),s.finishLoading()}j.Errors=Qle,wg(o(w().mark(function r(){var n,a,s,u;return w().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if((n=window)&&(p.addEventListener(n,"focus",function(){var l;(l=U.DWT.WebTwainIdMap)&&p.each(l,function(h,m){h&&h._OnPageFocus&&h._OnPageFocus()})}),p.addEventListener(n,"blur",function(){ue.bWin&&i4()}),a=n.document,p.addEventListener(a,"visibilitychange",function(){ue.bWin&&a.visibilityState=="hidden"&&i4()})),U.navInfo){d.next=11;break}return d.prev=3,d.next=6,CE();case 6:U.navInfo=d.sent,d.next=11;break;case 9:d.prev=9,d.t0=d.catch(3);case 11:if(U.DWT.AutoLoad!==!1&&!we.bDWTLoading){d.next=13;break}return d.abrupt("return");case 13:return d.prev=13,d.next=16,H0();case 16:if(!(U.DWT.Containers&&U.DWT.Containers.length>0&&U.DWT.AutoLoad)||we.bDWTLoading){d.next=48;break}return we.bDWTLoading=!0,Dg(),d.prev=20,d.next=23,Pf();case 23:return d.next=25,$0();case 25:s=3,u=0;case 27:if(!(u<s)){d.next=44;break}return d.prev=28,d.next=31,B4();case 31:return d.abrupt("break",44);case 34:if(d.prev=34,d.t1=d.catch(28),!(u<s-1&&d.t1.code==kt.DWTPortNotReady)){d.next=40;break}return d.next=39,new j.Promise(function(l,h){setTimeout(function(){l()},300)});case 39:return d.abrupt("continue",41);case 40:throw d.t1;case 41:u++,d.next=27;break;case 44:return d.prev=44,we.bDWTLoading=!1,yc(),d.finish(44);case 48:d.next=62;break;case 50:return d.prev=50,d.t2=d.catch(13),C_(d.t2.code)||j.detect.bOK||p.asyncQueue.pushToDo(null,U.DWT.Load),b_(d.t2),d.prev=55,d.next=58,kg();case 58:d.next=62;break;case 60:d.prev=60,d.t3=d.catch(55);case 62:case"end":return d.stop()}},r,null,[[3,9],[13,50],[20,,44,48],[28,34],[55,60]])}))),st.Orientation={Horizontal:0,Vertical:1},st.Direction={LeftToRight:0,RightToLeft:1,TopToBottom:0,BottomToTop:1},st.CreationType={Replace:0,AppendChild:1},st.AnimationStyle={None:0,Static:1,StaticFull:2,Custom:3,CustomFull:4,Flickering1:10,Flickering2:11,Flickering3:12,LeftToRight1:20,LeftToRight2:21,RightToLeft1:22,RightToLeft2:23,TwoWay:24},st.prototype.finishLoading=function(){var r,n=this;n.wrapperElement=null,n.backgroundElement=null,n.valueElement=null,n.leftElement=null,n.middleElement=null,n.rightElement=null,n.backgroundElement=document.createElement("DIV"),n.backgroundElement.className="progressbar_background"+(n.extraClassName.background?" ":"")+n.extraClassName.background,n.backgroundElement.style.cssText=n.backgroundElement.style.cssText+st._createBorderRadiusCss(n.borderRadius),n.parentElement.appendChild(n.backgroundElement);var a=["border-radius","border-bottom-right-radius"],s=0,u="";for(s=0;s<a.length&&!(u=st._elementCurrentStyle(n.backgroundElement,a[s]))&&typeof u!="string";s++);u!=""&&st._parseInt(u)!=n.borderRadius&&(n.borderRadius=st._parseInt(u)),n.orientation==st.Orientation.Horizontal||n.orientation==st.Orientation.Vertical?n.displayType=0:n.displayType=1,n.parentElement.className=(n.parentElement.className!=""?" ":"")+"progressbar_parent dynamsoft-progressBar"+(n.extraClassName.parent?" ":"")+n.extraClassName.parent,n.displayType==0?((r=n.wrapperElement=document.createElement("DIV")).style.border="1px solid #A0A0A0",r.style.cssFloat="left",r.style.display="inline-block",r.style.width=p.isNumber(n.width)?n.width+"px":n.width,r.style.height=n.height+"px",r.style.left="0px",r.style.top=-n.height+"px",r.style.backgroundColor=n.backColor,r.style.backgroundRepeat="no-repeat",r.style.position="relative",r.style.cssText=r.style.cssText+st._createBorderRadiusCss(n.borderRadius),n.parentElement.appendChild(r),n.borderWidth={left:st._parseInt(st._elementCurrentStyle(r,"border-left-width")),right:st._parseInt(st._elementCurrentStyle(r,"border-right-width")),top:st._parseInt(st._elementCurrentStyle(r,"border-top-width")),bottom:st._parseInt(st._elementCurrentStyle(r,"border-bottom-width"))}):n.displayType==1&&(n.orientation==st.Orientation.Horizontal?p.isNumber(n.width)&&n.borderRadius>n.width/2&&(n.borderRadius=n.width):n.orientation==st.Orientation.Vertical&&n.borderRadius>n.height/2&&(n.borderRadius=n.height),n.valueElement=document.createElement("DIV"),n.valueElement.className="",n.leftElement=document.createElement("DIV"),n.middleElement=document.createElement("DIV"),n.rightElement=document.createElement("DIV"),n.leftElement.style.border="1px solid #A0A0A0",n.leftElement.style.cssFloat="left",n.leftElement.style.display="inline-block",n.leftElement.style.backgroundColor=n.backColor,n.leftElement.style.backgroundRepeat="no-repeat",n.leftElement.style.position="relative",n.rightElement.style.border="1px solid #A0A0A0",n.rightElement.style.cssFloat="left",n.rightElement.style.display="inline-block",n.rightElement.style.backgroundColor=n.backColor,n.rightElement.style.backgroundRepeat="no-repeat",n.rightElement.style.position="relative",n.middleElement.style.border="1px solid #A0A0A0",n.middleElement.style.cssFloat="left",n.middleElement.style.display="inline-block",n.middleElement.style.overflow="hidden",n.middleElement.style.position="relative",n.valueElement.style.backgroundColor=n.backColor,n.valueElement.style.position="relative",n.orientation==st.Orientation.Horizontal?(n.leftElement.style.width=n.borderRadius+"px",n.leftElement.style.height=n.height+"px",n.leftElement.style.top=-n.height+"px",n.leftElement.style.left="0px",n.leftElement.style.borderRight="none",n.leftElement.style.cssText=n.leftElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,0,0,n.borderRadius),n.rightElement.style.width=n.borderRadius+"px",n.rightElement.style.height=n.height+"px",n.rightElement.style.top=-n.height+"px",n.rightElement.style.borderLeft="none",n.rightElement.style.cssText=n.rightElement.style.cssText+st._createBorderRadiusCss(0,n.borderRadius,n.borderRadius,0),n.middleElement.style.width=p.isNumber(n.width)?n.width-2*n.borderRadius+"px":n.width,n.middleElement.style.height=n.height+"px",n.middleElement.style.top=-n.height+"px",n.middleElement.style.borderLeft="none",n.middleElement.style.borderRight="none",n.valueElement.style.width="0px",n.valueElement.style.height=n.height+"px"):n.orientation==st.Orientation.Vertical&&(n.leftElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.leftElement.style.height=n.borderRadius+"px",n.leftElement.style.top=-n.height+"px",n.leftElement.style.left="0px",n.leftElement.style.borderBottom="none",n.leftElement.style.cssText=n.leftElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,n.borderRadius,0,0),n.rightElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.rightElement.style.height=n.borderRadius+"px",n.rightElement.style.top=-n.height+"px",n.rightElement.style.left="0px",n.rightElement.style.borderTop="none",n.rightElement.style.cssText=n.rightElement.style.cssText+st._createBorderRadiusCss(0,0,n.borderRadius,n.borderRadius),n.middleElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.middleElement.style.height=n.height-2*n.borderRadius+"px",n.middleElement.style.top=-n.height+"px",n.middleElement.style.left="0px",n.middleElement.style.borderTop="none",n.middleElement.style.borderBottom="none",n.valueElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.valueElement.style.height="0px"),n.middleElement.appendChild(n.valueElement),n.parentElement.appendChild(n.leftElement),n.parentElement.appendChild(n.middleElement),n.parentElement.appendChild(n.rightElement),n.orientation==st.Orientation.Horizontal?n.borderWidth={left:st._parseInt(st._elementCurrentStyle(n.leftElement,"border-left-width")),right:st._parseInt(st._elementCurrentStyle(n.rightElement,"border-right-width")),top:st._parseInt(st._elementCurrentStyle(n.middleElement,"border-top-width")),bottom:st._parseInt(st._elementCurrentStyle(n.middleElement,"border-bottom-width"))}:n.orientation==st.Orientation.Vertical&&(n.borderWidth={left:st._parseInt(st._elementCurrentStyle(n.middleElement,"border-left-width")),right:st._parseInt(st._elementCurrentStyle(n.middleElement,"border-right-width")),top:st._parseInt(st._elementCurrentStyle(n.leftElement,"border-top-width")),bottom:st._parseInt(st._elementCurrentStyle(n.rightElement,"border-bottom-width"))})),p.isNumber(n.width)&&(n.parentElement.style.width=n.width+n.borderWidth.left+n.borderWidth.right+"px"),n.parentElement.style.height=n.height+n.borderWidth.top+n.borderWidth.bottom+"px",n.backgroundElement.style.cssFloat="left",n.backgroundElement.style.display="inline-block",p.isNumber(n.width)&&(n.backgroundElement.style.width=n.width+n.borderWidth.left+n.borderWidth.right+"px"),n.backgroundElement.style.height=n.height+"px",n.backgroundElement.style.backgroundColor="#FFFFFF",n.backgroundElement.style.position="relative",n.displayType==0&&p.isNumber(n.width)&&(n.backgroundElement.style.width=n.width+n.borderWidth.left+n.borderWidth.right+"px"),n.backgroundElement.style.top=n.borderWidth.top+"px",n.markerElement=document.createElement("DIV"),n.markerElement.style.display="inline-block",n.markerElement.style.zoom="1.0",n.markerElement.style.width=p.isNumber(n.width)?n.width+"px":n.width,n.markerElement.style.height=n.height+"px",n.markerElement.style.top=2*-n.height-n.borderWidth.top+"px",n.markerElement.style.left=n.borderWidth.left+"px",n.markerElement.style.backgroundColor=n.color,n.markerElement.style.lineHeight=n.height+"px",n.markerElement.style.position="relative",n.parentElement.appendChild(n.markerElement),n.isLoaded=!0,n.setValue(n.initialValue),n.onLoad!=null&&n.onLoad()},st.prototype.setValue=function(r){var n=this;if(r!==null&&r<n.minValue&&(r=n.minValue),r!==null&&r>n.maxValue&&(r=n.maxValue),r===null||(n.value=r),n.isLoaded){var a,s=0,u=n.width;if(p.isString(u)){var d=Ce.one(".dynamsoft-progressBar");d&&d.getEL()&&(u=d.getEL().offsetWidth)}if(n.orientation==st.Orientation.Horizontal){s=n.value/n.maxValue*u,n.progressPosition=s,n.displayType==0||n.displayType==1&&(n.direction==st.Direction.LeftToRight?s<=n.borderRadius?n.valueElement.style.width="0px":s>=u-n.borderRadius?n.valueElement.style.width=n.middleElement.style.width:n.valueElement.style.width=s-n.borderRadius+"px":s<=n.borderRadius?n.valueElement.style.width="0px":s>=u-n.borderRadius?(n.valueElement.style.left="0px",n.valueElement.style.width=n.middleElement.style.width):(n.valueElement.style.left=u-s-n.borderRadius+"px",n.valueElement.style.width=s-n.borderRadius+"px")),s>0?(n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull?n.markerElement.style.width=s+"px":n.markerElement.style.width=u+"px",n.markerElement.style.visibility="visible"):(n.markerElement.style.width=u+"px",n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull&&(n.markerElement.style.visibility="hidden")),n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull?n.direction==st.Direction.LeftToRight?n.markerElement.style.left=n.borderWidth.left+"px":n.markerElement.style.left=u-s+n.borderWidth.left+"px":n.markerElement.style.left=n.borderWidth.left+"px";var l=2*-n.height-n.borderWidth.top;if(s==0||u==s)n.markerElement.style.top=l+"px",n.markerElement.style.height=n.height+"px",n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius);else if(s<n.borderRadius){var h=n.height-2.25*(n.borderRadius-Math.sqrt(Math.pow(n.borderRadius,2)-Math.pow(n.borderRadius-s,2))),m=l+n.height/2-h/2;n.markerElement.style.top=m+"px",n.markerElement.style.height=h+"px",n.direction==st.Direction.LeftToRight?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,0,0,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(0,n.borderRadius,n.borderRadius,0)}else u-s<n.borderRadius?(a=(2*(n.borderRadius-(u-s))+(n.borderRadius-Math.sqrt(Math.pow(n.borderRadius,2)-Math.pow(n.borderRadius-(u-s),2))))/3,n.direction==st.Direction.LeftToRight?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,a,a,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(a,n.borderRadius,n.borderRadius,a)):(n.markerElement.style.top=l+"px",n.markerElement.style.height=n.height+"px",n.direction==st.Direction.LeftToRight?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,0,0,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(0,n.borderRadius,n.borderRadius,0))}else if(n.orientation==st.Orientation.Vertical){s=n.value/n.maxValue*n.height,n.progressPosition=s,n.displayType==0||n.displayType==1&&(n.direction==st.Direction.TopToBottom?s<=n.borderRadius?n.valueElement.style.height="0px":s>=n.height-n.borderRadius?n.valueElement.style.height=n.middleElement.style.height:n.valueElement.style.height=s-n.borderRadius+"px":s<=n.borderRadius?n.valueElement.style.height="0px":s>=n.height-n.borderRadius?(n.valueElement.style.top="0px",n.valueElement.style.height=n.middleElement.style.height):(n.valueElement.style.top=n.height-s-n.borderRadius+"px",n.valueElement.style.height=s+2*n.borderRadius+"px")),s>0?(n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull?n.markerElement.style.height=s+"px":(n.markerElement.style.height=n.height+"px",n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius)),n.markerElement.style.visibility="visible"):(n.markerElement.style.height="0px",n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull&&(n.markerElement.style.visibility="hidden"));var _=n.borderWidth.left;if(s==0||n.height==s)n.markerElement.style.left=_+"px",n.markerElement.style.width=u+"px",n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius);else if(s<n.borderRadius){var S=2.5*s;S>u&&(S=u);var y=_+u/2-S/2;n.markerElement.style.left=y+"px",n.markerElement.style.width=S+"px",n.direction==st.Direction.BottomToTop?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(0,0,n.borderRadius,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,n.borderRadius,0,0)}else n.height-s<n.borderRadius?(a=(2*(n.borderRadius-(n.height-s))+(n.borderRadius-Math.sqrt(Math.pow(n.borderRadius,2)-Math.pow(n.borderRadius-(n.height-s),2))))/3,n.direction==st.Direction.BottomToTop?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(a,a,n.borderRadius,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,n.borderRadius,a,a)):(n.markerElement.style.left=_+"px",n.markerElement.style.width=u+"px",n.direction==st.Direction.BottomToTop?n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(0,0,n.borderRadius,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+st._createBorderRadiusCss(n.borderRadius,n.borderRadius,0,0));n.animationStyle!=st.AnimationStyle.StaticFull&&n.animationStyle!=st.AnimationStyle.CustomFull?n.direction==st.Direction.TopToBottom?n.markerElement.style.top=2*-n.height-n.borderWidth.top+"px":n.markerElement.style.top=-n.height-s-n.borderWidth.top+"px":n.markerElement.style.top=2*-n.height-n.borderWidth.top+"px"}n.progress=n.value/n.maxValue}n.onValueChanged!=null&&n.onValueChanged()},st._elementCurrentStyle=function(r,n){if(r.currentStyle){var a=0,s="",u=!1;for(a=0;a<n.length;a++)n[a].toString()!="-"?(s+=u?n[a].toString().toUpperCase():n[a].toString(),u=!1):u=!0;return n=s,r.currentStyle[n]}return getComputedStyle(r,null).getPropertyValue(n)},st._parseInt=function(r){var n=parseInt(r);return isNaN(n)&&(n=0),n},st._createBorderRadiusCss=function(r,n,a,s){return r!=null&&n==null&&a==null&&s==null?";-ms-border-radius: "+r+"px;border-radius:"+r+"px;":";-ms-border-radius:"+(r=r||0)+"px "+(n=n||0)+"px "+(a=a||0)+"px "+(s=s||0)+"px;border-radius:"+r+"px "+n+"px "+a+"px "+s+"px;"};var Zle=function(){return v(function r(){f(this,r),T(this,"handlers",{})},[{key:"on",value:function(r,n){var a=p.guid();return this.handlers[r]||(this.handlers[r]=[]),this.handlers[r].push({id:a,handler:n}),a}},{key:"off",value:function(r,n){if(this.handlers[r]){var a,s=this.handlers[r];if(n){for(a=0;a<s.length;a++)if(s[a].id==n){s.splice(a,1);break}}else s.splice(0)}}},{key:"fire",value:function(r){if(this.handlers[r]){var n,a=this.handlers[r];for(n=0;n<a.length;n++)a[n].handler();return a.length}return 0}},{key:"clear",value:function(){this.handlers={}}}])}(),ede=U.DWT;j.ProgressBar=st,j.progressMessage="",j.dialogShowStatus=!1,j.needShowTwiceShowDialog=!1,j.dlgProgress=!1,j.cancelFrom=Mt.Other,j.dlgRef=0,j.initProgress=function(r){var n,a;if(!j.dlgProgress){(a=[]).push('<dialog class="dynamsoft-dwt-dialogProgress" closed="closed" style="top:30%"><div class="ds-dwt-progressWrap">'),a.push('<h3 class="dynamsoft-finalMessage"> </h3>'),a.push('<p class="dynamsoft-desc"></p><p class="dynamsoft-status">0%</p>'),ue.bIE?a.push('<div class="dynamsoft-progressBar" value="" max="100"></div>'):a.push('<progress class="dynamsoft-progressBar" value="" max="100"></progress>'),a.push('<div style="width:100%;text-align:center;margin:5px 0;"><button class="dynamsoft-btnCancel" value="cancel" autofcus>cancel</button></div>'),a.push("</div></dialog>"),(n=Ce.one(".dynamsoft-dwt-dialogProgress"))&&n.getEL()&&n.remove();var s=j.parseHTML(a.join(""));if(s&&s.length>0&&document.body.appendChild(s[0]),ue.bIE){var u=Ce.one(".dynamsoft-progressBar"),d=u&&u.getEL();d&&(d.objProgressBar=new st(d,{height:20}));var l=Ce.one(".ds-dwt-progressWrap").getEL();l&&(l.style.boxSizing="content-box")}(n=Ce.one(".dynamsoft-dwt-dialogProgress"))&&n.getEL()&&(j.dlgProgress=n[0],Ce.dialog.setup(j.dlgProgress)),j.dlgRef=0,j.dialogShowStatus=!1,j.cancelFrom=Mt.Other}},j.showProgressMsg=function(){};var tde=function(r){function n(){return f(this,n),c(this,n,arguments)}return P(n,r),v(n)}(Zle);j.progressContext=new tde;var U4=function(){var r=j.progressContext;if(r){var n,a=r.fire("cancel");if(a>=1)for(n=0;n<a;n++)j.closeProgress(null,"");else r.__cancelBeforObjectCreated&&(j.closeProgress(null,""),r.__clickCancel=!0)}};j.hideProgress=function(){var r=j.progressContext;r&&(r.IfShowProgressBar=!1,r.IfShowCancelDialogWhenImageTransfer=!1,r.off("cancel"),r._onPercent=null)},j.showProgress=function(r,n,a){var s,u=r;if(u.IfShowProgressBar)if(j.progressContext&&(j.progressContext.IfShowProgressBar=!0,j.progressContext.IfShowCancelDialogWhenImageTransfer=u.IfShowCancelDialogWhenImageTransfer),j.dlgRef>0)j.dlgRef++;else{var d;if((s=U.DWT.IfConfineMaskWithinTheViewer)?u._isNoViewer&&u._isNoViewer()?d=document.body:u._containerElement?d=u._containerElement:U.DWT.Containers&&U.DWT.Containers.length>0&&U.DWT.Containers[0].ContainerId&&(d=p.get(U.DWT.Containers[0].ContainerId))||(d=document.body):d=document.body,d&&d!==document.body){var l=!1,h=d.firstElementChild;if(h&&h!==j.dlgProgress&&h.className=="dvs-root dvs-web-viewer"&&(d=h,l=!0),l==0){for(var m=0;m<d.children.length;m++)if((h=d.children[m])&&h!==j.dlgProgress&&h.className=="dvs-root dvs-web-viewer"){d=h;break}}var _=j.progressContext;d.style.position!==""&&d.style.position!=="static"||(d.style.position="relative",_.progressContainer={el:d})}p.log("showProgress:"+n+",bCancel:"+a),j.dlgProgress&&d.appendChild(j.dlgProgress),eu(a);var S=Ce.one(".dynamsoft-btnCancel");if(S&&S.getEL()&&(p.removeEventListener(S[0],"click",U4),p.addEventListener(S[0],"click",U4)),j.dialogShowStatus==0){j.dlgProgress&&(s&&d&&d!==document.body?Ce.dialog.setup(j.dlgProgress,!0):Ce.dialog.setup(j.dlgProgress),j.dlgProgress.showModal()),j.dialogShowStatus=!0;var y=Ce.one(".dynamsoft-finalMessage"),b=Ce.one(".dynamsoft-progressBar"),I=b&&b.getEL(),x=Ce.one(".dynamsoft-status");y&&y.getEL()&&y.html(""),x&&x.getEL()&&x.html("0%"),I&&(ue.bIE&&I.objProgressBar?I.objProgressBar.setValue(0):I.value=0)}j.dlgRef++}else j.hideProgress()},j.closeProgress=function(r,n){var a=j.progressContext;p.log("closeProgress:"+n),a&&a.IfShowProgressBar?(j.dlgRef--,j.dlgRef<=0&&(j.dlgRef=0)):j.dlgRef=0,j.dlgRef==0&&(a.off("cancel"),a._onPercent=null,j.dialogShowStatus==1&&(j.dlgProgress&&(j.dlgProgress.close(),j.dlgProgress&&document.body.appendChild(j.dlgProgress),a&&a.progressContainer&&a.progressContainer.el&&(a.progressContainer.el.style.position="",a.progressContainer=null)),j.dialogShowStatus=!1),j.cancelFrom=Mt.Other)},ede.RemoveAllAuthorizations=function(){var r=na.item("DWT_port"),n="http://";return na.item("DWT_ssl")=="true"&&(n="https://"),Po({method:"GET",xhrFields:{withCredentials:!0},url:[n,ui(),":",r,"/dwt/",we.getDWTPrefix(),we.getServerVersionInfo(),"/RemoveAllAuthorizations?t=",p.now()].join(""),async:!0}),!0};var rde={upload:"Uploading...",download:"Downloading...",load:"Processing...",decode:"Processing...",decodeTIFF:"Processing tiff...",decodePDF:"Processing pdf...",encodeTIFF:"Processing tiff...",encodePDF:"Processing pdf...",encode:"Processing...",transfer:"Transferring..."};j.progressBarOnPercentDone=function(r,n,a,s,u,d){var l,h=Ce.one(".dynamsoft-progressBar"),m=Ce.one(".dynamsoft-status"),_=Ce.one(".dynamsoft-finalMessage"),S=Ce.one(".dynamsoft-desc");if(U.DWT.UseDefaultViewer&&U.DWT.IfConfineMaskWithinTheViewer&&d&&(h=Ce.one(".dynamsoft-progressBar",d),m=Ce.one(".dynamsoft-status",d),_=Ce.one(".dynamsoft-finalMessage",d),S=Ce.one(".dynamsoft-desc",d)),j.cancelFrom==Mt.FTPUpload||j.cancelFrom==Mt.FTPDownload){var y=a;y==0?j.setBtnCancelVisibleForProgress(!1):y==1&&j.setBtnCancelVisibleForProgress(!0)}else j.cancelFrom==Mt.HTTPUpload||j.cancelFrom==Mt.LoadImage||j.cancelFrom==Mt.HTTPPut?n=="Processing..."&&j.setBtnCancelVisibleForProgress(!1):j.cancelFrom==Mt.ConvertToBlob&&(r==-1||j.setBtnCancelVisibleForProgress(!1),s==100&&(n="",j.progressMessage="Processing..."));if(r<0?(j.progressMessage=n,l=j.progressMessage):l=n!=""&&n!="1/1"?j.progressMessage+"("+n+")":j.progressMessage,_&&_.getEL()){var b="",I="";l.indexOf(" ...")&&(l=l.replace(" ...","...")),l.indexOf("(")!=-1?(b=l.substr(0,l.indexOf("(")),I=l.substr(l.indexOf("("))):b=l,p.each(rde,function(D,W){D.indexOf(b)!=-1&&(l=Dn.customProgressText[W]+I)}),l==""&&(l="&nbsp;"),_.html(l)}if(u?u==""||p.isUndefined(u)?(u="&nbsp;",S&&S.hide&&S.hide()):(p.isString(u)&&u.length>30&&(u=u.substring(0,30)+"..."),S&&(S.show&&S.show(),S.html(u))):S&&S.hide&&S.hide(),(s||s===0)&&(m&&m.getEL()&&m.html(s+"%"),h&&h.getEL())){var x=s;x>99&&(x=99),ue.bIE?h[0].objProgressBar?h[0].objProgressBar.setValue(x):h[0].value=x:(ue.bEdge&&(h[0].style.display=""),h[0].value=x)}j.dlgRef<=0&&setTimeout(function(){h&&h.getEL()&&(ue.bIE?h[0].objProgressBar?h[0].objProgressBar.setValue(0):h[0].value=0:(ue.bEdge&&(h[0].style.display="none"),h[0].value=0))},1e3)},(j.__ver||0)<Te&&(p.mix(j,Ce),j.__ver=Te),j.bNode=Ue,j._defaultAgent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",j._defaultPlatform="Win64",j.timestamp="?t=20241010102903",p.mix(j,ea),j.ajax=Po,j.fetch=Fd,j.detect.showMask=tT,j.detect.hideMask=rT,j.env=Br,j.product=we,j.scannerInfo=Nr,j.License=_t,j.BIO=Xu,j.UI.ImageUIView=Zce,j.UI.ImageManager=jU,U.MSG=Cr,j.domReady=wg,function r(){if(!window||document&&document.body){var n=document;if(n.readyState!==$U)if(EE(window,HU,xf),wE){var a=function(){xE(n,GU,a),xf()};EE(n,GU,a)}else{var s,u,d,l=function(){n.readyState===$U&&(xE(n,zU,l),xf())};EE(n,zU,l),u=n&&n.documentElement,d=u&&u.doScroll;try{s=window.frameElement===null}catch{s=!1}if(d&&s){var h=function(){try{d("left"),setTimeout(xf,30)}catch{setTimeout(h,40)}};h()}}else xf()}else setTimeout(r,100)}(),wg(function(){if(U.DWT.CustomizableDisplayInfo||(U.DWT.CustomizableDisplayInfo=Dn),ue.bIE){U.DWT.CustomizableDisplayInfo.loaderBarSourceIE||(U.DWT.CustomizableDisplayInfo.loaderBarSourceIE=ks.loaderBarSourceIE);try{document.execCommand("BackgroundImageCache",!1,!0)}catch{}}}),U.Ready=function(r){if(!U.navInfo)return CE().then(function(n){U.navInfo=n;try{r()}catch(a){throw p.log(a.stack||a,"error"),a}});try{r()}catch(n){throw p.log(n.stack||n,"error"),n}}})({mapPackageRegister:cPe,CoreModule:ts})}Y.DWT.bNpm=!0;Y.DWT.dbrCanvasMaxWH=4096;Y.aryAddonReadyFun=[];Y.AddonReady=function(e){Y.aryAddonReadyFun.push(e)};/*! 20240828 20230310201709
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: BarcodeReader
* Version: 18.5.1
* 
*/var Y=self.Dynamsoft||{};Y.DWT=Y.DWT||{},Y.DBR=Y.DBR||{},Y.aryAddonReadyFun=Y.aryAddonReadyFun||[],Y.AddonReady=Y.AddonReady||function(e){Y.aryAddonReadyFun.push(e)},function(){Y.BarcodeReaderAddon=Y.BarcodeReaderAddon||{};var e=Y.BarcodeReaderAddon;e.Version="9.6.1.0312",e._decoding=!1,e._decodeQueue=[],e._decodeNext=function(){var t,i;e._decodeQueue.length==0?e._decoding=!1:(t=(i=e._decodeQueue[0]).method,i=i.args,e._decodeQueue.splice(0,1),t.apply(null,i))},e._defaultRuntimeSettingsStr="",e._defaultTemplateStr="",e._activeXInstance=!1,e.BarcodeReaderException=function(){var i=arguments[0],t=Y.DBR.EnumErrorCode.DBR_UNKNOWN,i=typeof i=="number"?(t=i,new Error(arguments[1])):new Error(i);return i.code=t,i},e.RemoveNonPrintableChar=function(t){return Y.Lib.isString(t)?t.replace(/[^\x20-\x7E]|(\\")/g,""):t},e.errors={webcamNotInstalled:"The Webcam add-on not installed.",nonServiceNotSupportWebcamDecode:"The BarcodeReader add-on does not support reading barcodes from video streams.",decodeResultEmpty:"decode result is empty.",ServiceEditionNotSupportDbr:"The BarcodeReader add-on does not support your Operating System.",ServiceEditionNotSupportWasmMode:"You cannot call this method on this WebTwain instance."},e._activeXMaxIEVersion=9,e.logLevel=3,Y.DBR.EnumAccompanyingTextRecognitionMode={ATRM_GENERAL:1,ATRM_SKIP:0},Y.DBR.EnumBarcodeColourMode={BICM_DARK_ON_LIGHT:1,BICM_LIGHT_ON_DARK:2,BICM_DARK_ON_DARK:4,BICM_LIGHT_ON_LIGHT:8,BICM_DARK_LIGHT_MIXED:16,BICM_DARK_ON_LIGHT_DARK_SURROUNDING:32,BICM_SKIP:0},Y.DBR.EnumBarcodeComplementMode={BCM_AUTO:1,BCM_GENERAL:2,BCM_SKIP:0},Y.DBR.EnumBarcodeFormat={BF_ALL:-32505857,BF_ONED:2047,BF_GS1_DATABAR:260096,BF_CODE_39:1,BF_CODE_128:2,BF_CODE_93:4,BF_CODABAR:8,BF_ITF:16,BF_EAN_13:32,BF_EAN_8:64,BF_UPC_A:128,BF_UPC_E:256,BF_INDUSTRIAL_25:512,BF_CODE_39_EXTENDED:1024,BF_GS1_DATABAR_OMNIDIRECTIONAL:2048,BF_GS1_DATABAR_TRUNCATED:4096,BF_GS1_DATABAR_STACKED:8192,BF_GS1_DATABAR_STACKED_OMNIDIRECTIONAL:16384,BF_GS1_DATABAR_EXPANDED:32768,BF_GS1_DATABAR_EXPANDED_STACKED:65536,BF_GS1_DATABAR_LIMITED:131072,BF_PATCHCODE:262144,BF_PDF417:33554432,BF_QR_CODE:67108864,BF_DATAMATRIX:134217728,BF_AZTEC:268435456,BF_MAXICODE:536870912,BF_MICRO_QR:1073741824,BF_MICRO_PDF417:524288,BF_GS1_COMPOSITE:-2147483648,BF_NULL:0},Y.DBR.EnumBarcodeFormat_2={BF2_NULL:0,BF2_POSTALCODE:32505856,BF2_NONSTANDARD_BARCODE:1,BF2_USPSINTELLIGENTMAIL:1048576,BF2_POSTNET:2097152,BF2_PLANET:4194304,BF2_AUSTRALIANPOST:8388608,BF2_RM4SCC:16777216,BF2_DOTCODE:2},Y.DBR.EnumBinarizationMode={BM_AUTO:1,BM_LOCAL_BLOCK:2,BM_SKIP:0},Y.DBR.EnumClarityCalculationMethod={ECCM_CONTRAST:1},Y.DBR.EnumClarityFilterMode={CFM_GENERAL:1},Y.DBR.EnumColourClusteringMode={CCM_AUTO:1,CCM_GENERAL_HSV:2,CCM_SKIP:0},Y.DBR.EnumColourConversionMode={CICM_GENERAL:1,CICM_SKIP:0},Y.DBR.EnumConflictMode={CM_IGNORE:1,CM_OVERWRITE:2},Y.DBR.EnumDeformationResistingMode={DRM_AUTO:1,DRM_GENERAL:2,DRM_SKIP:0},Y.DBR.EnumDPMCodeReadingMode={DPMCRM_AUTO:1,DPMCRM_GENERAL:2,DPMCRM_SKIP:0},Y.DBR.EnumErrorCode={DBR_SYSTEM_EXCEPTION:1,DBR_SUCCESS:0,DBR_UNKNOWN:-1e4,DBR_NO_MEMORY:-10001,DBR_NULL_REFERENCE:-10002,DBR_LICENSE_INVALID:-10003,DBR_LICENSE_EXPIRED:-10004,DBR_FILE_NOT_FOUND:-10005,DBR_FILETYPE_NOT_SUPPORTED:-10006,DBR_BPP_NOT_SUPPORTED:-10007,DBR_INDEX_INVALID:-10008,DBR_BARCODE_FORMAT_INVALID:-10009,DBR_CUSTOM_REGION_INVALID:-10010,DBR_MAX_BARCODE_NUMBER_INVALID:-10011,DBR_IMAGE_READ_FAILED:-10012,DBR_TIFF_READ_FAILED:-10013,DBR_QR_LICENSE_INVALID:-10016,DBR_1D_LICENSE_INVALID:-10017,DBR_DIB_BUFFER_INVALID:-10018,DBR_PDF417_LICENSE_INVALID:-10019,DBR_DATAMATRIX_LICENSE_INVALID:-10020,DBR_PDF_READ_FAILED:-10021,DBR_PDF_DLL_MISSING:-10022,DBR_PAGE_NUMBER_INVALID:-10023,DBR_CUSTOM_SIZE_INVALID:-10024,DBR_CUSTOM_MODULESIZE_INVALID:-10025,DBR_RECOGNITION_TIMEOUT:-10026,DBR_JSON_PARSE_FAILED:-10030,DBR_JSON_TYPE_INVALID:-10031,DBR_JSON_KEY_INVALID:-10032,DBR_JSON_VALUE_INVALID:-10033,DBR_JSON_NAME_KEY_MISSING:-10034,DBR_JSON_NAME_VALUE_DUPLICATED:-10035,DBR_TEMPLATE_NAME_INVALID:-10036,DBR_JSON_NAME_REFERENCE_INVALID:-10037,DBR_PARAMETER_VALUE_INVALID:-10038,DBR_DOMAIN_NOT_MATCHED:-10039,DBR_RESERVEDINFO_NOT_MATCHED:-10040,DBR_AZTEC_LICENSE_INVALID:-10041,DBR_LICENSE_DLL_MISSING:-10042,DBR_LICENSEKEY_NOT_MATCHED:-10043,DBR_REQUESTED_FAILED:-10044,DBR_LICENSE_INIT_FAILED:-10045,DBR_PATCHCODE_LICENSE_INVALID:-10046,DBR_POSTALCODE_LICENSE_INVALID:-10047,DBR_DPM_LICENSE_INVALID:-10048,DBR_FRAME_DECODING_THREAD_EXISTS:-10049,DBR_STOP_DECODING_THREAD_FAILED:-10050,DBR_SET_MODE_ARGUMENT_ERROR:-10051,DBR_LICENSE_CONTENT_INVALID:-10052,DBR_LICENSE_KEY_INVALID:-10053,DBR_LICENSE_DEVICE_RUNS_OUT:-10054,DBR_GET_MODE_ARGUMENT_ERROR:-10055,DBR_IRT_LICENSE_INVALID:-10056,DBR_MAXICODE_LICENSE_INVALID:-10057,DBR_GS1_DATABAR_LICENSE_INVALID:-10058,DBR_GS1_COMPOSITE_LICENSE_INVALID:-10059,DBR_DOTCODE_LICENSE_INVALID:-10061,DMERR_FAILED_TO_REACH_LTS:-20200},Y.DBR.EnumGrayscaleTransformationMode={GTM_INVERTED:1,GTM_ORIGINAL:2,GTM_SKIP:0},Y.DBR.EnumImagePixelFormat={IPF_Binary:0,IPF_BinaryInverted:1,IPF_GrayScaled:2,IPF_NV21:3,IPF_RGB_565:4,IPF_RGB_555:5,IPF_RGB_888:6,IPF_ARGB_8888:7,IPF_RGB_161616:8,IPF_ARGB_16161616:9,IPF_ABGR_8888:10,IPF_ABGR_16161616:11,IPF_BGR_888:12},Y.DBR.EnumImagePreprocessingMode={IPM_AUTO:1,IPM_GENERAL:2,IPM_GRAY_EQUALIZE:4,IPM_GRAY_SMOOTH:8,IPM_SHARPEN_SMOOTH:16,IPM_MORPHOLOGY:32,IPM_SKIP:0},Y.DBR.EnumIMResultDataType={IMRDT_IMAGE:1,IMRDT_CONTOUR:2,IMRDT_LINESEGMENT:4,IMRDT_LOCALIZATIONRESULT:8,IMRDT_REGIONOFINTEREST:16,IMRDT_QUADRILATERAL:32},Y.DBR.EnumIntermediateResultSavingMode={IRSM_MEMORY:1,IRSM_FILESYSTEM:2,IRSM_BOTH:4},Y.DBR.EnumIntermediateResultType={IRT_NO_RESULT:0,IRT_ORIGINAL_IMAGE:1,IRT_COLOUR_CLUSTERED_IMAGE:2,IRT_COLOUR_CONVERTED_GRAYSCALE_IMAGE:4,IRT_TRANSFORMED_GRAYSCALE_IMAGE:8,IRT_PREDETECTED_REGION:16,IRT_PREPROCESSED_IMAGE:32,IRT_BINARIZED_IMAGE:64,IRT_TEXT_ZONE:128,IRT_CONTOUR:256,IRT_LINE_SEGMENT:512,IRT_FORM:1024,IRT_SEGMENTATION_BLOCK:2048,IRT_TYPED_BARCODE_ZONE:4096,IRT_PREDETECTED_QUADRILATERAL:8192},Y.DBR.EnumLocalizationMode={LM_SKIP:0,LM_AUTO:1,LM_CONNECTED_BLOCKS:2,LM_LINES:8,LM_STATISTICS:4,LM_SCAN_DIRECTLY:16,LM_STATISTICS_MARKS:32,LM_STATISTICS_POSTAL_CODE:64},Y.DBR.EnumPDFReadingMode={PDFRM_RASTER:1,PDFRM_AUTO:2,PDFRM_VECTOR:4},Y.DBR.EnumQRCodeErrorCorrectionLevel={QRECL_ERROR_CORRECTION_H:0,QRECL_ERROR_CORRECTION_L:1,QRECL_ERROR_CORRECTION_M:2,QRECL_ERROR_CORRECTION_Q:3},Y.DBR.EnumRegionPredetectionMode={RPM_AUTO:1,RPM_GENERAL:2,RPM_GENERAL_RGB_CONTRAST:4,RPM_GENERAL_GRAY_CONTRAST:8,RPM_GENERAL_HSV_CONTRAST:16,RPM_SKIP:0},Y.DBR.EnumResultCoordinateType={RCT_PIXEL:1,RCT_PERCENTAGE:2},Y.DBR.EnumResultType={RT_STANDARD_TEXT:0,RT_RAW_TEXT:1,RT_CANDIDATE_TEXT:2,RT_PARTIAL_TEXT:3},Y.DBR.EnumScaleUpMode={SUM_AUTO:1,SUM_LINEAR_INTERPOLATION:2,SUM_NEAREST_NEIGHBOUR_INTERPOLATION:4,SUM_SKIP:0},Y.DBR.EnumTerminatePhase={TP_REGION_PREDETECTED:1,TP_IMAGE_PREPROCESSED:2,TP_IMAGE_BINARIZED:4,TP_BARCODE_LOCALIZED:8,TP_BARCODE_TYPE_DETERMINED:16,TP_BARCODE_RECOGNIZED:32},Y.DBR.EnumTextAssistedCorrectionMode={TACM_AUTO:1,TACM_VERIFYING:2,TACM_VERIFYING_PATCHING:4,TACM_SKIP:0},Y.DBR.EnumTextFilterMode={TFM_AUTO:1,TFM_GENERAL_CONTOUR:2,TFM_SKIP:0},Y.DBR.EnumTextResultOrderMode={TROM_CONFIDENCE:1,TROM_POSITION:2,TROM_FORMAT:4,TROM_SKIP:0},Y.DBR.EnumTextureDetectionMode={TDM_AUTO:1,TDM_GENERAL_WIDTH_CONCENTRATION:2,TDM_SKIP:0}}(),Y.AddonReady(function(e,t){var i,o=Y.BarcodeReaderAddon;function c(f){return f&&f instanceof ArrayBuffer}o.Class=function(){function f(v){this._runtimeSettings=null,this._initSettingsContent=null,this._tplContentArr=[],this._stwain=v}var g;return f.prototype._decodeBlob=function(v,C){var T=this;return new e.Promise(function(E){if(!(v instanceof Blob))throw TypeError("'_decodeBlob(blob, templateName)': Type of 'blob' should be 'Blob'.");E()}).then(function(){return T._innerDecode(0,v,C)})},f.prototype._decodeArrayBuffer=function(v,C){var T=this;return new e.Promise(function(E){if(!(v instanceof ArrayBuffer))throw TypeError("'_decodeBlob(arrayBuffer, templateName)': Type of 'arrayBuffer' should be 'ArrayBuffer'.");E()}).then(function(){return T._innerDecode(0,v,C)})},f.prototype._decodeUint8Array=function(v,C){var T=this;return new e.Promise(function(E){if(!(v instanceof Uint8Array||self.Uint8ClampedArray&&v instanceof Uint8ClampedArray))throw TypeError("'_decodeBlob(uint8Array, templateName)': Type of 'uint8Array' should be 'Uint8Array'.");E()}).then(function(){return T._innerDecode(0,v,C)})},f.prototype._decodeImage=function(v,C){var T=this;return new e.Promise(function(E){if(!(v instanceof HTMLImageElement))throw TypeError("'_decodeImage(image, templateName)': Type of 'image' should be 'HTMLImageElement'.");if(v.crossOrigin&&v.crossOrigin!="anonymous")throw"cors";C=C||"",E()}).then(function(){return v.src.substring(0,11)=="data:image/"?T._decodeBase64(v.src,C):T._decodeUrl(v.src,C).catch(function(E){return 3<=o.logLevel&&console&&console.warn&&(console.warn("'_decodeImage(image, templateName)': Image src not available. Use '_decodeCanvas' instead."),console.warn(E)),self.HTMLCanvasElement?((E=document.createElement("canvas")).width=v.naturalWidth,E.height=v.naturalHeight,E.getContext("2d").drawImage(v,0,0),T._decodeCanvas(E,C)):e.Promise.reject(Error("'_decodeImage(image, templateName)': Browser not support HTMLCanvasElement."))})})},f.prototype._decodeCanvas=function(v,C){var T=this;return new e.Promise(function(E){if(!(v instanceof HTMLCanvasElement))throw TypeError("'_decodeCanvas(canvas, templateName)': Type of 'canvas' should be 'HTMLCanvasElement'.");if(v.crossOrigin&&v.crossOrigin!="anonymous")throw"cors";C=C||"",v.toBlob?v.toBlob(function(A){E(A)}):v.msToBlob?v.msToBlob(function(A){E(A)}):E(v.toDataURL())}).then(function(E){return v.toBlob||v.msToBlob?T._decodeBlob(E,C):T._decodeBase64(E,C)})},f.prototype._decodeVideo=function(v){var C,T=this,E=arguments;return new e.Promise(function(A){if(!(v instanceof HTMLVideoElement))throw TypeError("'_decodeVideo(video [ [, sx, sy, sWidth, sHeight], dWidth, dHeight] [, templateName] )': Type of 'video' should be 'HTMLVideoElement'.");if(v.crossOrigin&&v.crossOrigin!="anonymous")throw"cors";E.length<=2?(P=O=0,w=M=v.videoWidth,N=k=v.videoHeight):k=E.length<=4?(P=O=0,w=v.videoWidth,N=v.videoHeight,M=E[1],E[2]):(P=E[1],O=E[2],w=E[3],N=E[4],M=E[5],E[6]),C=typeof E[E.length-1]=="string"?E[E.length-1]:"";var P,O,w,N,M,k,R=document.createElement("canvas");R.width=M,R.height=k,R.getContext("2d").drawImage(v,P,O,w,N,0,0,M,k),A(R)}).then(function(A){return T._decodeCanvas(A,C)})},f.prototype._decodeBase64=f.prototype.decodeBase64String=function(v,C){var T=this;return new e.Promise(function(E){if(!(typeof v=="string"||typeof v=="object"&&v instanceof String))throw TypeError("'decodeBase64(base64Str, templateName)': Type of 'base64Str' should be 'String'.");v.substring(0,11)=="data:image/"&&(v=v.substring(v.indexOf(",")+1)),E()}).then(function(){return T._innerDecode(1,v,C)})},f.prototype._decodeUrl=function(v,C){var T=this;return v&&v.indexOf&&(v.indexOf("dwt://")==0||v.indexOf("dcs://")==0)?T._decodeDynamsoftServiceInnerUrl(v,C):new e.Promise(function(E,A){var P;if(!(typeof v=="string"||typeof v=="object"&&v instanceof String))throw TypeError("'_decodeUrl(url, templateName)': Type of 'url' should be 'String'.");C=C||"",o._activeXInstance?((P=new ActiveXObject("MSXML2.XMLHTTP")).open("GET",v,!0),P.overrideMimeType?P.overrideMimeType("text/plain; charset=x-user-defined"):P.setRequestHeader("Accept-Charset","x-user-defined"),P.onreadystatechange=function(){P.readyState==4&&E(new VBArray(P.responseBody).toArray())},P.send("")):((P=new XMLHttpRequest).open("GET",v,!0),P.responseType="arraybuffer",P.send(),P.onloadend=function(){E(this.response)},P.onerror=function(){A(Error(P.error))})}).then(function(E){return o._activeXInstance?T._activeXDecodeArray(E,C):T._decodeArrayBuffer(E,C)})},f.prototype._decodeDynamsoftServiceInnerUrl=function(v,C){var T=this;return new e.Promise(function(E){if(!(typeof v=="string"||typeof v=="object"&&v instanceof String))throw TypeError("'_decodeUrl(url, templateName)': Type of 'innerUrl' should be 'String'.");if(v.indexOf("dwt://")!=0&&v.indexOf("dcs://")!=0)throw TypeError("'_decodeDynamsoftServiceInnerUrl(innerUrl, templateName)': 'innerUrl' should start with 'dwt://' or 'dcs://'.");E()}).then(function(){return T._innerDecode(4e3,v,C)})},f.prototype._activeXDecodeArray=function(v,C){var T=this;return new e.Promise(function(E,A){if(!(v instanceof Array))throw TypeError("'_activeXDecodeArray(array, templateName)': Type of 'array' should be 'Array'.");C=C||"";try{E(Y.Lib.btoa(String.fromCharCode.apply(String,v)))}catch(P){A(P)}}).then(function(E){return T._decodeBase64(E,C)})},f.prototype._activeXDecodeHandle=function(v,C){var T=this;return new e.Promise(function(E){C=C||"",E()}).then(function(){return T._innerDecode(4001,v,C)})},f.prototype._decode=f.prototype.decode=function(v,C){return o._activeXInstance?typeof v=="string"||v instanceof String?this._activeXDecodeHandle(v,C):e.Promise.reject(TypeError("'_decode(source, templateName)' in activeX: Type of 'source' should be 'String(partUrl)'.")):self.Blob&&v instanceof Blob?this._decodeBlob(v,C):self.ArrayBuffer&&v instanceof ArrayBuffer?this._decodeArrayBuffer(v,C):self.Uint8Array&&v instanceof Uint8Array||self.Uint8ClampedArray&&v instanceof Uint8ClampedArray?this._decodeUint8Array(v,C):v instanceof Array?this._activeXDecodeArray(v,C):self.HTMLImageElement&&v instanceof HTMLImageElement?this._decodeImage(v,C):self.HTMLCanvasElement&&v instanceof HTMLCanvasElement?this._decodeCanvas(v,C):self.HTMLVideoElement&&v instanceof HTMLVideoElement?this._decodeVideo(v,C):isNaN(v)?typeof v=="string"||v instanceof String?v.substring(0,11)=="data:image/"?this._decodeBase64(v,C):this._decodeUrl(v,C):e.Promise.reject(TypeError("'_decode(source, templateName)' in H5: Type of 'source' should be 'Blob', 'ArrayBuffer', 'Uint8Array', 'HTMLImageElement', 'HTMLCanvasElement', 'HTMLVideoElement', 'String(base64 with image mime)' or 'String(url)'.")):this._activeXDecodeHandle(v,C)},f.prototype._innerServiceCmd=function(v,C){var T=this._stwain;return new e.Promise(function(E,A){var P,O={method:"ReadBarcode",parameter:[Y.Lib.product.refProductKey,4002,"",""],updateSettings:v,initSettingsContent:C};o._activeXInstance?E(o._activeXInstance.Process(e.stringify(O),location.protocol+"//"+location.host)):(T._blts?(P="",T&&T._bRemoteMode&&T._dmService&&T._dmService.attrs&&T._dmService.attrs.UUID&&(P=T._dmService.attrs.UUID),Y.DWT.lglic(Y.DWT.EnumInstance.dwt_desktop,P).then(function(w){return O.parameter.push(w.ar),O.parameter.push(w.cu),O.parameter.push(0),O.parameter.push(""),e.stringify(O)})):e.Promise.resolve(e.stringify(O))).then(function(w){return e.fetch(T._dbrUrlRoot+"ReadBarcode",{mode:"cors",method:"post",body:w,dataType:"arrayBuffer"})}).then(function(w){c(w)?E(String.fromCharCode.apply(null,new Uint8Array(w))):E(w)},function(w){var N="Init template & runtimeSettings failed.";w&&(N=[N," Http info: ",w.errorString," (",w.httpCode,")"].join("")),A(N)})})},f.prototype._innerDecode=function(v,C,T,E){var A=this;return A._runtimeSettings&&A._runtimeSettings.expectedBarcodesCount==0&&(A._runtimeSettings.expectedBarcodesCount=512),new e.Promise(function(P,O){function w(L,K,de){try{var ee,Q,ce,he,le=g&&g(L);for(le&&le.textResults||O(new o.BarcodeReaderException(le.exception,le.description)),e.product.bHTML5Edition&&de&&de.config.data&&(ee=e.parse(de.config.data),e.isArray(ee.parameter))&&2<ee.parameter.length&&ee.parameter[1]==4e3&&(4<ee.parameter.length&&ee.parameter[4]?le.textResults.imageid=ee.parameter[4]:0<=(he=(ce=ee.parameter[2]).indexOf("&index="))&&(le.textResults.imageid=ce.substring(he+7,ce.indexOf("&t=")))),Q=0;Q<le.textResults.length;Q++){var fe=le.textResults[Q];fe.BarcodeText=fe.barcodeText,le.exception!=Y.DBR.EnumErrorCode.DBR_SUCCESS&&(fe.exception=le.exception)}le.exception!=Y.DBR.EnumErrorCode.DBR_SUCCESS&&(le.textResults.exception=le.exception,le.textResults.description=le.description),o._activeXInstance&&le.records&&(Y.Lib.each(le.records,function(ye,xe){Y.DWT.lavrf(xe,ye,Y.DWT.EnumInstance.dwt_desktop)}),Y.DWT.lavrf_(1,Y.DWT.EnumInstance.dwt_desktop)),P(le.textResults)}catch(ye){O(ye)}}var N,M,k={method:"ReadBarcode",parameter:[Y.Lib.product.refProductKey,v,v!=0?C:null,T||""],updateSettings:A._runtimeSettings,conflictMode:A.conflictMode==1?"ignore":"overwrite",initSettingsContent:A._initSettingsContent,tplContent:function(){if(T){for(var L=0;L<A._tplContentArr.length;++L)if(T==A._tplContentArr[L].ImageParameter.Name)return e.stringify(A._tplContentArr[L])}return null}()},R=A._stwain;o._activeXInstance?R._blts?Y.DWT.lglic(Y.DWT.EnumInstance.dwt_desktop,"").then(function(L){k.parameter.push(L.ar),k.parameter.push(L.cu),k.parameter.push(0),k.parameter.push(""),w(o._activeXInstance.Process(e.stringify(k),location.protocol+"//"+location.host))}):w(o._activeXInstance.Process(e.stringify(k),location.protocol+"//"+location.host)):(N=R._dbrUrlRoot+"ReadBarcode",v==0&&(N+="/LoadZipFromBytes?cmd="+encodeURIComponent(e.stringify(k))),(v==0?e.Promise.resolve(C):R._blts?(M="",R&&R._bRemoteMode&&R._dmService&&R._dmService.attrs&&R._dmService.attrs.UUID&&(M=R._dmService.attrs.UUID),Y.DWT.lglic(Y.DWT.EnumInstance.dwt_desktop,M).then(function(L){return k.parameter.push(L.ar),k.parameter.push(L.cu),k.parameter.push(0),k.parameter.push([e.product.getDWTPrefix(),e.product.getServerVersionInfo(),"/verify?id=",E,"&t=",e.getRandom()].join("")),e.stringify(k)})):e.Promise.resolve(e.stringify(k))).then(function(L){return e.fetch(N,{mode:"cors",method:"post",body:L,dataType:"arrayBuffer"})}).then(function(L,K,de){c(L)?w(String.fromCharCode.apply(null,new Uint8Array(L)),0,de):w(L,0,de)},function(L){var K="ReadBarcode request fail.";L&&(K=[K," Http info: ",L.errorString," (",L.httpCode,")"].join("")),O(Error(K))}))})},g=o._handleRetJsonString=function(v){var C;if(typeof v=="string"||typeof v=="object"&&v instanceof String)try{C=e.parse(v)}catch{C=e.parse(o.RemoveNonPrintableChar(v))}else C=v;if(!C)throw o.BarcodeReaderException(Y.DBR.EnumErrorCode.DBR_UNKNOWN,o.errors.decodeResultEmpty);if("textResults"in C&&e.isArray(C.textResults)||C.exception==Y.DBR.EnumErrorCode.DBR_SUCCESS)return C;throw o.BarcodeReaderException(C.exception,C.description)},f.prototype.getAllParameterTemplateNames=function(){for(var v=[],C=0;C<this._tplContentArr.length;++C)v.push(this._tplContentArr[C].ImageParameter.Name);return v},f.prototype.getRuntimeSettings=function(){return this._runtimeSettings||(this._runtimeSettings=e.parse(o._defaultRuntimeSettingsStr)),e.Promise.resolve(this._runtimeSettings)},f.prototype.updateRuntimeSettings=function(v){var C,T=this;if(typeof v=="string"||typeof v=="object"&&v instanceof String){if(v=="speed"||v=="balance"||v=="coverage"||v=="default")return T.initRuntimeSettingsWithString(v=="speed"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":3,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"bestSpeed","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"Mode":"TFM_SKIP"}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':v=="balance"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":5,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_STATISTICS"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"balance","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':v=="coverage"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":9,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"},{"Mode":"GTM_INVERTED"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_SCAN_DIRECTLY","ScanDirection":0,"ScanStride":0},{"Mode":"LM_STATISTICS"},{"Mode":"LM_LINES"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"coverage","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":214748347,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":null,"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":9,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_SCAN_DIRECTLY","ScanDirection":0,"ScanStride":0},{"Mode":"LM_STATISTICS"},{"Mode":"LM_LINES"}],"MaxAlgorithmThreadCount":4,"Name":"default","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}');C=v}else{if(typeof v!="object")throw TypeError("'setTemplateSettings(settings)': Type of 'settings' should be 'String' or 'PlainObject'.");C=e.stringify(v)}return v=e.parse(C),T._runtimeSettings=v,T._initSettingsContent=null,T._innerServiceCmd(T._runtimeSettings,null).then(function(E){return E=o._handleRetJsonString(E),T._runtimeSettings=E.settings,T._runtimeSettings||(T._runtimeSettings=e.parse(o._defaultRuntimeSettingsStr)),E.settings})},f.prototype.resetRuntimeSettings=function(){var v=this;return v._runtimeSettings=e.parse(o._defaultRuntimeSettingsStr),v._initSettingsContent=null,v._innerServiceCmd(v._runtimeSettings,null).then(function(C){return C=o._handleRetJsonString(C),v._runtimeSettings=C.settings,v._runtimeSettings||(v._runtimeSettings=e.parse(o._defaultRuntimeSettingsStr)),C.settings})},f.prototype.outputSettingsToString=function(v){if(!v)return o._defaultTemplateStr;for(var C=0;C<this._tplContentArr.length;++C)if(v==this._tplContentArr[C].ImageParameter.Name)return e.stringify(this._tplContentArr[C])},f.prototype.initRuntimeSettingsWithString=function(v){var C=this;if(e.isString(v))return C._runtimeSettings=null,C._initSettingsContent=e.parse(v),C._innerServiceCmd(null,C._initSettingsContent).then(function(T){return T=o._handleRetJsonString(T),C._runtimeSettings=T.settings,C._runtimeSettings||(C._runtimeSettings=e.parse(o._defaultRuntimeSettingsStr)),T.settings});throw TypeError("'initRuntimeSettingsWithString(settings)': Type of 'settings' should be 'String'.")},f}(),o._dbr_ax=!1,o._dbr=!1,o._initH5=function(f,g,v){return new e.Promise(function(C,T){f._bRemoteMode&&f._dmService&&f._dmService.attrs&&f._dmService.attrs.url&&(f._dbrUrlRoot=f._dmService.attrs.url+"dcp/dbr_"+o.Version.replace(/\./g,"")+"/"),f._dbrUrlRoot||(f._dbrUrlRoot=Y.DWT.NetManager.getModuleUrl("dcp/dbr_"+o.Version.replace(/\./g,"")+"/"));var E=5,A={method:"POST",url:f._dbrUrlRoot+"VersionInfo?t="+e.getRandom(),data:'{"method":"VersionInfo"}',onSuccess:function(){C()},onError:function(){if(--E<=0)return T("Failed to connect to the Barcode Reader Add-on, the library may be missing in the Dynamsoft Service directory.");setTimeout(function(){e.ajax(A)},300)},dataType:"json",async:!0,timeout:800};e.ajax(A)}).then(function(){return o._dbr=new o.Class(f),o._dbr._innerServiceCmd(null,null)}).then(function(C){try{var T=o._handleRetJsonString(C);o._dbr._runtimeSettings=T.settings,o._defaultRuntimeSettingsStr=e.stringify(T.settings),o._defaultTemplateStr=e.stringify(T.outputSettings),g(o._dbr)}catch(E){v(Error("Init template & runtimeSettings failed: "+E.message)||E)}},function(C){v(C)})},o.dbrInitPromiseFun=function(f){return new e.Promise(function(g,v){o.innerDbrInit(f,g,v)})},o.innerDbrInit=function(f,g,v){var C=!1,T=!1,E=(e.product.bHTML5Edition?C=!0:T=!0,Y.BarcodeReaderAddon);if(C){if(E._dbr)return void g(E._dbr)}else if(T&&E._dbr_ax)return void g(E._dbr_ax);if(C&&E._initH5(f,g,v),T){if(C=Y.navInfoSync,T={method:"ReadBarcode",parameter:[Y.Lib.product.refProductKey,4002,"",""]},!C.bIE)return v(Error("The DBR init error."));try{E._activeXInstance=new ActiveXObject("DBRModule.AtlDBR");var A,P=E._activeXInstance.Process(e.stringify(T),location.protocol+"//"+location.host),O=e.parse(P);return O?"settings"in O?(E._dbr_ax=new E.Class(f),E._dbr_ax._runtimeSettings=O.settings,E._defaultRuntimeSettingsStr=e.stringify(O.settings),"outputSettings"in O&&(E._defaultTemplateStr=e.stringify(O.outputSettings)),void g(E._dbr_ax)):(A=O.description||"The DBR init error.",v(Error(A))):v(Error("The DBR init error."))}catch(w){return v(Error("The DBR .dll is missing or not accessible: "+(w.message||w)))}}},e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(f){if(i=f._b64bit?"dbrx64_"+Y.BarcodeReaderAddon.Version+".dll":"dbr_"+Y.BarcodeReaderAddon.Version+".dll",e.product.bHTML5Edition)try{f._innerSend("GetAddOnVersion",e.html5.Funs.makeParams("barcodereader",i),!0,!1,!1).catch(function(){})}catch{}function g(C){return!e.License.checkProductKey(C,{Core:!0})||!!(Y.navInfoSync.bMac||Y.navInfoSync.bLinux||Y.Lib.env.bMobile)&&(C._errorCode=Y.DBR.EnumErrorCode.DBR_UNKNOWN,C._errorString=o.errors.ServiceEditionNotSupportDbr,!0)}var v={BarcodeReader:{decode:function(C){return g(f)?e.Promise.reject(o.BarcodeReaderException(f._errorCode,f._errorString)):!e.isNumber(C)||C<0||C>=f.HowManyImagesInBuffer?(e.Errors.IndexOutOfRange(f),e.Promise.reject(o.BarcodeReaderException(f._errorCode,f._errorString))):new e.Promise(function(T){o._decoding?o._decodeQueue.push({method:T,args:[C]}):(o._decoding=!0,T(C))}).then(function(T){var E;if(e.product.bHTML5Edition){if((E=f._ImgManager.convertClientIndexToServerId(T))==-1)throw e.Errors.IndexOutOfRange(f),setTimeout(o._decodeNext,0),o.BarcodeReaderException(f._errorCode,f._errorString)}else E=T;return new e.Promise(function(A,P){o.dbrInitPromiseFun(f).then(function(O){var w;if(!e.product.bHTML5Edition)return w=E,N=f.GetImagePartURL(w,-1,-1),O._innerDecode(4001,N,"").then(function(M){M.imageid=f.IndexToImageID(w),setTimeout(o._decodeNext,0),A(M)},function(M){setTimeout(o._decodeNext,0),P(M)});w=f._ImgManager.convertServerIdToClientIndex(E);var N=f.GetImagePartURL(w,-1,-1);return O._innerDecode(4e3,N,"",f._clientId).then(function(M){M.imageid=f.IndexToImageID(w),setTimeout(o._decodeNext,0),A(M),f._blts&&Y.DWT.lcvrf(f)},function(M){setTimeout(o._decodeNext,0),P(M)})},function(O){setTimeout(o._decodeNext,0),P(O)})})})},resetRuntimeSettings:function(){return g(f)?e.Promise.reject(o.BarcodeReaderException(f._errorCode,f._errorString)):o.dbrInitPromiseFun(f).then(function(C){return C.resetRuntimeSettings()})},getRuntimeSettings:function(C){return g(f)?e.Promise.reject(o.BarcodeReaderException(f._errorCode,f._errorString)):!e.isString(C)||C!="speed"&&C!="balance"&&C!="coverage"&&C!="default"?o.dbrInitPromiseFun(f).then(function(T){return T.getRuntimeSettings()}):this.updateRuntimeSettings(C)},updateRuntimeSettings:function(C){return g(f)?e.Promise.reject(o.BarcodeReaderException(f._errorCode,f._errorString)):o.dbrInitPromiseFun(f).then(function(T){return T.updateRuntimeSettings(C)})},initRuntimeSettingsWithString:function(C){return g(f)?e.Promise.reject(o.BarcodeReaderException(f._errorCode,f._errorString)):o.dbrInitPromiseFun(f).then(function(T){return T.initRuntimeSettingsWithString(C)})}}};e.product.bHTML5Edition?(f.__addon=f.__addon||{},e.mix(f.__addon,v)):(f.Addon=f.Addon||{},e.mix(f.Addon,v))})});/*! 20241010103231
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: PDF
* Version: 18.5.1
* 
*/var Y=self.Dynamsoft||{};Y.DWT=Y.DWT||{},Y.aryAddonReadyFun=Y.aryAddonReadyFun||[],Y.AddonReady=Y.AddonReady||function(e){Y.aryAddonReadyFun.push(e)},function(){Y.DWT.EnumDWT_ConvertMode={CM_RENDERALL:1,CM_IMAGEONLY:2,CM_AUTO:3,CM_RENDERALLWITHANNOTATION:4},Y.DWT.EnumDWT_PDFCompressionType={PDF_AUTO:0,PDF_FAX3:1,PDF_FAX4:2,PDF_LZW:3,PDF_RLE:4,PDF_JPEG:5,PDF_JP2000:6,PDF_JBIG2:7}}(),Y.AddonReady(function(e,t){var i,o;e.product.bHTML5Edition&&(i={code:-2830,message:"The PDF resolution must be a positive number."},e.DynamicLoadAddonFuns)&&e.DynamicLoadAddonFuns.push(function(c){var f,g=e.html5.Funs;o=c.__serverPlatform==Y.DWT.EnumDWT_PlatformType.enumMac?c._b64bit?"libDynamicPdfCorex64_"+Y.DWT.PdfVersion+".dylib":"libDynamicPdfCore_"+Y.DWT.PdfVersion+".dylib":c.__serverPlatform==Y.DWT.EnumDWT_PlatformType.enumLinux||c.__serverPlatform==Y.DWT.EnumDWT_PlatformType.enumEmbed||c.__serverPlatform==Y.DWT.EnumDWT_PlatformType.enumChromeOS?"libDynamicPdfCore_"+Y.DWT.PdfVersion+".so":c._b64bit?"DynamicPdfCorex64_"+Y.DWT.PdfVersion+".dll":"DynamicPdfCore_"+Y.DWT.PdfVersion+".dll";try{c._innerSend("GetAddOnVersion",g.makeParams("pdf",o),!0,!1,!1).catch(function(){})}catch{}f={PDF:{IsModuleInstalled:function(){var v=c;return v._resetErr(),v._innerFun("GetAddOnVersion",g.makeParams("pdf",o))!=""},IsModuleInstalledAsync:function(){var v=c;return v._resetErr(),v._innerFunV2("GetAddOnVersion",g.makeParams("pdf",o)).then(function(C){return C!=""})},ConvertToImage:function(A,C,T,E){var A=g.replaceLocalFilename(A),P="ConvertPDFToImage",O=c;return O._resetErr(),g.showMask(P),O._innerSend(P,g.makeParams(A,C),!0,function(w){return g.hideMask(P),T&&T(),!0},function(w){return g.hideMask(P),E&&E(),!1}),!0},SetPassword:function(v){var C=c,T=v||"";return C._resetErr(),!!C._checkPDFPasswordValue(T)&&(T=C._mixSavedPdfReaderOptions({password:T}),(T=C._setReaderOptions(T,!1))&&(C._pdfOptions.password=v),T)},SetConvertMode:function(v){return c._setConvertMode(v)},SetConvertModeAsync:function(v){return c._setConvertModeAsync(v)},GetConvertMode:function(){var v=c;return v._resetErr(),v._pdfConvertMode},SetResolution:function(v){var C=c,T=v;return C._resetErr(),T=C._mixSavedPdfReaderOptions({renderOptions:{resolution:T}}),(T=C._setReaderOptions(T,!1))&&(C._pdfOptions.renderOptions.resolution=v),T},SetResolutionAsync:function(v){var C=c;return C._resetErr(),!Y.Lib.isNumber(v)||v<=0?Y.Lib.Promise.reject(i):C._innerFunV2("SetPDFResolution",g.makeParams(v)).then(function(T){T&&(C._pdfOptions.renderOptions.resolution=v)})},SetReaderOptions:function(v){return c._setReaderOptions(v,!0)},GetReaderOptions:function(){var v,C=c;return C._resetErr(),v=c._innerFun("GetPDFReaderOptions"),v=Y.Lib.parse(v),C._pdfOptions=C._mixSavedPdfReaderOptions(v),Y.Lib.clone(C._pdfOptions)},IsTextBasedPDF:function(A,C,T){var E=c,A=(E._resetErr(),g.replaceLocalFilename(A)),A=c._innerFun("IsTextBasedPDF",g.makeParams(A));return E.ErrorCode==0?e.isFunction(C)&&C(A):e.isFunction(T)&&T(E.ErrorCode,E.ErrorString),A},Write:{Setup:function(C){var C=(C=C)||{version:15},T=(2<e.stringify(C).length&&(e.isNumber(C.version)?1<=C.version&&C.version<2&&(C.version=parseInt(10*C.version)):C.version=15),e.isNumber(C.compression)&&C.compression==Y.DWT.EnumDWT_PDFCompressionType.PDF_FAX3&&(C.compression=Y.DWT.EnumDWT_PDFCompressionType.PDF_FAX4),c);return T._resetErr(),!(C.password&&(e.isNumber(C.password)&&(C.password=C.password.toString()),!T._checkPDFPasswordValue(C.password)))&&(C=e.stringify(C),C=e.replaceAll(C,'"','\\"'),T._innerFun("SetPDFSettings",['["',C,'"]'].join("")))}}}},c.__addon=c.__addon||{},e.mix(c.__addon,f)})}),Y.AddonReady(function(e,t){e.product.bActiveXEdition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(i){var o,c,f;if(!i.getSWebTwain()||!i.getSWebTwain().Addon)return!1;Y.navInfoSync.bWin&&(f=!Y.navInfo.bOSx64||Y.navInfo.bWOW64?"DynamicPdfCore_"+Y.DWT.PdfVersion+".dll":"DynamicPdfCorex64_"+Y.DWT.PdfVersion+".dll"),c=i.getSWebTwain(),o={PDF:{IsModuleInstalled:function(){var g=c.GetAddOnVersion("pdf",f);return e.setErrorString(i),g!=""},IsModuleInstalledAsync:function(){var g=c.GetAddOnVersion("pdf",f);return e.setErrorString(i),e.Promise.resolve(g!="")},ConvertToImage:function(g,v,C,T){return g=c.ConvertPDFToImage(g,v),e.wrapperRet(i,g,C,T)},SetPassword:function(g){return g=c.SetPDFPassword(g),e.wrapperRet(i,g)},SetConvertMode:function(g){return i._setConvertMode(g)},SetConvertModeAsync:function(g){return Promise.resolve(i._setConvertMode(g))},GetConvertMode:function(){return i._resetErr(),i._pdfConvertMode},SetResolution:function(g){return g=c.SetPDFResolution(g),e.wrapperRet(i,g)},SetResolutionAsync:function(g){return g=c.SetPDFResolution(g),e.Promise.resolve(e.wrapperRet(i,g))},SetReaderOptions:function(){return!1},GetReaderOptions:function(){return{}},IsTextBasedPDF:function(g){return g=c.IsTextBasedPDF(g),e.wrapperRet(i,g)}}},i.Addon=i.Addon||{},e.mix(i.Addon,o)})});/*! 20241010103231
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: OCR
* Version: 18.5.1
* 
*/var Y=self.Dynamsoft||{};Y.DWT=Y.DWT||{},Y.aryAddonReadyFun=Y.aryAddonReadyFun||[],Y.AddonReady=Y.AddonReady||function(e){Y.aryAddonReadyFun.push(e)},Y.DWT.OCRVerInName="10.0.0.0618",function(){for(var e=[Y.DWT],t=0;t<1;t++){var i=e[t];i.EnumDWT_OCRLanguage={OCRL_ENG:"eng",OCRL_ARA:"ara",OCRL_CHI_SIM:"chi_sim",OCRL_CHI_TRA:"chi_tra",OCRL_HIN:"hin",OCRL_URD:"urd",OCRL_SPA:"spa",OCRL_FRA:"fra",OCRL_MSA:"msa",OCRL_IND:"ind",OCRL_RUS:"rus",OCRL_BEN:"ben",OCRL_POR:"por",OCRL_PAN:"pan",OCRL_DEU:"deu",OCRL_JPN:"jpn",OCRL_FAS:"fas",OCRL_SWA:"swa",OCRL_JAV:"jav",OCRL_TEL:"tel",OCRL_TUR:"tur",OCRL_KOR:"kor",OCRL_MAR:"mar",OCRL_TAM:"tam",OCRL_VIE:"vie",OCRL_ITA:"ita",OCRL_THA:"tha"},i.EnumDWT_OCRPageSetMode={OCRPSM_OSD_ONLY:0,PSM_AUTO_OSD:1,PSM_AUTO_ONLY:2,PSM_AUTO:3,PSM_SINGLE_COLUMN:4,PSM_SINGLE_BLOCK_VERT_TEXT:5,PSM_SINGLE_BLOCK:6,PSM_SINGLE_LINE:7,PSM_SINGLE_WORD:8,PSM_CIRCLE_WORD:9,PSM_SINGLE_CHAR:10},i.EnumDWT_OCROutputFormat={OCROF_TEXT:0,OCROF_PDFPLAINTEXT:1,OCROF_PDFIMAGEOVERTEXT:2,OCROF_PDFPLAINTEXT_PDFX:3,OCROF_PDFIMAGEOVERTEXT_PDFX:4},i.EnumDWT_OCRDownloadType={OCRDT_Dll:0,OCRDT_LANGUAGE:1}}}(),Y.DWT.OCRLanguageData_eng="4113088",Y.DWT.OCRLanguageData_ara="1432056",Y.DWT.OCRLanguageData_chi_sim="2469156",Y.DWT.OCRLanguageData_chi_tra="2366642",Y.DWT.OCRLanguageData_hin="1122751",Y.DWT.OCRLanguageData_urd="1398718",Y.DWT.OCRLanguageData_spa="2294433",Y.DWT.OCRLanguageData_fra="1130365",Y.DWT.OCRLanguageData_msa="1747801",Y.DWT.OCRLanguageData_ind="1122661",Y.DWT.OCRLanguageData_rus="3861738",Y.DWT.OCRLanguageData_ben="855841",Y.DWT.OCRLanguageData_por="1982756",Y.DWT.OCRLanguageData_pan="497721",Y.DWT.OCRLanguageData_deu="1525436",Y.DWT.OCRLanguageData_jpn="2471260",Y.DWT.OCRLanguageData_fas="431500",Y.DWT.OCRLanguageData_swa="2167651",Y.DWT.OCRLanguageData_jav="2982741",Y.DWT.OCRLanguageData_tel="2769654",Y.DWT.OCRLanguageData_tur="4550554",Y.DWT.OCRLanguageData_kor="1677415",Y.DWT.OCRLanguageData_mar="2118233",Y.DWT.OCRLanguageData_tam="3237963",Y.DWT.OCRLanguageData_vie="531275",Y.DWT.OCRLanguageData_ita="2701314",Y.DWT.OCRLanguageData_tha="1072600",Y.DWT.OCRLanguageData={},Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_ENG]=Y.DWT.OCRLanguageData_eng,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_ARA]=Y.DWT.OCRLanguageData_ara,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_CHI_TRA]=Y.DWT.OCRLanguageData_chi_tra,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_CHI_SIM]=Y.DWT.OCRLanguageData_chi_sim,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_HIN]=Y.DWT.OCRLanguageData_hin,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_URD]=Y.DWT.OCRLanguageData_urd,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_SPA]=Y.DWT.OCRLanguageData_spa,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_FRA]=Y.DWT.OCRLanguageData_fra,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_MSA]=Y.DWT.OCRLanguageData_msa,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_IND]=Y.DWT.OCRLanguageData_ind,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_RUS]=Y.DWT.OCRLanguageData_rus,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_BEN]=Y.DWT.OCRLanguageData_ben,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_POR]=Y.DWT.OCRLanguageData_por,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_PAN]=Y.DWT.OCRLanguageData_pan,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_DEU]=Y.DWT.OCRLanguageData_deu,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_JPN]=Y.DWT.OCRLanguageData_jpn,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_FAS]=Y.DWT.OCRLanguageData_fas,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_SWA]=Y.DWT.OCRLanguageData_swa,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_JAV]=Y.DWT.OCRLanguageData_jav,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_TEL]=Y.DWT.OCRLanguageData_tel,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_TUR]=Y.DWT.OCRLanguageData_tur,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_KOR]=Y.DWT.OCRLanguageData_kor,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_MAR]=Y.DWT.OCRLanguageData_mar,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_TAM]=Y.DWT.OCRLanguageData_tam,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_VIE]=Y.DWT.OCRLanguageData_vie,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_ITA]=Y.DWT.OCRLanguageData_ita,Y.DWT.OCRLanguageData[Y.DWT.EnumDWT_OCRLanguage.OCRL_THA]=Y.DWT.OCRLanguageData_tha,function(e){function t(){var i=this;i._text="",i._fontName="",i._fontSize="",i._left=0,i._top=0,i._right=0,i._bottom=0}t.prototype.GetText=function(){return this._text},t.prototype.GetFontName=function(){return this._fontName},t.prototype.GetFontSize=function(){return this._fontSize},t.prototype.GetWordRect=function(){var i=this;return i._left+","+i._top+","+i._right+","+i._bottom},e.NewWordBasicResult=function(){return new t}}(Y.Lib),function(e){function t(){var i=this;i._count=0,i._left=0,i._top=0,i._right=0,i._bottom=0,i._wordlist=[]}t.prototype.GetWordCount=function(){return this._count},t.prototype.GetLineRect=function(){var i=this;return i._left+","+i._top+","+i._right+","+i._bottom},t.prototype.GetWordContent=function(i){var o=this,c=o._wordlist.length;return o._errorCode<0?"":i==null||c<=i||i<0?(Y.Lib.Errors.OCR_InvalidIndex(o,"GetWordContent"),""):((c=Y.Lib.NewWordBasicResult())._text=o._wordlist[i].text,c._fontName=o._wordlist[i].fontname,c._fontSize=o._wordlist[i].fontsize,c._left=o._wordlist[i].rect[0],c._top=o._wordlist[i].rect[1],c._right=o._wordlist[i].rect[2],c._bottom=o._wordlist[i].rect[3],c)},e.NewLineBasicResult=function(){return new t}}(Y.Lib),function(e){function t(){this._count=0,this._linelist=[]}t.prototype.GetLineCount=function(){return this._count},t.prototype.GetLineContent=function(i){var o=this,c=o._linelist.length;return o._errorCode<0?"":i==null||c<=i||i<0?(Y.Lib.Errors.OCR_InvalidIndex(o,"GetLineContent"),""):((c=Y.Lib.NewLineBasicResult())._count=o._linelist[i].words.length,c._left=o._linelist[i].rect[0],c._top=o._linelist[i].rect[1],c._right=o._linelist[i].rect[2],c._bottom=o._linelist[i].rect[3],c._wordlist=o._linelist[i].words,c)},e.NewPageBasicResult=function(){return new t}}(Y.Lib),function(e){function t(){this._count=0,this._pagelist=[]}t.prototype.GetPageCount=function(){return this._count},t.prototype.GetPageContent=function(i){var o=this,c=o._pagelist.length;return o._errorCode<0?"":i==null||c<=i||i<0?(Y.Lib.Errors.OCR_InvalidIndex(o,"GetPageContent"),""):((c=Y.Lib.NewPageBasicResult())._count=o._pagelist[i].lines.length,c._linelist=o._pagelist[i].lines,c)},e.NewPageSetBasicResult=function(){return new t}}(Y.Lib),function(e){function t(i){var o=this;o._errorCode=0,o._errorString="",o._resultlist=[],o._stwain=i}t.prototype.GetErrorCode=function(){return this._errorCode},t.prototype.GetErrorString=function(){return this._errorString},t.prototype.GetFormat=function(){return this._resultlist[0].format},t.prototype.GetInput=function(){var i=this._resultlist[0].input;if(i){var o=Number(i);if(!isNaN(o))return this._stwain._ImgManager.convertServerIdToClientIndex(o)}return i},t.prototype.GetPageSetCount=function(){return this._resultlist[0].pagesets.length},t.prototype.GetPageSetContent=function(i){var o=this,c=o._resultlist[0].pagesets.length;return o._errorCode<0?"":i==null||c<=i||i<0?(Y.Lib.Errors.OCR_InvalidIndex(o,"GetPageSetContent"),""):((c=Y.Lib.NewPageSetBasicResult())._count=o._resultlist[0].pagesets[i].pages.length,c._pagelist=o._resultlist[0].pagesets[i].pages,c)},t.prototype.Get=function(){return this._stwain._innerFun("GetOCRRestult")},t.prototype.Save=function(i){return i=e.html5.Funs.replaceLocalFilename(i),this._stwain._innerFun("SaveOCRRestult",e.html5.Funs.makeParams(i))},e.NewOCRBasicResult=function(i){return new t(i)}}(Y.Lib),function(e){function t(){var i=this;i.UnicodeFontName="",i.UseDetectedFont=!0,i.MinFontSizeforMoreAccurateResult=0,i.OCRLanguage=Y.DWT.EnumDWT_OCRLanguage.OCRL_ENG,i.PageSetMode=Y.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO,i.OutputFormat=Y.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT}t.prototype.GetUnicodeFontName=function(){return this.UnicodeFontName},t.prototype.SetUnicodeFontName=function(i){return e.isString(i)||(i=""),this.UnicodeFontName=i,!0},t.prototype.GetUseDetectedFont=function(){return!!this.UseDetectedFont},t.prototype.SetUseDetectedFont=function(i){return this.UseDetectedFont=!!i,!0},t.prototype.GetMinFontSizeforMoreAccurateResult=function(){return this.MinFontSizeforMoreAccurateResult},t.prototype.SetMinFontSizeforMoreAccurateResult=function(i){return i=+i,this.MinFontSizeforMoreAccurateResult=i=i<0?0:i,!0},t.prototype.GetOCRLanguage=function(){return this.OCRLanguage},t.prototype.SetOCRLanguage=function(i){return e.isString(i)||(i=""),this.OCRLanguage=i,!0},t.prototype.GetPageSetMode=function(){return this.PageSetMode},t.prototype.SetPageSetMode=function(i){return i=+i,(i<0||i>Y.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_CHAR)&&(i=Y.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO),this.PageSetMode=i,!0},t.prototype.GetOutputFormat=function(){return this.OutputFormat},t.prototype.SetOutputFormat=function(i){return i=+i,(i<0||i>Y.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT_PDFX)&&(i=Y.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT),this.OutputFormat=i,!0},e.NewOptions=function(){return new t}}(Y.Lib),Y.AddonReady(function(e,t){var i;e.product.bHTML5Edition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(o){var c,f,g,v=e.html5.Funs,C=e.NewOptions();f=o,g=e.html5.Funs,i=e.env.bMac?"DynamicOCR_"+Y.DWT.OCRVerInName+".dylib":e.env.bLinux?"DynamicOCR_"+Y.DWT.OCRVerInName+".so":Y.dcp.b64bit?"DynamicOCRx64_"+Y.DWT.OCRVerInName+".dll":"DynamicOCR_"+Y.DWT.OCRVerInName+".dll",f._isMobileMode()||f._innerSend("GetAddOnVersion",g.makeParams("ocr",i),!0,!1,!1),f.__innerOCRBasicReadFunction=function(T,E,A,P,O,w,N,M,k,R,L){return e.isFunction(R)?this.__innerOCRBasicAsyncReadFunction(T,E,A,P,O,w,N,M,k,R,L):this.__innerOCRSyncReadFunction(T,k)},f.__innerGetOCRBasicResultAsyncFunction=function(T){var E=Y.Lib.NewOCRBasicResult(this);return T&&(E._errorCode=T.exception,E._errorString=T.description,E._resultlist=T.result),E},f.__innerOCRBasicAsyncReadFunction=function(T,E,A,P,O,w,N,M,k,R,L){var K=this;return g.showMask(T),K._innerSend(T,k,!0,function(de){var ee;de.exception==0?(e.isFunction(R)&&(E!=-1?(ee=K._convertServerIdToGuid(E),P==1?R(ee,O,w,N,M,K.__innerGetOCRBasicResultAsyncFunction(de)):R(ee,K.__innerGetOCRBasicResultAsyncFunction(de))):A!=""?R(A,K.__innerGetOCRBasicResultAsyncFunction(de)):R(K.__innerGetOCRBasicResultAsyncFunction(de))),e.License.isLTS()&&Y.DWT.lcvrf(f)):e.isFunction(L)&&L(de.exception,de.description),g.hideMask(T)},function(de){g.hideMask(T)}),!0},f.__innerOCRSyncReadFunction=function(T,E){return T=this._innerFunRaw(T,E,!1,!1),E=e.NewOCRBasicResult(),E._errorCode=this._errorCode,E._errorString=this._errorString,T&&e.isArray(T)&&(E._resultlist=T,E._Count=T.length,e.License.isLTS())&&Y.DWT.lcvrf(f),E},f.__IsOCRBasicModuleInstalled=function(){return f._innerFun("GetAddOnVersion",g.makeParams("ocr",i)).split("|")[0]!=""},f.__innerBasicDownload=function(T,E,A,P,O){function w(){return M.IfShowProgressBar&&e.closeProgress(null,"Download"),e.isFunction(P)&&P(),!0}function N(){return M.IfShowProgressBar&&e.closeProgress(null,"Download"),e.isFunction(O)&&O(M.ErrorCode,M.ErrorString),!1}var M=f;if(e.cancelFrome=2,T=T.toString(),!e.License.checkProductKey(M,{Core:!0})||!e.License.checkProductKey(M,{OCR:!0},!0))return N();E!=Y.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll&&M._innerFun("SetOCRLanguage",g.makeParams(A));var k=M._innerFun("GetAddOnVersion",g.makeParams("ocr",i)).split("|");if(E==Y.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll){if(k[0]!="")return w(),!0}else if(A=Y.DWT.OCRLanguageData[A],A&&k[1]==A)return w(),!0;if(!T||T=="")return e.Errors.OCR_InvalidRemoteFilename(M),N(),!1;if(g.isServerInvalid(M))return N(),!1;M.IfShowProgressBar&&e.showProgress(M,"Download",!0);var R=!0;E==Y.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll?M._OnPercentDone([0,-1,"Downloading OCR Module...","http"]):M._OnPercentDone([0,-1,"Downloading OCR Language Data...","http"]),e.isFunction(P)||(R=!1),g.loadHttpBlob(M,"get",T,R,function(L){M._OnPercentDone([0,-1,"Loading..."]);var K=100;E==Y.DWT.EnumDWT_OCRDownloadType.OCRDT_LANGUAGE&&(K=101),M.__LoadImageFromBytes(L,K,"",R,w,N)},function(){M.IfShowProgressBar&&e.closeProgress(null,"Download"),N()},function(L){var K=L.total===0?100:Math.round(100*L.loaded/L.total);[L.loaded," / ",L.total].join(""),M._OnPercentDone([0,K,"","http"])})},c={OCR:{SetUnicodeFontName:function(T){var E=o;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.SetUnicodeFontName"):C.SetUnicodeFontName(T)},GetUnicodeFontName:function(){var T=o;return T._resetErr(),T._isMobileMode()?T._mobileNotSupport("Addon.OCR.GetUnicodeFontName"):C.GetUnicodeFontName()},SetIfUseDetectedFont:function(T){var E=o;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.SetIfUseDetectedFont"):C.SetUseDetectedFont(T)},GetIfUseDetectedFont:function(){var T=o;return T._resetErr(),T._isMobileMode()?T._mobileNotSupport("Addon.OCR.GetIfUseDetectedFont"):C.GetUseDetectedFont()},SetMinFontSizeforMoreAccurateResult:function(T){var E=o;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.SetMinFontSizeforMoreAccurateResult"):C.SetMinFontSizeforMoreAccurateResult(T)},GetMinFontSizeforMoreAccurateResult:function(){var T=o;return T._resetErr(),T._isMobileMode()?T._mobileNotSupport("Addon.OCR.GetMinFontSizeforMoreAccurateResult"):C.GetMinFontSizeforMoreAccurateResult()},SetLanguage:function(T){var E=o;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.SetLanguage"):C.SetOCRLanguage(T)},IsModuleInstalled:function(){var T=o;return T._resetErr(),T._isMobileMode()?T._mobileNotSupport("Addon.OCR.IsModuleInstalled"):T.__IsOCRBasicModuleInstalled()},SetPageSetMode:function(T){var E=o;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.SetPageSetMode"):(T=+T)==Y.DWT.EnumDWT_OCRPageSetMode.OCRPSM_OSD_ONLY||T==Y.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO_OSD||T==Y.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO_ONLY||T==Y.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO||T==Y.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_COLUMN||T==Y.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_BLOCK_VERT_TEXT||T==Y.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_BLOCK||T==Y.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_LINE||T==Y.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_WORD||T==Y.DWT.EnumDWT_OCRPageSetMode.PSM_CIRCLE_WORD||T==Y.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_CHAR?C.SetPageSetMode(T):(Y.Lib.Errors.OCR_InvalidPageSetMode(E),!1)},SetOutputFormat:function(T){var E=o;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.SetOutputFormat"):(T=+T)==Y.DWT.EnumDWT_OCROutputFormat.OCROF_TEXT||T==Y.DWT.EnumDWT_OCROutputFormat.OCROF_PDFPLAINTEXT||T==Y.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT||T==Y.DWT.EnumDWT_OCROutputFormat.OCROF_PDFPLAINTEXT_PDFX||T==Y.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT_PDFX?C.SetOutputFormat(T):(Y.Lib.Errors.OCR_InvalidOutputFormat(E),!1)},Recognize:function(T,E,A){var P=o;return P._resetErr(),P._isMobileMode()?P._mobileNotSupport("Addon.OCR.Recognize"):e.License.checkProductKey(P,{OCR:!0},!0)?(T=P._ImgManager.convertClientIndexToServerId(T),P.__innerOCRBasicReadFunction("OCRRecognize",T,"",0,0,0,0,0,v.makeParams(0,T,"",0,0,0,0,C.GetUnicodeFontName(),C.GetUseDetectedFont(),C.GetMinFontSizeforMoreAccurateResult(),C.GetOCRLanguage(),C.GetPageSetMode(),C.GetOutputFormat(),""),E,A)):(e.isFunction(A)&&A(P._errorCode,P._errorString),!1)},RecognizeRect:function(T,E,A,P,O,w,N){var M,k=o;return k._resetErr(),k._isMobileMode()?k._mobileNotSupport("Addon.OCR.RecognizeRect"):!E&&E!=0||!A&&A!=0||!P&&P!=0||!O&&O!=0?(M=Y.Lib.NewOCRBasicResult(k),Y.Lib.Errors.OCR_InvalidLeftOrTopOrRightOrBottom(M,"RecognizeRect"),void N(M.GetErrorCode(),M.GetErrorString())):e.License.checkProductKey(k,{OCR:!0},!0)?(M=k._ImgManager.convertClientIndexToServerId(T),k.__innerOCRBasicReadFunction("OCRRecognize",M,"",1,E,A,P,O,v.makeParams(0,M,"",E,A,P,O,C.GetUnicodeFontName(),C.GetUseDetectedFont(),C.GetMinFontSizeforMoreAccurateResult(),C.GetOCRLanguage(),C.GetPageSetMode(),C.GetOutputFormat(),""),w,N)):(e.isFunction(N)&&N(k._errorCode,k._errorString),!1)},RecognizeFile:function(T,E,A){var P=o;return P._resetErr(),P._isMobileMode()?P._mobileNotSupport("Addon.OCR.RecognizeFile"):(T=v.replaceLocalFilename(T),e.License.checkProductKey(P,{OCR:!0},!0)?P.__innerOCRBasicReadFunction("OCRRecognize",-1,T,0,0,0,0,0,v.makeParams(1,-1,T,0,0,0,0,C.GetUnicodeFontName(),C.GetUseDetectedFont(),C.GetMinFontSizeforMoreAccurateResult(),C.GetOCRLanguage(),C.GetPageSetMode(),C.GetOutputFormat(),""),E,A):(e.isFunction(A)&&A(P._errorCode,P._errorString),!1))},RecognizeSelectedImages:function(T,E){var A,P,O,w=o;return w._resetErr(),w._isMobileMode()?w._mobileNotSupport("Addon.OCR.RecognizeSelectedImages"):e.License.checkProductKey(w,{OCR:!0},!0)?(O=[],(A=w)._ImgManager.count()<=0||(P=A._ImgManager.getCurrentImageIndex(),A._ImgManager.convertClientIndexToServerId(P),P=A._ImgManager.getSelectedClientIndexArray(),e.isArray(P)&&e.each(P,function(N){N=A._ImgManager.convertClientIndexToServerId(N),O.push(N)})),P=O,w.__innerOCRBasicReadFunction("OCRRecognize",-1,"",0,0,0,0,0,v.makeParams(2,-1,"",0,0,0,0,C.GetUnicodeFontName(),C.GetUseDetectedFont(),C.GetMinFontSizeforMoreAccurateResult(),C.GetOCRLanguage(),C.GetPageSetMode(),C.GetOutputFormat(),P.join(",")),T,E)):(e.isFunction(E)&&E(w._errorCode,w._errorString),!1)}}},o.__addon=o.__addon||{},e.mix(o.__addon,c)})});var Y=self.Dynamsoft||{};Y.DWT=Y.DWT||{};Y.aryAddonReadyFun=Y.aryAddonReadyFun||[];Y.AddonReady=Y.AddonReady||function(e){Y.aryAddonReadyFun.push(e)};Y.ProOCRVerInName="1.2.0.0806";(function(e){function t(){var i=this;i._text="",i._left=0,i._top=0,i._right=0,i._bottom=0}t.prototype.GetText=function(){var i=this;return i._text},t.prototype.GetLetterRect=function(){var i=this;return i._left+","+i._top+","+i._right+","+i._bottom},e.NewLetterResult=function(){return new t}})(Y.Lib);(function(e){function t(){var i=this;i._count=0,i._letterlist=[],i._zoneCount=0,i._zoneWords=[]}t.prototype.GetLettersCount=function(){var i=this;return i._count},t.prototype.GetZoneCount=function(){var i=this;return i._zoneCount},t.prototype.GetLetterContent=function(i){var o=this,c=o._count;if(o._errorCode<0)return"";if(i==null||i>=c||i<0)return Y.Lib.Errors.OCR_InvalidIndex(o,"GetLetterContent"),"";var f=Y.Lib.NewLetterResult();return f._text=o._letterlist[i].letter,f._left=o._letterlist[i].boundary[0],f._top=o._letterlist[i].boundary[1],f._right=o._letterlist[i].boundary[2],f._bottom=o._letterlist[i].boundary[3],f},t.prototype.GetZoneContent=function(i){var o=this,c=o._zoneCount;return o._errorCode<0?"":i==null||i>=c||i<0?(Y.Lib.Errors.OCR_InvalidIndex(o,"GetZoneContent"),""):o._zoneWords[i]},e.NewPageResult=function(){return new t}})(Y.Lib);(function(e){function t(){var i=this;i._input=0,i._message="",i._page=-1}t.prototype.GetInput=function(){var i=this;return i._input},t.prototype.GetMessage=function(){var i=this;return i._message},t.prototype.GetPage=function(){var i=this;return i._page},e.NewErrorInfo=function(){return new t}})(Y.Lib);(function(e){function t(i){var o=this;o._errorCode=0,o._errorString="",o._errorlist=[],o._request="",o._ocrTotalCount=0,o._alreadyOCRCount=0,o._resultlist=[],o._resultZoneDetail=[],o._stwain=i}t.prototype.GetErrorCode=function(){var i=this;return i._errorCode},t.prototype.GetErrorString=function(){var i=this;return i._errorString},t.prototype.GetInput=function(){var i=this;if(i._request&&i._request.input){var o=i._request.input;if(o){var c=Number(o);if(!isNaN(c))return i._stwain._ImgManager.convertServerIdToClientIndex(c)}return o}else return""},t.prototype.GetErrorDetailList=function(){var i=this,o=0;i._errorlist&&(o=i._errorlist.length);for(var c=[],f=0;f<o;f++){var g=Y.Lib.NewErrorInfo();g._input=i._errorlist[f].input,g._message=i._errorlist[f].message,g._page=i._errorlist[f].page,c.push(g)}return c},t.prototype.GetOCRTotalCount=function(){var i=this;return i._ocrTotalCount?i._ocrTotalCount:0},t.prototype.GetAlreadyOCRCount=function(){var i=this;return i._alreadyOCRCount?i._alreadyOCRCount:0},t.prototype.GetPageCount=function(){var i=this;return i._resultlist&&i._resultlist.length?i._resultlist.length:0},t.prototype.GetPageContent=function(i){var o=this,c=0;if(o._resultlist&&(c=o._resultlist.length),i==null||i>=c||i<0)return Y.Lib.Errors.OCR_InvalidIndex(o,"GetPageContent"),"";var f=Y.Lib.NewPageResult();return o._resultlist?(f._count=o._resultlist[i].length,f._letterlist=o._resultlist[i]):f._count=0,o._resultZoneDetail?(f._zoneCount=o._resultZoneDetail[i].length,f._zoneWords=o._resultZoneDetail[i]):f._zoneCount=0,f},t.prototype.Get=function(){var i=this;return i._stwain._innerFun("GetOCRRestult")},t.prototype.Save=function(i){var o=this,c=e.html5.Funs.replaceLocalFilename(i);return o._stwain._innerFun("SaveOCRRestult",e.html5.Funs.makeParams(c))},e.NewOCRProResult=function(i){return new t(i)}})(Y.Lib);(function(e){for(var t=[Y.DWT],i=0;i<1;i++){var o=t[i];o.EnumDWT_OCRProRecognitionModule={OCRPM_AUTO:"AUTO",OCRPM_MOSTACCURATE:"MOSTACCURATE",OCRPM_BALANCED:"BALANCED",OCRPM_FASTEST:"FASTEST"},o.EnumDWT_OCRProOutputFormat={OCRPFT_TXTS:"TXTS",OCRPFT_TXTCSV:"TXTCSV",OCRPFT_TXTF:"TXTF",OCRPFT_XML:"XML",OCRPFT_IOTPDF:"IOTPDF",OCRPFT_IOTPDF_MRC:"IOTPDF_MRC"},o.EnumDWT_OCRProPDFVersion={OCRPPDFV_0:"1.0",OCRPPDFV_1:"1.1",OCRPPDFV_2:"1.2",OCRPPDFV_3:"1.3",OCRPPDFV_4:"1.4",OCRPPDFV_5:"1.5",OCRPPDFV_6:"1.6",OCRPPDFV_7:"1.7"},o.EnumDWT_OCRProPDFAVersion={OCRPPDFAV_1A:"pdf/a-1a",OCRPPDFAV_1B:"pdf/a-1b",OCRPPDFAV_2A:"pdf/a-2a",OCRPPDFAV_2B:"pdf/a-2b",OCRPPDFAV_2U:"pdf/a-2u",OCRPPDFAV_3A:"pdf/a-3a",OCRPPDFAV_3B:"pdf/a-3b",OCRPPDFAV_3U:"pdf/a-3u"},o.EnumDWT_OCRProType={OCRDT_File:0,OCRDT_Index:1},o.EnumDWT_OCRFindTextFlags={OCRFT_WHOLEWORD:1,OCRFT_MATCHCASE:2,OCRFT_FUZZYMATCH:4},o.EnumDWT_OCRFindTextAction={OCRFT_HIGHLIGHT:0,OCRFT_STRIKEOUT:1,OCRFT_MARKFORREDACT:2}}})();(function(e){function t(){var i=this;i.FindText="",i.FindTextFlags=Y.DWT.EnumDWT_OCRFindTextFlags.OCRFT_WHOLEWORD,i.FindTextAction=Y.DWT.EnumDWT_OCRFindTextAction.OCRFT_MARKFORREDACT}e.NewRedaction=function(){return new t}})(Y.Lib);Y.WebTwain={Addon:{OCRPro:{}}};(function(e){function t(){var i=this;i.RecognitionModule="",i.Languages="eng",i.OutputFormat="",i.PDFVersion="",i.PDFAVersion="",i.LicenseChecker="",i.Redaction=Y.Lib.NewRedaction()}e.NewSettings=function(){return new t}})(Y.WebTwain.Addon.OCRPro);(function(){function e(t,i,o,c){var f=this;f.left=t,f.top=i,f.right=o,f.bottom=c}Y.WebTwain.Addon.OCRPro.NewOCRZone=function(t,i,o,c){return new e(t,i,o,c)}})();Y.AddonReady(function(e,t){if(!e.product.bHTML5Edition)return;function i(ee){var Q=e.html5.Funs;ee.__innerGetOCRProResultAsyncFunction=function(ce){var he=Y.Lib.NewOCRProResult(this);return ce&&(he._errorCode=ce.code,he._errorString=ce.message,he._request=ce.request,he._errorlist=ce.errorList,he._ocrTotalCount=ce.ocrTotalCount,he._alreadyOCRCount=ce.alreadyOCRCount,he._resultlist=ce.resultDetail,he._resultZoneDetail=ce.resultZoneDetail),he},ee.__innerIsOCRTrial=function(ce,he){var le=this,fe=function(){var ye=!1;if(le.__licenseInfo.Detail)for(var xe=0;xe<le.__licenseInfo.Detail.length;xe++)le.__licenseInfo.Detail[xe].EnumLicenseType=="10"&&le.__licenseInfo.Detail[xe].Trial=="TRUE"&&(ye=!0);return ce(ye)};return le.__licenseInfo&&le.__licenseInfo.Detail?fe():le.GetLicenseInfo(fe,he)},ee.__innerOCRReadFunction=function(ce,he,le,fe,ye,xe,De,Ne){var je=this;return je.__innerOCRAsyncReadFunction(ce,he,le,fe,ye,xe,De,Ne)},ee.__innerOCRAsyncReadFunction=function(ce,he,le,fe,ye,xe,De,Ne){var je=this,Ze=function(Me){Me.code==0?(e.isFunction(De)&&(he!=-1?fe==1?De(he,ye,je.__innerGetOCRProResultAsyncFunction(Me)):De(he,je.__innerGetOCRProResultAsyncFunction(Me)):le!=""?De(le,je.__innerGetOCRProResultAsyncFunction(Me)):De(je.__innerGetOCRProResultAsyncFunction(Me))),e.License.isLTS()&&Y.DWT.lcvrf(ee)):e.isFunction(Ne)&&Ne(Me.code,Me.message,je.__innerGetOCRProResultAsyncFunction(Me)),Q.hideMask(ce)},Re=function(Me){Q.hideMask(ce)};return Q.showMask(ce),je._innerSend(ce,xe,!0,Ze,Re),!0},ee.__innerGetRequestJson=function(ce,he,le,fe,ye){var xe,De="[{";for(De+='"id":"'+ee.clientId+'",',De+='"method":"OCRProRecognize",',De+='"dllName":"'+ye+'",',De+='"productkey":"'+Y.DWT.ProductKey+'",',ce==Y.DWT.EnumDWT_OCRProType.OCRDT_File?De+='"inputType":"file",':De+='"inputType":"index",',De+='"input":[',xe=0;xe<he.length;xe++)ce==Y.DWT.EnumDWT_OCRProType.OCRDT_File?De+='"'+he[xe]+'"':De+=he[xe],xe+1<he.length&&(De+="|");if(De+="],",De+='"settings":{',De+='"recognitionMethod": "Page"',le&&(le.RecognitionModule&&le.RecognitionModule.length>0&&(De+=',"recognitionModule":"'+le.RecognitionModule+'"'),le.Languages&&le.Languages.length>0&&(De+=',"languages":"'+le.Languages+'"'),le.OutputFormat&&le.OutputFormat.length>0&&(De+=',"outputFormat":"'+le.OutputFormat+'"'),le.PDFVersion&&le.PDFVersion.length>0&&(De+=',"pdfVersion":"'+le.PDFVersion+'"'),le.PDFAVersion&&le.PDFAVersion.length>0&&(De+=',"pdfAVersion":"'+le.PDFAVersion+'"'),le.Redaction&&le.Redaction.FindText&&le.Redaction.FindText.length>0)){var Ne=parseInt(le.Redaction.FindTextFlags),je=parseInt(le.Redaction.FindTextAction);if(!isNaN(Ne)&&!isNaN(je)){De+=',"redaction":{';var Ze=le.Redaction.FindText;Ze=Ze.replace(/"/g,'\\"'),De+='"findText":"'+Ze+'"',De+=',"findTextFlags":'+Ne,De+=',"findTextAction":'+je,De+="}"}}for(De+="},",De+='"zones":[',xe=0;xe<fe.length;xe++)De+="["+fe[xe].left+","+fe[xe].top+","+fe[xe].right+","+fe[xe].bottom+"]",xe+1<fe.length&&(De+=",");return De+="],",De+='"outputFile":""',De+="}]",De},ee.__LoadImageFromBytesForDownloadInner=function(ce,he,le,fe,ye,xe,De,Ne,je){var Ze=ee,Re,Me,Ae;ce>=fe?(Re=xe*fe,Ae=he.slice(Re,ye)):(Re=ce*xe,Me=(ce+1)*xe,Ae=he.slice(Re,Me));var Je=function(){Y.Lib.isFunction(je)&&je()},He=function(){if(ce>=fe){Y.Lib.isFunction(Ne)&&Ne();return}ce=ce+1,Ze.__LoadImageFromBytesForDownloadInner(ce,he,le,fe,ye,xe,De,Ne,je)};Ze.__LoadImageFromBytes(Ae,le,"",De,He,Je,Re,ye)},ee.__LoadImageFromBytesForDownload=function(ce,he,le,fe,ye,xe){var De=ee,Ne=2*1e3*1e3,je=ce.size||ce.length,Ze=parseInt(je/Ne),Re=je%Ne;Re==0&&(Ze=Ze-1),De.__LoadImageFromBytesForDownloadInner(0,ce,he,Ze,je,Ne,fe,ye,xe)}}var o=function(ee){var Q=[],ce,he;return ee._ImgManager.count()<=0||(ce=ee._ImgManager.getCurrentImageIndex(),ee._ImgManager.convertClientIndexToServerId(ce),he=ee._ImgManager.getSelectedClientIndexArray(),e.isArray(he)&&e.each(he,function(le){var fe=ee._ImgManager.convertClientIndexToServerId(le);Q.push(fe)})),Q},c=function(ee,Q,ce,he){var le=e.NewOCRProResult(ee);le._errorCode=Q,le._errorString=ce;var fe=e.NewErrorInfo();return fe.input=he,fe.message=le._errorString,fe.page=0,le._errorlist=[fe],le},f=function(ee){var Q=e.html5.Funs,ce,he;e.env.bMac?he="DynamicOCRPro_"+Y.ProOCRVerInName+".dylib":e.env.bLinux?he="DynamicOCRPro_"+Y.ProOCRVerInName+".so":Y.dcp.b64bit?he="DynamicOCRProx64_"+Y.ProOCRVerInName+".dll":he="DynamicOCRPro_"+Y.ProOCRVerInName+".dll",i(ee),ce={OCRPro:{Settings:!1,Recognize:function(le,fe,ye){var xe=[],De,Ne,je=ee;if(je._resetErr(),je._isMobileMode())return je._mobileNotSupport("Addon.OCRPro.Recognize");if(De=parseInt(le),e.isNaN(De)||!e.isNumber(De))return Ne=c(ee,-2201,"Invalid parameter type.",le),e.isFunction(ye)?ye(Ne._errorCode,Ne._errorString,Ne):e.Errors.WebviewerError(ee,Ne._errorString,Ne._errorCode),!1;var Ze=ee._ImgManager.convertClientIndexToServerId(De);if(Ze==-1)return e.isFunction(ye)&&(e.Errors.IndexOutOfRange(ee),Ne=c(ee,ee._errorCode,ee._errorString,le),ye(Ne._errorCode,Ne._errorString,Ne)),!1;if(!e.License.checkProductKey(ee,{OCRPro:!0},!0))return e.isFunction(ye)&&(Ne=c(ee,ee._errorCode,ee._errorString,le),ye(Ne._errorCode,Ne._errorString,Ne)),!1;xe.push(Ze);var Re=[],Me=this.Settings,Ae=ee.__innerGetRequestJson(Y.DWT.EnumDWT_OCRProType.OCRDT_Index,xe,Me,Re,he);return ee.__innerIsOCRTrial(function(Je){return Je||e.License.isLTS()?ee.__innerOCRReadFunction("OCRProRecognize",le,"",0,Re,Ae,fe,ye):C(Me.LicenseChecker,ee,"OCRProRecognize",le,"",0,Re,Ae,fe,ye)},ye)},RecognizeRect:function(le,fe,ye,xe){var De=[],Ne,je,Ze=ee;if(Ze._resetErr(),Ze._isMobileMode())return Ze._mobileNotSupport("Addon.OCRPro.RecognizeRect");if(Ne=parseInt(le),e.isNaN(Ne)||!e.isNumber(Ne))return je=c(ee,-2201,"Invalid parameter type.",le),e.isFunction(xe)?xe(je._errorCode,je._errorString,je):e.Errors.WebviewerError(ee,je._errorString,je._errorCode),!1;var Re=ee._ImgManager.convertClientIndexToServerId(Ne),Me=ee._ImgManager.GetImageWidth(Ne),Ae=ee.GetImageHeight(Ne);if(Re==-1)return e.isFunction(xe)&&(e.Errors.IndexOutOfRange(ee),je=c(ee,ee._errorCode,ee._errorString,le),xe(je._errorCode,je._errorString,je)),!1;if(!e.License.checkProductKey(ee,{OCRPro:!0},!0))return e.isFunction(xe)&&(je=c(ee,ee._errorCode,ee._errorString,le),xe(je._errorCode,je._errorString,je)),!1;if(Me>0&&Ae>0)for(var Je,He,Ge,nt,pe,oe,me=0;me<fe.length;me++)Je=fe[me],He=Je.left,Ge=Je.top,nt=Je.right,pe=Je.bottom,He<0&&(He=0),Ge<0&&(Ge=0),nt<0&&(nt=0),pe<0&&(pe=0),He>nt&&(oe=He,He=nt,nt=oe),Ge>pe&&(oe=Ge,Ge=pe,pe=oe),nt>Me&&(nt=Me),pe>Ae&&(pe=Ae),Je.left=He,Je.top=Ge,Je.right=nt,Je.bottom=pe;De.push(Re);var Se=this.Settings,et=ee.__innerGetRequestJson(Y.DWT.EnumDWT_OCRProType.OCRDT_Index,De,Se,fe,he);return ee.__innerIsOCRTrial(function(Ke){return Ke||e.License.isLTS()?ee.__innerOCRReadFunction("OCRProRecognize",le,"",1,fe,et,ye,xe):C(Se.LicenseChecker,ee,"OCRProRecognize",le,"",1,fe,et,ye,xe)},xe)},RecognizeFile:function(le,fe,ye){var xe=ee;if(xe._resetErr(),xe._isMobileMode())return xe._mobileNotSupport("Addon.OCRPro.RecognizeFile");var De,Ne,je;if(le.length==0)return e.isFunction(ye)&&(De=Y.Lib.NewOCRProResult(ee),De._errorCode=-2201,De._errorString="File name cannot be empty.",je=[],Ne=Y.Lib.NewErrorInfo(),Ne.input=le,Ne.message=De._errorString,Ne.page=0,je.push(Ne),De._errorlist=je,ye(De._errorCode,De._errorString,De)),!1;if(!e.License.checkProductKey(ee,{OCRPro:!0},!0))return e.isFunction(ye)&&(De=Y.Lib.NewOCRProResult(ee),De._errorCode=ee._errorCode,De._errorString=ee._errorString,je=[],Ne=Y.Lib.NewErrorInfo(),Ne.input=le,Ne.message=De._errorString,Ne.page=0,je.push(Ne),De._errorlist=je,ye(De._errorCode,De._errorString,De)),!1;var Ze=Q.replaceLocalFilename(le),Re=[];Ze.indexOf("|")>0?Re=Ze.split("|"):Ze.indexOf(";")>0?Re=Ze.split(";"):Ze.indexOf(",")>0&&(Re=Ze.split(","));var Me=[];if(Re.length>0)for(var Ae=0;Ae<Re.length;Ae++)Me.push(Re[Ae]);else Me.push(Ze);var Je=[],He=this.Settings,Ge=ee.__innerGetRequestJson(Y.DWT.EnumDWT_OCRProType.OCRDT_File,Me,He,Je,he);ee.__innerIsOCRTrial(function(nt){return nt||e.License.isLTS()?ee.__innerOCRReadFunction("OCRProRecognize",-1,le,0,Je,Ge,fe,ye):C(He.LicenseChecker,ee,"OCRProRecognize",-1,le,0,Je,Ge,fe,ye)},ye)},RecognizeSelectedImages:function(le,fe){var ye,xe,De,Ne=ee;if(Ne._resetErr(),Ne._isMobileMode())return Ne._mobileNotSupport("Addon.OCRPro.RecognizeSelectedImages");if(!e.License.checkProductKey(ee,{OCRPro:!0},!0)){if(e.isFunction(fe)){var je=Y.Lib.NewOCRProResult(ee);je._errorCode=ee._errorCode,je._errorString=ee._errorString,xe=[],De=Y.Lib.NewErrorInfo(),De.input="",De.message=je._errorString,De.page=0,xe.push(De),je._errorlist=xe,fe(je._errorCode,je._errorString,je)}return!1}var Ze=[],Re=this.Settings,Me=o(ee),Ae=ee.__innerGetRequestJson(Y.DWT.EnumDWT_OCRProType.OCRDT_Index,Me,Re,Ze,he);return ee.__innerIsOCRTrial(function(Je){Je||e.License.isLTS()?ye=ee.__innerOCRReadFunction("OCRProRecognize",-1,"",0,Ze,Ae,le,fe):ye=C(Re.LicenseChecker,ee,"OCRProRecognize",-1,"",0,Ze,Ae,le,fe)},fe),ye},IsModuleInstalled:function(){var le=ee;if(le._resetErr(),le._isMobileMode())return le._mobileNotSupport("Addon.OCRPro.IsModuleInstalled");var fe=le._innerFun("GetAddOnVersion",Q.makeParams("proocr",he));return fe!=""}}},ee.__addon=ee.__addon||{},e.mix(ee.__addon,ce)};e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(f);function g(ee,Q,ce,he,le,fe,ye,xe,De,Ne){var je=this;je.STWAIN=Q,je.AjaxFunctionUrl=ee,je.FunctionName=ce,je.ImageIndex=he,je.FileNames=le,je.Type=fe,je.AryZone=ye,je.JsonString=xe,je.OnSuccess=De,je.OnFailure=Ne}Y.WebTwain.Addon.OCRPro.NewOCRReadPara=function(ee,Q,ce,he,le,fe,ye,xe,De,Ne){return new g(ee,Q,ce,he,le,fe,ye,xe,De,Ne)};function v(ee,Q){var ce="",he=ee.responseText;if(he.length==0){var le=Y.WebTwain.Addon.OCRPro.NewOCRError();Y.Lib.Errors.OCR_LicenseCheckerError(le,Q.AjaxFunctionUrl),he=le.responseText}ce=de(he);var fe=ce.split(";");if(fe.length==1)Q.OnFailure(-1,he,Y.Lib.NewOCRProResult());else if(fe[0]=="true"){var ye=function(xe,De,Ne){Y.Lib.isUndefined(Ne)?Y.Lib.isUndefined(De)?(Q.OnSuccess(xe),T(Q.AjaxFunctionUrl,xe.GetPageCount())):(Q.OnSuccess(xe,De),T(Q.AjaxFunctionUrl,De.GetPageCount())):(Q.OnSuccess(xe,De,Ne),T(Q.AjaxFunctionUrl,Ne.GetPageCount()))};Q.STWAIN.__innerOCRReadFunction(Q.FunctionName,Q.ImageIndex,Q.FileNames,Q.Type,Q.AryZone,Q.JsonString,ye,Q.OnFailure)}else Q.OnFailure(fe[1],fe[2],Y.Lib.NewOCRProResult())}function C(ee,Q,ce,he,le,fe,ye,xe,De,Ne){var je=ee,Ze="DTW_AjaxMethod=CheckLicense&Productkey="+K(Y.DWT.ProductKey),Re=Y.WebTwain.Addon.OCRPro.NewOCRReadPara(ee,Q,ce,he,le,fe,ye,xe,De,Ne);return O(je,Ze,v,Re)}function T(ee,Q){var ce=ee,he="DTW_AjaxMethod=WriteOCRCount&OCRCount="+K(Q+"");O(ce,he,E,null)}function E(ee,Q){}function A(){var ee=this;ee.responseText="",ee.errorString=""}Y.WebTwain.Addon.OCRPro.NewOCRError=function(){return new A},Y.Lib.mix(Y.Lib.Errors,{OCR_LicenseCheckerEmpty:function(ee){var Q=-2601,ce="LicenseChecker cannot be empty.";ee.errorString=ce,ee.responseText=K("false;"+Q+";"+ce+";")},OCR_LicenseCheckerNotConnect:function(ee){var Q=-2602,ce="Cannot connect to the LicenseChecker, please check and make sure it's set correctly.";ee.errorString=ce,ee.responseText=K("false;"+Q+";"+ce+";")},OCR_AccessDenied:function(ee){var Q=-2603,ce="Access denied.";ee.errorString=ce,ee.responseText=K("false;"+Q+";"+ce+";")},OCR_LicenseCheckerError:function(ee,Q){var ce=-2604,he="Error occured in '"+Q+"'.";ee.errorString=he,ee.responseText=K("false;"+ce+";"+he+";")},OCR_HTTPError:function(ee,Q){var ce=-2605,he="HTTP Error "+Q+".";ee.errorString=he,ee.responseText=K("false;"+ce+";"+he+";")},OCR_LicenseCheckerUnauthorized:function(ee,Q){var ce=-2606,he="You do not have permission to view this directory or page using the credentials you supplied (access denied due to Access Control Lists). Ask the Web server's administrator to give you access to '"+Q+"'.";ee.errorString=he,ee.responseText=K("false;"+ce+";"+he+";")},__last:!1});function P(){var ee=null,Q=window;try{ee=new Q.ActiveXObject("Msxml2.XMLHTTP")}catch{try{ee=new Q.ActiveXObject("Microsoft.XMLHTTP")}catch{ee=new XMLHttpRequest}}return ee}function O(ee,Q,ce,he){var le=Y.WebTwain.Addon.OCRPro.NewOCRError();if(ee=="")return Y.Lib.Errors.OCR_LicenseCheckerEmpty(le),alert(le.errorString),ce(le,he),!1;var fe=P();return fe.open("POST",ee,!0),fe.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),fe.onreadystatechange=function(){if(fe.readyState==4)if(fe.status==200)ce!=null&&typeof ce=="function"&&ce(fe,he);else return fe.status==401?(Y.Lib.Errors.OCR_LicenseCheckerUnauthorized(le,he.AjaxFunctionUrl),ce(le,he),!1):fe.status==404?(Y.Lib.Errors.OCR_LicenseCheckerNotConnect(le),alert(le.errorString),ce(le,he),!1):fe.status==403?(Y.Lib.Errors.OCR_AccessDenied(le),ce(le,he),!1):(Y.Lib.Errors.OCR_HTTPError(le,fe.status),ce(le,he),!1)},fe&&Q&&fe.send(Q),!0}var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function M(ee){var Q,ce,he,le,fe,ye;for(he=ee.length,ce=0,Q="";ce<he;){if(le=ee.charCodeAt(ce++)&255,ce==he){Q+=w.charAt(le>>2),Q+=w.charAt((le&3)<<4),Q+="==";break}if(fe=ee.charCodeAt(ce++),ce==he){Q+=w.charAt(le>>2),Q+=w.charAt((le&3)<<4|(fe&240)>>4),Q+=w.charAt((fe&15)<<2),Q+="=";break}ye=ee.charCodeAt(ce++),Q+=w.charAt(le>>2),Q+=w.charAt((le&3)<<4|(fe&240)>>4),Q+=w.charAt((fe&15)<<2|(ye&192)>>6),Q+=w.charAt(ye&63)}return Q}function k(ee){var Q,ce,he,le,fe,ye,xe;for(ye=ee.length,fe=0,xe="";fe<ye;){do Q=N[ee.charCodeAt(fe++)&255];while(fe<ye&&Q==-1);if(Q==-1)break;do ce=N[ee.charCodeAt(fe++)&255];while(fe<ye&&ce==-1);if(ce==-1)break;xe+=String.fromCharCode(Q<<2|(ce&48)>>4);do{if(he=ee.charCodeAt(fe++)&255,he==61)return xe;he=N[he]}while(fe<ye&&he==-1);if(he==-1)break;xe+=String.fromCharCode((ce&15)<<4|(he&60)>>2);do{if(le=ee.charCodeAt(fe++)&255,le==61)return xe;le=N[le]}while(fe<ye&&le==-1);if(le==-1)break;xe+=String.fromCharCode((he&3)<<6|le)}return xe}function R(ee){var Q,ce,he,le;for(Q="",he=ee.length,ce=0;ce<he;ce++)le=ee.charCodeAt(ce),le>=1&&le<=127?Q+=ee.charAt(ce):le>2047?(Q+=String.fromCharCode(224|le>>12&15),Q+=String.fromCharCode(128|le>>6&63),Q+=String.fromCharCode(128|le>>0&63)):(Q+=String.fromCharCode(192|le>>6&31),Q+=String.fromCharCode(128|le>>0&63));return Q}function L(ee){var Q,ce,he,le,fe,ye;for(Q="",he=ee.length,ce=0;ce<he;)switch(le=ee.charCodeAt(ce++),le>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:Q+=ee.charAt(ce-1);break;case 12:case 13:fe=ee.charCodeAt(ce++),Q+=String.fromCharCode((le&31)<<6|fe&63);break;case 14:fe=ee.charCodeAt(ce++),ye=ee.charCodeAt(ce++),Q+=String.fromCharCode((le&15)<<12|(fe&63)<<6|(ye&63)<<0);break}return Q}function K(ee){return M(R(ee))}function de(ee){return L(k(ee))}});/*! 20241010103231
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: Webcam
* Version: 18.5.1
* 
*/var Y=self.Dynamsoft||{};Y.DWT=Y.DWT||{},Y.aryAddonReadyFun=Y.aryAddonReadyFun||[],Y.AddonReady=Y.AddonReady||function(e){Y.aryAddonReadyFun.push(e)},Y.WebcamVerForActiveX="15.0.0.0625",Y.WebcamVerInName="15.0.0.0625",function(){for(var e=[Y.DWT],t=0;t<1;t++){var i=e[t];i.EnumDWT_VideoRotateMode={VRM_NONE:0,VRM_90_DEGREES_CLOCKWISE:1,VRM_180_DEGREES_CLOCKWISE:2,VRM_270_DEGREES_CLOCKWISE:3,VRM_FLIP_VERTICAL:4,VRM_FLIP_HORIZONTAL:5},i.EnumDWT_VideoProperty={VP_BRIGHTNESS:0,VP_CONTRAST:1,VP_HUE:2,VP_SATURATION:3,VP_SHARPNESS:4,VP_GAMMA:5,VP_COLORENABLE:6,VP_WHITEBALANCE:7,VP_BACKLIGHTCOMPENSATION:8,VP_GAIN:9},i.EnumDWT_CameraControlProperty={CCP_PAN:0,CCP_TILT:1,CCP_ROLL:2,CCP_ZOOM:3,CCP_EXPOSURE:4,CCP_IRIS:5,CCP_FOCUS:6}}}(),function(){Y.Lib.WebcamErrors={InvalidParameter:function(e){e._errorCode=-10001,e._errorString="The parameter is invalid."},VideoNotPlayingWhenCapture:function(e){e._errorCode=-10002,e._errorString="To capture an image, the video must be playing."},VideoNotPlayingWhenGetURL:function(e){e._errorCode=-10003,e._errorString="To get the url for the current frame, the video must be playing."},Success:function(e){e._errorCode=0,e._errorString="Successful."}}}(),function(e){function t(i){var o=this;o._Count=0,o._resultlist=[],o._stwain=i}t.prototype.GetCount=function(){return e.WebcamErrors.Success(this._stwain),this._Count-1},t.prototype.Get=function(i){var o=this;return o._resultlist.length-1<=i||i<0?(Y.Lib.Errors.Webcam_InvalidIndex(o._stwain,"Get"),""):(e.WebcamErrors.Success(o._stwain),o._resultlist[i])},t.prototype.GetCurrent=function(){var i=this,o=i._resultlist.length;return o==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,"GetCurrent"),""):(e.WebcamErrors.Success(i._stwain),i._resultlist[o-1])},e.NewWebcamValue=function(i){return new t(i)}}(Y.Lib),function(e){function t(i){var o=this;o._Count=0,o._resultlist=[],o._stwain=i}t.prototype.GetValue=function(){var i=this;return i._resultlist.length==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),""):(e.WebcamErrors.Success(i._stwain),i._resultlist[0].current)},t.prototype.GetIfAuto=function(){var i=this;return i._resultlist.length==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),!1):(e.WebcamErrors.Success(i._stwain),i._resultlist[0].auto=="true")},e.NewWebcamSetting=function(i){return new t(i)}}(Y.Lib),function(e){function t(i){var o=this;o._Count=0,o._resultlist=[],o._stwain=i}t.prototype.GetMinValue=function(){var i=this;return i._resultlist.length==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),""):i._resultlist[0].min},t.prototype.GetMaxValue=function(){var i=this;return i._resultlist.length==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),""):i._resultlist[0].max},t.prototype.GetSteppingDelta=function(){var i=this;return i._resultlist.length==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),0):i._resultlist[0].step},t.prototype.GetDefaultValue=function(){var i=this;return i._resultlist.length==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),0):i._resultlist[0].defaultValue},t.prototype.GetIfAuto=function(){var i=this;return i._resultlist.length==0?(Y.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),!1):i._resultlist[0].auto=="true"},e.NewWebcamMoreSetting=function(i){return new t(i)}}(Y.Lib),Y.AddonReady(function(e,t){e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(i){i._innerSetWebcamValue=function(o){var c=e.NewWebcamValue(i);return o&&e.isArray(o)&&(c._resultlist=o,c._Count=o.length),c},i._innerSetWebcamSetting=function(o){var c=e.NewWebcamSetting(i);return o&&e.isArray(o)&&(c._resultlist=o,c._Count=o.length),c},i._innerSetWebcamMoreSetting=function(o){var c=e.NewWebcamMoreSetting(i);return o&&e.isArray(o)&&(c._resultlist=o,c._Count=o.length),c}}),e.Addon_Events.push("OnFrameCaptured"),e.Addon_Events.push("OnCaptureSuccess"),e.Addon_Events.push("OnCaptureError")}),Y.AddonReady(function(e,t){e.product.bHTML5Edition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(i){var o,c=e.html5.Funs,f=e.env.bMac?"DynamicWebcam_"+Y.WebcamVerInName+".dylib":e.env.bLinux?"DynamicWebcam_"+Y.WebcamVerInName+".so":i._b64bit?"DynamicWebcamx64_"+Y.WebcamVerInName+".dll":"DynamicWebcam_"+Y.WebcamVerInName+".dll";try{i._innerSend("GetAddOnVersion",c.makeParams("webcam",f),!0,!1,!1)}catch{}(o=i)._innerWebcamValueFunction=function(g,v){return g=this._innerFunRaw(g,v,!1,!1),this._innerSetWebcamValue(g)},o._innerWebcamSettingFunction=function(g,v){return g=this._innerFunRaw(g,v,!1,!1),this._innerSetWebcamSetting(g)},o._innerWebcamMoreSettingFunction=function(g,v){return g=this._innerFunRaw(g,v,!1,!1),this._innerSetWebcamMoreSetting(g)},o._OnCaptureSuccess=function(g){Y.Lib.isFunction(this.__OnCaptureSuccess)&&this.__OnCaptureSuccess()},o._OnCaptureError=function(C){var v=C[1],C=C[2];Y.Lib.isFunction(this.__OnCaptureError)&&this.__OnCaptureError(v,C)},o._OnFrameCaptured=function(g){var v,C=this,T=Y.Lib;C.__videoPause||(v=(v=C.__videoQuality)||60,C.__videoDest&&C.__videoDest.UpdateVideoContainer(C.GetImageURL(-1,-1,-1,0,v))),T.isFunction(C.__OnFrameCaptured)&&C.__OnFrameCaptured(g)},o={Webcam:{IsModuleInstalled:function(){var g=i;return g._resetErr(),g._innerFun("GetAddOnVersion",c.makeParams("webcam",f))!=""},GetSourceList:function(){var g,v=i;return v._resetErr(),e.License.checkProductKey(v,{Webcam:!0},!0)?(g=v._innerFunRaw("GetWebcamSourceList"),v.ErrorCode==0&&g&&1<g.length&&g.splice(g.length-1,1),g):[]},SelectSource:function(g){var v=i;return v._resetErr(),!!e.License.checkProductKey(v,{Webcam:!0},!0)&&v._innerFun("SelectWebcam",c.makeParams(g))},CloseSource:function(){var g=i;return g._resetErr(),this._clear(),g._innerFun("StopCapture")},GetFramePartURL:function(){var g=i;return g._resetErr(),this._isPlaying()?g.GetImageURL(-1,-1,-1,!0,g.__videoQuality):(e.WebcamErrors.VideoNotPlayingWhenGetURL(g),"")},GetFrameURL:function(){var g=i;return g._resetErr(),this._isPlaying()?g.GetImageURL(-1,-1,-1,0,g.__videoQuality):(e.WebcamErrors.VideoNotPlayingWhenGetURL(g),"")},PlayVideo:function(g,v,C,T,E){function A(){return w._clear(),Y.Lib.isFunction(E)&&E(i._errorCode,i._errorString),!1}var P=i,O=(P._resetErr(),60),w=this;return Y.DWT.UseDefaultViewer?g?e.License.checkProductKey(i,{Webcam:!0},!0)?(P.__videoDest=g,P.__videoDest.ShowVideoContainer(!0),Y.Lib.isFunction(C)&&(i.__OnFrameCaptured=C),i.__videoPause?(i.__videoPause=!1,e.isFunction(T)&&T()):(i.__videoPause=!1,i.__videoQuality=v?O=(O=+v)<1?60:O:O,i._innerSend("PlayVideo",c.makeParams(!0),!0,T,A)),!0):A():(Y.Lib.Errors.ParameterCannotEmpty(i),A()):(Y.Lib.Errors.CannotDoWhenNoViewerJS(i),!1)},PauseVideo:function(){var g=i;return g._resetErr(),this._isPlaying()&&(g.__videoPause=!0),!0},_clear:function(){var g=i;g.__videoPause=!1,g.__OnFrameCaptured=!1,g.__videoQuality=60,g.__videoDest&&g.__videoDest.ShowVideoContainer(!1),g.__videoDest=!1},_isPlaying:function(){return i.GetIfShowVideoContainer()},StopVideo:function(){var g=i,v=(g._resetErr(),this._clear(),g._innerFun("PlayVideo",c.makeParams(!1,0)));return g._innerFun("StopCapture"),v},CaptureImage:function(g,v){var C=i;if(C._resetErr(),!e.License.checkProductKey(C,{Webcam:!0},!0))return e.isFunction(v)&&v(C._errorCode,C._errorString),!1;function T(){c.hideMask(E),e.isFunction(v)&&v(C._errorCode,C._errorString)}var E="CaptureImage";c.showMask(E),C.__OnCaptureError=T,C._innerSend(E,c.makeParams(!1),!0,function(){c.hideMask(),C.ErrorCode==0?(c.hideMask(E),e.isFunction(g)&&setTimeout(g,0),e.License.isLTS()&&Y.DWT.lcvrf(i)):T(C.ErrorCode,C.ErrorString)},T)},GetMediaType:function(){var g=i;return g._resetErr(),g._innerWebcamValueFunction("GetMediaType")},SetMediaType:function(g){var v=i;return v._resetErr(),e.isString(g)?v._innerFun("SetMediaType",c.makeParams(g)):(e.Errors.InvalidValue(v),!1)},GetResolution:function(){var g=i,g=(g._resetErr(),g._innerWebcamValueFunction("GetResolution"));if(g&&g._resultlist){var v,C,T=g._resultlist,E=[],A=[];for((C=0<T.length?T[T.length-1]:C)==""&&0<T.length&&(C=T[0]),v=0;v<T.length-1;v++){for(var P,O=(P=T[v]).toLowerCase().split("x"),w=(M=N=w=void 0,{value:P,p1:parseInt(O[0]),p2:parseInt(O[1])}),N=E,M=N.length-1;0<=M&&N[M].p1>=w.p1&&!(N[M].p1==w.p1&&N[M].p2<w.p2);)N[M+1]=N[M],M--;N[M+1]=w}for(v=0;v<E.length;v++)P=E[v].value,A.push(P);C&&A.push(C),g._resultlist=A,A=E=null}return g},SetResolution:function(g){var v=i;return v._resetErr(),e.isNumber(g)||e.isString(g)?v._innerFun("SetResolution",c.makeParams(g)):(e.Errors.InvalidValue(v),!1)},GetFrameRate:function(){var g=i;return g._resetErr(),g._innerWebcamValueFunction("GetFrameRate")},SetFrameRate:function(g){var v=i;return v._resetErr(),e.isNumber(g)?i._innerFun("SetFrameRate",c.makeParams(g)):(e.Errors.InvalidValue(v),!1)},GetVideoPropertySetting:function(g){var v=i;return v._resetErr(),v._innerWebcamSettingFunction("GetWebcamVideoPropertySetting",c.makeParams(g))},GetVideoPropertyMoreSetting:function(g){var v=i;return v._resetErr(),v._innerWebcamMoreSettingFunction("GetWebcamVideoPropertyMoreSetting",c.makeParams(g))},SetVideoPropertySetting:function(g,v,C){var T=i;return T._resetErr(),T._innerFun("SetWebcamVideoPropertySetting",c.makeParams(g,v,C))},SetVideoRotateMode:function(g){var v=i;return v._resetErr(),v._innerFun("SetVideoRotateMode",c.makeParams(g))},GetCameraControlPropertySetting:function(g){var v=i;return v._resetErr(),v._innerWebcamSettingFunction("GetWebcamCameraControlSetting",c.makeParams(g))},GetCameraControlPropertyMoreSetting:function(g){var v=i;return v._resetErr(),v._innerWebcamMoreSettingFunction("GetWebcamCameraControlMoreSetting",c.makeParams(g))},SetCameraControlPropertySetting:function(g,v,C){var T=i;return T._resetErr(),T._innerFun("SetWebcamCameraControlPropertySetting",c.makeParams(g,v,C))}}},i.__addon=i.__addon||{},e.mix(i.__addon,o)})}),Y.AddonReady(function(e,t){var i;e.product.bActiveXEdition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(o){var c,f,g;if(!o.getSWebTwain()||!o.getSWebTwain().Addon)return!1;Y.navInfoSync.bWin&&(g=!Y.navInfo.bOSx64||Y.navInfo.bWOW64,i=g?"DynamicWebcam_"+Y.WebcamVerForActiveX+".dll":"DynamicWebcamx64_"+Y.WebcamVerForActiveX+".dll"),c=o.getSWebTwain();try{c.GetAddOnVersion("webcam",i)}catch{}(g=o)._innerRead=function(v){var C;try{C=Y.Lib.parse(v)}catch{}return C.result},g._innerWebcamValueFunctionPlugin=function(v){return v=this._innerRead(v),this._innerSetWebcamValue(v)},g._innerWebcamSettingFunctionPlugin=function(v){return v=this._innerRead(v),this._innerSetWebcamSetting(v)},g._innerWebcamMoreSettingFunctionPlugin=function(v){return v=this._innerRead(v),this._innerSetWebcamMoreSetting(v)},f={Webcam:{IsModuleInstalled:function(){var v=c.GetAddOnVersion("webcam",i);return e.setErrorString(o),v!=""},GetSourceList:function(){var v,C;return e.License.checkProductKey(o,{Webcam:!0},!0)?(v=c.GetWebcamSourceList(),C=[],e.setErrorString(o),o._errorCode==0&&(C=o._innerRead(v))&&1<C.length&&C.splice(C.length-1,1),C):[]},SelectSource:function(v){return!!e.License.checkProductKey(o,{Webcam:!0},!0)&&(v=c.SelectWebcam(v),e.setErrorString(o),v)},CloseSource:function(){o._playVideoDWT=null;var v=c.StopCapture();return e.setErrorString(o),v},GetFramePartURL:function(){var v;return this._isPlaying()?(v=c.GetDIB(-1),e.setErrorString(o),v):(e.WebcamErrors.VideoNotPlayingWhenGetURL(o),"")},GetFrameURL:function(){return""},PlayVideo:function(v,C,T,E,A){function P(){return o._playVideoDWT=null,Y.Lib.isFunction(A)&&A(o.ErrorCode,o.ErrorString),!1}var O;return v&&v.getSWebTwain()?e.License.checkProductKey(o,{Webcam:!0},!0)?(O=v.getSWebTwain().CurrentHWND)?(o._playVideoDWT=v,setTimeout(function(){var w=c.RunWebcamCmd("PlayVideo",O,null,null,T);e.wrapperRet(o,w,E,P)},0),!0):(e.WebcamErrors.InvalidParameter(o),P()):P():(Y.Lib.WebcamErrors.InvalidParameter(o),P())},PauseVideo:function(){return!0},StopVideo:function(){o._playVideoDWT=null;var v=c.RunWebcamCmd("StopVideo",0,null,null,null);return e.setErrorString(o),c.StopCapture(),v},CaptureImage:function(v,C){function T(){return Y.Lib.isFunction(C)&&C(o.ErrorCode,o.ErrorString),!1}var E;return e.License.checkProductKey(o,{Webcam:!0},!0)?(E=c.RunWebcamCmd("Capture",0,function(){e.isFunction(v)&&setTimeout(v,0),e.License.isLTS()&&Y.DWT.lcvrf(o)},T,null),e.setErrorString(o),E):T()},GetMediaType:function(){var v=o._innerWebcamValueFunctionPlugin(c.GetMediaType());return e.setErrorString(o),v},SetMediaType:function(v){return e.isString(v)?(v=c.SetMediaType(v),e.setErrorString(o),v):(e.Errors.InvalidValue(o),!1)},GetResolution:function(){var v=o._innerWebcamValueFunctionPlugin(c.GetResolution());if(e.setErrorString(o),v&&v._resultlist){var C,T,E=v._resultlist,A=[],P=[];for(0<E.length&&(T=E[E.length-1]),C=0;C<E.length-1;C++){for(var O,w=(O=E[C]).toLowerCase().split("x"),N=(k=M=N=void 0,{value:O,p1:parseInt(w[0]),p2:parseInt(w[1])}),M=A,k=M.length-1;0<=k&&M[k].p1>=N.p1&&!(M[k].p1==N.p1&&M[k].p2<N.p2);)M[k+1]=M[k],k--;M[k+1]=N}for(C=0;C<A.length;C++)O=A[C].value,P.push(O);T&&P.push(T),v._resultlist=P,P=A=null}return v},SetResolution:function(v){return e.isNumber(v)||e.isString(v)?(v=c.SetResolution(v),e.setErrorString(o),v):(e.Errors.InvalidValue(o),!1)},GetFrameRate:function(){var v=o._innerWebcamValueFunctionPlugin(c.GetFrameRate());return e.setErrorString(o),v},SetFrameRate:function(v){return e.isNumber(v)?(v=c.SetFrameRate(v),e.setErrorString(o),v):(e.Errors.InvalidValue(o),!1)},GetVideoPropertySetting:function(v){return v=c.GetWebcamVideoPropertySetting(v),e.setErrorString(o),o._innerWebcamSettingFunctionPlugin(v)},GetVideoPropertyMoreSetting:function(v){return v=c.GetWebcamVideoPropertyMoreSetting(v),e.setErrorString(o),o._innerWebcamMoreSettingFunctionPlugin(v)},SetVideoPropertySetting:function(v,C,T){return v=c.SetWebcamVideoPropertySetting(v,C,T),e.setErrorString(o),v},SetVideoRotateMode:function(v){return v=c.SetVideoRotateMode(v),e.setErrorString(o),v},GetCameraControlPropertySetting:function(v){return v=c.GetWebcamCameraControlSetting(v),e.setErrorString(o),o._innerWebcamSettingFunctionPlugin(v)},GetCameraControlPropertyMoreSetting:function(v){return v=c.GetWebcamCameraControlMoreSetting(v),e.setErrorString(o),o._innerWebcamMoreSettingFunctionPlugin(v)},SetCameraControlPropertySetting:function(v,C,T){return v=c.SetWebcamCameraControlPropertySetting(v,C,T),e.setErrorString(o),v},_isPlaying:function(){return!!o._playVideoDWT}}},o.Addon=o.Addon||{},e.mix(o.Addon,f)})});/*! 20241010103231
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: Upload
* Version: 18.5.1
* 
*/var Y=window.Dynamsoft||{};(function(e){e.DWT||(e.DWT={}),e.Lib||(e.Lib={})})(Y),Y.aryAddonReadyFun=Y.aryAddonReadyFun||[],Y.AddonReady=Y.AddonReady||function(e){Y.aryAddonReadyFun.push(e)},Y.AddonReady(function(e,t){Y.DWT.EnumTransferErrorCode={TRANS_OK:0,TRANS_URL_MALFFORMAT:1,TRANS_FAILED_RESOLVE_PROXY:2,TRANS_FAILED_RESOLVE_HOST:3,TRANS_FAILED_CONNECT:4,TRANS_REMOTE_ACCESS_DENIED:5,TRANS_PARTIAL_FILE:6,TRANS_UPLOAD_FAILED:7,TRANS_READ_FAILED:8,TRANS_OUT_OF_MEMORY:9,TRANS_REMOTE_FULL_DISK:10,TRANS_OPERATION_TIMEOUT:11,TRANS_SERVICE_ERROR_404:12,TRANS_SERVICE_ERROR_500:13,TRANS_SERVICE_ERROR_503:14,TRANS_SERVICE_ERROR:15,TRANS_NOT_SEND:16,TRANS_WAITFOR_SEND:17,TRANS_SENDING:18,TRANS_PAUSE:19,TRANS_FINISHED:20,TRANS_NULL_POINTER:21,TRANS_INVALID_ID:22,TRANS_Failed:23,TRANS_SERVICE_ERROR_MORE_THAN_500:24,TRANS_SERVICE_ERROR_LESS_THAN_200:25,TRANS_SERVICE_ERROR_MORE_THAN_300:26,TRANS_CANNOT_FINDFILE:27,TRANS_ABORT:28,TRANS_NOT_FINISHED:29,TRANS_TASK_PREPARE_INIT:30,TRANS_TASK_INIT:31,TRANS_BEYOND_MAXSIZE:32};var i=Y,o=e.guid(),c=5,f=(Y.dcp,[1,8,4,"0926"]),g="upload_"+f.join(""),v={Version:"1.0",HttpVersion:"1.1",ServerUrl:"",FileName:"",VERIFYPEER:!1,VERIFYHOST:!1,BlockSize:10240,ThreadNum:1,OnUploadTransferPercentage:function(Q,ce){},OnRunSuccess:function(Q){},OnRunFailure:function(Q,ce,he){}},C=0,T="",E=function(){C=-2,T="Upload failed because the url to upload to is invalid."},A=function(Q,ce,he){C=-3,Q?T="Upload cancelled.":(T=ce&&ce!=""?"Upload failed with error: "+ce:"Upload failed.",ce&&ce!=""&&(T=T+"("+he+")"))},P=function(){C=-4,T="Upload failed because the file to upload has invalid content."},O=function(){C=-5,T="Invalid upload job id."},w=function(){C=-6,T="Cannot create an upload job."},N=function(){C=-7,T="The file name is incorrect in the upload job."},M=function(){C=-8,T="Can not cancel all jobs when at least one job is still being created."},k=function(){C=0,T=""};function R(){}function L(Q){this.job=Q}function K(Q){this.job=Q}R.prototype={runWaiting:0,CreateJob:function(){var Q={HttpHeader:{},documents:[],formFields:[],bEvent:!1};return e.mix(Q,v),Q.SourceValue=new L(Q),Q.FormField=new K(Q),Q},Run:function(Q){var ce,he=this,le='""',fe=Q.ServerUrl,ye="";if(!e.isString(fe)||fe=="")return Q.id=-1,E(),!Q.bEvent&&e.isFunction(Q.OnRunFailure)&&(Q.bEvent=!0,Q.OnRunFailure(Q,C,T),Q.bEvent=!1),!1;if(!Q.documents||!e.isArray(Q.documents)||Q.documents.length<=0)return Q.id=-1,P(),!Q.bEvent&&e.isFunction(Q.OnRunFailure)&&(Q.bEvent=!0,Q.OnRunFailure(Q,C,T),Q.bEvent=!1),!1;if(!Q.ar||!Q.cu){Y.Lib.License.isLicenseMixed(null,!0)||Y.Lib.License.reparseProductKey();var De=Y.DWT.licenseException;if(De.code!=0)return Q.id=-1,C=De.code,T=De.message,!Q.bEvent&&e.isFunction(Q.OnRunFailure)&&(Q.bEvent=!0,Q.OnRunFailure(Q,C,T),Q.bEvent=!1),!1;if(Y.Lib.License.isLTS())return Y.DWT.lglic(Y.DWT.EnumInstance.dwt_desktop,"").then(function(Re){Q.ar=Re.ar,Q.cu=Re.cu,he.Run(Q)}),!0;e.product.refProductKey&&(le='"'+e.product.refProductKey+'"')}for(Q.Url=fe,delete Q.ServerUrl,ce=0;ce<Q.documents;ce++){var xe=Q.documents[ce];if(!e.isString(xe.files)||xe.files=="")return Q.id=-1,N(),!Q.bEvent&&e.isFunction(Q.OnRunFailure)&&(Q.bEvent=!0,Q.OnRunFailure(Q,C,T),Q.bEvent=!1),!1;e.isString(xe.remoteName)&&xe.remoteName!=""||(xe.remoteName="RemoteFile")}var De=Q.SourceValue,Ne=(delete Q.SourceValue,Q.FormField),je=(delete Q.FormField,e.stringify(Q)),je=e.replaceAll(je,'"',"'");return Q.ServerUrl=fe,delete Q.Url,Q.SourceValue=De,Q.FormField=Ne,fe=['{"id":"',o,'","method":"RunUploadFile","version":"',g,'","parameter":[',le,',"',je,'"'],Q.ar&&Q.cu?(ye=[',"',Q.ar,'","',Q.cu,'",0]}'].join(""),delete Q.ar,delete Q.cu,fe.push(ye)):fe.push("]}"),De=fe.join(""),he.runWaiting++,Y.FileUploader._sendCmd("RunUploadFile",De,function(Ze){var Re;he.runWaiting--,Ze&&((Re=Ze.UploadId)&&0<Re?(Q.id=Re,i.FileUploader.map[Q.id]=Q,i.FileUploader.ids.push(Ze.UploadId),Q.OnUploadTransferPercentage&&Q.OnUploadTransferPercentage(Q,0)):(Re=Ze.errorcode,Ze=Ze.errorstring,Re&&Ze?(C=Re,T=Ze):w(),!Q.bEvent&&e.isFunction(Q.OnRunFailure)&&(Q.bEvent=!0,Q.OnRunFailure(Q,C,T),Q.bEvent=!1)))},function(Ze,Re,Me){he.runWaiting--,i.FileUploader.parseHttpErrors(Ze,Re,Me),!Q.bEvent&&e.isFunction(Q.OnRunFailure)&&(Q.bEvent=!0,Q.OnRunFailure(Q,C,T),Q.bEvent=!1)}),!0},Cancel:function(Q){var ce;return!Q.id||Q.id<0?(O(),!Q.bEvent&&e.isFunction(Q.OnRunFailure)&&(Q.bEvent=!0,Q.OnRunFailure(Q,C,T),Q.bEvent=!1),!1):(ce='{"id":"'+o+'","method":"DeleteUploadTask","version":"'+g+'","parameter":["'+Q.id+'"]}',Y.FileUploader._sendCmd("DeleteUploadTask",ce,function(he){i.FileUploader.deleteJobById(Q.id)},function(he,le,fe){i.FileUploader.parseHttpErrors(he,le,fe),!Q.bEvent&&e.isFunction(Q.OnRunFailure)&&(Q.bEvent=!0,Q.OnRunFailure(Q,C,T),Q.bEvent=!1)}),!0)},CancelAllUpload:function(){var Q=i.FileUploader.ids,ce='{"id":"'+o+'","method":"DeleteUploadTask","version":"'+g+'","parameter":["'+Q.join(",")+'"]}';return 0<this.runWaiting?(M(),!1):(this.runWaiting<0&&(this.runWaiting=0),Q.length<=0||Y.FileUploader._sendCmd("DeleteUploadTask",ce,function(he){for(var le=0;le<Q.length;le++)i.FileUploader.deleteJobById(Q[le]);i.FileUploader.ids=[],i.FileUploader.map=[]},function(he,le,fe){i.FileUploader.parseHttpErrors(he,le,fe)}),!0)},OnUploadTransferPercentage:function(Q,ce){},OnRunSuccess:function(Q){},OnRunFailure:function(Q,ce,he){}},(i.SourceValue=L).prototype.Add=function(Q,ce,he){var le=this.job;e.isString(Q)&&Q!=""?(he=he||"RemoteFile",Q=Y.Lib.replaceAll(Q,"\\\\","\\\\"),le.documents.push({files:[Q],fileName:ce,remoteName:he})):(N(),!le.bEvent&&e.isFunction(le.OnRunFailure)&&(le.bEvent=!0,le.OnRunFailure(le,C,T),le.bEvent=!1))},i.FormField=K,i.FileUploader={ids:[],map:{},port:18625,protocol:"https://",ip:"127.0.0.1",wsUrl:"",running:!(K.prototype.Add=function(Q,ce){var he,le,fe=ce,ye=Q;if(fe==null&&(fe=""),!e.isString(ye)||ye==""||!e.isString(fe)||(fe=encodeURI(fe),-1<(ye=encodeURI(ye)).indexOf("'")||-1<fe.indexOf("'")))return!1;for(he=0;he<this.job.formFields.length;he++)if((le=this.job.formFields[he]).name==ye)return le.value=fe,!0;return this.job.formFields.push({name:ye,value:fe}),!0}),ws:null,nextLoopTime:600,deleteJobById:function(Q){var ce;if(k(),Q){for(ce=0;ce<i.FileUploader.ids.length;ce++)if(Q==i.FileUploader.ids[ce]){i.FileUploader.ids.splice(ce,1);break}var he=i.FileUploader.map[Q];for(he.SourceValue.job=null,delete he.SourceValue,he.FormField.job=null,delete he.FormField,delete i.FileUploader.map[Q],ce=he.documents.length-1;0<=ce;ce--)he.documents.splice(ce,1);for(ce=he.formFields.length-1;0<=ce;ce--)he.formFields.splice(ce,1);var le='{"id":"'+o+'","method":"DeleteUploadTask","version":"'+g+'","parameter":["'+Q+'"]}';Y.FileUploader._sendCmd("DeleteUploadTask",le)}},_sendCmdByWS:function(Q,ce,he){var le=i.FileUploader.ws;return le&&le.readyState!=Y.DWT.EnumDWT_WebsocketReadyState.CLOSING&&le.readyState!=Y.DWT.EnumDWT_WebsocketReadyState.CLOSED||(le=Y.DWT.NetManager.newWebsocket(i.FileUploader.wsUrl),i.FileUploader.ws=le),Y.DWT.NetManager.postStringDataByWS(le,Q).then(function(fe){fe=e.parse(fe),fe&&"result"in fe?e.isFunction(ce)&&ce(fe.result):e.isFunction(he)&&he()},he),!0},_sendCmd:function(Q,ce,he,le){return Y.DWT.ConnectWithSocket?i.FileUploader._sendCmdByWS(ce,he,le):(Q=[i.FileUploader.protocol,i.FileUploader.ip,":",i.FileUploader.port,"/dcp/",g,"/",Q,"?type=1&dsver=",f.join(""),"&ts=",e.now()].join(""),e.ajax({url:Q,method:"post",dataType:"json",processData:!1,data:ce,onSuccess:he,onError:le}))},parseHttpErrors:function(fe,ce,he){var le,fe=fe&&e.isArray(fe)&&2<fe.length?(le=fe[1],fe[2]):(le=ce,he);fe.state==2&&fe.status==0?fe.statusText==="abort"?A(!0):E():A(!1,le,fe.status)},loadHttpBlob:function(Q,ce,he,le,fe,ye,xe){Q={method:Q,url:ce,dataType:"blob",async:he,onSuccess:le,onError:function(De,Ne,je){i.FileUploader.parseHttpErrors(De,Ne,je),e.isFunction(fe)&&fe()}},e.isFunction(ye)&&(Q.beforeSend=function(De){De.addEventListener("progress",function(Ne){delete Ne.totalSize,delete Ne.position,ye(Ne)},!1)}),e.ajax(Q)},_OnPercentDone:function(){},Init:function(Q,ce,he){if(k(),!Y.Lib.detect.bOK)return--c<=0?(e.isFunction(he)&&he(),void(c=5)):void setTimeout(function(){Y.FileUploader.Init(Q,ce,he)},300);function le(){var fe,ye=Y.navInfoSync.bSSL?(fe="https://",Y.dcp.SSLPort):(fe="http://",Y.dcp.Port);i.FileUploader.port=ye,i.FileUploader.protocol=fe,i.FileUploader.ip=Y.DWT.Host,i.FileUploader.wsUrl=Y.DWT.NetManager.getWsUrl(Y.DWT.Host,ye),i.FileUploader.running=!0,e.isFunction(ce)&&ce(new R),setTimeout(i.FileUploader.StatusLoop,500)}Y.dcp.detect.bConnected?le():Y.DWT.NetManager.checkModuleManager(le,function(){--c<=0?(e.isFunction(he)&&he(),c=5):setTimeout(function(){Y.FileUploader.Init(Q,ce,he)},500)})},Close:function(){var Q;Y.DWT.ConnectWithSocket&&(Q=Y.FileUploader.ws)&&(Q.readyState!=Y.DWT.EnumDWT_WebsocketReadyState.CLOSED&&Q.readyState!=Y.DWT.EnumDWT_WebsocketReadyState.CLOSING&&Q.close(),Y.FileUploader.ws=null),Y.FileUploader.running=!1},VersionInfo:function(Q,ce){k();var he='{"id":"'+o+'","method":"VersionInfo","version":"'+g+'","parameter":[]}';return Y.FileUploader._sendCmd("VersionInfo",he,Q,function(le,fe,ye){i.FileUploader.parseHttpErrors(le,fe,ye),e.isFunction(ce)&&ce(C,T)}),!0},StatusLoop:function(){return k(),i.FileUploader.GetUploadStatus(),i.FileUploader.running&&setTimeout(i.FileUploader.StatusLoop,i.FileUploader.nextLoopTime),!0},GetUploadStatus:function(){var Q;return k(),i.FileUploader.ids.length<=0||(Q='{"id":"'+o+'","method":"GetUploadStatus","version":"'+g+'","parameter":["'+i.FileUploader.ids.join(",")+'"]}',Y.FileUploader._sendCmd("GetUploadStatus",Q,function(ce){if(e.isArray(ce))for(var he=0;he<ce.length;he++){var le=(Ne=ce[he]).id,fe=i.FileUploader.map[le],ye=Ne.percentage,xe=Ne.errorcode,De=Ne.response,Ne=Ne.errorstring;fe&&(xe==Y.DWT.EnumTransferErrorCode.TRANS_FINISHED?(fe.OnUploadTransferPercentage(fe,100,ee(De)),!fe.bEvent&&e.isFunction(fe.OnRunSuccess)&&(fe.bEvent=!0,fe.OnRunSuccess(fe,ee(De)),fe.bEvent=!1),i.FileUploader.deleteJobById(le)):xe==Y.DWT.EnumTransferErrorCode.TRANS_OK||xe==Y.DWT.EnumTransferErrorCode.TRANS_NOT_SEND||xe==Y.DWT.EnumTransferErrorCode.TRANS_WAITFOR_SEND||xe==Y.DWT.EnumTransferErrorCode.TRANS_SENDING||xe==Y.DWT.EnumTransferErrorCode.TRANS_PAUSE||xe==Y.DWT.EnumTransferErrorCode.TRANS_TASK_PREPARE_INIT||xe==Y.DWT.EnumTransferErrorCode.TRANS_TASK_INIT?fe.OnUploadTransferPercentage(fe,ye,ee(De)):(!fe.bEvent&&e.isFunction(fe.OnRunFailure)&&(fe.bEvent=!0,fe.OnRunFailure(fe,xe,Ne,ee(De)),fe.bEvent=!1),i.FileUploader.deleteJobById(le)))}},function(ce,he,le){})),!0}};var de=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function ee(Q){for(var ce,he,le,fe,ye=Q.length,xe=0,De="";xe<ye;){for(;ce=de[255&Q.charCodeAt(xe++)],xe<ye&&ce==-1;);if(ce==-1)break;for(;he=de[255&Q.charCodeAt(xe++)],xe<ye&&he==-1;);if(he==-1)break;De+=String.fromCharCode(ce<<2|(48&he)>>4);do if((le=255&Q.charCodeAt(xe++))==61)return De;while(le=de[le],xe<ye&&le==-1);if(le==-1)break;De+=String.fromCharCode((15&he)<<4|(60&le)>>2);do if((fe=255&Q.charCodeAt(xe++))==61)return De;while(fe=de[fe],xe<ye&&fe==-1);if(fe==-1)break;De+=String.fromCharCode((3&le)<<6|fe)}return De}});/*! 20240828181423453
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2024, Dynamsoft Corporation
* Author: Dynamsoft Support Team
* Version: 18.5.1
*/(function(){var e=620;Y.navInfoSync.bMobile&&screen.width<620&&(e=screen.width-10),Y.OnWebTwainNotFoundOnWindowsCallback=function(i,o,c,f,g,v,C){var T=Y,E={default:o};T._show_install_dialog(i,E,c,Y.DWT.EnumDWT_PlatformType.enumWindow,f,g,v,C,!1)},Y.OnWebTwainNotFoundOnLinuxCallback=function(i,o,c,f,g,v,C,T,E){var A=Y,P={default:o,deb:o,rpm:c};E||(E=Y.DWT.EnumDWT_PlatformType.enumLinux),A._show_install_dialog(i,P,f,E,g,v,C,T,!1)},Y.OnWebTwainNotFoundOnMacCallback=function(i,o,c,f,g,v,C){var T=Y,E={default:o};T._show_install_dialog(i,E,c,Y.DWT.EnumDWT_PlatformType.enumMac,f,g,v,C,!1)},Y.OnWebTwainNotFoundOnAndroidCallback=function(i,o,c,f){var g={default:"https://demo.dynamsoft.com/DWT/Resources/dist/DynamsoftServiceSetup.apk"},v=Math.random(),C=Y.DWT.ServiceInstallerLocation;if(Y.Lib.isString(C)&&C.length>0){var T="";C[C.length-1]!="/"&&(T="/"),g.default=[C,T,"DynamsoftServiceSetup.apk"].join("")}g.openService="intent://dynamsoft.com/#Intent;scheme=http;package=com.dynamsoft.mobilescan;S.timestamp="+v+";end",Y.DWT.Host="local.dynamsoft.com",Y._show_android_install_dialog(g,f)},Y.OnMobileNotSupportCallback=function(){var i=[];Y.DWT?(i.push('<div class="ds-dwt-ui-dlg-android" style="padding-bottom:30px">'),i.push("Service Mode does not support your Operating System, please contact the site administrator."),i.push("</div>"),Y.DWT.ShowMessage(i.join(""),{width:335,headerStyle:1,backgroundStyle:1})):console.log("The Dynamsoft namespace is missing")},Y.OnHTTPCorsError=function(i){var o=["<div>",i,"</div>",'<div style="margin-top:10px">To fix the issue, please update your website to HTTPS or refer to <br /><a target="_blank" href="https://www.dynamsoft.com/web-twain/docs/faq/http-insecure-websites-in-chromium-browser.html?ver=latest">this article</a> for other workarounds.</div>'].join("");Y.DWT.ShowMessage(o,{width:e,headerStyle:2})},Y._show_install_dialog=function(i,o,c,f,g,v,C,T,E){var A=Y,P,O,w,N=Y.DWT.EnumDWT_PlatformType,M=f==N.enumLinux||f==N.enumEmbed||f==N.enumChromeOS||f==N.enumHarmonyOS,k={icn_download:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAABqxJREFUaEPlm01y2zYUxwHJe6cniHMCU7K7tnoCK8uuYp+gzglsn8DOCapuuo1ygsjr2hKz6jLKtpvY61pA/g8ARZDiBwiCnMyYM5omKQnih/fw8L7I2Qu7eNe8o9GvJ/QOKUU0GPBX+s9swrl8ZIzH9Hch5JrzwVrK/59iXF3OKThwFEUHjA1PBgM21WAa0vWSkuDZQgg+Z+z5DvxYmHBXMOAoOnoHuAtMNrKnB4AvkOQjJArJcTV5IdgCcn4Fiat7cQ8WieMnDzDG6yyenAP+Qxzf45n2V2tggE4BeYOJYsL6AsAn/CAhsYCE1k2mCQ2B6g8mUvIzjHmYjskWUj6/b6vy3sBRdAx1ZZf4TQzkN0BexfFy1gSw6l6wQwv2LrCE+PF9s5wzITbXTRcyeY8X8Hh8fIMBMAmF+gSjcxESNL8IKTi7NIv7iMWFtJsvbiNg/eLhn1jtqZnUtRDPt6ENS5nUySByPryFqp+ae66Wy/vrJhrlDKxftvdRGyWSKp+GMiRNJkz3jsdjaNeAtIw0jFSc9raTNXcCJkOClf1MRwxZXSk3Z22NR1PIXTU/muLog73g+zj+Yhi031yga4GNGq00LLvDwJCs22q2hap73ghiTkcZQa9W96O6ZyqBac9CjSFZFhEsBlQW+We6jF1ZaysuZ8vlw3nV/CqBx+Ojj2SgjBpPfhbJFlhxnN3DhYYW75fL5W0ZdCkwYPEQ/0MbqA3BdurjttWaKBqfwWHBCaJ887dx/ADHZ/cqBCanAgbhs36YwRiEcevaQtU9D//gCvdcQiNxTm/eFGlkIfBodEz7lvbrNc45GiToNRodxRQgYL8Z5yXc8Jj7AmNThFY49x1g8o3h1GPvKlU+6GLfQhKSELGYtadE06VItNNIeZR3QXdeiNX/SoGAEOLcx3VzmWCXwPR+MMzA8A7Qf61WD2f2nDLAycbHjd9w44HL5H3u6RqYfAcEHV+1DXqmvbxO5pkBhv7DwWBRl9KlF3cNbEsZW/ODbSu2wPaqdLG3bE3oAzjdy1kPzALW5xgF71DnJBry0djaZ/oA1pp0RHmzfVutt8DY6OSTnnatzn2pdFatU+/LBv5OAUJ+k9eKy+OGviRsGeGt1ipg6+z6AnXOJOE8eGof6Q9YpYi+22d+DrifiKgv4KLto4DTDELWhNeKyvOGPoG1G8sPsVXJ64oNsHa68evEd86vS7/A2rdOgqCXCZxEGH2Fgn1KOAkZE+1VEk7P4PLA2XO7Fj7WL3CSyNBn8ctU6bzYfaSpffHhjSmDVKaDXCWsHQd+UpeYq5pvfruac3jrR+/Ej67wydFmAm/KEZdCuwBnc1T6SHGdi31fGt/rMDGo42EF3pRTKoWuA87CtktE5N9lgKlEubeiYjRcyzc+K5k84wJdBRwSNg155RO2hSrM28EDKu/8deKRdAldBhwS1vYg7VSPDazyQHWJbNeFqJJ0EXBo2Oxxm24LKwGgs5WuNRoX8DLoPHAXsKamrCIlaO0vSfbVTvFsQyn7Bhew6mNhm0HcGjIbuAtYmk+SbqYykR3y5pJ4OusROojIS5oMpF55cZ6WR9pZ4/yip8WEbK0pl6bVJZaqUoWvxG1ojKEtJsKYBDxkDjwtFe0WEwoS8dWlCl9gY0SUYYRkGSTbCax+T3mpqKDUos9ks9kzSew2sNY5/Tegf+9Csnrvbr1GdBVtonypqKSYpg0NkthzHNhvQ4DaY4xG4/+wbf6N45VqSwx16QL+kLoVSktFhcAmEKDOudoCc6jJhhjHLuCXJSNLq3euBeYQEw0xhmsBvxSYJpErMFdGQCEm7TtGVjjVBfxKYNuyNmkN8p24z3N2S5VL1aQW2BgCZP74oUus6zNp32dsyRbVgovGrQXWpl5ZPwvar8/RF6zoObvf0xWWxnECts5Qc1ypf2nc5xgCON/v6aLG9nsbAWtDlvY5Yl+jh5mhlbefLh/dhM6udG+2X79nY2Ct4mmfo1491eDp3cNcJ/mC3mzvfk8v4GRfFzVvSzmYrVb/3NVB1P1/Ul3G9k4gUfqsYKKWFb0nbZvQvYGTCZvmU1IzuKJG3mgMwyTxrQJ927D55Nr6ZD4QOUVcAcBtTzahPuHvtyF6s1sD2+DIS19gT+MbiPyHGurTHUqzqp5makrDf6g719Si1ccd2JfZi4J3fByC7SJmrotWpznBgO0XaV98gKZUTp/xJN3rdXNRksQizAGKBRHzUJD2izsBLiIjjwh7UgX+WmXFoxADk1x/Xvt+tOGwiplbegNuOrGu7v8BEbL8eSr8LDEAAAAASUVORK5CYII=",icn_install:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAAB51JREFUaEPtW91V20gU1sje5yQVhK0AY3iPUwGkgiUVhFQQqCBQQZwKAhXEvIPtrSDeCgLPizX7ffPjGY1lz0iWDQ+rc3zg6Gd0v/s/916JbItHr3d0nOdZj6+QMhuYV70WYnFuinMPPI9zI/4timw6nd7dbIss0ebCvV5vL8s67wDyBBDw2+SQ1wB/nWXzW3BgtslK/rOtAIYkB5DQF/ysFNU7pJR/CyFAtJKckmCWPT0AACWbgUGQfvc1/weT1LN45gTP7PtEQjtG+F1A8maN5vA3ArwMVD5q4iRAFtfApdS17gE+gAk5geNHRohXmhlc++mzZVjddXl/I8BU3TzvfMHjp/ql8hH/X47Hd+dNiIg90+8fYV15ZoHj/2FRzCHx+qpeG3Cvd0iufwP3IQUNtCieLptKMwbWXqfU87wL0BkYrVT/ARL/OJ3eK5NJPWoBBthPeS4uzQtvpJyfNeFyKnFV91G7hOhcguHHvF4UEjTcX6WumQy43z/85lS4+DwejxXw5zr6/T6knX81JjUcj+8/ptASBUxVEqL7U8dO+Qhve1pXjVIIaXIPzQvefUjbhnpP4dDex0xrLWAfLGzmH6jwySYesgmo2DMMbVDxa6j4W4KeTO4O1j2zFrBVYwO2F+NejLhtXdeC6UwJmh58nXqvBOxshGo8H7w0yYbMo6QRKkc6dK32MZWAtW2IH8YLfngpNhvTkBS6lwAbtz/RcXb33thmb1BN2CZpsBmWHILx32OgrWbqOD0/CMPmEuCDg8MhXvQXHriZTO433ADEyHPXdWLRYehb+U7E3CRtAwY6sWNg+A4Mpz4VJcDkLtz8Tx1+5nRSs3SSm98Zhj68/7woCmZQDzYkciMCidGXRPNznfp2f2mTfKKU1WaFRwnwwcER4+0A5y+2lRdXscXTKoJi6JsFIXEBlnaKNd7Gsiudf2dfuOFAqHq/BDiQ7l4KJ5vLtKTKldIA8+FHsp4v2V6vf5rnOdR+WXIhLcZEoKHiFZIlJCR6a7mQ8HNJ10mibG84Lw2wN2S+D5bnq+wzBF0lZQXY6bx8RNBWnnFXh1XnMCJYwDAt4YM1RYV9qOotVJXmt/ZA8gSbp5Sf/qSpGMBaVXbtmUmpBQwnha3eeGipt4B9NJSqlGJIx5qSRpr1lce26yvA1o2HL41xr43rVu2wVslRwsRGsOF37h3yCtp3ZpMLShohBxua9YfVDitMBTi0l9gibV03iT8iQ3qSAxVFBshYnZYUmcLBb9JM84B96DQylWPbAJvigPheZ8sqT0iOJNBgbiz2mbiIVSrVFrCqdXzJpoIFnSztnHO9uqbnY/QAp6nIpoyIgXUpJt8kkCFJxOKMefVeE7DGZMkoMuxCWOfgB+dNQa16PgWsq66EqzTfptqkiqFsZ4DrgNXZlbxEqNyD+s6gxKNN8voA8OEvqosNzNuQbn2waZuEVFp1caA7YeymDasUji47dYE69z03WEurxblVwC8FrHFcSrCw4cMZi19tq/RLAutUGs29Nrw0Nx+mTToAE7H5EKgRyzNmUFVxdtVet46p1Lm3VS8N22D1nz2fpeMlgCVRJcDITdEyEZ9Sc1OLKqxBMTkXQo6KQsx0r1c8hFWTXUvWc1gu8WiaWrokPi0heC6wxmE5wG7zEG9TOOnaunVase85wZJmWy5SmwffZcNTq3JKzCHY/XOqGXhl0+TKY4yG1OtL20PNAV3HTd2F+PtnFdsW3UVNRlgpdJEgra6cCiblvsoCQHgytpAPeFWy72duTf1EjI6U66EwS0U8tidQNnkTW8gCVrlpUEqtSlWbRoIYHSnXAfg384FSEc8Ytq0hRYvwzob1aJLtCPjVRV/CuN9sUFx9OIXYTe/xyrSLCudiw+CCs2pCsaS50nl5JlAJFmxQBTftEPVoAnvM0J69TUGkPq8jQ4eMhnQrCvF1pUwgcHLo6JWL5H52Ve4U7NZhVUlXOVifY16SXdlqrOKua9Eo78w5iw+YrtuHbSOX1tN1qd4/VXqx+5KbaVrKul0K8q+hliB+/VGepgnvZWLCsSJXYI+t18Z1mwVG26V8meZOB8Wz9aMDZc3grKU8xTOYoWLRTcB7FxgO1SrfBojUNYJRjaWW7/8jD5aTwegA558WTeVUbu/yvtQuxto6lteonpl5iZ2qZyrDTAjiXMperLAfLdzZNgUWImjMWLwsSRvJ/jBgow22KGDDPWRhAj3ZZhOsqZKqe58/2Zs6AxIFbIlw4ar+BGtdICn3B5O9S9M6q9ZIBswFgglWhJ05p9NnKQS2dY8Jm6ij2fGmej2xWoB1nHYTrAYERoyerrYdb81GHrU33UFsOtlbG7BNTpCYn+uMTE+n439+AnDRliT9ddgqtWVf8z6MPszPm2hXI8CWGO0hu5hO16MJGniGyqX6/OamqdQpTdS5+c3TCb938kYQb5GrI1VtHik2AuyAq894IHF/JkNvJnBOfZOAdHOk//77aAnWDPtDfbGClHSgr2f8pqI0u8E2J36Q6DN/xhOqr+5A5JQIP8FR3yQ0PVjnxg/M2qxVGr6/FQmvAmVKwEpa7lM8iY25/hCLsZMFey1h+ymehALU+1KlDlP/Axl/TQ2HYDZNAAAAAElFTkSuQmCC",icn_scan:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAACBBJREFUaEPNW7tuG0cU3VkynQHbVdJF/gJTtLsEsIw06SQB7i0XqW1/gekuqSL3AUx/gaUvMAUknUXRboRUpj8gsNQEBkLu5Jx57ItLzswO9ViAEMXdmbln7p37XpFc4NXr3d9O06THJaRMtsxSt4TIf5vgtzP+jt9G/JtlyWQyeX94UWSJdU7c6/U2kqTzACB3AAGfmEseAPxBksyPsAPTmJnKY9cCGJzcAode4GO5qNaQUn4QQoBoxTnFwSSZnQEAOZtgg8D97i1+xyapsRizgzF3y0RCOkb4vATnzRzt4UcBXgQqzzVxEiCzA+BS4hp6YR+wCSmB48ONEDf1ZnDu2XO7YaHz8vlWgCm6adp5geF7elF5ju/74/H7QRsiXGP6/fuYVz6zwPF9mGVzcDxc1IMB93r3uOuvsfvgggaaZbP9ttx0gbX3yfU07QJ0go1Won8Gjj+ZTI7VkfG9ggAD7NM0FftmwUMp58/a7LIvcU3PUbqE6Oxjw7d5P8skaDh+5TunN+B+/97rQoSz5+PxWAG/qqvf74Pb6e/mSA3H4+MnPrQ4AVOUhOi+07ZTnkPb7oWKkQ8hbZ7h8YJ2H/JsQ7wnUGgPXUdrJeAyWJyZzxDhnRgN2QaUawxNG0T8ACL+PUGfnLzfXDVmJWArxgZsz7V7LuIu6r5mTGdC0NTgq8R7KeDijFCM51vXjbP1zSOnYSpH2nQt1zGNgPXZEG+NFty9LmfWJSE+dC8ANmr/RNvZMG1sRItjN1zE2fs4LvmjUIzwn+ewre08NE5kJVPb6flm3WwuAN7cvDcEwY8x4PDk5DgoAKCrCa35zhds03O+2nbVGsBAJbYNDG+AYa/8bAVwQbA6t1RS0xDi7XgQfQRtueUzVruNyQsQ9xv+/szAIRa0dn27n/SRnJHLKljhVQG8uXmf9paEvmzjF8cA5pp0UaFtR+sAXWxkMsLmP1wAXOPuRptzFAuYm2z0QA7aZVeXSZH2vTuQUHETzhIcEh1a5hyO5S4niwMsh1KmQ84jZXYDkvYHvn4npciJ9Tki5WeauKwAFzIvz2G0VUDe5tK2sHsSdobLPvHiqrPZ7JePHycE3+qC84SYnFye3aFOMoD7e2mavm6jmetUYAGEi8nI13YbMzgAURvVuSQ3/sbXr//+dHp6+rkVWgyyGjvLMpi78VABrv/oM7nOSnSZv1JJusu6mORDmuiDrwXp9arMVIAh68r6g+23fZRVNQlwWVCLdbRTIZHqGQ9dq5vEwRc+B6UohHXHmHCDkfbiFiTiE70pBhX0jiCOrXJXLmIX78tb0A/MdSEyUp4Uz6VzbdDLwOIukgW7wmoyTO5le61iYmxMBWcU3mMjIW98RS0cbDECAKYEXTY3q+YrYywB9vOby6YHATd2u0NuK80esusxgKkYIVVPfX39CmDYXxj55IHvblUBZ0Ot3ZMjwEWuyX/X4wBrd9RfKrWPTzpFHGC5zzCSnCUAcrruu8YAWzY2/BhWAGsFZA2zi8C6N2WjKz1OvsK5Zir1Qq9wwLlDNOEZViaJKtuHyib3UdeUElbBpj5zxD4TCpjrWZxrARwLIHR8FOBCxWtf07W4K0AwGQdVC4q9YDdReFtMsocCLnx8FPdilFY9yC9sdCzUYnyT9QgHvCYtvQjYTkwPTAxjYEPz7y0zc1GAQ414IdJyClf0ThmUS9xDNmCV5OEeEoVJz9d3WOJp+bmWWuPpGFOXLQUTZsoOI3BHPMxqovwLZ+9HXRX4Jug8S/nfOXNQ8PH/xFw/sFgmRKpyUuA6shgSiUVdpvU1pRXARfDgLlNYDpUmqDCNGVfsPAn7B5mKR20zmIxdUSj7FeO/tXMuSoe/zS8kAsFD2Ub5hocco8VX7gBYHmFpDqio5G/0ZiAD2aHPG5hBUVEQuKrqRZyLbRN5RCSEnAQmGFhXLsJDEt8mAdB0Hi/rDIfogsYEQP3HkAmvQmmF0NeY4rFJPAYB0Ly3QyZcBhihI8USee4wkdYhptiFLhiERHHLaAbgLyaoKZJ4Wqx1mIivXokAl0gTcFHNC9lCVj1U90404FKaNq+E5AFDyb56p07qMK7TGTYJfZWcaEzEr4PL1wlwE3eJsVZMs3Fjc6nRJZjXBbB3Mc2YKFUuhftwgGB+1wWyqrR01Q6KZwrHYS9k7OKzGelgYqJS/fOZE54givkCPoKjXKodCtVlB1dudevACq2oUqI+hLmeYRoYVmPD9Vz5fq1VY6Hku/aWB71hKXY3DSqm10EJkaEbQPVrQlr8rlYtD3bqWusA+5/yorLf8pf7lGlfMnY/sKnFklpqf5iafglnlv9yYerVyr0lTee2TJMzcWfLFFREAI2OnuvFacPZt6b04ywXOQFXK/LtOlgviuvloh5rY2AI+8lWSqETcF28+X9oB+tFAK519i506yxb0xswJ6h1sLKnit3p3lp0HcCN2UQXrX2nwq8mZtcOAqwVRNHBaiYZwDl45RKlWLCmzosCWjLQc7Xr7A0GbLQim7QRzdAj01VDfOcrAC9jgTWNh1/MPi6Em3mV8g3O66CNdLUCbInSGrKL3ioVVhrgyci8fnPYluu6naLDd57gwCR4Y8YCTY4YdsZYiijABXD1Go+KX8scYked7hDgZoiR/quzkkZS8qwmclVb+j4r/NW+EZY58QFHr/g1nrr46aJaSo6wLUG9k9D2YkcRPtisDB1B61OMa+HwMlDGt1VZzeJVPIlmbh1c0Hba/pDiVTwJfGFvqoRs6v/IOTkNXX2kbQAAAABJRU5ErkJggg=="};if(E?O="Please update your document scanning service":O="Please download and install the Dynamic Web TWAIN service",P=['<div class="dynamsoft-dwt-dlg-title">',O,'</div><div class="dynamsoft-dwt-dlg-title-error" style="display:none"></div>'],A.DWT){var R=Y.navInfoSync.bFirefox;M||R?w="RESTART":w="REFRESH",P.push('<div class="dynamsoft-dwt-installdlg-iconholder"> ');var L="134px";P.push('<div class="dynamsoft-dwt-installdlg-splitline" style="left: '+L+'"></div>'),P.push('<div class="dynamsoft-dwt-installdlg-splitline" style="left: 328px"></div>');var K="133px";if(P.push('<img style="margin: 0px '+K+' 0px 0px" src="'+k.icn_download+'" alt="download" />'),P.push('<img style="margin: 2px '+K+' 2px 0px" src="'+k.icn_install+'" alt="install" />'),P.push('<img src="'+k.icn_scan+'" alt="scan" />'),P.push('<div><span class="dynamsoft-dwt-installdlg-text" style="right: 160px">Download</span>'),P.push('<span class="dynamsoft-dwt-installdlg-text" style="right: 18px">Install</span>'),P.push('<span class="dynamsoft-dwt-installdlg-text" style="left: 140px">Scan</span>'),P.push("</div>"),P.push("</div>"),c&&M){P.push('<div style="margin:10px 0 0 60px;">'),P.push('<div id="dwt-install-url-div">');var de=Y.navInfo.bArm64,ee=Y.navInfo.bMips64,Q=Y.navInfoSync.bChromeOS,ce=Y.navInfoSync.bHarmonyOS;de||ee||Q||ce||(P.push(`<div><input id="dwt-install-url-deb" name="dwt-install-url" type="radio" onclick="Dynamsoft._dwt_change_install_url('`+o.deb+`')" checked="checked" /><label for="dwt-install-url-deb">64 bit .deb (For Ubuntu/Debian)</label></div>`),P.push(`<div><input id="dwt-install-url-rpm" name="dwt-install-url" type="radio" onclick="Dynamsoft._dwt_change_install_url('`+o.rpm+`')" /><label for="dwt-install-url-rpm">64 bit .rpm (For Fedora)</label></div>`)),P.push("</div></div>")}P.push('<div><a id="dwt-btn-install" target="_blank" href="'),P.push(o.default),P.push('"'),c?P.push(' html5="1"'):P.push(' html5="0"'),P.push(' onclick="Dynamsoft._dcp_dwt_onclickDownloadButton()"><div class="dynamsoft-dwt-dlg-button">Download</div></a></div>'),c?g?(P.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left; padding-left: 80px">'),P.push("If you still see the dialog after installing the Dynamsoft Service, please<br />"),P.push("1. Add the website to the zone of trusted sites.<br />"),P.push("IE | Tools | Internet Options | Security | Trusted Sites.<br />"),P.push("2. Refresh your browser."),P.push("</div>")):M?(P.push('<div class="dynamsoft-dwt-dlg-tail">'),P.push('<div class="dynamsoft-dwt-dlg-red">After the installation, please <strong>'+w+"</strong>  your browser.</div>"),P.push("</div>")):P.push("<div><br /></div>"):(P.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left; padding-left: 80px">'),P.push("After the installation, please<br />"),P.push("1. Restart the browser<br />"),P.push('2. Allow "DynamicWebTWAIN" add-on to run by right clicking on the Information Bar in the browser.'),P.push("</div>")),A.DWT.ShowMessage(P.join(""),{width:e,headerStyle:1})}else console.log("The Dynamsoft namespace is missing");Y.DWT&&Y.DWT.OnWebTwainNotFound&&Y.DWT.OnWebTwainNotFound()},Y._dwt_change_install_url=function(i){var o=document.getElementById("dwt-btn-install");o&&(o.href=i)};var t=0;Y._dcp_dwt_onclickDownloadButton=function(){var i=document.getElementById("dwt-install-url-div");i&&(i.style.display="none");var o=document.getElementById("dwt-btn-install");if(o)if(o.getAttribute("html5")=="1"){var c=o.parentNode,f=document.createElement("div");f.id="dwt-btn-install",f.style.textAlign="center",f.style.paddingBottom="15px",f.style.fontSize="14px",f.innerHTML='Please proceed with the installation. Once done, <a href="javascript:void(0)" onclick="Dynamsoft._dcp_dwt_onclickInstallButton()">click here to verify completion.</a>',f.setAttribute("html5","1"),c.removeChild(o),c.appendChild(f)}else{var c=o.parentNode;c.removeChild(o)}return!0},Y._dcp_dwt_onclickInstallButton=function(){var i=document.getElementById("dwt-install-url-div");i&&(i.style.display="none");var o=Y.Lib.one(".dynamsoft-dwt-dlg-title");o&&o.style("display","");var c=Y.Lib.one(".dynamsoft-dwt-dlg-title-error");c&&c.style("display","none");var f=document.getElementById("dwt-btn-install");return f&&setTimeout(function(){if(f.getAttribute("html5")=="1"){var g=f.parentNode,v=document.createElement("div");v.id="dwt-btn-install",v.style.textAlign="center",v.style.paddingBottom="15px",v.style.fontSize="14px",v.innerHTML="Connecting to the service...",v.setAttribute("html5","1"),g.removeChild(f),g.appendChild(v),t=new Date,setTimeout(Y._dwt_Reconnect,10)}else{var g=f.parentNode;g.removeChild(f)}},10),!0},Y._dwt_Reconnect=function(){var i=Y;if((new Date-t)/1e3>10){var o=document.getElementById("dwt-btn-install");o&&(o.innerHTML='Please make sure your installation is successful. <a href="javascript:void(0)" onclick="Dynamsoft._dcp_dwt_onclickInstallButton()">Click here to try reconnecting</a>.');var c=Y.Lib.one(".dynamsoft-dwt-dlg-title");c&&c.style("display","none");var f=Y.Lib.one(".dynamsoft-dwt-dlg-title-error");f&&(f.html("Failed to connect to the service!"),f.style("display",""));return}if(i.DWT){var g=500;navigator.userAgent.indexOf("Safari")>-1&&(g=2e3),i.DWT.CheckConnectToTheService(function(){Y.DWT.CloseDialog(),Y.DWT.ConnectToTheService()},function(){if(Y.DWT.NeedCheckWebTwainBySocket()){Y.DWT.CheckWebTwainBySocket(function(){Y.OnHTTPCorsError()},function(){setTimeout(Y._dwt_Reconnect,g)},function(){setTimeout(Y._dwt_Reconnect,g)});return}setTimeout(Y._dwt_Reconnect,g)})}else console.log("The Dynamsoft namespace is missing")},Y._show_android_install_dialog=function(i,o){var c;if(Y.DWT.bNpm&&Y.navInfoSync.bFileSystem)return Y._show_online_download_dialog(i,bHTML5,iPlatform);c=[],Y.DWT?(c.push('<div class="ds-dwt-ui-dlg-android">'),c.push("<div>Please download and "),o?c.push("update"):c.push("install"),c.push(" the <strong>DYNAMSOFT SERVICE</strong> app via the </div>"),c.push('<div><a target="_blank" href="'),c.push(i.default),c.push('" onclick="Dynamsoft._dwt_ReconnectForAndroid()">direct APK download link</a>.</div>'),c.push("</div>"),c.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left">'),c.push("If you have "),o?c.push("updated"):c.push("installed"),c.push(" it, please click on the button below to initiate the connection."),c.push('<a target="_blank" href="'),c.push(i.openService),c.push('" onclick="Dynamsoft._dwt_ReconnectForAndroid()"><div class="dynamsoft-dwt-dlg-button-android">Open Service</div></a>'),c.push("</div>"),c.push("</div>"),Y.DWT.ShowMessage(c.join(""),{width:335,headerStyle:1,backgroundStyle:1})):console.log("The Dynamsoft namespace is missing"),Y.DWT&&Y.DWT.OnWebTwainNotFound&&Y.DWT.OnWebTwainNotFound()},Y._dwt_ReconnectForAndroid=function(){Y.DWT.CheckConnectToTheService(function(i){i?(Y.DWT.CloseDialog(),Y.DWT.ConnectToTheService()):setTimeout(Y._dwt_ReconnectForAndroid,500)},function(){setTimeout(Y._dwt_ReconnectForAndroid,500)})},Y.OnWebTwainNeedUpgradeCallback=function(i,o,c,f,g,v,C,T){Y._show_install_dialog(i,o,c,f,g,v,C,T,!0,!0)},Y.OnWebTwainNeedUpgradeOnAndroidCallback=function(i,o,c){Y.OnWebTwainNotFoundOnAndroidCallback(i,o,c,!0)},Y.OnLTSLicenseError=function(i,o){var c="",f;if(o==-2440||o==-2441||o==-2443||o==-2446||i.indexOf("Internet connection")>-1||i.indexOf("Storage")>-1){var g="https://www.dynamsoft.com/customer/license/trialLicense?product=dwt&deploymenttype=js";c='<div>You can register for a free 30-day trial <a href="'+g+'" target="_blank" class="dynamsoft-major-color">here</a>. Make sure to select the product Dynamic Web TWAIN.</div>'}f=[i,c],Y.DWT.ShowMessage(f.join(""),{width:e,headerStyle:2})},Y.OnLTSConnectionWarning=function(){var i=["Warning: You are seeing this dialog because Dynamic Web TWAIN has failed to connect to the License Tracking Server. ","A cached authorization is being used, and you can continue to use the software as usual. ","Please get connected to the network as soon as possible. ",Y.DWT.isPublicLicense()?'<a class="dynamsoft-major-color" href="https://www.dynamsoft.com/company/contact/">Contact Dynamsoft</a> ':"Contact the site administrator ","for more information."].join("");Y.DWT.ShowMessage(i,{width:e,caption:"Warning",headerStyle:2})},Y.OnLTSPublicLicenseWarning=function(i){Y.DWT.ShowMessage(i,{width:e,caption:"Warning",headerStyle:2})},Y.OnLicenseExpiredWarning=function(i,o,c){var f,g,v='<a target="_blank" href="https://www.dynamsoft.com/store/dynamic-web-twain/#DynamicWebTWAIN">online store</a>',C="https://www.dynamsoft.com/customer/license/trialLicense?product=dwt&utm_source=in-product";if(!(o>5||!c)){if(o>0){var T;o<=1?T="1 day":T=parseInt(o)+" days",g="Warning",f=['<div style="padding:0 0 10px 0">Kindly note your trial key is expiring in ',T,". Two quick steps to extend your trial:</div>",'<div style="margin:0 0 0 10px">1. <a target="_blank" href="',C,'">Request a new trial key</a> and follow the instructions to set the new key</div>','<div style="margin:0 0 0 10px">2. Refresh your scan page and try again</div>','<div style="padding:0">If you are ready to purchase a full license, please go to the ',v,".</div>"].join("")}else f=['<div style="padding:0">Sorry. Your product key has expired on ',i,". You can purchase a full license at the ",v,".</div>",'<div style="padding:0">Or, you can try requesting a new product key at <a target="_blank" href="',C,'">this page</a>.</div>'].join("");f&&Y.DWT.ShowMessage(f,{width:e,caption:g,headerStyle:2})}},Y.OnLicenseError=Y.OnLicenseError||function(i,o){Y.DWT.ShowMessage(Y.ProcessLicenseErrorContent(i),{width:e,headerStyle:2})},Y.OnCorsConfigError=function(i){var o=[i," Please contact the Administrator to configure 'Access-Control-Allow-Origin'."].join("");Y.DWT.ShowMessage(o,{width:e,headerStyle:2})},Y.ProcessLicenseErrorContent=function(i){var o=[],c=i;if(typeof c!="string"){if(c===void 0)return"";c instanceof Error||"message"in c?c=c.message:c=""+c}var f=c.indexOf("["),g=c.indexOf("]",f),v=c.indexOf("(",g),C=c.indexOf(")",v);if(f==-1||g==-1||v==-1||C==-1)return c;f>0&&o.push(c.substring(0,f));var T=c.substring(f+1,g),E=c.substring(v+1,C);return o.push(['<a href="',E,'" target="_blank" class="dynamsoft-major-color">',T,"</a>"].join("")),o.push(c.substring(C+1)),o.join("")},Y._show_online_download_dialog=function(i,o,c){var f,g=Y.DWT.JSVersion.split(","),v=g[0]+"."+g[1],C=location.pathname,T,E,A;C=C.substring(0,C.lastIndexOf("/")+1),c==Y.DWT.EnumDWT_PlatformType.enumLinux&&(arm64||mips64)&&(arm64?i.default=getDebPath("arm64"):mips64&&(i.default=getDebPath("mips64el"))),A=i.default.substr(i.default.length-3),T=["https://www.dynamsoft.com/web-twain/install-dynamsoft-service/?productId=1000001","&downloadLink=https://demo.dynamsoft.com/DWT/Resources/dist/DynamsoftServiceSetup_",v,".",A].join(""),E=Y.Lib.Path.normalize([C,i.default].join("")),c==Y.DWT.EnumDWT_PlatformType.enumWindow&&E.indexOf("/")==0&&(E=E.substr(1)),f=['<div class="dynamsoft-dwt-ltsdlg-body" style="padding:0 20px 20px 20px">',"<div>To support document scanning, please complete one-time installation of the DynamsoftServiceSetup.",A," on this machine.</div>","<div>You can download the file via this trust site:</div>",'<div><a id="dwt-btn-install" target="_blank" href="',T,'"><div class="dynamsoft-dwt-dlg-button">Open Site</div></a></div>','<div style="word-break: break-word;">Or, go to <br />',E," if the file exists.</div>","<div>After the installation, please <strong>REFRESH</strong>  your browser.<br /></div>","</div>"],Y.DWT.ShowMessage(f.join(""),{width:e,headerStyle:1,closeButton:!1})}})();Y.DWT.AutoLoad=!1;Y.DWT.IfAddMD5InUploadHeader=!1;Y.DWT.IfConfineMaskWithinTheViewer=!1;const Ec=Y;function fPe({onHandleImage:e}){const[t,i]=ve.useState([]),o=ve.useRef(),[c]=ve.useState({cols:2,rows:2}),[f,g]=ve.useState(""),v=E=>{o.current=E,T()},C=async()=>{console.log("not found")},T=()=>{const E=o.current;if(console.log(E),E){const A=E.GetSourceNames(!1);i(A),A.length>0&&g(A[0])}};return Ie.jsxs("div",{children:[Ie.jsx(hPe,{width:"100%",height:"100%",onWebTWAINReady:v,onWebTWAINNotFound:C,viewMode:c,onHandleImage:e}),"Select Scanner:",Ie.jsx("select",{value:f,style:{width:"100%"},children:t.map(E=>Ie.jsx("option",{value:E,children:E},E))})]})}const hPe=e=>{const t="dwtcontrolContainer",i=ve.useRef(null);return ve.useEffect(()=>{if(Ec.DWT.RegisterEvent("OnWebTwainReady",()=>{const o=Ec.DWT.GetWebTwain(t);o.Viewer.width="100%",o.Viewer.height="100%",e.width&&i.current&&(i.current.style.width=e.width),e.height&&i.current&&(i.current.style.height=e.height),e.onWebTWAINReady&&e.onWebTWAINReady(o),e.viewMode&&o.Viewer.setViewMode(e.viewMode.cols,e.viewMode.rows)}),e.onWebTWAINNotFound){const o=()=>{e.onWebTWAINNotFound&&e.onWebTWAINNotFound()},c=Ec;c.OnWebTwainNotFoundOnWindowsCallback=o,c.OnWebTwainNotFoundOnMacCallback=o,c.OnWebTwainNotFoundOnLinuxCallback=o}e.license&&(Ec.DWT.ProductKey=e.license),Ec.DWT.ResourcesPath="/dwt-resources",Ec.DWT.Containers=[{WebTwainId:"dwtObject",ContainerId:t}],Ec.DWT.Load()},[]),ve.useEffect(()=>{const o=Ec.DWT.GetWebTwain(t);o&&e.viewMode&&o.Viewer.setViewMode(e.viewMode.cols,e.viewMode.rows)},[e.viewMode]),Ie.jsx("div",{ref:i,id:t})};var B7={exports:{}};(function(e,t){(function(o,c){e.exports=c(ve)})(Jg,function(i){return function(o){var c={};function f(g){if(c[g])return c[g].exports;var v=c[g]={i:g,l:!1,exports:{}};return o[g].call(v.exports,v,v.exports,f),v.l=!0,v.exports}return f.m=o,f.c=c,f.d=function(g,v,C){f.o(g,v)||Object.defineProperty(g,v,{enumerable:!0,get:C})},f.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},f.t=function(g,v){if(v&1&&(g=f(g)),v&8||v&4&&typeof g=="object"&&g&&g.__esModule)return g;var C=Object.create(null);if(f.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:g}),v&2&&typeof g!="string")for(var T in g)f.d(C,T,(function(E){return g[E]}).bind(null,T));return C},f.n=function(g){var v=g&&g.__esModule?function(){return g.default}:function(){return g};return f.d(v,"a",v),v},f.o=function(g,v){return Object.prototype.hasOwnProperty.call(g,v)},f.p="",f(f.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(o,c,f){f.r(c);var g=f("react"),v=function(){var P=function(O,w){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,M){N.__proto__=M}||function(N,M){for(var k in M)M.hasOwnProperty(k)&&(N[k]=M[k])},P(O,w)};return function(O,w){P(O,w);function N(){this.constructor=O}O.prototype=w===null?Object.create(w):(N.prototype=w.prototype,new N)}}(),C=function(){return C=Object.assign||function(P){for(var O,w=1,N=arguments.length;w<N;w++){O=arguments[w];for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(P[M]=O[M])}return P},C.apply(this,arguments)},T=function(P,O){var w={};for(var N in P)Object.prototype.hasOwnProperty.call(P,N)&&O.indexOf(N)<0&&(w[N]=P[N]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,N=Object.getOwnPropertySymbols(P);M<N.length;M++)O.indexOf(N[M])<0&&Object.prototype.propertyIsEnumerable.call(P,N[M])&&(w[N[M]]=P[N[M]]);return w};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(O){var w=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return w?new Promise(function(N,M){w.call(navigator,O,N,M)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function E(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var A=function(P){v(O,P);function O(w){var N=P.call(this,w)||this;return N.canvas=null,N.ctx=null,N.requestUserMediaId=0,N.unmounted=!1,N.state={hasUserMedia:!1},N}return O.prototype.componentDidMount=function(){var w=this,N=w.state,M=w.props;if(this.unmounted=!1,!E()){M.onUserMediaError("getUserMedia not supported");return}N.hasUserMedia||this.requestUserMedia(),M.children&&typeof M.children!="function"&&console.warn("children must be a function")},O.prototype.componentDidUpdate=function(w){var N=this.props;if(!E()){N.onUserMediaError("getUserMedia not supported");return}var M=JSON.stringify(w.audioConstraints)!==JSON.stringify(N.audioConstraints),k=JSON.stringify(w.videoConstraints)!==JSON.stringify(N.videoConstraints),R=w.minScreenshotWidth!==N.minScreenshotWidth,L=w.minScreenshotHeight!==N.minScreenshotHeight;(k||R||L)&&(this.canvas=null,this.ctx=null),(M||k)&&(this.stopAndCleanup(),this.requestUserMedia())},O.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},O.stopMediaStream=function(w){w&&(w.getVideoTracks&&w.getAudioTracks?(w.getVideoTracks().map(function(N){w.removeTrack(N),N.stop()}),w.getAudioTracks().map(function(N){w.removeTrack(N),N.stop()})):w.stop())},O.prototype.stopAndCleanup=function(){var w=this.state;w.hasUserMedia&&(O.stopMediaStream(this.stream),w.src&&window.URL.revokeObjectURL(w.src))},O.prototype.getScreenshot=function(w){var N=this,M=N.state,k=N.props;if(!M.hasUserMedia)return null;var R=this.getCanvas(w);return R&&R.toDataURL(k.screenshotFormat,k.screenshotQuality)},O.prototype.getCanvas=function(w){var N=this,M=N.state,k=N.props;if(!this.video||!M.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var R=this.video.videoWidth,L=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var K=R/L;R=k.minScreenshotWidth||this.video.clientWidth,L=R/K,k.minScreenshotHeight&&L<k.minScreenshotHeight&&(L=k.minScreenshotHeight,R=L*K)}this.canvas=document.createElement("canvas"),this.canvas.width=(w==null?void 0:w.width)||R,this.canvas.height=(w==null?void 0:w.height)||L,this.ctx=this.canvas.getContext("2d")}var de=this,ee=de.ctx,Q=de.canvas;return ee&&Q&&(Q.width=(w==null?void 0:w.width)||Q.width,Q.height=(w==null?void 0:w.height)||Q.height,k.mirrored&&(ee.translate(Q.width,0),ee.scale(-1,1)),ee.imageSmoothingEnabled=k.imageSmoothing,ee.drawImage(this.video,0,0,(w==null?void 0:w.width)||Q.width,(w==null?void 0:w.height)||Q.height),k.mirrored&&(ee.scale(-1,1),ee.translate(-Q.width,0))),Q},O.prototype.requestUserMedia=function(){var w=this,N=this.props,M=function(L,K){var de={video:typeof K<"u"?K:!0};N.audio&&(de.audio=typeof L<"u"?L:!0),w.requestUserMediaId++;var ee=w.requestUserMediaId;navigator.mediaDevices.getUserMedia(de).then(function(Q){w.unmounted||ee!==w.requestUserMediaId?O.stopMediaStream(Q):w.handleUserMedia(null,Q)}).catch(function(Q){w.handleUserMedia(Q)})};if("mediaDevices"in navigator)M(N.audioConstraints,N.videoConstraints);else{var k=function(L){return{optional:[{sourceId:L}]}},R=function(L){var K=L.deviceId;return typeof K=="string"?K:Array.isArray(K)&&K.length>0?K[0]:typeof K=="object"&&K.ideal?K.ideal:null};MediaStreamTrack.getSources(function(L){var K=null,de=null;L.forEach(function(ce){ce.kind==="audio"?K=ce.id:ce.kind==="video"&&(de=ce.id)});var ee=R(N.audioConstraints);ee&&(K=ee);var Q=R(N.videoConstraints);Q&&(de=Q),M(k(K),k(de))})}},O.prototype.handleUserMedia=function(w,N){var M=this.props;if(w||!N){this.setState({hasUserMedia:!1}),M.onUserMediaError(w);return}this.stream=N;try{this.video&&(this.video.srcObject=N),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(N)})}M.onUserMedia(N)},O.prototype.render=function(){var w=this,N=this,M=N.state,k=N.props,R=k.audio;k.forceScreenshotSourceSize;var L=k.disablePictureInPicture;k.onUserMedia,k.onUserMediaError,k.screenshotFormat,k.screenshotQuality,k.minScreenshotWidth,k.minScreenshotHeight,k.audioConstraints,k.videoConstraints,k.imageSmoothing;var K=k.mirrored,de=k.style,ee=de===void 0?{}:de,Q=k.children,ce=T(k,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),he=K?C(C({},ee),{transform:(ee.transform||"")+" scaleX(-1)"}):ee,le={getScreenshot:this.getScreenshot.bind(this)};return g.createElement(g.Fragment,null,g.createElement("video",C({autoPlay:!0,disablePictureInPicture:L,src:M.src,muted:!R,playsInline:!0,ref:function(fe){w.video=fe},style:he},ce)),Q&&Q(le))},O.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},O}(g.Component);c.default=A},react:function(o,c){o.exports=i}}).default})})(B7);var pPe=B7.exports;const U7=Fh(pPe);var Gj=!1,Hl,ek,tk,mS,vS,V7,_S,rk,nk,ik,j7,ok,ak,G7,z7;function vo(){if(!Gj){Gj=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),i=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(ok=/\b(iPhone|iP[ao]d)/.exec(e),ak=/\b(iP[ao]d)/.exec(e),ik=/Android/i.exec(e),G7=/FBAN\/\w+;/i.exec(e),z7=/Mobile/i.exec(e),j7=!!/Win64/.exec(e),t){Hl=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Hl&&document&&document.documentMode&&(Hl=document.documentMode);var o=/(?:Trident\/(\d+.\d+))/.exec(e);V7=o?parseFloat(o[1])+4:Hl,ek=t[2]?parseFloat(t[2]):NaN,tk=t[3]?parseFloat(t[3]):NaN,mS=t[4]?parseFloat(t[4]):NaN,mS?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),vS=t&&t[1]?parseFloat(t[1]):NaN):vS=NaN}else Hl=ek=tk=vS=mS=NaN;if(i){if(i[1]){var c=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);_S=c?parseFloat(c[1].replace("_",".")):!0}else _S=!1;rk=!!i[2],nk=!!i[3]}else _S=rk=nk=!1}}var sk={ie:function(){return vo()||Hl},ieCompatibilityMode:function(){return vo()||V7>Hl},ie64:function(){return sk.ie()&&j7},firefox:function(){return vo()||ek},opera:function(){return vo()||tk},webkit:function(){return vo()||mS},safari:function(){return sk.webkit()},chrome:function(){return vo()||vS},windows:function(){return vo()||rk},osx:function(){return vo()||_S},linux:function(){return vo()||nk},iphone:function(){return vo()||ok},mobile:function(){return vo()||ok||ak||ik||z7},nativeApp:function(){return vo()||G7},android:function(){return vo()||ik},ipad:function(){return vo()||ak}},gPe=sk,My=!!(typeof window<"u"&&window.document&&window.document.createElement),mPe={canUseDOM:My,canUseWorkers:typeof Worker<"u",canUseEventListeners:My&&!!(window.addEventListener||window.attachEvent),canUseViewport:My&&!!window.screen,isInWorker:!My},vPe=mPe,H7=vPe,$7;H7.canUseDOM&&($7=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function _Pe(e,t){if(!H7.canUseDOM||t&&!("addEventListener"in document))return!1;var i="on"+e,o=i in document;if(!o){var c=document.createElement("div");c.setAttribute(i,"return;"),o=typeof c[i]=="function"}return!o&&$7&&e==="wheel"&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}var yPe=_Pe,SPe=gPe,bPe=yPe,zj=10,Hj=40,$j=800;function K7(e){var t=0,i=0,o=0,c=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),o=t*zj,c=i*zj,"deltaY"in e&&(c=e.deltaY),"deltaX"in e&&(o=e.deltaX),(o||c)&&e.deltaMode&&(e.deltaMode==1?(o*=Hj,c*=Hj):(o*=$j,c*=$j)),o&&!t&&(t=o<1?-1:1),c&&!i&&(i=c<1?-1:1),{spinX:t,spinY:i,pixelX:o,pixelY:c}}K7.getEventType=function(){return SPe.firefox()?"DOMMouseScroll":bPe("wheel")?"wheel":"mousewheel"};var CPe=K7,TPe=CPe;const IPe=Fh(TPe);function wPe(e,t,i,o,c,f){f===void 0&&(f=0);var g=Rh(e,t,f),v=g.width,C=g.height,T=Math.min(v,i),E=Math.min(C,o);return T>E*c?{width:E*c,height:E}:{width:T,height:T/c}}function EPe(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function Qg(e,t,i,o,c){c===void 0&&(c=0);var f=Rh(t.width,t.height,c),g=f.width,v=f.height;return{x:Kj(e.x,g,i.width,o),y:Kj(e.y,v,i.height,o)}}function Kj(e,t,i,o){var c=t*o/2-i/2;return v1(e,-c,c)}function Yj(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function Xj(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function xPe(e,t,i,o,c,f,g){f===void 0&&(f=0),g===void 0&&(g=!0);var v=g?APe:PPe,C=Rh(t.width,t.height,f),T=Rh(t.naturalWidth,t.naturalHeight,f),E={x:v(100,((C.width-i.width/c)/2-e.x/c)/C.width*100),y:v(100,((C.height-i.height/c)/2-e.y/c)/C.height*100),width:v(100,i.width/C.width*100/c),height:v(100,i.height/C.height*100/c)},A=Math.round(v(T.width,E.width*T.width/100)),P=Math.round(v(T.height,E.height*T.height/100)),O=T.width>=T.height*o,w=O?{width:Math.round(P*o),height:P}:{width:A,height:Math.round(A/o)},N=_i(_i({},w),{x:Math.round(v(T.width-w.width,E.x*T.width/100)),y:Math.round(v(T.height-w.height,E.y*T.height/100))});return{croppedAreaPercentages:E,croppedAreaPixels:N}}function APe(e,t){return Math.min(e,Math.max(0,t))}function PPe(e,t){return t}function kPe(e,t,i,o,c,f){var g=Rh(t.width,t.height,i),v=v1(o.width/g.width*(100/e.width),c,f),C={x:v*g.width/2-o.width/2-g.width*v*(e.x/100),y:v*g.height/2-o.height/2-g.height*v*(e.y/100)};return{crop:C,zoom:v}}function DPe(e,t,i){var o=EPe(t);return i.height>i.width?i.height/(e.height*o):i.width/(e.width*o)}function RPe(e,t,i,o,c,f){i===void 0&&(i=0);var g=Rh(t.naturalWidth,t.naturalHeight,i),v=v1(DPe(e,t,o),c,f),C=o.height>o.width?o.height/e.height:o.width/e.width,T={x:((g.width-e.width)/2-e.x)*C,y:((g.height-e.height)/2-e.y)*C};return{crop:T,zoom:v}}function Qj(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function FPe(e){return e*Math.PI/180}function Rh(e,t,i){var o=FPe(i);return{width:Math.abs(Math.cos(o)*e)+Math.abs(Math.sin(o)*t),height:Math.abs(Math.sin(o)*e)+Math.abs(Math.cos(o)*t)}}function v1(e,t,i){return Math.min(Math.max(e,t),i)}function Ly(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(i){return typeof i=="string"&&i.length>0}).join(" ").trim()}var OPe=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,NPe=1,MPe=3,LPe=1,WPe=function(e){pwe(t,e);function t(){var i=e!==null&&e.apply(this,arguments)||this;return i.imageRef=ve.createRef(),i.videoRef=ve.createRef(),i.containerPosition={x:0,y:0},i.containerRef=null,i.styleRef=null,i.containerRect=null,i.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},i.dragStartPosition={x:0,y:0},i.dragStartCrop={x:0,y:0},i.gestureZoomStart=0,i.gestureRotationStart=0,i.isTouching=!1,i.lastPinchDistance=0,i.lastPinchRotation=0,i.rafDragTimeout=null,i.rafPinchTimeout=null,i.wheelTimer=null,i.currentDoc=typeof document<"u"?document:null,i.currentWindow=typeof window<"u"?window:null,i.resizeObserver=null,i.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},i.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!i.containerRef)){var o=!0;i.resizeObserver=new window.ResizeObserver(function(c){if(o){o=!1;return}i.computeSizes()}),i.resizeObserver.observe(i.containerRef)}},i.preventZoomSafari=function(o){return o.preventDefault()},i.cleanEvents=function(){i.currentDoc&&(i.currentDoc.removeEventListener("mousemove",i.onMouseMove),i.currentDoc.removeEventListener("mouseup",i.onDragStopped),i.currentDoc.removeEventListener("touchmove",i.onTouchMove),i.currentDoc.removeEventListener("touchend",i.onDragStopped),i.currentDoc.removeEventListener("gesturemove",i.onGestureMove),i.currentDoc.removeEventListener("gestureend",i.onGestureEnd),i.currentDoc.removeEventListener("scroll",i.onScroll))},i.clearScrollEvent=function(){i.containerRef&&i.containerRef.removeEventListener("wheel",i.onWheel),i.wheelTimer&&clearTimeout(i.wheelTimer)},i.onMediaLoad=function(){var o=i.computeSizes();o&&(i.emitCropData(),i.setInitialCrop(o)),i.props.onMediaLoaded&&i.props.onMediaLoaded(i.mediaSize)},i.setInitialCrop=function(o){if(i.props.initialCroppedAreaPercentages){var c=kPe(i.props.initialCroppedAreaPercentages,i.mediaSize,i.props.rotation,o,i.props.minZoom,i.props.maxZoom),f=c.crop,g=c.zoom;i.props.onCropChange(f),i.props.onZoomChange&&i.props.onZoomChange(g)}else if(i.props.initialCroppedAreaPixels){var v=RPe(i.props.initialCroppedAreaPixels,i.mediaSize,i.props.rotation,o,i.props.minZoom,i.props.maxZoom),f=v.crop,g=v.zoom;i.props.onCropChange(f),i.props.onZoomChange&&i.props.onZoomChange(g)}},i.computeSizes=function(){var o,c,f,g,v,C,T=i.imageRef.current||i.videoRef.current;if(T&&i.containerRef){i.containerRect=i.containerRef.getBoundingClientRect(),i.saveContainerPosition();var E=i.containerRect.width/i.containerRect.height,A=((o=i.imageRef.current)===null||o===void 0?void 0:o.naturalWidth)||((c=i.videoRef.current)===null||c===void 0?void 0:c.videoWidth)||0,P=((f=i.imageRef.current)===null||f===void 0?void 0:f.naturalHeight)||((g=i.videoRef.current)===null||g===void 0?void 0:g.videoHeight)||0,O=T.offsetWidth<A||T.offsetHeight<P,w=A/P,N=void 0;if(O)switch(i.state.mediaObjectFit){default:case"contain":N=E>w?{width:i.containerRect.height*w,height:i.containerRect.height}:{width:i.containerRect.width,height:i.containerRect.width/w};break;case"horizontal-cover":N={width:i.containerRect.width,height:i.containerRect.width/w};break;case"vertical-cover":N={width:i.containerRect.height*w,height:i.containerRect.height};break}else N={width:T.offsetWidth,height:T.offsetHeight};i.mediaSize=_i(_i({},N),{naturalWidth:A,naturalHeight:P}),i.props.setMediaSize&&i.props.setMediaSize(i.mediaSize);var M=i.props.cropSize?i.props.cropSize:wPe(i.mediaSize.width,i.mediaSize.height,i.containerRect.width,i.containerRect.height,i.props.aspect,i.props.rotation);return(((v=i.state.cropSize)===null||v===void 0?void 0:v.height)!==M.height||((C=i.state.cropSize)===null||C===void 0?void 0:C.width)!==M.width)&&i.props.onCropSizeChange&&i.props.onCropSizeChange(M),i.setState({cropSize:M},i.recomputeCropPosition),i.props.setCropSize&&i.props.setCropSize(M),M}},i.saveContainerPosition=function(){if(i.containerRef){var o=i.containerRef.getBoundingClientRect();i.containerPosition={x:o.left,y:o.top}}},i.onMouseDown=function(o){i.currentDoc&&(o.preventDefault(),i.currentDoc.addEventListener("mousemove",i.onMouseMove),i.currentDoc.addEventListener("mouseup",i.onDragStopped),i.saveContainerPosition(),i.onDragStart(t.getMousePoint(o)))},i.onMouseMove=function(o){return i.onDrag(t.getMousePoint(o))},i.onScroll=function(o){i.currentDoc&&(o.preventDefault(),i.saveContainerPosition())},i.onTouchStart=function(o){i.currentDoc&&(i.isTouching=!0,!(i.props.onTouchRequest&&!i.props.onTouchRequest(o))&&(i.currentDoc.addEventListener("touchmove",i.onTouchMove,{passive:!1}),i.currentDoc.addEventListener("touchend",i.onDragStopped),i.saveContainerPosition(),o.touches.length===2?i.onPinchStart(o):o.touches.length===1&&i.onDragStart(t.getTouchPoint(o.touches[0]))))},i.onTouchMove=function(o){o.preventDefault(),o.touches.length===2?i.onPinchMove(o):o.touches.length===1&&i.onDrag(t.getTouchPoint(o.touches[0]))},i.onGestureStart=function(o){i.currentDoc&&(o.preventDefault(),i.currentDoc.addEventListener("gesturechange",i.onGestureMove),i.currentDoc.addEventListener("gestureend",i.onGestureEnd),i.gestureZoomStart=i.props.zoom,i.gestureRotationStart=i.props.rotation)},i.onGestureMove=function(o){if(o.preventDefault(),!i.isTouching){var c=t.getMousePoint(o),f=i.gestureZoomStart-1+o.scale;if(i.setNewZoom(f,c,{shouldUpdatePosition:!0}),i.props.onRotationChange){var g=i.gestureRotationStart+o.rotation;i.props.onRotationChange(g)}}},i.onGestureEnd=function(o){i.cleanEvents()},i.onDragStart=function(o){var c,f,g=o.x,v=o.y;i.dragStartPosition={x:g,y:v},i.dragStartCrop=_i({},i.props.crop),(f=(c=i.props).onInteractionStart)===null||f===void 0||f.call(c)},i.onDrag=function(o){var c=o.x,f=o.y;i.currentWindow&&(i.rafDragTimeout&&i.currentWindow.cancelAnimationFrame(i.rafDragTimeout),i.rafDragTimeout=i.currentWindow.requestAnimationFrame(function(){if(i.state.cropSize&&!(c===void 0||f===void 0)){var g=c-i.dragStartPosition.x,v=f-i.dragStartPosition.y,C={x:i.dragStartCrop.x+g,y:i.dragStartCrop.y+v},T=i.props.restrictPosition?Qg(C,i.mediaSize,i.state.cropSize,i.props.zoom,i.props.rotation):C;i.props.onCropChange(T)}}))},i.onDragStopped=function(){var o,c;i.isTouching=!1,i.cleanEvents(),i.emitCropData(),(c=(o=i.props).onInteractionEnd)===null||c===void 0||c.call(o)},i.onWheel=function(o){if(i.currentWindow&&!(i.props.onWheelRequest&&!i.props.onWheelRequest(o))){o.preventDefault();var c=t.getMousePoint(o),f=IPe(o).pixelY,g=i.props.zoom-f*i.props.zoomSpeed/200;i.setNewZoom(g,c,{shouldUpdatePosition:!0}),i.state.hasWheelJustStarted||i.setState({hasWheelJustStarted:!0},function(){var v,C;return(C=(v=i.props).onInteractionStart)===null||C===void 0?void 0:C.call(v)}),i.wheelTimer&&clearTimeout(i.wheelTimer),i.wheelTimer=i.currentWindow.setTimeout(function(){return i.setState({hasWheelJustStarted:!1},function(){var v,C;return(C=(v=i.props).onInteractionEnd)===null||C===void 0?void 0:C.call(v)})},250)}},i.getPointOnContainer=function(o,c){var f=o.x,g=o.y;if(!i.containerRect)throw new Error("The Cropper is not mounted");return{x:i.containerRect.width/2-(f-c.x),y:i.containerRect.height/2-(g-c.y)}},i.getPointOnMedia=function(o){var c=o.x,f=o.y,g=i.props,v=g.crop,C=g.zoom;return{x:(c+v.x)/C,y:(f+v.y)/C}},i.setNewZoom=function(o,c,f){var g=f===void 0?{}:f,v=g.shouldUpdatePosition,C=v===void 0?!0:v;if(!(!i.state.cropSize||!i.props.onZoomChange)){var T=v1(o,i.props.minZoom,i.props.maxZoom);if(C){var E=i.getPointOnContainer(c,i.containerPosition),A=i.getPointOnMedia(E),P={x:A.x*T-E.x,y:A.y*T-E.y},O=i.props.restrictPosition?Qg(P,i.mediaSize,i.state.cropSize,T,i.props.rotation):P;i.props.onCropChange(O)}i.props.onZoomChange(T)}},i.getCropData=function(){if(!i.state.cropSize)return null;var o=i.props.restrictPosition?Qg(i.props.crop,i.mediaSize,i.state.cropSize,i.props.zoom,i.props.rotation):i.props.crop;return xPe(o,i.mediaSize,i.state.cropSize,i.getAspect(),i.props.zoom,i.props.rotation,i.props.restrictPosition)},i.emitCropData=function(){var o=i.getCropData();if(o){var c=o.croppedAreaPercentages,f=o.croppedAreaPixels;i.props.onCropComplete&&i.props.onCropComplete(c,f),i.props.onCropAreaChange&&i.props.onCropAreaChange(c,f)}},i.emitCropAreaChange=function(){var o=i.getCropData();if(o){var c=o.croppedAreaPercentages,f=o.croppedAreaPixels;i.props.onCropAreaChange&&i.props.onCropAreaChange(c,f)}},i.recomputeCropPosition=function(){if(i.state.cropSize){var o=i.props.restrictPosition?Qg(i.props.crop,i.mediaSize,i.state.cropSize,i.props.zoom,i.props.rotation):i.props.crop;i.props.onCropChange(o),i.emitCropData()}},i.onKeyDown=function(o){var c=i.props,f=c.crop,g=c.onCropChange,v=c.keyboardStep,C=c.zoom,T=c.rotation,E=v;if(i.state.cropSize){var A=_i({},f);switch(o.key){case"ArrowUp":A.y-=E;break;case"ArrowDown":A.y+=E;break;case"ArrowLeft":A.x-=E;break;case"ArrowRight":A.x+=E;break;default:return}i.props.restrictPosition&&(A=Qg(A,i.mediaSize,i.state.cropSize,C,T)),g(A)}},i}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=OPe,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},t.prototype.componentWillUnmount=function(){var i,o;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(i=this.resizeObserver)===null||i===void 0||i.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((o=this.styleRef.parentNode)===null||o===void 0||o.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(i){var o,c,f,g,v,C,T,E,A;i.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):i.aspect!==this.props.aspect?this.computeSizes():i.objectFit!==this.props.objectFit?this.computeSizes():i.zoom!==this.props.zoom?this.recomputeCropPosition():((o=i.cropSize)===null||o===void 0?void 0:o.height)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.height)||((f=i.cropSize)===null||f===void 0?void 0:f.width)!==((g=this.props.cropSize)===null||g===void 0?void 0:g.width)?this.computeSizes():(((v=i.crop)===null||v===void 0?void 0:v.x)!==((C=this.props.crop)===null||C===void 0?void 0:C.x)||((T=i.crop)===null||T===void 0?void 0:T.y)!==((E=this.props.crop)===null||E===void 0?void 0:E.y))&&this.emitCropAreaChange(),i.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),i.video!==this.props.video&&((A=this.videoRef.current)===null||A===void 0||A.load());var P=this.getObjectFit();P!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:P},this.computeSizes)},t.prototype.getAspect=function(){var i=this.props,o=i.cropSize,c=i.aspect;return o?o.width/o.height:c},t.prototype.getObjectFit=function(){var i,o,c,f;if(this.props.objectFit==="cover"){var g=this.imageRef.current||this.videoRef.current;if(g&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var v=this.containerRect.width/this.containerRect.height,C=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalWidth)||((o=this.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,T=((c=this.imageRef.current)===null||c===void 0?void 0:c.naturalHeight)||((f=this.videoRef.current)===null||f===void 0?void 0:f.videoHeight)||0,E=C/T;return E<v?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(i){var o=t.getTouchPoint(i.touches[0]),c=t.getTouchPoint(i.touches[1]);this.lastPinchDistance=Yj(o,c),this.lastPinchRotation=Xj(o,c),this.onDragStart(Qj(o,c))},t.prototype.onPinchMove=function(i){var o=this;if(!(!this.currentDoc||!this.currentWindow)){var c=t.getTouchPoint(i.touches[0]),f=t.getTouchPoint(i.touches[1]),g=Qj(c,f);this.onDrag(g),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var v=Yj(c,f),C=o.props.zoom*(v/o.lastPinchDistance);o.setNewZoom(C,g,{shouldUpdatePosition:!1}),o.lastPinchDistance=v;var T=Xj(c,f),E=o.props.rotation+(T-o.lastPinchRotation);o.props.onRotationChange&&o.props.onRotationChange(E),o.lastPinchRotation=T})}},t.prototype.render=function(){var i=this,o,c=this.props,f=c.image,g=c.video,v=c.mediaProps,C=c.transform,T=c.crop,E=T.x,A=T.y,P=c.rotation,O=c.zoom,w=c.cropShape,N=c.showGrid,M=c.style,k=M.containerStyle,R=M.cropAreaStyle,L=M.mediaStyle,K=c.classes,de=K.containerClassName,ee=K.cropAreaClassName,Q=K.mediaClassName,ce=(o=this.state.mediaObjectFit)!==null&&o!==void 0?o:this.getObjectFit();return ve.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(le){return i.containerRef=le},"data-testid":"container",style:k,className:Ly("reactEasyCrop_Container",de)},f?ve.createElement("img",_i({alt:"",className:Ly("reactEasyCrop_Image",ce==="contain"&&"reactEasyCrop_Contain",ce==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ce==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Q)},v,{src:f,ref:this.imageRef,style:_i(_i({},L),{transform:C||"translate(".concat(E,"px, ").concat(A,"px) rotate(").concat(P,"deg) scale(").concat(O,")")}),onLoad:this.onMediaLoad})):g&&ve.createElement("video",_i({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Ly("reactEasyCrop_Video",ce==="contain"&&"reactEasyCrop_Contain",ce==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ce==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Q)},v,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:_i(_i({},L),{transform:C||"translate(".concat(E,"px, ").concat(A,"px) rotate(").concat(P,"deg) scale(").concat(O,")")}),controls:!1}),(Array.isArray(g)?g:[{src:g}]).map(function(he){return ve.createElement("source",_i({key:he.src},he))})),this.state.cropSize&&ve.createElement("div",{style:_i(_i({},R),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,"data-testid":"cropper",className:Ly("reactEasyCrop_CropArea",w==="round"&&"reactEasyCrop_CropAreaRound",N&&"reactEasyCrop_CropAreaGrid",ee)}))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:MPe,minZoom:NPe,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:LPe},t.getMousePoint=function(i){return{x:Number(i.clientX),y:Number(i.clientY)}},t.getTouchPoint=function(i){return{x:Number(i.clientX),y:Number(i.clientY)}},t}(ve.Component);const BPe=({onHandleImage:e})=>{const t=ve.useRef(null),[i,o]=ve.useState(null),[c,f]=ve.useState({x:0,y:0}),[g,v]=ve.useState(1),[C,T]=ve.useState(null),E=ve.useCallback(()=>{var N;const w=(N=t.current)==null?void 0:N.getScreenshot();w&&o(w)},[t]),A=ve.useCallback(w=>{T(w)},[]),P=async(w,N)=>{const M=new Image;M.src=w;const k=document.createElement("canvas"),R=k.getContext("2d");if(!R)return null;const L=M.naturalWidth/M.width,K=M.naturalHeight/M.height;return k.width=N.width,k.height=N.height,R.drawImage(M,N.x*L,N.y*K,N.width*L,N.height*K,0,0,N.width,N.height),new Promise(de=>{k.toBlob(ee=>{ee&&de(new File([ee],"cropped_image.png",{type:"image/png"}))},"image/png")})},O=async()=>{if(i&&C){const w=await P(i,C);w&&e(w)}};return Ie.jsx("div",{children:i?Ie.jsxs("div",{children:[Ie.jsx("div",{style:{position:"relative",width:"100%",height:400},children:Ie.jsx(WPe,{image:i,crop:c,zoom:g,aspect:4/3,onCropChange:f,onZoomChange:v,onCropComplete:A})}),Ie.jsx(jo,{onClick:O,children:"Crop"})]}):Ie.jsxs("div",{children:[Ie.jsx(U7,{audio:!1,capture:"environment",ref:t,screenshotFormat:"image/jpeg",width:"100%"}),Ie.jsx(jo,{onClick:E,children:"Capture"})]})})},Sb={x:0,y:0,width:0,height:0,unit:"px"},Ff=(e,t,i)=>Math.min(Math.max(e,t),i),UPe=(...e)=>e.filter(t=>t&&typeof t=="string").join(" "),Jj=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function Of(e,t,i){return e.unit==="%"?{...Sb,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/i*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/i*100:0}}function xc(e,t,i){return e.unit?e.unit==="px"?{...Sb,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*i/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*i/100:0}:{...Sb,...e,unit:"px"}}function qj(e,t,i,o,c,f=0,g=0,v=o,C=c){const T={...e};let E=Math.min(f,o),A=Math.min(g,c),P=Math.min(v,o),O=Math.min(C,c);t&&(t>1?(E=g?g*t:E,A=E/t,P=v*t):(A=f?f/t:A,E=A*t,O=C/t)),T.y<0&&(T.height=Math.max(T.height+T.y,A),T.y=0),T.x<0&&(T.width=Math.max(T.width+T.x,E),T.x=0);const w=o-(T.x+T.width);w<0&&(T.x=Math.min(T.x,o-E),T.width+=w);const N=c-(T.y+T.height);if(N<0&&(T.y=Math.min(T.y,c-A),T.height+=N),T.width<E&&((i==="sw"||i=="nw")&&(T.x-=E-T.width),T.width=E),T.height<A&&((i==="nw"||i=="ne")&&(T.y-=A-T.height),T.height=A),T.width>P&&((i==="sw"||i=="nw")&&(T.x-=P-T.width),T.width=P),T.height>O&&((i==="nw"||i=="ne")&&(T.y-=O-T.height),T.height=O),t){const M=T.width/T.height;if(M<t){const k=Math.max(T.width/t,A);(i==="nw"||i=="ne")&&(T.y-=k-T.height),T.height=k}else if(M>t){const k=Math.max(T.height*t,E);(i==="sw"||i=="nw")&&(T.x-=k-T.width),T.width=k}}return T}function VPe(e,t,i,o){const c={...e};return t==="ArrowLeft"?o==="nw"?(c.x-=i,c.y-=i,c.width+=i,c.height+=i):o==="w"?(c.x-=i,c.width+=i):o==="sw"?(c.x-=i,c.width+=i,c.height+=i):o==="ne"?(c.y+=i,c.width-=i,c.height-=i):o==="e"?c.width-=i:o==="se"&&(c.width-=i,c.height-=i):t==="ArrowRight"&&(o==="nw"?(c.x+=i,c.y+=i,c.width-=i,c.height-=i):o==="w"?(c.x+=i,c.width-=i):o==="sw"?(c.x+=i,c.width-=i,c.height-=i):o==="ne"?(c.y-=i,c.width+=i,c.height+=i):o==="e"?c.width+=i:o==="se"&&(c.width+=i,c.height+=i)),t==="ArrowUp"?o==="nw"?(c.x-=i,c.y-=i,c.width+=i,c.height+=i):o==="n"?(c.y-=i,c.height+=i):o==="ne"?(c.y-=i,c.width+=i,c.height+=i):o==="sw"?(c.x+=i,c.width-=i,c.height-=i):o==="s"?c.height-=i:o==="se"&&(c.width-=i,c.height-=i):t==="ArrowDown"&&(o==="nw"?(c.x+=i,c.y+=i,c.width-=i,c.height-=i):o==="n"?(c.y+=i,c.height-=i):o==="ne"?(c.y+=i,c.width-=i,c.height-=i):o==="sw"?(c.x-=i,c.width+=i,c.height+=i):o==="s"?c.height+=i:o==="se"&&(c.width+=i,c.height+=i)),c}const Nf={capture:!0,passive:!1};let jPe=0;const kc=class Xa extends ve.PureComponent{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=ve.createRef(),this.mediaRef=ve.createRef(),this.initChangeCalled=!1,this.instanceId=`rc-${jPe++}`,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=t=>{const{crop:i,disabled:o}=this.props,c=this.getBox();if(!i)return;const f=xc(i,c.width,c.height);if(o)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const g=t.target.dataset.ord,v=!!g;let C=t.clientX,T=t.clientY,E=f.x,A=f.y;if(g){const P=t.clientX-c.x,O=t.clientY-c.y;let w=0,N=0;g==="ne"||g=="e"?(w=P-(f.x+f.width),N=O-f.y,E=f.x,A=f.y+f.height):g==="se"||g==="s"?(w=P-(f.x+f.width),N=O-(f.y+f.height),E=f.x,A=f.y):g==="sw"||g=="w"?(w=P-f.x,N=O-(f.y+f.height),E=f.x+f.width,A=f.y):(g==="nw"||g=="n")&&(w=P-f.x,N=O-f.y,E=f.x+f.width,A=f.y+f.height),C=E+c.x+w,T=A+c.y+N}this.evData={startClientX:C,startClientY:T,startCropX:E,startCropY:A,clientX:t.clientX,clientY:t.clientY,isResize:v,ord:g},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=t=>{const{crop:i,disabled:o,locked:c,keepSelection:f,onChange:g}=this.props,v=this.getBox();if(o||c||f&&i)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const C=t.clientX-v.x,T=t.clientY-v.y,E={unit:"px",x:C,y:T,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:C,startCropY:T,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,g(xc(E,v.width,v.height),Of(E,v.width,v.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=t=>{const{crop:i,disabled:o,onChange:c,onDragStart:f}=this.props,g=this.getBox();if(o||!i||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,f&&f(t));const{evData:v}=this;v.clientX=t.clientX,v.clientY=t.clientY;let C;v.isResize?C=this.resizeCrop():C=this.dragCrop(),Jj(i,C)||c(xc(C,g.width,g.height),Of(C,g.width,g.height))},this.onComponentKeyDown=t=>{const{crop:i,disabled:o,onChange:c,onComplete:f}=this.props;if(o)return;const g=t.key;let v=!1;if(!i)return;const C=this.getBox(),T=this.makePixelCrop(C),E=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Xa.nudgeStepLarge:t.shiftKey?Xa.nudgeStepMedium:Xa.nudgeStep;if(g==="ArrowLeft"?(T.x-=E,v=!0):g==="ArrowRight"?(T.x+=E,v=!0):g==="ArrowUp"?(T.y-=E,v=!0):g==="ArrowDown"&&(T.y+=E,v=!0),v){t.cancelable&&t.preventDefault(),T.x=Ff(T.x,0,C.width-T.width),T.y=Ff(T.y,0,C.height-T.height);const A=xc(T,C.width,C.height),P=Of(T,C.width,C.height);c(A,P),f&&f(A,P)}},this.onHandlerKeyDown=(t,i)=>{const{aspect:o=0,crop:c,disabled:f,minWidth:g=0,minHeight:v=0,maxWidth:C,maxHeight:T,onChange:E,onComplete:A}=this.props,P=this.getBox();if(f||!c)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const O=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Xa.nudgeStepLarge:t.shiftKey?Xa.nudgeStepMedium:Xa.nudgeStep,w=xc(c,P.width,P.height),N=VPe(w,t.key,O,i),M=qj(N,o,i,P.width,P.height,g,v,C,T);if(!Jj(c,M)){const k=Of(M,P.width,P.height);E(M,k),A&&A(M,k)}},this.onDocPointerDone=t=>{const{crop:i,disabled:o,onComplete:c,onDragEnd:f}=this.props,g=this.getBox();this.unbindDocMove(),!(o||!i)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,f&&f(t),c&&c(xc(i,g.width,g.height),Of(i,g.width,g.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)}}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:i,y:o,width:c,height:f}=t.getBoundingClientRect();return{x:i,y:o,width:c,height:f}}componentDidUpdate(t){const{crop:i,onComplete:o}=this.props;if(o&&!t.crop&&i){const{width:c,height:f}=this.getBox();c&&f&&o(xc(i,c,f),Of(i,c,f))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Nf),this.document.addEventListener("pointerup",this.onDocPointerDone,Nf),this.document.addEventListener("pointercancel",this.onDocPointerDone,Nf),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Nf),this.document.removeEventListener("pointerup",this.onDocPointerDone,Nf),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Nf),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,i=this.getBox(),o=this.makePixelCrop(i),c=t.clientX-t.startClientX,f=t.clientY-t.startClientY;return o.x=Ff(t.startCropX+c,0,i.width-o.width),o.y=Ff(t.startCropY+f,0,i.height-o.height),o}getPointRegion(t,i,o,c){const{evData:f}=this,g=f.clientX-t.x,v=f.clientY-t.y;let C;c&&i?C=i==="nw"||i==="n"||i==="ne":C=v<f.startCropY;let T;return o&&i?T=i==="nw"||i==="w"||i==="sw":T=g<f.startCropX,T?C?"nw":"sw":C?"ne":"se"}resolveMinDimensions(t,i,o=0,c=0){const f=Math.min(o,t.width),g=Math.min(c,t.height);return!i||!f&&!g?[f,g]:i>1?f?[f,f/i]:[g*i,g]:g?[g*i,g]:[f,f/i]}resizeCrop(){const{evData:t}=this,{aspect:i=0,maxWidth:o,maxHeight:c}=this.props,f=this.getBox(),[g,v]=this.resolveMinDimensions(f,i,this.props.minWidth,this.props.minHeight);let C=this.makePixelCrop(f);const T=this.getPointRegion(f,t.ord,g,v),E=t.ord||T;let A=t.clientX-t.startClientX,P=t.clientY-t.startClientY;(g&&E==="nw"||E==="w"||E==="sw")&&(A=Math.min(A,-g)),(v&&E==="nw"||E==="n"||E==="ne")&&(P=Math.min(P,-v));const O={unit:"px",x:0,y:0,width:0,height:0};T==="ne"?(O.x=t.startCropX,O.width=A,i?(O.height=O.width/i,O.y=t.startCropY-O.height):(O.height=Math.abs(P),O.y=t.startCropY-O.height)):T==="se"?(O.x=t.startCropX,O.y=t.startCropY,O.width=A,i?O.height=O.width/i:O.height=P):T==="sw"?(O.x=t.startCropX+A,O.y=t.startCropY,O.width=Math.abs(A),i?O.height=O.width/i:O.height=P):T==="nw"&&(O.x=t.startCropX+A,O.width=Math.abs(A),i?(O.height=O.width/i,O.y=t.startCropY-O.height):(O.height=Math.abs(P),O.y=t.startCropY+P));const w=qj(O,i,T,f.width,f.height,g,v,o,c);return i||Xa.xyOrds.indexOf(E)>-1?C=w:Xa.xOrds.indexOf(E)>-1?(C.x=w.x,C.width=w.width):Xa.yOrds.indexOf(E)>-1&&(C.y=w.y,C.height=w.height),C.x=Ff(C.x,0,f.width-C.width),C.y=Ff(C.y,0,f.height-C.height),C}renderCropSelection(){const{ariaLabels:t=Xa.defaultProps.ariaLabels,disabled:i,locked:o,renderSelectionAddon:c,ruleOfThirds:f,crop:g}=this.props,v=this.getCropStyle();if(g)return zt.createElement("div",{style:v,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!i&&!o&&zt.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},zt.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),zt.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),zt.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),zt.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),zt.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:C=>this.onHandlerKeyDown(C,"nw"),role:"button"}),zt.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:C=>this.onHandlerKeyDown(C,"n"),role:"button"}),zt.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:C=>this.onHandlerKeyDown(C,"ne"),role:"button"}),zt.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:C=>this.onHandlerKeyDown(C,"e"),role:"button"}),zt.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:C=>this.onHandlerKeyDown(C,"se"),role:"button"}),zt.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:C=>this.onHandlerKeyDown(C,"s"),role:"button"}),zt.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:C=>this.onHandlerKeyDown(C,"sw"),role:"button"}),zt.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:C=>this.onHandlerKeyDown(C,"w"),role:"button"})),c&&zt.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:C=>C.stopPropagation()},c(this.state)),f&&zt.createElement(zt.Fragment,null,zt.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),zt.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const i={...Sb,...this.props.crop||{}};return xc(i,t.width,t.height)}render(){const{aspect:t,children:i,circularCrop:o,className:c,crop:f,disabled:g,locked:v,style:C,ruleOfThirds:T}=this.props,{cropIsActive:E,newCropIsBeingDrawn:A}=this.state,P=f?this.renderCropSelection():null,O=UPe("ReactCrop",c,E&&"ReactCrop--active",g&&"ReactCrop--disabled",v&&"ReactCrop--locked",A&&"ReactCrop--new-crop",f&&t&&"ReactCrop--fixed-aspect",f&&o&&"ReactCrop--circular-crop",f&&T&&"ReactCrop--rule-of-thirds",!this.dragStarted&&f&&!f.width&&!f.height&&"ReactCrop--invisible-crop",o&&"ReactCrop--no-animate");return zt.createElement("div",{ref:this.componentRef,className:O,style:C},zt.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},i),f?zt.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},zt.createElement("defs",null,zt.createElement("mask",{id:`hole-${this.instanceId}`},zt.createElement("rect",{width:"100%",height:"100%",fill:"white"}),o?zt.createElement("ellipse",{cx:`${f.x+f.width/2}${f.unit}`,cy:`${f.y+f.height/2}${f.unit}`,rx:`${f.width/2}${f.unit}`,ry:`${f.height/2}${f.unit}`,fill:"black"}):zt.createElement("rect",{x:`${f.x}${f.unit}`,y:`${f.y}${f.unit}`,width:`${f.width}${f.unit}`,height:`${f.height}${f.unit}`,fill:"black"}))),zt.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,P)}};kc.xOrds=["e","w"],kc.yOrds=["n","s"],kc.xyOrds=["nw","ne","se","sw"],kc.nudgeStep=1,kc.nudgeStepMedium=10,kc.nudgeStepLarge=100,kc.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};let GPe=kc;const zPe=({onHandleImage:e})=>{const t=ve.useRef(null),[i,o]=ve.useState(null),[c,f]=ve.useState(),[g,v]=ve.useState(null),C=ve.useCallback(()=>{var O;const P=(O=t.current)==null?void 0:O.getScreenshot();P&&o(P)},[t]),T=async P=>{if(i&&P.width&&P.height){const O=await E(i,P);v(O)}},E=(P,O)=>{const w=new Image;w.src=P;const N=document.createElement("canvas"),M=N.getContext("2d");return new Promise(k=>{w.onload=()=>{if(!M)return;const R=w.naturalWidth/w.width,L=w.naturalHeight/w.height;N.width=O.width,N.height=O.height,M.drawImage(w,O.x*R,O.y*L,O.width*R,O.height*L,0,0,O.width,O.height),N.toBlob(K=>{if(K){const de=URL.createObjectURL(K);k(de)}},"image/jpeg")}})},A=()=>{g&&fetch(g).then(P=>P.blob()).then(P=>{const O=new File([P],"cropped_image.jpg",{type:"image/jpeg"});e(O)})};return Ie.jsx("div",{children:i?Ie.jsxs("div",{children:[Ie.jsx(GPe,{crop:c,onChange:P=>f(P),onComplete:T,children:Ie.jsx("img",{src:i})}),Ie.jsx("button",{onClick:A,children:"Crop"}),g&&Ie.jsx("img",{alt:"Crop",src:g})]}):Ie.jsxs("div",{children:[Ie.jsx(U7,{audio:!1,ref:t,screenshotFormat:"image/jpeg",width:"100%"}),Ie.jsx("button",{onClick:C,children:"Capture"})]})})},HPe=function({onSuccess:e,onFailure:t}){const[i,o]=ve.useState(!1),[c,f]=ve.useState(void 0),[g,v]=ve.useState(void 0);return ve.useEffect(()=>{zP.get("https://cors-anywhere.herokuapp.com/www.google.com").then(C=>(o(!0),C)).catch(()=>o(!1))},[void 0]),ve.useEffect(()=>{const C=new URLSearchParams(window.location.search).get("code");C&&i&&(f(C),zP.post("https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token ",{code:C,client_id:zxe,client_secret:Hxe},{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}}).then(T=>{v(T.data),e(T.data)}).catch(T=>t(T)))},[e,t,i]),Ie.jsxs(rs,{justifyContent:"space-around",children:[i?Ie.jsx(Lf,{children:"CorsOk"}):Ie.jsx(t7,{href:"https://cors-anywhere.herokuapp.com/corsdemo",children:"CorsAnywere"}),c?Ie.jsx(Lf,{children:"Code Git Ok"}):Ie.jsxs(Lf,{children:["CodeGit Ko",Ie.jsx(lAe,{})]}),g?Ie.jsx(Lf,{children:"Token Git Ok"}):Ie.jsx(Lf,{children:"Token Ko"})]})};function $Pe({onHandleImage:e}){const[t,i]=ve.useState();return Ie.jsxs(rs,{flexDirection:"column",style:{minHeight:"300px"},children:[Ie.jsxs(rs,{children:[t==="photo"&&Ie.jsx($xe,{onHandleImage:e}),t==="photo2"&&Ie.jsx(ePe,{onHandleImage:e}),t==="photo3"&&Ie.jsx(fPe,{onHandleImage:e}),t==="photo4"&&Ie.jsx(BPe,{onHandleImage:e}),t==="photo5"&&Ie.jsx(zPe,{onHandleImage:e}),t==="file"&&Ie.jsx(Kxe,{onHandleImage:e}),t==="url"&&Ie.jsx(Yxe,{onHandleImage:e})]}),Ie.jsxs(rs,{justifyContent:"space-around",children:[Ie.jsx(jo,{variant:"solid",size:"md",onClick:()=>i("photo"),children:"Photo"}),Ie.jsx(jo,{variant:"solid",size:"md",onClick:()=>i("photo2"),children:"Photo Pro"}),Ie.jsx(jo,{variant:"solid",size:"md",onClick:()=>i("photo3"),children:"dwt"}),Ie.jsx(jo,{variant:"solid",size:"md",onClick:()=>i("photo4"),children:"crop"}),Ie.jsx(jo,{variant:"solid",size:"md",onClick:()=>i("photo5"),children:"crop"}),Ie.jsx(jo,{variant:"solid",size:"md",onClick:()=>i("file"),children:"File"}),Ie.jsx(jo,{variant:"solid",size:"md",onClick:()=>i("url"),children:"Url"})]})]})}function KPe({image:e,handleSvg:t}){const i=ve.useRef(null),[o,c]=ve.useState("");ve.useEffect(()=>{nj(e,150,200).then(g=>{const v=i==null?void 0:i.current;if(v){v.width=512,v.height=256;const C=v.getContext("2d");C&&C.putImageData(g,0,0)}})},[e]);function f(){console.log("handleProcess"),nj(e,150,200).then(g=>{console.log("fileToImageData");const v=i.current;if(v){const C=v.getContext("2d");if(C){C.putImageData(g,0,0);const E=new cAe(hb.Presets.posterized1).traceImage(g);console.log("svgstr",E),c(E),t(E)}}})}return Ie.jsxs(rs,{flexDirection:"column",children:[Ie.jsxs(rs,{children:[Ie.jsx("canvas",{ref:i,style:{width:"50%"},width:"50%",height:"auto"}),o&&Ie.jsx("div",{dangerouslySetInnerHTML:{__html:o},style:{width:"50%"}})]}),Ie.jsxs(rs,{children:[Ie.jsx(jo,{variant:"solid",size:"md",onClick:()=>f(),children:"Process"}),Ie.jsx(jo,{variant:"solid",size:"md",children:"Parametrage"})]}),Ie.jsx(rs,{})]})}function YPe({fileContent:e,token:t}){const[i,o]=ve.useState(null),[c,f]=ve.useState("sarahBuisson"),[g,v]=ve.useState("content-generator2"),[C,T]=ve.useState("src/assets"),[E,A]=ve.useState("svg.svg"),[P,O]=ve.useState(""),w=M=>{M.target.files&&o(M.target.files[0])};async function N(){if(console.log("file",i),!i)return;const M=`https://api.github.com/repos/${c}/${g}/contents/${C}/${E}.svg`;console.log(M);let k=await i.text();console.log(k);try{k=btoa(k),O("Save as "+M)}catch(L){console.error(L),O("error"+L)}const R=await zP.put("https://cors-anywhere.herokuapp.com/"+M,{message:`Add ${i.name}`,content:e},{headers:{Authorization:`token ${t}`}});console.log(R.data)}return Ie.jsx(rs,{children:Ie.jsxs("ul",{children:[Ie.jsx("li",{children:Ie.jsx("input",{type:"hidden",onChange:w})}),Ie.jsxs("li",{children:["user:",Ie.jsx("input",{value:c,onChange:M=>f(M.target.value)})]}),Ie.jsxs("li",{children:["repo:",Ie.jsx("input",{value:g,onChange:M=>v(M.target.value)})]}),Ie.jsxs("li",{children:["path:",Ie.jsx("input",{value:C,onChange:M=>T(M.target.value)})]}),Ie.jsxs("li",{children:["name:",Ie.jsx("input",{value:E,onChange:M=>A(M.target.value)})]}),Ie.jsx(jo,{variant:"solid",size:"md",onClick:N,children:"Save"}),P]})})}function XPe(){const[e,t]=ve.useState(),[i,o]=ve.useState(),[c,f]=ve.useState(),g=v=>{f(v.access_token)};return Ie.jsxs(uEe,{resetCSS:!0,children:[Ie.jsx(HPe,{onFailure:console.error,onSuccess:g}),Ie.jsx($Pe,{onHandleImage:t}),e&&Ie.jsx(KPe,{image:e,handleSvg:o}),Ie.jsx(YPe,{fileContent:i,token:c})]})}dA.createRoot(document.getElementById("root")).render(Ie.jsx(zt.StrictMode,{children:Ie.jsx(XPe,{})}))});export default QPe();
